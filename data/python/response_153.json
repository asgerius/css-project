[{"tags": ["python", "string", "pandas", "contain"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1513210019, "post_id": 47803928, "comment_id": 82569470, "body": "put description as text, not image, or even create minimal working example so everyone could run it and make changes."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513210156, "post_id": 47803928, "comment_id": 82569520, "body": "can&#39;t you use <code>df[&#39;Description&#39;].apply(callback)</code> and put all code in <code>callback</code> function ?"}, {"owner": {"reputation": 432, "user_id": 7727159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27aa38e69c4bdf649f156664ecf99a?s=128&d=identicon&r=PG&f=1", "display_name": "M-M", "link": "https://stackoverflow.com/users/7727159/m-m"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513276963, "post_id": 47803928, "comment_id": 82602406, "body": "I edited, thnx @furas"}], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 7727159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27aa38e69c4bdf649f156664ecf99a?s=128&d=identicon&r=PG&f=1", "display_name": "M-M", "link": "https://stackoverflow.com/users/7727159/m-m"}, "edited": false, "score": 0, "creation_date": 1513302535, "post_id": 47820335, "comment_id": 82611944, "body": "This works perfectly for me, I appreciate your help @furas.       <code>df[&#39;Quartier_2&#39;] = np.where(df[&#39;Description&#39;].str.contains(&#39;Victor Hugo|victor hugo|\\ Centre-ville|centre ville|hyper-centre-ville|gare|grenette|\\ saint Andr&#233;&#39;, case=False, na=True), &#39;Centre-ville&#39;,     np.where(df[&#39;Description&#39;].str.contains(&#39;ile verte|&#206;le-verte|ile-verte|la tronche|trois tours|&#238;le verte&#39;, case=False, na=True), &#39;&#206;le-Verte&#39;, &#39;&#39;))      print(df)</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 432, "user_id": 7727159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27aa38e69c4bdf649f156664ecf99a?s=128&d=identicon&r=PG&f=1", "display_name": "M-M", "link": "https://stackoverflow.com/users/7727159/m-m"}, "edited": false, "score": 0, "creation_date": 1513303303, "post_id": 47820335, "comment_id": 82612091, "body": "for two <code>np.where</code> it is OK, but for more <code>np.where</code> it will be messy :)"}, {"owner": {"reputation": 432, "user_id": 7727159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27aa38e69c4bdf649f156664ecf99a?s=128&d=identicon&r=PG&f=1", "display_name": "M-M", "link": "https://stackoverflow.com/users/7727159/m-m"}, "edited": false, "score": 1, "creation_date": 1513303409, "post_id": 47820335, "comment_id": 82612107, "body": "I already tried it for three <code>np.where</code> and it works well ;)"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 0, "last_activity_date": 1513279062, "last_edit_date": 1513279062, "creation_date": 1513277862, "answer_id": 47820335, "question_id": 47803928, "link": "https://stackoverflow.com/questions/47803928/how-to-call-multiple-str-contains-on-same-column-to-take-out-data-in-pandas/47820335#47820335", "title": "How to call multiple str.contains on same column to take out data in pandas", "body": "<p>I use <code>df['Description'].apply(callback)</code> to execute function on every row and return new value which will create new column.</p>\n\n<pre><code>import pandas as pd\nimport re\n\nappart = {\n    'Description': [\n        'A LOUER F2 GRENOBLE Quartier \u00cele Verte Rue Eug\u00e8ne Delacroix, place Dr Girard, proche tramway B et ligne de bus, 50,60 m\u00b2 4 \u00e8me \u00e9tage avec ascenseur.',\n        'Actuellement libre.Transport : Ligne de bus C6 desservant le centre ville toutes les 10 mintram A arr\u00eat Mc2Le stationnement.',\n        ' Id\u00e9alement situ\u00e9e: -\u00e0 deux pas du Tram (Arr\u00eat Gustave RIvet)-\u00e0 10 minutes du Centre Ville -supermarch\u00e9 \u00e0 2'\n    ],\n    'Loyer': [350, 267, 150],\n    'Type': ['Appartement', 'Maison', 'Parking'],\n    'Surface': [25, 18, 15]\n}\n\ndf = pd.DataFrame(appart)\nprint(df)\n\n# ----\n\ndef callback(text):\n    if re.search('Victor Hugo|victor hugo|Centre-ville|centre ville|hyper-centre-ville|gare|grenette|saint Andr\u00e9', text, re.IGNORECASE):\n        return 'Centre-ville'\n\n    if re.search('ile verte|\u00cele-verte|ile-verte|la tronche|trois tours|\u00eele verte', text, re.IGNORECASE):\n        return '\u00cele-Verte'\n\n    return ''\n\ndf['Quartier'] = df['Description'].apply(callback)\nprint(df)\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> I think you could nested first <code>np.where()</code> in second <code>np.where()</code> as third argument.</p>\n\n<pre><code> np.where( ..., ..., np.where())\n</code></pre>\n\n<p>but I know if it gives correct result.</p>\n\n<pre><code>df['Quartier_2'] = np.where(df['Description'].str.contains('Victor Hugo|victor hugo|\\\nCentre-ville|centre ville|hyper-centre-ville|gare|grenette|\\\nsaint Andr\u00e9', case=False, na=True), 'Centre-ville',\n    np.where(df['Description'].str.contains('ile verte|\u00cele-verte|ile-verte|la tronche|trois tours|\u00eele verte', case=False, na=True), '\u00cele-Verte', ''))\n\nprint(df)  \n</code></pre>\n\n<hr>\n\n<p>I use <code>apply()</code> with one column but you can use it with many columns or with full dataframe and then you have to use <code>axis=1</code> to gets rows instead of columns. And inside function you can get values from different columns.</p>\n\n<pre><code>def callback(row):\n\n    text = row['Description']\n\n    if re.search('Victor Hugo|victor hugo|Centre-ville|centre ville|hyper-centre-ville|gare|grenette|saint Andr\u00e9', text, re.IGNORECASE):\n        return 'Centre-ville'\n\n    if re.search('ile verte|\u00cele-verte|ile-verte|la tronche|trois tours|\u00eele verte', text, re.IGNORECASE):\n        return '\u00cele-Verte'\n\n    return ''\n\ndf['Quartier'] = df.apply(callback, axis=1)\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 7727159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d27aa38e69c4bdf649f156664ecf99a?s=128&d=identicon&r=PG&f=1", "display_name": "M-M", "link": "https://stackoverflow.com/users/7727159/m-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 605, "favorite_count": 0, "accepted_answer_id": 47820335, "answer_count": 1, "score": -2, "last_activity_date": 1513288835, "creation_date": 1513209583, "last_edit_date": 1513288835, "question_id": 47803928, "link": "https://stackoverflow.com/questions/47803928/how-to-call-multiple-str-contains-on-same-column-to-take-out-data-in-pandas", "title": "How to call multiple str.contains on same column to take out data in pandas", "body": "<p>I created a working example like this:</p>\n\n<pre><code>appart = OrderedDict([ ('Description', ['A LOUER F2 GRENOBLE Quartier \u00cele Verte Rue Eug\u00e8ne Delacroix, place Dr Girard, proche tramway B et ligne de bus, 50,60 m\u00b2 4 \u00e8me \u00e9tage avec ascenseur.', 'Actuellement libre.Transport : Ligne de bus C6 desservant le centre ville toutes les 10 mintram A arr\u00eat Mc2Le stationnement.', ' Id\u00e9alement situ\u00e9e: -\u00e0 deux pas du Tram (Arr\u00eat Gustave RIvet)-\u00e0 10 minutes du Centre Ville -supermarch\u00e9 \u00e0 2']),\n      ('Loyer', [350, 267, 150]),\n      ('Type',  ['Appartement', 'Maison', 'Parking']),\n      ('Surface', [25, 18, 15]) ] )\ndf1 = pd.DataFrame.from_dict(appart)\ndf1\n</code></pre>\n\n<p>And this is my output :</p>\n\n<pre><code>    Description                                         Loyer   Type            Surface\n\n0   A LOUER F2 GRENOBLE Quartier \u00cele Verte Rue Eug...   350     Appartement     25\n1   Actuellement libre.Transport : Ligne de bus C6...   267     Maison          18\n2   Id\u00e9alement situ\u00e9e: -\u00e0 deux pas du Tram (Arr\u00eat...    150     Parking         15\n</code></pre>\n\n<p>So for this DataFrame, I want to take out the area from each description and add it in a new column called <code>Quartier</code>. For example if the 1st description contains <code>('victor hugo|centre ville|hyper-centre-ville')</code> then add <code>'Centre Ville'</code> in <code>Quartier</code> column, if 2nd description contains <code>(''ile verte|\u00cele-verte|ile-verte|la tronche')</code> then add <code>'\u00cele-Verte'</code> in the <code>Quartier</code> column and so on for each area. </p>\n"}, {"tags": ["python", "pandas", "numpy", "dataframe", "slice"], "answers": [{"comments": [{"owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 1, "creation_date": 1513209632, "post_id": 47803916, "comment_id": 82569355, "body": "To make it clear <code>df1[df1.nunique(axis=1)==1]</code>.  Axis 1 meaning &quot;across the columns&quot;.  So the code says, get all the rows whose number of unique values is 1 across the columns."}, {"owner": {"reputation": 463, "user_id": 7823253, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba8d16ef51c5d4b49ac789583d6b4980?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Russell", "link": "https://stackoverflow.com/users/7823253/tyler-russell"}, "edited": false, "score": 1, "creation_date": 1513266513, "post_id": 47803916, "comment_id": 82596163, "body": "Appreciate the explanation and solution.  I was not thinking enough outside the box."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1513209429, "creation_date": 1513209429, "answer_id": 47803916, "question_id": 47803876, "link": "https://stackoverflow.com/questions/47803876/pandas-slicing-values-where-all-values-in-columns-are-equal/47803916#47803916", "title": "Pandas Slicing Values Where All Values in Columns are Equal", "body": "<p>By using <code>nunique</code></p>\n\n<pre><code>df1[df1.nunique(1)==1]\nOut[171]: \n  Col1 Col2 Col3\n0    1    1    1\n3  foo  foo  foo\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 7823253, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba8d16ef51c5d4b49ac789583d6b4980?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Russell", "link": "https://stackoverflow.com/users/7823253/tyler-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "accepted_answer_id": 47803916, "answer_count": 1, "score": 1, "last_activity_date": 1513221055, "creation_date": 1513209177, "last_edit_date": 1513221055, "question_id": 47803876, "link": "https://stackoverflow.com/questions/47803876/pandas-slicing-values-where-all-values-in-columns-are-equal", "title": "Pandas Slicing Values Where All Values in Columns are Equal", "body": "<p>Imagine I had a dataframe with 3 columns like the example below.  I'm looking for a Pandaic/Pythonic way to take a slice of a dataframe where all three columns column have the same value. In this case, I'd like the resultant to be a dataframe with only row 0 and row 3.  Does anyone have a great method other than brute force?</p>\n\n<pre><code>import pandas as pd\ndf1=pd.DataFrame({'Col1' : [1, 2, 3, 'foo'], \n                  'Col2' : [1, 4, 5, 'foo'],\n                  'Col3' : [1, 12, 13, 'foo']})\n</code></pre>\n"}, {"tags": ["python", "string", "formatting", "padding"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6233574, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a39c0dbd4154e110ea3307796aac477?s=128&d=identicon&r=PG&f=1", "display_name": "Mat Moon", "link": "https://stackoverflow.com/users/6233574/mat-moon"}, "edited": false, "score": 0, "creation_date": 1513218478, "post_id": 47803924, "comment_id": 82571523, "body": "Sorry I screwed up, what I also should have said is that I&#39;m writing rows to a csv file row by row not from a list. So what I need is for the first coma in each row to line up despite the first integer being different lengths."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 23, "user_id": 6233574, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a39c0dbd4154e110ea3307796aac477?s=128&d=identicon&r=PG&f=1", "display_name": "Mat Moon", "link": "https://stackoverflow.com/users/6233574/mat-moon"}, "edited": false, "score": 0, "creation_date": 1513227064, "post_id": 47803924, "comment_id": 82573517, "body": "You can use the above technique to &#39;pad&#39; the first element of each of your rows - you just need to find out the maximum length (largest value) upfront. So loop through your data first and find the largest value, then get its character length (<code>len(str(largest_value))</code>) and then use that number for <code>str.rjust()</code> when padding the first element. Don&#39;t worry about comas and such - use the built-in <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code></a> module to do your bidding when it comes to generating the actual CSV structure."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 2, "last_activity_date": 1513209489, "creation_date": 1513209489, "answer_id": 47803924, "question_id": 47803871, "link": "https://stackoverflow.com/questions/47803871/python-padding-strings-of-different-length/47803924#47803924", "title": "Python padding strings of different length", "body": "<p>The most straight-forward way is to use the <a href=\"https://docs.python.org/2/library/string.html#string.rjust\" rel=\"nofollow noreferrer\"><code>str.rjust()</code></a> function. For example:</p>\n\n<pre><code>your_list = [1148, 39, 365, 6, 56524]\n\nfor element in your_list:\n    print(str(element).rjust(5))\n</code></pre>\n\n<p>And you get:</p>\n\n<pre> 1148\n   39\n  365\n    6\n56524</pre>\n\n<p>There are also <a href=\"https://docs.python.org/2/library/string.html#string.center\" rel=\"nofollow noreferrer\"><code>str.center()</code></a> and <a href=\"https://docs.python.org/2/library/string.html#string.ljust\" rel=\"nofollow noreferrer\"><code>str.ljust()</code></a> for string justification in other directions.</p>\n\n<p>But you can also do it via formatting:</p>\n\n<pre><code>your_list = [1148, 39, 365, 6, 56524]\n\nfor element in your_list:\n    print(\"{:&gt;5}\".format(element))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 6457353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZACK1.jpg?s=128&g=1", "display_name": "kradical", "link": "https://stackoverflow.com/users/6457353/kradical"}, "is_accepted": false, "score": 0, "last_activity_date": 1513209562, "creation_date": 1513209562, "answer_id": 47803926, "question_id": 47803871, "link": "https://stackoverflow.com/questions/47803871/python-padding-strings-of-different-length/47803926#47803926", "title": "Python padding strings of different length", "body": "<p>Assuming you know what n is you can do:\n<code>'{:&gt;n}'.format(number)</code></p>\n\n<p>So if you have a list of integers and wanted to format it as above you could do:</p>\n\n<pre><code>numbers = [1148, 39, 365, 6, 56524]\nresult = '\\n'.join(('{:&gt;5},'.format(x) for x in numbers))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "is_accepted": false, "score": 1, "last_activity_date": 1513209595, "creation_date": 1513209595, "answer_id": 47803929, "question_id": 47803871, "link": "https://stackoverflow.com/questions/47803871/python-padding-strings-of-different-length/47803929#47803929", "title": "Python padding strings of different length", "body": "<p>See <a href=\"https://docs.python.org/3.4/library/string.html#formatspec\" rel=\"nofollow noreferrer\">Format Specification Mini-Language</a>.</p>\n\n<p>You are looking for something like <code>\"{:5d},\".format(i)</code> where <code>i</code> is the integer to be printed with a width of 5.</p>\n\n<p>For a variable <code>width</code>: <code>\"{:{}d},\".format(i, width)</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 6233574, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a39c0dbd4154e110ea3307796aac477?s=128&d=identicon&r=PG&f=1", "display_name": "Mat Moon", "link": "https://stackoverflow.com/users/6233574/mat-moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 47803924, "answer_count": 3, "score": 0, "last_activity_date": 1513209595, "creation_date": 1513209150, "last_edit_date": 1513209217, "question_id": 47803871, "link": "https://stackoverflow.com/questions/47803871/python-padding-strings-of-different-length", "title": "Python padding strings of different length", "body": "<p>So I have a problem I know can be solved with string formatting but I really don't know where to start.\nWhat I want to do is create a list that is padded so that there is n number of characters before a comma as in the list below.</p>\n\n<pre> 1148,\n   39,\n  365,\n    6,\n56524,</pre>\n\n<p>Cheers and thanks for your help :) </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "edited": false, "score": 0, "creation_date": 1513209651, "post_id": 47803867, "comment_id": 82569365, "body": "Which errore are you getting?"}, {"owner": {"reputation": 1285, "user_id": 8955448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDG4Z.jpg?s=128&g=1", "display_name": "Galen", "link": "https://stackoverflow.com/users/8955448/galen"}, "edited": false, "score": 1, "creation_date": 1513209756, "post_id": 47803867, "comment_id": 82569387, "body": "I don&#39;t see a call to <code>M_o_A</code>. Your conditionals are in the function <code>M_o_A</code>."}, {"owner": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "edited": false, "score": 0, "creation_date": 1513214008, "post_id": 47803867, "comment_id": 82570461, "body": "I dont get an error, the thing is the inputs dont make the question when I run the code"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "edited": false, "score": 0, "creation_date": 1513214083, "post_id": 47803899, "comment_id": 82570478, "body": "What do you mean by defining? Im new in python and I dont understand much the def thing."}, {"owner": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "edited": false, "score": 0, "creation_date": 1513214115, "post_id": 47803899, "comment_id": 82570488, "body": "And what are the outputs? What I posted was all the code I had."}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "reply_to_user": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "edited": false, "score": 0, "creation_date": 1513243454, "post_id": 47803899, "comment_id": 82580735, "body": "You need to define a function before be able to call it. You&#39;re defining it, and that&#39;s ok, it&#39;s what the function does, but you&#39;re never calling it, so it&#39;s useless."}, {"owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "reply_to_user": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "edited": false, "score": 0, "creation_date": 1513243493, "post_id": 47803899, "comment_id": 82580758, "body": "The output, I mean what happens when you run the program from a terminal, to understand what&#39;s going on"}], "tags": [], "owner": {"reputation": 27144, "user_id": 3857758, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58c4295826435f049b7fc32b98c240f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ursus", "link": "https://stackoverflow.com/users/3857758/ursus"}, "is_accepted": false, "score": 2, "last_activity_date": 1513209879, "last_edit_date": 1513209879, "creation_date": 1513209319, "answer_id": 47803899, "question_id": 47803867, "link": "https://stackoverflow.com/questions/47803867/why-doesnt-my-input-work-inside-an-if-condition/47803899#47803899", "title": "Why doesn&#39;t my input work inside an if condition", "body": "<p>You're defining but not calling the M_o_A function. At the end of your script</p>\n\n<pre><code>M_o_A(V)\n</code></pre>\n\n<p>Anyway, I fear there are other errors. Please, show us the output</p>\n"}], "owner": {"reputation": 11, "user_id": 9096351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8160bbe1e7c79bb35da3b20354621087?s=128&d=identicon&r=PG&f=1", "display_name": "Creador9", "link": "https://stackoverflow.com/users/9096351/creador9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513210056, "creation_date": 1513209104, "last_edit_date": 1513210056, "question_id": 47803867, "link": "https://stackoverflow.com/questions/47803867/why-doesnt-my-input-work-inside-an-if-condition", "title": "Why doesn&#39;t my input work inside an if condition", "body": "<p>I don't know why my inputs inside the if condition don't work when I run the code. Any help would be appreciated: </p>\n\n<pre><code>V = input(\"Ingresar A, si quieres calcular el ahorro anual, o M, si quieres \ncalcular el ahorro mensual\")\ndef M_o_A(V):\n  if V == \"A\":\n   P = input(\"Ingrese el porcentaje que quiere calcular: \")\n   S = input(\"Ingrese su sueldo mensual: \")\n   T = (P * S / 100) * 12\n   print \"Si usted ahorra el \",P,\"% de su sueldo por un a\u00f1o, tendras \n\",T,\"pesos.\"\n\n  elif V == \"M\":\n     PM = input(\"Ingrese el porcentaje que quiere calcular: \")\n     SM = input(\"Ingrese su sueldo mensual: \")\n     TM = PM * SM / 100\n     print \"Si usted ahorra el \",PM,\"% de su sueldo, tendras \",TM,\"pesos.\"\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 1, "creation_date": 1513209229, "post_id": 47803865, "comment_id": 82569220, "body": "<code>&#39; &#39;.join(s)</code>-?"}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513209244, "post_id": 47803865, "comment_id": 82569228, "body": "Do you actually want the trailing space?"}, {"owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "edited": false, "score": 0, "creation_date": 1513209330, "post_id": 47803865, "comment_id": 82569260, "body": "No, I don&#39;t mind abou the trailing space. Either way is fine. (Was my sentence confusing? If so, please edit it to be more clear)"}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 1, "creation_date": 1513209646, "post_id": 47803865, "comment_id": 82569361, "body": "No, but your example very clearly includes a trailing space. Most times it&#39;s unwanted, so <code>&#39; &#39;.join(s)</code> fits the bill if you don&#39;t want a trailing space."}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513214883, "post_id": 47803865, "comment_id": 82570679, "body": "Simply searching Google for your <i>exact title</i> led me directly to the question I&#39;ve marked as duplicate. Please do try and do <i>some</i> research before posting questions."}, {"owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "reply_to_user": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513261930, "post_id": 47803865, "comment_id": 82592951, "body": "@JonathonReinhart I did. The post you mentioned was about efficiency. My question is about writing in in the most compact way regardless of efficiency. Even though one of the answers is the same, the intend is clearly different, that&#39;s why I asked (And that&#39;s why it isnt exactly a duplicate)"}], "answers": [{"comments": [{"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513209221, "post_id": 47803878, "comment_id": 82569216, "body": "This doesn&#39;t meet the OP&#39;s requirement of a trailing space."}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "reply_to_user": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 2, "creation_date": 1513209311, "post_id": 47803878, "comment_id": 82569256, "body": "I am not sure if it is actually needed. I guess we can add a whitespace after it manually with <code>+ &#39; &#39;</code>"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1513209396, "post_id": 47803878, "comment_id": 82569286, "body": "cast to <code>list</code> is not needed"}, {"owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "edited": false, "score": 0, "creation_date": 1513209406, "post_id": 47803878, "comment_id": 82569290, "body": "Thanks, that seems elegant"}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "reply_to_user": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1513209471, "post_id": 47803878, "comment_id": 82569317, "body": "@PaulPanzer Agree."}], "tags": [], "owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "is_accepted": true, "score": 3, "last_activity_date": 1513209481, "last_edit_date": 1513209481, "creation_date": 1513209193, "answer_id": 47803878, "question_id": 47803865, "link": "https://stackoverflow.com/questions/47803865/adding-spaces-after-each-character-in-a-string-in-python-the-pythonic-way/47803878#47803878", "title": "Adding spaces after each character in a string in python (the pythonic way)", "body": "<p>You can try the following code</p>\n\n<pre><code>' '.join(s)\nOut[1]: 'H e l l o S t a c k O v e r f l o w'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "edited": false, "score": 0, "creation_date": 1513209467, "post_id": 47803900, "comment_id": 82569316, "body": "Lovely, I&#39;m not sure if it more transparent, but it sure is clever."}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513215747, "post_id": 47803900, "comment_id": 82570848, "body": "My <code>timeit</code> tests show that this is several times slower than <code>&#39; &#39;.join(s)</code> and functionally equivalent (except for the trailing space which the OP indicated he didn&#39;t really want/need), while much more complicated / non-obvious."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513216227, "post_id": 47803900, "comment_id": 82570957, "body": "@JonathonReinhart Should the OP&#39;s replacement requirements change even slightly, the accepted answer would fall short, while a regex based solution would be easily adaptable.  I&#39;m not sure this answer merits a downvote."}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1513250957, "post_id": 47803900, "comment_id": 82585706, "body": "I could write a C extension to ensure the utmost flexibility for any string manipulation operations the OP <i>may</i> require in the future. Certainly that would not be a good solution, right? Write code for your requirements, not perceived future needs when <a href=\"https://en.m.wikipedia.org/wiki/You_aren%27t_gonna_need_it\" rel=\"nofollow noreferrer\">you aren&#39;t gonna need it</a>. More complex, less efficient; I saw this in a code review, I would kick it back immediately."}], "tags": [], "owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1513209507, "last_edit_date": 1513209507, "creation_date": 1513209323, "answer_id": 47803900, "question_id": 47803865, "link": "https://stackoverflow.com/questions/47803865/adding-spaces-after-each-character-in-a-string-in-python-the-pythonic-way/47803900#47803900", "title": "Adding spaces after each character in a string in python (the pythonic way)", "body": "<p>Use <code>re.sub</code> and replace each single character in the string by that captured character followed by a single space.</p>\n\n<pre><code>s = 'HelloStackOverflow'\nprint re.sub(\"(.)\", r'\\1 ', s)\n\nH e l l o S t a c k O v e r f l o w \n</code></pre>\n\n<p><a href=\"http://rextester.com/HXKCU28733\" rel=\"nofollow noreferrer\"><h2>Demo</h2></a></p>\n"}, {"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 1, "last_activity_date": 1513227499, "creation_date": 1513227499, "answer_id": 47806154, "question_id": 47803865, "link": "https://stackoverflow.com/questions/47803865/adding-spaces-after-each-character-in-a-string-in-python-the-pythonic-way/47806154#47806154", "title": "Adding spaces after each character in a string in python (the pythonic way)", "body": "<pre><code>' '.join(s)+' '\n</code></pre>\n\n<p>For the exact behavior you wanted.</p>\n"}], "owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "closed_date": 1513214841, "accepted_answer_id": 47803878, "answer_count": 3, "score": 1, "last_activity_date": 1513262034, "creation_date": 1513209091, "last_edit_date": 1513262034, "question_id": 47803865, "link": "https://stackoverflow.com/questions/47803865/adding-spaces-after-each-character-in-a-string-in-python-the-pythonic-way", "closed_reason": "Duplicate", "title": "Adding spaces after each character in a string in python (the pythonic way)", "body": "<p>Suppose I have a string as:</p>\n\n<pre><code>s = 'HelloStackOverflow'\n</code></pre>\n\n<p>What is the most <em>\"pythonic\"</em> way to convert it to:</p>\n\n<pre><code>'H e l l o S t a c k O v e r f l o w '\n</code></pre>\n\n<p>?  </p>\n\n<p>(space after last character is indifferent)</p>\n\n<p>I could come up with:</p>\n\n<pre><code>s = ''.join(map(lambda ch: ch+' ', s))\n</code></pre>\n\n<p>But I suppose there is a more transparent way to do it</p>\n"}, {"tags": ["python", "csv", "pyspark"], "comments": [{"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 1, "creation_date": 1513209017, "post_id": 47803784, "comment_id": 82569151, "body": "Please look into using code formatting. <code>backticks</code> and 4 spaces indented code with newlines before and after the block helps."}, {"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1513209297, "post_id": 47803784, "comment_id": 82569249, "body": "can you elborate this <code>year 1 creates list where the movie year id one of its element(say (1995)).How can I create a count of all the elements of this list which are the movie year.</code>"}, {"owner": {"reputation": 1, "user_id": 9096312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5fe47cbdff45cc8ebfbab963d3d2b86?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Joshi", "link": "https://stackoverflow.com/users/9096312/deepak-joshi"}, "reply_to_user": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1513209579, "post_id": 47803784, "comment_id": 82569342, "body": "The output looks like this [u&#39;movieId,title,genres&#39;, u&#39;1,Toy&#39;, u&#39;Story&#39;, u&#39;(1995),Adventure/Animation/Children/Comedy/Fantasy&#39;, u&#39;2,Jumanji&#39;, u&#39;(1995),Adventure/Children/Fantasy&#39;, u&#39;3,Grumpier&#39;, u&#39;Old&#39;, u&#39;Men&#39;, u&#39;(1995),Comedy/Romance&#39;, u&#39;4,Waiting&#39;, u&#39;to&#39;, u&#39;Exhale&#39;, u&#39;(1995),Comedy/Drama/Romance&#39;, .....].The map function creates a list out of the original RDD and year is one of its element.How can can I work from here to retrieve elements with movie year."}, {"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1513209670, "post_id": 47803784, "comment_id": 82569366, "body": "please add the output to question with proper formatting."}, {"owner": {"reputation": 1, "user_id": 9096312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5fe47cbdff45cc8ebfbab963d3d2b86?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Joshi", "link": "https://stackoverflow.com/users/9096312/deepak-joshi"}, "reply_to_user": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1513210779, "post_id": 47803784, "comment_id": 82569684, "body": "I have posted the list in my question itself.Is it clear now?"}, {"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 0, "creation_date": 1513892025, "post_id": 47803784, "comment_id": 82835137, "body": "I observe you have a movie year in the elements starting with <code>(</code>. You possibly could filter all such elements and count the number of elements.  <code>len(filter(lambda x : x[0] == &quot;(&quot;, list_in_question))</code> should give you the desired count. Is that what you are looking for ?"}], "owner": {"reputation": 1, "user_id": 9096312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5fe47cbdff45cc8ebfbab963d3d2b86?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Joshi", "link": "https://stackoverflow.com/users/9096312/deepak-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513893521, "creation_date": 1513208584, "last_edit_date": 1513893521, "question_id": 47803784, "link": "https://stackoverflow.com/questions/47803784/rdd-pyspark-splitting-movie-year", "title": "RDD pyspark splitting movie year", "body": "<p>I have a csv file with three columns <code>movie ID</code>,<code>Movie name</code> and <code>Genres</code>.The movie name column also contains the year of the movie release and is placed inside parenthesis<code>()</code>.</p>\n\n<p>I want to read the csv as an RDD line by line and parse the year from the second.</p>\n\n<p>In a nutshell I want to collect the data about the number of movies released in any particular year.The output as collected post spitting operation looks as follows.I want the count of all the (year) in the following list </p>\n\n<p>Sample row of csv file is represented as follows:</p>\n\n<p>movie ID     movie name                   genres\n    1        Toy Story (1995)    Adventure|Animation|Children|Comedy|Fantasy</p>\n\n<p>As of now I have mapped the read csv file to split function as:</p>\n\n<pre><code>moviez=sc.textFile(\"/FileStore/tables/movies.csv\")\nyear1=moviez.flatMap(lambda x: x.split(' ')).collect()\n</code></pre>\n\n<p><code>year1</code> creates list where the movie year id one of its element(say (1995)).\nHow can I create a count of all such elements of this list( movie year )?</p>\n\n<pre><code>[u'movieId,title,genres',\n u'1,Toy', u'Story', u'(1995),Adventure/Animation/Children/Comedy/Fantasy', \n u'2,Jumanji', u'(1995),Adventure/Children/Fantasy', \n u'3,Grumpier', u'Old', u'Men', u'(1995),Comedy/Romance', \n u'4,Waiting', u'to', u'Exhale', u'(1995),Comedy/Drama/Romance', \n u'5,Father', u'of', u'the', u'Bride', u'Part', u'II', u'(1995),Comedy'\n]\n</code></pre>\n\n<p>Any guidance and help in this matter is really appreciated.I am working on <code>pyspark</code> platform for this job.</p>\n"}, {"tags": ["python", "batch-file", "gis"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513208633, "post_id": 47803781, "comment_id": 82569033, "body": "Don&#39;t use <code>start</code> if you want to <i>batch</i> them."}, {"owner": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1513243718, "post_id": 47803781, "comment_id": 82580899, "body": "Related: <a href=\"https://stackoverflow.com/q/33584587\">How to wait all batch files to finish before exiting?</a>"}, {"owner": {"reputation": 11858, "user_id": 1417694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adedbee0609fe9349993fedfd446acdc?s=128&d=identicon&r=PG", "display_name": "Squashman", "link": "https://stackoverflow.com/users/1417694/squashman"}, "reply_to_user": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1513267296, "post_id": 47803781, "comment_id": 82596686, "body": "@aschipfl, that is the link I put in my answer."}], "answers": [{"tags": [], "owner": {"reputation": 11858, "user_id": 1417694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adedbee0609fe9349993fedfd446acdc?s=128&d=identicon&r=PG", "display_name": "Squashman", "link": "https://stackoverflow.com/users/1417694/squashman"}, "is_accepted": true, "score": 0, "last_activity_date": 1513209608, "creation_date": 1513209608, "answer_id": 47803930, "question_id": 47803781, "link": "https://stackoverflow.com/questions/47803781/batch-delay-excuting-python-in-sequence/47803930#47803930", "title": "Batch delay Excuting python in sequence", "body": "<p>Yes, you can run the second block and make it wait as described by @Aacini in this <a href=\"https://stackoverflow.com/a/33586872/1417694\">answer</a>.</p>\n\n<pre><code>c:\\pathtopython c:\\pathtopythonscript1\n(\nstart c:\\pathtopython c:\\pathtopythonscript2a\nstart c:\\pathtopython c:\\pathtopythonscript2b\nstart c:\\pathtopython c:\\pathtopythonscript2c\nstart c:\\pathtopython c:\\pathtopythonscript2d\n) | set /P \"=\"\nc:\\pathtopython c:\\pathtopythonscript3\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 8599663, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3b64f6eca0ad46d5ecc6c662589b53b2?s=128&d=identicon&r=PG&f=1", "display_name": "NorthLand", "link": "https://stackoverflow.com/users/8599663/northland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 47803930, "answer_count": 1, "score": 1, "last_activity_date": 1513209608, "creation_date": 1513208561, "question_id": 47803781, "link": "https://stackoverflow.com/questions/47803781/batch-delay-excuting-python-in-sequence", "title": "Batch delay Excuting python in sequence", "body": "<p>I use batch files to perform repetitive/tedious GIS tasks outside of a GIS environment. I am looking for ways to improve performance. An easy way is for scripts that are currently run concurrently and don't rely on each other to be run in parallel. My current batch file is as below</p>\n\n<pre><code>c:\\pathtopython c:\\pathtopythonscript1\nstart c:\\pathtopython c:\\pathtopythonscript2a\nstart c:\\pathtopython c:\\pathtopythonscript2b\nstart c:\\pathtopython c:\\pathtopythonscript2c\nstart c:\\pathtopython c:\\pathtopythonscript2d\nc:\\pathtopython c:\\pathtopythonscript3\n</code></pre>\n\n<p>When run, it will run though the first, then start and run the 4 versions of 2 in parrallel but fail to run script 3. I'm wondering if there was a way to delay the running of script 3 until all version of script 2 have finished.</p>\n"}, {"tags": ["python", "rest", "swagger-codegen"], "comments": [{"owner": {"reputation": 53, "user_id": 4473370, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--Xdmt3xyjJs/AAAAAAAAAAI/AAAAAAAAwTw/tRD9f8Nioi8/photo.jpg?sz=128", "display_name": "Jesse McCall", "link": "https://stackoverflow.com/users/4473370/jesse-mccall"}, "edited": false, "score": 0, "creation_date": 1513210195, "post_id": 47803765, "comment_id": 82569535, "body": "I&#39;m not familiar with this API nor am I familiar with Swagger but, from skimming through the contact_report_api.py, my 1st guess is that your activityID might not be correct and it&#39;s returning a NoneType (i.e. it&#39;s not finding the data for that activityID and that call is returning None). So, when the nested method <code>parameters_to_tuples</code> is trying to iterate over the parameters that <code>get_contact_report</code> is supposed to return, there&#39;s nothing to iterate over (because the <code>params</code> variable value is <code>None</code>). All of this is to ask the question...are you sure that&#39;s a valid activityID?"}, {"owner": {"reputation": 11, "user_id": 3693073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZuO1.png?s=128&g=1", "display_name": "Brian W. Spolarich", "link": "https://stackoverflow.com/users/3693073/brian-w-spolarich"}, "reply_to_user": {"reputation": 53, "user_id": 4473370, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--Xdmt3xyjJs/AAAAAAAAAAI/AAAAAAAAwTw/tRD9f8Nioi8/photo.jpg?sz=128", "display_name": "Jesse McCall", "link": "https://stackoverflow.com/users/4473370/jesse-mccall"}, "edited": false, "score": 0, "creation_date": 1513211575, "post_id": 47803765, "comment_id": 82569870, "body": "Yes it is valid. I&#39;m able to submit these same requests through the Swagger web UI after authenticating with my api_key and call the various methods that list things and get them based on their IDs, and nothing I try works.  So I think it is a more fundamental problem than just fetching an ID that doesn&#39;t exist."}, {"owner": {"reputation": 11, "user_id": 3693073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZuO1.png?s=128&g=1", "display_name": "Brian W. Spolarich", "link": "https://stackoverflow.com/users/3693073/brian-w-spolarich"}, "reply_to_user": {"reputation": 53, "user_id": 4473370, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--Xdmt3xyjJs/AAAAAAAAAAI/AAAAAAAAwTw/tRD9f8Nioi8/photo.jpg?sz=128", "display_name": "Jesse McCall", "link": "https://stackoverflow.com/users/4473370/jesse-mccall"}, "edited": false, "score": 0, "creation_date": 1513212102, "post_id": 47803765, "comment_id": 82570003, "body": "Actually I spoke too soon.  I can use the SwaggerUI that the vendor provides, authenticate, and submit requests.  If I use the SwaggerUI within my project on the swaggerhub.com site (where I just imported the vendor&#39;s Swagger JSON file), I can authenticate but requests never get the api_key header (&quot;Failed to authenticate with apiKey : null&quot;).  I&#39;m wondering if there&#39;s a problem in the Swagger definition file that&#39;s translating into bad client code?"}, {"owner": {"reputation": 11, "user_id": 3693073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZuO1.png?s=128&g=1", "display_name": "Brian W. Spolarich", "link": "https://stackoverflow.com/users/3693073/brian-w-spolarich"}, "reply_to_user": {"reputation": 53, "user_id": 4473370, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--Xdmt3xyjJs/AAAAAAAAAAI/AAAAAAAAwTw/tRD9f8Nioi8/photo.jpg?sz=128", "display_name": "Jesse McCall", "link": "https://stackoverflow.com/users/4473370/jesse-mccall"}, "edited": false, "score": 0, "creation_date": 1513271989, "post_id": 47803765, "comment_id": 82599645, "body": "I fixed the problem with the vendor-provided swagger file by adding this global security definition:   <code>security:</code> `  - apikey: []`  and was able to execute API operations through the Swagger UI with the new security scheme, and regenerated the client package.  I still get the same errors as above."}, {"owner": {"reputation": 123, "user_id": 3591230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eE0lI.jpg?s=128&g=1", "display_name": "bombcar", "link": "https://stackoverflow.com/users/3591230/bombcar"}, "edited": false, "score": 0, "creation_date": 1520865628, "post_id": 47803765, "comment_id": 85479120, "body": "I get a very similar error - I wish I could find a <i>working</i> Python example to see what I&#39;m doing wrong - I suspect the JSON is missing some braces or header or something."}, {"owner": {"reputation": 11, "user_id": 3693073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZuO1.png?s=128&g=1", "display_name": "Brian W. Spolarich", "link": "https://stackoverflow.com/users/3693073/brian-w-spolarich"}, "edited": false, "score": 0, "creation_date": 1520880490, "post_id": 47803765, "comment_id": 85488532, "body": "Are you having a problem with the Reeher API specifically?"}, {"owner": {"reputation": 1317, "user_id": 2738164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6r0Ci.png?s=128&g=1", "display_name": "bsplosion", "link": "https://stackoverflow.com/users/2738164/bsplosion"}, "edited": false, "score": 0, "creation_date": 1559758054, "post_id": 47803765, "comment_id": 99523042, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3887381/typeerror-nonetype-object-is-not-iterable-in-python\">TypeError: &#39;NoneType&#39; object is not iterable in Python</a>"}], "owner": {"reputation": 11, "user_id": 3693073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZuO1.png?s=128&g=1", "display_name": "Brian W. Spolarich", "link": "https://stackoverflow.com/users/3693073/brian-w-spolarich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1513285137, "creation_date": 1513208442, "question_id": 47803765, "link": "https://stackoverflow.com/questions/47803765/nonetype-object-is-not-iterable-error-when-testing-swagger-generated-api-cli", "title": "&quot;&#39;NoneType&#39; object is not iterable&quot; Error When Testing Swagger-Generated API Client", "body": "<p>I want to write a client to an API that's described via Swagger.  I'm new to Python but not to programming.</p>\n\n<p>The API definition is here:  <a href=\"https://app.swaggerhub.com/apis/calpolyud/Reeher/1\" rel=\"nofollow noreferrer\">https://app.swaggerhub.com/apis/calpolyud/Reeher/1</a></p>\n\n<p>I used the codegen tools to generate a Python client and have been tinkering with it.  No matter which generated class I attempt to invoke, I always get this error:</p>\n\n<blockquote>\n  <p>TypeError: 'NoneType' object is not iterable</p>\n</blockquote>\n\n<p>Here's my sample code:</p>\n\n<pre>\nfrom __future__ import print_function\nimport time\nimport swagger_client\nfrom swagger_client.rest import ApiException\nfrom pprint import pprint\n# create an instance of the API class\n\nswagger_client.Configuration.apikey = 'somethingsecret'\n\napi_instance = swagger_client.ContactReportApi()\nactivity_id = 'R176954627' # str | activityID of contact report\n\ntry:\n    # Find a contact report by activityID\n    response = api_instance. get_contact_report(activity_id)\nexcept ApiException as e:\n    print(\"Exception when calling ContactReportApi->get_contact_report: %s\\n\" % e)\n</pre>\n\n<p>Here's the stacktrace.</p>\n\n<pre>\n Traceback (most recent call last):\n    File \".\\api_client.py\", line 15, in \n    api_instance.get_contact_report(activity_id)\n  File \"V:\\UD\\Shared\\Data Systems\\Projects\\Reeher API\\swagger_client\\api\\contact_report_api.py\", line 66, in get_contact_report\n    (data) = self.get_contact_report_with_http_info(activity_id, **kwargs)  # noqa: E501\n  File \"V:\\UD\\Shared\\Data Systems\\Projects\\Reeher API\\swagger_client\\api\\contact_report_api.py\", line 140, in get_contact_report_with_http_info\n    collection_formats=collection_formats)\n  File \"V:\\UD\\Shared\\Data Systems\\Projects\\Reeher API\\swagger_client\\api_client.py\", line 333, in call_api\n    _preload_content, _request_timeout)\n  File \"V:\\UD\\Shared\\Data Systems\\Projects\\Reeher API\\swagger_client\\api_client.py\", line 122, in __call_api\n    collection_formats))\n  File \"V:\\UD\\Shared\\Data Systems\\Projects\\Reeher API\\swagger_client\\api_client.py\", line 416, in parameters_to_tuples\n    for k, v in six.iteritems(params) if isinstance(params, dict) else params:  # noqa: E501\nTypeError: 'NoneType' object is not iterable\n</pre>\n\n<p>I can roll my own client and teach myself more Python, but I was expecting to benefit from the Swagger ecosystem.  Am I missing something simple here? </p>\n"}, {"tags": ["python", "pycharm", "pyqt5"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 6338405, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZgQrslq8LIQ/AAAAAAAAAAI/AAAAAAAAACM/WxI5OMFWgA0/photo.jpg?sz=128", "display_name": "jaxad0127", "link": "https://stackoverflow.com/users/6338405/jaxad0127"}, "edited": false, "score": 0, "creation_date": 1523462828, "post_id": 47823358, "comment_id": 86575002, "body": "I&#39;m using 5.10.1 and it is definitely there. The REPL has no problem accessing it. PyCharm does have a problem. I can see the symbol for it in QtCore.so. QtCore.py doesn&#39;t have it."}], "tags": [], "owner": {"reputation": 1519, "user_id": 3821425, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/106d540c73165812799471e8704fc35c?s=128&d=identicon&r=PG&f=1", "display_name": "nanotek", "link": "https://stackoverflow.com/users/3821425/nanotek"}, "is_accepted": false, "score": 0, "last_activity_date": 1513291987, "creation_date": 1513291987, "answer_id": 47823358, "question_id": 47803741, "link": "https://stackoverflow.com/questions/47803741/pycharm-linter-not-resolving-all-pyqt5-import-references-properly/47823358#47823358", "title": "PyCharm linter not resolving all PyQt5 import references properly", "body": "<p>I'm unable to install these packages on my machine in order to check, but this likely isn't an issue with PyCharm.</p>\n\n<p>Try <code>Ctrl+Click</code> on <code>QtCore</code>. I'm guessing this will take you to a file. Is <code>pyqtProperty</code> in that file? I'm guessing not. However, I'm guessing <code>pyqtSignal</code> and <code>pyqtSlot</code> are. </p>\n\n<p>A couple reasons come to mind for why this might be happening</p>\n\n<ol>\n<li><code>pyqtProperty</code> is not supported with version 5.6.0 and you need to install a different version</li>\n<li>The the Python interpreter which you are using does not actually have the version installed which you think</li>\n<li>Is PyQt a python wrapper around a c++ package? I've seen it before where essentially the package was made wrong and the calls still went to c++ correctly, but they did not add in the Python object declarations correctly such that IDEs recognized them and a bug needed to be placed on the package's github.</li>\n</ol>\n"}], "owner": {"reputation": 111, "user_id": 4757190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/760598325d236ac1a662ffb7f38027ec?s=128&d=identicon&r=PG", "display_name": "chaosentity", "link": "https://stackoverflow.com/users/4757190/chaosentity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513291987, "creation_date": 1513208333, "question_id": 47803741, "link": "https://stackoverflow.com/questions/47803741/pycharm-linter-not-resolving-all-pyqt5-import-references-properly", "title": "PyCharm linter not resolving all PyQt5 import references properly", "body": "<p>An extremely minor problem, but an annoying one all the same- as you can see in the picture below, some references are resolved correctly by the linter (like pyqtSignal and pyqtSlot), and some are not (pyqtProperty).</p>\n\n<p><a href=\"https://i.stack.imgur.com/YRFO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YRFO3.png\" alt=\"PyCharm can find pyqtSignal and pyqtSlot, but not pyqtProperty?\"></a></p>\n\n<p>What's even weirder is that code using these 'unresolved' references run just fine, it's just the linter/syntax highlighter that can't seem to find this reference.</p>\n\n<p>Software used:</p>\n\n<ul>\n<li>PyCharm 2017.3 (but this also happened on PyCharm 2017.2.X as well)</li>\n<li>Python 3.6.3</li>\n<li>PyQt 5.6.0, Qt 5.6.2</li>\n<li>Windows 10 Pro x64</li>\n</ul>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 1, "creation_date": 1513208270, "post_id": 47803706, "comment_id": 82568931, "body": "<code>a.recv()</code> should be a blocking function so you shouldn&#39;t need the also-blocking function <code>input()</code>"}, {"owner": {"reputation": 9, "user_id": 8913501, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7dE1pTAYwbk/AAAAAAAAAAI/AAAAAAAAABs/IGg3gloC_nU/photo.jpg?sz=128", "display_name": "Chi", "link": "https://stackoverflow.com/users/8913501/chi"}, "reply_to_user": {"reputation": 1339, "user_id": 3715522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HebJi.jpg?s=128&g=1", "display_name": "MCBama", "link": "https://stackoverflow.com/users/3715522/mcbama"}, "edited": false, "score": 0, "creation_date": 1513209061, "post_id": 47803706, "comment_id": 82569168, "body": "how can i do it without the a.recv()? i need it to recieve the data.I also put the input() cause if i didnt the whole thing bugs and dont display the ip"}, {"owner": {"reputation": 2155, "user_id": 1737350, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/228ebe0b05fe0a8d6c7aff91cb09702b?s=128&d=identicon&r=PG", "display_name": "Amal G Jose", "link": "https://stackoverflow.com/users/1737350/amal-g-jose"}, "edited": false, "score": 0, "creation_date": 1513209339, "post_id": 47803706, "comment_id": 82569264, "body": "Please provide the client code and the admin code. In this way it will be easy to provide the solution"}, {"owner": {"reputation": 9, "user_id": 8913501, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7dE1pTAYwbk/AAAAAAAAAAI/AAAAAAAAABs/IGg3gloC_nU/photo.jpg?sz=128", "display_name": "Chi", "link": "https://stackoverflow.com/users/8913501/chi"}, "edited": false, "score": 0, "creation_date": 1513209390, "post_id": 47803706, "comment_id": 82569282, "body": "ok i am do it now"}], "owner": {"reputation": 9, "user_id": 8913501, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7dE1pTAYwbk/AAAAAAAAAAI/AAAAAAAAABs/IGg3gloC_nU/photo.jpg?sz=128", "display_name": "Chi", "link": "https://stackoverflow.com/users/8913501/chi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513211126, "creation_date": 1513208032, "last_edit_date": 1513211126, "question_id": 47803706, "link": "https://stackoverflow.com/questions/47803706/python-while-loop-admin-server", "title": "Python While Loop Admin-Server", "body": "<p>Well i am doing an exercise which you have A server, an Admin and the clients.Admin should show the IP and the Port of the client.\nI made all of them.But i got a problem at the Admin with the loop.As u see with the code below i made an infinity loop.If 3 clients are online i am gonna recieve only the one of them's IP and Port.Instead of One i need to get all the ip and port that are online on the server.But for some reason this doesnt work.</p>\n\n<pre><code>players = a.recv(80).decode()\nprint(\"Current players playing \" + players)\n\nx = 1\nwhile True:\n   client_list = a.recv(80).decode()\n   print(client_list)\n   x += 1\n   input()\n</code></pre>\n\n<p>But if i make a loop like this</p>\n\n<pre><code>for players in range(0, 3):\n   client_list = a.recv(80).decode()\n   print(client_list)\n   input()\n</code></pre>\n\n<p>then this works but for only 3 times.I dont have idea what i am doing wrong.\nThanks for your time.</p>\n\n<pre><code>CLIENT CODE\n    import socket\n\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.connect(('127.0.0.1', 4000))\n\nhelloMSG = (\"Hello\\r\\n\")\ns.send(helloMSG.encode())\n\ngreetings = s.recv(80).decode()\nprint(greetings)\n\ngameMSG = (\"Game\\r\\n\")\ns.send(gameMSG.encode())\n\nreadyMSG = s.recv(80).decode()\n\nrunning = 1\n\nwhile running:\n\n    guess = input(\"My guess is:\")\n\n    guessstring = \"My Guess is: \" + str(guess) + \"\\r\\n\"\n\n    s.send(guessstring.encode())\n\n    result = s.recv(80).decode()\n\n    print(result)\n\n    if (result == \"Correct\\r\\n\"):\n        running = 0\n\ns.close()\n</code></pre>\n\n<p>AND THE ADMIN CODE `</p>\n\n<pre><code>import socket\n\na = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\na.connect(('127.0.0.1', 4001))\n\nprint(\"connected!\\n\")\n\nmessage = \"Hello\\r\\n\"\na.send(message.encode())\n\nresult = a.recv(80).decode()\nprint(result)\n\nmessage = \"Who\\r\\n\"\na.send(message.encode())\n\n\nplayers = a.recv(80).decode()\nprint(\"Current players playing \" + players)\n\nx = 1\nwhile True:\nclient_list = a.recv(80).decode()\nprint(client_list)\nx += 1\ninput()\n</code></pre>\n"}, {"tags": ["python", "average"], "comments": [{"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1513208313, "post_id": 47803673, "comment_id": 82568945, "body": "I don&#39;t think you&#39;re doing what you intend to do with <code>field1</code>. <code>field1</code> just holds the value of the current <code>fields[1]</code>. Are you looking to create a list from the middle column?"}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1513208331, "post_id": 47803673, "comment_id": 82568952, "body": "field1 = (fields[1]) makes field1 not a list, [-5:] only works on list. field1 = [] before the loop and field1.append(float(fields[1])) inside the loop."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1513208411, "post_id": 47803673, "comment_id": 82568969, "body": "You look like you&#39;re slicing a string; are you trying to average the last five digits of the string? Or the last five values seen in a column? Or something else? The question isn&#39;t clear."}, {"owner": {"reputation": 1442, "user_id": 5601082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f0bbc903f670cd7b22ff24d2996cf5de?s=128&d=identicon&r=PG&f=1", "display_name": "XAF", "link": "https://stackoverflow.com/users/5601082/xaf"}, "reply_to_user": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1513209066, "post_id": 47803673, "comment_id": 82569170, "body": "Yes, I would like to make a list out of the middle column, would make it easier to get the last five digits, and sum them @Brett Beatty"}, {"owner": {"reputation": 1442, "user_id": 5601082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f0bbc903f670cd7b22ff24d2996cf5de?s=128&d=identicon&r=PG&f=1", "display_name": "XAF", "link": "https://stackoverflow.com/users/5601082/xaf"}, "reply_to_user": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1513209132, "post_id": 47803673, "comment_id": 82569186, "body": "If I try print(field1.append(float(fields[1]))) I get AttributeError: &#39;str&#39; object has no attribute &#39;append&#39; @plasmon360"}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1513209294, "post_id": 47803673, "comment_id": 82569247, "body": "@FaF, did you do field1 = [] before the loop?"}, {"owner": {"reputation": 1442, "user_id": 5601082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f0bbc903f670cd7b22ff24d2996cf5de?s=128&d=identicon&r=PG&f=1", "display_name": "XAF", "link": "https://stackoverflow.com/users/5601082/xaf"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1513209461, "post_id": 47803673, "comment_id": 82569310, "body": "Yes, I would like the last 5 digits of the middle column, and avg them @ShadowRanger"}, {"owner": {"reputation": 1442, "user_id": 5601082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f0bbc903f670cd7b22ff24d2996cf5de?s=128&d=identicon&r=PG&f=1", "display_name": "XAF", "link": "https://stackoverflow.com/users/5601082/xaf"}, "reply_to_user": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1513209565, "post_id": 47803673, "comment_id": 82569340, "body": "It shows these if I try print(field1.append(float(fields[1]))) . @plasmon360 I added field1 = [] as you mentioned before the loop None None None None None"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1513210575, "post_id": 47803673, "comment_id": 82569635, "body": "<code>append</code> returns <code>None</code>, so <code>print</code>ing the result of it is pretty useless. You need to <code>append</code>, then <code>print(field1)</code> to see running values."}], "answers": [{"tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 2, "last_activity_date": 1513210227, "creation_date": 1513210227, "answer_id": 47804005, "question_id": 47803673, "link": "https://stackoverflow.com/questions/47803673/python-getting-average-from-last-5-digits-float-objects/47804005#47804005", "title": "Python - getting average from last 5 digits float objects", "body": "<p>I'm always a proponent of list comprehension. This one gets slightly more complex because you potentially omit some values, but it's still my preferred method.</p>\n\n<pre><code>def middle_item(line):\n    try:\n        return float(line.split()[1]), True\n    except IndexError:\n        return None, False\n    except ValueError:\n        raise ValueError('Incorrect values in the file.')\n\nwith open('out.txt', 'r') as td:\n    column = [value\n              for line in td\n              for value, is_valid in [middle_item(line)]\n              if is_valid][1:]\n    n = len(column)\n    print(\"Average over the whole period was \", sum(column) / n)\n    print(\"Total number of values was \", n)\n    print('Sum of last five:', sum(column[-5:]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 9096315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20e3ef809493ce964b0269998469a3b?s=128&d=identicon&r=PG&f=1", "display_name": "CenturyStorm", "link": "https://stackoverflow.com/users/9096315/centurystorm"}, "is_accepted": false, "score": 0, "last_activity_date": 1513210717, "creation_date": 1513210717, "answer_id": 47804085, "question_id": 47803673, "link": "https://stackoverflow.com/questions/47803673/python-getting-average-from-last-5-digits-float-objects/47804085#47804085", "title": "Python - getting average from last 5 digits float objects", "body": "<p>First of all please refrain from using functions as variable name. In the following example I have renamed sum to sum1. I also implemented appending in the list and transforming the list afterwards to a numpy array. This makes computation much easier.</p>\n\n<pre><code>import sys\nimport numpy as np\n\ntd = open(\"Qdata.txt\", \"r\")  # opening the file to variable (\"file handle\") td\n\nsum1 = 0\nn = 0\nfirstround = True\nfield1 = []\n\nfor line in td:\n    if (firstround):\n        firstround = False  # nothing else is done for the first line (header)\n    else:\n        fields = line.split()  # This creates a list containing the strings on \n        # the line, by default separated by spaces or tabs.\n        # Now fields[0] contains the date, fields[1] the \n        # 1st data value and fields[2] the 2nd one.\n        try:\n            sum1 = sum1 + float(fields[1])  # increasing the cumulative value\n            field1.append(float(fields[1]))\n\n            print(fields[1])\n\n            n = 5\n        # Handling possible errors.\n        except IndexError:  # IndexError occurs e.g. in the case of empty lines\n            # (when fields[2], for example, doesn't exist)\n            continue\n        except ValueError:  # ValueError occurs e.g. if there are letters instead of \n            # numbers (when conversion to float causes an error)\n            print(\"Incorrect values in the file.\")\n            sys.exit()\n\n\n# transform list into numpy array\nfield1 = np.array(field1)\n\nprint(\"Average over the whole period was \", field1.mean())\nprint(\"Total number of values was \", len(field1))\nprint(field1)\n\nprint(\"Average over the last five periods was \", field1[-5:].mean())\n</code></pre>\n\n<p>You might want to look into the Pandas package if you want to work with importing txt files in python more often.</p>\n"}, {"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 1, "last_activity_date": 1513210801, "creation_date": 1513210801, "answer_id": 47804091, "question_id": 47803673, "link": "https://stackoverflow.com/questions/47803673/python-getting-average-from-last-5-digits-float-objects/47804091#47804091", "title": "Python - getting average from last 5 digits float objects", "body": "<p>I agree with Brett Beatty answer to use list comprehensions, but if you want to know how to improve your original code you could do the following.</p>\n\n<p>1) rename variable 'sum' to an other variable like \"my_sum\" because sum() is python in built function</p>\n\n<p>2) create a list (field1 = []) before the loop and append to this list at every step of the loop. at the end of loop you will have a list with all the entries of the column.</p>\n\n<p>3) you can calculate the average of the last five entries of the column by using inbuilt function sum(field1[-5:])/n</p>\n\n<p>like shown below:</p>\n\n<pre><code>import sys\n\ntd = open(r\"Qdata.csv\", \"r\")  # opening the file to variable (\"file handle\") td\n\nmy_sum = 0\nn = 0\nfirstround = True\nfield1 = [] # make an empty list\nfor line in td:\n    if (firstround):\n        firstround = False  # nothing else is done for the first line (header)\n    else:\n        fields = line.split()  # This creates a list containing the strings on \n        # the line, by default separated by spaces or tabs.\n        # Now fields[0] contains the date, fields[1] the \n        # 1st data value and fields[2] the 2nd one.\n        try:\n            my_sum = my_sum + float(fields[1])  # increasing the cumulative value\n            #field1 = (fields[1])\n            field1.append(float(fields[1])) # add elements to the end of the list \n            n = 5\n        # Handling possible errors.\n        except IndexError:  # IndexError occurs e.g. in the case of empty lines\n            # (when fields[2], for example, doesn't exist)\n            continue\n        except ValueError:  # ValueError occurs e.g. if there are letters instead of \n            # numbers (when conversion to float causes an error)\n            print(\"Incorrect values in the file.\")\n            sys.exit()\nprint(\"Average over the whole period was \", my_sum / n)\nprint(\"Total number of values was \", n)\nprint(\"average of last 5 elements of field1: \" , sum(field1[-5:])/5)\n</code></pre>\n"}], "owner": {"reputation": 1442, "user_id": 5601082, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f0bbc903f670cd7b22ff24d2996cf5de?s=128&d=identicon&r=PG&f=1", "display_name": "XAF", "link": "https://stackoverflow.com/users/5601082/xaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "closed_date": 1513221034, "answer_count": 3, "score": 0, "last_activity_date": 1513210801, "creation_date": 1513207804, "last_edit_date": 1513208990, "question_id": 47803673, "link": "https://stackoverflow.com/questions/47803673/python-getting-average-from-last-5-digits-float-objects", "closed_reason": "Needs details or clarity", "title": "Python - getting average from last 5 digits float objects", "body": "<p>Reads file Qdata.txt and calculates the average of the values in \n  the 2nd column (or the 3rd column indeed, if date is considered as the 1st column</p>\n\n<pre><code>import sys\n\ntd = open(\"Qdata.txt\", \"r\")  # opening the file to variable (\"file handle\") td\n\nsum = 0\nn = 0\nfirstround = True\n\nfor line in td:\n    if (firstround):\n        firstround = False  # nothing else is done for the first line (header)\n    else:\n        fields = line.split()  # This creates a list containing the strings on \n        # the line, by default separated by spaces or tabs.\n        # Now fields[0] contains the date, fields[1] the \n        # 1st data value and fields[2] the 2nd one.\n        try:\n            sum = sum + float(fields[1])  # increasing the cumulative value\n            field1 = (fields[1])\n\n            print(field1)\n\n            n = 5\n        # Handling possible errors.\n        except IndexError:  # IndexError occurs e.g. in the case of empty lines\n            # (when fields[2], for example, doesn't exist)\n            continue\n        except ValueError:  # ValueError occurs e.g. if there are letters instead of \n            # numbers (when conversion to float causes an error)\n            print(\"Incorrect values in the file.\")\n            sys.exit()\nprint(\"Average over the whole period was \", sum / n)\nprint(\"Total number of values was \", n)\n</code></pre>\n\n<p>This is the Qdata.txt</p>\n\n<pre><code>Date   3700300   6701500\n20000101 21.00   223.00  \n20000102 20.00   218.00  \n20000103 18.00   218.00  \n20000104 17.00   213.00  \n20000105 17.00   210.00  \n20000106 18.00   210.00  \n20000107 21.00   210.00  \n20000108 23.00   208.00  \n20000109 27.00   201.00  \n20000110 28.00   199.00  \n20000111 26.00   196.00  \n20000112 24.00   196.00  \n20000113 23.00   194.00  \n20000114 21.00   192.00  \n20000115 19.00   185.00  \n20000116 17.00   183.00  \n20000117 12.00   179.00  \n20000118 11.00   173.00  \n20000119 10.00   171.00  \n20000120 9.80   167.00  \n20000121 9.00   165.00  \n20000122 8.40   163.00  \n20000123 7.50   157.00  \n20000124 7.10   156.00  \n20000125 6.70   150.00  \n20000126 6.40   148.00  \n20000127 6.00   148.00  \n20000128 5.90   147.00  \n20000129 5.50   145.00  \n20000130 5.40   143.00  \n20000131 5.30   140.00  \n20000201 5.30   140.00  \n</code></pre>\n\n<p>So, now I want the sum and later avg with numbers from field1. If I try to extract from field1[-5:], it does not work. What way can I get the last 5 digits of the middle column to sum and avg, I was thinking to make a list?</p>\n"}, {"tags": ["python", "postgresql"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1513209236, "post_id": 47803623, "comment_id": 82569222, "body": "You can avoid making the transaction too big (which slows queries down) by running <code>conn.commit()</code> every few (2500?) queries\u2026 assuming you\u2019re okay with not having the usual safeties of a single transaction."}, {"owner": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "edited": false, "score": 1, "creation_date": 1513209435, "post_id": 47803623, "comment_id": 82569303, "body": "One way to speedup it: upload your data into temporary table using <a href=\"http://initd.org/psycopg/docs/usage.html#using-copy-to-and-copy-from\" rel=\"nofollow noreferrer\"><code>copy_to()</code></a>, then update your table by single SQL statement using, for example <a href=\"https://www.postgresql.org/docs/current/static/sql-update.html\" rel=\"nofollow noreferrer\"><code>UPDATE ... FROM ...</code></a>."}, {"owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "reply_to_user": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "edited": false, "score": 0, "creation_date": 1513212674, "post_id": 47803623, "comment_id": 82570130, "body": "@Abelisto interesting. can you post an answer with how you would do this?"}], "answers": [{"comments": [{"owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "edited": false, "score": 0, "creation_date": 1513710062, "post_id": 47803657, "comment_id": 82753626, "body": "this isnt that much faster"}], "tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 1, "last_activity_date": 1513207650, "creation_date": 1513207650, "answer_id": 47803657, "question_id": 47803623, "link": "https://stackoverflow.com/questions/47803623/why-do-psycopg2-writes-take-so-long/47803657#47803657", "title": "Why do psycopg2 writes take so long?", "body": "<p>Have you tried:</p>\n\n<pre><code>cursor = conn.cursor()\nfor entry in entries:\n     cursor.execute(UPDATE_QUERY.format(entry.field1, entry.field2))\n\ncursor.close()\n</code></pre>\n\n<p>You can profile this code with <a href=\"https://docs.python.org/3/library/profile.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/profile.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "edited": false, "score": 0, "creation_date": 1513216432, "post_id": 47804700, "comment_id": 82571015, "body": "thanks! can you explain a bit about why this is faster?"}, {"owner": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "reply_to_user": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "edited": false, "score": 0, "creation_date": 1513216736, "post_id": 47804700, "comment_id": 82571091, "body": "@dopatraman Mostly because instead of executing 100,000 SQL statements you executes only 3."}, {"owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "edited": false, "score": 0, "creation_date": 1513217000, "post_id": 47804700, "comment_id": 82571150, "body": "can you explain these lines specifically? <code>cur.execute(&#39;create temp table t(i int, x float) on commit drop&#39;) buf = StringIO() for i in xrange(1,CRowCount+1):     buf.write(&#39;%s\\t%s\\n&#39; % (i, random())) buf.seek(0) cur.copy_from(buf, &#39;t&#39;)</code>"}], "tags": [], "owner": {"reputation": 12006, "user_id": 593144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a745d80a7031bdd56c5a3f5b04fd790f?s=128&d=identicon&r=PG", "display_name": "Abelisto", "link": "https://stackoverflow.com/users/593144/abelisto"}, "is_accepted": false, "score": 1, "last_activity_date": 1513217263, "last_edit_date": 1513217263, "creation_date": 1513215775, "answer_id": 47804700, "question_id": 47803623, "link": "https://stackoverflow.com/questions/47803623/why-do-psycopg2-writes-take-so-long/47804700#47804700", "title": "Why do psycopg2 writes take so long?", "body": "<p>Instead of updating table row by row from the client side you could to upload your data into server-side temporary table using <a href=\"http://initd.org/psycopg/docs/usage.html#using-copy-to-and-copy-from\" rel=\"nofollow noreferrer\"><code>copy_from()</code></a> method and then update the table by single SQL.</p>\n\n<p>Here is the artificial example:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport time, psycopg2\nfrom random import random\nfrom cStringIO import StringIO\n\nCRowCount = 100000\n\nconn = psycopg2.connect('')\nconn.autocommit = False\n\nprint('Prepare playground...')\ncur = conn.cursor()\ncur.execute(\"\"\"\n    drop table if exists foo;\n    create table foo(i int primary key, x float);\n    insert into foo select i, 0 from generate_series(1,%s) as i;\n\"\"\", (CRowCount,))\nprint('Done.')\ncur.close();\nconn.commit();\n\nprint('\\nTest update row by row...')\ntstart = time.time()\ncur = conn.cursor()\nfor i in xrange(1,CRowCount+1):\n    cur.execute('update foo set x = %s where i = %s', (random(), i));\nconn.commit()\ncur.close()\nprint('Done in %s s.' % (time.time() - tstart))\n\nprint('\\nTest batch update...')\ntstart = time.time()\ncur = conn.cursor()\n# Create temporary table to hold our data\ncur.execute('create temp table t(i int, x float) on commit drop')\n# Create and fill the buffer from which data will be uploaded\nbuf = StringIO()\nfor i in xrange(1,CRowCount+1):\n    buf.write('%s\\t%s\\n' % (i, random()))\nbuf.seek(0)\n# Upload data from the buffer to the temporary table\ncur.copy_from(buf, 't')\n# Update test table using data previously uploaded\ncur.execute('update foo set x = t.x from t where foo.i = t.i')\ncur.close();\nconn.commit();\nprint('Done in %s s.' % (time.time() - tstart))\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\nPrepare playground...\nDone.\n\nTest update row by row...\nDone in 62.1189928055 s.\n\nTest batch update...\nDone in 3.95668387413 s.\n</pre>\n\n<p>As you can see the second way is about 20 times faster.</p>\n"}], "owner": {"reputation": 11693, "user_id": 858962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5f16ec0395b1710fd529b01602de66ca?s=128&d=identicon&r=PG", "display_name": "dopatraman", "link": "https://stackoverflow.com/users/858962/dopatraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1513217263, "creation_date": 1513207424, "last_edit_date": 1513208026, "question_id": 47803623, "link": "https://stackoverflow.com/questions/47803623/why-do-psycopg2-writes-take-so-long", "title": "Why do psycopg2 writes take so long?", "body": "<p>I wrote a script that updates a table. Since I couldn't find a way to \"batch\" update, my script updates the table one row at a time. I assumed that for a set of 100,000 rows, it would take a few seconds to do the update.</p>\n\n<p>No. Each write operation takes ~100 milliseconds. The entire write operation takes ((((100,000 * 100)/1000)/60)/60) = 2.77 hours. Why does it take so long to write?</p>\n\n<p>Here's the code I'm using:</p>\n\n<pre><code>import psycopg2\n...\nentries = get_all_entries()\nconn = psycopg2.connect(params)\ntry:\n    for entry in entries:\n        cursor = conn.cursor()\n        cursor.execute(UPDATE_QUERY.format(entry.field1, entry.field2))\n        cursor.close()\nfinally:\n    conn.close()\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "django", "api", "django-rest-framework", "models"], "comments": [{"owner": {"reputation": 1343, "user_id": 3185502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c65699a0d998330d47145a96b2b54b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vasif", "link": "https://stackoverflow.com/users/3185502/vasif"}, "edited": false, "score": 1, "creation_date": 1513207483, "post_id": 47803592, "comment_id": 82568659, "body": "There has got to be somewhere for the system to understand what your tables&#39; schema is. So, if you have your database schema in some industry standard formats, you might find someone&#39;s work that translates it into django serializers. Else, take it as an opportunity to contribute a schema-to-serializer translator to the community."}], "answers": [{"tags": [], "owner": {"reputation": 519, "user_id": 6928576, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ebcf3ba58bddcdf537dfd17c7e570c9c?s=128&d=identicon&r=PG&f=1", "display_name": "M. Dhaouadi", "link": "https://stackoverflow.com/users/6928576/m-dhaouadi"}, "is_accepted": true, "score": 0, "last_activity_date": 1513210746, "last_edit_date": 1513210746, "creation_date": 1513210425, "answer_id": 47804041, "question_id": 47803592, "link": "https://stackoverflow.com/questions/47803592/generate-a-django-rest-api-directly/47804041#47804041", "title": "generate a Django-REST-API directly ?", "body": "<p>It appears there is no way to do so in django. </p>\n\n<blockquote>\n  <p>NOW, THIS IS NOT THE BEST SOLUTION,</p>\n  \n  <p>SOMETIMES,  DIFFERENT SERIALIZERS CLASSES ARE NEEDED DEPENDING ON RELATIONS </p>\n</blockquote>\n\n<p>I just created a script that works:</p>\n\n<p>You just need to run it from your project directory with your app name as an argument </p>\n\n<pre><code>`import os\nimport sys\n\nROUTER_TEMPLATE = \"router.register(r'{}', views.{}ViewSet)\"\nSERIALIZER_TEMPLATE = \"\"\"\nclass {}Serializer(serializers.HyperlinkedModelSerializer):\n\n    class Meta:\n        model = {}\n        fields = '__all__'\n\"\"\"\nVIEW_TEMPLATE= \"\"\"\n\nclass {}ViewSet(viewsets.ModelViewSet):\n    queryset = {}.objects.all()\n    serializer_class = {}Serializer\n\n\n\"\"\"\n\ndef gen_api(app_name):\n        models= open(app_name+'/models.py', 'r')\n    aLines = models.readlines()\n\n    for sLine in aLines:\n\n        aLine = sLine.split()\n\n        for sWord in aLine:\n\n            if sWord == \"class\" and aLine[aLine.index(sWord)+1] != \"Meta:\":\n                model_name= aLine[aLine.index(sWord)+1].split(\"(\")[0]\n                gen(app_name,model_name )\n\n\n\n\ndef gen(app_name, name):\n\n    config = open(app_name+'/urls.py', 'a') #append\n    config.write(\"\\n\"+ ROUTER_TEMPLATE.format(name, name))\n    config.close()\n\n    config = open(app_name+'/serializers.py', 'a') #append\n    config.write(\"\\n\"+ SERIALIZER_TEMPLATE.format(name, name))\n    config.close()\n\n    config = open(app_name+'/views.py', 'a') #append\n    config.write(\"\\n\"+ VIEW_TEMPLATE.format(name, name, name))\n    config.close()\n\nif __name__ == \"__main__\":\n\n    gen_api(sys.argv[1])\n`\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 6928576, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ebcf3ba58bddcdf537dfd17c7e570c9c?s=128&d=identicon&r=PG&f=1", "display_name": "M. Dhaouadi", "link": "https://stackoverflow.com/users/6928576/m-dhaouadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 47804041, "answer_count": 1, "score": 0, "last_activity_date": 1513210746, "creation_date": 1513207223, "question_id": 47803592, "link": "https://stackoverflow.com/questions/47803592/generate-a-django-rest-api-directly", "title": "generate a Django-REST-API directly ?", "body": "<p>I have already a database that contains 100 tables.</p>\n\n<p>Now, I would like to expose it as a REST-API.</p>\n\n<p>I've done this before so I am familiar with the procedure. \nI create a serializer for the model, a ViewSet for the Serialiizer and an a router. \nI test it on 2 tables and it works. </p>\n\n<p>The problem is that I want to expose all my 100 tables. And doing the same prcedure 100 times is no fun.</p>\n\n<p>Is there a way to do it only one time?</p>\n"}, {"tags": ["python", "linux", "selenium-webdriver", "error-handling", "phantomjs"], "comments": [{"owner": {"reputation": 6104, "user_id": 1119381, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aab36e75e2a1b09199da99501429f49e?s=128&d=identicon&r=PG", "display_name": "Eugene S", "link": "https://stackoverflow.com/users/1119381/eugene-s"}, "edited": false, "score": 0, "creation_date": 1513221673, "post_id": 47803587, "comment_id": 82572276, "body": "It is unclear what you are asking. You mean that want to recognize a wrong URL even before the driver tries to navigate to it? Or do you expect an exception but not getting one?"}, {"owner": {"reputation": 1, "user_id": 8651730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72da70a058217f06bfaef855c6309dca?s=128&d=identicon&r=PG&f=1", "display_name": "Tayeb SAADI", "link": "https://stackoverflow.com/users/8651730/tayeb-saadi"}, "reply_to_user": {"reputation": 6104, "user_id": 1119381, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aab36e75e2a1b09199da99501429f49e?s=128&d=identicon&r=PG", "display_name": "Eugene S", "link": "https://stackoverflow.com/users/1119381/eugene-s"}, "edited": false, "score": 0, "creation_date": 1513282570, "post_id": 47803587, "comment_id": 82605224, "body": "I am expecting an exception, I want my script to throw an exception when the driver is handling a wrong URL"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8651730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72da70a058217f06bfaef855c6309dca?s=128&d=identicon&r=PG&f=1", "display_name": "Tayeb SAADI", "link": "https://stackoverflow.com/users/8651730/tayeb-saadi"}, "edited": false, "score": 0, "creation_date": 1513283191, "post_id": 47808989, "comment_id": 82605517, "body": "Thank you for your answer and for the information, but it didn&#39;t solve my problem, I noticed that when I give a wrong URL, the driver doesn&#39;t take a long time with it,  actually, with this solution, some legit URLs have errors now, especially the ones that take time to completely load"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 1, "user_id": 8651730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72da70a058217f06bfaef855c6309dca?s=128&d=identicon&r=PG&f=1", "display_name": "Tayeb SAADI", "link": "https://stackoverflow.com/users/8651730/tayeb-saadi"}, "edited": false, "score": 0, "creation_date": 1513324269, "post_id": 47808989, "comment_id": 82618062, "body": "So your Question, <b>PhantomJS is not returning errors (python)</b> is solved now. Please <b><code>Accept</code></b> the <b><code>Answer</code></b> by clicking on the tick mark beside my answer, just below VoteDown arrow so the tick mark turns reen. But again, each application needs some <code>Benchmarks</code>, e.g. <b>page_load_time</b>. <code>Page Loading</code> shouldn&#39;t be a never ending process. Configure a <code>time_out</code> for the Page Loading process e.g. <b>driver.set_page_load_timeout(30)</b>. The working one will load whilest the Malformed one will time_out. See the link to the detailed discussion within the Answer."}, {"owner": {"reputation": 1, "user_id": 8651730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72da70a058217f06bfaef855c6309dca?s=128&d=identicon&r=PG&f=1", "display_name": "Tayeb SAADI", "link": "https://stackoverflow.com/users/8651730/tayeb-saadi"}, "edited": false, "score": 0, "creation_date": 1513356941, "post_id": 47808989, "comment_id": 82637079, "body": "<b>set_page_load_timeout</b> doesn&#39;t solve my problem. Because the driver handles the bad URL so quickly, I am not sure but it seems like the driver just ignores it. As for my question I must admit that I didn&#39;t choose the right title, it&#39;s not that Phantom doesn&#39;t  return errors, but rather it doesn&#39;t return the error that I want so you didn&#39;t solve my problem ^^, it is my mistake and I apologize for the misunderstanding"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1513240426, "creation_date": 1513240426, "answer_id": 47808989, "question_id": 47803587, "link": "https://stackoverflow.com/questions/47803587/phantomjs-is-not-returning-errors-when-url-is-wrong-python/47808989#47808989", "title": "PhantomJS is not returning errors when URL is wrong (python)", "body": "<p>When we provide a <strong><code>Malformed URL</code></strong> as an argument to <strong><code>get()</code></strong> method through <strong><code>GeckoDriver</code></strong> or <strong><code>ChromeDriver</code></strong> we do see a proper exception shows as :</p>\n\n<pre><code>selenium.common.exceptions.WebDriverException: Message: Malformed URL: drr,.gh is not a valid URL.\n</code></pre>\n\n<p>But when providing the <strong><code>Malformed URL</code></strong> as an argument to <strong><code>get()</code></strong> method through <strong><code>PhantomJSDriver</code></strong> from the logs it seems the validation of a proper formatted <code>URL</code> is missing and <strong><code>PhantomJSDriver</code></strong> keeps on attempting to browse to the <code>URL</code> which it never succeeds which is as follows :</p>\n\n<pre><code>[INFO  - 2017-12-14T08:13:37.981Z] GhostDriver - Main - running on port 2585\n[INFO  - 2017-12-14T08:13:39.482Z] Session [b0debdb0-e0a6-11e7-ad4b-79a57b4a1a11] - page.settings - {\"XSSAuditingEnabled\":false,\"javascriptCanCloseWindows\":true,\"javascriptCanOpenWindows\":true,\"javascriptEnabled\":true,\"loadImages\":true,\"localToRemoteUrlAccessEnabled\":false,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"webSecurityEnabled\":true}\n[INFO  - 2017-12-14T08:13:39.482Z] Session [b0debdb0-e0a6-11e7-ad4b-79a57b4a1a11] - page.customHeaders:  - {}\n[INFO  - 2017-12-14T08:13:39.482Z] Session [b0debdb0-e0a6-11e7-ad4b-79a57b4a1a11] - Session.negotiatedCapabilities - {\"browserName\":\"phantomjs\",\"version\":\"2.1.1\",\"driverName\":\"ghostdriver\",\"driverVersion\":\"1.2.0\",\"platform\":\"windows-8-32bit\",\"javascriptEnabled\":true,\"takesScreenshot\":true,\"handlesAlerts\":false,\"databaseEnabled\":false,\"locationContextEnabled\":false,\"applicationCacheEnabled\":false,\"browserConnectionEnabled\":false,\"cssSelectorsEnabled\":true,\"webStorageEnabled\":false,\"rotatable\":false,\"acceptSslCerts\":false,\"nativeEvents\":true,\"proxy\":{\"proxyType\":\"direct\"}}\n[INFO  - 2017-12-14T08:13:39.482Z] SessionManagerReqHand - _postNewSessionCommand - New Session Created: b0debdb0-e0a6-11e7-ad4b-79a57b4a1a11\n</code></pre>\n\n<h2>Solution :</h2>\n\n<p>As a solution, we can generalize the passing of <strong><code>Malformed URL</code></strong> as an argument to <strong><code>get()</code></strong> method as an <strong><code>Unreachable Destination</code></strong> and you can induce the <strong><code>set_page_load_timeout(seconds)</code></strong> as follows :</p>\n\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.PhantomJS(executable_path=r'C:\\\\Utility\\\\phantomjs-2.1.1-windows\\\\bin\\\\phantomjs.exe')\ndriver.set_page_load_timeout(2)\ndriver.get(\"drr,.gh\")\n</code></pre>\n\n<p>In the event of <strong><code>page_load_timeout</code></strong> occuring you would see the following log messages :</p>\n\n<pre><code>[ERROR - 2017-12-14T08:25:43.994Z] RouterReqHand - _handle.error - {\"name\":\"Missing Command Parameter\",\"message\":\"{\\\"headers\\\":{\\\"Accept\\\":\\\"application/json\\\",\\\"Accept-Encoding\\\":\\\"identity\\\",\\\"Connection\\\":\\\"close\\\",\\\"Content-Length\\\":\\\"71\\\",\\\"Content-Type\\\":\\\"application/json;charset=UTF-8\\\",\\\"Host\\\":\\\"127.0.0.1:2650\\\",\\\"User-Agent\\\":\\\"Python http auth\\\"},\\\"httpVersion\\\":\\\"1.1\\\",\\\"method\\\":\\\"POST\\\",\\\"post\\\":\\\"{\\\\\\\"pageLoad\\\\\\\": 2000, \\\\\\\"sessionId\\\\\\\": \\\\\\\"60b5bc60-e0a8-11e7-bb6f-8df56dd28746\\\\\\\"}\\\",\\\"url\\\":\\\"/timeouts\\\",\\\"urlParsed\\\":{\\\"anchor\\\":\\\"\\\",\\\"query\\\":\\\"\\\",\\\"file\\\":\\\"timeouts\\\",\\\"directory\\\":\\\"/\\\",\\\"path\\\":\\\"/timeouts\\\",\\\"relative\\\":\\\"/timeouts\\\",\\\"port\\\":\\\"\\\",\\\"host\\\":\\\"\\\",\\\"password\\\":\\\"\\\",\\\"user\\\":\\\"\\\",\\\"userInfo\\\":\\\"\\\",\\\"authority\\\":\\\"\\\",\\\"protocol\\\":\\\"\\\",\\\"source\\\":\\\"/timeouts\\\",\\\"queryKey\\\":{},\\\"chunks\\\":[\\\"timeouts\\\"]},\\\"urlOriginal\\\":\\\"/session/60b5bc60-e0a8-11e7-bb6f-8df56dd28746/timeouts\\\"}\",\"line\":546,\"sourceURL\":\"phantomjs://code/session_request_handler.js\",\"stack\":\"_postTimeout@phantomjs://code/session_request_handler.js:546:73\\n_handle@phantomjs://code/session_request_handler.js:148:25\\n_reroute@phantomjs://code/request_handler.js:61:20\\n_handle@phantomjs://code/router_request_handler.js:78:46\"}\n\n  phantomjs://platform/console++.js:263 in error\n</code></pre>\n\n<p>You can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/47694922/how-to-set-the-timeout-of-driver-get-for-python-selenium-3-8-0/47695227#47695227\"><strong><code>set_page_load_timeout()</code></strong></a> method here.</p>\n"}], "owner": {"reputation": 1, "user_id": 8651730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72da70a058217f06bfaef855c6309dca?s=128&d=identicon&r=PG&f=1", "display_name": "Tayeb SAADI", "link": "https://stackoverflow.com/users/8651730/tayeb-saadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1513443344, "creation_date": 1513207170, "last_edit_date": 1513443344, "question_id": 47803587, "link": "https://stackoverflow.com/questions/47803587/phantomjs-is-not-returning-errors-when-url-is-wrong-python", "title": "PhantomJS is not returning errors when URL is wrong (python)", "body": "<p>I am using selenium in python, especially PhantomJS\nthe problem is when I send a wrong URL, no error happens\nwhile firefox driver catch an error</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.common.exceptions import TimeoutException, \nNoSuchElementException\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.PhantomJS()\ndriver.get(\"drr,.gh\")\n</code></pre>\n\n<p>I want to know how my program can recognize a false URL </p>\n\n<p>This is my first post here so I apologize if I made an error, I also apologize for my English</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "pygame", "collision"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1513207366, "post_id": 47803512, "comment_id": 82568618, "body": "Most likely you are rendering each frame before calculating the collision detection. You need to reverse these two steps."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513208527, "post_id": 47803512, "comment_id": 82569006, "body": "make all calculations before <code>screen.fill((0, 0, 0))</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1513208704, "post_id": 47803512, "comment_id": 82569051, "body": "BTW: to make collision with two walls - ie. on left and on bottom - better first change only rect.x, next check collisions, next change only rect.y and check collisions again. Do it because <code>colliderect</code> doesn&#39;t inform if you collide only on left or only on bottom or on both. See examples in <a href=\"http://programarcadegames.com/index.php?&amp;chapter=example_code_platformera\" rel=\"nofollow noreferrer\">Lab 16: Pygame Platformer Examples</a>"}, {"owner": {"reputation": 145, "user_id": 9085204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd9131eaea04b5a3611bbbc95683e149?s=128&d=identicon&r=PG&f=1", "display_name": "Geordyd", "link": "https://stackoverflow.com/users/9085204/geordyd"}, "edited": false, "score": 0, "creation_date": 1513209552, "post_id": 47803512, "comment_id": 82569337, "body": "Thanks for the quick help. It is working right now."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 14546030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RUhQz.png?s=128&g=1", "display_name": "Shark Coding", "link": "https://stackoverflow.com/users/14546030/shark-coding"}, "is_accepted": false, "score": 0, "last_activity_date": 1605379235, "creation_date": 1605379235, "answer_id": 64837357, "question_id": 47803512, "link": "https://stackoverflow.com/questions/47803512/wall-collision-in-pygame/64837357#64837357", "title": "Wall collision in pygame", "body": "<p>you are drawing the rectangles before setting them back when they hit each other so they move into each other for a moment. Make sure to do all drawing after calculations have been made.</p>\n"}], "owner": {"reputation": 145, "user_id": 9085204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd9131eaea04b5a3611bbbc95683e149?s=128&d=identicon&r=PG&f=1", "display_name": "Geordyd", "link": "https://stackoverflow.com/users/9085204/geordyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1605379235, "creation_date": 1513206684, "question_id": 47803512, "link": "https://stackoverflow.com/questions/47803512/wall-collision-in-pygame", "title": "Wall collision in pygame", "body": "<p>I am trying to get collision to work but when the two rectangles collide they go a little bit into each other but I want the second rectangle to act like a wall. Does someone have any idea how I could fix this? Or is there maybe a better way to add collision to my game? This is what I have right now.</p>\n\n<pre><code>import pygame\n\npygame.init()\nscreen = pygame.display.set_mode((1000, 800))\npygame.display.set_caption(\"Squarey\")\ndone = False\nis_red = True\nx = 30\ny = 30\nx2 = 100\ny2 = 30\nclock = pygame.time.Clock()\nWHITE = (255,255,255)\nRED = (255,0,0)\n\ncharImg = pygame.image.load('character.png')\n\n\n\nrect1 = pygame.Rect(30, 30, 60, 60)\n\nrect2 = pygame.Rect(100, 100, 60, 60)\n\nx_change = 0\ny_change = 0\n\nwhile not done:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            done = True\n\n\n#movement\n      #left\n    if event.type == pygame.KEYDOWN:\n      if event.key == pygame.K_LEFT:\n        x_change = -5\n        y_change = 0\n\n        #right\n      elif event.key == pygame.K_RIGHT:\n        x_change = 5\n        y_change = 0\n      #key release left and right\n    if event.type == pygame.KEYUP:\n      if event.key == pygame.K_LEFT or event.key == pygame.K_RIGHT:\n        x_change = 0\n        y_change = 0\n\n\n      #up    \n    if event.type == pygame.KEYDOWN:\n      if event.key == pygame.K_UP:\n        y_change = -5\n        x_change = 0\n\n\n        #down\n      elif event.key == pygame.K_DOWN:\n        y_change = 5\n        x_change = 0\n\n\n      #key release up and down\n    if event.type == pygame.KEYUP:\n      if event.key == pygame.K_UP or event.key == pygame.K_DOWN:\n        y_change = 0\n        x_change = 0 \n    rect1.x = rect1.x + x_change\n    rect1.y = rect1.y + y_change\n\n    screen.fill((0, 0, 0))\n\n    pygame.draw.rect(screen, WHITE, rect1)\n    pygame.draw.rect(screen, RED, rect2)\n\n    if rect1.bottom &gt; screen.get_rect().bottom:\n      rect1.center = screen.get_rect().center\n\n    #if rect1.colliderect(rect2):\n    if rect1.colliderect(rect2):\n      #print(\"Collision !!\")\n\n      rect1.x = rect1.x - x_change\n      rect1.y = rect1.y - y_change\n\n    pygame.display.flip()\n    clock.tick(60)\n\npygame.quit()\n</code></pre>\n"}, {"tags": ["python", "loops", "types"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513206763, "post_id": 47803490, "comment_id": 82568440, "body": "Fundamentally, you are missing how Python variables work. Read the following: <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/text/names.html</a>"}, {"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 0, "creation_date": 1513206834, "post_id": 47803490, "comment_id": 82568469, "body": "You&#39;re just setting <code>item</code> to an int, you&#39;re not changing the values in the list. <code>L = [[int(digit) for digit in sub_list] for sub_list in L]</code> should work."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1513207581, "post_id": 47803490, "comment_id": 82568702, "body": "You have a typo in your question I think. <code>&#39;3,&#39;</code>... the comma should be outside of the quotes."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9096235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df785a74a2b7192131901ca4e7707c2?s=128&d=identicon&r=PG&f=1", "display_name": "SpaSmALX", "link": "https://stackoverflow.com/users/9096235/spasmalx"}, "edited": false, "score": 0, "creation_date": 1513207665, "post_id": 47803507, "comment_id": 82568735, "body": "Doesn&#39;t item in the for loop actually refer to the specific piece of data inside the list? If you type x = &#39;3&#39; then x = int(x), x will refer to 3. I&#39;m still slightly confused."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 23, "user_id": 9096235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df785a74a2b7192131901ca4e7707c2?s=128&d=identicon&r=PG&f=1", "display_name": "SpaSmALX", "link": "https://stackoverflow.com/users/9096235/spasmalx"}, "edited": false, "score": 0, "creation_date": 1513220098, "post_id": 47803507, "comment_id": 82571913, "body": "@SpaSmALX: Long story short: &quot;reference&quot; doesn&#39;t mean the same thing in Python that it does in PHP and C++."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 0, "last_activity_date": 1513206655, "creation_date": 1513206655, "answer_id": 47803507, "question_id": 47803490, "link": "https://stackoverflow.com/questions/47803490/why-dont-the-strings-turn-into-integers/47803507#47803507", "title": "Why don&#39;t the strings turn into integers?", "body": "<p>The name used is only a reference; if you want to change the sequence then you need to change it directly.</p>\n\n<pre><code>innerL[:] = [int(e) for e in innerL]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "is_accepted": true, "score": 1, "last_activity_date": 1513206817, "creation_date": 1513206817, "answer_id": 47803533, "question_id": 47803490, "link": "https://stackoverflow.com/questions/47803490/why-dont-the-strings-turn-into-integers/47803533#47803533", "title": "Why don&#39;t the strings turn into integers?", "body": "<p>They are integers?</p>\n\n<pre><code>L = [['1','2'], ['3','4']]\nfor innerL in L:\n  for item in innerL:\n    item = int(item)\n    print(item)\n    print(isinstance(item, int))\n</code></pre>\n\n<p>Output:</p>\n\n<p>1\nTrue\n2\nTrue\n3\nTrue\n4\nTrue</p>\n"}], "owner": {"reputation": 23, "user_id": 9096235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df785a74a2b7192131901ca4e7707c2?s=128&d=identicon&r=PG&f=1", "display_name": "SpaSmALX", "link": "https://stackoverflow.com/users/9096235/spasmalx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1513206734, "accepted_answer_id": 47803533, "answer_count": 2, "score": 1, "last_activity_date": 1513206817, "creation_date": 1513206580, "question_id": 47803490, "link": "https://stackoverflow.com/questions/47803490/why-dont-the-strings-turn-into-integers", "closed_reason": "Duplicate", "title": "Why don&#39;t the strings turn into integers?", "body": "<pre><code>L = [['1','2'], ['3,','4']]\nfor innerL in L:&lt;br/&gt;\n    for item in innerL:\n        item = int(item)\n\n&gt;&gt;&gt; print(L)\n[['1','2'], ['3,','4']]\n</code></pre>\n\n<p>Why do the strings of numbers not change into integers? If I type:<br/></p>\n\n<pre><code>&gt;&gt;&gt; type(int('3'))\n&lt;class 'int'&gt;\n</code></pre>\n\n<p>then shouldn't the item be turned into an integer? What am I missing?</p>\n"}, {"tags": ["python", "python-3.x", "dll", "graphics"], "comments": [{"owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "edited": false, "score": 1, "creation_date": 1513206861, "post_id": 47803432, "comment_id": 82568476, "body": "I think you should look into the ctypes module which can be used to load DLLs."}, {"owner": {"reputation": 97, "user_id": 8972784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/035ea368c1b2b5cc6cc11bd163f5be05?s=128&d=identicon&r=PG&f=1", "display_name": "CoderBoy", "link": "https://stackoverflow.com/users/8972784/coderboy"}, "reply_to_user": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "edited": false, "score": 0, "creation_date": 1513208222, "post_id": 47803432, "comment_id": 82568913, "body": "@afc11hn Yes, I am familiar with that, but I don&#39;t know how I would use it for this DLL or what syntax I need for it to work properly"}], "owner": {"reputation": 97, "user_id": 8972784, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/035ea368c1b2b5cc6cc11bd163f5be05?s=128&d=identicon&r=PG&f=1", "display_name": "CoderBoy", "link": "https://stackoverflow.com/users/8972784/coderboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513206232, "creation_date": 1513206232, "question_id": 47803432, "link": "https://stackoverflow.com/questions/47803432/how-to-use-windows-dlls-in-python-specifically-windows-graphics-dll", "title": "How to use windows DLLs in python, specifically windows.graphics.dll?", "body": "<p>To be honest, I only know that a dll is a windows library and that I can use <code>win32api.LoadLibrary</code> to load them, but I'm not sure how to use them with this command. Or even the syntax that I would use with it. I'm making a graphics library with python and <code>windows.graphics.dll</code> seemed like a good place to start. I'm just getting into this kind of stuff in python and I'm probably doing thisa bit early, but I still would like to try this.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 708, "user_id": 2660006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6651198a3429631dae3236a10ee1d42?s=128&d=identicon&r=PG", "display_name": "Stuart Dines", "link": "https://stackoverflow.com/users/2660006/stuart-dines"}, "is_accepted": false, "score": 0, "last_activity_date": 1513211638, "creation_date": 1513211638, "answer_id": 47804213, "question_id": 47803416, "link": "https://stackoverflow.com/questions/47803416/how-to-correct-set-generic-relation/47804213#47804213", "title": "How to correct set generic relation?", "body": "<p>From the <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/contenttypes/#reverse-generic-relations\" rel=\"nofollow noreferrer\">Django documentation <code>GenericRelation</code></a> takes the class as the first arguments.</p>\n\n<pre><code>class B(models.Model):\n    content_type = models.ForeignKey(ContentType, blank=True, null=True)\n    object_id = models.PositiveIntegerField(blank=True, null=True)\n    content = GenericForeignKey('content_type', 'object_id')\n\nclass A(models.Model):\n    relation = GenericRelation(B)\n    another_relation = GenericRelation(B)\n</code></pre>\n\n<p>You then should be able to use <code>a.another_relation.all()</code>.</p>\n"}], "owner": {"reputation": 519, "user_id": 8551679, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/1279944408727547/picture?type=large", "display_name": "Grzegorzg", "link": "https://stackoverflow.com/users/8551679/grzegorzg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513211638, "creation_date": 1513206165, "question_id": 47803416, "link": "https://stackoverflow.com/questions/47803416/how-to-correct-set-generic-relation", "title": "How to correct set generic relation?", "body": "<pre><code>class A(models.Model):\n    relation = GenericRelation('B')\n    another_relation = GenericRelation('B')\n\nclass B(models.Model):\n    content_type = models.ForeignKey(ContentType, blank=True, null=True)\n    object_id = models.PositiveIntegerField(blank=True, null=True)\n    content = GenericForeignKey('content_type', 'object_id')\n\na = A()\nb = B()\n</code></pre>\n\n<p>How to set connection so that I get b as result of a.another_relation.all()?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1513205946, "creation_date": 1513205946, "answer_id": 47803388, "question_id": 47803361, "link": "https://stackoverflow.com/questions/47803361/python-rgb-tuples/47803388#47803388", "title": "Python - RGB Tuples", "body": "<pre><code>&gt;&gt;&gt; from ast import literal_eval\n&gt;&gt;&gt; t = ('(102,117,108)', '(108,32,116)', '(101,120,116)', '(32,105,115)', '(32,103,111)', '(111,100,32)')\n&gt;&gt;&gt; tuple(map(literal_eval, t))\n((102, 117, 108), (108, 32, 116), (101, 120, 116), (32, 105, 115), (32, 103, 111), (111, 100, 32))\n</code></pre>\n\n<blockquote>\n  <p><strong>literal_eval(node_or_string)</strong><br>\n      Safely evaluate an expression node or a string containing a Python\n      expression.  The string or node provided may only consist of the following\n      Python literal structures: strings, numbers, tuples, lists, dicts, booleans,\n      and None.</p>\n</blockquote>\n"}], "owner": {"reputation": 63, "user_id": 7201138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/048dce285aedd7070a6831d32925cabe?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brennan", "link": "https://stackoverflow.com/users/7201138/paul-brennan"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1513206210, "answer_count": 1, "score": 0, "last_activity_date": 1513205946, "creation_date": 1513205787, "question_id": 47803361, "link": "https://stackoverflow.com/questions/47803361/python-rgb-tuples", "closed_reason": "Duplicate", "title": "Python - RGB Tuples", "body": "<p>I have currently a tuple of:</p>\n\n<pre><code>('(102,117,108)', '(108,32,116)', '(101,120,116)', '(32,105,115)', '(32,103,111)', '(111,100,32)')\n</code></pre>\n\n<p>How would I convert it to:</p>\n\n<pre><code>((102,117,108), (108,32,116), (101,120,116), (32,105,115), (32,103,111), (111,100,32))\n</code></pre>\n\n<p>Any help is much appreciated!</p>\n"}, {"tags": ["python", "postgresql", "sqlalchemy", "database-schema"], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 2059857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10974a5fd23c2db454667a703164c936?s=128&d=identicon&r=PG", "display_name": "user2059857", "link": "https://stackoverflow.com/users/2059857/user2059857"}, "is_accepted": true, "score": 7, "last_activity_date": 1541640685, "last_edit_date": 1541640685, "creation_date": 1541631649, "answer_id": 53199207, "question_id": 47803343, "link": "https://stackoverflow.com/questions/47803343/reflecting-every-schema-from-postgres-db-using-sqlalchemy/53199207#53199207", "title": "reflecting every schema from postgres DB using SQLAlchemy", "body": "<p>When you call <code>metadata.reflect()</code> it will only reflect the default schema (the first in your <code>search_path</code> for which you have permissions). So if your search_path is <code>public,students,school</code> it will only reflect the tables in schema <code>public</code>. If you do not have permissions on schema public, <code>public</code> schema will be skipped and will default to reflect only <code>students</code>.</p>\n\n<p>The default schema is retrieved by <code>SELECT current_schema();</code></p>\n\n<p>In order to reflect other schemas\nyou need to call <code>metadata.reflect()</code> for each schema.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>metadata.reflect(schema='public')  # will reflect even if you do not have permissions on the tables in schema `public`, as long as you have access to pg_* system tables\nmetadata.reflect(schema='students')\nmetadata.reflect(schema='schools')\n</code></pre>\n\n<blockquote>\n  <p>Note: When you reflect with an explicit schema\n  <li>Reflected tables in <code>metadata.tables</code> will have the keys with the tables fully qualified schema name as in <code>schema1.mytable</code>, <code>schema2.mytable</code></li>\n  <li>Any conflicting table names will be replaced with the later one. If you have any tables with the same name, you should implement your the function <code>classname_for_table</code> to prefix the names with the schema name. </li></p>\n</blockquote>\n\n<p><strong>An example of prefixing table names with the schema</strong>\n</p>\n\n<pre><code>def classname_for_table(base, tablename, table):\n    schema_name = table.schema\n    fqname = '{}.{}'.format(schema_name, tablename)\n    return fqname\n\n\nBase.prepare(classname_for_table=classname_for_table)\n</code></pre>\n\n<p>**As a bonus, here is a small snippet which will expose all tables within a dynamic submodule per schema so you can access it **</p>\n\n<p>create a file ie. <em>db.py</em> and place the following</p>\n\n<pre><code>from types import ModuleType\n\n\ndef register_classes(base, module_dict):\n    for name, table in base.classes.items():\n        schema_name, table_name = name.split('.')\n        class_name = table_name.title().replace('_', '')\n        if schema_name not in module_dict:\n            module = module_dict[schema_name] = ModuleType(schema_name)\n        else:\n            module = module_dict[schema_name]\n        setattr(module, class_name, table)\n</code></pre>\n\n<p>Call this function with the automap base and the <code>__dict__</code> of the module which you would like to register the schemas with.</p>\n\n<pre><code> register_classes(base, globals())\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import db\ndb.register_classes(base, db.__dict__)\n</code></pre>\n\n<p>and then you will get</p>\n\n<pre><code>import db\ndb.students.MyTable\ndb.schools.MyTable\n</code></pre>\n"}], "owner": {"reputation": 1083, "user_id": 5819113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ECON.jpg?s=128&g=1", "display_name": "bluesmonk", "link": "https://stackoverflow.com/users/5819113/bluesmonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 1, "accepted_answer_id": 53199207, "answer_count": 1, "score": 6, "last_activity_date": 1541640685, "creation_date": 1513205697, "last_edit_date": 1513206318, "question_id": 47803343, "link": "https://stackoverflow.com/questions/47803343/reflecting-every-schema-from-postgres-db-using-sqlalchemy", "title": "reflecting every schema from postgres DB using SQLAlchemy", "body": "<p>I have an existing database that has two schemas, named <code>schools</code> and <code>students</code>, contained in an instance of <code>declarative_base</code> and through two different classes that inherit from that instance</p>\n\n<pre><code>class DirectorioEstablecimiento(Base):\n    __table_args__ = {'schema': 'schools'}\n    __tablename__ = 'addresses'\n    # some Columns are defined here\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class Matricula(Base):\n    __table_args__ = {'schema': 'students'}\n    __tablename__ = 'enrollments'\n    # some Columns are defined here\n</code></pre>\n\n<p>I can use the <code>Base</code> instance to as <code>Base.metadata.create_all(bind=engine)</code> to recreate it in a test DB I have in postgres. I can confirm this was done without problems if I query the <code>pg_namespace</code></p>\n\n<pre><code>In [111]: engine.execute(\"SELECT * FROM pg_namespace\").fetchall()\n2017-12-13 18:04:01,006 INFO sqlalchemy.engine.base.Engine SELECT * FROM pg_namespace\n2017-12-13 18:04:01,006 INFO sqlalchemy.engine.base.Engine {}\n\nOut[111]: \n[('pg_toast', 10, None),\n ('pg_temp_1', 10, None),\n ('pg_toast_temp_1', 10, None),\n ('pg_catalog', 10, '{postgres=UC/postgres,=U/postgres}'),\n ('public', 10, '{postgres=UC/postgres,=UC/postgres}'),\n ('information_schema', 10, '{postgres=UC/postgres,=U/postgres}'),\n ('schools', 16386, None),\n ('students', 16386, None)]\n</code></pre>\n\n<p>and from the psql CLI</p>\n\n<pre><code>user# select * from pg_tables;\n\n     schemaname     |          tablename           | tableowner | tablespace | hasindexes | hasrules | hastriggers | rowsecurity \n--------------------+------------------------------+------------+------------+------------+----------+-------------+-------------\n schools            | addresses                    | diego      |            | t          | f        | f           | f\n students           | enrollments                  | diego      |            | t          | f        | f           | f\n pg_catalog         | pg_statistic                 | postgres   |            | t          | f        | f           | f\n pg_catalog         | pg_type                      | postgres   |            | t          | f        | f           | f\n pg_catalog         | pg_authid                    | postgres   | pg_global  | t          | f        | f           | f\n pg_catalog         | pg_user_mapping              | postgres   |            | t          | f        | f           | f\n-- other tables were omitted\n</code></pre>\n\n<p>However, if I want to reflect that database in some other instance of <code>declarative_base</code> nothing is reflected.</p>\n\n<p>Something like</p>\n\n<pre><code>In [87]: Base.metadata.tables.keys()\nOut[87]: dict_keys(['schools.addresses', 'students.enrollments'])\n\nIn [88]: new_base = declarative_base()\n\nIn [89]: new_base.metadata.reflect(bind=engine)\n\nIn [90]: new_base.metadata.tables.keys()\nOut[90]: dict_keys([])\n</code></pre>\n\n<p>I understand that <code>reflect</code> accepts a <code>schema</code> as a parameter but I would like to obtain all of them at once during reflection. For some reason I can achieve this one at a time.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9096198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec09c081f335989c772044fcf390465e?s=128&d=identicon&r=PG&f=1", "display_name": "self.bcl", "link": "https://stackoverflow.com/users/9096198/self-bcl"}, "edited": false, "score": 0, "creation_date": 1513206305, "post_id": 47803302, "comment_id": 82568296, "body": "I see, I did not realize that it defaults to the first root created."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "reply_to_user": {"reputation": 37, "user_id": 9096198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec09c081f335989c772044fcf390465e?s=128&d=identicon&r=PG&f=1", "display_name": "self.bcl", "link": "https://stackoverflow.com/users/9096198/self-bcl"}, "edited": false, "score": 1, "creation_date": 1513206350, "post_id": 47803302, "comment_id": 82568311, "body": "@self.bcl all tkinter widgets do that."}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": false, "score": 4, "last_activity_date": 1513205440, "creation_date": 1513205440, "answer_id": 47803302, "question_id": 47803270, "link": "https://stackoverflow.com/questions/47803270/what-is-the-tkinter-variable-class-first-argument-used-for/47803302#47803302", "title": "What is the Tkinter variable class first argument used for?", "body": "<p>It's more about what root window to use. It defaults to the first root created. However, sometimes (very rarely) you may need to use <code>Tk()</code> more than once in a program. In that case it's important to associate all variables with the appropriate root. </p>\n\n<p>Here's an example: </p>\n\n<pre><code>import tkinter as tk\n\nclass menu:\n    def __init__(self):\n        self.game = tk.Tk()\n        self.game.geometry('200x200')\n        self.var = tk.StringVar()\n        #~ self.var = tk.StringVar(master=self.game) # this solves the problem\n        ent = tk.OptionMenu(self.game, self.var, 'one', 'two', 'three', 'four')\n        ent.pack()\n        lbl = tk.Label(self.game, textvariable=self.var)\n        lbl.pack()\n        btn = tk.Button(self.game, text=\"new window\", command=self.playagain)\n        btn.pack()\n        self.game.mainloop()\n\n    def playagain(self):\n        menu()\n\nmenu()\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9096198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec09c081f335989c772044fcf390465e?s=128&d=identicon&r=PG&f=1", "display_name": "self.bcl", "link": "https://stackoverflow.com/users/9096198/self-bcl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1513205440, "creation_date": 1513205264, "question_id": 47803270, "link": "https://stackoverflow.com/questions/47803270/what-is-the-tkinter-variable-class-first-argument-used-for", "title": "What is the Tkinter variable class first argument used for?", "body": "<p>The Tkinter Variable class such as StringVar or IntVar allows for a tk frame widget as the first argument. What is this argument used for?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2872, "user_id": 6805091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6abbb6c8d37d0e91ad6265d68a55bf?s=128&d=identicon&r=PG&f=1", "display_name": "Bubble Bubble Bubble Gut", "link": "https://stackoverflow.com/users/6805091/bubble-bubble-bubble-gut"}, "edited": false, "score": 0, "creation_date": 1513205378, "post_id": 47803263, "comment_id": 82567985, "body": "SO is not here to solve your homework problems."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1513205440, "post_id": 47803263, "comment_id": 82568022, "body": "both output and output needed look the same (except for the trailing comma)"}, {"owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "edited": false, "score": 0, "creation_date": 1513205454, "post_id": 47803263, "comment_id": 82568030, "body": "Link me to documentation so I can learn. Very stuck on this problem...and this is not for homework but for my own studying. Class is done, its december"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1513205486, "post_id": 47803263, "comment_id": 82568042, "body": "<a href=\"https://docs.python.org/3/index.html\" rel=\"nofollow noreferrer\">docs.python.org/3/index.html</a>"}, {"owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1513205503, "post_id": 47803263, "comment_id": 82568053, "body": "@alfasin Yes how would I remove trailling coma? Oh lol sounded stupid I think I got the fix"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1513205633, "post_id": 47803263, "comment_id": 82568090, "body": "You don&#39;t want to print a comma after each item, you want to <i>join</i> the items with commas."}, {"owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "edited": false, "score": 1, "creation_date": 1513205781, "post_id": 47803263, "comment_id": 82568135, "body": "You could make it a one-liner by using <code>range(start, stop, step)</code> and <code>&#39;, &#39;.join</code>."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1513205807, "post_id": 47803263, "comment_id": 82568146, "body": "let your function return a list which you then print any way you want, dont print in every recursive call"}], "answers": [{"comments": [{"owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "edited": false, "score": 0, "creation_date": 1513206292, "post_id": 47803387, "comment_id": 82568290, "body": "Thanks, I was thinking about using lists except that the practice problem requires an output. The problem can be found here <i>sigh</i>  <a href=\"https://www.codestepbystep.com/problem/view/python/recursion/count_to_by\" rel=\"nofollow noreferrer\">codestepbystep.com/problem/view/python/recursion/count_to_by</a>"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "reply_to_user": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "edited": false, "score": 0, "creation_date": 1513209412, "post_id": 47803387, "comment_id": 82569294, "body": "@CaelanvanOlm See edit"}, {"owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "edited": false, "score": 1, "creation_date": 1513210239, "post_id": 47803387, "comment_id": 82569547, "body": "Beatiful! I will study from your function. Thanks a ton!"}], "tags": [], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "is_accepted": true, "score": 2, "last_activity_date": 1513209739, "last_edit_date": 1513209739, "creation_date": 1513205936, "answer_id": 47803387, "question_id": 47803263, "link": "https://stackoverflow.com/questions/47803263/how-do-i-format-this-string/47803387#47803387", "title": "How do I format this string?", "body": "<p>I'd make <code>count_to_by</code> return a <code>list</code>, so it can be more \"general purpose\".</p>\n\n<p>Then, we can use <code>', '.join</code> to print the values:</p>\n\n<pre><code>def count_to_by(n, a):\n    return [] if n &lt;= 0 else [n] + count_to_by(n - a, a)\n\nprint(', '.join(map(str, reversed(count_to_by(30, 4)))))\n# 2, 6, 10, 14, 18, 22, 26, 30\n</code></pre>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<hr>\n\n<p>To answer the specific use case of the exercise, you can do something similar to what I did above:</p>\n\n<pre><code>def count_to_by(n, m, root=True):\n    if n &lt; 1 or m &lt; 1:\n         raise ValueError\n    try:\n        result = [n] + count_to_by(n - m, m, root=False)\n    except ValueError:\n        result = [n]\n    if root:\n        print(', '.join(map(str, reversed(result))))\n    return result\n\ncount_to_by(30, 4)\n# 2, 6, 10, 14, 18, 22, 26, 30\n</code></pre>\n"}], "owner": {"reputation": 32, "user_id": 8691262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4da46b9151386ad55ba6f3f84504d?s=128&d=identicon&r=PG&f=1", "display_name": "Caelan van Olm", "link": "https://stackoverflow.com/users/8691262/caelan-van-olm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1513208075, "accepted_answer_id": 47803387, "answer_count": 1, "score": -3, "last_activity_date": 1513209739, "creation_date": 1513205238, "last_edit_date": 1513205393, "question_id": 47803263, "link": "https://stackoverflow.com/questions/47803263/how-do-i-format-this-string", "closed_reason": "Needs details or clarity", "title": "How do I format this string?", "body": "<pre><code>def count_to_by(n, a):\n     if n &lt;= 0:\n       return n  \n     count_to_by(n - a, a)\n     print(str(n) + \", \", end=\"\")\n     count_to_by(30, 4)\n     input()\n</code></pre>\n\n<hr>\n\n<pre><code>Output:        2, 6, 10, 14, 18, 22, 26, 30,\nOutput Needed: 2, 6, 10, 14, 18, 22, 26, 30\n</code></pre>\n\n<p>Very stuck on this problem. Solution needs recursion, thanks!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 2, "last_activity_date": 1513205426, "creation_date": 1513205426, "answer_id": 47803299, "question_id": 47803259, "link": "https://stackoverflow.com/questions/47803259/count-in-categories/47803299#47803299", "title": "Count in categories", "body": "<p>Let's try:</p>\n\n<pre><code>df.groupby(['col1','col2']).size()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>col1     col2  \nState A  Town A    2\n         Town B    1\nState B  Town A    1\n         Town B    1\ndtype: int64\n</code></pre>\n\n<p>And, you cand use to_frame() or reset_index() to get a dataframe.</p>\n"}, {"comments": [{"owner": {"reputation": 436, "user_id": 5129166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32f78194f8d3ce78d37a90739aae69c0?s=128&d=identicon&r=PG", "display_name": "user21359", "link": "https://stackoverflow.com/users/5129166/user21359"}, "edited": false, "score": 0, "creation_date": 1513205991, "post_id": 47803369, "comment_id": 82568200, "body": "I know I didn&#39;t ask this, but is there a way to sort the counts within each group? Here they are sorted, but I know I would need to sort them myself in general."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 436, "user_id": 5129166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32f78194f8d3ce78d37a90739aae69c0?s=128&d=identicon&r=PG", "display_name": "user21359", "link": "https://stackoverflow.com/users/5129166/user21359"}, "edited": false, "score": 1, "creation_date": 1513206204, "post_id": 47803369, "comment_id": 82568255, "body": "@user21359 for example what kind of order you want? Can you show me that my friend"}, {"owner": {"reputation": 436, "user_id": 5129166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32f78194f8d3ce78d37a90739aae69c0?s=128&d=identicon&r=PG", "display_name": "user21359", "link": "https://stackoverflow.com/users/5129166/user21359"}, "edited": false, "score": 0, "creation_date": 1513206310, "post_id": 47803369, "comment_id": 82568299, "body": "I mean order the counts in ascending or descending order within each state group, rather than have the towns ordered."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 436, "user_id": 5129166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32f78194f8d3ce78d37a90739aae69c0?s=128&d=identicon&r=PG", "display_name": "user21359", "link": "https://stackoverflow.com/users/5129166/user21359"}, "edited": false, "score": 0, "creation_date": 1513209244, "post_id": 47803369, "comment_id": 82569227, "body": "@user21359 I know :-) that is not you :-)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1513206744, "last_edit_date": 1513206744, "creation_date": 1513205812, "answer_id": 47803369, "question_id": 47803259, "link": "https://stackoverflow.com/questions/47803259/count-in-categories/47803369#47803369", "title": "Count in categories", "body": "<p>You can add <code>['col2']</code> to fix your code </p>\n\n<pre><code>df.groupby(['col1','col2'])['col2'].count()\nOut[150]: \ncol1     col2  \nState A  Town A    2\n         Town B    1\nState B  Town A    1\n         Town B    1\nName: col2, dtype: int64\n</code></pre>\n\n<p>If you need sort </p>\n\n<pre><code>df1=df.groupby(['col1','col2'])['col2'].count().to_frame('value')\n\ndf1['helpcol']=df1.index.get_level_values(0)\n\ndf1.sort_values(['helpcol','value'],ascending=[True,True])\nOut[164]: \n                value  helpcol\ncol1    col2                  \nState A Town B      1  State A\n        Town A      2  State A\nState B Town A      1  State B\n        Town B      1  State B\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 9015240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b44b4310414029b97dfaa0240d654220?s=128&d=identicon&r=PG&f=1", "display_name": "jo9k", "link": "https://stackoverflow.com/users/9015240/jo9k"}, "is_accepted": false, "score": 2, "last_activity_date": 1513208434, "creation_date": 1513208434, "answer_id": 47803763, "question_id": 47803259, "link": "https://stackoverflow.com/questions/47803259/count-in-categories/47803763#47803763", "title": "Count in categories", "body": "<h2>Counting values in subgroups</h2>\n\n<p>The output you are looking for is achieved by <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.crosstab.html\" rel=\"nofollow noreferrer\">pandas.crosstab</a>:</p>\n\n<pre><code>&gt;&gt;&gt;  pd.crosstab(df.col1, df.col2)\n\ncol2     Town A  Town B\ncol1\nState A       2       1\nState B       1       1\n</code></pre>\n\n<hr>\n\n<p>If you wanted Multiindex, I suggest adding <a href=\"https://pandas.pydata.org/pandas-docs/version/0.21/generated/pandas.DataFrame.stack.html\" rel=\"nofollow noreferrer\">stack</a> to the previous command:</p>\n\n<pre><code>&gt;&gt;&gt; pd.crosstab(df.col1, df.col2).stack()\n\ncol1     col2\nState A  Town A    2\n         Town B    1\nState B  Town A    1\n         Town B    1\n</code></pre>\n\n<hr>\n\n<p>If you really want to use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\">groupby</a>, follow it with <code>.size()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df.groupby(['col1','col2']).size()\n\ncol1     col2\nState A  Town A    2\n         Town B    1\nState B  Town A    1\n         Town B    1\n</code></pre>\n"}], "owner": {"reputation": 436, "user_id": 5129166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32f78194f8d3ce78d37a90739aae69c0?s=128&d=identicon&r=PG", "display_name": "user21359", "link": "https://stackoverflow.com/users/5129166/user21359"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 47803369, "answer_count": 3, "score": 2, "last_activity_date": 1513208434, "creation_date": 1513205220, "question_id": 47803259, "link": "https://stackoverflow.com/questions/47803259/count-in-categories", "title": "Count in categories", "body": "<p>Suppose I have data in the following form:</p>\n\n<pre><code>d = {'col1': ['State A','State A','State A', 'State B','State B'], 'col2': ['Town A', 'Town A', 'Town B', 'Town A','Town B']}\ndf = pd.DataFrame(data=d)\n</code></pre>\n\n<p>I want to use a groupby to get a count of how many occurrences of Town A and Town B are in State A and State B.  So something like</p>\n\n<pre><code>State A  Town A  2\n         Town B  1\nState B  Town A  1\n         Town B  1\n</code></pre>\n\n<p>What's the syntax for this? The usual groupby returns an empty dataframe, since there are no other columns.</p>\n\n<pre><code>df.groupby(['col1','col2']).count()\n</code></pre>\n"}, {"tags": ["python", "webrtc", "sip", "rtp", "dtls"], "answers": [{"tags": [], "owner": {"reputation": 998, "user_id": 373305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84324a6a363b6189d245cfae2a19361f?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/373305/jeremy"}, "is_accepted": false, "score": 0, "last_activity_date": 1520067260, "last_edit_date": 1520067260, "creation_date": 1519382770, "answer_id": 48946021, "question_id": 47803257, "link": "https://stackoverflow.com/questions/47803257/webrtc-correctly-using-sip-and-seeking-a-python-library/48946021#48946021", "title": "webRTC - Correctly using SIP and seeking a Python library", "body": "<p>For the actual SRTP encryption/decryption, you can make use of pylibsrtp:</p>\n\n<p><a href=\"https://pypi.python.org/pypi/pylibsrtp\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/pylibsrtp</a></p>\n\n<p>The DTLS handshake (which produces the SRTP master key) is trickier, but \npyOpenSSL should soon have the necessary bindings to enable the SRTP extension:</p>\n\n<p><a href=\"https://github.com/pyca/pyopenssl/pull/734\" rel=\"nofollow noreferrer\">https://github.com/pyca/pyopenssl/pull/734</a></p>\n\n<p>Once this is available, you will be able to extract generate keying material as:</p>\n\n<pre><code>SRTP_KEY_LEN = 16\nSRTP_SALT_LEN = 14\n\ndef get_srtp_key_salt(src, idx):\n    key_start = idx * SRTP_KEY_LEN\n    salt_start = 2 * SRTP_KEY_LEN + idx * SRTP_SALT_LEN\n    return (\n        src[key_start:key_start + SRTP_KEY_LEN] +\n        src[salt_start:salt_start + SRTP_SALT_LEN]\n    )\n\nmaterial = connection.export_keying_material(\n    b'EXTRACTOR-dtls_srtp',\n    2 * (SRTP_KEY_LEN + SRTP_SALT_LEN))\n\nif is_server:\n    srtp_tx_key = get_srtp_key_salt(material, 1)\n    srtp_rx_key = get_srtp_key_salt(material, 0)\nelse:\n    srtp_tx_key = get_srtp_key_salt(material, 0)\n    srtp_rx_key = get_srtp_key_salt(material, 1)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9052996, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a9ebf73f744ab13d5c730df531f580a0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9052996/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520067260, "creation_date": 1513205200, "last_edit_date": 1513212536, "question_id": 47803257, "link": "https://stackoverflow.com/questions/47803257/webrtc-correctly-using-sip-and-seeking-a-python-library", "title": "webRTC - Correctly using SIP and seeking a Python library", "body": "<p>I am trying to complete a handshake using DTLS and SIP. This website [0] tells me that I need to send a SIP response to the incoming request, that contains my SDP file and fingerprints used to complete a DTLS handshake. I am using a client &lt;--> server model at the moment. The client is requesting a call, and I already have the RTP packets, but I need to send them back to the client when a connection is established. I am have difficulty establishing the connection.</p>\n\n<p>For reference of the DTLS handshake, I have a screenshot of the packets I am referring to that I have found using wireshark during a browser-browser call using a webRTC library. <a href=\"https://imgur.com/a/00bi7\" rel=\"nofollow noreferrer\">https://imgur.com/a/00bi7</a></p>\n\n<p>Where can I find a good python library that is used for these purposes?</p>\n\n<pre><code>1 ) Setup the DTLS handshake and encrypt my RTP packets to SRTP?\n</code></pre>\n\n<p>[0] <a href=\"https://tools.ietf.org/html/rfc5763\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc5763</a></p>\n"}, {"tags": ["python", "python-3.x", "math"], "comments": [{"owner": {"reputation": 2778, "user_id": 4950339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VX3JJ.jpg?s=128&g=1", "display_name": "percusse", "link": "https://stackoverflow.com/users/4950339/percusse"}, "edited": false, "score": 1, "creation_date": 1513205510, "post_id": 47803241, "comment_id": 82568055, "body": "put <code>print(...)</code> to whatever you are trying to decrease for debugging. for example <code>len(order)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9096178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab5d762b69f28ef50813a116d84b311?s=128&d=identicon&r=PG&f=1", "display_name": "Tomato-Cumber", "link": "https://stackoverflow.com/users/9096178/tomato-cumber"}, "edited": false, "score": 0, "creation_date": 1513253669, "post_id": 47803642, "comment_id": 82587479, "body": "Thankyou so much!"}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 2, "last_activity_date": 1513207555, "creation_date": 1513207555, "answer_id": 47803642, "question_id": 47803241, "link": "https://stackoverflow.com/questions/47803241/whats-wrong-with-this-while-loop-in-python/47803642#47803642", "title": "whats wrong with this while loop in Python?", "body": "<p>While there are a lot of odd things about your code, this is where it gets into an infinite loop:</p>\n\n<pre><code>picks_a_person = [A, B, C, D, E, F, G, H, I, J]\nperson_gets_picked = [A, B, C, D, E, F, G, H, I, J]\nwhile len(order) &lt; 10:\n    a = person_gets_picked[random.randint(0, (len(person_gets_picked)-1))]\n    if a != picks_a_person[0]:\n        order.append(a)\n        person_gets_picked.remove(a)\n        del picks_a_person[0]\ntotal.append(order)\n</code></pre>\n\n<p>Let's do some rubber duck debugging - what happens when your <code>random.randint(0, (len(person_gets_picked)-1))</code> returns a number larger than <code>0</code> nine times in a row (worst case scenario)? All <code>person_gets_picked</code> elements except <code>A</code> get removed and added to the <code>order</code> list (which is still under <code>10</code> elements to break away from the <code>while</code> loop).</p>\n\n<p>At that point we have a state as <code>picks_a_person = [A]</code> and <code>person_gets_picked = [A]</code>. <code>random.randint(0, (len(person_gets_picked)-1))</code> will, thus, always return <code>0</code>, <code>a</code> will always be set to <code>A</code> and since <code>picks_a_person[0] == A</code> the condition <code>if a != picks_a_person[0]</code> will never be evaluated as <code>True</code>, hence the <code>order</code> will never get its 10th element and therefore you got yourself an infinite loop.</p>\n\n<p>It doesn't even have to be <em>nine positive numbers in a row</em> for this to occur - all it needs to happen is for <code>A</code> to remain as one of the last two picks and for random to land on the other option.</p>\n\n<p>So why don't you write your whole loop as:</p>\n\n<pre><code>persons = [A, B, C, D, E, F, G, H, I, J]\npersons_num = len(persons)\ntotal = [random.sample(persons, persons_num) for _ in range(1000)]\n</code></pre>\n\n<p>And you're done.</p>\n"}], "owner": {"reputation": 3, "user_id": 9096178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dab5d762b69f28ef50813a116d84b311?s=128&d=identicon&r=PG&f=1", "display_name": "Tomato-Cumber", "link": "https://stackoverflow.com/users/9096178/tomato-cumber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 47803642, "answer_count": 1, "score": 0, "last_activity_date": 1513208049, "creation_date": 1513205146, "last_edit_date": 1513208049, "question_id": 47803241, "link": "https://stackoverflow.com/questions/47803241/whats-wrong-with-this-while-loop-in-python", "title": "whats wrong with this while loop in Python?", "body": "<p>Ok so I have spent hours trying to resolve this and I feel its some simple error but I cannot find a way to resolve this.\nthe section I am having issues with is the second half of the code. There seems to be an infinite loop somewhere among the 2 nested while loops. If anyone is able to help, this would be great, thanks in advance.</p>\n\n<pre><code>import sympy as sym\nimport random\n\nA, B, C, D, E, F, G, H, I, J = sym.symbols('A, B, C, D, E, F, G, H, I, J')\npicks_a_person = [A, B, C, D, E, F, G, H, I, J] #List of people picking a name from a hat\nperson_gets_picked = [A, B, C, D, E, F, G, H, I, J] # List of names drawn from a hat\ndef re_draws(p):\n    n = 0\n    count = 0\n    while n &lt; 1000: #Repeats the test 1000 times for an accurate percentage\n        n += 1\n        random.shuffle(person_gets_picked) #Chooses a random order of the list of names drawn\n        for i in range(p):\n            if person_gets_picked[i] == picks_a_person[i]: #Checks for all 'p' elements of the lists are different\n                count = count + 1\n    print(\"count = \" + str(count)) #Returns the number of times a re-draw was not required\n\nimport numpy as np\nfrom collections import Counter\n\ntotal = []\nwhile len(total) &lt; 1000:\n    order = []\n    picks_a_person = [A, B, C, D, E, F, G, H, I, J]\n    person_gets_picked = [A, B, C, D, E, F, G, H, I, J]\n    while len(order) &lt; 10:\n        a = person_gets_picked[random.randint(0, (len(person_gets_picked)-1))]\n        if a != picks_a_person[0]:\n            order.append(a)\n            person_gets_picked.remove(a)\n            del picks_a_person[0]\n    total.append(order)\nCounter(np.array(total)[:,1])\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 3, "last_activity_date": 1513209414, "last_edit_date": 1513209414, "creation_date": 1513205648, "answer_id": 47803332, "question_id": 47803239, "link": "https://stackoverflow.com/questions/47803239/how-to-fix-pandas-dataframe-which-shows-nan-for-string-and-remove-list-brackets/47803332#47803332", "title": "How to fix Pandas dataframe which shows NaN for string, and remove list brackets when write dataframe to csv", "body": "<p>As for first problem: in <code>data</code> you have char <code>:</code> in names <code>'Title:'</code>, <code>'Venue:'</code><br>\nso <code>DataFrame</code> can't find <code>'Title'</code>, <code>'Venue'</code> in <code>data</code>.</p>\n\n<p>You have to remove <code>:</code> </p>\n\n<p>Or you can skip <code>columns=[...]</code> and it will use names with <code>:</code> -<code>'Title:'</code>, <code>'Venue:'</code> </p>\n\n<pre><code>df = pd.DataFrame(data)\n</code></pre>\n\n<hr>\n\n<p>As for second: I was searching solution with <code>pandas</code> after (or during) creating <code>DataFrame</code>.<br>\nAnd I didn't find it.</p>\n\n<p>But if you assume you can modify data before you create <code>DataFrame</code> then you can write you version shorter</p>\n\n<pre><code>co_authors = [','.join(row) for row in co_authors] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 534, "user_id": 9015240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b44b4310414029b97dfaa0240d654220?s=128&d=identicon&r=PG&f=1", "display_name": "jo9k", "link": "https://stackoverflow.com/users/9015240/jo9k"}, "edited": false, "score": 0, "creation_date": 1513208785, "post_id": 47803733, "comment_id": 82569073, "body": "I don&#39;t think we want to join them by <code>,</code> when output is meant to be .csv"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513209161, "post_id": 47803733, "comment_id": 82569198, "body": "I was searching solution with pandas or directly in DataFrame, but I didn&#39;t found. BTW: you have strings so you don&#39;t need <code>map(str,...)</code> - <code>co_authors = [&#39;,&#39;.join(row) for row in co_authors]</code>"}], "tags": [], "owner": {"reputation": 1486, "user_id": 975984, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ca543db3a2ed006ac7bb00d3c8805a98?s=128&d=identicon&r=PG", "display_name": "twfx", "link": "https://stackoverflow.com/users/975984/twfx"}, "is_accepted": false, "score": 1, "last_activity_date": 1513208251, "creation_date": 1513208251, "answer_id": 47803733, "question_id": 47803239, "link": "https://stackoverflow.com/questions/47803239/how-to-fix-pandas-dataframe-which-shows-nan-for-string-and-remove-list-brackets/47803733#47803733", "title": "How to fix Pandas dataframe which shows NaN for string, and remove list brackets when write dataframe to csv", "body": "<p>Ah Well, I solve (b) using the below before loading into data..</p>\n\n<pre><code>tmp = []\nfor c in xrange(len(co_authors)):\n    tmp.append(','.join(map(str,co_authors[c])))\nco_authors = tmp\n</code></pre>\n"}], "owner": {"reputation": 1486, "user_id": 975984, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ca543db3a2ed006ac7bb00d3c8805a98?s=128&d=identicon&r=PG", "display_name": "twfx", "link": "https://stackoverflow.com/users/975984/twfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513209414, "creation_date": 1513205134, "last_edit_date": 1513205251, "question_id": 47803239, "link": "https://stackoverflow.com/questions/47803239/how-to-fix-pandas-dataframe-which-shows-nan-for-string-and-remove-list-brackets", "title": "How to fix Pandas dataframe which shows NaN for string, and remove list brackets when write dataframe to csv", "body": "<p>I am converting python lists into Pandas dataframe, then write the dataframe into csv. The lists are as following:</p>\n\n<pre><code>name = ['james beard', 'james beard']\nids = [304589, 304589]\nyear = [1999, 1999]\nco_authors = [['athman bouguettaya', 'boualem benatallah', 'lily hendra', 'kevin smith', 'mourad quzzani'], ['athman bouguettaya', 'boualem benatallah', 'lily hendra', 'kevin smith', 'mourad quzzani']]\ntitle = ['world wide databaseintegrating the web corba and databases', 'world wide databaseintegrating the web corba and databases']\nvenue = ['international conference on management of data', 'international conference on management of data']\n\ndata = {\n    'Name': name,\n    'ID': ids,\n    'Year': year,    \n    'Co-author': co_authors,\n    'Title:': title,\n    'Venue:': venue,\n}\n\ndf = pd.DataFrame(data, columns=['Name','ID','Year','Co-author','Title', 'Venue'])\ndf\ndf.to_csv('test.csv')\n</code></pre>\n\n<p>My questions are</p>\n\n<p>(a) \"Title\" and \"Venue\" columns are shown as 'NaN' instead of their values (see below). How can I fix this?</p>\n\n<pre><code>Name    ID  Year    Co-author   Title   Venue\n0   james beard 304589  1999    [athman bouguettaya, boualem benatallah, lily ...   NaN NaN\n1   james beard 304589  1999    [athman bouguettaya, boualem benatallah, lily ...   NaN NaN\n</code></pre>\n\n<p>(b) In CSV (see below), how to add \"Index\" to the header and remove brackets in \"Co-author\"? </p>\n\n<pre><code>,Name,ID,Year,Co-author,Title,Venue\n0,james beard,304589,1999,\"['athman bouguettaya', 'boualem benatallah', 'lily hendra', 'kevin smith', 'mourad quzzani']\",,\n1,james beard,304589,1999,\"['athman bouguettaya', 'boualem benatallah', 'lily hendra', 'kevin smith', 'mourad quzzani']\",,\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1513205236, "post_id": 47803233, "comment_id": 82567932, "body": "Yes, absolutely. <code>numpy</code> types correspond to actual primitive numeric types that are stored in primitive arrays. You can check this yourself by looking at the bytes on the underlying buffer of any given numpy array."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1513206504, "post_id": 47803233, "comment_id": 82568363, "body": "Note also, numpy supports <i>structured arrays</i>, so arrays of c-like structs! It gives you a lot of powerful stuff if you like working with low-level data-types in a memory efficient manner. You can essentially think of <code>numpy</code> as an object-oriented wrapper around primitive C arrays implementing true multi-dimensional arrays..."}, {"owner": {"reputation": 503, "user_id": 8345278, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154300892824888/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/8345278/dan"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513206821, "post_id": 47803233, "comment_id": 82568458, "body": "@juanpa.arrivillaga Fascinating stuff. As a fan of C this is very likely a deep rabbit hole. <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/basics.rec.html\" rel=\"nofollow noreferrer\">Docs</a> for anyone interested."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513207177, "post_id": 47803233, "comment_id": 82568564, "body": "Yep. If you are familiar with C, then you should definitely check out the vanilla Python <code>struct</code> and <code>ctypes</code> modules."}], "answers": [{"tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 3, "last_activity_date": 1513206303, "last_edit_date": 1513206303, "creation_date": 1513205847, "answer_id": 47803376, "question_id": 47803233, "link": "https://stackoverflow.com/questions/47803233/do-pythons-numeric-types-impact-the-low-level-precision-of-a-number/47803376#47803376", "title": "Do python&#39;s numeric types impact the low-level precision of a number?", "body": "<p>The above comment is completely right and also mentions some form of checking.</p>\n\n<p>But let's do some tiny demo where we <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.nbytes.html#numpy.ndarray.nbytes\" rel=\"nofollow noreferrer\">read out</a> the consumed memory:</p>\n\n<pre><code>import numpy as np\n\na = np.array([1,2,3], dtype=float)\nprint(a.nbytes)\nb = np.array([1,2,3], dtype=np.float32)\nprint(b.nbytes)\nc = np.array([1,2,3], dtype=np.longfloat)  # this one: OS/Build-dependent\nprint(c.nbytes)\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>24\n12\n48\n</code></pre>\n\n<p>You can also read out the size-per-item:</p>\n\n<pre><code>c.itemsize\n# 16\n</code></pre>\n\n<p>In general this is quite intuitive for most types if you know some C/C++-types, with one exception: bool will take a full byte for each entry (despite being a bit!), which is also documented in the links below!</p>\n\n<p>The most import doc-entry for this is probably <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/basics.types.html\" rel=\"nofollow noreferrer\">Data types</a> for the type-overview and <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.ndarray.html\" rel=\"nofollow noreferrer\">ndarray</a> for attributes you can query.</p>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 3, "last_activity_date": 1513206377, "creation_date": 1513206377, "answer_id": 47803463, "question_id": 47803233, "link": "https://stackoverflow.com/questions/47803233/do-pythons-numeric-types-impact-the-low-level-precision-of-a-number/47803463#47803463", "title": "Do python&#39;s numeric types impact the low-level precision of a number?", "body": "<p>Note, you can see this for yourself by modifying the underlying memory, since <code>numpy</code> arrays implement the buffer protocol, we can create a <code>memoryview</code>:</p>\n\n<pre><code>&gt;&gt;&gt; arr32 = np.array([1,2,3], dtype=np.int32)\n&gt;&gt;&gt; arr64 = np.array([1,2,3], dtype=np.int64)\n&gt;&gt;&gt; arr32\narray([1, 2, 3], dtype=int32)\n&gt;&gt;&gt; arr64\narray([1, 2, 3])\n&gt;&gt;&gt; buff32 = memoryview(arr32)\n&gt;&gt;&gt; buff64 = memoryview(arr64)\n</code></pre>\n\n<p>Now, let's <a href=\"https://docs.python.org/3/library/struct.html#format-characters\" rel=\"nofollow noreferrer\">cast the memory to unsigned char type</a></p>\n\n<pre><code>&gt;&gt;&gt; casted32 = buff32.cast('B')\n&gt;&gt;&gt; casted64 = buff64.cast('B')\n&gt;&gt;&gt; list(casted32)\n[1, 0, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0]\n&gt;&gt;&gt; list(casted64)\n[1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0]\n</code></pre>\n\n<p>Looks like it's actually different sizes in-memory. Look what I can do!:</p>\n\n<pre><code>&gt;&gt;&gt; casted32[1] = 1\n&gt;&gt;&gt; casted64[2] = 1\n&gt;&gt;&gt; arr32\narray([257,   2,   3], dtype=int32)\n&gt;&gt;&gt; arr64\narray([65537,     2,     3])\n</code></pre>\n"}], "owner": {"reputation": 503, "user_id": 8345278, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154300892824888/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/8345278/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 47803376, "answer_count": 2, "score": 3, "last_activity_date": 1513206377, "creation_date": 1513205074, "question_id": 47803233, "link": "https://stackoverflow.com/questions/47803233/do-pythons-numeric-types-impact-the-low-level-precision-of-a-number", "title": "Do python&#39;s numeric types impact the low-level precision of a number?", "body": "<p>For example, I understand <code>float</code> is usually represented by a C <code>double</code>, and integers have unlimited precision, per the <a href=\"https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex\" rel=\"nofollow noreferrer\">docs</a>. <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/basics.types.html\" rel=\"nofollow noreferrer\">NumPy</a> of course offers more specific types. Does, for example, the type of <code>float</code> in NumPy in any way impact the number's precision in memory? Or are numbers for various types stored with the same precision, and the type just implements the number differently at a higher level?</p>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1513243618, "post_id": 47803215, "comment_id": 82580833, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2612610/how-to-access-object-attribute-given-string-corresponding-to-name-of-that-attrib\">How to access object attribute given string corresponding to name of that attribute</a>, <a href=\"https://stackoverflow.com/questions/19576978/how-to-retrieve-model-column-value-dynamically-in-python\">How to retrieve model column value dynamically in python</a>"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1513243766, "post_id": 47803215, "comment_id": 82580927, "body": "Note that if you&#39;re going to be accessing the model attributes, perhaps inspect the mapper and its <a href=\"http://docs.sqlalchemy.org/en/latest/orm/mapping_api.html#sqlalchemy.orm.mapper.Mapper.attrs\" rel=\"nofollow noreferrer\">attrs</a> instead of the table columns. In your case they&#39;d seem to be one and the same, but need not be."}, {"owner": {"reputation": 442, "user_id": 6284028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y7c05.jpg?s=128&g=1", "display_name": "Arcsector", "link": "https://stackoverflow.com/users/6284028/arcsector"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1513381083, "post_id": 47803215, "comment_id": 82646587, "body": "@IljaEveril&#228; How would you suggest implementing it? I inserted <code>for k in inspect(ContentBlocks).attrs</code>, but the individual columns still aren&#39;t iterable. Is there a way to access the data from the mapper instance?"}], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 6284028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y7c05.jpg?s=128&g=1", "display_name": "Arcsector", "link": "https://stackoverflow.com/users/6284028/arcsector"}, "is_accepted": true, "score": 0, "last_activity_date": 1601958609, "last_edit_date": 1601958609, "creation_date": 1514917583, "answer_id": 48065951, "question_id": 47803215, "link": "https://stackoverflow.com/questions/47803215/getting-a-whole-rows-data-without-knowing-the-column-names-in-sqlalchemy/48065951#48065951", "title": "Getting a whole row&#39;s data without knowing the column names in sqlalchemy", "body": "<p><a href=\"https://stackoverflow.com/users/2681632/ilja-everil%C3%A4\">IljaEveril\u00e4</a> had the correct solution. Here it is:</p>\n<pre><code>def ViewTable(self):\n    session, ContentBlocks, Base = self.Create_Session()\n    request = session.query(ContentBlocks).all()\n    columns = ContentBlocks.__table__.columns.keys()\n    num = 1\n    for entry in request:\n        print(num, '\\\\', end=' ')\n        for column in columns:\n            print(column, ':', getattr(entry, column), '|',  end=' ')\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 6284028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y7c05.jpg?s=128&g=1", "display_name": "Arcsector", "link": "https://stackoverflow.com/users/6284028/arcsector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 48065951, "answer_count": 1, "score": 0, "last_activity_date": 1601958609, "creation_date": 1513204950, "question_id": 47803215, "link": "https://stackoverflow.com/questions/47803215/getting-a-whole-rows-data-without-knowing-the-column-names-in-sqlalchemy", "title": "Getting a whole row&#39;s data without knowing the column names in sqlalchemy", "body": "<p>My question is how does one get all data in a row (in a printable format, not just the object) where the user can specify the names of the columns of data they want. Here's my current code:</p>\n\n<pre><code>#!/usr/bin/python3\nfrom sqlalchemy import create_engine, MetaData, Table, Column, String, Integer\nfrom sqlalchemy.orm import mapper, sessionmaker\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\n\nclass SQL_Engine:\n\n    def __init__(self, dbpath, username, password, dbtype='sqlite', tableName='content_blocks', connector=None):\n            self.dbpath = dbpath\n            self.username = username\n            self.password = password\n            self.dbtype = dbtype\n            self.tableName = tableName\n            self.connector = connector\n\n    def Create_Session(self):\n            if self.connector == None:\n                    engine = create_engine(self.dbtype+\"://\"+self.username+\":\"+self.password+\"@\"+self.dbpath)\n            else:\n                    engine = create_engine(self.dbtype+\"+\"+self.connector+\"://\"+self.username+\":\"+self.password+\"@\"+self.dbpath)\n            Base = declarative_base(engine)\n            class ContentBlocks(Base):\n                    __tablename__ = self.tableName\n                    __table_args__ = {'autoload':True}\n\n            metadata = Base.metadata\n            Session = sessionmaker(bind=engine)\n            session = Session()\n            return session, ContentBlocks, Base\n\n    def ViewTable(self):\n            session, ContentBlocks, Base = self.Create_Session()\n            request = session.query(ContentBlocks).all()\n            columns = ContentBlocks.__table__.columns.keys()\n            table = \" \".join(columns)\n            for entry in request:\n                    for column in columns:\n                            #print entry.column; can't do this as of yet\n</code></pre>\n\n<p>My initial attempt, as you can see in <code>Create_Session()</code> was to retrieve all the column names and pass them as a variable into <code>entry</code> object, however this just results in an error:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"SQLDeduplication-copy.py\", line 131, in &lt;module&gt;\n      no.ViewTable()\n   File \"SQLDeduplication-copy.py\", line 64, in ViewTable\n      print(entry.column)\n   AttributeError: 'ContentBlocks' object has no attribute 'column'\n</code></pre>\n\n<p>Thus, I need to make python interpret <code>column</code> as a pointer, not literally. And this is where I hit a wall because all the other StackOverflow answers I've seen include using the column name.</p>\n\n<p>That said, if anyone has a better idea, I am completely open to that. Please correct my code if there are any mistakes in it</p>\n"}, {"tags": ["c#", "python", "regex", "string", "perl"], "comments": [{"owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "edited": false, "score": 0, "creation_date": 1513205458, "post_id": 47803203, "comment_id": 82568033, "body": "What would the output be in your example?"}, {"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "reply_to_user": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "edited": false, "score": 0, "creation_date": 1513209736, "post_id": 47803203, "comment_id": 82569381, "body": "@afc11hn Good point, I have added a more detailed R sample with the output."}], "answers": [{"tags": [], "owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "is_accepted": false, "score": 1, "last_activity_date": 1513205639, "creation_date": 1513205639, "answer_id": 47803330, "question_id": 47803203, "link": "https://stackoverflow.com/questions/47803203/stri-replace-all-fixed-equivalent-replace-values-based-on-list/47803330#47803330", "title": "stri_replace_all_fixed equivalent: Replace values based on list", "body": "<p>The general approach is:</p>\n\n<ol>\n<li>create a dictionary mapping words to their replacements</li>\n<li>compile a regex matching all keys in the dictionary</li>\n<li>Match the regex, and replace each match with the dictionary value of the matched key.</li>\n</ol>\n\n<p>In Perl, such a function would look like this:</p>\n\n<pre><code>sub replace_all {\n  my ($string, %replacements) = @_;\n  # Assemble the regex. \n  # Sort reverse so that longer keys are matched first.\n  # Quotemeta each key in order to escape special characters.\n  my $pattern = join '|', map quotemeta, reverse sort keys %replacements;\n  $string =~ s/($pattern)/$replacements{$1}/g;  # replace all\n  return $string;\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>use Test::More;\nmy $output = replace_all(\n  \"The quick brown fox jumped over the lazy dog.\",\n  quick =&gt; 'slow',\n  brown =&gt; 'black',\n  fox =&gt; 'bear');\nmy $expected = \"The slow black bear jumped over the lazy dog.\";\nis $output, $expected;\ndone_testing;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1513206210, "post_id": 47803337, "comment_id": 82568256, "body": "Awesome, I like that!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1513219962, "post_id": 47803337, "comment_id": 82571877, "body": "@wp78de Great :)  I added an explanation (for sorting, by length)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1513219880, "last_edit_date": 1513219880, "creation_date": 1513205682, "answer_id": 47803337, "question_id": 47803203, "link": "https://stackoverflow.com/questions/47803203/stri-replace-all-fixed-equivalent-replace-values-based-on-list/47803337#47803337", "title": "stri_replace_all_fixed equivalent: Replace values based on list", "body": "<p>Use a hash to map words to be replaced with their replacements.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $string = 'The quick brown fox jumped over the lazy dog.';\n\nmy @words     = qw(quick brown fox);\nmy @change_to = qw(slow black bear);\n\nmy %replacement;\n@replacement{@words} = @change_to;  # populate hash: quick =&gt; 'slow', ...\n\nmy $pattern = join '|', map { quotemeta } sort { length $a &lt; length $b } @words;\n\n$string =~ s/($pattern)/$replacement{$1}/g;\n\nsay $string;\n</code></pre>\n\n<p>Note that we need to <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\">sort</a> components of the pattern by their <a href=\"https://perldoc.perl.org/functions/length.html\" rel=\"nofollow noreferrer\">length</a>, so that longer words come before shorter ones; otherwise, with <code>/no|none/</code> the <code>'no'</code> can get replaced in the word <code>'none'</code>.</p>\n\n<p>Wrap it in a subroutine with the desired interface, say</p>\n\n<pre><code>sub_name($string, \\@words, \\@change_to);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1513219068, "post_id": 47804307, "comment_id": 82571661, "body": "&quot;<i>I&#39;m not absolutely sure if this is useful</i>&quot; -- it is absolutely necessary, but the way you have it is <b>wrong</b>, and it&#39;s wrong in Perl in this way, too. The pattern  <code>p1|p2|...</code> need be built so that the longest words come first; otherwise a short sub-word can get replaced wrongly (<code>no</code> in <code>nothing</code>, when <code>nothing</code> happens before <code>no</code> in target). However, in Perl <code>sort</code> by default does it <i>alphabetically</i> and here we need it by length; see my answer. In Python you also must tell it how it should be <code>sorted</code> and you want to use <code>key</code> parameter.  Fix it please."}, {"owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1513258434, "post_id": 47804307, "comment_id": 82590588, "body": "I updated my answer. Thank you for explaining why this is so important."}], "tags": [], "owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "is_accepted": false, "score": 1, "last_activity_date": 1513258371, "last_edit_date": 1513258371, "creation_date": 1513212342, "answer_id": 47804307, "question_id": 47803203, "link": "https://stackoverflow.com/questions/47803203/stri-replace-all-fixed-equivalent-replace-values-based-on-list/47804307#47804307", "title": "stri_replace_all_fixed equivalent: Replace values based on list", "body": "<p>In Python you can pass a replacement function to <code>re.sub</code> to return a string to be used as a substitute for a given match. We can create a dict containing all the patterns and their replacements first and then write a lookup function which gives use the suitable replacement string.</p>\n\n<pre><code>import re\n\n\ndef stri_replace_all_fixed(stri, patterns, replacements):\n    pattern_to_replacement = {p: r for p, r in zip(patterns, replacements)}\n\n    def switch(match):\n        return pattern_to_replacement[match.group(0)]\n\n    # To make sure that longer patterns are matched first\n    # we sort the list by the length of its elements and reverse it\n    patterns = sorted(patterns, key=len, reverse=True)\n\n    print(re.sub('|'.join(patterns), switch, stri))\n\n\npattern = \"quick\", \"brown\", \"fox\"\nreplace = \"slow\", \"black\", \"bear\"\nstri_replace_all_fixed(\"The quick brown fox jumped over the lazy dog.\", pattern, replace)\n</code></pre>\n"}], "owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 47803337, "answer_count": 3, "score": 1, "last_activity_date": 1513258371, "creation_date": 1513204875, "last_edit_date": 1513238041, "question_id": 47803203, "link": "https://stackoverflow.com/questions/47803203/stri-replace-all-fixed-equivalent-replace-values-based-on-list", "title": "stri_replace_all_fixed equivalent: Replace values based on list", "body": "<p>R has a powerful string processing package called <a href=\"https://cran.r-project.org/web/packages/stringi/index.html\" rel=\"nofollow noreferrer\">stringi</a>. In particular, I would like to achieve the same as with <a href=\"https://www.rdocumentation.org/packages/stringi/versions/1.1.6/topics/stri_replace_all\" rel=\"nofollow noreferrer\">stri_replace_all_fixed</a> function: replace matches based on a list/dictionary in let's say Perl/PHP/Python or C#.</p>\n\n<pre><code>#install.packages(\"stringi\")\nlibrary(stringi)\nstri_replace_all_fixed(\"The quick brown fox jumped over the lazy dog.\",\n    c(\"quick\", \"brown\", \"fox\"), c(\"slow\",  \"black\", \"bear\"), vectorize_all=FALSE)\n</code></pre>\n\n<p>Outputs:</p>\n\n<blockquote>\n  <p>\"The slow black bear jumped over the lazy dog.\"  </p>\n</blockquote>\n"}, {"tags": ["python", "machine-learning", "neural-network", "linear-algebra", "backpropagation"], "answers": [{"comments": [{"owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "reply_to_user": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "edited": false, "score": 0, "creation_date": 1513269429, "post_id": 47804643, "comment_id": 82598116, "body": "OK, I took a shot at your follow-up question."}, {"owner": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "edited": false, "score": 0, "creation_date": 1513275653, "post_id": 47804643, "comment_id": 82601637, "body": "is back propagation not just forward propagation applied many times over ?"}, {"owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "reply_to_user": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "edited": false, "score": 1, "creation_date": 1513275875, "post_id": 47804643, "comment_id": 82601771, "body": "No, one iteration of training involves making a prediction (forward prop), computing the error, then propagating the loss backwards (back prop). This is done many times until the error stops improving."}, {"owner": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "edited": false, "score": 0, "creation_date": 1513277511, "post_id": 47804643, "comment_id": 82602718, "body": "ah, the calculations of dw1,db1,dw2,db2 are part of back propagation, i just need to extract into separate function?"}, {"owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "reply_to_user": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "edited": false, "score": 1, "creation_date": 1513277666, "post_id": 47804643, "comment_id": 82602805, "body": "Yes they are part of backprop. But they only appear in training so no need for a separate function. However forward prop happens in training and inference so best to factor it out."}], "tags": [], "owner": {"reputation": 9546, "user_id": 58866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6OsC0.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/58866/imran"}, "is_accepted": true, "score": 1, "last_activity_date": 1513269367, "last_edit_date": 1513269367, "creation_date": 1513215361, "answer_id": 47804643, "question_id": 47803089, "link": "https://stackoverflow.com/questions/47803089/dimensions-of-2-hidden-layer-neural-network-not-correlating/47804643#47804643", "title": "Dimensions of 2 hidden layer neural network not correlating", "body": "<blockquote>\n  <p>Y_prediction_train = sigmoid(np.dot(w2 , X_train) +b2)</p>\n</blockquote>\n\n<p><code>w2</code> is the weight matrix for your second hidden layer. This should never be multiplied by your input, <code>X_train</code>.</p>\n\n<p>To obtain a prediction you need to factor forward propagation into its own function that takes an input <code>X</code>, first computes <code>A1 = sigmoid(np.dot(w1 , X))</code>, and then returns the result of <code>A2 = sigmoid(np.dot(w2 , A1))</code></p>\n\n<p><strong>UPDATE:</strong></p>\n\n<blockquote>\n  <p>I think dw2 =  ( 1 / M ) * np.dot((A2 - A1) , Y_trainT.T / M) should instead be dw2 =  ( 1 / M ) * np.dot((A2 - A1) , A1.T / M) as in order to propagate differences from layer hidden layer 1 to hidden layer 2, is this correct ?</p>\n</blockquote>\n\n<p>Backpropagation propagates errors <em>backwards</em>. The first step is the calculate the gradient of the loss function with respect to your outputs, which will be <code>A2-Y</code> if you are using Mean Squared Error. This will then be fed in to your terms for the gradients of the loss with respect to the weights and biases of layer 2, so on back to layer 1. You don't want to propagate anything from layer 1 to layer 2 during backprop.</p>\n\n<p>It looks like you almost have it right in your updated question, but I think you want:</p>\n\n<pre><code>dW2 = ( 1 / M ) * np.dot((A2 - Y) , A1.T)\n</code></pre>\n\n<p>A couple more notes:</p>\n\n<ol>\n<li>You are intializing your weights as zeros. This will not allow the neural network to break symmetry during training, and you will end up with the same weights at every neuron. You should try initializing with random weights in the range [-1,1].</li>\n<li>You should put your forward- and backpropagation steps in a loop so you can run them for multiple epochs while your error is still improving.</li>\n</ol>\n"}], "owner": {"reputation": 45345, "user_id": 470184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/DzXRW.jpg?s=128&g=1", "display_name": "blue-sky", "link": "https://stackoverflow.com/users/470184/blue-sky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 47804643, "answer_count": 1, "score": 2, "last_activity_date": 1513277624, "creation_date": 1513204279, "last_edit_date": 1513237018, "question_id": 47803089, "link": "https://stackoverflow.com/questions/47803089/dimensions-of-2-hidden-layer-neural-network-not-correlating", "title": "Dimensions of 2 hidden layer neural network not correlating", "body": "<p>Here I'm attempting to implement a 2 layer neural network using numpy alone. Code below is just computing forward propagation.</p>\n\n<p>The training data is two examples where the inputs are 5 dimensions and outputs are 4 dimensions. When I attempt to run my network :</p>\n\n<pre><code># Two Layer Neural network\n\nimport numpy as np\n\nM = 2\nlearning_rate = 0.0001\n\nX_train = np.asarray([[1,1,1,1,1] , [1,1,1,1,1]])\nY_train = np.asarray([[0,0,0,0] , [1,0,0,0]])\n\nX_trainT = X_train.T\nY_trainT = Y_train.T\n\ndef sigmoid(z):\n    s = 1 / (1 + np.exp(-z))  \n    return s\n\nw1=np.zeros((Y_trainT.shape[0], X_trainT.shape[0]))\nb1=np.zeros((Y_trainT.shape[0], 1))\nA1 = sigmoid(np.dot(w1 , X_trainT))\n\nw2=np.zeros((A1.shape[0], w1.shape[0]))\nb2=np.zeros((A1.shape[0], 1))\nA2 = sigmoid(np.dot(w2 , A1))\n\n# forward propogation\n\ndw1 =  ( 1 / M ) * np.dot((A1 - A2) , X_trainT.T / M)\ndb1 =  (A1 - A2).mean(axis=1, keepdims=True)\nw1 = w1 - learning_rate * dw1\nb1 = b1 - learning_rate * db1\n\ndw2 =  ( 1 / M ) * np.dot((A2 - A1) , Y_trainT.T / M)\ndb2 =  (A2 - Y_trainT).mean(axis=1, keepdims=True)\nw2 = w2 - learning_rate * dw2\nb2 = b2 - learning_rate * db2\n\nY_prediction_train = sigmoid(np.dot(w2 , X_train) +b2)\nprint(Y_prediction_train.T)\n</code></pre>\n\n<p>I receive error : </p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-42-f0462b5940a4&gt; in &lt;module&gt;()\n     36 b2 = b2 - learning_rate * db2\n     37 \n---&gt; 38 Y_prediction_train = sigmoid(np.dot(w2 , X_train) +b2)\n     39 print(Y_prediction_train.T)\n\nValueError: shapes (4,4) and (2,5) not aligned: 4 (dim 1) != 2 (dim 0)\n</code></pre>\n\n<p>I seem to have astray in my linear algebra but I'm not sure where.</p>\n\n<p>Printing the weights and corresponding derivatives : </p>\n\n<pre><code>print(w1.shape)\nprint(w2.shape)\nprint(dw1.shape)\nprint(dw2.shape)\n</code></pre>\n\n<p>prints :</p>\n\n<pre><code>(4, 5)\n(4, 4)\n(4, 5)\n(4, 4)\n</code></pre>\n\n<p>How to incorporate 5 dimensions of training examples into this network ? </p>\n\n<p>Have I implemented forward propagation correctly ?</p>\n\n<p>From @Imran answer now using this network : </p>\n\n<pre><code># Two Layer Neural network\n\nimport numpy as np\n\nM = 2\nlearning_rate = 0.0001\n\nX_train = np.asarray([[1,0,1,1,1] , [1,1,1,1,1]])\nY_train = np.asarray([[0,1,0,0] , [1,0,0,0]])\n\nX_trainT = X_train.T\nY_trainT = Y_train.T\n\ndef sigmoid(z):\n    s = 1 / (1 + np.exp(-z))  \n    return s\n\nw1=np.zeros((Y_trainT.shape[0], X_trainT.shape[0]))\nb1=np.zeros((Y_trainT.shape[0], 1))\nA1 = sigmoid(np.dot(w1 , X_trainT))\n\nw2=np.zeros((A1.shape[0], w1.shape[0]))\nb2=np.zeros((A1.shape[0], 1))\nA2 = sigmoid(np.dot(w2 , A1))\n\n# forward propogation\n\ndw1 =  ( 1 / M ) * np.dot((A1 - A2) , X_trainT.T / M)\ndb1 =  (A1 - A2).mean(axis=1, keepdims=True)\nw1 = w1 - learning_rate * dw1\nb1 = b1 - learning_rate * db1\n\ndw2 =  ( 1 / M ) * np.dot((A2 - A1) , Y_trainT.T / M)\ndb2 =  (A2 - Y_trainT).mean(axis=1, keepdims=True)\nw2 = w2 - learning_rate * dw2\nb2 = b2 - learning_rate * db2\n\nY_prediction_train = sigmoid(np.dot(w2 , A1) +b2)\nprint(Y_prediction_train.T)\n</code></pre>\n\n<p>which prints : </p>\n\n<pre><code>[[ 0.5        0.5        0.4999875  0.4999875]\n [ 0.5        0.5        0.4999875  0.4999875]]\n</code></pre>\n\n<p>I think <code>dw2 =  ( 1 / M ) * np.dot((A2 - A1) , Y_trainT.T / M)</code> should instead be\n<code>dw2 =  ( 1 / M ) * np.dot((A2 - A1) , A1.T / M)</code> as in order to propagate differences from layer hidden layer 1 to hidden layer 2, is this correct ?</p>\n"}, {"tags": ["python", "tensorflow", "keras", "lstm", "tflearn"], "answers": [{"tags": [], "owner": {"reputation": 9277, "user_id": 743775, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0tkIq.jpg?s=128&g=1", "display_name": "Nipun Batra", "link": "https://stackoverflow.com/users/743775/nipun-batra"}, "is_accepted": true, "score": 0, "last_activity_date": 1513265160, "creation_date": 1513265160, "answer_id": 47816831, "question_id": 47803066, "link": "https://stackoverflow.com/questions/47803066/lstm-rnn-predicting-cosine-from-sine/47816831#47816831", "title": "LSTM/RNN Predicting cosine from sine", "body": "<p>Answering my own question. It was a matter of increasing the number of epochs and fiddling with the batch size. For example, here is the prediction for #epochs = 200, batch size = 10.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GnVXy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GnVXy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 9277, "user_id": 743775, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/0tkIq.jpg?s=128&g=1", "display_name": "Nipun Batra", "link": "https://stackoverflow.com/users/743775/nipun-batra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 1, "accepted_answer_id": 47816831, "answer_count": 1, "score": 1, "last_activity_date": 1536255173, "creation_date": 1513204138, "last_edit_date": 1592644375, "question_id": 47803066, "link": "https://stackoverflow.com/questions/47803066/lstm-rnn-predicting-cosine-from-sine", "title": "LSTM/RNN Predicting cosine from sine", "body": "<p>I am trying to code a simple LSTM/RNN. Given a <code>sine</code> input, can I predict the <code>cosine</code> signal?</p>\n<p>While running my code, I can accurately predict next value of <code>sine</code> given historical <code>sine</code> values; but I am unable to accurately predict the next value of <code>cosine</code> given historical <code>sine</code> values.</p>\n<p>I heavily borrowed from this <a href=\"https://machinelearningmastery.com/understanding-stateful-lstm-recurrent-neural-networks-python-keras/\" rel=\"nofollow noreferrer\">following code example</a>, which is used to predict the next character from the alphabet.</p>\n<p>Since I am using a LSTM/RNN, I define <code>windows</code> (of length <code>seq_length</code>) of sequence input data corresponding to an output data point.</p>\n<p>For example,</p>\n<blockquote>\n<p>Input Sequence -&gt; Output Sequence</p>\n<p>[ 0. , 0.00314198, 0.00628393, 0.00942582, 0.01256761] -&gt; 1.0</p>\n</blockquote>\n<p>In the above sample sequence, <code>sin(0)</code> is 0, and then we have the <code>sine</code> values for the next 4 points. These values have an associated <code>cos(0)</code>.</p>\n<p>Corresponding code,</p>\n<pre><code>import numpy as np\nfrom keras.models import Sequential\nfrom keras.layers import Dense\nfrom keras.layers import LSTM\n\ntime_points = np.linspace(0, 8*np.pi, 8000)\n\nseq_length = 5\ndataX = []\ndataY = []\nfor i in range(0, len(time_points) - seq_length, 1):\n    seq_in = np.sin(time_points)[i:i + seq_length]\n    seq_out = np.cos(time_points)[i]\n    dataX.append([seq_in])\n    dataY.append(seq_out)\n\nX = np.reshape(dataX, (len(dataX), seq_length, 1)) #numpy as np\ny = np.reshape(dataY, (len(dataY), 1))\n</code></pre>\n<p>LSTM Keras code</p>\n<pre><code>model = Sequential()\nmodel.add(LSTM(16, input_shape=(X.shape[1], X.shape[2])))\n\n\nmodel.add(Dense(y.shape[1], activation='linear'))\nmodel.compile(loss='mean_squared_error', optimizer='adam')\nmodel.fit(X[:6000], y[:6000], epochs=20, batch_size=10, verbose=2, validation_split=0.3)\n</code></pre>\n<p>The following figure shows the prediction and the ground truth, when we try to learn cosine from sequential sine data.</p>\n<p><a href=\"https://i.stack.imgur.com/xFZFy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xFZFy.png\" alt=\"enter image description here\" /></a></p>\n<p>However, if we were to learn sine using sequential sine data (i.e. have <code>seq_out = np.sin(time_points)[i]</code>), the prediction is accurate as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/tk19O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tk19O.png\" alt=\"enter image description here\" /></a></p>\n<p>I was wondering what could be going wrong.</p>\n<p>Or, how can I get a more accurate prediction?</p>\n"}, {"tags": ["python", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513211667, "post_id": 47804080, "comment_id": 82569897, "body": "Thanks @Veeram. this is the second time you help me. I have another question. Is there a way to use $map aggregate in order to change date string to become type within pipeline?  I wouldn&#39;t  change the date format in datebase"}, {"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "reply_to_user": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513212008, "post_id": 47804080, "comment_id": 82569978, "body": "You are welcome. You can try <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/dateFromString/\" rel=\"nofollow noreferrer\">dateFromString</a> operator available in 3.6. It is not possible to convert date string to type in old version."}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513214678, "post_id": 47804080, "comment_id": 82570636, "body": "is it possible to use condition $cond : [{$$tat, {$regex : &quot;&lt;&quot; }, then : ignore it. Because the length of my data is unpredictable, so I counldn&#39;t use $strLenCP."}, {"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "reply_to_user": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513216022, "post_id": 47804080, "comment_id": 82570911, "body": "No, it is not possible. Can you use <code>$indexOfCP</code> instead ? I&#39;ve updated answer."}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513219308, "post_id": 47804080, "comment_id": 82571700, "body": "Hi @Veeram could you please have a look at my code below. The idea is split the sting with separator comma, then check if there is string &lt;. If yes, split it again. But I stack with code &quot;in&quot; {&quot;$arrayElemAt&quot; : [&quot;$$tat2&quot;, 0]} because $$tat2 is not an array but string"}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "edited": false, "score": 0, "creation_date": 1513219353, "post_id": 47804080, "comment_id": 82571711, "body": "Your code above is correct, however I can&#39;t use it because the string length is unpredicted"}], "tags": [], "owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "is_accepted": true, "score": 1, "last_activity_date": 1513216291, "last_edit_date": 1513216291, "creation_date": 1513210669, "answer_id": 47804080, "question_id": 47803034, "link": "https://stackoverflow.com/questions/47803034/using-split-for-twice-in-mongodb-using-python/47804080#47804080", "title": "using $split for twice in mongodb using python", "body": "<p>You can below aggregation in <code>3.4</code>.</p>\n\n<p><a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/split/\" rel=\"nofollow noreferrer\"><code>$split</code></a> to create a array of string values followed by <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/map/\" rel=\"nofollow noreferrer\"><code>$map</code></a> to output a <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/substrCP/\" rel=\"nofollow noreferrer\"><code>$substrCP</code></a> value from start of the string to delimiter <code>&lt;</code>.</p>\n\n<p>Each substring end value is calculated by iterating the string using <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/range/\" rel=\"nofollow noreferrer\"><code>$range</code></a> and <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/filter/\" rel=\"nofollow noreferrer\"><code>$filter</code></a> to output the location of the <code>&lt;</code> string.</p>\n\n<pre><code>db.collection_name.aggregate(\n[{\"$project\":\n   {\"bcced_name\":\n    {\"$map\":{\n      \"input\":{\"$split\":[\"$status.tat\",\", \"]},\n      \"as\":\"tat\",\n      \"in\":{\n        \"$cond\":[\n          {\"$eq\":[{\"$strLenCP\":\"$$tat\"},1]},\n          \"$$tat\",\n          {\n          \"$substrCP\":[\n            \"$$tat\",\n            0,\n            {\n              \"$arrayElemAt\":[\n                {\"$filter\":{\n                  \"input\":{\"$range\":[0,{\"$strLenCP\":\"$$tat\"},1]},\n                  \"as\":\"r\",\n                  \"cond\":{\"$eq\":[{\"$substrCP\":[\"$$tat\",\"$$r\",2]},\" &lt;\"]}}\n                },\n              0]\n            }\n           ]\n          }\n        ]\n      }\n    }\n   }\n  }\n},\n{\"$unwind\": \"$bcced_name\"}\n])\n</code></pre>\n\n<p>Update: (Use <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/indexOfCP/\" rel=\"nofollow noreferrer\"><code>$indexOfCP</code></a>)</p>\n\n<pre><code>db.collection_name.aggregate(\n[{\"$project\":\n   {\"bcced_name\":\n     {\"$map\":{\n        \"input\":{\"$split\":[\"$status.tat\",\", \"]},\n        \"as\":\"tat\",\n        \"in\":{\n          \"$cond\":[\n            {\"$eq\":[{\"$strLenCP\":\"$$tat\"},1]},\n              \"$$tat\",\n            {\n            \"$substrCP\":[\n              \"$$tat\",\n               0,\n               { \"$indexOfCP\": [ \"$$tat\", \" &lt;\" ] }\n             ]\n            }\n          ]\n         }\n       }\n      }\n     }\n   },\n  {\"$unwind\": \"$bcced_name\"}\n])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513219495, "post_id": 47804936, "comment_id": 82571745, "body": "<code>$split</code> returns an array but when you use <code>$map</code> it iterates over array elements and pass the array element to <code>$arrayElemAt</code> causing the error you mentioned. <code>$arrayElemAt</code> takes a array variable.What are trying to achieve using <code>$arrayElemAt</code> here ?"}, {"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513220333, "post_id": 47804936, "comment_id": 82571973, "body": "You can pass the <code>$split</code> expression directly into <code>$arrayElemAt</code> instead of <code>$map</code>. Something like <code>{&quot;$arrayElemAt&quot; : [{&quot;$split&quot;:[&quot;$$tat&quot;, &quot;&lt;&quot;]}, 0]}</code>.Is that what you are after ? I&#39;ve updated answer."}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513221710, "post_id": 47804936, "comment_id": 82572283, "body": "Lovely, but there is error @Veeram $substrCP: length must be a nonnegative integer"}, {"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513221882, "post_id": 47804936, "comment_id": 82572333, "body": "There is <code>$substrCP</code> in this answer. Are you using the correct answer ?"}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513221984, "post_id": 47804936, "comment_id": 82572359, "body": "Yes, I use the updated code And also, this code {&quot;$eq&quot;:[{&quot;$strLenCP&quot;:&quot;$$tat&quot;},1]},  both the first and the second length of string are not predicted"}, {"owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1513222579, "post_id": 47804936, "comment_id": 82572468, "body": "Oh yah, I am so sory. I was copying your updated code. That&#39;s whay there is an error. Thank you very much. Have a nice day/night :)"}], "tags": [], "owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "is_accepted": false, "score": 0, "last_activity_date": 1513221748, "last_edit_date": 1513221748, "creation_date": 1513218015, "answer_id": 47804936, "question_id": 47803034, "link": "https://stackoverflow.com/questions/47803034/using-split-for-twice-in-mongodb-using-python/47804936#47804936", "title": "using $split for twice in mongodb using python", "body": "<pre><code>{\"$project\":{\n  \"bcced_name\":\n   {\"$map\":{\n     \"input\":{\"$split\":[\"$status.tat\",\", \"]},\n     \"as\":\"tat\",\n     \"in\":{\n       \"$cond\":[\n         {\"$gt\":[{\"$indexOfCP\":[\"$$tat\",\"&lt;\"]},0]},\n         {\"$arrayElemAt\" : [{\"$split\":[\"$$tat\", \"&lt;\"]}, 0]},\n        \"$$tat\"\n        ]\n       }\n      }\n    }\n  } \n}\n</code></pre>\n"}], "owner": {"reputation": 643, "user_id": 3769430, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/Zz8qW.png?s=128&g=1", "display_name": "dede", "link": "https://stackoverflow.com/users/3769430/dede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 47804080, "answer_count": 2, "score": 0, "last_activity_date": 1513221748, "creation_date": 1513203968, "last_edit_date": 1513204309, "question_id": 47803034, "link": "https://stackoverflow.com/questions/47803034/using-split-for-twice-in-mongodb-using-python", "title": "using $split for twice in mongodb using python", "body": "<p>Let say in simple my document in mongodb is like this:</p>\n\n<pre><code>{'status' = {'tat': 'a, b &lt;b&gt;, c, d &lt;d&gt;' } }\n</code></pre>\n\n<p>I want to separate them and print it like </p>\n\n<pre><code>{bbced_name  : 'a'},\n{bbced_name : 'b'},\n{bbced_name : 'c'}, \n{bbced_name : 'd'}, \n</code></pre>\n\n<p>Therefore I try to split the data for twice. The first one is that to split the text with separator comma, then I split again with the separator &lt; :</p>\n\n<pre><code>#the first split\nproject = { \"$project\" : { \"bcced_name\" : {\n    \"$split\" : \n        [\"$status.tat\", \", \"]\n    }\n}\n\n} \nunwind = {\"$unwind\" : \"$bcced_name\"}\n#the second split\nproject2= {\"$project\" : { \"bbced_name2\" : { \n    \"$split\" : \n        [\"$cced_name\", \"&lt;\"]\n    }\n}\n}\nunwind2 = {\"unwind\" : \"$bbced2\"}\n\ncur = collection.aggregate([project, unwind, project2, unwind2])\n</code></pre>\n\n<p>could I use split for twice in one pipeline? The first split is working well, but the second isn't. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 4, "creation_date": 1513203889, "post_id": 47803005, "comment_id": 82567444, "body": "why are you defining a function in a loop?"}, {"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 2, "creation_date": 1513203923, "post_id": 47803005, "comment_id": 82567453, "body": "You never call <code>lol()</code>, the line where you try to is indented too much."}, {"owner": {"reputation": 1, "user_id": 9096132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k8hE8Xi1Fjg/AAAAAAAAAAI/AAAAAAAAIWo/CX5OvvVdmyY/photo.jpg?sz=128", "display_name": "I don&#39;t really care", "link": "https://stackoverflow.com/users/9096132/i-dont-really-care"}, "edited": false, "score": 0, "creation_date": 1513203925, "post_id": 47803005, "comment_id": 82567455, "body": "Is that not possible? If it&#39;s not, am I that stupid?"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 2, "creation_date": 1513203977, "post_id": 47803005, "comment_id": 82567471, "body": "It&#39;s possible, just not needed. But you&#39;re trying to call lol inside the function definition."}, {"owner": {"reputation": 1, "user_id": 9096132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k8hE8Xi1Fjg/AAAAAAAAAAI/AAAAAAAAIWo/CX5OvvVdmyY/photo.jpg?sz=128", "display_name": "I don&#39;t really care", "link": "https://stackoverflow.com/users/9096132/i-dont-really-care"}, "edited": false, "score": 0, "creation_date": 1513203994, "post_id": 47803005, "comment_id": 82567479, "body": "Alexander I know, I removed it. But whenever I call it, it won&#39;t stop."}, {"owner": {"reputation": 1, "user_id": 9096132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k8hE8Xi1Fjg/AAAAAAAAAAI/AAAAAAAAIWo/CX5OvvVdmyY/photo.jpg?sz=128", "display_name": "I don&#39;t really care", "link": "https://stackoverflow.com/users/9096132/i-dont-really-care"}, "edited": false, "score": 0, "creation_date": 1513204029, "post_id": 47803005, "comment_id": 82567489, "body": "I know it&#39;s not needed but I was trying this so I could use it in other ways."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513204067, "post_id": 47803005, "comment_id": 82567505, "body": "I&#39;m going to go out on a limb here and say that&#39;s generally bad practice."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513204316, "post_id": 47803005, "comment_id": 82567583, "body": "I copied and pasted your code into Ipython, and it quit when I typed &quot;quit&quot;, so I&#39;m not sure what you&#39;re doing."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1513204351, "post_id": 47803005, "comment_id": 82567593, "body": "Assuming you call <code>lol()</code> from somewhere within the loop. Your function is iterative, and it does not <code>return</code>, so it never exits the function to do the <code>while</code> test."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1513204440, "post_id": 47803005, "comment_id": 82567632, "body": "Scatter some print <i>statements</i> around to see what might be happening."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513206433, "post_id": 47803005, "comment_id": 82568341, "body": "Type &quot;quit&quot; 1000 times and I promise it <b>will</b> quit."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 2706555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb5cd3dd42849c8a4a81b9e8eb27e17?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/2706555/denis"}, "is_accepted": false, "score": 1, "last_activity_date": 1513204397, "creation_date": 1513204397, "answer_id": 47803112, "question_id": 47803005, "link": "https://stackoverflow.com/questions/47803005/why-does-my-while-loop-not-stop-when-used-in-a-function/47803112#47803112", "title": "Why does my while loop not stop when used in a function?", "body": "<p>Once inside the lol function, it just loops. Whatever you enter there never gets tested to see if it equals \"quit\".</p>\n\n<p>So the answer to your question becomes clear once you follow the program flow: presumably you call the lol function from somewhere in the loop, and then that function calls itself, no matter what you enter there. The function iterates endlessly.</p>\n"}, {"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 2, "creation_date": 1513206983, "post_id": 47803145, "comment_id": 82568505, "body": "<i>&quot;it will keep repeating forever&quot;</i> - Wrong. Only until the maximum recursion depth is exceeded, at which point it will crash."}, {"owner": {"reputation": 50, "user_id": 8079073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1173b76f90a8dc7a8fcc86467ed696a9?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kaleton", "link": "https://stackoverflow.com/users/8079073/markus-kaleton"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513207107, "post_id": 47803145, "comment_id": 82568548, "body": "you wanna start talking about &quot;perpetual motion machines&quot; ;)"}], "tags": [], "owner": {"reputation": 50, "user_id": 8079073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1173b76f90a8dc7a8fcc86467ed696a9?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kaleton", "link": "https://stackoverflow.com/users/8079073/markus-kaleton"}, "is_accepted": true, "score": 1, "last_activity_date": 1555282134, "last_edit_date": 1555282134, "creation_date": 1513204568, "answer_id": 47803145, "question_id": 47803005, "link": "https://stackoverflow.com/questions/47803005/why-does-my-while-loop-not-stop-when-used-in-a-function/47803145#47803145", "title": "Why does my while loop not stop when used in a function?", "body": "<p>Your code looks extremely weird. Also you actually have function inside a loop not the other way around.</p>\n\n<p>You also have the function lol pointing back to itself so it will keep repeating forever.</p>\n\n<p>Cleared up the code for you, also deleted the \"why\" you can add the globalizations back if u need them.</p>\n\n<pre><code>def lol():\n    userinput = 0\n    while \"quit\" != userinput:\n        userinput = input(\"What are you doing? \")\n        print(userinput)\nlol()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9096132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-k8hE8Xi1Fjg/AAAAAAAAAAI/AAAAAAAAIWo/CX5OvvVdmyY/photo.jpg?sz=128", "display_name": "I don&#39;t really care", "link": "https://stackoverflow.com/users/9096132/i-dont-really-care"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 47803145, "answer_count": 2, "score": -2, "last_activity_date": 1555282134, "creation_date": 1513203819, "last_edit_date": 1513204766, "question_id": 47803005, "link": "https://stackoverflow.com/questions/47803005/why-does-my-while-loop-not-stop-when-used-in-a-function", "title": "Why does my while loop not stop when used in a function?", "body": "<p>Okay so I either don't understand the code in the other questions, or my question is different.\nHere's my code:</p>\n\n<pre><code>    import random, math, sys, time\n\n    userinput = 0\n\n    while \"quit\" != userinput:\n\n        def lol():\n            global userinput, why\n            why = userinput = input(\"What the heck are you doing? \")\n            print(why, userinput)\n            lol()\n\n        lol()\n\n        why = userinput = input(\"Type: \")\n</code></pre>\n\n<p>When I type \"quit\" in the \"Type:\" the program quits. However, when I type \"quit\" in my function, it keeps going. Why is this?</p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "download"], "answers": [{"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1513204549, "post_id": 47803064, "comment_id": 82567660, "body": "Lucky to have you sir alecxe. It has been a while.  However, a little issue I&#39;m facing when it hits the <code>print</code> line. It breaks there."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1513204698, "post_id": 47803064, "comment_id": 82567721, "body": "@Topto you have to use Python 3.6 to use string with prefix <code>f</code> as in example - but you can use old <code>print(&quot;Downloaded&quot;,  local_filename)</code>"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1513204127, "creation_date": 1513204127, "answer_id": 47803064, "question_id": 47803004, "link": "https://stackoverflow.com/questions/47803004/unable-to-download-files-from-a-certain-website/47803064#47803064", "title": "Unable to download files from a certain website", "body": "<p>You can go with a standard library's <a href=\"https://docs.python.org/3/library/urllib.request.html#urllib.request.urlretrieve\" rel=\"nofollow noreferrer\"><code>urllib.request.urlretrieve()</code></a>, but, since you are already using <code>requests</code>, you can re-use the session here (<code>download_file</code> was largely taken from <a href=\"https://stackoverflow.com/a/16696317/771848\">this answer</a>):</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\n\ndef download_file(session, url):\n    local_filename = url.split('/')[-1]\n\n    r = session.get(url, stream=True)\n    with open(local_filename, 'wb') as f:\n        for chunk in r.iter_content(chunk_size=1024):\n            if chunk: # filter out keep-alive new chunks\n                f.write(chunk)\n\n    return local_filename\n\n\nwith requests.Session() as session:\n    response = session.get(\"http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194\")\n    soup = BeautifulSoup(response.text,\"lxml\")\n    for item in soup.select(\"#latest a\"):\n        local_filename = download_file(session, item['href'])\n        print(f\"Downloaded {local_filename}\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "is_accepted": false, "score": 2, "last_activity_date": 1513204461, "creation_date": 1513204461, "answer_id": 47803128, "question_id": 47803004, "link": "https://stackoverflow.com/questions/47803004/unable-to-download-files-from-a-certain-website/47803128#47803128", "title": "Unable to download files from a certain website", "body": "<p>You can use <code>request.get</code>:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nresponse = requests.get(\"http://usda.mannlib.cornell.edu/MannUsda/\"\n                        \"viewDocumentInfo.do?documentID=1194\")\nsoup = BeautifulSoup(response.text, \"lxml\")\nfor item in soup.select(\"#latest a\"):\n    filename = item['href'].split('/')[-1]\n    with open(filename, 'wb') as f:\n        f.write(requests.get(item['href']).content)\n</code></pre>\n"}], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 47803064, "answer_count": 2, "score": 0, "last_activity_date": 1513204461, "creation_date": 1513203805, "question_id": 47803004, "link": "https://stackoverflow.com/questions/47803004/unable-to-download-files-from-a-certain-website", "title": "Unable to download files from a certain website", "body": "<p>I've written some code in python to download files from a webpage. As i do not have any idea how to download files from any site so i could only scrape the file links from that site. If someone could help me achieve that I would be very grateful to him. Thanks a lot in advance.</p>\n\n<p>Link to that site: <a href=\"http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194\" rel=\"nofollow noreferrer\">web_link</a></p>\n\n<p>Here is my try:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nresponse = requests.get(\"http://usda.mannlib.cornell.edu/MannUsda/viewDocumentInfo.do?documentID=1194\")\nsoup = BeautifulSoup(response.text,\"lxml\")\nfor item in soup.select(\"#latest a\"):\n    print(item['href'])\n</code></pre>\n\n<p>Upon execution, the above script produces four different urls to those files.</p>\n"}, {"tags": ["python", "python-2.7", "list-comprehension"], "comments": [{"owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "edited": false, "score": 1, "creation_date": 1513203833, "post_id": 47803002, "comment_id": 82567416, "body": "this smells suspiciously like one of those pesky Haskell monads would be useful, if I could only understand it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 5, "creation_date": 1513204156, "post_id": 47803002, "comment_id": 82567529, "body": "&quot;except that it shares mutable state between iterations. Is there any way to do it with a list comprehension&quot; there might be some hacky way, but if it invovles mutating state, then it probably <b>shouldn&#39;t be a list-comprehension</b>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1513204338, "post_id": 47803002, "comment_id": 82567586, "body": "Also, &quot;sharing mutable state between iterations&quot; doesn&#39;t sound like anything in Haskell."}, {"owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513204773, "post_id": 47803002, "comment_id": 82567760, "body": "no, but stateful monads does"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1513204803, "post_id": 47803002, "comment_id": 82567778, "body": "You could define a recursive generator using <code>yield from</code>."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1513204249, "creation_date": 1513204249, "answer_id": 47803084, "question_id": 47803002, "link": "https://stackoverflow.com/questions/47803002/list-comprehensions-in-python-with-mutable-state-between-iterations/47803084#47803084", "title": "List comprehensions in Python with mutable state between iterations", "body": "<p>No. Deliberately no. Eventually they put in <code>itertools.accumulate</code>, which is the closest thing to an Officially Recommended way to implement recurrence relations in a functional manner, but it doesn't exist on 2.7. You could copy the \"roughly equivalent to\" Python implementation from the <a href=\"https://docs.python.org/3/library/itertools.html#itertools.accumulate\" rel=\"noreferrer\">docs</a> if you want.</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513205491, "post_id": 47803195, "comment_id": 82568045, "body": "While I consider using <code>itertools.accumulate</code> for this to be ugly, recurrence relations are explicitly listed as a use case in the <a href=\"https://docs.python.org/3/library/itertools.html#itertools.accumulate\" rel=\"nofollow noreferrer\"><code>accumulate</code> docs</a>, with example code."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513241033, "post_id": 47803195, "comment_id": 82579358, "body": "@StefanPochmann Good point, fixed, but that makes it even uglier."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513245699, "post_id": 47803195, "comment_id": 82582242, "body": "@tobias_k Well then make it <i>prettier</i> instead :-). If you followed the documentation, you&#39;d use <code>repeat(x, n)</code>. And since you&#39;re willing to create a list, you could simply use <code>[x] * n</code>."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513291413, "post_id": 47803195, "comment_id": 82609187, "body": "For <code>reduce</code> you could also use <code>lst.__iadd__([f(lst[-1])])</code>, though I prefer the <code>append</code>+<code>or lst</code> (despite it being three characters longer! :-)"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1513292300, "post_id": 47803195, "comment_id": 82609482, "body": "Ha, how about: <code>reduce(lambda lst, _: lst.append(f(lst[-1])) or lst, [[x]] * n)</code>. I actually laughed about this one... using the common <code>[[x]] * n</code> 2D-list gotcha... but it&#39;s ok here because the repeated references are ignored... I think that&#39;s just beautiful."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 4, "last_activity_date": 1513249340, "last_edit_date": 1513249340, "creation_date": 1513204843, "answer_id": 47803195, "question_id": 47803002, "link": "https://stackoverflow.com/questions/47803002/list-comprehensions-in-python-with-mutable-state-between-iterations/47803195#47803195", "title": "List comprehensions in Python with mutable state between iterations", "body": "<p>You <em>could</em> do this in a single line, using e.g. <code>reduce</code> (or <code>functools.reduce</code> in Python 3):</p>\n\n<pre><code>&gt;&gt;&gt; f = lambda x: (x &gt;&gt; 1) ^ (0x12*(x&amp;1))\n&gt;&gt;&gt; x, n = 1, 5\n&gt;&gt;&gt; functools.reduce(lambda lst, _: lst + [f(lst[-1])], range(1, n), [x])\n[1, 18, 9, 22, 11]\n</code></pre>\n\n<p>But this is not only ugly, but also inefficient, as it will create a new list in each iteration. Or in a similar fashion to Stefan's approach, without creating intermediate lists:</p>\n\n<pre><code>&gt;&gt;&gt; functools.reduce(lambda lst, _: lst.append(f(lst[-1])) or lst, range(1, n), [x])\n[1, 18, 9, 22, 11]\n</code></pre>\n\n<p>Or, as already hinted in the other answer, you could use <code>itertools.accumulate</code>, which is a lot better, but still a bit of a mis-use, as it actually expects a binary function, whereas here we use neither the second parameter, nor the actual iterable passed into the function, except for the very first value.</p>\n\n<pre><code>&gt;&gt;&gt; list(itertools.accumulate([x] * n, lambda y, _: f(y)))\n[1, 18, 9, 22, 11]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1513205140, "post_id": 47803229, "comment_id": 82567902, "body": "Holy hell that&#39;s sneaky."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1513207101, "post_id": 47803229, "comment_id": 82568545, "body": "While this is probably the cleanest, best-encapsulated form of state variables in a list comprehension I&#39;ve seen (no leakage of the state variable into the surrounding scope, at least on Python 3), there&#39;s still a reason I didn&#39;t post anything like this: every instance of this kind of code on Stack Overflow, getting upvotes, increases the risk that people will think this kind of thing is a good idea and actually use it in their code."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513207180, "post_id": 47803229, "comment_id": 82568567, "body": "@user2357112 Better now? :-)"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1514586230, "post_id": 47803229, "comment_id": 83028218, "body": "@juanpa.arrivillaga Just figured out another neat way, it just doesn&#39;t have that required format with <code>xrange</code> at the end: <code>[q.append(f(x)) or x for q in [[x]] for x in q if len(q) &lt;= n]</code>. Which one is sneakier? :-)"}, {"owner": {"reputation": 1506, "user_id": 10359765, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F-1Wf-K-dWQ/AAAAAAAAAAI/AAAAAAAAACA/ub8XVyLGxHM/photo.jpg?sz=128", "display_name": "MoltenMuffins", "link": "https://stackoverflow.com/users/10359765/moltenmuffins"}, "edited": false, "score": 0, "creation_date": 1555489595, "post_id": 47803229, "comment_id": 98125392, "body": "A little late but could anyone provide some insight as to why using code like this would be bad practice?"}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": false, "score": 19, "last_activity_date": 1514585747, "last_edit_date": 1514585747, "creation_date": 1513205043, "answer_id": 47803229, "question_id": 47803002, "link": "https://stackoverflow.com/questions/47803002/list-comprehensions-in-python-with-mutable-state-between-iterations/47803229#47803229", "title": "List comprehensions in Python with mutable state between iterations", "body": "<blockquote>\n  <p>Is there any way to do it with a list comprehension?</p>\n  \n  <p>What I'm looking for is something like this...</p>\n\n<pre><code>batch = [??? for _ in xrange(n)]\n</code></pre>\n</blockquote>\n\n<p>Sure, no problem:</p>\n\n<pre><code>&gt;&gt;&gt; x = 1\n&gt;&gt;&gt; n = 5\n&gt;&gt;&gt; [prev.append(f(prev[0])) or prev.pop(0) for prev in [[x]] for _ in xrange(n)]\n[1, 18, 9, 22, 11]\n</code></pre>\n\n<h1>Note: This is a bad idea. <sup><sub><sub>(I pretty much only did this because user2357112 said there is no way)</sub></sub></sup></h1>\n"}], "owner": {"reputation": 170705, "user_id": 44330, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/dd5a7ef1476fb01998a215b1642dfd07?s=128&d=identicon&r=PG", "display_name": "Jason S", "link": "https://stackoverflow.com/users/44330/jason-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1213, "favorite_count": 4, "accepted_answer_id": 47803084, "answer_count": 3, "score": 10, "last_activity_date": 1514585747, "creation_date": 1513203801, "question_id": 47803002, "link": "https://stackoverflow.com/questions/47803002/list-comprehensions-in-python-with-mutable-state-between-iterations", "title": "List comprehensions in Python with mutable state between iterations", "body": "<p>I have something which is an awful lot like a list comprehension in Python, except that it shares mutable state between iterations. Is there any way to do it with a list comprehension?</p>\n\n<pre><code>def f(x):\n    \"\"\" 5-bit LFSR \"\"\"\n    return (x &gt;&gt; 1) ^ (0x12*(x&amp;1))\n\ndef batch(f, x, n):\n    result = [x]\n    for _ in xrange(1,n):\n        x = f(x)\n        result.append(x)\n    return result\n\nbatch(f, 1, 5)\n</code></pre>\n\n<p>which returns <code>[1, 18, 9, 22, 11]</code>. Here the important thing is the <code>batch</code> function, not <code>f(x)</code> which is here just a simple example to illustrate the issue.</p>\n\n<p>Alternatively I could implement using a generator:</p>\n\n<pre><code>def batch(f, x, n):\n    yield x\n    for _ in xrange(1,n):\n        x = f(x)\n        yield x\n\nlist(batch(f, 1, 5))\n</code></pre>\n\n<p>But it smells a little awkward. What I'm looking for is something like this...</p>\n\n<pre><code>batch = [??? for _ in xrange(n)]\n</code></pre>\n"}, {"tags": ["python", "excel"], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1513205470, "post_id": 47803036, "comment_id": 82568035, "body": "my apology. i forgot to change the object name for the 2nd line. it&#39;s fixed! and i am indeed printing the column name from the same data object."}, {"owner": {"reputation": 19, "user_id": 7881225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd42ee4a96f68eb4ffa617a4d1658e3?s=128&d=identicon&r=PG&f=1", "display_name": "dl14", "link": "https://stackoverflow.com/users/7881225/dl14"}, "reply_to_user": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1513212851, "post_id": 47803036, "comment_id": 82570181, "body": "What was the output when you printed data_my after read_excel?"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1513212901, "post_id": 47803036, "comment_id": 82570195, "body": "it was empty.... HOWEVER. i made some changes and then control z couple times and somehow, the SAME code now works.... thanks a lot for trying to help though!"}], "tags": [], "owner": {"reputation": 19, "user_id": 7881225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd42ee4a96f68eb4ffa617a4d1658e3?s=128&d=identicon&r=PG&f=1", "display_name": "dl14", "link": "https://stackoverflow.com/users/7881225/dl14"}, "is_accepted": false, "score": 0, "last_activity_date": 1513203974, "creation_date": 1513203974, "answer_id": 47803036, "question_id": 47802995, "link": "https://stackoverflow.com/questions/47802995/pandas-read-excel-reads-nothing-and-theres-no-error-message/47803036#47803036", "title": "pandas read_excel() reads nothing and there&#39;s no error message", "body": "<p>You are storing the frame in <code>data_my</code> but are accessing <code>data_Audit</code>. What happens when you print <code>data_my</code> after the <code>read_excel</code> command?</p>\n"}], "owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513205434, "creation_date": 1513203753, "last_edit_date": 1513205434, "question_id": 47802995, "link": "https://stackoverflow.com/questions/47802995/pandas-read-excel-reads-nothing-and-theres-no-error-message", "title": "pandas read_excel() reads nothing and there&#39;s no error message", "body": "<p>Since there's no error message, I am actually not completely sure how to google this...</p>\n\n<p>I tried googling with questions like \"python read_excel reads nothing\" or \"pandas read_excel() outputs blank\" or something alike, but have not found anything useful. Hence I'm turning to this community for help, again.</p>\n\n<p>Basically I have an excel file, that has 71 columns and thousands of rows. I am currently using the following line to read my data:</p>\n\n<pre><code>data_my = pd.read_excel(os.path.join(base_dir, input_file), sheet_name='happy')\n</code></pre>\n\n<p>and when I try to print the column names:</p>\n\n<pre><code>print(data_my.columns.names)\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>[None]\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>I am really not sure what is going on. There's no error, so my file path is correct and there is a sheet named \"happy\" in my file. But why is there nothing read into my object <code>data_my</code>? </p>\n\n<p>Any help is truly appreciated!</p>\n"}, {"tags": ["python", "sql", "database", "sqlalchemy", "database-migration"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513203956, "post_id": 47802937, "comment_id": 82567466, "body": "Do you need to transfer the structure to Oracle, or is it already there? Because if it is, why would you care about foreign keys or any schema-related stuff - all you need is to disable all constraints at the destination, transfer all data from source to destination tables and re-enable the constraints."}, {"owner": {"reputation": 606, "user_id": 6645337, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f32e3a9114475c2881df726faba82fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/6645337/przemek"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513204017, "post_id": 47802937, "comment_id": 82567487, "body": "The structure is already there and I can&#39;t change it."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513204744, "post_id": 47802937, "comment_id": 82567745, "body": "You don&#39;t have permissions to <code>ALTER TABLE</code>? In that case you will have to build a constraint tree to ensure you&#39;re inserting the data in the correct order which might be more difficult if your foreign keys are all over the place (let alone the possibility of circular constraints) but I don&#39;t think you&#39;ll find a tool that will do that automatically for you."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 3879804, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5af61ba805e8864907e3285d0adf0fe?s=128&d=identicon&r=PG&f=1", "display_name": "WalkingDeadFan", "link": "https://stackoverflow.com/users/3879804/walkingdeadfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513212334, "creation_date": 1513212334, "answer_id": 47804306, "question_id": 47802937, "link": "https://stackoverflow.com/questions/47802937/how-to-migrate-similar-data-between-two-different-database-structures-using-pyth/47804306#47804306", "title": "How to migrate similar data between two different database structures using python with sql alchemy?", "body": "<p>If this is a one-time conversion it might be easier to:</p>\n\n<p>1)  Create a conversion Stored Procedure in SQL Server that will output the various tables as csv flat files in the format the Oracle tables are expecting.  You can name the files as the destination table in Oracle.  </p>\n\n<p>2) Write a python script to loop through each file in the folder you have outputed the files in from 1.  Bulk Load each flat file into destination table from Oracle.  </p>\n\n<p>For 2, you will need to disable the constraints and also provide error checking in case the file fails to load.  In the script or the flat file naming convention you can include a record count for sanity checking.</p>\n"}], "owner": {"reputation": 606, "user_id": 6645337, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f32e3a9114475c2881df726faba82fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/6645337/przemek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571856609, "creation_date": 1513203498, "last_edit_date": 1513204066, "question_id": 47802937, "link": "https://stackoverflow.com/questions/47802937/how-to-migrate-similar-data-between-two-different-database-structures-using-pyth", "title": "How to migrate similar data between two different database structures using python with sql alchemy?", "body": "<p>I have been given a task to migrate data from <code>SQL SERVER</code> to <code>Oracle</code> database. The structure of those two databases is diferent and each table has at least 20 columns and there are at least 500 tables to migrate. I need your recomendation to choose good tools for this task. My initial choice for this task is <code>sqlalchemy</code>. There structure of databases is already there and is different. I can't edit tables. </p>\n\n<p>Lets see some simplified examples. Lets say that I have a tables <code>Person</code> and <code>PersonAdress</code> in <code>SQL Server</code>. It has fields like <code>name</code>, <code>name2</code>, <code>surname</code> and keeps <code>person_address_id</code> as <code>foreign key</code>, <code>birth_date</code>.</p>\n\n<p>In <code>Oracle</code> database I have a model <code>PERSON_DATA</code> and <code>PERSON_ADDRES</code> where I have fields like <code>NAME</code>, <code>NAME2</code>, <code>SUERNAME</code>, DATE_OF_BIRTH<code>. The table</code>PERSON_ADRESS<code>keeps the</code>PERSON_DATA_ID<code>as</code>foreign key`.</p>\n\n<p>So there are two problems:\n1)Name of fieelds can be different(<code>birth_date</code> in <code>SQL Server</code> and <code>DATE_OF_BIRTH</code> in ORACLE) but represents the same concept.</p>\n\n<p>2)Data that represent the same concept may be in different tables(<code>person_address_id</code> is a foreign key in table <code>Person</code> in <code>SQL_SERVER</code>  where <code>PERSON_ADRESS</code> keeps the <code>PERSON_DATA_ID</code> as `foreign key in Oracle).</p>\n\n<p>I though about using from <code>automap_base</code> from <code>sqlalchemy.ext.automap</code> to query models. But i dont know it it is the best idea. This is my pseudo code snippet. Maybe It would help to show what I have tried to do so far.. Please note that this is more pseudo-code.</p>\n\n<pre><code>from sqlalchemy import create_engine, MetaData\nfrom sqlalchemy.ext.automap import automap_base\n\n\nclass PersonModel:\n    # DO i need this model? It suppose to represent Person table in\n    # SQL SERVER\n    def __init__(self, name, name2, birth_date, ...):\n        self.name = name\n        self.name2 = name2\n        ...\n\nclass PERSON_DATAModel:\n    # Do I need this model? It supose to represent table in Oracle\n    def __init__(self, NAME, NAME2, DATE_OF_BIRTH, ...):\n        self.NAME = NAME\n        self.NAME2 = NAME2\n\nmetadata = MetaData()\n\n\nsql_server_engine = create_engine('..')\n\nmetadata.reflect(sql_server_engine)\nBaseSQLSERVER= automap_base(metadata=metadata)\nBaseSQLSERVER.prepare()\nmetadata.reflect(sql_server_engine, only=['Person'])\n\nBaseSQLSERVER.prepare()\nPerson = BaseSQLSERVER.classes.DaneOsMain\n# The same what is above for  Oracle\noracle_server_engine = create_engine('..')\n# and so on..\n# to get\nPERSON_DATA = BaseOracle.classes.PERSON_DATA\n\n\nsession = Session(sql_server_engine)\nquery_data = sesion.query(Person)...\n\n\nPersonTable = []\nfor data in query_data:\n    e = PersonModel(**query_data.__dict__)\n    PersonTable.append(e)\n\n# I have to push data from PersonTable somehow to PERSON_DATA table\n</code></pre>\n\n<p>Do you know good paterns to solve this problem? I would like to know good deisgn patern to solve this problem and useful <code>python</code> tools for this.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513203588, "post_id": 47802936, "comment_id": 82567325, "body": "Could you specify what error are you getting ?"}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1513203592, "post_id": 47802936, "comment_id": 82567328, "body": "<code>various errors</code> is very vague"}, {"owner": {"reputation": 95, "user_id": 5433921, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10207629940448652/picture?type=large", "display_name": "taz_", "link": "https://stackoverflow.com/users/5433921/taz"}, "edited": false, "score": 0, "creation_date": 1513203664, "post_id": 47802936, "comment_id": 82567355, "body": "TypeError, a bytes-like object is required, not &#39;str&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 5433921, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10207629940448652/picture?type=large", "display_name": "taz_", "link": "https://stackoverflow.com/users/5433921/taz"}, "edited": false, "score": 0, "creation_date": 1513204798, "post_id": 47803015, "comment_id": 82567775, "body": "Hmm, thx, I thought I tried that and dismissed it since all I got was an empty file. I should have waited longer I guess. I tried it on a more fit machine now, and it still took some time but it works."}], "tags": [], "owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "is_accepted": true, "score": 0, "last_activity_date": 1513203855, "creation_date": 1513203855, "answer_id": 47803015, "question_id": 47802936, "link": "https://stackoverflow.com/questions/47802936/merging-multiple-jsons-into-one-typeerror-a-bytes-like-object-is-required-not/47803015#47803015", "title": "Merging multiple JSONs into one: TypeError, a bytes-like object is required, not &#39;str&#39;", "body": "<p>In your case you are opening the file in 'wb' mode which means it works with bytes-like objects only. But <code>json.dump</code> is trying to write a string to it. You can simply change the open mode from 'wb' to 'w' (text mode) and it will work.</p>\n"}], "owner": {"reputation": 95, "user_id": 5433921, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10207629940448652/picture?type=large", "display_name": "taz_", "link": "https://stackoverflow.com/users/5433921/taz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 47803015, "answer_count": 1, "score": -1, "last_activity_date": 1513203934, "creation_date": 1513203497, "last_edit_date": 1513203934, "question_id": 47802936, "link": "https://stackoverflow.com/questions/47802936/merging-multiple-jsons-into-one-typeerror-a-bytes-like-object-is-required-not", "title": "Merging multiple JSONs into one: TypeError, a bytes-like object is required, not &#39;str&#39;", "body": "<p>So, I am trying write a small program in python 3.6 to merge multiple JSON files (17k) and I am getting the above error.\nI put together the script by reading other SO Q&amp;As. I played around a little bit, getting various errors, nevertheless, I couldn't get it to work. Here is my code:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport glob\nimport json\nimport os\nimport sys\n\n\ndef merge_json(source, target):\n    os.chdir(source)\n    read_files = glob.glob(\"*.json\")\n    result = []\n    i = 0\n    for f in glob.glob(\"*.json\"):\n        print(\"Files merged so far:\" + str(i))\n        with open(f, \"rb\") as infile:\n            print(\"Appending file:\" + f)\n            result.append(json.load(infile))\n        i = i + 1 \n\n    output_folder = os.path.join(target, \"mergedJSON\")\n    output_folder = os.path.join(output_folder)\n    if not os.path.exists(output_folder):\n        os.makedirs(output_folder)\n    os.chdir(output_folder)\n\n    with open(\"documents.json\", \"wb\") as outfile:\n        json.dump(result, outfile)\n\ntry:\n    sys.argv[1], sys.argv[2]\nexcept:\n    sys.exit(\"\\n\\n Error: Missing arguments!\\n See usage example:\\n\\n  python merge_json.py {JSON source directory} {output directory} \\n\\n\")\n\nmerge_json(sys.argv[1], sys.argv[2])\n</code></pre>\n"}, {"tags": ["python", "sql", "django", "python-3.x", "jwt"], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 1978687, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61b1aad7d8e6c28832ecdffe8036a5f0?s=128&d=identicon&r=PG", "display_name": "claytond", "link": "https://stackoverflow.com/users/1978687/claytond"}, "edited": false, "score": 0, "creation_date": 1586309146, "post_id": 47849286, "comment_id": 108079895, "body": "Yes!  Was running tests against SQLLite and had a (pgSQL) JSONField."}], "tags": [], "owner": {"reputation": 33, "user_id": 8965558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0a1504fb5c61d4d8dcd2422ede6479?s=128&d=identicon&r=PG&f=1", "display_name": "Enes Beganovic", "link": "https://stackoverflow.com/users/8965558/enes-beganovic"}, "is_accepted": true, "score": 1, "last_activity_date": 1513453016, "creation_date": 1513453016, "answer_id": 47849286, "question_id": 47802820, "link": "https://stackoverflow.com/questions/47802820/interfaceerror-error-binding-parameter-5-django-jwt-token-django-request-tok/47849286#47849286", "title": "InterfaceError: Error binding Parameter 5...Django JWT token (django request token tool)", "body": "<p>I have fixed the issue I had so I wanted to provide the answer on how I did it so if anyone encounters this InterfaceErrror, maybe you can try this. \nBasically Django's default database is SQLite3 but this app requires PostgreSQL which I somehow overlooked, so if you are encountering the \"Error binding Parameter 5\", maybe you can try changing your database and hopefully that will fix the error as it did for me. </p>\n"}], "owner": {"reputation": 33, "user_id": 8965558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d0a1504fb5c61d4d8dcd2422ede6479?s=128&d=identicon&r=PG&f=1", "display_name": "Enes Beganovic", "link": "https://stackoverflow.com/users/8965558/enes-beganovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47849286, "answer_count": 1, "score": 1, "last_activity_date": 1513453016, "creation_date": 1513202764, "question_id": 47802820, "link": "https://stackoverflow.com/questions/47802820/interfaceerror-error-binding-parameter-5-django-jwt-token-django-request-tok", "title": "InterfaceError: Error binding Parameter 5...Django JWT token (django request token tool)", "body": "<p>I am trying to set up a \"one time use\" link creating system with this tool:</p>\n\n<p><a href=\"https://github.com/yunojuno/django-request-token\" rel=\"nofollow noreferrer\">https://github.com/yunojuno/django-request-token</a> </p>\n\n<p>I have followed the instructions on the installation and implementation. Now the implementation says that I should create a Requesttoken in the admin interface or with some other method. \nWhen I go to the admin interface and when I go to add the token, I fill out the scope field which is the only one required and click save. This is where I get the \nInterfaceError:r: Error binding Parameter 5 - probably unsupported type\nAnd the error seems to happen at this line of code:</p>\n\n<pre><code>super(RequestToken, self).save(*args, **kwargs) \n</code></pre>\n\n<p>Now I will include the models.py file:</p>\n\n<p><a href=\"https://github.com/yunojuno/django-request-token/blob/master/request_token/models.py\" rel=\"nofollow noreferrer\">https://github.com/yunojuno/django-request-token/blob/master/request_token/models.py</a></p>\n\n<p>This is the file which contains the line of code which is causing the error. \nI am really stuck on this and I hope someone will know how to fix it. </p>\n\n<p>If you dont know how to fix the problem maybe you know some tool which does a simillar thing as this one.\nThanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513202895, "post_id": 47802815, "comment_id": 82567059, "body": "<code>[m.group(0) for m in re.finditer(r&quot;(\\d)\\1*&quot;, your_string)]</code>"}, {"owner": {"reputation": 145, "user_id": 6026013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPjnk.jpg?s=128&g=1", "display_name": "Paul Virally", "link": "https://stackoverflow.com/users/6026013/paul-virally"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513203144, "post_id": 47802815, "comment_id": 82567160, "body": "@chris Thats a cool regex but it won&#39;t find letters unfortunately. But it is a cool guy for splitting on groups of unique numbers!"}, {"owner": {"reputation": 76, "user_id": 2706555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb5cd3dd42849c8a4a81b9e8eb27e17?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/2706555/denis"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513203342, "post_id": 47802815, "comment_id": 82567230, "body": "@chris That is sweet. It would also be useful to work with a set to avoid duplicates."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 6026013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPjnk.jpg?s=128&g=1", "display_name": "Paul Virally", "link": "https://stackoverflow.com/users/6026013/paul-virally"}, "edited": false, "score": 0, "creation_date": 1513203372, "post_id": 47802897, "comment_id": 82567240, "body": "Oh thats totally my bad. I meant to keep duplicates! Oops! But that is awesome, that&#39;s exactly what I was looking for. Thanks! (I&#39;ll edit my question to get rid of my little mistake)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1513203515, "post_id": 47802897, "comment_id": 82567294, "body": "ok, now my answer could be shortened <i>a lot</i>. But now it looks very much like a duplicate..."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1513203443, "last_edit_date": 1513203443, "creation_date": 1513203244, "answer_id": 47802897, "question_id": 47802815, "link": "https://stackoverflow.com/questions/47802815/splitting-list-by-unique-groups/47802897#47802897", "title": "Splitting list by unique groups", "body": "<p>if you hadn't this \"omit duplicates\" requirement, that could be done in one line (+ the import):</p>\n\n<pre><code>import itertools\n[\"\".join(v) for _,v in itertools.groupby('122333444455555')]\n</code></pre>\n\n<p>EDIT: after the question got edited, this \"omit duplicate\" requirement turned into \"keep duplicates\" so the answer could stop here (or just disappear and close as duplicate). But the \"avoid duplicate\" thing is also quite interesting so <em>I'm leaving it in</em>.</p>\n\n<p>But if you add, say, <code>1</code> at the end of the string, you get <code>1</code> twice.</p>\n\n<p>If you don't want to preserve order then do a <em>set comprehension</em>:</p>\n\n<pre><code>{\"\".join(v) for _,v in itertools.groupby('122333444455555')}\n</code></pre>\n\n<p>It's slightly more complex if you want to preserve order. I use a <code>set</code> to note down which item already occurred:</p>\n\n<pre><code>import itertools\n\ns = '1223334444555551'\n\nresult = []\naux=set()\nfor x in (\"\".join(v) for _,v in itertools.groupby(s)):\n    if not x in aux:\n        aux.add(x)\n        result.append(x)\n\nprint(result)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['1', '22', '333', '4444', '55555']\n</code></pre>\n\n<p>now if you wanted to remove duplicates even if the number of digits is different, just a small variation, keeping the group key and using that in the <code>aux</code> set:</p>\n\n<pre><code>s = '12233344445555511'\n\nresult = []\naux=set()\nfor k,x in ((k,\"\".join(v)) for k,v in itertools.groupby(s)):\n    if not k in aux:\n        aux.add(x)\n        result.append(x)\n</code></pre>\n\n<p>the last <code>11</code> group is discarded.</p>\n"}], "owner": {"reputation": 145, "user_id": 6026013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPjnk.jpg?s=128&g=1", "display_name": "Paul Virally", "link": "https://stackoverflow.com/users/6026013/paul-virally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 47802897, "answer_count": 1, "score": 0, "last_activity_date": 1513206155, "creation_date": 1513202732, "last_edit_date": 1513206155, "question_id": 47802815, "link": "https://stackoverflow.com/questions/47802815/splitting-list-by-unique-groups", "title": "Splitting list by unique groups", "body": "<p>I have searched far and wide and have unfortunately come to a bit of a stumble. I would like to be able to take a list (or string, or any iterable really) and be able to split it up into its unique subgroups. None of the solutions I have come up with or found are very neat and tidy.</p>\n\n<p>Here is an example of what I would like to do:</p>\n\n<p><code>'122333444455555'</code> &rarr; <code>['1', '22', '333', '4444', '55555']</code></p>\n\n<p>Note that I do not want to remove any groups that have already appeared. For example, with the following input <code>'AAABBBAAA'</code> I would still want <code>['AAA', 'BBB', 'AAA']</code> as the output. Basically, I want an array that holds subgroups that each only contain the same elements. If you were to flatten out this array, then you would be able to get the original list (I hope that wasn't too confusing and that the examples help explain what I am looking for).</p>\n\n<p>Below, I have my version of the solution to this problem, but I feel it is too clunky. I am almost 100% sure there is some built-in function that can allow this problem to be solved very elegantly, being that this is Python after all. I would like to note that since this is not specific to strings, a regex would not be appropriate (though it would still be a nice bonus to see!).</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def split_by_unique_groups(list_):\n    to_return = []\n\n    idx = 0\n    while idx != len(list_):\n        curr = list_[idx]\n\n        next_bad_idx = None\n        for x in range(idx+1, len(list_)):\n            if list_[x] != curr:\n                next_bad_idx = x\n                break\n\n        sub_str = list_[idx:next_bad_idx] # [x:None] returns x to len(s)\n        to_return.append(sub_str)\n\n        if next_bad_idx is None:\n            break\n        idx = next_bad_idx\n    return to_return\n</code></pre>\n\n<p>The biggest problem I have with this code is that I have a hard time finding a nice way of finding the next index in a list that points to a different item. For example, in the string 'AAABBB', indices (0, 2) and (3, 5) represent the boundaries around the group of unique items.</p>\n\n<p>I think a key way of making this code more concise would be able to have a nice way of going from that index 0 to index 2 or from index 3 to index 5. What I mean is that it be much more concise if there were a nicer way of finding the next item in a list that is different from the current one.</p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513202816, "post_id": 47802801, "comment_id": 82567037, "body": ".... what? I do not understand what you mean. <code>b = a()</code> is <i>the same</i> as <code>foo = a()</code>... do you mean <code>b = foo()</code>?"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 0, "creation_date": 1513202964, "post_id": 47802801, "comment_id": 82567084, "body": "I think OP wants to create a variable named after the value of another variable"}], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": false, "score": 4, "last_activity_date": 1513203045, "creation_date": 1513203045, "answer_id": 47802861, "question_id": 47802801, "link": "https://stackoverflow.com/questions/47802801/using-the-value-of-a-variable-as-the-name-of-an-object/47802861#47802861", "title": "Using the value of a variable as the name of an object", "body": "<p>The recommended way of doing that kind of thing is to rather use a dictionnary. Like so :</p>\n\n<pre><code>b = \"foo\"\nmyDictionnary = {}\n\nmyDictionnary[b] = a\n\nprint(myDictionnary[\"foo\"])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513203293, "post_id": 47802868, "comment_id": 82567207, "body": "Modifying <code>locals()</code> <a href=\"https://ideone.com/Hv0Xwu\" rel=\"nofollow noreferrer\">doesn&#39;t work</a>. Please read the <a href=\"https://docs.python.org/3/library/functions.html#locals\" rel=\"nofollow noreferrer\">docs</a> before posting. That applies to answers as well as questions."}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513203695, "post_id": 47802868, "comment_id": 82567373, "body": "@user2357112 You are correct on that. Updated answer"}], "tags": [], "owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "is_accepted": false, "score": 1, "last_activity_date": 1513203729, "last_edit_date": 1513203729, "creation_date": 1513203089, "answer_id": 47802868, "question_id": 47802801, "link": "https://stackoverflow.com/questions/47802801/using-the-value-of-a-variable-as-the-name-of-an-object/47802868#47802868", "title": "Using the value of a variable as the name of an object", "body": "<p>What you seek is unarguably a bad practice, but if you must...</p>\n\n<p>This can only be done on the global scope. You'll need to add your new variable to the <code>globals()</code> dictionary:</p>\n\n<pre><code>class a:\n   pass\n\nb = 'foo'\n\nglobals()[b] = a()\n\nprint foo\n# &lt;__main__.a instance at 0x10282d518&gt;\n</code></pre>\n\n<p>This also works inside functions:</p>\n\n<pre><code>class a:\n    pass\n\nb = 'foo'\n\n# Be careful with this. As I said, this updates the global scope\n# So \"foo\" can actually be accessed out of the function.\n# Furthermore, calling this function more than once will yield\n# different results as globals()['foo'] keeps getting overriden\ndef some_method():\n    globals()[b] = a()\n    print foo\n    # &lt;__main__.a instance at 0x10282d5a8&gt;\n\nsome_method()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8480541, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VMgj_0RVFcg/AAAAAAAAAAI/AAAAAAAACdA/O5rPx3uehRc/photo.jpg?sz=128", "display_name": "Fergus Robertson", "link": "https://stackoverflow.com/users/8480541/fergus-robertson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1513207627, "answer_count": 2, "score": 0, "last_activity_date": 1513203729, "creation_date": 1513202659, "question_id": 47802801, "link": "https://stackoverflow.com/questions/47802801/using-the-value-of-a-variable-as-the-name-of-an-object", "closed_reason": "Needs details or clarity", "title": "Using the value of a variable as the name of an object", "body": "<p>How can I use the value of a variable as the object in a class?</p>\n\n<p>e.g. I have a class called 'a', and I want to be able to assign the value of a variable 'b' to be the name of an object in class a</p>\n\n<pre><code>class a():\n   __init__(self):\n\nb = \"foo\"\n</code></pre>\n\n<p>How can I make it so that</p>\n\n<pre><code>b = a()\n</code></pre>\n\n<p>Would be the same as</p>\n\n<pre><code>foo = a()\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["python", "importerror", "upstart"], "comments": [{"owner": {"reputation": 4339, "user_id": 1637867, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IfV2L.jpg?s=128&g=1", "display_name": "Hussain", "link": "https://stackoverflow.com/users/1637867/hussain"}, "edited": false, "score": 0, "creation_date": 1513220582, "post_id": 47802786, "comment_id": 82572031, "body": "Are you using virtual environment on terminal? Just checking."}, {"owner": {"reputation": 998, "user_id": 1357397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17b763ccc73b99e4e7b7321b7eec401d?s=128&d=identicon&r=PG", "display_name": "Sam Luther", "link": "https://stackoverflow.com/users/1357397/sam-luther"}, "reply_to_user": {"reputation": 4339, "user_id": 1637867, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/IfV2L.jpg?s=128&g=1", "display_name": "Hussain", "link": "https://stackoverflow.com/users/1637867/hussain"}, "edited": false, "score": 0, "creation_date": 1513255297, "post_id": 47802786, "comment_id": 82588498, "body": "not sure what you mean. I&#39;m logging in ssh, cd&#39;ing to /var/www/html and issuing the command python3 test.py"}], "answers": [{"tags": [], "owner": {"reputation": 998, "user_id": 1357397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17b763ccc73b99e4e7b7321b7eec401d?s=128&d=identicon&r=PG", "display_name": "Sam Luther", "link": "https://stackoverflow.com/users/1357397/sam-luther"}, "is_accepted": true, "score": 0, "last_activity_date": 1513278274, "creation_date": 1513278274, "answer_id": 47820450, "question_id": 47802786, "link": "https://stackoverflow.com/questions/47802786/upstart-importerror-no-module-named/47820450#47820450", "title": "Upstart: ImportError: No module named", "body": "<p>I ended having to add the following to my script</p>\n\n<pre><code>sys.path.append(\"/home/ubuntu/.local/lib/python3.5/site-packages\")\n</code></pre>\n\n<p>Seems as though when running python via Upstart, even though it was using 3.5 it wasn't looking in that site-packages directory </p>\n"}], "owner": {"reputation": 998, "user_id": 1357397, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17b763ccc73b99e4e7b7321b7eec401d?s=128&d=identicon&r=PG", "display_name": "Sam Luther", "link": "https://stackoverflow.com/users/1357397/sam-luther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 47820450, "answer_count": 1, "score": 1, "last_activity_date": 1513278274, "creation_date": 1513202572, "last_edit_date": 1513220266, "question_id": 47802786, "link": "https://stackoverflow.com/questions/47802786/upstart-importerror-no-module-named", "title": "Upstart: ImportError: No module named", "body": "<p>I have a simple python script</p>\n\n<pre><code>import boto3\nprint('I know you are installed')\n</code></pre>\n\n<p>I'm sure the boto3 module is installed</p>\n\n<pre><code>pip3 install boto3\n</code></pre>\n\n<p>If run via terminal</p>\n\n<pre><code>python3 test.py\n</code></pre>\n\n<p>I get the expected output</p>\n\n<pre><code>I know you are installed\n</code></pre>\n\n<p>If I run the same script via Upstart</p>\n\n<pre><code>description \"test\"\nauthor \"me\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\n\nchdir /var/www/html/\n\nscript\n    exec nohup /usr/bin/python3 -u /var/www/html/test.py &gt; \n/var/www/html/test.log\nend script\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>tail: /var/www/html/test.log: file truncated\nTraceback (most recent call last):\nFile \"/var/www/html/test.py\", line 1, in &lt;module&gt;\nimport boto3\nImportError: No module named 'boto3'\n</code></pre>\n\n<p>Why can't the boto3 module be found when running the script from Upstart?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1513203050, "post_id": 47802772, "comment_id": 82567127, "body": "you can move <code>Frame</code> with all elements at once - or you have to move every element separatelly. Remove <code>Frame</code> (or every element) with <code>place_forget()</code> and put again with <code>place()</code>."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1513205649, "post_id": 47802772, "comment_id": 82568097, "body": "I recommend you explaining a bit more about what you&#39;re trying to accomplish. If you feel the need to move a bunch of widgets as a group, there&#39;s probably a better solution than using <code>place</code>."}], "answers": [{"tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": true, "score": 1, "last_activity_date": 1513209683, "last_edit_date": 1513209683, "creation_date": 1513202743, "answer_id": 47802817, "question_id": 47802772, "link": "https://stackoverflow.com/questions/47802772/tkinter-python-moving-multiple-widgets-at-once/47802817#47802817", "title": "Tkinter Python: Moving multiple widgets at once", "body": "<p>I would define variables <code>ref_y</code> and <code>ref_y</code> and just add them to my current <code>x</code> and <code>y</code> value as in:</p>\n\n<pre><code>import tkinter as tk\n\nroot = tk.Tk()\n\nref_x = 40\nref_y = 56\n\nbtn = tk.Button(root, text=\"Button\")\nlbl = tk.Label(root, text=\"Label\")\n\nbtn.place(x=ref_x + 45, y=ref_y + 13)\nlbl.place(x=ref_x + 13, y=ref_y + 44)\n\nroot.mainloop()\n</code></pre>\n\n<p>In the above example <code>btn</code> and <code>lbl</code> will be placed with referece to <code>ref_x</code> and <code>ref_y</code>. Which means if you want to place the widgets elsewhere keeping their relative position to each other, you just need to modify <code>ref_x</code> and <code>ref_y</code> values.</p>\n"}, {"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1513203617, "creation_date": 1513203617, "answer_id": 47802958, "question_id": 47802772, "link": "https://stackoverflow.com/questions/47802772/tkinter-python-moving-multiple-widgets-at-once/47802958#47802958", "title": "Tkinter Python: Moving multiple widgets at once", "body": "<p>If you have all in <code>Frame</code> then you can move <code>Frame</code> and it will move with all elements inside.</p>\n\n<p>Use <code>place_forget()</code> to remove it from window, and use <code>place()</code> again to put in new position.</p>\n\n<pre><code>import tkinter as tk\nimport random\n\n# --- funtions ---\n\ndef move():\n    # hide frame\n    f.place_forget()\n\n    # random positiom\n    new_x = random.randint(0, 100)\n    new_y = random.randint(0, 150)\n\n    # show in new place\n    f.place(x=new_x, y=new_y)\n\n# --- main ---\n\nroot = tk.Tk()\n\nf = tk.Frame(root)\nf.place(x=0, y=0)\n\ntk.Label(f, text='HELLO!').pack()\ntk.Button(f, text='Move it', command=move).pack()\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9041782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da9e56c2318866d164a0e0892ad4f309?s=128&d=identicon&r=PG&f=1", "display_name": "Keenan B", "link": "https://stackoverflow.com/users/9041782/keenan-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 47802817, "answer_count": 2, "score": 0, "last_activity_date": 1513209683, "creation_date": 1513202483, "question_id": 47802772, "link": "https://stackoverflow.com/questions/47802772/tkinter-python-moving-multiple-widgets-at-once", "title": "Tkinter Python: Moving multiple widgets at once", "body": "<p>If I have multiple widgets within a Frame, is there a way to shift all widget positions at once with a command? I am using the .place manager. Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "dll", "python.net"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9096078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef0f8d0582516d01752425e91f283712?s=128&d=identicon&r=PG&f=1", "display_name": "Kal", "link": "https://stackoverflow.com/users/9096078/kal"}, "edited": false, "score": 0, "creation_date": 1513293091, "post_id": 47806817, "comment_id": 82609711, "body": "Thank you! This was helpful, I was using another .dll but I found a work around. Please see my answer below."}], "tags": [], "owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "is_accepted": false, "score": 1, "last_activity_date": 1513231344, "creation_date": 1513231344, "answer_id": 47806817, "question_id": 47802766, "link": "https://stackoverflow.com/questions/47802766/python-net-cannot-import-dll/47806817#47806817", "title": "Python.Net cannot import dll", "body": "<p>The correct dll to use is <code>UsbDllWrap.dll</code> located in <code>Samples</code> folder of your installation</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9096078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef0f8d0582516d01752425e91f283712?s=128&d=identicon&r=PG&f=1", "display_name": "Kal", "link": "https://stackoverflow.com/users/9096078/kal"}, "is_accepted": false, "score": 0, "last_activity_date": 1513293049, "creation_date": 1513293049, "answer_id": 47823523, "question_id": 47802766, "link": "https://stackoverflow.com/questions/47802766/python-net-cannot-import-dll/47823523#47823523", "title": "Python.Net cannot import dll", "body": "<p>I found a work around; by using NI Visa Wizard, I generated a driver and installed it. I can communicate with Newport Power Meter 1936-R with a 'raw' connection. I suggest trying NI VISA Wizard before going to Python.Net. The instrument connected can be seen in NI MAX, but not in Device Manager and pyvisa's resource manager. If anybody needs anything I am happy to help.</p>\n"}], "owner": {"reputation": 21, "user_id": 9096078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef0f8d0582516d01752425e91f283712?s=128&d=identicon&r=PG&f=1", "display_name": "Kal", "link": "https://stackoverflow.com/users/9096078/kal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1513293049, "creation_date": 1513202464, "last_edit_date": 1513203951, "question_id": 47802766, "link": "https://stackoverflow.com/questions/47802766/python-net-cannot-import-dll", "title": "Python.Net cannot import dll", "body": "<p>I am using python 2.7 to control a <a href=\"https://www.newport.com/p/1936-R\" rel=\"nofollow noreferrer\"><code>Newport 1936-R</code></a> power meter which uses custom <code>.dll</code>.</p>\n\n<p>It is not VISA (Virtual Instrument Software Architecture) compatible so I can't use <code>pyvisa</code>.</p>\n\n<p>I have installed the USB driver which contains the dll named <code>usbdll.dll</code>. I copied the dll to a system folder so that it is visible. When using Python.Net I can <code>AddReference</code> but when I import the dll I get the error <code>No module named usbdll</code>.</p>\n\n<p>My Python.Net version is 2.3.0</p>\n"}, {"tags": ["python", "opencv", "media-player"], "comments": [{"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 1, "creation_date": 1513202915, "post_id": 47802751, "comment_id": 82567068, "body": "The trackbar of OpenCV is super basic with the GUI options.... and only is allowed to pass int... I would recommend to use another GUI framework like Qt or in your case tkinter"}, {"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1513203303, "post_id": 47802751, "comment_id": 82567210, "body": "You can also write the time of the video in the image instead of a trackbar... this can be done with opencv. If you only want to display the time. If you want to also manipulate the time of the video, my previous comment stands"}], "answers": [{"comments": [{"owner": {"reputation": 4739, "user_id": 5403468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJ8BE.jpg?s=128&g=1", "display_name": "Tiw", "link": "https://stackoverflow.com/users/5403468/tiw"}, "edited": false, "score": 0, "creation_date": 1559200937, "post_id": 56373327, "comment_id": 99348852, "body": "While this may help OP, it&#39;s better to add more details, explanation, examples, etc.  Please <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker.</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 11164664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1c25f5d3dfb22f7ba9da8fbbe22141?s=128&d=identicon&r=PG&f=1", "display_name": "Subhash", "link": "https://stackoverflow.com/users/11164664/subhash"}, "is_accepted": false, "score": 0, "last_activity_date": 1559199831, "creation_date": 1559199831, "answer_id": 56373327, "question_id": 47802751, "link": "https://stackoverflow.com/questions/47802751/have-opencv-trackbar-display-time-of-video/56373327#56373327", "title": "Have opencv trackbar display time of video", "body": "<p>Try to use Scale i.e. slider widget provided in tkinter</p>\n"}], "owner": {"reputation": 2182, "user_id": 7586785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3432b56dd1b917b4be9f102397fa460?s=128&d=identicon&r=PG&f=1", "display_name": "John Lexus", "link": "https://stackoverflow.com/users/7586785/john-lexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 588, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559199831, "creation_date": 1513202387, "question_id": 47802751, "link": "https://stackoverflow.com/questions/47802751/have-opencv-trackbar-display-time-of-video", "title": "Have opencv trackbar display time of video", "body": "<p>I have a simple media player in OpenCV (python). I wanted to show the \"time\" of the video using a trackbar. First of all, here are the functions I am using to convert a frame number to a time:</p>\n\n<pre><code>def _seconds(value, framerate):\n    if isinstance(value, str):  # value seems to be a timestamp\n        _zip_ft = zip((3600, 60, 1, 1/framerate), value.split(':'))\n        return sum(f * float(t) for f,t in _zip_ft)\n    elif isinstance(value, (int, float)):  # frames\n        return value / framerate\n    else:\n        return 0\n\ndef _timecode(seconds, framerate):\n    return '{h:02}:{m:02}:{s:02}' \\\n            .format(h=int(seconds/3600),\n                    m=int(seconds/60%60),\n                    s=int(seconds%60))\n\n\ndef _frames(seconds, framerate):\n    return seconds * framerate\n\ndef timecode_to_frames(timecode, framerate, start=None):\n    return _frames(_seconds(timecode, framerate) - _seconds(start, framerate), framerate)\n\ndef frames_to_timecode(frames, framerate, start=None):\n    return _timecode(_seconds(frames, framerate) + _seconds(start,framerate), framerate)\n</code></pre>\n\n<p>In the end of the day, the return is a string that is of format Hours:Minutes:Seconds.</p>\n\n<p>So... I realize that using a trackbar to do this is probably impossible because definition... </p>\n\n<pre><code> C++: int createTrackbar(const string&amp; trackbarname, const string&amp; winname, int* value, int count, TrackbarCallback onChange=0, void* userdata=0)\n\nPython: cv.CreateTrackbar(trackbarName, windowName, value, count, onChange) \u2192 None\n    Parameters: \n\n        trackbarname \u2013 Name of the created trackbar.\n        winname \u2013 Name of the window that will be used as a parent of the created trackbar.\n        value \u2013 Optional pointer to an integer variable whose value reflects the position of the slider. Upon creation, the slider position is defined by this variable.\n        count \u2013 Maximal position of the slider. The minimal position is always 0.\n        onChange \u2013 Pointer to the function to be called every time the slider changes position. This function should be prototyped as void Foo(int,void*); , where the first parameter is the trackbar position and the second parameter is the user data (see the next parameter). If the callback is the NULL pointer, no callbacks are called, but only value is updated.\n        userdata \u2013 User data that is passed as is to the callback. It can be used to handle trackbar events without using global variables.\n</code></pre>\n\n<p>...and...</p>\n\n<pre><code>Python: cv2.setTrackbarPos(trackbarname, winname, pos) \u2192 None\n\nC: void cvSetTrackbarPos(const char* trackbar_name, const char* window_name, int pos)\n\nPython: cv.SetTrackbarPos(trackbarName, windowName, pos) \u2192 None\n    Parameters: \n\n        trackbarname \u2013 Name of the trackbar.\n        winname \u2013 Name of the window that is the parent of trackbar.\n        pos \u2013 New position.\n</code></pre>\n\n<p>...make it very clear that an <code>int</code> must be passed to the \"pos\" and basically everything else. </p>\n\n<p>Do you guys have a solution for this?\nThanks.</p>\n"}, {"tags": ["python", "inheritance", "default", "init", "super"], "comments": [{"owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "edited": false, "score": 0, "creation_date": 1513203267, "post_id": 47802743, "comment_id": 82567196, "body": "It&#39;s probably possible to do this using class decorators, but then again, it indicates a design problem."}], "answers": [{"tags": [], "owner": {"reputation": 554, "user_id": 7351752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a52fe7a9cbec5b00ca0195ed0c6b31fc?s=128&d=identicon&r=PG&f=1", "display_name": "etaloof", "link": "https://stackoverflow.com/users/7351752/etaloof"}, "is_accepted": true, "score": 0, "last_activity_date": 1513203135, "creation_date": 1513203135, "answer_id": 47802876, "question_id": 47802743, "link": "https://stackoverflow.com/questions/47802743/how-to-inherit-default-values-from-parent-class-using-super/47802876#47802876", "title": "How to inherit default values from Parent class using super()", "body": "<p>I don't think this is possible. What I've seen instead is something like this:</p>\n\n<pre><code>class Person(object):\n\n    def __init__(self, name=None, age=None, gender=None):\n        if name is None:\n            name = \"Jane Doe\"\n        if age is None:\n            age = \"30\"\n        if gender is None:\n            gender = \"female\"\n\n        self.name = name\n        self.age = age\n        self.gender = gender\n        self.goal = \"My goal is: Live for the moment!\"\n\n\nclass Student(Person):\n\n    def __init__(self, name=None, age=None, gender=None, prev_org=\"The School of Life\", skip_d=0):\n        super(Student, self).__init__(name, age, gender)\n        self.prev_org = prev_org\n        self.skip_d = skip_d\n        self.goal = \"Be a junior software developer.\"\n\n\njohn = Student('John Doe', 20, 'male', 'BME')\n\nstudent = Student()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1889, "user_id": 7220776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/062e54b2cfbda4766264630e7cdb4988?s=128&d=identicon&r=PG", "display_name": "alxwrd", "link": "https://stackoverflow.com/users/7220776/alxwrd"}, "is_accepted": false, "score": 1, "last_activity_date": 1513205438, "creation_date": 1513205438, "answer_id": 47803301, "question_id": 47802743, "link": "https://stackoverflow.com/questions/47802743/how-to-inherit-default-values-from-parent-class-using-super/47803301#47803301", "title": "How to inherit default values from Parent class using super()", "body": "<p>You can achieve this with <code>*args</code>, but I don't think it's a great design choice.</p>\n\n<pre><code>class Student(Person):\n\n    def __init__(self, *args, prev_org=\"The School of Life\", skip_d=0):\n        super(Student, self).__init__(*args[:2])\n</code></pre>\n\n<p>This is passing the first 3 positional arguments off to the parent (<code>Person</code>) class so <code>Student</code> doesn't need to worry about it.</p>\n\n<p>You need to slice (<code>[:2]</code>) the list because if you create an instance of <code>Student</code> like so:</p>\n\n<pre><code>john = Student('John Doe', 20, 'male', 'BME')\n</code></pre>\n\n<p>Then <code>'BME'</code> is now a positional argument, and is included in <code>*args</code>. Whereas:</p>\n\n<pre><code>john = Student('John Doe', 20, 'male', prev_org='BME')\n</code></pre>\n\n<p>It is now a keyword argument, so wouldn't appear in <code>*args</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 9096022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4776d5e113132a213a0fc9d71dc57b5e?s=128&d=identicon&r=PG&f=1", "display_name": "raas", "link": "https://stackoverflow.com/users/9096022/raas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 1, "accepted_answer_id": 47802876, "answer_count": 2, "score": 1, "last_activity_date": 1513205438, "creation_date": 1513202343, "question_id": 47802743, "link": "https://stackoverflow.com/questions/47802743/how-to-inherit-default-values-from-parent-class-using-super", "title": "How to inherit default values from Parent class using super()", "body": "<p>fairly new to python here, and to programming as general, i have the following example, in which i'm trying to inherit the default values from the Parent class, in a way that both the objects can be made.\nHow to do it nicely and clean? - Tried to experiment with *args and **kwargs, but it had different errors.</p>\n\n<pre><code>class Person(object):\n\ndef __init__(self, name=\"Jane Doe\", age=\"30\", gender=\"female\"):\n    self.name = name\n    self.age = age\n    self.gender = gender\n    self.goal = \"My goal is: Live for the moment!\"\n\n\nclass Student(Person):\n\ndef __init__(self, name, age, gender, prev_org=\"The School of Life\", skip_d=0):\n    super(Student, self).__init__(name, age, gender,)\n    self.prev_org = prev_org\n    self.skip_d = skip_d\n    self.goal = \"Be a junior software developer.\"\n\n john = Student('John Doe', 20, 'male', 'BME')\n\n student = Student()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513202415, "post_id": 47802695, "comment_id": 82566877, "body": "Dont you need a <code>join</code>  between the dataframe to know which price belongs to which article ?"}, {"owner": {"reputation": 829, "user_id": 399163, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e18ff6a58896dab133999ffdd52b233?s=128&d=identicon&r=PG", "display_name": "Maurice Kroon", "link": "https://stackoverflow.com/users/399163/maurice-kroon"}, "reply_to_user": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513202536, "post_id": 47802695, "comment_id": 82566932, "body": "@SpandanBrahmbhatt thanks. Afaik: no not needed. If I put <code>articles[&#39;t-0&#39;] = prices[&#39;average&#39;]</code> it shows current price for that time."}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513203061, "post_id": 47802695, "comment_id": 82567133, "body": "As per my understanding, <code>prices[&#39;average&#39;]</code> should give you the whole series.  Now for <code>articles[&#39;t-eod&#39;]</code> you wish to have the average price for when that article was added. Basically check what date it is and find the average of that date and enter it on <code>t-eod</code>. Am I correct ?"}, {"owner": {"reputation": 829, "user_id": 399163, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e18ff6a58896dab133999ffdd52b233?s=128&d=identicon&r=PG", "display_name": "Maurice Kroon", "link": "https://stackoverflow.com/users/399163/maurice-kroon"}, "reply_to_user": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513203285, "post_id": 47802695, "comment_id": 82567201, "body": "Almost yes, thanks. The average price per minute, I&#39;ve got. I would like to grab the last average minute price of that day. That&#39;s the EndOfDay (eod) price."}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 9069224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d39d147cad65551e399f770062c454?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Zisman", "link": "https://stackoverflow.com/users/9069224/alex-zisman"}, "is_accepted": true, "score": 1, "last_activity_date": 1513210854, "last_edit_date": 1513210854, "creation_date": 1513210271, "answer_id": 47804014, "question_id": 47802695, "link": "https://stackoverflow.com/questions/47802695/grab-last-price-of-the-day-from-other-dataframe-in-pandas/47804014#47804014", "title": "Grab last price of the day from other dataframe in pandas", "body": "<p>You could try using <code>idxmax</code> on <code>ts</code> to identify the index of the maximum timestamp of that date and extract the average value with loc</p>\n\n<pre><code>#Reset our index\nprices_df.reset_index(inplace=True)\narticles_df.reset_index(inplace=True)\n\n#Ensure our ts field is datetime\nprices_df['ts'] = pd.to_datetime(prices_df['ts'])\narticles_df['ts'] = pd.to_datetime(articles_df['ts'])\n\n#Get maximum average value from price_df by date\ndf_max = prices_df.loc[prices_df.groupby(prices_df.ts.dt.date, as_index=False).ts.idxmax()]\n\n#We need to join df_max and articles on the date so we make a new index\ndf_max['date'] = df_max.ts.dt.date\narticles_df['date'] = articles_df.ts.dt.date\ndf_max.set_index('date',inplace=True)\narticles_df.set_index('date',inplace=True)\n\n#Set our max field\narticles_df['max'] = df_max['average']\narticles_df.set_index('ts',inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 399163, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3e18ff6a58896dab133999ffdd52b233?s=128&d=identicon&r=PG", "display_name": "Maurice Kroon", "link": "https://stackoverflow.com/users/399163/maurice-kroon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 47804014, "answer_count": 1, "score": 0, "last_activity_date": 1513210854, "creation_date": 1513202094, "question_id": 47802695, "link": "https://stackoverflow.com/questions/47802695/grab-last-price-of-the-day-from-other-dataframe-in-pandas", "title": "Grab last price of the day from other dataframe in pandas", "body": "<p>Two dataframes:</p>\n\n<p>Dataframe 'prices' contains minute pricing.</p>\n\n<pre><code>ts                          average\n2017-12-13 15:55:00-05:00   339.389\n2017-12-13 15:56:00-05:00   339.293\n2017-12-13 15:57:00-05:00   339.172\n2017-12-13 15:58:00-05:00   339.148\n2017-12-13 15:59:00-05:00   339.144\n</code></pre>\n\n<p>Dataframe 'articles' contains articles:</p>\n\n<pre><code>ts                          title\n2017-10-25 11:45:00-04:00   Your Evening Briefing\n2017-11-24 14:15:00-05:00   Tesla's Grand Designs Distract From Model 3 Bo...\n2017-10-26 11:09:00-04:00   UAW Files Claim That Tesla Fired Workers Who S...\n2017-10-25 11:42:00-04:00   Forget the Grid of the Future, Puerto Ricans J...\n2017-10-22 09:54:00-04:00   Tesla Reaches Deal for Shanghai Facility, WSJ ...\n</code></pre>\n\n<p>When 'article' happens, I want the current average stock price (easy), plus the stock price of the end of the day (problem).</p>\n\n<p>My current approach:</p>\n\n<pre><code>articles['t-eod'] = prices.loc[articles.index.strftime('%Y-%m-%d')[0]].between_time('15:30','15:31')\n</code></pre>\n\n<p>However, it gives a warning:</p>\n\n<pre><code>/anaconda3/lib/python3.6/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: \nA value is trying to be set on a copy of a slice from a DataFrame.\nTry using .loc[row_indexer,col_indexer] = value instead\n\nSee the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\n  \"\"\"Entry point for launching an IPython kernel.\n</code></pre>\n\n<p>Reading the docs didn't make it a lot clearer to me.</p>\n\n<p>So question: How can I, for every Article, get Prices' last average price of that day?</p>\n\n<p>Thanks!</p>\n\n<p>/Maurice</p>\n"}, {"tags": ["python", "list", "tuples"], "comments": [{"owner": {"reputation": 546, "user_id": 8230441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e764f3d1008b7ef950e472710f720818?s=128&d=identicon&r=PG&f=1", "display_name": "F. Leone", "link": "https://stackoverflow.com/users/8230441/f-leone"}, "edited": false, "score": 0, "creation_date": 1513202059, "post_id": 47802682, "comment_id": 82566732, "body": "Regex matching?"}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "edited": false, "score": 0, "creation_date": 1513202120, "post_id": 47802682, "comment_id": 82566750, "body": "Your list will not work because 5n does not present any type known to Python. It could be either [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;5n&#39;] or [1, 2, 3, &#39;5n&#39;]."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513202147, "post_id": 47802682, "comment_id": 82566760, "body": "If these are strings, you could use <code>if element.endswith(&#39;n&#39;)</code>"}, {"owner": {"reputation": 191, "user_id": 7133644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5028a4aa35bb0c91fd84ad89d7514e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Arun", "link": "https://stackoverflow.com/users/7133644/arjun-arun"}, "edited": false, "score": 0, "creation_date": 1513202211, "post_id": 47802682, "comment_id": 82566787, "body": "All elements of the list are strings, I can change this if needed."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1513202223, "post_id": 47802682, "comment_id": 82566793, "body": "Create tuple until n then append tuple in new list. You did not try anything, did you?"}, {"owner": {"reputation": 1256, "user_id": 5186864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84a45ac1ccac37ed3a6565851115ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Falk Schuetzenmeister", "link": "https://stackoverflow.com/users/5186864/falk-schuetzenmeister"}, "edited": false, "score": 0, "creation_date": 1513202254, "post_id": 47802682, "comment_id": 82566811, "body": "Please edit your question because you leave your question here for posterity. So please write them as well as you would do in a blog post."}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513202300, "post_id": 47802682, "comment_id": 82566829, "body": "Yes that would be helpful to know what data types are for input and final output"}], "answers": [{"comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1513202406, "post_id": 47802722, "comment_id": 82566872, "body": "I think this is correct, but from the question it seems they want the <code>&#39;n&#39;</code> included in the tuple."}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513202468, "post_id": 47802722, "comment_id": 82566898, "body": "Yes. I think so. Waiting for him to correct the input. I am not sure what exact output he expects."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1513202478, "post_id": 47802722, "comment_id": 82566902, "body": "<code>if x!=&#39;&#39;</code> =&gt; <code>if x</code>"}, {"owner": {"reputation": 191, "user_id": 7133644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5028a4aa35bb0c91fd84ad89d7514e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Arun", "link": "https://stackoverflow.com/users/7133644/arjun-arun"}, "edited": false, "score": 0, "creation_date": 1513202552, "post_id": 47802722, "comment_id": 82566939, "body": "This worked correctly, thank you! I will accept in a few minutes when it lets me."}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 0, "creation_date": 1513202668, "post_id": 47802722, "comment_id": 82566983, "body": "If you want to stick with a functional approach, you can achieve the same thing like this: <code>map(tuple, filter(lambda x: x, &#39;&#39;.join(map(str, l)).split(&#39;n&#39;)))</code>"}, {"owner": {"reputation": 21716, "user_id": 2401769, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/wkEbw.jpg?s=128&g=1", "display_name": "Matias Cicero", "link": "https://stackoverflow.com/users/2401769/matias-cicero"}, "edited": false, "score": 0, "creation_date": 1513202762, "post_id": 47802722, "comment_id": 82567018, "body": "I really like this solution. OP: FYI, this won&#39;t work if the <code>n</code> is uppercased"}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "edited": false, "score": 0, "creation_date": 1513202831, "post_id": 47802722, "comment_id": 82567045, "body": "I assume that n is a kind of delimiter which he can have as a variable instead of hardcoding. Keeping <code>n</code> so as to keep the answer short."}], "tags": [], "owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "is_accepted": false, "score": 3, "last_activity_date": 1513202770, "last_edit_date": 1513202770, "creation_date": 1513202248, "answer_id": 47802722, "question_id": 47802682, "link": "https://stackoverflow.com/questions/47802682/list-to-list-of-tuples-based-on-elements-in-list/47802722#47802722", "title": "List to list of tuples based on elements in list?", "body": "<p>Assuming you list is following :</p>\n\n<pre><code>l = [1, 2, 3, '5n', 4, 9, '6n', 1, 3, 4, '5n']\n[tuple(x) for x in ''.join(map(str,l)).split('n') if x]\nOut[1]: [('1', '2', '3', '5'), ('4', '9', '6'), ('1', '3', '4', '5')]\n</code></pre>\n\n<p>Another way as mentioned by @Matias Cicero</p>\n\n<pre><code>list(map(tuple, filter(lambda x: x, ''.join(map(str, l)).split('n'))))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 7133644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5028a4aa35bb0c91fd84ad89d7514e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Arun", "link": "https://stackoverflow.com/users/7133644/arjun-arun"}, "edited": false, "score": 0, "creation_date": 1513204065, "post_id": 47802855, "comment_id": 82567503, "body": "This was actually a better answer. Follow up question: What if the list has an instance where [1, 2, 3, 5n, 6n, 7, 8, 9n]? I&#39;d want the 6n to be in it&#39;s own tuple rather than getting added to the first tuple."}, {"owner": {"reputation": 1360, "user_id": 2430448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d8c5ef982e5d3afafc2d10f1f66e059?s=128&d=identicon&r=PG", "display_name": "Elis Byberi", "link": "https://stackoverflow.com/users/2430448/elis-byberi"}, "edited": false, "score": 0, "creation_date": 1513244226, "post_id": 47802855, "comment_id": 82581202, "body": "That is what I was talking about in comments. Up!"}], "tags": [], "owner": {"reputation": 3422, "user_id": 6950186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ba437716e595ca8620f2d5fd75b13?s=128&d=identicon&r=PG&f=1", "display_name": "Transhuman", "link": "https://stackoverflow.com/users/6950186/transhuman"}, "is_accepted": true, "score": 2, "last_activity_date": 1513212463, "last_edit_date": 1513212463, "creation_date": 1513202970, "answer_id": 47802855, "question_id": 47802682, "link": "https://stackoverflow.com/questions/47802682/list-to-list-of-tuples-based-on-elements-in-list/47802855#47802855", "title": "List to list of tuples based on elements in list?", "body": "<p>One way using <code>itertools.groupby</code></p>\n\n<pre><code>from itertools import groupby\nl =  [1, 2, 3, '5n', 4, 5, 9, '6n', 1, 3, 4, '5n']\ngrp = [list(g) for k,g in groupby(l, lambda x:'n' in str(x))]\n[tuple(i+j) for i, j in zip(grp[::2],grp[1::2])]\n#[(1, 2, 3, '5n'), (4, 5, 9, '6n'), (1, 3, 4, '5n')]\n</code></pre>\n\n<p>For your requirement in comment, I would go with loop</p>\n\n<pre><code>lst =  [1, 2, 3, '5n', '6n', 1, 3, 4, '5n']\nl = []\nl1 = []\nfor i in lst:\n    if 'n' in str(i):\n        l.append(i)\n        l1.append(l)\n        l = []\n    else:\n        l.append(i)\nprint (l1)\n#[[1, 2, 3, '5n'], ['6n'], [1, 3, 4, '5n']]\n</code></pre>\n\n<p>Or using <code>re.findall</code> works for both your lists</p>\n\n<pre><code>import re\nL = [1, 2, 3, '5n', 4, 5, 9, '6n', 1, 3, 4, '5n']\ns = ':'.join(map(str,L))\n[tuple(i.split(':')) for i in re.findall(r'([^:].*?n)', s)]\n#[('1', '2', '3', '5n'), ('4', '5', '9', '6n'), ('1', '3', '4', '5n')]\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 7133644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5028a4aa35bb0c91fd84ad89d7514e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Arun", "link": "https://stackoverflow.com/users/7133644/arjun-arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 47802855, "answer_count": 2, "score": -4, "last_activity_date": 1513212463, "creation_date": 1513202013, "last_edit_date": 1513202353, "question_id": 47802682, "link": "https://stackoverflow.com/questions/47802682/list-to-list-of-tuples-based-on-elements-in-list", "title": "List to list of tuples based on elements in list?", "body": "<p>I have a list L = [1, 2, 3, 5n, 4, 9, 6n, 1, 3, 4, 5n]. </p>\n\n<p>The n present in some elements signifies the end of a grouping. Is there a way to turn this list into a list of tuples? </p>\n\n<p>For example, [(1, 2, 3, 5n), (4, 5, 9, 6n), (1, 3, 4, 5n)]? </p>\n\n<p>I know I can create an iterator it = iter(L), and then zip the iterator to create a list of tuples, but I can't figure out how to use the \"n\" flag to signal creation of a tuple.</p>\n\n<p>The n is always the same and always signifies the end of a grouping. Thank you!</p>\n\n<p>EDIT: All elements in the list are strings, and the output should be tuples of strings as well.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1064, "user_id": 7670316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0N1Y.jpg?s=128&g=1", "display_name": "Abe", "link": "https://stackoverflow.com/users/7670316/abe"}, "edited": false, "score": 0, "creation_date": 1513202249, "post_id": 47802680, "comment_id": 82566806, "body": "Try this anwser: <a href=\"https://stackoverflow.com/questions/713138/getting-the-docstring-from-a-function\" title=\"getting the docstring from a function\">stackoverflow.com/questions/713138/&hellip;</a>"}, {"owner": {"reputation": 147, "user_id": 8217678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3cb1b3182789770a2fb3e1bad1c527eb?s=128&d=identicon&r=PG&f=1", "display_name": "Chinmoy Kulkarni", "link": "https://stackoverflow.com/users/8217678/chinmoy-kulkarni"}, "reply_to_user": {"reputation": 1064, "user_id": 7670316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A0N1Y.jpg?s=128&g=1", "display_name": "Abe", "link": "https://stackoverflow.com/users/7670316/abe"}, "edited": false, "score": 0, "creation_date": 1513202403, "post_id": 47802680, "comment_id": 82566871, "body": "@Abe I have already tried that, however it does print out a lot of excess info which I do not want."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1513202601, "post_id": 47802680, "comment_id": 82566963, "body": "Well, you can just <code>&quot;\\n&quot;.join</code> the lines, but what if the docstring contains information on parameters, or even test cases?"}, {"owner": {"reputation": 147, "user_id": 8217678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3cb1b3182789770a2fb3e1bad1c527eb?s=128&d=identicon&r=PG&f=1", "display_name": "Chinmoy Kulkarni", "link": "https://stackoverflow.com/users/8217678/chinmoy-kulkarni"}, "edited": false, "score": 0, "creation_date": 1513203052, "post_id": 47802680, "comment_id": 82567128, "body": "I want to join those line. but how do I get those first. That is the question I asked?"}, {"owner": {"reputation": 721, "user_id": 8101215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9fd6002242a6df655382e9886ca1c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8101215/daniel"}, "edited": false, "score": 0, "creation_date": 1513203410, "post_id": 47802680, "comment_id": 82567254, "body": "<code>for obj in dir(module): print(obj.__name__, obj.__doc__.replace(&#39;\\t&#39;, &#39;&#39;).replace(&#39;\\n&#39;, &#39;&#39;))</code>"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1513203424, "post_id": 47802680, "comment_id": 82567263, "body": "Ummm, <code>Foo.__doc__.replace(&quot;\\n&quot;, &quot; &quot;)</code>?"}, {"owner": {"reputation": 147, "user_id": 8217678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3cb1b3182789770a2fb3e1bad1c527eb?s=128&d=identicon&r=PG&f=1", "display_name": "Chinmoy Kulkarni", "link": "https://stackoverflow.com/users/8217678/chinmoy-kulkarni"}, "edited": false, "score": 0, "creation_date": 1513203599, "post_id": 47802680, "comment_id": 82567332, "body": "Though, not the solution I was looking for. But I got the drift. I think I can go ahead from here. Thanks"}], "owner": {"reputation": 147, "user_id": 8217678, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3cb1b3182789770a2fb3e1bad1c527eb?s=128&d=identicon&r=PG&f=1", "display_name": "Chinmoy Kulkarni", "link": "https://stackoverflow.com/users/8217678/chinmoy-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1352, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513202008, "creation_date": 1513202008, "question_id": 47802680, "link": "https://stackoverflow.com/questions/47802680/extract-docstring-from-a-python-function", "title": "Extract docstring from a python function", "body": "<p>I want to extract a docstring from every function in a python module.\nThought, help does the intended action, It would print out a lot of extra stuff which I do not need. I have tried .__ doc__ as well. However, Even that does print out a lot of stuff and also print \\n and \\t.</p>\n\n<p>eg.</p>\n\n<pre><code>def Foo():\n\"\"\"\nThis is\na multiline\ncomment\n\"\"\"\n    pass:\n</code></pre>\n\n<p>I want something which will give me only the comment as a single line or in the specified format as is.</p>\n\n<pre><code>&gt;&gt;&gt; print (some operation on foo)\n&gt;&gt;&gt; \"This is a multiline comment\"\n&gt;&gt;&gt;\n</code></pre>\n\n<p>How do I remove of all the extra stuff.</p>\n\n<p>Greater picture:\nI have a module with a search function to find all functions and I want to display their descriptions along with functions</p>\n\n<pre><code>&gt;&gt;&gt; find('*', maths) # suppose maths is a module\n&gt;&gt;&gt; shapes.square \"This is square\"\n    shapes.cube   \"This is cube\"\n</code></pre>\n\n<p>P.S I already have the find function I just need the string to append in the print statement.</p>\n\n<p>Thnaks</p>\n"}, {"tags": ["python", "svn", "pysvn"], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 2233423, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/51b059a908771d71c6f7eadf2c070771?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2233423/chris"}, "is_accepted": true, "score": 1, "last_activity_date": 1513268213, "creation_date": 1513268213, "answer_id": 47817831, "question_id": 47802651, "link": "https://stackoverflow.com/questions/47802651/subversion-hook-script-windows-python-pysvn/47817831#47817831", "title": "Subversion Hook Script WIndows, Python, pysvn", "body": "<p>After a great deal of trial and error and better searching after a day of frustration I found that I need to use the revision property, not a straight property, for a given transaction this will return the user submitted comment:</p>\n\n<pre><code>transaction.revpropget(\"svn:log\")\n</code></pre>\n\n<p>There are other useful properties, this will return a list of all revision properties:</p>\n\n<pre><code>transaction.revproplist()\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>{'svn:log': 'qqqqqqq', 'svn:txn-client-compat-version': '1.9.7', 'svn:txn-user-agent': 'SVN/1.9.7 (x64-microsoft-windows) TortoiseSVN-1.9.7.27907', 'svn:author': 'harry', 'svn:date': '2017-12-14T16:13:52.361605Z'}\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 2233423, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/51b059a908771d71c6f7eadf2c070771?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2233423/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 47817831, "answer_count": 1, "score": 0, "last_activity_date": 1513268213, "creation_date": 1513201874, "question_id": 47802651, "link": "https://stackoverflow.com/questions/47802651/subversion-hook-script-windows-python-pysvn", "title": "Subversion Hook Script WIndows, Python, pysvn", "body": "<p>I'm trying to create a hook script for subversion on windows, I have a bat file that calls my python script but getting the log/comments seems to be beyond me.</p>\n\n<p>I have pysvn installed and can get the transaction like this:</p>\n\n<pre><code> repos_path = sys.argv[1]\n transaction_name = sys.argv[2]\n transaction = pysvn.Transaction( repos_path, transaction_name)\n</code></pre>\n\n<p>I can also list what has changed:</p>\n\n<pre><code>transaction.changed(0)\n</code></pre>\n\n<p>What I cannot figure out is how to get the log/comment for the transaction. I realize that in pysvn there is a command similar to:</p>\n\n<pre><code>transaction.propget(propname,path)\n</code></pre>\n\n<p>But cannot for the life of me get it to return anything. I assume propname should be \"svn:log\", for path I have tried the fiel name, the repo path, null but all get are errors.</p>\n\n<p>AT the end of the day I need to validate the comment, there will be matching against external data that will evolve, hence why I want to do it in python rather than the bat file, plus it may move to a linux server later.</p>\n\n<p>AM I missing something obvious? How do I get the log/comment as a string?</p>\n\n<p>Thanks, Chris. </p>\n"}, {"tags": ["python", "numpy", "random", "statistics"], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 4672617, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Auj2u.png?s=128&g=1", "display_name": "rammelmueller", "link": "https://stackoverflow.com/users/4672617/rammelmueller"}, "edited": false, "score": 0, "creation_date": 1513247292, "post_id": 47802741, "comment_id": 82583313, "body": "For the sake of completeness: the desired behavior is achieved when passing  <code>minlength=n+1</code> to <code>np.bincount</code> to achieve a list over the entire span."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1513202331, "creation_date": 1513202331, "answer_id": 47802741, "question_id": 47802612, "link": "https://stackoverflow.com/questions/47802612/weird-behavior-of-numpy-histogram-random-numbers-in-numpy/47802741#47802741", "title": "weird behavior of numpy.histogram / random numbers in numpy?", "body": "<p>You're using <code>histogram</code> wrong. The bins aren't where you think they are. They don't go from 0 to 50; they go from the minimum input value to the maximum input value. The 0s represent bins that lie entirely between two integers.</p>\n\n<p>Try it with <code>numpy.bincount</code>:</p>\n\n<pre><code>In [31]: n = 50\n\nIn [32]: N = 5000\n\nIn [33]: np.bincount(np.sum(np.random.randint(0, 2, size=(n, N)), axis=0))\nOut[33]: \narray([  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,\n         0,   7,  13,  22,  46,  75, 126, 220, 305, 367, 461, 550, 578,\n       517, 471, 438, 314, 189, 146,  76,  50,  17,   9,   2,   1])\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 4672617, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Auj2u.png?s=128&g=1", "display_name": "rammelmueller", "link": "https://stackoverflow.com/users/4672617/rammelmueller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 47802741, "answer_count": 1, "score": 0, "last_activity_date": 1514192823, "creation_date": 1513201663, "last_edit_date": 1514192823, "question_id": 47802612, "link": "https://stackoverflow.com/questions/47802612/weird-behavior-of-numpy-histogram-random-numbers-in-numpy", "title": "weird behavior of numpy.histogram / random numbers in numpy?", "body": "<p>I stumbled upon some peculiar behavior of random numbers in Python , specifically I use the module numpy.random.</p>\n\n<p>Consider the following expression:</p>\n\n<pre><code>n = 50\nN = 1000\nnp.histogram(np.sum(np.random.randint(0, 2, size=(n, N)), axis=0), bins=n+1)[0]\n</code></pre>\n\n<p>In the limit of large <code>N</code> I would expect a binomial distribution (for the interested reader, this simulates the <a href=\"https://en.wikipedia.org/wiki/Ehrenfest_model\" rel=\"nofollow noreferrer\">Ehrenfest model</a>) and for large <code>n</code> a normal distribution. A typical output however, looks like this:</p>\n\n<blockquote>\n  <p>array([<br>\n  1,   0,   0,   1,   0,   2,   0,   1,   0,  15,   0,<br>\n  12,  0,  18,   0,  39,   0,  64,   0,  62,   0, 109,<br>\n  0,  97,   0, 107,   0, 114,   0, 102,   0,  92,   0,<br>\n  55,   0,  46,   0,  35,   0, 10,   0,   9,   0,   4,<br>\n  0,   0,   0,   3,   0,   1,   1<br>\n  ])</p>\n</blockquote>\n\n<p>With the statement from above, I can't explain the occurrence of the zeros in the histogram - am I missing something obvious here?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 413238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869deec4e42e0404fb8ccbf8b7b01d4f?s=128&d=identicon&r=PG", "display_name": "Gunee", "link": "https://stackoverflow.com/users/413238/gunee"}, "is_accepted": false, "score": 0, "last_activity_date": 1513205328, "creation_date": 1513205328, "answer_id": 47803286, "question_id": 47802592, "link": "https://stackoverflow.com/questions/47802592/python-plot-amount-of-x-values-in-data/47803286#47803286", "title": "Python plot amount of x values in data", "body": "<p>You can use the <code>datetime</code> module from the python standard library to parse the dates, in particular, have a look at the <a href=\"https://docs.python.org/fr/3/library/datetime.html#datetime.datetime.strptime\" rel=\"nofollow noreferrer\"><code>strptime</code></a> function. You can then use the <code>datetime.year</code> attribute to aggregate your data.</p>\n\n<p>You can also use an <a href=\"https://docs.python.org/3.6/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\"><code>OrderedDict</code></a> to keep track of your aggregation before you assign <code>OrderedDict.keys()</code> and <code>OrdredDict.values()</code> to <code>x_values</code> and <code>y_values</code> respectively.</p>\n"}, {"tags": [], "owner": {"reputation": 2821, "user_id": 5662006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eb237f223f66056b9ea829b44b4cf40?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Farr", "link": "https://stackoverflow.com/users/5662006/chris-farr"}, "is_accepted": false, "score": 1, "last_activity_date": 1513205889, "last_edit_date": 1513205889, "creation_date": 1513205541, "answer_id": 47803321, "question_id": 47802592, "link": "https://stackoverflow.com/questions/47802592/python-plot-amount-of-x-values-in-data/47803321#47803321", "title": "Python plot amount of x values in data", "body": "<p>You can create the data points separately to make it a little easier to comprehend. Then use pandas.pivot_table to aggregate. Here is a working example that should get you going.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ndata = pd.read_csv(\"klimaat.csv\", parse_dates=[\"DATE\"])\ndata.sort_values(\"DATE\", inplace=True)\ndata[\"above_250\"] = data.TX &gt; 250\ndata[\"year\"] = data.apply(lambda x: x[\"DATE\"].year, axis=1).astype(\"category\")\n\nplot_df = pd.pivot_table(data, index=\"year\", values=\"above_250\", aggfunc=\"sum\")\n\nyears = plot_df.index\ny_pos = np.arange(len(years))\nvalues = plot_df.above_250\n\nplt.bar(y_pos, values, align='center', alpha=0.5)\nplt.xticks(y_pos, years)\nplt.ylabel(\"Amount of days with TX &gt; 250\")\nplt.xlabel(\"Year\")\nplt.title(\"Zomerse Dagen Per Jaar\")\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9014514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KDAEFq_Hi38/AAAAAAAAAAI/AAAAAAAAAbE/1SdCJ8ix7ys/photo.jpg?sz=128", "display_name": "Ruben Weijers", "link": "https://stackoverflow.com/users/9014514/ruben-weijers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513205889, "creation_date": 1513201573, "question_id": 47802592, "link": "https://stackoverflow.com/questions/47802592/python-plot-amount-of-x-values-in-data", "title": "Python plot amount of x values in data", "body": "<p>I have a huge csv file of data, it looks like this:</p>\n\n<pre><code>STAID,    SOUID,    DATE,   TX, Q_TX\n   162,100522,19010101,  -31,    0\n   162,100522,19010102,  -13,    0\n</code></pre>\n\n<p>TX is temperature, data goes on for a few thousand more lines to give you an idea.</p>\n\n<p>For every year, I want to plot the amount of days with a temperature above 25 degrees.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndata = pd.read_csv(\"klimaat.csv\")\n\nzomers = data.index[data[\"TX\"] &gt; 250].tolist()\n\nx_values = []\ny_values = []\nplt.xlabel(\"Years\")\nplt.ylabel(\"Amount of days with TX &gt; 250\")\nplt.title(\"Zomerse Dagen Per Jaar\")\nplt.plot(x_values, y_values)\n\n# save plot\nplt.savefig(\"zomerse_dagen.png\")\n</code></pre>\n\n<p>X-axis should be the years say 1900-2010 or something, and the y-axis should be the amount of days with a temperature higher than 250 in that year.</p>\n\n<p>How do I go about this? >_&lt; I can't quite get a grasp on how to extract the amount of days from the data.... and use it in a plot.</p>\n"}, {"tags": ["python", "dictionary", "for-loop", "indexing"], "comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1513201782, "post_id": 47802572, "comment_id": 82566620, "body": "Hint: Your markov chain should be modelling the set of possible values Y that can immediately follow X ..."}], "answers": [{"tags": [], "owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "is_accepted": false, "score": 1, "last_activity_date": 1513201680, "creation_date": 1513201680, "answer_id": 47802618, "question_id": 47802572, "link": "https://stackoverflow.com/questions/47802572/when-setting-the-value-of-a-dictionary-to-an-index-i-1-in-a-list-item-is-set/47802618#47802618", "title": "When setting the value of a dictionary to an index i + 1 in a list, item is set to the the item after the last occurance of the value i", "body": "<p>The dictionary you wanted isn't valid, you can't duplicate keys. You could try to do this with lists of lists instead. </p>\n"}], "owner": {"reputation": 11, "user_id": 9095996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb89ce19264728e54d3e3361e0680c1?s=128&d=identicon&r=PG&f=1", "display_name": "badcoder", "link": "https://stackoverflow.com/users/9095996/badcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1513201680, "creation_date": 1513201484, "question_id": 47802572, "link": "https://stackoverflow.com/questions/47802572/when-setting-the-value-of-a-dictionary-to-an-index-i-1-in-a-list-item-is-set", "title": "When setting the value of a dictionary to an index i + 1 in a list, item is set to the the item after the last occurance of the value i", "body": "<pre><code>with open(\"text.txt\", \"r\") as file:\n    contents = file.read().replace('\\n',' ')\nwords = contents.split(' ')\n\n\nwordsDict = {}\nfor i in range(len(words) - 1):\n    wordsDict[words[i]] = words[i + 1]\n\ndef assemble():\n    start = words[random.randint(0, len(words))]\n    print(start.capitalize())\n\n\nassemble()\n</code></pre>\n\n<p>I am currently creating a markov chain-esque project. When I ran this code, I had expected for the dictionary to look as follows:</p>\n\n<p>(if text.txt read: the cat chased the rat while the dog chased the cat into the rat house)</p>\n\n<pre><code>{'the': 'cat', 'cat': 'chased', 'chased': 'the', 'the': 'rat', 'rat': 'while', 'while': 'the', 'the': 'dog', 'dog': 'chased', 'chased': 'the', 'the': 'cat', 'cat': 'into', 'into': 'the', 'the': 'rat', 'rat': 'house'}\n</code></pre>\n\n<p>but instead, I get</p>\n\n<pre><code>{'the': 'rat', 'cat': 'into', 'chased': 'the', 'rat': 'house', 'while': 'the', 'dog': 'chased', 'into': 'the'}\n</code></pre>\n\n<p>If you don't sense a pattern, it's that the value isn't just the next item in the array, it is the next item after the last occurance of the word. In this case, our first key &amp; value pair is 'the': 'rat' because the last occurance of the is followed by rat.</p>\n\n<p>I have no idea why this happens or how to fix it.</p>\n"}, {"tags": ["python", "regex", "pandas", "split"], "comments": [{"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1513201703, "post_id": 47802570, "comment_id": 82566580, "body": "What is your desired output for the sorting?"}, {"owner": {"reputation": 1924, "user_id": 5516874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ioXgB.jpg?s=128&g=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/5516874/jessica"}, "reply_to_user": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1513201848, "post_id": 47802570, "comment_id": 82566644, "body": "it&#39;s there but i added the words &#39;desired output&#39; to the part , hopefully it&#39;s more obvious now"}, {"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 0, "creation_date": 1513201890, "post_id": 47802570, "comment_id": 82566666, "body": "start with <code>df[&#39;firstcol&#39;] = df[&#39;question#&#39;].str[0]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 1, "last_activity_date": 1513201992, "creation_date": 1513201992, "answer_id": 47802678, "question_id": 47802570, "link": "https://stackoverflow.com/questions/47802570/pandas-splitting-letter-and-number-mix-column-based-on-pattern/47802678#47802678", "title": "pandas splitting letter and number mix column based on pattern", "body": "<p>Try</p>\n\n<pre><code>df[['firstcol', 'secondcol', 'thirdcol']] = df['question#'].str.extract('([A-Za-z]+)(\\d+\\.?\\d*)([A-Za-z]*)', expand = True)\n\n\n    question#   firstcol    secondcol   thirdcol\n0   a1.2        a           1.2 \n1   a10         a           10  \n2   a10.1       a           10.1    \n3   b11.1a      b           11.1        a\n4   k20.3d      k           20.3        d\n5   b20c        b           20          c\n</code></pre>\n"}], "owner": {"reputation": 1924, "user_id": 5516874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ioXgB.jpg?s=128&g=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/5516874/jessica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 2, "accepted_answer_id": 47802678, "answer_count": 1, "score": 1, "last_activity_date": 1513201992, "creation_date": 1513201471, "last_edit_date": 1592644375, "question_id": 47802570, "link": "https://stackoverflow.com/questions/47802570/pandas-splitting-letter-and-number-mix-column-based-on-pattern", "title": "pandas splitting letter and number mix column based on pattern", "body": "<p>I have a sample database with one column:</p>\n<pre><code>import pandas as pd\nd = {\n \n 'question#': ['a1.2','a10','a10.1','b11.1a','k20.3d','b20c']\n}\ndf = pd.DataFrame(d)\n</code></pre>\n<p>it looks like this:</p>\n<pre><code>Out[8]: \nquestion#\n0       a1.2\n1       a10\n2       a10.1\n3       b11.1a\n4       k20.3d\n5       b20c\n</code></pre>\n<p>there isn't any way to sort number and letter mixed column correctly, so i thought the only way to do that is to first split the column into 3 columns:</p>\n<p><strong>first column:</strong> a letter: (a-z), the string always starts with one letter</p>\n<p><strong>second column:</strong> two possible outcomes:</p>\n<ol>\n<li><p>single digit or multiple digits:  (1-9)+</p>\n<p>OR</p>\n</li>\n<li><p>digits + '.' + digits: (1-9)+(/.)(1-9)+</p>\n</li>\n</ol>\n<p><strong>third column:</strong> a letter or nothing:   (a-z)?</p>\n<p>so for the sample database i want it to split into the following columns, <strong>DESIRED OUTPUT</strong>:</p>\n<pre><code>Out[8]: \nquestion#  firstcol   secondcol    thirdcol\n0             a         1.2\n1             a         10\n2             a         10.1\n3             b         11.1           a\n4             k         20.3           d\n5             b         20             c\n</code></pre>\n<p>is the syntax something like this page? i am not sure how exactly to write the regex syntax:</p>\n<p><a href=\"https://chrisalbon.com/python/pandas_regex_to_create_columns.html\" rel=\"nofollow noreferrer\">https://chrisalbon.com/python/pandas_regex_to_create_columns.html</a></p>\n<pre><code>  df['firstcol'] = df['question#'].str.extract(not sure the syntax, expand=True)\n  df['secondcol'] = df['question#'].str.extract(not sure the syntax, expand=True)\n  df['thirdcol'] = df['question#'].str.extract(not sure the syntax, expand=True)\n</code></pre>\n"}, {"tags": ["python", "database", "sqlite", "primary-key"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9022878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/jI7Os.jpg?s=128&g=1", "display_name": "jackdomleo7", "link": "https://stackoverflow.com/users/9022878/jackdomleo7"}, "edited": false, "score": 0, "creation_date": 1513204064, "post_id": 47802621, "comment_id": 82567502, "body": "Thanks! It works :D  Is there any way of doing the reverse? Going from 0002, for example, to 2?"}, {"owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "reply_to_user": {"reputation": 93, "user_id": 9022878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/jI7Os.jpg?s=128&g=1", "display_name": "jackdomleo7", "link": "https://stackoverflow.com/users/9022878/jackdomleo7"}, "edited": false, "score": 0, "creation_date": 1513204124, "post_id": 47802621, "comment_id": 82567519, "body": "Yes. Just do <code>int(&#39;0002&#39;)</code>"}], "tags": [], "owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "is_accepted": true, "score": 2, "last_activity_date": 1513201691, "creation_date": 1513201691, "answer_id": 47802621, "question_id": 47802566, "link": "https://stackoverflow.com/questions/47802566/how-do-i-make-the-primary-key-autoincrement-like-0001-0002-0003-rather-than-1/47802621#47802621", "title": "How do I make the primary key autoincrement like 0001, 0002 ,0003 rather than 1, 2, 3?", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/string.html#string.zfill\" rel=\"nofollow noreferrer\">zfill</a> method.</p>\n\n<pre><code>key=1\nstr(key).zfill(4)\nout[1]: '0001'\n\nkey=10\nstr(key).zfill(4)\nout[1]: '0010'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1513202019, "creation_date": 1513202019, "answer_id": 47802683, "question_id": 47802566, "link": "https://stackoverflow.com/questions/47802566/how-do-i-make-the-primary-key-autoincrement-like-0001-0002-0003-rather-than-1/47802683#47802683", "title": "How do I make the primary key autoincrement like 0001, 0002 ,0003 rather than 1, 2, 3?", "body": "<p><code>integers</code> are just numbers. You can't control the way they are stored. You could, however, pad them with zeroes when you query the table:</p>\n\n<pre><code>SELECT TO_CHAR(staff_id, 'fm0000'), fname, lname, gender\nFROM   employee\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": false, "score": 0, "last_activity_date": 1513216529, "last_edit_date": 1513216529, "creation_date": 1513216109, "answer_id": 47804743, "question_id": 47802566, "link": "https://stackoverflow.com/questions/47802566/how-do-i-make-the-primary-key-autoincrement-like-0001-0002-0003-rather-than-1/47804743#47804743", "title": "How do I make the primary key autoincrement like 0001, 0002 ,0003 rather than 1, 2, 3?", "body": "<blockquote>\n  <p>Also, how do I make sure that when the first name and surname are\n  entered, they are only text values? I tried using 'text' in the CREATE\n  section... any ide</p>\n</blockquote>\n\n<p>With the exception of the rowid any column can contain any type of value as one of the following storage classes :-</p>\n\n<ul>\n<li>Null</li>\n<li>Integer (up to 8 bytes, but the minimum required)</li>\n<li>Real as a 8 byte IEEE floating-point number</li>\n<li>Text according to the database encoding</li>\n<li>BLOB (byte array)</li>\n</ul>\n\n<p>However, how the storage class is determined is according to the value itself and the column's declared type/affinifty. </p>\n\n<p>VARCHAR(30) is not different to VARCHAR(SOMESTUPIDAMOUNT) nor to CHARISMA, as due to the occurrence of CHAR (and without the occurrence of INT) then the 2nd rule of column affinity is applied and thus the column's affinity is TEXT.</p>\n\n<ul>\n<li><p><strong>Rule 2 is</strong></p></li>\n<li><blockquote>\n  <p>If the declared type of the column contains any of the strings \"CHAR\",\n  \"CLOB\", or \"TEXT\" then that column has TEXT affinity. Notice that the\n  type VARCHAR contains the string \"CHAR\" and is thus assigned TEXT\n  affinity.</p>\n</blockquote></li>\n</ul>\n\n<p><a href=\"https://sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">More here about SQLite 3 Datatypes - See 3.1 Determination of Column Affinity for the rules</a></p>\n\n<p>So for the VARCHAR columns the column affinity is TEXT so then it depends upon the value and the rule for column's with TEXT affinity which is (3. Type Affinity) :-</p>\n\n<blockquote>\n  <p>A column with TEXT affinity stores all data using storage classes\n  NULL, TEXT or BLOB. If numerical data is inserted into a column with\n  TEXT affinity it is converted into text form before being stored.</p>\n</blockquote>\n\n<p><strong>So really you do not need to anything.</strong> </p>\n\n<p><strong>HOWEVER,</strong> as important, is how you retrieve the data, which would be via one of the <code>get????</code> methods. In short if you store <code>1</code> and use the <code>getInt</code> method you will get an integer of <code>1</code>. If you store <em><code>something</code></em> and use the <code>getInt</code> method, you will get <code>0</code>. Using <code>getString</code> you'd get <code>1</code> and <em><code>something</code></em>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45557278/how-flexible-restricive-are-sqlite-column-types\">There's a little more along with examples here</a></p>\n"}], "owner": {"reputation": 93, "user_id": 9022878, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/jI7Os.jpg?s=128&g=1", "display_name": "jackdomleo7", "link": "https://stackoverflow.com/users/9022878/jackdomleo7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 1, "accepted_answer_id": 47802621, "answer_count": 3, "score": 1, "last_activity_date": 1513216529, "creation_date": 1513201450, "last_edit_date": 1513203701, "question_id": 47802566, "link": "https://stackoverflow.com/questions/47802566/how-do-i-make-the-primary-key-autoincrement-like-0001-0002-0003-rather-than-1", "title": "How do I make the primary key autoincrement like 0001, 0002 ,0003 rather than 1, 2, 3?", "body": "<p>I understand that the primary key autoincrements the primary key for each record inserted, but when I insert data using option 1, then display the data using option 2, it shows the PK as 1,2,3... etc. However, I would like it to store the PK as 4 digits, E.G. 0001,0002,0003 rather than 1,2,3. Is there any way to do this? <em>PLEASE NOTE: this is example simplified code.</em></p>\n\n<pre><code>import sqlite3\n\nconnection = sqlite3.connect('database.db')\ncursor = connection.cursor()\ncreate_table = '''\nCREATE TABLE IF NOT EXISTS employee (\nstaff_ID INTEGER PRIMARY KEY NOT NULL,\nfname VARCHAR(20) NOT NULL,\nlname VARCHAR(30) NOT NULL,\ngender VARCHAR(20) NOT NULL);'''\ncursor.execute(create_table)\n\nprint('press 1 to add new user')\nprint('press 2 to show all users')\noption = input('1 or 2: ')\n\nif option == '1':\n    #userid = input('User ID: ')\n    first_name = input('First name : ')\n    surname = input('Surname: ')\n    gender = input('Gender: ')\n\n    add_staff = '''INSERT INTO employee (fname, lname, gender)\n        VALUES (?, ?, ?, ?);'''\n    cursor.execute(add_staff, (first_name, surname, gender))\n\nelif option == '2':\n    cursor.execute('SELECT * FROM employee')\n    print('fetchall:')\n    result = cursor.fetchall()\n    for r in result:\n    print(r)\n    cursor.execute('SELECT * FROM employee')    \n\nconnection.commit()\n\nconnection.close()\n</code></pre>\n\n<p>Also, how do I make sure that when the first name and surname are entered, they are only text values? I tried using 'text' in the CREATE section... any ide</p>\n"}, {"tags": ["python", "regex", "for-loop", "cad"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9069894, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10212167737843244/picture?type=large", "display_name": "Darren Taggart", "link": "https://stackoverflow.com/users/9069894/darren-taggart"}, "edited": false, "score": 0, "creation_date": 1513202302, "post_id": 47802629, "comment_id": 82566830, "body": "Awesome! Thanks!"}], "tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 1, "last_activity_date": 1513201729, "creation_date": 1513201729, "answer_id": 47802629, "question_id": 47802564, "link": "https://stackoverflow.com/questions/47802564/python-passing-regex-result-to-a-list/47802629#47802629", "title": "Python - passing regex result to a list", "body": "<p>Right now you are creating a new array and just printing it each time through the loop.  Try something like this:</p>\n\n<pre><code>total_array = []\n\nfor key, val in DoL.items():\n    fobId = val[\"FaceOuterBound\"]\n    edgeloop_txt = re.findall(r'\\n#'+str(fobId)+r'\\D*#(\\d+).*;', text)\n    total_array += [int(edgeloop) for edgeloop in edgeloop_txt]\nprint(total_array)\n</code></pre>\n\n<p>This will loop through your items, continually adding to <code>total_array</code>, and print the entire array when the loop is complete.</p>\n"}], "owner": {"reputation": 47, "user_id": 9069894, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10212167737843244/picture?type=large", "display_name": "Darren Taggart", "link": "https://stackoverflow.com/users/9069894/darren-taggart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 47802629, "answer_count": 1, "score": 0, "last_activity_date": 1513586985, "creation_date": 1513201443, "last_edit_date": 1513586985, "question_id": 47802564, "link": "https://stackoverflow.com/questions/47802564/python-passing-regex-result-to-a-list", "title": "Python - passing regex result to a list", "body": "<p>I am trying to pass the results of a regex findall() function to a list. The code I am using to do this is as follows:</p>\n\n<pre><code>#iterate DoL, find fobIDs and use to find edgeloop IDs\nfor key, val in DoL.items():\n    fobId = val[\"FaceOuterBound\"]\n    edgeloop_txt = re.findall(r'\\n#'+str(fobId)+r'\\D*#(\\d+).*;', text)\n    edgeloops = [int(edgeloop) for edgeloop in edgeloop_txt]\n    print(edgeloops)\n</code></pre>\n\n<p>The for loop is iterating through a dictionary and changing <code>fobId</code> each time, which is generating a different match each time. The output currently looks like this:</p>\n\n<pre><code>[159]\n[328]\n[37]\n[18]\n...\n</code></pre>\n\n<p>However, I want it to look like this instead:</p>\n\n<pre><code>[159, 328, 37, 18,....]\n</code></pre>\n\n<p>I'm guessing it has something to do with the for loop changing the variable <code>edgeloop_txt</code> each time but I'm unsure of how to avoid that.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.5"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 5, "creation_date": 1513201410, "post_id": 47802544, "comment_id": 82566441, "body": "well, you can&#39;t import 2.7 specific packages in 3.5. You have to choose (and choose 3.5). Some porting is needed here. Which packages can&#39;t you use in 3.5?"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 1, "creation_date": 1513201464, "post_id": 47802544, "comment_id": 82566461, "body": "I&#39;d start by punching them for using 2.7 for a new project. There is no easy way to do it. You&#39;ll have to change something."}, {"owner": {"reputation": 103, "user_id": 9096039, "user_type": "registered", "profile_image": "https://graph.facebook.com/2017149795195114/picture?type=large", "display_name": "William Shu", "link": "https://stackoverflow.com/users/9096039/william-shu"}, "edited": false, "score": 0, "creation_date": 1513201466, "post_id": 47802544, "comment_id": 82566464, "body": "So is there any way to add their code into ours in this case?"}, {"owner": {"reputation": 103, "user_id": 9096039, "user_type": "registered", "profile_image": "https://graph.facebook.com/2017149795195114/picture?type=large", "display_name": "William Shu", "link": "https://stackoverflow.com/users/9096039/william-shu"}, "edited": false, "score": 0, "creation_date": 1513201491, "post_id": 47802544, "comment_id": 82566475, "body": "So at least one group has to change their version?"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1513201492, "post_id": 47802544, "comment_id": 82566476, "body": "You&#39;ll need to port it."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513201528, "post_id": 47802544, "comment_id": 82566498, "body": "@WilliamShu Yea, and it should be the group that used 2.7."}, {"owner": {"reputation": 103, "user_id": 9096039, "user_type": "registered", "profile_image": "https://graph.facebook.com/2017149795195114/picture?type=large", "display_name": "William Shu", "link": "https://stackoverflow.com/users/9096039/william-shu"}, "reply_to_user": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513201659, "post_id": 47802544, "comment_id": 82566565, "body": "@SuperStew is there a good way to automatically change the code from pyqt5 to pyqt4\uff1f"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513201773, "post_id": 47802544, "comment_id": 82566615, "body": "@WilliamShu unfortunately i don&#39;t think there is. There is quite a bit of difference between the two. You could try by simply changing 5 to 4 everywhere, and dealing with the errors as they come up, but that could be a long and painful process."}], "owner": {"reputation": 103, "user_id": 9096039, "user_type": "registered", "profile_image": "https://graph.facebook.com/2017149795195114/picture?type=large", "display_name": "William Shu", "link": "https://stackoverflow.com/users/9096039/william-shu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513201333, "creation_date": 1513201333, "question_id": 47802544, "link": "https://stackoverflow.com/questions/47802544/how-to-import-a-python-2-7-file-into-a-python-3-5-file", "title": "How to import a python 2.7 file into a python 3.5 file", "body": "<p>Currently, our group is working on building an GUI for our platform. We used pyqt5 so that we make our code python 3.5. However, when we want to add other group's function to our code, it turns out that they are using some packages that only supported in python 2.7.</p>\n\n<p>So my question is, how can we import their files into our file, so that both can work properly?</p>\n"}, {"tags": ["python", "reddit", "praw"], "comments": [{"owner": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 1, "creation_date": 1513201540, "post_id": 47802521, "comment_id": 82566507, "body": "From the docs (<a href=\"https://praw.readthedocs.io/en/latest/code_overview/other/listinggenerator.html\" rel=\"nofollow noreferrer\">praw.readthedocs.io/en/latest/code_overview/other/&hellip;</a>):      limit \u2013 The number of content entries to fetch. If limit is None, then fetch as many entries as possible. Most of reddit\u2019s listings contain a maximum of 1000 items, and are returned 100 at a time. This class will automatically issue all necessary requests (default: 100)."}, {"owner": {"reputation": 133, "user_id": 7109315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827060852632bbb9731b62fb28a984b?s=128&d=identicon&r=PG&f=1", "display_name": "hi im vinzent", "link": "https://stackoverflow.com/users/7109315/hi-im-vinzent"}, "reply_to_user": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 0, "creation_date": 1513202213, "post_id": 47802521, "comment_id": 82566788, "body": "that leads me to my approach of subreddits = reddit.subreddits.search_by_name(&#39;leagueoflegends&#39; ...) which returns me a so to say ListingGenerator, how can I utilize the generater properly? type says its a list (is that always when i got a generator?), for item in subreddits: ... is only looping two times, which seems to be wrong taking a look in the leagueoflegends subreddit itself"}, {"owner": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 1, "creation_date": 1513213830, "post_id": 47802521, "comment_id": 82570422, "body": "What do you mean by &quot;all of the ids&quot;?"}, {"owner": {"reputation": 133, "user_id": 7109315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827060852632bbb9731b62fb28a984b?s=128&d=identicon&r=PG&f=1", "display_name": "hi im vinzent", "link": "https://stackoverflow.com/users/7109315/hi-im-vinzent"}, "reply_to_user": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 0, "creation_date": 1513240066, "post_id": 47802521, "comment_id": 82578824, "body": "e.g.: <a href=\"https://www.reddit.com/r/leagueoflegends/\" rel=\"nofollow noreferrer\">reddit.com/r/leagueoflegends</a> has a vast amount of submissions, i would like to gather all submission id&#39;s of this (or another subreddit), if you follow the link and go to an undfined comment section of a submission you will find e.g.: <a href=\"https://redd.it/7jnfw5\" rel=\"nofollow noreferrer\">redd.it/7jnfw5</a>, as described i&#39;m already able to crawl all comments recursively there, but to fully automate the crawler i need to find all these submission id&#39;s of the subreddit .../r/leagueoflegends"}, {"owner": {"reputation": 133, "user_id": 7109315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827060852632bbb9731b62fb28a984b?s=128&d=identicon&r=PG&f=1", "display_name": "hi im vinzent", "link": "https://stackoverflow.com/users/7109315/hi-im-vinzent"}, "reply_to_user": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 0, "creation_date": 1513240176, "post_id": 47802521, "comment_id": 82578890, "body": "it&#39;s more of a one time crawl, but thinking into the future to feed the chat bot current content, being able to make a difference between old and new submissions would make sense (but is not the priority yet)"}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 7109315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827060852632bbb9731b62fb28a984b?s=128&d=identicon&r=PG&f=1", "display_name": "hi im vinzent", "link": "https://stackoverflow.com/users/7109315/hi-im-vinzent"}, "is_accepted": true, "score": 0, "last_activity_date": 1513709324, "creation_date": 1513709324, "answer_id": 47893387, "question_id": 47802521, "link": "https://stackoverflow.com/questions/47802521/how-can-i-get-all-submission-ids-from-a-subreddit/47893387#47893387", "title": "How can I get all submission id&#39;s from a subreddit?", "body": "<p>It seems praw does not want to crawl subreddits like questioned. praw provides several \"get subreddit\" methods to receive specific ones or get \"popular\" or \"gold\"-categorized ones. I'm now working with scrapy to receive the needed data from specific subreddits.</p>\n"}], "owner": {"reputation": 133, "user_id": 7109315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6827060852632bbb9731b62fb28a984b?s=128&d=identicon&r=PG&f=1", "display_name": "hi im vinzent", "link": "https://stackoverflow.com/users/7109315/hi-im-vinzent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 47893387, "answer_count": 1, "score": 3, "last_activity_date": 1513709324, "creation_date": 1513201209, "last_edit_date": 1513201949, "question_id": 47802521, "link": "https://stackoverflow.com/questions/47802521/how-can-i-get-all-submission-ids-from-a-subreddit", "title": "How can I get all submission id&#39;s from a subreddit?", "body": "<p>I'm trying to write a chat bot and I want to feed it data from specific subreddits, e.g. <a href=\"https://www.reddit.com/r/leagueoflegends/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/leagueoflegends/</a></p>\n\n<p>I'm already able to crawl all comments while recursively looping </p>\n\n<pre><code>reddit = praw.Reddit()\nsubmission = reddit.submission(submissionId) #id: https://redd.it/7jjtoq -&gt; \"7jjtoq\"\n</code></pre>\n\n<p>I have already tried different approaches to receive (all) submission ids from the subreddit:</p>\n\n<pre><code>subreddits = reddit.subreddits.search_by_name('leagueoflegends', include_nsfw=True, exact=False)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>for submission in reddit.get_new(limit=300):\n...\n</code></pre>\n\n<p>Is there any way to receive all of the id's from a subreddit?</p>\n"}, {"tags": ["python", "arrays", "numpy", "rgb"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1513201653, "post_id": 47802480, "comment_id": 82566561, "body": "Can you make your array say <code>5x4</code> instead of <code>5x3</code>? That would make it much more clear that the 3rd dimension is the color."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1513201712, "post_id": 47802480, "comment_id": 82566588, "body": "Why is <code>color_array</code> 4-dimensional?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1513201751, "post_id": 47802480, "comment_id": 82566604, "body": "Can you specify very clearly what it means to be within range? Does it mean <code>255 &gt;= r &gt;= 200 and 255 &gt;= g &gt;= 200 and 0 &lt;= g &lt;= 50</code>?"}, {"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1513202121, "post_id": 47802480, "comment_id": 82566751, "body": "Just changed the dimension, agree that&#39;s clearer.  So this would result in a 5x4 boolean array, where the colour matches as follows:if the r, g, b colour was  200 &lt; r &lt; 255, 200 &lt; g &lt; 255, 0 &lt; b &lt; 50"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1513202281, "post_id": 47802480, "comment_id": 82566822, "body": "@BlueShrapnel. Just to be clear, you want to match <i>all</i> the conditions, not <i>any</i> or &quot;at least two&quot; or something weird like that, right?"}, {"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1513202482, "post_id": 47802480, "comment_id": 82566903, "body": "For yellow, it would be all, but to find red, it would just the be the r value.  And for green, the g value."}], "answers": [{"tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 0, "last_activity_date": 1513203350, "last_edit_date": 1513203350, "creation_date": 1513202716, "answer_id": 47802812, "question_id": 47802480, "link": "https://stackoverflow.com/questions/47802480/create-boolean-mask-of-numpy-rgb-array-if-matches-color/47802812#47802812", "title": "create boolean mask of numpy rgb array if matches color", "body": "<p>Here is a solution that is not particularly elegant, but should work:</p>\n\n<pre><code>def color_mask(array, r_lim, g_lim, b_lim):\n    \"\"\"\n    array : m x n x 3 array of colors\n    *_lim are 2-element tuples, where the first element is expected to be &lt;= the second.\n    \"\"\"\n    r_mask = ((array[..., 0] &gt;= r_lim[0]) &amp; (array[..., 0] &lt;= r_lim[1]))\n    g_mask = ((array[..., 1] &gt;= g_lim[0]) &amp; (array[..., 1] &lt;= g_lim[1]))\n    b_mask = ((array[..., 2] &gt;= b_lim[0]) &amp; (array[..., 2] &lt;= b_lim[1]))\n    return r_mask &amp; g_mask &amp; b_mask\n</code></pre>\n\n<p>You could easily extend this to handle arbitrary numbers of colors in the last dimension using numpy's broadcasting rules:</p>\n\n<pre><code>def color_mask(array, *lims):\n    lims = np.asarray(lims)\n    lower = (array &gt;= lims[:, 0])\n    upper = (array &lt;= lims[:, 1])\n    return np.logical_and.reduce(upper &amp; lower, axis=2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1513204640, "post_id": 47802862, "comment_id": 82567697, "body": "Thank you, I&#39;m just working through your suggestions to see if I understand how they work."}, {"owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1513208089, "post_id": 47802862, "comment_id": 82568869, "body": "Really like the sphere approach, also easy to conceptualise."}, {"owner": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "reply_to_user": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "edited": false, "score": 0, "creation_date": 1513257403, "post_id": 47802862, "comment_id": 82589904, "body": "I&#39;ve added a distance measure to the sphere approach, for wich the sphere is exactly spanned by the two limiting colors."}], "tags": [], "owner": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "is_accepted": true, "score": 2, "last_activity_date": 1513257360, "last_edit_date": 1513257360, "creation_date": 1513203046, "answer_id": 47802862, "question_id": 47802480, "link": "https://stackoverflow.com/questions/47802480/create-boolean-mask-of-numpy-rgb-array-if-matches-color/47802862#47802862", "title": "create boolean mask of numpy rgb array if matches color", "body": "<p>I can imagine several ways to tackle this:</p>\n\n<p>The <strong>one way</strong> would be to compare all elements individually:</p>\n\n<pre><code>c = color_array\n\nwithin_box = np.all(\n    np.logical_and(\n        np.min(c, axis=0) &lt; image,\n        image &lt; np.max(c, axis=0)\n    ),\n    axis=-1\n)\n</code></pre>\n\n<p>This will be <code>True</code> for all pixels where</p>\n\n<pre><code>200 &lt; R &lt; 255 and 200 &lt; G &lt; 255 and 0 &lt; B &lt; 50\n</code></pre>\n\n<p>This is equivalent to looking for all pixels inside a small subset (a box), defined by <code>color_array</code>, in the <a href=\"https://en.wikipedia.org/wiki/RGB_color_space\" rel=\"nofollow noreferrer\">RGB color space</a> (a bigger box).</p>\n\n<p>An <strong>alternative solution</strong> would be to take the line between the two points in <code>color_array</code>, and <a href=\"https://stackoverflow.com/questions/39840030/distance-between-point-and-a-line-from-two-points\">calculate each pixel's individual euclidean distance to that line</a>:</p>\n\n<pre><code>distance = np.linalg.norm(np.cross(c[1,:] - c[0,:], c[0,:] - image), axis=-1)/np.linalg.norm(c[1,:] - c[0,:])\n</code></pre>\n\n<p>Afterwards you can find all pixels that are within a certain distance to that line, i.e.</p>\n\n<pre><code>within_distance = distance &lt; 25\n</code></pre>\n\n<p>A <strong>third solution</strong> is to calculate the euclidean distance of each pixel to the mean value of your two colors:</p>\n\n<pre><code>distance_to_mean = np.linalg.norm(image - np.mean(c, axis=0), axis=-1)\n</code></pre>\n\n<p>finding all pixels within a limit can then interpreted as finding all pixels in a sphere around the average color of your two limit colors. E.g. if you chose the distance to be half the distance between the two points</p>\n\n<pre><code>within_sphere = distance_to_mean &lt; (np.linalg.norm(c) / 2)\n</code></pre>\n\n<p>you get all pixels that fall in <em>a sphere for wich both limiting colors exactly touch the opposite ends of the surface</em>.</p>\n\n<p>And of course if you want all pixels that are <strong>perceptually similar</strong> to your two limit colors, you should convert your data to a perceptual color space, like Lab</p>\n\n<pre><code>import skimage\nimage_lab = skimage.color.rgb2lab(image / 255)\ncolor_array_lab = skimage.color.rgb2lab(color_array[np.newaxis, ...] / 255)\n</code></pre>\n\n<p>and do the computations in that space instead.</p>\n"}], "owner": {"reputation": 95, "user_id": 2038074, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1af51accdee1e86d74aed22583b9757c?s=128&d=identicon&r=PG", "display_name": "Blue Shrapnel", "link": "https://stackoverflow.com/users/2038074/blue-shrapnel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3871, "favorite_count": 1, "accepted_answer_id": 47802862, "answer_count": 2, "score": 0, "last_activity_date": 1513257360, "creation_date": 1513201004, "last_edit_date": 1513204765, "question_id": 47802480, "link": "https://stackoverflow.com/questions/47802480/create-boolean-mask-of-numpy-rgb-array-if-matches-color", "title": "create boolean mask of numpy rgb array if matches color", "body": "<p>I want to identify all the yellow pixels that lie between two colours, for example [255, 255, 0] is bright yellow, and [200, 200, 50] is a mid yellow.  </p>\n\n<pre><code>c = color_array = np.array([ \n  [255, 255, 0],  # bright yellow\n  [200, 200, 50]])  # mid yellow\n</code></pre>\n\n<p>So the rgb ranges could be represented as :</p>\n\n<pre><code>(min, max) tuple... \nr (200, 255)\ng (200, 255)\nb (0, 50)\n</code></pre>\n\n<p>I have a 2D (height of image x width of image) [r, g, b] array:</p>\n\n<pre><code>image = np.random.randint(0, 255, (5, 4, 3))\narray([[[169, 152,  65],\n    [ 46, 123,  39],\n    [116, 190, 227],\n    [ 95, 138, 243]],\n   [[120,  75, 156],\n    [ 94, 168, 139],\n    [131,   0,   0],\n    [233,  43,  28]],\n   [[195,  65, 198],\n    [ 33, 161, 231],\n    [125,  31, 101],\n    [ 56, 123, 151]],\n   [[118, 124, 220],\n    [241, 221, 137],\n    [ 71,  65,  23],\n    [ 91,  75, 178]],\n   [[153, 238,   7],\n    [  2, 154,  45],\n    [144,  33,  94],\n    [ 52, 188,   4]]])\n</code></pre>\n\n<p>I'd like to produce a 2D array with True if the r,g,b values are in the range between the 2 color values in the color arrays.</p>\n\n<pre><code>[[T, F, F, T], \n [T, F, F, T],\n  ...       ]]\n</code></pre>\n\n<p>I've been struggling to get the indexing right.</p>\n"}, {"tags": ["python", "expression"], "comments": [{"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 0, "creation_date": 1513201391, "post_id": 47802468, "comment_id": 82566438, "body": "You mean using regular expressions I think?  <code>import re len(re.findall(pattern, string_to_search))</code> make the pattern for the postal code then  see if <code>len</code> greater than 1 should work."}, {"owner": {"reputation": 1663, "user_id": 6321559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEAjx.png?s=128&g=1", "display_name": "it&#39;s-yer-boy-chet", "link": "https://stackoverflow.com/users/6321559/its-yer-boy-chet"}, "edited": false, "score": 0, "creation_date": 1513201584, "post_id": 47802468, "comment_id": 82566528, "body": "<a href=\"https://stackoverflow.com/questions/15774555/efficient-regex-for-canadian-postal-code-function\" title=\"efficient regex for canadian postal code function\">stackoverflow.com/questions/15774555/&hellip;</a>"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1513203258, "post_id": 47802468, "comment_id": 82567193, "body": "NOT a duplicate of either   <a href=\"https://stackoverflow.com/questions/29906947/canadian-postal-code-validation-python-regex\">canadian-postal-code-validation-python-rege</a> nor <a href=\"https://stackoverflow.com/questions/15774555/efficient-regex-for-canadian-postal-code-function\">JS: efficient-regex-for-canadian-postal-code-function</a>. The second is javascript and uses forbidden characters, the first is not an accepted answer (but a valid regex solution)"}], "answers": [{"comments": [{"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 1, "creation_date": 1513361192, "post_id": 47802790, "comment_id": 82639055, "body": "Very nice.  +1.  2 remarks:  it&#39;s not obvious that you accept lowercase and I think it would also be nice to allow ADADAD, without the space.  In both cases, they would have to be converted back to ADA DAD at some point, but it&#39;s reasonable not to reject user input based on capitalization or on a missing, but entirely deducible, space."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1513378755, "post_id": 47802790, "comment_id": 82646071, "body": "@JLPeyret thanks for the suggestion, adapted the code to work on default with upper/lower and missing space. Both are fixed in the result. You are a canadian citizen so your wish regarding this is my command ;)"}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 4, "last_activity_date": 1513378714, "last_edit_date": 1592644375, "creation_date": 1513202586, "answer_id": 47802790, "question_id": 47802468, "link": "https://stackoverflow.com/questions/47802468/cant-figure-out-how-to-use-expressions-to-validate-a-canadian-postal-code-in-py/47802790#47802790", "title": "Can&#39;t figure out how to use expressions to validate a Canadian postal code in Python", "body": "<p><strong>No regex Solution:</strong></p>\n<p>Get your facts straight - a-z is wrong, some letters are omitted due to similarity:</p>\n<pre><code>A Neufundland               B Nova Scotia           C Prince Edward Island\nE New Brunswick             G Qu\u00e9bec-Ost            H Montr\u00e9al und Laval\nJ Qu\u00e9bec-West               K Ontario-Ost           L Ontario-Mitte\nM Gro\u00df-Toronto              N Ontario-S\u00fcdwest       P Ontario-Nord\nR Manitoba                  S Saskatchewan          T Alberta\nV British Columbia          X NW-Territ. Nunavut    Y Yukon\n</code></pre>\n<p>Code:</p>\n<pre><code>def CheckCanadianPostalcodes(p, strictCapitalization=False, fixSpace=True):\n    '''returns a Tuple of (boolean, string):\n    - (True, postalCode) or \n    - (False, error message) \n    By default lower and upper case characters are allowed,  \n    a missing middle space will be substituted.'''\n\n    pc = p.strip()                   # copy p, strip whitespaces front/end\n    if fixSpace and len(pc) == 6:\n        pc = pc[0:3] + &quot; &quot; + pc[3:]      # if allowed and needd insert missing space\n\n    nums = &quot;0123456789&quot;              # allowed numbers\n    alph = &quot;ABCEGHJKLMNPRSTVWXYZ&quot;    # allowed characters (WZ handled below)\n    mustBeNums = [1,4,6]             # index of number\n    mustBeAlph = [0,2,5]             # index of character (WZ handled below)\n\n    illegalCharacters = [x for x in pc if x not in (nums + alph.lower() + alph + &quot; &quot;)]\n\n    if strictCapitalization:\n        illegalCharacters = [x for x in pc if x not in (alph + nums + &quot; &quot;)]\n\n    if illegalCharacters:\n        return(False, &quot;Illegal characters detected: &quot; + str(illegalCharacters))\n\n    postalCode = [x.upper() for x in pc]           # copy to uppercase list\n\n    if len(postalCode) != 7:                      # length-validation\n        return (False, &quot;Length not 7&quot;)\n\n    for idx in range(0,len(postalCode)):          # loop ofer all indexes\n        ch = postalCode[idx]\n        if ch in nums and idx not in mustBeNums:  # is s number, check index\n            return (False, &quot;Format not 'ADA DAD'&quot;)     \n        elif ch in alph and idx not in mustBeAlph: # id s character, check index\n            return (False, &quot;Format not 'ADA DAD'&quot;) # alpha / digit\n        elif ch == &quot; &quot; and idx != 3:               # is space in between\n            return (False, &quot;Format not 'ADA DAD'&quot;)\n\n    if postalCode[0] in &quot;WZ&quot;:                      # no W or Z first char\n        return (False, &quot;Cant start with W or Z&quot;)\n\n    return (True,&quot;&quot;.join(postalCode))    # yep - all good\n\n\ntestCases = [(True,&quot;A9A 9A9&quot;), (True,&quot;a9a 9a9&quot;),  (True,&quot;A9A9A9&quot;), (True,&quot;a9a9a9&quot;), \n             (False,&quot;w9A 9A9&quot;), (False,&quot;z9a 9a9&quot;), (False,&quot;a9a 9!9&quot;)]\nfor t in testCases:\n    pc = CheckCanadianPostalcodes(t[1])    # output differs, see func description\n    assert pc[0] == t[0], &quot;Error in assertion: &quot; + str(t) + &quot; became &quot; + str(pc)\n    print(t[1], &quot; =&gt; &quot;, pc)\n\npp = input(&quot;Postal code: &quot;) \nprint(CheckCanadianPostalcodes(pp))    # output differs, see func description  \n</code></pre>\n<p>Output:</p>\n<pre><code>A9A 9A9  =&gt;  (True, 'A9A 9A9')\na9a 9a9  =&gt;  (True, 'A9A 9A9')\nA9A9A9  =&gt;  (True, 'A9A 9A9')\na9a9a9  =&gt;  (True, 'A9A 9A9')\nw9A 9A9  =&gt;  (False, 'Cant start with W or Z')\nz9a 9a9  =&gt;  (False, 'Cant start with W or Z')\na9a 9!9  =&gt;  (False, &quot;Illegal characters detected: ['!']&quot;)\nPostal code: b2c3d4\n(False, &quot;Illegal characters detected: ['d']&quot;)\nPress any key to continue . . .\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/a/29907713/7505395\">answer with regex</a> (not accepted) delivers the correct regex.</p>\n<blockquote>\n<p><em>Number of possible postal codes</em> (<a href=\"https://en.wikipedia.org/wiki/Postal_codes_in_Canada\" rel=\"nofollow noreferrer\">from wikipedia</a>)</p>\n<p>Postal codes do not include the letters D, F, I, O, Q or U, and the first position also does not make use of the letters W or Z. <code>[...]</code> <code>As the</code> Canada Post reserves some FSAs for special functions, such as for test or promotional purposes, (e.g. the <strong>H0H 0H0</strong> for <strong>Santa Claus</strong>, see below) as well as for sorting mail bound for destinations outside Canada. <code>[...]</code></p>\n</blockquote>\n<p>which leaves you with ABCEGHJKLMNPRSTVXY without WZ as 1st char.</p>\n<hr />\n<p>Edit: Incoperated change suggestion by <a href=\"https://stackoverflow.com/users/1394353/jl-peyret\">jl-peyret</a></p>\n<ul>\n<li>allow missing space</li>\n<li>and make clearer when upper/lowercase is ok</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1513410948, "post_id": 47803070, "comment_id": 82651310, "body": "The regex is correct based on the information provided in the question - unfortunately not all A-Z are allowed You are using the wrong regex for validation -  your regex is not case-insensitive, the code in the question is case insensitive"}], "tags": [], "owner": {"reputation": 176, "user_id": 7922940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hIwHG.png?s=128&g=1", "display_name": "Franndy Abreu", "link": "https://stackoverflow.com/users/7922940/franndy-abreu"}, "is_accepted": false, "score": 1, "last_activity_date": 1513411637, "last_edit_date": 1513411637, "creation_date": 1513204170, "answer_id": 47803070, "question_id": 47802468, "link": "https://stackoverflow.com/questions/47802468/cant-figure-out-how-to-use-expressions-to-validate-a-canadian-postal-code-in-py/47803070#47803070", "title": "Can&#39;t figure out how to use expressions to validate a Canadian postal code in Python", "body": "<p>Based on your question you could use:</p>\n\n<pre><code>import re\n\npostalCode = input(\"Postal code: \")\n\n\npattern = re.match(r'[A-Z]{1}[0-9]{1}[A-Z]{1}\\s[0-9]{1}[A-Z]{1}[0-9]{1}',postalCode)\n</code></pre>\n\n<p>if pattern:</p>\n\n<pre><code>print('Valid postal code')\n</code></pre>\n\n<p>else:</p>\n\n<pre><code>print('Invalid postal code')\n</code></pre>\n\n<p>You could also use the sub method and get the sequence so you don't have to repeat the code as I did above.</p>\n"}, {"comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1513411133, "post_id": 47804011, "comment_id": 82651352, "body": "the shortness of the regex solution makes mine look a tad long :) +1 - but at least I&#39;ll output some error hints."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1513411480, "post_id": 47804011, "comment_id": 82651439, "body": "the question used case insensitige though - you could add the re.flag for that"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1513438907, "post_id": 47804011, "comment_id": 82658666, "body": "@PatrickArtner: Now I look back at the question I think the principal flaw in my answer is that I didn&#39;t explain how this regex works, which is what that OP was uncertain about. As often happens here on SO, who knows what the SO intends doing with any results we might offer?"}], "tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": false, "score": 1, "last_activity_date": 1513439633, "last_edit_date": 1513439633, "creation_date": 1513210246, "answer_id": 47804011, "question_id": 47802468, "link": "https://stackoverflow.com/questions/47802468/cant-figure-out-how-to-use-expressions-to-validate-a-canadian-postal-code-in-py/47804011#47804011", "title": "Can&#39;t figure out how to use expressions to validate a Canadian postal code in Python", "body": "<p>I began by constructing two strings, one that contains the alphabetic characters that may be used in any (legal) position in a postal code, and one string that contains the alphabetic characters that must be used for the first position.</p>\n\n<pre><code>&gt;&gt;&gt; any_position = 'ABCEGHJKLMNPRSTVWXYZ'\n&gt;&gt;&gt; first_position = 'ABCEGHJKLMNPRSTVXY'\n</code></pre>\n\n<p>These few lines of code display the regular expression and its performance against a few trial examples. If <code>&lt;_sre.SRE_Match object; ...</code> does not appear under an invocation of the regex then that means that the test failed for one reason or another.</p>\n\n<hr>\n\n<p>Edit: I should have explained what the regex does. </p>\n\n<ul>\n<li>The caret ('^') character at the beginning is there to insist that the match begin with the first character in the subject string. Likewise, the dollar ('$') insists that the match ends with the last character in the subject string (ie, the postal code).</li>\n<li>[ABCEGHJKLMNPRSTVXY] 'accepts' any single character within this set of characters.</li>\n<li>[0-9] 'accepts' any single character within this set of characters.</li>\n<li>The blank 'accepts' a blank character.</li>\n<li>And so on. Taken together, these specifications constitute a single Canadian postal code, in upper case.</li>\n</ul>\n\n<p>Postal codes containing lower-case alphabetic characters are acceptable, if you can arrange to convert the lower-case to upper-case. If you want to accept them then, as Patrick Artner suggests, add <code>re.I</code> or <code>re.IGNORECASE</code> as a parameter to the <code>match</code> statement.</p>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; postal_code_re = re.compile(r'^[ABCEGHJKLMNPRSTVXY][0-9][ABCEGHJKLMNPRSTVWXYZ] [0-9][ABCEGHJKLMNPRSTVWXYZ][0-9]$')\n&gt;&gt;&gt; postal_code_re.match('H0H 0H0')\n&lt;_sre.SRE_Match object; span=(0, 7), match='H0H 0H0'&gt;\n&gt;&gt;&gt; postal_code_re.match('A0A 0A0')\n&lt;_sre.SRE_Match object; span=(0, 7), match='A0A 0A0'&gt;\n&gt;&gt;&gt; postal_code_re.match('W0A 0A0')\n&gt;&gt;&gt; postal_code_re.match('Q0A 0A0')\n&gt;&gt;&gt; postal_code_re.match('H0H 0Q0')\n</code></pre>\n\n<p>It might be important to mention that this approach tests only the format of a code. It's not sufficient to test its validity since many, many codes are not in use. For small volume testing one could check whether a code is in actual use, or even whether it's in a valid format, using one of the tools at <a href=\"https://www.canadapost.ca/web/en/pages/tools/default.page\" rel=\"nofollow noreferrer\">https://www.canadapost.ca/web/en/pages/tools/default.page</a> with web scraping techniques.</p>\n"}], "owner": {"reputation": 49, "user_id": 8711194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OHP_DBm3vOM/AAAAAAAAAAI/AAAAAAAAACw/0wya3yFk5zQ/photo.jpg?sz=128", "display_name": "Zach", "link": "https://stackoverflow.com/users/8711194/zach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1191, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1513439633, "creation_date": 1513200947, "question_id": 47802468, "link": "https://stackoverflow.com/questions/47802468/cant-figure-out-how-to-use-expressions-to-validate-a-canadian-postal-code-in-py", "title": "Can&#39;t figure out how to use expressions to validate a Canadian postal code in Python", "body": "<p>I'm trying to make a program that takes a postal code input from the user and checks to see if it's valid. So far I have:</p>\n\n<pre><code>postalCode = input(\"Postal code: \")\n\npostalCode = postalCode.replace(\" \", \"\")\n\npostalCode = postalCode.lower()\n\nletters = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"]\nnumbers = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n\nvalid = True\n\nfor i in range(0, len(postalCode), 2):\n  if postalCode[i] not in letters or postalCode[i+1] not in numbers:\n  valid = False\n  break\n\nif(valid):\n  print(\"Valid postal code.\")\nelse:\n  print(\"Not a valid postal code.\")\n</code></pre>\n\n<p>The code runs fine, but I know using expressions would be much more viable but I haven't been able to figure out how they work. </p>\n\n<p>The Canadian postal code format is: L/N/L N/L/N</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 864, "user_id": 4024592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7cf006b751bd1eb6c9d62b5a4bfb797?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Harwood", "link": "https://stackoverflow.com/users/4024592/joey-harwood"}, "edited": false, "score": 0, "creation_date": 1513201497, "post_id": 47802465, "comment_id": 82566480, "body": "Your first debugging step should be to comment out all the code from <code>game_main_loop</code> and see if the behavior remains the same."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513202140, "post_id": 47802465, "comment_id": 82566758, "body": "where is rest of code - you defined functions but you don&#39;t execute them, so they can&#39;t create window."}], "answers": [{"comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1513226907, "post_id": 47802529, "comment_id": 82573474, "body": "Use only <code>#</code> for comments, triple quotes <code>&quot;&quot;&quot;Bla bla&quot;&quot;&quot;</code> are for docstrings. Docstrings should explain the purpose of a function and how it should be used, comments should explain <i>why</i> something that isn&#39;t obvious is there."}], "tags": [], "owner": {"reputation": 1399, "user_id": 8721016, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-2DZ0z14zb48/AAAAAAAAAAI/AAAAAAAAL_s/XbODVj_PmNw/photo.jpg=k-s128", "display_name": "Mercury Platinum", "link": "https://stackoverflow.com/users/8721016/mercury-platinum"}, "is_accepted": false, "score": 1, "last_activity_date": 1513201273, "creation_date": 1513201273, "answer_id": 47802529, "question_id": 47802465, "link": "https://stackoverflow.com/questions/47802465/pygame-roguelike-window-not-launching-when-running-function/47802529#47802529", "title": "Pygame RogueLike window not launching when running function", "body": "<p>First, maybe unify your comments, either choose # or '''.</p>\n\n<p>Second, possibly the screen is never initalized because it is not encompassing the entire file. Maybe remove <code>game_start</code> and use <code>set_mode</code> after your import statements.</p>\n\n<p>Example:</p>\n\n<pre><code>#Modules\nimport libtcodpy as libtcod\nimport pygame\n\n#Game Files\nimport constants\n\npygame.init()\n\nMAIN_SURFACE = pygame.display.set_mode((constants.WIDTH,constants.HEIGHT))\n\n\ndef game_main_loop():\n    '''in this function the game is looped'''\n    game_quit = False\n\n    while not game_quit:\n        #get player input\n        event_list = pygame.event.get()\n\n        #process player input\n        for event in event_list:\n            if event.type == pygame.QUIT:\n                game_quit = True\n\n        #draw the game\n        #quit the game\n    pygame.quit()\n    exit()\n    # After, just call the game function\n</code></pre>\n\n<p>Maybe take a look at <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\" title=\"PEP-8\">PEP-8</a> while you are at it, It may be helpful later.</p>\n"}], "owner": {"reputation": 55, "user_id": 9096027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87cd9505e2de136daf5c4df5e2361b37?s=128&d=identicon&r=PG&f=1", "display_name": "Vincenzo Hamond", "link": "https://stackoverflow.com/users/9096027/vincenzo-hamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1526296308, "creation_date": 1513200929, "last_edit_date": 1526296308, "question_id": 47802465, "link": "https://stackoverflow.com/questions/47802465/pygame-roguelike-window-not-launching-when-running-function", "title": "Pygame RogueLike window not launching when running function", "body": "<p>When i try to run this piece of code the pygame window created in the game_start function does not launch.  When i remove the game_main_loop function it does.  I cannot figure out what is wrong with the function, anybody have any ideas?</p>\n\n<pre><code>#Modules\nimport libtcodpy as libtcod\nimport pygame\n\n#Game Files\nimport constants\n\npygame.init()\n\ndef game_start():\n    '''this function initialises the main window and the pygame library'''\n    #initialise the game\n    MAIN_SURFACE = pygame.display.set_mode((constants.WIDTH,constants.HEIGHT))\n\n\ndef game_main_loop():\n    '''in this function the game is looped'''\n    game_quit = False\n\n    while not game_quit:\n        #get player input\n        event_list = pygame.event.get()\n\n        #process player input\n        for event in event_list:\n            if event.type == pygame.QUIT:\n                game_quit = True\n\n        #draw the game\n        #quit the game\n    pygame.quit()\n    exit()\n</code></pre>\n"}, {"tags": ["python", "division", "calculated-columns"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513201016, "post_id": 47802444, "comment_id": 82566293, "body": "<code>def es_rl[&#39;percent_complete&#39;]():</code> is not a valid way to declare a function at all."}, {"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513201172, "post_id": 47802444, "comment_id": 82566356, "body": "I didn&#39;t think so...."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1513201225, "post_id": 47802463, "comment_id": 82566373, "body": "I get a ValueError, &quot;ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().&quot;"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513201311, "post_id": 47802463, "comment_id": 82566404, "body": "What are the types of <code>es_rl[&#39;Achieved&#39;]</code> and <code>es_rl[&#39;Goal&#39;]</code>?"}, {"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1513201372, "post_id": 47802463, "comment_id": 82566432, "body": "One is a float and one an int. EDIT: sorry they are both floats"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1513201511, "post_id": 47802463, "comment_id": 82566489, "body": "I don&#39;t think the error lies in this line of code then.  Can you post your updated code?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1513201606, "post_id": 47802463, "comment_id": 82566539, "body": "@GregHodgson - where are you getting those elements from? What does <code>print(type(es_rl))</code> and <code>print(type(es_rl[&#39;Archived&#39;]))</code> produce?"}, {"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1513201756, "post_id": 47802463, "comment_id": 82566610, "body": "&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt; for es_rl and &lt;class &#39;pandas.core.series.Series&#39;&gt; for the achieved column"}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 3, "last_activity_date": 1513202263, "last_edit_date": 1513202263, "creation_date": 1513200909, "answer_id": 47802463, "question_id": 47802444, "link": "https://stackoverflow.com/questions/47802444/new-function-that-divides-two-columns-based-on-a-condition/47802463#47802463", "title": "New function that divides two columns based on a condition", "body": "<p>Why not just use the built-in <a href=\"https://docs.python.org/2/library/functions.html#min\" rel=\"nofollow noreferrer\"><code>min()</code></a> to ensure your percent never goes above <code>1</code>?</p>\n\n<pre><code>es_rl['percent_complete'] = min(es_rl['Achieved']/es_rl['Goal'], 1)\n</code></pre>\n\n<p><strong>UPDATE</strong>: You should've told us you're working with Pandas dataframes. Then you should use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.clip.html\" rel=\"nofollow noreferrer\"><code>pandas.Series.clip()</code></a>, e.g.:</p>\n\n<pre><code>es_rl['percent_complete'] = (es_rl['Achieved'] / es_rl['Goal']).clip(0, 1)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>es_rl['percent_complete'] = es_rl['Achieved'].clip(0, es_rl['Goal']) / es_rl['Goal']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 3879804, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b5af61ba805e8864907e3285d0adf0fe?s=128&d=identicon&r=PG&f=1", "display_name": "WalkingDeadFan", "link": "https://stackoverflow.com/users/3879804/walkingdeadfan"}, "is_accepted": false, "score": 0, "last_activity_date": 1513213691, "creation_date": 1513213691, "answer_id": 47804456, "question_id": 47802444, "link": "https://stackoverflow.com/questions/47802444/new-function-that-divides-two-columns-based-on-a-condition/47804456#47804456", "title": "New function that divides two columns based on a condition", "body": "<p>If you're pulling the data from SQLAlchemy you could use a Case statement:</p>\n\n<p>-Assuming your table is called Scholar</p>\n\n<pre><code>    def case_percent_complete():\n        return case([((Scholar.Achieved / Scholar.Goal) &gt; 1, 1), ],\n                    else_=Scholar.Achieved / Scholar.Goal).label('percent_complete')\n\n    results = session().query(Scholar.scholar_id\n                                Scholar.Goal\n                                Scholar.Achieved\n                                Scholar.GoalYear\n                                Scholar.GoalWeek,\n                                case_percent_complete).\\\n            all()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513213691, "creation_date": 1513200795, "last_edit_date": 1513201593, "question_id": 47802444, "link": "https://stackoverflow.com/questions/47802444/new-function-that-divides-two-columns-based-on-a-condition", "title": "New function that divides two columns based on a condition", "body": "<p>I 100% know I'm doing this wrong and the syntax is messed up but could use some help. </p>\n\n<p>My last line of code is fine (es_rl['percent_complete'] = es_rl['Achieved']/es_rl['Goal']) BUT the kids can achieve more than the goal and I don't want to create a percent that is higher than 1. I attempted my hand at writing a function that would only divide the two columns based on the 'Achieved' column and wanted to pass the result by row into 'percent_complete'. Is this possible? </p>\n\n<p>I'm pulling the data using sqlalchemy, so maybe there is a better solution using just sql. I just want to get better at python. Thanks in advance.</p>\n\n<p>Edit, trying to use the min function. Getting a ValueError.</p>\n\n<pre><code>es_rl['percent_complete'] = min(es_rl['Achieved']/es_rl['Goal'], 1)\n\nData columns (total 5 columns):\nscholar_id    12243 non-null int64\nGoal          12243 non-null float64\nAchieved      11263 non-null float64\nGoalYear      12243 non-null int64\nGoalWeek      12243 non-null int64\ndtypes: float64(2), int64(3)\n</code></pre>\n"}, {"tags": ["python", "user-interface", "pyqt5", "pytest"], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 5457525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f19ea07713fb4ab7278ceaff804edc0?s=128&d=identicon&r=PG&f=1", "display_name": "peremeykin", "link": "https://stackoverflow.com/users/5457525/peremeykin"}, "is_accepted": true, "score": 5, "last_activity_date": 1513439277, "creation_date": 1513439277, "answer_id": 47847347, "question_id": 47802375, "link": "https://stackoverflow.com/questions/47802375/how-can-i-display-gui-while-testing-pyqt5-app-with-pytest-qt/47847347#47847347", "title": "How can I display GUI while testing PyQt5 app with pytest-qt?", "body": "<p>This code works as I asked, it shows the interface properly. The key thing is <code>qtbot.waitForWindowShown(window)</code> line.</p>\n\n<pre><code>from tests.test import MyApp\nfrom time import sleep\nfrom PyQt5.QtCore import *\n\n\ndef test_myapp(qtbot):\n    window = MyApp()\n    qtbot.addWidget(window)\n    window.show()\n    qtbot.waitForWindowShown(window)\n    sleep(3)\n    qtbot.mouseClick(window.buttonBox.buttons()[0], Qt.LeftButton)\n    assert window.label.text() == 'accept'\n    qtbot.stopForInteraction()\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 5457525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f19ea07713fb4ab7278ceaff804edc0?s=128&d=identicon&r=PG&f=1", "display_name": "peremeykin", "link": "https://stackoverflow.com/users/5457525/peremeykin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1915, "favorite_count": 1, "accepted_answer_id": 47847347, "answer_count": 1, "score": 2, "last_activity_date": 1513439277, "creation_date": 1513200457, "question_id": 47802375, "link": "https://stackoverflow.com/questions/47802375/how-can-i-display-gui-while-testing-pyqt5-app-with-pytest-qt", "title": "How can I display GUI while testing PyQt5 app with pytest-qt?", "body": "<p>I am new to <code>PyQt</code>, but I am going to use <code>pytest</code> with <code>pytest-qt</code> plugin to test my <code>PyQt5</code> application. I had some GUI testing experience in Java with <code>SWTBot</code> and <code>RCPTT</code>, where I could see what happens with controls and whole GUI during the test in real-time. I'd like to have such behavior with my new python tools, but it seems that <code>pytest-qt</code> tests GUI in some background way. All code works as I expect, but during testing I can't see the GUI. The code is simple as in tutorials:</p>\n\n<pre><code>from tests.test import MyApp\nfrom time import sleep\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtWidgets import *\n\n\ndef test_myapp(qtbot):\n    app = QApplication([])\n    window = MyApp()\n    # window.show()\n    # app.exec_()\n    qtbot.addWidget(window)\n    qtbot.mouseClick(window.buttonBox.buttons()[0], Qt.LeftButton)\n    sleep(5)\n    assert window.label.text() == 'accept'\n</code></pre>\n\n<p>If I uncomment the <code>window.show()</code> line (they do so in the <a href=\"http://pytest-qt.readthedocs.io/en/latest/tutorial.html\" rel=\"nofollow noreferrer\">tutorial</a>), I can see a strange window, that contains frozen background:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wclqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wclqq.png\" alt=\"strange window\"></a></p>\n\n<p>I suppose that it is theoretically possible to show the interface because I know that PyQt5 works from the python shell (<a href=\"http://pyqt.sourceforge.net/Docs/PyQt5/python_shell.html#using-pyqt4-from-the-python-shell\" rel=\"nofollow noreferrer\">more</a>):</p>\n\n<blockquote>\n  <p>you can, for example, create widgets from the Python shell prompt, interact with them, and still being able to enter other Python commands</p>\n</blockquote>\n\n<p>But I don't know how to achieve it with pytest-qt</p>\n"}, {"tags": ["python", "statsmodels"], "comments": [{"owner": {"reputation": 1013, "user_id": 4014685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwFkp.png?s=128&g=1", "display_name": "havanagrawal", "link": "https://stackoverflow.com/users/4014685/havanagrawal"}, "edited": false, "score": 0, "creation_date": 1513200761, "post_id": 47802360, "comment_id": 82566195, "body": "Potential duplicate of <a href=\"https://stackoverflow.com/questions/46780550/what-is-causing-perfectseparationerror-in-python-statsmodels-0-8\" title=\"what is causing perfectseparationerror in python statsmodels 0 8\">stackoverflow.com/questions/46780550/&hellip;</a>"}, {"owner": {"reputation": 4159, "user_id": 748337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b276c1503d815a311ac8798201491a7e?s=128&d=identicon&r=PG", "display_name": "malcubierre", "link": "https://stackoverflow.com/users/748337/malcubierre"}, "reply_to_user": {"reputation": 1013, "user_id": 4014685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwFkp.png?s=128&g=1", "display_name": "havanagrawal", "link": "https://stackoverflow.com/users/4014685/havanagrawal"}, "edited": false, "score": 0, "creation_date": 1513229201, "post_id": 47802360, "comment_id": 82574137, "body": "I understand the question from this: <a href=\"https://stats.stackexchange.com/questions/88226/how-to-describe-and-present-the-issue-of-perfect-separation?rq=1\" title=\"how to describe and present the issue of perfect separation\">stats.stackexchange.com/questions/88226/&hellip;</a>"}], "owner": {"reputation": 4159, "user_id": 748337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b276c1503d815a311ac8798201491a7e?s=128&d=identicon&r=PG", "display_name": "malcubierre", "link": "https://stackoverflow.com/users/748337/malcubierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 391, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513200397, "creation_date": 1513200397, "question_id": 47802360, "link": "https://stackoverflow.com/questions/47802360/why-this-logit-example-randomly-generating-perfectseparationerror-perfect-sepa", "title": "Why this Logit example randomly generating &quot;PerfectSeparationError: Perfect separation detected, results not available&quot;", "body": "<p>This python code is ramdomly generating \"PerfectSeparationError\". This is a group a 50 random[-2 to 2] points centered [-2,2] and 50 random[-2 to 2] centered [2,2]. First 50 is assigned to 0 and the result to 1. I do not understand why this error occurs, I think points are enough separated to get a result</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport statsmodels.api as sm\nfrom scipy import stats\nstats.chisqprob = lambda chisq, df: stats.chi2.sf(chisq, df)\n\nN = 100\nD = 2\n\nX = np.random.randn(N,D)\n\n# center the first 50 points at (-2,-2)\nX[:50,:] = X[:50,:] - 2*np.ones((50,D))\n\n# center the last 50 points at (2, 2)\nX[50:,:] = X[50:,:] + 2*np.ones((50,D))\n\n# labels: first 50 are 0, last 50 are 1\nT = np.array([0]*50 + [1]*50)\n\n# add a column of ones\n\ny = pd.Series(T.tolist())\nXb = pd.concat([pd.Series(X[:,0].tolist()), pd.Series(X[:,1].tolist())], axis=1)\n\nlogit_model=sm.Logit(y,Xb)\nresult=logit_model.fit()\nprint(result.summary())\n</code></pre>\n\n<p>Whats the reason that randomy shows: \"PerfectSeparationError: Perfect separation detected, results not available\"?</p>\n"}, {"tags": ["python", "python-requests", "socks"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513200712, "post_id": 47802350, "comment_id": 82566171, "body": "What is the output of: <code>python -c &quot;import ssl; print(ssl.OPENSSL_VERSION)&quot;</code> on your laptop and your server?"}, {"owner": {"reputation": 1482, "user_id": 6815232, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/838279485b2288814741d20adff759bf?s=128&d=identicon&r=PG&f=1", "display_name": "mySun", "link": "https://stackoverflow.com/users/6815232/mysun"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513201145, "post_id": 47802350, "comment_id": 82566350, "body": "@zwer ,Hi, On the Laptop: <code>OpenSSL 1.0.2g  1 Mar 2016</code> and in server is <code>OpenSSL 1.0.1f 6 Jan 2014</code>"}, {"owner": {"reputation": 1482, "user_id": 6815232, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/838279485b2288814741d20adff759bf?s=128&d=identicon&r=PG&f=1", "display_name": "mySun", "link": "https://stackoverflow.com/users/6815232/mysun"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513202265, "post_id": 47802350, "comment_id": 82566819, "body": "@zwer How to issue this error?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1513202397, "post_id": 47802350, "comment_id": 82566866, "body": "I thought it was due to an old OpenSSL error... Try updating the <code>requests</code> module on your server: <code>python -m pip install requests --upgrade</code>"}, {"owner": {"reputation": 1482, "user_id": 6815232, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/838279485b2288814741d20adff759bf?s=128&d=identicon&r=PG&f=1", "display_name": "mySun", "link": "https://stackoverflow.com/users/6815232/mysun"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513202871, "post_id": 47802350, "comment_id": 82567054, "body": "@zwer Thank you but after run this code, show this error: <code>SSLError: HTTPSConnectionPool(host=&#39;website.com&#39;, port=443): Max retries exceeded with url: &#47;Search&#47;... (Caused by SSLError(SSLError(8, &#39;_ssl.c:510: EOF occurred in violation of protocol&#39;),))</code>"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513203032, "post_id": 47802350, "comment_id": 82567118, "body": "As a last resort, I&#39;d attempt updating OpenSSL and its Python link. Search on Google how to do that for your server&#39;s OS."}], "owner": {"reputation": 1482, "user_id": 6815232, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/838279485b2288814741d20adff759bf?s=128&d=identicon&r=PG&f=1", "display_name": "mySun", "link": "https://stackoverflow.com/users/6815232/mysun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513200364, "creation_date": 1513200364, "question_id": 47802350, "link": "https://stackoverflow.com/questions/47802350/how-to-issue-sslerror-errno-8-ssl-c510-eof-occurred-in-violation-of-protoc", "title": "How to issue SSLError: [Errno 8] _ssl.c:510: EOF occurred in violation of protocol?", "body": "<p>I run this python code, This code correct in my laptop but after upload on the server show this error:</p>\n\n<p><code>OS in server is: Ubuntu 14.04.3 LTS</code></p>\n\n<pre><code>flight_page = f.get(\"https://{}/Search/{}-{}/{}\".format(self.site, self.from, self.to, date), timeout=30, verify=False)\nFile \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 467, in get\nreturn self.request('GET', url, **kwargs)\nFile \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 455, in request\nresp = self.send(prep, **send_kwargs)\nFile \"/usr/lib/python2.7/dist-packages/requests/sessions.py\", line 558, in send\nr = adapter.send(request, **kwargs)\nFile \"/usr/lib/python2.7/dist-packages/requests/adapters.py\", line 385, in send\nraise SSLError(e)\nSSLError: [Errno 8] _ssl.c:510: EOF occurred in violation of protocol\n</code></pre>\n\n<p>My code is:</p>\n\n<pre><code>import requests\nimport socks\nimport socket\n\nsocks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, \"{}\".format(proxy_row['ip']), proxy_row['port'])\nsocket.socket = socks.socksocket\nf = requests.Session()\n\nflight_page = f.get(\"https://{}/Search/{}-{}/{}\".format(self.site, self.from, self.to, date), timeout=30, verify=False)\n</code></pre>\n\n<p>How to issue this</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1513200552, "post_id": 47802330, "comment_id": 82566097, "body": "Are you looking for np.max([s1,s2,s3], axis = 0)?"}, {"owner": {"reputation": 127, "user_id": 5514633, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bc625468fb29ad02e6b2eb3ae0581cc?s=128&d=identicon&r=PG&f=1", "display_name": "padrian92", "link": "https://stackoverflow.com/users/5514633/padrian92"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1513200885, "post_id": 47802330, "comment_id": 82566244, "body": "That&#39;s what I&#39;m looking for. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 5514633, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bc625468fb29ad02e6b2eb3ae0581cc?s=128&d=identicon&r=PG&f=1", "display_name": "padrian92", "link": "https://stackoverflow.com/users/5514633/padrian92"}, "edited": false, "score": 0, "creation_date": 1513204992, "post_id": 47802524, "comment_id": 82567861, "body": "Yes. I had NaN&#39;s in my Series. That&#39;s useful."}], "tags": [], "owner": {"reputation": 2716, "user_id": 7491646, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IKeHB.jpg?s=128&g=1", "display_name": "Spandan Brahmbhatt", "link": "https://stackoverflow.com/users/7491646/spandan-brahmbhatt"}, "is_accepted": false, "score": 2, "last_activity_date": 1513201238, "creation_date": 1513201238, "answer_id": 47802524, "question_id": 47802330, "link": "https://stackoverflow.com/questions/47802330/create-series-object-with-maxima-from-other-series-objects/47802524#47802524", "title": "Create Series object with maxima from other Series objects", "body": "<p>You can use the <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.nanmax.html#numpy.nanmax\" rel=\"nofollow noreferrer\">nanmax</a> method :</p>\n\n<pre><code>s1 = [1,3,4]\ns2 = [1,4,6]\ns3 = [np.nan,5,3]\n\nnp.nanmax([s1,s2,s3], axis = 0)\n[out]: array([ 1.,  5.,  6.])\n</code></pre>\n\n<p><code>nanmax</code> is safer over <code>max</code> since it handles <code>NaN</code> values</p>\n"}], "owner": {"reputation": 127, "user_id": 5514633, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bc625468fb29ad02e6b2eb3ae0581cc?s=128&d=identicon&r=PG&f=1", "display_name": "padrian92", "link": "https://stackoverflow.com/users/5514633/padrian92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513201238, "creation_date": 1513200276, "question_id": 47802330, "link": "https://stackoverflow.com/questions/47802330/create-series-object-with-maxima-from-other-series-objects", "title": "Create Series object with maxima from other Series objects", "body": "<p>Assuming that I have three Series objects with the same length and containing float64 elements how to create another Series object (also with the same length) which will contain maximum values from those three Series? Is there a nifty way (instead of just writing for loop and comparing each three elements and append each maximum to collection) to do it in numpy?</p>\n"}, {"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 4, "creation_date": 1513200310, "post_id": 47802324, "comment_id": 82565978, "body": "Strings are sequences. When you pass <code>list()</code> a sequence, it creates one entry per."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1513200398, "post_id": 47802324, "comment_id": 82566017, "body": "...see <a href=\"https://docs.python.org/2.4/lib/typesseq.html\" rel=\"nofollow noreferrer\">docs.python.org/2.4/lib/typesseq.html</a> -- you&#39;ll see that strings are under &quot;sequence types&quot;. Or, in newer docs, <a href=\"https://docs.python.org/2/library/stdtypes.html#sequence-types-str-unicode-list-tuple-bytearray-buffer-xrange\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1513200929, "post_id": 47802324, "comment_id": 82566261, "body": "It is defined to do so."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1513201370, "post_id": 47802324, "comment_id": 82566430, "body": "The devil does it"}], "answers": [{"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1513200411, "creation_date": 1513200411, "answer_id": 47802362, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802362#47802362", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p><code>list</code> takes an iterable argument, and produces a list with one element per value from the iterable. A <code>str</code> is iterable consisting of each character of the string as a separate element. Note that you can't write <code>list(1)</code> to get the list <code>[1]</code>, either, because <code>1</code> is not iterable.</p>\n"}, {"tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": false, "score": 2, "last_activity_date": 1513200455, "creation_date": 1513200455, "answer_id": 47802374, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802374#47802374", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p>In Python, <code>list()</code> will take any iterable and try to convert it to a list. Since a string is iterable (under the hood, it's really just an array of characters), the <code>list()</code> command converts each character to an item.</p>\n\n<p>To create a list where the first item is <code>'String'</code> you need to either use list shorthand:</p>\n\n<pre><code>my_list = ['String']\n</code></pre>\n\n<p>Or wrap the string in another iterable when passing to <code>list()</code>, which feels pretty redundant</p>\n\n<pre><code>my_list = list(['String'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 485, "user_id": 7180357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e25f1f32aa29286ab615159b0b294d?s=128&d=identicon&r=PG&f=1", "display_name": "Corey Taylor", "link": "https://stackoverflow.com/users/7180357/corey-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1513200480, "creation_date": 1513200480, "answer_id": 47802382, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802382#47802382", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p>list() converts the iterable string into a list which is composed of each element found.</p>\n\n<p><a href=\"https://docs.python.org/3.5/library/stdtypes.html?highlight=list#list\" rel=\"nofollow noreferrer\">https://docs.python.org/3.5/library/stdtypes.html?highlight=list#list</a></p>\n\n<blockquote>\n  <p>The constructor builds a list whose items are the same and in the same order as iterable\u2019s items. iterable may be either a sequence, a container that supports iteration, or an iterator object. If iterable is already a list, a copy is made and returned, similar to iterable[:]. For example, list('abc') returns ['a', 'b', 'c'] and list( (1, 2, 3) ) returns [1, 2, 3]. If no argument is given, the constructor creates a new empty list, [].</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5702319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f494dddc95896a0800a50d8f5c80572?s=128&d=identicon&r=PG&f=1", "display_name": "user5702319", "link": "https://stackoverflow.com/users/5702319/user5702319"}, "is_accepted": false, "score": 0, "last_activity_date": 1513200661, "creation_date": 1513200661, "answer_id": 47802416, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802416#47802416", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p>Try this one:</p>\n\n<p><code>list([\"string\"])\n['string']\n</code>\nIt looks like when you use <code>list(\"String\")</code> you are sending the text as elements to create the list, not as a full string.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6535501"}, "is_accepted": false, "score": 0, "last_activity_date": 1513200690, "creation_date": 1513200690, "answer_id": 47802423, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802423#47802423", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p><code>list()</code> iterates through the string appending each item to the the list. if you wanted to create a list with the single element <code>'string'</code> you could do something like</p>\n\n<pre><code>x = list()\nto_add = 'string'\nx.append(to_add)\nprint(x)\n</code></pre>\n\n<p>This will create a list that looks like <code>['string']</code></p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 9089179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d702e3cc9c80c3345dbf474508d8a80b?s=128&d=identicon&r=PG&f=1", "display_name": "alex ", "link": "https://stackoverflow.com/users/9089179/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1513200970, "creation_date": 1513200970, "answer_id": 47802473, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string/47802473#47802473", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p>list(\"strings\") will make your variable iterable</p>\n\n<p>if you want to display your variable as [\"strings\"]</p>\n\n<p>your list should be declared like this</p>\n\n<pre><code>list=[\"strings\"]\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; list[0] ### should display\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; \"strings\"\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; list  ### if it's lenght is equal to 1\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; [\"strings\"] ##### this should be the result\n</code></pre>\n"}], "owner": {"reputation": 1276, "user_id": 7690520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a53c07df414d1798ba0d8a84413a209?s=128&d=identicon&r=PG&f=1", "display_name": "Artier", "link": "https://stackoverflow.com/users/7690520/artier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 47802362, "answer_count": 6, "score": -5, "last_activity_date": 1513781669, "creation_date": 1513200220, "last_edit_date": 1513781669, "question_id": 47802324, "link": "https://stackoverflow.com/questions/47802324/liststring-creates-s-t-r-i-n-g-instead-of-string", "title": "list(&quot;String&quot;) creates [&quot;S&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;] instead of [&quot;String&quot;]", "body": "<p>I am new in python. str.split() function is used to split string, But what logic behind list(\"string\") for split string</p>\n\n<pre><code> &gt;&gt;&gt; list(\"String\")\n['S', 't', 'r', 'i', 'n', 'g']\n</code></pre>\n\n<p>Why does not it create list of one string like this <code>['String']</code></p>\n"}, {"tags": ["python", "matrix", "traveling-salesman", "distance-matrix"], "comments": [{"owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "edited": false, "score": 0, "creation_date": 1513202193, "post_id": 47802322, "comment_id": 82566780, "body": "i think that the error is in &quot;for i,j if distance==0 then distances[i][j]=distances[j][i]&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 678, "user_id": 8963981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGjL6.png?s=128&g=1", "display_name": "Manuel", "link": "https://stackoverflow.com/users/8963981/manuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1513201951, "creation_date": 1513201951, "answer_id": 47802667, "question_id": 47802322, "link": "https://stackoverflow.com/questions/47802322/converting-into-an-appropriate-distance-matrix-for-tsp/47802667#47802667", "title": "Converting into an appropriate distance matrix (for TSP)", "body": "<p>I think this works:</p>\n\n<pre><code>d = [[2, 6, 8, 9, 8, 6, 3], [4, 8, 10, 10, 7, 5], [5, 6, 8, 8, 9], [4, 6, 7, 8], [3, 5, 9], [3, 6], [4]]\n\nmatrix = [0] * 8\nfor i in range(8):\n    matrix[i] = [0] * 8\n\nj = 0\nfor element in d:\n    i = j\n    for value in element:\n        matrix[i+1][j] = value\n        matrix[j][i+1] = value\n        i += 1\n    j += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": false, "score": 2, "last_activity_date": 1513203405, "last_edit_date": 1513203405, "creation_date": 1513202687, "answer_id": 47802805, "question_id": 47802322, "link": "https://stackoverflow.com/questions/47802322/converting-into-an-appropriate-distance-matrix-for-tsp/47802805#47802805", "title": "Converting into an appropriate distance matrix (for TSP)", "body": "<p>This is actually quite a common-form and if you are able to use python's excellent scientific-stack (numpy and scipy needed for this approach), this is already available:</p>\n\n<pre><code>import numpy as np\nfrom scipy.spatial.distance import squareform\n\nraw = np.array([[2, 6, 8, 9, 8, 6, 3], [4, 8, 10, 10, 7, 5], [5, 6, 8, 8, 9],\n    [4, 6, 7, 8], [3, 5, 9], [3, 6], [4]])\n\nprint(squareform(np.hstack(raw)))  # use of hstack as some kind flattening here\n                                   # many alternatives possible\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[ 0  2  6  8  9  8  6  3]\n [ 2  0  4  8 10 10  7  5]\n [ 6  4  0  5  6  8  8  9]\n [ 8  8  5  0  4  6  7  8]\n [ 9 10  6  4  0  3  5  9]\n [ 8 10  8  6  3  0  3  6]\n [ 6  7  8  7  5  3  0  4]\n [ 3  5  9  8  9  6  4  0]]\n</code></pre>\n\n<p>Of course, this <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.squareform.html#scipy.spatial.distance.squareform\" rel=\"nofollow noreferrer\">function</a> works both ways.</p>\n"}, {"tags": [], "owner": {"reputation": 1619, "user_id": 288448, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/57f8ee211bf2020efb3b8bec42feeb33?s=128&d=identicon&r=PG", "display_name": "Ryan Sandridge", "link": "https://stackoverflow.com/users/288448/ryan-sandridge"}, "is_accepted": false, "score": 1, "last_activity_date": 1513203209, "creation_date": 1513203209, "answer_id": 47802891, "question_id": 47802322, "link": "https://stackoverflow.com/questions/47802322/converting-into-an-appropriate-distance-matrix-for-tsp/47802891#47802891", "title": "Converting into an appropriate distance matrix (for TSP)", "body": "<p>Here is another way to approach the problem without requiring imports.</p>\n\n<pre><code>data = [[2, 6, 8, 9, 8, 6, 3], [4, 8, 10, 10, 7, 5], [5, 6, 8, 8, 9], [4, 6, 7, 8], [3, 5, 9], [3, 6], [4]]\ndata.append([])\nfor city in range(len(data)):\n    for missing in range(city):\n        data[city].insert(missing, data[missing][city])\n    data[city].insert(city, 0)\n</code></pre>\n\n<p><code>data</code> will then contain:</p>\n\n<pre><code>[[0, 2,  6, 8, 9,  8,  6, 3],\n [2, 0,  4, 8, 10, 10, 7, 5],\n [6, 4,  0, 5, 6,  8,  8, 9],\n [8, 8,  5, 0, 4,  6,  7, 8],\n [9, 10, 6, 4, 0,  3,  5, 9],\n [8, 10, 8, 6, 3,  0,  3, 6],\n [6, 7,  8, 7, 5,  3,  0, 4],\n [3, 5,  9, 8, 9,  6,  4, 0]]\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9074086, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f8d411aa2b6fcc19c35e13b1cd75c0d5?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Jones", "link": "https://stackoverflow.com/users/9074086/sid-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1513203405, "creation_date": 1513200218, "question_id": 47802322, "link": "https://stackoverflow.com/questions/47802322/converting-into-an-appropriate-distance-matrix-for-tsp", "title": "Converting into an appropriate distance matrix (for TSP)", "body": "<p>I currently have a matrix like this:</p>\n\n<pre><code>[[2, 6, 8, 9, 8, 6, 3], [4, 8, 10, 10, 7, 5], [5, 6, 8, 8, 9], [4, 6, 7, 8], [3, 5, 9], [3, 6], [4]]\n</code></pre>\n\n<p>such that the first array is distances from city 1 to 2,3,4,5,6,7,8 the second is distances from city 2 to 3,4,5,6,7,8 ... the 7th array is the distance from city 7 to city 8. I need to convert it into a proper distance matrix. </p>\n\n<p>So far, I've inserted 0's to make it size 7 and it becomes:</p>\n\n<pre><code>[[2, 6, 8, 9, 8, 6, 3], [0, 4, 8, 10, 10, 7, 5], [0, 0, 5, 6, 8, 8, 9], [0, 0, 0, 4, 6, 7, 8], [0, 0, 0, 0, 3, 5, 9], [0, 0, 0, 0, 0, 3, 6], [0, 0, 0, 0, 0, 0, 4]]\n</code></pre>\n\n<p>I then did </p>\n\n<pre><code>for i,j if distance==0 then distances[i][j]=distances[j][i] \n</code></pre>\n\n<p>and it becomes:</p>\n\n<pre><code>[[2, 6, 8, 9, 8, 6, 3], [6, 4, 8, 10, 10, 7, 5], [8, 8, 5, 6, 8, 8, 9], [9, 10, 6, 4, 6, 7, 8], [8, 10, 8, 6, 3, 5, 9], [6, 7, 8, 7, 5, 3, 6], [3, 5, 9, 8, 9, 6, 4]]\n</code></pre>\n\n<p>I then inserted 0's to include the distance from city to same city:</p>\n\n<pre><code>[[0, 2, 6, 8, 9, 8, 6, 3], [6, 0, 4, 8, 10, 10, 7, 5], [8, 8, 0, 5, 6, 8, 8, 9], [9, 10, 6, 0, 4, 6, 7, 8], [8, 10, 8, 6, 0, 3, 5, 9], [6, 7, 8, 7, 5, 0, 3, 6], [3, 5, 9, 8, 9, 6, 0, 4]]\n</code></pre>\n\n<p>and finally added on the final city's distances:</p>\n\n<pre><code>[[0, 2, 6, 8, 9, 8, 6, 3], [6, 0, 4, 8, 10, 10, 7, 5], [8, 8, 0, 5, 6, 8, 8, 9], [9, 10, 6, 0, 4, 6, 7, 8], [8, 10, 8, 6, 0, 3, 5, 9], [6, 7, 8, 7, 5, 0, 3, 6], [3, 5, 9, 8, 9, 6, 0, 4], [3, 5, 9, 8, 9, 6, 4, 0]]\n</code></pre>\n\n<p>but I appear to have gone wrong somewhere, as I have not produced the correct distance matrix. I believe it may be the distances[i][j]=[j][i] bit, but I'm not entirely sure.</p>\n"}, {"tags": ["python", "design-patterns", "pyserial", "organization"], "comments": [{"owner": {"reputation": 587, "user_id": 2076832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e447d4a9702e89d41baf62602525c9?s=128&d=identicon&r=PG", "display_name": "GRAYgoose124", "link": "https://stackoverflow.com/users/2076832/graygoose124"}, "edited": false, "score": 0, "creation_date": 1513200835, "post_id": 47802251, "comment_id": 82566228, "body": "Definitely check out asyncio."}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1513207879, "creation_date": 1513207879, "answer_id": 47803687, "question_id": 47802251, "link": "https://stackoverflow.com/questions/47802251/need-suggestions-for-decoupling-classes-used-in-a-script/47803687#47803687", "title": "Need suggestions for decoupling classes used in a script", "body": "<p>You can decouple the commands hardcoded in your <code>Master_Comm</code> class by passing them as an argument to its <code>__init__()</code> constructor. Below is simple implementation of this which creates and uses a new dictionary named <code>CMDS</code> which is defined separately. </p>\n\n<p>This table is passed as an argument to the <code>Master_Comm</code> class when an instance of it is created, then that is passed as an argument to the <code>SerialInterface</code> class (instead of it creating it's own).</p>\n\n<p>This same idea could be taken further by changing the format of the <code>CMDS</code> table so it included more information about the command and then using that in the <code>SerialInterface</code> class' implementation instead of the hardcoded stuff it still has in it (such as the length of the tuple of bytes associated with each one).</p>\n\n<p><strong>Note</strong> that I also changed the names of your classes to they follow <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a> recommendations for naming.</p>\n\n<pre><code>import serial\nfrom cmd import Cmd\nfrom enum import Enum, unique\n\nclass SerialInterface(Cmd):\n    def __init__(self, mastercomm):\n        Cmd.__init__(self)\n        self.slave_comm = mastercomm\n        # setup stuff\n\n    def do_cmd1(self, args):\n        try:\n            assert 0 &lt;= int(args) &lt;= 25, \"Argument out of 0-25 range\"\n            self.slave_comm.sendcommand(CommandNames.CMD1, args)\n        except (AssertionError) as e:\n            print(e)\n\n    def do_cmd2(self, args):\n        try:\n            # No args for cmd2, so don't check anything\n            self.slave_comm.sendcommand(CommandNames.CMD2, args)\n        except (AssertionError) as e:\n            print(e)\n\n\nclass MasterComm:\n    \"\"\" Customized serial communications class for communicating with serial\n        port using the serial module and commands defined by the table \"cmds\".\n    \"\"\"\n    def __init__(self, port, baud, cmds):\n        self.ser = serial.Serial(port=None,\n                                 baudrate=int(baud),)\n        self.ser.port = port\n        self.source_id = cmds['source_id']\n        self.seq_num = cmds['seq_num']\n        self.slave_commands = cmds['slave_commands']\n\n    def sendcommand(self, command, args):\n        try:\n            txpacket = bytearray()\n            txpacket.extend(self.source_id)\n            txpacket.extend(self.seq_num)\n            txpacket.extend(self.slave_commands[command][0])\n            txpacket.extend(self.slave_commands[command][1])\n            txpacket.extend(self.slave_commands[command][2])\n            self.ser.write(txpacket)\n        except Exception as e:\n            print(e)\n\n\n@unique\nclass CommandNames(Enum):\n    CMD1 = 1\n    CMD2 = 2\n\nCMDS = {\n    'source_id': b'\\xF0',\n    'seq_num': b'\\x00',\n    'slave_commands' : {CommandNames.CMD1: (b'\\x10', b'\\x06', b'\\x06'),\n                        CommandNames.CMD2: (b'\\x10', b'\\x07', b'\\x07')}\n}\n\nmastercomm = MasterComm(0x03b2, 8192, CMDS)\nserialinterface = SerialInterface(mastercomm)\nserialinterface.cmdloop()\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 534194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0569bf6e205e2069369cb492a7eb514d?s=128&d=identicon&r=PG", "display_name": "C. Zach Martin", "link": "https://stackoverflow.com/users/534194/c-zach-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 47803687, "answer_count": 1, "score": 1, "last_activity_date": 1513208231, "creation_date": 1513199846, "last_edit_date": 1513208231, "question_id": 47802251, "link": "https://stackoverflow.com/questions/47802251/need-suggestions-for-decoupling-classes-used-in-a-script", "title": "Need suggestions for decoupling classes used in a script", "body": "<p>I have a python program in which the main use case is interacting with it through a CLI to instruct it to send out byte packets over serial. The serial target adheres to a certain command protocol. The python program builds packets that adhere to this protocol based on user input on the CLI (specific command to send, arguments for the command, etc).</p>\n\n<p>The module for this functionality consists of three classes: one which subclasses enum to create unique identifiers for each possible command, one which subclasses the cmd module to implement a CLI interface to the user (this class also does argument input sanitizing) and finally one class which takes in the desired command and arguments and builds the packet to send out over serial</p>\n\n<p>The issue I'm having is that these classes are getting pretty coupled. Ideally I wanted the <code>Master_Comm</code> class to be kind of independent so it could be accessed from other modules to send out packets from a different origin (say a script file parser). As it is <code>Serial_Interface</code> has an instance of <code>Master_Comm</code> to access the <code>sendcommand</code> method, as well as implementing input sanitation (which may need to be done multiple places.</p>\n\n<p>Any suggestions on organizing this better? Especially as the program grows (possibly implementing hundreds of commands).</p>\n\n<pre><code>import serial\nfrom cmd import Cmd\nfrom enum import Enum, unique\n\n@unique\nclass Command_Names(Enum):\n    CMD1 = 1\n    CMD2 = 2\n\nclass Serial_Interface(Cmd):\n    def __init__(self, port, baud,):\n        Cmd.__init__(self)\n        self.slave_comm = Master_Comm(port=port, baud=baud)\n        # setup stuff\n\n    def do_cmd1(self, args):\n        try:\n            assert 0 &lt;= int(args) &lt;= 25, \"Argument out of 0-25 range\"\n            self.slave_comm.sendcommand(Command_Names.CMD1, args)\n        except (AssertionError) as e:\n            print(e)\n\n    def do_cmd2(self, args):\n        try:\n            # No args for cmd2, so don't check anything\n            self.slave_comm.sendcommand(Command_Names.CMD2, args)\n        except (AssertionError) as e:\n            print(e)\n\n\nclass Master_Comm(object):\n    _SLAVE_COMMANDS = {Command_Names.CMD1:           (b'\\x10', b'\\x06', b'\\x06'),\n                       Command_Names.CMD2:           (b'\\x10', b'\\x07', b'\\x07')}\n\n    _SOURCE_ID = b'\\xF0'\n    _SEQ_NUM = b'\\x00'\n\n    def __init__(self, port, baud):\n        self.ser = serial.Serial(port=None,\n                                 baudrate=int(baud)\n                                 )\n        self.ser.port = port\n\n    def open_serial(self):\n        # do stuff\n\n    def close_serial(self):\n        # do stuff\n\n    def sendcommand(self, command, args):\n        try:\n            txpacket = bytearray()\n            txpacket.extend(self._SOURCE_ID)\n            txpacket.extend(self._SEQ_NUM)\n            txpacket.extend(self._SLAVE_COMMANDS[command][0])\n            txpacket.extend(self._SLAVE_COMMANDS[command][1])\n            txpacket.extend(self._SLAVE_COMMANDS[command][2])\n            self.ser.write(tx_bytes)\n        except Exception as e:\n            print(e)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "comparison-operators"], "answers": [{"comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1513202182, "post_id": 47802342, "comment_id": 82566775, "body": "What about lexicographic on items? Could be argued to be rather natural, no?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1513203880, "post_id": 47802342, "comment_id": 82567439, "body": "@PaulPanzer: I might expand my answer, but the gist is that it&#39;s not relevant to OrderedDict use cases, it would have messed with compatibility with regular dicts on Python 2 (and intransitive <code>==</code> is bad enough), and after the early-Python &quot;compare all the things&quot; approach turned out to suck, I don&#39;t think they were eager to throw in comparison operators without a strong justification."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1513200314, "creation_date": 1513200314, "answer_id": 47802342, "question_id": 47802245, "link": "https://stackoverflow.com/questions/47802245/why-is-ordereddict-not-implementing-comparison-operators/47802342#47802342", "title": "Why is OrderedDict not implementing comparison operators", "body": "<p>A \"meaningful natural ordering\" refers to a \"natural\" way to decide which of two objects is greater. It doesn't refer to whether the objects are ordered collections.</p>\n\n<p>OrderedDict may impose an ordering on its entries, but there is no natural ordering relationship between two OrderedDicts.</p>\n"}, {"tags": [], "owner": {"reputation": 1405, "user_id": 9047589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/baeHY.jpg?s=128&g=1", "display_name": "Pak Uula", "link": "https://stackoverflow.com/users/9047589/pak-uula"}, "is_accepted": false, "score": 0, "last_activity_date": 1513202430, "creation_date": 1513202430, "answer_id": 47802760, "question_id": 47802245, "link": "https://stackoverflow.com/questions/47802245/why-is-ordereddict-not-implementing-comparison-operators/47802760#47802760", "title": "Why is OrderedDict not implementing comparison operators", "body": "<p>@scharette, I do agree that under certain angle OrderedDict really looks like a linked list with O(1) access time. Developers of cpython share this view in the comment to <a href=\"https://github.com/python/cpython/blob/master/Objects/odictobject.c\" rel=\"nofollow noreferrer\">C implementation</a> of the OrderedDict.</p>\n\n<p>My answer to your question is simple. <em>Nobody ever thought that far</em> )</p>\n\n<p>There were no comparison operators in the <a href=\"https://bugs.python.org/file13231/od7.diff\" rel=\"nofollow noreferrer\">original proposal</a>. </p>\n\n<p>No proposals were added neither through <a href=\"https://bugs.python.org/issue?@pagesize=350&amp;@columns=id,activity,title,creator,assignee,status,type&amp;@sort=activity&amp;@filter=status&amp;@search_text=OrderedDict%20&amp;status=-1,1,2,3\" rel=\"nofollow noreferrer\">bugs.python.org</a> nor as a <a href=\"https://www.python.org/dev/peps/\" rel=\"nofollow noreferrer\">PEP</a></p>\n\n<p>If you feel worth adding comparison operators to OrderedDict, please supmit an enhancment request at <a href=\"https://bugs.python.org/\" rel=\"nofollow noreferrer\">https://bugs.python.org/</a></p>\n"}], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "accepted_answer_id": 47802342, "answer_count": 2, "score": 2, "last_activity_date": 1513202430, "creation_date": 1513199821, "question_id": 47802245, "link": "https://stackoverflow.com/questions/47802245/why-is-ordereddict-not-implementing-comparison-operators", "title": "Why is OrderedDict not implementing comparison operators", "body": "<p>Earlier today i asked a <a href=\"https://stackoverflow.com/q/47797346/7692463\">question</a> because I was not able to really understand the implementation of comparison operators using rich comparison methods. Thank you, to the accepted answer for well explaining the differences between the two. </p>\n\n<p>Basically, from what I understood, Python 3 stopped the use of <code>__cmp__()</code> magic method. From now on, </p>\n\n<blockquote>\n  <p>The ordering comparison operators (&lt;, &lt;=, >=, >) raise a TypeError\n  exception when the operands don\u2019t have a meaningful natural ordering.</p>\n</blockquote>\n\n<p>Thus, I thought that <code>OrderedDict</code> would be valid. But, to my surprise,</p>\n\n<pre><code>d1 = OrderedDict([(1,1)])\nd2 = OrderedDict([(2,2)])\n&gt;&gt;&gt; dict1 &lt; dict2\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: '&lt;' not supported between instances of 'collections.OrderedDict' and 'collections.OrderedDict'\n&gt;&gt;&gt; dict1.__lt__(dict2)\nNotImplemented\n</code></pre>\n\n<p>So, why does <code>OrderedDict</code> is not implementing comparison operators ?</p>\n\n<p>Note that in the comments of the answer of the linked question, we started to talk on the topic. One thing that was underlined, is <em>why assume insertion order is how you want to compare things? You can always implement your own way to compare them explicitly</em>.</p>\n\n<p>Then why (even in Python 3),</p>\n\n<pre><code>list1 = [1,2,3]\nlist2 = [4,5,6]\n&gt;&gt;&gt; list1 &lt; list2\nTrue\n</code></pre>\n\n<p>Isn't a similar situation ?</p>\n"}, {"tags": ["python", "postgresql", "psycopg2"], "answers": [{"tags": [], "owner": {"reputation": 3877, "user_id": 7732200, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xOslk.jpg?s=128&g=1", "display_name": "Oleh Rybalchenko", "link": "https://stackoverflow.com/users/7732200/oleh-rybalchenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1513200847, "creation_date": 1513200847, "answer_id": 47802452, "question_id": 47802139, "link": "https://stackoverflow.com/questions/47802139/threading-inside-a-cursor-in-psycopg2/47802452#47802452", "title": "Threading inside a cursor in psycopg2", "body": "<p>In a single-thread approach, you are trying to keep the balance between memory usage and rows processing speed. <code>fetchone</code> decrease memory usage but require more work to fetch the data. <code>fetchall</code> for huge datasets use large memory amounts and data loading may take some time before processing started.</p>\n\n<p>So, at least, a better way is to fetch data by smaller portions with <code>fetchmany</code>. The following generator may simplify a process:</p>\n\n<pre><code>def ResultIter(cursor, limit=100):\n    while True:\n        results = cursor.fetchmany(limit)\n        if not results:\n            break\n        for result in results:\n            yield result\n</code></pre>\n\n<p>Based on this approach you can implement multithreading processing as well, but I'm really not sure about performance.</p>\n"}], "owner": {"reputation": 436, "user_id": 8122640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c717b33057cb67dfcf0451b3801c43d2?s=128&d=identicon&r=PG&f=1", "display_name": "jgmh", "link": "https://stackoverflow.com/users/8122640/jgmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1513200847, "creation_date": 1513199320, "question_id": 47802139, "link": "https://stackoverflow.com/questions/47802139/threading-inside-a-cursor-in-psycopg2", "title": "Threading inside a cursor in psycopg2", "body": "<p>I wrote a script in <code>python</code> that connects to a database using <code>psycopg</code>.\nI'm working with two tables in the same database.  First I run a <code>select * from table_1</code> and after that I check if each row (<code>fetchone</code>) meets some requirements.  If they do, a new row in table_2 is created with an <code>INSERT</code>.  The code looks similar to this:</p>\n\n<pre><code>cursor_1 = conn.cursor()\ncursor_2 = conn.cursor()\n\ncursor_1.execute(\"SELECT * FROM table_1\")\nfor i in range(1,n):\n    a = cursor_1.fetchone()\n    if (condition_in_a):\n        cursor_2.execute(\"INSERT into table_2 (f1,f2) values (v1,v2)\")\n</code></pre>\n\n<p>The script runs in a sequential <code>for</code> loop and I wanted to know if there's a better way to accomplish this task through <code>psycopg2.pool</code> in terms of performance.  So my question is: Is it possible to multithread a <code>psycopg</code> cursor? If not, what would be the best approach to achieve a better performance?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "function", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 4014685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwFkp.png?s=128&g=1", "display_name": "havanagrawal", "link": "https://stackoverflow.com/users/4014685/havanagrawal"}, "is_accepted": true, "score": 1, "last_activity_date": 1513200847, "creation_date": 1513200847, "answer_id": 47802453, "question_id": 47802118, "link": "https://stackoverflow.com/questions/47802118/python-dataframe-i-want-to-select-or-drop-column-contain-paid-or-non-paid/47802453#47802453", "title": "Python: dataframe: I want to select or drop column contain Paid or Non-Paid", "body": "<p>This will do it:</p>\n\n<pre><code>df[df[\"Paid/Non-paid\"] != \"Paid\"]\n</code></pre>\n\n<p>The reason your code doesn't work is because pandas (or Python in general) doesn't support non alpha-numeric (and _) characters in variable names, and so you cannot use syntactic sugar for accessing column names which have these.</p>\n"}], "owner": {"reputation": 219, "user_id": 8692055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9dd98e25a4655838fde587f5b3b52?s=128&d=identicon&r=PG&f=1", "display_name": "123cremepie", "link": "https://stackoverflow.com/users/8692055/123cremepie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 47802453, "answer_count": 1, "score": 0, "last_activity_date": 1513201682, "creation_date": 1513199257, "last_edit_date": 1513201682, "question_id": 47802118, "link": "https://stackoverflow.com/questions/47802118/python-dataframe-i-want-to-select-or-drop-column-contain-paid-or-non-paid", "title": "Python: dataframe: I want to select or drop column contain Paid or Non-Paid", "body": "<p>I have a dataframe contain Names and Paid/Non-paid. I want to exclude those names, I already Paid in my dataframe.</p>\n\n<pre><code>df: \n1. Name, Paid/Non-paid\n2. James, Paid\n3. Alex, Non-paid\n4. Apple, Paid\n5. June, Non-paid\n6. Kelly, Non-paid\n</code></pre>\n\n<p>This code \n<code>df[df.Paid/Non-paid.isin('Paid')]</code> gives error message</p>\n\n<pre><code>error msg: 'DataFrame' object has no attribute 'Ad'\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["python", "installation", "virtual", "environment"], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513246438, "post_id": 47802221, "comment_id": 82582714, "body": "Thanks for your reply jmunsch. I done the steps as mentioned and now just made the hacky edit to the pigpio makefile as suggested, so L34 now shows: prefix = $(pwd)/venv_test. I then managed to &#39;make&#39; the file successfully. However, at the &#39;make install &#39;step, I got an error: (venv_test) pi@raspberrypi:~/pigpio $ make install install -m 0755 -d                /opt/pigpio/cgi install -m 0755 -d                /venv_test/include install: cannot create directory \u2018/venv_test\u2019: Permission denied Makefile:80: recipe for target &#39;install&#39; failed make: *** [install] Error 1 .Any ideas why?"}, {"owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "reply_to_user": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513294450, "post_id": 47802221, "comment_id": 82610113, "body": "@Craver2000 <code>prefix = &#47;home&#47;myuser&#47;venv_test</code> is what i changed it to. i&#39;m not sure how makefiles do shell expansion so <code>$(pwd)</code> might work differently, just type out the full path where you want it?"}, {"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513338150, "post_id": 47802221, "comment_id": 82626026, "body": "I have changed L34 to <code>prefix = &#47;home&#47;pi&#47;venv_test</code>  but I am still recieving an error as shown below. Could you advise me on this?"}, {"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513338654, "post_id": 47802221, "comment_id": 82626322, "body": "<code>(venv_test) pi@raspberrypi:~&#47;pigpio $ make install install -m 0755 -d                &#47;opt&#47;pigpio&#47;cgi install -m 0755 -d                &#47;home&#47;pi&#47;venv_test&#47;include install -m 0644 pigpio.h          &#47;home&#47;pi&#47;venv_test&#47;include install -m 0644 pigpiod_if.h      &#47;home&#47;pi&#47;venv_test&#47;include install -m 0644 pigpiod_if2.h     &#47;home&#47;pi&#47;venv_test&#47;include install -m 0755 -d                &#47;home&#47;pi&#47;venv_test&#47;lib install -m 0755 libpigpio.so      &#47;home&#47;pi&#47;venv_test&#47;lib ........</code>"}, {"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513338662, "post_id": 47802221, "comment_id": 82626328, "body": "<code>.......Writing &#47;home&#47;pi&#47;venv_test&#47;lib&#47;python2.7&#47;site-packages&#47;pigpio-1.38-p&zwnj;&#8203;y2.7.egg-infoif which python3; then python3 setup.py install; fi&#47;usr&#47;bin&#47;python3running installrunning buildrunning build_pycreating build&#47;libcopying pigpio.py -&gt; build&#47;librunning install_libcreating &#47;usr&#47;lib&#47;python3.5&#47;site-packageserror: could not create &#39;&#47;usr&#47;lib&#47;python3.5&#47;site-packages&#39;: Permission deniedMakefile:80: recipe for target &#39;install&#39; failedmake: *** [install] Error 1</code>"}, {"owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "reply_to_user": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513373041, "post_id": 47802221, "comment_id": 82644166, "body": "@Craver2000 line 184 of the history that i posted"}, {"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 1, "creation_date": 1513385986, "post_id": 47802221, "comment_id": 82647391, "body": "Thanks so much for your help! It worked! my script which imports and uses the pigpio library in the virtual env is now working.  For me, the additional steps I needed to do based on your history (after L34 edit) were L184, L187, L211 and then <code>make install</code>."}, {"owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "reply_to_user": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513386408, "post_id": 47802221, "comment_id": 82647451, "body": "@Craver2000 nice work thanks for following through with testing it out. That&#39;s great that it works from within a virtualenv. just to let you know though setting 4755 for ldconfig might be considered unsafe, but hey who&#39;s checking. ;)"}, {"owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513520635, "post_id": 47802221, "comment_id": 82676198, "body": "Thanks jmunsch. Since I&#39;m still learning, I was just wondering if you could tell me more about the setting 4755 for ldconfig,i.e. what that does and what situations can I apply it to?"}, {"owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "reply_to_user": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "edited": false, "score": 0, "creation_date": 1513649624, "post_id": 47802221, "comment_id": 82724226, "body": "@Craver2000 it sets the SUID bit, it basically gives users the permission to use the binary. I guess it would be used if user permissions don&#39;t matter, and the install instructions are not meant for a virtualenv ;)"}], "tags": [], "owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "is_accepted": true, "score": 1, "last_activity_date": 1513202413, "last_edit_date": 1513202413, "creation_date": 1513199692, "answer_id": 47802221, "question_id": 47802051, "link": "https://stackoverflow.com/questions/47802051/installing-pigpio-into-a-virtual-environment/47802221#47802221", "title": "Installing pigpio into a virtual environment", "body": "<p>The easiest way would be to uninstall all dependencies from the system wide modules: </p>\n\n<pre><code>sudo pip uninstall boto3 pigpio\n</code></pre>\n\n<p><code>cd</code> to a directory like /home/your_user and then retry installing the dependencies in the venv like:</p>\n\n<pre><code>virtualenv venv_test\nsource venv_test/bin/activate\npip install boto3\ncd pigpio\n</code></pre>\n\n<p>Maybe a hacky edit to <a href=\"https://github.com/joan2937/pigpio/blob/master/Makefile#L34\" rel=\"nofollow noreferrer\">https://github.com/joan2937/pigpio/blob/master/Makefile#L34</a> to be inside your venv folder? like <code>$(pwd)/venv_test</code>:</p>\n\n<pre><code>make\nmake install\ndeactivate\nsource venv_test/bin/activate\n</code></pre>\n\n<p>It can get complicated with permissions and module paths if using <code>--system-site-packages</code> or something similar.</p>\n\n<p>Also be sure that you have permissions in the directory where the venv folder is. so like if you <code>ls -ail .</code> you should see the non-sudo user has <code>chown craver2000:craver2000 the_dir</code></p>\n\n<p>You may also be able to do something like:</p>\n\n<pre><code>sudo cp -R /path/to/dist-packages/pigpio venv_test/lib/python2.7/site-packages\nsudo chown -R $USER venv_test/lib/python2.7/site-packages\n</code></pre>\n\n<p>And upon further examination you might be able to just copy the pigpio file to your virtualenv like:</p>\n\n<pre><code>deactivate\ncp pigpio/pigpio.py venv_test/lib/python2.7/site-packages\nsource venv_test/bin/activate\n</code></pre>\n\n<p>And digging a bit more here is an untested install, but hey the module imports using a venv :):</p>\n\n<pre><code>162  sudo apt-get install build-essential\n  163  git clone https://github.com/joan2937/pigpio.git\n  164  pip\n  165  pip install virtualenv\n  166  python -m pip install virtualenv\n  167  sudo pip install virtualenv\n  168  sudo pip install --upgrade pip\n  169  virtualenv\n  170  virtualenv venv_test\n  171  cd pigpio/\n  172  ls\n  173  nano Makefile\n  174  make\n  175  make install\n  176  mkdir /opt/pigpio\n  177  sudo mkdir /opt/pigpio\n  178  chown $USER /opt/pigpio\n  179  sudo chown $USER /opt/pigpio\n  180  make install\n  181  source ../venv_test/bin/activate\n  182  ls\n  183  make install\n  184  sudo mkdir /usr/lib/python3.5/site-packages\n  187  sudo chown $USER /usr/lib/python3.5/site-packages\n  211  sudo chmod 4755 /sbin/ldconfig\n  213  sudo chmod 4755 /sbin/ldconfig.real\n  214  make install\n  215  history\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 9095893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/840100251265be431f5ac75feac540fb?s=128&d=identicon&r=PG&f=1", "display_name": "Craver2000", "link": "https://stackoverflow.com/users/9095893/craver2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 2, "accepted_answer_id": 47802221, "answer_count": 1, "score": 2, "last_activity_date": 1515143881, "creation_date": 1513198942, "last_edit_date": 1515143881, "question_id": 47802051, "link": "https://stackoverflow.com/questions/47802051/installing-pigpio-into-a-virtual-environment", "title": "Installing pigpio into a virtual environment", "body": "<p>I wanted to ask on how I can install a library appropriately in a virtual environment. I am currently having difficulties using a Servo library called pigpio upon installation when I activate a virtual environment on my Raspberry Pi Zero W.</p>\n\n<p>The problem arise if I leave out \u2018sudo\u2019 in my bash commands in terminal (i.e.python myscript.py) since using the command \u2018sudo python myscript.py\u2019 would render another module of this script (Boto3) unavailable in the virtual environment.</p>\n\n<p>The error message when I used the sudo command goes:\nTraceback (most recent call last):\nFile \"myscript.py\", line 13, in \nimport pigpio\nImportError: No module named Boto3</p>\n\n<p>On the other hand, using a non-sudo bash command results in pigpio, the Servo library module being unavailable.</p>\n\n<p>I suspect the problem lies in the process of installation of pigpio library as I had to use \u2018sudo make install\u2019 in one of the steps. I think I might need to install via an alternative method that avoids global installation i.e. sudo. My understanding is that only pip can install packages into a virtualenv (from Pypi) (v.s. sudo which leads to global installation). Is there a way that I can find another way to appropriately install a library into a virtual environment?</p>\n"}, {"tags": ["python", "python-3.x", "relative-path", "modularity"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1513198890, "post_id": 47802020, "comment_id": 82565359, "body": "<code>abspath(&#39;..&#39;)</code> doesn&#39;t give you the path relative to the <i>location of the script</i>, it gives you the path relative to the current working directory of the process that runs the script. These are two different things."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1513199012, "post_id": 47802020, "comment_id": 82565403, "body": "With respect to <code>__file__</code> not working -- how exactly are you testing? Can you generate a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> others can use to see the problem themselves? (Providing a MCVE that reproduces a specific, distinct problem in the shortest possible code is also a defense against being closed as &quot;too broad&quot;)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1513199130, "post_id": 47802020, "comment_id": 82565464, "body": "It works perfectly for me, f/e, when I run <code>echo &#39;import os.path; print(os.path.abspath(__file__))&#39; &gt;test.py; python3.6 test.py</code> -- do you get an error with that same code? Just as I provided a one-line copy-and-pasteable example that shows (hopefully) that and how it works, can you provide a very short copy-and-pasteable example that shows how it breaks in your example or use case?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1513199573, "post_id": 47802020, "comment_id": 82565672, "body": "...if you only have problems with <code>__file__</code> in Spyder, then that&#39;s an IDE issue, and I&#39;d suggest asking a question scoped specifically to the IDE and how you&#39;re invoking your code within it."}, {"owner": {"reputation": 9, "user_id": 9076050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6863a5acdd84e77ec2139b296cb0faa?s=128&d=identicon&r=PG&f=1", "display_name": "rilla119", "link": "https://stackoverflow.com/users/9076050/rilla119"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1513200691, "post_id": 47802020, "comment_id": 82566162, "body": "@CharlesDuffy Thanks! It is a Spyder &quot;issue&quot; and my assumption is right. When I run my script <b>file</b> is working!"}], "owner": {"reputation": 9, "user_id": 9076050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6863a5acdd84e77ec2139b296cb0faa?s=128&d=identicon&r=PG&f=1", "display_name": "rilla119", "link": "https://stackoverflow.com/users/9076050/rilla119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "closed_date": 1513199153, "answer_count": 0, "score": 0, "last_activity_date": 1513198777, "creation_date": 1513198777, "question_id": 47802020, "link": "https://stackoverflow.com/questions/47802020/os-path-abspath-returns-c-user-which-is-false-file-is-not-defi", "closed_reason": "Duplicate", "title": "os.path.abspath(&quot;..&quot;) returns &quot;C://User//&quot; which is false + __file__ is not defined --&gt; execution from Spyder3 (Python 3.6)", "body": "<p>I want to develop a python application which is based on modularity. \nIt is my first python application, so I try to sum up my situation as detailled as possible:</p>\n\n<p>I am coding in Python for a few months. Now i am currently developing an application for statistics issues. Since I dont wan't to write my code into a single, endless .py-file , I intend to organize my application in single py files and related folders. So each py file is then related to a functionality which can be used by another .py file.</p>\n\n<p>To give an example for my <strong>application folder structure</strong>:<br></p>\n\n<p>My Directory structure is:</p>\n\n<pre><code>Notebook.ipynb\n__init__.py\n\nA/\n      function1.py\n      function2.py\n      function3.py\n      __init__.py\n\nB/\n      function4.py\n      function5.py\n      function6.py\n      __init__.py\n\nC/\n      imp.csv\n</code></pre>\n\n<p>The application shall be executed from the notebook.ipynb and uses the functions. E.g:</p>\n\n<pre><code>Notebook.ipynb\n     (uses) --&gt; function1.py\n          (uses) --&gt; function4.py\n               (imports) --&gt; imp.csv\n</code></pre>\n\n<p>I have searched for ways here to realize that:<br>\nI found out that i could import modules (.py files) into other .py files.\nRegarding to my example: function1.py would import function4.py from the sibling folder B. Due to the fact that the folder A and B are silbings, functionalities determining relative paths of a certain script would help me. But I got issues on using the most consulted ways of realizing that. I used:</p>\n\n<pre><code>__file__ \n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <p>throws the error \"name <strong>file</strong> is not defined\"</p>\n  </blockquote>\n</blockquote>\n\n<pre><code>os.path.abspath(\"..\") // \n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <p>returns \"C:/USERS\" which is definetly not the parentfolder of the script I executed (real path is much deeper than that; something like C:USERS/name/folder1/folder2/applicationfolder/folderA)</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>Remark:</strong> I didn't run the whole script but (for testing purposes) the single statements in Spyder3 (Python3.6). My assumption here is that the issues are related to the execution of single statements. </p>\n\n<h2>---</h2>\n\n<blockquote>\n  <p>My questions are: <br> <br></p>\n  \n  <ul>\n  <li>Am I correctly with my assumption?<br> <br></li>\n  <li>If yes: How do I test the import of a .py file?<br> <br></li>\n  <li>If no: what is the problem here?<br> <br> <br></li>\n  <li>Regarding the final application in the end. I need a statement that ensures that the relative path is given for the script where it is is\n  included and not the script which imports it and only uses its\n  containing functions. So regarding to my example again:   <br> When\n  Notebook.ipynb(uses)   --> function1.py<br> function1.py (uses)    -->\n  function4.py<br> function4.py (imports) --> 1.csv<br> <br>             I want\n  to make sure that although notebook is the callee of the whole\n  application, the statements in function1.py and function4.py are not\n  returning the folder of Notebook.ipynb at runtime.<br>  Because in the\n  end there would be issues to load the csv file from another folder than\n  function4.py.<br></li>\n  </ul>\n</blockquote>\n\n<p>MANY MANY THANKS IN ADVANCE!! :))</p>\n\n<p>PS: I am also open minded for other suggestions that would help and work to structure my application source code</p>\n"}, {"tags": ["python", "scikit-learn", "decision-tree"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1513217508, "post_id": 47801977, "comment_id": 82571283, "body": "Just change those string columns to numbers using LabelEncoder"}], "owner": {"reputation": 8497, "user_id": 174638, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/78c2734482d7e94c57c559f76ea33359?s=128&d=identicon&r=PG", "display_name": "matra", "link": "https://stackoverflow.com/users/174638/matra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558754542, "creation_date": 1513198577, "last_edit_date": 1558754542, "question_id": 47801977, "link": "https://stackoverflow.com/questions/47801977/scikit-learn-decisiontreeclassifier-multi-output-decisions-with-string-and-flo", "title": "Scikit-learn DecisionTreeClassifier - multi-output decisions with string and float columns", "body": "<p>I have a multi-output  problem that I'm trying to solve with <code>DecisionTreeClassifier</code>. </p>\n\n<p>My training set consist of set of books with different features. Based on this features,  I would like to predict two outputs for each book: category (drama, fantasy,  sci-fi) and number of pages for this book. Each book can belong only to one category.</p>\n\n<p>I'm using code similar to this</p>\n\n<pre><code>model = tree.DecisionTreeClassifier() \nmodel.fit(X_train,y_train)\n</code></pre>\n\n<p>where  y_train is a Dataframe with two columns - the first one is a string column (category) and the second one is a float column (number of pages). </p>\n\n<p>When running the code I'm getting the error listed bellow.</p>\n\n<p>If I omit one of the columns (single output problem), everything works OK.</p>\n\n<p>Based on the call stack, it looks like, that <code>DecissionTreeClassifier</code> tries to treat my problem as multi-label problem and fails when trying to sort labels for second columns (which contains floats).</p>\n\n<p>It there any other way to do this/format the input data, so that <code>DecisionTreeClassifier</code> (or any other classifier) would handle it. I can not use two independent classifiers (<code>DecisionTreeClassifier</code> and <code>DecisionTreeRegressor</code>), because two outputs are related (fantasy books tend to be longer).</p>\n\n<p>Ideally, I would like to use <code>model.predict_proba()</code> to get a probability for each category and number of pages for each category. Result should look something like this</p>\n\n<pre><code>[[0.9,0.1,0],[100,200,300]]\n</code></pre>\n\n<p>.. meaning 90% probability, that this is a drama book with 100 pages, 10% that this is a fantasy book with 200 pages....</p>\n\n<p>Call stack of the error:</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n&lt;ipython-input-54-c1b30fced85c&gt; in &lt;module&gt;()\n      1 model = tree.DecisionTreeClassifier(min_samples_leaf=50) # prej smo imeli 5\n----&gt; 2 model.fit(data,y_train)\n      3 #model.score(data,resitev)\n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\sklearn\\tree\\tree.py in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\n    737             sample_weight=sample_weight,\n    738             check_input=check_input,\n--&gt; 739             X_idx_sorted=X_idx_sorted)\n    740         return self\n    741 \n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\sklearn\\tree\\tree.py in fit(self, X, y, sample_weight, check_input, X_idx_sorted)\n    144 \n    145         if is_classification:\n--&gt; 146             check_classification_targets(y)\n    147             y = np.copy(y)\n    148 \n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\sklearn\\utils\\multiclass.py in check_classification_targets(y)\n    167     y : array-like\n    168     \"\"\"\n--&gt; 169     y_type = type_of_target(y)\n    170     if y_type not in ['binary', 'multiclass', 'multiclass-multioutput',\n    171             'multilabel-indicator', 'multilabel-sequences']:\n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\sklearn\\utils\\multiclass.py in type_of_target(y)\n    235                          'got %r' % y)\n    236 \n--&gt; 237     if is_multilabel(y):\n    238         return 'multilabel-indicator'\n    239 \n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\sklearn\\utils\\multiclass.py in is_multilabel(y)\n    151                  _is_integral_float(np.unique(y.data))))\n    152     else:\n--&gt; 153         labels = np.unique(y)\n    154 \n    155         return len(labels) &lt; 3 and (y.dtype.kind in 'biu' or  # bool, int, uint\n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\numpy\\lib\\arraysetops.py in unique(ar, return_index, return_inverse, return_counts, axis)\n    208     ar = np.asanyarray(ar)\n    209     if axis is None:\n--&gt; 210         return _unique1d(ar, return_index, return_inverse, return_counts)\n    211     if not (-ar.ndim &lt;= axis &lt; ar.ndim):\n    212         raise ValueError('Invalid axis kwarg specified for unique')\n\n~\\AppData\\local\\AmlWorkbench\\Python\\lib\\site-packages\\numpy\\lib\\arraysetops.py in _unique1d(ar, return_index, return_inverse, return_counts)\n    275         aux = ar[perm]\n    276     else:\n--&gt; 277         ar.sort()\n    278         aux = ar\n    279     flag = np.concatenate(([True], aux[1:] != aux[:-1]))\n\nTypeError: unorderable types: float() &lt; str()\n</code></pre>\n"}, {"tags": ["python", "excel"], "comments": [{"owner": {"reputation": 71821, "user_id": 57191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1186a46e65dbea4c8900d524c613f926?s=128&d=identicon&r=PG", "display_name": "cwallenpoole", "link": "https://stackoverflow.com/users/57191/cwallenpoole"}, "edited": false, "score": 0, "creation_date": 1513198584, "post_id": 47801945, "comment_id": 82565207, "body": "Best practice: Read docs. Try something. If that doesn&#39;t work, read docs. If you still don&#39;t get it, describe your goal and your attempts"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513198600, "post_id": 47801945, "comment_id": 82565213, "body": "What do you mean underscores? If you mean actual hyperlinks, Excel doesn&#39;t allow having more than one per cell."}, {"owner": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "edited": false, "score": 0, "creation_date": 1513198737, "post_id": 47801945, "comment_id": 82565287, "body": "Your &#39;url&#39; column lists images. That doesn&#39;t make sense. Are you sure it shouldn&#39;t be showing a web page url? Or at least a directory/folder?"}, {"owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "reply_to_user": {"reputation": 71821, "user_id": 57191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1186a46e65dbea4c8900d524c613f926?s=128&d=identicon&r=PG", "display_name": "cwallenpoole", "link": "https://stackoverflow.com/users/57191/cwallenpoole"}, "edited": false, "score": 0, "creation_date": 1513199028, "post_id": 47801945, "comment_id": 82565418, "body": "@cwallenpoole Thanks for your advice. I trying to make something, but don&#39;t get what I need."}, {"owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1513199252, "post_id": 47801945, "comment_id": 82565517, "body": "@zwer I mean symbol  &#39;<i>&#39;. Add in filename at url &#39;</i>&#39; with number of npictures, but if npictures = 1, return just url."}, {"owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "reply_to_user": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "edited": false, "score": 0, "creation_date": 1513199444, "post_id": 47801945, "comment_id": 82565618, "body": "@Gary02127 I&#39;m sure that in url column shows url of the file."}, {"owner": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "edited": false, "score": 0, "creation_date": 1513200645, "post_id": 47801945, "comment_id": 82566143, "body": "Okay. What&#39;s the relationship between &#39;url&#39; and &#39;pictures&#39;?"}, {"owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "reply_to_user": {"reputation": 3343, "user_id": 3159059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l1PGj.jpg?s=128&g=1", "display_name": "Gary02127", "link": "https://stackoverflow.com/users/3159059/gary02127"}, "edited": false, "score": 0, "creation_date": 1513592766, "post_id": 47801945, "comment_id": 82697728, "body": "@Gary02127 I have table with column &#39;npictures&#39; where the number of images by the column &#39;url&#39;. Name of the files different the number from &#39;npictures&#39; column."}], "answers": [{"tags": [], "owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "is_accepted": true, "score": 0, "last_activity_date": 1513199308, "creation_date": 1513199308, "answer_id": 47802133, "question_id": 47801945, "link": "https://stackoverflow.com/questions/47801945/python-generate-filename-by-column-value/47802133#47802133", "title": "Python: generate filename by column value", "body": "<p>You can transform one (filename, number) pair using this example program:</p>\n\n<pre><code>def f(filename, n):\n  res = filename\n  for i in range(2, n+1):\n    res += ' | ' + filename[:-4] + '_' + str(i) + '.jpg'\n  return res\n\nprint(f('test.com/img/abc.jpg', 3))\n# test.com/img/abc.jpg | test.com/img/abc_2.jpg | test.com/img/abc_3.jpg\n</code></pre>\n\n<p>If your data is a csv, the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">csv module</a> should help you to both read and write csv files in Python.</p>\n"}], "owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1513204044, "accepted_answer_id": 47802133, "answer_count": 1, "score": 0, "last_activity_date": 1513592267, "creation_date": 1513198429, "last_edit_date": 1513592267, "question_id": 47801945, "link": "https://stackoverflow.com/questions/47801945/python-generate-filename-by-column-value", "closed_reason": "Needs details or clarity", "title": "Python: generate filename by column value", "body": "<p>I have table with several thousand lines.\nI need to create a function what makes urls like in pictures column. \nIt takes npictures number, url and create new urls separate \"|\".</p>\n\n<pre>\n| npictures |         url          |                                pictures                                |\n|-----------|----------------------|------------------------------------------------------------------------|\n|         2 | test.com/img/abc.jpg | test.com/img/abc.jpg | test.com/img/abc_2.jpg                          |\n|         3 | test.com/img/def.jpg | test.com/img/def.jpg | test.com/img/def_2.jpg | test.com/img/def_3.jpg |\n|         1 | test.com/img/ghi.jpg | test.com/img/ghi.jpg                                                                    \n</pre>\n\n<p>If it possible to make in Excel or make a function in python.</p>\n"}, {"tags": ["python", "sparse-matrix"], "answers": [{"comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1513198785, "post_id": 47801984, "comment_id": 82565306, "body": "This could return zero elements-- try<code>A[0,0] = 0</code> before <code>A.data</code>.  You&#39;d need to add <code>A.eliminate_zeros()</code> first, I think."}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 1, "last_activity_date": 1513199033, "last_edit_date": 1513199033, "creation_date": 1513198621, "answer_id": 47801984, "question_id": 47801919, "link": "https://stackoverflow.com/questions/47801919/list-non-zero-elements-from-sparse-matrix-in-python/47801984#47801984", "title": "List non zero elements from sparse matrix in python", "body": "<p>Just use <code>A.data</code></p>\n\n<pre><code>In [16]: from scipy.sparse import csr_matrix\n\nIn [17]: A = csr_matrix([[1,0,0],[0,2,0]])\n\nIn [18]: A.data\nOut[18]: array([1, 2])\n</code></pre>\n\n<p>If the sparse matrix has been modified or to be safe, you should use: <code>A.eliminate_zeros()</code></p>\n\n<pre><code>In [19]: A[0,0] = 0\n\nIn [20]: A.data\nOut[20]: array([0, 2])\n\nIn [21]: A.eliminate_zeros()\n\nIn [22]: A.data\nOut[22]: array([2])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1764, "user_id": 710734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9fbebdc7bcaa51ff86b91a45196e156?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/710734/miguel"}, "edited": false, "score": 0, "creation_date": 1513198699, "post_id": 47801989, "comment_id": 82565263, "body": "How do I know if they are in canonical form?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1764, "user_id": 710734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9fbebdc7bcaa51ff86b91a45196e156?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/710734/miguel"}, "edited": false, "score": 0, "creation_date": 1513198945, "post_id": 47801989, "comment_id": 82565380, "body": "@Miguel: Usually, because of guarantees provided by the data source. For example, if you created the matrix yourself, you might know that you created it in a way that can&#39;t produce explicit zeros or duplicate entries."}, {"owner": {"reputation": 1764, "user_id": 710734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9fbebdc7bcaa51ff86b91a45196e156?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/710734/miguel"}, "edited": false, "score": 0, "creation_date": 1513199782, "post_id": 47801989, "comment_id": 82565752, "body": "Ok I&#39;m int that scenario where I create it myself. Thank you."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1513200044, "last_edit_date": 1513200044, "creation_date": 1513198639, "answer_id": 47801989, "question_id": 47801919, "link": "https://stackoverflow.com/questions/47801919/list-non-zero-elements-from-sparse-matrix-in-python/47801989#47801989", "title": "List non zero elements from sparse matrix in python", "body": "<p>For a CSR matrix in canonical form, access the data array directly:</p>\n\n<pre><code>A.data\n</code></pre>\n\n<p>but be aware that matrices not in canonical form may include explicit zeros or duplicate entries in their representation, which will need special handling. For example,</p>\n\n<pre><code># Merge duplicates and remove explicit zeros. Both operations modify A.\n# We sum duplicates first because they might sum to zero - for example,\n# if a 5 and a -5 are in the same spot, we have to sum them to 0 and then remove the 0.\nA.sum_duplicates()\nA.eliminate_zeros()\n\n# Now use A.data\ndo_whatever_with(A.data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513198706, "post_id": 47801998, "comment_id": 82565266, "body": "That&#39;s a regular NumPy array, not a SciPy CSR matrix."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513198972, "post_id": 47801998, "comment_id": 82565390, "body": "@user2357112 To be honest, I wasn&#39;t aware the question is specific to scipy. But shouldn&#39;t this still work, and also be more generally applicable?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1513199830, "post_id": 47801998, "comment_id": 82565773, "body": "It still works, but the array tests are misleading. The output type and structure are different with a <code>scipy.sparse.csr_matrix</code> - see how the result is a <code>numpy.matrix</code> rather than an ndarray. Also, the performance characteristics of sparse matrix indexing are very different from regular array indexing."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1513200065, "post_id": 47801998, "comment_id": 82565866, "body": "@user2357112 Thanks for pointing out, as I said, I wasn&#39;t aware of that. I&#39;ll still leave this here, as the question is not explicitly titled or tagged as <code>scipy</code> and others may still find this useful."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1513200086, "last_edit_date": 1513200086, "creation_date": 1513198664, "answer_id": 47801998, "question_id": 47801919, "link": "https://stackoverflow.com/questions/47801919/list-non-zero-elements-from-sparse-matrix-in-python/47801998#47801998", "title": "List non zero elements from sparse matrix in python", "body": "<p>You can use <code>A.nonzero()</code> to index into <code>A</code> directly:</p>\n\n<pre><code>In [19]: A = np.random.randint(0, 3, (3, 3))\n\nIn [20]: A\nOut[20]: \narray([[2, 1, 1],\n       [1, 2, 2],\n       [0, 1, 0]])\n\nIn [21]: A[A.nonzero()]\nOut[21]: array([2, 1, 1, 1, 2, 2, 1])\n</code></pre>\n\n<p>The result is the same as with your approach:</p>\n\n<pre><code>In [22]: edges_list = list([tuple(row) for row in np.transpose(A.nonzero())])\n\nIn [23]: [A[e] for e in edges_list]\nOut[23]: [2, 1, 1, 1, 2, 2, 1]\n</code></pre>\n\n<p>And obviously quite a bit faster (and more so if the matrix gets bigger):</p>\n\n<pre><code>In [25]: %timeit [A[e] for e in list([tuple(row) for row in np.transpose(A.nonzero())])]\n10000 loops, best of 3: 48 \u00b5s per loop\n\nIn [26]: %timeit A[A.nonzero()]\n100000 loops, best of 3: 10.7 \u00b5s per loop\n</code></pre>\n\n<p>Also works with <code>scipy</code> <code>csr_matrix</code>, although there are better methods for those, as shown in other answers:</p>\n\n<pre><code>In [30]: M = scipy.sparse.csr_matrix(A)\n\nIn [31]: M[M.nonzero()]\nOut[31]: matrix([[2, 1, 1, 1, 2, 2, 1]], dtype=int32)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 8966670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284198b4317957d2a615211653324968?s=128&d=identicon&r=PG&f=1", "display_name": "Rasmus", "link": "https://stackoverflow.com/users/8966670/rasmus"}, "is_accepted": false, "score": 0, "last_activity_date": 1513199199, "creation_date": 1513199199, "answer_id": 47802109, "question_id": 47801919, "link": "https://stackoverflow.com/questions/47801919/list-non-zero-elements-from-sparse-matrix-in-python/47802109#47802109", "title": "List non zero elements from sparse matrix in python", "body": "<p>You could use <code>scipy.sparse.find</code> like this:</p>\n\n<pre><code>&gt;&gt;&gt; from scipy.sparse import csr_matrix, find\n&gt;&gt;&gt; A = csr_matrix([[7.0, 8.0, 0],[0, 0, 9.0]])\n&gt;&gt;&gt; find(A)\n(array([0, 0, 1], dtype=int32), array([0, 1, 2], \ndtype=int32), array([ 7.,  8.,  9.]))\n</code></pre>\n\n<p><a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.find.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.find.html</a></p>\n"}], "owner": {"reputation": 1764, "user_id": 710734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c9fbebdc7bcaa51ff86b91a45196e156?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/710734/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3931, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1513200086, "creation_date": 1513198308, "question_id": 47801919, "link": "https://stackoverflow.com/questions/47801919/list-non-zero-elements-from-sparse-matrix-in-python", "title": "List non zero elements from sparse matrix in python", "body": "<p>How to list, in a simple and one line code (and fast!), all non zero elements of a <code>csr_matrix</code>?</p>\n\n<p>I'm using this code:</p>\n\n<pre><code>edges_list = list([tuple(row) for row in np.transpose(A.nonzero())])\nweight_list = [A[e] for e in edges_list]\n</code></pre>\n\n<p>but it is taking quite a long time to execute.</p>\n"}, {"tags": ["python", "database", "pandas", "csv"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 3768070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89a7c76f376c501c690f9f04b200f3d9?s=128&d=identicon&r=PG&f=1", "display_name": "user3768070", "link": "https://stackoverflow.com/users/3768070/user3768070"}, "edited": false, "score": 0, "creation_date": 1513198732, "post_id": 47801935, "comment_id": 82565284, "body": "WOW  my file name is go.csv can you share a code how to read it and then apply above process. sorry i am newbie"}, {"owner": {"reputation": 159, "user_id": 3768070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89a7c76f376c501c690f9f04b200f3d9?s=128&d=identicon&r=PG&f=1", "display_name": "user3768070", "link": "https://stackoverflow.com/users/3768070/user3768070"}, "edited": false, "score": 0, "creation_date": 1513200441, "post_id": 47801935, "comment_id": 82566038, "body": "Thanks it worked now if i want to retrieve only most frequent classes what i will add e.g most frequent is P1 and P2 only"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 159, "user_id": 3768070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89a7c76f376c501c690f9f04b200f3d9?s=128&d=identicon&r=PG&f=1", "display_name": "user3768070", "link": "https://stackoverflow.com/users/3768070/user3768070"}, "edited": false, "score": 0, "creation_date": 1513202798, "post_id": 47801935, "comment_id": 82567029, "body": "@user3768070 you can do value count : <code>value_counts</code>  Like    <code>df.set_index(&#39;id&#39;).stack().reset_index().groupby(0).id.apply&zwnj;&#8203;(list).astype(str).v&zwnj;&#8203;alue_counts()</code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1513198401, "creation_date": 1513198401, "answer_id": 47801935, "question_id": 47801886, "link": "https://stackoverflow.com/questions/47801886/extract-duplicate-values-from-all-the-column-of-csv-file-by-using-python/47801935#47801935", "title": "Extract duplicate values from all the column of csv file by using python", "body": "<p>Using <code>stack</code> with <code>groupby</code> </p>\n\n<pre><code>df.set_index('id').stack().reset_index().groupby(0).id.apply(list)\nOut[137]: \n0\na1    [P1, P4]\na2    [P1, P2]\na3        [P4]\na4    [P1, P2]\na5        [P3]\na6        [P2]\na7    [P2, P3]\nName: id, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 3768070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/89a7c76f376c501c690f9f04b200f3d9?s=128&d=identicon&r=PG&f=1", "display_name": "user3768070", "link": "https://stackoverflow.com/users/3768070/user3768070"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 47801935, "answer_count": 1, "score": 0, "last_activity_date": 1513199903, "creation_date": 1513198151, "last_edit_date": 1513199903, "question_id": 47801886, "link": "https://stackoverflow.com/questions/47801886/extract-duplicate-values-from-all-the-column-of-csv-file-by-using-python", "title": "Extract duplicate values from all the column of csv file by using python", "body": "<p>I have a csv file which have <strong>one unique column (id)</strong> and 7 other columns(C1) consists of classes that is related with the one unique column. Now i want to <strong>extract only duplicate data from 7 columns</strong> \nbut i actually need to code something like what output is.</p>\n\n<p>Example:  </p>\n\n<pre><code>**id C1   C2 C3 C4 C5 C6 C7**  \nP1   a1   a2    a4  \nP2   a2         a4    a6  a7  \nP3                 a5     a7  \nP4   a1         a3   \n</code></pre>\n\n<p><strong>output</strong>  </p>\n\n<pre><code>a1=&gt; P1, P4  \na2=&gt;P1, P2  \na3=&gt;P4  \na4=&gt;P1, P2  \na5=&gt;P3  \nand so on\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 546, "user_id": 8230441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e764f3d1008b7ef950e472710f720818?s=128&d=identicon&r=PG&f=1", "display_name": "F. Leone", "link": "https://stackoverflow.com/users/8230441/f-leone"}, "edited": false, "score": 1, "creation_date": 1513198187, "post_id": 47801851, "comment_id": 82565017, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3260599/how-to-do-multiple-imports-in-python\">How to do multiple imports in Python?</a>"}, {"owner": {"reputation": 67, "user_id": 4122552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7652423bb6618616e7b87758e597386a?s=128&d=identicon&r=PG", "display_name": "Gerald", "link": "https://stackoverflow.com/users/4122552/gerald"}, "reply_to_user": {"reputation": 546, "user_id": 8230441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e764f3d1008b7ef950e472710f720818?s=128&d=identicon&r=PG&f=1", "display_name": "F. Leone", "link": "https://stackoverflow.com/users/8230441/f-leone"}, "edited": false, "score": 0, "creation_date": 1513198751, "post_id": 47801851, "comment_id": 82565293, "body": "It&#39;s close, but it&#39;s ultimately not the same question. Though, had I seen it before I posted I might have been able to figure it out. However, because the problem is sufficiently different from my question, I feel like my question is valid and not duplicative."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4122552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7652423bb6618616e7b87758e597386a?s=128&d=identicon&r=PG", "display_name": "Gerald", "link": "https://stackoverflow.com/users/4122552/gerald"}, "edited": false, "score": 1, "creation_date": 1513198491, "post_id": 47801873, "comment_id": 82565166, "body": "Can I get a &#39;That was easy&#39; button?"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 3, "last_activity_date": 1513198096, "creation_date": 1513198096, "answer_id": 47801873, "question_id": 47801851, "link": "https://stackoverflow.com/questions/47801851/from-module-import-func1-func2-as-name1-name2/47801873#47801873", "title": "from module import func1, func2 as name1, name2", "body": "<p>You can import the attributes with aliases in one line:</p>\n\n<pre><code>from module import func1 as name1, func2 as name2\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4122552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7652423bb6618616e7b87758e597386a?s=128&d=identicon&r=PG", "display_name": "Gerald", "link": "https://stackoverflow.com/users/4122552/gerald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 47801873, "answer_count": 1, "score": 2, "last_activity_date": 1513198096, "creation_date": 1513198019, "question_id": 47801851, "link": "https://stackoverflow.com/questions/47801851/from-module-import-func1-func2-as-name1-name2", "title": "from module import func1, func2 as name1, name2", "body": "<p>Is there a nice way to do this without just listing each one on a separate line (like the working example below)?</p>\n\n<pre><code>from module import func1 as name1\nfrom module import func2 as name2\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib", "anaconda"], "answers": [{"tags": [], "owner": {"reputation": 5758, "user_id": 299000, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8c187233cc1bfb8f2213266a0ee4ee9?s=128&d=identicon&r=PG", "display_name": "Anake", "link": "https://stackoverflow.com/users/299000/anake"}, "is_accepted": false, "score": 0, "last_activity_date": 1513199549, "last_edit_date": 1513199549, "creation_date": 1513199224, "answer_id": 47802114, "question_id": 47801821, "link": "https://stackoverflow.com/questions/47801821/plotting-multiple-lines-in-one-graph-with-pandas-and-matplotlib-using-climate-d/47802114#47802114", "title": "Plotting multiple lines in one graph with pandas and matplotlib, using climate data", "body": "<p>You can do:</p>\n\n<pre><code>ax = None\nfor group in df.groupby(\"YEAR\"):\n    ax = group[1].plot(x=\"MONTH\", y=\"TAVG\", ax=ax)\n\nplt.show()\n</code></pre>\n\n<p>Each <code>plot()</code> returns the matplotlib Axes instance where it drew the plot. So by feeding that back in each time, you can repeatedly draw on the same set of axes.</p>\n\n<p>I don't think you can do that directly in the functional style as you have tried unfortunately.</p>\n"}, {"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 1, "last_activity_date": 1513201101, "creation_date": 1513201101, "answer_id": 47802502, "question_id": 47801821, "link": "https://stackoverflow.com/questions/47801821/plotting-multiple-lines-in-one-graph-with-pandas-and-matplotlib-using-climate-d/47802502#47802502", "title": "Plotting multiple lines in one graph with pandas and matplotlib, using climate data", "body": "<p>Very similar to the other answer (by Anake), but you can get control over legend here (the other answer, legends for all years will be \"TAVG\". I add a new year entries into your data just to show this.</p>\n\n<pre><code>avgs = '''\n          DATE  TAVG  MONTH  YEAR\n    0    1939-07  86.0  07     1939\n    1    1939-08  84.8  08     1939\n    2    1939-09  82.2  09     1939\n    3    1939-10  68.0  10     1939\n    4    1940-11  53.1  11     1940\n    5    1940-12  52.5  12     1940\n'''\n\n\nax = plt.subplot()\nfor key, group in avgs.groupby(\"YEAR\"):\n    ax.plot(group.MONTH, group.TAVG, label = key)\nax.set_xlabel('Month')\nax.set_ylabel('TAVG')\nplt.legend()\nplt.show()\n</code></pre>\n\n<p>will result in </p>\n\n<p><a href=\"https://i.stack.imgur.com/QxpTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxpTB.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3353208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513201101, "creation_date": 1513197879, "question_id": 47801821, "link": "https://stackoverflow.com/questions/47801821/plotting-multiple-lines-in-one-graph-with-pandas-and-matplotlib-using-climate-d", "title": "Plotting multiple lines in one graph with pandas and matplotlib, using climate data", "body": "<p>I'm trying to create a graph that shows whether or not average temperatures in my city are increasing. I'm using data provided by NOAA and have a DataFrame that looks like this:</p>\n\n<pre><code>            DATE  TAVG  MONTH  YEAR\n    0    1939-07  86.0  07     1939\n    1    1939-08  84.8  08     1939\n    2    1939-09  82.2  09     1939\n    3    1939-10  68.0  10     1939\n    4    1939-11  53.1  11     1939\n    5    1939-12  52.5  12     1939\n</code></pre>\n\n<p>This is saved in a variable called \"avgs\", and I then use groupby and plot functions like so:</p>\n\n<pre><code>    avgs.groupby([\"YEAR\"]).plot(kind='line',x='MONTH', y='TAVG')\n</code></pre>\n\n<p>This produces a line graph (see below for example) for each year that shows the average temperature for each month. That's great stuff, but I'd like to be able to put all of the yearly line graphs into one graph, for the purposes of visual comparison (to see if the monthly averages are increasing).</p>\n\n<p><a href=\"https://i.stack.imgur.com/RxIN7.png\" rel=\"nofollow noreferrer\">Example output</a></p>\n\n<p>I'm a total noob with matplotlib and pandas, so I don't know the best way to do this. Am I going wrong somewhere and just don't realize it? And if I'm on the right track, where should I go from here?</p>\n"}, {"tags": ["python", "selenium", "firefox", "web-scraping"], "comments": [{"owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "edited": false, "score": 0, "creation_date": 1513198731, "post_id": 47801788, "comment_id": 82565283, "body": "might be able to copy the cookies over? : <a href=\"https://stackoverflow.com/a/38812576/2026508\">stackoverflow.com/a/38812576/2026508</a>"}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1513201487, "post_id": 47801788, "comment_id": 82566471, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18150593/selenium-multiple-tabs-at-once\">Selenium multiple tabs at once</a>"}, {"owner": {"reputation": 623, "user_id": 7299245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2370b2102321fe7fc9d42e540bad7f71?s=128&d=identicon&r=PG&f=1", "display_name": "ozo", "link": "https://stackoverflow.com/users/7299245/ozo"}, "edited": false, "score": 0, "creation_date": 1513201539, "post_id": 47801788, "comment_id": 82566506, "body": "I think is not duplicate. The question is the 2013. Now firefox support multiprocess."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1513207552, "post_id": 47801788, "comment_id": 82568687, "body": "See: <a href=\"https://meta.stackoverflow.com/questions/253069/whats-the-appropriate-new-current-close-reason-for-how-do-i-do-x\">How do I do X?</a> The expectation on SO is that the user asking a question not only does research to answer their own question but also shares that research, code attempts, and results. This demonstrates that you\u2019ve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "is_accepted": false, "score": 0, "last_activity_date": 1513201440, "creation_date": 1513201440, "answer_id": 47802563, "question_id": 47801788, "link": "https://stackoverflow.com/questions/47801788/python-selenium-run-diferents-functions-in-differents-tabs-at-the-same-time/47802563#47802563", "title": "python selenium - Run diferents functions in differents tabs at the same time", "body": "<p>In short, no. In a single Selenium webdriver instance, you can only interact with a single window handle at any given time. <a href=\"https://stackoverflow.com/a/18150682/5747944\">This answer</a> has more related details you may find pertinent.</p>\n\n<p>With regard to running two different scripts on the same window in different tabs... it is (or at least was at some point in time) <em>technically</em> possible to do in at least Internet Explorer. Selenium maintainers decided that it would <a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/18#issuecomment-191402419\" rel=\"nofollow noreferrer\">not be feasible</a> to implement a general solution for this. While you may find a hack to do this, it almost certainly will be browser-specific and very fragile, therefore not recommended.</p>\n\n<p>Your best bet will be to just have two separate instances.</p>\n"}], "owner": {"reputation": 623, "user_id": 7299245, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2370b2102321fe7fc9d42e540bad7f71?s=128&d=identicon&r=PG&f=1", "display_name": "ozo", "link": "https://stackoverflow.com/users/7299245/ozo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1513201440, "creation_date": 1513197706, "last_edit_date": 1513198385, "question_id": 47801788, "link": "https://stackoverflow.com/questions/47801788/python-selenium-run-diferents-functions-in-differents-tabs-at-the-same-time", "title": "python selenium - Run diferents functions in differents tabs at the same time", "body": "<p>is it possible run functions in diferents tabs at the same time?(firefox)</p>\n\n<p>let me explain</p>\n\n<p>I am doing scraping...then I want to open a diferent tabs and to do scraping in these at the same time. </p>\n\n<p>I used to do it using different windows (the easy way). But now the web I scraped dont let me to be loggin in diferentes windows. but if it is in the same windows with multiple tabs I can be logged in everyone.</p>\n\n<p>or maybe there is other way: Is there a way to run two diferents script in the same windows?. For example, run the first script and later that the second script open a new tab in the windows opened for the first script? </p>\n\n<p>Thank you for the help.</p>\n"}, {"tags": ["python", "amazon-web-services", "ubuntu", "theano"], "comments": [{"owner": {"reputation": 2650, "user_id": 4786793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JauRI.jpg?s=128&g=1", "display_name": "Shubham Sharma", "link": "https://stackoverflow.com/users/4786793/shubham-sharma"}, "edited": false, "score": 0, "creation_date": 1518858138, "post_id": 47801775, "comment_id": 84683391, "body": "had you found any solutions ?\\"}], "answers": [{"comments": [{"owner": {"reputation": 1096, "user_id": 2436859, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac93344f8743c4577c1fe1bafdf2c905?s=128&d=identicon&r=PG", "display_name": "Taegost", "link": "https://stackoverflow.com/users/2436859/taegost"}, "edited": false, "score": 0, "creation_date": 1516715970, "post_id": 48402941, "comment_id": 83795282, "body": "I&#39;m not sure why this was downvoted.  I&#39;m not a Linux guy, and I know this was a rather brief answer, but nothing about it seems worth a downvote with no explanation..."}], "tags": [], "owner": {"reputation": 1, "user_id": 9256990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21128a3ffa3a6595d9ecdf77242e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "jordenhe", "link": "https://stackoverflow.com/users/9256990/jordenhe"}, "is_accepted": false, "score": -1, "last_activity_date": 1517071179, "last_edit_date": 1517071179, "creation_date": 1516714202, "answer_id": 48402941, "question_id": 47801775, "link": "https://stackoverflow.com/questions/47801775/python-theano-import-error-mkl-threading-layer-gnu/48402941#48402941", "title": "python: theano import error &quot;MKL_THREADING_LAYER=GNU&quot;", "body": "<p>Try this on the terminal to work it out:</p>\n\n<pre><code>cd;echo \"export MKL_THREADING_LAYER='GNU'\" &gt;&gt; .bashrc;\nsource .bashrc\n</code></pre>\n\n<p>If you are using Anaconda, restart it.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 9388802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc31d724f6d3a8153bba501240b637a6?s=128&d=identicon&r=PG&f=1", "display_name": "C.M", "link": "https://stackoverflow.com/users/9388802/c-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1519884948, "creation_date": 1519884948, "answer_id": 49043662, "question_id": 47801775, "link": "https://stackoverflow.com/questions/47801775/python-theano-import-error-mkl-threading-layer-gnu/49043662#49043662", "title": "python: theano import error &quot;MKL_THREADING_LAYER=GNU&quot;", "body": "<p>I was getting same error. I am using windows. To solve this I added system variable in Windows 10 as follows:</p>\n\n<p>Control Panel -> System &amp; security -> System -> Advanced system setting -> Environment Variable -> add new system variable with variable name = 'MKL_THREADING_LAYER' and variable value = 'GNU' \nand click 'OK'.</p>\n\n<p>I think in ubuntu you should make changes in .bashrc</p>\n"}], "owner": {"reputation": 2642, "user_id": 3604836, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/355f3f4168075d8905a304f7ca0a1cdc?s=128&d=identicon&r=PG&f=1", "display_name": "Trexion Kameha", "link": "https://stackoverflow.com/users/3604836/trexion-kameha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1519884948, "creation_date": 1513197660, "question_id": 47801775, "link": "https://stackoverflow.com/questions/47801775/python-theano-import-error-mkl-threading-layer-gnu", "title": "python: theano import error &quot;MKL_THREADING_LAYER=GNU&quot;", "body": "<p>When importing the theano package:</p>\n\n<pre><code>from theano import tensor, scalar\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>To use MKL 2018 with Theano you MUST set \"MKL_THREADING_LAYER=GNU\" in your environement.\n</code></pre>\n\n<p>So I looked up the details here:\n<a href=\"https://pypkg.com/pypi/theano/f/theano/configdefaults.py\" rel=\"nofollow noreferrer\">https://pypkg.com/pypi/theano/f/theano/configdefaults.py</a></p>\n\n<p>And then tried to isntall the mkl-service on anaconda:</p>\n\n<pre><code>conda install -c anaconda mkl-service\n</code></pre>\n\n<p>However, I am getting the same error.</p>\n\n<p>Any ideas? I am on an AWS ubuntu box running python in anaconda jupyter notebook.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "list", "function"], "comments": [{"owner": {"reputation": 555, "user_id": 2452678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgkAN.jpg?s=128&g=1", "display_name": "Michael McGarrah", "link": "https://stackoverflow.com/users/2452678/michael-mcgarrah"}, "edited": false, "score": 0, "creation_date": 1513197826, "post_id": 47801755, "comment_id": 82564851, "body": "This is to vague a question. You need to ask how to pass a list between python functions, then how to write a file out in python. Both of that are available as questions that you can look up. Writing a file can be as a pickle or a text file or other formats."}, {"owner": {"reputation": 345, "user_id": 2249155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4jbea.png?s=128&g=1", "display_name": "neophlegm", "link": "https://stackoverflow.com/users/2249155/neophlegm"}, "edited": false, "score": 0, "creation_date": 1513197930, "post_id": 47801755, "comment_id": 82564905, "body": "Would you not just import both relevant files into a single Python instance? So like (newlines as \\r) <code>from abcfile import ABC\\r from AnotherFile import OtherFunction \\r list = ABC() \\r OtherFunction(list)</code> ?"}, {"owner": {"reputation": 345, "user_id": 2249155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4jbea.png?s=128&g=1", "display_name": "neophlegm", "link": "https://stackoverflow.com/users/2249155/neophlegm"}, "edited": false, "score": 0, "creation_date": 1513198009, "post_id": 47801755, "comment_id": 82564939, "body": "Some more context <a href=\"https://en.wikibooks.org/wiki/A_Beginner%27s_Python_Tutorial/Importing_Modules\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 2452678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgkAN.jpg?s=128&g=1", "display_name": "Michael McGarrah", "link": "https://stackoverflow.com/users/2452678/michael-mcgarrah"}, "is_accepted": false, "score": 0, "last_activity_date": 1513198360, "creation_date": 1513198360, "answer_id": 47801925, "question_id": 47801755, "link": "https://stackoverflow.com/questions/47801755/use-list-gotten-by-a-function-into-other-function/47801925#47801925", "title": "Use list gotten by a function into other function", "body": "<p><a href=\"https://www.learnpython.org/en/Functions\" rel=\"nofollow noreferrer\">https://www.learnpython.org/en/Functions</a> has a very good section on how to use functions and the following sections on classes, objects and modules are worth reviewing.</p>\n\n<p>Write a file: \n<a href=\"https://stackoverflow.com/questions/18984092\">Python 2.7 : Write to file instantly</a></p>\n\n<p>Passing args vs list: \n<a href=\"https://stackoverflow.com/questions/2855500\">Advantages of using *args in python instead of passing a list as a parameter</a></p>\n\n<p>That gives you a starting point for learning Python and solving your immediate problem.</p>\n"}], "owner": {"reputation": 53, "user_id": 9052925, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/34662d60cdef60c772332545b7ea1861?s=128&d=identicon&r=PG&f=1", "display_name": "Slifez", "link": "https://stackoverflow.com/users/9052925/slifez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1513198360, "creation_date": 1513197588, "question_id": 47801755, "link": "https://stackoverflow.com/questions/47801755/use-list-gotten-by-a-function-into-other-function", "title": "Use list gotten by a function into other function", "body": "<p>So, I have function ABC in a certain .py file that returns a list. And in ANOTHER .py FILE, i have another function where I'm supposed to write into an empty file (that function will return that new file). I want to write into that new empty file my list gotten with the function ABC. How am I supposed to do that?</p>\n\n<p>Obs - sorry for not posting any code but I really have no ideas about how to do this, besides that I've found nothing in another questions similars to this.</p>\n"}, {"tags": ["python", "excel", "xlrd"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 1, "creation_date": 1515539974, "post_id": 47801684, "comment_id": 83336308, "body": "I don&#39;t think <code>os.path.getmtime</code> gives you the same thing as <code>Workbook.properties.modified</code>. You can test this for yourself simply by examining some Excel files using both methods. To create greater separation between the date in the file system and the date in the workbook, save a workbook without changing its contents. Unfortunately, xlrd is not likely to gain any new capabilities, especially when it comes to the older .xls files. So unless you are prepared to research the guts of the BIFF format yourself, the file system date is your best bet. It&#39;s probably better than nothing."}, {"owner": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "reply_to_user": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1515560201, "post_id": 47801684, "comment_id": 83340995, "body": "I would settle for the file system date, but don&#39;t know how to get it for a file object. Is it possible?"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 1, "creation_date": 1515599493, "post_id": 47801684, "comment_id": 83362654, "body": "By &quot;file system date&quot; I just meant your own proposal to use <code>os.path.getmtime</code>. But now I am realizing what you mean is that you might not know the path to any actual file system file, so then the problem becomes how to get that path. If your function truly accepts arbitrary &quot;file objects&quot;, then it&#39;s possible there&#39;s no path at all (the bytes may only exist in memory and not anywhere in the file system). In that case, maybe you have no choice but to just use the system time at the moment you receive the data."}, {"owner": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "reply_to_user": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1515600582, "post_id": 47801684, "comment_id": 83363438, "body": "@JohnY :That&#39;s what I&#39;m doing now! :) Based on your last remark I feel better about it!"}], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "edited": false, "score": 0, "creation_date": 1606517444, "post_id": 64975640, "comment_id": 114993170, "body": "Thank you for contributing! Did you verify this for a .xls file, or only for a .xlsx file? I am not able to successfully use this solution in the first case."}, {"owner": {"reputation": 21, "user_id": 14694647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c8d039f550e692a4f178c78e4bab3dd?s=128&d=identicon&r=PG&f=1", "display_name": "Muminpappa", "link": "https://stackoverflow.com/users/14694647/muminpappa"}, "reply_to_user": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "edited": false, "score": 0, "creation_date": 1606678336, "post_id": 64975640, "comment_id": 115027092, "body": "I had tested with .xlsx. Now I just tried with an .xls file, and wb.props is not there. Sorry :-("}, {"owner": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "edited": false, "score": 0, "creation_date": 1606687012, "post_id": 64975640, "comment_id": 115029584, "body": "No worries. Better luck next time!"}], "tags": [], "owner": {"reputation": 21, "user_id": 14694647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c8d039f550e692a4f178c78e4bab3dd?s=128&d=identicon&r=PG&f=1", "display_name": "Muminpappa", "link": "https://stackoverflow.com/users/14694647/muminpappa"}, "is_accepted": false, "score": 2, "last_activity_date": 1606162069, "creation_date": 1606162069, "answer_id": 64975640, "question_id": 47801684, "link": "https://stackoverflow.com/questions/47801684/how-to-get-the-modified-date-of-an-xls-file-using-xlrd/64975640#64975640", "title": "How to get the modified date of an .xls file using xlrd", "body": "<p>I just came across your post while searching for a solution myself. Seems like</p>\n<pre><code>wb = xlrd.open_workbook(filename=fn)\nwb.props.get('modified')\n</code></pre>\n<p>does the job.</p>\n<p>xlrd==1.2.0</p>\n"}], "owner": {"reputation": 494, "user_id": 3958843, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6ODBS.jpg?s=128&g=1", "display_name": "Fredrik", "link": "https://stackoverflow.com/users/3958843/fredrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1606162069, "creation_date": 1513197259, "last_edit_date": 1515103251, "question_id": 47801684, "link": "https://stackoverflow.com/questions/47801684/how-to-get-the-modified-date-of-an-xls-file-using-xlrd", "title": "How to get the modified date of an .xls file using xlrd", "body": "<p>Let me try to improve this question, as it is still valid for me.</p>\n\n<p>I have been using Openpyxl to read Excel files for a while. Now I need to extend the capability of my script to handle \"legacy\" Excel files that are not supported by Openpyxl. For this I use xlrd and xlutils.</p>\n\n<p>On issue I have yet to solve is how to get the modified date of an .xls file in the case where I don't have the path. Using Openpyxl, I can get this as Workbook.properties.modified, as a datetime object. With xlrd I am struggling. A workaround would be to figure out the path to the file (which may be input to my function as a file like object) and to use <code>os.path.getmtime</code>, but I am not sure if that is equivalent.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1513196998, "post_id": 47801604, "comment_id": 82564451, "body": "<code>df.sum(1)</code> you need add on row level."}, {"owner": {"reputation": 1997, "user_id": 7836530, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f11697069f27f74c1f2af72df755ef95?s=128&d=identicon&r=PG&f=1", "display_name": "JamesHudson81", "link": "https://stackoverflow.com/users/7836530/jameshudson81"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1513197075, "post_id": 47801604, "comment_id": 82564504, "body": "@Wen thnks for your input! but i would like to sum from <code>loc.[&#39;B&#39;]</code> 1 along the row"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1513197138, "post_id": 47801604, "comment_id": 82564528, "body": "Did you try with <code>axis=1</code>?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1513197158, "post_id": 47801604, "comment_id": 82564545, "body": "Ok, Your column one is str, so it will not count in sum, you can just do df.sum(1)"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1513197598, "post_id": 47801604, "comment_id": 82564762, "body": "The only thing wrong in your approach is the axis. If you pass <code>axis=0</code> it will take the sum for each column. Since this cannot be aligned with row labels, it will give NaNs. Just change the axis parameter. A label friendly way is <code>df.loc[:, &#39;B&#39;:].sum(axis=1)</code>"}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1513205603, "post_id": 47801604, "comment_id": 82568077, "body": "@ayhan: Might be nice if you added your solution as an answer so that people quickly find it :)"}], "answers": [{"tags": [], "owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "is_accepted": true, "score": 2, "last_activity_date": 1513205559, "last_edit_date": 1513205559, "creation_date": 1513204619, "answer_id": 47803153, "question_id": 47801604, "link": "https://stackoverflow.com/questions/47801604/adding-certain-columns-from-dataframe/47803153#47803153", "title": "Adding certain columns from dataframe", "body": "<p>As pointed out in the comments, you apply <code>sum</code> on the wrong axis. If you want to exclude columns from the sum, you can use <code>drop</code> (which also accepts a list of column names which might be handy if you want to exclude columns at e.g. index 0 and 3; then <code>iloc</code> might not be ideal)</p>\n\n<pre><code>df.drop('A', axis=1).sum(axis=1)\n</code></pre>\n\n<p>which yields</p>\n\n<pre><code>J    10\nK    11\nL    22\n</code></pre>\n\n<p>Also @ayhan's solution in the comments works fine.</p>\n"}], "owner": {"reputation": 1997, "user_id": 7836530, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f11697069f27f74c1f2af72df755ef95?s=128&d=identicon&r=PG&f=1", "display_name": "JamesHudson81", "link": "https://stackoverflow.com/users/7836530/jameshudson81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47803153, "answer_count": 1, "score": 1, "last_activity_date": 1513237682, "creation_date": 1513196877, "last_edit_date": 1513237682, "question_id": 47801604, "link": "https://stackoverflow.com/questions/47801604/adding-certain-columns-from-dataframe", "title": "Adding certain columns from dataframe", "body": "<p>I have the following dataframe <code>df</code>:</p>\n\n<pre><code>    A  B  C  D  E\n\nJ   4  2  3  2  3\nK   5  2  6  2  1\nL   2  6  5  4  7\n</code></pre>\n\n<p>I would like to create an additional column that adds by index the <code>df</code> except column <code>A</code>  (which also are numbers), therefore what I have tried is :</p>\n\n<pre><code>df['summation'] = df.iloc[:, 1:4].sum(axis=0)\n</code></pre>\n\n<p>However, the column <code>summation</code> is added but gives <code>NaN</code> values.</p>\n\n<p>Desired output is: </p>\n\n<pre><code>    A  B  C  D  E  summation\n\nJ   4  2  3  2  3    10\nK   5  2  6  2  1    11\nL   2  6  5  4  7    22\n</code></pre>\n\n<p>The sum along the row starting at <code>B</code> to the end.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1513196813, "post_id": 47801565, "comment_id": 82564361, "body": "I think you need to make a copy of the row: <code>gPlan.append(row[:])</code>"}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 3, "creation_date": 1513196825, "post_id": 47801565, "comment_id": 82564368, "body": "I&#39;m sure there&#39;s a duplicate of this somewhere, but you&#39;re appending the same <code>row</code> in <code>gPlan</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1513197480, "post_id": 47801565, "comment_id": 82564699, "body": "I don&#39;t think those are good targets, the issue there is <code>[[]]*n</code>, whereas here it&#39;s not the <code>*</code> operator..."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 3, "last_activity_date": 1513197441, "last_edit_date": 1513197441, "creation_date": 1513196915, "answer_id": 47801614, "question_id": 47801565, "link": "https://stackoverflow.com/questions/47801565/changing-the-nth-element-of-a-list-in-a-list-changes-the-nth-element-of-all-list/47801614#47801614", "title": "Changing the nth element of a list in a list changes the nth element of all lists in the list", "body": "<p>The crucial thing to understand is that <code>list</code> objects <strong>do not have rows and columns</strong>. List objects are ordered, heterogeneous sequences of objects. When you do:</p>\n\n<pre><code>def createGamePlan(size, sign): \n    gPlan = []\n    row = [sign]*size\n    for i in range(size):\n      gPlan.append(row) # appends the SAME object\n    return gPlan\n</code></pre>\n\n<p>So, consider the following:</p>\n\n<pre><code>&gt;&gt;&gt; a = ['foo']\n&gt;&gt;&gt; bar = []\n&gt;&gt;&gt; for _ in range(4):\n...     bar.append(a)\n...\n&gt;&gt;&gt; [id(x) for x in bar]\n[4534044744, 4534044744, 4534044744, 4534044744]\n</code></pre>\n\n<p>The objects are all the same!</p>\n\n<pre><code>&gt;&gt;&gt; bar[0].append('baz')\n&gt;&gt;&gt; bar\n[['foo', 'baz'], ['foo', 'baz'], ['foo', 'baz'], ['foo', 'baz']]\n</code></pre>\n\n<p>You create a list that contains <em>the same object</em> many times. A solution? Append a <em>copy</em>. </p>\n\n<pre><code>def createGamePlan(size, sign): \n    gPlan = []\n    row = [sign]*size\n    for i in range(size):\n      gPlan.append(row.copy()) # appends a NEW object\n    return gPlan\n</code></pre>\n\n<p>Be careful, though, because <code>.copy</code> only makes a <em>shallow</em> copy. Consider:</p>\n\n<pre><code>&gt;&gt;&gt; row = [['foo'], ['bar']]\n&gt;&gt;&gt; grid = []\n&gt;&gt;&gt; for _ in range(5):\n...     grid.append(row.copy())\n...\n&gt;&gt;&gt; grid\n[[['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']]]\n</code></pre>\n\n<p>OK, swell! these are all independant objects!:</p>\n\n<pre><code>&gt;&gt;&gt; [id(x) for x in grid]\n[4534044616, 4534135432, 4534135560, 4534135176, 4534135688]\n</code></pre>\n\n<p>So... this should work fine, no?</p>\n\n<pre><code>&gt;&gt;&gt; grid[0][0].append('baz')\n&gt;&gt;&gt; grid\n[[['foo', 'baz'], ['bar']], [['foo', 'baz'], ['bar']], [['foo', 'baz'], ['bar']], [['foo', 'baz'], ['bar']], [['foo', 'baz'], ['bar']]]\n</code></pre>\n\n<p>What's going on? Well, a shallow copy created <em>new lists</em>, but not new <em>sublists</em>, i.e., it didn't copy any elements contained in the elements:</p>\n\n<pre><code>&gt;&gt;&gt; [id(x) for row in grid for x in row]\n[4534135048, 4534135112, 4534135048, 4534135112, 4534135048, 4534135112, 4534135048, 4534135112, 4534135048, 4534135112]\n&gt;&gt;&gt;\n</code></pre>\n\n<p>For that, you want a <em>deepcopy</em>:</p>\n\n<pre><code>&gt;&gt;&gt; import copy\n&gt;&gt;&gt; row = [['foo'], ['bar']]\n&gt;&gt;&gt; grid = []\n&gt;&gt;&gt; for _ in range(5):\n...     grid.append(copy.deepcopy(row))\n...\n&gt;&gt;&gt; grid\n[[['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']]]\n&gt;&gt;&gt; [id(x) for row in grid for x in row]\n[4534135432, 4534135368, 4534135176, 4534135880, 4534136328, 4534161928, 4534135112, 4534162120, 4534162248, 4534162184]\n&gt;&gt;&gt; grid[0][0].append('baz')\n&gt;&gt;&gt; grid\n[[['foo', 'baz'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']], [['foo'], ['bar']]]\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 7962564, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1df551dc27a5b7909948b7f4fc3caa42?s=128&d=identicon&r=PG&f=1", "display_name": "da1g", "link": "https://stackoverflow.com/users/7962564/da1g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "closed_date": 1513197770, "accepted_answer_id": 47801614, "answer_count": 1, "score": 0, "last_activity_date": 1513197441, "creation_date": 1513196703, "question_id": 47801565, "link": "https://stackoverflow.com/questions/47801565/changing-the-nth-element-of-a-list-in-a-list-changes-the-nth-element-of-all-list", "closed_reason": "Duplicate", "title": "Changing the nth element of a list in a list changes the nth element of all lists in the list", "body": "<p>I have a tictactoe program that first creates a gameplan where each row is a list containing an empty filler sign, which means the square is empty.</p>\n\n<pre><code>def createGamePlan(size, sign): \n    gPlan = []\n    row = [sign]*size\n    for i in range(size):\n      gPlan.append(row)\n    return gPlan\n</code></pre>\n\n<p>With a users choice of row and column I wish to update the sign of that specific element. So if i want to update the 1st column of the 2nd row to an \"X\" I would have</p>\n\n<pre><code>def updateGamePlan(row, col, gamePlan, sign):\n    gamePlan[1][0] = \"X\"\n</code></pre>\n\n<p>This however changes the 1st column of <strong>every single row</strong> and I cant figure out why. I specify that its the 2nd row (1-th element of the gamePlan list, and the 0-th element of that inner list i.e the 1st column). Can someone point out what goes wrong and how I can, in the example above, only make it change the 1st column of the 2nd row, and not every row</p>\n"}, {"tags": ["python", "python-3.x", "pypdf2"], "comments": [{"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 1, "creation_date": 1513198214, "post_id": 47801564, "comment_id": 82565034, "body": "Make a stream object out of your bytes with <a href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" rel=\"nofollow noreferrer\"><code>io</code></a> and pass the stream to <code>PyPDF2.PdfFileReader</code>. Essentially: <code>import io, PyPDF2; PyPDF2.PdfFileReader(io.BytesIO(b&quot;your pdf bytes&quot;))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 2, "last_activity_date": 1513207824, "last_edit_date": 1513207824, "creation_date": 1513198276, "answer_id": 47801913, "question_id": 47801564, "link": "https://stackoverflow.com/questions/47801564/is-it-possible-to-input-pdf-bytes-straight-into-pypdf2-instead-of-making-a-pdf-f/47801913#47801913", "title": "Is it possible to input pdf bytes straight into PyPDF2 instead of making a PDF file first", "body": "<p><a href=\"https://pythonhosted.org/PyPDF2/PdfFileReader.html#PyPDF2.PdfFileReader\" rel=\"nofollow noreferrer\"><code>PyPDF2.PdfFileReader()</code></a> defines its first parameter as:</p>\n\n<blockquote>\n  <p><strong>stream</strong> \u2013 A File object or an object that supports the standard read and seek methods similar to a File object. Could also be a string representing a path to a PDF file.</p>\n</blockquote>\n\n<p>So you can pass any data to it as long as it can be accessed as a file-like stream. A perfect candidate for that is <a href=\"https://docs.python.org/3/library/io.html#io.BytesIO\" rel=\"nofollow noreferrer\"><code>io.BytesIO()</code></a>. Write your received <em>raw bytes</em> to it, then seek back to <code>0</code>, pass the object to <a href=\"https://pythonhosted.org/PyPDF2/PdfFileReader.html#PyPDF2.PdfFileReader\" rel=\"nofollow noreferrer\"><code>PyPDF2.PdfFileReader()</code></a> and you're done.</p>\n"}], "owner": {"reputation": 301, "user_id": 7120561, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5d6def60895e04369d4bb4650b092173?s=128&d=identicon&r=PG&f=1", "display_name": "TheSadPrinter", "link": "https://stackoverflow.com/users/7120561/thesadprinter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3563, "favorite_count": 0, "accepted_answer_id": 47801913, "answer_count": 1, "score": 2, "last_activity_date": 1513207824, "creation_date": 1513196702, "last_edit_date": 1513197105, "question_id": 47801564, "link": "https://stackoverflow.com/questions/47801564/is-it-possible-to-input-pdf-bytes-straight-into-pypdf2-instead-of-making-a-pdf-f", "title": "Is it possible to input pdf bytes straight into PyPDF2 instead of making a PDF file first", "body": "<p>I am using Linux; printing raw to port 9100 returns a \"bytes\" type. I was wondering if it is possible to go from this straight into PyPDF2, rather than make a pdf file first and using method PdfFileReader?</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1513196799, "post_id": 47801548, "comment_id": 82564353, "body": "Using <code>isin</code> df2.loc[df2.bb.isin(df1.bb),:]"}, {"owner": {"reputation": 81, "user_id": 8395936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7b1b8c575e264a888a2162e9390465?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Calkins", "link": "https://stackoverflow.com/users/8395936/chase-calkins"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1513197523, "post_id": 47801548, "comment_id": 82564724, "body": "Thanks for the help.with the <code>isin</code>. I believe you typed an extra b in their, so it wound up being <code>df2.loc[df2.bb.isin(df1.b),:]</code>. Appreciate the help."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1513197556, "post_id": 47801548, "comment_id": 82564741, "body": "Yes, that is typo , :-) Yw, happy coding"}], "owner": {"reputation": 81, "user_id": 8395936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7b1b8c575e264a888a2162e9390465?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Calkins", "link": "https://stackoverflow.com/users/8395936/chase-calkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513196628, "creation_date": 1513196628, "question_id": 47801548, "link": "https://stackoverflow.com/questions/47801548/use-values-from-one-dataframe-to-keep-values-from-another-dataframe", "title": "Use values from one DataFrame to keep values from another DataFrame", "body": "<p>I have created two dataframes, lets call them, <code>df1</code> <code>df2</code> where </p>\n\n<pre><code>print(df1)\n                a                  b\n1        0.375241                1.0\n2             NaN                2.0\n3        0.448792                3.0\n4             NaN                4.0\n\ndf1 = df1[np.isfinite(df1['a'])]\nprint(df1)\n                a                  b\n1        0.375241                1.0\n3        0.448792                3.0\n\n\nprint(df2)\n          aa           bb\n1   0.047606          1.0\n2   0.202927          1.0\n3   0.205663          1.0\n4        NaN          1.0\n5   1.388080          1.0\n6   0.097084          1.0\n7   0.136873          1.0 \n8        NaN          1.0\n9        NaN          1.0\n10       NaN          1.0\n12  0.084676          2.0\n13  0.236850          2.0\n14  0.532835          2.0\n15       NaN          2.0\n16       NaN          2.0\n17  0.035106          2.0\n18       NaN          2.0\n19       NaN          2.0\n20       NaN          2.0\n22  0.419956          3.0\n23  0.267132          3.0\n24  0.944217          3.0\n25  0.403024          3.0\n26       NaN          3.0\n27  0.184425          3.0\n28  0.473998          3.0\n29       NaN          3.0\n30       NaN          3.0\n31       NaN          3.0\n33  0.465454          4.0\n34  0.240867          4.0\n35       NaN          4.0\n36       NaN          4.0\n37  0.323195          4.0\n38  0.193764          4.0\n39       NaN          4.0\n40       NaN          4.0\n41       NaN          4.0\n42       NaN          4.0\n</code></pre>\n\n<p>based on the results from <code>df1['b']</code> where I only have 1 &amp; 3 as valid numbers now, how would I go about keeping <code>df2['bb']</code> 1 &amp; 3, and setting all other values in <code>df2</code> to np.nan so that this would be the final product</p>\n\n<pre><code>df2 = df2[np.isfinite(df2['aa'])]\nprint(df2)\n          aa           bb\n1   0.047606          1.0\n2   0.202927          1.0\n3   0.205663          1.0\n5   1.388080          1.0\n6   0.097084          1.0\n7   0.136873          1.0 \n22  0.419956          3.0\n23  0.267132          3.0\n24  0.944217          3.0\n25  0.403024          3.0\n27  0.184425          3.0\n28  0.473998          3.0\n</code></pre>\n"}, {"tags": ["python", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 2675, "user_id": 2433063, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/uU1mK.jpg?s=128&g=1", "display_name": "Ricky Wilson", "link": "https://stackoverflow.com/users/2433063/ricky-wilson"}, "edited": false, "score": 0, "creation_date": 1513197459, "post_id": 47801694, "comment_id": 82564689, "body": "As I said I can&#39;t use bs4 or any other third party module"}], "tags": [], "owner": {"reputation": 2790, "user_id": 2286597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/013c320496bb12a3f08430d8d4b8e60c?s=128&d=identicon&r=PG", "display_name": "Philipp_Kats", "link": "https://stackoverflow.com/users/2286597/philipp-kats"}, "is_accepted": false, "score": -2, "last_activity_date": 1513197306, "creation_date": 1513197306, "answer_id": 47801694, "question_id": 47801519, "link": "https://stackoverflow.com/questions/47801519/can-xml-minidom-parse-broken-xml/47801694#47801694", "title": "Can xml.minidom parse broken XML", "body": "<p>if you need to handle broken html/xml, I recommend you to ckech Beautiful Soup 4</p>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1513197669, "creation_date": 1513197669, "answer_id": 47801778, "question_id": 47801519, "link": "https://stackoverflow.com/questions/47801519/can-xml-minidom-parse-broken-xml/47801778#47801778", "title": "Can xml.minidom parse broken XML", "body": "<p>Assuming that not being able to use third-party modules is justified, you have a better chance with  <a href=\"https://docs.python.org/3/library/html.parser.html\" rel=\"nofollow noreferrer\"><code>html.parser</code></a>, which should give you a more low-level control over the parsing process.</p>\n\n<p><code>xml.dom.minidom</code>, I am afraid, generally, is not going to be able to parse a broken document.</p>\n"}], "owner": {"reputation": 2675, "user_id": 2433063, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/uU1mK.jpg?s=128&g=1", "display_name": "Ricky Wilson", "link": "https://stackoverflow.com/users/2433063/ricky-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513201788, "creation_date": 1513196515, "last_edit_date": 1513201788, "question_id": 47801519, "link": "https://stackoverflow.com/questions/47801519/can-xml-minidom-parse-broken-xml", "title": "Can xml.minidom parse broken XML", "body": "<p><strong>Note</strong>:\nI can't use third party modules so bs4 and lxml are not an option.<br></p>\n\n<p>I need to parse HTML with the \nPython 3 std lib. I thought xml.minidom would be the way to go but it doesn't seem to be able to parse invalid XML/HTML without throwing an exception like syntax error.<br><br>\nAm I missing something within the xml module that can do what I'm looking for?<br>\n<br>\nAm I missing something in the std lib?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1513258386, "post_id": 47801503, "comment_id": 82590562, "body": "I think you have one extra <code>)</code> in the last line"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1513258585, "post_id": 47801503, "comment_id": 82590714, "body": "Note how in the first two invocations you are only passing a single string to <code>sing</code>. Maybe those should also be <code>sing(str(i), &quot;of...&quot;)</code>?"}], "owner": {"reputation": 11, "user_id": 9080970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e22e0c68bdcc42a93fd4ddfcc8e0514b?s=128&d=identicon&r=PG&f=1", "display_name": "Daddy ChooChoo", "link": "https://stackoverflow.com/users/9080970/daddy-choochoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513258337, "creation_date": 1513196431, "last_edit_date": 1513258337, "question_id": 47801503, "link": "https://stackoverflow.com/questions/47801503/typeerror-sing-missing-1-required-positional-argument-end", "title": "TypeError: sing() missing 1 required positional argument: &#39;end&#39;", "body": "<p>once again, I'm struggling with a bit of my code, ive got an error : <strong>TypeError: sing() missing 1 required positional argument: 'end'</strong> </p>\n\n<p>As I'm new to all this coding and I'm still trying to work out how to do everything, I'm a bit confused on how to solve it. I'd ask my teacher, however we're not seeing him until Monday, and that's when the code is due to be finished.</p>\n\n<pre><code>#this program is going to be playing the 99 bottles of (something) on the wall\n    #it will give you a choice on what you can have inside the bottle\n    #e.g soda, coke, lemonade, beer, wine, ect\nuser_input = input(\"What would you like inside your bottle?\")\nprint(user_input)\ndef sing(b, end):\n    print(b or 'No more','bottle'+('s' if b-1 else ''), end)\nfor i in range(99, 0, -1):\n    sing(str(i) + 'of' + user_input + 'on the wall,')\n    sing(str(i) + ', of'+ user_input +',')\n    print('Take one down, pass it around,')\n    sing(str(i-1), 'of' + user_input + 'on the wall.\\n'))\n</code></pre>\n"}, {"tags": ["python", "django", "python-3.x", "django-models", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 785, "user_id": 8618995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1423021301146502/picture?type=large", "display_name": "Hashir Sarwar", "link": "https://stackoverflow.com/users/8618995/hashir-sarwar"}, "edited": false, "score": 0, "creation_date": 1513199595, "post_id": 47801712, "comment_id": 82565680, "body": "from django.contrib.auth.view import LoginView I added this line but I am getting an error"}, {"owner": {"reputation": 785, "user_id": 8618995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1423021301146502/picture?type=large", "display_name": "Hashir Sarwar", "link": "https://stackoverflow.com/users/8618995/hashir-sarwar"}, "edited": false, "score": 0, "creation_date": 1513199705, "post_id": 47801712, "comment_id": 82565728, "body": "No module named &#39;django.contrib.auth.view&#39;"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 785, "user_id": 8618995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1423021301146502/picture?type=large", "display_name": "Hashir Sarwar", "link": "https://stackoverflow.com/users/8618995/hashir-sarwar"}, "edited": false, "score": 0, "creation_date": 1513199774, "post_id": 47801712, "comment_id": 82565749, "body": "That&#39;s because it&#39;s view<b>s</b>, not views."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 7, "last_activity_date": 1513197823, "last_edit_date": 1513197823, "creation_date": 1513197400, "answer_id": 47801712, "question_id": 47801453, "link": "https://stackoverflow.com/questions/47801453/getting-this-error-in-django-login-missing-1-required-positional-argument-u/47801712#47801712", "title": "Getting this error in django &quot;login() missing 1 required positional argument: &#39;user&#39; &quot;", "body": "<p>You\u2019ve got the import wrong. You need to import the <code>login</code> view:</p>\n\n<pre><code>from django.contrib.auth.views import login\n</code></pre>\n\n<p>At the moment you have imported the <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/default/#django.contrib.auth.login\" rel=\"noreferrer\"><code>login</code></a> function that actually logs the user in.</p>\n\n<p>The <code>login</code> view you are using is deprecated in Django 1.11. You can switch to the new class-based <a href=\"https://docs.djangoproject.com/en/1.11/topics/auth/default/#django.contrib.auth.views.LoginView\" rel=\"noreferrer\"><code>LoginView</code></a>:</p>\n\n<pre><code>from django.contrib.auth.views import LoginView\n\nurl(r'^login/$', LoginView.as_view(), name='login'),\n</code></pre>\n"}], "owner": {"reputation": 785, "user_id": 8618995, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1423021301146502/picture?type=large", "display_name": "Hashir Sarwar", "link": "https://stackoverflow.com/users/8618995/hashir-sarwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4184, "favorite_count": 2, "accepted_answer_id": 47801712, "answer_count": 1, "score": 2, "last_activity_date": 1513197823, "creation_date": 1513196194, "question_id": 47801453, "link": "https://stackoverflow.com/questions/47801453/getting-this-error-in-django-login-missing-1-required-positional-argument-u", "title": "Getting this error in django &quot;login() missing 1 required positional argument: &#39;user&#39; &quot;", "body": "<p>I am a new Django user and I just created a registration and login system for my website in Django 1.11. I am struck when I go to login section of my website. I get the error as mentioned \"login() missing 1 required positional argument: 'user'\" and I can't figure out what's wrong with the login function and the variable 'user'. Kindly help me. Thanks in advance. Here is my code:</p>\n\n<p><strong>urls.py:</strong></p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\nfrom django.contrib.auth import login\n\n\napp_name='one'\n\nurlpatterns = [\n    url(r'^games$',views.games,name='games'),\n    url(r'^others$',views.others,name='others'),\n    url(r'^about$',views.about,name='about'),\n    url(r'^upload$',views.UploadFile.as_view(),name='upload'),\n    url(r'^register$',views.UserFormView.as_view(),name='register'),\n    url(r'^login/$', login, name='login'),\n\n]\n</code></pre>\n\n<p><strong>views.py:</strong></p>\n\n<pre><code>from django.shortcuts import render,redirect\nfrom django.contrib.auth import authenticate, login\nfrom django.views.generic.edit import CreateView\nfrom .models import file\nfrom django.views.generic import View\nfrom .forms import user_form\nclass UserFormView(View):\n    form_class = user_form\n    template_name = 'one/register_form.html'\n\n    def get (self,request):\n        form = self.form_class(None)\n        return render(request,self.template_name,{'form':form})\n\n    def post (self,request):\n        form = self.form_class(request.POST)\n        if form.is_valid():\n            user = form.save(commit = False)\n            username= form.cleaned_data['username']\n            password= form.cleaned_data['password']\n            user.set_password(password)\n            user.save()\n\n            user= authenticate(username=username, password=password)\n\n            if user is not None:\n\n                if user.is_active:\n                    login(request, user)\n                    redirect('one:profile')\n\n        return render(request,self.template_name,{'form':form}) \n</code></pre>\n"}, {"tags": ["python", "multithreading", "dns", "resolver"], "comments": [{"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1513199376, "post_id": 47801457, "comment_id": 82565586, "body": "Multiple queries are possible with multiple connections. How do you get multiple data with a single connection?"}, {"owner": {"reputation": 87, "user_id": 8594520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6FzaPDZPqNg/AAAAAAAAAAI/AAAAAAAAADI/um29IpJTVRo/photo.jpg?sz=128", "display_name": "Shahrooz Pooryousef", "link": "https://stackoverflow.com/users/8594520/shahrooz-pooryousef"}, "reply_to_user": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1513202551, "post_id": 47801457, "comment_id": 82566938, "body": "Not Multiple queries. I will receive multiple response from the server. and just for your information, dns uses udp which is a connectionless protocol. What I need right now is that I send my query with raw socket and then run a thread in the background to listen to incomming packets. I do not know how implement that."}], "owner": {"reputation": 87, "user_id": 8594520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6FzaPDZPqNg/AAAAAAAAAAI/AAAAAAAAADI/um29IpJTVRo/photo.jpg?sz=128", "display_name": "Shahrooz Pooryousef", "link": "https://stackoverflow.com/users/8594520/shahrooz-pooryousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1513196179, "creation_date": 1513196179, "question_id": 47801457, "link": "https://stackoverflow.com/questions/47801457/listening-and-capturing-multiple-response-for-a-dns-query-in-python", "title": "Listening and capturing multiple response for a dns query in python", "body": "<p>I am trying to send a dns query to an specific dns resolver in python.</p>\n\n<p>Here is my code to set my resolver and sending my dns query to find the ip address of my domain name:</p>\n\n<pre><code>import dns.resolver #import the module\nmyResolver = dns.resolver.Resolver()\nmyResolver.nameservers = ['my resolver ip address']\nmyResolver.port = 5300#port number of resolver listening to dns queries\nmyAnswers = myResolver.query(\"google.com\")\nprint myAnswers\n</code></pre>\n\n<p>This code works very well when I receive just one response from the resolver. The response can has multiple ip addresses and that is ok too. The question is that, my dns resolver has been configured to send multiple response to a <code>A</code> dns query and I need to receive first, second and third one and check them and if one of them passed my checks, print the response in the console.\nMy problem is that I do not know how can I get multiple responses with myAnswers = myResolver.query(\"google.com\") command. Because this command return the response and save that in myAnswer. I know I should use multithreading and listen to incoming responses from my dns resolver. But I do not know how I can run my thread with this command,myAnswers = myResolver.query(\"mytargetdomain.com\",'a')? \nThanks.</p>\n"}, {"tags": ["python", "for-loop", "append", "fill", "multi-index"], "owner": {"reputation": 119, "user_id": 8556183, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aba76313282296b4e9a3e04a049d4da8?s=128&d=identicon&r=PG", "display_name": "ruh", "link": "https://stackoverflow.com/users/8556183/ruh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1513195951, "creation_date": 1513195951, "question_id": 47801393, "link": "https://stackoverflow.com/questions/47801393/python-pandas-fill-append-a-multi-index-dataframe-inside-a-loop", "title": "Python - Pandas - Fill/Append a Multi-Index DataFrame inside a loop", "body": "<p>Because I am unable to provide a first draft of code, I would rather describe it in the best possible way:</p>\n\n<p><strong>I would like to know how can I create a MultiIndex DataFrame, then fill it inside a loop (where data discovery happens), knowing at each iteration, the Index Levels that should be assign to the Series considered.</strong> </p>\n\n<ol>\n<li>Should I create the MultiIndex Dataframe structure (Index names, Index Levels) before and how can I do it (I know both Index Names and Levels)?</li>\n<li>What happens inside the loop? Am I appending a Multi Index DataFrame ? Am I filling a Multi Index DataFrame based on Levels (no need to append-just assign to Levels) ? How should it be coded ?</li>\n</ol>\n"}, {"tags": ["python", "python-3.x", "class", "inheritance"], "comments": [{"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 0, "creation_date": 1513195827, "post_id": 47801335, "comment_id": 82563877, "body": "What do you mean by &quot;Does not seem to work&quot;? Are you getting any sort of error message? Erroneous output?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1513195927, "post_id": 47801335, "comment_id": 82563922, "body": "To elaborate on Davy&#39;s comment, what output did you <i>expect</i>? What output are you getting? Your question &quot;How can i call both class A and B from class C&quot; is not clear - but I think you just want <code>A.say_hello(self)</code> then <code>B.say_hello(self)</code>. <code>super</code> will use the next-class in the MRO. If you don&#39;t want to enumerate the actual values, then you are going to have to give more details..."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1513196288, "post_id": 47801335, "comment_id": 82564092, "body": "Your call to <code>super</code> invokes <code>A.say_hello</code>, but that method doesn&#39;t call <code>super</code>, so the chain of calls ends."}], "answers": [{"comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1513196477, "post_id": 47801465, "comment_id": 82564191, "body": "does the order of the superclasses matter in your definition of <code>C</code>?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 1, "creation_date": 1513196516, "post_id": 47801465, "comment_id": 82564214, "body": "Yes; if A comes before B, then <code>A.say_hello</code> will always be called before <code>B.say_hello</code>, which will prevent <code>B.say_hello</code> from being called at all."}, {"owner": {"reputation": 121, "user_id": 7524578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53a265898fa2c42446db3f1fe6d4b15b?s=128&d=identicon&r=PG&f=1", "display_name": "PlayPhil1", "link": "https://stackoverflow.com/users/7524578/playphil1"}, "edited": false, "score": 0, "creation_date": 1513197458, "post_id": 47801465, "comment_id": 82564688, "body": "Very interesting, I had no idea about that the order of calling mattered: So if you did as i do by calling class(A,B) it did not work, but if you do it by B,A it works.  Thanks for helping out and explaining"}, {"owner": {"reputation": 317, "user_id": 6632708, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RXHrDPJWaCE/AAAAAAAAAAI/AAAAAAAAAAA/CQx4st0gJqI/photo.jpg?sz=128", "display_name": "Ali Rojas", "link": "https://stackoverflow.com/users/6632708/ali-rojas"}, "edited": false, "score": 0, "creation_date": 1591591131, "post_id": 47801465, "comment_id": 110103192, "body": "@chepner in your solution, who is the parent of B? when you use super().say_hello() inside B, to which parent&#39;s method are you calling?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1591617748, "post_id": 47801465, "comment_id": 110114771, "body": "The parent of <code>B</code> is <code>object</code>, but in <code>B.sayhello</code>, you don&#39;t <i>know</i> which class <code>super</code> will access next; that depends entirely on the runtime type of <code>self</code>, whose method-resolution order (MRO) is used to decide which class comes after <code>B</code>."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 5, "last_activity_date": 1513196250, "creation_date": 1513196250, "answer_id": 47801465, "question_id": 47801335, "link": "https://stackoverflow.com/questions/47801335/inherit-same-function-name-from-several-classes/47801465#47801465", "title": "Inherit same function name from several classes", "body": "<p>To use <code>super</code> properly, <em>every</em> class involved needs to be designed correctly. Among other things:</p>\n\n<ol>\n<li><p><em>One</em> class should be the \"root\" for the method, meaning it will not use <code>super</code> to delegate calls further. This class must appear after any other class providing the method.</p></li>\n<li><p>All classes that are not the root must use <code>super</code> to pass call the method from any other class that might define the method. </p></li>\n</ol>\n\n<hr>\n\n<pre><code># Designated root class for say_hello\nclass A:\n    def say_hello(self):\n        print(\"Hi\")\n\n# Does not inherit say_hello, but must be aware that it is not the root\n# class, and it should delegate a call further up the MRO\nclass B:\n    def say_hello(self):\n        super().say_hello()\n        print(\"Hello\")\n\n# Make sure A is the last class in the MRO to ensure all say_hello\n# methods are called.\nclass C(B, A):\n    def say_hello(self):\n        super().say_hello()\n        print(\"Hey\")\n\nwelcome = C()\nwelcome.say_hello()\n</code></pre>\n\n<p>Here, <code>super</code> in <code>C.say_hello</code> will call <code>B.say_hello</code>, whose <code>super</code> will call <code>A.say_hello</code>.</p>\n\n<hr>\n\n<p>If you don't want go along with the requirements for using <code>super</code>, just call the other class's methods explicitly. There is no <em>requirement</em> to use <code>super</code>.</p>\n\n<pre><code>class A:\n    def say_hello(self):\n        print(\"Hi\")\n\nclass B:\n    def say_hello(self):\n        print(\"Hello\")\n\nclass C(A, B):\n    def say_hello(self):\n        A.say_hello(self)\n        B.say_hello(self)\n        print(\"Hey\")\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 7524578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53a265898fa2c42446db3f1fe6d4b15b?s=128&d=identicon&r=PG&f=1", "display_name": "PlayPhil1", "link": "https://stackoverflow.com/users/7524578/playphil1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 47801465, "answer_count": 1, "score": 2, "last_activity_date": 1513196443, "creation_date": 1513195674, "last_edit_date": 1513196044, "question_id": 47801335, "link": "https://stackoverflow.com/questions/47801335/inherit-same-function-name-from-several-classes", "title": "Inherit same function name from several classes", "body": "<p>I was reading on <a href=\"https://stackoverflow.com/questions/6849519/multiple-inheritance-and-using-a-method-of-one-of-the-base-classes\">this</a> thread on stackoverflow but it looked like the solution was wrong according to a user and most important, it couldnt solve my question and I dont know if its because the answer is in python 2 or whatnow.</p>\n\n<p>However, lets say i have this code</p>\n\n<pre><code>class A:\n    def say_hello(self):\n        print(\"Hi\")\n\nclass B:\n    def say_hello(self):\n        print(\"Hello\")\n\nclass C(A, B):\n    def say_hello(self):\n        super().say_hello()\n        print(\"Hey\")\n\nwelcome = C()\nwelcome.say_hello()\n</code></pre>\n\n<p>How can i call both class A and B from class C without changing the names of the functions?\nAs i read in the other thread you could do something like <code>super(B, self).say_hello()</code> but that does not seem to work, I dont know why though.</p>\n"}, {"tags": ["python", "datetime", "apache-spark", "pyspark", "pyspark-sql"], "comments": [{"owner": {"reputation": 22506, "user_id": 7579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e064cb6036830f4883abb0450f6afd7e?s=128&d=identicon&r=PG", "display_name": "Shaido", "link": "https://stackoverflow.com/users/7579547/shaido"}, "edited": false, "score": 0, "creation_date": 1513745524, "post_id": 47801317, "comment_id": 82764577, "body": "See my updated answer. It uses a more standard way of solving the problem without relying on an UDF."}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1513371109, "post_id": 47839602, "comment_id": 82643354, "body": "You shouldn&#39;t depend on <code>substr</code>. You can use <code>from_unixtime</code> to give a format. <a href=\"https://spark.apache.org/docs/2.2.0/api/java/org/apache/spark/sql/functions.html#from_unixtime-org.apache.spark.sql.Column-java.lang.String-\" rel=\"nofollow noreferrer\">spark.apache.org/docs/2.2.0/api/java/org/apache/spark/sql/&hellip;</a>"}], "tags": [], "owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "is_accepted": false, "score": 5, "last_activity_date": 1513683811, "last_edit_date": 1513683811, "creation_date": 1513370467, "answer_id": 47839602, "question_id": 47801317, "link": "https://stackoverflow.com/questions/47801317/pyspark-convert-mmddyy-to-yyyy-mm-dd/47839602#47839602", "title": "Pyspark - Convert mmddyy to YYYY-MM-DD", "body": "<p>I was able to solve it without creating a udf , I did refer to a similar post (<a href=\"https://stackoverflow.com/questions/41526705/pyspark-substring-and-aggregation\">pyspark substring and aggregation</a>) on stack and it just worked perfectly.</p>\n\n<pre><code>from pyspark.sql.functions import *\nformat = 'mmddyy'\ncol = unix_timestamp(df1['DATE_OPENED'], format).cast('timestamp')\ndf1 = df1.withColumn(\"DATE_OPENED\", col)\n\ndf2 = df.withColumn('open_dt', df['DATE_OPENED'].substr(1, 11))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22506, "user_id": 7579547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e064cb6036830f4883abb0450f6afd7e?s=128&d=identicon&r=PG", "display_name": "Shaido", "link": "https://stackoverflow.com/users/7579547/shaido"}, "is_accepted": false, "score": 0, "last_activity_date": 1513745245, "last_edit_date": 1513745245, "creation_date": 1513443598, "answer_id": 47848014, "question_id": 47801317, "link": "https://stackoverflow.com/questions/47801317/pyspark-convert-mmddyy-to-yyyy-mm-dd/47848014#47848014", "title": "Pyspark - Convert mmddyy to YYYY-MM-DD", "body": "<p>This is possible without relying on a slow <code>UDF</code>. Instead, parse the data with <code>unix_timestamp</code> by specifying the correct format. Then cast the column to <code>DateType</code> which will give you the format you want by default (yyyy-mm-dd):</p>\n\n<pre><code>df.withColumn('DATE_OPENED', unix_timestamp('DATE_OPENED','mmddyy').cast(DateType()))\n</code></pre>\n\n<p>If you have Spark version 2.2+ there is an even more convenient method, <code>to_date</code>:</p>\n\n<pre><code>df.withColumn('DATE_OPENEND', to_date('DATE_OPENED','mmddyy'))\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3952, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1513745245, "creation_date": 1513195539, "last_edit_date": 1513443944, "question_id": 47801317, "link": "https://stackoverflow.com/questions/47801317/pyspark-convert-mmddyy-to-yyyy-mm-dd", "title": "Pyspark - Convert mmddyy to YYYY-MM-DD", "body": "<p>I am working on a large file, which has one of the field in mmddyy format having string as datatype and I need to convert it into YYYY-MM-DD. I did tried creating UDF and convert referring to one of the post but its throwing error. Sample code:</p>\n\n<p>Actual field in dataframe:</p>\n\n<pre><code>+-----------+\n|DATE_OPENED|\n+-----------+\n|     072111|\n|     090606|\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>+---------------+\n|    DATE_OPENED|\n+---------------+\n|     2011-07-21|\n|     2006-06-09|\n</code></pre>\n\n<p>Sample Code:</p>\n\n<pre><code>func =  udf (lambda x: datetime.strptime(x, '%m%d%Y'), DateType())\n\nnewdf = olddf.withColumn('open_dt' ,date_format(func(col('DATE_OPENED')) , 'YYYY-MM-DD'))\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error : ValueError: time data '072111' does not match format '%m%d%Y'\n</code></pre>\n"}, {"tags": ["python", "pandas", "pivot"], "comments": [{"owner": {"reputation": 63, "user_id": 8929547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5fc2fa5bc961a92e756de12ea506d5?s=128&d=identicon&r=PG&f=1", "display_name": "Flix17", "link": "https://stackoverflow.com/users/8929547/flix17"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1513195963, "post_id": 47801302, "comment_id": 82563932, "body": "<a href=\"https://imgur.com/a/WcBeW\" rel=\"nofollow noreferrer\">Doesn&#39;t work sadly</a>"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1513196019, "post_id": 47801302, "comment_id": 82563956, "body": "Oh.. sorry. I thought you need to swap the levels.  You just need to sort by the level 1 instead of level 0.  <code>df_out.sort_index(level=1, axis=1)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 8929547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5fc2fa5bc961a92e756de12ea506d5?s=128&d=identicon&r=PG&f=1", "display_name": "Flix17", "link": "https://stackoverflow.com/users/8929547/flix17"}, "edited": false, "score": 0, "creation_date": 1513690775, "post_id": 47801485, "comment_id": 82742404, "body": "I know it doesn&#39;t directly relate to my first question, but do you know how to (or have a link to resource) select certain rows / columns from a dataset of <a href=\"https://imgur.com/a/YT5c2\" rel=\"nofollow noreferrer\">this</a> form? Is this MultiIndex?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 63, "user_id": 8929547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5fc2fa5bc961a92e756de12ea506d5?s=128&d=identicon&r=PG&f=1", "display_name": "Flix17", "link": "https://stackoverflow.com/users/8929547/flix17"}, "edited": false, "score": 0, "creation_date": 1513691316, "post_id": 47801485, "comment_id": 82742757, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/advanced.html#multiindex-advanced-indexing\" rel=\"nofollow noreferrer\">Pandas MultiIndex / Advanced Indexing</a> is where the documentation on how to select rows and columns with multiindex.  What you have in this dataframe is a multiindex column index."}, {"owner": {"reputation": 63, "user_id": 8929547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5fc2fa5bc961a92e756de12ea506d5?s=128&d=identicon&r=PG&f=1", "display_name": "Flix17", "link": "https://stackoverflow.com/users/8929547/flix17"}, "edited": false, "score": 1, "creation_date": 1513698965, "post_id": 47801485, "comment_id": 82747666, "body": "Thanks for your answer.  While something like this     <code>df.xs((0,0), level=(&#39;ID&#39;,&#39;JI&#39;), axis=1)</code>  works as intended, I am wondering how to get multiple columns from the same key index, e.g. something like this      <code>df.xs((0,[0,2]), level=(&#39;ID&#39;,&#39;JI&#39;), axis=1)</code>"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 3, "last_activity_date": 1513196350, "creation_date": 1513196350, "answer_id": 47801485, "question_id": 47801302, "link": "https://stackoverflow.com/questions/47801302/pandas-pivot-change-order-of-columns/47801485#47801485", "title": "Pandas Pivot change order of columns", "body": "<p>Use <code>sort_level</code> with <code>level</code> and <code>axis</code> parameters: </p>\n\n<pre><code>df_out.sort_index(level=1, axis=1)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 8929547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da5fc2fa5bc961a92e756de12ea506d5?s=128&d=identicon&r=PG&f=1", "display_name": "Flix17", "link": "https://stackoverflow.com/users/8929547/flix17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 0, "accepted_answer_id": 47801485, "answer_count": 1, "score": 4, "last_activity_date": 1513196350, "creation_date": 1513195474, "question_id": 47801302, "link": "https://stackoverflow.com/questions/47801302/pandas-pivot-change-order-of-columns", "title": "Pandas Pivot change order of columns", "body": "<p>How can I change the order of columns in a pivot function?</p>\n\n<p>My inital table looks like <a href=\"https://i.stack.imgur.com/NTfAb.png\" rel=\"nofollow noreferrer\">this</a> and using the command</p>\n\n<pre><code>df.pivot_table(index=['timestamp'], columns=['JI'], values=['X','Y','Z','RX','RY','RZ'])\n</code></pre>\n\n<p>leads to <a href=\"https://i.stack.imgur.com/8ApVq.png\" rel=\"nofollow noreferrer\">this</a>. But I want all columns for one JI Index one after another, it should look something like <a href=\"https://i.stack.imgur.com/IVHc4.png\" rel=\"nofollow noreferrer\">this</a>. The reason for this is, that I want to be able to extract all Data for one specific JI easily.</p>\n\n<p>Or is there any other function in pandas to create the wanted result?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9095732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156038622004791/picture?type=large", "display_name": "Eli Turasky", "link": "https://stackoverflow.com/users/9095732/eli-turasky"}, "edited": false, "score": 0, "creation_date": 1513270101, "post_id": 47801400, "comment_id": 82598540, "body": "Thank you. I knew it was something simple I was missing."}], "tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": true, "score": 0, "last_activity_date": 1513195978, "creation_date": 1513195978, "answer_id": 47801400, "question_id": 47801283, "link": "https://stackoverflow.com/questions/47801283/legend-not-working-properly-when-plotting-pandas-datafile/47801400#47801400", "title": "Legend not working properly when plotting pandas datafile", "body": "<p>The most straightforward solution, avoiding going into matplotlib, would be to do e.g.</p>\n\n<pre><code>albedo_only.plot(x='Temperature', y='Pressure', ax=ax, label='Albedo only')\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9095732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156038622004791/picture?type=large", "display_name": "Eli Turasky", "link": "https://stackoverflow.com/users/9095732/eli-turasky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 47801400, "answer_count": 1, "score": 0, "last_activity_date": 1513196128, "creation_date": 1513195413, "last_edit_date": 1513196128, "question_id": 47801283, "link": "https://stackoverflow.com/questions/47801283/legend-not-working-properly-when-plotting-pandas-datafile", "title": "Legend not working properly when plotting pandas datafile", "body": "<p>I have 3 different data sets, all of which have the same variables. The first data set is a control, the second is slightly perturbed except pressure, and the last is slightly perturbed, except pressure as well. I read these in using pandas and created a plot. However, the legend is not working properly. It shows each line as pressure, when I want them to all be temperature in their respective color. I would also like to be able to edit them to say 'Temperature (control), and so forth. Here is my code and plot:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\ncontrol=pd.read_csv(\"Control.csv\")\ncontrol.columns=['Pressure', 'Temperature', 'specific humidity', 'buoyancy of air lifted from the lowest model level', 'relative humidity', 'convective heating rate', 'radiative heating rate', 'turbulent heating rate', 'a', 'b', 'c', 'd', 'e', 'f', 'g','cloud fraction','h', 'i', 'j', 'k' ]\nalbedo_only=pd.read_csv(\"Albedo 0.2.csv\")\nalbedo_only.columns=['Pressure', 'Temperature', 'specific humidity', 'buoyancy of air lifted from the lowest model level', 'relative humidity', 'convective heating rate', 'radiative heating rate', 'turbulent heating rate', 'a', 'b', 'c', 'd', 'e', 'f', 'g','cloud fraction','h', 'i', 'j', 'k' ]\nalbedo_ocean=pd.read_csv(\"Albedo 0.2 Ocean 0.8.csv\")\nalbedo_ocean.columns=['Pressure', 'Temperature', 'specific humidity', 'buoyancy of air lifted from the lowest model level', 'relative humidity', 'convective heating rate', 'radiative heating rate', 'turbulent heating rate', 'a', 'b', 'c', 'd', 'e', 'f', 'g','cloud fraction','h', 'i', 'j', 'k' ]\n\n\nax=control.plot(x='Temperature', y='Pressure', kind='line', legend=True, \ntitle='Atmospheric Temperature')\nalbedo_only.plot(x='Temperature', y='Pressure', ax=ax)\nalbedo_ocean.plot(x='Temperature', y='Pressure', ax=ax)\nplt.gca().invert_yaxis()\nplt.xlim(-80, 30)\nplt.xlabel('Temperature (C)')\nplt.ylabel('Pressure (hPa)')\nax.legend()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iJjl4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iJjl4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "beautifulsoup", "web-crawler", "google-search"], "comments": [{"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 1, "creation_date": 1513196061, "post_id": 47801267, "comment_id": 82563975, "body": "Please provide more info on your error.  Where does your error occur?"}, {"owner": {"reputation": 3, "user_id": 9081001, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sp4jlBiXUj0/AAAAAAAAAAI/AAAAAAAACN4/54c0ydhco4w/photo.jpg?sz=128", "display_name": "Nemo", "link": "https://stackoverflow.com/users/9081001/nemo"}, "reply_to_user": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1513196807, "post_id": 47801267, "comment_id": 82564359, "body": "I am getting the AtributeError: &#39;NoneType&#39; object has no atribute. on the last line @ print sou.find(&#39;cite&#39;).text."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513197339, "post_id": 47801267, "comment_id": 82564623, "body": "Google uses JavaScript do display data but BeautifulSoup doesn&#39;t run JavaScript. Google can send page which doesn&#39;t use JavaScript and then elements are in different tags. Turn off JavaScript in web browser and open Google to see what BeautifulSoup can get."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1513197562, "post_id": 47801267, "comment_id": 82564745, "body": "BTW: Google can also recognize that you run script and then it can send Captcha or warning message instead of expected data - you can save <code>page.text</code> in file <code>.html</code> and open in web browser to see what you get."}, {"owner": {"reputation": 3, "user_id": 9081001, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sp4jlBiXUj0/AAAAAAAAAAI/AAAAAAAACN4/54c0ydhco4w/photo.jpg?sz=128", "display_name": "Nemo", "link": "https://stackoverflow.com/users/9081001/nemo"}, "edited": false, "score": 0, "creation_date": 1513198605, "post_id": 47801267, "comment_id": 82565217, "body": "Is there any way around this at all? Maybe it is against their terms of service?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1513199567, "post_id": 47801267, "comment_id": 82565670, "body": "scraping is always against terms of service :) First check what you get in <code>page.text</code> - if you get warning then you can use <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">Selenium</a> which lets you control web browser so it will look more like real human."}], "owner": {"reputation": 3, "user_id": 9081001, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sp4jlBiXUj0/AAAAAAAAAAI/AAAAAAAACN4/54c0ydhco4w/photo.jpg?sz=128", "display_name": "Nemo", "link": "https://stackoverflow.com/users/9081001/nemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1513204997, "answer_count": 0, "score": 0, "last_activity_date": 1513203412, "creation_date": 1513195357, "last_edit_date": 1513203412, "question_id": 47801267, "link": "https://stackoverflow.com/questions/47801267/retrieve-a-list-of-urls-from-google-and-print-to-text-file-in-python", "closed_reason": "Duplicate", "title": "Retrieve a list of URLs from google and print to text file in python", "body": "<p>Ok, so I've got some code I can't get to work. I'm trying to pull the first 10 urls from google for any given search result. I cannot get the results to print to the file, have had errors such as: </p>\n\n<blockquote>\n  <p>AtributeError: 'NoneType' object has no attribute</p>\n</blockquote>\n\n<pre class=\"lang-python prettyprint-override\"><code>from bs4 import BeautifulSoup\nimport requests\nimport re\nimport urllib2\nimport os\n\njobid='test_01'\ntown='town'\nKEIF=\"/home/dream/scripts/Keif/\"\n\nf = open(KEIF+'wordlists/trades.txt')\njob = f.readline()\n\nDIR=\"/home/dream/scripts/Keif/output/\"+jobid\nif not os.path.exists(DIR):\n        os.mkdir(DIR)\n\nwhile job:\n\n#Create google query\n\n    jobquery=job.replace(\" \", \"%20\"); jobquery=jobquery.replace(\"/n \", \"\")\n    query = jobquery+'%20'+'in%20'+town\n    query= query.split()\n    query='+'.join(query)\n\n #Create new text file based on query\n\n    jobdir=job.replace(\" \",\"_\"); jobdir=jobdir.replace(\"\\n\", \"\")\n    textpath=DIR+\"/\"+jobdir+'.txt'\n    os.system(\"cat \"+textpath)\n    textOut=open(textpath, \"a\")\n\n #Get Results\n\n    page = requests.get(\"https://www.google.co.uk/search?q=\"+query+\"&amp;start=10&amp;num=10\")\n    soup = BeautifulSoup(page.text, \"html.parser\")\n    print soup.find('cite').text\n</code></pre>\n\n<p>I am getting the: </p>\n\n<blockquote>\n  <p>AtributeError: 'NoneType' object has no atribute</p>\n</blockquote>\n\n<p>on the last line <code>print sou.find('cite').text</code>.</p>\n\n<p>Can someone please help keep me from tearing out my hair!</p>\n"}, {"tags": ["python", "dictionary", "dataframe", "apply"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1513195441, "post_id": 47801211, "comment_id": 82563676, "body": "Try to use axis=1"}], "answers": [{"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1513201905, "post_id": 47801331, "comment_id": 82566669, "body": "Thanks for the help. For the <code>Alt2</code>, I get an odd KeyError: <code>KeyError: &#39;new_column&#39;</code>"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1513236949, "post_id": 47801331, "comment_id": 82577362, "body": "You need to add the column for it. But first is shorter so why not. Consider marking this as accepted if it answered the question."}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 1, "last_activity_date": 1513196397, "last_edit_date": 1513196397, "creation_date": 1513195645, "answer_id": 47801331, "question_id": 47801211, "link": "https://stackoverflow.com/questions/47801211/transforming-pandas-dataframe-into-dictionary-via-function-taking-column-inputs/47801331#47801331", "title": "Transforming pandas Dataframe into dictionary via function taking column inputs", "body": "<p>We can pass axis=1 to operate over rows when using apply.\nWe then need to tell what columns to use and we return a list.</p>\n\n<p>We then either perform some form of groupby or we could use defaultdict as shown below:</p>\n\n<pre><code>dict1 = {'file': ['filename2', 'filename2', 'filename3', 'filename4', 'filename4', 'filename3'], 'amount': [3, 4, 5, 1, 2, 1], 'front':[21889611, 36357723, 196312, 11, 42, 1992], 'back':[21973805, 36403870, 277500, 19, 120, 3210]}\n\nimport numpy as np\nimport pandas as pd\n\ndef func(x):\n    return np.random.choice(np.arange(x.front, x.back+1), x.amount).tolist()\n\ndf1 = pd.DataFrame(dict1)\ndf1[\"new_column\"] = df1.apply(func, axis=1)\n\ndf1.groupby('file')['new_column'].apply(sum).to_dict()\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>{'filename2': [21891765,\n  21904680,\n  21914414,\n  36398355,\n  36358161,\n  36387670,\n  36369443],\n 'filename3': [240766, 217580, 217581, 274396, 241413, 2488],\n 'filename4': [18, 96, 107]}\n</code></pre>\n\n<hr>\n\n<p>Alt2 would be to use (and by some small timings I ran it looks like it runs as fast):</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(list)\n\nfor k,v in df1.set_index('file')['new_column'].items():\n    d[k].extend(v)\n</code></pre>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 47801331, "answer_count": 1, "score": 1, "last_activity_date": 1513236935, "creation_date": 1513195136, "question_id": 47801211, "link": "https://stackoverflow.com/questions/47801211/transforming-pandas-dataframe-into-dictionary-via-function-taking-column-inputs", "title": "Transforming pandas Dataframe into dictionary via function taking column inputs", "body": "<p>I have the following pandas <code>Dataframe</code>:</p>\n\n<pre><code>dict1 = {'file': ['filename2', 'filename2', 'filename3', 'filename4', 'filename4', 'filename3'], 'amount': [3, 4, 5, 1, 2, 1], 'front':[21889611, 36357723, 196312, 11, 42, 1992], 'back':[21973805, 36403870, 277500, 19, 120, 3210]}\n\ndf1 = pd.DataFrame(dict1)\nprint(df1)\n\n        file  amount     front      back\n0  filename2       3  21889611  21973805\n1  filename2       4  36357723  36403870\n2  filename3       5    196312    277500\n3  filename4       1        11        19\n4  filename4       2        42       120\n5  filename3       1      1992      3210\n</code></pre>\n\n<p>My task is to take <code>N</code> random draws between <code>front</code> and <code>back</code>, whereby <code>N</code> is equal to the value in <code>amount</code>. Parse this into a dictionary.</p>\n\n<p>To do this on an row-by-row basis is easy for me to understand:</p>\n\n<p>e.g. row 1</p>\n\n<pre><code>import numpy as np\nrandom_draws = np.random.choice(np.arange(21889611, 21973805+1), 3)\n</code></pre>\n\n<p>e.g. row 2</p>\n\n<pre><code>random_draws = np.random.choice(np.arange(36357723, 36403870+1), 4)\n</code></pre>\n\n<p>Normally with pandas, users could define this as a function and use something like </p>\n\n<pre><code>def func(front, back, amount):\n    return np.random.choice(np.arange(front, back+1), amount)\n\ndf[\"new_column\"].apply(func)\n</code></pre>\n\n<p>but the result of my function is an array of varying size. </p>\n\n<p>My second problem is that I would like the output to be a dictionary, of the format</p>\n\n<pre><code>{file: [random_draw_results], file: [random_draw_results], file: [random_draw_results], ...}\n</code></pre>\n\n<p>For the above example <code>df1</code>, the function should output this dictionary (given the draws):</p>\n\n<pre><code>final_dict = {\"filename2\": [21927457, 21966814, 21898538, 36392840, 36375560, 36384078, 36366833], \n    \"filename3\": 212143, 239725, 240959, 197359, 276948, 3199], \n    \"filename4\": [100,  83, 15]}\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-2.7"], "comments": [{"owner": {"reputation": 1843, "user_id": 6447573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/698b5928c89adcbb47bb499d772a4430?s=128&d=identicon&r=PG", "display_name": "Ivonet", "link": "https://stackoverflow.com/users/6447573/ivonet"}, "edited": false, "score": 2, "creation_date": 1513195097, "post_id": 47801152, "comment_id": 82563466, "body": "So sit back take a cup of coffee and let us create your software. Good luck with that :-) Please provide us with code samples of what you tried until now. That way we can help you more effectively."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1513195109, "post_id": 47801152, "comment_id": 82563473, "body": "So read it line by line and save each line as a list in a nested list? What have you tried?"}, {"owner": {"reputation": 87, "user_id": 8853586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-297VHtqf2kU/AAAAAAAAAAI/AAAAAAAABRg/JzePzZ4hgeE/photo.jpg?sz=128", "display_name": "Gin&#233;s D&#237;az", "link": "https://stackoverflow.com/users/8853586/gin%c3%a9s-d%c3%adaz"}, "reply_to_user": {"reputation": 1843, "user_id": 6447573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/698b5928c89adcbb47bb499d772a4430?s=128&d=identicon&r=PG", "display_name": "Ivonet", "link": "https://stackoverflow.com/users/6447573/ivonet"}, "edited": false, "score": 0, "creation_date": 1513196529, "post_id": 47801152, "comment_id": 82564221, "body": "@Ivonet thank you! but is my first day with python and unless I tried I had no idea of what I did. I&#39;ll keep your advise :)"}, {"owner": {"reputation": 87, "user_id": 8853586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-297VHtqf2kU/AAAAAAAAAAI/AAAAAAAABRg/JzePzZ4hgeE/photo.jpg?sz=128", "display_name": "Gin&#233;s D&#237;az", "link": "https://stackoverflow.com/users/8853586/gin%c3%a9s-d%c3%adaz"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1513196557, "post_id": 47801152, "comment_id": 82564234, "body": "@roganjosh I have the solution below, thank you very much!"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8853586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-297VHtqf2kU/AAAAAAAAAAI/AAAAAAAABRg/JzePzZ4hgeE/photo.jpg?sz=128", "display_name": "Gin&#233;s D&#237;az", "link": "https://stackoverflow.com/users/8853586/gin%c3%a9s-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1513196289, "post_id": 47801247, "comment_id": 82564093, "body": "oh man you saved my life and really fast, thank you very much!"}], "tags": [], "owner": {"reputation": 382, "user_id": 5602957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/105706212ebe508932be29884fb15902?s=128&d=identicon&r=PG&f=1", "display_name": "CodeCollector", "link": "https://stackoverflow.com/users/5602957/codecollector"}, "is_accepted": true, "score": 0, "last_activity_date": 1513195309, "creation_date": 1513195309, "answer_id": 47801247, "question_id": 47801152, "link": "https://stackoverflow.com/questions/47801152/how-to-save-line-by-line-a-file-txt-in-array-or-table/47801247#47801247", "title": "How to save line by line a file.txt in array or table?", "body": "<p>Well it is super easy in Python:</p>\n\n<pre><code>text_file = open(\"filename.txt\", \"r\")\n\n# Splits the element by \"\\n\"\nlines = text_file.readlines()\ntext_file.close()\n\n#Print List of Lines in your File\nprint(lines)\n\n#Print Number of Lines in your File\nprint(len(lines))\n\n#Access Second Line in your file\nprint(lines[1])# Since python is zero indexed\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8853586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-297VHtqf2kU/AAAAAAAAAAI/AAAAAAAABRg/JzePzZ4hgeE/photo.jpg?sz=128", "display_name": "Gin&#233;s D&#237;az", "link": "https://stackoverflow.com/users/8853586/gin%c3%a9s-d%c3%adaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "closed_date": 1513195940, "accepted_answer_id": 47801247, "answer_count": 1, "score": -3, "last_activity_date": 1513195309, "creation_date": 1513194916, "question_id": 47801152, "link": "https://stackoverflow.com/questions/47801152/how-to-save-line-by-line-a-file-txt-in-array-or-table", "closed_reason": "Duplicate", "title": "How to save line by line a file.txt in array or table?", "body": "<p>I would like to save a file.txt line by line in variable (array or list)\n.So if the file.txt is:</p>\n\n<p>hi there</p>\n\n<p>what's up</p>\n\n<p>I want my code to save it line by line in the same variable making a table so I can access easily each line when I want using that variable. And what can I do if I wanna access only line 2? It is supposed I don't know how many lines the file.txt has. \nThank you very much!</p>\n"}]