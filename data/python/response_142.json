[{"tags": ["python", "python-2.7", "collision-detection", "shapes", "zelle-graphics"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5909322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac269d9c606521dea86b8f232c5a2362?s=128&d=identicon&r=PG&f=1", "display_name": "jen", "link": "https://stackoverflow.com/users/5909322/jen"}, "edited": false, "score": 0, "creation_date": 1506653630, "post_id": 46475767, "comment_id": 79916922, "body": "Thank you! This was very helpful!"}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1506623856, "last_edit_date": 1506623856, "creation_date": 1506622336, "answer_id": 46475767, "question_id": 46458901, "link": "https://stackoverflow.com/questions/46458901/collisions-in-zelle-graphics-py/46475767#46475767", "title": "Collisions in Zelle graphics.py", "body": "<blockquote>\n  <p>I know that each circle graphics technically can use the points of the\n  smallest possible square that would fir around the circle to do the\n  collision</p>\n</blockquote>\n\n<p>I'm playing with an alternate idea -- we could consider a circle around the rectangle instead of a square around the circle.  The issue for me is that we not only need to detect collision, but come out with a sense of which way to move away from the other object.  It's not just <code>True</code> and <code>False</code> but rather a <code>(dx, dy)</code> type of result.</p>\n\n<p>Obviously, a circle around the rectangle is too crude, but suppose it were lots of smaller circles making up the rectangle and we measure circle center to center distance to detect a hit:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aQECh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQECh.png\" alt=\"enter image description here\"></a></p>\n\n<p>A hit on just a central (green) rectangle circle means reverse the vertical direction of the big circle.  A hit on just the end (red) circle means reverse the horizontal direction of the big circle.  And we can detect both kinds of hits and reverse the big circle completely.</p>\n\n<p>Here's my rework of your code with the above in mind -- I also fixed your multiple clicking issue and made lots of style changes:</p>\n\n<pre><code>from random import randrange\nfrom graphics import *\n\nWIDTH, HEIGHT = 500, 400\n\nRADIUS = 30\n\ndef delay(d):\n    for _ in range(d):\n        for _ in range(50):\n            pass\n\ndef distance(p1, p2):\n    return ((p2.getX() - p1.getX()) ** 2 + (p2.getY() - p1.getY()) ** 2) ** 0.5\n\ndef intersects(circle, rectangle):\n\n    dx, dy = 1, 1  # no change\n\n    center = circle.getCenter()\n\n    rectangle_radius = (rectangle.p2.getY() - rectangle.p1.getY()) / 2\n    rectangle_width = rectangle.p2.getX() - rectangle.p1.getX()\n\n    y = rectangle.getCenter().getY()\n\n    for x in range(int(rectangle_radius * 2), int(rectangle_width - rectangle_radius * 2) + 1, int(rectangle_radius)):\n        if distance(center, Point(rectangle.p1.getX() + x, y)) &lt;= rectangle_radius + RADIUS:\n            dy = -dy  # reverse vertical\n            break\n\n    if distance(center, Point(rectangle.p1.getX() + rectangle_radius, y)) &lt;= rectangle_radius + RADIUS:\n            dx = -dx  # reverse horizontal\n    elif distance(center, Point(rectangle.p2.getX() - rectangle_radius, y)) &lt;= rectangle_radius + RADIUS:\n            dx = -dx  # reverse horizontal\n\n    return (dx, dy)\n\ndef main():\n    win = GraphWin(\"Moving Circle\", WIDTH, HEIGHT)\n\n    circle = Circle(Point(WIDTH / 5, HEIGHT / 2), RADIUS)\n\n    # change the color of the circle for each game\n    color = color_rgb(randrange(256), randrange(256), randrange(256))\n    circle.setFill(color)\n\n    circle.draw(win)\n\n    # rectangle\n    rectangle = Rectangle(Point(275, 425), Point(450, 450))  # off screen\n    rectangle.setFill('black')\n    rectangle.draw(win)\n\n    dx, dy = 1, 1\n\n    while True:\n        delay(100)\n        circle.move(dx, dy)\n\n        # rectangle\n        isClicked = win.checkMouse()\n\n        if isClicked:\n            point = isClicked\n            center = rectangle.getCenter()\n            rectangle.move(point.getX() - center.getX(), point.getY() - center.getY())\n\n        # circle\n        center = circle.getCenter()\n\n        if (center.getX() - RADIUS) &lt;= 0.0 or (center.getX() + RADIUS) &gt;= WIDTH:\n            dx = -dx\n\n        if (center.getY() - RADIUS) &lt;= 0.0 or (center.getY() + RADIUS) &gt;= HEIGHT:\n            dy = -dy\n\n        # collision bounce\n\n        x, y = intersects(circle, rectangle)\n        dx *= x\n        dy *= y\n\nmain()\n</code></pre>\n\n<p>Not perfect, but something to play around with, possibly plugging in a better <code>intersects()</code> implementation.</p>\n"}], "owner": {"reputation": 21, "user_id": 5909322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac269d9c606521dea86b8f232c5a2362?s=128&d=identicon&r=PG&f=1", "display_name": "jen", "link": "https://stackoverflow.com/users/5909322/jen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506623856, "creation_date": 1506556696, "last_edit_date": 1506622541, "question_id": 46458901, "link": "https://stackoverflow.com/questions/46458901/collisions-in-zelle-graphics-py", "title": "Collisions in Zelle graphics.py", "body": "<p>I am trying to make my circle bounce off of my rectangle using Zelle graphics.py. Once the circle bounces off of the rectangle I wanted it to keep moving randomly. Here is my code so far, and it's working!\nAlso I know that each circle graphics technically can use the points of the smallest possible square that would fit around the circle to do the collision but I'm having trouble with doing that.</p>\n\n<pre><code>from graphics import *\nimport random\n\ndef delay(d):\n    for i in range(d):\n        for i in range(50):\n            pass\n#-------------------------------------------------\ndef main():\n\n\n    win=GraphWin(\"Moving Circle\",500,400)\n    win.setBackground('white')\n    pt= Point(100,200)\n    cir=Circle(pt,30)\n    #changes the color of the circle for each game\n    r = random.randrange(256)\n    b = random.randrange(256)\n    g = random.randrange(256)\n    color = color_rgb(r, g, b)\n    cir.setFill(color)\n    cir.draw(win)\n#rectangle\n    rec = Rectangle(Point(450,450), Point(275, 425))\n    rec.draw(win)\n    rec.setFill('black')\n#-------------------------------------------------\n    pt5 = Point(250,30)\n    instruct1=Text(pt5, \"click multiple times to start(rectangle can take multiple clicks to move)\")\n    instruct1.setTextColor('black')\n    instruct1.draw(win)\n\n\n#-------------------------------------------------\n    p=cir.getCenter()\n    p2=win.getMouse()\n\n    dx=1\n    dy=1\n\n    keepGoing=True\n\n    while keepGoing:\n        d = 100\n        delay(d)\n        cir.move(dx,dy)\n        p=cir.getCenter()\n        p2=win.checkMouse()\n        instruct1.setText(\"\")\n\n\n#rectanlge\n        isClicked= win.checkMouse()\n        if isClicked:\n            rp = isClicked\n            rc = rec.getCenter()\n            rdx = rp.getX() - rc.getX()\n            rdy = rp.getY() - rc.getY()\n            rec.move(rdx,rdy)\n\n#circle\n        if((p.getX()-30)&lt;=0.0) or ((p.getX()+30)&gt;=500):\n            dx= -dx\n\n        if((p.getY()-30)&lt;=0.0) or ((p.getY()+30)&gt;=400):\n            dy=-dy\n        p3=win.checkMouse()\n\n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1506556905, "post_id": 46458898, "comment_id": 79873219, "body": "Is this all the code? If player.py doesn&#39;t contain class, then <code>self</code> is not correct. If it is, then you have to instantiate the object and reference that object, say <code>player = Player()</code> and change <code>self.player.isPlaying()</code> to <code>player.isPlayingVideo()</code>."}, {"owner": {"reputation": 5285, "user_id": 5495304, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/h7m4z.png?s=128&g=1", "display_name": "Gerges", "link": "https://stackoverflow.com/users/5495304/gerges"}, "edited": false, "score": 0, "creation_date": 1506556912, "post_id": 46458898, "comment_id": 79873221, "body": "is <code>isPlayingVideo</code> a method in a class or is it a standalone function?"}, {"owner": {"reputation": 123, "user_id": 8545410, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a516bbeb512d27000d5f50c084509369?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ezekiel", "link": "https://stackoverflow.com/users/8545410/daniel-ezekiel"}, "edited": false, "score": 0, "creation_date": 1506557016, "post_id": 46458898, "comment_id": 79873252, "body": "Oh sorry, I have forgot to change from <code>isPlaying</code> to <code>isPlayingVideo</code> in my question so I have updated it. Please see it."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1506557092, "post_id": 46458898, "comment_id": 79873274, "body": "Are you really using <code>isPlayingVideo</code> as both a method name and as a local variable in the definition of that method?"}, {"owner": {"reputation": 123, "user_id": 8545410, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a516bbeb512d27000d5f50c084509369?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ezekiel", "link": "https://stackoverflow.com/users/8545410/daniel-ezekiel"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1506557113, "post_id": 46458898, "comment_id": 79873282, "body": "@JohnColeman yes that is correct"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1506557227, "post_id": 46458898, "comment_id": 79873308, "body": "What possible reason could you have for doing that? Name clashes should be avoided. If you do this sort of thing a lot, sooner or later it will bite you."}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1506557363, "post_id": 46458898, "comment_id": 79873343, "body": "It&#39;s possible the OP comes from old versions of BASIC, where assigning a variable with the name of the function is the accepted way to return a value. In Python, however, this is generally frowned upon."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1506557603, "post_id": 46458898, "comment_id": 79873403, "body": "@SilvioMayolo You might be right. VBA still works that way, though I would think that before you progress to writing classes in Python you would have encountered the <code>return</code> keyword."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 8545410, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a516bbeb512d27000d5f50c084509369?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ezekiel", "link": "https://stackoverflow.com/users/8545410/daniel-ezekiel"}, "edited": false, "score": 0, "creation_date": 1506557269, "post_id": 46458951, "comment_id": 79873321, "body": "than you very much for this, but you dont understand what I was asking in my question. I want to create the boolean which I haven&#39;t done so to get the return boolean. Please read my question again."}], "tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 2, "last_activity_date": 1506557406, "last_edit_date": 1506557406, "creation_date": 1506557137, "answer_id": 46458951, "question_id": 46458898, "link": "https://stackoverflow.com/questions/46458898/make-the-boolean-return-to-true-or-false-in-python/46458951#46458951", "title": "Make the boolean return to true or false in python", "body": "<p>assume that you have built a class into <strong>player.py</strong>, so that it has some structure like:</p>\n\n<pre><code>class Player(object):\n\n# other defs, including __init__, etc.\n\n    # and then this\n    def isPlayingVideo(self):\n        return xbmc.Player().isPlayingVideo()\n\n    # this assumes that xbmc.Player().isPlayingVideo()\n    # returns itself a boolean value.\n</code></pre>\n\n<p>Then in <strong>test.py</strong> you need to instantiate the player as an object, so something like</p>\n\n<pre><code>import player\n\nmy_player = Player() # this make a new object which can call the Player methods.\n\nif my_player.isPlayingVideo():\n   # this code will only fire if the return is True\nelse:\n   # handle the False return case.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 2, "last_activity_date": 1506557637, "creation_date": 1506557637, "answer_id": 46459007, "question_id": 46458898, "link": "https://stackoverflow.com/questions/46458898/make-the-boolean-return-to-true-or-false-in-python/46459007#46459007", "title": "Make the boolean return to true or false in python", "body": "<p>Just return the result of the test, no need for <code>if</code>/<code>else</code>:</p>\n\n<pre><code>def isPlayingVideo(self):\n    isplaying = xbmc.Player().isPlayingVideo()\n\n    return isplaying == 'true'\n</code></pre>\n\n<p>The equality test itself returns <code>True</code> or <code>False</code>, so just use it.</p>\n\n<p>Note: I renamed the local variable because having three things with the same name in closely related scopes is just asking for trouble.</p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 6003516, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uhuqJEkJmg/AAAAAAAAAAI/AAAAAAAAACI/f0KhmAmStmY/photo.jpg?sz=128", "display_name": "baldprussian", "link": "https://stackoverflow.com/users/6003516/baldprussian"}, "is_accepted": false, "score": 0, "last_activity_date": 1506561349, "creation_date": 1506561349, "answer_id": 46459468, "question_id": 46458898, "link": "https://stackoverflow.com/questions/46458898/make-the-boolean-return-to-true-or-false-in-python/46459468#46459468", "title": "Make the boolean return to true or false in python", "body": "<p>I assume you are running this in some form of loop.  If you want a variable to default to a specific value, initialize it at the outset of the for/while loop to the desired value and then in your function, if conditions warrant, have the function return a different value.  ShadowRanger's code will work also and is quite elegant.</p>\n"}], "owner": {"reputation": 123, "user_id": 8545410, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a516bbeb512d27000d5f50c084509369?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Ezekiel", "link": "https://stackoverflow.com/users/8545410/daniel-ezekiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 46458951, "answer_count": 3, "score": -1, "last_activity_date": 1506561349, "creation_date": 1506556658, "last_edit_date": 1506556955, "question_id": 46458898, "link": "https://stackoverflow.com/questions/46458898/make-the-boolean-return-to-true-or-false-in-python", "title": "Make the boolean return to true or false in python", "body": "<p>I need some help with my python code. I want to create a function to check if a video is playing a media file which is true or false to get the return boolean. </p>\n\n<p>I have created the function in player.py:</p>\n\n<pre><code>def isPlayingVideo(self):\n    isPlayingVideo = xbmc.Player().isPlayingVideo()\n\n    if isPlayingVideo == 'true':\n       #set it to true\n    else:\n       #set to false\n</code></pre>\n\n<p>In test.py, I want to check if the isPlayingVideo() have the return boolean which is true or false:</p>\n\n<pre><code>import player\n\nif not self.player.isPlayingVideo():\n   #ok let do something\n</code></pre>\n\n<p>Can you please show me an example snippet of how I could use to make the boolean to return to true of false when I am using <code>if not self.player.isPlaying()</code>??</p>\n"}, {"tags": ["python", "sqlite", "tkinter", "text-widget"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1506557607, "post_id": 46458891, "comment_id": 79873404, "body": "Did you profile it?"}, {"owner": {"reputation": 1055, "user_id": 462373, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9d316863da3ecd0a74076f852e854115?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/462373/dan"}, "edited": false, "score": 0, "creation_date": 1506558300, "post_id": 46458891, "comment_id": 79873531, "body": "3 minutes to load a database seems like a very long time. Profile your code to be sure its SQLite like MSeifert suggests. If you have simple column-able data, you might find it easier and faster to use Pandas and load the data from CSV into a DataFrame. Pandas can handle many millions of rows quite quickly."}], "owner": {"reputation": 1, "user_id": 8006500, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156241513873009/picture?type=large", "display_name": "Josph Hay", "link": "https://stackoverflow.com/users/8006500/josph-hay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562591353, "creation_date": 1506556589, "last_edit_date": 1562591353, "question_id": 46458891, "link": "https://stackoverflow.com/questions/46458891/why-is-my-implementation-of-sqlite3-python-using-tkinter-slow-to-display-the", "title": "Why is my implementation of sqlite3 + python (using tkinter) slow to display the whole database at once?", "body": "<p>I'm working with a database with an '.sqlite' extension using SQLite3, Python, and Tkinter. I created a function to display the entire database when the program starts up using a spreadsheet-like interface with text widgets:</p>\n\n<pre><code>import tkinter as tk\nimport sqlite3\n\nconn = sqlite3.connect('duff1.sqlite')\n\nc = conn.cursor()\n\n# Creating root\nroot = tk.Tk()\nroot.title('Table')\n\n# make frame\nframe0 = tk.Frame(root, bd=2)\n\n# make display canvas\ndpcanvas = tk.Canvas(frame0)\n\n# make display frame\ndisplayframe = tk.Frame(dpcanvas, bd=2, relief=tk.SUNKEN)\n\ndef pdp():\n    data = fetch()\n    for index, dat in enumerate(data):\n        t0 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t0.insert(tk.END, dat[0])\n        t0.grid(row = index + 1, column = 0, sticky = tk.W)\n        t1 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t1.insert(tk.END, dat[1])\n        t1.grid(row = index + 1, column = 1, sticky = tk.W)\n        t2 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t2.insert(tk.END, dat[2])\n        t2.grid(row=index + 1, column = 2, sticky=tk.W)\n        t3 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t3.insert(tk.END, dat[3])\n        t3.grid(row=index + 1, column=3, sticky=tk.W)\n        t4 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t4.insert(tk.END, dat[4])\n        t4.grid(row=index + 1, column=4, sticky=tk.W)\n        t5 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t5.insert(tk.END, dat[5])\n        t5.grid(row=index + 1, column=5, sticky=tk.W)\n        t6 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t6.insert(tk.END, dat[6])\n        t6.grid(row=index + 1, column=6, sticky=tk.W)\n        t7 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t7.insert(tk.END, dat[7])\n        t7.grid(row=index + 1, column=7, sticky=tk.W)\n        t8 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t8.insert(tk.END, dat[8])\n        t8.grid(row=index + 1, column=8, sticky=tk.W)\n        t9 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t9.insert(tk.END, dat[9])\n        t9.grid(row=index + 1, column=9, sticky=tk.W)\n        t10 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t10.insert(tk.END, dat[10])\n        t10.grid(row=index + 1, column=10, sticky=tk.W)\n        t11 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t11.insert(tk.END, dat[11])\n        t11.grid(row=index + 1, column=11, sticky=tk.W)\n        t12 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t12.insert(tk.END, dat[12])\n        t12.grid(row=index + 1, column=12, sticky=tk.W)\n        t13 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t13.insert(tk.END, dat[13])\n        t13.grid(row=index + 1, column=13, sticky=tk.W)\n        t14 = tk.Text(displayframe, height=1, width=13, relief=tk.SOLID, bd=1,     font='helvetica 11')\n        t14.insert(tk.END, dat[14])\n        t14.grid(row=index + 1, column=14, sticky=tk.W)\n\n\ndef fetch():\n    c.execute(\"SELECT * FROM 'duff'\")\n    return c.fetchall()\n\n\npdp()\n\n\nframe0.pack(side=tk.LEFT, anchor='nw', fill=tk.BOTH, expand=tk.YES)\n\ndisplayframe.pack(side=tk.LEFT, anchor='nw', fill=tk.BOTH, expand=tk.YES)\n\ndpcanvas.pack(side=tk.LEFT, anchor='nw', fill=tk.Y, expand=2)\n\ndisplayframe.update_idletasks()\n\ndpcanvas.create_window((4, 4), window=displayframe, anchor='nw')\n\n# main loop\nroot.mainloop()\n</code></pre>\n\n<p>It seems to work well with up to around 500 rows -though it takes a few minutes to load-, but I'm working with databases much larger than that. As an example, a database with 500 rows takes 3 minutes to load; one with 1600 takes around 16, and the python app crashes when closed.</p>\n\n<p>Is my code too inefficient? is it a problem with the way tkinter works? I remember having done something similar using labels and the code running way faster, however I need to use text because I want the user to be able to 'navigate' inside the boxes, which sometimes have a dozen or so lines and several characters per line.</p>\n\n<p>I looked for an answer to my problem indicating that the version of sqlite in Python 2.7 was particularly slow, however I'm using python 3.6.1 and the versions of SQLite and Tkinter that came with it.</p>\n\n<p>I read another possible answer that involved creating indexes which could speed up queries, but I haven't gotten to that part yet.</p>\n"}, {"tags": ["python", "json", "pandas", "csv"], "comments": [{"owner": {"reputation": 1055, "user_id": 462373, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9d316863da3ecd0a74076f852e854115?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/462373/dan"}, "edited": false, "score": 0, "creation_date": 1506556352, "post_id": 46458840, "comment_id": 79873089, "body": "Pandas DataFrame has functions read_csv() and to_json()."}, {"owner": {"reputation": 426, "user_id": 287930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/28036ffb2768da4d8620d519bc10eb6a?s=128&d=identicon&r=PG", "display_name": "sean2000", "link": "https://stackoverflow.com/users/287930/sean2000"}, "reply_to_user": {"reputation": 1055, "user_id": 462373, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9d316863da3ecd0a74076f852e854115?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/462373/dan"}, "edited": false, "score": 0, "creation_date": 1506556646, "post_id": 46458840, "comment_id": 79873151, "body": "Yeah i&#39;m OK with converting the csv to a dataframe but not sure how to group it into the nested format"}], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1506575766, "last_edit_date": 1506575766, "creation_date": 1506556891, "answer_id": 46458926, "question_id": 46458840, "link": "https://stackoverflow.com/questions/46458840/group-csv-data-into-json-using-pandas/46458926#46458926", "title": "Group csv data into json using Pandas", "body": "<p>Didn't have time to do more.  Hope this helps</p>\n\n<pre><code>s = df.set_index(df.columns[:-1].tolist())[df.columns[-1]]\n\ndef redict(s):\n    if s.index.nlevels == 1:\n        return s.to_dict()\n    else:\n        return {k: redict(g.xs(k)) for k, g in s.groupby(level=0)}\n\nredict(s)\n\n{'Doors': {'D1': {'Height': 2100, 'Width': 900},\n  'D2': {'Height': 2100, 'Width': 820}},\n 'Windows': {'W1': {'Height': 900, 'Width': 900},\n  'W2': {'Height': 500, 'Width': 1200}}}\n</code></pre>\n\n<hr>\n\n<p>And with a slight modification, we get <code>json</code></p>\n\n<pre><code>s = df.set_index(df.columns[:-1].tolist())[df.columns[-1]]\n\ndef redict(s):\n    if s.index.nlevels == 1:\n        return s.astype(str).to_dict()\n    else:\n        return {k: redict(g.xs(k)) for k, g in s.groupby(level=0)}\n\njson.dumps(redict(s))\n\n'{\"Doors\": {\"D1\": {\"Width\": \"900\", \"Height\": \"2100\"}, \"D2\": {\"Width\": \"820\", \"Height\": \"2100\"}}, \"Windows\": {\"W1\": {\"Width\": \"900\", \"Height\": \"900\"}, \"W2\": {\"Width\": \"1200\", \"Height\": \"500\"}}}'\n</code></pre>\n"}], "owner": {"reputation": 426, "user_id": 287930, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/28036ffb2768da4d8620d519bc10eb6a?s=128&d=identicon&r=PG", "display_name": "sean2000", "link": "https://stackoverflow.com/users/287930/sean2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 46458926, "answer_count": 1, "score": 1, "last_activity_date": 1506575766, "creation_date": 1506556141, "question_id": 46458840, "link": "https://stackoverflow.com/questions/46458840/group-csv-data-into-json-using-pandas", "title": "Group csv data into json using Pandas", "body": "<p>I have never used Pandas before and i'm trying to do a very simple conversion from csv data to json.</p>\n\n<p>My csv data is of the form:</p>\n\n<pre><code>Category | Type | Parameter Name | Parameter Value\n---------|------|----------------|----------------\nWindows  | W1   | Width          | 900\nWindows  | W1   | Height         | 900\nWindows  | W2   | Width          | 1200\nWindows  | W2   | Height         | 500\nDoors    | D1   | Width          | 900\nDoors    | D1   | Height         | 2100\nDoors    | D2   | Width          | 820\nDoors    | D2   | Height         | 2100\n</code></pre>\n\n<p>And I want to produce something like:</p>\n\n<pre><code>{\n    \"Windows\": {\n        \"W1\": {\n            \"Height\": 900, \n            \"Width\": 900\n         }, \n         \"W2\": {\n             \"Height\": 500, \n             \"Width\": 1200\n         },\n     },\n     \"Doors: {\n        \"D1\": {\n            \"Height\": 2100, \n            \"Width\": 900\n         }, \n         \"D2\": {\n             \"Height\": 2100, \n             \"Width\": 500\n         }, \n     }, \n}\n</code></pre>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["python", "c", "embed"], "comments": [{"owner": {"reputation": 1579, "user_id": 5215536, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2b44d6db2f2f3fa384fd15d46f4f9c4d?s=128&d=identicon&r=PG&f=1", "display_name": "YiFei", "link": "https://stackoverflow.com/users/5215536/yifei"}, "edited": false, "score": 0, "creation_date": 1506556486, "post_id": 46458833, "comment_id": 79873120, "body": "Check library dependency with <code>otool -L</code>. As a side note, use a debugger and step through it."}, {"owner": {"reputation": 9088, "user_id": 8379597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/12eJq.png?s=128&g=1", "display_name": "jq170727", "link": "https://stackoverflow.com/users/8379597/jq170727"}, "edited": false, "score": 0, "creation_date": 1506557379, "post_id": 46458833, "comment_id": 79873347, "body": "Your code worked for me with one small change to the Makefile (see <a href=\"https://pastebin.com/DWgmkC3Q\" rel=\"nofollow noreferrer\">pastebin.com/DWgmkC3Q</a>)"}, {"owner": {"reputation": 1079, "user_id": 5451769, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f31eddf72e779f7ba6fa057824f4758d?s=128&d=identicon&r=PG&f=1", "display_name": "kdheepak", "link": "https://stackoverflow.com/users/5451769/kdheepak"}, "edited": false, "score": 0, "creation_date": 1506557884, "post_id": 46458833, "comment_id": 79873457, "body": "I made the same change but it still throws the same error."}, {"owner": {"reputation": 1079, "user_id": 5451769, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f31eddf72e779f7ba6fa057824f4758d?s=128&d=identicon&r=PG&f=1", "display_name": "kdheepak", "link": "https://stackoverflow.com/users/5451769/kdheepak"}, "reply_to_user": {"reputation": 1579, "user_id": 5215536, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2b44d6db2f2f3fa384fd15d46f4f9c4d?s=128&d=identicon&r=PG&f=1", "display_name": "YiFei", "link": "https://stackoverflow.com/users/5215536/yifei"}, "edited": false, "score": 0, "creation_date": 1506615308, "post_id": 46458833, "comment_id": 79902641, "body": "@YiFei thanks for the suggestion. It appears that <code>@rpath</code> is not able to find the libpython3.6 library. I&#39;m no longer getting this error if I set <code>DYLD_FALLBACK_LIBRARY_PATH</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1079, "user_id": 5451769, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f31eddf72e779f7ba6fa057824f4758d?s=128&d=identicon&r=PG&f=1", "display_name": "kdheepak", "link": "https://stackoverflow.com/users/5451769/kdheepak"}, "is_accepted": false, "score": 0, "last_activity_date": 1506616681, "creation_date": 1506616681, "answer_id": 46474235, "question_id": 46458833, "link": "https://stackoverflow.com/questions/46458833/embed-python-interpreter-in-c/46474235#46474235", "title": "Embed Python interpreter in C", "body": "<p>Adding this line worked for me.</p>\n\n<pre><code>export DYLD_FALLBACK_LIBRARY_PATH=/Users/$USER/miniconda3/lib\n</code></pre>\n\n<p>If anyone has a better way to do this let me know.</p>\n"}], "owner": {"reputation": 1079, "user_id": 5451769, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f31eddf72e779f7ba6fa057824f4758d?s=128&d=identicon&r=PG&f=1", "display_name": "kdheepak", "link": "https://stackoverflow.com/users/5451769/kdheepak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506616681, "creation_date": 1506556045, "question_id": 46458833, "link": "https://stackoverflow.com/questions/46458833/embed-python-interpreter-in-c", "title": "Embed Python interpreter in C", "body": "<p>I'm trying to run a very simple example of a main.c file to include and run some Python code. I have tried to compile and run this program but I get a library not loaded error</p>\n\n<pre><code>./main\ndyld: Library not loaded: @rpath/libpython3.6m.dylib\n  Referenced from: /Users/$USER/GitRepos/python-embed/./main\n  Reason: image not found\n[1]    9323 abort      ./main\n</code></pre>\n\n<p>Any thoughts on what I might be missing? I've posted the code I'm using <a href=\"https://github.com/kdheepak/python-embed/blob/master/main.c\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["python", "elasticsearch-dsl"], "answers": [{"comments": [{"owner": {"reputation": 1618, "user_id": 3450594, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a0796fb7fc7c610d4f01fc6e852382f1?s=128&d=identicon&r=PG&f=1", "display_name": "JChao", "link": "https://stackoverflow.com/users/3450594/jchao"}, "edited": false, "score": 0, "creation_date": 1506556921, "post_id": 46458824, "comment_id": 79873222, "body": "yes.... you got it exactly right. Is it the <code>*</code> that makes passing in a list okay?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 1618, "user_id": 3450594, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a0796fb7fc7c610d4f01fc6e852382f1?s=128&d=identicon&r=PG&f=1", "display_name": "JChao", "link": "https://stackoverflow.com/users/3450594/jchao"}, "edited": false, "score": 1, "creation_date": 1506557141, "post_id": 46458824, "comment_id": 79873291, "body": "yep thats called list unpacking"}, {"owner": {"reputation": 2823, "user_id": 6202039, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8cVei5pidZQ/AAAAAAAAAAI/AAAAAAAAAJo/ShhF34Rlg2s/photo.jpg?sz=128", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/6202039/jay-patel"}, "edited": false, "score": 0, "creation_date": 1562325842, "post_id": 46458824, "comment_id": 100349030, "body": "Your answer completely satisfies my need but, I&#39;m filtering using <code>{&quot;name&quot;: &quot;asc&quot;, &quot;age&quot;: &quot;asc&quot;}</code> in this case my result is just taking age as the only parameter to sort, ignoring sorting by name."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 4, "last_activity_date": 1506555940, "creation_date": 1506555940, "answer_id": 46458824, "question_id": 46458803, "link": "https://stackoverflow.com/questions/46458803/python-elasticsearch-dsl-sorting-with-multiple-fields/46458824#46458824", "title": "Python elasticsearch-dsl sorting with multiple fields", "body": "<pre><code>data_input = {\"time\":\"asc\", \"another_field\":\"desc\"}\nargs = [{k:{'order':v}} for k,v in data_input.items()]\ns.sort(*args)\n</code></pre>\n\n<p>I guess is what you are asking? Its hard to tell ...</p>\n"}], "owner": {"reputation": 1618, "user_id": 3450594, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a0796fb7fc7c610d4f01fc6e852382f1?s=128&d=identicon&r=PG&f=1", "display_name": "JChao", "link": "https://stackoverflow.com/users/3450594/jchao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 1, "accepted_answer_id": 46458824, "answer_count": 1, "score": 1, "last_activity_date": 1506555940, "creation_date": 1506555741, "question_id": 46458803, "link": "https://stackoverflow.com/questions/46458803/python-elasticsearch-dsl-sorting-with-multiple-fields", "title": "Python elasticsearch-dsl sorting with multiple fields", "body": "<p>I'm trying to form the command for sorting using elasticsearch-dsl. However I have trouble passing the variable in correct format in.</p>\n\n<p>The format should be</p>\n\n<pre><code>s=Search()\ns = s.sort({\"time\":{\"order\":\"asc\"}}, {\"anoter_field\":{\"order\":\"desc\"}})\ns.execute()\n</code></pre>\n\n<p>The problem is I'm trying to put <code>{\"time\":{\"order\":\"asc\"}}, {\"anoter_field\":{\"order\":\"desc\"}}</code> as a variable, but I can't seem to get this in the right syntax. I tried using dict, list, and string, and none seems to work.</p>\n\n<p>My input would be a dict that looks like </p>\n\n<pre><code>input = {\"time\":\"asc\", \"another_field\":\"desc\"}\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qfont"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1506558255, "last_edit_date": 1506558255, "creation_date": 1506557669, "answer_id": 46459014, "question_id": 46458776, "link": "https://stackoverflow.com/questions/46458776/fonts-menu-pyqt5-text-editor/46459014#46459014", "title": "Fonts Menu PyQt5 Text Editor", "body": "<p>Qt has a widget called <code>QFontDialog</code>, and that is perfect for this case, in the following part I show an example of its use:</p>\n\n<pre><code>def font_set(self):\n    font, ok = QFontDialog.getFont(self.text.font(), self)\n    if ok:\n        #QApplication.setFont(font)\n        self.text.setFont(font)\n        print(\"Display Fonts\", font)\n</code></pre>\n\n<p><em>Note:</em> You must change the following statement:</p>\n\n<pre><code>fontButton.triggered.connect(lambda: self.font_set)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>fontButton.triggered.connect(self.font_set)\n</code></pre>\n\n<p>Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ak9Kl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ak9Kl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 8086825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6OqQ.jpg?s=128&g=1", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/8086825/richard-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 0, "accepted_answer_id": 46459014, "answer_count": 1, "score": 1, "last_activity_date": 1506558490, "creation_date": 1506555458, "last_edit_date": 1506558490, "question_id": 46458776, "link": "https://stackoverflow.com/questions/46458776/fonts-menu-pyqt5-text-editor", "title": "Fonts Menu PyQt5 Text Editor", "body": "<p><strong>The Problem:</strong></p>\n\n<p>I am trying to find a way of adding a font style to text that as written by the user of my PyQt5 text editor program. I don't want to code each font into some kind of menu manually and I am wondering if there is a built-in way for the user to select their font style for their text like this (Notepad font picker):</p>\n\n<p><a href=\"https://i.stack.imgur.com/BVfoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVfoG.png\" alt=\"Notepad fonts\"></a></p>\n\n<p>My code currently looks like this:</p>\n\n<pre><code>class App(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        self.title = 'Text Editor'\n        self.left = 10\n        self.top = 10\n        self.width = 1080\n        self.height = 920\n\n        self.widget = QWidget(self)\n        self.lbl    = QLabel(self)\n\n        self.text = QTextEdit(self.widget)\n        self.widget.setLayout(QVBoxLayout())\n        self.widget.layout().addWidget(self.text)\n        self.setCentralWidget(self.widget)\n        self.initUI()\n\n\n\n   def initUI(self):\n        self.setWindowTitle(self.title)\n        self.setGeometry(self.left, self.top, self.width, self.height)\n\n        toolBar = self.menuBar()\n        fileMenu = toolBar.addMenu('File')\n        editMenu = toolBar.addMenu('Edit')\n        toolsMenu = toolBar.addMenu('Tools')\n        helpMenu = toolBar.addMenu('Help')\n\n        fontButton = QAction('Configure Editor', self)\n        fontButton.setShortcut('Ctrl+E')\n        fontButton.triggered.connect(lambda: self.font_set)\n        toolsMenu.addAction(fontButton)\n\n        self.show()\n\n   def font_set(self):\n        print(\"Display Fonts\")\n\n\nif __name__ == '__main__':\napp = QApplication(sys.argv)\nex = App()\nsys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1506558011, "post_id": 46458728, "comment_id": 79873480, "body": "I am not familiar with these technologies, but this article, <a href=\"https://www.awsadvent.com/2016/12/21/paginating-aws-api-results-using-the-boto3-python-sdk/\" rel=\"nofollow noreferrer\">Paginating AWS API Results using the Boto3 Python SDK</a>, mentions &quot;Some Boto3 services [...] don\u2019t provide paginators&quot; which it further suggests &quot;You can also ask the individual service client\u2019s <code>can_paginate</code> method if it supports paginating,&quot; which could suggest &quot;If you get an error like this, it\u2019s time to roll up your sleeves and write your own paginator.&quot; Not sure if this is the case, but the article may explain more to help you."}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 4744494, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CFqxbVdNjr0/AAAAAAAAAAI/AAAAAAAAHqc/RtSqEvHDy7A/photo.jpg?sz=128", "display_name": "Ema", "link": "https://stackoverflow.com/users/4744494/ema"}, "is_accepted": true, "score": 7, "last_activity_date": 1511223547, "last_edit_date": 1511223547, "creation_date": 1511214027, "answer_id": 47401562, "question_id": 46458728, "link": "https://stackoverflow.com/questions/46458728/aws-athena-operation-cannot-be-paginated-get-query-results/47401562#47401562", "title": "AWS Athena - Operation cannot be paginated: get_query_results", "body": "<p>I'm posting the solution here in case anyone else comes across this question like I did... You have to send the QueryExecutionId from <code>response</code>.</p>\n\n<pre><code>query_id = response['QueryExecutionId']\n\nresponse_iterator = paginator.paginate(\n    QueryExecutionId=query_id,\n    PaginationConfig={\n        'MaxItems': 123,\n        'PageSize': 123,\n        'StartingToken': None\n    }\n)\n</code></pre>\n\n<p>Even still, if your query is going to take a while, you will need to implement a waiter function first and THEN paginate once you know the query has succeeded. I recommend checking the <code>State</code> value from the <code>get_query_execution</code> function.</p>\n"}], "owner": {"reputation": 6804, "user_id": 1934510, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f2e521fe728bb5d6e87db48df3c9114?s=128&d=identicon&r=PG", "display_name": "Filipe Ferminiano", "link": "https://stackoverflow.com/users/1934510/filipe-ferminiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "accepted_answer_id": 47401562, "answer_count": 1, "score": 1, "last_activity_date": 1511223547, "creation_date": 1506555066, "question_id": 46458728, "link": "https://stackoverflow.com/questions/46458728/aws-athena-operation-cannot-be-paginated-get-query-results", "title": "AWS Athena - Operation cannot be paginated: get_query_results", "body": "<p>I'm trying to use boto3 to run a query in AWS Athena. but I'm getting this error:</p>\n\n<pre><code> Operation cannot be paginated: get_query_results\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>client = boto3.client(\n    'athena',\n    aws_access_key_id=ACCESS_KEY,\n    aws_secret_access_key=SECRET_KEY,\n    region_name='us-east-1'\n)\n\nquery = \"\"\" \n\n    select 1;\n\n\"\"\"\nresponse = client.start_query_execution(\n    QueryString=query,\n    # QueryExecutionContext={\n    #     'Database': 'Test45'\n    # },\n    ResultConfiguration={\n        'OutputLocation': 's3://dft-dwh-files/raw_data/google_analytics/dev-test/'\n    }\n )\n\n\npaginator = client.get_paginator('get_query_results')\n\nresponse_iterator = paginator.paginate(\n    QueryExecutionId='string',\n    PaginationConfig={\n        'MaxItems': 123,\n        'PageSize': 123,\n        'StartingToken': 'bafe7afc-07b5-4622-9019-2e3c92853913'\n    }\n)\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1506584652, "post_id": 46458627, "comment_id": 79881965, "body": "If you have a single subplot, use <code>plt.suptitle()</code> as shown in <a href=\"https://stackoverflow.com/questions/7066121/how-to-set-a-single-main-title-above-all-the-subplots-with-pyplot\">this question</a>. I would hence mark this as duplicate."}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1506616183, "post_id": 46458627, "comment_id": 79903098, "body": "Thanks @ImportanceOfBeingErnest. I&#39;ve edited the question to show the result of using plt.suptitle(). It does move slightly, but still appears to be centered above the main body of the chart."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1506677565, "post_id": 46458627, "comment_id": 79926317, "body": "<code>plt.suptitle</code> puts the title in the middle of the figure. <a href=\"https://i.stack.imgur.com/W1vjN.png\" rel=\"nofollow noreferrer\">Example image</a>. Since you haven&#39;t shared all information to reproduce the issue, one cannot help here. If you have a problem, you may of course show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the issue which would allow to actually help you solve it."}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1506702493, "post_id": 46458627, "comment_id": 79940797, "body": "Yes, that sloppy of me. I&#39;ve rewritten the question with a code example. I can put images back in, but I&#39;m not sure they help. Your example looks like it is doing what I want. Where is this example from? A reverse image search doesn&#39;t turn anything up, so I&#39;m assuming you created it."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1506714160, "post_id": 46458627, "comment_id": 79946337, "body": "Yes, I created that image. But also your code does what you are asking. The blue title is <b>exctly</b> in the middle of the figure (letters start 203 pixels from the left and end 203 pixels from the right), and that is what the question asks for, right?"}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1507063024, "post_id": 46458627, "comment_id": 80060463, "body": "You&#39;re right. Not sure what I was thinking. Should I delete this non-question?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1507063325, "post_id": 46458627, "comment_id": 80060594, "body": "Since it is closed anyways and not really clear, you may indeed just delete it."}], "owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2078, "favorite_count": 0, "closed_date": 1506584662, "answer_count": 0, "score": 1, "last_activity_date": 1506702836, "creation_date": 1506554297, "last_edit_date": 1506702836, "question_id": 46458627, "link": "https://stackoverflow.com/questions/46458627/matplotlib-center-title-relative-to-entire-chart-including-axes", "closed_reason": "Duplicate", "title": "Matplotlib: center title relative to entire chart including axes", "body": "<p>In Matplotlib, centering the title centers it relative to the main body of the chart.</p>\n\n<p>Instead, I want to center it relative to the entire plot, including the y axis and the y axis label.</p>\n\n<p>How can I do this? I'm assuming that at the very least I can manually define the exact horizontal position of the title, but I can't even figure out how to do that.</p>\n\n<p>This generates a plot using title (in red) and supertitle (in blue). They're in slightly different positions, but they both appear to be centered relative to the main chart area of the text.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nmonth = ['Jan', 'Feb', 'Mar', 'Apr']\nvolume = [2900, 1500, 2400, 1200]\nd = pd.DataFrame({'Month': month, 'Volume': volume})\n_, ax = plt.subplots()\nax.set(ylabel='Volume (cbm)', xlabel='')\nb = d.plot(kind='bar', y=\"Volume\", x=\"Month\", ax=ax)\nplt.title('Title', color='red')\nplt.suptitle('Title', color='blue')\nplt.show()\n</code></pre>\n\n<p>The output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/F1pCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1pCu.png\" alt=\"the output\"></a></p>\n"}, {"tags": ["python", "mongodb", "pandas", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 7113800, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b508b2e340c0ed13eb67177fc638bfa3?s=128&d=identicon&r=PG&f=1", "display_name": "TB.M", "link": "https://stackoverflow.com/users/7113800/tb-m"}, "edited": false, "score": 0, "creation_date": 1515145989, "post_id": 46898563, "comment_id": 83197596, "body": "Use colon (:) after $set keyword."}], "tags": [], "owner": {"reputation": 1308, "user_id": 5068345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DgkD5.png?s=128&g=1", "display_name": "daemon24", "link": "https://stackoverflow.com/users/5068345/daemon24"}, "is_accepted": true, "score": 0, "last_activity_date": 1508819000, "last_edit_date": 1508819000, "creation_date": 1508792816, "answer_id": 46898563, "question_id": 46458618, "link": "https://stackoverflow.com/questions/46458618/how-can-i-update-a-whole-collection-in-mongodb-and-not-document-by-document/46898563#46898563", "title": "How can I update a whole collection in MongoDB and not document by document?", "body": "<p>You can use <a href=\"https://api.mongodb.com/python/2.7.2/examples/bulk.html#unordered-bulk-write-operations\" rel=\"nofollow noreferrer\">unordered-bulk-write-operations</a> and update all the documents in a single batch. This will improve the performance.</p>\n\n<pre><code>    bulk_update = cll.initialize_unordered_bulk_op()\n    for index, row in df.iterrows():\n       _id=row['_id']\n       new_value=row['new_field']\n       bulk_update.find({'_id':_id}).update_one({'$set'{'new_field':new_value}})\n    bulk_update.execute()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8678246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/brqwc.jpg?s=128&g=1", "display_name": "Ricardo08", "link": "https://stackoverflow.com/users/8678246/ricardo08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 1, "accepted_answer_id": 46898563, "answer_count": 1, "score": 1, "last_activity_date": 1508819000, "creation_date": 1506554216, "question_id": 46458618, "link": "https://stackoverflow.com/questions/46458618/how-can-i-update-a-whole-collection-in-mongodb-and-not-document-by-document", "title": "How can I update a whole collection in MongoDB and not document by document?", "body": "<p>I'm trying to update a collection in MongoDB after doing some analysis using pandas, this is my code:</p>\n\n<pre><code>client=MongoClient()\ndb=client.database\ncll=db.collection\n\ncursor=cll.find()\ndf=pd.DataFrame(list(cursor))\n\ndf['new_field'] = df['existing_field_A'].apply(lambda x: personalized_function(x))\n\nfor index, row in df.iterrows():\n    _id=row['_id']\n    new_value=row['new_field']\n    cll.update_one({'_id':_id}, {'$set':{'new_field':new_value}})\n</code></pre>\n\n<p>The code works fine, but it takes to long. I would like to know if there's a better way to update my collection.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 3465, "user_id": 1265565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6adf0f19a326183d1f049e5a5655c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Rohan", "link": "https://stackoverflow.com/users/1265565/rohan"}, "edited": false, "score": 0, "creation_date": 1506555007, "post_id": 46458647, "comment_id": 79872788, "body": "<code>float</code> can be used if test_score is non-integer."}], "tags": [], "owner": {"reputation": 304, "user_id": 7381880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b867f0a734ac07cf6b43e725836ba5eb?s=128&d=identicon&r=PG&f=1", "display_name": "ADug", "link": "https://stackoverflow.com/users/7381880/adug"}, "is_accepted": false, "score": 2, "last_activity_date": 1506554450, "creation_date": 1506554450, "answer_id": 46458647, "question_id": 46458565, "link": "https://stackoverflow.com/questions/46458565/test-score-program-python/46458647#46458647", "title": "Test Score Program - Python", "body": "<p>You are comparing a string and an int when you do <code>(test_score &gt;= 0) and (test_score &lt;= 100)</code>, you want to convert the input to an int when you are comparing it with a number.</p>\n\n<p>Try this:</p>\n\n<pre><code>    test_score =input(\"Enter test score: \")\n\n    if test_score == \"end\":\n        break\n    elif (int(test_score) &gt;= 0) and (int(test_score) &lt;= 100):\n        score_total += int(test_score)\n        counter += 1\n    else:\n        print(\"Test score must be from 0 through 100. Try again&gt;\")\n</code></pre>\n\n<p>I am simply converting test_score to an int when it is being compared to a number. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14504233, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u1bk67DlvfA/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckz2dTNf3fgLzWiC3VMR4N7qeZzfg/s96-c/photo.jpg?sz=128", "display_name": "air conditioner", "link": "https://stackoverflow.com/users/14504233/air-conditioner"}, "is_accepted": false, "score": 0, "last_activity_date": 1603720958, "creation_date": 1603720958, "answer_id": 64538678, "question_id": 46458565, "link": "https://stackoverflow.com/questions/46458565/test-score-program-python/64538678#64538678", "title": "Test Score Program - Python", "body": "<p>It's already late but this is for anyone who happened to have the same question. You can try separating 'int' from the Test_score = input(&quot;Enter test score:&quot;) :)</p>\n<pre><code>while True:\n        test_score = input(&quot;Enter test score: &quot;)\n        if test_score == 'end':\n            break\n        test_score = int(test_score)\n        if 0 &lt;= test_score &lt;= 100:\n            score_total += test_score\n            counter += 1\n    \n        else:\n            print(\n                &quot;Test score must be from 0 through 100. Score discarded. Try again.&quot;\n            )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8686173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/763246d38b18cda2cc451de8f7777822?s=128&d=identicon&r=PG&f=1", "display_name": "allisonawesome", "link": "https://stackoverflow.com/users/8686173/allisonawesome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2240, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1603720958, "creation_date": 1506553863, "question_id": 46458565, "link": "https://stackoverflow.com/questions/46458565/test-score-program-python", "title": "Test Score Program - Python", "body": "<p>I am supposed to be creating a program that will create an average test score using the input of the user. I also need to make sure that when the user says 'end' instead of inputting a score that the program with break and will give the user the results. However, I can not get the program to run correctly and would like some input. </p>\n\n<pre><code>#!/usr/bin/env python3\n\n#display a welcome message\nprint(\"The test Scores program\")\nprint()\nprint(\"Enter end to stop input\") #change from 999 to end\nprint(\"========================\")\nprint()\n\n#variables\ncounter = 0\nscore_total = 0\ntest_score = 0\n\nchoice = \"y\"\n\nwhile choice.lower():\n    while True:\n        test_score =input(\"Enter test score: \")\n\n        if test_score == \"end\":\n            break\n        elif (test_score &gt;= 0) and (test_score &lt;= 100):\n            score_total += test_score\n            counter += 1\n        else:\n            print(\"Test score must be from 0 through 100. Try again&gt;\")\n\n    #calculate average score\n    average_score = round(score_total / counter)\n\n    #display result\n    print(\"=======================\")\n    print(\"Total Score: \", score_total)\n    print(\"Average Score: \", average_score)\n    print()\n\n    #see if user wants to continue\n    choice = input(\"Continue (y/n)? \")\n    print()\n\nprint(\"Bye\")\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 1325, "user_id": 6139818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zV0XZ.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6139818/tom"}, "edited": false, "score": 0, "creation_date": 1506555248, "post_id": 46458548, "comment_id": 79872851, "body": "I believe your problem doesn&#39;t have anything related to your <code>wait</code>. You problem is probably that the element you want to click is not in your viewport, so you have to scroll first. Please check <a href=\"https://stackoverflow.com/questions/11908249/debugging-element-is-not-clickable-at-point-error\">this question</a> or <a href=\"http://www.seleniumeasy.com/selenium-tutorials/element-is-not-clickable-at-point-selenium-webdriver-exception\" rel=\"nofollow noreferrer\">this tutorial</a>. Maybe it can help."}, {"owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "reply_to_user": {"reputation": 1325, "user_id": 6139818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zV0XZ.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6139818/tom"}, "edited": false, "score": 0, "creation_date": 1506555602, "post_id": 46458548, "comment_id": 79872933, "body": "I was seeing few minutes ago that I&#39;m not having this problem with Firefox , it&#39;s really strange that only happens with Chrome, will check the links you provided , thanks,"}, {"owner": {"reputation": 1325, "user_id": 6139818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zV0XZ.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/6139818/tom"}, "edited": false, "score": 0, "creation_date": 1506556253, "post_id": 46458548, "comment_id": 79873066, "body": "Unfortunately sometimes different browsers have different behaviours. Good luck."}, {"owner": {"reputation": 4194, "user_id": 8164333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lCAZ3.jpg?s=128&g=1", "display_name": "iamsankalp89", "link": "https://stackoverflow.com/users/8164333/iamsankalp89"}, "edited": false, "score": 0, "creation_date": 1506580198, "post_id": 46458548, "comment_id": 79879455, "body": "Share the URL so I can check it"}, {"owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "edited": false, "score": 0, "creation_date": 1506616524, "post_id": 46458548, "comment_id": 79903286, "body": "sorry, it&#39;s an internal web application"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "edited": false, "score": 0, "creation_date": 1506616600, "post_id": 46459842, "comment_id": 79903336, "body": "Yes, the calendar is the one blocking the click, that&#39;s the thing , even if I add a wait like the one I mentioned above: WebDriverWait(self.driver, 10).until(EC.element_to_be_clickable((By.XPATH, &quot;pay_type_list_item_id_salary&quot;]&quot;))) or WebDriverWait(self.driver, 10).until(EC.invisibility_of_element_located((By.XPATH, &quot;calendar table&quot;]&quot;))) , the second to wait until the calendar is closed but nothing works , this is only happening in Chrome , in Firefox works using any of the 2 explicit waits"}], "tags": [], "owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 1, "last_activity_date": 1506564377, "creation_date": 1506564377, "answer_id": 46459842, "question_id": 46458548, "link": "https://stackoverflow.com/questions/46458548/explicit-wait-not-working-for-a-checkbox-selenium/46459842#46459842", "title": "Explicit wait not working for a checkbox selenium", "body": "<p>The error you are getting is indicating that another element is covering the element you are trying to click. If you look at the error message (you really should post the full error message in your question), it will tell you the HTML of the element that is in the way. That will give you a good idea of what element is blocking the click so you can find it and figure out what part of the page it is. Then you can wait for it to get out of the way. From your description, it sounds like you need to add a wait for the calendar to close.</p>\n"}], "owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506564377, "creation_date": 1506553758, "last_edit_date": 1506555674, "question_id": 46458548, "link": "https://stackoverflow.com/questions/46458548/explicit-wait-not-working-for-a-checkbox-selenium", "title": "Explicit wait not working for a checkbox selenium", "body": "<p>I'm trying to implement an explicit wait before giving a click on a checkbox:</p>\n\n<pre><code>WebDriverWait(self.driver, 10).until(EC.element_to_be_clickable((By.XPATH, \"pay_type_list_item_id_salary\"]\")))\n\nself.driver.find_element_by_xpath('//input[@id=\"pay_type_list_item_id_salary\"]').click()\n</code></pre>\n\n<p>My problem is that my explicit wait keeps sending the error:</p>\n\n<blockquote>\n  <p>not clickable at point (663, 478). Other element would receive the click.</p>\n</blockquote>\n\n<p>I'm trying to use different kind of explicit waits like <code>visibility_of_element_located</code> or <code>invisibility_of_element_located</code> (using an element from the previous step on my script), but no luck with those options.</p>\n\n<p>If I add a <code>time.sleep(1)</code> between the 2 lines my scripts works but I know it's not the most efficient thing to use <code>time.sleep</code>.</p>\n\n<p>The previous step before this one opens a calendar and I'm not sure if it tries to give the click when the calendar is closing and that's the reason to receive this error.</p>\n"}, {"tags": ["python", "macos", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1506554046, "post_id": 46458537, "comment_id": 79872564, "body": "What does <code>import sys; print(sys.version)</code> give you?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1506554210, "post_id": 46458537, "comment_id": 79872607, "body": "How much memory do you have?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1506554575, "post_id": 46458537, "comment_id": 79872691, "body": "Also, what <b>exactly</b> are you passing to <code>f = open(&#39;file_name&#39;, &#39;r&#39;)</code> when it fails?"}, {"owner": {"reputation": 768, "user_id": 7419656, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/232d47a20e2ca36fd17ca7833c513f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Ssswift", "link": "https://stackoverflow.com/users/7419656/ssswift"}, "edited": false, "score": 1, "creation_date": 1506555209, "post_id": 46458537, "comment_id": 79872845, "body": "There&#39;s a million &quot;OSError: [Errno 22] when I try to .read()&quot; questions on SO already.  What makes this one unique?  Without exact repro steps and data, it&#39;s impossible to answer."}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1506580269, "post_id": 46458537, "comment_id": 79879497, "body": "@juanpa.arrivillaga gives me this:  3.6.1 (default, Apr  4 2017, 09:40:21)  [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.38)]"}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1506580303, "post_id": 46458537, "comment_id": 79879522, "body": "@user2357112 I have 16GB of memory"}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "edited": false, "score": 0, "creation_date": 1506580683, "post_id": 46458537, "comment_id": 79879702, "body": "@I am passing a 3.58GB file to open. From debug information, it seems that the open method works just as fine."}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "reply_to_user": {"reputation": 768, "user_id": 7419656, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/232d47a20e2ca36fd17ca7833c513f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Ssswift", "link": "https://stackoverflow.com/users/7419656/ssswift"}, "edited": false, "score": 0, "creation_date": 1506580728, "post_id": 46458537, "comment_id": 79879721, "body": "@Ssswift sorry for confusing. I have added more information."}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "edited": false, "score": 0, "creation_date": 1506580810, "post_id": 46458537, "comment_id": 79879768, "body": "Acctually X_train.npy is the training set of a Kaggle project. The same scripts works well on Ubuntu 16.04."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1506585534, "post_id": 46458537, "comment_id": 79882466, "body": "are you using 32bit versions of Python?"}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1506587219, "post_id": 46458537, "comment_id": 79883584, "body": "@juanpa.arrivillaga I am sure it is a 64bit version"}, {"owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "edited": false, "score": 0, "creation_date": 1506587236, "post_id": 46458537, "comment_id": 79883595, "body": "&gt;&gt;&gt; import platform &gt;&gt;&gt; print(platform.architecture()) (&#39;64bit&#39;, &#39;&#39;)"}, {"owner": {"reputation": 445, "user_id": 2736851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14beae117f11d6cc6f205ab15371fcc?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/2736851/shailesh"}, "edited": false, "score": 0, "creation_date": 1509028910, "post_id": 46458537, "comment_id": 80861917, "body": "I am running into the same error (3.6GB file) inside a Jupyter notebook. When I execute the file.read() in the python shell, the read operation is successful."}, {"owner": {"reputation": 5071, "user_id": 1164246, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0280d4df417855965a0964d22766c012?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1164246/daniel"}, "edited": false, "score": 0, "creation_date": 1534785392, "post_id": 46458537, "comment_id": 90821301, "body": "Having the exact same issue."}], "owner": {"reputation": 1513, "user_id": 6334174, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/22c62af5311ceebbc60b4484821211a9?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/6334174/zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1238, "favorite_count": 0, "closed_date": 1582748688, "answer_count": 0, "score": 3, "last_activity_date": 1506581200, "creation_date": 1506553659, "last_edit_date": 1506581200, "question_id": 46458537, "link": "https://stackoverflow.com/questions/46458537/oserror-errno-22-invalid-argument-for-read-in-python", "closed_reason": "Duplicate", "title": "OSError: [Errno 22] Invalid argument for read() in Python", "body": "<p>I am using Python to read a large file in macOS 10.13. It seems that everytime I try to read a large file it just simply fails. Code:</p>\n\n<pre><code>f = open('file_name', 'r')\n\nx = f.read()\n\nprint(x)\n</code></pre>\n\n<p>The scripts work well when the file <code>file_name</code> is small, but fails when reading large files (in my case, 3.5GB):</p>\n\n<pre><code>/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/bin/python3.6 /Users/mengzhao/PycharmProjects/testread/readthisfile.py\nTraceback (most recent call last):\n  File \"/Users/mengzhao/PycharmProjects/testread/readthisfile.py\", line 3, in &lt;module&gt;\n    x = f.read()\nOSError: [Errno 22] Invalid argument\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I have 16GB memory and I am sure it is not because of the memory. And <code>sys.version</code> gives me this:</p>\n\n<pre><code>3.6.1 (default, Apr  4 2017, 09:40:21) \n[GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.38)]\n</code></pre>\n\n<p>And it does not matter whether I use 'rb' or 'r', I just have the same problem. Here are some debug information after the first line is executed. It seems that the <code>open</code> method is fine: </p>\n\n<p><a href=\"https://i.stack.imgur.com/zNQU2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zNQU2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, I changed to <code>python 2.7.10</code> and the code works. It seems that the problem has something to do with <code>Python3</code> on Mac. Both <code>Python 3.5.2</code> and <code>Python 3.6.1</code> does not work.</p>\n\n<p>Any ideas on how to fix this?</p>\n"}, {"tags": ["python", "ajax", "flask"], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 2, "last_activity_date": 1506562308, "last_edit_date": 1506562308, "creation_date": 1506555537, "answer_id": 46458782, "question_id": 46458478, "link": "https://stackoverflow.com/questions/46458478/use-jquery-ajax-to-call-a-server-side-function-on-flask/46458782#46458782", "title": "Use Jquery $.ajax to call a server side function on Flask", "body": "<p>Remove the arguments to the view function. Access posted data with <code>request.form</code>. Return a JSON response using <code>jsonify</code>. The view <em>must</em> return a response from each execution path.</p>\n\n<pre><code>@app.route('/test1', methods=['GET', 'POST'])\ndef test1():\n    if request.form.get('registration') == 'success':\n        return jsonify({'abc': 'successfuly registered'})\n\n    return jsonify({'abc': 'registration unsuccessful'})\n</code></pre>\n"}], "owner": {"reputation": 465, "user_id": 6642460, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/311c5a6548cc55448c4c0820dc3ecaf6?s=128&d=identicon&r=PG&f=1", "display_name": "Rimo", "link": "https://stackoverflow.com/users/6642460/rimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6963, "favorite_count": 1, "closed_date": 1506556704, "accepted_answer_id": 46458782, "answer_count": 1, "score": 4, "last_activity_date": 1515598202, "creation_date": 1506553328, "last_edit_date": 1515598202, "question_id": 46458478, "link": "https://stackoverflow.com/questions/46458478/use-jquery-ajax-to-call-a-server-side-function-on-flask", "closed_reason": "Duplicate", "title": "Use Jquery $.ajax to call a server side function on Flask", "body": "<p>I want to call a server side function using Ajax. </p>\n\n<p>I have found a straightforward example for PHP <a href=\"https://stackoverflow.com/questions/2269307/using-jquery-ajax-to-call-a-php-function\">in this post</a>. I think the community would improve if we could include this very same example but for Python / Flask MVC framework.  </p>\n\n<p>This is the ajax code on the View side, called test.html:</p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\nfunction create () {\n$.ajax({\nurl:\"test1\", //the page containing python script\ntype: \"post\", //request type,\ndataType: 'json',\ndata: {registration: \"success\", name: \"xyz\", email: \"abc@gmail.com\"},\nsuccess:function(result){\nconsole.log(result.abc);\n      }\n    });\n   } \n&lt;/script&gt;\n</code></pre>\n\n<p>And this would be the Python code on the Controller:</p>\n\n<pre><code>@app.route('/test', methods=['GET','POST'])\n    def test():\n        return render_template(\"test.html\", brand = brand)\n\n@app.route('/test1', methods=['GET','POST'])\n    def test1():\n        if registration == \"success\":\n            return json.dump({\"abc\":'successfuly registered'});\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "type-hinting", "static-typing"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1506554928, "post_id": 46458470, "comment_id": 79872771, "body": "I think there was some chatter on a Python mailing list about making the resolution of type annotations lazy so you could define things later (in your example, define <code>Entity</code> below all the code)."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1506553877, "post_id": 46458497, "comment_id": 79872529, "body": "<a href=\"https://docs.python.org/3/library/typing.html#typing.get_type_hints\" rel=\"nofollow noreferrer\"><code>typing.get_type_hints</code></a> is the way to resolve type hints with forward references, if you need to do that."}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 9, "last_activity_date": 1506554775, "last_edit_date": 1506554775, "creation_date": 1506553439, "answer_id": 46458497, "question_id": 46458470, "link": "https://stackoverflow.com/questions/46458470/should-you-put-quotes-around-type-annotations-in-python/46458497#46458497", "title": "Should you put quotes around type annotations in python", "body": "<p>Putting quotes around type hints is something that makes sense when making a <a href=\"https://www.python.org/dev/peps/pep-0484/#forward-references\" rel=\"noreferrer\">Forward Reference</a> according to PEP 484. In this case putting quotes around a name is used to subdue a NameError that would occur.</p>\n\n<p>In other cases, don't use quotes, it doesn't result in the hint you want: </p>\n\n<pre><code>&gt;&gt;&gt; def bad_foo(a: 'int'):\n...     pass\n&gt;&gt;&gt; def good_foo(a: int):\n...     pass\n&gt;&gt;&gt; bad_foo.__annotations__['a'] == good_foo.__annotations__['a']\nFalse\n</code></pre>\n\n<p>though for now type checkers (mypy, atleast) don't seem to treat these differently, I wouldn't be sure if that would be the case in the future. Best to be clear and not use quotes when you actually don't need them. </p>\n"}], "owner": {"reputation": 853, "user_id": 5434860, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/821a186146724ec1ffd9e596bc0051ea?s=128&d=identicon&r=PG&f=1", "display_name": "retodaredevil", "link": "https://stackoverflow.com/users/5434860/retodaredevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2975, "favorite_count": 3, "accepted_answer_id": 46458497, "answer_count": 1, "score": 16, "last_activity_date": 1506554775, "creation_date": 1506553277, "question_id": 46458470, "link": "https://stackoverflow.com/questions/46458470/should-you-put-quotes-around-type-annotations-in-python", "title": "Should you put quotes around type annotations in python", "body": "<p>What's the difference between these two functions? I've seen people put quotes around type annotations and other times leave them out but I couldn't find why people choose to use one or the other.</p>\n\n<pre><code>def do_something(entity: Entity):\n    pass\ndef do_something(entity: 'Entity'):\n    pass\n</code></pre>\n\n<p>Are there advantages or disadvantages to any of these?</p>\n"}, {"tags": ["python", "numpy", "numerical-methods", "numerical"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1506553350, "post_id": 46458456, "comment_id": 79872404, "body": "Do you understand what the exception means?  You are using Python version 3.x??"}, {"owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1506553682, "post_id": 46458456, "comment_id": 79872479, "body": "Ah. In Python 3 (yes, that&#39;s the one I&#39;m using) <code>range()</code> returns an interator, not a list."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 3, "creation_date": 1506554195, "post_id": 46458456, "comment_id": 79872604, "body": "After you fix the major source of error, see <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.diff.html\" rel=\"nofollow noreferrer\"><code>numpy.diff</code></a> which basically does something similar but is a bit more flexible."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1506554262, "post_id": 46458456, "comment_id": 79872621, "body": "Or even <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.math.html#sums-products-differences\" rel=\"nofollow noreferrer\">ediff1d</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": true, "score": 2, "last_activity_date": 1506553984, "last_edit_date": 1506553984, "creation_date": 1506553669, "answer_id": 46458539, "question_id": 46458456, "link": "https://stackoverflow.com/questions/46458456/numpy-numerical-differentiation/46458539#46458539", "title": "numpy numerical differentiation", "body": "<p>In Python v3.x <code>range()</code> creates a <a href=\"https://docs.python.org/3/library/stdtypes.html#ranges\" rel=\"nofollow noreferrer\">range object</a> instead of a list.  Apparently range objects don't support arithmetic. Try using a <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.arange.html\" rel=\"nofollow noreferrer\">numpy ndarray</a> instead.</p>\n\n<pre><code>x = np.arange(nodisk_data.shape[1])\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 8322295, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mx0gd.jpg?s=128&g=1", "display_name": "Jim421616", "link": "https://stackoverflow.com/users/8322295/jim421616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 0, "accepted_answer_id": 46458539, "answer_count": 1, "score": 2, "last_activity_date": 1511545611, "creation_date": 1506553193, "last_edit_date": 1508931628, "question_id": 46458456, "link": "https://stackoverflow.com/questions/46458456/numpy-numerical-differentiation", "title": "numpy numerical differentiation", "body": "<p>I've plotted a curve along the width of an array, of the sum of the array columns:</p>\n\n<pre><code>import numpy as np\nfrom astropy.io import fits\nimport matplotlib.pyplot as plt\n\n#def plot_slope(x, y):\n#    xs = x[1:] - x[:-1]\n#    ys = y[1:] - y[:-1]\n#    plt.plot(x[1:], ys / xs)\n\nhdulist = fits.open('w1_subtracted_2_deg.fits')\nnodisk_data, nodisk_header = hdulist[0].data, hdulist[0].header\n\nx = range(nodisk_data.shape[1])\ny = np.sum(nodisk_data, axis = 0)\nxticks = [0, 183, 365, 547, 729, 912, 1095, 1277, 1459]\nlong_marks = [24, 18, 12, 6, 0, 354, 348, 342, 335]\n\nax = plt.axes()\nax.set_xticks(xticks)\nax.set_xticklabels(long_marks)\n\nplt.plot(x, y, linewidth = 0.5, color = 'red')\n#plot_slope(x, y)\nplt.title('Longitudinal sum of flux density per steradian')\nplt.xlabel(r'Galactic longitude, $\\ell$')\nplt.ylabel(r'Summed flux density per steradian, $MJ.sr^{-1}$')\nplt.grid(True)\nplt.show()\n\nplt.savefig('add_cols.png')\n\nhdulist.close()\n</code></pre>\n\n<p>The commented-out function is my attempt at numerically computing the derivative of the curve, but I get a</p>\n\n<pre><code>  File \"C:/Users/Jeremy/Dropbox/Astro480/NEOWISE/add_cols.py\", line 6, in plot_slope\n    xs = x[1:] - x[:-1]\n\nTypeError: unsupported operand type(s) for -: 'range' and 'range'\n</code></pre>\n\n<p>The questions <a href=\"https://stackoverflow.com/questions/21069122/numerical-differentiation\">here</a> and <a href=\"https://stackoverflow.com/questions/42547027/numerical-differentiation-in-python\">here</a> aren't quite what I'm trying to solve. How can I fix my little function to plot the derivative? Or is there a built-in function to do it? All of the built-ins (such as <a href=\"https://docs.scipy.org/doc/scipy-0.18.1/reference/generated/scipy.misc.derivative.html\" rel=\"nofollow noreferrer\">scipy.misc.derivative</a> I've found depend on knowing the function you're differentiating.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "edited": false, "score": 0, "creation_date": 1506723496, "post_id": 46458460, "comment_id": 79950024, "body": "If I want to support more values, how can I do that? For example, <code>Survived</code> has three values, 0, 1 and 2. How can I calculate the value 1 among these three values?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1506724809, "post_id": 46458460, "comment_id": 79950352, "body": "You aren&#39;t being clear.  The average of <code>1</code> among all values that are <code>1</code> is <code>1</code>.  If you want the frequency of of <code>1</code> among all values, use <code>df.Survived.eq(1).mean()</code>.  If you want all at once use <code>df.Survived.value_counts(normalize=True)</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1506553214, "creation_date": 1506553214, "answer_id": 46458460, "question_id": 46458439, "link": "https://stackoverflow.com/questions/46458439/how-to-get-percentage-of-a-column-based-on-a-given-value/46458460#46458460", "title": "How to get percentage of a column based on a given value", "body": "<p>Use <code>pd.Series.mean</code></p>\n\n<pre><code>df.Survived.mean()\n\n0.5\n</code></pre>\n"}], "owner": {"reputation": 22458, "user_id": 5421539, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39375cb7a86a17c5b92b79d0fee6d169?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Yi Zhao", "link": "https://stackoverflow.com/users/5421539/joey-yi-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 46458460, "answer_count": 1, "score": 2, "last_activity_date": 1506553214, "creation_date": 1506553046, "question_id": 46458439, "link": "https://stackoverflow.com/questions/46458439/how-to-get-percentage-of-a-column-based-on-a-given-value", "title": "How to get percentage of a column based on a given value", "body": "<p>I have below dataset. I want to get the percentage of Survived which value is equal to 1. </p>\n\n<pre><code>     Survived                                               Name\n0           0                            Braund, Mr. Owen Harris\n1           1  Cumings, Mrs. John Bradley (Florence Briggs Th...\n2           1                             Heikkinen, Miss. Laina\n3           1       Futrelle, Mrs. Jacques Heath (Lily May Peel)\n4           0                           Allen, Mr. William Henry\n5           0                                   Moran, Mr. James\n6           0                            McCarthy, Mr. Timothy J\n7           0                     Palsson, Master. Gosta Leonard\n8           1  Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)\n9           1                Nasser, Mrs. Nicholas (Adele Achem)\n</code></pre>\n\n<p>I know I can get the value by this command:</p>\n\n<p><code>train_df.loc[train_df['Survived'] == 1].shape[0] / train_df.shape[0]</code></p>\n\n<p>but I am looking for a better solution. Is there a simpler way for doing this?</p>\n"}, {"tags": ["python", "opencv", "object-detection"], "comments": [{"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 3, "creation_date": 1506553662, "post_id": 46458415, "comment_id": 79872477, "body": "How about using feature detectors?"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1506555593, "post_id": 46458415, "comment_id": 79872929, "body": "@Zindarod The image might contain multiple objects of the same kind, so I&#39;m not sure if feature detectors would work."}, {"owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1506558855, "post_id": 46458415, "comment_id": 79873647, "body": "Please include a few sample images."}, {"owner": {"reputation": 908, "user_id": 7318908, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Gimzh.png?s=128&g=1", "display_name": "ROAR", "link": "https://stackoverflow.com/users/7318908/roar"}, "edited": false, "score": 0, "creation_date": 1506569506, "post_id": 46458415, "comment_id": 79876031, "body": "yeah... createsamples doesn&#39;t work well if original image (of item) has different width and height (if that&#39;s the case). Because when it rotates them it just cuts off the image. But there is a way to prevent it creating too big images. <code>-maxscale</code>"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "edited": false, "score": 0, "creation_date": 1506580319, "post_id": 46458415, "comment_id": 79879532, "body": "@Zindarod I have added some details and sample images that I am using to train the cascade classifier. Thanks!"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1506585715, "post_id": 46458415, "comment_id": 79882573, "body": "did you control, whether merging the object with the background did work? If there is a mistake, the alpha channel might not be applied correctly. See <a href=\"https://stackoverflow.com/questions/35125138/opencv-how-to-create-vec-file-to-use-with-opencv-traincascade/35130506#35130506\" title=\"opencv how to create vec file to use with opencv traincascade\">stackoverflow.com/questions/35125138/&hellip;</a>"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 1, "creation_date": 1506586116, "post_id": 46458415, "comment_id": 79882822, "body": "@Micka I actually didn&#39;t think of converting the image into grayscale before sending it to <code>createsamples</code>. It might fix the white background only problem that I will have to test it out later."}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1506591748, "post_id": 46458415, "comment_id": 79886725, "body": "one additonal comment: just converting to grayscale might not be enough. According to the comments under that answer, you&#39;ll have to fill be opaque pixels to black (or the value you want to use as background value)"}], "owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506580577, "creation_date": 1506552887, "last_edit_date": 1506580577, "question_id": 46458415, "link": "https://stackoverflow.com/questions/46458415/non-transformed-object-detection-with-opencv", "title": "Non-Transformed Object detection with OpenCV", "body": "<p>What I'm trying to do is to detect 2D objects in an image. The differences between this and typical eyes/faces detection however is that the 2D objects I'm trying to detect are not transformed in any way except <em>scaled</em>, <em>rotated</em> or <em>partially blocked</em> (ex. a certain icon in a computer screenshot.)</p>\n\n<p>I have tried to train a Haar cascade with one positive image (the object) and 600 negative image (randomly selected from a background image), however the result was not satisfactory. In particular, <code>opencv_createsamples</code> create weirdly scaled samples (parts are cut off, some are scaled too big). These were the parameters I used:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># Create samples\nopencv_createsamples -img positive_images/icon.png -bg negatives.txt\\\n  -num 1500 -bgcolor 0 -bgthresh 0 -maxxangle 0  -maxyangle 0 -maxzangle 6.28\\\n  -maxidev 40 -vec pos.vec -maxscale 2 -w 25 -h 25\n\n# Train cascade\nopencv_traincascade -data classifier -vec pos.vec -bg negatives.txt\\\n  -numStages 20 -minHitRate 0.999 -maxFalseAlarmRate 0.5 -numPos 1000\\\n  -numNeg 600 -w 25 -h 25 -mode ALL -precalcValBufSize 4096\\\n  -precalcIdxBufSize 4096\n</code></pre>\n\n<p>Since the task seems to be simpler than a general object detection task, I'm wondering if there are better ways of doing this. If not, what are some possible ways to get a better result?</p>\n\n<hr>\n\n<p>Edit, here are some sample images that I'm using:</p>\n\n<p>Sample (positive) object:<br>\n<a href=\"https://i.stack.imgur.com/wMOlu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMOlu.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sample backgrounds (2 of 600):<br>\n<a href=\"https://i.stack.imgur.com/UY3Mj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UY3Mj.png\" alt=\"enter image description here\"></a> <a href=\"https://i.stack.imgur.com/Aqhzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aqhzo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Some interesting things is that I tried directly using both <code>opencv_createsamples</code> (above) and the wrapper provided <a href=\"http://coding-robin.de/2013/07/22/train-your-own-opencv-haar-classifier.html\" rel=\"nofollow noreferrer\">here</a> (<a href=\"https://github.com/mrnugget/opencv-haar-classifier-training/blob/master/bin/createsamples.pl\" rel=\"nofollow noreferrer\">direct link</a>). With <code>opencv_createsamples</code> the result was not satisfactory. It was not detecting the sample image and classifying other unrelated objects as positive. With the wrapper however the result was a bit better but it only detects the object when there is a white background. I am not sure why using the wrapper would have that effect, but there might be a chance that my parameters, or the way I'm using, was incorrect.</p>\n\n<p>Directory structure:</p>\n\n<pre><code>- positive_images/\n    - icon.png\n- negative_images/\n    - 600 images\n- classifier/\n- positives.txt\n- negatives.txt\n</code></pre>\n"}, {"tags": ["python", "regex", "regex-lookarounds"], "answers": [{"tags": [], "owner": {"reputation": 5053, "user_id": 2421391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/980724d5505b7c2ee035c38b8adabd54?s=128&d=identicon&r=PG", "display_name": "scnerd", "link": "https://stackoverflow.com/users/2421391/scnerd"}, "is_accepted": false, "score": 4, "last_activity_date": 1506553207, "creation_date": 1506553207, "answer_id": 46458459, "question_id": 46458408, "link": "https://stackoverflow.com/questions/46458408/negative-lookahead-not-working-after-character-range-with-plus-quantifier/46458459#46458459", "title": "Negative lookahead not working after character range with plus quantifier", "body": "<p>Do a word boundary check <code>\\b</code> after the <code>+</code> to require it to get to the end of the word.</p>\n\n<pre><code>([a-zA-Z]+\\b)(?!:)\n</code></pre>\n\n<p><a href=\"http://regexr.com/3grho\" rel=\"nofollow noreferrer\">Here's an example run</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 2, "last_activity_date": 1610885002, "creation_date": 1610885002, "answer_id": 65760343, "question_id": 46458408, "link": "https://stackoverflow.com/questions/46458408/negative-lookahead-not-working-after-character-range-with-plus-quantifier/65760343#65760343", "title": "Negative lookahead not working after character range with plus quantifier", "body": "<p>The issue is related to <strong>backtracking</strong>: once your <code>[a-zA-Z]+</code> comes to a <code>:</code>, the engine steps back from the failing position, re-checks the lookahead match and finds a match whenver there are at least two letters before a colon, returning the one that is not immediately followed by <code>:</code>. See <a href=\"https://regex101.com/r/DlEmC9/3\" rel=\"nofollow noreferrer\">your regex demo</a>: <code>c</code> in <code>c:real</code> is not matched as there is no position to backtrack to, and <code>rea</code> in <code>real:c</code> is matched because <code>a</code> is not immediately followed with <code>:</code>.</p>\n<p><strong>Adding implicit requirement to the negative lookahead</strong></p>\n<p>Since you only need to match a sequence of letters not followed with a colon, you can explicitly add one more condition that is implied: <em>and not followed with another letter</em>:</p>\n<pre class=\"lang-php prettyprint-override\"><code>[A-Za-z]+(?![A-Za-z]|:)\n[A-Za-z]+(?![A-Za-z:])\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/TLLV2y/2\" rel=\"nofollow noreferrer\">regex demo</a>. Since both <code>[A-Za-z]</code> and <code>:</code> match a single character, it makes sense to put them into a single character class, so, <code>[A-Za-z]+(?![A-Za-z:])</code> is better.</p>\n<p><strong>Preventing backtracking into a word-like pattern by using a word boundary</strong></p>\n<p>As <a href=\"https://stackoverflow.com/a/46458459/3832970\">@scnerd suggests</a>, word boundaries can also help in these situations, but there is always a catch: word boundary meaning is context dependent (see a number of <em>ifs</em> in the <a href=\"https://stackoverflow.com/a/1324784/3832970\">word boundary explanation</a>).</p>\n<pre><code>[A-Za-z]+\\b(?!:)\n</code></pre>\n<p>is a valid solution here, because the input implies the words end with non-word chars (i.e. end of string, or chars other than letter, digits and underscore). See the <a href=\"https://regex101.com/r/TLLV2y/3\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>When does a word boundary fail?</em></p>\n<p><code>\\b</code> will not be the right choice when the main consuming pattern is supposed to match even if glued to other word chars. The most common example is matching numbers:</p>\n<ul>\n<li><code>\\d+\\b(?!:)</code> <a href=\"https://regex101.com/r/antZu5/1\" rel=\"nofollow noreferrer\">matches</a> <code>12</code> in <code>12,</code>, but not in <code>12:</code>, <em>and also</em> <code>12c</code> and <code>12_</code></li>\n<li><code>\\d+(?![\\d:])</code> <a href=\"https://regex101.com/r/antZu5/2\" rel=\"nofollow noreferrer\">matches</a> <code>12</code> in <code>12,</code> <em>and</em> <code>12c</code> and <code>12_</code>, not in <code>12:</code> only.</li>\n</ul>\n"}], "owner": {"reputation": 367, "user_id": 4419522, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-6YV-H_IhhJE/AAAAAAAAAAI/AAAAAAAABME/J7o0nl_RNrA/photo.jpg?sz=128", "display_name": "shyam padia", "link": "https://stackoverflow.com/users/4419522/shyam-padia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1610886840, "creation_date": 1506552854, "last_edit_date": 1610886840, "question_id": 46458408, "link": "https://stackoverflow.com/questions/46458408/negative-lookahead-not-working-after-character-range-with-plus-quantifier", "title": "Negative lookahead not working after character range with plus quantifier", "body": "<p>I am trying to implement a regex which includes all the strings which have any number of words but cannot be followed by a : and ignore the match if it does. I decided to use a negative look ahead for it.</p>\n\n<pre><code>/([a-zA-Z]+)(?!:)/gm\nstring: lame:joker\n</code></pre>\n\n<p>since i am using a character range it is matching one character at a time and only ignoring the last character before the : .\nHow do i ignore the entire match in this case?</p>\n\n<p>Link to regex101: <a href=\"https://regex101.com/r/DlEmC9/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/DlEmC9/1</a></p>\n"}, {"tags": ["python", "excel", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1506552771, "post_id": 46458372, "comment_id": 79872247, "body": "have you tried <code>pd.read_excel(skiprows=[0])</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 1, "creation_date": 1506606889, "post_id": 46458490, "comment_id": 79897010, "body": "Upvoted you, but I&#39;m new so it says it won&#39;t count.  That worked splendidly! I had been looking at the Pandas documentation for concatenate and couldn&#39;t figure this out. The only weird thing is it moved a couple columns to the end, but I think this might be because some of the people hid the columns with the ID numbers. Either way that&#39;s an easy fix for me. Thank you!!"}, {"owner": {"reputation": 1101, "user_id": 3626160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5qkD.png?s=128&g=1", "display_name": "TheAtomicOption", "link": "https://stackoverflow.com/users/3626160/theatomicoption"}, "reply_to_user": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1506621157, "post_id": 46458490, "comment_id": 79905905, "body": "No problem. Glad to help."}], "tags": [], "owner": {"reputation": 1101, "user_id": 3626160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5qkD.png?s=128&g=1", "display_name": "TheAtomicOption", "link": "https://stackoverflow.com/users/3626160/theatomicoption"}, "is_accepted": false, "score": 0, "last_activity_date": 1506553402, "creation_date": 1506553402, "answer_id": 46458490, "question_id": 46458372, "link": "https://stackoverflow.com/questions/46458372/can-you-use-pandas-python-to-concatenate-a-folder-of-xlsx-files-based-on-row-2/46458490#46458490", "title": "Can you use pandas/python to concatenate a folder of .xlsx files based on row 2?", "body": "<p>I'm not sure whether this will completely solve your import problems, but Pandas <code>read_excel()</code> has a <code>skipped_rows</code> parameter that you could pass to skip the first row. Note that its type is a zero-indexed list.</p>\n\n<p>Reference: <a href=\"http://pandas.pydata.org/pandas-docs/version/0.20/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/version/0.20/generated/pandas.read_excel.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "edited": false, "score": 0, "creation_date": 1506607004, "post_id": 46458566, "comment_id": 79897079, "body": "Worked great! Thank you for the help, did need to make sure skiprows=1 goes in the right spot."}], "tags": [], "owner": {"reputation": 174, "user_id": 6713740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4744c6117ef4eaed78b89d9d07058e8?s=128&d=identicon&r=PG&f=1", "display_name": "rko", "link": "https://stackoverflow.com/users/6713740/rko"}, "is_accepted": false, "score": 0, "last_activity_date": 1506553865, "creation_date": 1506553865, "answer_id": 46458566, "question_id": 46458372, "link": "https://stackoverflow.com/questions/46458372/can-you-use-pandas-python-to-concatenate-a-folder-of-xlsx-files-based-on-row-2/46458566#46458566", "title": "Can you use pandas/python to concatenate a folder of .xlsx files based on row 2?", "body": "<p>I would echo piRSQUARED's answer. pd.read_excel has skiprows but remember to pass skip rows as an iterable.</p>\n"}], "owner": {"reputation": 11, "user_id": 8686115, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UnsQYIKoNMc/AAAAAAAAAAI/AAAAAAAAAMg/7s4nrIWUJAw/photo.jpg?sz=128", "display_name": "Greg Hodgson", "link": "https://stackoverflow.com/users/8686115/greg-hodgson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506553865, "creation_date": 1506552588, "question_id": 46458372, "link": "https://stackoverflow.com/questions/46458372/can-you-use-pandas-python-to-concatenate-a-folder-of-xlsx-files-based-on-row-2", "title": "Can you use pandas/python to concatenate a folder of .xlsx files based on row 2?", "body": "<p>I'm having trouble using pandas to concatenate a very large folder of .xlsx files. The issue is we have some text written in the first row of each document that can't be removed. </p>\n\n<p>My path to the folder is set and the concatenate works. The issue is after the first file, it's removing the ID #'s in the first 2 columns when concatenating the rest of the files. So not only does the data not match going down each column, but I also have lost my unique identifiers. My best guess is this is due to the 1st row of text in each document.</p>\n\n<p>This is what I have so far. </p>\n\n<pre><code>files = [f for f in os.listdir(path) if f.endswith('.xlsx')]\n\niep_boy_df = pd.concat([pd.read_excel(os.path.join(path, f), sheetname='Academic Outlier List', encoding='utf-8') for f in files],\n               keys=files, names=['File Name', 'Row']).reset_index()\n</code></pre>\n\n<p>I've seen some ways to parse files using Python, but can you parse 50+ excel documents to skip row 1 and then pass them into pandas to concat into a DF? All in all I want row 1 to be excluded when concatenating.</p>\n\n<p>Still an intermediate here with Python so any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "opencv", "image-processing", "object-detection"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1506555439, "post_id": 46458356, "comment_id": 79872893, "body": "Could you be more specific, perhaps even provide some sample images of the concrete objects/scenarios you want to analyze?"}, {"owner": {"reputation": 17633, "user_id": 2858170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4263428b9b0e0aed365e264c7a2b044?s=128&d=identicon&r=PG&f=1", "display_name": "Piglet", "link": "https://stackoverflow.com/users/2858170/piglet"}, "edited": false, "score": 0, "creation_date": 1506598472, "post_id": 46458356, "comment_id": 79891005, "body": "everything is possible in OpenCV"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 6519387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9daad1f5664c5229e472531deb98783?s=128&d=identicon&r=PG&f=1", "display_name": "init_27", "link": "https://stackoverflow.com/users/6519387/init-27"}, "is_accepted": true, "score": 0, "last_activity_date": 1507619077, "creation_date": 1507619077, "answer_id": 46660494, "question_id": 46458356, "link": "https://stackoverflow.com/questions/46458356/liquid-detection-using-opencv-python/46660494#46660494", "title": "Liquid Detection using opencv python", "body": "<p>At an abstract level, it's impossible to detect liquids since liquids in general are reflexive, reflections mean the end of Image Processing</p>\n"}], "owner": {"reputation": 3, "user_id": 8686135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68ea819658fe203eb348f868f8a9f3e?s=128&d=identicon&r=PG&f=1", "display_name": "YukoSakiheko", "link": "https://stackoverflow.com/users/8686135/yukosakiheko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "accepted_answer_id": 46660494, "answer_count": 1, "score": -1, "last_activity_date": 1507619077, "creation_date": 1506552481, "question_id": 46458356, "link": "https://stackoverflow.com/questions/46458356/liquid-detection-using-opencv-python", "title": "Liquid Detection using opencv python", "body": "<p>Is there anyway to detect an irregularly shaped object, like liquids, in image processing? I'm particularly using OpenCV python. </p>\n"}, {"tags": ["python", "windows", "usb", "libusb"], "comments": [{"owner": {"reputation": 539, "user_id": 8436767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apCG8.jpg?s=128&g=1", "display_name": "Valentyn", "link": "https://stackoverflow.com/users/8436767/valentyn"}, "edited": false, "score": 0, "creation_date": 1506552186, "post_id": 46458303, "comment_id": 79872116, "body": "If i try to write in it(In [82]: dev.write(1,&#39;test&#39;)). I get USBError: [Errno 13] Access denied (insufficient permissions)"}, {"owner": {"reputation": 539, "user_id": 8436767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apCG8.jpg?s=128&g=1", "display_name": "Valentyn", "link": "https://stackoverflow.com/users/8436767/valentyn"}, "edited": false, "score": 0, "creation_date": 1506554781, "post_id": 46458303, "comment_id": 79872738, "body": "I found a problem. The device I am trying to talk with is not even seen by software provided by a Vendor. So next step will be to figure out why that is happening. I will keep posting if I find anything. BTW, the device is DI-4108 by DATAQ Instruments. I have tried to add a tag but I don&#39;t have enoug reputation for that."}], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 8436767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apCG8.jpg?s=128&g=1", "display_name": "Valentyn", "link": "https://stackoverflow.com/users/8436767/valentyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1528288932, "creation_date": 1528288932, "answer_id": 50720698, "question_id": 46458303, "link": "https://stackoverflow.com/questions/46458303/pyusb-error-usberror-errno-2-entity-not-found-using-libusb0-driver-windows/50720698#50720698", "title": "PyUSB error &quot;USBError: [Errno 2] Entity not found&quot; using libusb0 driver (Windows 10)", "body": "<p>Solution #1:\nIf your USB bulk device appears as libusb-win32 in the device manager. You need to change the libusb-win32 driver which uses libusb0 (v1.0.6.0)\n<a href=\"https://i.stack.imgur.com/eLWmK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLWmK.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>To libusbK USB device which uses libusbK driver (in my case v3.0.7.0). This will actually install libusbK driver and change the driver. This seamlessly can be done with <a href=\"https://zadig.akeo.ie\" rel=\"nofollow noreferrer\">Zadig free software</a> \n<a href=\"https://i.stack.imgur.com/DoZ0T.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DoZ0T.jpg\" alt=\"Zadig screenshot\"></a>\n<a href=\"https://i.stack.imgur.com/YGYMr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGYMr.jpg\" alt=\"libusbK USB device\"></a></p>\n\n<p>This will solve the problem with the error code</p>\n\n<pre><code>USBError: [Errno 2] Entity not found\n</code></pre>\n"}], "owner": {"reputation": 539, "user_id": 8436767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apCG8.jpg?s=128&g=1", "display_name": "Valentyn", "link": "https://stackoverflow.com/users/8436767/valentyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3335, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1528289360, "creation_date": 1506552126, "last_edit_date": 1528289360, "question_id": 46458303, "link": "https://stackoverflow.com/questions/46458303/pyusb-error-usberror-errno-2-entity-not-found-using-libusb0-driver-windows", "title": "PyUSB error &quot;USBError: [Errno 2] Entity not found&quot; using libusb0 driver (Windows 10)", "body": "<p>I am trying to establish communication with an usb device. I do have libusb1 and libusb installed in Python as well as driver installed for the device I am communicating with. The device appears as libusb-win32-devices in the Device Manager. I have tried to follow this tutorial <a href=\"https://github.com/walac/pyusb/blob/master/docs/tutorial.rst\" rel=\"nofollow noreferrer\">https://github.com/walac/pyusb/blob/master/docs/tutorial.rst</a> I am not sure what I am doing wrong. </p>\n\n<ul>\n<li>Windows 10</li>\n<li>Python: 2.7.15</li>\n<li>pyusb: version '1.0.2'</li>\n</ul>\n\n<p>Simple code example:</p>\n\n<pre><code>import usb\ndev = usb.core.find(idVendor=0x0683, idProduct=0x4108)\nif dev is None:\n       print 'Unable to find the usb device'\ndev.set_configuration()\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nUSBError                                  Traceback (most recent call last)\nY:\\All Projects\\Lab Equipment\\DataQ\\python\\DI-4108\\DI_4108_SANDBOX.py in &lt;module&gt;()\n      9\n     10\n---&gt; 11 dev.set_configuration()\n     12\n     13 # get an endpoint instance\n\nC:\\Anaconda2\\lib\\site-packages\\usb\\core.pyc in set_configuration(self, configuration)\n    867         without arguments is enough to get the device ready.\n    868         \"\"\"\n--&gt; 869         self._ctx.managed_set_configuration(self, configuration)\n    870\n    871     def get_active_configuration(self):\n\nC:\\Anaconda2\\lib\\site-packages\\usb\\core.pyc in wrapper(self, *args, **kwargs)\n    100         try:\n    101             self.lock.acquire()\n--&gt; 102             return f(self, *args, **kwargs)\n    103         finally:\n    104             self.lock.release()\n\nC:\\Anaconda2\\lib\\site-packages\\usb\\core.pyc in managed_set_configuration(self, device, config)\n    146\n    147         self.managed_open()\n--&gt; 148         self.backend.set_configuration(self.handle, cfg.bConfigurationValue)\n    149\n    150         # cache the index instead of the object to avoid cyclic references\n\nC:\\Anaconda2\\lib\\site-packages\\usb\\backend\\libusb1.pyc in set_configuration(self, dev_handle, config_value)\n    792     @methodtrace(_logger)\n    793     def set_configuration(self, dev_handle, config_value):\n--&gt; 794         _check(self.lib.libusb_set_configuration(dev_handle.handle, config_value))\n    795\n    796     @methodtrace(_logger)\n\nC:\\Anaconda2\\lib\\site-packages\\usb\\backend\\libusb1.pyc in _check(ret)\n    593             raise NotImplementedError(_strerror(ret))\n    594         else:\n--&gt; 595             raise USBError(_strerror(ret), ret, _libusb_errno[ret])\n    596\n    597     return ret\n\nUSBError: [Errno 2] Entity not found\n</code></pre>\n\n<p>I do get information about my device:</p>\n\n<pre><code>&gt; DEVICE ID 0683:4108 on Bus 002 Address 005 =================  bLength \n&gt; :   0x12 (18 bytes)  bDescriptorType        :    0x1 Device  bcdUSB   \n&gt; :  0x200 USB 2.0  bDeviceClass           :   0xff Vendor-specific \n&gt; bDeviceSubClass        :    0x0  bDeviceProtocol        :    0x0 \n&gt; bMaxPacketSize0        :   0x40 (64 bytes)  idVendor               :\n&gt; 0x0683  idProduct              : 0x4108  bcdDevice              : \n&gt; 0x100 Device 1.0  iManufacturer          :    0x1 Error Accessing\n&gt; String  iProduct               :    0x2 Error Accessing String \n&gt; iSerialNumber          :    0x3 Error Accessing String \n&gt; bNumConfigurations     :    0x1   CONFIGURATION 1: 500 mA\n&gt; ==================================    bLength              :    0x9 (9 bytes)    bDescriptorType      :    0x2 Configuration    wTotalLength \n&gt; :   0x20 (32 bytes)    bNumInterfaces       :    0x1   \n&gt; bConfigurationValue  :    0x1    iConfiguration       :    0x5 Error\n&gt; Accessing String    bmAttributes         :   0xc0 Self Powered   \n&gt; bMaxPower            :   0xfa (500 mA)\n&gt;     INTERFACE 0: Vendor Specific ===========================\n&gt;      bLength            :    0x9 (9 bytes)\n&gt;      bDescriptorType    :    0x4 Interface\n&gt;      bInterfaceNumber   :    0x0\n&gt;      bAlternateSetting  :    0x0\n&gt;      bNumEndpoints      :    0x2\n&gt;      bInterfaceClass    :   0xff Vendor Specific\n&gt;      bInterfaceSubClass :    0x0\n&gt;      bInterfaceProtocol :    0x0\n&gt;      iInterface         :    0x4 Error Accessing String\n&gt;       ENDPOINT 0x81: Bulk IN ===============================\n&gt;        bLength          :    0x7 (7 bytes)\n&gt;        bDescriptorType  :    0x5 Endpoint\n&gt;        bEndpointAddress :   0x81 IN\n&gt;        bmAttributes     :    0x2 Bulk\n&gt;        wMaxPacketSize   :   0x40 (64 bytes)\n&gt;        bInterval        :    0x0\n&gt;       ENDPOINT 0x1: Bulk OUT ===============================\n&gt;        bLength          :    0x7 (7 bytes)\n&gt;        bDescriptorType  :    0x5 Endpoint\n&gt;        bEndpointAddress :    0x1 OUT\n&gt;        bmAttributes     :    0x2 Bulk\n&gt;        wMaxPacketSize   :   0x40 (64 bytes)\n&gt;        bInterval        :    0x0\n</code></pre>\n\n<p>So, the final question is: How do I get premissions in Windows? In Linux, you can do it through udev. How to fix this problem in Windows?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1506551685, "creation_date": 1506551685, "answer_id": 46458235, "question_id": 46458196, "link": "https://stackoverflow.com/questions/46458196/downsample-big-numpy-ndarray-on-if-condition-in-python/46458235#46458235", "title": "downsample big numpy.ndarray on if condition in python", "body": "<p>Use <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/arrays.indexing.html#basic-slicing-and-indexing\" rel=\"nofollow noreferrer\"><code>column-slicing</code></a> to select relevant columns and compare those against the thresholds in a vectorized manner to give us a mask of valid rows and then index into the rows for the rows filtered output -</p>\n\n<pre><code>out = data_table[(data_table[:,7] &gt; 0.2) &amp; (data_table[:,7] &lt; 0.75)]\n</code></pre>\n"}], "owner": {"reputation": 3252, "user_id": 5121448, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d03ec9caa5409449cb47f21db2c7c2aa?s=128&d=identicon&r=PG&f=1", "display_name": "carl", "link": "https://stackoverflow.com/users/5121448/carl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 46458235, "answer_count": 1, "score": 1, "last_activity_date": 1506551685, "creation_date": 1506551431, "question_id": 46458196, "link": "https://stackoverflow.com/questions/46458196/downsample-big-numpy-ndarray-on-if-condition-in-python", "title": "downsample big numpy.ndarray on if condition in python", "body": "<p>I have a large numpy.ndarray and I need to downsample this array based on the value of one column. My solution works, but is very slow</p>\n\n<pre><code>data_table = data_table[[i for i in range(0, len(data_table)) if data_table[i][7] &gt; 0.2 and data_table[i][7] &lt; 0.75]]\n</code></pre>\n\n<p>does anybody know what the fastest way is to do this?</p>\n"}, {"tags": ["python", "join", "dataframe", "merge"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 2816780, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5663479d22dc8e4eeed517e4698428b3?s=128&d=identicon&r=PG&f=1", "display_name": "itpdg", "link": "https://stackoverflow.com/users/2816780/itpdg"}, "is_accepted": false, "score": 0, "last_activity_date": 1506554506, "creation_date": 1506554506, "answer_id": 46458652, "question_id": 46458116, "link": "https://stackoverflow.com/questions/46458116/python-pandas-dataframe-fillna-with-column-in-different-dataframe/46458652#46458652", "title": "Python pandas dataframe fillna with column in different dataframe", "body": "<p>First, make a temporary df without NaNs. Then you can use boolean indexing:</p>\n\n<pre><code>df_tmp = df[df.gvkey != pd.np.nan]\nfor code, gv in zip(df_tmp[\"isin_code\"], df_tmp[\"gvkey\"]):\n    df1.at[df1.isin_code == code,\"gvkey\"] = gv\n</code></pre>\n\n<p>Maybe not the most elegant solution, but it should work.</p>\n\n<p><strong>EDIT</strong>: Or you add in the loop something like </p>\n\n<pre><code>if gv != pd.np.nan:\n</code></pre>\n\n<p>Then you don't need the df_tmp</p>\n"}, {"tags": [], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "is_accepted": true, "score": 2, "last_activity_date": 1506891662, "creation_date": 1506891662, "answer_id": 46516855, "question_id": 46458116, "link": "https://stackoverflow.com/questions/46458116/python-pandas-dataframe-fillna-with-column-in-different-dataframe/46516855#46516855", "title": "Python pandas dataframe fillna with column in different dataframe", "body": "<p>Don't use any loops. Merge the dataframes and use <code>numpy.where</code> with <code>pandas.inull</code> </p>\n\n<h2>Set things up</h2>\n\n<pre><code>from io import StringIO\n\nimport numpy\nimport pandas\n\nd1 = StringIO(\"\"\"\\\n     wrds_id    isin_code   gvkey   gvkey_new\n 0  1004    US0003611052    1004.0  1004.0\n 1  1005    US1948302047    Nan     1000.0\n 2  1006    US1948302047    Nan     1004.0\n 3  1007    US0309541011    Nan     1004.0\n 4  1007    US0003611052    1004.0  1004.0\n 5  1008    IL0006046119    Nan     1004.0\n 6  1008    US0003611052    1004.0  1004.0\n 7  1009    US4448591028    Nan     1004.0\n 8  1004    US4448591028    Nan     1004.0\n 9  1004    US4448591028    Nan     1004.0\n 10 1013    US0008861017    1013.0  1013.0\n 11 1013    BE0003755692    Nan     1013.0\n 12 1013    BE0003755692    Nan     1013.0\n \"\"\")\n\nd2 = StringIO(\"\"\"\\\n    isin_code   gvkey_ciq_new\n0   US0309541011    1485.0\n1   IL0006046119    2018.0\n3   US1948302047    3176.0\n4   US2376881064    3760.0\n5   BE0003755692    5150.0\n7   US4448591028    5776.0\n9   GB0004544929    5898.0\n\"\"\")\ndf1 = pandas.read_table(d1, sep='\\s+', na_values=['Nan'])\ndf2 = pandas.read_table(d2, sep='\\s+', na_values=['Nan'])\n</code></pre>\n\n<h2>Merge and compute the final column</h2>\n\n<pre><code>result = (\n    df1.merge(df2, on='isin_code', how='left')\n       .assign(gvkey=lambda df: numpy.where(\n           pandas.isnull(df['gvkey']),  # condition\n           df['gvkey_ciq_new'],         # values if true\n           df['gvkey']                  # values if false\n       ))[df1.columns]                  # only keep original columns\n)\n\nprint(result)\n</code></pre>\n\n<h2>And that gives me:</h2>\n\n<pre><code>    wrds_id     isin_code   gvkey  gvkey_new\n0      1004  US0003611052  1004.0     1004.0\n1      1005  US1948302047  3176.0     1000.0\n2      1006  US1948302047  3176.0     1004.0\n3      1007  US0309541011  1485.0     1004.0\n4      1007  US0003611052  1004.0     1004.0\n5      1008  IL0006046119  2018.0     1004.0\n6      1008  US0003611052  1004.0     1004.0\n7      1009  US4448591028  5776.0     1004.0\n8      1004  US4448591028  5776.0     1004.0\n9      1004  US4448591028  5776.0     1004.0\n10     1013  US0008861017  1013.0     1013.0\n11     1013  BE0003755692  5150.0     1013.0\n12     1013  BE0003755692  5150.0     1013.0\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 7565977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0a9490091ca557807f44b60e5f285e1c?s=128&d=identicon&r=PG&f=1", "display_name": "TTaa", "link": "https://stackoverflow.com/users/7565977/ttaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 46516855, "answer_count": 2, "score": 0, "last_activity_date": 1506891662, "creation_date": 1506550930, "last_edit_date": 1506890976, "question_id": 46458116, "link": "https://stackoverflow.com/questions/46458116/python-pandas-dataframe-fillna-with-column-in-different-dataframe", "title": "Python pandas dataframe fillna with column in different dataframe", "body": "<p>I want to fill Nan values in 'gvkey' column with another column values in different dataframe. </p>\n\n<pre><code>df\n     wrds_id    isin_code   gvkey   gvkey_new\n 0  1004    US0003611052    1004.0  1004.0\n 1  1005    US1948302047    Nan     1000.0\n 2  1006    US1948302047    Nan     1004.0\n 3  1007    US0309541011    Nan     1004.0\n 4  1007    US0003611052    1004.0  1004.0\n 5  1008    IL0006046119    Nan     1004.0\n 6  1008    US0003611052    1004.0  1004.0\n 7  1009    US4448591028    Nan     1004.0\n 8  1004    US4448591028    Nan     1004.0\n 9  1004    US4448591028    Nan     1004.0\n 10 1013    US0008861017    1013.0  1013.0\n 11 1013    BE0003755692    Nan     1013.0\n 12 1013    BE0003755692    Nan     1013.0\n</code></pre>\n\n<p>Using this frame, based on isin_code values, replace Nan value with  gvkey_ciq_new values  in first dataframe </p>\n\n<pre><code>df1\n    isin_code   gvkey_ciq_new\n0   US0309541011    1485.0\n1   IL0006046119    2018.0\n3   US1948302047    3176.0\n4   US2376881064    3760.0\n5   BE0003755692    5150.0\n7   US4448591028    5776.0\n9   GB0004544929    5898.0\n</code></pre>\n\n<p>Final dataframe I want to make,</p>\n\n<pre><code>finaldf\n     wrds_id    isin_imp    gvkey   gvkey_new\n 0  1004    US0003611052    1004.0  1004.0\n 1  1005    US1948302047    3176.0  1004.0\n 2  1006    US1948302047    3176.0  1004.0\n 3  1007    US0309541011    1485.0  1004.0\n 4  1007    US0003611052    1004.0  1004.0\n 5  1008    IL0006046119    2018.0  1004.0\n 6  1008    US0003611052    1004.0  1004.0\n 7  1009    US4448591028    5776.0  1004.0\n 8  1004    US4448591028    5776.0  1004.0\n 9  1004    US4448591028    5776.0  1004.0\n 10 1013    US0008861017    1013.0  1013.0\n 11 1013    BE0003755692    5150.0  1013.0\n 12 1013    BE0003755692    5150.0  1013.0\n</code></pre>\n\n<p>How can I use map function to make the dataframe?</p>\n"}, {"tags": ["python", "pillow"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1506551973, "post_id": 46458103, "comment_id": 79872066, "body": "Surprised this works at all because you&#39;re not reading the files from the same directory you got the listing from."}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1506598147, "post_id": 46458103, "comment_id": 79890788, "body": "Move <code>count = 0</code> after <code>Image.open(...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 22551, "user_id": 724176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa470aad3d456ece9ddf1a8b583b22a5?s=128&d=identicon&r=PG", "display_name": "Hugo", "link": "https://stackoverflow.com/users/724176/hugo"}, "is_accepted": false, "score": 3, "last_activity_date": 1506662775, "creation_date": 1506662775, "answer_id": 46482296, "question_id": 46458103, "link": "https://stackoverflow.com/questions/46458103/count-total-number-of-pages-in-tif-file-in-python/46482296#46482296", "title": "Count total number of pages in .TIF file in Python", "body": "<p>You can use <code>Image.n_frames</code> to find the number of frames in a TIFF. It was added in Pillow 2.9.0.</p>\n\n<p>For example, with Pillow 4.2.1:</p>\n\n<pre><code>Python 2.7.13 (default, Dec 18 2016, 07:03:39)\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from PIL import Image\n&gt;&gt;&gt; img = Image.open(\"multipage.tiff\")\n&gt;&gt;&gt; img.n_frames\n3\n&gt;&gt;&gt;\n</code></pre>\n\n<p>So, something like this:</p>\n\n<pre><code>import os\nfrom PIL import Image\n\ncount = 0\ni = 0\ntiffs_path = \"c:\\\\tiftest\"\n\nfor filename in os.listdir(\"c:\\\\tiftest\"):\n    if filename.endswith(\".TIF\"):\n        img = Image.open(filename)\n        print(filename)\n        print(img.n_frames)\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4876985, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f95d41057600fc4c097e005e13afc77c?s=128&d=identicon&r=PG&f=1", "display_name": "MKatana", "link": "https://stackoverflow.com/users/4876985/mkatana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2609, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1506662775, "creation_date": 1506550799, "question_id": 46458103, "link": "https://stackoverflow.com/questions/46458103/count-total-number-of-pages-in-tif-file-in-python", "title": "Count total number of pages in .TIF file in Python", "body": "<p>I'm trying to get Python to read exactly how many pages are in a .TIF and I've modified some code from some help I got yesterday. I've gotten Python to read the .TIF file, and output the pages, however it only reads the first .TIF file it can find. I need it to go through all the .TIF files in the same location.</p>\n\n<p>I was wondering how can I make it so that once it is done counting, it will continue to the next file until it is completely done.</p>\n\n<p>Here is what I have so far</p>\n\n<pre><code>import os\nfrom PIL import Image\n\ncount = 0\ni = 0\ntiffs_path = \"c:\\\\tiftest\"\n\nfor filename in os.listdir(\"c:\\\\tiftest\"):\n    if filename.endswith(\".TIF\"):\n        img = Image.open(filename)\n        while True:\n            try:   \n                img.seek(count)\n                print(filename)\n                print(count)\n            except EOFError:\n                break       \n            count += 1          \n\nprint(count)\n</code></pre>\n"}, {"tags": ["python", "typeerror"], "comments": [{"owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 2, "creation_date": 1506550854, "post_id": 46458081, "comment_id": 79871715, "body": "You have both a global <code>week</code> variable and a function. Change one of them to something else."}, {"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 1, "creation_date": 1506551204, "post_id": 46458081, "comment_id": 79871834, "body": "Hello, and welcome to Stack Overflow! When posting code, try to reduce your code to an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ; meaning, try to re-create your problem with the least amount of code. Since we didn&#39;t write your code, we don&#39;t know all of the nuances or intentions of each line, so we don&#39;t know what is important and what isn&#39;t, but you do. Simplifying the code you post will help us help you by making locating the code&#39;s errors easier. In this case, the problem with the <code>week</code> variable was right near the top and quick to find, but in the future errors might not be so simple, so try to get in the habit of <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>s"}], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 5443031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5208f2d3e5a76807881eb3c3f53cf238?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Russell", "link": "https://stackoverflow.com/users/5443031/austin-russell"}, "is_accepted": true, "score": 2, "last_activity_date": 1506551006, "creation_date": 1506551006, "answer_id": 46458134, "question_id": 46458081, "link": "https://stackoverflow.com/questions/46458081/typeerror-int-object-is-not-callable-in-text-adventure-game/46458134#46458134", "title": "&quot;TypeError: &#39;int&#39; object is not callable&quot; in text adventure game", "body": "<p>At the beginning of your program you have variable week assigned as an int: week = 1. That is being confused with your function: week(). rename the integer or the functions to correct your issue.</p>\n"}], "owner": {"reputation": 3, "user_id": 8686012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxmSp.jpg?s=128&g=1", "display_name": "Portaldominates", "link": "https://stackoverflow.com/users/8686012/portaldominates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 46458134, "answer_count": 1, "score": 0, "last_activity_date": 1506552189, "creation_date": 1506550650, "last_edit_date": 1506552189, "question_id": 46458081, "link": "https://stackoverflow.com/questions/46458081/typeerror-int-object-is-not-callable-in-text-adventure-game", "title": "&quot;TypeError: &#39;int&#39; object is not callable&quot; in text adventure game", "body": "<p>I am writing a text adventure game for my History class. I'm still pretty new to Python, so please bear with me.    </p>\n\n<pre><code># Massachusetts Text Adventure\n#\n#      Written by Nick Decker\n#\n#            In Python 3.6.2\n\nimport time\nfrom random import *\n\nstartgame = False\nfood=100\ndrink=100\nmorale=80\npeople=64\nhealth=80\nweek=1\nstart=5\n\ndef week():\n    global week\n    global food\n    global drink\n    global morale\n    global people\n    global health\n    global start\n    print (\"\\n\" * 100)\n    print(\"Week number\",week)\n    print(\"Food left: \",food)\n    print(\"Drink left: \",drink)\n    print(\"Morale: \",morale)\n    print(\"People alive: \",people)\n    ftp = input(\"How much food will you feed your people? Choose a number between 0-10.\")\n    if ftp==0:\n        print(\"You did not feed your people.\")\n        health = health - 5\n        morale = morale - 10\n    elif ftp &lt;= 5 and ftp != 0:\n        print(\"You gave your people some food.\")\n        health = health - 2\n        food = food - ftp\n        morale = morale - 2\n    elif ftp &lt;= 10 and ftp &gt; 5:\n        print(\"You gave your people a lot of food.\")\n        health = health + 2\n        food = food - ftp\n        morale = morale + 2\n    dtp = input(\"How much water will you give your people? Choose a number between 0-10.\")\n    if dtp==0:\n        print(\"You did not give your people any water\")\n        health = health - 10\n        morale = morale - 10\n    elif dtp &lt;=5 and dtp != 0:\n        print (\"You gave your people some water.\")\n        health = health + 1\n        morale = morale + 5\n        drink = drink - dtp\n    elif dtp &gt; 5 and dtp &lt;= 10:\n        print(\"You gave your people a lot of water\")\n        health = health + 5\n        morale = morale + 5\n        drink = drink - dtp\n\n    if health &lt;= 70:\n        dead = randint(1,7)\n        people = people - dead\n\n    if morale &lt;= 65:\n        com = randint(1,100)\n        if com &lt;= 50:\n            morale = morale\n        elif com &gt; 50 and com &lt;= 100:\n            mutiny()\n    week = week + 1\n    whattodo()\n\ndef whattodo():\n    if week &gt; 8:\n        print(\"You've made it to the New World!\")\n        win = input(\"To play again, type RESTART. To quit, type QUIT.\")\n        if win==RESTART:\n            story()\n        elif win==QUIT:\n            quit()\n    else:\n        week()\n\ndef background():\n    global start\n    print (\"\\n\" * 100)\n    print(\"Congratulations! You have been appointed by the King himself to lead a journey to Massachusetts!\")\n    time.sleep(2.0)\n    print(\"You are leading a fleet of 11 ships, though in this game, you will be in charge of only one. This ship's name is the Arbella.\")\n    time.sleep(2.0)\n    print(\"The voyage will take months, and you have to keep the people alive and happy.\")\n    time.sleep(2.0)\n    print(\"By controlling food and drink you can keep your people alive.\")\n    time.sleep(2.0)\n    print(\"Good luck!\")\n    time.sleep(5.0)\n    start=0\n    week()\n\ndef story():\n    global startgame\n    global food\n    global drink\n    global morale\n    global health\n    global people\n    global week\n    global start\n\n    startgame = True\n    food=100\n    drink=100\n    morale=80\n    people=64\n    health=80\n    week=1\n\n    print (\"\\n\" * 100)\n    print('Welcome to the Massachusetts Text Adventure!')\n    time.sleep(2.0)\n    print('In this game you are on your way to the New World as John Winthrop.')\n    time.sleep(2.0)\n    print('Along the way, you will face many dangers.')\n    time.sleep(2.0)\n    print('You will make friends...')\n    time.sleep(2.0)\n    print('... and enemies.')\n    time.sleep(5.0)\n    background()\n\ndef mutiny():\n    print (\"\\n\" * 100)\n    global morale\n    print(\"The people on your ship are unhappy! They are planning a mutiny!\")\n    time.sleep(2.0)\n    print(\"The mutiny has a 50/50 chance of being succesfull.\")\n    ms = randint(1,100)\n    if ms &lt;= 50:\n        print(\"The mutiny failed, and the crew's morale has been boosted by 15!\")\n        morale = morale + 15\n        whattodo()\n    elif ms &gt; 50 and ms &lt;= 100:\n        fail = input(\"You've failed! Type RESTART to restart. Type QUIT to quit.\")\n        if fail==RESTART:\n            story()\n        elif fail==QUIT:\n            quit()\n\nwhile startgame==False:\n    story()\n</code></pre>\n\n<p>When I run the program, it continues until calling upon week() in background(). It then gives me these errors:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"E:\\MassTA.py\", line 154, in &lt;module&gt;\n    story()\n  File \"E:\\MassTA.py\", line 133, in story\n    background()\n  File \"E:\\MassTA.py\", line 102, in background\n    week()\nTypeError: 'int' object is not callable\n</code></pre>\n\n<p>Again, I'm still pretty new, so I'm sorry if it's a mess.\nCould someone please tell me how to fix these errors?\nThanks!</p>\n"}, {"tags": ["python", "pandas", "csv", "dictionary"], "comments": [{"owner": {"reputation": 17, "user_id": 8630274, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652533134786386/picture?type=large", "display_name": "Reza Ardiansyah", "link": "https://stackoverflow.com/users/8630274/reza-ardiansyah"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1506583358, "post_id": 46458064, "comment_id": 79881173, "body": "above this ?          dict = {int(rows[0]):int(rows[1]) for rows in reader}"}, {"owner": {"reputation": 17, "user_id": 8630274, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652533134786386/picture?type=large", "display_name": "Reza Ardiansyah", "link": "https://stackoverflow.com/users/8630274/reza-ardiansyah"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1506600741, "post_id": 46458064, "comment_id": 79892451, "body": "I have tried in and success, also i don&#39;t use  if <b>name</b> ==&#39;<b>main</b>&#39;:main() anymore"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8630274, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652533134786386/picture?type=large", "display_name": "Reza Ardiansyah", "link": "https://stackoverflow.com/users/8630274/reza-ardiansyah"}, "edited": false, "score": 0, "creation_date": 1506594026, "post_id": 46458179, "comment_id": 79888249, "body": "i will try the first method"}, {"owner": {"reputation": 17, "user_id": 8630274, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652533134786386/picture?type=large", "display_name": "Reza Ardiansyah", "link": "https://stackoverflow.com/users/8630274/reza-ardiansyah"}, "edited": false, "score": 0, "creation_date": 1506631832, "post_id": 46458179, "comment_id": 79911303, "body": "i actually modified my previous code by skipping the header and modifying &quot;if <b>name__==&quot;__main</b>&quot;:main() with only &quot;main()  although perhaps your method can help me for dictionaries with multiple values. ex { 266: [3,2,0,1,0], 103:[3,1,2,0,1], ...}  thanks anyway"}], "tags": [], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "is_accepted": true, "score": 0, "last_activity_date": 1506621940, "last_edit_date": 1506621940, "creation_date": 1506551324, "answer_id": 46458179, "question_id": 46458064, "link": "https://stackoverflow.com/questions/46458064/vlookup-then-replace-in-pandas-with-dictionary/46458179#46458179", "title": "VLookup (then replace) in Pandas with Dictionary?", "body": "<p>I think you're looking for <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.transform.html\" rel=\"nofollow noreferrer\">pandas.DataFrame.transform</a>:</p>\n\n<pre><code>&gt;&gt;&gt; a = pd.DataFrame([[1,2,3,4,5],[6,7,8,9,10]])\n&gt;&gt;&gt; a\n   0  1  2  3   4\n0  1  2  3  4   5\n1  6  7  8  9  10\n&gt;&gt;&gt; a.transform(lambda x: -x)\n   0  1  2  3   4\n0 -1 -2 -3 -4  -5\n1 -6 -7 -8 -9 -10\n</code></pre>\n\n<p>or, applied to your problem</p>\n\n<pre><code>df = pd.DataFrame({'blue1': [8,  119,  57], \n                   'blue2': [432,  39,  63], \n                   'blue3': [96,  76,  29], \n                   'blue4': [11,  10,  61], \n                   'blue5': [112,  35,  36], \n                   'red1': [104,  54,  90], \n                   'red2': [498,  25,  19], \n                   'red3': [122,  120,  412], \n                   'red4': [238,  157,  92], \n                   'red5': [412,  92,  22], \n                   'winner': [0,  0,  0]})\ntransform_dict = {266: 1, 103: 2, ...}\ndf.transform(lambda x: transform_dict[x] if x in transform_dict else None)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8630274, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652533134786386/picture?type=large", "display_name": "Reza Ardiansyah", "link": "https://stackoverflow.com/users/8630274/reza-ardiansyah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "accepted_answer_id": 46458179, "answer_count": 1, "score": 1, "last_activity_date": 1506621940, "creation_date": 1506550544, "last_edit_date": 1506551862, "question_id": 46458064, "link": "https://stackoverflow.com/questions/46458064/vlookup-then-replace-in-pandas-with-dictionary", "title": "VLookup (then replace) in Pandas with Dictionary?", "body": "<p>I want to replaces values in Pandas dataframe using dictionary</p>\n\n<p>DataFrame = games-u-q-s.csv:</p>\n\n<pre><code>blue1   blue2   blue3   blue4   blue5   red1    red2    red3    red4    red5    winner\n8       432     96      11      112     104     498     122     238     412     0\n119     39      76      10      35      54      25      120     157     92      0\n57      63      29      61      36      90      19      412     92      22      0\n</code></pre>\n\n<p>column 1 - 10 contain champId with <code>winner</code> column as label</p>\n\n<p>Dictionary = champNum.csv</p>\n\n<pre><code>champId champNum\n266     1\n103     2\n84      3\n12      4\n32      5\n34      6\n1       7\n.       .\n.       .\n143     138\n</code></pre>\n\n<p>and save it as <code>dataset_feature_champion_number.csv</code></p>\n\n<p>I want to convert <code>champId</code> into <code>champNum</code> and expected output like this:</p>\n\n<pre><code>blue1   blue2   blue3   blue4   blue5   red1    red2    red3    red4    red5    winner\n125     11      59      70      124     36      129     20      135     111     0\n23      40      77      53      95      67      73      37      132     91      0\n69      13      116     81      22      68      127     111     91      8       0\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>import csv\nimport os\nimport numpy as np\nimport pandas as pd\n\ndef createDictionary(csvfile):\n    with open(csvfile, mode='r') as data:\n        reader = csv.reader(data)\n        dict = {int(rows[0]):int(rows[1]) for rows in reader}\n\n    return dict\n\ndef convertDataframeToChampNum(csvfile,dictionary):\n    df = pd.read_csv(csvfile)\n    temp1 = df.iloc[:,1:11]\n    temp2 = df['winner']\n    temp3 = temp1.applymap(dictionary.get)\n    champNum = temp3.join(temp2)\n    return champNum\n\ndef saveAsCSV(dataframe):\n    dataframe.to_csv(\"dataset_feature_champion_number.csv\")\n\ndef main():\n    diction = createDictionary(\"champNum.csv\")\n    dataset = convertDataframeToChampNum(\"games-u-q-s.csv\",diction)\n    saveAsCSV(dataset)\n\nif __name__ =='__main__':\n    main()\n</code></pre>\n\n<p>And I got so many errors:</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-19-f86679fc49f9&gt; in &lt;module&gt;()\n     27 \n     28 if __name__ =='__main__':\n---&gt; 29     main()\n\n&lt;ipython-input-19-f86679fc49f9&gt; in main()\n     22 \n     23 def main():\n---&gt; 24     diction = createDictionary(\"champNum.csv\")\n     25     dataset = convertDataframeToChampNum(\"games-u-q-s.csv\",diction)\n     26     saveAsCSV(dataset)\n\n&lt;ipython-input-19-f86679fc49f9&gt; in createDictionary(csvfile)\n      7     with open(csvfile, mode='r') as data:\n      8         reader = csv.reader(data)\n----&gt; 9         dict = {int(rows[0]):int(rows[1]) for rows in reader}\n     10     return dict\n     11 \n\n&lt;ipython-input-19-f86679fc49f9&gt; in &lt;dictcomp&gt;(.0)\n      7     with open(csvfile, mode='r') as data:\n      8         reader = csv.reader(data)\n----&gt; 9         dict = {int(rows[0]):int(rows[1]) for rows in reader}\n     10     return dict\n     11 \n\nValueError: invalid literal for int() with base 10: 'champNum'\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1506550945, "post_id": 46458026, "comment_id": 79871744, "body": "You need to indent the body of <code>with</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1506551203, "post_id": 46458026, "comment_id": 79871833, "body": "Don&#39;t hardcode the lengths, use <code>for elem in data[&quot;dimension&quot;][0][&quot;code&quot;]:</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1506551259, "post_id": 46458026, "comment_id": 79871852, "body": "What&#39;s the problem you&#39;re having? &quot;not running properly&quot; is not an adequate question."}, {"owner": {"reputation": 883, "user_id": 1916172, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/leESd.jpg?s=128&g=1", "display_name": "Grant", "link": "https://stackoverflow.com/users/1916172/grant"}, "edited": false, "score": 0, "creation_date": 1506551315, "post_id": 46458026, "comment_id": 79871881, "body": "What is the error message? I notice you&#39;re lines after <code>with</code> are not indented as well."}, {"owner": {"reputation": 883, "user_id": 1916172, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/leESd.jpg?s=128&g=1", "display_name": "Grant", "link": "https://stackoverflow.com/users/1916172/grant"}, "edited": false, "score": 0, "creation_date": 1506551771, "post_id": 46458026, "comment_id": 79872016, "body": "Also, I&#39;ve used <code>for key, value in data[stuff_here].items():</code> to loop through. That may be something to look at instead of hard-coded ranges. Similar to what Barmar suggested above."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1506553165, "post_id": 46458026, "comment_id": 79872359, "body": "You might want to consider using a library like <code>pyjq</code>. Your first loop could be replaced (I think) by something like <code>mylabel = pyjq.all(&#39;.dimension[0].code[].label&#39;, data)</code>, the second with <code>pyjq.all(&#39;.dimension[0].code[].attr[] | select(.category == &quot;WHO_REGION&quot;)&#39;, data)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1506551421, "post_id": 46458177, "comment_id": 79871913, "body": "This may be more pythonic, but it looks like his code should work as it is, if he only cares about the first dimension. We need to get him to explain the problem before a good answer can be posted."}, {"owner": {"reputation": 774, "user_id": 6422740, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/i2mRd.jpg?s=128&g=1", "display_name": "Syed Saad Ahmed", "link": "https://stackoverflow.com/users/6422740/syed-saad-ahmed"}, "edited": false, "score": 0, "creation_date": 1506674597, "post_id": 46458177, "comment_id": 79924428, "body": "@Laurent , it worked ! Thanks for the help !"}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1506551310, "creation_date": 1506551310, "answer_id": 46458177, "question_id": 46458026, "link": "https://stackoverflow.com/questions/46458026/parsing-json-using-nested-for-loop-in-python/46458177#46458177", "title": "Parsing JSON using nested for loop in python", "body": "<p>You can browse your JSON object using nested loops:</p>\n\n<pre><code>import json\n\nobj = json.loads(data)\n\ndimention_list = obj[\"dimension\"]\nfor dimension in dimention_list:\n    code_list = dimension[\"code\"]\n    for code in code_list:\n        attr_list = code[\"attr\"]\n        for attr in attr_list:\n            if attr[\"category\"] == \"WHO_REGION\":\n                print(attr[\"value\"])\n</code></pre>\n\n<p>It is complex because each entry contains a list of something\u2026</p>\n\n<p>Of course, it's up to you to add some filtering.</p>\n"}], "owner": {"reputation": 774, "user_id": 6422740, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/i2mRd.jpg?s=128&g=1", "display_name": "Syed Saad Ahmed", "link": "https://stackoverflow.com/users/6422740/syed-saad-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "closed_date": 1506577362, "accepted_answer_id": 46458177, "answer_count": 1, "score": 1, "last_activity_date": 1506551310, "creation_date": 1506550382, "question_id": 46458026, "link": "https://stackoverflow.com/questions/46458026/parsing-json-using-nested-for-loop-in-python", "closed_reason": "Not suitable for this site", "title": "Parsing JSON using nested for loop in python", "body": "<p>I am parsing a huge JSON in python, i am parsing it step by step, i am stuck at a point and i can't figure out why the code is not running properly, my code is;\nI want to get value of all the <strong>WHO_REGION</strong> for all the <strong>attr</strong> in an array, as i am not an expert in python programming.....                                                                                    here is the JSON, \"<a href=\"http://apps.who.int/gho/athena/data/COUNTRY.json\" rel=\"nofollow noreferrer\">http://apps.who.int/gho/athena/data/COUNTRY.json</a>\"</p>\n\n<pre><code>import json\nfrom pprint import pprint\nmylabel = []\nmylabel2 = []\nwith open('C:\\Users\\Syed Saad Ahmed\\Desktop\\FL\\COUNTRY.json') as   data_file:\ndata = json.load(data_file)\nfor i in range(0,246):\n    mylabel.append(data[\"dimension\"][0][\"code\"][i][\"label\"])\nprint mylabel\nfor j in range(0,246):\n    for k in range(0,21):\n        if(data[\"dimension\"][0][\"code\"][j][\"attr\"][k][\"category\"]=='WHO_REGION'):\n            mylabel2.append(data[\"dimension\"][0][\"code\"][j][\"attr\"][k][\"value\"])\nprint mylabel2\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 0, "creation_date": 1506561590, "post_id": 46458010, "comment_id": 79874238, "body": "Hello, and welcome to Stack Overflow! You have included a lot of code in your post. We, as helpers, were not with you when you wrote that code, and we do not know the intent of it. Likewise, you, since you are the owner of what you have written, are familiar with what is important and what is not. Review your code, figure out what parts are of most importance to your question, then simplify your code to an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. This will help us help you if you isolate your situation and only give the relevant code, which should be simple for you yet save us loads of time."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8661323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bb18047023d00e9910d7587d116808fb?s=128&d=identicon&r=PG&f=1", "display_name": "ryan ter", "link": "https://stackoverflow.com/users/8661323/ryan-ter"}, "edited": false, "score": 0, "creation_date": 1506554214, "post_id": 46458131, "comment_id": 79872608, "body": "How would i give it an erros mesage when the number specified is not there"}, {"owner": {"reputation": 1265, "user_id": 167107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24617651310fd4e77c246f8e96efb900?s=128&d=identicon&r=PG", "display_name": "C\u0103t\u0103lin George Fe\u0219til\u0103", "link": "https://stackoverflow.com/users/167107/c%c4%83t%c4%83lin-george-fe%c8%99til%c4%83"}, "reply_to_user": {"reputation": 5, "user_id": 8661323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bb18047023d00e9910d7587d116808fb?s=128&d=identicon&r=PG&f=1", "display_name": "ryan ter", "link": "https://stackoverflow.com/users/8661323/ryan-ter"}, "edited": false, "score": 0, "creation_date": 1506678531, "post_id": 46458131, "comment_id": 79926882, "body": "Do you want to show you how to check a specific number phone from your csv with try ? Take a look and see if is similar with your issue <a href=\"https://stackoverflow.com/questions/2243655/reading-csv-file-without-for\" title=\"reading csv file without for\">stackoverflow.com/questions/2243655/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1265, "user_id": 167107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24617651310fd4e77c246f8e96efb900?s=128&d=identicon&r=PG", "display_name": "C\u0103t\u0103lin George Fe\u0219til\u0103", "link": "https://stackoverflow.com/users/167107/c%c4%83t%c4%83lin-george-fe%c8%99til%c4%83"}, "is_accepted": false, "score": 0, "last_activity_date": 1506550978, "creation_date": 1506550978, "answer_id": 46458131, "question_id": 46458010, "link": "https://stackoverflow.com/questions/46458010/adding-a-error-message-in-python-as-well-as-commands/46458131#46458131", "title": "Adding a error message in Python as well as commands", "body": "<p>I don't think you has a good start with list into cvs using append, anyway is your example.</p>\n\n<ol>\n<li>You can use <strong><em>remove</em></strong> to remove your contact from list, see examples with list: <a href=\"http://www.thegeekstuff.com/2013/06/python-list\" rel=\"nofollow noreferrer\">http://www.thegeekstuff.com/2013/06/python-list</a></li>\n<li>when the user select a specific number from list , just read by stepping to the number phone because you add with: name + email + phone. </li>\n<li>adding an error message , use: <strong>try except finally</strong></li>\n</ol>\n"}], "owner": {"reputation": 5, "user_id": 8661323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bb18047023d00e9910d7587d116808fb?s=128&d=identicon&r=PG&f=1", "display_name": "ryan ter", "link": "https://stackoverflow.com/users/8661323/ryan-ter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506551521, "creation_date": 1506550288, "last_edit_date": 1506551521, "question_id": 46458010, "link": "https://stackoverflow.com/questions/46458010/adding-a-error-message-in-python-as-well-as-commands", "title": "Adding a error message in Python as well as commands", "body": "<pre><code>#!/usr/bin/env python3\n\nimport csv\n\n# a file in the current directory\nFILENAME = \"contacts.csv\"\n\ndef write_contacts(contacts):\nwith open(FILENAME, \"w\", newline=\"\") as file:\n    writer = csv.writer(file)\n    writer.writerows(contacts)\n\ndef read_contacts():\n    contacts = []\n    with open(FILENAME, newline=\"\") as file:\n    reader = csv.reader(file)\n    for row in reader:\n        contacts.append(row)\nreturn contacts\n\ndef list_contacts(contacts):\n    for i in range (len(contacts)):\n    contact= contacts[i]\n    print(str(i+1) +\".\"+ contact[0])\n   print()\n\n\n def view_contact(contacts):\n    pos = int(input(\"Number: \"))\n    if not (pos-1)in range(len(contacts)):\n    print(str(pos) + ' not in list, try again')\n    view(contacts)\n    return\n   contact = []\n   print(name + email + phone+\".\\n\")\n   print()\n\n def delete_contact(contacts):\n    index = int(input(\"Number: \"))\n    contact = contacts.pop(index -1)\n    write_contacts(contacts)\n    print(contact[0]+\" was deleted.\\n\")\n\n\n\n\n\n def add_contact(contacts):\n    name=input(\"Name: \")\n    email=input(\"Email: \")\n    phone=input(\"Phone number: \")\n    contact= []\n    contact.append(name)\n    contact.append(email)\n    contacts.append(contact)\n    write_contacts(contacts)\n    print(name + \" was added.\\n\")\n\n\n\n\n def display_menu():\n    print(\"Contact Manager\")\n    print()\n    print(\"COMMAND MENU\")\n    print(\"list - List all contacts\")\n    print(\"view  - View a contact\")\n    print(\"add  - Add a contact\")\n    print(\"delete- Delete a contact\")\n    print()\n    print()\n\n\ndef main():\n   display_menu()\n   contacts = read_contacts()\n    while True:\n      command = input(\"Command: \")\n      if command.lower() == \"list\":\n           list_contacts(contacts)\n       elif command.lower()== \"view\":\n          view_contact(contacts)           \n       elif command.lower()== \"add\":\n           add_contact(contacts)\n        elif command.lower()== \"delete\":\n           delete_contact(contacts)                \n           break\n        else:\n            print(\"Not a valid command. Please try again.\\n\")\n       print(\"Bye!\")\n\n  if __name__ == \"__main__\":\n  main()\n</code></pre>\n\n<p>This all my code. I'm trying to figure out how to make the delete and view commands display an error message when the user enters a number that is invalid but it's not working. I'm also trying to view a contact when the user selects a specific number form list which would then display the email name and phone number of that selected number. I'm currently stuck</p>\n\n<p>The errors im getting are </p>\n\n<p>raceback (most recent call last):\n  , line 93, in \n    main()\n  , line 81, in main\n    view_contact(contacts)\n , line 32, in view_contact\n    view(contacts)\nNameError: name 'view' is not defined</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1545, "user_id": 2670439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wFcPA.jpg?s=128&g=1", "display_name": "SwiftsNamesake", "link": "https://stackoverflow.com/users/2670439/swiftsnamesake"}, "edited": false, "score": 0, "creation_date": 1506550241, "post_id": 46457959, "comment_id": 79871502, "body": "I&#39;m assuming it&#39;s a right triangle with sides 70 and 60?"}, {"owner": {"reputation": 952, "user_id": 6533037, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sqGPs.jpg?s=128&g=1", "display_name": "O&#39;Niel", "link": "https://stackoverflow.com/users/6533037/oniel"}, "reply_to_user": {"reputation": 1545, "user_id": 2670439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wFcPA.jpg?s=128&g=1", "display_name": "SwiftsNamesake", "link": "https://stackoverflow.com/users/2670439/swiftsnamesake"}, "edited": false, "score": 0, "creation_date": 1506550430, "post_id": 46457959, "comment_id": 79871565, "body": "@SwiftsNamesake Yes, that&#39;s right"}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506550570, "post_id": 46457959, "comment_id": 79871613, "body": "math.acos returns the value in radians, it looks like you are using them as degrees. Also, there are only 180 degrees in a triangle."}, {"owner": {"reputation": 1545, "user_id": 2670439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wFcPA.jpg?s=128&g=1", "display_name": "SwiftsNamesake", "link": "https://stackoverflow.com/users/2670439/swiftsnamesake"}, "reply_to_user": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506550738, "post_id": 46457959, "comment_id": 79871671, "body": "@SamCraig No, there are 360 degrees in a circle. Perhaps you&#39;re thinking of the angle sum in a triangle?"}, {"owner": {"reputation": 1545, "user_id": 2670439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wFcPA.jpg?s=128&g=1", "display_name": "SwiftsNamesake", "link": "https://stackoverflow.com/users/2670439/swiftsnamesake"}, "edited": false, "score": 0, "creation_date": 1506550757, "post_id": 46457959, "comment_id": 79871678, "body": "@O&#39;Niel Why are you multiplying by a hundred?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506550758, "post_id": 46457959, "comment_id": 79871679, "body": "As you want to obtain the figure, a particular triangle can be drawn in multiple ways, please show us with an image."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506551364, "post_id": 46457959, "comment_id": 79871894, "body": "Check my answer and tell me if it works, if so please mark it as correct but tell me what the error is."}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1506551839, "last_edit_date": 1506551839, "creation_date": 1506551279, "answer_id": 46458170, "question_id": 46457959, "link": "https://stackoverflow.com/questions/46457959/calculate-angles-triangle-having-three-legs/46458170#46458170", "title": "Calculate angles triangle having three legs", "body": "<p>acos returns the side in radians so you must convert it to sexagesimal degrees, for this you must multiply by <code>180/\u03c0</code>. We also know that the sum of internal angles is 180, so the third angle is <code>180-A-B</code>.</p>\n\n<p>Another question is the angle that must be passed to draw, by default drawing from right to left advancing to, then you must rotate 180-A, advance c, rotate 180-B and advance b</p>\n\n<pre><code>a = 70\nb = 60\n\nc_pwr = a**2 + b**2\nc = math.sqrt(c_pwr)\n\nprint(\"Langste zijde is: \", c)\n\n#Angles\nA = math.acos((b**2 + c**2 - a**2) / (2 * b * c))*180/math.pi\nB = math.acos((c**2 + a**2 - b**2) / (2 * c * a))*180/math.pi\n\nC = 180 - A - B\n\nprint(A, \" \", B, \" \", C)\n\nturtle.forward(a)\nturtle.right(180-B)\nturtle.forward(c)\nturtle.right(180-A)\nturtle.forward(b)\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dar8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dar8u.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1545, "user_id": 2670439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wFcPA.jpg?s=128&g=1", "display_name": "SwiftsNamesake", "link": "https://stackoverflow.com/users/2670439/swiftsnamesake"}, "is_accepted": false, "score": 2, "last_activity_date": 1506551484, "creation_date": 1506551484, "answer_id": 46458203, "question_id": 46457959, "link": "https://stackoverflow.com/questions/46457959/calculate-angles-triangle-having-three-legs/46458203#46458203", "title": "Calculate angles triangle having three legs", "body": "<p>I'm not sure why you're not using the definition</p>\n\n<pre><code>A = asin(a/c)\n</code></pre>\n\n<p>(A being the angle opposite to a).</p>\n\n<p>Nor do I understand why you're multiplying by <code>100</code>. To convert from radians to degrees, you'd multiply by <code>180/\u03c0</code>.</p>\n\n<p>Lastly, the angles in a triangle sum to <code>180</code> rather than <code>360</code>. Putting it together:</p>\n\n<pre><code>import math\n\n# Legs\na = 70\nb = 60\nc = math.sqrt(a**2 + b**2)\n\n# Angles\nA = math.asin(a/c) * 180/math.pi\nB = math.asin(b/c) * 180/math.pi\nC = 180 - A - B\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 6533037, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sqGPs.jpg?s=128&g=1", "display_name": "O&#39;Niel", "link": "https://stackoverflow.com/users/6533037/oniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 46458170, "answer_count": 2, "score": 1, "last_activity_date": 1506551839, "creation_date": 1506550077, "question_id": 46457959, "link": "https://stackoverflow.com/questions/46457959/calculate-angles-triangle-having-three-legs", "title": "Calculate angles triangle having three legs", "body": "<p>I had two legs of a triangle given, after the third one is calculated using Pythagoras I had to find the angles of the triangle to be able to draw the triangle in Python using Turtle.</p>\n\n<p>I have tried the cosinus-formula to find the angles, but it ain't working. I'm not getting the desired result(s).</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>import math\nimport turtle\n\n#Legs\na = 70\nb = 60\n\nc_pwr = a**2 + b**2\nc = math.sqrt(c_pwr)\n\nprint(\"Langste zijde is: \", c)\n\n#Angles\nA = math.acos((b**2 + c**2 - a**2) / (2 * b * c)) * 100\nB = math.acos((c**2 + a**2 - b**2) / (2 * c * a)) * 100\nC = 360 - A - B\n\nprint(A, \" \", B, \" \", C)\n\nturtle.forward(a)\nturtle.right(B)\nturtle.forward(b)\nturtle.right(A)\nturtle.forward(c)\n\ninput()\n</code></pre>\n\n<p>What am I doing wrong and how to fix it? Thanks!</p>\n"}, {"tags": ["python", "apache-spark", "lambda", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4801862, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e266119b71ac8e21060d84529c2aeccf?s=128&d=identicon&r=PG&f=1", "display_name": "lovedavidsilva", "link": "https://stackoverflow.com/users/4801862/lovedavidsilva"}, "edited": false, "score": 0, "creation_date": 1506559210, "post_id": 46458228, "comment_id": 79873726, "body": "That&#39;s exactly what I need. Thanks!"}], "tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": true, "score": 1, "last_activity_date": 1506551628, "creation_date": 1506551628, "answer_id": 46458228, "question_id": 46457893, "link": "https://stackoverflow.com/questions/46457893/how-to-create-value-pairs-with-lambda-in-pyspark/46458228#46458228", "title": "How to create value pairs with lambda in pyspark?", "body": "<p>I'd use <code>flatMap</code> with <code>itertools.combinations</code>:</p>\n\n<pre><code>from itertools import combinations\n\nrdd.flatMap(lambda xs: combinations(xs, 2))\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4801862, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e266119b71ac8e21060d84529c2aeccf?s=128&d=identicon&r=PG&f=1", "display_name": "lovedavidsilva", "link": "https://stackoverflow.com/users/4801862/lovedavidsilva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 46458228, "answer_count": 1, "score": 0, "last_activity_date": 1506551628, "creation_date": 1506549686, "last_edit_date": 1506551613, "question_id": 46457893, "link": "https://stackoverflow.com/questions/46457893/how-to-create-value-pairs-with-lambda-in-pyspark", "title": "How to create value pairs with lambda in pyspark?", "body": "<p>I am trying to convert a pyspark rdd like this:</p>\n\n<p>before:</p>\n\n<pre><code>[\n    [('169', '5'), ('2471', '6'), ('48516', '10')], \n    [('58', '7'), ('163', '7')], \n    [('172', '5'), ('186', '4'), ('236', '6')]\n]\n</code></pre>\n\n<p>after:</p>\n\n<pre><code>[ \n    [('169', '5'), ('2471', '6')],\n    [('169', '5'),('48516', '10')],\n    [('2471', '6'), ('48516', '10')],\n    [('58', '7'), ('163', '7')],\n    [('172', '5'), ('186', '4')],\n    [('172', '5'), ('236', '6')],\n    [('186', '4'), ('236', '6')]\n]\n</code></pre>\n\n<p>The idea is to go through each line and create new line pairwise. I tried to find out a solution myself with <code>lambda</code> tutorials but with no good. May I ask for some help? If this is repeating other questions, I apologize. Thanks!</p>\n"}, {"tags": ["python", "xml"], "comments": [{"owner": {"reputation": 387, "user_id": 5443031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5208f2d3e5a76807881eb3c3f53cf238?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Russell", "link": "https://stackoverflow.com/users/5443031/austin-russell"}, "edited": false, "score": 5, "creation_date": 1506549769, "post_id": 46457870, "comment_id": 79871341, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1912434/how-do-i-parse-xml-in-python\">How do I parse XML in Python?</a>"}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 2, "creation_date": 1506550581, "post_id": 46457870, "comment_id": 79871617, "body": "direction is to study the documentation and examples of <code>xml.etree.ElementTree</code>"}, {"owner": {"reputation": 2442, "user_id": 4157124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb2110df592e8d6b210ad3a764f092a?s=128&d=identicon&r=PG", "display_name": "user4157124", "link": "https://stackoverflow.com/users/4157124/user4157124"}, "edited": false, "score": 0, "creation_date": 1608345508, "post_id": 46457870, "comment_id": 115563235, "body": "Do not include answers/new questions (invalidating existing answers by doing so) in question please (post as separate answer and/or post a new question instead)."}], "answers": [{"tags": [], "owner": {"reputation": 2142, "user_id": 7923124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y53Pw.jpg?s=128&g=1", "display_name": "Chetan_Vasudevan", "link": "https://stackoverflow.com/users/7923124/chetan-vasudevan"}, "is_accepted": false, "score": 0, "last_activity_date": 1507140028, "creation_date": 1507140028, "answer_id": 46571303, "question_id": 46457870, "link": "https://stackoverflow.com/questions/46457870/how-to-parse-a-nested-xml/46571303#46571303", "title": "How to parse a nested XML?", "body": "<p>So you can do something like below to find your <strong> tags and  text</strong></p>\n\n<pre><code>   from lxml import etree\n   tree = etree.parse('C:\\\\Users\\\\sb_meyer.xml')\n   #print(tree)\n   root = tree.getroot()\n   #print(root)\n   for neid_values in tree.findall('.//neid//'):\n       print(neid_values.tag,neid_values.text)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4930591, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/342303e8171fd0e2533ba0c86e91a112?s=128&d=identicon&r=PG&f=1", "display_name": "ssharma", "link": "https://stackoverflow.com/users/4930591/ssharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1290, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1608345711, "creation_date": 1506549589, "last_edit_date": 1608345711, "question_id": 46457870, "link": "https://stackoverflow.com/questions/46457870/how-to-parse-a-nested-xml", "title": "How to parse a nested XML?", "body": "<p>I have an XML file from which I want to extract certain values:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;MeasDataCollection.xsl&quot;?&gt;\n&lt;!DOCTYPE mdc SYSTEM &quot;MeasDataCollection.dtd&quot;&gt;\n&lt;mdc xmlns:HTML=&quot;http://www.w3.org/TR/REC-xml&quot;&gt;\n&lt;mfh&gt;\n&lt;ffv&gt;32.401 V6.2&lt;/ffv&gt;\n&lt;sn&gt;SubNetwork=ONRM_ROOT_MO_R,SubNetwork=MKT_9360,MeContext=936001_STURGEON_BAY_MEYER&lt;/sn&gt;\n&lt;st&gt;&lt;/st&gt;\n&lt;vn&gt;&lt;/vn&gt;\n&lt;cbt&gt;20170924154500Z&lt;/cbt&gt;\n&lt;/mfh&gt;\n&lt;md&gt;\n&lt;neid&gt;\n&lt;neun&gt;936001_STURGEON_BAY_MEYER&lt;/neun&gt;\n&lt;nedn&gt;SubNetwork=ONRM_ROOT_MO_R,SubNetwork=MKT_9360,MeContext=936001_STURGEON_BAY_MEYER&lt;/nedn&gt;\n&lt;nesw&gt;CXP102051/26_R28BY&lt;/nesw&gt;\n&lt;/neid&gt;\n&lt;mi&gt;\n&lt;mts&gt;20170924160000Z&lt;/mts&gt;\n&lt;gp&gt;900&lt;/gp&gt;\n&lt;mt&gt;pmSwitchIngressDiscards&lt;/mt&gt;\n&lt;mt&gt;pmSwitchIngressLoad&lt;/mt&gt;\n&lt;mv&gt;\n&lt;moid&gt;ManagedElement=1,Equipment=1,Subrack=1,Slot=1,PlugInUnit=1&lt;/moid&gt;\n&lt;r&gt;&lt;/r&gt;\n&lt;r&gt;&lt;/r&gt;\n&lt;/mv&gt;\n&lt;/mi&gt;\n&lt;/md&gt;\n&lt;md&gt;\n&lt;neid&gt;\n&lt;neun&gt;936001_STURGEON_BAY_MEYER&lt;/neun&gt;\n&lt;nedn&gt;SubNetwork=ONRM_ROOT_MO_R,SubNetwork=MKT_9360,MeContext=936001_STURGEON_BAY_MEYER&lt;/nedn&gt;\n&lt;nesw&gt;CXP102051/26_R28BY&lt;/nesw&gt;\n&lt;/neid&gt;\n&lt;mi&gt;\n&lt;mts&gt;20170924160000Z&lt;/mts&gt;\n&lt;gp&gt;900&lt;/gp&gt;\n&lt;mt&gt;pmSctpAborted&lt;/mt&gt;\n&lt;mt&gt;pmSctpActiveEstab&lt;/mt&gt;\n&lt;mt&gt;pmSctpCurrEstab&lt;/mt&gt;\n&lt;mt&gt;pmSctpInErrors&lt;/mt&gt;\n&lt;mt&gt;pmSctpInNoPorts&lt;/mt&gt;\n&lt;mt&gt;pmSctpPassiveEstab&lt;/mt&gt;\n&lt;mt&gt;pmSctpShutdowns&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatAssocOutOfBlue&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatChecksumErrorCounter&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatCommResume&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatCommStop&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatFragmentedUserMsg&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatOutOfOrderRecChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatOutOfOrderSendChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatReassembledUserMsg&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatRecChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatRecChunksDropped&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatReceivedControlChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatReceivedPackages&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatRetransChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatSentChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatSentChunksDropped&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatSentControlChunks&lt;/mt&gt;\n&lt;mt&gt;pmSctpStatSentPackages&lt;/mt&gt;\n&lt;mv&gt;\n&lt;moid&gt;ManagedElement=1,TransportNetwork=1,Sctp=1&lt;/moid&gt;\n&lt;r&gt;6&lt;/r&gt;\n&lt;r&gt;17&lt;/r&gt;\n&lt;r&gt;10&lt;/r&gt;\n&lt;r&gt;19&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;12&lt;/r&gt;\n&lt;r&gt;13&lt;/r&gt;\n&lt;r&gt;19&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;11815&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;18904&lt;/r&gt;\n&lt;r&gt;5303976&lt;/r&gt;\n&lt;r&gt;21&lt;/r&gt;\n&lt;r&gt;6346369&lt;/r&gt;\n&lt;r&gt;9360827&lt;/r&gt;\n&lt;r&gt;2&lt;/r&gt;\n&lt;r&gt;6567878&lt;/r&gt;\n&lt;r&gt;0&lt;/r&gt;\n&lt;r&gt;4843224&lt;/r&gt;\n&lt;r&gt;10066507&lt;/r&gt;\n&lt;/mv&gt;\n&lt;/mi&gt;\n&lt;/md&gt;\n&lt;/mdc&gt;\n</code></pre>\n<p>With xml.etree.ElementTree I am not having luck. Can someone please provide direction?</p>\n"}, {"tags": ["python", "numpy", "image-processing", "signal-processing", "fft"], "comments": [{"owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "edited": false, "score": 0, "creation_date": 1506550075, "post_id": 46457866, "comment_id": 79871447, "body": "I realize the errors here are small, but for the problem I am interested in (volumetric registration of biomedical images along with some inferential analysis) I need an exact Pearson correlation. With either approach for normalization I can get correlations up to 1.3 or 1.4--wrong enough to be worrisome."}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 0, "creation_date": 1506687104, "post_id": 46457866, "comment_id": 79931514, "body": "Your cross-correlation is incorrect.  You need to pad out the input vectors with zeros until they&#39;re long enough to hold the full cross-correlation, i.e., sample_1 and sample_2 need 128 zeros added to the end. To calculate the energy in the overlapping region for each lag, do it in the time domain -- FFT is energy-preserving."}, {"owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "reply_to_user": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 0, "creation_date": 1507776442, "post_id": 46457866, "comment_id": 80348382, "body": "Matt, your suggestion works as well. I was wondering whether there was any way to avoid a separate calculation of rho (or, alternatively, avoid the zero padding), for the sake of computation time. It seems that there&#39;s not."}], "answers": [{"tags": [], "owner": {"reputation": 8727, "user_id": 2999346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dQ1wB.png?s=128&g=1", "display_name": "francis", "link": "https://stackoverflow.com/users/2999346/francis"}, "is_accepted": true, "score": 4, "last_activity_date": 1506638745, "last_edit_date": 1506638745, "creation_date": 1506638106, "answer_id": 46479231, "question_id": 46457866, "link": "https://stackoverflow.com/questions/46457866/how-do-i-scale-an-fft-based-cross-correlation-such-that-its-peak-is-equal-to-pea/46479231#46479231", "title": "How do I scale an FFT-based cross-correlation such that its peak is equal to Pearson&#39;s rho", "body": "<p>The normalised cross correlation between two N-periodic discrete signals F and G is defined as:</p>\n\n<p><img src=\"https://latex.codecogs.com/gif.latex?%5Cdisplaystyle%20r_%7Bx%7D%3D%5Cfrac%7B%5Csum_0%5E%7BN-1%7DF_iG_%7Bi&plus;x%7D%7D%7B%5Csqrt%7B%5Csum_0%5E%7BN-1%7DF_i%5E2%7D%5Csqrt%7B%5Csum_0%5E%7BN-1%7DG_i%5E2%7D%7D\" alt=\"\"></p>\n\n<p>Since the numerator is a dot product between two vectors (F and G_x) and the denominator is the product of the norm of these two vectors, the scalar r_x must indeed lie between -1 and +1 and it is the cosinus of the angle between the vectors (See <a href=\"http://www.cs.umd.edu/~djacobs/CMSC426/Convolution.pdf\" rel=\"nofollow noreferrer\">there</a>). If the vector F and G_x are aligned, then r_x=1. If r_x=1, then the vector F and G_x are aligned due to the triangular inequality. To ensure these properties, the vectors at the numerator must match those at the denominator.</p>\n\n<p>All numerators can be computed at once by using the Discrete Fourier Transform. Indeed, that transform turns the convolution into pointwise products in the Fourier space. Here is why the different estimated normalized cross correlations are not 1 in the tests you performed.</p>\n\n<ol>\n<li><p>For the first test \"approx\", <code>sample_1</code> and <code>sample_2</code> are both extracted from a periodic signal. Both are of the same length, but the length is not a multiple of the period as it is 2.5 periods (5pi) (figure below). As a result, since the dft performs the correlation as if they where periodic signals, it is found that <code>sample_1</code> and <code>sample_2</code> are not perfectly correlated and r_x&lt;1.\n<a href=\"https://i.stack.imgur.com/89nkU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89nkU.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>For the second test <code>rho_exact_1</code>, the convolution is performed on signals of length N=128, but the norms at the denominator are computed on truncated vectors of size N-offset=128-5. As a result, the properties of r_x are lost. In addition, it must be noticed that the proposed convolution and norms are not normalized: the computed norms and convolution product are globally proportionnal to the number of points of the considered vectors. As a result, the norms of the truncated vectors are slightly lower compared to the previous case and r_x increases: values larger that 1 are likely encountered as the <code>offset</code> increases.</p></li>\n<li><p>For the third test <code>rho_exact_2</code>, a scaling factor is introduced to try to correct the first test: the properties of r_x are also lost and values larger than one can be encountered as the scaling factor is larger than one.</p></li>\n</ol>\n\n<p>Nevertheless, the function <code>corrcoef()</code> of numpy actually computes a r_x equal to 1 for the truncated signals. Indeed, these signals are perfectly identical! The same result can be obtained using DFTs:</p>\n\n<pre><code>xc_num_cropped = np.abs(np.fft.ifft(np.fft.fft(sample_1_cropped)*np.fft.fft(sample_2_cropped).conjugate()))\nautocorrelation_1_cropped = np.abs(np.fft.ifft(np.fft.fft(sample_1_cropped)*np.fft.fft(sample_1_cropped).conjugate()))\nautocorrelation_2_cropped = np.abs(np.fft.ifft(np.fft.fft(sample_2_cropped)*np.fft.fft(sample_2_cropped).conjugate()))\nxc_denom_exact_11 = np.sqrt(np.max(autocorrelation_1_cropped))*np.sqrt(np.max(autocorrelation_2_cropped))\nrho_exact_11 = xc_num_cropped/xc_denom_exact_11\nprint 'rho_exact_11',np.max(rho_exact_11)  \n</code></pre>\n\n<p>To provide the user with a significant value for r_x, you can stick to the value provided by the first test, which can be lower than one for identical periodic signals if the length of the frame is not a multiple of the period. To correct this drawback, the estimated offset can also be retreived and used to build two cropped signals of the same length. The whole correlation procedure must be re-run to get a new value for r_x, which will not be plaged by the fact that the length of the cropped frame is not a multiple of the period.</p>\n\n<p>Lastly, if the DFT is a very efficient way to compute the convolution at the numerator for all values of x at once, the denominator can be efficiently computed as 2-norms of vector, using <code>numpy.linalg.norm</code>. Since the argmax(r_x) for the cropped signals will likely be zero if the first correlation was successful, it could be sufficient to compute r_0 using a dot product `sample_1_cropped.dot(sample_2_cropped). </p>\n"}], "owner": {"reputation": 1107, "user_id": 3003461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54593f5a4ab194a12d3acb4b162cd5f5?s=128&d=identicon&r=PG", "display_name": "rjonnal", "link": "https://stackoverflow.com/users/3003461/rjonnal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1708, "favorite_count": 0, "accepted_answer_id": 46479231, "answer_count": 1, "score": 2, "last_activity_date": 1506638745, "creation_date": 1506549568, "question_id": 46457866, "link": "https://stackoverflow.com/questions/46457866/how-do-i-scale-an-fft-based-cross-correlation-such-that-its-peak-is-equal-to-pea", "title": "How do I scale an FFT-based cross-correlation such that its peak is equal to Pearson&#39;s rho", "body": "<h1>Description of the problem</h1>\n\n<p>FFT can be used to compute cross-correlation between two signals or images. To determine the delay or lag between two signals <strong>A</strong> and <strong>B</strong>, it suffices to locate the peak of:\n<code>\nIFFT(FFT(A)*conjugate(FFT(B)))\n</code></p>\n\n<p>However, the amplitude of the peak is related to the amplitude of the frequency spectra of the individual signals. Thus to determine the <a href=\"https://en.wikipedia.org/wiki/Pearson_correlation_coefficient#For_a_sample\" rel=\"nofollow noreferrer\">Pearson correlation (rho)</a>, the amplitude of this peak must be scaled by the total energy in the two signals.</p>\n\n<p>One way to do this is to <a href=\"https://dsp.stackexchange.com/questions/9797/cross-correlation-peak\">normalize by the geometric mean of the individual autocorrelations</a>. This gives a reasonable approximation of <em>rho</em>, especially when the delay between samples is small, but not the exact value.</p>\n\n<p>I thought the reason for this error was that the Pearson correlation is only defined for the overlapping portions of the signal, whereas the normalization factor (the geometric mean of the two autocorrelation peaks) includes contributions from the non-overlapping portions. I considered two approaches for fixing this and producing an exact value for <em>rho</em> via FFT. In the first (called <code>rho_exact_1</code> below), I trimmed the samples down to their overlapping portions and computed the normalization factor from those. In the second (called <code>rho_exact_2</code> below), I computed the fraction of the measurements contained in the overlapping portion of the signals and multiplied the full-autocorrelation-normalization factor by that fraction.</p>\n\n<p>Neither works! The figure below shows plots of the three approaches for calculating Pearson's <em>rho</em> using DFT-based cross-correlation. Only the region of the cross-correlation peak is shown. Each estimate is close to the correct value of 1.0, but not equal to it.</p>\n\n<p><img src=\"https://i.imgur.com/BQwTrKA.png\" alt=\"Plots of three related approaches for calculating Pearson&#39;s *rho* using DFT-based cross-correlation. Only the region of the cross-correlation peak is shown. Each estimate is close to the correct value of 1.0, but not equal to it.\"></p>\n\n<p>The code I used to perform the calculations is below. I used a simple sine wave as an example signal. I noticed that if I use a square-wave (w/ duty cycle not necessarily 50%) the approaches' errors change.</p>\n\n<p>Can somebody explain what's going on?</p>\n\n<h1>A working example</h1>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n\n# make a time vector w/ 256 points\n# and a source signal\nN_cycles = 10.0\nN_points = 256.0\n\nt = np.arange(0,N_cycles*np.pi,np.pi*N_cycles/N_points)\nsignal = np.sin(t)\n\nuse_rect = False\nif use_rect:\n    threshold = -0.75\n    signal[np.where(signal&gt;=threshold)]=1.0\n    signal[np.where(signal&lt;threshold)]=-1.0\n\n# normalize the signal (not technically\n# necessary for this example, but required\n# for measuring correlation of physically\n# different signals)\nsignal = signal/signal.std()\n\n# generate two samples of the signal\n# with a temporal offset:\nN = 128\noffset = 5\nsample_1 = signal[:N]\nsample_2 = signal[offset:N+offset]\n\n# determine the offset through cross-\n# correlation\nxc_num = np.abs(np.fft.ifft(np.fft.fft(sample_1)*np.fft.fft(sample_2).conjugate()))\noffset_estimate = np.argmax(xc_num)\nif offset_estimate&gt;N//2:\n    offset_estimate = offset_estimate - N\n\n\n# for an approximate estimate of Pearson's\n# correlation, we normalize by the RMS\n# of individual autocorrelations:\nautocorrelation_1 = np.abs(np.fft.ifft(np.fft.fft(sample_1)*np.fft.fft(sample_1).conjugate()))\nautocorrelation_2 = np.abs(np.fft.ifft(np.fft.fft(sample_2)*np.fft.fft(sample_2).conjugate()))\nxc_denom_approx = np.sqrt(np.max(autocorrelation_1))*np.sqrt(np.max(autocorrelation_2))\nrho_approx = xc_num/xc_denom_approx\nprint 'rho_approx',np.max(rho_approx)\n\n# this is an approximation because we've\n# included autocorrelation of the whole samples\n# instead of just the overlapping portion;\n# using cropped versions of the samples should\n# yield the correct correlation:\nsample_1_cropped = sample_1[offset:]\nsample_2_cropped = sample_2[:-offset]\n\n# these should be identical vectors:\nassert np.all(sample_1_cropped==sample_2_cropped)\n\n# compute autocorrelations of cropped samples\n# and corresponding value for rho\nautocorrelation_1_cropped = np.abs(np.fft.ifft(np.fft.fft(sample_1_cropped)*np.fft.fft(sample_1_cropped).conjugate()))\nautocorrelation_2_cropped = np.abs(np.fft.ifft(np.fft.fft(sample_2_cropped)*np.fft.fft(sample_2_cropped).conjugate()))\nxc_denom_exact_1 = np.sqrt(np.max(autocorrelation_1_cropped))*np.sqrt(np.max(autocorrelation_2_cropped))\nrho_exact_1 = xc_num/xc_denom_exact_1\nprint 'rho_exact_1',np.max(rho_exact_1)\n\n# alternatively we could try to use the\n# whole sample autocorrelations and just\n# scale by the number of pixels used to\n# compute the numerator:\nscaling_factor = float(len(sample_1_cropped))/float(len(sample_1))\nrho_exact_2 = xc_num/(xc_denom_approx*scaling_factor)\nprint 'rho_exact_2',np.max(rho_exact_2)\n\n# finally a sanity check: is rho actually 1.0\n# for the two signals:\nrho_corrcoef = np.corrcoef(sample_1_cropped,sample_2_cropped)[0,1]\nprint 'rho_corrcoef',rho_corrcoef\n\nx = np.arange(len(rho_approx))\nplt.plot(x,rho_approx,label='FFT rho_approx')\nplt.plot(x,rho_exact_1,label='FFT rho_exact_1')\nplt.plot(x,rho_exact_2,label='FFT rho_exact_2')\nplt.plot(x,np.ones(len(x))*rho_corrcoef,'k--',label='Pearson rho')\nplt.legend()\nplt.ylim((.75,1.25))\nplt.xlim((0,20))\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "pygame", "wav"], "comments": [{"owner": {"reputation": 1259, "user_id": 259679, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/732bba73fe0a97296f298b618e54b95e?s=128&d=identicon&r=PG", "display_name": "Mohammed Hossain", "link": "https://stackoverflow.com/users/259679/mohammed-hossain"}, "edited": false, "score": 1, "creation_date": 1506549353, "post_id": 46457803, "comment_id": 79871195, "body": "When asking a question like this, you should <i>really</i> provide a stack trace when you say &quot;it doesn&#39;t work&quot;."}, {"owner": {"reputation": 6360, "user_id": 2915834, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/26a24857b307c5372dd62b545083a6c2?s=128&d=identicon&r=PG&f=1", "display_name": "frlan", "link": "https://stackoverflow.com/users/2915834/frlan"}, "edited": false, "score": 0, "creation_date": 1506549383, "post_id": 46457803, "comment_id": 79871211, "body": "Well... at least your current code is having wrong indention...."}, {"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 1, "creation_date": 1506549409, "post_id": 46457803, "comment_id": 79871218, "body": "Do you ever call <code>func</code>?"}, {"owner": {"reputation": 43, "user_id": 8293862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5737eb5d1e2a13df35ab02b76955edb1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/8293862/joe"}, "edited": false, "score": 0, "creation_date": 1506549504, "post_id": 46457803, "comment_id": 79871247, "body": "Yes I call it. Also tried without it"}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 0, "creation_date": 1506550674, "post_id": 46457803, "comment_id": 79871655, "body": "you changed the current working directory before calling func."}, {"owner": {"reputation": 43, "user_id": 8293862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5737eb5d1e2a13df35ab02b76955edb1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/8293862/joe"}, "edited": false, "score": 0, "creation_date": 1506550813, "post_id": 46457803, "comment_id": 79871703, "body": "So what should I do?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1506551238, "post_id": 46457803, "comment_id": 79871843, "body": "Before the <code>pygame.mixer.music.load()</code> calls. add a <code>print(os.getcwd())</code> and see if the current working directory is the same in both cases. If not, you will need to save and restore it (with <code>os.chdir</code>) or specify an absolute path to the .wav file."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1506551744, "post_id": 46457803, "comment_id": 79872006, "body": "You should be able create an absolute path to the data file by using <code>curdir = os.path.dirname(__file__)</code> and then <code>wavpath = os.path.join(curdir, &#39;audi&#47;Humi.wav&#39;)</code>."}, {"owner": {"reputation": 43, "user_id": 8293862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5737eb5d1e2a13df35ab02b76955edb1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/8293862/joe"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1506552568, "post_id": 46457803, "comment_id": 79872207, "body": "@martineau, I wish to do this with relative path. That&#39;s why I&#39;m in this problem. Absolute path is not the solution"}, {"owner": {"reputation": 43, "user_id": 8293862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5737eb5d1e2a13df35ab02b76955edb1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/8293862/joe"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1506552952, "post_id": 46457803, "comment_id": 79872293, "body": "@martineau Tried to give absolute path. But got the same problem. Can you give me a complete example if you don&#39;t mind?"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1506554995, "post_id": 46457803, "comment_id": 79872786, "body": "try using <code>from pygame import mixer</code> and replace everything in the func() from <code>pygame.mixer.</code> to just <code>mixer.</code> for example <code>mixer.init()</code> and see if that works."}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1506606112, "last_edit_date": 1506606112, "creation_date": 1506559053, "answer_id": 46459183, "question_id": 46457803, "link": "https://stackoverflow.com/questions/46457803/why-pygame-doesnt-work-inside-functions/46459183#46459183", "title": "Why pygame doesn&#39;t work inside functions?", "body": "<p>Sorry, what I was suggesting that you do in my comment to get an absolute path to the audio file wouldn't work. I missed the fact that you had a two dot <code>..</code> prefix on the relative path to the .wav file.</p>\n\n<p>The core of the idea\u2014get and use an absolute path to the audio file\u2014is still viable, however. It just needs to be done a little differently (and it's actually somewhat easier). </p>\n\n<p>This worked when I tested it (whether the path to the wave file was used by a <code>pygame.mixer.music.load()</code> call inside a function or not).</p>\n\n<p>Note: Instead of referencing a global variable in the function as shown, it would be better to add a path parameter to the function and pass the string to it as an argument. It would probably also be better to call <code>pygame.mixer.init()</code> only once, outside the function, rather than every time it's called.</p>\n\n<pre><code>import os\nimport pygame\n\ndef func():\n   pygame.mixer.init()\n   pygame.mixer.music.load(wavpath)  # Uses global variable.\n   pygame.mixer.music.play()\n   while pygame.mixer.music.get_busy():\n      pass\n\nwavpath = os.path.abspath('../audio/Humi.wav')\nfunc()\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8293862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5737eb5d1e2a13df35ab02b76955edb1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/8293862/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "accepted_answer_id": 46459183, "answer_count": 1, "score": -3, "last_activity_date": 1512916837, "creation_date": 1506549264, "last_edit_date": 1506559710, "question_id": 46457803, "link": "https://stackoverflow.com/questions/46457803/why-pygame-doesnt-work-inside-functions", "title": "Why pygame doesn&#39;t work inside functions?", "body": "<p>I have added a wav file to play on certain instances, but it doesn't work when I put the code in a function and invoke somewhere else. Also when I change indentation.  I tried mp3 but the same problem occurred.          </p>\n\n<p>This code works properly:     </p>\n\n<pre><code>pygame.mixer.init()\npygame.mixer.music.load(\"../audio/Humi.wav\")\npygame.mixer.music.play()\nwhile pygame.mixer.music.get_busy() == True:\n    continue           \n</code></pre>\n\n<p>This code doesn't work:          </p>\n\n<pre><code>def func():\n   pygame.mixer.init()\n   pygame.mixer.music.load(\"../audio/Humi.wav\")\n   pygame.mixer.music.play()\n   while pygame.mixer.music.get_busy() == True:\n      continue\n</code></pre>\n\n<p>Here is the error message I get:        </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>File \"D:\\GitANN.py\", line 34, in Predicions\n  pygame.mixer.music.load(\"../audio/Humi.wav\")\npygame.error: Couldn't open '../audi/Humi.wav'\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 401, "user_id": 8077762, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155840804842080/picture?type=large", "display_name": "Oren Matar", "link": "https://stackoverflow.com/users/8077762/oren-matar"}, "edited": false, "score": 0, "creation_date": 1506550030, "post_id": 46457799, "comment_id": 79871435, "body": "I noticed you wrote &quot;for row in reader&quot;, which doesn&#39;t skip the first 4 lines.. but also - what is the question? you didn&#39;t specify the problem you&#39;re having with the code..."}, {"owner": {"reputation": 3079, "user_id": 1758363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hBUXs.jpg?s=128&g=1", "display_name": "Evgeny", "link": "https://stackoverflow.com/users/1758363/evgeny"}, "edited": false, "score": 0, "creation_date": 1506550104, "post_id": 46457799, "comment_id": 79871461, "body": "<code>skip_lines = csvfile.readlines()[4:] #skip the first four lines</code> this consumes your file pointer in full, you basically have to skip by <code>next(reader)</code> as in &lt;<a href=\"https://stackoverflow.com/questions/11349333/when-processing-csv-data-how-do-i-ignore-the-first-line-of-data\" title=\"when processing csv data how do i ignore the first line of data\">stackoverflow.com/questions/11349333/&hellip;</a>&gt;"}, {"owner": {"reputation": 1, "user_id": 7768277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1442056762492342/picture?type=large", "display_name": "Tariye Peter", "link": "https://stackoverflow.com/users/7768277/tariye-peter"}, "edited": false, "score": 0, "creation_date": 1506553470, "post_id": 46457799, "comment_id": 79872435, "body": "The main question I&#39;m asking is how do I assign variables to the csv column  and ignore the first 4 lines because they are not part of the dataset"}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1506550174, "creation_date": 1506550174, "answer_id": 46457980, "question_id": 46457799, "link": "https://stackoverflow.com/questions/46457799/assigning-variables-from-a-csv-data-and-skipping-couple-of-lines/46457980#46457980", "title": "Assigning variables from a csv data and skipping couple of lines", "body": "<p>Your problem is here:</p>\n\n<pre><code>skip_lines = csvfile.readlines()[4:]\n</code></pre>\n\n<p>This reads the <em>entire file</em> into memory, and puts everything but the first 4 lines in <code>skip_lines</code>. By the time you get to:</p>\n\n<pre><code>for row in reader:\n</code></pre>\n\n<p>The file-handler is exhausted. </p>\n\n<p>To skip a single line in the file-handler, use:</p>\n\n<pre><code>next(csvfile)\n</code></pre>\n\n<p>Since you want to skip the first four:</p>\n\n<pre><code>for _ in range(4):\n    next(csvfile)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7768277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1442056762492342/picture?type=large", "display_name": "Tariye Peter", "link": "https://stackoverflow.com/users/7768277/tariye-peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506550174, "creation_date": 1506549249, "last_edit_date": 1506550059, "question_id": 46457799, "link": "https://stackoverflow.com/questions/46457799/assigning-variables-from-a-csv-data-and-skipping-couple-of-lines", "title": "Assigning variables from a csv data and skipping couple of lines", "body": "<p>Can anyone help me out, I am new to python and I have some problems assigning variables and skipping some lines</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>import csv\n\nwith open('sample.csv', \"r\") as csvfile: \n\n    # Set up CSV reader and process the header\n    reader = csv.reader(csvfile, delimiter=' ') \n    skip_lines = csvfile.readlines()[4:] #skip the first four lines\n\n    capacity = []\n    voltage = []\n    temperature = []\n    impedance = []\n\n\n# Loop through the lines in the file and get each coordinate\n    for row in reader:\n\n        capacity.append(row[0])\n\n        voltage.append(row[1])\n\n        temperature.append(row[2])\n\n        impedance.append(row[3])\n\n        print(capacity, voltage, temperature, impedance)\n</code></pre>\n"}, {"tags": ["python", "dictionary", "conditional"], "comments": [{"owner": {"reputation": 1259, "user_id": 259679, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/732bba73fe0a97296f298b618e54b95e?s=128&d=identicon&r=PG", "display_name": "Mohammed Hossain", "link": "https://stackoverflow.com/users/259679/mohammed-hossain"}, "edited": false, "score": 1, "creation_date": 1506549601, "post_id": 46457794, "comment_id": 79871274, "body": "What do you mean? Are you trying to get all values of &quot;id&quot; from the results dictionary, where name == some string?"}], "answers": [{"comments": [{"owner": {"reputation": 4409, "user_id": 7865278, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efba2ab73bc63d60bf94c2534cc2b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "pylearn", "link": "https://stackoverflow.com/users/7865278/pylearn"}, "edited": false, "score": 0, "creation_date": 1506567227, "post_id": 46457859, "comment_id": 79875533, "body": "Thanks for the help. Got what I needed and get to know about the dictionary comprehension."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1506549516, "creation_date": 1506549516, "answer_id": 46457859, "question_id": 46457794, "link": "https://stackoverflow.com/questions/46457794/python-find-obj-value-based-on-condition-within-dictionary/46457859#46457859", "title": "Python find obj value based on condition within dictionary", "body": "<p>That's re-keying off the id:</p>\n\n<pre><code>&gt;&gt;&gt; {result['id']: result['name'] for result in data['results']}\n{'567890-004': 'virtual-machine-1', '567890-005': 'virtual-machine-2'}\n</code></pre>\n\n<p>This technique is called a <em>dictionary comprehension</em>.  </p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8662195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f73fc3c6324f7038c2bd140b18e5f8?s=128&d=identicon&r=PG", "display_name": "Om Joshi", "link": "https://stackoverflow.com/users/8662195/om-joshi"}, "edited": false, "score": 0, "creation_date": 1506551941, "post_id": 46458247, "comment_id": 79872056, "body": "will only return id if the result has a name key also"}], "tags": [], "owner": {"reputation": 11, "user_id": 8662195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f73fc3c6324f7038c2bd140b18e5f8?s=128&d=identicon&r=PG", "display_name": "Om Joshi", "link": "https://stackoverflow.com/users/8662195/om-joshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1506551766, "creation_date": 1506551766, "answer_id": 46458247, "question_id": 46457794, "link": "https://stackoverflow.com/questions/46457794/python-find-obj-value-based-on-condition-within-dictionary/46458247#46458247", "title": "Python find obj value based on condition within dictionary", "body": "<pre><code>d = {result['name']: result['id'] for result in request.dict['results'] if 'name' in result}\n# request.dict is the name of the object that contains the list \"results\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4409, "user_id": 7865278, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efba2ab73bc63d60bf94c2534cc2b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "pylearn", "link": "https://stackoverflow.com/users/7865278/pylearn"}, "edited": false, "score": 0, "creation_date": 1506865510, "post_id": 46476486, "comment_id": 79980087, "body": "I am having hard time writing a formatted comment and hence lot of edits. Sorry  While looking at your solution, id is returning &#39;[]&#39; where there is no match found.&lt;br/&gt;  eg., there is no &#39;virtual-machine-3&#39; above and if I try&lt;br/&gt;  id = [x[&#39;id&#39;] for x in results if x[&#39;name&#39;] == &quot;virtual-machine-3&quot;] print id    # prints [] &lt;br/&gt;   I expect an error since if I validate the result with &#39;assert id is not None&#39;    before using it somewhere, it returns &#39;True&#39; for an empty value."}], "tags": [], "owner": {"reputation": 55, "user_id": 7206041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb9bdd512226fafaeb629734f1338b80?s=128&d=identicon&r=PG&f=1", "display_name": "Patmanizer", "link": "https://stackoverflow.com/users/7206041/patmanizer"}, "is_accepted": false, "score": 1, "last_activity_date": 1506625170, "creation_date": 1506625170, "answer_id": 46476486, "question_id": 46457794, "link": "https://stackoverflow.com/questions/46457794/python-find-obj-value-based-on-condition-within-dictionary/46476486#46476486", "title": "Python find obj value based on condition within dictionary", "body": "<p>Convert your json to a list of dictionaries. Then just use short-hand for statement.</p>\n\n<pre><code>results = [\n{ \"name\": \"virtual-machine-1\",\n            \"guest\": \"Microsoft Windows Server 2016 (64-bit)\",\n            \"status\": \"green\",\n            \"id\": \"567890-004\"},\n{\"name\": \"virtual-machine-2\",\n            \"guest\": \"CoreOS Linux (64-bit)\",\n            \"status\": \"green\",\n            \"id\": \"567890-005\"}\n]\n\nid = [x['id'] for x in results if x['name'] == \"virtual-machine-1\"]\nprint id    # prints 567890-004\n\nid = [x['id'] for x in results if x['name'] == \"virtual-machine-2\"]\nprint id    # prints 567890-005\n</code></pre>\n"}], "owner": {"reputation": 4409, "user_id": 7865278, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efba2ab73bc63d60bf94c2534cc2b6e0?s=128&d=identicon&r=PG&f=1", "display_name": "pylearn", "link": "https://stackoverflow.com/users/7865278/pylearn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1230, "favorite_count": 0, "accepted_answer_id": 46457859, "answer_count": 3, "score": 2, "last_activity_date": 1506625170, "creation_date": 1506549223, "question_id": 46457794, "link": "https://stackoverflow.com/questions/46457794/python-find-obj-value-based-on-condition-within-dictionary", "title": "Python find obj value based on condition within dictionary", "body": "<p>I get below json data from a python request: </p>\n\n<pre><code>{\n    \"results\": [\n        {\n            \"name\": \"virtual-machine-1\",\n            \"guest\": \"Microsoft Windows Server 2016 (64-bit)\",\n            \"status\": \"green\",\n            \"id\": \"567890-004\",\n        },\n        {\n            \"name\": \"virtual-machine-2\",\n            \"guest\": \"CoreOS Linux (64-bit)\",\n            \"status\": \"green\",\n            \"id\": \"567890-005\",\n        }\n    ]\n}\n</code></pre>\n\n<p>How can I get \"id\" values of all dictionaries based on the \"name\" values. </p>\n\n<p>I have seen solutions for finding values based on keys but not on a conditional basis within same dictionary and iterating it for multiple dictionaries. Appreciate your help.</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4066647"}, "is_accepted": false, "score": 0, "last_activity_date": 1524536882, "last_edit_date": 1524536882, "creation_date": 1507829872, "answer_id": 46715721, "question_id": 46457789, "link": "https://stackoverflow.com/questions/46457789/any-ways-to-improve-this-code-used-to-scrape-every-table-on-this-asp-page-and-st/46715721#46715721", "title": "Any ways to improve this code used to scrape every table on this ASP page and store it into a CSV?", "body": "<p>Depending on how much of the data you need to extract, you may need something like this:</p>\n\n<pre><code>rows = []\ntables = soup.findAll('table', {'width': '75%'}) # tables = soup.findAll('table') works just as fine\nfor table in tables:\n    trows = table.findAll('tr', {'class': 'boldtxt'})\n\n    # this part extracts the header info from each table\n    term = trows[0].text.strip()\n    instructor, dept = [td.text.strip() for td in trows[1]]\n    course, section, title = [td.text.strip() for td in trows[2]]\n    enrolled, ref, completed = [td.text.strip() for td in trows[3]]\n\n    # specifying multiple values for the 'class' attribute will search for\n    # 'tr' tags having 'class' attributes of both 'tableback1' and 'tableback2'\n    trows = table.findAll('tr', {'class': ('tableback1', 'tableback2')})\n\n    # this part retrieves the main data found in the rows of the table\n    for trow in trows:\n        # if you choose to ignore the header part of the table,\n        # make sure you remove the first part from this line\n        rows.append([term, instructor, dept, course, section, title, enrolled, ref, completed]\n            + [td.text.strip() for td in trow.findAll('td')])\n</code></pre>\n\n<p>Here's a sample output:</p>\n\n<pre><code>['Term: 1171 - Spring 2017', 'Instructor Name: Elias, Desiree', 'Department: SCHACCOUNT', 'Course: ACG   2021', 'Section: RVC -1', 'Title: ACC Decisions', 'Enrolled: 194', 'Ref#: 15164 -1', 'Completed Forms: 57', 'Description of course objectives and assignments', '0.0%', '64.9%', '14.0%', '14.0%', '3.5%', '3.5%']\n['Term: 1171 - Spring 2017', 'Instructor Name: Elias, Desiree', 'Department: SCHACCOUNT', 'Course: ACG   2021', 'Section: RVC -1', 'Title: ACC Decisions', 'Enrolled: 194', 'Ref#: 15164 -1', 'Completed Forms: 57', 'Communication of ideas and information', '0.0%', '56.1%', '17.5%', '15.8%', '5.3%', '5.3%']\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 8386114, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2824156a21454f5c27c4ce40d9d0f49c?s=128&d=identicon&r=PG", "display_name": "user18139", "link": "https://stackoverflow.com/users/8386114/user18139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524536882, "creation_date": 1506549166, "last_edit_date": 1506570203, "question_id": 46457789, "link": "https://stackoverflow.com/questions/46457789/any-ways-to-improve-this-code-used-to-scrape-every-table-on-this-asp-page-and-st", "title": "Any ways to improve this code used to scrape every table on this ASP page and store it into a CSV?", "body": "<p>This is my source code so far:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport lxml\nimport csv\n\nurl = \"https://opir.fiu.edu/instructor_eval.asp\"\nform_data = {\"Term\": \"1171\", \"Coll\": \"CBADM\"\n             # Spring term, college of business administration\n}\nresponse = requests.post(url, data=form_data)\n\n# URL for the table. Not sure if this is redundant?\nurl = 'https://opir.fiu.edu/instructor_eval.asp'\n# grab the page\nhtml = requests.get(url).text\n# import into BS\nsoup = BeautifulSoup(html, \"lxml\")\n\n#Need entire tables. So tbody, or maybe tr? for each row?\n#Starting at row 5. We do NOT want rows 0-5.\nrows = soup.find_all('tr', attrs={'class':'boldtxt', 'class':'questiontstl', 'class':'tableback1','class':'tableback2'})\n\nfor row in rows:\n    print(row)\n\nwith open('studentevaluations.csv', 'w', newline='') as f_output:\n   csv_output = csv.writer(f_output)\n   csv_output.writerows(rows)\n</code></pre>\n\n<p>Much of this code has been suggested to me via Reddit by others. So what I am currently confused on, what I don't understand, is how to get specific rows from each and every table. I'm not sure if my code is correct?\nThis specific block is used to scrape:</p>\n\n<pre><code>rows = soup.find_all('tr', attrs={'class':'boldtxt',\n'class':'questiontstl',\n'class':'tableback1','class':'tableback2'})\n</code></pre>\n\n<p>Any thoughts on how to improve this so far? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 430, "user_id": 7130772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8341c5423233e44636358ee48b443ce2?s=128&d=identicon&r=PG&f=1", "display_name": "joergd", "link": "https://stackoverflow.com/users/7130772/joergd"}, "edited": false, "score": 0, "creation_date": 1506549310, "post_id": 46457776, "comment_id": 79871182, "body": "can you provide a minimal example of what&#39;s in <code>df</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1506556811, "last_edit_date": 1506556811, "creation_date": 1506550307, "answer_id": 46458013, "question_id": 46457776, "link": "https://stackoverflow.com/questions/46457776/keep-date-in-loc-search/46458013#46458013", "title": "Keep date in loc search", "body": "<p><code>df.groupby(...)</code> returns an iterator which yields group-keys and each group as a sub-DataFrame. Therefore, you could use</p>\n\n<pre><code>productlists = [grp for key, grp in df.groupby(level=0)]\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'date': ['2016-01-01', '2016-01-01', '2017-01-01', '2017-01-01'],\n 'price': [10.0, 10.0, 10.0, 10.0],\n 'product': ['apple', 'orange', 'apple', 'orange'],\n 'quantities': [60.0, 0.0, 60.0, 0.0]})\ndf = df.set_index(['date', 'product'])\nproductlists = [grp for key, grp in df.groupby(level=0)]\nfor grp in productlists:\n    print(grp)\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>                    price  quantities\ndate       product                   \n2016-01-01 apple     10.0        60.0\n           orange    10.0         0.0\n                    price  quantities\ndate       product                   \n2017-01-01 apple     10.0        60.0\n           orange    10.0         0.0\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 7433056, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1d778272a2f55a2e686f2b40eb56ad42?s=128&d=identicon&r=PG&f=1", "display_name": "sdg", "link": "https://stackoverflow.com/users/7433056/sdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506556811, "creation_date": 1506549086, "last_edit_date": 1506555436, "question_id": 46457776, "link": "https://stackoverflow.com/questions/46457776/keep-date-in-loc-search", "title": "Keep date in loc search", "body": "<p>I have a pivot table date and item as the index and price and quantity as values.\nI can of course loop each date's transaction and do something with them using:</p>\n\n<p>df  </p>\n\n<pre><code>                           price  quantities\ndate           product                    \n2016-01-01     apple        10.0    60.0\n               orange       10.0     0.0\n2017-01-01     apple        10.0    60.0\n               orange       10.0     0.0\n\ndates = df.index.levels[0]\n\nfor date in dates:\n  productlists.append(df.loc[date])\n</code></pre>\n\n<p>result: </p>\n\n<pre><code>         price  quantities\nproduct                    \napple     10.0    60.0\norange    10.0     0.0\n\n         price  quantities\nproduct                   \napple     10.0    60.0\norange    10.0     0.0\n</code></pre>\n\n<p>expected:</p>\n\n<pre><code>                           price  quantities\ndate           product                    \n2016-01-01     apple        10.0    60.0\n               orange       10.0     0.0\n                            price  quantities\ndate           product \n2017-01-01     apple        10.0    60.0\n               orange       10.0     0.0\n</code></pre>\n\n<p>The problem is now I lost the date index in the productlists. What should I do?</p>\n\n<p>EDITED: provided with my expectation of result.</p>\n"}, {"tags": ["python", "logging"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 2888381, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02974529735849554a63745ba422a91d?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/2888381/scott"}, "edited": false, "score": 0, "creation_date": 1506552068, "post_id": 46457871, "comment_id": 79872093, "body": "Yes, I want to initialize the logger in the <code>ecosystem</code> class. But why would this cause the log to write to the terminal window AND the <code>log.log</code> file? Because it&#39;s being called twice somewhere?"}, {"owner": {"reputation": 2799, "user_id": 73750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3XKq5.jpg?s=128&g=1", "display_name": "tayfun", "link": "https://stackoverflow.com/users/73750/tayfun"}, "reply_to_user": {"reputation": 99, "user_id": 2888381, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02974529735849554a63745ba422a91d?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/2888381/scott"}, "edited": false, "score": 0, "creation_date": 1506589404, "post_id": 46457871, "comment_id": 79885091, "body": "@Scott I&#39;ve added more information to the answer above. This is because of propagation."}], "tags": [], "owner": {"reputation": 2799, "user_id": 73750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3XKq5.jpg?s=128&g=1", "display_name": "tayfun", "link": "https://stackoverflow.com/users/73750/tayfun"}, "is_accepted": true, "score": 1, "last_activity_date": 1506589373, "last_edit_date": 1506589373, "creation_date": 1506549592, "answer_id": 46457871, "question_id": 46457713, "link": "https://stackoverflow.com/questions/46457713/python-logging-writing-to-terminal-and-log-file/46457871#46457871", "title": "Python Logging writing to terminal and log file", "body": "<p>It looks like you're initializing the logger with <code>log.log</code> file inside the <code>__init__</code> method of <code>ecosystem</code> class. This means that any code that creates an object of <code>ecosystem</code> will initialize the logger. Somewhere in your code, in one the files, you are creating that object and hence the logger is initialized and writes to the file. </p>\n\n<p>Note that you do not need to call <code>__init__</code> yourself as it is called on object creation. ie. after this call</p>\n\n<pre><code>my_obj = ecosystem()\n</code></pre>\n\n<p>log files will be written.</p>\n\n<p>You're asking why both stderr and file is used after your new file handler is attached. This is because of the propagate attribute. By default propagate is True and this means your log will bubble up the hierarchy of loggers and each one will continue handling it. Since default root logger is at the top of the hierarchy, it will be handling your log too. Set <code>propagate</code> to False fix this:</p>\n\n<pre><code>self.logger.propagate = False\n</code></pre>\n\n<p>You might want to read up a bit on <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow noreferrer\">logging</a>. Also, if you want to keep your sanity regarding logging, <a href=\"https://docs.python.org/3/library/logging.config.html#logging.config.dictConfig\" rel=\"nofollow noreferrer\">check how you can use dict to configure logging</a>.</p>\n"}], "owner": {"reputation": 99, "user_id": 2888381, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/02974529735849554a63745ba422a91d?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/2888381/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 46457871, "answer_count": 1, "score": 1, "last_activity_date": 1506589373, "creation_date": 1506548709, "last_edit_date": 1506550661, "question_id": 46457713, "link": "https://stackoverflow.com/questions/46457713/python-logging-writing-to-terminal-and-log-file", "title": "Python Logging writing to terminal and log file", "body": "<p>I have two files: <code>script.py</code> and <code>functions.py</code>. In <code>functions.py</code>, I have logger setup, and a set of functions (made up one below):</p>\n\n<pre><code>class ecosystem():\n    def __init__(self, environment, mode):\n        self.logger = logging.getLogger(__name__)\n            if os.path.exists('log.log'):\n                os.remove('log.log')\n\n            handler= logging.FileHandler('log.log')\n            if mode.lower()== 'info':\n                handler.setLevel(logging.INFO)\n                self.logger.setLevel(logging.INFO)\n            elif mode.lower()== 'warning':\n                handler.setLevel(logging.WARNING)\n                self.logger.setLevel(logging.WARNING)\n            elif mode.lower()== 'error':\n                handler.setLevel(logging.ERROR)\n                self.logger.setLevel(logging.ERROR)\n            elif mode.lower()== 'critical':\n                handler.setLevel(logging.CRITICAL)\n                self.logger.setLevel(logging.CRITICAL)\n            else:\n                handler.setLevel(logging.DEBUG)\n                self.logger.setLevel(logging.DEBUG)\n\n            #Logging file format\n            formatter = logging.Formatter('    %(levelname)s | %(asctime)s | %(message)s \\n')\n            handler.setFormatter(formatter)\n            #Add the handler to the logger\n            self.logger.addHandler(handler)\n\n            self.logger.info('Logging starts here')\n\n    def my_function():\n        self.logger.debug('test log'))\n        return True\n</code></pre>\n\n<p>I'm trying to call <code>ecosystem.my_function</code> from <code>script.py</code>, but when I do, the <code>logger.debug</code> message shows up in both the terminal window AND <code>log.log</code>. Any ideas why this might be happening? </p>\n\n<p>If it helps, I also import other modules into <code>functions.py</code>, if those modules import logging as well, could that cause issues?</p>\n"}, {"tags": ["python", "binary", "bitstring"], "comments": [{"owner": {"reputation": 523, "user_id": 668797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SAyYU.jpg?s=128&g=1", "display_name": "BradMcDanel", "link": "https://stackoverflow.com/users/668797/bradmcdanel"}, "edited": false, "score": 0, "creation_date": 1506549112, "post_id": 46457670, "comment_id": 79871119, "body": "To clarify, you are asking how to read the n-th column of the 32 x 256 bit matrix?"}, {"owner": {"reputation": 927, "user_id": 4950204, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/246295ada7d994b6b6a585163107f770?s=128&d=identicon&r=PG&f=1", "display_name": "kaminsknator", "link": "https://stackoverflow.com/users/4950204/kaminsknator"}, "reply_to_user": {"reputation": 523, "user_id": 668797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SAyYU.jpg?s=128&g=1", "display_name": "BradMcDanel", "link": "https://stackoverflow.com/users/668797/bradmcdanel"}, "edited": false, "score": 0, "creation_date": 1506611838, "post_id": 46457670, "comment_id": 79900447, "body": "Sorry it gets confusing. I&#39;m really asking to just transpose raw binary data."}], "answers": [{"tags": [], "owner": {"reputation": 19629, "user_id": 87699, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cCUt8.jpg?s=128&g=1", "display_name": "Scott Griffiths", "link": "https://stackoverflow.com/users/87699/scott-griffiths"}, "is_accepted": true, "score": 1, "last_activity_date": 1506601096, "creation_date": 1506601096, "answer_id": 46468967, "question_id": 46457670, "link": "https://stackoverflow.com/questions/46457670/efficiently-reorganize-binary-data-then-transpose-chunk/46468967#46468967", "title": "Efficiently reorganize binary data then transpose chunk", "body": "<p>When you construct <code>blist</code> you get list of booleans, which in Python are just integers (False == 0, True == 1).</p>\n\n<p>So when you try to <code>join</code> them it is creating a new <code>BitArray</code> object from each integer type, which is interpreted as \"create a <code>BitArray</code> of this length\". So <code>BitArray(False)</code> is empty (length zero), while <code>BitArray(True)</code> is a single zero bit!</p>\n\n<p>This is rather counter-intuitive, but can't be helped due to reasons too lengthy to go into here.</p>\n\n<p>To create from a list of booleans, just do it directly instead of using join:</p>\n\n<pre><code>print(BitArray(blist))\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 4950204, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/246295ada7d994b6b6a585163107f770?s=128&d=identicon&r=PG&f=1", "display_name": "kaminsknator", "link": "https://stackoverflow.com/users/4950204/kaminsknator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 46468967, "answer_count": 1, "score": 0, "last_activity_date": 1506601096, "creation_date": 1506548522, "question_id": 46457670, "link": "https://stackoverflow.com/questions/46457670/efficiently-reorganize-binary-data-then-transpose-chunk", "title": "Efficiently reorganize binary data then transpose chunk", "body": "<p>I have a raw binary file that holds 32 samples and each sample is 256 bits. The nth element of each sample combine to create a single valid sample so in this case 256 valid samples. The sample order is incorrect on the input file and must be reordered. To do that I am using the bitstring module and reading in 8192 bits then unpacking them into the correct order. This seams reasonable. Now I must combine the nth bit from all samples into a new structure so that each sample is 32 bits. I'm asking how to efficiently reorder (accomplished) and then transpose raw binary data. Maybe it would be better to abandon the bitstring module entirely. </p>\n\n<pre><code>from bitstring import ConstBitStream, ReadError, BitArray\nch = [ConstBitStream('0x0000000000000000000000000000000000000000000000000000000000000000')\n                      for i in range(32)]\ntest = \"test\"\n\nfp = ConstBitStream(filename=\"test.jlb\")\n\ntry:\n    firstChunk = fp.read(8192)#read one sample    \n    ch[28],ch[29],ch[17],ch[18],ch[19],ch[11],ch[14],ch[12],\\\n    ch[31],ch[23],ch[13],ch[21],ch[20],ch[7],ch[24],ch[9],\\\n    ch[8],ch[27],ch[10],ch[30],ch[22],nocare,nocare,ch[6],\\\n    ch[4],ch[5],ch[3],ch[2],ch[1],ch[15],ch[0],nocare = firstChunk.unpack('32*bits:256')#put it in order\nexcept ReadError:\n    pass\nblist = [element[3] for element in ch]#try to create new sample\nprint(blist)#looks good list of booleans\nprint(BitArray('').join(blist))#no good 0x00\n</code></pre>\n"}, {"tags": ["python", "pickle", "r-tree"], "answers": [{"comments": [{"owner": {"reputation": 989, "user_id": 5765458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f75e16bc08f11c1b781dcae721c44f?s=128&d=identicon&r=PG&f=1", "display_name": "carton.swing", "link": "https://stackoverflow.com/users/5765458/carton-swing"}, "edited": false, "score": 0, "creation_date": 1565948271, "post_id": 47377255, "comment_id": 101511182, "body": "I&#39;ve tried the Dill, can not serialize the rtree index object&#39;s data"}], "tags": [], "owner": {"reputation": 135, "user_id": 1478842, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4065794db349a0f1f9057541c1791d94?s=128&d=identicon&r=PG", "display_name": "user1478842", "link": "https://stackoverflow.com/users/1478842/user1478842"}, "is_accepted": false, "score": 0, "last_activity_date": 1511097211, "creation_date": 1511097211, "answer_id": 47377255, "question_id": 46457640, "link": "https://stackoverflow.com/questions/46457640/is-pickling-an-rtree-spatial-index-possible/47377255#47377255", "title": "Is pickling an Rtree spatial index possible?", "body": "<p>It looks like you can write an index to a file, so it should be possible to store it as a string: <a href=\"https://gis.stackexchange.com/questions/254781/saving-python-rtree-spatial-index-to-file/254785\">https://gis.stackexchange.com/questions/254781/saving-python-rtree-spatial-index-to-file/254785</a></p>\n\n<p>You could also try Dill, which I believe is capable of 'pickling' more kinds of objects, or at least saving the state of the interpreter: <a href=\"https://pypi.python.org/pypi/dill\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/dill</a></p>\n"}], "owner": {"reputation": 1338, "user_id": 3407994, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vHAwE.jpg?s=128&g=1", "display_name": "kuanb", "link": "https://stackoverflow.com/users/3407994/kuanb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 721, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1511097211, "creation_date": 1506548372, "question_id": 46457640, "link": "https://stackoverflow.com/questions/46457640/is-pickling-an-rtree-spatial-index-possible", "title": "Is pickling an Rtree spatial index possible?", "body": "<p>Pickling Rtree does not appear straightforward as it is a ctypes wrapper. <a href=\"https://gis.stackexchange.com/questions/254781/how-to-save-python-rtree-spatial-index-to-file/254785#comment401778_254781\">This comment</a> on SO seconds that assumption.</p>\n\n<p>But, in a (much) older @sgillies <a href=\"https://sgillies.net/2007/10/23/plone-r-tree-spatial-index.html\" rel=\"noreferrer\">post</a> (the author of this lib), in the comments section, he suggests that it is indeed doable.</p>\n\n<p>Yet, when I recreate these steps locally, the results suggest otherwise:</p>\n\n<pre><code>&gt;&gt;&gt; idx = rtree.index.Index()\n&gt;&gt;&gt; idx.insert(10, (1,2,3,4))\n&gt;&gt;&gt; list(idx.intersection((0,0,5,5)))\n# [10]\n&gt;&gt;&gt; f = open('foo.p', 'wb')\n&gt;&gt;&gt; pickle.dump(idx, f)\n&gt;&gt;&gt; a = pickle.load( open( \"foo.p\", \"rb\" ) )\n&gt;&gt;&gt; a.get_bounds()\n# [1.7976931348623157e+308, 1.7976931348623157e+308, -1.7976931348623157e+308, -1.7976931348623157e+308]]\n&gt;&gt;&gt; list(a.intersection((0,0,5,5)))\n# []\n</code></pre>\n\n<p>Question:\nIs there an operation I am failing to perform correctly to enable pickling of the spatial index? If spatial indexing is possible, what would be the correct way to go about it?</p>\n\n<p>Anecdotally, I was able to pass a GeoPandas.GeoDataFrame.sindex successfully through a pickling process (pickling performed by Dask.distributed). I'm aware it uses cloudpickle or pickle (dep. on situation) but from the GeoPandas side, <a href=\"https://github.com/geopandas/geopandas/blob/597dfcf5978c1e45253841cd3ed4ea3a0783a1d8/geopandas/sindex.py\" rel=\"noreferrer\"><code>sindex</code>'s <code>SpatialIndex</code> class</a> seems to simply be a wrapper around <code>rtree.index.Index</code>. I have yet to more deeply dive into understanding why this was the case, but wanted to check here first to see if others had insight.</p>\n"}, {"tags": ["python", "python-3.5", "subclassing"], "answers": [{"comments": [{"owner": {"reputation": 1334, "user_id": 2179994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rCFwO.jpg?s=128&g=1", "display_name": "jake77", "link": "https://stackoverflow.com/users/2179994/jake77"}, "edited": false, "score": 0, "creation_date": 1506549963, "post_id": 46457703, "comment_id": 79871405, "body": "Great, thanks. This will make my life easier. But which of the two possible ways is the preferable one?"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "reply_to_user": {"reputation": 1334, "user_id": 2179994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rCFwO.jpg?s=128&g=1", "display_name": "jake77", "link": "https://stackoverflow.com/users/2179994/jake77"}, "edited": false, "score": 0, "creation_date": 1506550374, "post_id": 46457703, "comment_id": 79871544, "body": "If you are writing code that tries to be version agnostic, go with the first. If you aren&#39;t go with the second."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1506550593, "post_id": 46457703, "comment_id": 79871621, "body": "Remove the comment about &#39;ideally&#39;.  Using <code>type(self)</code> in super is a big mistake!"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1506551233, "post_id": 46457703, "comment_id": 79871842, "body": "@wim It&#39;s one of those things I always forget due to never using Python 2 :)"}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 2, "last_activity_date": 1506550935, "last_edit_date": 1506550935, "creation_date": 1506548661, "answer_id": 46457703, "question_id": 46457635, "link": "https://stackoverflow.com/questions/46457635/python-3-subclassing-in-case-of-internal-class/46457703#46457703", "title": "python 3 subclassing in case of internal class", "body": "<p><code>Bar</code> isn't visible, it's a class variable. You'll need to be explicit:</p>\n\n<pre><code>super(Baz.Bar, self).__init__() \n</code></pre>\n\n<p>Take note that the no argument form of <code>super</code> takes care of this for you:</p>\n\n<pre><code>super().__init__()\n</code></pre>\n\n<p>works fine.</p>\n"}], "owner": {"reputation": 1334, "user_id": 2179994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rCFwO.jpg?s=128&g=1", "display_name": "jake77", "link": "https://stackoverflow.com/users/2179994/jake77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 46457703, "answer_count": 1, "score": 0, "last_activity_date": 1506551594, "creation_date": 1506548352, "last_edit_date": 1506551594, "question_id": 46457635, "link": "https://stackoverflow.com/questions/46457635/python-3-subclassing-in-case-of-internal-class", "title": "python 3 subclassing in case of internal class", "body": "<p>In python 3.5.2, the following class hierarchy:</p>\n\n<pre><code>class Foobaz(object):\n    def __init__(self):\n        pass\n\n\nclass Foo(object):\n    def __init__(self):\n        pass\n\n\nclass Baz(Foobaz):\n\n    class Bar(Foo):\n        def __init__(self):\n            super(Bar, self).__init__()\n\n    def __init__(self):\n        super(Baz, self).__init__()\n        self.bar = self.Bar()\n\n\nif __name__ == '__main__':\n    b = Baz()\n</code></pre>\n\n<p>instantiating the Baz class yields</p>\n\n<pre><code>    super(Bar, self).__init__()\nNameError: name 'Bar' is not defined\n</code></pre>\n\n<p>Having an internal class subclassed directly from object - that is, no call to super - is just fine. I have no clue why. Can someone explain it please?</p>\n"}, {"tags": ["python", "windows", "service"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1506548511, "post_id": 46457633, "comment_id": 79870889, "body": "You could log them couldn&#39;t you? Try wrapping it in a try, and in the finally, log the exception."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1506549073, "post_id": 46457633, "comment_id": 79871104, "body": "A good starting point for logging: <a href=\"https://docs.python.org/3/howto/logging.html#logging-basic-tutorial\" rel=\"nofollow noreferrer\">docs.python.org/3/howto/logging.html#logging-basic-tutorial</a>"}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 6003516, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uhuqJEkJmg/AAAAAAAAAAI/AAAAAAAAACI/f0KhmAmStmY/photo.jpg?sz=128", "display_name": "baldprussian", "link": "https://stackoverflow.com/users/6003516/baldprussian"}, "is_accepted": false, "score": 0, "last_activity_date": 1506548483, "creation_date": 1506548483, "answer_id": 46457663, "question_id": 46457633, "link": "https://stackoverflow.com/questions/46457633/how-to-obtain-python-errors-when-the-script-is-running-as-a-service/46457663#46457663", "title": "How to obtain python errors when the script is running as a service", "body": "<p>I'd suggest writing the program first, test it out, and then make it into a service.  Otherwise you can try trapping errors and output that to a log file.</p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 2634341, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/85143160c5b1ea51f5acd267d50f21b5?s=128&d=identicon&r=PG", "display_name": "jmr", "link": "https://stackoverflow.com/users/2634341/jmr"}, "edited": false, "score": 0, "creation_date": 1506723694, "post_id": 46457916, "comment_id": 79950086, "body": "Not exactly what I was looking for, but accepted as the best answer for &quot;exc_info=True&quot;, that fulfills 80% of my needs. Thanks."}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1506549817, "creation_date": 1506549817, "answer_id": 46457916, "question_id": 46457633, "link": "https://stackoverflow.com/questions/46457633/how-to-obtain-python-errors-when-the-script-is-running-as-a-service/46457916#46457916", "title": "How to obtain python errors when the script is running as a service", "body": "<p>The best practice is to develop your service using an IDE like <a href=\"https://www.jetbrains.com/pycharm/download\" rel=\"nofollow noreferrer\">PyCharm</a>, that way, it can find a lost of awkwardness (like typo) for you.</p>\n\n<p>It is also really important to add a logging system, and log to a file. Your service is usually executed with a specific user with different privileges, so you must pay attention to the file access rights.</p>\n\n<p>You can use <a href=\"https://github.com/ActiveState/appdirs\" rel=\"nofollow noreferrer\">AppDir</a> Library to calculate the user log directory (see <code>user_log_dir</code> property.</p>\n\n<p>Then, you can create a rotating log with a <a href=\"https://docs.python.org/3/library/logging.handlers.html#logging.handlers.RotatingFileHandler\" rel=\"nofollow noreferrer\">RotatingFileHandler</a>.</p>\n\n<p>In short:</p>\n\n<pre><code>logger = logging.getLogger(\"Rotating Log\")\nlogger.setLevel(logging.INFO)\n\n# add a rotating handler\nhandler = RotatingFileHandler(path, maxBytes=1024**3,  # 1 Mo\n                              backupCount=5)\nlogger.addHandler(handler)\n</code></pre>\n\n<p>Of course, this logger must be defined in your \"main\" function.</p>\n\n<p>Your \"main\" function must have an exception handler.\nYou need to catch all the <a href=\"https://docs.python.org/3/library/exceptions.html#exception-hierarchy\" rel=\"nofollow noreferrer\">exceptions</a> (except KeyboardInterrupt and SystemExit) and log them.</p>\n\n<p>To summarize:</p>\n\n<pre><code>def main():\n    logger = init_logger()\n    try:\n        main_impl()\n    except Exception as exc:\n        logger.error(\"Last chance exception\", exc_info=True)\n        raise SystemExit(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 2634341, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/85143160c5b1ea51f5acd267d50f21b5?s=128&d=identicon&r=PG", "display_name": "jmr", "link": "https://stackoverflow.com/users/2634341/jmr"}, "is_accepted": true, "score": 0, "last_activity_date": 1508880022, "creation_date": 1508880022, "answer_id": 46920204, "question_id": 46457633, "link": "https://stackoverflow.com/questions/46457633/how-to-obtain-python-errors-when-the-script-is-running-as-a-service/46920204#46920204", "title": "How to obtain python errors when the script is running as a service", "body": "<p>That code uses pywin32. As such, in addition to the standard</p>\n\n<pre><code>python myservice.py install\npython myservice.py start\n</code></pre>\n\n<p>there's also an</p>\n\n<pre><code>python myservice.py debug\n</code></pre>\n\n<p>It won't provide all errors either, but will provide valuable clues in many cases.</p>\n"}], "owner": {"reputation": 176, "user_id": 2634341, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/85143160c5b1ea51f5acd267d50f21b5?s=128&d=identicon&r=PG", "display_name": "jmr", "link": "https://stackoverflow.com/users/2634341/jmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 46920204, "answer_count": 3, "score": 0, "last_activity_date": 1508880022, "creation_date": 1506548342, "last_edit_date": 1506550288, "question_id": 46457633, "link": "https://stackoverflow.com/questions/46457633/how-to-obtain-python-errors-when-the-script-is-running-as-a-service", "title": "How to obtain python errors when the script is running as a service", "body": "<p>I'm writing a Windows service in Python, using win32service, as described in the top answer of <a href=\"https://stackoverflow.com/questions/32404\">this question</a>. It works.</p>\n\n<p>However, as I write the code, anytime I make a mistake (say, a typo in a variable name), the only feedback I get is that the service dies.</p>\n\n<p>Where can I see the regular python errors?</p>\n\n<p><strong>Edit</strong>: I should have stated that adding a TimedRotatingFileHandler is pretty much the only thing I've added so far - and yes, it works, but it's useless to catch typos or when forgetting to prefix variables names with \"self.\". I still have to experiment with catching the exceptions but even if I get that to work, in my mind, it's still a workaround, not a true solution.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1506549698, "post_id": 46457698, "comment_id": 79871309, "body": "Great answer as usual (-:"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 3, "last_activity_date": 1506548636, "creation_date": 1506548636, "answer_id": 46457698, "question_id": 46457628, "link": "https://stackoverflow.com/questions/46457628/change-pandas-dataframe-to-flat-format/46457698#46457698", "title": "Change pandas dataframe to flat format", "body": "<p>Use <code>pandas.melt</code>, and set the column that maintains (the <code>DateTime</code> here) as the <code>id_vars</code>, all the columns by default will be gathered in the long format with the header in one column, values in another; You can use <code>var_name</code> and <code>value_name</code> to rename the two columns respectively:</p>\n\n<pre><code>pd.melt(df, id_vars='DateTime', var_name='name')\n\n      DateTime    name  value\n0   10/22/2008  2008_11 2.0\n1   10/23/2008  2008_11 1.0\n2   10/24/2008  2008_11 3.0\n3   10/27/2008  2008_11 4.0\n4   10/28/2008  2008_11 NaN\n5   10/22/2008  2008_12 NaN\n6   10/23/2008  2008_12 NaN\n7   10/24/2008  2008_12 4.0\n8   10/27/2008  2008_12 6.0\n9   10/28/2008  2008_12 5.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1506549621, "post_id": 46457842, "comment_id": 79871286, "body": "I like this modification <code>df.set_index(&#39;DateTime&#39;).rename_axis(&#39;Name&#39;, 1).stack(dropna=False).reset_index(name=&#39;Value&#39;)</code>"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1506550844, "last_edit_date": 1506550844, "creation_date": 1506549434, "answer_id": 46457842, "question_id": 46457628, "link": "https://stackoverflow.com/questions/46457628/change-pandas-dataframe-to-flat-format/46457842#46457842", "title": "Change pandas dataframe to flat format", "body": "<p>By using <code>stack</code> </p>\n\n<pre><code>df.set_index('DateTime').stack(dropna=False).reset_index().rename(columns={'level_1':'Name',0:'Value'})\nOut[162]: \n     DateTime     Name  Value\n0  10/22/2008  2008_11    2.0\n1  10/22/2008  2008_12    NaN\n2  10/23/2008  2008_11    1.0\n3  10/23/2008  2008_12    NaN\n4  10/24/2008  2008_11    3.0\n5  10/24/2008  2008_12    4.0\n6  10/27/2008  2008_11    4.0\n7  10/27/2008  2008_12    6.0\n8  10/28/2008  2008_11    NaN\n9  10/28/2008  2008_12    5.0\n</code></pre>\n\n<p>As piRSquared's suggestion </p>\n\n<pre><code>df.set_index('DateTime').rename_axis('Name', 1).stack(dropna=False).reset_index(name='Value')\n</code></pre>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 46457698, "answer_count": 2, "score": 1, "last_activity_date": 1506550844, "creation_date": 1506548318, "question_id": 46457628, "link": "https://stackoverflow.com/questions/46457628/change-pandas-dataframe-to-flat-format", "title": "Change pandas dataframe to flat format", "body": "<p>I have a pandas dataframe with 100 columns with the following format:</p>\n\n<pre><code>DateTime    2008_11  2008_12\n10/22/2008  2        NaN\n10/23/2008  1        NaN\n10/24/2008  3        4\n10/27/2008  4        6\n10/28/2008  NaN      5\n</code></pre>\n\n<p>I want to create the following flat file:</p>\n\n<pre><code>DateTime    Name      Value\n10/22/2008  2008_11   2\n10/23/2008  2008_11   1\n10/24/2008  2008_11   3\n10/27/2008  2008_11   4\n10/28/2008  2008_11   NaN\n10/22/2008  2008_12   NaN\n10/23/2008  2008_12   NaN\n10/24/2008  2008_12   4\n10/27/2008  2008_12   6\n10/28/2008  2008_12   5\n</code></pre>\n\n<p>I have no idea how to proceed with this?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1506576940, "post_id": 46457615, "comment_id": 79878010, "body": "Did you restart Matplotlib?"}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "reply_to_user": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1506616278, "post_id": 46457615, "comment_id": 79903145, "body": "@Joe, I&#39;m testing this in a jupyter notebook and restart the kernel before I re-run, so that multiple matplotlib style files don&#39;t get applied together. Is that what you&#39;re referring to?"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1506617904, "post_id": 46463967, "comment_id": 79904087, "body": "Thanks. I&#39;ve tried two things so far, both of which result in both horizontal and vertical lines being shown.  1) changing axes.grid.axis to y and axes.grid to True in ggplot.mplstyle 2) using a .mplstyle file that contains only the lines axes.grid.axis: y and axes.grid: True."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1506670025, "post_id": 46463967, "comment_id": 79921935, "body": "Which version of matplotlib are you using?"}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1506697657, "post_id": 46463967, "comment_id": 79937946, "body": "matplotlib 2.0.2"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1506713339, "post_id": 46463967, "comment_id": 79945972, "body": "Ok, what destroys the setting somehow is the use of pandas. I don&#39;t know the reason yet, but for a matplotlib plot alone it seems to work fine. Would you like to file a bug report at pandas, or do you want me to do it?"}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1507063097, "post_id": 46463967, "comment_id": 80060501, "body": "Thanks. I filed a bug report on pandas&#39; github."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1507063721, "post_id": 46463967, "comment_id": 80060764, "body": "To make this useful for future readers you should link to issue."}, {"owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "edited": false, "score": 0, "creation_date": 1507141051, "post_id": 46463967, "comment_id": 80096733, "body": "Here is the issue: <a href=\"https://github.com/pandas-dev/pandas/issues/17725#issuecomment-333246592\" rel=\"nofollow noreferrer\">github.com/pandas-dev/pandas/issues/&hellip;</a>"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 3, "last_activity_date": 1506591047, "last_edit_date": 1506591047, "creation_date": 1506585765, "answer_id": 46463967, "question_id": 46457615, "link": "https://stackoverflow.com/questions/46457615/python-matplotlib-style-file-show-only-horizontal-gridlines/46463967#46463967", "title": "Python Matplotlib style file: show only horizontal gridlines", "body": "<p>You need to turn the grid on as well,</p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.rcParams[\"axes.grid.axis\"] =\"y\"\nplt.rcParams[\"axes.grid\"] = True\n</code></pre>\n\n<p>or in the matplotlibrc file:</p>\n\n<pre><code>axes.grid.axis : y\naxes.grid : True\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8145996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfc6d02d0a1d50004380ae34a4cdc22?s=128&d=identicon&r=PG&f=1", "display_name": "AnonymousCowherd", "link": "https://stackoverflow.com/users/8145996/anonymouscowherd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2800, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1506703255, "creation_date": 1506548263, "last_edit_date": 1506703255, "question_id": 46457615, "link": "https://stackoverflow.com/questions/46457615/python-matplotlib-style-file-show-only-horizontal-gridlines", "title": "Python Matplotlib style file: show only horizontal gridlines", "body": "<p>I'm trying to define a matplotlib style file (.mplstyle) to only show horizontal gridlines. I know I can do it in python with </p>\n\n<pre><code>fig, ax = plt.subplots() \nax.yaxis.grid(True)\n</code></pre>\n\n<p>but I want to do it in the mplstyle file. The <a href=\"https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/mpl-data/stylelib/classic.mplstyle\" rel=\"nofollow noreferrer\">classic.mplstyle</a> file has the option <code>axes.grid.axis: both</code> set. I tried changing this to <code>axes.grid.axis: y</code>, but this doesn't seem to change anything.</p>\n\n<p>Is it possible to do this in a style file?</p>\n\n<p>EDIT: </p>\n\n<p>An attempt at getting this to work:</p>\n\n<pre><code>%matplotlib inline\nimport pandas as pd\nimport matplotlib.pyplot as plt\nmonth = ['Jan', 'Feb', 'Mar', 'Apr']\nvolume = [1, 2, 3, 4]\nplt.style.use('https://gist.githubusercontent.com/luisdelatorre012/b36899e6dca07d05e73aca80eceb3098/raw/43ae73605b5e33dfc3f0d7e5d423ff997fc8325c/tiny.mplstyle')\nd = pd.DataFrame({'Month': month, 'Volume': volume})\nfig, ax = plt.subplots()\nb = d.plot(kind='bar', y=\"Volume\", x=\"Month\", ax=ax)\nplt.title('Title')\nplt.show()\n</code></pre>\n\n<p>The file tiny.mplstyle contains</p>\n\n<pre><code>axes.grid.axis: y\naxes.grid: True\n</code></pre>\n\n<p>and nothing else.</p>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jMRlO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMRlO.png\" alt=\"gridlines\"></a></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 1, "creation_date": 1506548313, "post_id": 46457600, "comment_id": 79870806, "body": "You forgot to load <code>static</code> tag <code>{% load static %}</code>"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 1, "creation_date": 1506548695, "post_id": 46457600, "comment_id": 79870962, "body": "You should paste it on the top of every template. Before `{% extends &#39;base.html %} too"}, {"owner": {"reputation": 147, "user_id": 8565857, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/880700142083620/picture?type=large", "display_name": "Osman Hamashool", "link": "https://stackoverflow.com/users/8565857/osman-hamashool"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1506548797, "post_id": 46457600, "comment_id": 79871015, "body": "yes i forget it thank u so mach"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 8565857, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/880700142083620/picture?type=large", "display_name": "Osman Hamashool", "link": "https://stackoverflow.com/users/8565857/osman-hamashool"}, "is_accepted": true, "score": 0, "last_activity_date": 1532983526, "creation_date": 1532983526, "answer_id": 51602028, "question_id": 46457600, "link": "https://stackoverflow.com/questions/46457600/templatesyntaxerror-django-link/51602028#51602028", "title": "TemplateSyntaxError django link", "body": "<p>I forgot to load <code>static</code> tag <code>{% load static %}</code></p>\n"}], "owner": {"reputation": 147, "user_id": 8565857, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/880700142083620/picture?type=large", "display_name": "Osman Hamashool", "link": "https://stackoverflow.com/users/8565857/osman-hamashool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 51602028, "answer_count": 1, "score": 0, "last_activity_date": 1532983526, "creation_date": 1506548182, "question_id": 46457600, "link": "https://stackoverflow.com/questions/46457600/templatesyntaxerror-django-link", "title": "TemplateSyntaxError django link", "body": "<p>I'm using django 1.11 and python 3. </p>\n\n<p>I but a link in the page when i click it i get this error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/susQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/susQg.png\" alt=\"enter image description here\"></a></p>\n\n<p>any idea?</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 2, "creation_date": 1506548662, "post_id": 46457595, "comment_id": 79870949, "body": "Do you actually mean to install <a href=\"https://pypi.python.org/pypi/request\" rel=\"nofollow noreferrer\">request</a> and not <a href=\"https://pypi.python.org/pypi/requests\" rel=\"nofollow noreferrer\">request<b>s</b></a>?"}, {"owner": {"reputation": 172, "user_id": 5555675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a2047359528882fe93d16a31a519a6f3?s=128&d=identicon&r=PG&f=1", "display_name": "Usmiech", "link": "https://stackoverflow.com/users/5555675/usmiech"}, "edited": false, "score": 0, "creation_date": 1506549741, "post_id": 46457595, "comment_id": 79871325, "body": "<code>pip3 install requests</code> <a href=\"http://docs.python-requests.org/en/master/user/install/#pipenv-install-requests\" rel=\"nofollow noreferrer\">docs.python-requests.org/en/master/user/install/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 8685888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2caa38d906be4ea4a66c04fcad37e035?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/8685888/anton"}, "edited": false, "score": 0, "creation_date": 1506550560, "post_id": 46457595, "comment_id": 79871610, "body": "Thanks, I falied. But I still have troubles"}, {"owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "edited": false, "score": 1, "creation_date": 1506550825, "post_id": 46457595, "comment_id": 79871706, "body": "&quot;Can&#39;t connect to HTTPS URL because the SSL module is not available.&quot; ?  Your python installation is broken. It should have the ssl module by default.  Are you using your linux system&#39;s default python interpreter or your own?"}, {"owner": {"reputation": 3, "user_id": 8685888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2caa38d906be4ea4a66c04fcad37e035?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/8685888/anton"}, "edited": false, "score": 0, "creation_date": 1506550898, "post_id": 46457595, "comment_id": 79871733, "body": "Do I need to install openssl-devel?"}, {"owner": {"reputation": 3, "user_id": 8685888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2caa38d906be4ea4a66c04fcad37e035?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/8685888/anton"}, "edited": false, "score": 0, "creation_date": 1506551001, "post_id": 46457595, "comment_id": 79871769, "body": "I downloaded it from official site. I don&#39;t remember whether I changed smth I&#39;m not a professional programmer."}], "owner": {"reputation": 3, "user_id": 8685888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2caa38d906be4ea4a66c04fcad37e035?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/8685888/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 796, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520951219, "creation_date": 1506548167, "last_edit_date": 1506550503, "question_id": 46457595, "link": "https://stackoverflow.com/questions/46457595/unable-to-install-request-package-for-python-3", "title": "Unable to install request package for python 3", "body": "<p>The message that I get when typing\n\"pip3 install request\": </p>\n\n<pre><code>Collecting request\nCollecting setupfiles (from request)\nCollecting post (from request)\nCollecting get (from request)\nCollecting query-string (from get-&gt;request)\nCollecting public (from query-string-&gt;get-&gt;request)\nInstalling collected packages: setupfiles, post, public, query-string, get, request\nException:\nTraceback (most recent call last):\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/commands/install.py\", line 342, in run\n    prefix=options.prefix_path,\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/req/req_set.py\", line 784, in install\n    **kwargs\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/req/req_install.py\", line 851, in install\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/req/req_install.py\", line 1064, in move_wheel_files\n    isolated=self.isolated,\n  File \"/home/vapour3005/.local/lib/python3.5/site-packages/pip/wheel.py\", line 345, in move_wheel_files\n    clobber(source, lib_dir, True)\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/wheel.py\", line 316, in clobber\n    ensure_dir(destdir)\n  File \"/home/vapour/.local/lib/python3.5/site-packages/pip/utils/__init__.py\", line 83, in ensure_dir\n    os.makedirs(path)\n  File \"/usr/lib/python3.5/os.py\", line 241, in makedirs\n    mkdir(name, mode)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.5/dist-packages/setupfiles-0.0.50.dist-info'\n</code></pre>\n\n<p>In case of \"sudo pip3 install request\": </p>\n\n<pre><code>The directory '/home/vapour/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\npip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.\nThe directory '/home/vapour/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\nCollecting request\n  Could not fetch URL https://pypi.python.org/simple/request/: There was a problem confirming the ssl certificate: Can't connect to HTTPS URL because the SSL module is not available. - skipping\n  Could not find a version that satisfies the requirement request (from versions: )\nNo matching distribution found for request\n</code></pre>\n\n<p>When I write \"python3\" in the terminal then I get the following message:</p>\n\n<pre><code>Python 3.6.2rc1 (default, Jul 11 2017, 02:53:14) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</code></pre>\n\n<p>If I launch virtual environment and try to install request then I get that</p>\n\n<pre><code>pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.\nCollecting request\n  Could not fetch URL https://pypi.python.org/simple/request/: There was a problem confirming the ssl certificate: Can't connect to HTTPS URL because the SSL module is not available. - skipping\n  Could not find a version that satisfies the requirement request (from versions: )\nNo matching distribution found for request\n</code></pre>\n\n<p>What should I do?</p>\n\n<p>UPD:</p>\n\n<p>Now it is installed globally but\nIn virtual environment I get</p>\n\n<p>$ pip3 install requests</p>\n\n<p>pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.</p>\n\n<p>Collecting requests</p>\n\n<p>Could not fetch URL <a href=\"https://pypi.python.org/simple/requests/\" rel=\"nofollow noreferrer\">https://pypi.python.org/simple/requests/</a>: There was a problem confirming the ssl certificate: Can't connect to HTTPS URL because the SSL module is not available. - skipping</p>\n\n<p>Could not find a version that satisfies the requirement requests (from versions: )\nNo matching distribution found for requests</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 5179, "user_id": 1209937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2315c81b442502ae979a22c807df84e9?s=128&d=identicon&r=PG", "display_name": "Tshirtman", "link": "https://stackoverflow.com/users/1209937/tshirtman"}, "edited": false, "score": 0, "creation_date": 1506558368, "post_id": 46457593, "comment_id": 79873544, "body": "You should share your code that produces this, it&#39;s likely that you didn&#39;t properly nest your content, or properly declare the size relationship to the parent."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8305015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85ede072b27e5f0f96a30b734ac3106e?s=128&d=identicon&r=PG&f=1", "display_name": "Icee", "link": "https://stackoverflow.com/users/8305015/icee"}, "edited": false, "score": 0, "creation_date": 1506626100, "post_id": 46459677, "comment_id": 79908586, "body": "I tried yours as well and it does the same thing.  I think it is with my environment. I tried it on another computer and it works just fine...   Appreciate the help though. Thank you."}], "tags": [], "owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "is_accepted": false, "score": 1, "last_activity_date": 1506562927, "creation_date": 1506562927, "answer_id": 46459677, "question_id": 46457593, "link": "https://stackoverflow.com/questions/46457593/kivy-tabbedpanel-cutoff/46459677#46459677", "title": "Kivy TabbedPanel cutoff", "body": "<p>The only difference between my example and yours is the __init__ method. Please refer to the example below for details.</p>\n\n<h1>Example</h1>\n\n<h2>main.py</h2>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.tabbedpanel import TabbedPanel, TabbedPanelHeader\nfrom kivy.uix.label import Label\nfrom kivy.uix.boxlayout import BoxLayout\n\n\nclass designTab(TabbedPanel):\n\n    def __init__(self, **kwargs):\n        super(designTab, self).__init__(**kwargs)\n        # self.tab_height = \"40dp\"\n        # self.tab_width = \"100dp\"\n        self.default_tab_text = \"DESIGNS\"\n        self.do_default_tab = False\n        self.content = BoxLayout()\n\n    def addTab(self, design):\n        newTab = TabbedPanelHeader(text=design)\n        newTab.content = Label(text=\"Design Stuff\")\n        self.add_widget(newTab)\n\n\nclass TestApp(App):\n\n    def build(self):\n        tabObj = designTab()\n        tabObj.addTab(\"design1\")\n        tabObj.addTab(\"design2\")\n        return tabObj\n\n\nif __name__ == \"__main__\":\n    TestApp().run()\n</code></pre>\n\n<h2>Output</h2>\n\n<p><a href=\"https://i.stack.imgur.com/z52up.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z52up.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 8305015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/85ede072b27e5f0f96a30b734ac3106e?s=128&d=identicon&r=PG&f=1", "display_name": "Icee", "link": "https://stackoverflow.com/users/8305015/icee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506562927, "creation_date": 1506548164, "question_id": 46457593, "link": "https://stackoverflow.com/questions/46457593/kivy-tabbedpanel-cutoff", "title": "Kivy TabbedPanel cutoff", "body": "<p>I am learning how to create GUIs in Python using the Kivy library.\nCurrently stuck with a sizing issue.</p>\n\n<p>I created a tabbed panel. However, it seems it gets cut off by the Windows top menu bar.</p>\n\n<p>Is there a proper fix for this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/5KSj5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["python", "cygwin", "anaconda", "conda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506550164, "post_id": 46457551, "comment_id": 79871479, "body": "Usually, <code>python</code> goes in the <code>bin</code> folder of Anaconda, and this directory gets added to the path <code>&#47;...&#47;anaconda2&#47;bin</code>."}, {"owner": {"reputation": 9, "user_id": 7864411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3BxiZMeRzBo/AAAAAAAAAAI/AAAAAAAASQg/3C1qGiTXfXM/photo.jpg?sz=128", "display_name": "yal", "link": "https://stackoverflow.com/users/7864411/yal"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506551917, "post_id": 46457551, "comment_id": 79872049, "body": "I don&#39;t think I have a bin folder there              <code>$ cd &#47;cygdrive&#47;c&#47;users&#47;yoav&#47;anaconda2&#47;bin                              -bash: cd: &#47;cygdrive&#47;c&#47;users&#47;yoav&#47;anaconda2&#47;bin: No such file or directory</code> @darthbith"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506561572, "post_id": 46457551, "comment_id": 79874233, "body": "How did you install Anaconda?"}, {"owner": {"reputation": 9, "user_id": 7864411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3BxiZMeRzBo/AAAAAAAAAAI/AAAAAAAASQg/3C1qGiTXfXM/photo.jpg?sz=128", "display_name": "yal", "link": "https://stackoverflow.com/users/7864411/yal"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506598973, "post_id": 46457551, "comment_id": 79891335, "body": "Just did a fresh instal of anconda 5.0.0 from <a href=\"https://www.anaconda.com/download/\" rel=\"nofollow noreferrer\">anaconda</a> (for windows 64bit) and nothing changed. @darthbith"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506603580, "post_id": 46457551, "comment_id": 79894565, "body": "Do you have a <code>conda.exe</code> or something like that in the folder? Sorry, I forgot you&#39;re on Windows and there isn&#39;t usually a <code>bin</code> directory on Windows"}, {"owner": {"reputation": 9, "user_id": 7864411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3BxiZMeRzBo/AAAAAAAAAAI/AAAAAAAASQg/3C1qGiTXfXM/photo.jpg?sz=128", "display_name": "yal", "link": "https://stackoverflow.com/users/7864411/yal"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506617781, "post_id": 46457551, "comment_id": 79904019, "body": "Inside <code>anconda2</code> there is the <code>python.exe</code> and inside <code>anconda2\\Scripts</code> there is a <code>conda.exe</code> file. @darthbith"}, {"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1506627838, "post_id": 46457551, "comment_id": 79909449, "body": "Then I guess you also need to add the <code>anaconda2\\Scripts</code> folder to your path"}], "owner": {"reputation": 9, "user_id": 7864411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3BxiZMeRzBo/AAAAAAAAAAI/AAAAAAAASQg/3C1qGiTXfXM/photo.jpg?sz=128", "display_name": "yal", "link": "https://stackoverflow.com/users/7864411/yal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1111, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1506547950, "creation_date": 1506547950, "question_id": 46457551, "link": "https://stackoverflow.com/questions/46457551/using-conda-envieronment-with-cygwin", "title": "Using conda envieronment with cygwin", "body": "<p>I am trying to use conda through cygwin and what i did do far is:</p>\n\n<pre><code>$ echo 'export PATH=/cygdrive/c/users/yoav/anaconda2:$PATH' &gt;&gt; .bashrc\n$ source /.bashrc\n$ which python\n/cygdrive/c/users/yoav/anaconda2/python\n$ conda env list\n-bash: conda: command not found\n</code></pre>\n\n<p>Then if i do just <code>python</code> it goes like that</p>\n\n<pre><code>$ python\n</code></pre>\n\n<p>And there are just empty lines and no python functionality but when I type</p>\n\n<pre><code>$ pythin -i\n$ python -i\nPython 2.7.13 |Anaconda 4.4.0 (64-bit)| (default, May 11 2017, 13:17:26) \n[MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://anaconda.org\n&gt;&gt;&gt; 5+7\n12\n</code></pre>\n\n<p>It do fires up anconda python.</p>\n\n<p>Another thing is that if i close the terminal and reopen it it looks like <code>.basrc</code> isn't running because:</p>\n\n<pre><code>$ which python\n/usr/bin/python\n\n$ source /.bashrc\n\n$ which python\n/cygdrive/c/users/yoav/anaconda2/python\n</code></pre>\n\n<p>Would love to hear some suggestions about fixing those issues.</p>\n"}, {"tags": ["python", "pandas", "timedelta"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1506548849, "last_edit_date": 1506548849, "creation_date": 1506548412, "answer_id": 46457650, "question_id": 46457546, "link": "https://stackoverflow.com/questions/46457546/pandas-dataframe-col-conversion-to-timedelta-to-use-resample/46457650#46457650", "title": "Pandas dataframe col conversion to timedelta to use resample", "body": "<p>Use <code>pd.to_timedelta</code></p>\n\n<pre><code>df.index = pd.to_timedelta(df.index)\ndf.resample('2T').mean()\n\n                340       341       342\nTimeStamp                              \n10:27:30   1.963222  2.078298  1.894235\n10:29:30   1.283988  1.584964  1.747236\n10:31:30        NaN       NaN       NaN\n</code></pre>\n\n<hr>\n\n<p>Without setting the index</p>\n\n<pre><code>df.TimeStamp = pd.to_timedelta(df.TimeStamp)\ndf.resample('2T', on='TimeStamp').mean().reset_index()\n\n  TimeStamp       340       341       342\n0  10:27:30  1.963222  2.078298  1.894235\n1  10:29:30  1.283988  1.584964  1.747236\n2  10:31:30       NaN       NaN       NaN\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 46457650, "answer_count": 1, "score": 1, "last_activity_date": 1506548849, "creation_date": 1506547936, "last_edit_date": 1506548022, "question_id": 46457546, "link": "https://stackoverflow.com/questions/46457546/pandas-dataframe-col-conversion-to-timedelta-to-use-resample", "title": "Pandas dataframe col conversion to timedelta to use resample", "body": "<p>I am trying to simply change the TimeStamp column to timedelta objects so that I can use <em>resample</em> to average over 2 min intervals.</p>\n\n<p>The column name can vary depending on device software, so I assigned it to a variable but the code isn't working</p>\n\n<p>Sample dataset:</p>\n\n<pre><code>TimeStamp   340         341          342\n10:27:30    1.953036    2.110234    1.981548\n10:28:30    1.973408    2.046361    1.806923\n10:29:30    0           0           0.014881\n10:30:30    2.567976    3.169928    3.479591\n</code></pre>\n\n<p>The code I tried is as follows:</p>\n\n<pre><code>import pandas as pd\nfrom datetime import datetime\n\ndef time_based_average(dataframe, duration):\n    df_resampled = dataframe.resample(str(duration) + 'min').mean()\n    return df_resampled\n\n# Reading data as pandas dataframes\npath = '/Users/Desktop/Model/'\nfile_1 = 'SR Lamp.csv'\n\ndf_1 = pd.read_csv(path + file_1, skipinitialspace = True)\n\n# Determine col label for timestamps\ntime_lab_1 = df_1.columns[0]\n\n\n# Converting times to timedalta objects\npd.to_timedelta(df_1[time_lab_1])\n\n\n# Average every 2min for the device\ndf_1_resampled = time_based_average(df_1, 2)\n</code></pre>\n"}, {"tags": ["python", "pip", "conda", "package-management"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 1, "creation_date": 1506550207, "post_id": 46457545, "comment_id": 79871493, "body": "I don&#39;t know the actual answer, but I think your best bet is probably to <code>pip uninstall</code>, <code>conda remove</code>, and <code>conda install</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6153, "user_id": 843348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/955b6f9c80ae3c733dcc870a3e35831f?s=128&d=identicon&r=PG", "display_name": "Daniel Mahler", "link": "https://stackoverflow.com/users/843348/daniel-mahler"}, "edited": false, "score": 1, "creation_date": 1506571722, "post_id": 46459614, "comment_id": 79876577, "body": "so <code>pip-uninstall</code> foloowed by <code>conda install</code> should fix things without harming any downstream dependecies?"}, {"owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "reply_to_user": {"reputation": 6153, "user_id": 843348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/955b6f9c80ae3c733dcc870a3e35831f?s=128&d=identicon&r=PG", "display_name": "Daniel Mahler", "link": "https://stackoverflow.com/users/843348/daniel-mahler"}, "edited": false, "score": 0, "creation_date": 1506578040, "post_id": 46459614, "comment_id": 79878438, "body": "@DanielMahler If you have also installed by <code>conda install</code> before, I suggest you to uninstall it by <code>conda remove</code> too as it will clean up conda-meta data which <code>pip uninstall</code> won&#39;t."}], "tags": [], "owner": {"reputation": 14624, "user_id": 5588279, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/31a5c0b08beca9ebc2c1d5e60ba691d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sraw", "link": "https://stackoverflow.com/users/5588279/sraw"}, "is_accepted": false, "score": 11, "last_activity_date": 1506562458, "creation_date": 1506562458, "answer_id": 46459614, "question_id": 46457545, "link": "https://stackoverflow.com/questions/46457545/same-package-installed-by-both-pip-and-conda/46459614#46459614", "title": "same package installed by both pip and conda", "body": "<p>They will be installed in the same directory such as <code>/home/user/miniconda/env/envname/lib/python3.6/site-packages/requests</code>.</p>\n\n<p>So if you install a package by both conda and pip, then uninstall it by pip, the source code has gone. And that means you cannot use this package any more.</p>\n\n<p>When installing packages, pip will check dist-info or egg-info directory while conda will check conda-meta directory. In this case, you can install the same package both by conda and pip if you install it by pip first and then install it by conda. In the reverse case, pip will consider that package has been already installed.</p>\n\n<p>To completely uninstall a package installed both by conda and pip, you need to run both <code>conda remove</code> to remove information in conda-meta and <code>pip uninstall</code> to remove dist-info directory.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 4931156, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WOVza5VH024/AAAAAAAAAAI/AAAAAAAAAVI/u1uIVdj-STI/photo.jpg?sz=128", "display_name": "Msgun", "link": "https://stackoverflow.com/users/4931156/msgun"}, "is_accepted": false, "score": 3, "last_activity_date": 1555060592, "creation_date": 1555060592, "answer_id": 55648310, "question_id": 46457545, "link": "https://stackoverflow.com/questions/46457545/same-package-installed-by-both-pip-and-conda/55648310#55648310", "title": "same package installed by both pip and conda", "body": "<p>According to <a href=\"https://www.anaconda.com/using-pip-in-a-conda-environment/\" rel=\"nofollow noreferrer\">this post</a> on the Anaconda website, it depends on the package installed.</p>\n\n<blockquote>\n  <p>Issues can arise when conda and pip are used together to create an environment, especially when the tools are used back-to-back multiple times, establishing a state that can be hard to reproduce. Most of these issues stem from that fact that conda, like other package managers, has limited abilities to control packages it did not install. Running conda after pip has the potential to overwrite and potentially break packages installed via pip. Similarly, pip may upgrade or remove a package which a conda-installed package requires. In some cases these breakages are cosmetic, where a few files are present that should have been removed, but in other cases the environment may evolve into an unusable state.</p>\n</blockquote>\n\n<p>You can remove the package installed as shown in the first answer. But an environment can be restored to a previous revision, in order to undo the damages done, if there are any, by using conda and pip together.</p>\n\n<p>To list the history of each change to the current environment, use <code>conda list --revisions</code>\nAnd to restore it to the previous version, use <code>conda install --revision 2</code>, where 2 is a selected revision number.</p>\n"}], "owner": {"reputation": 6153, "user_id": 843348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/955b6f9c80ae3c733dcc870a3e35831f?s=128&d=identicon&r=PG", "display_name": "Daniel Mahler", "link": "https://stackoverflow.com/users/843348/daniel-mahler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4573, "favorite_count": 4, "answer_count": 2, "score": 11, "last_activity_date": 1555060592, "creation_date": 1506547930, "question_id": 46457545, "link": "https://stackoverflow.com/questions/46457545/same-package-installed-by-both-pip-and-conda", "title": "same package installed by both pip and conda", "body": "<p>What happens if the same package is installed by both pip and conda in the same environment? Is conda  designed to cope with this? Can you safely <code>pip uninstall</code> the pip version without messing up the conda version? </p>\n"}, {"tags": ["python", "python-2.7", "csv", "parsing", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7611957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e5f53cea78d8ce555631d84f3c5996?s=128&d=identicon&r=PG&f=1", "display_name": "Vlakoulis", "link": "https://stackoverflow.com/users/7611957/vlakoulis"}, "edited": false, "score": 0, "creation_date": 1506555927, "post_id": 46457822, "comment_id": 79872988, "body": "I can&#39;t tell you how appreciative I am of your help, tayfun!  I have been looking for a solution for days and it was becoming very stressful for me.  Thank you so much for clear and concise solution, my friend.  I really appreciate your time!"}, {"owner": {"reputation": 2799, "user_id": 73750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3XKq5.jpg?s=128&g=1", "display_name": "tayfun", "link": "https://stackoverflow.com/users/73750/tayfun"}, "reply_to_user": {"reputation": 3, "user_id": 7611957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e5f53cea78d8ce555631d84f3c5996?s=128&d=identicon&r=PG&f=1", "display_name": "Vlakoulis", "link": "https://stackoverflow.com/users/7611957/vlakoulis"}, "edited": false, "score": 0, "creation_date": 1506587965, "post_id": 46457822, "comment_id": 79884074, "body": "Glad to be of help @Vlakoulis :)"}], "tags": [], "owner": {"reputation": 2799, "user_id": 73750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3XKq5.jpg?s=128&g=1", "display_name": "tayfun", "link": "https://stackoverflow.com/users/73750/tayfun"}, "is_accepted": true, "score": 0, "last_activity_date": 1506549361, "creation_date": 1506549361, "answer_id": 46457822, "question_id": 46457535, "link": "https://stackoverflow.com/questions/46457535/repeat-element-found-once-in-page-multiple-times-in-csv-file-forum-post-parsing/46457822#46457822", "title": "Repeat element found once in page multiple times in CSV file (forum post parsing)", "body": "<p>You can zip_longest to fill missing values with the <code>fillvalue</code> argument. Just give the last element of posttitle so the last title is used for all missing:</p>\n\n<pre><code>from itertools import izip_longest\nfor posttitle, poster, postdateandtime, postcontent in izip_longest(posttitle, poster, postdateandtime, postcontent, fillvalue=posttitle[-1):\n    writer.writerow([posttitle, poster, postdateandtime, postcontent])\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7611957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e5f53cea78d8ce555631d84f3c5996?s=128&d=identicon&r=PG&f=1", "display_name": "Vlakoulis", "link": "https://stackoverflow.com/users/7611957/vlakoulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 46457822, "answer_count": 1, "score": 0, "last_activity_date": 1506549361, "creation_date": 1506547910, "last_edit_date": 1506548917, "question_id": 46457535, "link": "https://stackoverflow.com/questions/46457535/repeat-element-found-once-in-page-multiple-times-in-csv-file-forum-post-parsing", "title": "Repeat element found once in page multiple times in CSV file (forum post parsing)", "body": "<p>I'm using BS4 on Python 2.7.13 to parse forum posts from a website that I will ultimately put in a CSV file.  My issue is that only the first post in the thread has data on the title of the thread, but I want to the title of the post to appear in each line of the CSV file I am creating of the forum posts.  Each line should have the post title, the post's author, the post date and time, and the post's content.  When I search for author, date/time, and content, I receive as many results as there are in the page, so 19 in this instance.  So there should be 19 lines in the CSV file.  However, I only receive one line of output in the CSV, and I presume this is because BS4 can only find one instance of an \"h4\" tag with attribute \"post-name\" whereas the other three pieces of data are found multiple times.</p>\n\n<p>Can I write code where the first instance of the title is repeated for all the posts in the page and put into the CSV document?  I have tried to use if/else syntax, but I haven't found a way to tell BS4 that if it cannot find the title for a subsequent post, it should just include the initial soup.title.</p>\n\n<p>I really appreciate your help as I couldn't find a solution for this anywhere.  Maybe I am searching for the wrong thing.  Here is the code I'm using:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport csv\nimport urllib2\npage = urllib2.urlopen(\"http://en.community.dell.com/support-forums/desktop/f/3513/t/20015349?pi21953=1\")\nsoup = BeautifulSoup(page, \"lxml\")\n\none = soup.findAll(\"h4\", attrs={\"post-name\"})\ntwo = soup.findAll(\"a\", attrs={\"internal-link view-user-profile\"})\nthree = soup.findAll(\"a\", attrs={\"internal-link view-post\"})\nfour = soup.findAll(\"div\", attrs={\"post-content user-defined-markup\"})\n\nposttitle = []\nposter = []\npostdateandtime = []\npostcontent = []\n\nfor post in one:\n    text = BeautifulSoup(str(post).strip()).get_text().encode(\"utf-8\").replace(\"\\n\", \" \")\n    posttitle.append(text.strip())\n\nfor post in two:\n    text2 = BeautifulSoup(str(post).strip()).get_text().encode(\"utf-8\").replace(\"\\n\", \" \")\n    poster.append(text2.strip())\n\nfor post in three:\n    text3 = BeautifulSoup(str(post).strip()).get_text().encode(\"utf-8\").replace(\"\\n\", \" \")\n    postdateandtime.append(text3.strip())\n\nfor post in four:\n    text4 = BeautifulSoup(str(post).strip()).get_text().encode(\"utf-8\").replace(\"\\n\", \" \")\n    postcontent.append(text4.strip())\n\ncsvfile = open('test.csv', 'wb')\n\nwriter = csv.writer(csvfile)\n\nwriter.writerow([\"Post Title\", \"Poster\", \"Post Date and Time\", \"Post Content\"])\n\nfor posttitle, poster, postdateandtime, postcontent in zip(posttitle, poster, postdateandtime, postcontent):\nwriter.writerow([posttitle, poster, postdateandtime, postcontent])\n\ncsvfile.close()\n</code></pre>\n"}, {"tags": ["python", "http-post", "python-requests", "export-to-csv", "api-key"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 5268582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b23fbb412570d18982b713e74e1805cc?s=128&d=identicon&r=PG&f=1", "display_name": "mayure098", "link": "https://stackoverflow.com/users/5268582/mayure098"}, "is_accepted": false, "score": 0, "last_activity_date": 1517430059, "creation_date": 1517430059, "answer_id": 48550814, "question_id": 46457512, "link": "https://stackoverflow.com/questions/46457512/making-a-post-request-in-a-for-loop-in-python-using-face-api/48550814#48550814", "title": "Making a post request in a for loop in python using face++ API", "body": "<p>try to write to csv as append mode \n    <code>file = open(\"out.csv\", \"ab\")</code>\nyou are overwriting the same line again.</p>\n"}], "owner": {"reputation": 1, "user_id": 6894631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2f6a73e3c5943f85351a1c2c5f59dce?s=128&d=identicon&r=PG&f=1", "display_name": "unknown21", "link": "https://stackoverflow.com/users/6894631/unknown21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517438218, "creation_date": 1506547772, "last_edit_date": 1517438218, "question_id": 46457512, "link": "https://stackoverflow.com/questions/46457512/making-a-post-request-in-a-for-loop-in-python-using-face-api", "title": "Making a post request in a for loop in python using face++ API", "body": "<p>i need some help with my code here. I am new in using APIs and i have a file containing 100000 photos that i want to detect and analyse. Until now with the code i have written i can only detect one image, but when i try to test for more then it doesn't let me do the detection. In face++ free APIKEY you can only make 1 request per second so thats why i have the time.sleep(). Moreover, if i test the code in more than one images, lets say 2-3 images then it saves only the first image's result in the csv. Can you help me solve this ? </p>\n\n<pre><code>import requests\n\nfor i in range(1,100000):\n    http_url=\"https://api-us.faceplusplus.com/facepp/v3/detect\"\n    path='..'\n    key=\"..\"\n    secret=\"..\"\n    data={ \"api_key\": \"..\",\"api_secret\":\"..\"}\n    files= {\"image_file\": open(path+str(i) +\".jpg\", 'rb')}\n    response=requests.post(http_url,data=data,files=files)\n    time.sleep(2)\n    req_con=response.content.decode('utf-8')\n    req_dict=JSONDecoder().decode(req_con)\n    time.sleep(2)\n    file = open(\"out.csv\", \"wb\")\n    file.write(response.content)\n</code></pre>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 202, "user_id": 2240340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8621371751becbdd0db22dd70efa8aad?s=128&d=identicon&r=PG", "display_name": "Zik", "link": "https://stackoverflow.com/users/2240340/zik"}, "edited": false, "score": 0, "creation_date": 1559182014, "post_id": 46457491, "comment_id": 99343875, "body": "Same as <a href=\"https://stackoverflow.com/questions/46785507/python-flask-display-image-on-a-html-page\" title=\"python flask display image on a html page\">stackoverflow.com/questions/46785507/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 8685889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170c9f737c787aadd610a53f98d17d39?s=128&d=identicon&r=PG", "display_name": "user8685889", "link": "https://stackoverflow.com/users/8685889/user8685889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1002, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1559193000, "creation_date": 1506547678, "last_edit_date": 1559193000, "question_id": 46457491, "link": "https://stackoverflow.com/questions/46457491/how-to-upload-and-display-an-image-in-flask", "title": "How to upload and display an image in Flask", "body": "<p>I try to upload and display an image on my template html. When I upload an image, I have success. But when I want to display the image, the server is saying: \"get static 404\"</p>\n\n<p>Can anyone help?</p>\n\n<pre><code>#views.py \n@app.route(\"/upload/&lt;username&gt;\", methods=['GET', 'POST'])   \n@login_required  \ndef upload(username):   \n    form = PhotoForm()   \n    user = User.query.filter_by(username=username).first()  \n    if request.method == 'POST' and form.validate_on_submit():      \n        f = form.photo.data         \n        filename = secure_filename(f.filename)\n        f.save(os.path.join(app.config['UPLOAD_FOLDER'], filename))         \n        return redirect(url_for ('user', username=user.username, filename=filename, f=f))    \n    return render_template(\"change_profile_picture.html\",form=form)\n #user.html  &lt;img src=\"{{ url_for('static', filename=filename) }}\"&gt;****\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "tensorflow", "tensorflow-gpu"], "owner": {"reputation": 99, "user_id": 3167052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ifYxn.jpg?s=128&g=1", "display_name": "Mellvinbaker", "link": "https://stackoverflow.com/users/3167052/mellvinbaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506699299, "creation_date": 1506547585, "last_edit_date": 1506699299, "question_id": 46457476, "link": "https://stackoverflow.com/questions/46457476/tensorflow-pandas-input-fn-slow-starving-cpu-gpu", "title": "Tensorflow Pandas_input_fn slow, starving CPU/GPU", "body": "<p>I am working on a wide and deep model following the framework in the Tensorflow Wide and Deep tutorial (<a href=\"https://www.tensorflow.org/tutorials/wide_and_deep\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/wide_and_deep</a>). Model works fine when built the old way (load entire dataset from pandas, convert to tensors, feed in input_fn) which is ok for running on a CPU. However, to make it work on the GPU the dataset is too large to fit into GPU memory, so batching is necessary. </p>\n\n<p>I tried using the pandas_input_fn to batch data to the video card and noticed I get spikes of activity followed by long lulls while the next batch is prepared. The odd thing is, this happens even if I run it on a machine with CPU only. The lulls are almost the exact same length, so it isn't simply the video card crushing through a simple model faster than the proc can deliver it. It seems like it is always waiting to begin loading the next batch until the last one is done training. I increased the complexity of the model to make sure it wasn't too easy to compute and still have the same issue. I have tried increasing the number of threads allocated to pandas_input_fn, I have tried increasing the queue size to far larger than seems reasonable (10x dataset size) which helps a bit, but not much. I am not sure if the slowdown is when it is queueing or de-queueing, but I have been unable to solve the issue after a week of troubleshooting. </p>\n\n<p>The data I am working with is 117 columns, 400k rows. I have created a generic script that generates fake values to simulate the problem. However, there are far fewer fake columns than real ones, so the gap between steps is not nearly as long, but still noticeable.\nCode below:</p>\n\n<pre><code>import tensorflow as tf\nimport pandas as pd\nimport numpy as np\nimport logging\nimport time\nimport datetime\nimport tempfile\nfrom math import log2\nfrom sqlalchemy import create_engine\nfrom sklearn.ensemble import ExtraTreesRegressor\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import Imputer\nfrom sklearn.externals import joblib\nfrom tensorflow.contrib.learn.python.learn import monitors as monitor_lib\n\n\nlogging.basicConfig(format='%(asctime)s - %(levelname)s: %(message)s', level=logging.INFO, filename='Classifier.log', filemode='a')\nconsole = logging.StreamHandler()\nconsole.setLevel(logging.INFO)\nformatter = logging.Formatter('%(asctime)s - %(levelname)s: %(message)s')\nconsole.setFormatter(formatter)\nlogging.getLogger('').addHandler(console)\nlogging.debug('Main method started')\ntf.logging.set_verbosity(tf.logging.INFO)\nstart_time = time.perf_counter()\nlogging.info(datetime.datetime.today())\n\n#  sess = tf.Session()\n\nmodel_dir = tempfile.mkdtemp()\n\nLABEL_COLUMN = \"t\"\n\nCATEGORICAL_COLUMNS = [\"a\", \"b\", \"c\", \"d\", \"e\"]\n\nCONTINUOUS_COLUMNS = [\"f\", \"g\", \"h\", \"i\"]\n\nALL_COLUMNS = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"u\", \"v\", \"x\", \"y\", \"z\"]\n\nfull_set = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"u\", \"v\", \"x\", \"y\", \"z\", \"t\"]\n\n\nmodel_type = \"\"\n\ndef input_fn(num_epochs=None, shuffle=False):\n    df = pd.DataFrame(np.random.randint(0,1,size=(400000, 25)), columns=full_set)\n    df.fillna(0, inplace=True)\n    df[CATEGORICAL_COLUMNS].round(0)\n    dfindex = df.index    \n    df.reset_index(inplace=True)\n    df.reindex(range(len(df)))\n    df.loc[:,CATEGORICAL_COLUMNS] = df.loc[:,CATEGORICAL_COLUMNS].astype(int)\n    df.loc[:,CONTINUOUS_COLUMNS] = df.loc[:,CONTINUOUS_COLUMNS].astype(float)\n    with tf.device('/CPU:0'):\n        return tf.estimator.inputs.pandas_input_fn(\n                x=df[ALL_COLUMNS],\n            y=df[LABEL_COLUMN],\n            batch_size=100000,\n            num_epochs=num_epochs,\n            shuffle=shuffle,\n            num_threads=4,\n            queue_capacity=400000,\n            target_column=LABEL_COLUMN)\n\ndef evaluation_input_fn(num_epochs=None, shuffle=False):\n    df = pd.DataFrame(np.random.randint(0,1,size=(200000, 25)), columns=full_set)\n    df.fillna(0, inplace=True)\n    df[CATEGORICAL_COLUMNS].round(0)\n    dfindex = df.index    \n    df.reset_index(inplace=True)\n    df.reindex(range(len(df)))\n    df.loc[:,CATEGORICAL_COLUMNS] = df.loc[:,CATEGORICAL_COLUMNS].astype(int)\n    df.loc[:,CONTINUOUS_COLUMNS] = df.loc[:,CONTINUOUS_COLUMNS].astype(float)\n\n    return tf.estimator.inputs.pandas_input_fn(\n            x=df.loc[:, ALL_COLUMNS],\n            y=df.loc[:, LABEL_COLUMN],\n            batch_size=200000,\n            num_epochs=num_epochs,\n            shuffle=shuffle,\n            num_threads=1,\n            target_column=LABEL_COLUMN)\n\ndef classifier(model_dir):\n    with tf.device('/CPU:0'):\n        logging.info('Parsing continuous columns into tensors')\n        with tf.variable_scope(\"Continuous_Features\") as scope:\n            continuous_columns = [tf.feature_column.numeric_column(k) for k in CONTINUOUS_COLUMNS]\n\n        logging.info('Parsing categorical columns into tensors')\n        with tf.variable_scope(\"Categorical_Features\") as scope:\n            categorical_columns = [tf.feature_column.categorical_column_with_hash_bucket(k, hash_bucket_size=1000, dtype=tf.int32) for k in CATEGORICAL_COLUMNS]\n\n        embedded_columns = []\n        logging.info('Creating embedded columns')\n        with tf.variable_scope(\"Embedded_Columns\") as scope:\n            for i in range(len(categorical_columns)):\n                embedded_columns.append(tf.feature_column.embedding_column(categorical_columns[i], dimension=8))\n\n        logging.info('Bucketizing age')\n        categorical_columns.append(tf.feature_column.bucketized_column(continuous_columns[0], boundaries=[18, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75]))\n\n        logging.info('Creating crossed columns')\n        crossed_columns = [tf.feature_column.crossed_column([\"a\", \"b\"],\n                                                             hash_bucket_size=int(1e4)),\n                           tf.feature_column.crossed_column([\"a\", \"c\"],\n                                                             hash_bucket_size=int(1e4)),\n                           tf.feature_column.crossed_column([\"a\", \"g\"],\n                                                             hash_bucket_size=int(1e4)),\n                           tf.feature_column.crossed_column([\"b\", \"n\"],\n                                                             hash_bucket_size=int(1e4)),\n                           tf.feature_column.crossed_column([\"m\", \"v\"],\n                                                             hash_bucket_size=int(1e4)),\n                           tf.feature_column.crossed_column([\"a\", \"m\", \"v\"],\n                                                             hash_bucket_size=int(1e6))]\n\n        wide_columns = categorical_columns + crossed_columns\n\n        deep_columns = continuous_columns + embedded_columns\n\n    logging.info('Creating Classifier')\n    with tf.variable_scope('Wide_and_Deep') as scope:\n            clf = tf.estimator.DNNLinearCombinedClassifier(linear_feature_columns=wide_columns,\n                                                               dnn_feature_columns=deep_columns,\n                                                               dnn_hidden_units=[400, 200, 300],\n                                                               n_classes=2,\n                                                               config=tf.contrib.learn.RunConfig(log_device_placement=True,\n                                                                                                  save_summary_steps=100,\n                                                                                                  save_checkpoints_steps=100,\n                                                                                                  keep_checkpoint_max=5,\n                                                                                                  model_dir=model_dir,\n                                                                                                  num_cores=0,\n                                                                                                  gpu_memory_fraction=1,\n                                                                                                  tf_random_seed=3))\n\n    return clf\n\n\ndef build_model(model_dir, train_steps):\n    model_dir = tempfile.mkdtemp() if not model_dir else model_dir\n    logging.info('Declaring and training classifier')\n    clf = classifier(model_dir=model_dir)    \n    clf.train(input_fn=input_fn(), max_steps=train_steps) #  , max_steps=2000, monitors=[validation_monitor], hooks=hook\n    logging.info('Starting model evaluation')\n    results = clf.evaluate(input_fn=evaluation_input_fn(), steps=1)\n    logging.debug(results)\n    for i in results:\n        print(i, results[i])\n\n    return clf\n\n\ndef main():\n    config = tf.ConfigProto(allow_soft_placement=True,\n                            log_device_placement=True)\n    config.gpu_options.allow_growth = True\n    build_model(model_dir='C://TFLogs//DWDevGPU', train_steps=20)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I would really like some help figuring out how to batch tabular (in sql) data to the CPU/GPU fast enough to keep up with compute. It doesn't have to be pandas or numpy, I'll take anything reasonable. So far I have not tried serializing to tfrecord because it seems silly to think that reading from disc will be faster than reading from memory, but I'll try anything. Thank you ahead of time for the help.</p>\n"}, {"tags": ["python", "selenium", "automation", "beautifulsoup", "splinter"], "comments": [{"owner": {"reputation": 307, "user_id": 3985538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mP4Mk.jpg?s=128&g=1", "display_name": "Nawshad Rehan Rasha", "link": "https://stackoverflow.com/users/3985538/nawshad-rehan-rasha"}, "edited": false, "score": 0, "creation_date": 1506584631, "post_id": 46457456, "comment_id": 79881953, "body": "Your given test scenario and actual problem are of different types. &quot;See more&quot; button in trending section can be clicked by <code>browser.click_link_by_partial_text(&#39;See more&#39;)</code> . But your actual problem is to click on Push Notification."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8662195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f73fc3c6324f7038c2bd140b18e5f8?s=128&d=identicon&r=PG", "display_name": "Om Joshi", "link": "https://stackoverflow.com/users/8662195/om-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1506552262, "creation_date": 1506552262, "answer_id": 46458321, "question_id": 46457456, "link": "https://stackoverflow.com/questions/46457456/how-click-on-dynamic-buttons-link-from-selenium-and-splinter/46458321#46458321", "title": "How click on dynamic buttons link &quot;#&quot; from selenium and splinter?", "body": "<p>Not letting me comment because I don't have enough rep ... but have you tried to select the element by class and then performing .click() on it?  That might do the trick as the href being \"#\" probably means the button has another purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "is_accepted": true, "score": 0, "last_activity_date": 1506597115, "last_edit_date": 1506597115, "creation_date": 1506585324, "answer_id": 46463839, "question_id": 46457456, "link": "https://stackoverflow.com/questions/46457456/how-click-on-dynamic-buttons-link-from-selenium-and-splinter/46463839#46463839", "title": "How click on dynamic buttons link &quot;#&quot; from selenium and splinter?", "body": "<p>I have solved my problem , since that link was \"#\" so if i was click via css or other method it was just reloading the page and that layer appear again and again after every reload , But i tried little different solution and i click it by javascript :</p>\n\n<p>First i tried and find the right element for clicking via js console in chrome :</p>\n\n<pre><code>document.getElementsByClassName('layerCancel _4jy0 _4jy3 _517h _51sy _42ft')[0].click();\n</code></pre>\n\n<p>This is working perfect in js console so now i used splinter method <code>\"browser.execute_script()\"</code> and pass that script as argument to this method.</p>\n\n<pre><code>browser.execute_script(\"document.getElementsByClassName('layerCancel _4jy0 _4jy3 _517h _51sy _42ft')[0].click()\")\n</code></pre>\n\n<p>And its working perfect now as i wanted. But still i have not found a way how to click on browser push notification 'Allow\" , \"Block\" etc</p>\n\n<p>Thanks :)</p>\n"}], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 1, "accepted_answer_id": 46463839, "answer_count": 2, "score": 0, "last_activity_date": 1506597115, "creation_date": 1506547471, "last_edit_date": 1506584763, "question_id": 46457456, "link": "https://stackoverflow.com/questions/46457456/how-click-on-dynamic-buttons-link-from-selenium-and-splinter", "title": "How click on dynamic buttons link &quot;#&quot; from selenium and splinter?", "body": "<p>I am trying to scrap something from website (example facebook(not using graph api just doing for learning), so I successfully login and land on front page, where I want to scrap some data, but the problem is when I land on front page, then facebook shows a layer and a box which says \"turn on notification\", now without click on any button between \"Not Now\" or \"turn on\" I can't do anything with splinter, and when I tried to click splinter doesn't do anything because the link of those button are \"#\" </p>\n\n<p><a href=\"https://i.stack.imgur.com/qlXZV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qlXZV.png\" alt=\"enter image description here\"></a></p>\n\n<p>when hovering on button footer shows this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/RP1RD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RP1RD.png\" alt=\"enter image description here\"></a></p>\n\n<p>and inspect element shows this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/H5Lpi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H5Lpi.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried with other account but that shows this layer as first thing after login :</p>\n\n<p><a href=\"https://i.stack.imgur.com/YY9AR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YY9AR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I have question how to click on these 2 types of button via splinter or selenium :</p>\n\n<p>first type of button which shows \"#\" as href </p>\n\n<p>second which chrome shows for block, allow things</p>\n\n<p>My code is :</p>\n\n<pre><code> from selenium import webdriver\n    from splinter import Browser\n\n\n    web_driver=webdriver.Chrome('/Users/paul/Downloads/chromedriver/chromedriver')\n    url = \"https://www.example.com\"\n    browser = Browser(\"chrome\")\n    visit_browser = browser.visit(url)\n\n    email_box = '//*[@id=\"email\"]'\n    find_1 = browser.find_by_xpath(email_box)\n    find_1.fill(\"example@gmail.com\")\n    password_box = '//*[@id=\"pass\"]'\n    find_2 = browser.find_by_xpath(password_box)\n    find_2.fill(\"example12345\")\n\n    button_sub = '//*[@id=\"u_0_5\"]'\n    find_3 = browser.find_by_xpath(button_sub)\n    find_3.click()\n</code></pre>\n\n<p>for testing purpose you can try on \"see more button\" in trending section on facebook, that also shows \"#\" how to click that ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/EpEqB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EpEqB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "tcl"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1506548101, "post_id": 46457427, "comment_id": 79870731, "body": ".pyc files are only created when an import is done from Python - it never happens for the top-level program.  So if your TCL code is doing something like <code>exec python foo.py</code>, you shouldn&#39;t expect to see a foo.pyc created.  However, it&#39;s hard to imagine this inefficiency costing you <i>ten hours</i>, unless there&#39;s something else going horribly wrong; I suspect that each invocation of Python is doing too little work to justify the time it takes to start up Python, perhaps you could do the work in larger batches."}, {"owner": {"reputation": 2909, "user_id": 107626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86ec61daf5c629d737322c444d5f0f45?s=128&d=identicon&r=PG", "display_name": "Colin Macleod", "link": "https://stackoverflow.com/users/107626/colin-macleod"}, "edited": false, "score": 1, "creation_date": 1506593223, "post_id": 46457427, "comment_id": 79887734, "body": "It&#39;s perfectly possible to write well-structured, modular code in Tcl.  See e.g. <a href=\"http://nikit.tcl.tk/page/Tcl+Tutorial+Lesson+31\" rel=\"nofollow noreferrer\">nikit.tcl.tk/page/Tcl+Tutorial+Lesson+31</a> . It may be more productive to gradually refactor the working code you&#39;ve got rather than rewriting in a different language."}], "owner": {"reputation": 1, "user_id": 8004449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c02ba309bd6f8c75d6e5627945844a9?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8004449/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506552389, "creation_date": 1506547294, "last_edit_date": 1506552389, "question_id": 46457427, "link": "https://stackoverflow.com/questions/46457427/tcl-program-not-creating-pyc-when-python-called", "title": "TCL program not creating .pyc when Python called", "body": "<p>So question.</p>\n\n<p>I have a TCL program that is calling a .py program and working as expected.  But the problem is when the full TCL code is run (normal run takes about 3-4 hours), it takes 12-15 hours to run with python (and it is doing nothing difficult or special).  I noticed that when TCL calls the python script, it does not create a .pyc file.  However, when I call the same python script that TCL calls from another python script, I get better performance and a .pyc refresh.</p>\n\n<p>Just curious if TCL-to-Python is limited in this way.  If I need to extend the functionality of my TCL, am I better off using a compiled language such as Java or C?</p>\n\n<p>Edit:</p>\n\n<p>I moved to a team that uses off the shelf product written in TCL.  The software technically works, but it is a maintenance nightmare.  Tens of thousands of lines of code in a single file.  All global variables, no parameters.  Almost no documentation.  All tests, even syntax adjustments, take at least 3 hours.  One errant keystroke can cost you have a workday.  And to top it off, the consultant that wrote it all has left. </p>\n\n<p>What I was attempting to do is extend the software in strategic places while I attempt to make it more maintainable.  Python and TCL seem to work together, which is why I made this attempt.  But this has made me wonder if something like C or Java would be a better try.</p>\n\n<p>I was attempting to write code that I can run and test independently (utilizing MongoDB as the data source) and then plug it in.  Like I said before, it functionally works.  The loop I was testing looped about 230,000 times, so that is why the 10 hour increase I'm sure.</p>\n\n<p>I just come out of a 4 year stint in C#, so that is where my most recent experience lies.  I'm a noob in Python.  There is very little out there regarding TCL-to-C# plug-ins, besides something known as Eclipse that someone wrote years ago.  </p>\n"}, {"tags": ["python", "macos", "compilation", "openssl"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1506556793, "post_id": 46457404, "comment_id": 79873178, "body": "<a href=\"http://stackoverflow.com/q/23548188/608639\">How do I compile Python 3.4 with custom OpenSSL?</a>, <a href=\"http://stackoverflow.com/q/5937337/608639\">Building Python with SSL support in non-standard location</a>, <a href=\"http://unix.stackexchange.com/q/254974/56041\">Building python with openssl support</a>, etc."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1506556809, "post_id": 46457404, "comment_id": 79873183, "body": "And some others... <a href=\"http://stackoverflow.com/q/14361569\">How do I install pyOpenSSL on Mac OS X?</a>, <a href=\"http://stackoverflow.com/q/18752409\">Updating openssl in python 2.7</a>, <a href=\"http://stackoverflow.com/q/24323858\">Python referencing old SSL version</a>, <a href=\"http://stackoverflow.com/q/37690054\">Python and OpenSSL version reference issue on OS X</a>, <a href=\"http://stackoverflow.com/q/21899573\">Python 3.3 and Installing PyOpenSSL on a Mac</a>, <a href=\"http://stackoverflow.com/q/25441252\">Using Python with homebrew on OS X</a>, etc..."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1506556847, "post_id": 46457404, "comment_id": 79873198, "body": "And some more... <a href=\"http://stackoverflow.com/q/38670295\">Homebrew refusing to link OpenSSL</a>, <a href=\"http://stackoverflow.com/q/15185661\">Update OpenSSL on OS X with Homebrew</a>, <a href=\"http://stackoverflow.com/q/35129977\">How to install latest version of openssl Mac OS X El Capitan</a>, <a href=\"http://apple.stackexchange.com/q/126830\">How to upgrade OpenSSL in OS X?</a>, <a href=\"http://superuser.com/q/486389\">Openssl installation using HomeBrew fails</a>, etc."}], "answers": [{"comments": [{"owner": {"reputation": 74573, "user_id": 1175, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/48c5dc5d3596150c1d9d906a687cf458?s=128&d=identicon&r=PG", "display_name": "Kristopher Johnson", "link": "https://stackoverflow.com/users/1175/kristopher-johnson"}, "edited": false, "score": 4, "creation_date": 1523618891, "post_id": 46476640, "comment_id": 86646040, "body": "Note that you can get the &quot;openSSL install location&quot; with <code>brew --prefix openssl</code>, so your command line can be <code>.&#47;configure CPPFLAGS=&quot;-I$(brew --prefix openssl)&#47;include&quot; LDFLAGS=&quot;-L$(brew --prefix openssl)&#47;lib&quot; </code>"}, {"owner": {"reputation": 391, "user_id": 5537109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4PcFQhPE4ZM/AAAAAAAAAAI/AAAAAAAAAAA/NfzUXvupouU/photo.jpg?sz=128", "display_name": "Chris Reyes - he-him", "link": "https://stackoverflow.com/users/5537109/chris-reyes-he-him"}, "edited": false, "score": 0, "creation_date": 1525972657, "post_id": 46476640, "comment_id": 87573079, "body": "This works not just for python3 installs, but also for python2. (I tried with 2.7.6)"}, {"owner": {"reputation": 3208, "user_id": 4705190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qmkvx.jpg?s=128&g=1", "display_name": "Ali Sajid", "link": "https://stackoverflow.com/users/4705190/ali-sajid"}, "edited": false, "score": 0, "creation_date": 1546692150, "post_id": 46476640, "comment_id": 94938530, "body": "where is the ./configure file resides"}, {"owner": {"reputation": 536, "user_id": 2934226, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69e90368878ffd6e11fc73ebe1804787?s=128&d=identicon&r=PG&f=1", "display_name": "iLikeDirt", "link": "https://stackoverflow.com/users/2934226/ilikedirt"}, "edited": false, "score": 0, "creation_date": 1546987211, "post_id": 46476640, "comment_id": 95034430, "body": "Inside the python source directory"}], "tags": [], "owner": {"reputation": 536, "user_id": 2934226, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69e90368878ffd6e11fc73ebe1804787?s=128&d=identicon&r=PG&f=1", "display_name": "iLikeDirt", "link": "https://stackoverflow.com/users/2934226/ilikedirt"}, "is_accepted": true, "score": 19, "last_activity_date": 1507757131, "last_edit_date": 1507757131, "creation_date": 1506625806, "answer_id": 46476640, "question_id": 46457404, "link": "https://stackoverflow.com/questions/46457404/how-can-i-compile-python-3-6-2-on-macos-with-openssl-from-homebrew/46476640#46476640", "title": "How can I compile Python 3.6.2 on macOS with openSSL from homebrew?", "body": "<p>None of the previous answers I found earlier worked for me, but I did eventually figure this out with the help of another answer not mentioned earlier. Here was the actual fix:\n<a href=\"https://stackoverflow.com/a/20740964/2934226\">https://stackoverflow.com/a/20740964/2934226</a></p>\n\n<p>Basically, CPPFLAGS and LDFLAGS can't be set in the environment; you need to set them alongside the configure command, like this:</p>\n\n<pre><code>./configure CPPFLAGS=\"-I[openSSL install location]/include\" LDFLAGS=\"-L[openSSL install location]/lib\" [other flags here]\n</code></pre>\n\n<p>And then after compiling and installing, it worked!</p>\n\n<pre><code>$ python3 -c \"import ssl; print(ssl.OPENSSL_VERSION)\"\nOpenSSL 1.0.2l  25 May 2017\n</code></pre>\n\n<p>Here are the things that didn't work, and why:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/23548188/how-do-i-compile-python-3-4-with-custom-openssl\">How do I compile Python 3.4 with custom OpenSSL?</a> doesn't help because you can't set LDFLAGS, CFLAGS, or CPPFLAGS in the environment; setup.py doesn't pass them along to the actual compilation steps. And even if setting LD_LIBRARY_PATH might work, you don't want to do that because it's dangerous (see <a href=\"http://xahlee.info/UnixResource_dir/_/ldpath.html\" rel=\"noreferrer\">http://xahlee.info/UnixResource_dir/_/ldpath.html</a>). Finally, --with-ssl isn't a valid configure argument, and the patch listed there to add it doesn't apply cleanly.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38670295/homebrew-refusing-to-link-openssl\">Homebrew refusing to link OpenSSL</a> doesn't apply when you're trying to build something from source, rather than trying to get an an already-compiled dylib to find a relocated library. Furthermore, making symlinks in /usr/local is dangerous, and can cause programs to compile against the newer headers but use the older system binaries.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36774171/how-to-include-ssl-with-python-build-on-macos\">how to include ssl with python build on MacOS</a> doesn't work properly. Editing setup.py to add the lib and include directories for where you've installed my openSSL <em>partially</em> works, and lets you compile in SSL support. Alas, they aren't importable because the old version is still getting used:</p>\n\n<pre><code>Following modules built successfully but were removed because they could not be imported:\n_hashlib              _ssl                                    \n</code></pre>\n\n<p>[...]</p>\n\n<pre><code>building '_ssl' extension\ngcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -std=c99 -Wextra -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -I/usr/local/opt/openssl/include/ -I./Include -I/oebuild/python/python-3.6.1/include -I. -I/usr/local/include -I/oebuild/python/src/Python-3.6.1/Include -I/oebuild/python/src/Python-3.6.1 -c /oebuild/python/src/Python-3.6.1/Modules/_ssl.c -o build/temp.macosx-10.11-x86_64-3.6/oebuild/python/src/Python-3.6.1/Modules/_ssl.o\ngcc -bundle -undefined dynamic_lookup build/temp.macosx-10.11-x86_64-3.6/oebuild/python/src/Python-3.6.1/Modules/_ssl.o -L/oebuild/python/python-3.6.1/lib -L/usr/local/lib -lssl -lcrypto -o build/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin.so\nbuilding '_hashlib' extension\ngcc -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -std=c99 -Wextra -Wno-unused-result -Wno-unused-parameter -Wno-missing-field-initializers -I/usr/local/opt/openssl/include/ -I./Include -I/oebuild/python/python-3.6.1/include -I. -I/usr/local/include -I/oebuild/python/src/Python-3.6.1/Include -I/oebuild/python/src/Python-3.6.1 -c /oebuild/python/src/Python-3.6.1/Modules/_hashopenssl.c -o build/temp.macosx-10.11-x86_64-3.6/oebuild/python/src/Python-3.6.1/Modules/_hashopenssl.o\ngcc -bundle -undefined dynamic_lookup build/temp.macosx-10.11-x86_64-3.6/oebuild/python/src/Python-3.6.1/Modules/_hashopenssl.o -L/oebuild/python/python-3.6.1/lib -L/usr/local/lib -lssl -lcrypto -o build/lib.macosx-10.11-x86_64-3.6/_hashlib.cpython-36m-darwin.so\n*** WARNING: renaming \"_ssl\" since importing it failed: dlopen(build/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin.so, 2): Symbol not found: _CRYPTO_THREADID_set_callback\n  Referenced from: build/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin.so\n  Expected in: flat namespace\n in build/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin.so\n*** WARNING: renaming \"_hashlib\" since importing it failed: dlopen(build/lib.macosx-10.11-x86_64-3.6/_hashlib.cpython-36m-darwin.so, 2): Symbol not found: _HMAC_CTX_copy\n  Referenced from: build/lib.macosx-10.11-x86_64-3.6/_hashlib.cpython-36m-darwin.so\n  Expected in: flat namespace\n in build/lib.macosx-10.11-x86_64-3.6/_hashlib.cpython-36m-darwin.so\n</code></pre>\n\n<p><code>otool -L</code> shows the problem:</p>\n\n<pre><code>$ otool -L build/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin_failed.so \nbuild/lib.macosx-10.11-x86_64-3.6/_ssl.cpython-36m-darwin_failed.so:\n    /usr/lib/libssl.0.9.8.dylib (compatibility version 0.9.8, current version 0.9.8)\n    /usr/lib/libcrypto.0.9.8.dylib (compatibility version 0.9.8, current version 0.9.8)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\n</code></pre>\n\n<p>(CRYPTO_THREADID was introduced in version 1.0.0, according to <a href=\"https://wiki.openssl.org/index.php/Manual:Threads(3)#HISTORY\" rel=\"noreferrer\">https://wiki.openssl.org/index.php/Manual:Threads(3)#HISTORY</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 931, "user_id": 5889983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/waxLE.png?s=128&g=1", "display_name": "Dan Streeter", "link": "https://stackoverflow.com/users/5889983/dan-streeter"}, "edited": false, "score": 0, "creation_date": 1581174397, "post_id": 52997074, "comment_id": 106346067, "body": "Thank you - only this one worked once adding the additional <code>PKG_CONFIG_PATH</code> parameter to my <code>.&#47;configure</code> command. I&#39;ve written a shell wrapper for OSX to assist in my own builds which is available here: <a href=\"https://github.com/danstreeter/osx-python-builder\" rel=\"nofollow noreferrer\">github.com/danstreeter/osx-python-builder</a> - contributions welcome =)"}], "tags": [], "owner": {"reputation": 47245, "user_id": 18852, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21bdb30e0a3bf7517c2a0795c65a20cd?s=128&d=identicon&r=PG", "display_name": "Senthil Kumaran", "link": "https://stackoverflow.com/users/18852/senthil-kumaran"}, "is_accepted": false, "score": 3, "last_activity_date": 1540497148, "creation_date": 1540497148, "answer_id": 52997074, "question_id": 46457404, "link": "https://stackoverflow.com/questions/46457404/how-can-i-compile-python-3-6-2-on-macos-with-openssl-from-homebrew/52997074#52997074", "title": "How can I compile Python 3.6.2 on macOS with openSSL from homebrew?", "body": "<p>I had success like this.</p>\n\n<pre><code>  brew update\n  brew install openssl\n\n  # these were suggested by brew itself.\n\n  export LDFLAGS=\"-L/usr/local/opt/openssl/lib\"\n  export CPPFLAGS=\"-I/usr/local/opt/openssl/include\"\n  export PKG_CONFIG_PATH=\"/usr/local/opt/openssl/lib/pkgconfig\"\n\n  # vanilla compilation\n\n  ./configure\n  make\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15884, "user_id": 818274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae579d9b841a67b490920674e2308b6d?s=128&d=identicon&r=PG", "display_name": "Guido van Rossum", "link": "https://stackoverflow.com/users/818274/guido-van-rossum"}, "is_accepted": false, "score": 7, "last_activity_date": 1563334381, "last_edit_date": 1563334381, "creation_date": 1563333915, "answer_id": 57068115, "question_id": 46457404, "link": "https://stackoverflow.com/questions/46457404/how-can-i-compile-python-3-6-2-on-macos-with-openssl-from-homebrew/57068115#57068115", "title": "How can I compile Python 3.6.2 on macOS with openSSL from homebrew?", "body": "<p>No answer above worked for me, for Python 3.8 (currently in beta).</p>\n\n<p>Instead, what worked for me (July 2019):</p>\n\n<pre><code>brew install openssl\n./configure --with-openssl=/usr/local/opt/openssl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 348, "user_id": 2921592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2b0e7882dfa8b3814bb0f7ef7bd642e?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2921592/chris"}, "edited": false, "score": 0, "creation_date": 1607368670, "post_id": 62095909, "comment_id": 115245779, "body": "Thanks for this answer, as it&#39;s really the easiest solution for users of both <code>brew</code> and <code>pyenv</code>. However, don&#39;t forget to also check <code>$CONFIGURE_OPTS</code> and unset or override if necessary (<code>CONFIGURE_OPTS=&quot;&quot;</code> or <code>CONFIGURE_OPTS=&quot;--with-openssl=$(brew --prefix openssl@1.0)&quot;</code>) at the start of the second command above. Mine was set in <code>.zshrc</code> to specify <code>openssl@1.1</code> in order to steer <code>rbenv</code> toward using <code>openssl@1.1</code>, and I needed to override it to get older Pythons built using <code>pyenv</code>."}], "tags": [], "owner": {"reputation": 136, "user_id": 734170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a138ca9aece506c0c09a24685b4d03ab?s=128&d=identicon&r=PG", "display_name": "Sweet Sheep", "link": "https://stackoverflow.com/users/734170/sweet-sheep"}, "is_accepted": false, "score": 1, "last_activity_date": 1590794368, "creation_date": 1590794368, "answer_id": 62095909, "question_id": 46457404, "link": "https://stackoverflow.com/questions/46457404/how-can-i-compile-python-3-6-2-on-macos-with-openssl-from-homebrew/62095909#62095909", "title": "How can I compile Python 3.6.2 on macOS with openSSL from homebrew?", "body": "<p>Been struggling with building from pyenv all day so figured I'd contribute the method for doing it in 2020:</p>\n\n<pre><code>brew install rbenv/tap/openssl@1.0\nPYTHON_BUILD_HOMEBREW_OPENSSL_FORMULA=openssl@1.0 pyenv install 3.6.2\n</code></pre>\n\n<p>or in my case, 3.4.10 (what I tested this with)</p>\n\n<p>I know this question isn't for pyenv specifically but I found this thread looking for help with pyenv and I'm sure others have too.</p>\n\n<p>Note that this version of openssl is (currently) 1.0.2t</p>\n"}], "owner": {"reputation": 536, "user_id": 2934226, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69e90368878ffd6e11fc73ebe1804787?s=128&d=identicon&r=PG&f=1", "display_name": "iLikeDirt", "link": "https://stackoverflow.com/users/2934226/ilikedirt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6532, "favorite_count": 4, "accepted_answer_id": 46476640, "answer_count": 4, "score": 8, "last_activity_date": 1590794368, "creation_date": 1506547205, "question_id": 46457404, "link": "https://stackoverflow.com/questions/46457404/how-can-i-compile-python-3-6-2-on-macos-with-openssl-from-homebrew", "title": "How can I compile Python 3.6.2 on macOS with openSSL from homebrew?", "body": "<p>I'm trying to compile Python 3.6.2 on macOS 10.11 according to the instructions on <a href=\"https://bugs.python.org/issue29095\" rel=\"noreferrer\">https://bugs.python.org/issue29095</a>.</p>\n\n<p>I've used homebrew to install openSSL to the standard location and then added LDFLAGS, CFLAGS, and CPPFLAGS to my env:</p>\n\n<pre><code>$ printenv | grep FLAGS\nLDFLAGS=/usr/local/Cellar/openssl/1.0.2l/lib/\nCFLAGS=-I/usr/local/Cellar/openssl/1.0.2l/include/openssl\nCPPFLAGS=-I/usr/local/Cellar/openssl/1.0.2l/include/openssl\n</code></pre>\n\n<p>Then in that same shell, I compile Python to the custom location required for my use case:</p>\n\n<pre><code>$ sudo ./configure --prefix=/oebuild/python/python-3.6.1\n$ sudo make\n$ sudo make install\n</code></pre>\n\n<p>However, the SSL module doesn't get built. The build log says this:</p>\n\n<blockquote>\n  <p>Python build finished successfully!\n  The necessary bits to build these optional modules were not found:\n  _gdbm                 _ssl                  ossaudiodev<br>\n  spwd<br>\n  To find the necessary bits, look in setup.py in detect_modules() for the module's name.</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8660915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75636bf30f310a2458ed6dc5c4da5776?s=128&d=identicon&r=PG&f=1", "display_name": "rri04", "link": "https://stackoverflow.com/users/8660915/rri04"}, "edited": false, "score": 0, "creation_date": 1506549391, "post_id": 46457611, "comment_id": 79871212, "body": "first thanks for answering second i need the size of the chessboard remains the same regardless of how many squares it consists of. @Izaak van Dongen"}, {"owner": {"reputation": 2290, "user_id": 5468953, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FWcKeItq2a4/AAAAAAAAAAI/AAAAAAAAAEE/WQokFUs5ZIg/photo.jpg?sz=128", "display_name": "Izaak van Dongen", "link": "https://stackoverflow.com/users/5468953/izaak-van-dongen"}, "reply_to_user": {"reputation": 17, "user_id": 8660915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75636bf30f310a2458ed6dc5c4da5776?s=128&d=identicon&r=PG&f=1", "display_name": "rri04", "link": "https://stackoverflow.com/users/8660915/rri04"}, "edited": false, "score": 0, "creation_date": 1506595104, "post_id": 46457611, "comment_id": 79888883, "body": "@John I&#39;m pretty sure the size of the chessboard does remain the same.. Do you mean the size of the squares?"}], "tags": [], "owner": {"reputation": 2290, "user_id": 5468953, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FWcKeItq2a4/AAAAAAAAAAI/AAAAAAAAAEE/WQokFUs5ZIg/photo.jpg?sz=128", "display_name": "Izaak van Dongen", "link": "https://stackoverflow.com/users/5468953/izaak-van-dongen"}, "is_accepted": true, "score": 1, "last_activity_date": 1506548238, "creation_date": 1506548238, "answer_id": 46457611, "question_id": 46457370, "link": "https://stackoverflow.com/questions/46457370/this-only-print-perfect-chessboard-for-n-8-otherwise-it-prints-oblique-line-whil/46457611#46457611", "title": "this only print perfect ChessBoard for n=8 otherwise it prints oblique line while switching from line to line", "body": "<p>This should work:</p>\n\n<pre><code>import turtle\nimport sys\n\nturtle.speed(0)\n\ndef filled_square(size, color, cx, cy, x, y):\n    turtle.up()\n    turtle.setpos(cx + size * x, cy + size * y)\n    turtle.down()\n    turtle.color(color)\n\n    turtle.begin_fill()\n    for i in range(4):\n        turtle.fd(size)\n        turtle.rt(90)\n    turtle.end_fill()\n\ndef checkerboard(n):\n    color=['black','red']\n    for x in range(n):\n        for y in range(n):\n            a = (x &amp; 1) ^ (y &amp; 1)\n            filled_square(200/n, color[a], -100, -100, x, y)\n    turtle.done()\n\nif __name__ == \"__main__\":\n    checkerboard(int(sys.argv[1]))\n</code></pre>\n\n<p>I've refactored your code a little. Crucially, it's quite easy to directly extract x and y from your for loops. Also, it can be quite confusing to refer to assumed global variables in functions, so the actual <code>x</code> and <code>y</code> are now parameters to your square function. I've tried to stay true to your code's approach, but have changed the expression for <code>a</code>. It now checks if exactly one of <code>x</code> or <code>y</code> is odd (using the bitwise and and bitwise xor operators. Bitwise and acts like <code>%2</code> here.) - this would be better written as</p>\n\n<pre><code>if (x &amp; 1) ^ (y &amp; 1):\n    turtle.color(\"red\")\nelse:\n    turtle.color(\"black\")\n</code></pre>\n\n<p>This is far far more legible than trying to generate an index from an arithmetic statement.</p>\n"}], "owner": {"reputation": 17, "user_id": 8660915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75636bf30f310a2458ed6dc5c4da5776?s=128&d=identicon&r=PG&f=1", "display_name": "rri04", "link": "https://stackoverflow.com/users/8660915/rri04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46457611, "answer_count": 1, "score": 0, "last_activity_date": 1506548238, "creation_date": 1506547071, "last_edit_date": 1506548075, "question_id": 46457370, "link": "https://stackoverflow.com/questions/46457370/this-only-print-perfect-chessboard-for-n-8-otherwise-it-prints-oblique-line-whil", "title": "this only print perfect ChessBoard for n=8 otherwise it prints oblique line while switching from line to line", "body": "<pre><code>import turtle\nimport sys\nturtle.speed(0)\nn=int(sys.argv[1])\ndef filled_square(size, color, x, y):\n    print((change_color-x)%(n+1)==0)\n    if (change_color-x)%(n+1)==0:\n        turtle.up()\n    turtle.setpos(x+size*b,y+size*c)\n    turtle.down()\n    turtle.color(color)\n    turtle.begin_fill()\n    for i in range(4):\n        turtle.fd(size)\n        turtle.rt(90)\n    turtle.end_fill()\n\ncolor=['nothing','black','red']\nchange_color=n\nc=0\nx=0\nfor i in range(n):\n    b=0\n    for j in range(n):\n        a=-1\n        a=a**change_color\n        filled_square(200/n, color[a], -100, 100)\n        change_color+=1\n        b+=1\n    c-=1\n    x+=1\n    change_color+=1\nturtle.done()\n</code></pre>\n\n<p>can anyone please tell me where is my mistake \nif you try it by putting n=5 you will understand what I mean\nthis only work for n=8\nthanks in advance</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1506548631, "post_id": 46457357, "comment_id": 79870932, "body": "You have <code>OwnerID</code> of <code>1</code> and <code>GroupID</code> of <code>20</code> and three different <code>AssignementID</code>, namely <code>[100, 200, 300]</code>.  According to your logic, the results should be <code>[1, 2, 3]</code> but you have <code>[1, 1, 1]</code>.  Which is incorrect?  The results you&#39;ve shown or the logic you&#39;ve stated."}, {"owner": {"reputation": 3843, "user_id": 2735009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/38a795fbd4a70b92d3ea5596dc8beb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Patthebug", "link": "https://stackoverflow.com/users/2735009/patthebug"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1506548786, "post_id": 46457357, "comment_id": 79871009, "body": "@piRSquared You are absolutely right. Thanks for pointing that out. I have fixed it now. My apologies for confusing you."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1506552083, "post_id": 46457357, "comment_id": 79872097, "body": "before you edited , That is confused me a lot"}], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1506548933, "creation_date": 1506548933, "answer_id": 46457751, "question_id": 46457357, "link": "https://stackoverflow.com/questions/46457357/increment-a-column-value-based-on-a-combination-of-columns/46457751#46457751", "title": "Increment a column value based on a combination of columns", "body": "<pre><code>df.assign(\n    result=df.groupby(\n        ['OwnerID', 'GroupID']\n    ).AssignmentID.transform(lambda x: x.factorize()[0]) + 1\n)\n\n   OwnerID  GroupID  AssignmentID  Result  result\n0        1       10           100       1       1\n1        1       10           100       1       1\n2        1       10           200       2       2\n3        1       20           100       1       1\n4        1       20           200       1       2\n5        1       20           300       1       3\n6        2       30           200       1       1\n7        2       30           200       1       1\n8        2       40           300       2       1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1506575688, "post_id": 46458289, "comment_id": 79877587, "body": "Nice one @Wen (-:"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1506552029, "creation_date": 1506552029, "answer_id": 46458289, "question_id": 46457357, "link": "https://stackoverflow.com/questions/46457357/increment-a-column-value-based-on-a-combination-of-columns/46458289#46458289", "title": "Increment a column value based on a combination of columns", "body": "<p>Or </p>\n\n<pre><code>df.groupby([ 'OwnerID' , 'GroupID' ]).AssignmentID.transform(lambda x: x.astype('category').cat.codes.add(1))\nOut[186]: \n0    1\n1    1\n2    2\n3    1\n4    2\n5    3\n6    1\n7    1\n8    1\nName: AssignmentID, dtype: int8\n</code></pre>\n"}], "owner": {"reputation": 3843, "user_id": 2735009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/38a795fbd4a70b92d3ea5596dc8beb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Patthebug", "link": "https://stackoverflow.com/users/2735009/patthebug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 46457751, "answer_count": 2, "score": 2, "last_activity_date": 1506552029, "creation_date": 1506547039, "last_edit_date": 1506548691, "question_id": 46457357, "link": "https://stackoverflow.com/questions/46457357/increment-a-column-value-based-on-a-combination-of-columns", "title": "Increment a column value based on a combination of columns", "body": "<p>I have a dataset that looks like this:</p>\n\n<pre><code>OwnerID    GroupID    AssignmentID   ... &lt;few more columns&gt;  [Need this column]\n1           10         100                                    1\n1           10         100                                    1\n1           10         200                                    2\n1           20         100                                    1\n1           20         200                                    2\n1           20         300                                    3\n2           30         200                                    1\n2           30         200                                    1\n2           40         300                                    2\n</code></pre>\n\n<p>I would like to populate a column based on the values in <code>OwnerID</code>, <code>GroupID</code> and <code>AssignmentID</code> fields. If the values in these fields are the same across rows, then I want the number <code>1</code> repeated in the new column. But if the same owner has assigned a different assignment to the same group, then the value in the new column should increment.</p>\n\n<p>For example - <code>OwnerID</code> <code>1</code> assigned 2 assignments (2 with the same <code>AssignmentID</code> 100 and the other with <code>AssignmentID</code> 200). The <code>AssignmentID</code> 100 gets value <code>1</code> in both cases because the values for <code>OwnerID</code>, <code>GroupID</code> and <code>AssignmentID</code> are the same, but gets the value 2 when the <code>AssignmentID</code> is 200.</p>\n\n<p>Similarly, when <code>OwnerID</code> 100 assigned <code>AssignmentID</code> 100, 200 and 300, the group that these assignments were assigned to, had changed to 20.</p>\n\n<p>I thought this could be done using the following code:</p>\n\n<pre><code>AssignmentDetails['colname'] = AssignmentDetails.groupby(['ownerid','groupid','assignmentid']).cumcount()\n</code></pre>\n\n<p>But this doesn't give me the required result. It doesn't repeat the value in the new column when the values in the 'groupby' clause are the same, but it increments the values.</p>\n\n<p>How do I achieve this? Any help would be great.</p>\n"}, {"tags": ["python", "django", "django-migrations"], "comments": [{"owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "edited": false, "score": 1, "creation_date": 1506547002, "post_id": 46457298, "comment_id": 79870303, "body": "you need to show full error stack to start search your trouble"}, {"owner": {"reputation": 9336, "user_id": 1199464, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c46065552123344aa8fb40f4366790f3?s=128&d=identicon&r=PG", "display_name": "markwalker_", "link": "https://stackoverflow.com/users/1199464/markwalker"}, "edited": false, "score": 0, "creation_date": 1506547542, "post_id": 46457298, "comment_id": 79870523, "body": "Any default values defined on fields?"}, {"owner": {"reputation": 12405, "user_id": 448474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bb69115337eaa824a694710c348bf7?s=128&d=identicon&r=PG", "display_name": "hynekcer", "link": "https://stackoverflow.com/users/448474/hynekcer"}, "edited": false, "score": 0, "creation_date": 1506547963, "post_id": 46457298, "comment_id": 79870675, "body": "Try to run <code>grep -w &quot;NA&quot; *&#47;models.py *&#47;migrations&#47;*.py</code>. Expected that all your apps are in <code>*</code> directories."}, {"owner": {"reputation": 175, "user_id": 6599471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wrHTcdyUax4/AAAAAAAAAAI/AAAAAAAAABY/l6_3v3bc2zE/photo.jpg?sz=128", "display_name": "hassan", "link": "https://stackoverflow.com/users/6599471/hassan"}, "edited": false, "score": 1, "creation_date": 1506562281, "post_id": 46457298, "comment_id": 79874383, "body": "There is probably a default value for a particular field/column in your models/migration files."}], "answers": [{"tags": [], "owner": {"reputation": 12405, "user_id": 448474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bb69115337eaa824a694710c348bf7?s=128&d=identicon&r=PG", "display_name": "hynekcer", "link": "https://stackoverflow.com/users/448474/hynekcer"}, "is_accepted": false, "score": 0, "last_activity_date": 1507032546, "creation_date": 1507032546, "answer_id": 46544291, "question_id": 46457298, "link": "https://stackoverflow.com/questions/46457298/valueerror-on-migrate-django-database/46544291#46544291", "title": "ValueError on migrate Django Database", "body": "<p><strong>Answer for the original poster:</strong></p>\n\n<p>Eexactly this is the Python error message after invalid conversion from string 'NA' to integer: <code>int('NA')</code>. This exception is expected by running <code>migrate</code> command if a field has been created by previous migrations and you have changed later null=True to False or the field type or the default value, but the value is not be not appropriate to the field type. The mistake has been duplicated by <code>makemigrations</code> and it is not enough to fix it in <code>models.py</code>.</p>\n\n<p>Migrations are compiled to SQL and applied to the database by migrate command, even if some command is not important on an empty table. Imagine that anyone who received your initial migrations could have data still and you would commit an invalid migration and send him what fails only with data. It is better that it fails also for you.</p>\n\n<p><strong>Fix for you:</strong> You will see the name of application and failed migration exactly before the traceback. You find the invalid default value 'NA' in that migration file \"that_app_name/migrations/00..that_migration.py\" and eventually still in models.py. The model should be fixed, that migration file and all later migrations should be deleted and run makemigrations again. (These migrations can be deleted because none of them is applied in any database, because could not be applied. Delete is easier in this case than a manual fix, that is also frequently recommended.)</p>\n\n<hr>\n\n<p><strong>Preparing a text for Django developers:</strong></p>\n\n<p>It is a very frequent question about an easy typo that can not be easily fixed after mekemigrations. About <a href=\"https://www.google.com/search?q=django+&quot;ValueError:+invalid+literal+for&quot;+default+migration\" rel=\"nofollow noreferrer\">twenty similar questions at SO</a> can be found and about <strong>hundred people participated</strong> on comments and answers to such questions. The type of field is there usually any numeric field or a ForeignKey. Values are e.g. None, 'NULL', '-', 'Not specified', 'DEFAULT VALUE' or a name of default related object. The invalid value is sometimes fixed in models, but remains in migrations and the issue is more unexpected.</p>\n\n<p>The most important related issue is <a href=\"https://code.djangoproject.com/ticket/25417\" rel=\"nofollow noreferrer\">Add a system check for an invalid default on a model field #25417</a>. It has been fixed by <a href=\"https://github.com/django/django/commit/71ebcb85b931f43865df5b322b2cf06d3da23f69\" rel=\"nofollow noreferrer\">71ebcb8</a> in Django 1.9a1, but reverted before 1.9 final. An important reason for reverting was a backward compatibility of <code>check</code> validation. Default values of some useful models can depend on database data. That works after applying previous migrations, not before. (I imagine e.g. a related object \"unknown donor\", that is more useful for statistics of donations than a null value.)</p>\n\n<p>I agree that the default values can not be checked by <code>Field.check()</code>, that was rejected. My proposal is either of possibilities:</p>\n\n<ul>\n<li><p>A) <strong>checked by makemigrations</strong>, in order to not create invalid migrations and to prevent make it more complicated. (That is backward compatible - every existing migration or normal code will continue to work. It could require to apply a previous migration in a special case if the default value depends on a data migration and if it has failed for that reason.</p></li>\n<li><p>B) <strong>checked by migrate</strong>, in order to get a more useful error message. The original exception and traceback is useful, but a short text with the table name plus field name should be added.</p></li>\n</ul>\n\n<p>(could be continued after discussion.)</p>\n"}], "owner": {"reputation": 33, "user_id": 7497380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8652e1c884b67d776197202a0c2c500e?s=128&d=identicon&r=PG&f=1", "display_name": "tobbog", "link": "https://stackoverflow.com/users/7497380/tobbog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 685, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507032546, "creation_date": 1506546765, "last_edit_date": 1506546955, "question_id": 46457298, "link": "https://stackoverflow.com/questions/46457298/valueerror-on-migrate-django-database", "title": "ValueError on migrate Django Database", "body": "<p>Whenever I want to migrate my Django Database I get the error message above. </p>\n\n<blockquote>\n  <p>ValueError: invalid literal for int() with base 10: 'NA'</p>\n</blockquote>\n\n<p>However, my models are empty. When I check them with <code>Model.objects.all()</code> I get <code>&lt;QuerySet []&gt;</code>. And when I look at my models at Django Admin, they are empty as well.</p>\n\n<p>So how is it possible that there is any \"NA\" where there shouldn't be one? And how can I repair my database?</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5053, "user_id": 2421391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/980724d5505b7c2ee035c38b8adabd54?s=128&d=identicon&r=PG", "display_name": "scnerd", "link": "https://stackoverflow.com/users/2421391/scnerd"}, "edited": false, "score": 0, "creation_date": 1506546649, "post_id": 46457249, "comment_id": 79870173, "body": "<code>list = [0 if isinstance(w, str) else int(w) for w in list_of_strings]</code> ?"}, {"owner": {"reputation": 2290, "user_id": 5468953, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FWcKeItq2a4/AAAAAAAAAAI/AAAAAAAAAEE/WQokFUs5ZIg/photo.jpg?sz=128", "display_name": "Izaak van Dongen", "link": "https://stackoverflow.com/users/5468953/izaak-van-dongen"}, "reply_to_user": {"reputation": 5053, "user_id": 2421391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/980724d5505b7c2ee035c38b8adabd54?s=128&d=identicon&r=PG", "display_name": "scnerd", "link": "https://stackoverflow.com/users/2421391/scnerd"}, "edited": false, "score": 0, "creation_date": 1506547056, "post_id": 46457249, "comment_id": 79870324, "body": "@scnerd They&#39;re all going to be strings, just some will be strings with digit characters."}], "answers": [{"comments": [{"owner": {"reputation": 2290, "user_id": 5468953, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FWcKeItq2a4/AAAAAAAAAAI/AAAAAAAAAEE/WQokFUs5ZIg/photo.jpg?sz=128", "display_name": "Izaak van Dongen", "link": "https://stackoverflow.com/users/5468953/izaak-van-dongen"}, "edited": false, "score": 0, "creation_date": 1506546964, "post_id": 46457289, "comment_id": 79870290, "body": "See also <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isdigit\" rel=\"nofollow noreferrer\">the Python docs</a>"}], "tags": [], "owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "is_accepted": true, "score": 3, "last_activity_date": 1506546718, "creation_date": 1506546718, "answer_id": 46457289, "question_id": 46457249, "link": "https://stackoverflow.com/questions/46457249/how-to-check-if-a-value-inside-a-list-is-a-string/46457289#46457289", "title": "How to check if a value inside a list is a string?", "body": "<p>you can try to use <a href=\"https://www.tutorialspoint.com/python/string_isdigit.htm\" rel=\"nofollow noreferrer\">string_isdigit</a></p>\n\n<pre><code>list_of_strings = [\"a\", \"2\", \"7\", \"zebra\" ]\n[int(x) if x.isdigit() else 0 for x in list_of_strings]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1167, "user_id": 4593972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7192acc3ed0cd00b2bb0ce25910ee7a?s=128&d=identicon&r=PG", "display_name": "olieidel", "link": "https://stackoverflow.com/users/4593972/olieidel"}, "is_accepted": false, "score": 1, "last_activity_date": 1506546870, "creation_date": 1506546870, "answer_id": 46457322, "question_id": 46457249, "link": "https://stackoverflow.com/questions/46457249/how-to-check-if-a-value-inside-a-list-is-a-string/46457322#46457322", "title": "How to check if a value inside a list is a string?", "body": "<p>you could use try / catch to parse ints, for example like this:</p>\n\n<pre><code>def safe_list(input_list):\n    # initialize an output list\n    output_list = []\n\n    # iterate through input list\n    for value in input_list:\n        try:\n            # try to parse value as int\n            parsed = int(value)\n        except ValueError:\n            # if it fails, append 0 to output list\n            output_list.append(0)\n        else:\n            # if it succeeds, append the parsed value (an int) to\n            # the output list.\n            # note: this could also be done inside the `try` block,\n            # but putting the \"non-throwing\" statements which follow\n            # inside an else block is considered good practice\n            output_list.append(parsed)\n\n    return output_list\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5904838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-UkIXW2g55Ns/AAAAAAAAAAI/AAAAAAAAAIQ/ulyHHJUHF-w/photo.jpg?sz=128", "display_name": "Caleb Collier", "link": "https://stackoverflow.com/users/5904838/caleb-collier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 46457289, "answer_count": 2, "score": 1, "last_activity_date": 1506546870, "creation_date": 1506546516, "last_edit_date": 1506546840, "question_id": 46457249, "link": "https://stackoverflow.com/questions/46457249/how-to-check-if-a-value-inside-a-list-is-a-string", "title": "How to check if a value inside a list is a string?", "body": "<p>I need to take all the values in a list, and replace them with zeroes if they're a string or their actual number if they're an int. the w.replace is how I'll replace the string, but I don't know what to replace 0 with.</p>\n\n<pre><code>def safe_int(list):\n\nlist = [w.replace(, \"0\") for w in list]\nlist = [int(i) for i in list]\n</code></pre>\n\n<p>I want to replace \"a\" with zero and the entirety of \"zebra\" with zero inside the list_of_strings.</p>\n\n<pre><code>list_of_strings = [\"a\", \"2\", \"7\", \"zebra\" ]\n</code></pre>\n\n<p>The end output should be [0, 2, 7, 0]</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9, "user_id": 8684853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174bc88c514645747e7fab2e2b8109e9?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Manilla", "link": "https://stackoverflow.com/users/8684853/tony-manilla"}, "edited": false, "score": 0, "creation_date": 1506551004, "post_id": 46457237, "comment_id": 79871771, "body": "note i gave group of 3 as an example the user chooses how large the group is ie if the number given is 4586948304 and the user chooses 4 the program should determine what 4 consecutive numbers has the greatest product"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8684853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174bc88c514645747e7fab2e2b8109e9?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Manilla", "link": "https://stackoverflow.com/users/8684853/tony-manilla"}, "edited": false, "score": 0, "creation_date": 1506549331, "post_id": 46457400, "comment_id": 79871189, "body": "is there any way to modify this so you can use it with any amount of consecutive digts, such as 2 or 5 not just 3"}], "tags": [], "owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "is_accepted": false, "score": 1, "last_activity_date": 1506571450, "last_edit_date": 1506571450, "creation_date": 1506547202, "answer_id": 46457400, "question_id": 46457237, "link": "https://stackoverflow.com/questions/46457237/greatest-product-of-consecutive-digits-in-numbers-python/46457400#46457400", "title": "greatest product of consecutive digits in numbers python", "body": "<p>You can try this out:</p>\n\n<pre><code>x = '134214257248'\n\nm = 0\n\nfor i in range(len(x) - 2):\n    m = max(m, int(x[i])*int(x[i+1])*int(x[i+2]))\n\nprint m\n\n# 2*5*7 = 70\n70\n</code></pre>\n\n<p>EDIT: Accept any amount (n) of consecutive digits</p>\n\n<pre><code>import numpy as np\n\nx = '134214257248'\n\nm = 0\nn = 3\n\nfor i in range(len(x) - n + 1):\n    m = max(m, np.prod(list(int(l) for l in x[i:i + n])))\n\nprint m\n\n70\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8684853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174bc88c514645747e7fab2e2b8109e9?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Manilla", "link": "https://stackoverflow.com/users/8684853/tony-manilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1602953754, "creation_date": 1506546475, "question_id": 46457237, "link": "https://stackoverflow.com/questions/46457237/greatest-product-of-consecutive-digits-in-numbers-python", "title": "greatest product of consecutive digits in numbers python", "body": "<p>My program has the purpose of determining the greatest product of a certain amount of consecutive digits. For example the program prompts the user for a string of numbers (ex 255969406) and for the size of consecutive digits (3), thus my program will determine what the greatest product of 3 consecutive digits in the number provided is, my program compiles and runs but the product returned is incorrect.  </p>\n\n<pre><code>def Pro(dig,snum):\n    number = 1\n    pr = 0\n    for x in xrange(0,dig-1):\n        pr = int(snum[x])\n        number = pr*number\n    return number\n\ndef Product(dig,indx,snum):\n    number = 1\n    pr = 0\n    for x in xrange(1,dig):\n\n        pr = int(snum[indx+x])\n        number = pr*number\n    return number\n\n\ndef Main():     \n    num = raw_input(\"Enter a string of digits\")\n    dig = input(\"Input number of digits in group\")\n    x = 1\n\n    val = Pro(dig,num)\n    grps = int(len(num)/ dig)\n    while x&lt;grps:\n        val2= Product(dig,x,num)\n        if val2&gt;val:\n                val = val2\n        x +=1\n    print(\"The max product of \" + str(dig) +\" consecutive digits in \" + num + \" is \" + str(val))\nif __name__ == \"__main__\":\nMain()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 355, "user_id": 8610265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zi6j5whtsbg/AAAAAAAAAAI/AAAAAAAAArs/tDou56l1qPE/photo.jpg?sz=128", "display_name": "Reginol_Blindhop", "link": "https://stackoverflow.com/users/8610265/reginol-blindhop"}, "edited": false, "score": 0, "creation_date": 1506546584, "post_id": 46457224, "comment_id": 79870148, "body": "Could you post the exact error you are getting? I copied and ran your code just fine with no errors."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1506546594, "post_id": 46457224, "comment_id": 79870155, "body": "What is the <i>exact</i> syntax error? I suspect you are using Python 3, or you are using <code>from __future__ import print_function</code>."}, {"owner": {"reputation": 2805, "user_id": 2080264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e4c8a49533f3e9e41e4a4241c824bf?s=128&d=identicon&r=PG", "display_name": "araknoid", "link": "https://stackoverflow.com/users/2080264/araknoid"}, "edited": false, "score": 0, "creation_date": 1506546671, "post_id": 46457224, "comment_id": 79870182, "body": "Your example is working fine with python-2.7, as the other suggested which is the syntax error and can you get the python version from terminal?"}, {"owner": {"reputation": 1, "user_id": 8685640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c19273249af66ee145b21da7559fb26?s=128&d=identicon&r=PG&f=1", "display_name": "red", "link": "https://stackoverflow.com/users/8685640/red"}, "edited": false, "score": 0, "creation_date": 1506547276, "post_id": 46457224, "comment_id": 79870415, "body": "Thank you for replying. The exact python version I am using is: Python 2.7.13. And I believe the exact syntax error is: invalid syntax, and it references line 4"}], "owner": {"reputation": 1, "user_id": 8685640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c19273249af66ee145b21da7559fb26?s=128&d=identicon&r=PG&f=1", "display_name": "red", "link": "https://stackoverflow.com/users/8685640/red"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1506546784, "answer_count": 0, "score": 0, "last_activity_date": 1506549385, "creation_date": 1506546392, "last_edit_date": 1506549385, "question_id": 46457224, "link": "https://stackoverflow.com/questions/46457224/why-am-i-getting-a-syntax-error-when-running-in-terminal", "closed_reason": "Duplicate", "title": "Why am I getting a syntax error when running in terminal?", "body": "<p>I'm getting a syntax error: invalid syntax on this. I'm using python 2.7.13 and running it on terminal on my mac. I run it without the - print 'blastoff' - statement and it counts down correctly, but when I include the print statement it gives me a syntax error. Obviously I'm new to this but I am following the guide that I'm studying and writing it exactly in terminal. </p>\n\n<pre><code>n = 5\nwhile n &gt; 0:\n    print n\n    n = n - 1\nprint 'blastoff'\n</code></pre>\n"}, {"tags": ["python", "multithreading", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": false, "score": 0, "last_activity_date": 1506551950, "creation_date": 1506551950, "answer_id": 46458279, "question_id": 46457210, "link": "https://stackoverflow.com/questions/46457210/analyze-multiple-non-text-files-with-pyspark/46458279#46458279", "title": "Analyze Multiple Non-Text Files With Pyspark", "body": "<ul>\n<li>Put files in a POSIX compliant file system which can be accessed from every worker (NFS, MapR filesystem, Databricks filesystem, Ceph)</li>\n<li>Convert path so they reflect path in the file system.</li>\n<li><p><code>parallelize</code>  names:</p>\n\n<pre><code>rdd = sc.parallelize(filenames)\n</code></pre></li>\n<li><p><code>map</code> with <code>process</code>:</p>\n\n<pre><code>result = rdd.map(analyze)\n</code></pre></li>\n<li><p>Do whatever you want to do with results.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 747, "user_id": 3433489, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f4fe6ad536774d7065af268bf219e24?s=128&d=identicon&r=PG&f=1", "display_name": "user3433489", "link": "https://stackoverflow.com/users/3433489/user3433489"}, "is_accepted": true, "score": 0, "last_activity_date": 1507125965, "last_edit_date": 1507125965, "creation_date": 1506629846, "answer_id": 46477609, "question_id": 46457210, "link": "https://stackoverflow.com/questions/46457210/analyze-multiple-non-text-files-with-pyspark/46477609#46477609", "title": "Analyze Multiple Non-Text Files With Pyspark", "body": "<p>The other answer looks elegant, but I didn't want to install a new file system. I opted for analyzing the files in parallel with the <code>joblib</code> module, writing the results to .txt files, and opening the .txt files with Spark.</p>\n\n<pre><code>from joblib import Parallel, delayed\n\ndef analyze(filename):\n    # write results to text file with name= filename+'.txt'\n    return\n\nfilenames = ['1.mat', '2.mat', ...]\nParallel(n_jobs=8)(delayed(analyze)(filename) for filename in filenames)\n</code></pre>\n\n<p>Then I use Pyspark to read all the .txt files to one rdd:</p>\n\n<pre><code>data = sc.textFile('path/*.txt')\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 3433489, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f4fe6ad536774d7065af268bf219e24?s=128&d=identicon&r=PG&f=1", "display_name": "user3433489", "link": "https://stackoverflow.com/users/3433489/user3433489"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 46477609, "answer_count": 2, "score": 0, "last_activity_date": 1507125965, "creation_date": 1506546319, "question_id": 46457210, "link": "https://stackoverflow.com/questions/46457210/analyze-multiple-non-text-files-with-pyspark", "title": "Analyze Multiple Non-Text Files With Pyspark", "body": "<p>I have several .mat files (matlab) that I want to process with PySpark. But I'm not sure how to do it in parallel. Here's the basic single-threaded setup that I wish to parallelize. The code will generate a list of lists, where each inner list has arbitrary length:</p>\n\n<pre><code>filenames = ['1.mat','2.mat',...]\noutput_lists = [None]*len(filenames) # will be a list of lists\n\nfor i,filename in enumerate(filenames):\n    output_lists[i] = analyze(filename) # analyze is some function that returns a list\n</code></pre>\n\n<p>Any individual output_lists[i] can fit in memory, but the entire output_lists object cannot. I would like output_lists to be an rdd. </p>\n\n<p>Any ideas? I am also open to using a combination of pyspark and the multiprocessing module. Thanks!</p>\n"}, {"tags": ["python", "sql", "sqlite", "scopus"], "comments": [{"owner": {"reputation": 2226, "user_id": 5363824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKv5N.png?s=128&g=1", "display_name": "rd_nielsen", "link": "https://stackoverflow.com/users/5363824/rd-nielsen"}, "edited": false, "score": 2, "creation_date": 1506553155, "post_id": 46457183, "comment_id": 79872356, "body": "The data appears to be JSON, so after reading the data from the database (e.g., <code>c.execute(&quot;select * from responses;&quot;</code>), iterate through the results and use Python&#39;s <code>json</code> library to load each row into a Python data structure, from which you can extract the information you want.  You can then store that into whatever other format you want for analysis or export."}, {"owner": {"reputation": 75, "user_id": 7188542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbbfe9fe7d67e7956cc6a594f889be7?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Bailey", "link": "https://stackoverflow.com/users/7188542/tom-bailey"}, "reply_to_user": {"reputation": 2226, "user_id": 5363824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKv5N.png?s=128&g=1", "display_name": "rd_nielsen", "link": "https://stackoverflow.com/users/5363824/rd-nielsen"}, "edited": false, "score": 0, "creation_date": 1506589925, "post_id": 46457183, "comment_id": 79885466, "body": "Thanks a lot! I&#39;m still a beginner with Python (and json), so now I&#39;m stuck in how I could iterate through the whole file. How do I load each row into a data structure using json? Any suggestions or ideas would be extremely helpful."}, {"owner": {"reputation": 2226, "user_id": 5363824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKv5N.png?s=128&g=1", "display_name": "rd_nielsen", "link": "https://stackoverflow.com/users/5363824/rd-nielsen"}, "edited": false, "score": 1, "creation_date": 1506607686, "post_id": 46457183, "comment_id": 79897549, "body": "See answer added below."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7188542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbbfe9fe7d67e7956cc6a594f889be7?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Bailey", "link": "https://stackoverflow.com/users/7188542/tom-bailey"}, "edited": false, "score": 0, "creation_date": 1506612346, "post_id": 46471223, "comment_id": 79900805, "body": "This is really, really great -- thanks so much. I&#39;m almost getting there now. The issue is that the relevant info seems to be in <code>row[6]</code>, so that the command should use <code>json.loads(row[6])</code>. I do get the first author ID, but then the script stops working. You&#39;ve been of great help, so feel free to stop helping, it&#39;s just much complexer than I thought."}, {"owner": {"reputation": 2226, "user_id": 5363824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKv5N.png?s=128&g=1", "display_name": "rd_nielsen", "link": "https://stackoverflow.com/users/5363824/rd-nielsen"}, "reply_to_user": {"reputation": 75, "user_id": 7188542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbbfe9fe7d67e7956cc6a594f889be7?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Bailey", "link": "https://stackoverflow.com/users/7188542/tom-bailey"}, "edited": false, "score": 1, "creation_date": 1506612628, "post_id": 46471223, "comment_id": 79900981, "body": "You could modify the SELECT statement to get only the column you need (i.e., the 7th) instead of <code>*</code>, which might be a little faster and use a little less memory.  Instead of <code>for row in c:</code> you could do <code>rows = curs.fetchall()</code> followed by <code>for row in rows:</code> -- this would allow you to inspect the data returned.  You might also need to specify an encoding with the <code>json.loads()</code> command."}], "tags": [], "owner": {"reputation": 2226, "user_id": 5363824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKv5N.png?s=128&g=1", "display_name": "rd_nielsen", "link": "https://stackoverflow.com/users/5363824/rd-nielsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1506607660, "creation_date": 1506607660, "answer_id": 46471223, "question_id": 46457183, "link": "https://stackoverflow.com/questions/46457183/getting-information-from-sql-table-with-python/46471223#46471223", "title": "Getting information from SQL table with Python", "body": "<p>Using the <code>json.loads()</code> function will convert the input JSON string to a Python object consisting of a hierarchical set of dictionaries and lists.  You then need to extract the information from that using standard Python operators.  Following is an example, though I'm not sure that the example pulls the correct document ID.  This is also untested, so you may need to tweak or correct it.  Also, your example input has unbalanced curly braces, so the interpretation of the structure used below may not be quite right.</p>\n\n<pre><code>import sqlite3\nimport json\n\nconn = sqlite3.connect('C:/responses.db')       \nc = conn.cursor()\n\n# Initialize the output list.\nsubjectlist = []\n\n# Get the data from SQLite.\nc.execute(\"select * from responses;\")\n\n# Iterate over all the rows of data\nfor row in c:\n    # Extract and save the subject information.\n    article = json.loads(row[0])\n    doc_id = article[\"abstracts-retrieval-response\"][\"coredata\"][\"dc:identifier\"]\n    subjects = [s[\"$\"] for s in article[\"abstracts-retrieval-response\"][\"coredata\"][\"subject-areas\"][\"subject-area\"]]\n    for s in subjects:\n        subjectlist.append([doc_id, s])\n</code></pre>\n\n<p>At the conclusion of this code, <code>subjectlist</code> will be a list of two-element lists, each of the latter consisting of the document ID and a subject area.  You can then use the <code>csv</code> library to export this, or maybe push it back into the database as a new table to make further querying easier.</p>\n"}], "owner": {"reputation": 75, "user_id": 7188542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdbbfe9fe7d67e7956cc6a594f889be7?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Bailey", "link": "https://stackoverflow.com/users/7188542/tom-bailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 46471223, "answer_count": 1, "score": 0, "last_activity_date": 1506607660, "creation_date": 1506546191, "question_id": 46457183, "link": "https://stackoverflow.com/questions/46457183/getting-information-from-sql-table-with-python", "title": "Getting information from SQL table with Python", "body": "<p>I have a 20gb database file (*.db) that contains a lot of information on scientific articles, acquired from Scopus. Most information is stored in the responses table within the database file. I only want to obtain the subject areas from each published article. I have no idea how to get this from the database file. </p>\n\n<p>In each row in the database file a lot of information is stored on the author, the article, and also the subject area. A snippet looks like this:</p>\n\n<pre><code>{\"abstracts-retrieval-response\":{\"coredata\":{\"prism:url\":\"http://api.elsevier.com/content/abstract/scopus_id/85012897283\",\"dc:identifier\":\"SCOPUS_ID:85012897283\",\"eid\":\"2-s2.0-85012897283\",\"language\":{\"@xml:lang\": \"eng\"},\"authkeywords\":{\"author-keyword\": [{\"@_fa\": \"true\", \"$\" :\"austerity policies\"},{\"@_fa\": \"true\", \"$\" :\"housing policy\"},{\"@_fa\": \"true\", \"$\" :\"Italy\"},{\"@_fa\": \"true\", \"$\" :\"Mediterranean welfare regime\"},{\"@_fa\": \"true\", \"$\" :\"Neoliberalism\"},{\"@_fa\": \"true\", \"$\" :\"Spain\"}]},\"idxterms\":null,\"subject-areas\":{\"subject-area\": [{\"@_fa\": \"true\", \"@abbrev\": \"SOCI\", \"@code\": \"3303\", \"$\" :\"Development\"},{\"@_fa\": \"true\", \"@abbrev\": \"SOCI\", \"@code\": \"3322\", \"$\" :\"Urban Studies\"},{\"@_fa\": \"true\", \"@abbrev\": \"ENVI\", \"@code\": \"2308\", \"$\" :\"Management, Monitoring, Policy and Law\"}]}}\n</code></pre>\n\n<p>From this large (but in reality even much larger) table, I am only interested in getting the <code>dc-identifier</code> and the (multiple) subject-areas. Ideally I would get them in a *.csv file.</p>\n\n<p>Is there a straightforward way to obtain this information from the *.db file using Python? Using <strong>sqlite3</strong> I seem to be able to get acces to the database using the following code:</p>\n\n<pre><code>import sqlite3\nconn = sqlite3.connect('C:/responses.db')       \nc = conn.cursor()\n</code></pre>\n\n<p>To me it's not clear how I can now only get the dc-identifier and subject-areas information from the database file.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1506547376, "post_id": 46457179, "comment_id": 79870455, "body": "Do you have a python file called <code>werkzeug.py</code> in the current directory?"}, {"owner": {"reputation": 5131, "user_id": 7919597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/905688a3a3921c2f03f4914e943e1915?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7919597/joe"}, "edited": false, "score": 0, "creation_date": 1506577067, "post_id": 46457179, "comment_id": 79878056, "body": "Can you try if just the line <code>from werkzeug import cached_property</code> works?"}, {"owner": {"reputation": 157, "user_id": 8685761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463763063699570/picture?type=large", "display_name": "Steve Burr", "link": "https://stackoverflow.com/users/8685761/steve-burr"}, "edited": false, "score": 0, "creation_date": 1506591523, "post_id": 46457179, "comment_id": 79886552, "body": "I have the werkzeug folder in site-packages"}, {"owner": {"reputation": 157, "user_id": 8685761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463763063699570/picture?type=large", "display_name": "Steve Burr", "link": "https://stackoverflow.com/users/8685761/steve-burr"}, "edited": false, "score": 0, "creation_date": 1506591579, "post_id": 46457179, "comment_id": 79886601, "body": "Joe, I&#39;m not sure how to do that."}, {"owner": {"reputation": 157, "user_id": 8685761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463763063699570/picture?type=large", "display_name": "Steve Burr", "link": "https://stackoverflow.com/users/8685761/steve-burr"}, "edited": false, "score": 0, "creation_date": 1506615894, "post_id": 46457179, "comment_id": 79902934, "body": "Traceback (most recent call last):   File &quot;C:/Users/Steve/AppData/Local/Programs/Python/Python36-32/CB&zwnj;&#8203;Slogin.py&quot;, line 2, in &lt;module&gt;     from werkzeug import cached_property ImportError: cannot import name &#39;cached_property&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 13168, "user_id": 4725756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff02ffd62899a70a608571ec03d5a7b?s=128&d=identicon&r=PG&f=1", "display_name": "hspandher", "link": "https://stackoverflow.com/users/4725756/hspandher"}, "is_accepted": false, "score": -2, "last_activity_date": 1506591985, "creation_date": 1506591985, "answer_id": 46466008, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/46466008#46466008", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>Try reinstalling the <code>werkzeug</code> package.</p>\n\n<pre><code>pip uninstall Werkzeug\npip install Werkzeug\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12867200, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAHy8.png?s=128&g=1", "display_name": "Bobby McGrath", "link": "https://stackoverflow.com/users/12867200/bobby-mcgrath"}, "is_accepted": false, "score": 3, "last_activity_date": 1581263847, "last_edit_date": 1581263847, "creation_date": 1581251211, "answer_id": 60136605, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/60136605#60136605", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>A bit of a late response, but I may have found a solution.</p>\n\n<p>You need to rename from werkzeug import cached property to the following:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from werkzeug.utils import cached_property\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 690, "user_id": 2300120, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/00646c6fcff5ae605c658e3d679d6a53?s=128&d=identicon&r=PG", "display_name": "aoh", "link": "https://stackoverflow.com/users/2300120/aoh"}, "edited": false, "score": 7, "creation_date": 1581377457, "post_id": 60157748, "comment_id": 106405266, "body": "Inserting this before <code>import robobrowser</code> solved the problem for me"}, {"owner": {"reputation": 313, "user_id": 3937131, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/92bc00d898d918cbfd7a31ae9471bb4c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahsa Seifikar", "link": "https://stackoverflow.com/users/3937131/mahsa-seifikar"}, "edited": false, "score": 1, "creation_date": 1589190527, "post_id": 60157748, "comment_id": 109184302, "body": "you save my day!"}], "tags": [], "owner": {"reputation": 331, "user_id": 9415686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef66b009f84f27e651641a09ad9dd58?s=128&d=identicon&r=PG&f=1", "display_name": "Lucioric2000", "link": "https://stackoverflow.com/users/9415686/lucioric2000"}, "is_accepted": false, "score": 23, "last_activity_date": 1581365748, "creation_date": 1581365748, "answer_id": 60157748, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/60157748#60157748", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>I got the werkzeug app running in Python 3.6 by inserting those lines before the Flask importing:</p>\n\n<pre><code>import werkzeug\nwerkzeug.cached_property = werkzeug.utils.cached_property\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19510, "user_id": 13140, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f0720ad6a8c5589e573d15e9a75438d4?s=128&d=identicon&r=PG", "display_name": "Ogre Psalm33", "link": "https://stackoverflow.com/users/13140/ogre-psalm33"}, "edited": false, "score": 0, "creation_date": 1581514467, "post_id": 60165003, "comment_id": 106459510, "body": "Also an issue with flask-testing.  Same recommendation. <a href=\"https://github.com/jarus/flask-testing/issues/143\" rel=\"nofollow noreferrer\">github.com/jarus/flask-testing/issues/143</a>"}, {"owner": {"reputation": 7271, "user_id": 604048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3a3794db73b04bdb0e768f2f64c63369?s=128&d=identicon&r=PG", "display_name": "Andr&#233; C. Andersen", "link": "https://stackoverflow.com/users/604048/andr%c3%a9-c-andersen"}, "edited": false, "score": 2, "creation_date": 1583681590, "post_id": 60165003, "comment_id": 107191127, "body": "From what I understand restplus is now defunct and Flask RESTX is taking its place as a direct fork. <a href=\"https://flask-restx.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">flask-restx.readthedocs.io/en/latest</a>"}, {"owner": {"reputation": 435, "user_id": 1590930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946bd3f1654342077ef798550ab0b14?s=128&d=identicon&r=PG", "display_name": "Hans Goldman", "link": "https://stackoverflow.com/users/1590930/hans-goldman"}, "reply_to_user": {"reputation": 7271, "user_id": 604048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3a3794db73b04bdb0e768f2f64c63369?s=128&d=identicon&r=PG", "display_name": "Andr&#233; C. Andersen", "link": "https://stackoverflow.com/users/604048/andr%c3%a9-c-andersen"}, "edited": false, "score": 0, "creation_date": 1591308083, "post_id": 60165003, "comment_id": 110015329, "body": "@Andr&#233;C.Andersen: I&#39;m new to restplus and this might be the case like you stated, but RESTX seems to have the same conflict with wekzeug. Lucioric2000&#39;s answer should work in either restplus or RESTX."}, {"owner": {"reputation": 7271, "user_id": 604048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3a3794db73b04bdb0e768f2f64c63369?s=128&d=identicon&r=PG", "display_name": "Andr&#233; C. Andersen", "link": "https://stackoverflow.com/users/604048/andr%c3%a9-c-andersen"}, "reply_to_user": {"reputation": 435, "user_id": 1590930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1946bd3f1654342077ef798550ab0b14?s=128&d=identicon&r=PG", "display_name": "Hans Goldman", "link": "https://stackoverflow.com/users/1590930/hans-goldman"}, "edited": false, "score": 0, "creation_date": 1591388217, "post_id": 60165003, "comment_id": 110048008, "body": "@HansGoldman I haven&#39;t checked, but my impression was that it was worked around in flask-restx 0.1.1, no? In anycase we migrated to restx a few months ago. And this isn&#39;t an issue any more. Will probably just replace the whole thing with fastapi anyway."}], "tags": [], "owner": {"reputation": 6767, "user_id": 115237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/570a47e65703a42a23d0d5348fdee48b?s=128&d=identicon&r=PG", "display_name": "Noel Evans", "link": "https://stackoverflow.com/users/115237/noel-evans"}, "is_accepted": false, "score": 9, "last_activity_date": 1581411245, "creation_date": 1581411245, "answer_id": 60165003, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/60165003#60165003", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>If you are seeing this while using Flask Rest-Plus, there is an issue raised with the development team</p>\n\n<p><a href=\"https://github.com/noirbizarre/flask-restplus/issues/777\" rel=\"noreferrer\">https://github.com/noirbizarre/flask-restplus/issues/777</a></p>\n\n<p>As observed:</p>\n\n<p>\"Downgrading to Werkzeug to 0.16.0 (temporarily) resolved the issue.\"</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 10242068, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cf7sBqhvjS8/AAAAAAAAAAI/AAAAAAAAOnM/FLzRsBUrPcI/photo.jpg?sz=128", "display_name": "octogenex", "link": "https://stackoverflow.com/users/10242068/octogenex"}, "is_accepted": false, "score": 1, "last_activity_date": 1582281937, "creation_date": 1582281937, "answer_id": 60336968, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/60336968#60336968", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<ol>\n<li>Uninstall the werkzeug package by running - <strong>pip uninstall werkzeug</strong></li>\n<li>Reinstall the werkzeug package by running - <strong>pip install werkzeug</strong></li>\n<li>Add\n<strong>import werkzeug\nwerkzeug.cached_property = werkzeug.utils.cached_property</strong> this to your code.</li>\n</ol>\n\n<p>I hope its gonna work, cause it just worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5645768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--ZBkDprO6t4/AAAAAAAAAAI/AAAAAAAAB2c/Df0-Io_kioU/photo.jpg?sz=128", "display_name": "Sunil Rana", "link": "https://stackoverflow.com/users/5645768/sunil-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1614114019, "last_edit_date": 1614114019, "creation_date": 1596872864, "answer_id": 63312997, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property/63312997#63312997", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>I got the same issue.\nMy python version is <code>3.7.3</code> and was using <code>Werkzeug</code> version <code>1.0.1</code></p>\n<p>I downgraded the <code>Werkzeug</code> version to <code>0.16.0</code> and it worked</p>\n<pre><code>pip install --upgrade Werkzeug==0.16.0\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 8685761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463763063699570/picture?type=large", "display_name": "Steve Burr", "link": "https://stackoverflow.com/users/8685761/steve-burr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15532, "favorite_count": 0, "answer_count": 6, "score": 13, "last_activity_date": 1614114019, "creation_date": 1506546179, "last_edit_date": 1506591422, "question_id": 46457179, "link": "https://stackoverflow.com/questions/46457179/python3-cannot-import-name-cached-property", "title": "Python3 &#39;Cannot import name &#39;cached_property&#39;", "body": "<p>I cannot get this to work. I keep adding modules and there's a new one not found each time. Why doesn't this code work in Python3.6?</p>\n\n<p>Code:</p>\n\n<pre><code>from robobrowser import robobrowser\nfrom bs4 import BeautifulSoup\nimport urllib2 \nimport cookielib\nfrom werkzeug import werkzeug\nfrom cached_property import cached_property\n\ncj = cookielib.CookieJar()\nbr = robobrowser.Browser()\nbr.set_cookiejar(cj)\nbr.open(\"https://www.cbssports.com/login\")\n\nbr.select_form(nr=0)\nbr.form['userid'] = 'steveb1164'\nbr.form['password'] = ''\nbr.submit()\n\nprint(br.response().read())\n</code></pre>\n\n<p>Run:</p>\n\n<pre><code>RESTART: C:/Users/Steve/AppData/Local/Programs/Python/Python36-32/CBSlogin.py \nTraceback (most recent call last):\n  File \"C:/Users/Steve/AppData/Local/Programs/Python/Python36-32/CBSlogin.py\", line 1, in &lt;module&gt;\n    from robobrowser import robobrowser\n  File \"C:\\Users\\Steve\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\robobrowser\\robobrowser\\__init__.py\", line 3, in &lt;module&gt;\n    from .browser import RoboBrowser\n  File \"C:\\Users\\Steve\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\robobrowser\\robobrowser\\browser.py\", line 8, in &lt;module&gt;\n    from werkzeug import cached_property\nImportError: cannot import name 'cached_property'\n</code></pre>\n"}, {"tags": ["python", "arrays", "algorithm", "sorting"], "comments": [{"owner": {"reputation": 813, "user_id": 1379817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234eefb5c34937c96ad5ce656399631d?s=128&d=identicon&r=PG", "display_name": "biqarboy", "link": "https://stackoverflow.com/users/1379817/biqarboy"}, "edited": false, "score": 0, "creation_date": 1612670841, "post_id": 46457147, "comment_id": 116837771, "body": "Please either attach the problem statement or add the problem link with this type of post."}], "answers": [{"tags": [], "owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "is_accepted": false, "score": 0, "last_activity_date": 1506546261, "creation_date": 1506546261, "answer_id": 46457203, "question_id": 46457147, "link": "https://stackoverflow.com/questions/46457147/from-leetcode-given-an-array-of-integers-return-indices-of-the-two-numbers-such/46457203#46457203", "title": "From LeetCode Given an array of integers, return indices of the two numbers such that they add up to a specific target", "body": "<p>may be you try it:</p>\n\n<pre><code>if self.nums[i] + self.nums[j] == target:\n#  ^^^^^          ^^^^^\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6050, "user_id": 1030410, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e13caf6116a45714153bd145754fd292?s=128&d=identicon&r=PG", "display_name": "Daniel Trugman", "link": "https://stackoverflow.com/users/1030410/daniel-trugman"}, "is_accepted": false, "score": 0, "last_activity_date": 1506549005, "creation_date": 1506549005, "answer_id": 46457765, "question_id": 46457147, "link": "https://stackoverflow.com/questions/46457147/from-leetcode-given-an-array-of-integers-return-indices-of-the-two-numbers-such/46457765#46457765", "title": "From LeetCode Given an array of integers, return indices of the two numbers such that they add up to a specific target", "body": "<p>Let's examine your code:</p>\n\n<p><strong>First scenario (No combination matches target)</strong></p>\n\n<p>The method returns a value which is not yet defined:</p>\n\n<pre><code>return a[i, j]\n</code></pre>\n\n<p>But <code>a</code> was never defined!</p>\n\n<p><strong>Second scenario (Combination matches target)</strong></p>\n\n<p>The method returns a value which was initialized:</p>\n\n<pre><code>a = []\n</code></pre>\n\n<p>But, we never set the value at index <code>[i, j]</code>, so this still won't work:</p>\n\n<pre><code>return a[i, j]\n</code></pre>\n\n<p><strong>Solution</strong></p>\n\n<p>When you find a combination that equals the target, return their indices:</p>\n\n<pre><code>class Solution(object):\n    def twoSum(self, nums, target):\n        \"\"\"\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n        \"\"\"\n        self.nums = []\n        self.target = int\n\n        for i in range(len(nums)):\n            for j in range(i + 1, len(nums)):\n                if nums[i] + nums[j] == target:\n                    return i, j\n\nif __name__ == \"__main__\":\n    a = Solution()\n    print a.twoSum([1,2,3,4,5], 5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 728093, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c591f94eb1552467b9e37c9b8f7a3e9f?s=128&d=identicon&r=PG", "display_name": "Prasath", "link": "https://stackoverflow.com/users/728093/prasath"}, "is_accepted": false, "score": 0, "last_activity_date": 1539625936, "last_edit_date": 1539625936, "creation_date": 1539204925, "answer_id": 52748649, "question_id": 46457147, "link": "https://stackoverflow.com/questions/46457147/from-leetcode-given-an-array-of-integers-return-indices-of-the-two-numbers-such/52748649#52748649", "title": "From LeetCode Given an array of integers, return indices of the two numbers such that they add up to a specific target", "body": "<p>See if this helps... return all possible indices:</p>\n\n<pre><code>def getIndices(tlist, target):\n    return [(tlist.index(i), tlist.index(j)) for x,i in enumerate(tlist) for j in tlist[x:] if i!=j and i+j==target]\n</code></pre>\n\n<p>How to call:</p>\n\n<pre><code>getIndices(&lt;your-list&gt;, &lt;your-target&gt;)\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>getIndices([1,2,3,4,5,6,7,8], 10) =&gt; [(1, 7), (2, 6), (3, 5)]\ngetIndices([1,2,3,4,5,6,7,8], 100) =&gt; []\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 9949283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cq4K9.jpg?s=128&g=1", "display_name": "Omkar", "link": "https://stackoverflow.com/users/9949283/omkar"}, "is_accepted": false, "score": 3, "last_activity_date": 1547413515, "last_edit_date": 1547413515, "creation_date": 1547409219, "answer_id": 54172630, "question_id": 46457147, "link": "https://stackoverflow.com/questions/46457147/from-leetcode-given-an-array-of-integers-return-indices-of-the-two-numbers-such/54172630#54172630", "title": "From LeetCode Given an array of integers, return indices of the two numbers such that they add up to a specific target", "body": "<p>I believe this would work:</p>\n\n<pre><code>class Solution:\ndef twoSum(self, nums, target):\n    \"\"\"\n    :type nums: List[int]\n    :type target: int\n    :rtype: List[int]\n    \"\"\"\n    n = len(nums)\n    for i in range(n):\n        for j in  range(i+1, n):\n            if nums[i] + nums[j] == target:\n                return [i,j]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8685768, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23b1de97d67e724a9005208ea9bb00ce?s=128&d=identicon&r=PG&f=1", "display_name": "aiduaq", "link": "https://stackoverflow.com/users/8685768/aiduaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1236, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1547413515, "creation_date": 1506546023, "last_edit_date": 1506546295, "question_id": 46457147, "link": "https://stackoverflow.com/questions/46457147/from-leetcode-given-an-array-of-integers-return-indices-of-the-two-numbers-such", "title": "From LeetCode Given an array of integers, return indices of the two numbers such that they add up to a specific target", "body": "<p>This is an exercise on LeetCode. I get an except of </p>\n\n<blockquote>\n  <p>UnboundLocalError on line 15.</p>\n</blockquote>\n\n<p>Why? And how to fix it?</p>\n\n<pre>\nclass Solution(object):\n    def twoSum(self, nums, target):\n        \"\"\"\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n        \"\"\"\n        self.nums = []\n        self.target = int\n\n        for i in range(len(nums)):\n            for j in range(i + 1, len(nums)):\n                if nums[i] + nums[j] == target:\n                    a = []\n                return a[i, j]\n</pre>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "web-crawler", "range"], "answers": [{"tags": [], "owner": {"reputation": 1202, "user_id": 4047084, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-OTViRK_YA_U/AAAAAAAAAAI/AAAAAAAAFgI/WyZXUA4tFsg/photo.jpg?sz=128", "display_name": "Stuart Buckingham", "link": "https://stackoverflow.com/users/4047084/stuart-buckingham"}, "is_accepted": false, "score": 0, "last_activity_date": 1506553462, "creation_date": 1506553462, "answer_id": 46458500, "question_id": 46457120, "link": "https://stackoverflow.com/questions/46457120/how-to-specify-a-range-without-limiting-to-numbers/46458500#46458500", "title": "How to specify a range without limiting to numbers", "body": "<p>Yelp has a very well documented API here: <a href=\"https://www.yelp.com/developers/documentation/v3\" rel=\"nofollow noreferrer\">https://www.yelp.com/developers/documentation/v3</a></p>\n\n<p>This is the only reliable way of interacting with the site programatically.</p>\n"}], "owner": {"reputation": 1, "user_id": 8637625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae779993ffd62875c7809a1ec8adb3f8?s=128&d=identicon&r=PG&f=1", "display_name": "yoyo", "link": "https://stackoverflow.com/users/8637625/yoyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506553462, "creation_date": 1506545914, "question_id": 46457120, "link": "https://stackoverflow.com/questions/46457120/how-to-specify-a-range-without-limiting-to-numbers", "title": "How to specify a range without limiting to numbers", "body": "<p>This is the code that gets the restaurant reviews. I am collecting reviews. </p>\n\n<p>The range is specified and imported. But there is a problem. Each store has a different number of reviews. Store with little reviews should go to next store soon. </p>\n\n<p>I am suffering from too large a scope. But it can not reduce the scope. This is because some shops have reviews in this range.</p>\n\n<p>How can I work effectively?</p>\n\n<p>I saw find all?(element) searching this code. But I do not know if I've mistakenly applied my code.</p>\n\n<pre><code>#python3\nimport sys\nfrom bs4 import BeautifulSoup\nimport urllib.request\nimport requests\nfrom urllib.parse import quote\nimport time\nimport os\nimport xlwt\nimport random\n\nimport re\n\nFISRT_URL = \"https://www.yelp.com/search?\nfind_desc=Korean+Food&amp;find_loc=Seattle,+WA&amp;start=\"\nLAST_URL = \"&amp;cflt=korean\"\ndef get_link(URL, doc_name):\n    global jisu_i\n    global num\n    global page\n    for jisu_i in range(1):\n        current_page_num = 20 + jisu_i*10\n        position = URL.index('t=')\n        URL_with_page_num = URL[: position+2] + str(current_page_num) \\\n                            + URL[position+2 :]\n    print(URL_with_page_num) \n    importurl = URL_with_page_num\n    r = requests.get(importurl)\n    soup = BeautifulSoup(r.content.decode('euc-kr','replace'), \"lxml\")\n    time.sleep(random.randint(10, 15))\n\n    for title in soup.find_all('h3')[page+2:21]:\n\n        page = page + 1\n        title_link = title.select('a')\n        for jisu_m in range(130):\n            print(page)\n            last_URL = title_link[0]['href']\n            print(last_URL)\n\n            first_URL = \"https://www.yelp.com\"\n            global article_URL\n            article_URL = first_URL + last_URL\n            time.sleep(random.randint(15, 30))\n\n\n\n            jisuurl = article_URL\n            for k in range(99):  #\n                jisu_page_num = 0 + k * 20  #\n                position = jisuurl.index('?')  \n                URL_with_page_num = jisuurl[: position + 1] + str(\"start=\") + str(jisu_page_num)\n\n                jisu_with_page_num = URL_with_page_num\n                print(jisu_with_page_num)\n\n                jisu_importurl = jisu_with_page_num\n                get_text(URL, jisu_importurl, doc_name)\n                time.sleep(random.randint(40,180))\n</code></pre>\n"}, {"tags": ["python", "google-drive-api"], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 3128246, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6199072326f906c2f501f7aa2f81b93f?s=128&d=identicon&r=PG", "display_name": "Rodrigo Rodrigues", "link": "https://stackoverflow.com/users/3128246/rodrigo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1506605172, "post_id": 46467335, "comment_id": 79895706, "body": "&quot;Step 3: Google prompts user for consent&quot; this tutorial is not for me, because there is end user interation"}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "reply_to_user": {"reputation": 579, "user_id": 3128246, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6199072326f906c2f501f7aa2f81b93f?s=128&d=identicon&r=PG", "display_name": "Rodrigo Rodrigues", "link": "https://stackoverflow.com/users/3128246/rodrigo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1506611320, "post_id": 46467335, "comment_id": 79900061, "body": "if you want server to server it&#39;s also there: <a href=\"https://developers.google.com/api-client-library/php/auth/service-accounts\" rel=\"nofollow noreferrer\">developers.google.com/api-client-library/php/auth/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "is_accepted": false, "score": 0, "last_activity_date": 1506595901, "creation_date": 1506595901, "answer_id": 46467335, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication/46467335#46467335", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>Checkout the Using <a href=\"https://developers.google.com/api-client-library/php/auth/web-app\" rel=\"nofollow noreferrer\">OAuth 2.0 for Web Server Applications</a>. It seems that's what you're looking for.</p>\n\n<blockquote>\n  <p>Any application that uses OAuth 2.0 to access Google APIs must have\n  authorization credentials that identify the application to Google's\n  OAuth 2.0 server. The following steps explain how to create\n  credentials for your project. Your applications can then use the\n  credentials to access APIs that you have enabled for that project.</p>\n  \n  <p>Open the Credentials page in the API Console. Click Create credentials\n   OAuth client ID. Complete the form. Set the application type to Web application. Applications that use languages and frameworks like PHP,\n  Java, Python, Ruby, and .NET must specify authorized redirect URIs.\n  The redirect URIs are the endpoints to which the OAuth 2.0 server can\n  send responses. For testing, you can specify URIs that refer to the\n  local machine, such as <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a>.</p>\n  \n  <p>We recommend that you design your app's auth endpoints so that your\n  application does not expose authorization codes to other resources on\n  the page.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 10683, "user_id": 548736, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b8dd05d24915683a0bc0c5b995619377?s=128&d=identicon&r=PG", "display_name": "andyhasit", "link": "https://stackoverflow.com/users/548736/andyhasit"}, "is_accepted": false, "score": 12, "last_activity_date": 1511843942, "creation_date": 1511843942, "answer_id": 47524127, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication/47524127#47524127", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>You can do this, but need to use a <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount\" rel=\"noreferrer\">Service Account</a>, which is (or rather can be used as) an account for an application, and doesn't require a browser to open.</p>\n\n<p>The documentation is here: <a href=\"https://developers.google.com/api-client-library/python/auth/service-accounts\" rel=\"noreferrer\">https://developers.google.com/api-client-library/python/auth/service-accounts</a></p>\n\n<p>And an example (without PyDrive, which is just a wrapper around all this, but makes service account a bit trickier):</p>\n\n<pre><code>from apiclient.discovery import build\nfrom oauth2client.service_account import ServiceAccountCredentials\nfrom httplib2 import Http\n\nscopes = ['https://www.googleapis.com/auth/drive.readonly']\n\ncredentials = ServiceAccountCredentials.from_json_keyfile_name('YourDownloadedFile-5ahjaosi2df2d.json', scopes)\n\nhttp_auth = credentials.authorize(Http())\ndrive = build('drive', 'v3', http=http_auth)\n\nrequest = drive.files().list().execute()\nfiles = request.get('items', [])\nfor f in files:\n    print(f)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5773576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Crw0V.jpg?s=128&g=1", "display_name": "iBUYPOWER", "link": "https://stackoverflow.com/users/5773576/ibuypower"}, "is_accepted": false, "score": 1, "last_activity_date": 1590791443, "creation_date": 1590791443, "answer_id": 62095498, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication/62095498#62095498", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>I know it's quite late for answer but this worked for me:</p>\n\n<p>Use the same API you were using, this time in your computer, it will generate a <code>Storage.json</code> which  using it along with your scripts will solve the issue (specially in read-ony platforms like heroku)</p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 4637738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5091edd6ad7713a9cbd5c1c939804e40?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4637738/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1600008856, "creation_date": 1600008856, "answer_id": 63872150, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication/63872150#63872150", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>To add to andyhasit's answer, using a service account is the correct and easiest way to do this.</p>\n<p>The problem with using the JSON key file is it becomes hard to deploy code anywhere else, because you don't want the file in version control. An easier solution is to use an environment variable like so:</p>\n<p><a href=\"https://benjames.io/2020/09/13/authorise-your-python-google-drive-api-the-easy-way/\" rel=\"nofollow noreferrer\">https://benjames.io/2020/09/13/authorise-your-python-google-drive-api-the-easy-way/</a></p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 10590072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cace1acb36099a6110b8178b523eb2d2?s=128&d=identicon&r=PG&f=1", "display_name": "Shahab Uddin", "link": "https://stackoverflow.com/users/10590072/shahab-uddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1613561992, "creation_date": 1613561992, "answer_id": 66241244, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication/66241244#66241244", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>Might be a bit late but I've been working with gdrive over python, js and .net and here's one proposed solution (REST API) once you get the authorization code on authorization code\n<a href=\"https://stackoverflow.com/questions/66135901/how-to-refresh-token-in-net-google-api-v3\">How to refresh token in .net google api v3?</a></p>\n<p>Please let me know if you have any questions</p>\n"}], "owner": {"reputation": 579, "user_id": 3128246, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6199072326f906c2f501f7aa2f81b93f?s=128&d=identicon&r=PG", "display_name": "Rodrigo Rodrigues", "link": "https://stackoverflow.com/users/3128246/rodrigo-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4955, "favorite_count": 3, "answer_count": 5, "score": 14, "last_activity_date": 1613561992, "creation_date": 1506545785, "question_id": 46457093, "link": "https://stackoverflow.com/questions/46457093/google-drive-api-with-python-from-serverbackend-without-browser-autentication", "title": "Google Drive API with Python from server(Backend) without browser autentication", "body": "<p>I'd like to save the files of my Saas Appication to my Google Drive Account, all the examples I've seen was with oauth2 autentication and needs the end user autenticate openning the browser, I need to upload files from my server without any user interation, sending files direct to my account!</p>\n\n<p>I have try many tutorials I found on internet with no success, mainly the oficial </p>\n\n<p><a href=\"https://developers.google.com/drive/v3/web/quickstart/python\" rel=\"noreferrer\">Google Drive API with Python</a></p>\n\n<p>How can I autenticate programatically from my server and upload files and use API features such as share folders and others? </p>\n\n<p>I'm using Python, the lib <a href=\"https://pypi.python.org/pypi/PyDrive\" rel=\"noreferrer\">PyDrive</a> uses the same aproach to autenticate</p>\n"}, {"tags": ["python", "forms", "get", "urllib2", "urllib"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1506549645, "post_id": 46457030, "comment_id": 79871293, "body": "Use the browser&#39;s debugger and see what is actually send."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8662195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f73fc3c6324f7038c2bd140b18e5f8?s=128&d=identicon&r=PG", "display_name": "Om Joshi", "link": "https://stackoverflow.com/users/8662195/om-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1506552727, "creation_date": 1506552727, "answer_id": 46458390, "question_id": 46457030, "link": "https://stackoverflow.com/questions/46457030/is-there-any-difference-for-logging-into-a-form-where-method-get-and-no-name-is/46458390#46458390", "title": "Is there any difference for logging into a form where method=get and no name is set", "body": "<p>AFAIK, the <code>name</code> attribute is what matters for a HTML form.</p>\n"}], "owner": {"reputation": 165, "user_id": 4064791, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c8a230b9ce5913d1d6d56cce285857d?s=128&d=identicon&r=PG&f=1", "display_name": "Bennett Yardley", "link": "https://stackoverflow.com/users/4064791/bennett-yardley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506552727, "creation_date": 1506545534, "last_edit_date": 1506546451, "question_id": 46457030, "link": "https://stackoverflow.com/questions/46457030/is-there-any-difference-for-logging-into-a-form-where-method-get-and-no-name-is", "title": "Is there any difference for logging into a form where method=get and no name is set", "body": "<p>I am trying to log into a form using either urllib2 or requests. When I look at any  <a href=\"https://stackoverflow.com/questions/11685235/login-using-python-in-basic-html-form\">other examples</a> they always have two key differences. The first is that their form always has </p>\n\n<p><code>&lt;form method=\"POST\"&gt;</code></p>\n\n<p>while the form I am trying to log into has no method set (<a href=\"https://www.w3.org/TR/html401/interact/forms.html#h-17.3\" rel=\"nofollow noreferrer\">and therefore defaults to method=\"GET\"</a>)</p>\n\n<p>The second difference is that my form does not have any name attributes inside the input elements, only id attributes.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/18949516/python-3-login-form-on-webpage-with-urllib-and-cookiejar\" title=\"post\">this post</a> where a user said that urllib only sends name attributes.</p>\n\n<p>Since none of the examples work, how would I go about logging into a form like this?</p>\n\n<p>--Edit--</p>\n\n<p>Upon <a href=\"https://stackoverflow.com/questions/837195/form-submission-in-python-without-name-attribute?rq=1\">further research</a> it seems that my form is most likely handled by java script not html. Are there any alternatives to selenium (which is painfully slow) that can login to this type of form form.</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 674, "user_id": 7021322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hYouHvyzvZw/AAAAAAAAAAI/AAAAAAAAAGQ/TShr9cjj3V8/photo.jpg?sz=128", "display_name": "Ryan Jay", "link": "https://stackoverflow.com/users/7021322/ryan-jay"}, "edited": false, "score": 0, "creation_date": 1506572483, "post_id": 46456975, "comment_id": 79876738, "body": "Yes it is. Fully-Convolutional networks typically output a multidimensional vector for example."}, {"owner": {"reputation": 245, "user_id": 251363, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b11bd4aaeac790c69d063af45f0c75a?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/251363/daniel"}, "reply_to_user": {"reputation": 674, "user_id": 7021322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hYouHvyzvZw/AAAAAAAAAAI/AAAAAAAAAGQ/TShr9cjj3V8/photo.jpg?sz=128", "display_name": "Ryan Jay", "link": "https://stackoverflow.com/users/7021322/ryan-jay"}, "edited": false, "score": 0, "creation_date": 1506601994, "post_id": 46456975, "comment_id": 79893321, "body": "How? input_fn explicitly requires y to be one-deminsional, it raises an exception otherwise."}, {"owner": {"reputation": 674, "user_id": 7021322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hYouHvyzvZw/AAAAAAAAAAI/AAAAAAAAAGQ/TShr9cjj3V8/photo.jpg?sz=128", "display_name": "Ryan Jay", "link": "https://stackoverflow.com/users/7021322/ryan-jay"}, "edited": false, "score": 0, "creation_date": 1506658148, "post_id": 46456975, "comment_id": 79917927, "body": "Don&#39;t use pandas or use a different class. Here&#39;s a guide for tensorflow <a href=\"https://www.tensorflow.org/tutorials/layers\" rel=\"nofollow noreferrer\">tensorflow.org/tutorials/layers</a>"}], "owner": {"reputation": 245, "user_id": 251363, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7b11bd4aaeac790c69d063af45f0c75a?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/251363/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506545282, "creation_date": 1506545282, "question_id": 46456975, "link": "https://stackoverflow.com/questions/46456975/multidimensional-output-in-tensorflow", "title": "Multidimensional output in TensorFlow", "body": "<p>Is it possible to train a neural network that has a vector output?\nDocs for <code>pandas_input_fn</code> state that</p>\n\n<pre><code>x: pandas DataFrame object.\ny: pandas Series object. None if absent.\n</code></pre>\n\n<p>So <code>y</code> is only one-dimensional. How can I make <code>y</code> a vector?\nIn scikit-learn, for example, <code>sklearn.neural_network.MLPClassifier.fit</code> accepts multidimensional <code>y</code>.</p>\n"}, {"tags": ["python", "string", "algorithm"], "comments": [{"owner": {"reputation": 4154, "user_id": 3844480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ho59A.jpg?s=128&g=1", "display_name": "ilim", "link": "https://stackoverflow.com/users/3844480/ilim"}, "edited": false, "score": 3, "creation_date": 1506545322, "post_id": 46456943, "comment_id": 79869626, "body": "What is the problem with your <i>approach</i>? What have you tried so far to solve the issue you are facing?"}, {"owner": {"reputation": 533, "user_id": 8479974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VOds.jpg?s=128&g=1", "display_name": "A. W.", "link": "https://stackoverflow.com/users/8479974/a-w"}, "edited": false, "score": 1, "creation_date": 1506545446, "post_id": 46456943, "comment_id": 79869695, "body": "Is there an actual question here, or just a homework problem?"}, {"owner": {"reputation": 33, "user_id": 6910092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZnKql.jpg?s=128&g=1", "display_name": "theSharpShooter", "link": "https://stackoverflow.com/users/6910092/thesharpshooter"}, "reply_to_user": {"reputation": 4154, "user_id": 3844480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ho59A.jpg?s=128&g=1", "display_name": "ilim", "link": "https://stackoverflow.com/users/3844480/ilim"}, "edited": false, "score": 0, "creation_date": 1506546041, "post_id": 46456943, "comment_id": 79869940, "body": "I am able to clear the above two test cases, but when i tried to do these test cases it starts to fail 2 BBBABA BBBABB BBBABB BBBABA Is there something wrong with the logic that i have applied? , No this isnt a homework problem, I am just practising string quesions and am unable to get this one done. THanks @ilim"}, {"owner": {"reputation": 4164, "user_id": 7132300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ef2cdd4c48a1a36e8395bf0d17431?s=128&d=identicon&r=PG&f=1", "display_name": "algrid", "link": "https://stackoverflow.com/users/7132300/algrid"}, "edited": false, "score": 0, "creation_date": 1506550236, "post_id": 46456943, "comment_id": 79871499, "body": "For BBBABA BBBABB your program prints BBBABABBBABB. Isn&#39;t it the right answer?"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1506563568, "post_id": 46456943, "comment_id": 79874705, "body": "<a href=\"https://stackoverflow.com/q/46373849/1566221\">stackoverflow.com/q/46373849/1566221</a>"}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "edited": false, "score": 0, "creation_date": 1506573707, "post_id": 46456943, "comment_id": 79877051, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33927873/morgan-and-a-string-hackerrank\">Morgan and a String HackerRank</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4164, "user_id": 7132300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ef2cdd4c48a1a36e8395bf0d17431?s=128&d=identicon&r=PG&f=1", "display_name": "algrid", "link": "https://stackoverflow.com/users/7132300/algrid"}, "is_accepted": false, "score": 0, "last_activity_date": 1506550154, "creation_date": 1506550154, "answer_id": 46457977, "question_id": 46456943, "link": "https://stackoverflow.com/questions/46456943/selecting-next-lexicographical-shortest-element/46457977#46457977", "title": "Selecting next lexicographical shortest element", "body": "<p>Consider the case when <code>a = \"C\"</code> and <code>b = \"CA\"</code>. Your program's output will be <code>\"CCA\"</code> but the right answer is <code>\"CAC\"</code>. The problem is that your code prefers <code>\"C\"</code> over <code>\"CA\"</code> because <code>\"C\" &lt; \"CA\"</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 6910092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZnKql.jpg?s=128&g=1", "display_name": "theSharpShooter", "link": "https://stackoverflow.com/users/6910092/thesharpshooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1506550154, "creation_date": 1506545133, "question_id": 46456943, "link": "https://stackoverflow.com/questions/46456943/selecting-next-lexicographical-shortest-element", "title": "Selecting next lexicographical shortest element", "body": "<p>Jack and Daniel are friends. Both of them like letters, especially upper-case ones. \nThey are cutting upper-case letters from newspapers, and each one of them has their collection of letters stored in separate stacks. \nOne beautiful day, Morgan visited Jack and Daniel. He saw their collections. Morgan wondered what is the lexicographically minimal string, made of that two collections. He can take a letter from a collection when it is on the top of the stack. \nAlso, Morgan wants to use all the letters in the boys' collections.</p>\n\n<p><strong>Input Format</strong></p>\n\n<p>The first line contains the number of test cases,t . \nEvery next two lines have such format: the first line contains string a, and the second line contains string b.</p>\n\n<p><strong>Output the lexicographically minimal string  for each test case in new line.</strong></p>\n\n<p><strong>Sample Input</strong></p>\n\n<p>2</p>\n\n<p>JACK</p>\n\n<p>DANIEL</p>\n\n<p>ABACABA</p>\n\n<p>ABACABA</p>\n\n<p><strong>Sample Output</strong></p>\n\n<p>DAJACKNIEL</p>\n\n<p>AABABACABACABA</p>\n\n<p>Here is my approach:</p>\n\n<pre><code>t = int(raw_input())\nfor _ in range(t):\n    a = raw_input()\n    b = raw_input()\n    i = 0\n    j = 0\n    prev = 0\n    res = \"\"\n    while i &lt; len(a) and j &lt; len(b):\n        if a[i:] &lt; b[j:]:\n            res += a[i]\n            i += 1\n            prev = 0\n        elif a[i:] &gt; b[j:]:\n            res += b[j]\n            j += 1\n            prev = 1\n        else:\n            if prev == 0:\n                res += a[i]\n                i += 1\n                prev = 0\n            else: \n                res += b[j]\n                j += 1\n                prev = 1\n    print res + a[i:]+b[j:]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 8886, "user_id": 866930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4d18c82ab14aa57718bb3343876d53?s=128&d=identicon&r=PG", "display_name": "jrd1", "link": "https://stackoverflow.com/users/866930/jrd1"}, "edited": false, "score": 0, "creation_date": 1506545658, "post_id": 46456889, "comment_id": 79869785, "body": "2 steps: 1) Use a converter (see: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>) corresponding to the column you want to modify, then extract the month, day, year info for the date, and finally convert it using datetime. 2) With your columns properly converted, you can do selections within a given frame, and then sum the prices in the results."}], "answers": [{"tags": [], "owner": {"reputation": 2301, "user_id": 6626093, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IQ4b8.jpg?s=128&g=1", "display_name": "i.n.n.m", "link": "https://stackoverflow.com/users/6626093/i-n-n-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1506546376, "creation_date": 1506546376, "answer_id": 46457220, "question_id": 46456889, "link": "https://stackoverflow.com/questions/46456889/how-to-sum-a-column-based-on-date-range-python3/46457220#46457220", "title": "How to sum a column based on date range --- Python3", "body": "<p>Assuming you're using <code>python3</code>,</p>\n\n<pre><code>data = {'Coverage Start Date': ['20170902', '20170905', `'20170815'],'Coverage End Date':['20170930', '20170930', '20170831'] , 'AMOUNT': [0.37, 11, 0.37]}`\ndf = pd.DataFrame(data)\n</code></pre>\n\n<p>Now, convert into <code>datetime</code> index</p>\n\n<pre><code>df['Coverage End Date'] = pd.to_datetime(df['Coverage End Date'])\ndf['Coverage Start Date'] = pd.to_datetime(df['Coverage Start Date'])\n</code></pre>\n\n<p>And then, create your starting date as index,</p>\n\n<pre><code>df = df.set_index(df['Coverage Start Date'])\n</code></pre>\n\n<p>And then use, <code>TimeGrouper</code></p>\n\n<pre><code>new_df = df.groupby(pd.TimeGrouper('M')).sum()\n</code></pre>\n\n<p>Output,</p>\n\n<pre><code>                        AMOUNT\nCoverage Start Date\n2017-08-31               0.37              \n2017-09-30               11.37\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 6713740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4744c6117ef4eaed78b89d9d07058e8?s=128&d=identicon&r=PG&f=1", "display_name": "rko", "link": "https://stackoverflow.com/users/6713740/rko"}, "is_accepted": false, "score": 0, "last_activity_date": 1506555172, "creation_date": 1506555172, "answer_id": 46458739, "question_id": 46456889, "link": "https://stackoverflow.com/questions/46456889/how-to-sum-a-column-based-on-date-range-python3/46458739#46458739", "title": "How to sum a column based on date range --- Python3", "body": "<p>I like the code by i.n.n.m. However to apply the date time function to multiple columns you can use the below</p>\n\n<pre><code>data = {'Coverage Start Date': ['20170902', '20170905', '20170815'],'Coverage End Date':['20170930', '20170930', '20170831'] , 'AMOUNT': [0.37, 11, 0.37]}\ndf = pd.DataFrame(data)\ndf.iloc[:, 1:] = df.iloc[:, 1:].apply(pd.to_datetime)\n\n    AMOUNT  Coverage End Date   Coverage Start Date\n0   0.37          2017-09-30            2017-09-02\n1   11.00         2017-09-30            2017-09-05\n2   0.37          2017-08-31            2017-08-15\n</code></pre>\n\n<p>And then go about grouping them!</p>\n"}], "owner": {"reputation": 27, "user_id": 8685709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lhk7bw1T3vY/AAAAAAAAAAI/AAAAAAAAAOY/CD4HvJ96DfA/photo.jpg?sz=128", "display_name": "Bradley Kiser", "link": "https://stackoverflow.com/users/8685709/bradley-kiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1506555172, "creation_date": 1506544928, "question_id": 46456889, "link": "https://stackoverflow.com/questions/46456889/how-to-sum-a-column-based-on-date-range-python3", "title": "How to sum a column based on date range --- Python3", "body": "<p>I have a CSV from which I need to sum the charges each month based the month the start_date falls within. </p>\n\n<p>What's the best way to change <code>Coverage Start Date</code> to a date, and sum all charges in a given month using Pandas?</p>\n\n<p>Here's how the data appears in the CSV:</p>\n\n<pre><code>Coverage Start Date     Coverage End Date       AMOUNT\n20170902                20170930                0.37\n20170905                20170930                11\n20170815                20170831                0.37\n20170909                20170930                0.37\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 4953127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f7edf27e3e6bbb485017eac7d3c12aeb?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4953127/lux"}, "edited": false, "score": 0, "creation_date": 1506576870, "post_id": 46458275, "comment_id": 79877983, "body": "It seems like I&#39;ve already properly installed cuDNN v6.0 correctly. (I have the <code>cudnn64_7.dll</code>, and its dependencies placed, and linked to with the path variable)"}, {"owner": {"reputation": 131, "user_id": 2156623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd37ddb14cc7d6853d13aa1cc3890a78?s=128&d=identicon&r=PG", "display_name": "Tiago Vieira", "link": "https://stackoverflow.com/users/2156623/tiago-vieira"}, "reply_to_user": {"reputation": 381, "user_id": 4953127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f7edf27e3e6bbb485017eac7d3c12aeb?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4953127/lux"}, "edited": false, "score": 0, "creation_date": 1506603911, "post_id": 46458275, "comment_id": 79894807, "body": "There says: &quot;In particular, the cuDNN version must match exactly: TensorFlow will not load if it cannot find <code>cuDNN64_6.dll</code>. To use a different version of cuDNN, you must build from source.&quot;"}, {"owner": {"reputation": 381, "user_id": 4953127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f7edf27e3e6bbb485017eac7d3c12aeb?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4953127/lux"}, "edited": false, "score": 0, "creation_date": 1506605397, "post_id": 46458275, "comment_id": 79895891, "body": "Thanks, you seem to be correct that it was caused by confusing in the versioning of the cuDNN library."}], "tags": [], "owner": {"reputation": 131, "user_id": 2156623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd37ddb14cc7d6853d13aa1cc3890a78?s=128&d=identicon&r=PG", "display_name": "Tiago Vieira", "link": "https://stackoverflow.com/users/2156623/tiago-vieira"}, "is_accepted": true, "score": 1, "last_activity_date": 1506551938, "creation_date": 1506551938, "answer_id": 46458275, "question_id": 46456871, "link": "https://stackoverflow.com/questions/46456871/issues-installing-tensorflow-on-windows/46458275#46458275", "title": "Issues installing Tensorflow on windows", "body": "<p>It's probably because Tensorflow now only supports cuDNN v6.0 or v6.1, at least is what's maintained in the <a href=\"https://www.tensorflow.org/install/install_windows\" rel=\"nofollow noreferrer\">Installation Guide for Windows</a>. </p>\n\n<p>I had the same problem, but after updating Tensorflow from an old version to a newer one where the cuDNN had to be updated.</p>\n"}], "owner": {"reputation": 381, "user_id": 4953127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f7edf27e3e6bbb485017eac7d3c12aeb?s=128&d=identicon&r=PG&f=1", "display_name": "lux", "link": "https://stackoverflow.com/users/4953127/lux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 46458275, "answer_count": 1, "score": 0, "last_activity_date": 1506551938, "creation_date": 1506544834, "last_edit_date": 1506548168, "question_id": 46456871, "link": "https://stackoverflow.com/questions/46456871/issues-installing-tensorflow-on-windows", "title": "Issues installing Tensorflow on windows", "body": "<p>On Windows 10 with CUDA 8 and CuDNN 7 installed, I have troubles installing Tensorflow (both the GPU and CPU edition, though I'll focus on the GPU version).</p>\n\n<p>When trying to install it system-wide with python3.5 using <code>pip install tensorflow-gpu</code>, it reports that there are no matching packages. </p>\n\n<p>If I instead install it using the community supported anaconda distribution (using the steps described at the <a href=\"https://www.tensorflow.org/install/install_windows\" rel=\"nofollow noreferrer\">documentation</a> page, it correctly installs Tensorflow, but when I import it into a program the following error is shown:</p>\n\n<pre><code>&gt;&gt;&gt; import tensorflow as tf\n\n[...]\n\nImportError: DLL load failed: The specified module could not be found.\n\n[...]\n\nImportError: No module named '_pywrap_tensorflow_internal'\n\n[...]\n\nFailed to load the native TensorFlow runtime.\n</code></pre>\n\n<p>Entire stack trace is available on <a href=\"https://pastebin.com/LPidWJDy\" rel=\"nofollow noreferrer\">paste-bin</a>.</p>\n\n<p>For CUDA, I've set the following system environment variables: <code>CUDA_HOME</code>, <code>CUDA_PATH</code>, and <code>CUDA_PATH_V8_0</code> as suggested by various tutorials. Furthermore cuDNN has been installed using nVidia's instructions, and path variables have been set to <code>CUDA\\v8.0\\bin</code>, and <code>CUDA\\v8.0\\libnvvp</code>.</p>\n"}, {"tags": ["python", "opencv", "rotation"], "comments": [{"owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1506587161, "post_id": 46456853, "comment_id": 79883548, "body": "Check my implementation, it on CPP, but in bottom of readme there is a link to python version I used as a base, implementations are differs a bit. <a href=\"https://github.com/Smorodov/LogPolarFFTTemplateMatcher\" rel=\"nofollow noreferrer\">github.com/Smorodov/LogPolarFFTTemplateMatcher</a>"}, {"owner": {"reputation": 11, "user_id": 8669978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1867c1fb5a0db668835dfc0ae05b2f9b?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/8669978/david"}, "reply_to_user": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "edited": false, "score": 0, "creation_date": 1506607634, "post_id": 46456853, "comment_id": 79897515, "body": "Thanks for your reply. It seems similar to my code (swapping real with abs and adding a FFTSHIFT). Altering my code that way caused it to not function properly. My main question is regarding the opencv function phaseCorrelate which suppose to produce a quick result."}], "owner": {"reputation": 11, "user_id": 8669978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1867c1fb5a0db668835dfc0ae05b2f9b?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/8669978/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1087, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506544762, "creation_date": 1506544762, "question_id": 46456853, "link": "https://stackoverflow.com/questions/46456853/phase-correlation-for-rotation-registration-using-opencv", "title": "Phase correlation for rotation registration using opencv", "body": "<p>I'm trying to register two images that are a rotated and translated version of one another using opencv. Generally speaking, the procedure is (pseudo code):</p>\n\n<p>a. <strong>IF1</strong> = FFT2(<strong>I1</strong>); <strong>IF2</strong> = FFT2(<strong>I2</strong>)</p>\n\n<p>b. <strong>R_translation</strong> = (<strong>IF1</strong>).*(<strong>IF2_conjugate</strong>)</p>\n\n<p>c. <strong>R_translation</strong> = <strong>R_translation</strong>./abs(<strong>R_translation</strong>)</p>\n\n<p>d. <strong>r_translation</strong> = IFFT2(<strong>R_translation</strong>)</p>\n\n<p>where the maximum of <strong>r_translation</strong> corresponds to the translation. Moving on to calculate the rotation, the abs value removes the translation part, </p>\n\n<p>e. <strong>IF1_abs</strong> = abs(<strong>IF1</strong>); <strong>IF2_abs</strong> = abs(<strong>IF2</strong>)</p>\n\n<p>Converting to Linear-Polar coordinates,</p>\n\n<p>f. <strong>IF1_abs_pol</strong> = LINPOL(<strong>IF1_abs</strong>); <strong>IF2_abs_pol</strong> = LINPOL(<strong>IF2_abs</strong>)</p>\n\n<p>f. <strong>IFF1</strong> = FFT2(<strong>IF1_abs_pol</strong>); <strong>IFF2</strong> = FFT2(<strong>IF2_abs_pol</strong>)</p>\n\n<p>f. <strong>R_rot</strong> = (<strong>IFF1</strong>).*(<strong>IFF2_conjugate</strong>)</p>\n\n<p>c. <strong>R_rot</strong> = <strong>R_rot</strong>./abs(<strong>R_rot</strong>)</p>\n\n<p>d. <strong>r_rot</strong> = IFFT2(<strong>R_rot</strong>)</p>\n\n<p>where the maximum of <strong>r_rotationn</strong> corresponds to the rotation. While for translation alone, the cv2.phaseCorrelate function returns expected results, for rotation, it returns odd results. So I had tried the following. </p>\n\n<p>I took two numpy.array-s 5x5, which are a rotated version of one another like so:</p>\n\n<pre><code>a = numpy.array([[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [1, 2, 3, 4, 5]])\na = a.astype('float')/a.astype('float').max()\nb = numpy.array([[5, 5, 5, 5, 5], [4, 4, 4, 4, 4], [3, 3, 3, 3, 3], [2, 2, 2, 2, 2], [1, 1, 1, 1, 1]])\nb = b.astype('float') / b.astype('float').max()\n</code></pre>\n\n<p>First I calculated the phase correlation myself:</p>\n\n<pre><code>center_x = numpy.floor(a.shape[0] / 2.0)#the x center of rotation (= x center of image) \ncenter_y = numpy.floor(a.shape[1] / 2.0)#the y center of rotation (= y center of image)\nMvalue = a.shape[1] / numpy.sqrt(\n    ((a.shape[0] / 2.0) ** 2.0) + ((a.shape[1] / 2.0) ** 2.0))  # rotation radius\n</code></pre>\n\n<p>Calculating the FFT, taking the absolute value (losing the translation difference data if existed), and switching to Linear-Polar coordinates and normalizing:</p>\n\n<pre><code>a_polar = cv2.linearPolar(numpy.abs(numpy.fft.fft2(a)), (center_x, center_y), Mvalue, cv2.WARP_FILL_OUTLIERS)\nb_polar = cv2.linearPolar(numpy.abs(numpy.fft.fft2(b)), (center_x, center_y), Mvalue, cv2.WARP_FILL_OUTLIERS)\na_polar = a_polar/a_polar.max()\nb_polar = b_polar / b_polar.max()\n</code></pre>\n\n<p>Another FFT step, multiplying point wise, and IFFT back:</p>\n\n<pre><code>aff = numpy.fft.fft2(a_polar)\nbff = numpy.fft.fft2(b_polar)\n\nR = aff * numpy.ma.conjugate(bff)\nR = R / numpy.absolute(R)\nr = numpy.fft.ifft2(R).real\nr = r/r.max()\n</code></pre>\n\n<p>yields,\n<a href=\"https://i.stack.imgur.com/Rdufu.png\" rel=\"nofollow noreferrer\">Phase correlation for rotation, <strong>b</strong> with respect to <strong>a</strong></a></p>\n\n<p>According to cv2.linearPolar() the rows, span the angle (in this case with step size of 360/5 = 72degrees) and the columns span the radius (from 0 to the maximum radius given in Mvalue. The maximum is evident at the last row (corresponding to approximately -90degree shift). So far so good..</p>\n\n<p>The second method is using cv2.phaseCorrelate() directly, </p>\n\n<pre><code>r_direct = cv2.phaseCorrelate(a_polar, b_polar)\n</code></pre>\n\n<p>which yields,</p>\n\n<p><a href=\"https://i.stack.imgur.com/S6AQq.png\" rel=\"nofollow noreferrer\">Phase correlation for rotation, <strong>b</strong> with respect to <strong>a</strong> direct method</a></p>\n\n<p>The first tuple, is the X,Y correlation coefficient (in pixels?) and the third number is the fit grade. When it is close to unity, the correlation coefficient represents better the data (the blob around the maximum is more distinct).</p>\n\n<p>Other than the fact that the result is not distinct enough (why?), the result is confusing...</p>\n\n<p>Generally, The first FFT process in this 5x5 example was not necessary. If rotation is the only interference, one can immediately switch to Linear-Polar coordinates and use cv2.phaseCorrelate. In that case, the result is also confusing.</p>\n\n<p>Any help would be appreciated :)</p>\n\n<p>Thanks!</p>\n\n<p>David </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 0, "creation_date": 1506545023, "post_id": 46456822, "comment_id": 79869455, "body": "Is there any way we can get the original values of your dataframe? Maybe <code>df.head()</code>"}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "reply_to_user": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 0, "creation_date": 1506545462, "post_id": 46456822, "comment_id": 79869708, "body": "of <code>df_original</code> ?"}, {"owner": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 0, "creation_date": 1506545507, "post_id": 46456822, "comment_id": 79869722, "body": "Yes. I meant df_original"}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "reply_to_user": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 0, "creation_date": 1506545760, "post_id": 46456822, "comment_id": 79869826, "body": "added a link to pastebin"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 1, "creation_date": 1506546013, "post_id": 46456822, "comment_id": 79869927, "body": "See jezrael&#39;s answer in the target. There is a <code>remove_unusued_levels</code> method in newer versions."}, {"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1506546425, "post_id": 46456822, "comment_id": 79870092, "body": "Thank you so much. I was sitting here since 6 hours due to that issue."}], "owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "closed_date": 1506545915, "answer_count": 0, "score": 0, "last_activity_date": 1506546002, "creation_date": 1506544608, "last_edit_date": 1506546002, "question_id": 46456822, "link": "https://stackoverflow.com/questions/46456822/pandas-confusion-with-multiindex-columns-loc-and-get-level-values", "closed_reason": "Duplicate", "title": "pandas confusion with multiindex columns loc and get_level_values", "body": "<p>Please forgive me if I do not provide a minimal working example but I cannot reproduce one (I tried for about one hour).</p>\n\n<p><strong>Given following index:</strong></p>\n\n<pre><code>df_original.columns    \n\nMultiIndex(levels=[['ft', 'load', 's0', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8'], ['260', '280', '603', 'buffer', 'pH', 'salt', 'salt_concentration', 'sample_volume', 'volume']],\n       labels=[[1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 0, 0, 0, 0, 0, 1, 1, 1, 10, 10, 10, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 0, 0, 0], [3, 4, 5, 6, 8, 7, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 3, 4, 5, 6, 8, 8, 6, 3, 4, 5, 0, 1, 2, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1]],\n       names=['steps', 'data'])\n</code></pre>\n\n<p>I would like to extract the data from the multi index by regex matching:</p>\n\n<pre><code>mask = gr.columns.get_level_values(1).str.match(r'^\\d{3}')\ndf = gr.loc[:,mask].copy()\n</code></pre>\n\n<p>yield the desired output.</p>\n\n<p><strong>When I look at:</strong></p>\n\n<pre><code>df.get_level_values(1)\n</code></pre>\n\n<p>everything looks as expected.</p>\n\n<pre><code>Index(['260', '280', '603', '603', '260', '280', '603', '260', '280', '603',\n   '260', '280', '603', '260', '280', '603', '260', '280', '603', '260',\n   '280', '603', '260', '280', '603', '260', '280', '603', '260', '280',\n   '603', '260', '280'],\n  dtype='object', name='data')\n</code></pre>\n\n<p><strong>However</strong></p>\n\n<pre><code>df.columns\n</code></pre>\n\n<p>still looks like the original dataframe <code>df_original</code></p>\n\n<pre><code>MultiIndex(levels=[['ft', 'load', 's0', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8'], ['260', '280', '603', 'buffer', 'pH', 'salt', 'salt_concentration', 'sample_volume', 'volume']],\n       labels=[[1, 1, 1, 10, 10, 10, 9, 9, 9, 8, 8, 8, 7, 7, 7, 6, 6, 6, 5, 5, 5, 4, 4, 4, 3, 3, 3, 2, 2, 2, 0, 0, 0], [0, 1, 2, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1]],\n       names=['steps', 'data'])\n</code></pre>\n\n<p><strong>The point of all this is an odd behavior:</strong></p>\n\n<p>I would like to add information to the sliced (and copied) dataframe. I do this by looping:</p>\n\n<pre><code>steps = df.columns.get_level_values('steps').unique().tolist()\n\n\nfor step in steps:\n    df[step, 'a.pH'] = 1 \n    df[step, 'a.salt_concentration'] = 2 \n    df[step, 'a.buffer'] = 3\n</code></pre>\n\n<p><strong>Everything fine until now:</strong></p>\n\n<pre><code>df.stack('steps')\n</code></pre>\n\n<p>After the stack operation. All excluded columns are visible again (excluded via:\n<code>gr.columns.get_level_values(1).str.match(r'\\d{3}')</code>)</p>\n\n<p>Why is that so and how can I avoid this odd behavior ?</p>\n\n<p>EDIT:</p>\n\n<p>the original data (parts of it): <a href=\"https://pastebin.com/WLjP2ws3\" rel=\"nofollow noreferrer\">https://pastebin.com/WLjP2ws3</a></p>\n\n<p>A workaround is to use <code>df.dropna(axis=1, how='all')</code> afterwards</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1506544991, "post_id": 46456797, "comment_id": 79869433, "body": "Just delete <code>self.save()</code>"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1506545264, "post_id": 46456797, "comment_id": 79869596, "body": "But why you do not use <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/fields/#slugfield\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.11/ref/models/fields/#slugfield</a> with <code>unique=True</code>"}, {"owner": {"reputation": 648, "user_id": 1051031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OPPHM.jpg?s=128&g=1", "display_name": "petroleyum", "link": "https://stackoverflow.com/users/1051031/petroleyum"}, "edited": false, "score": 0, "creation_date": 1506545587, "post_id": 46456797, "comment_id": 79869756, "body": "Do you specifically need the slug to be <code>name</code> + <code>pk</code> or do you just need a unique slug? It may help if you tell us how you want to use this slug."}, {"owner": {"reputation": 648, "user_id": 1051031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OPPHM.jpg?s=128&g=1", "display_name": "petroleyum", "link": "https://stackoverflow.com/users/1051031/petroleyum"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1506545834, "post_id": 46456797, "comment_id": 79869856, "body": "@AndMar is right that the <code>self.save()</code> is the cause of the recursion error, but it looks like you want to use <code>self.id</code> which isn&#39;t set until the object is first saved so I can see why you are trying to save it twice. This post may help with saving an object twice: <a href=\"https://stackoverflow.com/a/14236946/1051031\">stackoverflow.com/a/14236946/1051031</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1172, "user_id": 2454690, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WNB2F.jpg?s=128&g=1", "display_name": "SirSaleh", "link": "https://stackoverflow.com/users/2454690/sirsaleh"}, "edited": false, "score": 1, "creation_date": 1530680374, "post_id": 46457100, "comment_id": 89315186, "body": "Thanks. It Saved me for another purpose. Nice Question, Nice Answer. :)"}], "tags": [], "owner": {"reputation": 16602, "user_id": 8060120, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gejWm.jpg?s=128&g=1", "display_name": "Brown Bear", "link": "https://stackoverflow.com/users/8060120/brown-bear"}, "is_accepted": false, "score": 3, "last_activity_date": 1506545813, "creation_date": 1506545813, "answer_id": 46457100, "question_id": 46456797, "link": "https://stackoverflow.com/questions/46456797/use-unique-id-in-django-model-custom-save/46457100#46457100", "title": "use unique id in django model custom save", "body": "<p>May be you can use simple construction?:</p>\n\n<pre><code>import uuid\n\n\ndef save(self, *args, **kwargs):\n    if not self.slug:\n          self.slug = \"%s.%s\" % (self.name , uuid.uuid4())\n    super(Entity, self).save(*args, **kwargs)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "is_accepted": false, "score": 0, "last_activity_date": 1506546749, "creation_date": 1506546749, "answer_id": 46457295, "question_id": 46456797, "link": "https://stackoverflow.com/questions/46456797/use-unique-id-in-django-model-custom-save/46457295#46457295", "title": "use unique id in django model custom save", "body": "<p>I changed the save() to be:</p>\n\n<pre><code>    super(Entity, self).save(*args, **kwargs)\n    self.slug=slugify(self.name+' '+str(self.id))\n    super(Entity, self).save(*args, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1506546749, "creation_date": 1506544531, "question_id": 46456797, "link": "https://stackoverflow.com/questions/46456797/use-unique-id-in-django-model-custom-save", "title": "use unique id in django model custom save", "body": "<p>I am trying to create unique slugs from persons names, which will have obvious duplicates.  My idea is to add the id to the slug as a unique identifier.  The problem is that the unique id is not generated until the save completes.</p>\n\n<p>This is what I tried:</p>\n\n<pre><code>def save(self, *args, **kwargs):\n\n        if getattr(self, 'name', True):\n\n            if not self.pk:\n                matching_slugs = Entity.objects.filter(slug=slugify(self.name))\n                print matching_slugs\n                if len(matching_slugs) &gt; 0:\n                    self.slug=slugify(self.name+' temp')\n                elif len(matching_slugs) == 0:\n                    self.slug=slugify(self.name)\n        super(Entity, self).save(*args, **kwargs)\n        self.slug=slugify(self.name+' '+str(self.id))\n        self.save()\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>maximum recursion depth exceeded in cmp</p>\n</blockquote>\n\n<p>I'm thinking this is not the best way to do this.</p>\n\n<p><strong>How can I make names unique on save?</strong></p>\n"}, {"tags": ["python", "multithreading", "python-3.x", "amazon-web-services", "boto3"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1506545990, "post_id": 46456773, "comment_id": 79869918, "body": "You seem to be missing the point of lambda here. You don&#39;t run threads within a lambda function, you create new instances of the function as necessary."}, {"owner": {"reputation": 1215, "user_id": 3837982, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/cc550b04a7742bb160e82879126d17f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shek", "link": "https://stackoverflow.com/users/3837982/shek"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1506546151, "post_id": 46456773, "comment_id": 79869990, "body": "We can create threads within Lambda functions, this is a single Lambda event where the given Lambda would process a large zip file and bifurcate it into small chunks and upload it to various s3 buckets then the next step function would get executed, I have always spun threads in Lambda for fast performance but in Java."}], "owner": {"reputation": 1215, "user_id": 3837982, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/cc550b04a7742bb160e82879126d17f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shek", "link": "https://stackoverflow.com/users/3837982/shek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1506544497, "creation_date": 1506544424, "last_edit_date": 1506544497, "question_id": 46456773, "link": "https://stackoverflow.com/questions/46456773/how-to-spin-a-new-thread-if-data-is-available-in-a-queue-to-process", "title": "How to spin a new thread if data is available in a queue to process.", "body": "<p>I have a function that zip streams data into a bytebuffer, from that bytebuffer I create 5000lines/chunks, now I am trying to write these chunks back to s3 bucket in separate files, since I am using AWS Lambda I have cannot let single thread handle all the workflow as there 5 minute constraint after which AWS Lambda times out, coming from Java background where threads are pretty simple to implement but in python I am getting confused how to execute pool of thread to take care of <code>uploading file to s3</code> part of my process, here is my code:</p>\n\n<pre><code>import io\nimport zipfile\nimport boto3\nimport sys\nimport multiprocessing\n# from multiprocessing.dummy import Pool as ThreadPool\nimport time\n\n\ns3_client = boto3.client('s3')\ns3 = boto3.resource('s3', 'us-east-1')\n\n\ndef stream_zip_file():\n    # pool = ThreadPool(threads)\n    start_time_main = time.time()\n    start_time_stream = time.time()\n    obj = s3.Object(\n        bucket_name='monkey-business-dev-data',\n        key='sample-files/daily/banana/large/banana.zip'\n    )\n    end_time_stream = time.time()\n    # process_queue = multiprocessing.Queue()\n    buffer = io.BytesIO(obj.get()[\"Body\"].read())\n    output = io.BytesIO()\n    print (buffer)\n    z = zipfile.ZipFile(buffer)\n    foo2 = z.open(z.infolist()[0])\n    print(sys.getsizeof(foo2))\n    line_counter = 0\n    file_clounter = 0\n    for line in foo2:\n        line_counter += 1\n        output.write(line)\n        if line_counter &gt;= 5000:\n            file_clounter += 1\n            line_counter = 0\n            # pool.map(upload_to_s3, (output, file_clounter))\n            # upload_to_s3(output, file_clounter)\n            # process_queue.put(output)\n            output.close()\n            output = io.BytesIO()\n    if line_counter &gt; 0:\n        # process_queue.put(output)\n        # upload_to_s3(output, file_clounter)\n        # pool.map(upload_to_s3, args =(output, file_clounter))\n        output.close()\n    print('Total Files: {}'.format(file_clounter))\n    print('Total Lines: {}'.format(line_counter))\n    output.seek(0)\n    start_time_upload = time.time()\n\n    end_time_upload = time.time()\n\n    output.close()\n    z.close()\n    end_time_main = time.time()\n\n    print('''\n    main: {}\n    stream: {}\n    upload: {}\n    '''.format((end_time_main-start_time_main),(end_time_stream-start_time_stream),(end_time_upload-start_time_upload)))\n\n\ndef upload_to_s3(output, file_name):\n    output.seek(0)\n    s3_client.put_object(\n        Bucket='monkey-business-dev-data', Key='sample-files/daily/banana/large/{}.txt'.format(file_name),\n        ServerSideEncryption='AES256',\n        Body=output,\n        ACL='bucket-owner-full-control'\n    )\n\n#     consumer_process = multiprocessing.Process(target=data_consumer, args=(process_queue))\n#     consumer_process.start()\n#\n#\n# def data_consumer(queue):\n#     while queue.empty() is False:\n\n\n\nif __name__ == '__main__':\n    stream_zip_file()\n</code></pre>\n\n<p>Now I have tried several ways to do it, my specific requirement is to have threadpool with size of 10 threads and these threads would always pool a queue, if chunk is available to upload on queue thread would execute and start uploading the chunk meanwhile one thread would always continuously pool the queue for new chunk and if chunk gets available a new thread (if thread 1 is still busy in s3 upload) will automatically start and upload the file to s3 and so on. I have checked many answers here and on google but nothing seems to work or make sense to my feeble mind.</p>\n"}, {"tags": ["python", "apache", "python-3.x", "mod-wsgi", "wsgi"], "answers": [{"tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 0, "last_activity_date": 1506544557, "creation_date": 1506544557, "answer_id": 46456804, "question_id": 46456754, "link": "https://stackoverflow.com/questions/46456754/what-is-the-meaning-of-the-lines-written-in-wsgi-conf/46456804#46456804", "title": "What is the meaning of the lines written in wsgi.conf", "body": "<p>As per the <a href=\"http://modwsgi.readthedocs.io/en/develop/configuration-directives/WSGIScriptAlias.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<p><strong>Description</strong>:    Maps a URL to a filesystem location and designates the target as a WSGI script.</p>\n\n<p><strong>Syntax</strong>: WSGIScriptAlias URL-path file-path|directory-path</p>\n\n<p><strong>Context</strong>:    server config, virtual host</p>\n\n<p>So when someone hits the url <code>/test</code> on your site, the module at the filesystem path you specify gets run.</p>\n"}], "owner": {"reputation": 49, "user_id": 5895461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148cbcd1d9589ee0d2f9fdcb58c85bd1?s=128&d=identicon&r=PG&f=1", "display_name": "NosPix", "link": "https://stackoverflow.com/users/5895461/nospix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 46456804, "answer_count": 1, "score": 2, "last_activity_date": 1506544557, "creation_date": 1506544344, "last_edit_date": 1506544528, "question_id": 46456754, "link": "https://stackoverflow.com/questions/46456754/what-is-the-meaning-of-the-lines-written-in-wsgi-conf", "title": "What is the meaning of the lines written in wsgi.conf", "body": "<p>I'm trying to use Python in my project (without any other framework as requested by my teacher.)</p>\n\n<p>So I've installed Apache 2.x and mod_wsgi and, following a tutorial, I've run my first Python script.</p>\n\n<p>In the specific, the tutorial told me to write in the file <code>/etc/apache2/conf-available/wsgi.conf</code> the following line:</p>\n\n<pre><code>WSGISriptAlias /test /var/www/html/test.py\n</code></pre>\n\n<p>...and it works!</p>\n\n<p>Despite of this, if I try to change the containing folder of the Python source, it won't work anymore. Can someone tell me how to make this work and what is the meaning of the line written above?</p>\n\n<p>P.S. I need the Python script because my site, in relationship to a form input, have to decide which page to open next.</p>\n\n<p><strong>So I have something like:</strong></p>\n\n<pre><code>...\n&lt;form action=\"test\" method=\"GET\" name=\"query\"&gt;\n...\n&lt;/form&gt;\n</code></pre>\n\n<p>I've omitted the .py extension because tutorial said it.</p>\n\n<p>Thanks to all!</p>\n"}, {"tags": ["python", "pandas", "conditional-statements", "rows", "continue"], "comments": [{"owner": {"reputation": 260, "user_id": 3137420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPL8o.jpg?s=128&g=1", "display_name": "Fontinalis", "link": "https://stackoverflow.com/users/3137420/fontinalis"}, "edited": false, "score": 0, "creation_date": 1506544595, "post_id": 46456735, "comment_id": 79869227, "body": "Not really the answer, but you could skip the checking the equality of the A and B, and only keep the \u201cnot equal\u201d check."}], "answers": [{"tags": [], "owner": {"reputation": 1661, "user_id": 526156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TMaJ3.jpg?s=128&g=1", "display_name": "zillaofthegods", "link": "https://stackoverflow.com/users/526156/zillaofthegods"}, "is_accepted": false, "score": 1, "last_activity_date": 1506544731, "creation_date": 1506544731, "answer_id": 46456848, "question_id": 46456735, "link": "https://stackoverflow.com/questions/46456735/loop-through-column-and-stop-at-a-certain-condition-python/46456848#46456848", "title": "Loop through column and stop at a certain condition (python)", "body": "<p>Please take a look at <a href=\"https://stackoverflow.com/questions/16476924/how-to-iterate-over-rows-in-a-dataframe-in-pandas\">this</a>.</p>\n\n<p>You would be iterating through each row and then accessing the appropriate column as a key, in this way you can compare column to each other in each row</p>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "is_accepted": false, "score": 0, "last_activity_date": 1506545804, "creation_date": 1506545804, "answer_id": 46457098, "question_id": 46456735, "link": "https://stackoverflow.com/questions/46456735/loop-through-column-and-stop-at-a-certain-condition-python/46457098#46457098", "title": "Loop through column and stop at a certain condition (python)", "body": "<p>You could do it like this:</p>\n\n<pre><code>print 'Condition ends at', (df.A.values != df.B.values).argmax()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1322, "user_id": 1005978, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8e5bea69284b027f4d9c9c95baaaf781?s=128&d=identicon&r=PG", "display_name": "maor10", "link": "https://stackoverflow.com/users/1005978/maor10"}, "is_accepted": false, "score": 0, "last_activity_date": 1508681812, "creation_date": 1508681812, "answer_id": 46875104, "question_id": 46456735, "link": "https://stackoverflow.com/questions/46456735/loop-through-column-and-stop-at-a-certain-condition-python/46875104#46875104", "title": "Loop through column and stop at a certain condition (python)", "body": "<p>You could use the nice pythonic syntax:</p>\n\n<pre><code>print next([d for d in dates if d.A != d.B], None)\n</code></pre>\n\n<p>The None would be the default value if none is found</p>\n"}], "owner": {"reputation": 71, "user_id": 7620016, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5126f78483969fd6ad61f793bbf0eca9?s=128&d=identicon&r=PG&f=1", "display_name": "Erin", "link": "https://stackoverflow.com/users/7620016/erin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8004, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1508681812, "creation_date": 1506544257, "last_edit_date": 1506555707, "question_id": 46456735, "link": "https://stackoverflow.com/questions/46456735/loop-through-column-and-stop-at-a-certain-condition-python", "title": "Loop through column and stop at a certain condition (python)", "body": "<p>I have a dataframe similar to below,</p>\n\n<pre><code>Date            A  B\n2017-01-01      1  1\n2017-01-02      2  2\n2017-01-03      1  2\n</code></pre>\n\n<p>For each column, I want to test the condition A==B for each name in the groupby statement. If this condition does not hold true, I want to print \"Condition ends at 2017-01-03.\" I'm not sure how to loop through each row in this dataframe. I'm envisioning something like this code, although I know I am not itterating through the correct thing:</p>\n\n<pre><code>for i in df.Date:\n    if df.A == df.B:\n        continue\n    if df.A != df.B:\n        print (\"Condition ends at\", i)\n</code></pre>\n"}, {"tags": ["python", "pseudocode", "numerical-methods"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1506544243, "post_id": 46456703, "comment_id": 79869075, "body": "What is your question? Do you have a problem or error?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 2, "creation_date": 1506544331, "post_id": 46456703, "comment_id": 79869108, "body": "if you use return you will not execute the following lines within your function"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506544407, "post_id": 46456703, "comment_id": 79869145, "body": "Your sec secant code is reduced to the following if you use silly return.: <code>def secant(x0: float, x1: float, f, epsilon: float, delta: float, iter_max: int) -&gt; float:     fx0 = f(x0)     fx1 = f(x1)     return 0, x0, fx0</code>"}, {"owner": {"reputation": 37, "user_id": 8619812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab97e6dcf480615b65cf56d9343327bc?s=128&d=identicon&r=PG&f=1", "display_name": "user405381", "link": "https://stackoverflow.com/users/8619812/user405381"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506545093, "post_id": 46456703, "comment_id": 79869496, "body": "Sorry for being vague. My problem is the output. If for example I follow my code with  <code>root = secant(-3.5, -2.5, f, 0.00000000001, 0.000001, 10)  print(root)</code> I get: (0, -3.5, False). So it doesn&#39;t actually do any iterations."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1506545601, "post_id": 46456703, "comment_id": 79869763, "body": "change your returns to prints"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506545993, "post_id": 46456703, "comment_id": 79869919, "body": "You can put a picture of the pseudocode, I think you copied it incorrectly."}, {"owner": {"reputation": 37, "user_id": 8619812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab97e6dcf480615b65cf56d9343327bc?s=128&d=identicon&r=PG&f=1", "display_name": "user405381", "link": "https://stackoverflow.com/users/8619812/user405381"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506546596, "post_id": 46456703, "comment_id": 79870156, "body": "@eyllanesc I&#39;ve added a picture of the pseudocode along with a picture of the kind of output I&#39;d like."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506546675, "post_id": 46456703, "comment_id": 79870185, "body": "@user405381 try my code, and if I help you do not forget to mark it as correct please."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1506547052, "post_id": 46456703, "comment_id": 79870319, "body": "The table of results that shows is for another equation since one of the roots is around -3,183"}, {"owner": {"reputation": 37, "user_id": 8619812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab97e6dcf480615b65cf56d9343327bc?s=128&d=identicon&r=PG&f=1", "display_name": "user405381", "link": "https://stackoverflow.com/users/8619812/user405381"}, "edited": false, "score": 0, "creation_date": 1506547191, "post_id": 46456703, "comment_id": 79870377, "body": "Yes, I know its for another equation. But my assignment specifies that I should print k, the value of the current root and the current f-value after each iteration - much like in the picture."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 8619812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab97e6dcf480615b65cf56d9343327bc?s=128&d=identicon&r=PG&f=1", "display_name": "user405381", "link": "https://stackoverflow.com/users/8619812/user405381"}, "edited": false, "score": 0, "creation_date": 1506547108, "post_id": 46457259, "comment_id": 79870342, "body": "Thank you, this works! Although, I need it to print k, the value of the current root and the current f-value after each iteration. Also how do I specify that float numbers should be printed with 20 digits?"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1506546575, "creation_date": 1506546575, "answer_id": 46457259, "question_id": 46456703, "link": "https://stackoverflow.com/questions/46456703/translate-pseudocode-into-python-secant-method/46457259#46457259", "title": "Translate pseudocode into python (secant method)", "body": "<p>Your implementation has the followings errors:</p>\n\n<ul>\n<li><p>The first is that the function f must return the value of the function from which you want to get the root, you should not compare it with zero.</p></li>\n<li><p>The second error is caused by not reading the algorithm's objective and understanding its procedure, if it says:</p></li>\n</ul>\n\n<hr>\n\n<pre><code>output: 0, x_0, fx_0\noutput: 1, x_1, fx_1\n</code></pre>\n\n<hr>\n\n<p>indicates that it is the result when iter_max is 0 or 1 respectively.</p>\n\n<ul>\n<li><p>Third, in the form of exchanging values is inadequate, you must use a pivot since otherwise erase the relevant information</p></li>\n<li><p>Another thing I do not understand is because you execute the following: <code>abs(x**k - x**(k - 1))/ abs(x**(k))</code> instead of <code>abs(x1 - x0)</code>.</p></li>\n</ul>\n\n<p>So correcting both errors you get the following code:</p>\n\n<pre><code>def f(x: float) -&gt; float:\n    return exp(x) - sin(x)\n\ndef secant(x0: float, x1: float, f, epsilon: float, delta: float, iter_max: int) -&gt; float:\n    fx0 = f(x0)\n    fx1 = f(x1)\n    if iter_max == 0:\n        return 0, x0, fx0\n\n    elif iter_max == 1:\n        return 1, x1, fx1\n\n    for k in range(2, iter_max):\n        if abs(fx0) &gt; abs(fx1):\n            tmp =  x0\n            x0 = x1\n            x1 =tmp\n            tmp = fx0\n            fx0 = fx1\n            fx1 = tmp\n\n        s = (x1 - x0) / (fx1 - fx0)\n        x1 = x0\n        fx1 = fx0\n        x0 = x0 - fx0 * s\n        fx0 = f(x0)\n        if abs(fx0) &lt; epsilon or abs(x1 - x0)  &lt;= delta:\n            break\n    return k, x0, fx0\n\n\nroot = secant(-3.5, -2.5, f, 0.00000000001, 0.000001, 10) \n\nprint(root)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>(5, -3.183063011933318, 4.7351012000262926e-14)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 8619812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab97e6dcf480615b65cf56d9343327bc?s=128&d=identicon&r=PG&f=1", "display_name": "user405381", "link": "https://stackoverflow.com/users/8619812/user405381"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 46457259, "answer_count": 1, "score": 0, "last_activity_date": 1552277539, "creation_date": 1506544126, "last_edit_date": 1506546555, "question_id": 46456703, "link": "https://stackoverflow.com/questions/46456703/translate-pseudocode-into-python-secant-method", "title": "Translate pseudocode into python (secant method)", "body": "<p>I am working on this assignment:</p>\n\n<blockquote>\n  <p>First, implement the f-function defined by: f(x)= exp(x)-sin(x) closest to zero.</p>\n  \n  <p>Second, implement the Secant method on page 95 and use it to find the root of the f-function, given the input values x0 = -3.5 and x1 = -2.5</p>\n  \n  <p>Add the following<br>\n  - an absolute test: abs(f(x) ) &lt; epsilon<br>\n  - a relative test: abs(x^k - x^{k-1})/ abs(x^{k}) \\leq delta<br>\n  - a maximum iteration guard: k &lt; iter_max  </p>\n  \n  <p>In each iteration print out the iteration number k, the value of current root and current f-value. Print float numbers with 20 digits.</p>\n</blockquote>\n\n<p>This is the code I have to complete:</p>\n\n<pre><code>import numpy as np\nfrom math import exp, sin\nimport matplotlib.pyplot as plt\n\ndef f(x: float) -&gt; float:\n    return\n\ndef secant(x0: float, x1: float, f, epsilon: float, delta: float, iter_max: int) -&gt; float:\n    return\n</code></pre>\n\n<p>This is the pseudocode from page 95:</p>\n\n<pre><code>input: x_0, x_1, delta, epsilon, iter_max\nfx_0 &lt;- f(x_0); fx_1 &lt;- f(x_1)\noutput: 0, x_0, fx_0\noutput: 1, x_1, fx_1\nfor k = 2 to iter_max do\n    if |fx_0| &gt; |fx_1| then\n        x_0 &lt;-&gt; x_1; fx_0 &lt;-&gt; fx_1\n    end if\n    s &lt;- (x_1 - x_0) / (fx_1 - fx_0)\n    x_1 &lt;- x_0\n    fx_1 &lt;- fx_0\n    x_0 &lt;- x_0 - fx_0 * s\n    fx_0 &lt;- f(x_0)\n\n    output: k, x_0, fx_0\n    if |fx_0| &lt; epsilon or |x_1 - x_0| &lt; delta then stop\nend do\n</code></pre>\n\n<p>And this is my own attempt:</p>\n\n<pre><code>def f(x: float) -&gt; float:\n    return exp(x) - sin(x) == 0\n\ndef secant(x0: float, x1: float, f, epsilon: float, delta: float, iter_max: int) -&gt; float:\n    fx0 = f(x0)\n    fx1 = f(x1)\n    return 0, x0, fx0\n    return 1, x1, fx1\n\n    for k in range(2, iter_max):\n        if abs(fx0) &gt; abs(fx1):\n            x0 = x1\n            x1 = x0\n            fx0 = fx1\n            fx1 = fx0\n\n            s = (x1 - x0) / (fx1 - fx0)\n            x1 = x0\n            fx1 = fx0\n            x0 = x0 - fx0 * s\n            fx0 = f(x0)\n\n        return k, x0, fx0\n\n        if abs(fx0) &lt; epsilon or abs(x**k - x**(k - 1))/ abs(x**(k))  &lt;= delta:\n            break\n</code></pre>\n\n<p>If I follow my code with</p>\n\n<pre><code>root = secant(-3.5, -2.5, f, 0.00000000001, 0.000001, 10) \nprint(root) \n</code></pre>\n\n<p>I get: (0, -3.5, False). So it doesn't actually do any iterations. How can I fix it?  </p>\n\n<p><strong>Edit</strong>:<br>\nPhoto of pseudocode\n<a href=\"https://i.stack.imgur.com/DKRaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKRaA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here: a=x_0, b=x_1 and M =iter_max.<br>\nI would like the output to be something like this:\n<a href=\"https://i.stack.imgur.com/7ojav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ojav.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "eclipse"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1506544168, "post_id": 46456657, "comment_id": 79869037, "body": "conclusion: you have no words containing the <code>Filename</code> substring."}, {"owner": {"reputation": 95, "user_id": 6052251, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/93f700336e6deb91ee246bc78d4279a7?s=128&d=identicon&r=PG&f=1", "display_name": "Marshal Alessi", "link": "https://stackoverflow.com/users/6052251/marshal-alessi"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1506544256, "post_id": 46456657, "comment_id": 79869080, "body": "I&#39;m so mad..I meant to type Filepath, which does exist. And Filename, does not :) Thank you!"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1506544373, "post_id": 46456657, "comment_id": 79869126, "body": "note that to match exact words, just do <code>if &quot;Filepath&quot; in line.split()</code>"}], "owner": {"reputation": 95, "user_id": 6052251, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/93f700336e6deb91ee246bc78d4279a7?s=128&d=identicon&r=PG&f=1", "display_name": "Marshal Alessi", "link": "https://stackoverflow.com/users/6052251/marshal-alessi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506543933, "creation_date": 1506543933, "question_id": 46456657, "link": "https://stackoverflow.com/questions/46456657/unable-to-cross-check-word-in-string", "title": "Unable to Cross check word in string", "body": "<p>I have simple code that reads from a text file. If I remove the if statement, it outputs each word as expected. However, after putting in the if statement(which is done to find as specific word), it outputs what is shown in the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xw4dl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xw4dl.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>with open(\"tasksUpdateFailedDailyReport_output.txt\") as f:\n     for line in f:\n         for word in line.split():\n             if \"Filename\" in word: \n                 print(word)\n\nprint(\"Done\");\n</code></pre>\n\n<p>I'm using Eclipse as an IDE if that changes anything. The goal is to be able to find specific words within this text file to manipulate them.</p>\n"}, {"tags": ["python", "r", "digest", "hashlib"], "answers": [{"comments": [{"owner": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "edited": false, "score": 0, "creation_date": 1506544199, "post_id": 46456689, "comment_id": 79869047, "body": "I should&#39;ve mentioned that I tried this already. This is the output I get: <code>f0 e4 c2 f7 6c 58 91 6e c2 58 f2 46 85 1b ea 09 1d 14 d4 24 7a 2f c3 e1 86 94 46 1b 18 16 e1 3b</code>"}, {"owner": {"reputation": 24653, "user_id": 254306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0745d192010b591257e771df7f439524?s=128&d=identicon&r=PG", "display_name": "Travis Gockel", "link": "https://stackoverflow.com/users/254306/travis-gockel"}, "reply_to_user": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "edited": false, "score": 2, "creation_date": 1506544237, "post_id": 46456689, "comment_id": 79869069, "body": "The difference is how R and Python print byte strings -- they represent the same code."}], "tags": [], "owner": {"reputation": 24653, "user_id": 254306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0745d192010b591257e771df7f439524?s=128&d=identicon&r=PG", "display_name": "Travis Gockel", "link": "https://stackoverflow.com/users/254306/travis-gockel"}, "is_accepted": true, "score": 5, "last_activity_date": 1506544064, "creation_date": 1506544064, "answer_id": 46456689, "question_id": 46456623, "link": "https://stackoverflow.com/questions/46456623/r-equivalent-of-pythons-hashlib-sha256-function/46456689#46456689", "title": "R equivalent of Python&#39;s hashlib.sha256 function", "body": "<p>The Python output is the raw bytes of the digest. The R <a href=\"https://www.rdocumentation.org/packages/digest/versions/0.6.12/topics/digest\" rel=\"noreferrer\">digest</a> function also supports this with the <code>raw</code> argument.</p>\n\n<pre><code>digest(\"asdf\", algo=\"sha256\", serialize=FALSE, raw=TRUE)\n</code></pre>\n"}], "owner": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 1, "accepted_answer_id": 46456689, "answer_count": 1, "score": 2, "last_activity_date": 1506545757, "creation_date": 1506543841, "last_edit_date": 1506545757, "question_id": 46456623, "link": "https://stackoverflow.com/questions/46456623/r-equivalent-of-pythons-hashlib-sha256-function", "title": "R equivalent of Python&#39;s hashlib.sha256 function", "body": "<p>I'm trying to replicate the output of the following Python code in R:</p>\n\n<pre><code>import hashlib\n\nx = hashlib.sha256()\nx.update(\"asdf\".encode(\"utf8\"))\nprint(x.digest())\n# b'\\xf0\\xe4\\xc2\\xf7lX\\x91n\\xc2X\\xf2F\\x85\\x1b\\xea\\t\\x1d\\x14\\xd4$z/\\xc3\\xe1\\x86\\x94F\\x1b\\x18\\x16\\xe1;'\n</code></pre>\n\n<p>This is my R code:</p>\n\n<pre><code>library(digest)\ndigest(\"asdf\", algo=\"sha256\", serialize=FALSE)\n# \"f0e4c2f76c58916ec258f246851bea091d14d4247a2fc3e18694461b1816e13b\"\n</code></pre>\n\n<p>I'm able to get this same output in python by using <code>x.hexdigest()</code> instead of <code>x.digest()</code>. How do I get the output of <code>x.digest()</code> in my R code?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1506543916, "post_id": 46456599, "comment_id": 79868909, "body": "remove <code>def recursion(P,S):</code> and change the function call to be <code>most()</code>"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1506544404, "post_id": 46456599, "comment_id": 79869142, "body": "Is there some reason you have to use recursion for this?"}, {"owner": {"reputation": 97, "user_id": 3242805, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f0b32bb1e5fd3118e03ecbb118b9294b?s=128&d=identicon&r=PG&f=1", "display_name": "Maxwell Omdal", "link": "https://stackoverflow.com/users/3242805/maxwell-omdal"}, "edited": false, "score": 0, "creation_date": 1506544691, "post_id": 46456599, "comment_id": 79869281, "body": "the problem is, if I change the function call to most, it will return a list of boolean values instead of just a single value. I would like to make this as clean as I can"}], "answers": [{"tags": [], "owner": {"reputation": 8276, "user_id": 327038, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e17117063f64ef47f36ab4ee45bf3d4b?s=128&d=identicon&r=PG", "display_name": "asthasr", "link": "https://stackoverflow.com/users/327038/asthasr"}, "is_accepted": true, "score": 1, "last_activity_date": 1506545854, "last_edit_date": 1506545854, "creation_date": 1506544628, "answer_id": 46456827, "question_id": 46456599, "link": "https://stackoverflow.com/questions/46456599/how-can-i-return-a-single-boolean-value-from-a-recursive-function/46456827#46456827", "title": "How can I return a single boolean value from a recursive function?", "body": "<p>The biggest key to recursion is understanding the \"terminal condition.\" What is the state where the function must stop? In this case, it's the empty list.</p>\n\n<pre><code>def most(pred, lst):\n    if lst == []:\n       return # but what do we return?\n</code></pre>\n\n<p>You will need to keep track of the number of list elements that meet an expectation... so you have to keep track of both the expectation (i.e. how many have to be true in order for \"most\" to be true), as well as the count so far. Let's add those...</p>\n\n<pre><code>def most(pred, lst, threshold=None, count=0):\n    if threshold is None:\n        threshold = len(lst) // 2\n\n    if lst == []:\n        return count &gt; threshold\n</code></pre>\n\n<p>So, then we need to \"deconstruct\" the list so that we can recurse over it. Let's add that...</p>\n\n<pre><code>def most(pred, lst, threshold=None, count=0):\n    if threshold is None:\n        threshold = len(lst) // 2\n\n    if lst == []:\n        return count &gt; threshold\n\n    # Check the 'truth' of the head of the list...\n    if pred(lst[0]):\n        count += 1\n\n    # ...and pass the tail of the list into the next iteration.\n    return most(pred, lst[1:], threshold, count)\n</code></pre>\n\n<p>That should be all that you need. Now, I'll caution you that if your lists are of significant length, Python will blow its stack. This is also significantly slower than a solution using a <code>for</code> loop or <code>reduce</code>, because of all the additional function calls.</p>\n\n<p>If I were implementing <code>most</code> for production code, I would do this:</p>\n\n<pre><code>def most(pred, lst):\n    return sum(1 for x in lst if pred(x)) &gt; len(lst) // 2\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 3242805, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f0b32bb1e5fd3118e03ecbb118b9294b?s=128&d=identicon&r=PG&f=1", "display_name": "Maxwell Omdal", "link": "https://stackoverflow.com/users/3242805/maxwell-omdal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 46456827, "answer_count": 1, "score": 1, "last_activity_date": 1506545854, "creation_date": 1506543746, "question_id": 46456599, "link": "https://stackoverflow.com/questions/46456599/how-can-i-return-a-single-boolean-value-from-a-recursive-function", "title": "How can I return a single boolean value from a recursive function?", "body": "<p>I have this function:</p>\n\n<pre><code>def most(P, S):\n    def recursion(P,S):\n        if len(S) == 0:\n           return []\n        elif P(S[0]):\n            return [P(S[0])] + recursion(P, S[1:])\n        else:\n            return recursion(P, S[1:])\n    if len(recursion(P,S)) &gt; len(S)/2:\n        return True\n    else:\n        return False\n</code></pre>\n\n<p>It takes an input of function, P and list, S. If the result of P(S[i]) is true for most of S, then the function most() should return true. Any idea how I can do this recursively without a function inside of a function? In other words, how can I return a single boolean value from a recursive function that takes a list as its input?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1846, "user_id": 7424634, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ooAaa.jpg?s=128&g=1", "display_name": "rachid el kedmiri", "link": "https://stackoverflow.com/users/7424634/rachid-el-kedmiri"}, "edited": false, "score": 0, "creation_date": 1506543872, "post_id": 46456578, "comment_id": 79868893, "body": "use try and except"}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 0, "creation_date": 1506544074, "post_id": 46456578, "comment_id": 79868982, "body": "<code>&gt;&gt;&gt; &#39;__call__&#39; in myc.__dict__</code>  <code>False</code>"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 0, "creation_date": 1506544100, "post_id": 46456578, "comment_id": 79868999, "body": "@bipll do I need to use quote around <code>__call__</code>?"}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 0, "creation_date": 1506544154, "post_id": 46456578, "comment_id": 79869032, "body": "Sure. When you quote it it&#39;s a string to be used as a dict key. When you don&#39;t quote it it is an identifier, in your case undefined yet."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 1, "creation_date": 1506544133, "post_id": 46456639, "comment_id": 79869025, "body": "Thanks. Whose method is <code>myc.__call__</code>? <code>builtins.type</code>&#39;s?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506544688, "post_id": 46456639, "comment_id": 79869279, "body": "@Tim: My answer now includes more detail on that."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1506544145, "last_edit_date": 1506544145, "creation_date": 1506543887, "answer_id": 46456639, "question_id": 46456578, "link": "https://stackoverflow.com/questions/46456578/how-can-i-tell-if-a-class-has-a-method-call/46456639#46456639", "title": "How can I tell if a class has a method `__call__`?", "body": "<p><code>myc.__call__</code> is giving you the <code>__call__</code> method used to call <code>myc</code> itself, not instances of <code>myc</code>. It's the method invoked when you do</p>\n\n<pre><code>new_myc_instance = myc()\n</code></pre>\n\n<p>not when you do</p>\n\n<pre><code>new_myc_instance()\n</code></pre>\n\n<p><code>__call__ in myc.__dict__</code> gives you a NameError because you forgot to put quotation marks around <code>__call__</code>, and if you'd remembered to put quotation marks, it would have given you False because <code>myc.__call__</code> isn't found through <code>myc.__dict__</code>. It's found through <code>type(myc).__dict__</code> (a.k.a. <code>type.__dict__</code>, because <code>type(myc) is type</code>).</p>\n\n<hr>\n\n<p>To check if <code>myc</code> has a <code>__call__</code> implementation for its instances, you could perform a manual MRO search, but <code>collections.abc.Callable</code> already implements that for you:</p>\n\n<pre><code>issubclass(myc, collections.abc.Callable)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1506546240, "post_id": 46457129, "comment_id": 79870029, "body": "Why not just <code>hasattr(myc, &quot;__call__&quot;)</code>?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 2, "creation_date": 1506546497, "post_id": 46457129, "comment_id": 79870117, "body": "@PaulCornelius Because it would return <code>True</code> for the same reason that <code>myc.__call__</code> returns the <code>__call__</code> method of the metaclass: Because it follows the normal lookup rules. I updated the answer to include a short note about it."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506552770, "post_id": 46457129, "comment_id": 79872246, "body": "Thanks. So are inherited attributes not stored in <code>__dict__</code>? what kinds of attributes are stored in <code>__dict__</code>, and what kinds not?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506553112, "post_id": 46457129, "comment_id": 79872344, "body": "@Tim Yes, inherited but not-overridden attributes are not inside the <code>__dict__</code> of the subclass. The <code>__dict__</code> just contains everything you explicitly defined inside the class (or put in manually) + some special attributes like <code>__doc__</code> that Python puts in."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506554727, "post_id": 46457129, "comment_id": 79872727, "body": "Thanks. what kinds of attributes does <code>inspect.getmembers(class)</code> return ?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1506554999, "post_id": 46457129, "comment_id": 79872787, "body": "That also includes inherited members :)"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506555308, "post_id": 46457129, "comment_id": 79872863, "body": "Thanks again. To test if a class <code>myc</code> has an attribute named <code>myattr</code>, can either  <code>&#39;myattr&#39; in inspect.getmembers(myc)</code>  or <code>any(&#39;myattr&#39; in cls.__dict__ for cls in myc.__mro__)</code> work? Are the ways equivalent?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1506555561, "post_id": 46457129, "comment_id": 79872922, "body": "<code>inspect.getmembers</code> will be much slower (it&#39;s non-short-circuit and processes all <code>__dict__</code>s instead of just checking if one element is in it) and if you have a custom metaclass with <code>__dir__</code> then it will also include members of the metaclass if you call <code>getmembers</code> on a class. So in your example they will give the same result but they are by no means equivalent."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506555634, "post_id": 46457129, "comment_id": 79872940, "body": "Since it include members of metaclass, if any,   is <code>&#39;myattr&#39; in inspect.getmembers(myc)</code> the same as <code>hasattr(myc, &#39;myattr&#39;)</code>?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1506555767, "post_id": 46457129, "comment_id": 79872960, "body": "No, those aren&#39;t the same either because <code>getmembers</code> only gives metaclass attributes that are explicitly returned in <code>__dir__</code> (source: <a href=\"https://docs.python.org/3/library/inspect.html#inspect.getmembers\" rel=\"nofollow noreferrer\"><code>inspect.getmembers</code> docs</a>) while <code>hasattr</code> would find metaclass attributes unconditionally."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506555892, "post_id": 46457129, "comment_id": 79872981, "body": "Thanks. What kinds of attributes are stored in <code>obj.__dir__</code>? I thought it stores exactly all the attributes accessible via <code>obj</code>, which are either the attributes of <code>obj</code>, or the attributes of the type or metaclass of <code>obj</code>?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1506555976, "post_id": 46457129, "comment_id": 79873001, "body": "<a href=\"https://docs.python.org/reference/datamodel.html#object.__dir__\" rel=\"nofollow noreferrer\"><code>__dir__</code></a> is just a method that has a default implementation on <code>object</code> and <code>type</code>. You can override it in your class (and metaclass)."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506556046, "post_id": 46457129, "comment_id": 79873013, "body": "@Tim But I guess this has gotten far out of the scope of the question and answer. If you have more question you probably just ask another question about it (but check if it has been asked before)."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1506556894, "post_id": 46457129, "comment_id": 79873213, "body": "@Tim No problem, but it&#39;s hard to really give answers in the comments. Too short (especially when including links) and no good code formatting to show examples."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1506546866, "last_edit_date": 1506546866, "creation_date": 1506545942, "answer_id": 46457129, "question_id": 46456578, "link": "https://stackoverflow.com/questions/46456578/how-can-i-tell-if-a-class-has-a-method-call/46457129#46457129", "title": "How can I tell if a class has a method `__call__`?", "body": "<p>The reason why <code>myc.__call__</code> gives you something back <sup>1</sup> instead of raising an <code>AttributeError</code> is because the metaclass of <code>myc</code> (<code>type</code>) has a <code>__call__</code> method. And if an attribute isn't found on the instance (in this case your class) it's looked up on the class (in this case the metaclass).</p>\n\n<p>For example if you had a custom metaclass the <code>__call__</code> lookup would've returned something different:</p>\n\n<pre><code>class mym(type):\n    def __call__(self, *args, **kwargs):\n        return super().__call__(*args, **kwargs)\n\nclass myc(metaclass=mym):\n    pass\n\n&gt;&gt;&gt; myc.__call__\n&lt;bound method mym.__call__ of &lt;class '__main__.myc'&gt;&gt;\n</code></pre>\n\n<p>Regarding the <code>__call__ in myc.__dict__</code> that has been answered in the comments and the other answer already: You just forgot the quotations:</p>\n\n<pre><code>&gt;&gt;&gt; '__call__' in myc.__dict__\nFalse\n</code></pre>\n\n<p>However it could also be that <code>myc</code> subclasses a callable class, in that case it would also give <code>False</code>:</p>\n\n<pre><code>class mysc:\n    def __call__(self):\n        return 10\n\nclass myc(mysc):\n    pass\n\n&gt;&gt;&gt; '__call__' in myc.__dict__\nFalse\n</code></pre>\n\n<p>So you need something more robust. Like searching all the superclasses:</p>\n\n<pre><code>&gt;&gt;&gt; any('__call__' in cls.__dict__ for cls in myc.__mro__)\nTrue\n</code></pre>\n\n<p>Or as pointed out by user2357112 use <code>collections.Callable</code> which <a href=\"https://github.com/python/cpython/blob/v3.6.2/Lib/_collections_abc.py#L398-L410\" rel=\"nofollow noreferrer\">overrides the <code>issubclass</code>-check</a> so that it looks for <code>__call__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections.abc import Callable\n&gt;&gt;&gt; issubclass(myc, Callable)\nTrue\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> That's also the reason why you can't just use <code>hasattr(myc, '__call__')</code> to find out if it has a <code>__call__</code> method itself.</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 2, "accepted_answer_id": 46456639, "answer_count": 2, "score": 2, "last_activity_date": 1506546866, "creation_date": 1506543643, "question_id": 46456578, "link": "https://stackoverflow.com/questions/46456578/how-can-i-tell-if-a-class-has-a-method-call", "title": "How can I tell if a class has a method `__call__`?", "body": "<p>A very simple class isn't a callable type:</p>\n\n<pre><code>&gt;&gt;&gt; class myc:\n...     pass\n... \n&gt;&gt;&gt; c=myc()\n&gt;&gt;&gt; callable(c)\nFalse\n</code></pre>\n\n<p>How can I tell if a class has a method <code>__call__</code>? Why do the following two ways give opposite results?</p>\n\n<pre><code>&gt;&gt;&gt; myc.__call__\n&lt;method-wrapper '__call__' of type object at 0x1104b18&gt;     \n\n&gt;&gt;&gt; __call__ in myc.__dict__\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name '__call__' is not defined\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "c", "python-3.x", "cython", "python-multiprocessing"], "comments": [{"owner": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 1, "creation_date": 1506612928, "post_id": 46456499, "comment_id": 79901198, "body": "I cannot test this as the wrapper is not available but importing <code>MyWrapperClass</code> only in the <code>run</code> block of the new process should let it continue. If I understand correctly, the C library does not allow itself to be used in forked processes. Since the shared library is only loaded on <code>import</code> in python, importing it only in the newly spawned process but not its parent should be ok."}, {"owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "reply_to_user": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506613590, "post_id": 46456499, "comment_id": 79901596, "body": "Yes @danny exactly, so I had really hoped that would work, but for some reason it still throws that same error. That is, if I put the <code>from wrapper_module import MyWrapperClass</code> into the <code>MyProcess.run</code> method, it still has the same issue. Do you know if there&#39;s something unique about processes spawned by <code>multiprocessing</code> that is inherently different than the main process? Otherwise I cannot imagine how the process would even know to throw this error."}, {"owner": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506613919, "post_id": 46456499, "comment_id": 79901828, "body": "They are processes that have a parent PID that is not 1 (the init process). In other words spawned by another process. But that applies to all processes spawned by any other process, like the shell. But I think what is happening is that the <code>import</code> statement causes it to be loaded in both the parent and new process. You could though run two separate python processes and connect them via IPC, meaning not spawn a process in python code at all but use two python scripts, one importing <code>MyWrapper</code>, one not, and a shared multiprocessing pipe/memory for communication between them."}, {"owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "reply_to_user": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506614171, "post_id": 46456499, "comment_id": 79902007, "body": "Hm I see what you mean, except I&#39;m not sure how I could implement that in the context of a package...the goal is for one to be able to simply import MyProcess from the package and use it."}, {"owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "reply_to_user": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506614194, "post_id": 46456499, "comment_id": 79902014, "body": "I do wonder whether this has anything to do with the fundamental issue: <a href=\"https://stackoverflow.com/questions/15991036/why-cant-i-use-cocoa-frameworks-in-different-forked-processes\" title=\"why cant i use cocoa frameworks in different forked processes\">stackoverflow.com/questions/15991036/&hellip;</a>"}, {"owner": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506614526, "post_id": 46456499, "comment_id": 79902208, "body": "There&#39;s no rule saying that you cannot spawn a python interpreter in a new multiprocessing process (other than that usually you do not need to). So that is an option. Eg, make the <code>run</code> be <code>python &lt;my wrapper using script&gt;</code> and communicate with it via IPC. But I wonder if this is even necessary. You have a C library and presumably releasing the GIL. Is <code>threading</code> not an option? Or does that not work either."}, {"owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "reply_to_user": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "edited": false, "score": 0, "creation_date": 1506615465, "post_id": 46456499, "comment_id": 79902714, "body": "Thanks @danny I suppose I should try a threading-based solution. I was avoiding this because I&#39;m trying to keep as much of this as possible in python. But that does seem like a possible workaround"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "edited": false, "score": 0, "creation_date": 1506605621, "post_id": 46460050, "comment_id": 79896052, "body": "Yeah but this is not the scenario I&#39;m describing, as it does not raise the forked process error. As I mentioned, this error has to do with single-process restrictions in the underlying C library. Your example C code has no such restrictions and thus doesn&#39;t raise that error. When you import mylib, it runs that code in the main process, and it is able to fork it off when you start the new process. But that is not always the case-in fact it&#39;s not the case any time a non-shareable resource is used. In those cases, the relevant C code need be instantiated <i>only</i> in the run method of the process."}], "tags": [], "owner": {"reputation": 622, "user_id": 6610031, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c0af37e745972b1aa14bd9abc9a1dec?s=128&d=identicon&r=PG&f=1", "display_name": "oz1", "link": "https://stackoverflow.com/users/6610031/oz1"}, "is_accepted": false, "score": 0, "last_activity_date": 1506565855, "creation_date": 1506565855, "answer_id": 46460050, "question_id": 46456499, "link": "https://stackoverflow.com/questions/46456499/how-can-i-use-an-external-c-library-wrapped-with-cython-in-a-separate-python-pro/46460050#46460050", "title": "How can I use an external C library wrapped with Cython in a separate Python process via multiprocessing?", "body": "<p>Codes in <code>cdef extern</code> are just delarations for external c functions(Let's only consider c), these delarations are put into the generated c file without any changes(almost), it has nothing to do with initializations.</p>\n\n<p>I also made a rather simple test(py3.6 windows):</p>\n\n<p><strong>lib.c:</strong></p>\n\n<pre><code>int add(int a, int b)\n{\n    return a + b ;\n}\n</code></pre>\n\n<p><strong>mylib.pyx:</strong></p>\n\n<pre><code>cdef extern from \"lib.c\":\n    int _add \"add\"(int a, int b)\n\ncdef class WrapperClass:\n    def add(self, a, b):\n        return _add(a, b)\n</code></pre>\n\n<p><strong>test_lib.py:</strong></p>\n\n<pre><code>from mylib import WrapperClass\nimport multiprocessing as mp\n\nclass MyProcess(mp.Process):\n    def __init__(self):\n        super().__init__()\n\n    def run(self):\n        self.mwc = WrapperClass()\n        print(self.mwc.add(1, 2))\n\n\nif __name__ == \"__main__\":\n    proc = MyProcess()\n    proc.start()\n</code></pre>\n\n<p>run <code>python test_lib.py</code> without any problem. Maybe my c code is too simple, but I have no idea what your c functions realy do, myabe that's the real problem.</p>\n"}], "owner": {"reputation": 393, "user_id": 1062535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3da3f86d2cd73643dbc6c90fbf228?s=128&d=identicon&r=PG", "display_name": "benson", "link": "https://stackoverflow.com/users/1062535/benson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1506619437, "creation_date": 1506543367, "question_id": 46456499, "link": "https://stackoverflow.com/questions/46456499/how-can-i-use-an-external-c-library-wrapped-with-cython-in-a-separate-python-pro", "title": "How can I use an external C library wrapped with Cython in a separate Python process via multiprocessing?", "body": "<p>I have wrapped a small C library in Cython, and can successfully call it from Python. Here's a simplified example representing how this is as of now:</p>\n\n<pre><code># wrapper_module.pyx\n\ncdef extern from \"my_c_library.h\":\n    void function1()\n    int function2(int param1, char *param2)\n\nclass MyWrapperClass():\n    def __init__(self):\n        pass\n    def do_func1(self):\n        function1()\n    def do_func2(self, p1, p2):\n        function2(p1, p2)\n</code></pre>\n\n<p>This all works well. My goal now is to create and use an instance of <code>MyWrapperClass</code> in a separate process, like this:</p>\n\n<pre><code># my_script.py\n\nimport multiprocessing as mp\nfrom wrapper_module import MyWrapperClass\n\nclass MyProcess(mp.Process):\n    def __init__(self):\n        super().__init__()\n\n    def run(self):\n        self.mwc = MyWrapperClass()\n        self.mwc.do_func1()\n        # ... do more\n\nif __name__ == '__main__':\n    proc = MyProcess()\n    proc.start()\n</code></pre>\n\n<p>When I run my_script.py, I get the following error:</p>\n\n<blockquote>\n  <p>The process has forked and you cannot use this CoreFoundation\n  functionality safely. You MUST exec(). Break on\n  <strong>THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_USE_THIS_COREFOUNDATION_FUNCTIONALITY___YOU_MUST_EXEC</strong>()\n  to debug.</p>\n</blockquote>\n\n<p>I think I understand generally why it does not allow this cython module to be forked into a different process (due to resources that the underlying C library uses). But generally when I have encountered this type of problem in the past, either in pure Python or using ctypes and calling DLLs, I can solve it by placing all the critical code in the <code>run</code> method of <code>MyProcess</code>, causing it only to be initialized in the newly forked process.</p>\n\n<p>In this Cython case, however, I don't know how to include the <code>cdef extern</code> code only in the forked process, to avoid this error. Any suggestions?</p>\n\n<p>(I am running python 3.6.2 on macOS 10.12)</p>\n"}, {"tags": ["python", "python-2.7", "os.path"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8685438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41b4edca3cbc528abf1b07f121f499b0?s=128&d=identicon&r=PG&f=1", "display_name": "user8685438", "link": "https://stackoverflow.com/users/8685438/user8685438"}, "edited": false, "score": 0, "creation_date": 1506543842, "post_id": 46456601, "comment_id": 79868877, "body": "Thanks for the quick reply, I will look into your suggestion.  Thanks!"}], "tags": [], "owner": {"reputation": 609, "user_id": 2596941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERK65.jpg?s=128&g=1", "display_name": "steffens21", "link": "https://stackoverflow.com/users/2596941/steffens21"}, "is_accepted": false, "score": 0, "last_activity_date": 1506543760, "creation_date": 1506543760, "answer_id": 46456601, "question_id": 46456489, "link": "https://stackoverflow.com/questions/46456489/os-path-join-issue-windows/46456601#46456601", "title": "os.path.join issue Windows", "body": "<p>I think that this line is bad on Windows:</p>\n\n<pre><code>file_name = str.split(file.name, '/')\n</code></pre>\n\n<p>The split on '/' will not split at all.  You should use os.path.sep instead.</p>\n\n<p>I think os.path.join reacts so confusing since the second part you try to join is already a full file path (since the split failed).</p>\n"}], "owner": {"reputation": 1, "user_id": 8685438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41b4edca3cbc528abf1b07f121f499b0?s=128&d=identicon&r=PG&f=1", "display_name": "user8685438", "link": "https://stackoverflow.com/users/8685438/user8685438"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506543760, "creation_date": 1506543333, "last_edit_date": 1506543497, "question_id": 46456489, "link": "https://stackoverflow.com/questions/46456489/os-path-join-issue-windows", "title": "os.path.join issue Windows", "body": "<p>I am having some issues with <code>os.path.join</code> and a Windows system.  I have created a script that recursively reads files containing unstructured JSON data, creates a directory named \"converted_json\", and prints the content of each unstructured JSON file in a structured format into a new file within the \"converted_json\" directory.  </p>\n\n<p>I have tested the script below on macOS and upon execution, the structured JSON data is printed to new files and the new files are output to the \"converted_json\" directory.  However, when I execute the script on a Windows system, the JSON data is printed to new files, but the files are not output to the \"converted_json\" directory.  </p>\n\n<p>Essentially, the following <code>os.path.joi</code>n code does not appear to be working on Windows in the following section:</p>\n\n<pre><code>conv_json = open(os.path.join(converted_dir, str(file_name[-1]) + '_converted'), 'wb')\n</code></pre>\n\n<p>The files are created, however they are not stored within the \"converted_json\" directory that is specified by the converted_dir variable.</p>\n\n<p>The following output is from printing the \"conv_json\" variable:</p>\n\n<p><em>open file 'C:\\Users\\test\\Desktop\\test\\file_name.json.gz.json_converted', mode 'wb' at 0x0000000002617930</em></p>\n\n<p>As seen from above, the file path contained within the \"conv_json\" variable does not contain the \"converted_json\" directory (it should be there from using os.path.join and the converted_dir variable.  </p>\n\n<p>Any assistance as to how to get the structured data to output to the \"converted_json\" directory would be greatly appreciated.  </p>\n\n<p>Code below:</p>\n\n<pre><code>argparser = argparse.ArgumentParser()\nargparser.add_argument('-d', '--d', dest='dir_path', type=str, default=None, required=True, help='Directory path to Archive/JSON files')\nargs = argparser.parse_args()\ndir_path = args.dir_path\n\n\nconverted_dir = os.path.join(dir_path, 'converted_json')\nos.mkdir(converted_dir, 0777)\n\nfor subdir1, dirs1, files1 in os.walk(dir_path):\n    for file in files1:\n\n        try:\n            if file.endswith(\".json\"):\n                file = open(os.path.join(subdir1, file))\n                file_name = str.split(file.name, '/')\n\n                conv_json = open(os.path.join(converted_dir, str(file_name[-1]) + '_converted'), 'wb')\n\n                conv_json.write('#################################################################################################################################')\n                conv_json.write('\\n')\n                conv_json.write('File Name: ' + file_name[-1])\n                conv_json.write('\\n')\n                conv_json.write('#################################################################################################################################')\n                conv_json.write('\\n')\n\n                parsed_json = json.load(file)\n                s = cStringIO.StringIO()\n                pprint.pprint(parsed_json, s)\n\n                conv_json.write(s.getvalue())\n\n                conv_json.close()\n\n        except:\n            print 'JSON Files Not Found'\n\nprint 'JSON Processing Completed: ' + str(datetime.datetime.now())\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 1, "creation_date": 1506543248, "post_id": 46456459, "comment_id": 79868577, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/493386/how-to-print-without-newline-or-space\">How to print without newline or space?</a>"}, {"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1506543684, "post_id": 46456459, "comment_id": 79868804, "body": "<code>print(&#39;url&#39;, &#39;url2&#39;, sep=&#39; &#39;)</code>  or <code>print(&#39;url&#39;, end=&#39; &#39;) ;print(&#39;url2&#39;, end=&#39; &#39;) ...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "is_accepted": false, "score": -1, "last_activity_date": 1506543745, "last_edit_date": 1506543745, "creation_date": 1506543395, "answer_id": 46456509, "question_id": 46456459, "link": "https://stackoverflow.com/questions/46456459/printing-multiple-links-in-one-line-separated-by-spaces/46456509#46456509", "title": "Printing multiple links in one line separated by spaces", "body": "<p>Try adding a comma to the end of the print statement:</p>\n\n<pre><code>links = [\"https://www.google.co.uk\",\"https://www.google.co.uk\",\"https://www.google.co.uk\"]\nfor link in links:\n    print link,\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8666000"}, "edited": false, "score": 0, "creation_date": 1506544263, "post_id": 46456605, "comment_id": 79869082, "body": "Thanks, this is an easier way of doing it."}], "tags": [], "owner": {"reputation": 165, "user_id": 3944040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb3a4905234b40f90cdc1ab81ae7f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/3944040/leroy"}, "is_accepted": true, "score": 0, "last_activity_date": 1506543781, "creation_date": 1506543781, "answer_id": 46456605, "question_id": 46456459, "link": "https://stackoverflow.com/questions/46456459/printing-multiple-links-in-one-line-separated-by-spaces/46456605#46456605", "title": "Printing multiple links in one line separated by spaces", "body": "<p>It depends on where your string is coming from, but if it is a simple single string then the following could work:</p>\n\n<pre><code>string_value = '''https://www.google.co.uk\n                  https://www.google.co.uk\n                  https://www.google.co.uk'''\n# replace the newline character with a space\nstring_value.replace('\\n', ' ')\n&gt;&gt; https://www.google.co.uk https://www.google.co.uk https://www.google.co.uk\n</code></pre>\n\n<p>Please be aware that some string newlines may consist of the '\\r\\n' too.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8666000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 46456605, "answer_count": 2, "score": 0, "last_activity_date": 1506543781, "creation_date": 1506543174, "question_id": 46456459, "link": "https://stackoverflow.com/questions/46456459/printing-multiple-links-in-one-line-separated-by-spaces", "title": "Printing multiple links in one line separated by spaces", "body": "<p>I want to know how I can print multiple links in one line transforming them from being in a separate line to having spaces between them and putting them on the same line.</p>\n\n<p>Example:</p>\n\n<pre><code>https://www.google.co.uk\nhttps://www.google.co.uk\nhttps://www.google.co.uk\n</code></pre>\n\n<p>I want it to print this instead:</p>\n\n<pre><code>https://www.google.co.uk https://www.google.co.uk https://www.google.co.uk\n</code></pre>\n"}, {"tags": ["python", "pandas", "dask", "facebook-prophet"], "answers": [{"comments": [{"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1506621577, "post_id": 46471808, "comment_id": 79906145, "body": "Hi Tom, I tried your method and as well <code>from dask.distributed import Client</code> and then <code>client = Client()</code> and performance are pretty much the same. The problem is that whenever I use <code>key_n = 5000</code> with <code>forecast2dd</code> I get the following error: <code>OSError: [Errno 24] Too many open files: &#39;&#47;dev&#47;null&#39;</code>"}, {"owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "edited": false, "score": 0, "creation_date": 1506628155, "post_id": 46471808, "comment_id": 79909618, "body": "I solved <code>OSError: [Errno 24] Too many open files</code> firing <code>ulimit -Sn 10000</code> from terminal."}], "tags": [], "owner": {"reputation": 23426, "user_id": 1889400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af37d1daf2f9da7d04cbcd52b47c4a3?s=128&d=identicon&r=PG", "display_name": "TomAugspurger", "link": "https://stackoverflow.com/users/1889400/tomaugspurger"}, "is_accepted": true, "score": 2, "last_activity_date": 1506609330, "creation_date": 1506609330, "answer_id": 46471808, "question_id": 46456438, "link": "https://stackoverflow.com/questions/46456438/dask-and-fbprophet/46471808#46471808", "title": "Dask and fbprophet", "body": "<p>I suspect that Prophet is holding the GIL, so when computing <code>ddf.groupby(\"key\").apply(forecast2dd, meta=pd.Series(name=\"s\")</code>, only one thread can run Python code at once. Using <code>multiprocessing</code> can sidestep this, at the cost of having to copy your data <code>ncpu</code> times. This should have similar runtime to your <code>parallel_pd</code> function.</p>\n\n<pre><code>%%time\nwith dask.set_options(get=dask.multiprocessing.get):\n    grp = ddf.groupby(\"key\").apply(forecast2dd, \n        meta=pd.Series(name=\"s\")).to_frame().compute()\n\ndf2dd = pd.concat([pd.DataFrame(a) for a in grp.s.values])\n\nCPU times: user 2.47 s, sys: 251 ms, total: 2.72 s\nWall time: 1min 27s\n</code></pre>\n\n<p>You could try asking the Prophet developers if they need to hold the GIL. I suspect that the issue is in PyStan, and that they probably don't need the GIL when the actual Stan solvers are running. There's a Github issue <a href=\"https://github.com/stan-dev/pystan/issues/179\" rel=\"nofollow noreferrer\">here</a></p>\n\n<hr>\n\n<p>Side note: since your sample <code>forecast1dd</code> is a an aggregation, it can be run much more quickly using a <code>dd.Aggregation</code>:</p>\n\n<pre><code>%%time\n\ndef forcast1dd_chunk(ts):\n    time.sleep(0.1)\n    return ts.max()\n\ndef forecast1dd_agg(ts):\n    return ts.max()\n\nf1dd = dd.Aggregation(\"forecast1dd\", forcast1dd_chunk, forecast1dd_agg)\n\ngrp = ddf.groupby(\"key\")[['y']].agg(f1dd)\nx = grp.compute()\n\nCPU times: user 59.5 ms, sys: 5.13 ms, total: 64.7 ms\nWall time: 355 ms\n</code></pre>\n\n<p>Though this doesn't fit your actual problem, which isn't an aggregation.</p>\n"}], "owner": {"reputation": 8523, "user_id": 4819376, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/744923bfd6e28c59c787a3efaeec02ca?s=128&d=identicon&r=PG", "display_name": "rpanai", "link": "https://stackoverflow.com/users/4819376/rpanai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "accepted_answer_id": 46471808, "answer_count": 1, "score": 3, "last_activity_date": 1605115207, "creation_date": 1506543077, "last_edit_date": 1605115207, "question_id": 46456438, "link": "https://stackoverflow.com/questions/46456438/dask-and-fbprophet", "title": "Dask and fbprophet", "body": "<p>I'm trying to use <code>dask</code> and the <code>fbprophet</code> library together and I'm either doing something wrong or having unexpected performance problems.</p>\n\n<pre><code>import dask.dataframe as dd\nimport datetime as dt\nimport multiprocessing as mp \nimport numpy as np\nimport pandas as pd\npd.options.mode.chained_assignment = None\nfrom fbprophet import Prophet\nimport time\nncpu = mp.cpu_count()\n\ndef parallel_pd(fun, vec, pool = ncpu-1):\n    with mp.Pool(pool) as p:\n        res = p.map(fun,vec)\n    return(res)\n\ndef forecast1dd(ts):\n    time.sleep(0.1)\n    return ts[\"y\"].max()\n\ndef forecast1mp(key):\n    ts = df[df[\"key\"]==key]\n    time.sleep(0.1)\n    return ts[\"y\"].max()\n\ndef forecast2dd(ts):\n    future = pd.DataFrame({\"ds\":pd.date_range(start=ts[\"ds\"].max()+ dt.timedelta(days=1),\n                                                  periods=7, freq=\"D\")})\n    key = ts.name\n    model = Prophet(yearly_seasonality=True)\n    model.fit(ts)\n    forecast = model.predict(future)\n    future[\"yhat\"] = forecast[\"yhat\"]\n    future[\"key\"] =  key\n    return future.as_matrix()\n\ndef forecast2mp(key):\n    ts = df[df[\"key\"]==key]\n    future = pd.DataFrame({\"ds\":pd.date_range(start=ts[\"ds\"].max()+ dt.timedelta(days=1),\n                                                  periods=7, freq=\"D\")})\n    model = Prophet(yearly_seasonality=True)\n    model.fit(ts)\n    forecast = model.predict(future)\n    future[\"yhat\"] = forecast[\"yhat\"]\n    future[\"key\"] =  key\n    return future.as_matrix()\n</code></pre>\n\n<p>In one side I have a custom function which runs in about 0.1 s so <code>forecast1dd</code> and <code>forecast1mp</code> are simulating my function and  for the following dataframe</p>\n\n<pre><code>N = 2*365\nkey_n = 5000\ndf = pd.concat([pd.DataFrame({\"ds\":pd.date_range(start=\"2015-01-01\",periods=N, freq=\"D\"),\n                   \"y\":np.random.normal(100,20,N),\n                  \"key\":np.repeat(str(k),N)}) for k in range(key_n)])\nkeys = df.key.unique()\ndf = df.sample(frac=1).reset_index(drop=True)\nddf = dd.from_pandas(df, npartitions=ncpu*2)\n</code></pre>\n\n<p>I obtain (respectively)</p>\n\n<pre><code>%%time\ngrp = ddf.groupby(\"key\").apply(forecast1dd, meta=pd.Series(name=\"s\"))\ndf1dd = grp.to_frame().compute()\nCPU times: user 7.7 s, sys: 400 ms, total: 8.1 s\nWall time: 1min 8s\n\n%%time\nres = parallel_pd(forecast1mp,keys)\nCPU times: user 820 ms, sys: 360 ms, total: 1.18 s\nWall time: 10min 36s\n</code></pre>\n\n<p>In the first case the cores are not used at 100% but the performances are in line with my real situation. It is easy to check, using a line profiler, that the culprit for slow performance in second case is <code>ts = df[df[\"key\"]==key]</code> and things get worst if we have more keys.</p>\n\n<p>So till now I'm happy with <code>dask</code>. But whenever I try to use <code>fbprophet</code> things change. Here I use fewer <code>keys</code> but unlikely the previous case <code>dask</code> performance are always worst than <code>multiprocessing</code>.</p>\n\n<pre><code>N = 2*365\nkey_n = 200\ndf = pd.concat([pd.DataFrame({\"ds\":pd.date_range(start=\"2015-01-01\",periods=N, freq=\"D\"),\n                   \"y\":np.random.normal(100,20,N),\n                  \"key\":np.repeat(str(k),N)}) for k in range(key_n)])\n\nkeys = df.key.unique()\ndf = df.sample(frac=1).reset_index(drop=True)\nddf = dd.from_pandas(df, npartitions=ncpu*2)\n\n%%time\ngrp = ddf.groupby(\"key\").apply(forecast2dd, \nmeta=pd.Series(name=\"s\")).to_frame().compute()\ndf2dd = pd.concat([pd.DataFrame(a) for a in grp.s.values])\nCPU times: user 3min 42s, sys: 15 s, total: 3min 57s\nWall time: 3min 30s\n\n%%time\nres = parallel_pd(forecast2mp,keys)\ndf2mp = pd.concat([pd.DataFrame(a) for a in res])\nCPU times: user 76 ms, sys: 160 ms, total: 236 ms\nWall time: 39.4 s\n</code></pre>\n\n<p>Now my questions are:</p>\n\n<ul>\n<li>How can I improve the performance of prophet with dask?</li>\n<li>What should I do to have dask using cores at 100%?</li>\n</ul>\n"}, {"tags": ["python", "numpy", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1506544600, "post_id": 46456396, "comment_id": 79869228, "body": "Those timings are very good considering how large your matrix is.  I don&#39;t think you can squeeze any more performance other than resorting to using a completely different framework."}, {"owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1506545164, "post_id": 46456396, "comment_id": 79869543, "body": "@rayryeng I kind of find it slow because for example doing X^TX in the example I gave is taking 450ms which is equal to time taken in doing SA. Given that doing SA is O(mn) and doing X^TX is O(mn^2) when X is m*n, I find doing SA not fast enough. Also I know I have not taken sparsity of X into account but I have similar number for dense X. Thanks"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1506545371, "post_id": 46456396, "comment_id": 79869647, "body": "With only one value per column, you might do better by using <code>rows</code> to index <code>X</code>, and then a dense <code>dot</code> with <code>values</code>."}], "answers": [{"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 1, "creation_date": 1506544443, "post_id": 46456736, "comment_id": 79869156, "body": "That probably will not help.  Sparse matrix representation and sparse matrix multiplication in <code>scipy</code> is already very well optimized so using an unoptimized representation of a sparse matrix to do the multiplication will probably take longer than what is currently being benchmarked. (FYI, I did not downvote)."}, {"owner": {"reputation": 173, "user_id": 8684591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81baa41584d4879969d4b8935c72537f?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Diaz", "link": "https://stackoverflow.com/users/8684591/mark-diaz"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1506554835, "post_id": 46456736, "comment_id": 79872752, "body": "And no worries about any down votes - if that is what the answer deserves. No one who is a successful programmer thinks ego is more important than reality."}], "tags": [], "owner": {"reputation": 173, "user_id": 8684591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81baa41584d4879969d4b8935c72537f?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Diaz", "link": "https://stackoverflow.com/users/8684591/mark-diaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1506544262, "creation_date": 1506544262, "answer_id": 46456736, "question_id": 46456396, "link": "https://stackoverflow.com/questions/46456396/what-is-the-fastest-way-to-multiply-with-extremely-sparse-matrix/46456736#46456736", "title": "What is the fastest way to multiply with extremely sparse matrix?", "body": "<p>As I recall, Knuth TAOP talks about representing a sparse matrix instead as a linked list of (for your app) non-zero values. Maybe something like that? Then traverse the linked list rather than the entire array by each dimension.</p>\n"}, {"comments": [{"owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506550530, "post_id": 46457039, "comment_id": 79871602, "body": "Thanks. I will try them out. Just one thing X.T*values seems to be doing dot product instead of multiply when X is sparse."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506550891, "post_id": 46457039, "comment_id": 79871729, "body": "@user1131274 The proposed methods assume <code>X</code> as dense. If you are working with sparse, one way would be to convert to dense and then multiply with <code>values</code>. So, <code>X.toarray().T*values</code> and so on."}, {"owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506551528, "post_id": 46457039, "comment_id": 79871946, "body": "X is very large to make it dense. Also whats your XtX time. The reason I am asking this is because my SX time is same as XtX which I find strange since XtX is O(nd^2) and SX is O(nd) in theory where d=2500 in our case. Thats why I feel there should be better way. Thanks for your effort."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506574331, "post_id": 46457039, "comment_id": 79877213, "body": "@user1131274 Also, what&#39;s <code>XtX</code>?"}, {"owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506617683, "post_id": 46457039, "comment_id": 79903953, "body": "XtX is (X^T)*X. Also I have edited, adding what I had in mind. I think we can parallelize my approach on output row index. Because if we look at it all we have to do is partition the rows of X into rows of output matrix. Can you please look at my approach and tell me if something could be done there. I don&#39;t know python parallelization libraries. Thanks"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "edited": false, "score": 0, "creation_date": 1506621151, "post_id": 46457039, "comment_id": 79905900, "body": "@user1131274 I am sort of lost here. Why are we doing <code>(X^T)*X</code> again? I thought we were interested in <code>S.dot(X)</code> equivalent result."}, {"owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1506621330, "post_id": 46457039, "comment_id": 79906004, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/155543/discussion-between-user1131274-and-divakar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 3, "last_activity_date": 1506554182, "last_edit_date": 1506554182, "creation_date": 1506545578, "answer_id": 46457039, "question_id": 46456396, "link": "https://stackoverflow.com/questions/46456396/what-is-the-fastest-way-to-multiply-with-extremely-sparse-matrix/46457039#46457039", "title": "What is the fastest way to multiply with extremely sparse matrix?", "body": "<p><strong>Approach #1</strong></p>\n\n<p>Given that there's exactly one entry per column in the first input, we could use <code>np.bincount</code> using inputs - <code>rows</code>, <code>values</code> and <code>X</code> and thus also avoids creating sparse matrix <code>S</code>  -</p>\n\n<pre><code>def sparse_matrix_mult(rows, values, X):\n    nrows = rows.max()+1\n    ncols = X.shape[1]\n    nelem = nrows * ncols\n\n    ids = rows + nrows*np.arange(ncols)[:,None]\n    sums = np.bincount(ids.ravel(), (X.T*values).ravel(), minlength=nelem)\n    out = sums.reshape(ncols,-1).T\n    return out\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [746]: import numpy as np\n     ...: from scipy.sparse import csr_matrix\n     ...: import scipy as sp\n     ...: \n\nIn [747]: np.random.seed(1234)\n     ...: m,n = 3,4\n     ...: rows = np.random.randint(0, m, n)\n     ...: values = np.random.randint(2,10,n)\n     ...: X = np.random.randint(2, 10, (n,5))\n     ...: \n\nIn [748]: S = csr_matrix( (values, (rows, sp.arange(n))), shape = (m,n))\n\nIn [749]: S.dot(X)\nOut[749]: \narray([[42, 27, 45, 78, 87],\n       [24, 18, 18, 12, 24],\n       [18,  6,  8, 16, 10]])\n\nIn [750]: sparse_matrix_mult(rows, values, X)\nOut[750]: \narray([[ 42.,  27.,  45.,  78.,  87.],\n       [ 24.,  18.,  18.,  12.,  24.],\n       [ 18.,   6.,   8.,  16.,  10.]])\n</code></pre>\n\n<p><strong>Approach #2</strong></p>\n\n<p>Using <code>np.add.reduceat</code> to replace <code>np.bincount</code> -</p>\n\n<pre><code>def sparse_matrix_mult_v2(rows, values, X):\n    nrows = rows.max()+1\n    ncols = X.shape[1]\n\n    scaled_ar = X*values[:,None]\n    sidx = rows.argsort()\n    rows_s = rows[sidx]\n    cut_idx = np.concatenate(([0],np.flatnonzero(rows_s[1:] != rows_s[:-1])+1))\n    sums = np.add.reduceat(scaled_ar[sidx],cut_idx,axis=0)\n\n    out = np.empty((nrows, ncols),dtype=sums.dtype)\n    row_idx = rows_s[cut_idx]\n    out[row_idx] = sums\n    return out\n</code></pre>\n\n<p><strong>Runtime test</strong></p>\n\n<p>I could not run it on the sizes mentioned in the question, as those were too big for me to handle. So, on reduced datasets, here's what I am getting -</p>\n\n<pre><code>In [149]: m,n = 1000, 100000\n     ...: rows = np.random.randint(0, m, n)\n     ...: values = np.random.randint(2,10,n)\n     ...: X = np.random.randint(2, 10, (n,2500))\n     ...: \n\nIn [150]: S = csr_matrix( (values, (rows, sp.arange(n))), shape = (m,n))\n\nIn [151]: %timeit csr_matrix( (values, (rows, sp.arange(n))), shape = (m,n))\n100 loops, best of 3: 16.1 ms per loop\n\nIn [152]: %timeit S.dot(X)\n1 loop, best of 3: 193 ms per loop\n\nIn [153]: %timeit sparse_matrix_mult(rows, values, X)\n1 loop, best of 3: 4.4 s per loop\n\nIn [154]: %timeit sparse_matrix_mult_v2(rows, values, X)\n1 loop, best of 3: 2.81 s per loop\n</code></pre>\n\n<p>So, the proposed methods don't seem to over-power <code>numpy.dot</code> on performance, but they should be good on memory efficiency.</p>\n\n<hr>\n\n<p><strong>For sparse <code>X</code></strong></p>\n\n<p>For sparse <code>X</code>, we need some modifications, as listed in the modified method listed below -</p>\n\n<pre><code>from scipy.sparse import find\ndef sparse_matrix_mult_sparseX(rows, values, Xs): # Xs is sparse    \n    nrows = rows.max()+1\n    ncols = Xs.shape[1]\n    nelem = nrows * ncols\n\n    scaled_vals = Xs.multiply(values[:,None])\n    r,c,v = find(scaled_vals)\n    ids = rows[r] + c*nrows\n    sums = np.bincount(ids, v, minlength=nelem)\n    out = sums.reshape(ncols,-1).T\n    return out\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "is_accepted": true, "score": 1, "last_activity_date": 1507060320, "last_edit_date": 1507060320, "creation_date": 1507027981, "answer_id": 46542885, "question_id": 46456396, "link": "https://stackoverflow.com/questions/46456396/what-is-the-fastest-way-to-multiply-with-extremely-sparse-matrix/46542885#46542885", "title": "What is the fastest way to multiply with extremely sparse matrix?", "body": "<p>Inspired by this post <a href=\"https://stackoverflow.com/questions/46475895/fastest-way-to-sum-over-rows-of-sparse-matrix\">Fastest way to sum over rows of sparse matrix</a>, I have found the best way to do this is to write loops and port things to numba. Here is the </p>\n\n<p>`</p>\n\n<pre><code>@njit\ndef sparse_mul(SX,row,col,data,values,row_map):\n    N = len(data)\n    for idx in range(N):\n        SX[row_map[row[idx]],col[idx]]+=data[idx]*values[row[idx]]\n    return SX\nX_coo=X.tocoo()\ns=row_map.max()+1\nSX = np.zeros((s,X.shape[1]))\nsparse_mul(SX,X_coo.row,X_coo.col,X_coo.data,values,row_map)`\n</code></pre>\n\n<p>Here row_map is the rows in the question. On X of size (1M* 1K), 1% sparsity and with s=10K this performs twice as good as forming sparse matrix from row_map and doing S.dot(A).</p>\n"}], "owner": {"reputation": 473, "user_id": 1131274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e46acc1b06c5ef4fb03b3fd327cb9e3?s=128&d=identicon&r=PG", "display_name": "user1131274", "link": "https://stackoverflow.com/users/1131274/user1131274"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 1, "accepted_answer_id": 46542885, "answer_count": 3, "score": 3, "last_activity_date": 1507060320, "creation_date": 1506542867, "last_edit_date": 1506617288, "question_id": 46456396, "link": "https://stackoverflow.com/questions/46456396/what-is-the-fastest-way-to-multiply-with-extremely-sparse-matrix", "title": "What is the fastest way to multiply with extremely sparse matrix?", "body": "<p>I have an extremely sparse structured matrix. My matrix has exactly one non zero entry per column. But its huge(10k*1M) and given in following form(uisng random values for example)</p>\n\n<pre><code>rows = np.random.randint(0, 10000, 1000000)\nvalues = np.random.randint(0,10,1000000)\n</code></pre>\n\n<p>where rows gives us the row number for nonzero entry in each column. I want fast matrix multiplication with S and I am doing following right now - I convert this form to a sparse matrix(S) and do S.dot(X) for multiplication with matrix X(which can be sparse or dense).</p>\n\n<pre><code>S=scipy.sparse.csr_matrix( (values, (rows, scipy.arange(1000000))), shape = (10000,1000000))\n</code></pre>\n\n<p>For X of size 1M * 2500 and nnz(X)=8M this takes 178ms to create S and 255 ms to apply it. So my question is this what is the best way of doing SX (where X could be sparse or dense) given my S is as described. Since creating S is itself very time consuming I was thinking of something adhoc. I did try creating something using loops but its not even close.<br> \nSimple looping procedure looks something like this</p>\n\n<p><code>SX = np.zeros((rows.size,X.shape[1]))\n for i in range(X.shape[0]):\n     SX[rows[i],:]+=values[i]*X[i,:]\n return SX</code><br>\nCan we make this efficient? </p>\n\n<p>Any suggestions are greatly appreciated. Thanks</p>\n"}, {"tags": ["python", "machine-learning", "cross-validation", "lightgbm"], "answers": [{"tags": [], "owner": {"reputation": 195, "user_id": 5119420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab8f3a8756ca1413876d3fd2f182dc1?s=128&d=identicon&r=PG&f=1", "display_name": "pho", "link": "https://stackoverflow.com/users/5119420/pho"}, "is_accepted": false, "score": 0, "last_activity_date": 1510871008, "creation_date": 1510871008, "answer_id": 47340110, "question_id": 46456381, "link": "https://stackoverflow.com/questions/46456381/cross-validation-in-lightgbm/47340110#47340110", "title": "Cross-validation in LightGBM", "body": "<p>You should use CV for parameter optimization.</p>\n\n<p>If your model performs well on all folds use these parameters to train on the whole training set.\nThen evaluate that model on the external test set.</p>\n"}, {"tags": [], "owner": {"reputation": 4449, "user_id": 6658209, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d5fef05d47033ed74277904c3b05e2f?s=128&d=identicon&r=PG&f=1", "display_name": "bbennett36", "link": "https://stackoverflow.com/users/6658209/bbennett36"}, "is_accepted": false, "score": 1, "last_activity_date": 1525877368, "creation_date": 1525877368, "answer_id": 50256275, "question_id": 46456381, "link": "https://stackoverflow.com/questions/46456381/cross-validation-in-lightgbm/50256275#50256275", "title": "Cross-validation in LightGBM", "body": "<p>If you're happy with your CV results, you just use those parameters to call the 'lightgbm.train' method. Like @pho said, CV is usually just for param tuning. You don't use the actual CV object for predictions.</p>\n"}, {"tags": [], "owner": {"reputation": 2281, "user_id": 9640384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mischa Lisovyi", "link": "https://stackoverflow.com/users/9640384/mischa-lisovyi"}, "is_accepted": false, "score": 23, "last_activity_date": 1553504736, "last_edit_date": 1553504736, "creation_date": 1526216498, "answer_id": 50316411, "question_id": 46456381, "link": "https://stackoverflow.com/questions/46456381/cross-validation-in-lightgbm/50316411#50316411", "title": "Cross-validation in LightGBM", "body": "<p>In general, the purpose of CV is <strong>NOT</strong> to do hyperparameter optimisation. The purpose is <strong>to evaluate performance of model-building procedure</strong>. </p>\n\n<p>A basic train/test split is conceptually identical to a 1-fold CV (with a custom size of the split in contrast to the 1/K train size in the k-fold CV). The advantage of doing more splits (i.e. k>1 CV) is to get more information about the estimate of generalisation error. There is more info in a sense of getting the error + stat uncertainty. There is an excellent <a href=\"https://stats.stackexchange.com/questions/244907/how-to-get-hyper-parameters-in-nested-cross-validation?rq=1\">discussion on CrossValidated</a> (start with the links added to the question,  which cover the same question, but formulated in a different way). It covers  nested cross validation and is absolutely not straightforward. But if you will wrap your head around the concept in general, this will help you in various non-trivial situations. The idea that you have to take away is: <strong>The purpose of CV is to evaluate performance of model-building procedure</strong>. </p>\n\n<p>Keeping that idea in mind, how does one approach hyperparameter estimation in general (not only in LightGBM)? </p>\n\n<ul>\n<li>You want to train a model with a set of parameters on some data and evaluate each variation of the model on an independent (validation) set. Then you intend to choose the best parameters by choosing the variant that gives the best evaluation metric of your choice. </li>\n<li>This <strong>can be done with a simple train/test split</strong>. But evaluated performance, and thus the choice of the optimal model parameters, might be just a fluctuation on a particular split. </li>\n<li>Thus, you <strong>can evaluate each of those models more statistically robust averaging evaluation over several train/test splits, i.e k-fold CV</strong>. </li>\n</ul>\n\n<p>Then you can make a step further and say that you had an additional hold-out set, that was separated before hyperparameter optimisation was started. This way you can evaluate the chosen best model on that set to measure the final generalisation error. However, you can make even step further and instead of having a single test sample you can have an outer CV loop, which brings us to nested cross validation.</p>\n\n<p>Technically, <code>lightbgm.cv()</code> allows you only to evaluate performance on a k-fold split with fixed model parameters. For hyper-parameter tuning you will need to run it in a loop providing different parameters and recoding averaged performance to choose the best parameter set. after the loop is complete. This interface is different from <code>sklearn</code>, which provides you with complete functionality to do hyperparameter optimisation in a CV loop. Personally, <strong>I would recommend to use the sklearn-API of lightgbm</strong>. It is just a wrapper around the native <code>lightgbm.train()</code> functionality, thus it is not slower. But it allows you to use the full stack of <code>sklearn</code> toolkit, thich makes your life MUCH easier.</p>\n"}], "owner": {"reputation": 171, "user_id": 8685465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ef53960e53bf8acfce8b83054278be?s=128&d=identicon&r=PG&f=1", "display_name": "Nlind", "link": "https://stackoverflow.com/users/8685465/nlind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16041, "favorite_count": 7, "answer_count": 3, "score": 17, "last_activity_date": 1617840603, "creation_date": 1506542829, "last_edit_date": 1617840603, "question_id": 46456381, "link": "https://stackoverflow.com/questions/46456381/cross-validation-in-lightgbm", "title": "Cross-validation in LightGBM", "body": "<p>How are we supposed to use the dictionary output from <code>lightgbm.cv</code> to improve our predictions?</p>\n<p>Here's an example - we train our cv model using the code below:</p>\n<pre><code>cv_mod = lgb.cv(params, \n                d_train, \n                500, \n                nfold = 10, \n                early_stopping_rounds = 25,\n                stratified = True)\n</code></pre>\n<p>How can we use the parameters found from the best iteration of the above code to predict an output? In this case, <code>cv_mod</code> has no &quot;predict&quot; method like <code>lightgbm.train</code>, and the dictionary output from <code>lightgbm.cv</code>throws an error when used in <code>lightgbm.train.predict(..., pred_parameters = cv_mod)</code>.</p>\n<p>Am I missing an important transformation step?</p>\n"}, {"tags": ["python", "list", "sorting"], "comments": [{"owner": {"reputation": 1893, "user_id": 1787434, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85f5a5c15e84e4a9aec84dc8be822010?s=128&d=identicon&r=PG", "display_name": "the_storyteller", "link": "https://stackoverflow.com/users/1787434/the-storyteller"}, "edited": false, "score": 6, "creation_date": 1506543044, "post_id": 46456376, "comment_id": 79868467, "body": "The sorting algorithm you describe is called <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">Bubble Sort</a>. <a href=\"http://interactivepython.org/runestone/static/pythonds/SortSearch/TheBubbleSort.html\" rel=\"nofollow noreferrer\">See this python example.</a>"}], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "edited": false, "score": 0, "creation_date": 1506543862, "post_id": 46456414, "comment_id": 79868887, "body": "They&#39;re completely different sorting methods, he&#39;s using bubble sort (albeit incomplete) and you&#39;re using insertion sort. You can see the difference in our outputs."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1506543976, "post_id": 46456414, "comment_id": 79868935, "body": "that&#39;s actually selection sort IIRC"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1506542933, "creation_date": 1506542933, "answer_id": 46456414, "question_id": 46456376, "link": "https://stackoverflow.com/questions/46456376/python-sorting-a-list/46456414#46456414", "title": "Python: Sorting a List", "body": "<p>Currently you only compare each element and it's successor. However you really want to compare it to all following elements (starting with <code>i+1</code> and ending with <code>len(L)</code>), so you need a double loop:</p>\n\n<pre><code>L = [3, 4, 1, 5, 2, 0]\nfor i in range(0, (len(L)-1)):\n    for j in range(i+1, len(L)):\n        if L[i] &gt; L[j]:\n            L[i], L[j] = L[j], L[i]\n            print(L)\n</code></pre>\n\n<p>Which prints the following steps:</p>\n\n<pre><code>[1, 4, 3, 5, 2, 0]\n[0, 4, 3, 5, 2, 1]\n[0, 3, 4, 5, 2, 1]\n[0, 2, 4, 5, 3, 1]\n[0, 1, 4, 5, 3, 2]\n[0, 1, 3, 5, 4, 2]\n[0, 1, 2, 5, 4, 3]\n[0, 1, 2, 4, 5, 3]\n[0, 1, 2, 3, 5, 4]\n[0, 1, 2, 3, 4, 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 6511194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YW3XjPQkxbI/AAAAAAAAAAI/AAAAAAAAGz0/bgQjr-2oFHg/photo.jpg?sz=128", "display_name": "Evan Nowak", "link": "https://stackoverflow.com/users/6511194/evan-nowak"}, "is_accepted": false, "score": 0, "last_activity_date": 1506543133, "creation_date": 1506543133, "answer_id": 46456454, "question_id": 46456376, "link": "https://stackoverflow.com/questions/46456376/python-sorting-a-list/46456454#46456454", "title": "Python: Sorting a List", "body": "<p>You could just put it inside a while loop:</p>\n\n<pre><code>L = [3, 4, 1, 5, 2, 0]\nflag = True\nwhile flag:\n    flag = False\n    for i in range(0, (len(L)-1)):\n        if L[i] &gt; L[i+1]:\n            L[i], L[i+1] = L[i+1], L[i]\n            flag = True\n            print(L)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[3, 1, 4, 5, 2, 0]\n[3, 1, 4, 2, 5, 0]\n[3, 1, 4, 2, 0, 5]\n[1, 3, 4, 2, 0, 5]\n[1, 3, 2, 4, 0, 5]\n[1, 3, 2, 0, 4, 5]\n[1, 2, 3, 0, 4, 5]\n[1, 2, 0, 3, 4, 5]\n[1, 0, 2, 3, 4, 5]\n[0, 1, 2, 3, 4, 5]\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8643731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da57a3bdd64d3814e21ce0459ffdc7db?s=128&d=identicon&r=PG&f=1", "display_name": "tken25", "link": "https://stackoverflow.com/users/8643731/tken25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1506543133, "creation_date": 1506542804, "last_edit_date": 1506542970, "question_id": 46456376, "link": "https://stackoverflow.com/questions/46456376/python-sorting-a-list", "title": "Python: Sorting a List", "body": "<p>I'm trying to sort a list by moving through it and checking if a given element of the list is greater than the next element of the list, and if so, moving it accordingly so that the smaller number is to the left, larger to the right.</p>\n\n<p>This is the code I have so far:</p>\n\n<pre><code>L = [3, 4, 1, 5, 2, 0]\nfor i in range(0, (len(L)-1)):\n    if L[i] &gt; L[i+1]:\n        L[i], L[i+1] = L[i+1], L[i]\n        print(L)\n</code></pre>\n\n<p>The output of this for the three iterations are as follows:</p>\n\n<pre><code>[3, 1, 4, 5, 2, 0]\n[3, 1, 4, 2, 5, 0]\n[3, 1, 4, 2, 0, 5]\n</code></pre>\n\n<p>My goal is to get it to read [0, 1, 2, 3, 4, 5]. I realize I can just use the sorted() function but I'd prefer not to. I was thinking that I could try and iterate the for loop over the list multiple times, but I am unsure as to how to do so.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "tdd", "python-unittest"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506549206, "post_id": 46456591, "comment_id": 79871153, "body": "That gives the following message when I run the program: ModuleNotFoundError: No module named &#39;<b>main</b>.euler&#39;; &#39;<b>main</b>&#39; is not a package"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "reply_to_user": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506549312, "post_id": 46456591, "comment_id": 79871184, "body": "try to add <code>__init__</code> in main"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "reply_to_user": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506549370, "post_id": 46456591, "comment_id": 79871204, "body": "Anyway, problem is n this row, it depends on structure and settings"}, {"owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506615618, "post_id": 46456591, "comment_id": 79902784, "body": "I have no file main. Also I tried several things with this row, but it breaks the program or the unit test."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "reply_to_user": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506629541, "post_id": 46456591, "comment_id": 79910240, "body": "Do you use some IDE?"}, {"owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506630025, "post_id": 46456591, "comment_id": 79910463, "body": "No, I use Atom and run the code from the command line. Working on Fedora 26."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "reply_to_user": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506631852, "post_id": 46456591, "comment_id": 79911318, "body": "Try to replace <code>unittest.main(module=None)</code> on <code>unittest.main()</code>"}, {"owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506636437, "post_id": 46456591, "comment_id": 79913088, "body": "I used now  try:     from .euler import Euler except ModuleNotFoundError:     from euler import Euler"}, {"owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "edited": false, "score": 0, "creation_date": 1506636619, "post_id": 46456591, "comment_id": 79913145, "body": "Not the most elegant solution, but it works. And probably falls under &#39;ask forgiveness, not permission&#39;."}], "tags": [], "owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "is_accepted": false, "score": 0, "last_activity_date": 1506543698, "creation_date": 1506543698, "answer_id": 46456591, "question_id": 46456359, "link": "https://stackoverflow.com/questions/46456359/unittest-in-python-2-not-working-in-python-3/46456591#46456591", "title": "Unittest in Python 2 not working in Python 3", "body": "<p>A problem is in a file <strong>problems.py</strong> in row <code>import euler</code>. Try to replace it on <code>from .euler import Euler</code></p>\n"}], "owner": {"reputation": 437, "user_id": 2279593, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ea0c7b10f540b4c09901f71dcba81eae?s=128&d=identicon&r=PG", "display_name": "Matthieu", "link": "https://stackoverflow.com/users/2279593/matthieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 758, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506543698, "creation_date": 1506542767, "question_id": 46456359, "link": "https://stackoverflow.com/questions/46456359/unittest-in-python-2-not-working-in-python-3", "title": "Unittest in Python 2 not working in Python 3", "body": "<p>To have some practice and work on my programming skills I decided to built an application in Python to solve problems from Project Euler. I have no experience with unit testing so I decided to build my project with the help of  TDD and get some experience with that as well. Unfortunately while building the foundation I run my program with Python3 but did all the unit testing with Python2. Now I try to do the test with Python3 and it fails.</p>\n\n<p>Before this I never wrote more than some small scripts with Python. I expect this project to be bigger and also it will contain more files so after some research I decided to use the following project structure:</p>\n\n<pre><code>project_euler:\n  euler:\n    - __init__.py\n    - euler.py\n    - problems.py\n  tests:\n    - __init__.py\n    - test_euler.py\n    - test_problems.py\n</code></pre>\n\n<p>The init files are empty.  </p>\n\n<p><strong>euler.py</strong></p>\n\n<pre><code>#!/usr/bin/env python3\n# coding: utf-8\n\n\nclass Euler:\n    def __init__(self):\n        pass\n</code></pre>\n\n<p><strong>problems.py</strong></p>\n\n<pre><code>#!/usr/bin/env python3\n# coding: utf-8\n\nimport sys\nimport euler\n\n\nclass ProjectEuler(euler.Euler):\n    def __init__(self):\n        pass\n</code></pre>\n\n<p><strong>test_euler.py</strong></p>\n\n<pre><code>#!/usr/bin/env python3\n# coding: utf-8\n\nimport unittest\nimport euler.euler as euler\n\n\nclass UnitTest(unittest.TestCase):\n    # a bunch of tests here\n\nif __name__ == '__main__':\n    unittest.main(module=None)\n</code></pre>\n\n<p>test_problems.py</p>\n\n<pre><code>#!/usr/bin/env python3\n# coding: utf-8\n\nimport unittest\nfrom euler import problems\n\n\nclass UnitTest(unittest.TestCase):\n    # a bunch of tests here\n\nif __name__ == '__main__':\n    unittest.main(module=None)\n</code></pre>\n\n<p>The following commands do work:<br>\npython -m unittest discover<br>\npython -m unittest tests.test_problems  </p>\n\n<p>The following do not.<br>\n<strong>python3 -m unittest discover</strong></p>\n\n<pre><code>ImportError: Failed to import test module: tests.test_problems\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 428, in _find_test_path\n    module = self._get_module_from_name(name)\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 369, in _get_module_from_name\n    __import__(name)\n  File \"/home/me/code/project_euler/tests/test_problems.py\", line 5, in &lt;module&gt;\n    import euler.problems as problems\n  File \"/home/me/code/project_euler/euler/problems.py\", line 8, in &lt;module&gt;\n    class ProjectEuler(euler.Euler):\nAttributeError: module 'euler' has no attribute 'Euler'\n</code></pre>\n\n<p><strong>python3 -m unittest tests.test_problems</strong></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/lib64/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/usr/lib64/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/usr/lib64/python3.6/unittest/__main__.py\", line 18, in &lt;module&gt;\n    main(module=None)\n  File \"/usr/lib64/python3.6/unittest/main.py\", line 94, in __init__\n    self.parseArgs(argv)\n  File \"/usr/lib64/python3.6/unittest/main.py\", line 141, in parseArgs\n    self.createTests()\n  File \"/usr/lib64/python3.6/unittest/main.py\", line 148, in createTests\n    self.module)\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 219, in loadTestsFromNames\n    suites = [self.loadTestsFromName(name, module) for name in names]\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 219, in &lt;listcomp&gt;\n    suites = [self.loadTestsFromName(name, module) for name in names]\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 153, in loadTestsFromName\n    module = __import__(module_name)\n  File \"/home/me/code/project_euler/tests/test_problems.py\", line 5, in &lt;module&gt;\n    import euler.problems as problems\n  File \"/home/mvrakking/code/project_euler/euler/problems.py\", line 8, in &lt;module&gt;\n    class ProjectEuler(euler.Euler):\nAttributeError: module 'euler' has no attribute 'Euler'\n</code></pre>\n\n<p>I tried all kinds of options, but it breaks my program or my unit test. I can't find what is the difference between Python 2.7.13 and 3.6.2 that is causing this.</p>\n"}, {"tags": ["python", "tkinter", "colors"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 8552993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-OTZSP_13zEY/AAAAAAAAAAI/AAAAAAAADGQ/9aJ6DYM-PEk/photo.jpg?sz=128", "display_name": "Yasath Dias", "link": "https://stackoverflow.com/users/8552993/yasath-dias"}, "edited": false, "score": 0, "creation_date": 1506546933, "post_id": 46456516, "comment_id": 79870275, "body": "I&#39;ve implemented this, but the program just starts a blank CMD window, and no Tkinter window starts up... (<a href=\"https://i.imgur.com/XAD5I9L.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/XAD5I9L.png</a>)"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 49, "user_id": 8552993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-OTZSP_13zEY/AAAAAAAAAAI/AAAAAAAADGQ/9aJ6DYM-PEk/photo.jpg?sz=128", "display_name": "Yasath Dias", "link": "https://stackoverflow.com/users/8552993/yasath-dias"}, "edited": false, "score": 0, "creation_date": 1506547884, "post_id": 46456516, "comment_id": 79870653, "body": "@YasathDias: the only explanation for that would be that <code>[COLOUR GENERATING SCRIPT]</code> never finishes. What does that code do?"}, {"owner": {"reputation": 49, "user_id": 8552993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-OTZSP_13zEY/AAAAAAAAAAI/AAAAAAAADGQ/9aJ6DYM-PEk/photo.jpg?sz=128", "display_name": "Yasath Dias", "link": "https://stackoverflow.com/users/8552993/yasath-dias"}, "edited": false, "score": 0, "creation_date": 1506622899, "post_id": 46456516, "comment_id": 79906852, "body": "You were right, my script was running itself over and over without outputting anything, so after tweaking a few lines, it works perfectly! Thank you so much :)"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1506543410, "creation_date": 1506543410, "answer_id": 46456516, "question_id": 46456329, "link": "https://stackoverflow.com/questions/46456329/repeatedly-change-tkinter-window-colour-to-generated-colour/46456516#46456516", "title": "Repeatedly change Tkinter window colour to generated colour", "body": "<p>You need to remove the <code>while</code> loop entirely. Instead, create a function that is what you would do in the loop, and then have that function call itself via <code>after</code>. It will then run for the life of the program.</p>\n\n<pre><code>from Tkinter import *\nfrom colour import Color\n\ndef changeColor():\n    [ COLOUR GENERATING SCRIPT ]\n    hexcolour = Color(rgb=(red, green, blue))\n    root.configure(background=hexcolour)\n\n    # call this function again in one second\n    root.after(1000, changeColor)\n\nroot = Tk()\nroot.configure(background=\"grey\")\nroot.geometry(\"400x400\")\n\n# call it once, it will run forever\nchangeColor()\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8552993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-OTZSP_13zEY/AAAAAAAAAAI/AAAAAAAADGQ/9aJ6DYM-PEk/photo.jpg?sz=128", "display_name": "Yasath Dias", "link": "https://stackoverflow.com/users/8552993/yasath-dias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 46456516, "answer_count": 1, "score": 0, "last_activity_date": 1506543410, "creation_date": 1506542625, "question_id": 46456329, "link": "https://stackoverflow.com/questions/46456329/repeatedly-change-tkinter-window-colour-to-generated-colour", "title": "Repeatedly change Tkinter window colour to generated colour", "body": "<p>I have Python code to generate the average colour of the screen as an RGB value <strong>and</strong> a hex code. The code repeats itself through a <code>while True</code> loop, and I want to put the instructions to change the window colour at the end of this loop. </p>\n\n<p>I have this code at the moment:</p>\n\n<pre><code>from Tkinter import *\nfrom colour import Color\n\nroot = Tk()\nroot.configure(background=\"grey\")\nroot.geometry(\"400x400\")\nroot.mainloop()\nwhile True:\n    [ COLOUR GENERATING SCRIPT ]\n    hexcolour = Color(rgb=(red, green, blue))\n    root.configure(background=hexcolour)\n</code></pre>\n\n<p>Can someone please tell me how I can initiate a Tkinter window and then change the colour each time the loop runs?</p>\n\n<p>I'm running Python 2.7 for this project.</p>\n"}, {"tags": ["python", "random", "astropy", "fits", "pyfits"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1507134710, "post_id": 46456300, "comment_id": 80093406, "body": "For what it&#39;s worth, you don&#39;t even need to use <code>.field(fieldname)</code>--you can just use subscript syntax like <code>data_table[fieldname]</code> (where as <code>data_table[x]</code> where <code>x</code> is an integer returns a row of the table).  Also there isn&#39;t much special about this unique to pyfits--it&#39;s just a glorified <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.recarray.html\" rel=\"nofollow noreferrer\"><code>numpy.recarray</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 4, "last_activity_date": 1506544315, "last_edit_date": 1506544315, "creation_date": 1506543953, "answer_id": 46456662, "question_id": 46456300, "link": "https://stackoverflow.com/questions/46456300/get-random-subsample-from-pyfits-data-table/46456662#46456662", "title": "Get random subsample from pyfits data table", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.choice.html\" rel=\"nofollow noreferrer\"><code>numpy.random.choice</code></a> to create an array containing several random choices from another array.</p>\n\n<p>In your case you want \"x\" rows from your <code>data_table</code>. You can't directly use <code>choice</code> on the Table but you can use the <code>len</code> of your table for <code>random.choice</code>:</p>\n\n<pre><code>import numpy as np\nrows_numbers_to_keep = np.random.choice(len(data_table), 2, replace=False)\n</code></pre>\n\n<p>And then index your table:</p>\n\n<pre><code>subsample = data_table[rows_numbers_to_keep]\n</code></pre>\n\n<p>For example (I'm using astropy because <a href=\"http://www.stsci.edu/institute/software_hardware/pyfits\" rel=\"nofollow noreferrer\">PyFITS isn't developed anymore and has been migrated to <code>astropy.io.fits</code></a>):</p>\n\n<pre><code>&gt;&gt;&gt; data\nFITS_rec([(1, 4, 7), (2, 5, 8), (3, 6, 9), (4, 7, 0)],\n         dtype=(numpy.record, [('a', 'S21'), ('b', 'S21'), ('c', 'S21')]))\n\n&gt;&gt;&gt; data[np.random.choice(len(data), 2, replace=False)]  # keep 2 distinct rows\nFITS_rec([(1, 4, 7), (4, 7, 0)],\n         dtype=(numpy.record, [('a', 'S21'), ('b', 'S21'), ('c', 'S21')]))\n</code></pre>\n\n<p>If you want to allow getting the same row several times you can use <code>replace=True</code> instead.</p>\n"}], "owner": {"reputation": 3252, "user_id": 5121448, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d03ec9caa5409449cb47f21db2c7c2aa?s=128&d=identicon&r=PG&f=1", "display_name": "carl", "link": "https://stackoverflow.com/users/5121448/carl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "accepted_answer_id": 46456662, "answer_count": 1, "score": 1, "last_activity_date": 1507134596, "creation_date": 1506542501, "last_edit_date": 1507134596, "question_id": 46456300, "link": "https://stackoverflow.com/questions/46456300/get-random-subsample-from-pyfits-data-table", "title": "Get random subsample from pyfits data table", "body": "<p>I have a very simple question, but Google does not seem to be able to help me here. I want a subsample of a pyfits table... basically just remove 90% of the rows, or something like that. I read the table with:</p>\n\n<pre><code>data_table = pyfits.getdata(base_dir + filename)\n</code></pre>\n\n<p>I like the pyfits table organization where I access a field with <code>data_table.field(fieldname)</code>, so I would like to keep the data structure, but remove rows.</p>\n"}, {"tags": ["python", "python-2.7", "pdf", "xlsx"], "comments": [{"owner": {"reputation": 452, "user_id": 5203369, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c4tyb3Rgy_E/AAAAAAAAAAI/AAAAAAAAAGU/yWbbayFY_20/photo.jpg?sz=128", "display_name": "Mads Marquart", "link": "https://stackoverflow.com/users/5203369/mads-marquart"}, "edited": false, "score": 0, "creation_date": 1506543047, "post_id": 46456299, "comment_id": 79868470, "body": "Perhaps take a look at <a href=\"https://github.com/jmcnamara/XlsxWriter/issues/53\" rel=\"nofollow noreferrer\">github.com/jmcnamara/XlsxWriter/issues/53</a>"}], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 7853322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e75023ca1b18a72290d106f255d8510?s=128&d=identicon&r=PG&f=1", "display_name": "brddawg", "link": "https://stackoverflow.com/users/7853322/brddawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1506545257, "creation_date": 1506545257, "answer_id": 46456967, "question_id": 46456299, "link": "https://stackoverflow.com/questions/46456299/how-to-convert-a-xlsx-file-to-pdf-with-python-2-7/46456967#46456967", "title": "How to convert a XLSX file to PDF with Python 2.7", "body": "<p>Try using a comdination of openpyxl and PDFwriter as shown in <a href=\"http://code.activestate.com/recipes/579128-convert-microsot-excel-xlsx-to-pdf-with-python-and/\" rel=\"nofollow noreferrer\">this example</a> this example</p>\n"}], "owner": {"reputation": 27, "user_id": 8569606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e69825c1c7518bca92aa651c7aca60?s=128&d=identicon&r=PG&f=1", "display_name": "A.Thom", "link": "https://stackoverflow.com/users/8569606/a-thom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1506545257, "creation_date": 1506542499, "question_id": 46456299, "link": "https://stackoverflow.com/questions/46456299/how-to-convert-a-xlsx-file-to-pdf-with-python-2-7", "title": "How to convert a XLSX file to PDF with Python 2.7", "body": "<p>I have an .xlsx file I generate using xlsxwriter in a python script (version 2.7). I am trying to find a way to convert a worksheet in the file to a PDF format. I have not found a module that suits my needs yet.. simple, lightweight, and is able to be installed using pip. </p>\n\n<p>Any suggestions, let's hear them! Thanks to all! </p>\n"}, {"tags": ["python", "mysql", "django", "web-deployment", "lamp"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506671624, "post_id": 46457391, "comment_id": 79922796, "body": "Thanks for the response. I&#39;ve had a good look through docs, done a couple of udemy courses, followed some digitalocean tutorials, basically started from scratch with a new install, and yet still I get : django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named &#39;MySQLdb&#39;. Did you install mysqlclient or MySQL-python?  Losing the will to live! Is it not possible to have Django &amp; MySQL on RPi or something?  The reason I need to use MySQL over SQLite3 is two have more than one &#39;user&#39; writing to it."}, {"owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "reply_to_user": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506698666, "post_id": 46457391, "comment_id": 79938559, "body": "Looks like you miss the python bindings for mysql. I would recommend using <a href=\"https://github.com/PyMySQL/mysqlclient-python\" rel=\"nofollow noreferrer\">mysqlclient</a> - IMO it is easier to set up. The README on the github page tells you how to install the lib itself and the necessary binaries in your OS."}, {"owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506706107, "post_id": 46457391, "comment_id": 79942471, "body": "I&#39;ve been trying to install it but with no success. It&#39;s the same problem that I had before I started again"}, {"owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "reply_to_user": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506708820, "post_id": 46457391, "comment_id": 79943911, "body": "It would be nice if you add detailed information about the error in your initial question. Relevant information: do you use virtualenv? What is the output of <code>pip list</code> when inside your environment (without virtualenv, just run it). Which python version do you want to use. Add the full stacktrace of the error. Plus anything else you might be necessary to know. :)"}, {"owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506712947, "post_id": 46457391, "comment_id": 79945803, "body": "I&#39;m not using a virtualenv, although would like to at some stage. I&#39;ll have to add the pip list to the OP, as it&#39;s too long to list in here. Python3 would be preferred. I have installed pymysql, but I&#39;m now getting a config parser error with etc/MySQL/my.cnf"}, {"owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "reply_to_user": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506714015, "post_id": 46457391, "comment_id": 79946266, "body": "It is totally fine to add those information to the question! This looks really weird. Django should not try to parse mysql config at all. Is your mysql currently running? What does <code>sudo service mysql status</code> say? First ensure that the database is up and running. Use the same settings as in your django to connect there using the cli. <code>mysql -p -u yourusername yourdatabasename</code> - it asks you for the password. If this works as expected, move over to start django."}, {"owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506714592, "post_id": 46457391, "comment_id": 79946525, "body": "I believe so, sudo service MySQL status = active and running, lists as MariaDB but I think that&#39;s normal from what I&#39;ve read? I can&#39;t &#39;login&#39; to MySQL using username/password, and I&#39;m fairly sure I set a password when I ran the secure installation. Sudo MySQL gets me straight in though"}, {"owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "reply_to_user": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506718631, "post_id": 46457391, "comment_id": 79948429, "body": "Oh yeah - of course - debian moved over to mariadb - this is not the same! But however they provide the same interface. can you please add your django database settings to your question?"}, {"owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506720546, "post_id": 46457391, "comment_id": 79949089, "body": "I seem to have it operational... I&#39;ve changed the etc/MySQL/my.cnf to include hostname = local host. I then had a different issue of MySQL access, that I fixed, and it seems to be functional and using the MySQL database. I&#39;m going to crack on and see if I can install Django admin, if I can then it should be working?"}, {"owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "reply_to_user": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "edited": false, "score": 0, "creation_date": 1506720719, "post_id": 46457391, "comment_id": 79949156, "body": "yes, it should work then - if your webserver logs don&#39;t cry and you can see any page rendered by your django application it already works..."}], "tags": [], "owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "is_accepted": false, "score": 0, "last_activity_date": 1506547174, "creation_date": 1506547174, "answer_id": 46457391, "question_id": 46456296, "link": "https://stackoverflow.com/questions/46456296/would-installing-lamp-fix-django-mysql-config-issues/46457391#46457391", "title": "Would installing LAMP fix Django/MySQL config issues?", "body": "<p>I would not recommend using the LAMP stack for what you want to achieve. You already picked python as your programming language and django as a framework for your application.</p>\n\n<p>Now you need to face the sysadmin part. When reading about MySQL you often read about to phpmyadmin - which is a graphical user interface for your database server based on PHP. If you want to use it, you need PHP, thats right, but you can also maintain your MySQL database using other tools. E.g. the commandline client called <code>mysql</code> or the <a href=\"https://www.mysql.com/products/workbench/\" rel=\"nofollow noreferrer\">MySQL Workbench</a>, which you install on your desktop.</p>\n\n<p>When you start diggin into the world of databases there are a lot of things to discover. But don't hesitate. The official documentation has a quite nice <a href=\"https://dev.mysql.com/doc/mysql-getting-started/en/\" rel=\"nofollow noreferrer\">getting started</a> part. You just need to know how to start/stop the server and how to manage users and permissions. Django usually takes care of all the other things. Of course it is useful to get a deeper knowledge of SQL and the database server at all - but initially it is not needed and there are a lot of developers who do not know more than I described above.</p>\n\n<p>You might also use sqlite on your RPi - it is a filebased database that plays nice with django and is very easy to maintain. If you don't expect high load and massive amounts of data it should usually fit your needs quite nice. And there is no need to install and maintain your database server.</p>\n\n<p>Last but not least you need a webserver that serves your django app. While developing django provides a build in server which makes your life easy. But when installing your app on a server (or RPi) you should pick a real server. I prefer nginx + uwsgi for python projects. But you can of course use good old apache2. The <a href=\"https://docs.djangoproject.com/en/1.11/howto/deployment/wsgi/modwsgi/\" rel=\"nofollow noreferrer\">django documentation</a> is good place to start regarding the configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "is_accepted": true, "score": 0, "last_activity_date": 1506852456, "creation_date": 1506852456, "answer_id": 46511322, "question_id": 46456296, "link": "https://stackoverflow.com/questions/46456296/would-installing-lamp-fix-django-mysql-config-issues/46511322#46511322", "title": "Would installing LAMP fix Django/MySQL config issues?", "body": "<p>The question was, would installing LAMP solve my MySQL/Django configuration issues, and the answer is no. Installing LAMP over the top would have made things more complicated.</p>\n\n<p>1 - Installed PyMySQL rather than MySQLdb (mainly because I was struggling to install anything else. <br>\n2 - Setup MySQL with a my.cnf file (as per various guides) and after a bit of tweaking and fixing typos, that appears operational. <br>\n3 - Checked MySQL, and there is Django data in the relevant db/table</p>\n\n<p>As far as I can see, Django is now using the MySQL database......</p>\n\n<p>I now have to work out how to configure apache2 correctly, so that it can serve Django for me, without using a port number. I've hunted round and tried various tutorials/commands, no success yet, so will post another question.</p>\n\n<p>Biggest advice - <strong>ALWAYS</strong> check the date of tutorials (or answers) on here and always try to use the most recent one. I've lost countless hours following tutorials that were out-of-date</p>\n"}], "owner": {"reputation": 33, "user_id": 6177133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a49a2d70836209066e6609db66e7dad1?s=128&d=identicon&r=PG&f=1", "display_name": "JusticeEmpire", "link": "https://stackoverflow.com/users/6177133/justiceempire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 46511322, "answer_count": 2, "score": 0, "last_activity_date": 1506852456, "creation_date": 1506542480, "last_edit_date": 1506714167, "question_id": 46456296, "link": "https://stackoverflow.com/questions/46456296/would-installing-lamp-fix-django-mysql-config-issues", "title": "Would installing LAMP fix Django/MySQL config issues?", "body": "<p>Excuse me for the very broad question, but I seem to be going around in circles.</p>\n\n<p>I'm looking to build/develop a <code>web</code> application, using a <strong>MySQL</strong> database and host it on my RPi.</p>\n\n<p>In trying to do so, I've learn that I need a <strong>webserver</strong> (apache2 seems to be the one these days) and that I needed to create an <code>application</code> to interface between them.</p>\n\n<p>Initially, I was using <strong>Python</strong> and Qt to try and build an app to be the interface, but found out that things weren't simple and I used to use <strong>Python</strong>/<strong>MySQL</strong> connectors etc.</p>\n\n<p>After a few weeks, I got things connected and then thought about the building of it. It became apparent that options like Flask &amp; Django would be better suited for the task due to the frameworks.</p>\n\n<p>I found the DjangoGurls tutorial simple to follow when I read through it, so decided to give it a go, and just had to work out to substitute their <strong>PythonAnywhere.com</strong> deployment example, with my own server..........stuck.</p>\n\n<p>I've got things working on my laptop/development environment, but the server side of things isn't behaving. I know it's to do with the <strong>MySQL</strong> <code>config/settings/permissions/path</code> but I can't pinpoint it.</p>\n\n<p>There are so many different tutorials and commands to try, I've lost count, and so many seem to be out of date. </p>\n\n<p>Then I found out about LAMP to add to my confusion, which sounds ideal if I had know about that at the start, but it doesn't include Django or Python, and I need (I think) PHP so I can use <strong>PHPMyAdmin</strong> to manage the <strong>MySQL</strong>. </p>\n\n<p>Is it even possible to install LAMP on what I've already got?\n Would it solve the server side <strong>MySQL</strong> issue?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've managed to install pymysql, and when I try runserver I get a config parser error on <code>/etc/MySQL/my.cnf</code>\nfrom <code>/test_blog_app/blog</code> <code>pip list</code> output is below (and I have no idea what most of them are):</p>\n\n<pre><code>automationhat (0.0.4)\nblinker (1.3)\nblinkt (0.1.0)\nCap1xxx (0.1.3)\nchardet (2.3.0)\nclick (6.6)\ncolorama (0.3.7)\ncryptography (1.7.1)\ndrumhat (0.0.5)\nenum34 (1.1.6)\nenvirophat (0.0.6)\nExplorerHAT (0.4.2)\nFlask (0.12.1)\nfourletterphat (0.0.2)\ngpiozero (1.4.0)\nidna (2.2)\nipaddress (1.0.17)\nitsdangerous (0.24)\nJinja2 (2.8)\nkeyring (10.1)\nkeyrings.alt (1.3)\nlxkeymap (0.1)\nMarkupSafe (0.23)\nmcpi (0.1.1)\nmicrodotphat (0.1.3)\nmote (0.0.3)\nmotephat (0.0.2)\nnumpy (1.12.1)\noauthlib (2.0.1)\nphatbeat (0.0.2)\npianohat (0.0.5)\npicamera (1.13)\npicraft (1.0)\npiglow (1.2.4)\npigpio (1.38)\nPillow (4.0.0)\npip (9.0.1)\npyasn1 (0.1.9)\npycrypto (2.6.1)\npygame (1.9.3)\npygobject (3.22.0)\npyinotify (0.9.6)\nPyJWT (1.4.2)\nPyMySQL (0.7.11)\npyOpenSSL (16.2.0)\npyserial (3.2.1)\npyxdg (0.25)\nrainbowhat (0.0.2)\nrequests (2.12.4)\nrequests-oauthlib (0.7.0)\nRPi.GPIO (0.6.3)\nRTIMULib (7.2.1)\nscrollphat (0.0.7)\nscrollphathd (1.0.1)\nSecretStorage (2.3.1)\nsense-emu (1.0)\nsense-hat (2.2.0)\nsetuptools (33.1.1)\nsimplejson (3.10.0)\nsix (1.10.0)\nskywriter (0.0.7)\nsn3218 (1.2.7)\nspidev (3.0)\ntouchphat (0.0.1)\ntwython (3.4.0)\nurllib3 (1.19.1)\nWerkzeug (0.11.15)\nwheel (0.29.0)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1506542549, "post_id": 46456281, "comment_id": 79868206, "body": "If you&#39;re getting error messages you must provide them. Don&#39;t make us guess."}, {"owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1506542706, "post_id": 46456281, "comment_id": 79868286, "body": "Error (stderr)  Traceback (most recent call last):   File &quot;solution.py&quot;, line 23, in &lt;module&gt;     print(birthdayCakeCandles(n, ar))   File &quot;solution.py&quot;, line 10, in birthdayCakeCandles     if ar[f]&lt;ar[b]: IndexError: list index out of range"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1506542863, "post_id": 46456281, "comment_id": 79868369, "body": "What isn&#39;t clear? The error message is straightforward: your list index is out of range."}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506542965, "post_id": 46456281, "comment_id": 79868421, "body": "First off, when you are doing a coding challenge and can&#39;t figure out what to do, that might be a sign that you should learn more, rather than just paste the issue into stack overflow. Also, did you actually write the code above? Because it doesn&#39;t sound like you have any clue how it works. Also, add the sample input."}, {"owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "edited": false, "score": 0, "creation_date": 1506543486, "post_id": 46456281, "comment_id": 79868695, "body": "yes, i wrote it, i used c++ for a little bit, now python cause its easier, if you tell me how to correct the mistake, ill go over it again and learn from it, gain experience. im pretty sure i wrote something dumb cause im new, so just tell me whats not right in the lists, arrays.correct, this is a hackerrank easiest challenge about cakes, but as you can see i didnt ask for the whole solution"}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506543540, "post_id": 46456281, "comment_id": 79868726, "body": "What is the input and desired output?"}, {"owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "edited": false, "score": 0, "creation_date": 1506543680, "post_id": 46456281, "comment_id": 79868799, "body": "input for n is 4     for rn is [1, 2, 3, 3]    output 2"}, {"owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "edited": false, "score": 0, "creation_date": 1506544001, "post_id": 46456281, "comment_id": 79868950, "body": "Colleen is turning [n] years old! Therefore, she has [n] candles of various heights on her cake, and candle [ i ] has height[i]  . Because the taller candles tower over the shorter ones, Colleen can only blow out the tallest candles.  Given the for each individual candle, find and print the number of candles she can successfully blow out."}], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506542949, "post_id": 46456397, "comment_id": 79868408, "body": "That isn&#39;t the issue. Read the error message."}, {"owner": {"reputation": 134, "user_id": 3875182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f91bcc02de4706386e6cc454ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "Godron629", "link": "https://stackoverflow.com/users/3875182/godron629"}, "reply_to_user": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506543331, "post_id": 46456397, "comment_id": 79868616, "body": "It is part of a larger issue though. Your indenting is incorrect in multiple places. See my original post."}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506543514, "post_id": 46456397, "comment_id": 79868706, "body": "The indentation is not the issue. He just messed up the formatting when he pasted it here. If the indentation was the issue, that would be the error."}, {"owner": {"reputation": 134, "user_id": 3875182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f91bcc02de4706386e6cc454ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "Godron629", "link": "https://stackoverflow.com/users/3875182/godron629"}, "reply_to_user": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506543594, "post_id": 46456397, "comment_id": 79868756, "body": "It is the issue. When you comment a line out that used to create a new code block, your subsequent code block is mis-indented. It has nothing to do with his copy paste."}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506543706, "post_id": 46456397, "comment_id": 79868815, "body": "He put the error message in the comment. Nowhere in it does it mention &quot;IndentationError: unexpected indent&quot;. It is an index error. That is how you know the indentation was right when he wrote it."}, {"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506544102, "post_id": 46456397, "comment_id": 79869003, "body": "Yeah, that is why you have to reformat it. Copy and pasting messes up the  format. That is still not the issue."}, {"owner": {"reputation": 134, "user_id": 3875182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f91bcc02de4706386e6cc454ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "Godron629", "link": "https://stackoverflow.com/users/3875182/godron629"}, "reply_to_user": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1506544444, "post_id": 46456397, "comment_id": 79869159, "body": "Ok, I understand. OP should update his post to reflect this."}], "tags": [], "owner": {"reputation": 134, "user_id": 3875182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f91bcc02de4706386e6cc454ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "Godron629", "link": "https://stackoverflow.com/users/3875182/godron629"}, "is_accepted": false, "score": -1, "last_activity_date": 1506543723, "last_edit_date": 1506543723, "creation_date": 1506542872, "answer_id": 46456397, "question_id": 46456281, "link": "https://stackoverflow.com/questions/46456281/list-problemo-in-python3/46456397#46456397", "title": "list problemo in python3", "body": "<pre><code>            else:\n                    m=ar[b]\n                    for k in range(0,n):\n                        if m==ar[k]:\n                            j=j+1\n</code></pre>\n\n<p>Is indented incorrectly. It should be: </p>\n\n<pre><code>            else:\n                m=ar[b]\n                for k in range(0,n):\n                    if m==ar[k]:\n                        j=j+1\n</code></pre>\n\n<p>Also, </p>\n\n<pre><code>for f in range(0,n):      \n        b=f+1\n     #   if ar[f]&lt;ar[b]: &lt;-- Your commented out line used to create a new block\n            if f==n:   # &lt;-- This line is incorrectly indented as a result\n                break (and all lines after)\n            else:\n                m=ar[b]  # I moved this back in, not a syntax error, but is incorrect. \n                for k in range(0,n):\n                    if m==ar[k]:\n                        j=j+1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "edited": false, "score": 0, "creation_date": 1506545045, "post_id": 46456795, "comment_id": 79869467, "body": "thank you, i forgot actually knew that counting starts from 0 but.... couldnt notice, thank you ao much"}], "tags": [], "owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "is_accepted": true, "score": 0, "last_activity_date": 1506544529, "creation_date": 1506544529, "answer_id": 46456795, "question_id": 46456281, "link": "https://stackoverflow.com/questions/46456281/list-problemo-in-python3/46456795#46456795", "title": "list problemo in python3", "body": "<pre><code>for f in range(0,n):      \n    b=f+1\n    if ar[f]&lt;ar[b]:\n</code></pre>\n\n<p>Here you referenced an index of a list greater than the length of the list, which is why you got the error. n is the length of the list, so when you add 1 to it for b, it will be an index that doesn't exist. It looks like you might have been aware of this issue happening with this code block:</p>\n\n<pre><code>if f==n:\n    break\n</code></pre>\n\n<p>However, the program already ran into the error before it got to that point. My solution is to replace n with n-1 in the code above. I am not sure if that fulfills the challenge, I need to read it more thoroughly. Here is what my code looks like. I also got rid of the second code block above because it doesn't do anything. </p>\n\n<pre><code>def birthdayCakeCandles(n, ar):\n    j=1\n    for f in range(0,n-1):      \n        b=f+1\n        #if one element is less than the following\n        if ar[f]&lt;ar[b]:\n            #count the number of elements equal to the following element, add to j\n            m=ar[b]\n            for k in range(0,n):\n                if m==ar[k]:\n                j+=1\n    return j    \n\n n = int(input().strip())\n ar = list(map(int, input().strip().split(' ')))\n print(birthdayCakeCandles(n, ar))\n</code></pre>\n\n<p>I also replace j=j+1 with j+=1. Also, the second for loop can be replaced with a list comprehension, but I don't know if you know about them so I left it as it is.</p>\n\n<p>It looks like <a href=\"https://www.hackerrank.com/challenges/birthday-cake-candles/problem\" rel=\"nofollow noreferrer\">this</a> is the challenge you are trying to do, in which case you misunderstood it, and the code above will not work for it. Read it through again and read the example. It is a lot simpler than you think.</p>\n"}], "owner": {"reputation": 5, "user_id": 6659439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ylbhIhwScdw/AAAAAAAAAAI/AAAAAAAAAVI/YeN_uAkGWD4/photo.jpg?sz=128", "display_name": "dundulasama", "link": "https://stackoverflow.com/users/6659439/dundulasama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1506546424, "accepted_answer_id": 46456795, "answer_count": 2, "score": -3, "last_activity_date": 1506544529, "creation_date": 1506542431, "last_edit_date": 1506542780, "question_id": 46456281, "link": "https://stackoverflow.com/questions/46456281/list-problemo-in-python3", "closed_reason": "Not suitable for this site", "title": "list problemo in python3", "body": "<p>When I run this code it says that there is error in two lines that are commented.</p>\n\n<pre><code>#!/bin/python3\n\nimport sys\n\ndef birthdayCakeCandles(n, ar):\n    j=1\n\n    for f in range(0,n):      \n            b=f+1\n         #   if ar[f]&lt;ar[b]:\n                if f==n:\n                    break\n                else:\n                        m=ar[b]\n                        for k in range(0,n):\n                            if m==ar[k]:\n                                j=j+1\n\n    return j    \n\nn = int(input().strip())\nar = list(map(int, input().strip().split(' ')))\n  #  print(birthdayCakeCandles(n, ar))\n</code></pre>\n\n<blockquote>\n  <p>Error (stderr) Traceback (most recent call last): File \"solution.py\", line 23, in  print(birthdayCakeCandles(n, ar)) File \"solution.py\", line 10, in birthdayCakeCandles if ar[f]\n</blockquote>\n"}, {"tags": ["android", "python", "ios", "django"], "comments": [{"owner": {"reputation": 1032, "user_id": 7919890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hAL5.png?s=128&g=1", "display_name": "wha7ever", "link": "https://stackoverflow.com/users/7919890/wha7ever"}, "edited": false, "score": 1, "creation_date": 1506542533, "post_id": 46456262, "comment_id": 79868196, "body": "Django REST API sound like a good idea."}, {"owner": {"reputation": 318, "user_id": 3160696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de1b7d51ff15249fed7f622cc8eca74?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Gomes", "link": "https://stackoverflow.com/users/3160696/gustavo-gomes"}, "edited": false, "score": 0, "creation_date": 1506542967, "post_id": 46456262, "comment_id": 79868422, "body": "Have you looked at Kivy? It isn&#39;t perfect but it might do: <a href=\"https://kivy.org/#home\" rel=\"nofollow noreferrer\">kivy.org/#home</a>"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 3608717, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2ad5326389f9dbabd9b35822647d70e6?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3608717/sagar"}, "is_accepted": true, "score": 0, "last_activity_date": 1506545254, "creation_date": 1506545254, "answer_id": 46456965, "question_id": 46456262, "link": "https://stackoverflow.com/questions/46456262/develop-a-mobile-application-based-on-an-existing-django-website-app/46456965#46456965", "title": "Develop a mobile application based on an existing Django website/app", "body": "<p>For Mobile App you need to have APIs . So in Django, You can write APIs using <a href=\"http://www.django-rest-framework.org/\" rel=\"nofollow noreferrer\">Django Rest Framework</a> or <a href=\"https://django-tastypie.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">tastypie</a> . You can use <a href=\"https://www.youtube.com/channel/UCAx4nmhI7S1RcPiaG-Uw0tg\" rel=\"nofollow noreferrer\">Video</a>\nlink to start writing the apis. If you want any detail help <a href=\"http://www.cdrf.co/\" rel=\"nofollow noreferrer\">click here</a></p>\n"}], "owner": {"reputation": 73, "user_id": 3692511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80444ce08269f979f0ab52a567892347?s=128&d=identicon&r=PG&f=1", "display_name": "Appfred", "link": "https://stackoverflow.com/users/3692511/appfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 46456965, "answer_count": 1, "score": 0, "last_activity_date": 1506545254, "creation_date": 1506542333, "question_id": 46456262, "link": "https://stackoverflow.com/questions/46456262/develop-a-mobile-application-based-on-an-existing-django-website-app", "title": "Develop a mobile application based on an existing Django website/app", "body": "<p>We have a website written in Django, that has been running for a few years. Now we would like to develop a mobile application for Android and iOS, using as much as possible from the Django-site.\nE.g. classes from models, like users and relevant functions, other data, etc</p>\n\n<p>What would be the best/easiest way to approach this issue.\nWe have been looking at several other questions like this, but all seem to be a few years old</p>\n\n<p>Is there any options to using e.g. Django REST API?</p>\n\n<p>We are just a group of students, and any help/pointers on where to start would be much appreciated!</p>\n"}]