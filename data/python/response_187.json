[{"tags": ["python", "string", "list"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1533772930, "post_id": 51757162, "comment_id": 90473756, "body": "first for loops through your set, second for loops through every single letter."}, {"owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "edited": false, "score": 1, "creation_date": 1533772999, "post_id": 51757162, "comment_id": 90473765, "body": "It returns result for me."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533775131, "post_id": 51757162, "comment_id": 90474178, "body": "Don&#39;t use <code>is</code> to compare strings for equality, use <code>==</code>, <code>is</code> is for <i>identity comparisons</i>"}], "answers": [{"tags": [], "owner": {"reputation": 4719, "user_id": 2958070, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FtkjC.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2958070/ben"}, "is_accepted": false, "score": 1, "last_activity_date": 1533773095, "creation_date": 1533773095, "answer_id": 51757202, "question_id": 51757162, "link": "https://stackoverflow.com/questions/51757162/python-not-finding-common-element-in-lists/51757202#51757202", "title": "Python not finding common element in lists", "body": "<p><a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter</code></a> was made for this!</p>\n\n<pre><code>import collections\n\nstrings = [\"I sell\",\"seashells\",\"by the\",\"seashore\"]\nngramSet = [\"by the\"]\nstrings_counter = collections.Counter(strings)\n\nfor string in ngramSet:\n    print(string, strings_counter[string])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533775302, "post_id": 51757219, "comment_id": 90474210, "body": "This is correct, but I don&#39;t see a lambda"}], "tags": [], "owner": {"reputation": 714, "user_id": 9036814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250742688f24344257034879f1fc76ea?s=128&d=identicon&r=PG&f=1", "display_name": "mckuok", "link": "https://stackoverflow.com/users/9036814/mckuok"}, "is_accepted": true, "score": 3, "last_activity_date": 1533773274, "creation_date": 1533773274, "answer_id": 51757219, "question_id": 51757162, "link": "https://stackoverflow.com/questions/51757162/python-not-finding-common-element-in-lists/51757219#51757219", "title": "Python not finding common element in lists", "body": "<p>Your approach is correct. The only problem is within your <code>lambda</code>, where you compare the two strings using <code>is</code>. You should be comparing them using <code>==</code> because you are doing equality comparison. </p>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 4342940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001803429147/picture?type=large", "display_name": "juliusmh", "link": "https://stackoverflow.com/users/4342940/juliusmh"}, "is_accepted": false, "score": 0, "last_activity_date": 1533773544, "creation_date": 1533773544, "answer_id": 51757236, "question_id": 51757162, "link": "https://stackoverflow.com/questions/51757162/python-not-finding-common-element-in-lists/51757236#51757236", "title": "Python not finding common element in lists", "body": "<p>You can make it very short and clear, there are multiple ways but here is one:</p>\n\n<pre><code>strings = [\"I sell\",\"seashells\",\"by the\",\"seashore\"]\nngramSet = [\"by the\"]\n\n# Built in count function\nfor x in ngramSet:\n        print (x, \" -&gt; \", strings.count(x))\n\n# Or make it a one-liner\nprint ([(arg, strings.count(arg)) for arg in ngramSet])\n</code></pre>\n\n<p>Or you could simply use your code because it seems to be working for me. </p>\n"}, {"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 0, "last_activity_date": 1533774122, "creation_date": 1533774122, "answer_id": 51757291, "question_id": 51757162, "link": "https://stackoverflow.com/questions/51757162/python-not-finding-common-element-in-lists/51757291#51757291", "title": "Python not finding common element in lists", "body": "<p>If you just want to get common elements, then try sets:</p>\n\n<pre><code>list(set(strings).intersection(set(ngramSet)))\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 10083113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626efa0e3d4d76083e67ae8e5d439c89?s=128&d=identicon&r=PG&f=1", "display_name": "Montana Burr", "link": "https://stackoverflow.com/users/10083113/montana-burr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1533775263, "accepted_answer_id": 51757219, "answer_count": 4, "score": 1, "last_activity_date": 1533775248, "creation_date": 1533772789, "last_edit_date": 1533775248, "question_id": 51757162, "link": "https://stackoverflow.com/questions/51757162/python-not-finding-common-element-in-lists", "closed_reason": "Duplicate", "title": "Python not finding common element in lists", "body": "<p>I'm building a program in Python 3 that needs to go through two lists and count how many times the elements of the first list appear in the second. However, even if I plug in two lists that are hard-coded to have common elements, Python says the list doesn't have any common elements.</p>\n\n<p>Here's a minimal, runnable version of my program:</p>\n\n<pre><code>strings = [\"I sell\",\"seashells\",\"by the\",\"seashore\"]\nngramSet = [\"by the\"]\nfor ngram in ngramSet:\n    print(\"Ngram: \\\"\" + str(ngram) + \"\\\"\")\n    # Should return \"by the\" twice where it appears twice.\n    occurrences = [element for element in strings if element is ngram]\n    print(\"Occurrences: \" + str(occurrences))\n    count = len(occurrences)\n    print(\"Number of times N-gram appears in string\" + str(count))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Ngram: \"by the\"\nOccurrences: []\nNumber of times N-gram appears in string0\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6168026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7640cbff777a23ab4d6cb6e6550e010?s=128&d=identicon&r=PG&f=1", "display_name": "A Adetunji", "link": "https://stackoverflow.com/users/6168026/a-adetunji"}, "edited": false, "score": 0, "creation_date": 1533773453, "post_id": 51757156, "comment_id": 90473857, "body": "Thanks  for your reply but I forgot to mention that I am working on a python pyqt4 project and am not using the designer"}], "tags": [], "owner": {"reputation": 544, "user_id": 7954998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UvnCx.png?s=128&g=1", "display_name": "pajarnas", "link": "https://stackoverflow.com/users/7954998/pajarnas"}, "is_accepted": false, "score": 0, "last_activity_date": 1533772722, "creation_date": 1533772722, "answer_id": 51757156, "question_id": 51757128, "link": "https://stackoverflow.com/questions/51757128/how-to-change-qpushbutton-font-family/51757156#51757156", "title": "How to change QPushButton Font Family", "body": "<pre><code>QFont font = ui-&gt;pushButton-&gt;font();\nfont.setPointSize(16);\nui-&gt;pushButton-&gt;setFont(font);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6168026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7640cbff777a23ab4d6cb6e6550e010?s=128&d=identicon&r=PG&f=1", "display_name": "A Adetunji", "link": "https://stackoverflow.com/users/6168026/a-adetunji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533773527, "creation_date": 1533772423, "last_edit_date": 1533773527, "question_id": 51757128, "link": "https://stackoverflow.com/questions/51757128/how-to-change-qpushbutton-font-family", "title": "How to change QPushButton Font Family", "body": "<p>How can I change the font family of my qpushbutton. I don't like the default font. SetFont and setStyleheet  seems not to work</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533775473, "post_id": 51757096, "comment_id": 90474237, "body": "Don&#39;t post links to error messages, post all things required to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question itself as <i>text</i>"}, {"owner": {"reputation": 45, "user_id": 9459158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c200785fac7ddd371c12fc17ed1c2ed1?s=128&d=identicon&r=PG&f=1", "display_name": "yoman", "link": "https://stackoverflow.com/users/9459158/yoman"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533777531, "post_id": 51757096, "comment_id": 90474607, "body": "Done edits for the question"}], "owner": {"reputation": 45, "user_id": 9459158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c200785fac7ddd371c12fc17ed1c2ed1?s=128&d=identicon&r=PG&f=1", "display_name": "yoman", "link": "https://stackoverflow.com/users/9459158/yoman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533777398, "creation_date": 1533772084, "last_edit_date": 1533777398, "question_id": 51757096, "link": "https://stackoverflow.com/questions/51757096/integer-class-python", "title": "Integer Class python", "body": "<p>The SInteger class is based on a list of Bits. It is a signed integer with bit length LEN. LEN is defined in test cases so you can simply use it without redefining it. While the bit string (bit_str) may have to be shorter than LEN, sign-extension should be done. If the input bit string is an empty string, the new SInteger object should be a list of all ZEROs. Notice that all Bit objects stored in the list are either logic ONE or ZERO. For example, if a SInteger is instantiated as follow:</p>\n\n<p>bit_str is \u201c55111140'\u201d</p>\n\n<p>b = SInteger (\u201cbit_str\u201d)</p>\n\n<p>The value of b is stored as 5555555555000050 in the processor.</p>\n\n<p>I need to implement a number of methods for SInteger. Notice that SInteger is a signed integer. It can be a negative integer. I need to carry out two\u2019s complement in order to get the magnitude of a negative integer.</p>\n\n<p>This is what I have done for the code, all of them is correct except the <strong>int</strong> function, I keep getting error as follow: <a href=\"https://i.stack.imgur.com/oRBdB.png\" rel=\"nofollow noreferrer\">Error Screenshot</a> <br>\nThe integer value isn't count correctly. Suppose if 1 is the first string, integer value will be negative, and if it's 0, integer value will be positive, can anyone show me how to edit this code?</p>\n\n<pre><code>class SInteger:\n\ndef __init__(self, bit_str=''):\n    self.val = []\n    bit_len = len(bit_str)\n    for i in range(LEN):\n        if i &lt; (bit_len):\n            self.val.append(Bit(int(bit_str[i]))|Bit(int(bit_str[i])))\n        elif (bit_len &gt; 0):\n            self.val.insert(0, Bit(int(bit_str[0]))|Bit(int(bit_str[0])))\n        else:\n            self.val.insert(0, ZERO)\n\ndef __str__(self):\n    strval = ''\n    for i in range(LEN):\n        strval = strval + str(self.val[i])\n    return strval\n\ndef __len__(self):\n    return len(self.val)\n\ndef __invert__(self):\n    invrlt = SInteger('')\n    for i in range(LEN):\n        invrlt.val[i] = ~self.val[i]\n    return invrlt\n\ndef __int__(self):\n    intrlt = 0\n    tmp = SInteger('')\n    if int(str(self.val[0])) == 0:\n        for i in range(len(self.val)):\n            intrlt += int(str(self.val[i]))\n        return intrlt\n    else:\n        for i in range(len(self.val)):\n            intrlt -= int(str(self.val[i]))\n        return intrlt\n\n\ndef __ge__(self, other):\n    if len(self.val) &gt;= len(other.val):\n        return True\n    else:\n        return False\n\ndef __or__(self, other):\n    orrlt = SInteger('')\n    output = ''\n    if len(self.val) == len(other.val):\n        for i in range(LEN):\n            if int(str(self.val[i])) | int(str(other.val[i])):\n                output += '5'\n            else:\n                output += '0'\n        return output\n    else:\n        print('Operands not on the same length')\n\ndef __and__(self, other):\n    andrlt = SInteger('')\n    output = ''\n    if len(self.val) == len(other.val):\n        for i in range(LEN):\n            if int(str(self.val[i])) &amp; int(str(other.val[i])):\n                output += '5'\n            else:\n                output += '0'\n        return output\n    else:\n        print('Operands not on the same length')\n</code></pre>\n"}, {"tags": ["python", "switch-statement", "conditional-statements", "pine-script"], "comments": [{"owner": {"reputation": 1820, "user_id": 7209631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2ad26cdac82ab360fb4fd572febf351?s=128&d=identicon&r=PG&f=1", "display_name": "Baris Yakut", "link": "https://stackoverflow.com/users/7209631/baris-yakut"}, "edited": false, "score": 2, "creation_date": 1533846430, "post_id": 51757081, "comment_id": 90509100, "body": "Why don&#39;t you use nested if&#39;s?"}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 1660127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6395c5633af6575fe83c5a09129e324b?s=128&d=identicon&r=PG", "display_name": "vitvlkv", "link": "https://stackoverflow.com/users/1660127/vitvlkv"}, "is_accepted": false, "score": 1, "last_activity_date": 1543483490, "creation_date": 1543483490, "answer_id": 53535627, "question_id": 51757081, "link": "https://stackoverflow.com/questions/51757081/how-to-run-a-conditional-statement-in-tradingview-pine-script/53535627#53535627", "title": "How to Run a Conditional Statement in TradingView Pine-Script?", "body": "<p>There is no \"switch\" statement in PineScript. However you may use 'if' statements for your task. For example</p>\n\n<pre><code>green_delta = 0.0\nif close &gt; open\n    green_delta := open - close \nplot(green_delta)    \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10200393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcac66af19295d088d8fb75a1defc4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Forex Bro", "link": "https://stackoverflow.com/users/10200393/forex-bro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4972, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1613814105, "creation_date": 1533771916, "last_edit_date": 1582567374, "question_id": 51757081, "link": "https://stackoverflow.com/questions/51757081/how-to-run-a-conditional-statement-in-tradingview-pine-script", "title": "How to Run a Conditional Statement in TradingView Pine-Script?", "body": "<p>After looking through the Pine-Script documentation I could not figure out there \"Switch\" style conditional statement.</p>\n\n<p>I'm trying to subtract the opening and the closing from only the green candles.</p>\n\n<p><strong>This is my current code:</strong></p>\n\n<pre><code>//@version=3 study(title=\"High Minus Low\", shorttitle=\"HM0\", overlay=true)\n\nopenall  = high[0]+high[1]+high[2]\ncloseall = open[0]+open[1]+open[2] total = openall + closeall\n\nplot(total)\n</code></pre>\n\n<p>I only want to grab the latest 3 green candle bars using a conditional statement. </p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "c", "tensorflow", "machine-learning"], "comments": [{"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 0, "creation_date": 1533791891, "post_id": 51757055, "comment_id": 90477743, "body": "Without code this is too broad, you need to include code of what you have tried, and then we can start trying to help you. Getting the weights is not hard in many frameworks."}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 9510611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kevin Glasson", "link": "https://stackoverflow.com/users/9510611/kevin-glasson"}, "is_accepted": false, "score": 1, "last_activity_date": 1533775256, "creation_date": 1533775256, "answer_id": 51757379, "question_id": 51757055, "link": "https://stackoverflow.com/questions/51757055/writing-a-tensorflow-model-for-c/51757379#51757379", "title": "Writing a Tensorflow Model for C", "body": "<p>I don't know how to do it in Tensorflow directly, however I do have some suggestions.</p>\n\n<p>Use <a href=\"https://keras.io/getting-started/faq/\" rel=\"nofollow noreferrer\">Keras</a> with the Tensorflow backend and then you can export the weights directly like this.</p>\n\n<pre><code>model.save_weights('my_model_weights.h5')\n</code></pre>\n\n<p>Using these weights and applying the layers via manual convolutions etc. is still quite hard..</p>\n\n<p>if you are not doing it just for the sake of learning there are some libraries where you can use the model created in Keras in C++ without all of the overhead of having to install Python, Keras, Tensorflow etc.</p>\n\n<p>You might want to do this if you're trying to implement your model on a small device?</p>\n\n<p>Anyway some of the C++ libraries to look into are:</p>\n\n<p><a href=\"https://github.com/Dobiasd/frugally-deep\" rel=\"nofollow noreferrer\">frugally-deep</a></p>\n\n<p><a href=\"https://github.com/moof2k/kerasify\" rel=\"nofollow noreferrer\">Kerasify</a></p>\n\n<p><a href=\"https://github.com/pplonski/keras2cpp\" rel=\"nofollow noreferrer\">keras2cpp</a></p>\n\n<p>I know you said C specifically, but I'm guess maybe if you have C compiler you could sort out a C++ compiler?</p>\n"}], "owner": {"reputation": 21, "user_id": 10194582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435d65625482656f6ff62129c29ba9c8?s=128&d=identicon&r=PG&f=1", "display_name": "Drummerboy2543", "link": "https://stackoverflow.com/users/10194582/drummerboy2543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "closed_date": 1533791728, "answer_count": 1, "score": -2, "last_activity_date": 1533775256, "creation_date": 1533771641, "last_edit_date": 1533773896, "question_id": 51757055, "link": "https://stackoverflow.com/questions/51757055/writing-a-tensorflow-model-for-c", "closed_reason": "Needs more focus", "title": "Writing a Tensorflow Model for C", "body": "<p>This is my first time implementing machine learning period. So if I am missing some critical information, please let me know. </p>\n\n<p>My goal here is to make a machine learning model to emulate a lookup table. The idea is that the amount of storage is critical, so having a model that can calculate the value will have a smaller memory footprint than a look-up table. The reason is that any machine learning model is just a glorified equation. </p>\n\n<p>EX: :Linear regression is y=mx1+mx2 ... +b, </p>\n\n<p>Neural Net: Is a bunch weights going to a node to be summed, and then do a function like a sigmoid function. </p>\n\n<p>Since I am trying to have a very small footprint I naturally thought about doing linear regression. Unfortunately, the accuracy is not up to par that is necessary. So now I am deciding on using tensorflow to see if I can make a model with better accuracy. I created a simple model and the performance is better, however, this requires to get the weights and the tensor model itself so I can port the equation into C. \nThe process of finding the raw weights and the config of the model seems to be harder to do than first thought (It seems like they abstract it quite a bit).</p>\n\n<p>I have also tried a variety of other ideas not discussed above (Microsoft Machine Learning Studio, AWS Machine Learning etc.) And the one thing I noticed from all of these solutions is that you can't get a direct view of the weights and models you created with your training set. It makes sense for a web app, but I need to execute the model on an embedded system so I need to see everything.</p>\n\n<p>This is where my question comes in, I am wondering if I am barking up the wrong tree on solving this problem. Machine learning goal is to give accurate results to brand new inputs it has not seen. However, given my situation, I am trying to over-fit as much as possible so I can have an extremely accurate model (equation) of our lookup table. </p>\n\n<p>Is there a more elegant way to solve this problem that I am missing? If not, how do I extract the weights and model information from tensorflow so I can port the equation into C?</p>\n\n<p>Thank you so much and I hope you guys have a great day!</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1533772238, "post_id": 51757065, "comment_id": 90473624, "body": "Could the downvoter let me know why this doesn&#39;t answer the question? Or why they downvoted?"}, {"owner": {"reputation": 345, "user_id": 6052601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGLLy.jpg?s=128&g=1", "display_name": "saketk21", "link": "https://stackoverflow.com/users/6052601/saketk21"}, "edited": false, "score": 2, "creation_date": 1533773045, "post_id": 51757065, "comment_id": 90473775, "body": "No reason. I think this is the best way to solve it."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 2, "last_activity_date": 1533772869, "last_edit_date": 1533772869, "creation_date": 1533771725, "answer_id": 51757065, "question_id": 51757051, "link": "https://stackoverflow.com/questions/51757051/get-the-index-of-an-original-list-after-removing-entries/51757065#51757065", "title": "Get the index of an original list after removing entries", "body": "<h1>Option 1: <code>np.where</code>:</h1>\n\n<pre><code>&gt;&gt;&gt; np.where(original_list == np.amax(final_list))\n(array([8]),)\n</code></pre>\n\n<h1>Option 2: <code>.index()</code></h1>\n\n<pre><code>&gt;&gt;&gt; original_list.index(np.amax(final_list))\n8\n</code></pre>\n\n<p>Note: If there are more than one matching indices, this method will only return the first / smallest index. If you want all indices, use <code>np.where</code> as above</p>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 2457853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2udWj.jpg?s=128&g=1", "display_name": "Sacry", "link": "https://stackoverflow.com/users/2457853/sacry"}, "is_accepted": false, "score": 0, "last_activity_date": 1533775100, "creation_date": 1533775100, "answer_id": 51757365, "question_id": 51757051, "link": "https://stackoverflow.com/questions/51757051/get-the-index-of-an-original-list-after-removing-entries/51757365#51757365", "title": "Get the index of an original list after removing entries", "body": "<p>Here is another way you could do this,</p>\n\n<pre><code>mask = np.zeros(original_list.shape, dtype=np.bool)\nmask[remove_list] = True\n\nnp.ma.MaskedArray(original_list, mask=mask).argmax()\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 1045755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/39a2a705859bb09d0151bc4652a74bb6?s=128&d=identicon&r=PG", "display_name": "Denver Dang", "link": "https://stackoverflow.com/users/1045755/denver-dang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 51757065, "answer_count": 2, "score": 0, "last_activity_date": 1533775100, "creation_date": 1533771609, "question_id": 51757051, "link": "https://stackoverflow.com/questions/51757051/get-the-index-of-an-original-list-after-removing-entries", "title": "Get the index of an original list after removing entries", "body": "<p>Let's say I have a list:</p>\n\n<pre><code>original_list = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n\n<p>I then have another list with indexes of which indexes I have to remove from the <code>original_list</code>:</p>\n\n<pre><code>remove_list = [0, 4, 6]\n</code></pre>\n\n<p>I then use Numpy to remove/delete these indexes:</p>\n\n<pre><code>final_list = np.delete(original_list, remove_list, axis = 0]\n</code></pre>\n\n<p>All good, let's say I now wish to find the max value of the <code>final_list</code> with <code>np.amax(final_list)</code>. Is there now any way I can figure out which index this value had in the <code>original_list</code>?</p>\n"}, {"tags": ["python", "numpy", "printing", "writefile"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1533775943, "post_id": 51757043, "comment_id": 90474321, "body": "Printoptions will affect the <code>print o</code>, but shouldn&#39;t affect the <code>savetxt</code> step."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1533789243, "creation_date": 1533789243, "answer_id": 51758912, "question_id": 51757043, "link": "https://stackoverflow.com/questions/51757043/writing-large-array-to-file-in-python/51758912#51758912", "title": "Writing large array to file in python", "body": "<p>Without the <code>threshold</code> change, the <code>print o</code> will summarize the output (default is 1000).  After it is done (relatively fast), the <code>savetxt</code> can act.  It does not use the <code>printoptions</code>.  It just iterates on the rows (1st dim) and writes a formatted string to the file.</p>\n\n<p>With <code>threshold</code> set to <code>nan</code> <code>print</code> does not summarize.  Evidently the array is so large that it takes a very long time to format, and eventually print.  And it doesn't get around to the <code>savetxt</code> step.</p>\n"}], "owner": {"reputation": 313, "user_id": 9072735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b378e50ce9d2fc1f8becb9328af1cf?s=128&d=identicon&r=PG&f=1", "display_name": "Bedrick Kiq", "link": "https://stackoverflow.com/users/9072735/bedrick-kiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533789243, "creation_date": 1533771513, "question_id": 51757043, "link": "https://stackoverflow.com/questions/51757043/writing-large-array-to-file-in-python", "title": "Writing large array to file in python", "body": "<p>i have torch model about 1.7 gb and i try to write this model to file or print. Codes are as follows:</p>\n\n<pre><code>import numpy\nnumpy.set_printoptions(threshold=numpy.nan)\nimport torchfile\no = torchfile.load('ptn_comb.t7')\n#print o\nnumpy.savetxt(\"test.txt\",o)\n</code></pre>\n\n<p>When i deleted the \"numpy.set_printoptions(threshold=numpy.nan)\" print and savetxt run properly and terminated in 10-15 minutes. However, with \"numpy.set_printoptions(threshold=numpy.nan)\" \neven if script runs two hours, it is not terminated and test.txt is always empty.</p>\n\n<p>How can i solve this problem? Thanks.</p>\n"}, {"tags": ["python", "tensorflow", "rnn"], "owner": {"reputation": 11, "user_id": 10157297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6be73d29a7cd71f1fb543556c4c9d62f?s=128&d=identicon&r=PG", "display_name": "pinofer", "link": "https://stackoverflow.com/users/10157297/pinofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533771308, "creation_date": 1533771308, "question_id": 51757024, "link": "https://stackoverflow.com/questions/51757024/how-to-freeze-weights-of-basic-rnn-cell-in-tensorflow", "title": "How to freeze weights of Basic RNN Cell in Tensorflow", "body": "<p>How to write a subclass method for BasicRNNCell in tensorflow, so that I could modify few weights of weight matrix and freeze them and train the model.</p>\n\n<pre><code>    basic_cell= tf.contrib.rnn.BasicRNNCell(num_units=n_neurons)\n    outputs, states = tf.nn.dynamic_rnn(basic_cell, X, dtype=tf.float32)\n</code></pre>\n\n<p>which has weights as kernal and bias. How can I now change few of the entries of these weights, freeze them and train the model?</p>\n"}, {"tags": ["python", "python-3.x", "logging"], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 2, "last_activity_date": 1533775799, "creation_date": 1533775799, "answer_id": 51757430, "question_id": 51757004, "link": "https://stackoverflow.com/questions/51757004/python-logging-debug-to-file-errors-to-stdout/51757430#51757430", "title": "python logging debug to file errors to stdout", "body": "<p>You need to set the loglevel of <code>consoleHandler</code> to <code>logging.INFO</code> to log messages of level info or higher through the handler:</p>\n\n<pre><code>consoleHandler.setLevel(logging.INFO)\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 6525097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44b3fdba428fdb30f6ca93ae9b279556?s=128&d=identicon&r=PG&f=1", "display_name": "Pasha", "link": "https://stackoverflow.com/users/6525097/pasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 51757430, "answer_count": 1, "score": 1, "last_activity_date": 1533775799, "creation_date": 1533771090, "question_id": 51757004, "link": "https://stackoverflow.com/questions/51757004/python-logging-debug-to-file-errors-to-stdout", "title": "python logging debug to file errors to stdout", "body": "<p>Is there any way in python logging module to send info &amp; errors to stdout and debug to file. \nSome commands in my script produce a long output which I don't want to send to stdout.</p>\n\n<p>I am using the following logging function which writes logs to file and stdout </p>\n\n<pre><code>def mylog(release_num, logdir='/tmp'):\n    applog = logging.getLogger()\n    applog.setLevel(logging.DEBUG)\n    formatter = logging.Formatter(\"%(asctime)s %(levelname)s %(message)s\", \"%b %d %Y %H:%M:%S\")\n\n    logfile = \"{}/{}.log\".format(logdir, release_num)\n\n    if not os.path.exists(logdir):\n        os.makedirs(logdir)\n\n    fileHandler = logging.FileHandler(logfile, 'ab')\n    fileHandler.setLevel(logging.DEBUG)\n    fileHandler.setFormatter(formatter)\n    applog.addHandler(fileHandler)\n\n    cformat = logging.Formatter(\"[%(levelname)8s] : %(message)s\")\n    consoleHandler = logging.StreamHandler(sys.stdout)\n    consoleHandler.setFormatter(cformat)\n    log.addHandler(consoleHandler)\n\n    return applog\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1533773780, "post_id": 51757006, "comment_id": 90473923, "body": "To summarise, for a single value use <code>==</code> or <code>pd.Series.eq</code>, multiple values use <code>pd.Series.isin</code>."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 0, "last_activity_date": 1533771120, "creation_date": 1533771120, "answer_id": 51757006, "question_id": 51756976, "link": "https://stackoverflow.com/questions/51756976/conditional-boolean-loc-indexing-vs-isin-indexing/51757006#51757006", "title": "Conditional Boolean Loc Indexing VS ISIN Indexing", "body": "<p><code>.isin</code> allows you to supply a list of values to check. For instance, if you were looking for <code>'Default'</code> or <code>Defaulted</code>, or something like that, you could say:</p>\n\n<pre><code>data[data['loan_status'].isin(['Default', 'Defaulted'])].head()\n</code></pre>\n\n<p>Whereas otherwise, you would have to give it multiple conditions, like:</p>\n\n<pre><code>data.loc[(data['loan_status'] == 'Default') | (data['loan_status'] == 'Defaulted')]\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "closed_date": 1533774183, "answer_count": 1, "score": 0, "last_activity_date": 1533774099, "creation_date": 1533770819, "last_edit_date": 1533774099, "question_id": 51756976, "link": "https://stackoverflow.com/questions/51756976/conditional-boolean-loc-indexing-vs-isin-indexing", "closed_reason": "Duplicate", "title": "Conditional Boolean Loc Indexing VS ISIN Indexing", "body": "<p>I get the same indexing results using these two methods: </p>\n\n<pre><code>data.loc[data['loan_status']== 'Default'].head()\n\ndata[data['loan_status'].isin(['Default'])].head()\n</code></pre>\n\n<p>Is there an advantage of one over the other? </p>\n\n<p>Also is there a reason why isin needs a ([]) parameter to work whereas most methods simply need a ()? </p>\n"}, {"tags": ["python", "pandas", "glob"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9389968"}, "edited": false, "score": 0, "creation_date": 1533771245, "post_id": 51756971, "comment_id": 90473428, "body": "What does <code>print(len(df))</code> return?"}, {"owner": {"reputation": 43, "user_id": 9159408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6ee5375a0f32bd892d3ae74164a41a?s=128&d=identicon&r=PG&f=1", "display_name": "Coshin", "link": "https://stackoverflow.com/users/9159408/coshin"}, "edited": false, "score": 0, "creation_date": 1533771425, "post_id": 51756971, "comment_id": 90473470, "body": "I get 1, 50 times as I have 50 files"}, {"owner": {"reputation": 1952, "user_id": 4472331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b141db9afcc2c331f5f7f397fd667926?s=128&d=identicon&r=PG", "display_name": "gyoza", "link": "https://stackoverflow.com/users/4472331/gyoza"}, "edited": false, "score": 0, "creation_date": 1533772352, "post_id": 51756971, "comment_id": 90473648, "body": "Have you tried <code>df.iat[0,2]</code>?"}, {"owner": {"reputation": 43, "user_id": 9159408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6ee5375a0f32bd892d3ae74164a41a?s=128&d=identicon&r=PG&f=1", "display_name": "Coshin", "link": "https://stackoverflow.com/users/9159408/coshin"}, "edited": false, "score": 0, "creation_date": 1533772475, "post_id": 51756971, "comment_id": 90473680, "body": "Just tried this, gives me the same values as df.iat[-1,2], so incredibly strange"}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1533772837, "post_id": 51756971, "comment_id": 90473735, "body": "It sounds like your dataframes are one row long. Because you are creating <code>df</code> in a for loop you can call it after the loop is done. Try just <code>print(df)</code> <i>after</i> the loop so you can inspect what the dataframe actually looks like"}, {"owner": {"reputation": 43, "user_id": 9159408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6ee5375a0f32bd892d3ae74164a41a?s=128&d=identicon&r=PG&f=1", "display_name": "Coshin", "link": "https://stackoverflow.com/users/9159408/coshin"}, "edited": false, "score": 0, "creation_date": 1533773329, "post_id": 51756971, "comment_id": 90473822, "body": "Printing df in the loop shows me all of the values for all rows that are in the dataframes, printing df after the loop shows me all the rows in the last dataframe of the loop. It&#39;s outputting values correctly, but for some reason I just can&#39;t pick the first row to observe!"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 9159408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6ee5375a0f32bd892d3ae74164a41a?s=128&d=identicon&r=PG&f=1", "display_name": "Coshin", "link": "https://stackoverflow.com/users/9159408/coshin"}, "is_accepted": true, "score": 0, "last_activity_date": 1533774084, "creation_date": 1533774084, "answer_id": 51757287, "question_id": 51756971, "link": "https://stackoverflow.com/questions/51756971/using-iloc-keeps-picking-the-last-row-of-multiple-data-files/51757287#51757287", "title": "Using iloc keeps picking the last row of multiple data files", "body": "<p>My mistake, pd.read.csv considers headers, but my .csv files have no headers, so we need:</p>\n\n<pre><code>df = pd.read_csv(f,headers=None)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9159408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6ee5375a0f32bd892d3ae74164a41a?s=128&d=identicon&r=PG&f=1", "display_name": "Coshin", "link": "https://stackoverflow.com/users/9159408/coshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51757287, "answer_count": 1, "score": 0, "last_activity_date": 1533774084, "creation_date": 1533770799, "question_id": 51756971, "link": "https://stackoverflow.com/questions/51756971/using-iloc-keeps-picking-the-last-row-of-multiple-data-files", "title": "Using iloc keeps picking the last row of multiple data files", "body": "<p>I have a list of 50 .csv files named data1.csv, data2.csv etc, I would like plot the first row, third column of each of these files. But first I would like to check the 50 values to ensure I'm plotting the correct thing, I have:</p>\n\n<pre><code>import glob\nimport pandas as pd\n\nfiles = glob.glob('data*.csv')\n\nfor f in sorted(files):\n    df = pd.read_csv(f)\n    print(df.iloc[0,2])\n</code></pre>\n\n<p>The problem here is in the last line, <code>df.iloc[0,2]</code> prints the 3rd column of the LAST row when I want it to print the 3rd column of the FIRST row.</p>\n\n<p>Essentially <code>print(df.iloc[0,2])</code> prints the same values as <code>print(df.iloc[-1,2])</code> and I have no idea why.</p>\n\n<p>How can I check what values the first row, third column are in all of my files?</p>\n"}, {"tags": ["python", "formatting", "multiline"], "comments": [{"owner": {"reputation": 47, "user_id": 9906612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364f70e812a7a73cbe5b11a0cd8a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "user9906612", "link": "https://stackoverflow.com/users/9906612/user9906612"}, "edited": false, "score": 0, "creation_date": 1533770886, "post_id": 51756963, "comment_id": 90473352, "body": "The output did not get formatted right. - I expected two lines for the list the first one ending with 4 and the second line starting with 0 with 40 characters for each member of the list but I get only one member of the list printed."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1533772190, "post_id": 51756963, "comment_id": 90473616, "body": "Your code works here. Or maybe I don&#39;t understand your expected output?"}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1533778144, "post_id": 51756963, "comment_id": 90474723, "body": "I notice you have a question which has an answer (which you commented on as a solution to your problem). Remember for this or any other question, you should <a href=\"https://stackoverflow.com/help/someone-answers\">accept an answer</a> if it solves your problem. This increases both your and the person who answered reputation and allows future visitors to know that it worked for you :)"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9906612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364f70e812a7a73cbe5b11a0cd8a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "user9906612", "link": "https://stackoverflow.com/users/9906612/user9906612"}, "edited": false, "score": 1, "creation_date": 1533771566, "post_id": 51756991, "comment_id": 90473504, "body": "I cannot use word_list.join (&#39; &quot;) - I get the following error: AttributeError: &#39;list&#39; object has no attribute &#39;join&#39;"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1533772206, "post_id": 51756991, "comment_id": 90473620, "body": "There is such method as list.join"}, {"owner": {"reputation": 47, "user_id": 9906612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364f70e812a7a73cbe5b11a0cd8a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "user9906612", "link": "https://stackoverflow.com/users/9906612/user9906612"}, "edited": false, "score": 0, "creation_date": 1533773095, "post_id": 51756991, "comment_id": 90473787, "body": "That is correct so it goes back to how can I format new_string to take a list in the original question"}, {"owner": {"reputation": 89, "user_id": 4553111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0632aa297c05e3dfe914d8b4c10fa1a5?s=128&d=identicon&r=PG&f=1", "display_name": "PhilectorIV", "link": "https://stackoverflow.com/users/4553111/philectoriv"}, "edited": false, "score": 1, "creation_date": 1533776020, "post_id": 51756991, "comment_id": 90474332, "body": "You can do:   &#39; &#39;.join(word_list)"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 47, "user_id": 9906612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364f70e812a7a73cbe5b11a0cd8a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "user9906612", "link": "https://stackoverflow.com/users/9906612/user9906612"}, "edited": false, "score": 0, "creation_date": 1533784183, "post_id": 51756991, "comment_id": 90475852, "body": "@user9906612 Mixed up the order, sorry. It&#39;s been a while since I regularly worked in python."}], "tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": false, "score": 0, "last_activity_date": 1533784158, "last_edit_date": 1533784158, "creation_date": 1533770992, "answer_id": 51756991, "question_id": 51756963, "link": "https://stackoverflow.com/questions/51756963/how-to-format-a-string-in-python-to-use-a-list/51756991#51756991", "title": "How to format a string in python to use a list", "body": "<p>You can call <code>join</code> on the list to turn it into a string comprised of all the elements in the list separated by a delimiter:</p>\n\n<pre><code>new_string = \"\"\"This is a new string formatted in {1} with {2} resulting in \n{3}\"\"\".format(year, pkg, \" \".join(word_list))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "is_accepted": false, "score": 0, "last_activity_date": 1533784732, "last_edit_date": 1533784732, "creation_date": 1533775161, "answer_id": 51757370, "question_id": 51756963, "link": "https://stackoverflow.com/questions/51756963/how-to-format-a-string-in-python-to-use-a-list/51757370#51757370", "title": "How to format a string in python to use a list", "body": "<p>If I understand what you are asking, then two ways to do what you want are:</p>\n\n<h3>1. Continue to use the wrap call to return a list</h3>\n\n<p>So we still are using the wrap method to return a list, in this case we will just have to build a string in the format as passing <code>*args</code> to format (called <a href=\"https://docs.python.org/3.7/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow noreferrer\">unpacking</a>) requires a known length. Such:</p>\n\n<pre><code>import textwrap\ntext_string = \"This is a long string that goes beyond 40 characters\"\n\nwrapper = textwrap.TextWrapper(width=40)\nword_list = wrapper.wrap(text=text_string)\n\nyear = '2018'\npkg = 'textwrap'\nnew_string = \"\"\"This is a new string formatted in {} with {} resulting in\"\"\".format(year,pkg)\nnew_string += str(\"\\n{}\" * len(word_list)).format(*word_list)\n\n#originally had above using join but this method can increase performance if text is large\n#join version: new_string = \"\"\"This is a new string formatted in {} with {} resulting in \\n{}\"\"\".format(year,pkg,\"\\n\".join(word_list))\n\n\nprint(new_string)\n</code></pre>\n\n<p>I created the base string (<code>new_string</code>) then concated that with a new string (<code>\\n{}</code>) which I multiplied as many times as there were elements in the list <code>word_list</code> - creating the needed number of <code>{}</code>s in the string for format with an unpacked word_list. </p>\n\n<h3>2. Use the \"<a href=\"https://docs.python.org/2/library/textwrap.html#textwrap.TextWrapper.fill\" rel=\"nofollow noreferrer\">fill</a>\" method to just build a wrapped string</h3>\n\n<p>Note: here I use a dictionary as I personally think this is cleaner when passing values to format but you can change that back if not needed.</p>\n\n<pre><code>import textwrap\ntext_string = \"This is a long string that goes beyond 40 characters\"\n#Using a dictionary to create a map for passing\nresults_dict = {\n    \"year\": \"2018\",\n    \"pkg\": \"textwrap\",\n    \"word_list\": \"\"\n}\n\nwrapper = textwrap.TextWrapper(width=40)\n\nresults_dict[\"word_list\"] = wrapper.fill(text=text_string)\n\nnew_string = \"\"\"This is a new string formatted in {year} with {pkg} resulting in \\n{word_list}\"\"\".format(**results_dict)\n#using the **results_dict as a map just to show another method for format\nprint(new_string)\n</code></pre>\n\n<p>In this case, fill just returns a wrapped version (string) of the given paragraph or sentence so we just need to pass that as normally.</p>\n\n<h2>Output of both:</h2>\n\n<pre><code>This is a new string formatted in 2018 with textwrap resulting in\nThis is a long string that goes beyond\n40 characters\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9906612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364f70e812a7a73cbe5b11a0cd8a5b48?s=128&d=identicon&r=PG&f=1", "display_name": "user9906612", "link": "https://stackoverflow.com/users/9906612/user9906612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1533784732, "creation_date": 1533770699, "question_id": 51756963, "link": "https://stackoverflow.com/questions/51756963/how-to-format-a-string-in-python-to-use-a-list", "title": "How to format a string in python to use a list", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>import textwrap\ntext_string = \"This is a long string that goes beyond 40 characters\"\n\nwrapper = textwrap.TextWrapper(width=40)\nword_list = wrapper.wrap(text=text_string)\nyear = '2018'\npkg = 'textwrap'\nnew_string = \"\"\"This is a new string formatted in {1} with {2} resulting in \n{3}\"\"\".format(year, pkg, *word_list)\n</code></pre>\n\n<p>If I were to run this piece of code here is what I observed:\n{3} is replaced with the first element of word_list. Since I don't know the size of word_list I wanted {3} to take each member of the list on to a new line. and string new line should be:</p>\n\n<p>\"\"\" This is a new string formatted in 2018 with textwrap resulting in\nThis is a long string that goes beyond 4\n0 characters\"\"\"</p>\n\n<p>but instead it becomes\n\"\"\" This is a new string formatted in 2018 with textwrap resulting in\nThis is a long string that goes beyond 4</p>\n\n<p>I couldn't determine how I could use format to accomplish this. I am not trying to print this and I dont want to insert '\\n' because this new string gets appened to a file and not goign to be printed. </p>\n\n<p>Thanks for your help. </p>\n"}, {"tags": ["python", "shell", "subprocess"], "comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1533771070, "post_id": 51756938, "comment_id": 90473399, "body": "You might have some luck posting this on the code review stack exchange site. As I see it, there are some potential problems with the way that commands are parsed, very similar problems to the ones with <code>shell=True</code>\u2026 this code is not much better. Second, if you create a pipe using <code>stdout=PIPE</code> you can then pass <code>stdin=proc.stdout</code> to use the same pipe, which is a better way to connect programs. But it requires a bit of thinking."}, {"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1533820775, "post_id": 51756938, "comment_id": 90494911, "body": "Nice, let me try both suggestions. Thanks."}, {"owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1533822095, "post_id": 51756938, "comment_id": 90495878, "body": "@DietrichEpp Code review does not accept neither code that is not working, nor code that is simplified for the purpose of demonstrating a specific behaviour. This question has a clear problem (code hangs) that can be addressed on SO."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 1, "creation_date": 1533824002, "post_id": 51756938, "comment_id": 90497200, "body": "Here&#39;s a simple way to do it: <a href=\"https://gist.github.com/depp/c798381d6810657f528fe8d0d8013729\" rel=\"nofollow noreferrer\">gist.github.com/depp/c798381d6810657f528fe8d0d8013729</a>"}, {"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1534195788, "post_id": 51756938, "comment_id": 90615923, "body": "@DietrichEpp, I believe that your answer should also be added to the answers below. Thanks."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1534257022, "post_id": 51756938, "comment_id": 90640926, "body": "@ArthurAccioly: I didn&#39;t want to post an answer with code I didn&#39;t stand behind. It was a comment because there were some edge cases yet to consider."}], "answers": [{"comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 1, "creation_date": 1533824143, "post_id": 51769087, "comment_id": 90497310, "body": "This will lose errors (return codes of all processes are ignored), potentially leak processes (does not wait for all children), and the input to the first process should not be a pipe if you are not going to write anything to it."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1533824838, "post_id": 51769087, "comment_id": 90497774, "body": "The code I posted is &quot;here is how you do this&quot; with no real explanation or context, I don&#39;t consider it a quality answer for Stack Overflow. There are unfortunately some subtle bits in how you do this and I don&#39;t have the time for a writeup, so I posted a gist instead."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1533826702, "post_id": 51769087, "comment_id": 90499062, "body": "Yes, I mentioned that the split was incorrect in the comments which is why the function is split into two. However preallocating the array <code>procs</code> seems a bit absurd to me, because you are making the code more complicated and difficult to understand for a performance benefit that might not even be measurable--you have to fork/exec each time through the loop, and that&#39;s orders of magnitude more expensive than <code>append</code>."}], "tags": [], "owner": {"reputation": 3508, "user_id": 5069029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fdj5oVYaBD0/AAAAAAAAAAI/AAAAAAAAADY/EhiTrws4Qiw/photo.jpg?sz=128", "display_name": "301_Moved_Permanently", "link": "https://stackoverflow.com/users/5069029/301-moved-permanently"}, "is_accepted": true, "score": 3, "last_activity_date": 1534145273, "last_edit_date": 1534145273, "creation_date": 1533823384, "answer_id": 51769087, "question_id": 51756938, "link": "https://stackoverflow.com/questions/51756938/how-to-make-a-generic-method-in-python-to-execute-multiple-piped-shell-commands/51769087#51769087", "title": "How to make a generic method in Python to execute multiple piped shell commands?", "body": "<p>Instead of using a shell string and trying to parse it with your own means, I\u2019d ask the user to provide the commands as separate entities themselves. This avoid the obvious trap of detecting a <code>|</code> that is part of a command and not used as a shell pipe. That you ask them to provide commands as a list of strings or a single string that you will <code>shlex.split</code> afterwards is up to the interface that you want to expose. I\u2019d choose the first one for its simplicity in the following example.</p>\n\n<p>Once you have the individual commands, a simple <code>for</code> loop is enough to pipe outputs of the previous commands to inputs of the next ones, as <a href=\"https://stackoverflow.com/questions/19318859/execute-shell-script-from-python-with-multiple-pipes\">you have found yourself</a>:</p>\n\n<pre><code>def pipe_subprocesses(*commands):\n    if not commands:\n        return\n\n    next_input = None\n    for command in commands:\n        p = subprocess.Popen(command, stdin=next_input, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        next_input = p.stdout\n\n    out, err = p.communicate()\n    if err:\n        print(err.decode().strip())\n    else:\n        print(out.decode())\n</code></pre>\n\n<p>Usage being:</p>\n\n<pre><code>&gt;&gt;&gt; pipe_subprocesses(['ls', '-lhtr'], ['awk', '{print $9}'], ['wc', '-l'])\n25\n</code></pre>\n\n<hr>\n\n<p>Now this is a quick and dirty way to get it setup and have seemingly work as you want it. But there are at least two issues with this code:</p>\n\n<ol>\n<li>You leak zombies process/opened process handles because no process' exit code but the last one is collected; and the OS is keeping resources opened for you to do so;</li>\n<li>You can't access the informations of a process that would fail midway through.</li>\n</ol>\n\n<p>To avoid that, you need to maintain a list of opened process and explicitly <code>wait</code> for each of them. And because I don't know your exact use case, I'll just return the first process that failed (if any) or the last process (if not) so you can act accordingly:</p>\n\n<pre><code>def pipe_subprocesses(*commands):\n    if not commands:\n        return\n\n    processes = []\n    next_input = None\n    for command in commands:\n        if isinstance(command, str):\n            command = shlex.split(command)\n        p = subprocess.Popen(command, stdin=next_input, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n        next_input = p.stdout\n        processes.append(p)\n\n    for p in processes:\n        p.wait()\n\n    for p in processes:\n        if p.returncode != 0:\n            return p\n    return p  # return the last process in case everything went well\n</code></pre>\n\n<p>I also thrown in some <code>shlex</code> as an example so you can mix raw strings and already parsed lists:</p>\n\n<pre><code>&gt;&gt;&gt; pipe_subprocesses('ls -lhtr', ['awk', '{print $9}'], 'wc -l')\n25\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1534259893, "post_id": 51843728, "comment_id": 90642852, "body": "Nice, I like that you highlighted all the risks involved. Thanks."}], "tags": [], "owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "is_accepted": false, "score": 3, "last_activity_date": 1534256603, "creation_date": 1534256603, "answer_id": 51843728, "question_id": 51756938, "link": "https://stackoverflow.com/questions/51756938/how-to-make-a-generic-method-in-python-to-execute-multiple-piped-shell-commands/51843728#51843728", "title": "How to make a generic method in Python to execute multiple piped shell commands?", "body": "<p>This unfortunately has a few edge cases in it that the shell takes care of for you, or alternatively, that the shell completely ignores for you. Some concerns:</p>\n\n<ul>\n<li><p>The function should always <code>wait()</code> for every process to finish, or else you will get what are called <a href=\"https://stackoverflow.com/questions/3220676/what-are-zombies-and-what-causes-them-are-there-zombie-processes-and-zombie-obj\">zombie processes</a>.</p></li>\n<li><p>The commands should be connected to each other using real pipes, that way the entire output doesn't need to be read into memory at once. This is the normal way pipes work.</p></li>\n<li><p>The read end of every pipe should be closed in the parent process, so children can properly <code>SIGPIPE</code> when the next process closes its input. Without this, the parent process can keep the pipe open and the child does not know to exit, and it may run forever.</p></li>\n<li><p>Errors in child processes should be raised as exceptions, except <code>SIGPIPE</code>. It is left as an exercise to the reader to raise exceptions for <code>SIGPIPE</code> on the final process because <code>SIGPIPE</code> is <em>not</em> expected there, but ignoring it is not harmful.</p></li>\n</ul>\n\n<p>Note that <code>subprocess.DEVNULL</code> does not exist prior to Python 3.3. I know there are some of you out there still living with 2.x, you will have to open a file for <code>/dev/null</code> manually or just decide that the first process in the pipeline gets to share <code>stdin</code> with the parent process.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import signal\nimport subprocess\n\ndef run_pipe(*cmds):\n    \"\"\"Run a pipe that chains several commands together.\"\"\"\n    pipe = subprocess.DEVNULL\n    procs = []\n    try:\n        for cmd in cmds:\n            proc = subprocess.Popen(cmd, stdin=pipe,\n                                    stdout=subprocess.PIPE)\n            procs.append(proc)\n            if pipe is not subprocess.DEVNULL:\n                pipe.close()\n            pipe = proc.stdout\n        stdout, _ = proc.communicate()\n    finally:\n        # Must call wait() on every process, otherwise you get\n        # zombies.\n        for proc in procs:\n            proc.wait()\n    # Fail if any command in the pipe failed, except due to SIGPIPE\n    # which is expected.\n    for proc in procs:\n        if (proc.returncode\n            and proc.returncode != -signal.SIGPIPE):\n            raise subprocess.CalledProcessError(\n                proc.returncode, proc.args)\n    return stdout\n</code></pre>\n\n<p>Here we can see it in action. You can see that the pipeline correctly terminates with <code>yes</code> (which runs until <code>SIGPIPE</code>) and correctly fails with <code>false</code> (which always fails).</p>\n\n<pre><code>In [1]: run_pipe([\"yes\"], [\"head\", \"-n\", \"1\"])\nOut[1]: b'y\\n'\n\nIn [2]: run_pipe([\"false\"], [\"true\"])\n---------------------------------------------------------------------------\nCalledProcessError                        Traceback (most recent call last)\n&lt;ipython-input-2-db97c6876cd7&gt; in &lt;module&gt;()\n----&gt; 1 run_pipe([\"false\"], [\"true\"])\n\n~/test.py in run_pipe(*cmds)\n     22     for proc in procs:\n     23         if proc.returncode and proc.returncode != -signal.SIGPIPE:\n---&gt; 24             raise subprocess.CalledProcessError(proc.returncode, proc.args)\n     25     return stdout\n\nCalledProcessError: Command '['false']' returned non-zero exit status 1\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 51769087, "answer_count": 2, "score": 3, "last_activity_date": 1534256603, "creation_date": 1533770444, "question_id": 51756938, "link": "https://stackoverflow.com/questions/51756938/how-to-make-a-generic-method-in-python-to-execute-multiple-piped-shell-commands", "title": "How to make a generic method in Python to execute multiple piped shell commands?", "body": "<p>I have many shell commands that need to be executed in my python script. I know that I shouldn't use shell=true as mentioned <a href=\"https://stackoverflow.com/questions/4514751/pipe-subprocess-standard-output-to-a-variable\">here</a> and that I can use the std outputs and inputs in case when I have pipes in the command as mentioned <a href=\"https://stackoverflow.com/questions/19318859/execute-shell-script-from-python-with-multiple-pipes\">here</a>.</p>\n\n<p>But the problem is that my shell commands are complex and full of pipes, so I'd like to make a generic method to be used by my script.</p>\n\n<p>I made a small test below, but is hanging after printing the result (I simplified just to put here). Can somebody please let me know:</p>\n\n<ol>\n<li>Why is hanging.</li>\n<li>If there's a better method of doing this. </li>\n</ol>\n\n<p>Thanks.</p>\n\n<p>PS: This is just a small portion of a big python project and there are business reasons why I'm trying to do this. Thanks.</p>\n\n<pre><code>#!/usr/bin/env python3\nimport subprocess as sub\nfrom subprocess import Popen, PIPE\nimport shlex\n\ndef exec_cmd(cmd,p=None,isFirstLoop=True):\n   if not isFirstLoop and not p:\n       print(\"Error, p is null\")\n       exit()\n   if \"|\" in cmd:\n       cmds = cmd.split(\"|\")\n       while \"|\" in cmd:\n           # separates what is before and what is after the first pipe\n           now_cmd = cmd.split('|',1)[0].strip()\n           next_cmd = cmd.split('|',1)[-1].strip()\n           try:\n               if isFirstLoop:\n                   p1 = sub.Popen(shlex.split(now_cmd), stdout=PIPE)\n                   exec_cmd(next_cmd,p1,False)\n               else:\n                   p2 = sub.Popen(shlex.split(now_cmd),stdin=p.stdout, stdout=PIPE)\n                   exec_cmd(next_cmd,p2,False)\n           except Exception as e:\n               print(\"Error executing command '{0}'.\\nOutput:\\n:{1}\".format(cmd,str(e)))\n               exit()\n           # Adjust cmd to execute the next part\n           cmd = next_cmd\n   else:\n       proc = sub.Popen(shlex.split(cmd),stdin=p.stdout, stdout=PIPE, universal_newlines=True)\n       (out,err) = proc.communicate()\n       if err:\n           print(str(err).strip())\n       else:\n           print(out)\n\n\n\nexec_cmd(\"ls -ltrh | awk '{print $9}' | wc -l \")\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "css-selectors", "webdriverwait"], "comments": [{"owner": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "edited": false, "score": 0, "creation_date": 1533771721, "post_id": 51756925, "comment_id": 90473532, "body": "I&#39;m confused at what exactly you&#39;re looking for.  The links that come back point to the page for each video.  This is not what you&#39;re looking for?  You are looking for access directly to each video instead?"}, {"owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "reply_to_user": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "edited": false, "score": 0, "creation_date": 1533775062, "post_id": 51756925, "comment_id": 90474170, "body": "Hmm I get a bunch of link but non to videos, do you get links on the form <a href=\"https://twitch.tv/dyrus/videos/XXXXX\" rel=\"nofollow noreferrer\">twitch.tv/dyrus/videos/XXXXX</a>"}, {"owner": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "edited": false, "score": 0, "creation_date": 1533779819, "post_id": 51756925, "comment_id": 90475029, "body": "the href values appear to be links to pages that show each video"}, {"owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "reply_to_user": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "edited": false, "score": 0, "creation_date": 1533781785, "post_id": 51756925, "comment_id": 90475441, "body": "Can you give an example of a link you get out from this? Because I don&#39;t get a single link to a video"}, {"owner": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "edited": false, "score": 0, "creation_date": 1533855031, "post_id": 51756925, "comment_id": 90511889, "body": "JeffC&#39;s answer below should give you what you need"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533784861, "post_id": 51758299, "comment_id": 90475968, "body": "Thanks for the reply, I get 0 prints from this code. links = [] after this is run for some reason"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533786597, "post_id": 51758299, "comment_id": 90476304, "body": "Sorry, I ran this several times and it always worked but I think I just got lucky. I think it was a timing issue so I added a wait and it&#39;s working now."}, {"owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533818893, "post_id": 51758299, "comment_id": 90493534, "body": "There is a parenthesis error in the code which you might want to fix if someone else come in here looking but other than that it worked wonders, thank you! :)"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533819341, "post_id": 51758299, "comment_id": 90493882, "body": "If you know where the parenthesis mistake is, please fix it or tell me where it is so I can."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533819347, "post_id": 51758299, "comment_id": 90493883, "body": "If this, or any other answer, was useful please upvote it. Once you find the answer to your question, please mark it as accepted so the question isn&#39;t left unanswered."}, {"owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533902504, "post_id": 51758299, "comment_id": 90529112, "body": "On the links line there should be a another closing parenthesis at the end and not one closing around By.CSS_SELECTOR"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "edited": false, "score": 0, "creation_date": 1533906406, "post_id": 51758299, "comment_id": 90531595, "body": "Thanks... fixed. If this answered your question, please mark it as accepted so the question doesn&#39;t get left unanswered."}], "tags": [], "owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 0, "last_activity_date": 1533906357, "last_edit_date": 1533906357, "creation_date": 1533784510, "answer_id": 51758299, "question_id": 51756925, "link": "https://stackoverflow.com/questions/51756925/how-to-find-the-href-attribute-of-the-videos-on-twitch-through-selenium-and-pyth/51758299#51758299", "title": "How to find the href attribute of the videos on twitch through selenium and python?", "body": "<p>With your locator, you are returning every element on the page that contains an <code>href</code> attribute. You can be a little more specific than that and get what you are looking for. Switch to a CSS selector...</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC    \n\n# Change path here obviously\ndriver = webdriver.Chrome('C:/Users/Jason/Downloads/chromedriver') \ndriver.get('https://www.twitch.tv/dyrus/videos/all')\nlinks = WebDriverWait(driver, 10).until(EC.visibility_of_all_elements_located((By.CSS_SELECTOR, \"a[data-a-target='preview-card-image-link']\")))\n\nfor link in links:\n    print(link.get_attribute('href'))\n\ndriver.close()\n</code></pre>\n\n<p>That prints 40 links from the page.</p>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 0, "last_activity_date": 1533897309, "creation_date": 1533897309, "answer_id": 51784609, "question_id": 51756925, "link": "https://stackoverflow.com/questions/51756925/how-to-find-the-href-attribute-of-the-videos-on-twitch-through-selenium-and-pyth/51784609#51784609", "title": "How to find the href attribute of the videos on twitch through selenium and python?", "body": "<p>I would still suggest a couple of changes as follows:</p>\n\n<ul>\n<li>Always open the <em>Web Browser</em> in <strong>maximized</strong> mode so that all/majority of the desired elements are within the <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">Viewport</a>.</li>\n<li>If you are on <em>Windows OS</em> you need to append the extension <code>.exe</code> at the end of the <em>WebDriver</em> variant name, e.g. <strong>chromedriver.exe</strong></li>\n<li>While you identify for elements always try to include the <code>class</code> attribute in your <em>Locator Strategy</em>.</li>\n<li>Always invoke <code>driver.quit()</code> at the end of your <code>@Test</code> to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully.</li>\n<li><p>Here is your own code block with the above mentioned tweaks:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC    \n\noptions = Options()\noptions.add_argument(\"start-maximized\")\noptions.add_argument(\"disable-infobars\")\ndriver = webdriver.Chrome(chrome_options=options, executable_path=r'C:\\path\\to\\chromedriver.exe')\ndriver.get('https://www.twitch.tv/dyrus/videos/all')\nlink_elements = WebDriverWait(driver, 10).until(EC.visibility_of_all_elements_located((By.CSS_SELECTOR, \"a.tw-interactive.tw-link[data-a-target='preview-card-image-link']\")))\nfor link in link_elements:\n    print(link.get_attribute('href'))\ndriver.quit()\n</code></pre></li>\n<li><p>Console Output:</p>\n\n<pre><code>https://www.twitch.tv/videos/295314690\nhttps://www.twitch.tv/videos/294901947\nhttps://www.twitch.tv/videos/294472813\nhttps://www.twitch.tv/videos/294075254\nhttps://www.twitch.tv/videos/293617036\nhttps://www.twitch.tv/videos/293236560\nhttps://www.twitch.tv/videos/292800601\nhttps://www.twitch.tv/videos/292409437\nhttps://www.twitch.tv/videos/292328170\nhttps://www.twitch.tv/videos/292032996\nhttps://www.twitch.tv/videos/291625563\nhttps://www.twitch.tv/videos/291192151\nhttps://www.twitch.tv/videos/290824842\nhttps://www.twitch.tv/videos/290434348\nhttps://www.twitch.tv/videos/290021370\nhttps://www.twitch.tv/videos/289561690\nhttps://www.twitch.tv/videos/289495488\nhttps://www.twitch.tv/videos/289138003\nhttps://www.twitch.tv/videos/289110429\nhttps://www.twitch.tv/videos/288804893\nhttps://www.twitch.tv/videos/288784992\nhttps://www.twitch.tv/videos/288687479\nhttps://www.twitch.tv/videos/288432438\nhttps://www.twitch.tv/videos/288117849\nhttps://www.twitch.tv/videos/288004968\nhttps://www.twitch.tv/videos/287689102\nhttps://www.twitch.tv/videos/287451192\nhttps://www.twitch.tv/videos/287267032\nhttps://www.twitch.tv/videos/287017431\nhttps://www.twitch.tv/videos/286819343\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 10200341, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvJjb33NEvg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qULKuv4GYj1aBNha7IZLYdjjOpRQ/mo/photo.jpg?sz=128", "display_name": "Jason Green", "link": "https://stackoverflow.com/users/10200341/jason-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 51784609, "answer_count": 2, "score": 0, "last_activity_date": 1533906357, "creation_date": 1533770386, "last_edit_date": 1533897179, "question_id": 51756925, "link": "https://stackoverflow.com/questions/51756925/how-to-find-the-href-attribute-of-the-videos-on-twitch-through-selenium-and-pyth", "title": "How to find the href attribute of the videos on twitch through selenium and python?", "body": "<p>I'm trying to find the twitch video IDs of all videos for a specific user. So for example on this page\n<a href=\"https://www.twitch.tv/dyrus/videos/all\" rel=\"nofollow noreferrer\">https://www.twitch.tv/dyrus/videos/all</a></p>\n\n<p>So here we have all videos linked, but its not quite so simple as to just scrape the html and find the links since they are generated dynamically it seems.</p>\n\n<p>So I heard about selenium and did something like this:</p>\n\n<pre><code>from selenium import webdriver\n\n# Change path here obviously\ndriver = webdriver.Chrome('C:/Users/Jason/Downloads/chromedriver') \ndriver.get('https://www.twitch.tv/dyrus/videos/all')\nlink_element = driver.find_elements_by_xpath(\"//*[@href]\")\n\n\nfor link in link_element:\n    print(link.get_attribute('href'))\n\ndriver.close()\n</code></pre>\n\n<p>This returns me a bunch of links on the page but not the videos, they lie \"deeper\" I think, any input?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["java", "python", "pip"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533770995, "post_id": 51756910, "comment_id": 90473381, "body": "You&#39;re missing <code>javac</code>, the Java compiler. Install JDK: <code>apt install default-jdk</code>."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533771039, "post_id": 51756910, "comment_id": 90473393, "body": "Thanks. I do have ls /usr/lib/jvm/java-8-openjdk-amd64/, is your advice still applicable?"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533771136, "post_id": 51756910, "comment_id": 90473412, "body": "Most probably that&#39;s just the JRE (Java runtime environment) which is not enough."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533771212, "post_id": 51756910, "comment_id": 90473423, "body": "Thanks. I tried that, now getting different error. Please see edit above. Should I do something like this maybe,and what path do I use? <a href=\"https://askubuntu.com/questions/175514/how-to-set-java-home-for-java\" title=\"how to set java home for java\">askubuntu.com/questions/175514/how-to-set-java-home-for-java</a>"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533771786, "post_id": 51756910, "comment_id": 90473544, "body": "Sure, you need to set up JDK so it is usable. Test whether things work by issuing <code>printf &#39;import java.lang.*; public class Test {public static void main(String[] args) {System.out.println(&quot;Hello world&quot;);}}&#39; &gt; Test.java &amp;&amp; javac Test.java &amp;&amp; java Test &amp;&amp; rm Test.*</code>, you should get <code>Hello world</code> printed."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533772109, "post_id": 51756910, "comment_id": 90473597, "body": "I do, yes, that worked."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533772355, "post_id": 51756910, "comment_id": 90473650, "body": "So you set <code>JAVA_HOME</code>, but the error with <code>javabridge</code> still remains?"}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533772716, "post_id": 51756910, "comment_id": 90473721, "body": "I do not have JAVA_HOME, what exactly and how do I set it? I thought it was not right originally, so I got rid of it, can you please tell me details on this"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533772943, "post_id": 51756910, "comment_id": 90473758, "body": "<code>update-alternatives --config java</code> should give you the path, among other things. Check whether <code>libjvm.so</code> is present in there: <code>find &#47;path&#47;to&#47;jdk -type f -name &quot;*jvm.so&quot;</code>. Then try installing with <code>JAVA_HOME=&#47;path&#47;to&#47;jdk JDK_HOME=&#47;path&#47;to&#47;jdk pip install javabridge --user</code>."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533861953, "post_id": 51756910, "comment_id": 90513157, "body": "I made edits to the original question, please let me know if you have any ideas what should I try? Also, what exactly is my path to jdk, i.e. does it end with /bin/java, or before that? Please see above"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533878975, "post_id": 51756910, "comment_id": 90516771, "body": "The <code>&#47;path&#47;to&#47;jdk&#47;</code> should be <code>&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-amd64</code> in your case. It&#39;s the root of JDK installation. <code>bin&#47;java</code> is just the path to java executable."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533947591, "post_id": 51756910, "comment_id": 90548378, "body": "I followed your instructions, please see the edits in the original question above. Still the same error."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533965203, "post_id": 51756910, "comment_id": 90550522, "body": "That&#39;s because you ran the command wrong. Run it exactly as I wrote it, don&#39;t split it in two commands. And don&#39;t add stuff, there should be no <code>sudo</code> in it."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533998721, "post_id": 51756910, "comment_id": 90557907, "body": "Same output, please see edits above"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1533999875, "post_id": 51756910, "comment_id": 90558252, "body": "I can reproduce the issue in a fresh Ubuntu container, let me try it out."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1534001021, "post_id": 51756910, "comment_id": 90558565, "body": "Great, thank you so much"}], "answers": [{"comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1533771291, "post_id": 51757017, "comment_id": 90473439, "body": "I think I should have all those, do you have concrete advice, concrete command to run?"}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1533826085, "post_id": 51757017, "comment_id": 90498653, "body": "Please see above, I ran your command, and then getting another error with rfind."}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": false, "score": 0, "last_activity_date": 1533800272, "last_edit_date": 1533800272, "creation_date": 1533771230, "answer_id": 51757017, "question_id": 51756910, "link": "https://stackoverflow.com/questions/51756910/cant-pip-install-javabridge/51757017#51757017", "title": "Can&#39;t pip install javabridge", "body": "<p><a href=\"https://pythonhosted.org/javabridge/installation.html#dependencies\" rel=\"nofollow noreferrer\">https://pythonhosted.org/javabridge/installation.html#dependencies</a>:</p>\n\n<p>The Javabridge requires Python 2.6 or above, NumPy, the Java Development Kit (JDK), and a C compiler.</p>\n\n<pre><code>sudo apt install python2.7 python-numpy openjdk-8-jdk gcc\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1534012012, "post_id": 51801398, "comment_id": 90561481, "body": "Getting gpg: unknown option &#39;show-only&#39; gpg: invalid import options Got &#39;0&#39; fingerprints, expected only one Failed to add key."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1534012571, "post_id": 51801398, "comment_id": 90561613, "body": "Actually it worked, thanks. But I got it when trying to add the repository."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "reply_to_user": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1534012752, "post_id": 51801398, "comment_id": 90561656, "body": "I&#39;d say that&#39;s a topic for another question, as I&#39;m not aware of GPG key management on Ubuntu. Best seek help on <a href=\"https://askubuntu.com/\">Ask Ubuntu</a>."}], "tags": [], "owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "is_accepted": true, "score": 3, "last_activity_date": 1534002958, "creation_date": 1534002958, "answer_id": 51801398, "question_id": 51756910, "link": "https://stackoverflow.com/questions/51756910/cant-pip-install-javabridge/51801398#51801398", "title": "Can&#39;t pip install javabridge", "body": "<p>It looks like you're running into <a href=\"https://github.com/LeeKamentsky/python-javabridge/issues/137\" rel=\"nofollow noreferrer\">this issue</a>. <code>javabridge</code> package is not updated to changes in Java 9/10/11 regarding the restructuring of the JRE target dir (an intermediate dir named after the target arch removed), so you can only use the Java 8 at the moment. This is how I could install <code>javabridge</code> successfully in an <code>ubuntu:latest</code> docker container:</p>\n\n<pre><code>$ apt update\n$ apt install software-properties-common\n$ add-apt-repository ppa:webupd8team/java\n$ apt install openjdk-8-jdk\n$ update-alternatives --config java\n</code></pre>\n\n<p>This should give you the path to OpenJDK 8 similar to <code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</code>, remove the <code>jre/bin/java</code> suffix to get the JDK root.</p>\n\n<p>Now install <code>javabridge</code>:</p>\n\n<pre><code>$ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64 pip install javabridge --user\nInstalling collected packages: javabridge\n  Running setup.py install for javabridge ... done\nSuccessfully installed javabridge-1.0.17\n</code></pre>\n"}], "owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2278, "favorite_count": 0, "accepted_answer_id": 51801398, "answer_count": 2, "score": 2, "last_activity_date": 1534003214, "creation_date": 1533770288, "last_edit_date": 1534003214, "question_id": 51756910, "link": "https://stackoverflow.com/questions/51756910/cant-pip-install-javabridge", "title": "Can&#39;t pip install javabridge", "body": "<p>Ubuntu 18.04, python 2.7</p>\n\n<p>I try</p>\n\n<pre><code>sudo pip install javabridge\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>      Complete output from command python setup.py egg_info:\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/tmp/pip-install-voWMrv/javabridge/setup.py\", line 396, in &lt;module&gt;\n    ext_modules=ext_modules(),\n  File \"/tmp/pip-install-voWMrv/javabridge/setup.py\", line 131, in ext_modules\n    library_dirs = [os.path.dirname(jvm_so)]\n  File \"/usr/lib/python2.7/posixpath.py\", line 122, in dirname\n    i = p.rfind('/') + 1\nAttributeError: 'NoneType' object has no attribute 'rfind'\n\n----------------------------------------\n</code></pre>\n\n<p>Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-voWMrv/javabridge/</p>\n\n<p>I was able to do</p>\n\n<pre><code>sudo pip install javabridge==1.0.16\n</code></pre>\n\n<p>But it turns out that I need the newest one, 1.0.17, for which I still get the error above.</p>\n\n<p>This command </p>\n\n<pre><code>find /usr/lib/jvm/java-11-openjdk-amd64 -type f -name \"*jvm.so\"\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>/usr/lib/jvm/java-11-openjdk-amd64/lib/server/libjvm.so\n</code></pre>\n\n<p>Then I ran</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n~$ JDK_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n\n<p>Finally</p>\n\n<pre><code>sudo pip install javabridge --user myName\n</code></pre>\n\n<p>Gives the same error</p>\n\n<pre><code>Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/tmp/pip-install-i61jKx/javabridge/setup.py\", line 396, in &lt;module&gt;\n        ext_modules=ext_modules(),\n      File \"/tmp/pip-install-i61jKx/javabridge/setup.py\", line 131, in ext_modules\n        library_dirs = [os.path.dirname(jvm_so)]\n      File \"/usr/lib/python2.7/posixpath.py\", line 122, in dirname\n        i = p.rfind('/') + 1\n    AttributeError: 'NoneType' object has no attribute 'rfind'\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64 JDK_HOME=/usr/lib/jvm/java-11-openjdk-amd64 pip install javabridge --user\n\nCollecting javabridge\n  Using cached https://files.pythonhosted.org/packages/68/87/0b016838c2a33b46b8775a3890150c93507931127cf62e9ccf27ac20db34/javabridge-1.0.17.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/tmp/pip-install-QDCLar/javabridge/setup.py\", line 396, in &lt;module&gt;\n        ext_modules=ext_modules(),\n      File \"/tmp/pip-install-QDCLar/javabridge/setup.py\", line 131, in ext_modules\n        library_dirs = [os.path.dirname(jvm_so)]\n      File \"/usr/lib/python2.7/posixpath.py\", line 122, in dirname\n        i = p.rfind('/') + 1\n    AttributeError: 'NoneType' object has no attribute 'rfind'\n</code></pre>\n"}, {"tags": ["python", "arrays", "sorting", "bit-shift", "masked-array"], "answers": [{"tags": [], "owner": {"reputation": 525, "user_id": 2457853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2udWj.jpg?s=128&g=1", "display_name": "Sacry", "link": "https://stackoverflow.com/users/2457853/sacry"}, "is_accepted": false, "score": 0, "last_activity_date": 1533779096, "creation_date": 1533779096, "answer_id": 51757745, "question_id": 51756897, "link": "https://stackoverflow.com/questions/51756897/shift-masked-values-of-to-the-end-of-a-2d-python-array/51757745#51757745", "title": "Shift masked values of to the end of a 2D python array?", "body": "<p>I didn't find any ma function could achieve this, but I think you could perform sort on mask array first</p>\n\n<pre><code>a = np.arange(9).reshape(3, 3)\narray([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])\n\nnp.ma.masked_where(a % 2 == 0, a)\nmasked_array(data =\n [[-- 1 --]\n [3 -- 5]\n [-- 7 --]],\n             mask =\n [[ True False  True]\n [False  True False]\n [ True False  True]],\n       fill_value = 999999)\n\n\na = a[np.arange(a.shape[0]).reshape(-1, 1), np.argsort(a % 2 == 0, axis=1, kind='mergesort')]\narray([[1, 0, 2],\n       [3, 5, 4],\n       [7, 6, 8]])\n\nnp.ma.masked_where(a %2 == 0, a)\nmasked_array(data =\n [[1 -- --]\n [3 5 --]\n [7 -- --]],\n             mask =\n [[False  True  True]\n [False False  True]\n [False  True  True]],\n       fill_value = 999999)\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 9768065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4962f279166d688d6c57b65b8332d68e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/9768065/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533913631, "creation_date": 1533770210, "last_edit_date": 1533913631, "question_id": 51756897, "link": "https://stackoverflow.com/questions/51756897/shift-masked-values-of-to-the-end-of-a-2d-python-array", "title": "Shift masked values of to the end of a 2D python array?", "body": "<p>Suppose that we have a 2D numpy array and we use np.ma.masked_where to mask some elements. In each row, we want to move all the masked elements to the end while preserving the order of rest of the elements. Is there an easy loop-free way to do that?</p>\n\n<p>For example, suppose we have the following masked 2D matrix:</p>\n\n<pre><code>a = [1, --, 2\n     4, 3, --\n     --, --,5]\n</code></pre>\n\n<p>We want to return:</p>\n\n<pre><code>a = [1, 2, --\n     4, 3, --\n     5,--, --]\n</code></pre>\n"}, {"tags": ["python", "oop", "stack"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1533769985, "post_id": 51756840, "comment_id": 90473136, "body": "Can we have a version of your code that doesn&#39;t read the input from a file, i.e. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 2, "last_activity_date": 1533769902, "creation_date": 1533769902, "answer_id": 51756856, "question_id": 51756840, "link": "https://stackoverflow.com/questions/51756840/program-that-checks-if-html-tags-are-balanced-python/51756856#51756856", "title": "Program that checks if HTML tags are balanced python", "body": "<pre><code>def HTMLCheck(newfile):\n    # How to see if &lt;&lt; is covered\n    with open(newfile) as file:\n        stack = Stack()\n        list1 = list()\n        for line in file:\n            line = line.rstrip()\n            list1.append(line)\n        index = 0\n        while index &lt; len(list1):\n            for ch in list1[index]:\n                if ch == '&lt;':\n                    stack.push(ch)\n                elif ch == '&gt;':\n                    if stack.is_empty():\n                        return False\n                    else:\n                        stack.pop()\n            index += 1\n\n        return stack.is_empty() # if the stack is not empty then it was not balanced ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10764694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rCW6cbR1Tvo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h9NbCPPL1ZzFMMu0bcr50zclFFJg/mo/photo.jpg?sz=128", "display_name": "Kate pom", "link": "https://stackoverflow.com/users/10764694/kate-pom"}, "is_accepted": false, "score": 1, "last_activity_date": 1581446502, "last_edit_date": 1581446502, "creation_date": 1581443716, "answer_id": 60174813, "question_id": 51756840, "link": "https://stackoverflow.com/questions/51756840/program-that-checks-if-html-tags-are-balanced-python/60174813#60174813", "title": "Program that checks if HTML tags are balanced python", "body": "<p>Another solution. I improved the algorithm a little bit and also check the full name of the tag.</p>\n\n<pre><code>import re\n\ndef tagChecker(symbolString):\n    s = Stack()\n    pattern = re.compile('&lt;.*?&gt;')\n    pattern_close = re.compile('&lt;/.*?&gt;')\n    tag_list = re.findall(pattern, html_str)\n    balanced = True\n    index = 0\n    while index &lt; len(tag_list) and balanced:\n        tag = tag_list[index]\n        if not pattern_close.match(tag):\n            s.push(tag)\n        else:\n            if s.isEmpty() or str.replace(tag, '/', '') != s.peek():\n    # s.peek() - function, which returns top of the stack without removing\n                balanced = False\n            else:                \n                s.pop()\n\n        index = index + 1\n\n    if balanced and s.isEmpty():\n        return True\n    else:\n        return False\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9883150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b14571c1f9eca608ee6eac1d3f48763?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/9883150/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 51756856, "answer_count": 2, "score": -1, "last_activity_date": 1581446502, "creation_date": 1533769785, "question_id": 51756840, "link": "https://stackoverflow.com/questions/51756840/program-that-checks-if-html-tags-are-balanced-python", "title": "Program that checks if HTML tags are balanced python", "body": "<p>I need to make a function that uses a stack to see if an html file has opening and closing tags balanced. The problem lets you assume that the html appears line by line without having to worry about indents. My program below works when I unbalance the closing tags, such as &lt; html >>, and that is all the question asks for, but I am trying to edit my function so it would see unbalanced html opening tags. Things like &lt; html >> are noticed by my function, but things like &lt;&lt; html > are not noticed. I was thinking I could add another statement to my function like \n   \"if ch == '&lt;' and not stack.is_empty():\n   return False\"\nbut I am not sure where I would place that in the function.</p>\n\n<pre><code>class Stack:\n\"\"\" Last in first out\"\"\"\ndef __init__(self):\n    self.items = []\ndef is_empty(self):\n    return self.items == []\ndef peek(self):\n    return self.items[len(self.items - 1)]\ndef push(self,item):\n    return self.items.append(item)\ndef pop(self):\n    return self.items.pop()\ndef size(self):\n    return len(self.items)\n\ndef HTMLCheck(newfile):\n    # How to see if &lt;&lt; is covered\n    with open(newfile) as file:\n        stack = Stack()\n        list1 = list()\n        for line in file:\n            line = line.rstrip()\n            list1.append(line)\n        index = 0\n        while index &lt; len(list1):\n            for ch in list1[index]:\n                if ch == '&lt;':\n                    stack.push(ch)\n                elif ch == '&gt;':\n                    if stack.is_empty():\n                        return False\n                    else:\n                        stack.pop()\n            index += 1\n\n        return True\n\n\nprint(HTMLCheck('HW5.txt'))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "beautifulsoup", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533770484, "post_id": 51756904, "comment_id": 90473255, "body": "I will appreciate if you can provide me with the solution and where to add it, I am a beginner in HTML parsing and coding."}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533771444, "post_id": 51756904, "comment_id": 90473475, "body": "I will be grateful if you tell me how to implement it"}], "tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": false, "score": 0, "last_activity_date": 1533770248, "creation_date": 1533770248, "answer_id": 51756904, "question_id": 51756775, "link": "https://stackoverflow.com/questions/51756775/scraping-table-from-website-timeanddate-com/51756904#51756904", "title": "Scraping table from website [timeanddate.com]", "body": "<p>Using the developer tools in chrome, it looks like you can search for and click a link with text <code>first_three_letters_of_month day</code> using <code>driver.find_element_by_link_text(date_here).click()</code></p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533774775, "post_id": 51757323, "comment_id": 90474115, "body": "I am still getting ( TypeError: &#39;str&#39; object is not callable) using your code, I appreciate your help"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533775445, "post_id": 51757323, "comment_id": 90474233, "body": "after re-running the code I get:TypeError: Parameters to generic types must be types. Got {&#39;time&#39;: &#39;11:58 pm&#39;, &#39;temp&#39;: &#39;27\\xa0&#176;F&#39;, &#39;weather&#39;: &#39;Partly cloudy.&#39;, &#39;wind&#39;: &#39;21 mph&#39;, &#39;humidity&#39;: ."}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533775608, "post_id": 51757323, "comment_id": 90474259, "body": "I am trying to get all of the tables inside the tab, thanks"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 1, "creation_date": 1533775783, "post_id": 51757323, "comment_id": 90474296, "body": "@KingJulien Strange, I do not receive that error when I run this code. I am using Python 3.7. What version are you running this code on?"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533776115, "post_id": 51757323, "comment_id": 90474351, "body": "my python version is 3.6.4. the code now running but it is still only providing the result for  Feb 1."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 1, "creation_date": 1533776979, "post_id": 51757323, "comment_id": 90474505, "body": "@KingJulien That is also what I am receiving. How does it match your desired output?"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533777063, "post_id": 51757323, "comment_id": 90474527, "body": "dear @ Ajax1234, I think we are very close buddy, I am just looking for chromedriver  path."}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533777222, "post_id": 51757323, "comment_id": 90474551, "body": "@ Ajax1234 It will be great if I can save all of the month values to csv"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 1, "creation_date": 1533777311, "post_id": 51757323, "comment_id": 90474572, "body": "@KingJulien You need to install the chromedriver from here: <a href=\"http://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">chromedriver.chromium.org/downloads</a> and pass the path pointing to the installation to <code>Chrome</code>"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "reply_to_user": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1533777907, "post_id": 51757323, "comment_id": 90474667, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/177691/discussion-between-king-julien-and-ajax1234\">continue this discussion in chat</a>."}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533778202, "post_id": 51757323, "comment_id": 90474735, "body": "@ Ajax1234 this is my notebook, I attached the error messages I am getting now: <a href=\"https://drive.google.com/open?id=1WS72xVIEN4M1xXmpxiR6pl0oAfKwxdFs\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1WS72xVIEN4M1xXmpxiR6pl0oAfKwxdFs</a>"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533778337, "post_id": 51757323, "comment_id": 90474759, "body": "@ Ajax1234 I did install chromedriver now, the error I am getting is after the installation"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533790838, "post_id": 51757323, "comment_id": 90477402, "body": "this is how the updated script look like, still not solved the error: from selenium import webdriver d = webdriver.Firefox(executable_path=r&#39;C:/Users/KJ/Downloads/ge&zwnj;&#8203;ckodriver.exe&#39;) d.get(&#39;<a href=\"https://www.timeanddate.com/weather/usa/dayton/historic?month=2&amp;year=2016&#39;\" rel=\"nofollow noreferrer\">timeanddate.com/weather/usa/dayton/&hellip;</a>) for i in d.find_element_by_id(&#39;wt-his-select&#39;).find_elements_by_tag_n&zwnj;&#8203;ame(&#39;option&#39;):     i.click()     with get_weather_data(d.page_source) as weather:             print(weather)"}, {"owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "edited": false, "score": 0, "creation_date": 1533840752, "post_id": 51757323, "comment_id": 90506710, "body": "I will appreciate if you modify the answer to include the iteration you mentioned. Thank you for your time."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 1, "last_activity_date": 1533840848, "last_edit_date": 1533840848, "creation_date": 1533774549, "answer_id": 51757323, "question_id": 51756775, "link": "https://stackoverflow.com/questions/51756775/scraping-table-from-website-timeanddate-com/51757323#51757323", "title": "Scraping table from website [timeanddate.com]", "body": "<p>You can iterate over the table elements (<code>tr</code>, <code>th</code>, and <code>td</code>) for a single page:</p>\n\n<pre><code>import requests, re, typing\nfrom bs4 import BeautifulSoup as soup\nimport contextlib\ndef _remove(d:list) -&gt; list:\n   return list(filter(None, [re.sub('\\xa0', '', b) for b in d]))\n\n@contextlib.contextmanager\ndef get_weather_data(url:str, by_url = True) -&gt; typing.Generator[dict, None, None]:\n   d = soup(requests.get(url).text if by_url else url, 'html.parser')\n   _table = d.find('table', {'id':'wt-his'})\n   _data = [[[i.text for i in c.find_all('th')], *[i.text for i in c.find_all('td')]] for c in _table.find_all('tr')]\n   [h1], [h2], *data, _ = _data\n   _h2 = _remove(h2)\n   yield {tuple(_remove(h1)):[dict(zip(_h2, _remove([a, *i]))) for [[a], *i] in data]}\n\n\nwith get_weather_data('https://www.timeanddate.com/weather/usa/dayton/historic?month=2&amp;year=2016') as weather:\n print(weather)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{('Conditions', 'Comfort'): [{'Time': '12:58 amMon, Feb 1', 'Temp': '50\u00b0F', 'Weather': 'Light rain. Mostly cloudy.', 'Wind': '13 mph', 'Humidity': '\u2191', 'Barometer': '88%', 'Visibility': '29.79 \"Hg'}, {'Time': '1:58 am', 'Temp': '46\u00b0F', 'Weather': 'Mostly cloudy.', 'Wind': '12 mph', 'Humidity': '\u2191', 'Barometer': '83%', 'Visibility': '29.82 \"Hg'}, {'Time': '2:58 am', 'Temp': '43\u00b0F', 'Weather': 'Mostly cloudy.', 'Wind': '14 mph', 'Humidity': '\u2191', 'Barometer': '85%', 'Visibility': '29.87 \"Hg'}, {'Time': '3:58 am', 'Temp': '42\u00b0F', 'Weather': 'Mostly cloudy.', 'Wind': '10 mph', 'Humidity': '\u2191', 'Barometer': '83%', 'Visibility': '29.89 \"Hg'}, {'Time': '4:58 am', 'Temp': '41\u00b0F', 'Weather': 'Mostly cloudy.', 'Wind': '10 mph', 'Humidity': '\u2191', 'Barometer': '82%', 'Visibility': '29.91 \"Hg'}, {'Time': '5:58 am', 'Temp': '39\u00b0F', 'Weather': 'Mostly cloudy.', 'Wind': '8 mph', 'Humidity': '\u2191', 'Barometer': '83%', 'Visibility': '29.93 \"Hg'}, {'Time': '6:58 am', 'Temp': '38\u00b0F', 'Weather': 'Partly cloudy.', 'Wind': '5 mph', 'Humidity': '\u2191', 'Barometer': '82%', 'Visibility': '29.96 \"Hg'}, {'Time': '7:58 am', 'Temp': '38\u00b0F', 'Weather': 'Partly sunny.', 'Wind': '5 mph', 'Humidity': '\u2191', 'Barometer': '80%', 'Visibility': '29.99 \"Hg'}, {'Time': '8:58 am', 'Temp': '38\u00b0F', 'Weather': 'Overcast.', 'Wind': '5 mph', 'Humidity': '\u2191', 'Barometer': '78%', 'Visibility': '30.01 \"Hg'}, {'Time': '9:58 am', 'Temp': '40\u00b0F', 'Weather': 'Broken clouds.', 'Wind': '7 mph', 'Humidity': '\u2191', 'Barometer': 'N/A', 'Visibility': '30.01 \"Hg'}, {'Time': '10:58 am', 'Temp': '41\u00b0F', 'Weather': 'Broken clouds.', 'Wind': '1 mph', 'Humidity': '\u2191', 'Barometer': '72%', 'Visibility': '30.02 \"Hg'}, {'Time': '11:58 am', 'Temp': '41\u00b0F', 'Weather': 'Partly sunny.', 'Wind': '2 mph', 'Humidity': '\u2191', 'Barometer': '70%', 'Visibility': '30.04 \"Hg'}, {'Time': '12:58 pm', 'Temp': '42\u00b0F', 'Weather': 'Scattered clouds.', 'Wind': '2 mph', 'Humidity': '\u2191', 'Barometer': '69%', 'Visibility': '30.04 \"Hg'}, {'Time': '1:58 pm', 'Temp': '43\u00b0F', 'Weather': 'Partly sunny.', 'Wind': '3 mph', 'Humidity': '\u2191', 'Barometer': '65%', 'Visibility': '30.03 \"Hg'}, {'Time': '2:58 pm', 'Temp': '44\u00b0F', 'Weather': 'Partly sunny.', 'Wind': 'No wind', 'Humidity': '\u2191', 'Barometer': '62%', 'Visibility': '30.02 \"Hg'}, {'Time': '3:58 pm', 'Temp': '46\u00b0F', 'Weather': 'Passing clouds.', 'Wind': '6 mph', 'Humidity': '\u2191', 'Barometer': '58%', 'Visibility': '30.03 \"Hg'}, {'Time': '4:58 pm', 'Temp': '46\u00b0F', 'Weather': 'Sunny.', 'Wind': '6 mph', 'Humidity': '\u2191', 'Barometer': '57%', 'Visibility': '30.04 \"Hg'}, {'Time': '5:58 pm', 'Temp': '43\u00b0F', 'Weather': 'Clear.', 'Wind': '3 mph', 'Humidity': '\u2191', 'Barometer': '65%', 'Visibility': '30.06 \"Hg'}, {'Time': '6:58 pm', 'Temp': '39\u00b0F', 'Weather': 'Clear.', 'Wind': '1 mph', 'Humidity': '\u2191', 'Barometer': '71%', 'Visibility': '30.09 \"Hg'}, {'Time': '7:58 pm', 'Temp': '35\u00b0F', 'Weather': 'Clear.', 'Wind': '1 mph', 'Humidity': '\u2191', 'Barometer': '79%', 'Visibility': '30.11 \"Hg'}, {'Time': '8:58 pm', 'Temp': '32\u00b0F', 'Weather': 'Clear.', 'Wind': 'No wind', 'Humidity': '\u2191', 'Barometer': '85%', 'Visibility': '30.13 \"Hg'}, {'Time': '9:58 pm', 'Temp': '30\u00b0F', 'Weather': 'Clear.', 'Wind': 'No wind', 'Humidity': '\u2191', 'Barometer': '91%', 'Visibility': '30.14 \"Hg'}, {'Time': '10:58 pm', 'Temp': '28\u00b0F', 'Weather': 'Clear.', 'Wind': '5 mph', 'Humidity': '\u2191', 'Barometer': '93%', 'Visibility': '30.14 \"Hg'}, {'Time': '11:58 pm', 'Temp': '29\u00b0F', 'Weather': 'Clear.', 'Wind': 'No wind', 'Humidity': '\u2191', 'Barometer': '90%', 'Visibility': '30.13 \"Hg'}]}\n</code></pre>\n\n<p>However, in order to scrape the data for all days in the desired month, <code>selenium</code> must be used, as the site dynamically updates the DOM via a request to the backend:</p>\n\n<pre><code>from selenium import webdriver\nd = webdriver.Chrome('/Path/to/chromedriver')\nd.get('https://www.timeanddate.com/weather/usa/dayton/historic?month=2&amp;year=2016')\n_d = {}\nfor i in d.find_element_by_id('wt-his-select').find_elements_by_tag_name('option'):\n  i.click()\n  with get_weather_data(d.page_source, False) as weather:\n    _d[i.text] = weather\n</code></pre>\n\n<p>Edit: to iterate over the full data results, use <code>dict.items</code>:</p>\n\n<pre><code>for a, b in _d.items():\n  pass #do something with a and b\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 9341589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nqg2T.jpg?s=128&g=1", "display_name": "King Julien", "link": "https://stackoverflow.com/users/9341589/king-julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1589, "favorite_count": 3, "accepted_answer_id": 51757323, "answer_count": 2, "score": 2, "last_activity_date": 1533840848, "creation_date": 1533769230, "last_edit_date": 1533769880, "question_id": 51756775, "link": "https://stackoverflow.com/questions/51756775/scraping-table-from-website-timeanddate-com", "title": "Scraping table from website [timeanddate.com]", "body": "<p>I want to get the historical hourly weather data from <a href=\"https://www.timeanddate.com/\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/</a></p>\n\n<p>This is the website link:<a href=\"https://www.timeanddate.com/weather/usa/dayton/historic?month=2&amp;year=2016\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/weather/usa/dayton/historic?month=2&amp;year=2016</a> - Here I am selecting February and 2016, and the result will appear in the bottom of the page.</p>\n\n<p>I used the following steps:<a href=\"https://stackoverflow.com/a/47280970/9341589\">https://stackoverflow.com/a/47280970/9341589</a></p>\n\n<p>and it is working perfectly on the \"<strong>first day of each month</strong>\", I want to parse all the month, and if it is possible all the year.</p>\n\n<p>below the code I am using (to parse March 1, 2016):</p>\n\n<pre><code>from urllib.request import urlopen\nfrom bs4 import BeautifulSoup\nurl = \"https://www.timeanddate.com/weather/usa/dayton/historic?month=3&amp;year=2016\"\npage = urlopen(url)\nsoup = BeautifulSoup(page, \"html.parser\")\n\nData = []\ntable = soup.find('table', attrs={'id':'wt-his'})\nfor tr in table.find('tbody').find_all('tr'):\n   dict = {}\n   dict['time'] = tr.find('th').text.strip()\n   all_td = tr.find_all('td')\n   dict['temp'] = all_td[1].text\n   dict['weather'] = all_td[2].text\n   dict['wind'] = all_td[3].text\n   arrow = all_td[4].text\n\n\n   dict['humidity'] = all_td[5].text\n   dict['barometer'] = all_td[6].text\n   dict['visibility'] = all_td[7].text\n\n   Data.append(dict)\n</code></pre>\n\n<p>this is the result for March 1:<a href=\"https://i.stack.imgur.com/l0kBi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l0kBi.png\" alt=\"RESULT\"></a></p>\n\n<p>This is because the website \"url\", the link only include the month and year, and to change the days, for instance, from Feb1 to Feb 3, the tab is shown in the pic attached needed to be used:<a href=\"https://i.stack.imgur.com/nQEWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQEWp.png\" alt=\"TAB to select day\"></a></p>\n"}, {"tags": ["python", "json", "python-requests"], "comments": [{"owner": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "edited": false, "score": 0, "creation_date": 1533769236, "post_id": 51756727, "comment_id": 90472982, "body": "Please, format your code and define <code>template_out</code> variable."}, {"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 1, "creation_date": 1533769298, "post_id": 51756727, "comment_id": 90472996, "body": "The JSON example you&#39;ve pasted here is missing at least a trailing <code>]}</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6817, "user_id": 198348, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/48ed10afeccd11be0338778089be2d5b?s=128&d=identicon&r=PG", "display_name": "Ehtesh Choudhury", "link": "https://stackoverflow.com/users/198348/ehtesh-choudhury"}, "is_accepted": false, "score": 1, "last_activity_date": 1533770050, "last_edit_date": 1533770050, "creation_date": 1533769053, "answer_id": 51756753, "question_id": 51756727, "link": "https://stackoverflow.com/questions/51756727/cant-format-the-json-data/51756753#51756753", "title": "Can&#39;t format the JSON data", "body": "<p>Are you using <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\">requests</a>? You can get access to the JSON as a dictionary by calling <code>output.json()</code></p>\n\n<p>So I think with your code, it would look something like this:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>output = requests.post(url, data=apache_data, headers=headers)\n\nfor result in output.json()['result']:\n    print(result['name'], result['status'], result['templateid'])\n</code></pre>\n\n<p>And here's the output:</p>\n\n<pre><code>Windows 3 456434\nlinux_server 3 456434\n</code></pre>\n\n<p>In your example, <code>Windows</code> and <code>linux_server</code> are two dictionaries in the <code>result</code> list.</p>\n"}, {"tags": [], "owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "is_accepted": false, "score": 0, "last_activity_date": 1533769587, "creation_date": 1533769587, "answer_id": 51756826, "question_id": 51756727, "link": "https://stackoverflow.com/questions/51756727/cant-format-the-json-data/51756826#51756826", "title": "Can&#39;t format the JSON data", "body": "<p>You've left in a line of debug / experiment code that converts the parsed JSON that you wanted back into a string. Try removing that:</p>\n\n<pre><code>output = requests.post(url, data=apache_data, headers=headers )\n# This parses your JSON correctly.\ncontent_out = json.loads(ouput.content)\n# This line turns your parsed JSON back into a string. You don't need this.\n# content_out = json.dumps(content_out)\n\nfor key in content_out.items():\n    print (key)\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 4038819, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/24159fc54ff9f0df8d995d304474d2c0?s=128&d=identicon&r=PG&f=1", "display_name": "robert williams", "link": "https://stackoverflow.com/users/4038819/robert-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "answer_count": 2, "score": -3, "last_activity_date": 1533770050, "creation_date": 1533768797, "last_edit_date": 1533769663, "question_id": 51756727, "link": "https://stackoverflow.com/questions/51756727/cant-format-the-json-data", "title": "Can&#39;t format the JSON data", "body": "<p>Below is the sample JSON data that i obtained from API call. But when i try to format the JSON data, i couldn't able to do it.</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n    \"jsonrpc\": \"2.0\",\n    \"result\": [\n        {\n            \"status\": \"3\",\n            \"name\": \"Windows\",\n            \"triggers\": [\n                { \"triggerid\": \"11234\" },\n                { \"triggerid\": \"5465\" },\n                { \"triggerid\": \"56465\" },\n                { \"triggerid\": \"56465\" },\n                { \"triggerid\": \"54364\" },\n                { \"triggerid\": \"564654\" },\n                { \"triggerid\": \"564365\" },\n                { \"triggerid\": \"5434\" },\n                { \"triggerid\": \"54354\" },\n                { \"triggerid\": \"5454\" },\n                { \"triggerid\": \"5645\" },\n                { \"triggerid\": \"543654\" },\n                { \"triggerid\": \"546543\" }\n            ],\n            \"items\": [\n                { \"name\": \"connection check\" },\n                { \"name\": \"Version of apache running\" },\n                { \"name\": \"Average IOPS \" },\n                { \"name\": \"Average wrtie speed\" },\n                { \"name\": \"file in speed\" }\n            ],\n            \"templateid\": \"456434\",\n            \"discoveries\": []\n        },\n        {\n            \"status\": \"3\",\n            \"name\": \"linux_server\",\n            \"triggers\": [\n                { \"triggerid\": \"11234\" },\n                { \"triggerid\": \"5465\" },\n                { \"triggerid\": \"56465\" },\n                { \"triggerid\": \"56465\" },\n                { \"triggerid\": \"54364\" },\n                { \"triggerid\": \"564654\" },\n                { \"triggerid\": \"564365\" },\n                { \"triggerid\": \"5434\" },\n                { \"triggerid\": \"54354\" },\n                { \"triggerid\": \"5454\" },\n                { \"triggerid\": \"5645\" },\n                { \"triggerid\": \"543654\" },\n                { \"triggerid\": \"123543\" }\n            ],\n            \"items\": [\n                { \"name\": \"connection check\" },\n                { \"name\": \"Version of docker running\" },\n                { \"name\": \"Average IOPS \" },\n                { \"name\": \"Average wrtie speed\" },\n                { \"name\": \"file in speed\" }\n            ],\n            \"templateid\": \"456434\",\n            \"discoveries\": []\n        }\n    ]\n}\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>output = requests.post(url, data=apache_data, headers=headers)\ncontent_out = json.loads(output.content)\ncontent_out = json.dumps(content_out)\n\nfor key in content_out .items():\n  print(key)\n</code></pre>\n\n<p>Error: <code>AttributeError: 'str' object has no attribute 'items'</code></p>\n\n<p>i want the \"<code>name\":\"windows\"</code> ............ until <code>\"discoveries\": []}</code> as one dictionary  . Like that <code>\"name\": \"linux_server\"</code>........ until <code>\"discoveries\": []}</code> as a another dictionary.. Any help would be appreciated. </p>\n"}, {"tags": ["python", "json", "csv"], "comments": [{"owner": {"reputation": 1934, "user_id": 7913153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a113afcafb3099b52ed8f4199689bc?s=128&d=identicon&r=PG&f=1", "display_name": "Madhan Varadhodiyil", "link": "https://stackoverflow.com/users/7913153/madhan-varadhodiyil"}, "edited": false, "score": 0, "creation_date": 1533812889, "post_id": 51756712, "comment_id": 90489315, "body": "Not sure. What you&#39;re trying to achieve. Can you post expected output as well please ?"}], "answers": [{"tags": [], "owner": {"reputation": 1303, "user_id": 2235381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0061f9bd5384a544637692774a6e108f?s=128&d=identicon&r=PG", "display_name": "lojza", "link": "https://stackoverflow.com/users/2235381/lojza"}, "is_accepted": false, "score": 0, "last_activity_date": 1534251929, "creation_date": 1534251929, "answer_id": 51842210, "question_id": 51756712, "link": "https://stackoverflow.com/questions/51756712/parse-json-multiple-objects-to-csv/51842210#51842210", "title": "Parse JSOn multiple objects to CSV", "body": "<p>Try</p>\n\n<pre><code>for category in properties:\n  if category['categoryName'] == \"Databases\":\n      for metric in category['metrics']:\n        if metric['metricName'] == \"Top 5 Databases (by no of tables)\":\n          for m in metric['value']:\n            print(m['name'],m['value'],m['id'],sep=',')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 0, "last_activity_date": 1534254291, "creation_date": 1534254291, "answer_id": 51842992, "question_id": 51756712, "link": "https://stackoverflow.com/questions/51756712/parse-json-multiple-objects-to-csv/51842992#51842992", "title": "Parse JSOn multiple objects to CSV", "body": "<p>I assume that you want to extract the list of the databases. The trick if that you have to browse your json until you get the interesting list. Then a <code>csv.DictWriter</code> is the way to go because you will have a list of dict. Code could be:</p>\n\n<pre><code>import requests\nimport json\nimport csv\n\n\nfrom requests.auth import HTTPBasicAuth\nr = requests.get('https://url')\nproperties = r.json()['categories']\n\n\nfor temp in properties:\n    if \"Databases\" == temp['categoryName']:     # first locate \"categoryName\": \" Databases\"\n        for kind in temp['metrics']:\n            for value in kind.values():\n                if isinstance(value, list):     # next find a list value\n                    # open a file for writing (with ensure close on end of block)\n                    with open('/home/sourcecode/csv_data.csv', 'w', newline = '') as csv_data:\n                        # create the csv writer object\n                        writer = csv.DictWriter(fd, fieldnames = value[0].keys())\n                        writer.writeheader()       # first the header\n                        for base in value:         # then the values\n                            writer.writerow(base)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4500382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Oj-ZU7Ia1Ok/AAAAAAAAAAI/AAAAAAAAASk/y_JHSJE9bl4/photo.jpg?sz=128", "display_name": "Tanveer Ahmed", "link": "https://stackoverflow.com/users/4500382/tanveer-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534254291, "creation_date": 1533768723, "last_edit_date": 1533816188, "question_id": 51756712, "link": "https://stackoverflow.com/questions/51756712/parse-json-multiple-objects-to-csv", "title": "Parse JSOn multiple objects to CSV", "body": "<p>I need help to parse a JSON with multiple objects to CSV, any help would be appreciated. I tried to write the code and was able to parse only out object of JSON but not all.</p>\n\n<p>I am interested in parsing the inner JSON object <strong>\"categoryName\" : \"Databases\"</strong></p>\n\n<pre><code>import requests\nimport json\nimport csv\n\n\nfrom requests.auth import HTTPBasicAuth\nr = requests.get('https://url')\nproperties = r.json()['categories']\n\n\n# open a file for writing\n\ncsv_data = open('/home/sourcecode/csv_data.csv', 'w')\n\n# create the csv writer object\n\ncsvwriter = csv.writer(csv_data)\n\ncount = 0\n\nfor temp in properties:\n\n  if count == 0:\n\n         header = temp.keys()\n\n         csvwriter.writerow(header)\n\n         count += 1\n\n  csvwriter.writerow(temp.values())\n\ncsv_data.close()\n</code></pre>\n\n<p>I am not posting the complete JSON as its very lengthy, just posting part if it to get better understanding below.</p>\n\n<pre><code>    {\n\"categories\" : [ {\n  \"categoryName\" : \"HDFSEncryptionZones\",\n\"metrics\" : [ {\n  \"metricName\" : \"EncryptionZone Object Count\",\n  \"value\" : 0\n}, {\n  \"metricName\" : \"Out of EncryptionZone Objects Count\",\n  \"value\" : 0\n} ]\n}, {\n  \"categoryName\" : \"Databases\",\n  \"metrics\" : [ {\n  \"metricName\" : \"No. of Databases\",\n  \"value\" : 78\n }, {\n  \"metricName\" : \"Top 5 Databases (by no of tables)\",\n  \"value\" : [ {\n    \"name\" : \"abc\",\n    \"value\" : 1234,\n    \"id\" : 1187422\n  }, {\n    \"name\" : \"def\",\n    \"value\" : 578,\n    \"id\" : 8194003\n  }, {\n    \"name\" : \"ghi\",\n    \"value\" : 241,\n    \"id\" : 1214282\n  }, {\n    \"name\" : \"jkl\",\n    \"value\" : 214,\n    \"id\" : 11677477\n  }, {\n    \"name\" : \"mno\",\n    \"value\" : 186,\n    \"id\" : 6716158\n  }, {\n    \"name\" : \"pqr\",\n    \"value\" : 130,\n    \"id\" : 59489134\n  }, {\n    \"name\" : \"stu\",\n    \"value\" : 102,\n    \"id\" : 59489133\n  }, {\n    \"name\" : \"xyz\",\n    \"value\" : 96,\n    \"id\" : 11630638\n  }, {\n    \"name\" : \"temp\",\n    \"value\" : 80,\n    \"id\" : 100074536\n  }, {\n    \"name\" : \"test\",\n    \"value\" : 72,\n    \"id\" : 59489132\n  } ]\n  } ]\n }, {\n  \"categoryName\" : \"Storage\",\n  \"metrics\" : [ {\n   \"metricName\" : \"No. of S3 Objects.\",\n   \"value\" : 0\n }, {\n   \"metricName\" : \"No. of HDFS Objects.\",\n   \"value\" : 3097309\n  } ]\n }, {...\n</code></pre>\n"}, {"tags": ["python", "ftp", "ftplib"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 10122706, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156773721468028/picture?type=large", "display_name": "Muzamal Rana", "link": "https://stackoverflow.com/users/10122706/muzamal-rana"}, "edited": false, "score": 0, "creation_date": 1533850089, "post_id": 51765413, "comment_id": 90510517, "body": "Thanks a lot my friend. You are a real Gem :) I am a beginner(1 month old python baby) and your solutions have really helped me to understand it."}, {"owner": {"reputation": 115, "user_id": 10122706, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156773721468028/picture?type=large", "display_name": "Muzamal Rana", "link": "https://stackoverflow.com/users/10122706/muzamal-rana"}, "edited": false, "score": 0, "creation_date": 1533884814, "post_id": 51765413, "comment_id": 90519154, "body": "How can i do that friend?"}], "tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": true, "score": 2, "last_activity_date": 1533905441, "last_edit_date": 1533905441, "creation_date": 1533813014, "answer_id": 51765413, "question_id": 51756672, "link": "https://stackoverflow.com/questions/51756672/get-the-latest-ftp-folder-name-in-python/51765413#51765413", "title": "Get the latest FTP folder name in Python", "body": "<p>If your FTP server supports <code>MLSD</code> command, a solution is easy:</p>\n\n<ul>\n<li><p>If you want to base the decision on a modification timestamp:</p>\n\n<pre><code>entries = list(ftp.mlsd())\n# Only interested in directories\nentries = [entry for entry in entries if entry[1][\"type\"] == \"dir\"]\n# Sort by timestamp\nentries.sort(key = lambda entry: entry[1]['modify'], reverse = True)\n# Pick the first one\nlatest_name = entries[0][0]\nprint(latest_name)\n</code></pre></li>\n<li><p>If you want to use a file name:</p>\n\n<pre><code># Sort by filename\nentries.sort(key = lambda entry: entry[0], reverse = True)\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>If you need to rely on an obsolete <code>LIST</code> command, you have to parse a proprietary listing it returns.</p>\n\n<p>A common *nix listing is like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>drw-r--r-- 1 user group           4096 Mar 26  2018 folder1-20180326\ndrw-r--r-- 1 user group           4096 Jun 18 11:21 folder2-20180618\n-rw-r--r-- 1 user group           4467 Mar 27  2018 file-20180327.zip\n-rw-r--r-- 1 user group         124529 Jun 18 15:31 file-20180618.zip\n</code></pre>\n\n<p>With a listing like this, this code will do:</p>\n\n<ul>\n<li><p>If you want to base the decision on a modification timestamp:</p>\n\n<pre><code>lines = []\nftp.dir(\"\", lines.append)\n\nlatest_time = None\nlatest_name = None\n\nfor line in lines:\n    tokens = line.split(maxsplit = 9)\n    # Only interested in directories\n    if tokens[0][0] == \"d\":\n        time_str = tokens[5] + \" \" + tokens[6] + \" \" + tokens[7]\n        time = parser.parse(time_str)\n        if (latest_time is None) or (time &gt; latest_time):\n            latest_name = tokens[8]\n            latest_time = time\n\nprint(latest_name)\n</code></pre></li>\n<li><p>If you want to use a file name:</p>\n\n<pre><code>lines = []\nftp.dir(\"\", lines.append)\n\nlatest_name = None\n\nfor line in lines:\n    tokens = line.split(maxsplit = 9)\n    # Only interested in directories\n    if tokens[0][0] == \"d\":\n        name = tokens[8]\n        if (latest_name is None) or (name &gt; latest_name):\n            latest_name = name\n\nprint(latest_name)\n</code></pre></li>\n</ul>\n\n<p>Some FTP servers may return <code>.</code> and <code>..</code> entries in <code>LIST</code> results. You may need to filter those.</p>\n\n<hr>\n\n<p>Partially based on: <a href=\"https://stackoverflow.com/q/8990598/850848#51055995\">Python FTP get the most recent file by date</a>.</p>\n\n<hr>\n\n<p>If the folder does not contain any files, only subfolders, there are other easier options.</p>\n\n<ul>\n<li><p>If you want to base the decision on a modification timestamp and the server supports non-standard <code>-t</code> switch, you can use:</p>\n\n<pre><code>lines = ftp.nlst(\"-t\")\nlatest_name = lines[-1]\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/44666592/850848\">How to get files in FTP folder sorted by modification time</a></p></li>\n<li><p>If you want to use a file name:</p>\n\n<pre><code>lines = ftp.nlst()\nlatest_name = max(lines)\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 115, "user_id": 10122706, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156773721468028/picture?type=large", "display_name": "Muzamal Rana", "link": "https://stackoverflow.com/users/10122706/muzamal-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 1, "accepted_answer_id": 51765413, "answer_count": 1, "score": 1, "last_activity_date": 1533905441, "creation_date": 1533768446, "last_edit_date": 1533813366, "question_id": 51756672, "link": "https://stackoverflow.com/questions/51756672/get-the-latest-ftp-folder-name-in-python", "title": "Get the latest FTP folder name in Python", "body": "<p>I am trying to write a script to get the latest file from the latest sub- \ndirectory of FTP server in Python. My problem is I am unable to figure out the \nlatest sub-directory. There are two options available, sub-directories have ctime available. Also in directory name date is mentioned that on which date directory was created. But I do not know how to get the name of the latest directory. I have figured out the following way (hoping for the server side to be sorted by latest ctime). I have done it the following way which will work if first object is the latest directory. </p>\n\n<pre><code>import ftplib \nimport os\nimport time\n\nftp = ftplib.FTP('test.rebex.net','demo', 'password')\nftp.cwd(str((ftp.nlst())[0])) #if directory is sorted in descending order by date.\n</code></pre>\n\n<p>But is there any way where I will find the exact directory by ctime or by date in directory name ? </p>\n\n<p>Thanks a lot guys.</p>\n"}, {"tags": ["python", "docker", "kubernetes", "google-cloud-platform", "google-cloud-storage"], "comments": [{"owner": {"reputation": 12299, "user_id": 609290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WUBht.jpg?s=128&g=1", "display_name": "DazWilkin", "link": "https://stackoverflow.com/users/609290/dazwilkin"}, "edited": false, "score": 1, "creation_date": 1533768569, "post_id": 51756658, "comment_id": 90472824, "body": "How is the container accessing the service account crendentials? Are you bundling your credentials in the container? The best practice is a 3-step: (a) represent the GCP credentials as a Kubernetes secret; (b) volume mount the secret in the container; (c) set the <code>GOOGLE_APPLICATION_CREDENTIALS</code> to point to the volume mounted creds. Make sense? If not, I can share a blog post where I show this working."}, {"owner": {"reputation": 633, "user_id": 8145356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f65040f1b9aea9484d2df6d8ab2c9?s=128&d=identicon&r=PG&f=1", "display_name": "hamdog", "link": "https://stackoverflow.com/users/8145356/hamdog"}, "reply_to_user": {"reputation": 12299, "user_id": 609290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WUBht.jpg?s=128&g=1", "display_name": "DazWilkin", "link": "https://stackoverflow.com/users/609290/dazwilkin"}, "edited": false, "score": 0, "creation_date": 1533770001, "post_id": 51756658, "comment_id": 90473141, "body": "A blog post probably would be helpful, I don&#39;t think I know how to do step b). I may have been mixing approaches. I was going off the tutorial <a href=\"https://cloud.google.com/solutions/bokeh-and-bigquery-dashboards\" rel=\"nofollow noreferrer\">here</a> which I believe creates the kubernetes secret, but I was also supplying the credentials in a file and pointing <code>GOOGLE_APPLICATION_CREDENTIALS</code> to that file in my Dockerfile."}, {"owner": {"reputation": 12299, "user_id": 609290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WUBht.jpg?s=128&g=1", "display_name": "DazWilkin", "link": "https://stackoverflow.com/users/609290/dazwilkin"}, "edited": false, "score": 0, "creation_date": 1533773272, "post_id": 51756658, "comment_id": 90473811, "body": "The tutorial looks good.... &quot;Deploying the bokeh service&quot; (step #2) is where the Kubernetes secret is created that represents the service account (<a href=\"https://cloud.google.com/solutions/bokeh-and-bigquery-dashboards#bokeh_service\" rel=\"nofollow noreferrer\">cloud.google.com/solutions/&hellip;</a>). Then in the <code>bokeh.yaml</code> (lines 40-44) those credentials are being referenced."}], "answers": [{"tags": [], "owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "is_accepted": true, "score": 2, "last_activity_date": 1533793444, "creation_date": 1533793444, "answer_id": 51759583, "question_id": 51756658, "link": "https://stackoverflow.com/questions/51756658/google-cloud-kubernetes-not-reading-application-credentials-correctly/51759583#51759583", "title": "Google Cloud Kubernetes not reading application credentials correctly", "body": "<p>I noticed you didn't mention using Kubernetes Secrets. Here's how I did it.</p>\n\n<ol>\n<li>Create a Secret with <code>kubectl</code> on your local machine.</li>\n</ol>\n\n\n\n<pre><code>$ kubectl create secret generic gac-keys --from-file=&lt;PATH_TO_SERVICE_ACCOUNT_FILE&gt; \n</code></pre>\n\n<p>This creates a Secret called <code>gac-keys</code>. It contains your json file found at <code>&lt;PATH_TO_SERVICE_ACCOUNT_FILE&gt;</code>. If you want to rename the json file, you can do </p>\n\n<p><code>--from-file=new-file-name.json=&lt;PATH_TO_SERVICE_ACCOUNT_FILE&gt;</code></p>\n\n<ol start=\"2\">\n<li>Configure your Deployment to use the Secret.</li>\n</ol>\n\n\n\n<pre><code>apiVersion: apps/v1beta1\nkind: Deployment\nmetadata:\n  name: my-app\nspec:\n  template:\n    spec:\n      volumes:\n      - name: google-cloud-keys\n        secret:\n          secretName: gac-keys\n      containers:\n      - name: my-app\n        image: us.gcr.io/my-app\n        volumeMounts:\n        - name: google-cloud-keys\n          mountPath: /var/secrets/google\n          readOnly: true\n        env:\n        - name: GOOGLE_APPLICATION_CREDENTIALS\n          value: /var/secrets/google/new-file-name.json\n</code></pre>\n\n<p>You specify a volume with an arbitrary name <code>google-cloud-keys</code> to be referenced later. The volume is linked to the secret. Inside the container spec, you mount the <code>google-cloud-keys</code> volume at path <code>/var/secrets/google</code>. This places your file at the path, so <code>/var/secrets/google/new-file-name.json</code> should exist in the container at runtime. Then you specify an env variable named <code>GOOGLE_APPLICATION_CREDENTIALS</code> which points to the path. Now your client library can authenticate with google.</p>\n\n<p>Docs: <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/secret/</a></p>\n"}], "owner": {"reputation": 633, "user_id": 8145356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f65040f1b9aea9484d2df6d8ab2c9?s=128&d=identicon&r=PG&f=1", "display_name": "hamdog", "link": "https://stackoverflow.com/users/8145356/hamdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 51759583, "answer_count": 1, "score": 1, "last_activity_date": 1533841790, "creation_date": 1533768298, "last_edit_date": 1533841790, "question_id": 51756658, "link": "https://stackoverflow.com/questions/51756658/google-cloud-kubernetes-not-reading-application-credentials-correctly", "title": "Google Cloud Kubernetes not reading application credentials correctly", "body": "<p>I'm trying to host an application using Google Kubernetes Engine. My docker image works when run locally, but when I put it on Google Cloud and set it up using a kubernetes cluster it fails in a very strange way. </p>\n\n<p>I'm able to connect to the application and it works until I trigger a call of <code>google.cloud.storage.Client()</code>. Then it attempts to read the file I've provided through the <code>GOOGLE_APPLICATION_CREDENTIALS</code> environment variable and something goes wrong. I get this (truncated and redacted) traceback:</p>\n\n<pre><code>self.gcs_client = storage.Client()\n  File \"/usr/local/lib/python3.6/site-packages/google/cloud/storage/client.py\", line 71, in __init__\n    _http=_http)\n  File \"/usr/local/lib/python3.6/site-packages/google/cloud/client.py\", line 215, in __init__\n    _ClientProjectMixin.__init__(self, project=project)\n  File \"/usr/local/lib/python3.6/site-packages/google/cloud/client.py\", line 169, in __init__\n    project = self._determine_default(project)\n  File \"/usr/local/lib/python3.6/site-packages/google/cloud/client.py\", line 182, in _determine_default\n    return _determine_default_project(project)\n  File \"/usr/local/lib/python3.6/site-packages/google/cloud/_helpers.py\", line 179, in _determine_default_project\n    _, project = google.auth.default()\n  File \"/usr/local/lib/python3.6/site-packages/google/auth/_default.py\", line 294, in default\n    credentials, project_id = checker()\n  File \"/usr/local/lib/python3.6/site-packages/google/auth/_default.py\", line 165, in _get_explicit_environ_credentials\n    os.environ[environment_vars.CREDENTIALS])\n  File \"/usr/local/lib/python3.6/site-packages/google/auth/_default.py\", line 89, in _load_credentials_from_file\n    'File {} was not found.'.format(filename))\ngoogle.auth.exceptions.DefaultCredentialsError: File {--redacted--} was not found.\n</code></pre>\n\n<p>What I've redacted is JSON containing my service account's private key. I've checked the docker container while it's running on the cloud and <code>GOOGLE_APPLICATION_CREDENTIALS</code> is set to a file name as expected. Somehow when my docker container is run on the cloud, instead of using the environment variable as the file name - it uses the contents of the referenced file as the file name. This error also gets reported in the browser console, so anyone that navigates to the app can get my service account credentials. </p>\n\n<p>Does anyone have any guesses about what's going wrong here? </p>\n\n<p><strong>UPDATE:</strong>\nLooks like I've got it working now. My guess is the error occurred because I set <code>GOOGLE_APPLICATION_CREDENTIALS</code> using <code>valueFrom</code> as in the <code>bokeh.yaml</code> file. This seems to have been setting <code>GOOGLE_APPLICATION_CREDENTIALS</code> equal to the contents of <code>bokeh.yaml</code>. This format seems to work for <code>pandas.io.gbq.read_gbq</code> used in the tutorial code but not for instantiating <code>google.cloud.storage.Client()</code> like I was trying to do. Pointing <code>GOOGLE_APPLICATION_CREDENTIALS</code> to a volume mounted file like DazWilkin suggested and Eric Guan showed worked. </p>\n"}, {"tags": ["python", "string", "python-3.x", "list", "operators"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 3, "creation_date": 1533768721, "post_id": 51756652, "comment_id": 90472855, "body": "<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please. The code you posted doesn&#39;t run, and even if it did it wouldn&#39;t produce the output you claim it produces. Also, it looks like you want to do equality checking (that is, <code>==</code>), not membership testing (<code>in</code>)."}, {"owner": {"reputation": 1102, "user_id": 9363594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPexN.png?s=128&g=1", "display_name": "Lyxal", "link": "https://stackoverflow.com/users/9363594/lyxal"}, "edited": false, "score": 1, "creation_date": 1533768751, "post_id": 51756652, "comment_id": 90472864, "body": "If you want to find exact matches, use the <code>==</code> (equality) operator in your if condition. (change <code>if k in i</code> to <code>if k == i</code>)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1533768860, "post_id": 51756652, "comment_id": 90472891, "body": "I corrected your syntax and moved the <code>listthree</code> initialization before the <code>for</code> loop -- this is required to let it accumulate three values.  The program then runs as you want.  I don&#39;t see a simple change that allows your current code to produce the output you claim."}], "answers": [{"tags": [], "owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1533768911, "creation_date": 1533768911, "answer_id": 51756741, "question_id": 51756652, "link": "https://stackoverflow.com/questions/51756652/how-to-avoid-strings-containing-parts-of-a-search-string-from-appearing-when-usi/51756741#51756741", "title": "How to avoid strings containing parts of a search string from appearing when using the &#39;in&#39; operator?", "body": "<p>Try the following:</p>\n\n<pre><code>one = ['kmt2d']\ntwo = ['set2d', 'hgt', 'kmt2d']\nthree = [item for item in two if item in one]\n\n# which is:\nthree = []\nfor item in two:\n    if item in one:\n        three.append(item)\n</code></pre>\n\n<p>In your 2nd loop you loop through the second list which means the <code>in</code> operator scans the string, not whether it exists in the list. Do away with the 2nd loop and use <code>in</code> just to test whether that item appears in the list without actually scanning inside the strings themselves. </p>\n"}, {"tags": [], "owner": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "is_accepted": false, "score": 1, "last_activity_date": 1533768939, "creation_date": 1533768939, "answer_id": 51756745, "question_id": 51756652, "link": "https://stackoverflow.com/questions/51756652/how-to-avoid-strings-containing-parts-of-a-search-string-from-appearing-when-usi/51756745#51756745", "title": "How to avoid strings containing parts of a search string from appearing when using the &#39;in&#39; operator?", "body": "<p>This code works fine:</p>\n\n<pre><code>listone = ['kmt2d']\nlisttwo = ['set2d', 'hgt', 'kmt2d']\nlistthree = []\n\nfor i in listtwo:\n    for k in listone:\n        if k in i:\n            listthree.append(True)\n        else:\n            listthree.append(False)\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>listthree = [False, False, True]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10172358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d58efd2eb66e40ee96ea920117b082e?s=128&d=identicon&r=PG&f=1", "display_name": "mlorai", "link": "https://stackoverflow.com/users/10172358/mlorai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 51756741, "answer_count": 2, "score": -1, "last_activity_date": 1533770093, "creation_date": 1533768253, "last_edit_date": 1533770093, "question_id": 51756652, "link": "https://stackoverflow.com/questions/51756652/how-to-avoid-strings-containing-parts-of-a-search-string-from-appearing-when-usi", "title": "How to avoid strings containing parts of a search string from appearing when using the &#39;in&#39; operator?", "body": "<p>I know there are several posts out there about how to find a substring within a string but I have the opposite problem. How to I avoid strings containing parts of my search string from appearing when I use the 'in' operator?</p>\n\n<p>For example, I want all lists containing <code>'kmt2d'</code> to return <code>True</code>. However, lists containing <code>'set2d'</code> also return <code>True</code> because of the <code>'t2d'</code> common substring between the two.</p>\n\n<p>Here is an example of my code:</p>\n\n<pre><code>listone = ['kmt2d']\nlisttwo = ['set2d', 'hgt', 'kmt2d']\nlistthree = []\n\nfor i in listtwo:\n    for k in listone:\n        if k in i:\n            listthree.append(True)\n        else:\n            listthree.append(False) \n</code></pre>\n\n<p>The output for listthree appears as:</p>\n\n<pre><code>listthree = [True, False, True] \n</code></pre>\n\n<p>However, I would want it to be:</p>\n\n<pre><code>listthree = [False, False, True]\n</code></pre>\n\n<p>Is there something wrong with my code or are there any other operators which could help me achieve the same result?</p>\n"}, {"tags": ["python", "heroku", "flask", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 6662425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e6664d0619a92cc63d9e42c2fafb7c?s=128&d=identicon&r=PG&f=1", "display_name": "Felix B.", "link": "https://stackoverflow.com/users/6662425/felix-b"}, "edited": false, "score": 0, "creation_date": 1619011961, "post_id": 51762852, "comment_id": 118776133, "body": "any advice on where to put <code>create_tables</code>? I assume it has to be after <code>init_app</code> since that includes the database uri. So you would put it into <code>app.py</code> I guess?"}], "tags": [], "owner": {"reputation": 532, "user_id": 4257838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC8Pq.jpg?s=128&g=1", "display_name": "Rafa\u0142", "link": "https://stackoverflow.com/users/4257838/rafa%c5%82"}, "is_accepted": false, "score": 3, "last_activity_date": 1533805233, "creation_date": 1533805233, "answer_id": 51762852, "question_id": 51756650, "link": "https://stackoverflow.com/questions/51756650/using-proper-file-structure-with-sqlalchemy-and-how-to-add-data-to-db/51762852#51762852", "title": "Using proper file structure with SQLAlchemy and how to add data to db", "body": "<p>The problem exists in circular dependencies.</p>\n\n<p>You could move initializing of SQLAlchemy to models.py. Then only run method init_app on db object in app.py.</p>\n\n<h1>models.py</h1>\n\n<pre><code>from flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass Post(db.Model):\n    __tablename__ = 'blogposts'\n\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(120), index=True, unique=True)\n    content = db.Column(db.Text, index=True, unique=True)\n    date = db.Column(db.DateTime, index=True, unique=True)\n    tag = db.Column(db.String(120), index=True, unique=True)\n    cover = db.Column(db.String(120), index=True, unique=True)\n\n    def __repr__(self):\n         return '&lt;Post: %r&gt;' % (self.title)\n</code></pre>\n\n<h1>app.py</h1>\n\n<pre><code>import datetime\nfrom flask import Flask, render_template\n\nfrom flask_s3 import FlaskS3\nfrom models import db\n\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = '*URI for DB hosted on heroku'\napp.config['FLASKS3_BUCKET_NAME'] = 'my S3 bucket on AWS'\ndb.init_app(app)\n\ns3 = FlaskS3(app)\nfrom models import Post\n\n\n@app.route('/add/')\ndef webhook():\n    #post attributes defined\n    p = Post(id = id, title = title, date = datetime.datetime.utcnow, content = content, tag = tag, cover = cover)\n    print(\"post created\", p)\n    db.session.add(p)\n    db.session.commit()\n    return \"post created\"\n#routes to templates to be rendered\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>You can read more about it <a href=\"https://github.com/slezica/bleg/blob/master/data/posts/2014-03-08-avoiding-circular-dependencies-in-flask.md\" rel=\"nofollow noreferrer\">https://github.com/slezica/bleg/blob/master/data/posts/2014-03-08-avoiding-circular-dependencies-in-flask.md</a></p>\n"}], "owner": {"reputation": 71, "user_id": 7532029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e959416a3e64f19576507568f03f411b?s=128&d=identicon&r=PG&f=1", "display_name": "ron_kuby", "link": "https://stackoverflow.com/users/7532029/ron-kuby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1969, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1533805233, "creation_date": 1533768239, "question_id": 51756650, "link": "https://stackoverflow.com/questions/51756650/using-proper-file-structure-with-sqlalchemy-and-how-to-add-data-to-db", "title": "Using proper file structure with SQLAlchemy and how to add data to db", "body": "<p>I am trying to build a simple blogging platform to learn Python and Flask. I am using SQLAlchemy to connect to a Postgres db hosted on Heroku and flask_s3 to serve static files from an AWS bucket. Im mostly following along from this: </p>\n\n<p><a href=\"https://gist.github.com/mayukh18/2223bc8fc152631205abd7cbf1efdd41/\" rel=\"nofollow noreferrer\">https://gist.github.com/mayukh18/2223bc8fc152631205abd7cbf1efdd41/</a></p>\n\n<p>All was going well, it is correctly hosted on Heroku and connceted to AWS S3 bucket, ready to go. I am stuck however on how to add blog posts to the database through some kind of form or route that will allow me to fill in the attributes of a blog post (found in Post in models.py below)</p>\n\n<p>I have html templates that get rendered and the following three files, app.py, manage.py and models.py.</p>\n\n<p>app.py:</p>\n\n<pre><code>from flask import Flask, render_template\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_s3 import FlaskS3\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = '*URI for DB hosted on heroku'\napp.config['FLASKS3_BUCKET_NAME'] = 'my S3 bucket on AWS'\n\ndb = SQLAlchemy(app)\ns3 = FlaskS3(app)\n\nfrom models import Post\n\n#routes to templates to be rendered\n\nif __name__ == '__main__'\n    app.run(debug=True)\n</code></pre>\n\n<p>manage.py:</p>\n\n<pre><code>from flask_script import Manager\nfrom flask_migrate import Migrate, MigrateCommand\n\nfrom app import app, db\n\nmigrate = Migrate(app, db)\n\nmanager = Manager(app)\nmanager.add_command('db', MigrateCommand)\n\nif __name__ == '__main__':\n    manager.run()\n</code></pre>\n\n<p>and models.py:</p>\n\n<pre><code>from manage import db,app\n\nclass Post(db.Model):\n    __tablename__ = 'blogposts'\n\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(120), index=True, unique=True)\n    content = db.Column(db.Text, index=True, unique=True)\n    date = db.Column(db.DateTime, index=True, unique=True)\n    tag = db.Column(db.String(120), index=True, unique=True)\n    cover = db.Column(db.String(120), index=True, unique=True)\n\n    def __repr__(self):\n        return '&lt;Post: %r&gt;' % (self.title)\n</code></pre>\n\n<p>my file strucure is:</p>\n\n<pre><code>-blog\n  --__pycache__\n  --migrations\n  --static\n  --templates\n  app.py\n  manage.py\n  models.py\n  Pipfile\n  Pipfile.lock\n  Procfile\n</code></pre>\n\n<p>I want to work on this locally (before I publish anything to Heroku) but have no idea what to do from here. Anyone have advice on how to go about creating a route to add blog posts and saving them to a local Postgres instance before I go about pushing finalized blog posts to Heroku?</p>\n\n<p>the gist I have been following has something like this as a route:</p>\n\n<pre><code>@app.route('/add/')\ndef webhook():\n    #post attributes defined\n    p = Post(id = id, title = title, date = datetime.datetime.utcnow, content = content, tag = tag, cover = cover)\n    print(\"post created\", p)\n    db.session.add(p)\n    db.session.commit()\n    return \"post created\"\n</code></pre>\n\n<p>when I try and run it locally I get the following error so I'm not sure I have the files connecting properly.</p>\n\n<pre><code>File \"/Users/Mb/Desktop/datadude/app.py\", line 15, in &lt;module&gt;\nfrom models import Post\nImportError: cannot import name 'Post'\n</code></pre>\n\n<p>Sorry if this is the wrong place for this. If there is a better place to ask for advice let me know.</p>\n"}, {"tags": ["python", "cluster-analysis", "k-means", "folium"], "answers": [{"tags": [], "owner": {"reputation": 1281, "user_id": 266852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36b32e9c5c886960a4559a4cdac9dd62?s=128&d=identicon&r=PG", "display_name": "dgg32", "link": "https://stackoverflow.com/users/266852/dgg32"}, "is_accepted": false, "score": 0, "last_activity_date": 1552915299, "creation_date": 1552915299, "answer_id": 55222388, "question_id": 51756647, "link": "https://stackoverflow.com/questions/51756647/clustering-many-coordinates-and-putting-to-folium/55222388#55222388", "title": "Clustering Many Coordinates and putting to Folium", "body": "<p>Folium itself has a cluster plugin that can dynamically cluster your markers when you zoom in and out:</p>\n\n<p><a href=\"https://nbviewer.jupyter.org/github/python-visualization/folium/blob/master/examples/MarkerCluster.ipynb\" rel=\"nofollow noreferrer\">folium's plugin MarkerCluster</a></p>\n"}], "owner": {"reputation": 1, "user_id": 9954252, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3_7lx0Xluy8/AAAAAAAAAAI/AAAAAAAAAGk/eh7gu_cw83E/photo.jpg?sz=128", "display_name": "Pascal Simpkins", "link": "https://stackoverflow.com/users/9954252/pascal-simpkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1552915299, "creation_date": 1533768205, "question_id": 51756647, "link": "https://stackoverflow.com/questions/51756647/clustering-many-coordinates-and-putting-to-folium", "title": "Clustering Many Coordinates and putting to Folium", "body": "<p>I have tried looking everywhere, and nothing seems to be working. I am trying to cluster 902,538 data points that include a latitude and longitude, but I can't seem to make it work! I have tried all sorts of clustering methods, and don't understand what is not working. Any tips?</p>\n\n<p>dfnypd is a crime report that includes latitudes and longitudes for all reported crimes in New York in a given timeframe.</p>\n\n<p>This is one of the codes I tried - giving me a ValueError: n_samples=2 should be >= n_clusters = 100</p>\n\n<p><code>dfnypd = dfnypd[['Latitude','Longitude']].apply(pd.to_numeric)</code></p>\n\n<p><code>clat = dfnypd['Latitude']</code></p>\n\n<p><code>clon = dfnypd['Longitude']</code></p>\n\n<p><code>from sklearn.cluster import KMeans</code></p>\n\n<p><code>X = np.array(([clat, clon]))</code></p>\n\n<p><code>kmeans = KMeans(n_clusters = 100, random_state = 0).fit(X)</code></p>\n\n<p>I am clustering it into groups so that I can plot them on a readable chart and assign weights to the different clusters based upon crimes committed in those clusters. I tried just plotting it all as a heatmap, but it takes way too much power.</p>\n"}, {"tags": ["python", "python-2.7", "kivy", "exe", "pyinstaller"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8627759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839b17f92de3875d38aaa3ef8207ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Yasmine", "link": "https://stackoverflow.com/users/8627759/yasmine"}, "is_accepted": false, "score": 0, "last_activity_date": 1533833806, "creation_date": 1533833806, "answer_id": 51772368, "question_id": 51756641, "link": "https://stackoverflow.com/questions/51756641/pyinstaller-pythonfile-py-fatal-error-in-launcher-unable-to-create-process-usin/51772368#51772368", "title": "Pyinstaller pythonfile.py Fatal error in launcher: Unable to create process using &#39;&quot;&#39;", "body": "<p>**Update: I wasn't able to figure out exactly what the problem was but I was playing around with my environment variables and changing my pip names to pip2 pip3 and thats when this problem started happening and even when I reverted all my changes it still showed me this.I was able to fix it by simply uninstalling pyinstaller and redownloading it.</p>\n"}], "owner": {"reputation": 1, "user_id": 8627759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/839b17f92de3875d38aaa3ef8207ca08?s=128&d=identicon&r=PG&f=1", "display_name": "Yasmine", "link": "https://stackoverflow.com/users/8627759/yasmine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533833806, "creation_date": 1533768142, "last_edit_date": 1533788981, "question_id": 51756641, "link": "https://stackoverflow.com/questions/51756641/pyinstaller-pythonfile-py-fatal-error-in-launcher-unable-to-create-process-usin", "title": "Pyinstaller pythonfile.py Fatal error in launcher: Unable to create process using &#39;&quot;&#39;", "body": "<p>I am trying to convert my .py file to an exe file. I've done it in the past but for some reason it isn't working anymore. I am using Python 2.7 and have other versions installed as well but my application won't work without 2.7. If I do python activityKivy.py it runs perfectly. I also tried with py2exe but was unsuccessful, it gave me too many dll warnings and would crash each time I open it. I prefer to stick with pyinstaller because thats what always worked for me. Some help would greatly be appreciates!</p>\n\n<p>error screenshot</p>\n\n<p><img src=\"https://i.stack.imgur.com/MuC7b.png\" alt=\"\"></p>\n"}, {"tags": ["python", "ubuntu", "tensorflow", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 1492428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20a63912d8b9203c58f16c54d4e144d?s=128&d=identicon&r=PG", "display_name": "user1492428", "link": "https://stackoverflow.com/users/1492428/user1492428"}, "is_accepted": false, "score": 2, "last_activity_date": 1534020613, "creation_date": 1534020613, "answer_id": 51803650, "question_id": 51756634, "link": "https://stackoverflow.com/questions/51756634/errno-13-permission-denied-already-in-virtual-environment/51803650#51803650", "title": "Errno 13 Permission denied. Already in virtual environment", "body": "<p>I did some more digging.</p>\n\n<p>Apparently the virtualenv was created using sudo so I needed to alter permissions.</p>\n\n<p>Details here:\n<a href=\"https://stackoverflow.com/questions/19471972/how-to-avoid-permission-denied-when-using-pip-with-virtualenv\">How to avoid &quot;Permission denied&quot; when using pip with virtualenv</a></p>\n\n<p>to be specific it was</p>\n\n<pre><code>sudo chown -R your_username:your_username path/to/virtuaelenv/\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 1492428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20a63912d8b9203c58f16c54d4e144d?s=128&d=identicon&r=PG", "display_name": "user1492428", "link": "https://stackoverflow.com/users/1492428/user1492428"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4640, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534020613, "creation_date": 1533768079, "question_id": 51756634, "link": "https://stackoverflow.com/questions/51756634/errno-13-permission-denied-already-in-virtual-environment", "title": "Errno 13 Permission denied. Already in virtual environment", "body": "<p>I'm trying to install tensorflow after an OS update. I'm getting an [Errno 13] Permission denied. All the forum posts I've checked recommend solving this using a virtual environment. Problem is I'm already working in a virtual environment.</p>\n\n<p>here are the command's I used:</p>\n\n<pre><code>user@Computer:~$ cd /tensorflow\nuser@Computer:/tensorflow$ virtualenv --system-site-packages -p python3 venv\nuser@Computer:/tensorflow$ source /tensorflow/venv/bin/activate\n(venv) user@Computer:/tensorflow$ pip install -U tensorflow-GPU\n</code></pre>\n\n<p>and here's the output I got:</p>\n\n<pre><code>(venv) user@Computer:/tensorflow$ pip install -U tensorflow-GPU\nUsing cached https://files.pythonhosted.org/packages/64/ca/830b7cedb073ae264d215d51bd18d7cff7a2a47e39d79f6fa23edae17bb2/tensorflow_gpu-1.10.0-cp36-cp36m-manylinux1_x86_64.whl\nCollecting gast&gt;=0.2.0 (from tensorflow-GPU)\nCollecting tensorboard&lt;1.11.0,&gt;=1.10.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/c6/17/ecd918a004f297955c30b4fffbea100b1606c225dbf0443264012773c3ff/tensorboard-1.10.0-py3-none-any.whl\nCollecting grpcio&gt;=1.8.6 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/31/17/0f79ff2f56018aa0e12ffb1cc8086df6bd6cfc71efea0df64fe78d569f71/grpcio-1.14.1-cp36-cp36m-manylinux1_x86_64.whl\nRequirement already satisfied, skipping upgrade: six&gt;=1.10.0 in /usr/lib/python3/dist-packages (from tensorflow-GPU) (1.11.0)\nCollecting astor&gt;=0.6.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/35/6b/11530768cac581a12952a2aad00e1526b89d242d0b9f59534ef6e6a1752f/astor-0.7.1-py2.py3-none-any.whl\nCollecting protobuf&gt;=3.6.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/fc/f0/db040681187496d10ac50ad167a8fd5f953d115b16a7085e19193a6abfd2/protobuf-3.6.0-cp36-cp36m-manylinux1_x86_64.whl\nRequirement already satisfied, skipping upgrade: wheel&gt;=0.26 in ./venv/lib/python3.6/site-packages (from tensorflow-GPU) (0.31.1)\nCollecting absl-py&gt;=0.1.6 (from tensorflow-GPU)\nCollecting termcolor&gt;=1.1.0 (from tensorflow-GPU)\nCollecting setuptools&lt;=39.1.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/8c/10/79282747f9169f21c053c562a0baa21815a8c7879be97abd930dbcf862e8/setuptools-39.1.0-py2.py3-none-any.whl\nCollecting numpy&lt;=1.14.5,&gt;=1.13.3 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/68/1e/116ad560de97694e2d0c1843a7a0075cc9f49e922454d32f49a80eb6f1f2/numpy-1.14.5-cp36-cp36m-manylinux1_x86_64.whl\nCollecting markdown&gt;=2.6.8 (from tensorboard&lt;1.11.0,&gt;=1.10.0-&gt;tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/6d/7d/488b90f470b96531a3f5788cf12a93332f543dbab13c423a5e7ce96a0493/Markdown-2.6.11-py2.py3-none-any.whl\nCollecting werkzeug&gt;=0.11.10 (from tensorboard&lt;1.11.0,&gt;=1.10.0-&gt;tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/20/c4/12e3e56473e52375aa29c4764e70d1b8f3efa6682bef8d0aae04fe335243/Werkzeug-0.14.1-py2.py3-none-any.whl\nInstalling collected packages: gast, numpy, markdown, setuptools, protobuf, werkzeug, tensorboard, grpcio, astor, absl-py, termcolor, tensorflow-GPU\nCould not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/tensorflow/venv/lib/python3.6/site-packages/gast'\nConsider using the `--user` option or check the permissions.\n</code></pre>\n\n<p>Including the '--user' option gives the following result</p>\n\n<pre><code>(venv) user@Computer:/tensorflow$ pip install --user tensorflow-GPU\nCollecting tensorflow-GPU\n  Using cached https://files.pythonhosted.org/packages/64/ca/830b7cedb073ae264d215d51bd18d7cff7a2a47e39d79f6fa23edae17bb2/tensorflow_gpu-1.10.0-cp36-cp36m-manylinux1_x86_64.whl\nCollecting absl-py&gt;=0.1.6 (from tensorflow-GPU)\nCollecting astor&gt;=0.6.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/35/6b/11530768cac581a12952a2aad00e1526b89d242d0b9f59534ef6e6a1752f/astor-0.7.1-py2.py3-none-any.whl\nCollecting gast&gt;=0.2.0 (from tensorflow-GPU)\nCollecting tensorboard&lt;1.11.0,&gt;=1.10.0 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/c6/17/ecd918a004f297955c30b4fffbea100b1606c225dbf0443264012773c3ff/tensorboard-1.10.0-py3-none-any.whl\nCollecting termcolor&gt;=1.1.0 (from tensorflow-GPU)\nCollecting numpy&lt;=1.14.5,&gt;=1.13.3 (from tensorflow-GPU)\n  Using cached https://files.pythonhosted.org/packages/68/1e/116ad560de97694e2d0c1843a7a0075cc9f49e922454d32f49a80eb6f1f2/numpy-1.14.5-cp36-cp36m-manylinux1_x86_64.whl\nWill not install to the user site because it will lack sys.path precedence to setuptools in /tensorflow/venv/lib/python3.6/site-packages\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 2, "creation_date": 1533768121, "post_id": 51756613, "comment_id": 90472728, "body": "It will generally tell you what the syntax errors are as well."}, {"owner": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "edited": false, "score": 0, "creation_date": 1533768259, "post_id": 51756613, "comment_id": 90472757, "body": "Drop the curly braces around <code>while</code> loop. Python uses indentation to figure out what is in which block."}], "answers": [{"comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1533768045, "post_id": 51756620, "comment_id": 90472715, "body": "hmm, an infinite while loop is fine?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1533768063, "post_id": 51756620, "comment_id": 90472719, "body": "It doesn&#39;t use semicolons either, and depending on the version of Python, there should also be no parentheses after the <code>print</code> statement."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533775644, "post_id": 51756620, "comment_id": 90474267, "body": "Semicolons are actually legal, but generally are against PEP8"}], "tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1533768012, "creation_date": 1533768012, "answer_id": 51756620, "question_id": 51756613, "link": "https://stackoverflow.com/questions/51756613/syntax-error-when-adding-to-a-variable-in-a-while-true-loop/51756620#51756620", "title": "Syntax error when adding to a variable in a while true loop", "body": "<p>Python doesn't use <code>{}</code> for control constructs. Just remove the braces and the semicolons, and you'll be fine.</p>\n"}, {"tags": [], "owner": {"reputation": 11001, "user_id": 3316882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbfd45c99a28cab8fe0c8ddcb19aea3?s=128&d=identicon&r=PG&f=1", "display_name": "Sunitha", "link": "https://stackoverflow.com/users/3316882/sunitha"}, "is_accepted": false, "score": 0, "last_activity_date": 1533768632, "creation_date": 1533768632, "answer_id": 51756695, "question_id": 51756613, "link": "https://stackoverflow.com/questions/51756613/syntax-error-when-adding-to-a-variable-in-a-while-true-loop/51756695#51756695", "title": "Syntax error when adding to a variable in a while true loop", "body": "<p>There is  no semicolon in python statements and no braces in the loops\nyour code doesn't check any condition it will lead to a indefinite loop. just change the code</p>\n\n<pre><code>factor = 1\nness = \"yes\"\nwhile factor&lt;=10: \n    factor += 1\n    print (ness*factor)\n</code></pre>\n\n<p>and the output is</p>\n\n<pre><code>yesyes\nyesyesyes\nyesyesyesyes\nyesyesyesyesyes\nyesyesyesyesyesyes\nyesyesyesyesyesyesyes\nyesyesyesyesyesyesyesyes\nyesyesyesyesyesyesyesyesyes\nyesyesyesyesyesyesyesyesyesyes\nyesyesyesyesyesyesyesyesyesyesyes\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10200263, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SCxJFm5bxMc/AAAAAAAAAAI/AAAAAAAAAQE/0H_QaaURUqk/photo.jpg?sz=128", "display_name": "Skadoodlefap", "link": "https://stackoverflow.com/users/10200263/skadoodlefap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 51756620, "answer_count": 2, "score": -2, "last_activity_date": 1533768632, "creation_date": 1533767937, "question_id": 51756613, "link": "https://stackoverflow.com/questions/51756613/syntax-error-when-adding-to-a-variable-in-a-while-true-loop", "title": "Syntax error when adding to a variable in a while true loop", "body": "<p>So I'm new to python, and I was just messing around with some code I made and it kept giving me a syntax error when I try to run it. I couldn't find anything on it so I assume its very simple but I can't figure it out. help pls.</p>\n\n<pre><code>factor = 1;\nness = \"yes\";\nwhile True: {\n    factor += 1\n    print (ness*factor)\n}\n</code></pre>\n"}, {"tags": ["python", "operating-system"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7656137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f1618cf4d951e33c9549911bd4d026?s=128&d=identicon&r=PG&f=1", "display_name": "human01302015", "link": "https://stackoverflow.com/users/7656137/human01302015"}, "edited": false, "score": 0, "creation_date": 1533769462, "post_id": 51756675, "comment_id": 90473031, "body": "I have corrected the indentation.Below is the output:                                         [&#39;New Text Document.txt&#39;, &#39;Test1&#39;, &#39;Test2&#39;] C:\\Test\\New Text Document.txt C:\\Test\\Test1\\New Text Document.txt 2 2 2"}, {"owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "reply_to_user": {"reputation": 1, "user_id": 7656137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f1618cf4d951e33c9549911bd4d026?s=128&d=identicon&r=PG&f=1", "display_name": "human01302015", "link": "https://stackoverflow.com/users/7656137/human01302015"}, "edited": false, "score": 0, "creation_date": 1533785309, "post_id": 51756675, "comment_id": 90476043, "body": "You are calling your filepath() function inside of the filepath() function, so the count gets printed every time the function gets called. The nested call is in your if statement."}], "tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": false, "score": 1, "last_activity_date": 1533768470, "creation_date": 1533768470, "answer_id": 51756675, "question_id": 51756611, "link": "https://stackoverflow.com/questions/51756611/python-os-module-print-statement/51756675#51756675", "title": "Python os module print statement", "body": "<p>Are you sure your print statement isn't inside your for loop? It looks like your code formatting is off, since the for loop and global variables aren't indented after your function <code>def filepath(dir):</code> statement. </p>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 5614434, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9cc4f84ad019bf0381e86194b1dc403d?s=128&d=identicon&r=PG&f=1", "display_name": "Naseer Mohammad", "link": "https://stackoverflow.com/users/5614434/naseer-mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1534247328, "creation_date": 1534247328, "answer_id": 51840699, "question_id": 51756611, "link": "https://stackoverflow.com/questions/51756611/python-os-module-print-statement/51840699#51840699", "title": "Python os module print statement", "body": "<p>What are you planning to output in your program. You are recursively calling your own <code>filepath</code> function which is calling itself for each directory. And you're printing count in each function call being made.</p>\n\n<p>I guess you are trying to print the number of files in the given folder.Just put your <code>print(count)</code> statement outside of the function definition.</p>\n"}], "owner": {"reputation": 1, "user_id": 7656137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1f1618cf4d951e33c9549911bd4d026?s=128&d=identicon&r=PG&f=1", "display_name": "human01302015", "link": "https://stackoverflow.com/users/7656137/human01302015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534247328, "creation_date": 1533767927, "last_edit_date": 1533769396, "question_id": 51756611, "link": "https://stackoverflow.com/questions/51756611/python-os-module-print-statement", "title": "Python os module print statement", "body": "<p>Contents of the dir as below</p>\n\n<pre><code> C:\\Test\\newtext.txt\n C:\\Test\\Test1\n C:\\Test\\Test1\\newtext.txt\n C:\\Test\\Test2\n</code></pre>\n\n<p>The count variable is getting printed three times. Why is it getting printed \n3 times?</p>\n\n<pre><code>import os\ndir = 'C:\\\\Test'\nprint(os.listdir(dir))\ncount = 0\ndef filepath(dir):\n    global count\n    for path in os.listdir(dir):\n        childPath = os.path.join(dir,path)\n        if os.path.isdir(childPath):\n            filepath(childPath)\n        else:\n            count += 1\n            print(childPath)\n    print(count)\nfilepath(dir)\n</code></pre>\n"}, {"tags": ["python", "filtering"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10172358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d58efd2eb66e40ee96ea920117b082e?s=128&d=identicon&r=PG&f=1", "display_name": "mlorai", "link": "https://stackoverflow.com/users/10172358/mlorai"}, "is_accepted": false, "score": 0, "last_activity_date": 1533768710, "creation_date": 1533768710, "answer_id": 51756706, "question_id": 51756597, "link": "https://stackoverflow.com/questions/51756597/displaying-specific-rows-that-have-a-key-word-in-the-cells-in-a-csv-python/51756706#51756706", "title": "Displaying specific rows that have a key word in the cells in a csv (python)", "body": "<p>Say the name of your csv file is data, you could use:<br>\n<code>print(data[data.Category == category])</code></p>\n\n<p>Which would display all the rows and columns of the csv file where the Category matches the category entered by the user.</p>\n\n<p>I would assume using a library such as pandas would make this more efficient.</p>\n"}], "owner": {"reputation": 1, "user_id": 10200262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240d6f3ab3046ab7010a12d0ee2ab815?s=128&d=identicon&r=PG&f=1", "display_name": "ttran2571", "link": "https://stackoverflow.com/users/10200262/ttran2571"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533768710, "creation_date": 1533767825, "last_edit_date": 1533767950, "question_id": 51756597, "link": "https://stackoverflow.com/questions/51756597/displaying-specific-rows-that-have-a-key-word-in-the-cells-in-a-csv-python", "title": "Displaying specific rows that have a key word in the cells in a csv (python)", "body": "<p>I have a CSV file that is an expense report such as:</p>\n\n<pre><code>day       amount    category\nmonday    1.00      food\ntuesday   2.00      entertainment\nwednesday 3.00      drinks\n...       ...       ...\n</code></pre>\n\n<p>I want to write a code that ask the user to select a category and then display all the information that the user chooses I.e:</p>\n\n<p>User chooses food:</p>\n\n<pre><code>Day     Amount   Category\nMonday  1.00     food\nFriday  3.50     food\n</code></pre>\n\n<p>So far I have:</p>\n\n<pre><code>category = input(\"Input the category you wish to view (Beverages, Food, Travel, Entertainment, Clothing): \")\n    if not category in expense_report:\n        print(\"Please enter a valid category\")\n</code></pre>\n\n<p>but not sure what to do next to filter out what the user chooses.</p>\n"}, {"tags": ["python", "numpy", "machine-learning", "conv-neural-network", "pytorch"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533790947, "post_id": 51758045, "comment_id": 90477445, "body": "Wow, thank you so much for this. You really made my day you know !!! I can now see the images after the transforms have been applied. If you do not mind me asking, how would I go about seeing the predictions that the CNN made on each image. Right now I see accuracy and epochs."}, {"owner": {"reputation": 2594, "user_id": 3237438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832f4d1b3dcad6c4049fb9ae49b17f07?s=128&d=identicon&r=PG&f=1", "display_name": "hkchengrex", "link": "https://stackoverflow.com/users/3237438/hkchengrex"}, "reply_to_user": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533792234, "post_id": 51758045, "comment_id": 90477866, "body": "@Aeryes Glad it helped. What are your outputs? Numbers? Images?"}, {"owner": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533824037, "post_id": 51758045, "comment_id": 90497229, "body": "So when I checked my outputs it gives a tensor object with numbers from 0-4. I have 5 classes of flowers so I am guessing 0 = 1, 1 = 2 and so on. am trying to train the model and then give it a fresh input to see if it is actually working."}, {"owner": {"reputation": 2594, "user_id": 3237438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832f4d1b3dcad6c4049fb9ae49b17f07?s=128&d=identicon&r=PG&f=1", "display_name": "hkchengrex", "link": "https://stackoverflow.com/users/3237438/hkchengrex"}, "reply_to_user": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533824200, "post_id": 51758045, "comment_id": 90497343, "body": "@Aeryes If you want to test a single image and view its result, then just print it out, like <code>print(result)</code>. If there are a lot of images, you can calculate loss/accuracy."}, {"owner": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533825353, "post_id": 51758045, "comment_id": 90498154, "body": "I should have clarified more. Right now my output is like this: Epoch {epoch} Train acc {accuracy} Loss {loss} Test acc {test acc}. I am looking to feed it a new image after training and see if it can correctly classify it."}, {"owner": {"reputation": 2594, "user_id": 3237438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832f4d1b3dcad6c4049fb9ae49b17f07?s=128&d=identicon&r=PG&f=1", "display_name": "hkchengrex", "link": "https://stackoverflow.com/users/3237438/hkchengrex"}, "reply_to_user": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533825558, "post_id": 51758045, "comment_id": 90498277, "body": "@Aeryes Put some of your &quot;new images&quot; in another folder, create a dataset and dataloader for it, and run the network again as in training/testing. You can print the output afterwards. It should be very like your training/testing process. If you encountered any problem implementing that I think you can open another question."}, {"owner": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "edited": false, "score": 0, "creation_date": 1533833653, "post_id": 51758045, "comment_id": 90503355, "body": "Thank you very much. You have been very helpful !"}], "tags": [], "owner": {"reputation": 2594, "user_id": 3237438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832f4d1b3dcad6c4049fb9ae49b17f07?s=128&d=identicon&r=PG&f=1", "display_name": "hkchengrex", "link": "https://stackoverflow.com/users/3237438/hkchengrex"}, "is_accepted": true, "score": 11, "last_activity_date": 1533782179, "creation_date": 1533782179, "answer_id": 51758045, "question_id": 51756581, "link": "https://stackoverflow.com/questions/51756581/how-do-i-turn-a-pytorch-dataloader-into-a-numpy-array-to-display-image-data-with/51758045#51758045", "title": "How do I turn a Pytorch Dataloader into a numpy array to display image data with matplotlib?", "body": "<p>First of all, <code>dataloader</code> output 4 dimensional tensor - <code>[batch, channel, height, width]</code>. Matplotlib and other image processing libraries often requires <code>[height, width, channel]</code>. You are right about using the transpose, just not in the right way.</p>\n\n<p>There will be a lot of images in your <code>images</code> so first you need to pick one (or write a for loop to save all of them). This will be simply <code>images[i]</code>, typically I use <code>i=0</code>.</p>\n\n<p>Then, your transpose should convert a now <code>[channel, height, width]</code> tensor to a <code>[height, width, channel]</code> one. To do this, use <code>np.transpose(image.numpy(), (1, 2, 0))</code>, very much like yours.</p>\n\n<p>Putting them together, you should have</p>\n\n<pre><code>plt.imshow(np.transpose(images[0].numpy(), (1, 2, 0)))\n</code></pre>\n\n<p>Sometimes you need to call <code>.detach()</code> (detach this part from the computational graph) and <code>.cpu()</code> (transfer data from GPU to CPU) depending on the use case, that will be</p>\n\n<pre><code>plt.imshow(np.transpose(images[0].cpu().detach().numpy(), (1, 2, 0)))\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 6184683, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4a933e283c694a84d262b6f6567dde62?s=128&d=identicon&r=PG&f=1", "display_name": "Aeryes", "link": "https://stackoverflow.com/users/6184683/aeryes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7329, "favorite_count": 4, "accepted_answer_id": 51758045, "answer_count": 1, "score": 6, "last_activity_date": 1533782179, "creation_date": 1533767723, "last_edit_date": 1533770199, "question_id": 51756581, "link": "https://stackoverflow.com/questions/51756581/how-do-i-turn-a-pytorch-dataloader-into-a-numpy-array-to-display-image-data-with", "title": "How do I turn a Pytorch Dataloader into a numpy array to display image data with matplotlib?", "body": "<p>I am new to Pytorch. I have been trying to learn how to view my input images before I begin training on my CNN. I am having a very hard time changing the images into a form that can be used with matplotlib.</p>\n\n<p>So far I have tried this:</p>\n\n<pre><code>from multiprocessing import freeze_support\n\nimport torch\nfrom torch import nn\nimport torchvision\nfrom torch.autograd import Variable\nfrom torch.utils.data import DataLoader, Sampler\nfrom torchvision import datasets\nfrom torchvision.transforms import transforms\nfrom torch.optim import Adam\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport PIL\n\nnum_classes = 5\nbatch_size = 100\nnum_of_workers = 5\n\nDATA_PATH_TRAIN = 'C:\\\\Users\\Aeryes\\PycharmProjects\\simplecnn\\images\\\\train'\nDATA_PATH_TEST = 'C:\\\\Users\\Aeryes\\PycharmProjects\\simplecnn\\images\\\\test'\n\ntrans = transforms.Compose([\n    transforms.RandomHorizontalFlip(),\n    transforms.Resize(32),\n    transforms.CenterCrop(32),\n    transforms.ToPImage(),\n    transforms.Normalize((0.5, 0.5, 0.5),(0.5, 0.5, 0.5))\n    ])\n\ntrain_dataset = datasets.ImageFolder(root=DATA_PATH_TRAIN, transform=trans)\ntrain_loader = DataLoader(dataset=train_dataset, batch_size=batch_size, shuffle=True, num_workers=num_of_workers)\n\ndef imshow(img):\n    img = img / 2 + 0.5     # unnormalize\n    npimg = img.numpy()\n    print(npimg)\n    plt.imshow(np.transpose(npimg, (1, 2, 0, 1)))\n\ndef main():\n    # get some random training images\n    dataiter = iter(train_loader)\n    images, labels = dataiter.next()\n\n    # show images\n    imshow(images)\n    # print labels\n    print(' '.join('%5s' % classes[labels[j]] for j in range(4)))\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>However, this throws and error:</p>\n\n<pre><code>  [[0.27058825 0.18431371 0.31764707 ... 0.18823528 0.3882353\n    0.27450982]\n   [0.23137254 0.11372548 0.24313724 ... 0.16862744 0.14117646\n    0.40784314]\n   [0.25490198 0.19607842 0.30588236 ... 0.27450982 0.25882354\n    0.34509805]\n   ...\n   [0.2784314  0.21960783 0.2352941  ... 0.5803922  0.46666667\n    0.25882354]\n   [0.26666668 0.16862744 0.23137254 ... 0.2901961  0.29803923\n    0.2509804 ]\n   [0.30980393 0.39607844 0.28627452 ... 0.1490196  0.10588235\n    0.19607842]]\n\n  [[0.2352941  0.06274509 0.15686274 ... 0.09411764 0.3019608\n    0.19215685]\n   [0.22745097 0.07843137 0.12549019 ... 0.07843137 0.10588235\n    0.3019608 ]\n   [0.20392156 0.13333333 0.1607843  ... 0.16862744 0.2117647\n    0.22745097]\n   ...\n   [0.18039215 0.16862744 0.1490196  ... 0.45882353 0.36078432\n    0.16470587]\n   [0.1607843  0.10588235 0.14117646 ... 0.2117647  0.18039215\n    0.10980392]\n   [0.18039215 0.3019608  0.2117647  ... 0.11372548 0.06274509\n    0.04705882]]]\n\n\n ...\n\n\n [[[0.8980392  0.8784314  0.8509804  ... 0.627451   0.627451\n    0.627451  ]\n   [0.8509804  0.8235294  0.7921569  ... 0.54901963 0.5568628\n    0.56078434]\n   [0.7921569  0.7529412  0.7176471  ... 0.47058824 0.48235294\n    0.49411765]\n   ...\n   [0.3764706  0.38431373 0.3764706  ... 0.4509804  0.43137255\n    0.39607844]\n   [0.38431373 0.39607844 0.3882353  ... 0.4509804  0.43137255\n    0.39607844]\n   [0.3882353  0.4        0.39607844 ... 0.44313726 0.42352942\n    0.39215687]]\n\n  [[0.9254902  0.90588236 0.88235295 ... 0.60784316 0.6\n    0.5921569 ]\n   [0.88235295 0.85490197 0.8235294  ... 0.5411765  0.5372549\n    0.53333336]\n   [0.8235294  0.7882353  0.75686276 ... 0.47058824 0.47058824\n    0.47058824]\n   ...\n   [0.50980395 0.5176471  0.5137255  ... 0.58431375 0.5647059\n    0.53333336]\n   [0.5137255  0.53333336 0.5254902  ... 0.58431375 0.5686275\n    0.53333336]\n   [0.5176471  0.53333336 0.5294118  ... 0.5764706  0.56078434\n    0.5294118 ]]\n\n  [[0.95686275 0.9372549  0.90588236 ... 0.18823528 0.19999999\n    0.20784312]\n   [0.9098039  0.8784314  0.8352941  ... 0.1607843  0.17254901\n    0.18039215]\n   [0.84313726 0.7921569  0.7490196  ... 0.1372549  0.14509803\n    0.15294117]\n   ...\n   [0.03921568 0.05490196 0.05098039 ... 0.11764705 0.09411764\n    0.02745098]\n   [0.04705882 0.07843137 0.06666666 ... 0.12156862 0.10196078\n    0.03529412]\n   [0.05098039 0.0745098  0.07843137 ... 0.12549019 0.10196078\n    0.04705882]]]\n\n\n [[[0.30588236 0.28627452 0.24313724 ... 0.2901961  0.26666668\n    0.21568626]\n   [0.8156863  0.6666667  0.5921569  ... 0.18039215 0.23921567\n    0.21568626]\n   [0.9019608  0.83137256 0.85490197 ... 0.21960783 0.36862746\n    0.23921567]\n   ...\n   [0.7058824  0.83137256 0.85490197 ... 0.2627451  0.24313724\n    0.20784312]\n   [0.7137255  0.84313726 0.84705883 ... 0.26666668 0.29803923\n    0.21568626]\n   [0.7254902  0.8235294  0.8392157  ... 0.2509804  0.27058825\n    0.2352941 ]]\n\n  [[0.24705881 0.22745097 0.19215685 ... 0.2784314  0.25490198\n    0.19607842]\n   [0.59607846 0.37254903 0.29803923 ... 0.16470587 0.22745097\n    0.20392156]\n   [0.5921569  0.4509804  0.49803922 ... 0.20784312 0.3764706\n    0.2352941 ]\n   ...\n   [0.42352942 0.4627451  0.42352942 ... 0.23921567 0.23137254\n    0.19999999]\n   [0.45882353 0.5176471  0.35686275 ... 0.23921567 0.26666668\n    0.19607842]\n   [0.41568628 0.44313726 0.34901962 ... 0.21960783 0.23921567\n    0.21568626]]\n\n  [[0.23137254 0.20784312 0.1490196  ... 0.30588236 0.28627452\n    0.19607842]\n   [0.61960787 0.3764706  0.26666668 ... 0.16470587 0.24313724\n    0.21568626]\n   [0.57254905 0.43137255 0.48235294 ... 0.2235294  0.40392157\n    0.25882354]\n   ...\n   [0.4        0.42352942 0.37254903 ... 0.25490198 0.24705881\n    0.21568626]\n   [0.43137255 0.4509804  0.29411766 ... 0.25882354 0.28235295\n    0.20392156]\n   [0.38431373 0.3529412  0.25490198 ... 0.2352941  0.25490198\n    0.23137254]]]\n\n\n [[[0.06274509 0.09019607 0.11372548 ... 0.5803922  0.5176471\n    0.59607846]\n   [0.09411764 0.14509803 0.1372549  ... 0.5294118  0.49803922\n    0.5058824 ]\n   [0.04705882 0.09411764 0.10196078 ... 0.45882353 0.42352942\n    0.38431373]\n   ...\n   [0.15294117 0.12941176 0.1607843  ... 0.85882354 0.8509804\n    0.80784315]\n   [0.14509803 0.10588235 0.1607843  ... 0.8666667  0.85882354\n    0.8       ]\n   [0.1490196  0.10588235 0.16470587 ... 0.827451   0.8156863\n    0.7921569 ]]\n\n  [[0.06666666 0.12156862 0.17647058 ... 0.59607846 0.5529412\n    0.6039216 ]\n   [0.07058823 0.10588235 0.11764705 ... 0.56078434 0.5254902\n    0.5372549 ]\n   [0.03921568 0.0745098  0.09803921 ... 0.48235294 0.4392157\n    0.4117647 ]\n   ...\n   [0.2117647  0.14509803 0.2784314  ... 0.43137255 0.3529412\n    0.34117648]\n   [0.2235294  0.11372548 0.2509804  ... 0.4509804  0.39607844\n    0.2509804 ]\n   [0.25490198 0.12156862 0.24705881 ... 0.38039216 0.36078432\n    0.3254902 ]]\n\n  [[0.05490196 0.09803921 0.12549019 ... 0.46666667 0.38039216\n    0.45490196]\n   [0.06274509 0.09803921 0.10196078 ... 0.44705883 0.41568628\n    0.3882353 ]\n   [0.03921568 0.06666666 0.0862745  ... 0.3764706  0.33333334\n    0.28235295]\n   ...\n   [0.12156862 0.14509803 0.16862744 ... 0.15686274 0.0745098\n    0.09411764]\n   [0.10588235 0.11372548 0.16862744 ... 0.25882354 0.18431371\n    0.05490196]\n   [0.12156862 0.11372548 0.17254901 ... 0.2352941  0.17254901\n    0.14117646]]]]\nTraceback (most recent call last):\n  File \"image_loader.py\", line 51, in &lt;module&gt;\n    main()\n  File \"image_loader.py\", line 46, in main\n    imshow(images)\n  File \"image_loader.py\", line 38, in imshow\n    plt.imshow(np.transpose(npimg, (1, 2, 0, 1)))\n  File \"C:\\Users\\Aeryes\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\numpy\\core\\fromnumeric.py\", line 598, in transpose\n    return _wrapfunc(a, 'transpose', axes)\n  File \"C:\\Users\\Aeryes\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\numpy\\core\\fromnumeric.py\", line 51, in _wrapfunc\n    return getattr(obj, method)(*args, **kwds)\nValueError: repeated axis in transpose\n</code></pre>\n\n<p>I tried to print out the arrays to get the dimensions but I do not know what to make of this. It is very confusing. </p>\n\n<p>Here is my direct question: How do I view the input images before training using the tensors in my DataLoader object?</p>\n"}, {"tags": ["python", "google-calendar-api"], "comments": [{"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1533815423, "post_id": 51756568, "comment_id": 90490975, "body": "How was the calendar created, through a service account or a user&#39;s account? Also can you try using <a href=\"https://developers.google.com/calendar/v3/reference/calendarList/list\" rel=\"nofollow noreferrer\">CalendarList: list</a>?"}, {"owner": {"reputation": 1, "user_id": 10200226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12e19c2aaf06a440ffd78f160dfeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wayne", "link": "https://stackoverflow.com/users/10200226/nicholas-wayne"}, "reply_to_user": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1533826043, "post_id": 51756568, "comment_id": 90498616, "body": "I&#39;m fairly certain it is done through the service account as the credentials are made through ServiceAccountCredentials.from_json_keyfile_name. When these calendars are created they are visible through the CalendarList, but not visible on the actual google account."}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1533827311, "post_id": 51756568, "comment_id": 90499516, "body": "service account and users account are not similar hence the expected outcome."}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1533827394, "post_id": 51756568, "comment_id": 90499568, "body": "use user account oauth not service acxount if you want the calendars to appear on that certain user acct"}], "owner": {"reputation": 1, "user_id": 10200226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12e19c2aaf06a440ffd78f160dfeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Wayne", "link": "https://stackoverflow.com/users/10200226/nicholas-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533767589, "creation_date": 1533767589, "question_id": 51756568, "link": "https://stackoverflow.com/questions/51756568/calendar-added-from-api-does-not-show-up-on-google-account", "title": "Calendar added from API does not show up on google account", "body": "<p>When adding a calendar to the google account we have for an application through the API, the event is added successfully and returns the calendars id that we store in our db. However when logging into the google account to look at the calendar created, there is no such calendar for the account.</p>\n\n<pre><code>new_cal = {\n    'summary': calendar_name,\n    'timeZone': pytz.all_timezones[timezone]\n}\ncreated_calendar = service.calendars().insert(body=new_cal).execute()\n</code></pre>\n\n<p>This is the code used to add the calendar to the google account</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 6374638, "user_type": "registered", "profile_image": "https://graph.facebook.com/1797906268/picture?type=large", "display_name": "Brian Ko", "link": "https://stackoverflow.com/users/6374638/brian-ko"}, "edited": false, "score": 0, "creation_date": 1533777248, "post_id": 51757163, "comment_id": 90474557, "body": "Do you think it would be viable to keep a list of all the losses and accuracies of all batches in each epoch, and then calculate the average accuracy and total loss for each epoch?"}], "tags": [], "owner": {"reputation": 999, "user_id": 9683408, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NL6ApeRSPGk/AAAAAAAAAAI/AAAAAAAAAAo/9K9ux_rYMMo/photo.jpg?sz=128", "display_name": "Cory Nezin", "link": "https://stackoverflow.com/users/9683408/cory-nezin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533772790, "creation_date": 1533772790, "answer_id": 51757163, "question_id": 51756558, "link": "https://stackoverflow.com/questions/51756558/is-training-accuracy-of-a-model-calculated-on-the-mini-batch/51757163#51757163", "title": "Is training accuracy of a model calculated on the mini-batch?", "body": "<p>Ideally training accuracy should be calculated including every sample, but practically, it's all right to use a subset of the data as long as its representative of all data.  Whether a random batch of 100 samples is representative of your data or not, depends on the problem at hand.  For instance if you were classifying a sample as one of one thousand possible classes, this is clearly not enough.</p>\n\n<p>I generally keep a running average of the loss over a given epoch during training.  Since the training loss is almost always monotonically decreasing, this will tend to overestimate loss (and underestimate accuracy.  However, the discrepancy should disappear as the model converges.</p>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 3237438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832f4d1b3dcad6c4049fb9ae49b17f07?s=128&d=identicon&r=PG&f=1", "display_name": "hkchengrex", "link": "https://stackoverflow.com/users/3237438/hkchengrex"}, "is_accepted": false, "score": 1, "last_activity_date": 1533780681, "creation_date": 1533780681, "answer_id": 51757886, "question_id": 51756558, "link": "https://stackoverflow.com/questions/51756558/is-training-accuracy-of-a-model-calculated-on-the-mini-batch/51757886#51757886", "title": "Is training accuracy of a model calculated on the mini-batch?", "body": "<p>I agree with @Cory that ideally training accuracy should be calculated on every training sample. Instead of using an running average (exponential, perhaps), I keep the sum of last, let's say, 50 mini-batches. Then I report the average loss across these mini-batches. You can easily track the model's recent performance (you can report this number much frequently than every epoch).</p>\n"}], "owner": {"reputation": 149, "user_id": 6374638, "user_type": "registered", "profile_image": "https://graph.facebook.com/1797906268/picture?type=large", "display_name": "Brian Ko", "link": "https://stackoverflow.com/users/6374638/brian-ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1562756297, "creation_date": 1533767510, "question_id": 51756558, "link": "https://stackoverflow.com/questions/51756558/is-training-accuracy-of-a-model-calculated-on-the-mini-batch", "title": "Is training accuracy of a model calculated on the mini-batch?", "body": "<p>I'm trying to record the training accuracy of the model at the end of each epoch, but I wasn't sure if the training accuracy is calculated on the entire training data or the last mini-batch used for training. For example, if I have 10000 training data and I'm training with mini-batches of 100, would I calculate the training accuracy using the last mini-batch of 100 (the 100th and last mini-batch in that epoch) or use the entire 10000 training data?</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "edited": false, "score": 1, "creation_date": 1533767998, "post_id": 51756605, "comment_id": 90472704, "body": "thanks for getting back to me so quickly, that worked."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1533767862, "creation_date": 1533767862, "answer_id": 51756605, "question_id": 51756552, "link": "https://stackoverflow.com/questions/51756552/transform-dict-with-nested-array-values/51756605#51756605", "title": "transform dict with nested array values", "body": "<p>IIUC, This dictionary comprehension should do the trick :</p>\n\n<pre><code>{k:v[0] for k,v in res.items()}\n\n{0: -1.6133319, 1: -1.278326, 2: -0.68584293, 3: -1.2741858, 4: -0.81194735}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1533772435, "post_id": 51756608, "comment_id": 90473669, "body": "Even though this works, it will be slower than a dict comprehension"}], "tags": [], "owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "is_accepted": false, "score": 0, "last_activity_date": 1533767890, "creation_date": 1533767890, "answer_id": 51756608, "question_id": 51756552, "link": "https://stackoverflow.com/questions/51756552/transform-dict-with-nested-array-values/51756608#51756608", "title": "transform dict with nested array values", "body": "<p>This seems to have done the trick</p>\n\n<pre><code>test_res={}\n\nfor ids in list(res.keys()):\n  test_res[ids]=res[ids].item()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7351226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03e6677c577a5ddc7a700209e45704d?s=128&d=identicon&r=PG&f=1", "display_name": "Mashume", "link": "https://stackoverflow.com/users/7351226/mashume"}, "is_accepted": false, "score": 1, "last_activity_date": 1533772414, "last_edit_date": 1533772414, "creation_date": 1533768177, "answer_id": 51756646, "question_id": 51756552, "link": "https://stackoverflow.com/questions/51756552/transform-dict-with-nested-array-values/51756646#51756646", "title": "transform dict with nested array values", "body": "<p>The following worked for me:</p>\n\n<pre><code>{k: res[k].item() for k in res}\n</code></pre>\n"}], "owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 51756605, "answer_count": 3, "score": 0, "last_activity_date": 1533772414, "creation_date": 1533767492, "last_edit_date": 1533772214, "question_id": 51756552, "link": "https://stackoverflow.com/questions/51756552/transform-dict-with-nested-array-values", "title": "transform dict with nested array values", "body": "<p>I have the example data below, which is a default dictionary. I\u2019m trying to transform it in to a dictionary like the desired output below, but I\u2019m having trouble getting the keys to match the keys from the original dictionary.  I can get the values using the code below. Any tips are greatly appreciated.</p>\n\n<p>Code:</p>\n\n<pre><code>res[0].item()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>-1.613331913948059\n</code></pre>\n\n<p>Example data:</p>\n\n<pre><code>res\n\ndefaultdict(&lt;function __main__.&lt;lambda&gt;&gt;,\n            {0: array([-1.6133319], dtype=float32),\n             1: array([-1.278326], dtype=float32),\n             2: array([-0.68584293], dtype=float32),\n             3: array([-1.2741858], dtype=float32),\n             4: array([-0.81194735], dtype=float32)})\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>{0: -1.6133319,\n 1: -1.278326,\n 2: -0.68584293,\n 3: -1.2741858,\n 4: -0.81194735}\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533768627, "post_id": 51756665, "comment_id": 90472841, "body": "I&#39;m sorry, i forgot to mention. I tried zip already and it takes insanely long given the size of my dataset"}, {"owner": {"reputation": 1255, "user_id": 10171499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b67a89a52487d28fa41cf5b95fa21eb?s=128&d=identicon&r=PG&f=1", "display_name": "T Burgis", "link": "https://stackoverflow.com/users/10171499/t-burgis"}, "reply_to_user": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533768897, "post_id": 51756665, "comment_id": 90472900, "body": "Where does the data come from? Is it not possible to create the tuples directly from the source?"}, {"owner": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533770599, "post_id": 51756665, "comment_id": 90473288, "body": "No the source just provides the 2 sets of lats/lons, analagous to those in the example."}], "tags": [], "owner": {"reputation": 1255, "user_id": 10171499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b67a89a52487d28fa41cf5b95fa21eb?s=128&d=identicon&r=PG&f=1", "display_name": "T Burgis", "link": "https://stackoverflow.com/users/10171499/t-burgis"}, "is_accepted": false, "score": 0, "last_activity_date": 1533768607, "last_edit_date": 1533768607, "creation_date": 1533768409, "answer_id": 51756665, "question_id": 51756544, "link": "https://stackoverflow.com/questions/51756544/comparing-two-numpy-arrays-x1-y1-and-x2-y2-to-check-whether-elements-inte/51756665#51756665", "title": "Comparing two numpy arrays: (x1, y1) and (x2, y2) to check whether elements intersect", "body": "<p>If you zip the latitudes and longitudes up into tuples:</p>\n\n<pre><code>firstlat = [0, 1, 5, 5]\nfirstlon = [1, 0, 5, 4]\n\nsecondlat = [0, 2, 0, 5]\nsecondlon = [1, 2, 5, 5]\n\nfirst_lat_lon = list(zip(firstlat,firstlon))\nsecond_lat_lon = list(zip(secondlat,secondlon))\n</code></pre>\n\n<p>Then you can easily check which of the second list are in the first:</p>\n\n<pre><code>[x in first_lat_lon for x in second_lat_lon]\n</code></pre>\n\n<p>Which returns:</p>\n\n<pre><code>[True, False, False, True]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "is_accepted": false, "score": 0, "last_activity_date": 1533769539, "creation_date": 1533769539, "answer_id": 51756823, "question_id": 51756544, "link": "https://stackoverflow.com/questions/51756544/comparing-two-numpy-arrays-x1-y1-and-x2-y2-to-check-whether-elements-inte/51756823#51756823", "title": "Comparing two numpy arrays: (x1, y1) and (x2, y2) to check whether elements intersect", "body": "<p>I don't know that the functionality you're looking for is possible in numpy. I recommend using the following:</p>\n\n<pre><code>in_second_and_first = set(zip(secondlat,secondlon)) &amp; set(zip(firstlat,firstlon))\n</code></pre>\n\n<p>If you're using Python 2 (which I would strongly recommend against), use <code>itertools.izip</code> instead of the built-in <code>zip</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533785165, "post_id": 51756848, "comment_id": 90476023, "body": "Tai, this is working fastest amongst the proposed answers, yet it is still slower than wanted. Do you see a more efficient way using structured arrays?"}, {"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "reply_to_user": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533786167, "post_id": 51756848, "comment_id": 90476206, "body": "@Hamza I have no clue for now."}], "tags": [], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "is_accepted": false, "score": 0, "last_activity_date": 1533769854, "creation_date": 1533769854, "answer_id": 51756848, "question_id": 51756544, "link": "https://stackoverflow.com/questions/51756544/comparing-two-numpy-arrays-x1-y1-and-x2-y2-to-check-whether-elements-inte/51756848#51756848", "title": "Comparing two numpy arrays: (x1, y1) and (x2, y2) to check whether elements intersect", "body": "<p>One hack to make use of <code>isin</code> is to use <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/user/basics.rec.html#structured-arrays\" rel=\"nofollow noreferrer\">structured arrays</a> though your arrays not really 1-dimensional.</p>\n\n<pre><code>firstlat = [0, 1, 5, 5]\nfirstlon = [1, 0, 5, 4]\n\nsecondlat = [0, 2, 0, 5]\nsecondlon = [1, 2, 5, 5]\n\nfirstcoords = np.array(list(zip(firstlat, firstlon)), dtype=[(\"lat\", int), (\"lon\", int)])\n# array([(0, 1), (1, 0), (5, 5), (5, 4)], dtype=[('lat', '&lt;i8'), ('lon', '&lt;i8')])\nsecondcoords = np.array(list(zip(secondlat, secondlon)), dtype=[(\"lat\", int), (\"lon\", int)])\n# array([(0, 1), (2, 2), (0, 5), (5, 5)], dtype=[('lat', '&lt;i8'), ('lon', '&lt;i8')])\n\nnp.isin(secondcoords, firstcoords)\n# array([ True, False, False,  True])\n</code></pre>\n\n<p>Reference </p>\n\n<p><a href=\"https://stackoverflow.com/questions/48178213/how-to-make-numpy-treat-each-row-tensor-as-a-value\">How to make Numpy treat each row/tensor as a value</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/8317022/get-intersecting-rows-across-two-2d-numpy-arrays/8317403#8317403\">Get intersecting rows across two 2D numpy arrays</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "edited": false, "score": 0, "creation_date": 1533819272, "post_id": 51762213, "comment_id": 90493824, "body": "Ah, the data is floats."}], "tags": [], "owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1533803312, "creation_date": 1533803312, "answer_id": 51762213, "question_id": 51756544, "link": "https://stackoverflow.com/questions/51756544/comparing-two-numpy-arrays-x1-y1-and-x2-y2-to-check-whether-elements-inte/51762213#51762213", "title": "Comparing two numpy arrays: (x1, y1) and (x2, y2) to check whether elements intersect", "body": "<p>Use a <code>np.void</code> view.  This just looks at every row as a chunk of data instead of discrete values.</p>\n\n<pre><code>def vview(a):  #based on @jaime's answer: https://stackoverflow.com/a/16973510/4427777\n    return np.ascontiguousarray(a).view(np.dtype((np.void, a.dtype.itemsize * a.shape[1])))\n</code></pre>\n\n<p>Then you can just use <code>np.isin</code> just as you wanted to</p>\n\n<pre><code>a = numpy.isin(vview(secondcoords), vview(firstcoords))\n</code></pre>\n\n<p>Beware this is a comparison on the data level, so there is no way to deal with floating point inaccuracies if your actual data is floats.  On the other hand, it is extremely fast as it doesn't require restructuring or copying your data in any way.</p>\n"}], "owner": {"reputation": 1, "user_id": 8538962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c432bf4d319efa51f628863ee73f223?s=128&d=identicon&r=PG&f=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/8538962/hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1533803312, "creation_date": 1533767439, "last_edit_date": 1533773984, "question_id": 51756544, "link": "https://stackoverflow.com/questions/51756544/comparing-two-numpy-arrays-x1-y1-and-x2-y2-to-check-whether-elements-inte", "title": "Comparing two numpy arrays: (x1, y1) and (x2, y2) to check whether elements intersect", "body": "<p>I am having trouble trying to obtain a boolean array that indicates when an element in the second numpy array is also in the first array.</p>\n\n<p>The challenging part is that each array is made up of Latitude/Longitude pairs and I want to make sure that each Lat/Lon in secondcoords is also in firstcoords. So, this is like an intersection</p>\n\n<p>Here is what I have done thus far (with small example coordinates):</p>\n\n<pre><code>firstlat = [0, 1, 5, 5]\nfirstlon = [1, 0, 5, 4]\n\nsecondlat = [0, 2, 0, 5]\nsecondlon = [1, 2, 5, 5]\n\nfirstcoords = numpy.array((firstlat, firstlon))\nfirstcoords = numpy.transpose(firstcoords) # gets lat/lon pair\n\n\nsecondcoords = numpy.array((secondlat, secondlon))\nsecondcoords = numpy.transpose(secondcoords)\n\na = numpy.isin(secondcoords, firstcoords)\n\nWrong output:\n[[ True  True]\n[False False]\n[ True  True]\n[ True  True]]\n\nWanted output: [[True, False, False, True]]\n</code></pre>\n\n<p>Numpy isin flattens the arguments so although <code>firstcoords[0] = [0 1]</code>, it seems to be improperly comparing it \"element by element\". However, as I saw, each element comprises of both the <code>[lat lon]</code>; and the purpose to transpose it was to get the <code>lat / lons</code> in tuple or tuple-like form for easier comparison. So, how do I fix my approach or what other approaches would be feasible for this problem? </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 7907, "user_id": 9609447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FDax.jpg?s=128&g=1", "display_name": "harvpan", "link": "https://stackoverflow.com/users/9609447/harvpan"}, "edited": false, "score": 0, "creation_date": 1533767620, "post_id": 51756539, "comment_id": 90472614, "body": "Can you post the code you have been using? Specifically the code which yields encoding error?"}, {"owner": {"reputation": 13, "user_id": 1590716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89381e751367f5b1bd7c1a45af157fa9?s=128&d=identicon&r=PG", "display_name": "user1590716", "link": "https://stackoverflow.com/users/1590716/user1590716"}, "reply_to_user": {"reputation": 7907, "user_id": 9609447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FDax.jpg?s=128&g=1", "display_name": "harvpan", "link": "https://stackoverflow.com/users/9609447/harvpan"}, "edited": false, "score": 0, "creation_date": 1533768134, "post_id": 51756539, "comment_id": 90472731, "body": "I was using the basic read_csv function. pd.read_csv(&#39;author.xlsx&#39;,encoding = &#39;utf-8&#39;).Then I tried to read line by line"}, {"owner": {"reputation": 13, "user_id": 1590716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89381e751367f5b1bd7c1a45af157fa9?s=128&d=identicon&r=PG", "display_name": "user1590716", "link": "https://stackoverflow.com/users/1590716/user1590716"}, "reply_to_user": {"reputation": 7907, "user_id": 9609447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FDax.jpg?s=128&g=1", "display_name": "harvpan", "link": "https://stackoverflow.com/users/9609447/harvpan"}, "edited": false, "score": 0, "creation_date": 1533768259, "post_id": 51756539, "comment_id": 90472756, "body": "import csv import pdb with open(r&quot;author.xlsx&quot;, &#39;r&#39;,encoding=&#39;latin1&#39;) as f:     reader = csv.reader(f)     linenumber = 1     pdb.set_trace()     try:         for row in reader:"}, {"owner": {"reputation": 468, "user_id": 6552084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca645664512f61fa072aaf8409d272e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/6552084/michael-b"}, "edited": false, "score": 0, "creation_date": 1533776968, "post_id": 51756539, "comment_id": 90474504, "body": "I&#39;d recommend trying pd.read_excel, <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1533773172, "post_id": 51757170, "comment_id": 90473797, "body": "Please do not include images / links in answers, unless your answer also makes sense without the image / link."}], "tags": [], "owner": {"reputation": 26, "user_id": 2202739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45fd5b3b92fd852996ca92318b96a28?s=128&d=identicon&r=PG", "display_name": "Henry Cagnini", "link": "https://stackoverflow.com/users/2202739/henry-cagnini"}, "is_accepted": true, "score": 1, "last_activity_date": 1533772887, "creation_date": 1533772887, "answer_id": 51757170, "question_id": 51756539, "link": "https://stackoverflow.com/questions/51756539/create-a-pandas-dataframe-from-xlsx-file/51757170#51757170", "title": "create a pandas dataframe from xlsx file", "body": "<p>I tried the following:</p>\n\n<p>File <code>authors.xlsx</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QK3SU.png\" rel=\"nofollow noreferrer\">authors</a></p>\n\n<p>Note that I used LibreOffice Calc for editing the table, but I saved the document as .xlsx</p>\n\n<p>Then I used <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\">pandas.read_excel</a> for reading it:</p>\n\n<p><code>\nimport pandas as pd\ndf = pd.read_excel('authors.xlsx')\n</code></p>\n\n<p>You can then query the dataframe by columns, which correctly return the values:</p>\n\n<p>In: \n<code>\ndf['Name']\n</code></p>\n\n<p>Out:\n<code>\n0      Jia-Ren Lin\n1    Benjamin Izar\n2    Daniel Treacy\nName: Name, dtype: object\n</code></p>\n"}], "owner": {"reputation": 13, "user_id": 1590716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89381e751367f5b1bd7c1a45af157fa9?s=128&d=identicon&r=PG", "display_name": "user1590716", "link": "https://stackoverflow.com/users/1590716/user1590716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1735, "favorite_count": 0, "accepted_answer_id": 51757170, "answer_count": 1, "score": 0, "last_activity_date": 1533772887, "creation_date": 1533767418, "question_id": 51756539, "link": "https://stackoverflow.com/questions/51756539/create-a-pandas-dataframe-from-xlsx-file", "title": "create a pandas dataframe from xlsx file", "body": "<p>I have an xlsx file containing journals abstracts, author, title columns. I am trying to load a dataframe from the data for further analysis, but facing errors like encoding, memory buffer issue.\nThen I tried loading only author column but the errors are same.\nCan anybody suggest a solution, please?</p>\n\n<p>The sample dataset</p>\n\n<p>Authors</p>\n\n<p>{'Oliver Jonas': 'Massachusetts Institute of Technology, Cambridge, MA.'}</p>\n\n<p>{'Jia-Ren Lin': 'Harvard Medical School, Boston, MA;', 'Benjamin Izar': 'Dana-Farber Cancer Institute, Broad Institute of Harvard and MIT, Boston, MA;', 'Daniel Treacy': 'Dana-Farber Cancer Institute, Boston, MA;', 'Marc Wadsworth'}</p>\n"}, {"tags": ["python", "soap", "request", "zeep"], "owner": {"reputation": 11, "user_id": 10200114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ded711965716d46209f166f6bf1128?s=128&d=identicon&r=PG&f=1", "display_name": "geolobrad", "link": "https://stackoverflow.com/users/10200114/geolobrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533767229, "creation_date": 1533767229, "question_id": 51756518, "link": "https://stackoverflow.com/questions/51756518/create-a-request-with-zeep-that-includes-anyobject-types", "title": "Create a request with zeep that includes AnyObject types", "body": "<p>This is basically the same question as here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47019471/creating-any-object-with-python-zeep\">creating any object with python zeep</a></p>\n\n<p>I am working on a Python script that includes SOAP API calls.  Mostly these are working but I am having a problem with one.  I have SOAPUI example working, it looks like this:</p>\n\n<h2>soap ui that works</h2>\n\n<pre><code>&lt;!-- language: lang-xml --&gt;\n&lt;soapenv:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:urn=\"Urn:ApiService\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;urn:getAllOperationalDevices soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n         &lt;in0 xsi:type=\"api:ResourceIdentityInfo\" xmlns:api=\"http://api.common.configmgr.powerup.com\"&gt;\n          &lt;resourceKey xsi:type=\"soapenc:string\"&gt;0a053ebeddf9e53f53e125d364010000&lt;/resourceKey&gt;\n         &lt;resourceName xsi:type=\"soapenc:string\"&gt;Customer1&lt;/resourceName&gt;\n         &lt;resourceType xsi:type=\"soapenc:string\"&gt;NETWORK&lt;/resourceType&gt;\n         &lt;/in0&gt;\n          &lt;in1 xsi:type=\"fil:FilterInfo\" xmlns:fil=\"http://filter.api.common.configmgr.powerup.com\"&gt;\n               &lt;filterComponents&gt;\n                    &lt;FilterExpressionInfo xsi:type=\"ns:FilterExpressionInfo\" xmlns:ns=\"http://filter.api.common.configmgr.powerup.com\"&gt;\n                        &lt;attributeName&gt;managementIpAddress&lt;/attributeName&gt;\n                        &lt;value xsi:type=\"xsd:string\"&gt;10.10.10.10&lt;/value&gt; \n                        &lt;operator&gt;==&lt;/operator&gt;\n                    &lt;/FilterExpressionInfo&gt;\n                &lt;/filterComponents&gt;\n          &lt;/in1&gt;\n      &lt;/urn:getAllOperationalDevices&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>I see in the WSDL that the filter value is \n    AnyType: </p>\n\n<p>And I see in the zeep documentation that there is special handling for AnyType, with the example I copied in my code below:</p>\n\n<h2>zeep documentation example of AnyType</h2>\n\n<pre><code>client = Client('http://my-entrprisy-endpoint.com')\nvalue = xsd.AnyObject(xsd.String(), 'foobar')\nclient.service.submit_something(user_id=1, my_string=value)\n</code></pre>\n\n<p>My attempt to create this request in zeep looks like:</p>\n\n<h2>my python that returns error</h2>\n\n<pre><code>print(\"API: getAllOperationalDevices\")\nin0 = {'resourceKey':nkey,'resourceName':nname,'resourceType':ntype}\nvalue = xsd.AnyObject(xsd.String(),dmgmtip)\nfilter = {'attributeName':'managementIpAddress','value':value,'operator':'=='}\nfeInfo = {'FilterExpressionInfo' : [filter]}\nfilComp = {'filterComponents' : feInfo}\nresult = client.service.getAllOperationalDevices(in0,filComp)\n</code></pre>\n\n<p>I think this should be pretty close but I get the error below:</p>\n\n<h2>my python error</h2>\n\n<pre><code>File \"/opt/rh/rh-python36/root/usr/lib/python3.6/site-packages/zeep/xsd/elements/any.py\", line 181, in validate\nraise exceptions.ValidationError(\"Missing element for Any\")\n</code></pre>\n\n<p>My attempts to use zeep's client.service.get_element and client.service.get_type are failing because the namespace is not recognized, seems like it should be 'urn:getAllOperationalDevices' but evidently it is not.</p>\n\n<p>If anyone can give me a nudge in the right direction I'd appreciate it!</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 4, "creation_date": 1533767399, "post_id": 51756473, "comment_id": 90472547, "body": "Your last line of code will return a generator, it should not print anything from within the list.  Can you show how you are iterating through the list?  When I iterate through your generator, I get both the item, and the print statement."}, {"owner": {"reputation": 2916, "user_id": 1219585, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/DQ7AJ.jpg?s=128&g=1", "display_name": "Filip Malczak", "link": "https://stackoverflow.com/users/1219585/filip-malczak"}, "edited": false, "score": 1, "creation_date": 1533767584, "post_id": 51756473, "comment_id": 90472604, "body": "Yep, the anonymous user above is right. Generator is an example of lazy evaluation (google it, it&#39;s helpful in any language). It is not &quot;holding&quot; values like a list, but rather it is &quot;producing&quot; them when asked for next element. Even though it is backed by a list (clen_inputList), it still won&#39;t expose the value unless specifically asked to do that."}, {"owner": {"reputation": 429, "user_id": 4342940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001803429147/picture?type=large", "display_name": "juliusmh", "link": "https://stackoverflow.com/users/4342940/juliusmh"}, "edited": false, "score": 0, "creation_date": 1533770853, "post_id": 51756473, "comment_id": 90473341, "body": "I guess the proposed answer of @jbch solves your problem, you &quot;got a list in response&quot; in which you can find the values. Furthermore why you don&#39;t just return clean_inputlist in the first place? No need for a generator here if you call list() later on anyways."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533771007, "post_id": 51756473, "comment_id": 90473386, "body": "&quot;What I want really want here are 5 strings (from the list) that I can use elsewhere.&quot; ... you <i>can</i> use those elsewhere, by <i>using the list</i>. It&#39;s hard to understand exactly what you want."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 9179063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672b6c3912a337a3ff98e993747c8fa2?s=128&d=identicon&r=PG&f=1", "display_name": "jbch", "link": "https://stackoverflow.com/users/9179063/jbch"}, "is_accepted": false, "score": 1, "last_activity_date": 1533767793, "creation_date": 1533767793, "answer_id": 51756593, "question_id": 51756473, "link": "https://stackoverflow.com/questions/51756473/yielding-each-value-from-a-list/51756593#51756593", "title": "Yielding each value from a list", "body": "<p>When you use yield in a function, what you have is a generator function.</p>\n\n<p>Generator functions are a bit different from regular function; they do not run when you call them, instead they return a generator object, which is a type of iterator - something you can iterate over, for example in a for loop.</p>\n\n<p>To run the code in the function you need to actually iterate over the generator object.</p>\n\n<p>An easy way to do that is to call <code>list</code> on the generator object.</p>\n\n<p><code>list(singleListSplitter(inputList))</code></p>\n\n<p>But if you are not using the values yielded by your function, there is no reason to use <code>yield</code> in the first place, you can just remove it and you'll have a regular function which prints your results.</p>\n"}], "owner": {"reputation": 916, "user_id": 4608333, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8452dfe3fe013a2f97cb23379c47b730?s=128&d=identicon&r=PG&f=1", "display_name": "kurious", "link": "https://stackoverflow.com/users/4608333/kurious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533770229, "creation_date": 1533766961, "last_edit_date": 1533770229, "question_id": 51756473, "link": "https://stackoverflow.com/questions/51756473/yielding-each-value-from-a-list", "title": "Yielding each value from a list", "body": "<p>I need to assign each value of a list to a variable. I then call that variable from another program.</p>\n\n<p>This is my code:</p>\n\n<pre><code>inputList = \"\"\"[\"vanilla\",\"vanillas\",\"vanill\",\"vanil\",\"vanila\"]\"\"\"\n\ndef singleListSplitter(inputText):\n    try:\n        inputList = ast.literal_eval(inputText)\n        clean_inputList = [item.strip() for item in inputList]\n\n        #print clean_inputList\n\n        for item in clean_inputList:\n            yield item\n            print item\n\n    except Exception as e:\n        print \"Error: \",e\n\n\nsingleListSplitter(inputList)\n</code></pre>\n\n<p>On running the script, I don't see any output in the console with <code>yield</code>. The <code>print</code> works as expected. What do I need to change to get each individual value?</p>\n\n<p>UPDATE 1</p>\n\n<p>Based on the comments and responses, I tried:</p>\n\n<pre><code>value = list(singleListSplitter(inputList))\nprint value\n</code></pre>\n\n<p>and got a list in response. </p>\n\n<p>What I want really want here are 5 strings (from the list) that I can use elsewhere.</p>\n"}, {"tags": ["python", "python-3.x", "list", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "edited": false, "score": 0, "creation_date": 1533767540, "post_id": 51756487, "comment_id": 90472585, "body": "Nice answer, but are you sure that using lower and upper case letters for variables names is a good style?"}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 2291, "user_id": 8773597, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w9ZfPZR_pqg/AAAAAAAAAAI/AAAAAAAAAD4/UWy3eUzG4-o/photo.jpg?sz=128", "display_name": "Lev Zakharov", "link": "https://stackoverflow.com/users/8773597/lev-zakharov"}, "edited": false, "score": 0, "creation_date": 1533767679, "post_id": 51756487, "comment_id": 90472626, "body": "@LevZakharov Well that&#39;s entirely up to the OP, the message is still conveyed :)"}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 1, "last_activity_date": 1533767651, "last_edit_date": 1533767651, "creation_date": 1533767037, "answer_id": 51756487, "question_id": 51756444, "link": "https://stackoverflow.com/questions/51756444/how-to-calculate-the-difference-between-the-elements-in-three-lists-efficiently/51756487#51756487", "title": "How to calculate the difference between the elements in three lists efficiently?", "body": "<h3>With sets:</h3>\n\n<ul>\n<li>convert all lists to sets</li>\n<li>take the differences</li>\n<li>convert back to lists</li>\n</ul>\n\n<hr>\n\n<pre><code>A, B, C = map(set, (A, B, C))\na = A - B - C\nb = B - A - C\nc = C - A - B\nA, B, C = map(list, (a, b, c))\n</code></pre>\n\n<hr>\n\n<p>The (possible) problem with this is that the final lists are no longer ordered, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; A\n['nine']\n&gt;&gt;&gt; B\n['six', 'three']\n&gt;&gt;&gt; C\n['eleven']\n</code></pre>\n\n<hr>\n\n<p>This could be fixed by sorting by the original indicies, but then the time complexity will dramatically increase so the benefit of using sets is almost entirely lost.</p>\n\n<hr>\n\n<h3>With list-comps (for-loops):</h3>\n\n<ul>\n<li>convert lists to sets</li>\n<li>use list-comps to filter out elements from the original lists that are not in the other sets</li>\n</ul>\n\n<hr>\n\n<pre><code>sA, sB, sC = map(set, (A, B, C))\nA = [e for e in A if e not in sB and e not in sC]\nB = [e for e in B if e not in sA and e not in sC]\nC = [e for e in C if e not in sA and e not in sB]\n</code></pre>\n\n<p>which then produces a result that maintains the original order of the lists:</p>\n\n<pre><code>&gt;&gt;&gt; A\n['nine']\n&gt;&gt;&gt; B\n['three', 'six']\n&gt;&gt;&gt; C\n['eleven']\n</code></pre>\n\n<hr>\n\n<h3>Summary:</h3>\n\n<p>In conclusion, if you don't care about the order of the result, convert the lists to sets and then take their differences (and not bother converting back to lists). However, if you do care about order, then still convert the lists to sets (hash tables) as then the lookup will still be faster when filtering them (best case <code>O(1)</code> vs <code>O(n)</code> for lists).</p>\n"}, {"tags": [], "owner": {"reputation": 1471, "user_id": 3655463, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c567c095653589d1b50f37aeb72dbab1?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz Wojtczak", "link": "https://stackoverflow.com/users/3655463/mateusz-wojtczak"}, "is_accepted": false, "score": 1, "last_activity_date": 1533767624, "creation_date": 1533767624, "answer_id": 51756573, "question_id": 51756444, "link": "https://stackoverflow.com/questions/51756444/how-to-calculate-the-difference-between-the-elements-in-three-lists-efficiently/51756573#51756573", "title": "How to calculate the difference between the elements in three lists efficiently?", "body": "<p>You can iteratively go thru all lists elements adding current element to set if its not there, and if its there remove it from list. This way you will use additional up to O(n) space complexity, and O(n) time complexity but elements will remain in order.</p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1533773663, "last_edit_date": 1533773663, "creation_date": 1533768478, "answer_id": 51756676, "question_id": 51756444, "link": "https://stackoverflow.com/questions/51756444/how-to-calculate-the-difference-between-the-elements-in-three-lists-efficiently/51756676#51756676", "title": "How to calculate the difference between the elements in three lists efficiently?", "body": "<p><strong>Method 1</strong></p>\n\n<p>You can arbitrarily add more lists just by changing the first line, e.g. <code>my_lists = (A, B, C, D, E)</code>.</p>\n\n<pre><code>my_lists = (A, B, C)\nmy_sets = {n: set(my_list) for n, my_list in enumerate(my_lists)}\nmy_unique_lists = tuple(\n    list(my_sets[n].difference(*(my_sets[i] for i in range(len(my_sets)) if i != n))) \n    for n in range(len(my_sets)))\n\n&gt;&gt;&gt; my_unique_lists\n(['nine'], ['six', 'three'], ['eleven'])\n</code></pre>\n\n<p><code>my_sets</code> uses a dictionary comprehension to create sets for each of the lists.  The key to the dictionary is the lists order ranking in <code>my_lists</code>.</p>\n\n<p>Each set is then differenced with all other sets in the dictionary (barring itself) and then converted back to a list.</p>\n\n<p>The ordering of <code>my_unique_lists</code> corresponds to the ordering in <code>my_lists</code>.</p>\n\n<p><strong>Method 2</strong></p>\n\n<p>You can use <a href=\"https://docs.python.org/3/library/collections.html?highlight=counter#collections.Counter\" rel=\"nofollow noreferrer\"><code>Counter</code></a> to get all unique items (i.e. those that only appear in just one list and not the others), and then use a list comprehension to iterate through each list and select those that are unique.</p>\n\n<pre><code>from collections import Counter\n\nc = Counter([item for my_list in my_lists for item in set(my_list)])\nunique_items = tuple(item for item, count in c.items() if count == 1)\n\n&gt;&gt;&gt; tuple([item for item in my_list if item in unique_items] for my_list in my_lists)\n(['nine'], ['three', 'six'], ['eleven'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 3559143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed513686ef64da25064e007c69404e29?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3559143/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1533792935, "creation_date": 1533792935, "answer_id": 51759488, "question_id": 51756444, "link": "https://stackoverflow.com/questions/51756444/how-to-calculate-the-difference-between-the-elements-in-three-lists-efficiently/51759488#51759488", "title": "How to calculate the difference between the elements in three lists efficiently?", "body": "<p>You can also use a function define purposely to check the difference between three list. Here's an example of such a function:</p>\n\n<pre><code>def three_list_difference(l1, l2, l3):\n    lst = []\n    for i in l1:\n        if not(i in l2 or i in l3):\n            lst.append(i)\n    return lst\n</code></pre>\n\n<p>The function <code>three_list_difference</code> takes three list and checks if an element in the first list <code>l1</code> is also in either <code>l2</code> or <code>l3</code>. The deference can be determined by simple calling the function in the right configuration:</p>\n\n<pre><code>three_list_difference(A, B, C)\nthree_list_difference(B, A, C)\nthree_list_difference(C, B, A)\n</code></pre>\n\n<p>with outputs:</p>\n\n<pre><code>['nine']\n['three', 'six']\n['eleven']\n</code></pre>\n\n<p>Using a function is advantageous because the code is reusable. </p>\n"}], "owner": {"reputation": 742, "user_id": 9978457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r70xA.jpg?s=128&g=1", "display_name": "anon", "link": "https://stackoverflow.com/users/9978457/anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "accepted_answer_id": 51756487, "answer_count": 4, "score": 0, "last_activity_date": 1533792935, "creation_date": 1533766810, "last_edit_date": 1533770348, "question_id": 51756444, "link": "https://stackoverflow.com/questions/51756444/how-to-calculate-the-difference-between-the-elements-in-three-lists-efficiently", "title": "How to calculate the difference between the elements in three lists efficiently?", "body": "<p>I have 3 very large lists of strings, for visualization purposes consider:</p>\n\n<pre><code>A = ['one','four', 'nine']\n\nB = ['three','four','six','five']\n\nC = ['four','five','one','eleven']\n</code></pre>\n\n<p>How can I calculate the difference between this lists in order to get only the elements that are not repeating in the other lists. For example:</p>\n\n<pre><code>A = ['nine']\n\nB = ['three','six']\n\nC = ['eleven']\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "variables", "while-loop", "null"], "answers": [{"tags": [], "owner": {"reputation": 20844, "user_id": 29432, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e9895556b0dc6b3a37cc2540e09738b6?s=128&d=identicon&r=PG", "display_name": "PaulB", "link": "https://stackoverflow.com/users/29432/paulb"}, "is_accepted": false, "score": 0, "last_activity_date": 1533767713, "last_edit_date": 1533767713, "creation_date": 1533767395, "answer_id": 51756536, "question_id": 51756436, "link": "https://stackoverflow.com/questions/51756436/why-while-loop-doesnt-loop-after-first-run-while-loop-cant-read-new-value-of/51756536#51756536", "title": "Why while loop doesn&#39;t loop after first run? While loop can&#39;t read new value of variable", "body": "<p><a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow noreferrer\">input()</a> returns a string... You're checking for an int</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10195137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc43328e4277254afec25623c1f8a57?s=128&d=identicon&r=PG&f=1", "display_name": "RyanVem", "link": "https://stackoverflow.com/users/10195137/ryanvem"}, "edited": false, "score": 0, "creation_date": 1533832515, "post_id": 51756575, "comment_id": 90502781, "body": "Thank you so much for the help!"}], "tags": [], "owner": {"reputation": 130, "user_id": 8786679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94448167a4d38675ca935f40bb444e12?s=128&d=identicon&r=PG&f=1", "display_name": "hbgoddard", "link": "https://stackoverflow.com/users/8786679/hbgoddard"}, "is_accepted": false, "score": 0, "last_activity_date": 1533767638, "creation_date": 1533767638, "answer_id": 51756575, "question_id": 51756436, "link": "https://stackoverflow.com/questions/51756436/why-while-loop-doesnt-loop-after-first-run-while-loop-cant-read-new-value-of/51756575#51756575", "title": "Why while loop doesn&#39;t loop after first run? While loop can&#39;t read new value of variable", "body": "<p>The input() functions returns a string, and since all of your comparisons in the loop are numbers it will loop forever after the first time through. You should not be using <code>What_Calculate</code> as both an int and a string - my suggestion (trying to change as little of the code as possible) would be to change your comparisons from <code>if What_Calculate == 1:</code> to <code>if What_Calculate == \"1\":</code> and so on, then change your <code>turtle.numinput</code> call to ask for a string input instead of a number.</p>\n"}, {"comments": [{"owner": {"reputation": 167, "user_id": 7723054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KJNiHPvH0mU/AAAAAAAAAAI/AAAAAAAABrY/PO1Nf1Vqzs4/photo.jpg?sz=128", "display_name": "The Elemental of Destruction", "link": "https://stackoverflow.com/users/7723054/the-elemental-of-destruction"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1533771318, "post_id": 51756592, "comment_id": 90473445, "body": "@martineau true. Fixed."}, {"owner": {"reputation": 1, "user_id": 10195137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc43328e4277254afec25623c1f8a57?s=128&d=identicon&r=PG&f=1", "display_name": "RyanVem", "link": "https://stackoverflow.com/users/10195137/ryanvem"}, "edited": false, "score": 0, "creation_date": 1533832469, "post_id": 51756592, "comment_id": 90502763, "body": "Thank You! I really appreciate it."}], "tags": [], "owner": {"reputation": 167, "user_id": 7723054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KJNiHPvH0mU/AAAAAAAAAAI/AAAAAAAABrY/PO1Nf1Vqzs4/photo.jpg?sz=128", "display_name": "The Elemental of Destruction", "link": "https://stackoverflow.com/users/7723054/the-elemental-of-destruction"}, "is_accepted": false, "score": 1, "last_activity_date": 1533771285, "last_edit_date": 1533771285, "creation_date": 1533767787, "answer_id": 51756592, "question_id": 51756436, "link": "https://stackoverflow.com/questions/51756436/why-while-loop-doesnt-loop-after-first-run-while-loop-cant-read-new-value-of/51756592#51756592", "title": "Why while loop doesn&#39;t loop after first run? While loop can&#39;t read new value of variable", "body": "<p>The problem is that <code>What_Calculate = input(\"Click another number or click [q] to exit:\")</code> returns a string, which ALWAYS fails in the if/elif/elif/elif. Because it is a string and not a number, <code>\"1\" != 1</code>. The easiest way to do it that I could see is to add</p>\n\n<pre><code>try:\n    What_Calculate = int(What_Calculate)\nexcept ValueError:\n    #Some code to handle what happens if What_Calculate cannot be turned into an int.\n</code></pre>\n\n<p>to the beginning of the while loop. Having this contained in a try/except loop allows you to detect if the user input something that is not an integer and is not the letter 'q'.</p>\n"}], "owner": {"reputation": 1, "user_id": 10195137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc43328e4277254afec25623c1f8a57?s=128&d=identicon&r=PG&f=1", "display_name": "RyanVem", "link": "https://stackoverflow.com/users/10195137/ryanvem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533771285, "creation_date": 1533766724, "last_edit_date": 1533770767, "question_id": 51756436, "link": "https://stackoverflow.com/questions/51756436/why-while-loop-doesnt-loop-after-first-run-while-loop-cant-read-new-value-of", "title": "Why while loop doesn&#39;t loop after first run? While loop can&#39;t read new value of variable", "body": "<p>I'm new to Python, and wondering why this might of occurred.\nHere's the code:</p>\n\n<pre><code>import turtle\n\n\nWhat_Calculate = turtle.numinput(\"Area of Different Shapes Calculator\", \"Type 1 to calculate the area of a square, Type 2 to calulate the area of a rectangle, Type 3 to calculate the area if a triangle, Type 4 to calulate the area of a circle, or click [q] to quit:\")\n\nwhile What_Calculate !=\"q\":\n\n    if What_Calculate == 1:\n        Length_Square = eval(input(\"What is the length of the square?:\"))\n        Area_Squ = Length_Square * Length_Square\n        print(\"The area of the square is \", Area_Squ, \".\")\n        What_Calculate = input(\"Click another number or click [q] to exit:\")\n\n    elif What_Calculate == 2:\n        Length_1 = eval(input(\"What is the first length?:\"))\n        Length_2 = eval(input(\"What is the second length?:\"))\n        Area_Rec = Length_1 * Length_2\n        print(\"The area of the rectangle is \", Area_Rec, \".\")\n        What_Calculate = input(\"Click another number or click [q] to exit:\")\n\n    elif What_Calculate == 3:\n        Length = eval(input(\"What is the length?:\"))\n        Height = eval(input(\"What is the height?:\"))\n        Area = Length * Height / 2\n        print(\"The area of the triangle is\", Area)\n        What_Calculate = input(\"Click another number or click [q] to exit:\")\n\n    elif What_Calculate == 4:\n        Diameter = eval(input(\"What's the diameter of the circle?:\"))\n        Radius = Diameter / 2\n        Pie = 3.14\n        Area = Pie * Radius * Radius\n        print(\"The area of the circle is \", Area, \".\")\n        What_Calculate = input(\"Click another number or click [q] to exit:\")\n</code></pre>\n\n<p>Here's the problem:\nAfter the user inputs which calculator they want to use, the code works until after the answer is given.\nAt <code>What_Calculate = input(\"Click another number or click [q] to exit:\")</code>, typing <code>q</code> to exit works perfectly, but <code>1</code>-<code>4</code> doesn't work at all. If I'm not wrong shouldn't the <code>while</code> loop in this scenario, loop until <code>What_Calculate</code> is null?</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1533803040, "post_id": 51756391, "comment_id": 90483186, "body": "That is not Python code. Please show the actual data structure."}, {"owner": {"reputation": 378, "user_id": 2945234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a753b7e604c0a399407c2d6b1877872?s=128&d=identicon&r=PG&f=1", "display_name": "user2945234", "link": "https://stackoverflow.com/users/2945234/user2945234"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1533817390, "post_id": 51756391, "comment_id": 90492404, "body": "If I had python code I would be done.. What python code would trans from the data from one format to the other. My goal is to insert this into a sqlite table as a point of reference. The strings can vary from 1 to n on each record. So in the end there will be n records for each original row one for each string."}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1533818823, "post_id": 51756391, "comment_id": 90493478, "body": "I doubt that all the stuff is part of single, large string (as shown). I want to know the Python data structure you&#39;re using."}, {"owner": {"reputation": 378, "user_id": 2945234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a753b7e604c0a399407c2d6b1877872?s=128&d=identicon&r=PG&f=1", "display_name": "user2945234", "link": "https://stackoverflow.com/users/2945234/user2945234"}, "reply_to_user": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "edited": false, "score": 0, "creation_date": 1533826047, "post_id": 51756391, "comment_id": 90498619, "body": "They are data from VCFReader in pyvcf they are the Chromn,pos,id and alt columns where alt can vary.."}], "answers": [{"tags": [], "owner": {"reputation": 378, "user_id": 2945234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a753b7e604c0a399407c2d6b1877872?s=128&d=identicon&r=PG&f=1", "display_name": "user2945234", "link": "https://stackoverflow.com/users/2945234/user2945234"}, "is_accepted": false, "score": 0, "last_activity_date": 1533830490, "creation_date": 1533830490, "answer_id": 51771503, "question_id": 51756391, "link": "https://stackoverflow.com/questions/51756391/how-to-flatten-data-in-python-to-load-into-sql-db/51771503#51771503", "title": "How to flatten data in python to load into sql db", "body": "<p>started working with scikit-allel. This allowed me to read the vcf directly into a dataframe(df) where I could specify the number # of ALTs. I melted the df by the keys I wanted and now can load the data directly from the df into sqlite.</p>\n"}], "owner": {"reputation": 378, "user_id": 2945234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a753b7e604c0a399407c2d6b1877872?s=128&d=identicon&r=PG&f=1", "display_name": "user2945234", "link": "https://stackoverflow.com/users/2945234/user2945234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533830490, "creation_date": 1533766476, "question_id": 51756391, "link": "https://stackoverflow.com/questions/51756391/how-to-flatten-data-in-python-to-load-into-sql-db", "title": "How to flatten data in python to load into sql db", "body": "<p>I have data in python that looks like the following (there are sometimes many entries of these long strings) I want to load it into a single database table with three fields:</p>\n\n<pre><code>2 63668772 Human_STR_738862 AAAAAAAAAAAA AAAAAAAAAAAAAA\n2 63675572 Human_STR_738864 ACACACACACACACACACACACACACAC\nACACACACACACACACACACACACACACAC\n</code></pre>\n\n<p>...</p>\n\n<p>I want it to look like this to import into sqlite3</p>\n\n<pre><code>2 63668772 Human_STR_738862 AAAAAAAAAAAA\n2 63675572 Human_STR_738864 ACACACACACACACACACACACACACAC\n2 63668772 Human_STR_738862 AAAAAAAAAAAAAA\n2 63675572 Human_STR_738864 ACACACACACACACACACACACACACACAC\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 2, "last_activity_date": 1533766880, "creation_date": 1533766880, "answer_id": 51756459, "question_id": 51756389, "link": "https://stackoverflow.com/questions/51756389/pandas-group-weighted-average-how-to-control-the-name-of-the-output-column/51756459#51756459", "title": "Pandas: Group weighted average, how to control the name of the output column?", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.rename.html\" rel=\"nofollow noreferrer\"><code>pd.Series.rename</code></a> and <code>reset_index</code>:</p>\n\n<pre><code>df = pd.DataFrame({'a': [1,1,2,2,3,3], 'b': [1,2,3,4,5,6], 'c': [1,4,3,2,1,6]})\ndf.groupby(['a', 'b']).c.mean()\n\na  b\n1  1    1\n   2    4\n2  3    3\n   4    2\n3  5    1\n   6    6\n</code></pre>\n\n<p>Using <code>rename</code></p>\n\n<pre><code>df.groupby(['a', 'b']).c.mean().rename('hello').reset_index()\n\n   a  b  hello\n0  1  1      1\n1  1  2      4\n2  2  3      3\n3  2  4      2\n4  3  5      1\n5  3  6      6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1533767082, "post_id": 51756479, "comment_id": 90472467, "body": "Did not know that series&#39; <code>reset_index</code> let you name it, +1"}, {"owner": {"reputation": 7907, "user_id": 9609447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FDax.jpg?s=128&g=1", "display_name": "harvpan", "link": "https://stackoverflow.com/users/9609447/harvpan"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1533767189, "post_id": 51756479, "comment_id": 90472496, "body": "Glad, it helped you. @user3483203"}], "tags": [], "owner": {"reputation": 7907, "user_id": 9609447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FDax.jpg?s=128&g=1", "display_name": "harvpan", "link": "https://stackoverflow.com/users/9609447/harvpan"}, "is_accepted": true, "score": 3, "last_activity_date": 1533767134, "last_edit_date": 1533767134, "creation_date": 1533767005, "answer_id": 51756479, "question_id": 51756389, "link": "https://stackoverflow.com/questions/51756389/pandas-group-weighted-average-how-to-control-the-name-of-the-output-column/51756479#51756479", "title": "Pandas: Group weighted average, how to control the name of the output column?", "body": "<p>using setup from <a href=\"https://stackoverflow.com/users/3483203/user3483203\">@user3483203</a>'s answer, you can use <strong><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.reset_index.html\" rel=\"nofollow noreferrer\">reset_index()</a></strong> with <code>name</code>.</p>\n\n<pre><code>df = pd.DataFrame({'a': [1,1,2,2,3,3], 'b': [1,2,3,4,5,6], 'c': [1,4,3,2,1,6]})\ndf.groupby(['a', 'b']).c.mean().reset_index(name='avg')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   a    b   avg\n0   1   1   1\n1   1   2   4\n2   2   3   3\n3   2   4   2\n4   3   5   1\n5   3   6   6\n</code></pre>\n"}], "owner": {"reputation": 2285, "user_id": 1761521, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3bf9cdee52067928d3f9aa20b18a27b6?s=128&d=identicon&r=PG", "display_name": "spitfiredd", "link": "https://stackoverflow.com/users/1761521/spitfiredd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 51756479, "answer_count": 2, "score": 2, "last_activity_date": 1533767134, "creation_date": 1533766464, "question_id": 51756389, "link": "https://stackoverflow.com/questions/51756389/pandas-group-weighted-average-how-to-control-the-name-of-the-output-column", "title": "Pandas: Group weighted average, how to control the name of the output column?", "body": "<p>I am using a custom function for a weighted average.</p>\n\n<p>Like,</p>\n\n<p><code>df.groupby(['group1', 'group2']).apply(weighted_average, 'val', 'wt')</code></p>\n\n<p>The returning series is something like,</p>\n\n<pre><code>group1                group2\nfoo                   a              8.085493\n                      b             45.610411\n                      c            161.959249\n                      d             85.923614\n                      e             30.953251\nAbar                  a             24.000000\n                      b             11.000000\n                      c             18.723185\n</code></pre>\n\n<p>However, the weighted average column has no name. How do I explicitly name this column?</p>\n\n<p>I don't want to rely on the fact that the column is assigned the name <code>0</code> because that could cause failure down the line.</p>\n"}, {"tags": ["python", "azure", "events", "triggers", "virtual-machine"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8953922, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-BLgQrsYPAF8/AAAAAAAAAAI/AAAAAAAAAGE/wo84B8X6e3U/photo.jpg?sz=128", "display_name": "Ted", "link": "https://stackoverflow.com/users/8953922/ted"}, "edited": false, "score": 1, "creation_date": 1533787475, "post_id": 51756600, "comment_id": 90476522, "body": "Thanks for opening me up to this service. I took a look briefly and it seemed overkill for what I&quot;m trying to do.  This led me to looking into &quot;Alerts&quot; and &quot;Action Group&quot;, which does exactly what I need.   I set up an Alert for VM startup/shutdown and attach it to a webhook which POST to a URL. Very neat."}], "tags": [], "owner": {"reputation": 749, "user_id": 9800292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bda0544bbd230cc28489563aa70065ea?s=128&d=identicon&r=PG&f=1", "display_name": "Pete Philters", "link": "https://stackoverflow.com/users/9800292/pete-philters"}, "is_accepted": false, "score": 0, "last_activity_date": 1533767847, "creation_date": 1533767847, "answer_id": 51756600, "question_id": 51756364, "link": "https://stackoverflow.com/questions/51756364/azure-vm-how-to-send-start-stopped-restart-events-to-webapp/51756600#51756600", "title": "Azure VM: How to send Start/Stopped/Restart Events to Webapp", "body": "<p>You don't need to write code to achieve this you could use EventGrids in Azure linked to a logic app which would write straight into your database. Here is an example of how to set up an <a href=\"https://docs.microsoft.com/en-us/azure/event-grid/monitor-virtual-machine-changes-event-grid-logic-app\" rel=\"nofollow noreferrer\">EventGrid to send emails when linked to a logic app</a>. T<a href=\"https://docs.microsoft.com/en-us/azure/connectors/connectors-create-api-sqlazure\" rel=\"nofollow noreferrer\">his is an example in how to connect a Logic App to a database</a>. The combination of these two examples will allow you to use Azure native technologies to achieve your goal. </p>\n\n<p>Alternatively instead of writing straight to the database you could use the logic app to POST to your website using one of the connectors.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 69, "user_id": 8953922, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-BLgQrsYPAF8/AAAAAAAAAAI/AAAAAAAAAGE/wo84B8X6e3U/photo.jpg?sz=128", "display_name": "Ted", "link": "https://stackoverflow.com/users/8953922/ted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533767847, "creation_date": 1533766320, "question_id": 51756364, "link": "https://stackoverflow.com/questions/51756364/azure-vm-how-to-send-start-stopped-restart-events-to-webapp", "title": "Azure VM: How to send Start/Stopped/Restart Events to Webapp", "body": "<p>I have a Webapp that writes the status of Azure VMs in a DB. I want to be able to have the DB update automatically every time a VM is started/stopped/restarted. How do I set up a trigger that POST to my Webapp when the VM is started/stopped/restarted?   I'm using the Azure Python SDK.  Thank you.</p>\n"}, {"tags": ["python", "flask", "flask-wtforms"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 10193340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/irvFY.jpg?s=128&g=1", "display_name": "JKimbrough", "link": "https://stackoverflow.com/users/10193340/jkimbrough"}, "is_accepted": true, "score": 0, "last_activity_date": 1533766719, "creation_date": 1533766719, "answer_id": 51756434, "question_id": 51756351, "link": "https://stackoverflow.com/questions/51756351/how-to-get-user-selected-value-from-selectfield-in-python-flask-wtf/51756434#51756434", "title": "How to get user selected value from SelectField in python Flask WTF?", "body": "<p>Have you tried transforming the 'choices' into a dict? You can then get the value for the  key form data.  Maybe something like this (for your \"status\" <code>SelectField</code>):<br> <code>value = dict(form.status.choices).get(form.status.data)</code></p>\n"}, {"tags": [], "owner": {"reputation": 2891, "user_id": 7233155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97ca17a34b5f7b188c1bcb230a4701e2?s=128&d=identicon&r=PG&f=1", "display_name": "Attack68", "link": "https://stackoverflow.com/users/7233155/attack68"}, "is_accepted": false, "score": 1, "last_activity_date": 1533881390, "creation_date": 1533881390, "answer_id": 51780042, "question_id": 51756351, "link": "https://stackoverflow.com/questions/51756351/how-to-get-user-selected-value-from-selectfield-in-python-flask-wtf/51780042#51780042", "title": "How to get user selected value from SelectField in python Flask WTF?", "body": "<pre><code>@app.route(\"/\")\n@app.route(\"/home\", methods=['GET', 'POST'])\ndef home():\n    forms = SearchForm()\n    if request.method == 'POST':\n        print(forms.field_name.data) # &lt;- prints to console.\n        # to print to web convert to variable and render with jinja2\n        # return render_template('display.html', field_name=forms.field_name.data)\n    return render_template('home.html', title='Home', forms=forms)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 10872506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210448366924086/picture?type=large", "display_name": "Daniel Mandelblat", "link": "https://stackoverflow.com/users/10872506/daniel-mandelblat"}, "is_accepted": false, "score": 0, "last_activity_date": 1576783781, "creation_date": 1576783781, "answer_id": 59415834, "question_id": 51756351, "link": "https://stackoverflow.com/questions/51756351/how-to-get-user-selected-value-from-selectfield-in-python-flask-wtf/59415834#59415834", "title": "How to get user selected value from SelectField in python Flask WTF?", "body": "<p>I sure that you was find your solution, but for next generation. \nYou need insert in the select tag the name of the value, and not in options tags.</p>\n\n<p>example:</p>\n\n<pre><code>&lt;select name=\"sServer\"&gt;\n\n  {% for server in servers %}\n  &lt;option  value=\"{{server}}\"&gt;{{server}}&lt;/option&gt;\n  {% endfor %}\n\n&lt;/select&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6057088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/055efcef8b866b2af05012ee0f5ded0b?s=128&d=identicon&r=PG&f=1", "display_name": "ssk343k", "link": "https://stackoverflow.com/users/6057088/ssk343k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4251, "favorite_count": 1, "accepted_answer_id": 51756434, "answer_count": 3, "score": 2, "last_activity_date": 1576783781, "creation_date": 1533766226, "question_id": 51756351, "link": "https://stackoverflow.com/questions/51756351/how-to-get-user-selected-value-from-selectfield-in-python-flask-wtf", "title": "How to get user selected value from SelectField in python Flask WTF?", "body": "<p>Here is the code snippet I have written</p>\n\n<p><em>MainPage.py</em></p>\n\n<pre><code>from flask import Flask, render_template,url_for,request, redirect\nfrom form import SearchForm\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secretkey1234'\n\n\n@app.route(\"/\")\n@app.route(\"/home\", methods=['GET', 'POST'])\ndef home():\n    forms = SearchForm()\n    return render_template('home.html', title='Home', forms=forms)\n\n@app.route(\"/about\")\ndef about():\n    return render_template('about.html', title='About')\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p><em>form.py</em></p>\n\n<pre><code>from flask_wtf import FlaskForm\nimport Get_Test_Suite\nfrom wtforms.fields import SelectField, SubmitField\nfrom wtforms.fields.html5 import DateField\nfrom wtforms.validators import DataRequired\n\n\nclass SearchForm(FlaskForm):\n    test_suite_list = Get_Test_Suite.get_test_suite()\n    suite_list = []\n    for i in test_suite_list:\n        suite_list.append((i, i))\n    test_suite_selected = SelectField('Test Suite Name', choices=suite_list)\n\n    test_module_list = Get_Test_Suite.get_module_name()\n    module_list = []\n    for j in test_module_list:\n        module_list.append((j, j))\n    test_module_selected = SelectField('Test Module Name', choices=module_list,validators=[DataRequired()])\n    date_selected = DateField('Date', format='%m-%d-%Y')\n    status = SelectField('Status', choices=[('Active', 'Active'), ('Closed', 'Closed')])\n    submit = SubmitField('Submit')\n</code></pre>\n\n<p><em>home.html</em></p>\n\n<pre><code>{% extends \"layouts.html\" %}\n{% block content %}\n   &lt;div class = \"content-section\"&gt;\n       &lt;form method=\"POST\" action=\"\"&gt;\n           {{forms.hidden_tag()}}\n           &lt;fieldset class=\"form-group\"&gt;\n               &lt;legend class =\"border-bottom mb-4\"&gt;\n                   &lt;center&gt;SEARCH TEST FAILURE STATUS&lt;/center&gt;\n               &lt;/legend&gt;\n               &lt;div class=\"form-group\"&gt;\n                    {{forms.test_suite_selected.label(class=\"form-control-label\")}}\n                    {{forms.test_suite_selected(class=\"form-control form-control-lg\")}}\n               &lt;/div&gt;\n               &lt;div class=\"form-group\"&gt;\n                    {{forms.test_module_selected.label(class=\"form-control-label\")}}\n                    {{forms.test_module_selected(class=\"form-control form-control-lg\")}}\n               &lt;/div&gt;\n               &lt;div class=\"form-group\"&gt;\n                    {{forms.date_selected.label(class=\"form-control-label\")}}\n                    {{forms.date_selected(class=\"form-control form-control-lg\")}}\n               &lt;/div&gt;\n               &lt;div class=\"form-group\"&gt;\n                    {{forms.status.label(class=\"form-control-label\")}}\n                    {{forms.status(class=\"form-control form-control-lg\")}}\n               &lt;/div&gt;\n           &lt;/fieldset&gt;\n            &lt;div class=\"form-group\"&gt;\n                    {{forms.submit(class=\"btn btn-outline-info\")}}\n            &lt;/div&gt;\n       &lt;/form&gt;\n   &lt;/div&gt;\n{% endblock content %}\n</code></pre>\n\n<p>I am creating many drop down lists in home.html\nHow can I get the data that the user selects from each of the drop down list and print it ? I am trying to create a user friendly web application where the user will select the values from a drop down list and the application will fetch the data accordingly from the database.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533772450, "post_id": 51756833, "comment_id": 90473672, "body": "What is <code>h.shape</code>?"}, {"owner": {"reputation": 8295, "user_id": 1699075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a9c6b631a073149ec7200f8cd6378b?s=128&d=identicon&r=PG&f=1", "display_name": "thushv89", "link": "https://stackoverflow.com/users/1699075/thushv89"}, "edited": false, "score": 0, "creation_date": 1533772651, "post_id": 51756833, "comment_id": 90473710, "body": "h is the output you get for a single input of the unrolled input sequence. So <code>h.shape = [batch_size, h_dim]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533774497, "post_id": 51756833, "comment_id": 90474058, "body": "Is <code>x[ui]</code> the current index of the sequence? I&#39;m getting an error getting an index of a tensor if it is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533775768, "post_id": 51756833, "comment_id": 90474292, "body": "More Detail: When I run:         <code>rnn_cell = rnn.BasicLSTMCell(hidden_cells)         h = tf.zeros((1, hidden_cells))          for i in range(sequence_length-1):             h = rnn_cell(tf.reshape(self.sequence[i],(1, vocab_size)), h)             self.outputs.append(h)                  logits = tf.layers.dense(tf.concat(outputs), 10)</code>  I get TypeError: Tensor objects are not iterable when eager execution is not enabled. To iterate over this tensor use tf.map_fn. But when I replace BasicLSTMCell with BasicRNNCell I get ValueError: Shape must be rank 2 but is rank 3 for ..."}, {"owner": {"reputation": 8295, "user_id": 1699075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a9c6b631a073149ec7200f8cd6378b?s=128&d=identicon&r=PG&f=1", "display_name": "thushv89", "link": "https://stackoverflow.com/users/1699075/thushv89"}, "edited": false, "score": 0, "creation_date": 1533776006, "post_id": 51756833, "comment_id": 90474329, "body": "What does your data looks like, the data for the example I put up, I was assuming a list of <code>num_unroll</code> inputs and each input is a tensor of size <code>[batch_size, num_features]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533776385, "post_id": 51756833, "comment_id": 90474394, "body": "I have a list of strings: <code>[&#39;Hello &#39;,&#39;Hello &#39;,&#39;World &#39;,&#39;World &#39;, &#39;!&#39;]</code> Which I one-hot encode into <code>[[1, 0, 0], [1, 0, 0], [0, 1, 0], [0, 1, 0], [0, 0, 1]]</code> Which is passed into the placeholder <code>lstm.sequence</code>"}, {"owner": {"reputation": 8295, "user_id": 1699075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a9c6b631a073149ec7200f8cd6378b?s=128&d=identicon&r=PG&f=1", "display_name": "thushv89", "link": "https://stackoverflow.com/users/1699075/thushv89"}, "edited": false, "score": 0, "creation_date": 1533776746, "post_id": 51756833, "comment_id": 90474464, "body": "You need to have a list of placeholders (x) instead of one. The list needs <code>num_unroll</code> placeholders. Then you can get the i th placeholder with x[i]. At every step of unroll, you need to fill in all the placeholder in that list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533777168, "post_id": 51756833, "comment_id": 90474542, "body": "EDIT: I&#39;m confused about what would go in that list of placeholders"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533840240, "post_id": 51756833, "comment_id": 90506490, "body": "I&#39;m still running into an error, I&#39;ve updated my question."}, {"owner": {"reputation": 8295, "user_id": 1699075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a9c6b631a073149ec7200f8cd6378b?s=128&d=identicon&r=PG&f=1", "display_name": "thushv89", "link": "https://stackoverflow.com/users/1699075/thushv89"}, "edited": false, "score": 0, "creation_date": 1533854821, "post_id": 51756833, "comment_id": 90511843, "body": "This is because, LSTMCell returns two elements; output and the state. This line (<code>h = rnn_cell(current_sequence, h)</code>) need to change to <code>out, state = rnn_cell(current_sequence, state)</code> and then do <code>outputs.append(out)</code> I&#39;ve updated the code as well."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "edited": false, "score": 0, "creation_date": 1533905435, "post_id": 51756833, "comment_id": 90530957, "body": "I&#39;ve changed <code>h = tf.zeros((batch_size, hidden_cells))</code> to state = tf.zeros((batch_size, hidden_cells)) and <code>h = rnn_cell(current_sequence, h) to </code>out, state = rnn_cell(current_sequence, state)`, but I still get the same error about iterating over a tensor."}], "tags": [], "owner": {"reputation": 8295, "user_id": 1699075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a9c6b631a073149ec7200f8cd6378b?s=128&d=identicon&r=PG&f=1", "display_name": "thushv89", "link": "https://stackoverflow.com/users/1699075/thushv89"}, "is_accepted": false, "score": 0, "last_activity_date": 1533854892, "last_edit_date": 1533854892, "creation_date": 1533769703, "answer_id": 51756833, "question_id": 51756330, "link": "https://stackoverflow.com/questions/51756330/have-tf-layers-dense-connected-to-different-inputs-or-have-tf-train-optimizer-op/51756833#51756833", "title": "Have tf.layers.dense connected to different inputs OR have tf.train.optimizer optimize tensors?", "body": "<p>So there's a standard way of approaching this issue (this is the best approach I know from my knowledge) Instead of trying to create a new list of dense layers. Do the following. Before that lets assume your hidden layer size is <code>h_dim</code> and number of steps to unroll is <code>num_unroll</code> and batch size <code>batch_size</code></p>\n\n<ol>\n<li>In a for loop, you calculate the output of the RNNCell for each unrolled input</li>\n</ol>\n\n<p><code>h = tf.zeros(...)\noutputs= []\nfor ui in range(num_unroll):\n    out, state = rnn_cell(x[ui],state)\n    outputs.append(out)</code></p>\n\n<ol start=\"2\">\n<li><p>Now concat all the <code>outputs</code> to a single tensor of size, <code>[batch_size*num_unroll, h_dim]</code></p></li>\n<li><p>Send this through a single dense layer of size <code>[h_dim, num_classes]</code></p></li>\n</ol>\n\n<p><code>logits = tf.matmul(tf.concat(outputs,...), w) + b\npredictions = tf.nn.softmax(logits)</code></p>\n\n<p>You have the logits for all the unrolled inputs now. Now it's just a matter of reshaping the tensor to a <code>[batch_size, num_unroll, num_classes]</code> tensor.</p>\n\n<p><strong>Edited (Feeding in Data)</strong>: The data will be presented in the form of a list of <code>num_unroll</code> many placeholders. So,</p>\n\n<p><code>x = [tf.placeholder(shape=[batch_size,3]...) for ui in range(num_unroll)]</code></p>\n\n<p>Now say you have data like below,</p>\n\n<p><code>Hello world bye\nBye hello world</code></p>\n\n<p>Here batch size is 2, sequence length is 3. Once converted to one hot encoding, you're data looks like below (shape <code>[time_steps, batch_size, 3]</code>.</p>\n\n<p><code>\ndata = [ [ [1,0,0], [0,0,1] ], [ [0,1,0], [1,0,0] ], [ [0,0,1], [0,1,0] ] ]\n</code></p>\n\n<p>Now feed data in, in the following format.</p>\n\n<p><code>feed_dict = {}\nfor ui in range(3):\n    feed_dict[x[ui]] = data[ui]</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8215383"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534078044, "creation_date": 1533766131, "last_edit_date": 1534078044, "question_id": 51756330, "link": "https://stackoverflow.com/questions/51756330/have-tf-layers-dense-connected-to-different-inputs-or-have-tf-train-optimizer-op", "title": "Have tf.layers.dense connected to different inputs OR have tf.train.optimizer optimize tensors?", "body": "<p>I am new to tensorflow and more advanced machine learning, so I tried to get a better grasp of RNNs by implementing one by hand instead of using tf.contrib.rnn.RNNCell.  My first problem was that I needed to unroll the net for backpropogation so I looped through my sequence and I needed to keep consistent weights and biases, so I couldn't reinitialize a dense layer with tf.layers.dense each time, but I also needed to have my layer connected to the current timestep of my sequence and I couldn't find a way to change what a dense layer was connected to.  To work around this I tried to implement my own version of tf.layers.dense, and this worked fine until I got the error: NotImplementedError(\"Trying to update a Tensor \" ...) when I tried to optimize my custom dense layers.</p>\n\n<p>My code:</p>\n\n<pre><code>import tensorflow as tf\nimport numpy as np\nfrom tensorflow.contrib import rnn\nimport random\n\n# -----------------\n# WORD PARAMETERS\n# -----------------\n\ntarget_string = ['Hello ','Hello ','World ','World ', '!']\nnumber_input_words = 1\n\n# --------------------------\n# TRAINING HYPERPARAMETERS\n# --------------------------\n\ntraining_steps = 4000\nbatch_size = 9\nlearning_rate = 0.01\ndisplay_step = 150\nhidden_cells = 20\n\n# ----------------------\n# PREPARE DATA AS DICT\n# ----------------------\n\n# TODO AUTOMATICALLY CREATE DICT\ndictionary = {'Hello ': 0, 'World ': 1, '!': 2}\nreverse_dictionary = dict(zip(dictionary.values(), dictionary.keys()))\nvocab_size = len(dictionary)\n# ------------\n# LSTM MODEL\n# ------------\n\nclass LSTM:\n\n    def __init__(self, sequence_length, number_input_words, hidden_cells,     mem_size_x, mem_size_y, learning_rate):\n\n    self.sequence = tf.placeholder(tf.float32, (sequence_length, vocab_size), 'sequence')\n\n    self.memory = tf.zeros([mem_size_x, mem_size_y])\n\n    # sequence_length = self.sequence.shape[0]\n    units = [vocab_size, 5,4,2,6, vocab_size]\n    weights = [tf.random_uniform((units[i-1], units[i])) for i in range(len(units))[1:]]\n    biases = [tf.random_uniform((1, units[i])) for i in range(len(units))[1:]]\n\n    self.total_loss = 0\n    self.outputs = []\n\n    for word in range(sequence_length-1):\n        sequence_w = tf.reshape(self.sequence[word], [1, vocab_size])\n        layers = []\n        for i in range(len(weights)):\n            if i == 0:\n                layers.append(tf.matmul(sequence_w, weights[0]) + biases[0])\n            else:\n                layers.append(tf.matmul(layers[i-1], weights[i]) + biases[i])\n        percentages = tf.nn.softmax(logits=layers[-1])\n        self.outputs.append(percentages)\n        self.total_loss += tf.losses.absolute_difference(tf.reshape(self.sequence[word+1], (1, vocab_size)), tf.reshape(percentages, (1, vocab_size)))\n\n    optimizer = tf.train.AdamOptimizer(learning_rate=learning_rate)\n    self.train_operation = optimizer.minimize(loss=self.total_loss, var_list=weights+biases, global_step=tf.train.get_global_step())\n\n\n\n\nlstm = LSTM(len(target_string), number_input_words, hidden_cells, 10, 5, learning_rate)\n\n# ---------------\n# START SESSION\n# ---------------\nwith tf.Session() as sess:\n    sess.run(tf.local_variables_initializer())\n    sess.run(tf.global_variables_initializer())\n\n   sequence = []\n\n    for i in range(len(target_string)):\n        x = [0]*vocab_size\n        x[dictionary[target_string[i]]] = 1\n        sequence.append(x)\n        print(sequence)\n        for x in range(1000):\n            sess.run(lstm.train_operation, feed_dict={lstm.sequence: sequence})\n        prediction, loss = sess.run((lstm.outputs, lstm.total_loss), feed_dict=    {lstm.sequence: sequence})\n        print(prediction)\n        print(loss)\n</code></pre>\n\n<p>Any answers that tell me either how to either connect tf.layers.dense to different variables each time or tell me how to get around my NotImplementedError would be greatly appreciated.  I apologize if this question is lengthy or just badly worded, i'm still new to stackoverflow.</p>\n\n<p>EDIT:</p>\n\n<p>I've updated the LSTM class part of my code to:\n(Inside def <strong>init</strong>)</p>\n\n<pre><code>    self.sequence = [tf.placeholder(tf.float32, (batch_size, vocab_size), 'sequence') for _ in range(sequence_length-1)]\n\n    self.total_loss = 0\n    self.outputs = []\n\n    rnn_cell = rnn.BasicLSTMCell(hidden_cells)\n    h = tf.zeros((batch_size, hidden_cells))\n\n    for i in range(sequence_length-1):\n        current_sequence = self.sequence[i]\n        h = rnn_cell(current_sequence, h)\n        self.outputs.append(h)\n</code></pre>\n\n<p>But I still get an error on the line: <code>h = rnn_cell(current_sequence, h)</code> about not being able to iterate over tensors.  I'm not trying to iterate over any tensors, and if I am I don't mean to.</p>\n"}, {"tags": ["python", "python-3.x", "class", "nameerror"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1533766138, "post_id": 51756290, "comment_id": 90472185, "body": "To call a method from another method, you need to use <code>self</code>.  Instead of <code>list_files_to_read(show=False, perm=True)</code> do <code>self.list_files_to_read(show=False, perm=True)</code>."}, {"owner": {"reputation": 59, "user_id": 2757598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4d90f2761ebd223dacd3353453263c?s=128&d=identicon&r=PG&f=1", "display_name": "user2757598", "link": "https://stackoverflow.com/users/2757598/user2757598"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533766768, "post_id": 51756290, "comment_id": 90472365, "body": "@PatrickHaugh Do I need to add     .self    to all of the functions within the class?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533766923, "post_id": 51756290, "comment_id": 90472416, "body": "@user2757598 you need to add <code>self</code> to access <b>any attribute</b>"}, {"owner": {"reputation": 59, "user_id": 2757598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4d90f2761ebd223dacd3353453263c?s=128&d=identicon&r=PG&f=1", "display_name": "user2757598", "link": "https://stackoverflow.com/users/2757598/user2757598"}, "edited": false, "score": 0, "creation_date": 1533767063, "post_id": 51756290, "comment_id": 90472460, "body": "Why when functions are within a class do you need to add self. before calling them, what does requiring that particulalry do?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533767198, "post_id": 51756290, "comment_id": 90472503, "body": "@user2757598 it&#39;s how Python scoping/namespacing works. It&#39;s pretty simple, those functions are in the classes namespace. To access them, you must access the classes namespace. You can either do that directly through the class, <code>FooClass.method(foo_instance, arg1, arg2)</code> (don&#39;t do this) or from the instance: <code>foo_instance.method(arg1, arg2)</code> (do this). A method is merely a function in the classes namespace, a fact of which the function has no knowledge. That is why it requires <code>self</code> (the instance) as a parameter. This is done implicitly in some languages, e.g. Java, but not in Python."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533768088, "post_id": 51756290, "comment_id": 90472722, "body": "@user2757598 note, there is nothing magical about the name <code>self</code>, it is merely convention, you could use <code>this</code> or <code>banana</code>, the only special thing about it is that it is the <i>first positional argument</i>, now, something implicit does happen, which is that this argument gets <i>implicitly</i> passed the instance when you access the method from the instance. This actually isn&#39;t magical, it just so happens that functions in Python are <i>descriptors</i> who&#39;s <code>__get__</code> method returns a new function which has already abound the instance... this is a bit of advanced Python stuff though."}, {"owner": {"reputation": 59, "user_id": 2757598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4d90f2761ebd223dacd3353453263c?s=128&d=identicon&r=PG&f=1", "display_name": "user2757598", "link": "https://stackoverflow.com/users/2757598/user2757598"}, "edited": false, "score": 0, "creation_date": 1533769017, "post_id": 51756290, "comment_id": 90472927, "body": "@user2757598 Appreciated."}], "answers": [{"comments": [{"owner": {"reputation": 5869, "user_id": 2153459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e87c3346abe9e6e67988143bfe90d6a?s=128&d=identicon&r=PG", "display_name": "Daniel Scott", "link": "https://stackoverflow.com/users/2153459/daniel-scott"}, "edited": false, "score": 0, "creation_date": 1533766979, "post_id": 51756338, "comment_id": 90472433, "body": "OK, then. Maybe you&#39;re just missing the <code>x</code>, as in <code>for file in list_files_to_read(show=False, perm=True):</code>"}], "tags": [], "owner": {"reputation": 5869, "user_id": 2153459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e87c3346abe9e6e67988143bfe90d6a?s=128&d=identicon&r=PG", "display_name": "Daniel Scott", "link": "https://stackoverflow.com/users/2153459/daniel-scott"}, "is_accepted": false, "score": -2, "last_activity_date": 1533766149, "creation_date": 1533766149, "answer_id": 51756338, "question_id": 51756290, "link": "https://stackoverflow.com/questions/51756290/python-functions-within-classes-nameerror-function-not-defined/51756338#51756338", "title": "Python functions within classes - NameError: function not defined", "body": "<p>You're probably missing the <code>__init__.py</code> file in the directory containing your class file.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/448271/what-is-init-py-for\">What is __init__.py for?</a></p>\n"}, {"tags": [], "owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1533766928, "creation_date": 1533766928, "answer_id": 51756469, "question_id": 51756290, "link": "https://stackoverflow.com/questions/51756290/python-functions-within-classes-nameerror-function-not-defined/51756469#51756469", "title": "Python functions within classes - NameError: function not defined", "body": "<p>in your for loop you need to write</p>\n\n<pre><code>for file in x.list_files_to_read(show=False, perm=True):\n    # ...\n</code></pre>\n\n<p>since <code>x</code> is your instance of <code>CollatesCSV</code></p>\n"}], "owner": {"reputation": 59, "user_id": 2757598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4d90f2761ebd223dacd3353453263c?s=128&d=identicon&r=PG&f=1", "display_name": "user2757598", "link": "https://stackoverflow.com/users/2757598/user2757598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2894, "favorite_count": 1, "closed_date": 1533766992, "answer_count": 2, "score": 0, "last_activity_date": 1533766928, "creation_date": 1533765907, "question_id": 51756290, "link": "https://stackoverflow.com/questions/51756290/python-functions-within-classes-nameerror-function-not-defined", "closed_reason": "Duplicate", "title": "Python functions within classes - NameError: function not defined", "body": "<p>Ive only just started using classes in python and so cant figure out how to fix this presumably simple error. I have a class that essentially collates multiple csv files, sorts and cleans the data, and outputs a finished list, looks like below:</p>\n\n<pre><code>class CollateCSV():\n    def __init__(self, input_dir=\"\", file_list=\"\", output=False):\n        # initialises some global variables\n\n    def read_file_list(self):\n        #reads a csv file of already \"dealt with\" files\n        return x #list of filenames\n\n    def list_files_to_read(self, show=False, perm=True):\n        #gives list of csv files yet to be cleaned - the ones the program will actually import and read\n        return files_to_read\n\n\n    def sort_list(self, unsorted_list):\n        #sorts a list of OrderedDict by multiple keys\n        return sorted_list\n\n    def import_sort(self):\n        #reads each CSV file, cleans it, passes it to sort_list function and returns cleaned &amp; sorted list of OrderedDict\n        return sort_list(x)\n\n    def return_final_list(self):\n        #does some things relating to logging if self.output == True. But used mainly as single easy place to return the final sorted &amp; cleaned list of OrderedDict\n        return import_sort()\n</code></pre>\n\n<p>The way I have setup my project, this code is in a seperate file to my main code, and so Ive imported this as a module. As such I know the code itself works as when running the below code Ive got errors that Ive fixed indicating missing variables or syntax errors etc throughout the above code.</p>\n\n<pre><code>from convert import CollateCSV\nx = CollateCSV(\"./csv_files\", \"./file_list.csv\", output=False)\n\nprint(x.list_files_to_reas())\n</code></pre>\n\n<p>The problem I have is when I run the above code know I get an eror saying: </p>\n\n<pre><code>for file in list_files_to_read(show=False, perm=True):\nNameError: name 'list_files_to_read' is not defined\n</code></pre>\n\n<p>Ive tried moving the functions within the CollateCSV class around, and attempted to do the second piece of code in the same file as the first, but still get the same error. Could someone impart some advice on what Im doing wrong with classes in python? Thanks. </p>\n"}, {"tags": ["python", "bots", "discord.py"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533767609, "post_id": 51756286, "comment_id": 90472610, "body": "What exactly happens when you add <code>global botnum</code> at the top of your <code>on_message</code> coroutine?"}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533768530, "post_id": 51756286, "comment_id": 90472810, "body": "@PatrickHaugh As soon as I open it with python the python runner thing closes"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533768621, "post_id": 51756286, "comment_id": 90472838, "body": "With no error message?  Could you double check the indentation of your code in the question?"}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533769117, "post_id": 51756286, "comment_id": 90472954, "body": "When I paste my code it doesnt automatically have the gray background, I have to add it myself with 4 spaces. If that changes anything?"}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533769239, "post_id": 51756286, "comment_id": 90472983, "body": "@PatrickHaugh here it is exactly pasted except for removed Token <a href=\"https://pastebin.com/4132fLTT\" rel=\"nofollow noreferrer\">pastebin.com/4132fLTT</a>"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533769722, "post_id": 51756286, "comment_id": 90473082, "body": "<code>global botnum</code> goes inside the function"}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533771213, "post_id": 51756286, "comment_id": 90473425, "body": "@PatrickHaugh I moved it inside the on_message and when I run it, it still automatically crashes without an error <a href=\"https://pastebin.com/6Ratzk2X\" rel=\"nofollow noreferrer\">pastebin.com/6Ratzk2X</a>"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533772669, "post_id": 51756286, "comment_id": 90473712, "body": "That code run fines for me, and produces the correct output."}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533773337, "post_id": 51756286, "comment_id": 90473823, "body": "@PatrickHaugh any idea why it is not working for me?"}, {"owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533774076, "post_id": 51756286, "comment_id": 90473979, "body": "@PatrickHaugh Apparently it was something with spacing and my text editor. I copied and pasted the code I pasted into Pastebin and it worked good just like I wanted it to! Thank you for your help :D"}], "owner": {"reputation": 37, "user_id": 10163299, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSNvLzexSx4/AAAAAAAAAAI/AAAAAAAAAAo/uMoYhXRp2RE/photo.jpg?sz=128", "display_name": "Electron Group", "link": "https://stackoverflow.com/users/10163299/electron-group"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533767551, "creation_date": 1533765900, "last_edit_date": 1533767551, "question_id": 51756286, "link": "https://stackoverflow.com/questions/51756286/variable-is-either-giving-me-an-error-msg-or-crashing-when-i-run-python", "title": "Variable is either giving me an Error msg or crashing when I run python", "body": "<pre><code>import random    \nimport asyncio    \nimport aiohttp\nimport discord\n\nimport json\n\nfrom discord import Game\n\nfrom discord.ext.commands import Bot\n\nTOKEN = ''\n\nclient = discord.Client()\n\nbotnum = 0\n\n@client.event\nasync def on_ready():\nprint('Online and Ready to Play!')\nprint(client.user.name)\nprint(client.user.id)\nawait client.change_presence(game=discord.Game(name=\"With Emotions\")) \nprint('------')\n\n\n\n@client.event\nasync def on_message(message):\n# we do not want the bot to reply to itself\nif message.author == client.user:\n    return\nelif message.content.startswith('PeriBot'): ### Updated to elif which is more acceptable\n    msg = \"I'm Busy! D:&lt;\".format(message)\n    await client.send_message(message.channel, msg)\nelif botnum == 20: ### forgot a \":\" and Updated to elif which is more acceptable\n    msg = \"You Clods are so loud!\".format(message)\n    await client.send_message(message.channel, msg)\n    botnum = 0 ### you were comparing and not setting botnum to 0\nelse:\n    botnum += 1 ### This will add 1 to the preexisting number of botnum\n\nclient.run(\"Token\")\n</code></pre>\n\n<p>Whenever I run this it gives me the error: </p>\n\n<pre><code>Ignoring exception in on_message\nTraceback (most recent call last):\n  File \"C:\\Users\\Kevin\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\discord\\client.py\", line 307, in _run_event\n    yield from getattr(self, event)(*args, **kwargs)\n  File \"C:\\Users\\Kevin\\Desktop\\Discord Bots\\peribot.py\", line 33, in on_message\n    elif botnum == 20: ### forgot a \":\" and Updated to elif which is more acceptable\nUnboundLocalError: local variable 'botnum' referenced before assignment\n</code></pre>\n\n<p>I have tried adding the <code>global</code> to the botnum which just causes a crash with python. I'm sure it is a simple fix but I am unable to find it. </p>\n"}, {"tags": ["python", "string", "string-comparison", "attributeerror"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1533766217, "post_id": 51756278, "comment_id": 90472208, "body": "It&#39;s probably helpful to include the function body, and not just the signature."}, {"owner": {"reputation": 2207, "user_id": 4874233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAIXK.jpg?s=128&g=1", "display_name": "Daniel Lenz", "link": "https://stackoverflow.com/users/4874233/daniel-lenz"}, "edited": false, "score": 1, "creation_date": 1533766459, "post_id": 51756278, "comment_id": 90472267, "body": "Can you check what value and type the <code>source_pdf</code> variable actually has?"}, {"owner": {"reputation": 363, "user_id": 9645799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80431391709c14fdd092404dd5373ef?s=128&d=identicon&r=PG&f=1", "display_name": "A.Torres", "link": "https://stackoverflow.com/users/9645799/a-torres"}, "reply_to_user": {"reputation": 2207, "user_id": 4874233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAIXK.jpg?s=128&g=1", "display_name": "Daniel Lenz", "link": "https://stackoverflow.com/users/4874233/daniel-lenz"}, "edited": false, "score": 0, "creation_date": 1533766696, "post_id": 51756278, "comment_id": 90472349, "body": "@DanielLenz source_pdf is defined in the function call. I called it as source_pdf = &#39;Diri_id&#39;. I assumed this is a string?"}, {"owner": {"reputation": 363, "user_id": 9645799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80431391709c14fdd092404dd5373ef?s=128&d=identicon&r=PG&f=1", "display_name": "A.Torres", "link": "https://stackoverflow.com/users/9645799/a-torres"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1533766776, "post_id": 51756278, "comment_id": 90472368, "body": "@juanpa.arrivillaga went back to add the rest of the code from where the error stems"}, {"owner": {"reputation": 2207, "user_id": 4874233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAIXK.jpg?s=128&g=1", "display_name": "Daniel Lenz", "link": "https://stackoverflow.com/users/4874233/daniel-lenz"}, "edited": false, "score": 1, "creation_date": 1533768056, "post_id": 51756278, "comment_id": 90472717, "body": "There&#39;s still a code missing, do you do anything to the source_pdf variable? <code>&#39;Diri_id&#39; == &quot;Diri_mix&quot;</code> works perfectly fine and returns False."}, {"owner": {"reputation": 2207, "user_id": 4874233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAIXK.jpg?s=128&g=1", "display_name": "Daniel Lenz", "link": "https://stackoverflow.com/users/4874233/daniel-lenz"}, "edited": false, "score": 1, "creation_date": 1533768151, "post_id": 51756278, "comment_id": 90472733, "body": "Please make sure to always include a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>. This will also often help you answer the questions yourself."}], "owner": {"reputation": 363, "user_id": 9645799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80431391709c14fdd092404dd5373ef?s=128&d=identicon&r=PG&f=1", "display_name": "A.Torres", "link": "https://stackoverflow.com/users/9645799/a-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533766739, "creation_date": 1533765874, "last_edit_date": 1533766739, "question_id": 51756278, "link": "https://stackoverflow.com/questions/51756278/attributeerror-str-object-has-no-attribute-equals", "title": "AttributeError: &#39;str&#39; object has no attribute &#39;equals&#39;", "body": "<p>I keep getting this error and was wondering what was triggering it. This is my function definition:</p>\n\n<pre><code>def spectMixGen(M, samp_size, source_pdf = \"uniform\", pdf_pars = 1,\n    pure_pixels = 'no', max_purity = np.ones((1, p)), \n    no_outliers = 0, violation_extremes = [1, 1.2],\n    am_modulation = [1, 1], sig_variability = [1, 1],              \n    snr = 40, noise_shape = 'uniform',\n    noise_pars = [0, 1, 1])\n</code></pre>\n\n<p>and this is my function call:</p>\n\n<pre><code>spectMixGen(M, N, source_pdf = 'Diri_id', pdf_pars = SHAPE_PARAMETER, \n    max_purity = MAX_PURIRY*np.ones((1,p)), no_outliers = OUTLIERS, \n    violation_extremes = [1,1.2], snr = SNR, noise_shape = 'uniform')\n</code></pre>\n\n<p>The error points to this part of my code: </p>\n\n<pre><code>if (source_pdf == \"Diri_mix\"):\n    no_modes, cols = pdf_pars.shape\n    if cols is not (p+1):\n        raise ValueError(\"Wrong pdf parameters\")\n    elif (np.sum(pdf_pars[:,1] != 1)) or (np.sum(pdf_pars[:,1] &lt; 0) &gt; 0):\n        raise ValueError(\"Wrong pdf parameters -&gt; mixing weights  do not define a probability\")\n</code></pre>\n\n<p>with the message: </p>\n\n<pre><code>AttributeError: 'str' object has no attribute 'equals'\n</code></pre>\n\n<p>Can anyone explain this error? I though that the function call sets the variable source_pdf equal to a string. Is this not the case?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "pandas", "dataframe", "openoffice.org", "enchant"], "owner": {"reputation": 11, "user_id": 8900612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7e7d6fefa4292f6746f8d24464f065a?s=128&d=identicon&r=PG&f=1", "display_name": "MayLadyBeetle", "link": "https://stackoverflow.com/users/8900612/mayladybeetle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533765290, "creation_date": 1533765290, "question_id": 51756196, "link": "https://stackoverflow.com/questions/51756196/check-orthography-in-pandas-data-frame-column-using-enchant-library", "title": "Check orthography in pandas data frame column using Enchant library", "body": "<p>I'm new to pandas and enchant. I want to check orthography in short sentences using python. </p>\n\n<p>I have a pandas data frame:</p>\n\n<pre><code>id_num      word\n1           live haapy\n2           know more\n3           ssweam good\n4           eeat little\n5           dream alot\n</code></pre>\n\n<p>And I want to achieve the next table with column \u201ccheck\u201d</p>\n\n<pre><code>id_num         word           check\n1              live haapy     True, False\n2              know more      True, True\n3              ssweam good    False, True\n4              eeat little    False, True\n5              dream alot     True, False\n</code></pre>\n\n<p>What is the best way to do this?</p>\n\n<p>I tried this code:</p>\n\n<pre><code>import enchant\ndic = enchant.Dict(\"ru_Eng\")\ndf['list_word'] = df['word'].str.split() #Get list of all words in each sentence using split()\nrow = list()\nfor row in df[['id_num', 'list_word']].iterrows():\nr = row[1]\nfor word in r.list_word:\n    rows.append((r.id_num, word))\ndf2 = pd.DataFrame(rows, columns=['id_num', 'word']) #Make the table with id_num column and a column of separate words\n</code></pre>\n\n<p>Then I got new data frame (df2):</p>\n\n<pre><code>id_num    word\n1         live\n1         haapy\n2         know\n2         more\n3         ssweam\n3         good\n4         eeat\n4         little\n5         dream\n5         alot\n</code></pre>\n\n<p>After that I check words using:</p>\n\n<p>column = df2['word']\n   for i in column:\n   n = dic.check(i)\n        print(n)</p>\n\n<p>The result is:</p>\n\n<pre><code>True\nFalse\nTrue\nTrue\nFalse\nTrue\nFalse\nTrue\nTrue\nFalse\n</code></pre>\n\n<p>Check is carried out correctly but when I tried to put this result to a new pandas data frame column I got all False values for all words.</p>\n\n<pre><code>for i in column:\ndf2['res'] = dic.check(i)\n</code></pre>\n\n<p>Resulted data frame:</p>\n\n<pre><code>id_num    word    res\n1         live   False\n1         haapy  False\n2         know   False\n2         more   False\n3         ssweam False\n3         good   False\n4         eeat   False\n4         little False\n5         dream  False\n5         alot   False\n</code></pre>\n\n<p>I will be grateful for any help!</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "deep-learning"], "answers": [{"tags": [], "owner": {"reputation": 6042, "user_id": 3607203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pfnRx.jpg?s=128&g=1", "display_name": "dennlinger", "link": "https://stackoverflow.com/users/3607203/dennlinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1533795523, "creation_date": 1533795523, "answer_id": 51760055, "question_id": 51756173, "link": "https://stackoverflow.com/questions/51756173/is-it-possible-to-implement-a-max-pooling-layer-in-keras-which-provides-the-maxi/51760055#51760055", "title": "Is it possible to implement a max pooling layer in Keras which provides the maximum n values from a given pool size?", "body": "<p>You can probably solve this with a <a href=\"https://keras.io/layers/core/#lambda\" rel=\"nofollow noreferrer\"><code>keras.layers.Lambda</code></a> layer, and the backend to <a href=\"https://github.com/keras-team/keras/blob/672a873ffb344dfa030103cad69bdbc948184e8e/keras/backend/tensorflow_backend.py\" rel=\"nofollow noreferrer\"><code>tf.nn.in_top_k</code></a>. Note that the <a href=\"https://www.tensorflow.org/api_docs/python/tf/nn/in_top_k\" rel=\"nofollow noreferrer\">handling is somewhat different</a> from <code>tf.nn.top_k</code>, in that it does not pool if all the values are of the same value!</p>\n\n<p>Now you can define yourself a function that returns the top <code>k</code> values (and does so \nsomewhat efficiently), and then pass it as a function to the lambda layer.</p>\n\n<p>I sadly haven't worked enough with Keras to type out the specific code, but maybe this is help enough to point you in the right direction.\nAlso, there exists a similar thread <a href=\"https://stackoverflow.com/questions/36272502/what-is-the-best-way-to-top-k-pool-elements-instead-of-only-the-max-one-in-tenso\">for TensorFlow specifically</a>. </p>\n"}], "owner": {"reputation": 11, "user_id": 10200019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8c353ec20ee2745b1e79fecce6c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Vikranth", "link": "https://stackoverflow.com/users/10200019/vikranth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533795523, "creation_date": 1533765175, "question_id": 51756173, "link": "https://stackoverflow.com/questions/51756173/is-it-possible-to-implement-a-max-pooling-layer-in-keras-which-provides-the-maxi", "title": "Is it possible to implement a max pooling layer in Keras which provides the maximum n values from a given pool size?", "body": "<p>I have a multidimensional time series dataset which has the following shape (n_samples, 512, 9) where 512 is the timesteps and 9 are the channels. </p>\n\n<p>After the first 1D  CNN layer with 64 kernels my output shape is (n_samples, 512, 64). Now I would like to have my input to next layer which is an LSTM to be of the shape (n_samples, 384, 64). </p>\n\n<p>It can be achieved if I have a Maxpool layer that returns maximum 3 values from pool size of 4 but is it possible to implement this in Keras? </p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "pip"], "comments": [{"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 1, "creation_date": 1533788986, "post_id": 51756108, "comment_id": 90476893, "body": "which version of Keras do you have?"}, {"owner": {"reputation": 3341, "user_id": 3204706, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/GIk0b.jpg?s=128&g=1", "display_name": "Tina J", "link": "https://stackoverflow.com/users/3204706/tina-j"}, "reply_to_user": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 0, "creation_date": 1533833743, "post_id": 51756108, "comment_id": 90503401, "body": "I had 2.2.4. Now I downgraded to 2.1.6. Now I get another error: <code>ImportError: You need to first </code>import keras` in order to use <code>keras_applications</code>.`"}, {"owner": {"reputation": 184, "user_id": 6912318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QFu55.jpg?s=128&g=1", "display_name": "Dmitriy R. Starson", "link": "https://stackoverflow.com/users/6912318/dmitriy-r-starson"}, "edited": false, "score": 0, "creation_date": 1543202349, "post_id": 51756108, "comment_id": 93819077, "body": "I had the same error message when running <code>coremltools.converters.keras.convert</code> to convert a keras model to coreml. The error was resolved by downgrading to <code>2.1.6</code> via <code>pip install keras==2.1.6</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": true, "score": 2, "last_activity_date": 1533768180, "last_edit_date": 1533768180, "creation_date": 1533766344, "answer_id": 51756370, "question_id": 51756108, "link": "https://stackoverflow.com/questions/51756108/importerror-cannot-import-name-relu6/51756370#51756370", "title": "ImportError: cannot import name &#39;relu6&#39;", "body": "<p>See this <a href=\"https://github.com/keras-team/keras/issues/7431\" rel=\"nofollow noreferrer\">answer</a> from GitHub.</p>\n\n<p>You need to use a <code>CustomObjectScope</code> to import <code>relu6</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 14942, "user_id": 1179925, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/5403975c3b25b9407b19a26b65d1ce72?s=128&d=identicon&r=PG", "display_name": "mrgloom", "link": "https://stackoverflow.com/users/1179925/mrgloom"}, "is_accepted": false, "score": 2, "last_activity_date": 1549816308, "creation_date": 1549816308, "answer_id": 54618526, "question_id": 51756108, "link": "https://stackoverflow.com/questions/51756108/importerror-cannot-import-name-relu6/54618526#54618526", "title": "ImportError: cannot import name &#39;relu6&#39;", "body": "<p>MobileNet was moved to <a href=\"https://github.com/keras-team/keras-applications\" rel=\"nofollow noreferrer\">keras-applications</a></p>\n\n<p>For keras <code>2.2.4</code>:</p>\n\n<pre><code>from keras.layers import ReLU\nfrom keras.layers import DepthwiseConv2D\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15580593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8acc703c2f9a680300260a76054679a4?s=128&d=identicon&r=PG&f=1", "display_name": "Accelerator", "link": "https://stackoverflow.com/users/15580593/accelerator"}, "is_accepted": false, "score": 0, "last_activity_date": 1618300660, "last_edit_date": 1618300660, "creation_date": 1618297832, "answer_id": 67070235, "question_id": 51756108, "link": "https://stackoverflow.com/questions/51756108/importerror-cannot-import-name-relu6/67070235#67070235", "title": "ImportError: cannot import name &#39;relu6&#39;", "body": "<p>You can create your relu6 like this:</p>\n<pre><code>relu6 = keras.layers.ReLU(max_value=6, name=&quot;ReLU6&quot;)\n</code></pre>\n"}], "owner": {"reputation": 3341, "user_id": 3204706, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/GIk0b.jpg?s=128&g=1", "display_name": "Tina J", "link": "https://stackoverflow.com/users/3204706/tina-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4894, "favorite_count": 1, "accepted_answer_id": 51756370, "answer_count": 3, "score": 1, "last_activity_date": 1618300660, "creation_date": 1533764876, "last_edit_date": 1533792460, "question_id": 51756108, "link": "https://stackoverflow.com/questions/51756108/importerror-cannot-import-name-relu6", "title": "ImportError: cannot import name &#39;relu6&#39;", "body": "<p>I was trying to run a machine learning code based on Keras/TensorFlow. When running in <code>tensorflow</code> environment, I encounter the following error:</p>\n\n<pre><code>from keras_applications.mobilenet import relu6\nImportError: cannot import name 'relu6'\n</code></pre>\n\n<p>How can I solve it? </p>\n"}, {"tags": ["python", "xml", "parsing"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1533778930, "post_id": 51756106, "comment_id": 90474875, "body": "Your other XML files is not a well-formed XML as the colon namespaces are not declared and numbers may not be used for local names."}, {"owner": {"reputation": 19, "user_id": 9882422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e55f3201d37b7d04c15853f5af8775?s=128&d=identicon&r=PG&f=1", "display_name": "Morteza", "link": "https://stackoverflow.com/users/9882422/morteza"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1533822853, "post_id": 51756106, "comment_id": 90496439, "body": "@Parfait Thanks. I edited it. So, do you have any suggestion?"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1533826342, "post_id": 51756106, "comment_id": 90498825, "body": "Still not well-formed. Where is <code>IDEA</code> defined with <code>xmlns</code>? You should definitely post actual XML as any solution posed may not work with your actual data, leading to more frustration. If XML arrived like that, check how it is generated upstream as it is not using a proper DOM library."}, {"owner": {"reputation": 19, "user_id": 9882422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e55f3201d37b7d04c15853f5af8775?s=128&d=identicon&r=PG&f=1", "display_name": "Morteza", "link": "https://stackoverflow.com/users/9882422/morteza"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1533829958, "post_id": 51756106, "comment_id": 90501417, "body": "@Parfait Thanks again for your notice. Does it work now?"}], "owner": {"reputation": 19, "user_id": 9882422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e55f3201d37b7d04c15853f5af8775?s=128&d=identicon&r=PG&f=1", "display_name": "Morteza", "link": "https://stackoverflow.com/users/9882422/morteza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533829897, "creation_date": 1533764865, "last_edit_date": 1533829897, "question_id": 51756106, "link": "https://stackoverflow.com/questions/51756106/adding-xml-file-to-the-last-element-of-existing-xml-using-python", "title": "Adding XML file to the last element of existing XML using Python", "body": "<p>I have a XML file like this, let's name is XML_old:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!--\n// Description : ahbbus12alda.xml\n// modifications; this notice must be included on any copy.\n--&gt;\n&lt;ipxact:component xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"             \nxmlns:ipxact=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014\"  \nxsi:schemaLocation=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014 \nhttp://www.accellera.org/XMLSchema/IPXACT/1685-2014/index.xsd\"&gt;\n   &lt;ipxact:vendor&gt;spiritconsortium.org&lt;/ipxact:vendor&gt;\n   &lt;ipxact:library&gt;Leon2RTL&lt;/ipxact:library&gt;\n   &lt;ipxact:name&gt;ahbbus12&lt;/ipxact:name&gt;\n   &lt;ipxact:version&gt;1.3&lt;/ipxact:version&gt;\n   &lt;ipxact:busInterfaces&gt;\n      &lt;ipxact:busInterface&gt;\n         &lt;ipxact:name&gt;AHBClk&lt;/ipxact:name&gt;\n      &lt;/ipxact:busInterface&gt;\n    &lt;/ipxact:busInterfaces&gt;  \n&lt;/ipxact:component&gt;\n</code></pre>\n\n<p>Also, I have another XML file, XML_1, like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;ipxact:component1 xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xmlns:ipxact=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014\"\n xsi:schemaLocation=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014 \n http://www.accellera.org/XMLSchema/IPXACT/1685-2014/index.xsd\"&gt;\n    &lt;ipxact:vendor1&gt;spiritconsortium.org&lt;/ipxact:vendor1&gt;\n    &lt;ipxact:library1&gt;Leon2RTL&lt;/ipxact:library1&gt;\n    &lt;ipxact:name1&gt;ahbbus34&lt;/ipxact:name1&gt;\n    &lt;ipxact:version1&gt;1.3&lt;/ipxact:version1&gt;\n    &lt;ipxact:busInterfaces1&gt;\n        &lt;ipxact:busInterface1&gt;\n            &lt;ipxact:name1&gt;AHBClk&lt;/ipxact:name1&gt;\n        &lt;ipxact:busInterface1&gt;\n    &lt;ipxact:busInterfaces1&gt;\n&lt;/ipxact:component1&gt;\n</code></pre>\n\n<p>I want to add XML_1 to the XML_old as a last child of component element in XML_old file and create a new XML file like </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!--\n// Description : ahbbus12alda.xml\n// modifications; this notice must be included on any copy.\n--&gt;\n&lt;ipxact:component xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"          \nxmlns:ipxact=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014\"         \nxsi:schemaLocation=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014 \nhttp://www.accellera.org/XMLSchema/IPXACT/1685-2014/index.xsd\"&gt;\n   &lt;ipxact:vendor&gt;spiritconsortium.org&lt;/ipxact:vendor&gt;\n   &lt;ipxact:library&gt;Leon2RTL&lt;/ipxact:library&gt;\n   &lt;ipxact:name&gt;ahbbus12&lt;/ipxact:name&gt;\n   &lt;ipxact:version&gt;1.3&lt;/ipxact:version&gt;\n   &lt;ipxact:busInterfaces&gt;\n      &lt;ipxact:busInterface&gt;\n         &lt;ipxact:name&gt;AHBClk&lt;/ipxact:name&gt;\n      &lt;/ipxact:busInterface&gt;\n    &lt;/ipxact:busInterfaces&gt; \n    &lt;ipxact:component1 xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xmlns:ipxact=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014\"\n     xsi:schemaLocation=\"http://www.accellera.org/XMLSchema/IPXACT/1685-2014 \n     http://www.accellera.org/XMLSchema/IPXACT/1685-2014/index.xsd\"&gt;\n        &lt;ipxact:vendor1&gt;spiritconsortium.org&lt;/ipxact:vendor1&gt;\n        &lt;ipxact:library1&gt;Leon2RTL&lt;/ipxact:library1&gt;\n        &lt;ipxact:name1&gt;ahbbus34&lt;/ipxact:name1&gt;\n        &lt;ipxact:version1&gt;1.3&lt;/ipxact:version1&gt;\n        &lt;ipxact:busInterfaces1&gt;\n            &lt;ipxact:busInterface1&gt;\n                &lt;ipxact:name1&gt;AHBClk&lt;/ipxact:name1&gt;\n            &lt;ipxact:busInterface1&gt;\n        &lt;ipxact:busInterfaces1&gt;\n    &lt;/ipxact:component1&gt;\n&lt;/ipxact:component&gt;\n</code></pre>\n\n<p>I wonder how can I do this? I appreciate if you can help me.</p>\n"}, {"tags": ["python", "html", "selenium", "selenium-webdriver", "beautifulsoup"], "comments": [{"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "edited": false, "score": 0, "creation_date": 1533774367, "post_id": 51756089, "comment_id": 90474036, "body": "without knowing what page you are trying to get this data from, we can&#39;t help you. it may be something simple such as capitalization (<code>Nike</code> instead of <code>nike</code>), since these things are case sensitive."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10200111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YtIKJCLhDXw/AAAAAAAAAAI/AAAAAAAAATs/jZC_PGRtjTM/photo.jpg?sz=128", "display_name": "Frank DiGiacomo KnarF THUNDER ", "link": "https://stackoverflow.com/users/10200111/frank-digiacomo-knarf-thunder"}, "edited": false, "score": 0, "creation_date": 1533822440, "post_id": 51766990, "comment_id": 90496146, "body": "The &#39;a&#39; tag that I&#39;m trying to find is not displayed on the front end of the page, but it&#39;s in the html. When I hover over the element, then the &#39;a&#39; tag text becomes visible and it would work then, but I don&#39;t want to do this. I want to search the entire html for the specific keyword in the hidden &#39;a&#39; tag and then go to that link, hopefully that&#39;s more clear, thanks"}], "tags": [], "owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1533817557, "creation_date": 1533817557, "answer_id": 51766990, "question_id": 51756089, "link": "https://stackoverflow.com/questions/51756089/unable-to-find-specific-text-in-meta-tag-using-selenium-and-beatifulsoup/51766990#51766990", "title": "Unable to find specific text in meta tag using Selenium and Beatifulsoup", "body": "<p>You don't need BeautifulSoup if you are already using Selenium. </p>\n\n<p><code>elements = driver.find_element_by_partial_link_text('nike')</code></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 10200111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YtIKJCLhDXw/AAAAAAAAAAI/AAAAAAAAATs/jZC_PGRtjTM/photo.jpg?sz=128", "display_name": "Frank DiGiacomo KnarF THUNDER ", "link": "https://stackoverflow.com/users/10200111/frank-digiacomo-knarf-thunder"}, "is_accepted": true, "score": 0, "last_activity_date": 1533831268, "creation_date": 1533831268, "answer_id": 51771738, "question_id": 51756089, "link": "https://stackoverflow.com/questions/51756089/unable-to-find-specific-text-in-meta-tag-using-selenium-and-beatifulsoup/51771738#51771738", "title": "Unable to find specific text in meta tag using Selenium and Beatifulsoup", "body": "<pre><code>def searchForKeywords(self, keywords):\n    html = self.driver.page_source\n    soup = BeautifulSoup(html, 'html.parser')\n    possibleUrls = soup.find_all('meta', content=re.compile(keywords))\n    for meta in possibleUrls:\n        print(meta['content'])\n</code></pre>\n\n<p>The above code returns:</p>\n\n<pre><code>https://undefeated.com/products/air-humara-17-qs-silver-carotene-bluespark-black\n</code></pre>\n\n<p>Figured it out, I had to use re.compile and then loop through the urls and print them out.</p>\n"}], "owner": {"reputation": 71, "user_id": 10200111, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YtIKJCLhDXw/AAAAAAAAAAI/AAAAAAAAATs/jZC_PGRtjTM/photo.jpg?sz=128", "display_name": "Frank DiGiacomo KnarF THUNDER ", "link": "https://stackoverflow.com/users/10200111/frank-digiacomo-knarf-thunder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 51771738, "answer_count": 2, "score": 1, "last_activity_date": 1533831268, "creation_date": 1533764764, "last_edit_date": 1533827047, "question_id": 51756089, "link": "https://stackoverflow.com/questions/51756089/unable-to-find-specific-text-in-meta-tag-using-selenium-and-beatifulsoup", "title": "Unable to find specific text in meta tag using Selenium and Beatifulsoup", "body": "<pre><code>&lt;div class=\"product-grid-item  \"&gt;\n\n    &lt;meta itemprop=\"url\" content=\"https://undefeated.com/products/air-humara- \n     17-qs-silver-carotene-bluespark-black\"&gt;\n</code></pre>\n\n<p>The code above is what I'm searching for, the word 'humara' is there.</p>\n\n<pre><code>from Utilities import custom_logger as cl\nfrom Base.basepage import BasePage\nimport logging\nfrom bs4 import BeautifulSoup\n\n\nclass NewShoePage(BasePage):\n\n    log = cl.customLogger(logging.DEBUG)\n\n    def __init__(self, driver):\n        super().__init__(driver)\n        self.driver = driver\n\n    def searchForKeywords(self, keywords):\n        html = self.driver.page_source\n        soup = BeautifulSoup(html, 'html.parser')\n        keywordsFound = soup.find_all('meta', content=keywords)\n        print(keywordsFound)\n</code></pre>\n\n<p>When I call:</p>\n\n<pre><code>searchForKeywords('humara')\n</code></pre>\n\n<p>It prints out nothing at all</p>\n\n<p>I want to find the word 'humara' in the meta content tag on the web page, but it returns nothing. Once this is done, I would like to redirect to that link.</p>\n"}, {"tags": ["python", "selenium", "automation", "gmail"], "comments": [{"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 0, "creation_date": 1533785709, "post_id": 51756066, "comment_id": 90476135, "body": "this sounds like an XY problem.  Why is your question about emailing yourself when the issue you are trying to solve is about setting your webserver&#39;s IP?"}, {"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "edited": false, "score": 0, "creation_date": 1533801719, "post_id": 51756066, "comment_id": 90482380, "body": "Hi, seems to be an xpath or element inaccessible issue. Can you add the screen print of gmail login? I will try fetching the xpath"}, {"owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "edited": false, "score": 0, "creation_date": 1533802332, "post_id": 51756066, "comment_id": 90482770, "body": "Just noted that the &#39;To:&#39; text area element&#39;s id changes dynamically while composing message in different browser"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8480468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdymq.jpg?s=128&g=1", "display_name": "Joan Pastor", "link": "https://stackoverflow.com/users/8480468/joan-pastor"}, "is_accepted": false, "score": 1, "last_activity_date": 1533765367, "creation_date": 1533765367, "answer_id": 51756206, "question_id": 51756066, "link": "https://stackoverflow.com/questions/51756066/python-w-selenium-gmail-email-send-automating-to-field-is-giving-me-trouble/51756206#51756206", "title": "Python w/ Selenium Gmail Email Send Automating To: Field is Giving Me Trouble", "body": "<p>Have you tried to use the Gmail API? \nIt's easier faster and more efficient than using Selenium.</p>\n\n<p>Here's the quickstart: <a href=\"https://developers.google.com/gmail/api/quickstart/python\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/quickstart/python</a></p>\n\n<p>(I'm writing an answer because I don't have the reputation to just comment)</p>\n"}, {"tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": false, "score": 1, "last_activity_date": 1533766570, "creation_date": 1533766570, "answer_id": 51756412, "question_id": 51756066, "link": "https://stackoverflow.com/questions/51756066/python-w-selenium-gmail-email-send-automating-to-field-is-giving-me-trouble/51756412#51756412", "title": "Python w/ Selenium Gmail Email Send Automating To: Field is Giving Me Trouble", "body": "<p>You can also use Python's built-in email package:</p>\n\n<p><a href=\"https://docs.python.org/3/library/email.examples.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/email.examples.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 11192394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yc1rR.png?s=128&g=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/11192394/marina"}, "edited": false, "score": 0, "creation_date": 1595326716, "post_id": 51762191, "comment_id": 111429451, "body": "<code>wait.until(EC.element_to_be_clickable((By.XPATH, &#39;&#47;&#47;textarea[1]&#39;))).send_keys(&quot;my_email&quot;) </code>  Did the job for me"}], "tags": [], "owner": {"reputation": 1808, "user_id": 5397845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-h5AyAVbZoqI/AAAAAAAAAAI/AAAAAAAAALA/pyUGY5qhrl4/photo.jpg?sz=128", "display_name": "Swadhikar", "link": "https://stackoverflow.com/users/5397845/swadhikar"}, "is_accepted": true, "score": 1, "last_activity_date": 1533803227, "creation_date": 1533803227, "answer_id": 51762191, "question_id": 51756066, "link": "https://stackoverflow.com/questions/51756066/python-w-selenium-gmail-email-send-automating-to-field-is-giving-me-trouble/51762191#51762191", "title": "Python w/ Selenium Gmail Email Send Automating To: Field is Giving Me Trouble", "body": "<p>I think there seems to be a dynamic variation with the element ids in different browser. For me when I tried to compose the mail to fetch the XPATH I noted the XPATH was <code>//*[@id=\":oa\"]</code> but while the script launched it was <code>//*[@id=\":my\"]</code>. </p>\n\n<p>To accommodate this I have used element querying using XPATH <code>//textarea[1]</code> as the Recipients section is always the first <code>textarea</code>. This proves to work well consistently across different browser sessions.</p>\n\n<p><strong>Code Snippet</strong></p>\n\n<pre><code>&gt;&gt;&gt; d = webdriver.Chrome()\n[14424:7728:0809/135301.805:ERROR:install_util.cc(597)] Unable to read registry value HKLM\\SOFTWARE\\Policies\\Google\\Chrome\\MachineLevelUserCloudPolicyEnrollmentToken for writing result=2\n\nDevTools listening on ws://127.0.0.1:12582/devtools/browser/31a5ab42-a4d2-46f3-95c6-a0c9ddc129d7\n&gt;&gt;&gt; d.get('https://www.gmail.com')\n&gt;&gt;&gt; d.find_element_by_xpath(xpath)\n&lt;selenium.webdriver.remote.webelement.WebElement (session=\"6072286733856e53b69af89ea981001c\", element=\"0.42218760484088036-1\")&gt;\n&gt;&gt;&gt; d.find_element_by_xpath('//textarea[1]').send_keys('cswadhikar@gmail.com')\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/uoXTW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uoXTW.png\" alt=\"compose\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14834342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjP3IV1wJIq_zFQkuCaQCZgP4JG_iAsB9cYlwteQEI=k-s128", "display_name": "Vikas Tomar", "link": "https://stackoverflow.com/users/14834342/vikas-tomar"}, "is_accepted": false, "score": 0, "last_activity_date": 1608316793, "creation_date": 1608316793, "answer_id": 65362284, "question_id": 51756066, "link": "https://stackoverflow.com/questions/51756066/python-w-selenium-gmail-email-send-automating-to-field-is-giving-me-trouble/65362284#65362284", "title": "Python w/ Selenium Gmail Email Send Automating To: Field is Giving Me Trouble", "body": "<p>Try this code to send an email with Gmail.\nIt has To, Subject and Send button functionality :</p>\n<p>driver.find_element(By.XPATH, '//*[@id=&quot;:k2&quot;]/div/div').click()# Compose button\ntime.sleep(5)</p>\n<p>driver.find_element(By.NAME, 'to').send_keys(&quot;Enter the email address of recipients&quot;)# to field in compose\ntime.sleep(2)</p>\n<p>driver.find_element(By.NAME,'subjectbox').send_keys(&quot;This email is send using selenium&quot;)# Subject field in compose\ntime.sleep(2)</p>\n<p>driver.find_element(By.XPATH,'//*[@id=&quot;:p3&quot;]').click()# click on send button</p>\n<p>time.sleep(5)</p>\n<p>driver.close()</p>\n"}], "owner": {"reputation": 127, "user_id": 7960258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff1b37dd38f331b04d9898c789178e8?s=128&d=identicon&r=PG&f=1", "display_name": "bmw417", "link": "https://stackoverflow.com/users/7960258/bmw417"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1462, "favorite_count": 0, "accepted_answer_id": 51762191, "answer_count": 4, "score": 0, "last_activity_date": 1608316793, "creation_date": 1533764696, "last_edit_date": 1533807115, "question_id": 51756066, "link": "https://stackoverflow.com/questions/51756066/python-w-selenium-gmail-email-send-automating-to-field-is-giving-me-trouble", "title": "Python w/ Selenium Gmail Email Send Automating To: Field is Giving Me Trouble", "body": "<p>The end goal is to send myself an email if my public ip address changes, as I don't have dynamic dns and have to manually enter the ip addresses myself for my web server. I've done all I possibly can to try and get bash utilities to do the job for me, but CenturyLink is unfortunately out to block me no matter how I configure my outbound mail. </p>\n\n<p>So I've turned to graphical python/selenium web page automation, which will sign into my gmail account for me, click the 'compose' button, then enter in the To:, Subject:, and text segments and hit send. Everything is working except for one small part - the To: field. The html/css is different for this than all the others and no matter how I try to select the field using</p>\n\n<pre><code>driver.find_element_by_class_name()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>driver.find_element_by_id()\n</code></pre>\n\n<p>I just can't seem to fill out the field. Bash will give me an error like </p>\n\n<pre><code>:lo cannot be reached by keyboard \n</code></pre>\n\n<p>or\n    textarea#:lo.vO is not a valid selector</p>\n\n<p>When I did an inspect element, the element looked like this:</p>\n\n<pre><code>&lt;textarea rows=\"1\" id=\":lo\" class=\"vO\" name=\"to\" spellcheck=\"false\" autocomplete=\"false\" autocapitalize=\"off\" autocorrect=\"off\" tabindex=\"1\" dir=\"ltr\" aria-label=\"To\" role=\"combobox\" aria-autocomplete=\"list\" style=\"width: 462px;\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>My code so far is this: (note: which does not include getting ip info yet, just gmail login / manipulation)</p>\n\n<pre><code>from selenium import webdriver\nimport time\n\ndriver = webdriver.Firefox();\ndriver.get('https://www.gmail.com');\nusername = driver.find_element_by_id('identifierId');\nusername.send_keys(\"EMAIL\");\ndriver.find_elements_by_class_name('RveJvd.snByac')[1].click();\ntime.sleep(2); #password not entered in username field\npassword = driver.find_element_by_class_name('whsOnd.zHQkBf');\npassword.send_keys(\"PASSWORD\");\ndriver.find_elements_by_class_name('RveJvd.snByac')[0].click();\n\n#end login, start composing\n\ntime.sleep(5); #wait for sign in\ndriver.find_element_by_class_name('T-I.J-J5-Ji.T-I-KE.L3').click();\nto = driver.find_element_by_class_name('textarea#:lo.vO'); #incorrect\nto.send_keys(\"EMAIL\");\nsubject = driver.find_element_by_id(':l6');\nsubject.send_keys(\"IP Address changed\");\ncontent = driver.find_element_by_id(':m9');\ncontent.send_keys(\"Test Test\\n\");\n</code></pre>\n"}, {"tags": ["python", "xml", "python-3.x", "xml-parsing", "elementtree"], "comments": [{"owner": {"reputation": 1228, "user_id": 2903532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bq4MX.jpg?s=128&g=1", "display_name": "reynoldsnlp", "link": "https://stackoverflow.com/users/2903532/reynoldsnlp"}, "edited": false, "score": 4, "creation_date": 1533765059, "post_id": 51756049, "comment_id": 90471826, "body": "Welcome to SO! What exact error(s) are you seeing? (Usually if your question involves an error, it&#39;s a good idea to include the error in your question.)"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1533780191, "post_id": 51756049, "comment_id": 90475112, "body": "Can you use non built-in libraries like <code>lxml</code>? Also, there is a misspelling in XML (<i>SalesOderLine</i>) and a node that does not close (<i>ConfigurationDetail</i>)."}, {"owner": {"reputation": 13, "user_id": 10199758, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DcIjcV3R5Xo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oyqI2pieBpT729W3CO5ZAOZ3ZmEw/mo/photo.jpg?sz=128", "display_name": "nepresto", "link": "https://stackoverflow.com/users/10199758/nepresto"}, "edited": false, "score": 0, "creation_date": 1533826137, "post_id": 51756049, "comment_id": 90498689, "body": "Thank you for taking the time to look at this. I have included the error as well as edited the misspelling in the XML and added to closing tag for ConfigurationDetail. i could use <code>lxml</code> if that is the better solution for what I am trying to achieve here."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10199758, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DcIjcV3R5Xo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oyqI2pieBpT729W3CO5ZAOZ3ZmEw/mo/photo.jpg?sz=128", "display_name": "nepresto", "link": "https://stackoverflow.com/users/10199758/nepresto"}, "edited": false, "score": 0, "creation_date": 1533922049, "post_id": 51770414, "comment_id": 90540190, "body": "This works perfectly. Thank you so much for your help!"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 13, "user_id": 10199758, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DcIjcV3R5Xo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oyqI2pieBpT729W3CO5ZAOZ3ZmEw/mo/photo.jpg?sz=128", "display_name": "nepresto", "link": "https://stackoverflow.com/users/10199758/nepresto"}, "edited": false, "score": 0, "creation_date": 1533930411, "post_id": 51770414, "comment_id": 90543909, "body": "Great! Glad to help."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 1, "last_activity_date": 1533827154, "creation_date": 1533827154, "answer_id": 51770414, "question_id": 51756049, "link": "https://stackoverflow.com/questions/51756049/need-help-replacing-text-in-a-sub-element-with-text-from-multiple-sub-elements-i/51770414#51770414", "title": "Need help replacing text in a sub-element with text from multiple sub-elements in an XML", "body": "<p>Consider <a href=\"https://www.w3.org/Style/XSL/\" rel=\"nofollow noreferrer\">XSLT</a>, the special purpose language designed to transform XML files. Python's third-party module, <code>lxml</code> can run XSLT 1.0 scripts (not the built-in <code>etree</code>) and do so without a single loop. </p>\n\n<p>Specifically, the XSLT script runs the <a href=\"http://www.usingxml.com/Transforms/XslIdentity\" rel=\"nofollow noreferrer\">Identity Transform</a> to copy entire document as is. Then, script adjusts the last <em>Value</em> node by extracting preceding siblings with conditional XPath (sibling to XSLT) expressions and finally concatenating text values together with comma separators and needed quotes.</p>\n\n<p><strong>XSLT</strong> <em>(save as .xsl file, a special .xml file to be loaded in Python below)</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n    &lt;xsl:output method=\"xml\" indent=\"yes\"/&gt;\n\n    &lt;xsl:template match=\"@* | node()\"&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=\"@* | node()\"/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=\"ConfigurationAttribute[Name='LongDescription']\"&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=\"Name\"/&gt;\n            &lt;Value&gt;\n                &lt;xsl:value-of select=\"concat(preceding-sibling::ConfigurationAttribute[Name='ConfigurationModel']/Value, ', ',\n                                             preceding-sibling::ConfigurationAttribute[Name='Handing']/Value, ', ',\n                                             preceding-sibling::ConfigurationAttribute[Name='EXWidth']/Value, '&amp;quot;', ' X ',\n                                             preceding-sibling::ConfigurationAttribute[Name='EXHeight']/Value, '&amp;quot;')\"/&gt;\n            &lt;/Value&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p><a href=\"https://xsltfiddle.liberty-development.net/bFDb2Cu/1\" rel=\"nofollow noreferrer\">XSLT Fiddle Demo</a></p>\n\n<p><strong>Python</strong></p>\n\n<pre><code>import lxml.etree as et\n\n# LOAD XML AND XSL\ndoc = et.parse('/path/to/Input.xml')\nxsl = et.parse('/path/to/XSLT_Script.xsl')\n\n# CONFIGURE TRANSFORMER\ntransform = et.XSLT(xsl)    \n\n# RUN TRANSFORMATION\nresult = transform(doc)\n\n# PRINT RESULT\nprint(result)  \n\n# SAVE TO FILE\nwith open('output.xml', 'wb') as f:\n   f.write(result)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10199758, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DcIjcV3R5Xo/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oyqI2pieBpT729W3CO5ZAOZ3ZmEw/mo/photo.jpg?sz=128", "display_name": "nepresto", "link": "https://stackoverflow.com/users/10199758/nepresto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 51770414, "answer_count": 1, "score": 1, "last_activity_date": 1533827154, "creation_date": 1533764610, "last_edit_date": 1533825940, "question_id": 51756049, "link": "https://stackoverflow.com/questions/51756049/need-help-replacing-text-in-a-sub-element-with-text-from-multiple-sub-elements-i", "title": "Need help replacing text in a sub-element with text from multiple sub-elements in an XML", "body": "<p>I am trying to replace the Value text in an XML tree with the text from other sub-elements in the tree. I am new to Python need some help with how to write this.</p>\n\n<p>Example of my XML with some elements omitted for length:</p>\n\n<pre><code>&lt;SalesOrder&gt;\n  &lt;SalesOrderLines&gt;\n    &lt;SalesOrderLine&gt;\n      &lt;Item&gt;\n        &lt;LineNo&gt;1&lt;/LineNo&gt;\n        &lt;Quantity&gt;4.00&lt;/Quantity&gt;\n      &lt;/Item&gt;\n      &lt;ConfigurationDetails&gt;\n         &lt;ConfigurationDetail&gt;\n          &lt;ConfigurationAttribute&gt;\n            &lt;Name&gt;ConfigurationModel&lt;/Name&gt;\n            &lt;Value&gt;HV&lt;/Value&gt;\n          &lt;/ConfigurationAttribute&gt;\n          &lt;ConfigurationAttribute&gt;\n            &lt;Name&gt;EXWidth&lt;/Name&gt;\n            &lt;Value&gt;59.5&lt;/Value&gt;\n          &lt;/ConfigurationAttribute&gt;\n          &lt;ConfigurationAttribute&gt;\n            &lt;Name&gt;EXHeight&lt;/Name&gt;\n            &lt;Value&gt;59.5&lt;/Value&gt;\n          &lt;/ConfigurationAttribute&gt;\n          &lt;ConfigurationAttribute&gt;\n            &lt;Name&gt;Handing&lt;/Name&gt;\n            &lt;Value&gt;XO&lt;/Value&gt;\n          &lt;/ConfigurationAttribute&gt;\n          &lt;ConfigurationAttribute&gt;\n            &lt;Name&gt;LongDescription&lt;/Name&gt;\n            &lt;Value&gt;This is a long paragraph of text i want to replace with \n            the above text for the Value sub-element&lt;/Value&gt;\n          &lt;/ConfigurationAttribute&gt;\n        &lt;/ConfigurationDetail&gt;\n      &lt;/ConfigurationDetails&gt;\n    &lt;/SalesOrderLine&gt;\n  &lt;/SalesOrderLines&gt;\n&lt;/SalesOrder&gt;\n</code></pre>\n\n<p>Here is my first attempt Python code using the <code>ElementTree</code> library:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\nfrom tkinter import Tk\nfrom tkinter.filedialog import askopenfilename, asksaveasfilename\n\nTk().withdraw()\nfile = askopenfilename()\n\ntree = ET.parse(file)\nroot = tree.getroot()\n\ndef model():\n    for ConfigurationAttribute in root.iter('ConfigurationAttribute'):\n        descrip = ConfigurationAttribute.find('Name').text\n        model = ''\n\n        if descrip == 'ConfigurationModel':\n            model = ConfigurationAttribute.find('Value').text\n\ndef handing():\n    for ConfigurationAttribute in root.iter('ConfigurationAttribute'):\n        descrip = ConfigurationAttribute.find('Name').text\n        handing = ''\n\n        if descrip == 'Handing' and ConfigurationAttribute.find('Value') is \nnot None:\n            handing = ConfigurationAttribute.find('Value').text\n\ndef width():\n    for ConfigurationAttribute in root.iter('ConfigurationAttribute'):\n        descrip = ConfigurationAttribute.find('Name').text\n        width = ''\n\n        if descrip == 'EXWidth':\n            width = ConfigurationAttribute.find('Value').text\n\ndef height():\n    for ConfigurationAttribute in root.iter('ConfigurationAttribute'):\n        descrip = ConfigurationAttribute.find('Name').text\n        height = ''\n\n         if descrip == 'EXHeight':\n            height = ConfigurationAttribute.find('Value').text\n\nfor ConfigurationAttribute in root.iter('ConfigurationAttribute'):\n    descrip = ConfigurationAttribute.find('Name').text\n\n    if descrip == 'LongDescription':\n        model()\n        handing()\n        width()\n        height()        \n        ConfigurationAttribute.find('Value').text = str(model), str(handing), \n            str(width), '\" x ', str(height), '\"' \n\ntree.write(asksaveasfilename(defaultextension='.xml',))\n</code></pre>\n\n<p>This outputs errors. What I am looking is the paragraph of text in the Value sub-element to be replaced with the Value sub-element text from the ConfigurationModel, Handing, EXWidth, and EXHeight Name sub-elements like so:</p>\n\n<pre><code>&lt;ConfigurationAttribute&gt;\n    &lt;Name&gt;LongDescription&lt;/Name&gt;\n    &lt;Value&gt; HV, XO, 59.5\" x 59.5\"&lt;/Value&gt;\n&lt;/ConfigurationAttribute&gt;\n</code></pre>\n\n<p>Below is the error I receive when running the code:</p>\n\n<p>Traceback (most recent call last):\n  File \"\\app\\users\\Home\\natep\\Documents\\NP\\py\\PrestoParse.py\", line 59, in \n    tree.write(asksaveasfilename(defaultextension='.xml',))\n  File \"C:\\Users\\natep.RANDK\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\xml\\etree\\ElementTree.py\", line 777, in write\n    short_empty_elements=short_empty_elements)\n  File \"C:\\Users\\natep.RANDK\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\xml\\etree\\ElementTree.py\", line 942, in _serialize_xml\n    short_empty_elements=short_empty_elements)\n  File \"C:\\Users\\natep.RANDK\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\xml\\etree\\ElementTree.py\", line 942, in _serialize_xml\n    short_empty_elements=short_empty_elements)\n  File \"C:\\Users\\natep.RANDK\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\xml\\etree\\ElementTree.py\", line 942, in _serialize_xml\n    short_empty_elements=short_empty_elements)\n  [Previous line repeated 3 more times]\n  File \"C:\\Users\\natep.RANDK\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\xml\\etree\\ElementTree.py\", line 939, in _serialize_xml\n    write(_escape_cdata(text))\nTypeError: write() argument must be str, not tuple</p>\n\n<p>In the output file the Value sub-element I'm attempting to change is empty with no closing tag and everything past this is now deleted.</p>\n"}, {"tags": ["javascript", "python", "pdf", "pdf.js"], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 3043308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5125d1e8469bc87c02d8a8443c3d1052?s=128&d=identicon&r=PG&f=1", "display_name": "J. Owens", "link": "https://stackoverflow.com/users/3043308/j-owens"}, "is_accepted": true, "score": 1, "last_activity_date": 1533827360, "creation_date": 1533827360, "answer_id": 51770494, "question_id": 51756026, "link": "https://stackoverflow.com/questions/51756026/parsing-pdf-files-using-python/51770494#51770494", "title": "Parsing PDF files using Python", "body": "<p>For searching for text within a PDF file you can use <a href=\"http://pymupdf.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">PyMuPDF</a> or <a href=\"https://github.com/pdfminer/pdfminer.six\" rel=\"nofollow noreferrer\">pdfminer</a>. PyMuPDF would also let you create a PDF viewer and highlight the text if that's what you have in mind.</p>\n"}], "owner": {"reputation": 25, "user_id": 9644501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13838345c5f34b987bee773f2a8a7430?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Agarwal", "link": "https://stackoverflow.com/users/9644501/sanket-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 1, "accepted_answer_id": 51770494, "answer_count": 1, "score": 0, "last_activity_date": 1533827360, "creation_date": 1533764423, "question_id": 51756026, "link": "https://stackoverflow.com/questions/51756026/parsing-pdf-files-using-python", "title": "Parsing PDF files using Python", "body": "<p>(1) Is there a way to search for texts in a pdf file and go to that location in the pdf file using Python?\n(2) Is there a way to highlight a text in a pdf file and that text get extracted, using Python?</p>\n\n<p>I tried using Javascript pdf.js, which actually worked but I want to try Python. Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["python", "pandas", "datetime"], "comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1533764361, "post_id": 51755969, "comment_id": 90471578, "body": "I think you should try it again. I just did <code>&gt;&gt;&gt; datetime.datetime(2018, 7, 23, 8, 0, 36, 726000).timestamp() * 10**6</code> and got 1532354436726000.0"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1533764674, "post_id": 51755969, "comment_id": 90471692, "body": "Ok, so why does it depends on the computer then?"}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1533764731, "post_id": 51755969, "comment_id": 90471716, "body": "It shouldn&#39;t. What version of Python are you using?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1533765037, "post_id": 51755969, "comment_id": 90471818, "body": "<code>sys.version_info(major=3, minor=5, micro=2, releaselevel=&#39;final&#39;, serial=0)</code>"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1533765224, "post_id": 51755969, "comment_id": 90471884, "body": "Can&#39;t reproduce your error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1533765599, "post_id": 51755969, "comment_id": 90472002, "body": "Well I noticed this at work, so there&#39;s at least two computers on this planet that behave like this. I suspected that might be more."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1533766155, "post_id": 51756295, "comment_id": 90472187, "body": "I suspected it might be something to do with timezone. However I still don&#39;t get it. That datetime object doesn&#39;t know about timezone. pandas.to_datetime does&#39;t know about timezone. So how does the discrepancy appear?"}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1533766290, "post_id": 51756295, "comment_id": 90472225, "body": "Because they are both assuming different timezones. See the python docs I linked to.   The timezone in both cases isn&#39;t explicitly determined. For example on my python program, <code>pandas.to_datetime()</code> seems to give me UTC and <code>datetime.datetime()</code> seems to assume local time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1533766425, "post_id": 51756295, "comment_id": 90472258, "body": "So is there a way to explicitely tell the constructor to assume UTC on instantiation, as opposed to having to call <code>.replace</code> and use the external module <code>pytz</code>?"}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1533766503, "post_id": 51756295, "comment_id": 90472281, "body": "Yes its a <code>tzinfo</code> kwarg of the constructor so <code>datetime.datetime(2018, 7, 23, 7, 0, 36, 726000, tzinfo=datetime.timezone.utc)</code> will work"}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1533766522, "post_id": 51756295, "comment_id": 90472288, "body": "Probably cleaner"}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1533766665, "post_id": 51756295, "comment_id": 90472336, "body": "For pandas you can use <code>pd.to_datetime(1532329236726000, unit=&quot;us&quot;, utc=True)</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1533766813, "post_id": 51756295, "comment_id": 90472379, "body": "Fantastic. Please add those two last comments to the answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1533767194, "post_id": 51756295, "comment_id": 90472501, "body": "Although.... This way I end up with two aware objects. I&#39;d prefer working with naive objects."}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1533771651, "post_id": 51756295, "comment_id": 90473519, "body": "You can&#39;t compare two naive datetime objects and expect to get consistent results unfortunately"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "edited": false, "score": 0, "creation_date": 1534714751, "post_id": 51756295, "comment_id": 90793750, "body": "I&#39;m still confused, actually. I just want to obtain the number of microseconds between epoch and right now. Note, no timezones involved. What is the correct way to do that?"}, {"owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "edited": false, "score": 0, "creation_date": 1534810782, "post_id": 51756295, "comment_id": 90829977, "body": "So unless you define a timezone that is not well defined, you can&#39;t do this consistently and expect the same results. See the link I posted in my answer"}], "tags": [], "owner": {"reputation": 471, "user_id": 6801991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MGoA91yGouk/AAAAAAAAAAI/AAAAAAAABmQ/XdaNdU--HxE/photo.jpg?sz=128", "display_name": "hilton92", "link": "https://stackoverflow.com/users/6801991/hilton92"}, "is_accepted": true, "score": 0, "last_activity_date": 1533766928, "last_edit_date": 1533766928, "creation_date": 1533765916, "answer_id": 51756295, "question_id": 51755969, "link": "https://stackoverflow.com/questions/51755969/mystery-times-conversion-pandas-and-datetime/51756295#51756295", "title": "Mystery times conversion (pandas and datetime)", "body": "<p>This will depend on the timezone info of the datetime object you create. YOu are in fact creating a naive timezone object in both cases which does not have a specific timezone set</p>\n\n<p><code>datetime.datetime()</code> objects may assume a local timezone as opposed to UTC which your <code>pd.to_datetime()</code> assumes</p>\n\n<p><code>datetime.datetime(2018, 7, 23, 7, 0, 36, 726000).replace(tzinfo=pytz.utc).timestamp() * 10**6</code> returns the same epoch time you put into your original question</p>\n\n<p>From the python docs</p>\n\n<p>\"A naive object does not contain enough information to unambiguously locate itself relative to other date/time objects. Whether a naive object represents Coordinated Universal Time (UTC), local time, or time in some other timezone is purely up to the program, just like it is up to the program whether a particular number represents metres, miles, or mass. Naive objects are easy to understand and to work with, at the cost of ignoring some aspects of reality.\"</p>\n\n<p><a href=\"https://docs.python.org/3/library/datetime.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/datetime.html</a></p>\n\n<p>You can explicitly tell both functions in your answer to use UTC with a kwarg to the constructors (and without using <code>pytz</code> as below)</p>\n\n<p><code>datetime.datetime(2018, 7, 23, 7, 0, 36, 726000, tzinfo=datetime.timezone.utc)</code></p>\n\n<p><code>pd.to_datetime(1532329236726000, unit=\"us\", utc=True)</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1950164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 51756295, "answer_count": 1, "score": 1, "last_activity_date": 1533766928, "creation_date": 1533764133, "question_id": 51755969, "link": "https://stackoverflow.com/questions/51755969/mystery-times-conversion-pandas-and-datetime", "title": "Mystery times conversion (pandas and datetime)", "body": "<p>Can anyone explain this?</p>\n\n<pre><code>import pandas as pd\nimport datetime\npd.to_datetime(1532329236726000, unit=\"us\")\n</code></pre>\n\n<p>returns <code>Timestamp('2018-07-23 07:00:36.726000')</code></p>\n\n<pre><code>datetime.datetime(2018, 7, 23, 8, 0, 36, 726000).timestamp() * 10**6\n</code></pre>\n\n<p>returns <code>1532329236726000.0</code>.</p>\n\n<p>So, is <code>1532329236726000</code> 2018-07-23 07:00:36 or 2018-07-23 08:00:36 ?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9374356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af3cc5c99d9781466f8dbf62062c21b3?s=128&d=identicon&r=PG&f=1", "display_name": "clockworkss", "link": "https://stackoverflow.com/users/9374356/clockworkss"}, "edited": false, "score": 0, "creation_date": 1533814063, "post_id": 51756051, "comment_id": 90490055, "body": "Hi @piRSquared, forget my previous comment, found a neat way to implement your update concat suggestion.  This worked and is easily iterated to populate my dataframe, now onto finding a way to ensure indices align !  thanks again for the prompt help!   <code>import numpy as np import pandas as pd  df1 = pd.DataFrame(     columns=pd.MultiIndex.from_product([&#39;ID1 ID2 ID3&#39;.split(), range(4)]) )  df2 = pd.DataFrame([[1, 2, 3, 4]]*3,columns=range(4))  df1=df1.append(pd.concat({&#39;ID1&#39;: df2}, axis=1))</code> PS: apologies for the horrible formatting, being new to stackoverflow, i&#39;m a bit clumsy."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1533764976, "last_edit_date": 1533764976, "creation_date": 1533764624, "answer_id": 51756051, "question_id": 51755927, "link": "https://stackoverflow.com/questions/51755927/adding-a-dataframe-to-a-multindex-dataframe/51756051#51756051", "title": "Adding a Dataframe to a multindex dataframe", "body": "<h2>Setup</h2>\n\n<pre><code>df1 = pd.DataFrame(\n    [[1, 2, 3, 4, 5, 6] * 2] * 3,\n    columns=pd.MultiIndex.from_product(['ID1 ID2 ID3'.split(), range(4)])\n)\n\ndf2 = df1.ID1 * 2\n</code></pre>\n\n<hr>\n\n<pre><code>df1\n\n  ID1          ID2          ID3         \n    0  1  2  3   0  1  2  3   0  1  2  3\n0   1  2  3  4   5  6  1  2   3  4  5  6\n1   1  2  3  4   5  6  1  2   3  4  5  6\n2   1  2  3  4   5  6  1  2   3  4  5  6\n</code></pre>\n\n<hr>\n\n<pre><code>df2\n\n    0  1  2  3\n0   2  4  6  8\n1   2  4  6  8\n2   2  4  6  8\n</code></pre>\n\n<hr>\n\n<p>The problem is that Pandas is trying to line up indices (or columns in this case).  We can do some transpose/join trickery but I'd rather avoid that.</p>\n\n<h2>Option 1</h2>\n\n<p>Take advantage of the fact that we can assign via <code>loc</code> an array so long as the shape matches up.  Well, we better make sure it does and that the order of columns and index are correct.  I use <code>align</code> with the <code>right</code> parameter to do this.  Then assign the values of the aligned <code>df2</code></p>\n\n<pre><code>df1.loc[:, 'ID1'] = df2.align(df1.ID1, 'right')[0].values\ndf1\n\n  ID1          ID2          ID3         \n    0  1  2  3   0  1  2  3   0  1  2  3\n0   2  4  6  8   5  6  1  2   3  4  5  6\n1   2  4  6  8   5  6  1  2   3  4  5  6\n2   2  4  6  8   5  6  1  2   3  4  5  6\n</code></pre>\n\n<hr>\n\n<h2>Option 2</h2>\n\n<p>Or, we can give <code>df2</code> the additional level of column indexing that we need to lined it up.  The use <code>update</code> to replace the relevant cells in place.</p>\n\n<pre><code>df1.update(pd.concat({'ID1': df2}, axis=1))\ndf1\n\n  ID1          ID2          ID3         \n    0  1  2  3   0  1  2  3   0  1  2  3\n0   2  4  6  8   5  6  1  2   3  4  5  6\n1   2  4  6  8   5  6  1  2   3  4  5  6\n2   2  4  6  8   5  6  1  2   3  4  5  6\n</code></pre>\n\n<hr>\n\n<h2>Option 3</h2>\n\n<p>A creative way using <code>stack</code> and <code>assign</code> with <code>unstack</code></p>\n\n<pre><code>df1.stack().assign(ID1=df2.stack()).unstack()\n\n  ID1          ID2          ID3         \n    0  1  2  3   0  1  2  3   0  1  2  3\n0   2  4  6  8   5  6  1  2   3  4  5  6\n1   2  4  6  8   5  6  1  2   3  4  5  6\n2   2  4  6  8   5  6  1  2   3  4  5  6\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9374356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af3cc5c99d9781466f8dbf62062c21b3?s=128&d=identicon&r=PG&f=1", "display_name": "clockworkss", "link": "https://stackoverflow.com/users/9374356/clockworkss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 51756051, "answer_count": 1, "score": 2, "last_activity_date": 1533764976, "creation_date": 1533763894, "last_edit_date": 1533764069, "question_id": 51755927, "link": "https://stackoverflow.com/questions/51755927/adding-a-dataframe-to-a-multindex-dataframe", "title": "Adding a Dataframe to a multindex dataframe", "body": "<p>I'm trying to create a historical time-series of a number of identifiers for a number of different metrics, as part of that i'm trying to create multi index dataframe and then \"fill it\" with the individual dataframes. </p>\n\n<p>Multi Index: </p>\n\n<pre><code>                   ID1                 ID2\n             ITEM1      ITEM2     ITEM1      ITEM2 \nindex                                                    \n</code></pre>\n\n<p>Dataframe to insert </p>\n\n<pre><code>      ITEM1        ITEM2 \nDate\n\na\nb\nc\n</code></pre>\n\n<p>looking through the official docs and this website i found the following relevant: \n<a href=\"https://stackoverflow.com/questions/50395427/add-single-index-data-frame-to-multi-index-data-frame-pandas-python\">Add single index data frame to multi index data frame, Pandas, Python</a> and the associated pandas official docs pages: \n<a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.append.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.append.html</a>\n<a href=\"https://pandas.pydata.org/pandas-docs/stable/advanced.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/advanced.html</a> </p>\n\n<p>i've managed with something like : </p>\n\n<pre><code>for i in df1.index: \nfor j in df2.columns:\n    df1.loc[i,(ID,j)]=df2.loc[i,j]\n</code></pre>\n\n<p>but it seems highly inefficient when i need to do this across circa 100 dataframes. </p>\n\n<p>for some reason a simply </p>\n\n<pre><code>df1.loc[i,(ID)]=df2.loc[i] doesn't seem to work \n</code></pre>\n\n<p>neither does : </p>\n\n<pre><code>df1[ID1]=df1.append(df2) \n</code></pre>\n\n<p>which returns a Cannot set a frame with no defined index and a value that cannot be converted to a Series \nmy understanding from looking around is that this is because im effectively leaving half the dataframe empty ( ragged list? ) </p>\n\n<p>any help appreciated on how to iteratively populate my multi index DF would be greatly appreciated. </p>\n\n<p>let me know if i've missed relevant information,</p>\n\n<p>cheers.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 1, "creation_date": 1533764100, "post_id": 51755919, "comment_id": 90471483, "body": "when you do <code>attackdmg = attackdmg * (2,5)</code>, it is returning a tuple of <code>(2,5)</code> repeated <code>attackdmg</code> times"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1533764739, "post_id": 51755919, "comment_id": 90471719, "body": "What did you want that line to do? Multiply by 2.5? Multiply by a random number from 2 to 5? Something different?"}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 7723054, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-KJNiHPvH0mU/AAAAAAAAAAI/AAAAAAAABrY/PO1Nf1Vqzs4/photo.jpg?sz=128", "display_name": "The Elemental of Destruction", "link": "https://stackoverflow.com/users/7723054/the-elemental-of-destruction"}, "is_accepted": false, "score": 0, "last_activity_date": 1533764989, "last_edit_date": 1533764989, "creation_date": 1533764195, "answer_id": 51755981, "question_id": 51755919, "link": "https://stackoverflow.com/questions/51755919/error-with-subtraction-with-variables/51755981#51755981", "title": "Error with subtraction with variables", "body": "<p>The problem is the line <code>attackdmg = attackdmg * (2,5)</code> where you are multiplying an integer by the tuple <code>(2,5)</code>.</p>\n\n<p>I don't know what you were trying to do there, but that line of code works like this: if <code>attackdmg = 1</code>, you get <code>(2,5)</code>, if <code>attackdmg = 2</code>, you get <code>(2,5,2,5)</code>, and so on.</p>\n\n<p>As you are new to python, it may be useful to explain what a tuple is. A tuple is a type of list that is immutable. It can contain one or more values. To get an item from a tuple, simply use <code>tup[index]</code> where 'tup' is the tuple and 'index' is the index of the value you want to return.</p>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 8786679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94448167a4d38675ca935f40bb444e12?s=128&d=identicon&r=PG&f=1", "display_name": "hbgoddard", "link": "https://stackoverflow.com/users/8786679/hbgoddard"}, "is_accepted": false, "score": 0, "last_activity_date": 1533764308, "creation_date": 1533764308, "answer_id": 51756007, "question_id": 51755919, "link": "https://stackoverflow.com/questions/51755919/error-with-subtraction-with-variables/51756007#51756007", "title": "Error with subtraction with variables", "body": "<p>The line <code>attackdmg = attackdmg * (2,5)</code> should presumably be <code>attackdmg = attackdmg * 2.5</code>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10184358"}, "is_accepted": false, "score": 0, "last_activity_date": 1533853272, "creation_date": 1533853272, "answer_id": 51776509, "question_id": 51755919, "link": "https://stackoverflow.com/questions/51755919/error-with-subtraction-with-variables/51776509#51776509", "title": "Error with subtraction with variables", "body": "<p>I just missed randint before the (2,5). So it was a tuple instead.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10184358"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533853272, "creation_date": 1533763837, "last_edit_date": 1533763982, "question_id": 51755919, "link": "https://stackoverflow.com/questions/51755919/error-with-subtraction-with-variables", "title": "Error with subtraction with variables", "body": "<p>I keep getting this error,</p>\n\n<pre><code>       line 37, in &lt;module&gt;\n    ahealth = ahealth - attackdmg\nTypeError: unsupported operand type(s) for -: 'int' and 'tuple'\n</code></pre>\n\n<p>It was for this line of code.</p>\n\n<pre><code>if playerab == ('Attack'):\n        attackdmg = randint(2,4)\n        pcrit = randint(1,4)\n        sleep(1)\n        if  pcrit == randint(1,4):\n            attackdmg = attackdmg * (2,5)\n            print('CRIT!')\n        print('You decide to attack the Orc.')\n        sleep(1)\n        ahealth = ahealth - attackdmg\n        print('You hit the orc for', (attackdmg))\n        sleep(1)\n        print('The Orc has', (ahealth), ('health remaining.'))\n        print\n        orcturn = True\n        playerturn = False\n</code></pre>\n\n<p>I don't understand what is going on here, all of these variables are numbers.</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["python", "python-3.x", "selenium"], "comments": [{"owner": {"reputation": 67, "user_id": 10180321, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qSnhxN6_0jA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ppKDI0ZTrrdRI23Vkbl8Hzc7tcSQ/mo/photo.jpg?sz=128", "display_name": "sette", "link": "https://stackoverflow.com/users/10180321/sette"}, "edited": false, "score": 0, "creation_date": 1533766038, "post_id": 51755916, "comment_id": 90472155, "body": "Please share what error you get when you execute the code."}], "answers": [{"tags": [], "owner": {"reputation": 4578, "user_id": 5180047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Z8PTw2eJC9E/AAAAAAAAAAI/AAAAAAAAAco/2C4t6AgoQNc/photo.jpg?sz=128", "display_name": "Nick Brady", "link": "https://stackoverflow.com/users/5180047/nick-brady"}, "is_accepted": true, "score": 0, "last_activity_date": 1533771169, "last_edit_date": 1533771169, "creation_date": 1533767464, "answer_id": 51756551, "question_id": 51755916, "link": "https://stackoverflow.com/questions/51755916/selenium-calling-class-elements-doesnt-work/51756551#51756551", "title": "Selenium calling class elements doesn&#39;t work", "body": "<p>It's telling you that you can't use multiple classes within <code>find_elements_by_class_name</code>. You can only use one class at a time. Since the method returns a selenium object, you could just chain the method three times, but the better thing to do is to just use the css selector method.</p>\n\n<blockquote>\n  <p>selenium.common.exceptions.InvalidSelectorException: Message: invalid selector: Compound class names not permitted</p>\n</blockquote>\n\n<p>You should use a different method. If you want to select based on multiple classes, I recommend using the <code>find_elements_by_css_selector</code> method on the driver object. The dots before the class names make what is called a class selector. You can read more about selectors here: <a href=\"https://www.w3schools.com/cssref/css_selectors.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/css_selectors.asp</a></p>\n\n<pre><code>driver.find_elements_by_css_selector('.c-events__more .c-events__more_bets .js-showMoreBets')\n</code></pre>\n\n<p>Since you're hitting an anchor tag, you might want to add the <code>a</code> to the selector as well. E.g.</p>\n\n<pre><code>driver.find_elements_by_css_selector('.c-events__more .c-events__more_bets .js-showMoreBets a')\n</code></pre>\n\n<p>This is always my goto page for using python selenium. Here are all of the methods available for use -> <a href=\"http://selenium-python.readthedocs.io/locating-elements.html\" rel=\"nofollow noreferrer\">http://selenium-python.readthedocs.io/locating-elements.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 4578, "user_id": 5180047, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Z8PTw2eJC9E/AAAAAAAAAAI/AAAAAAAAAco/2C4t6AgoQNc/photo.jpg?sz=128", "display_name": "Nick Brady", "link": "https://stackoverflow.com/users/5180047/nick-brady"}, "edited": false, "score": 0, "creation_date": 1533920097, "post_id": 51764087, "comment_id": 90539354, "body": "that&#39;s what I said? If I helped answer your question, may you mark my answer as correct?"}], "tags": [], "owner": {"reputation": 975, "user_id": 9891285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b1e08b12bb0b27bc106e937dcb1559?s=128&d=identicon&r=PG&f=1", "display_name": "jubibanna", "link": "https://stackoverflow.com/users/9891285/jubibanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1533808813, "creation_date": 1533808813, "answer_id": 51764087, "question_id": 51755916, "link": "https://stackoverflow.com/questions/51755916/selenium-calling-class-elements-doesnt-work/51764087#51764087", "title": "Selenium calling class elements doesn&#39;t work", "body": "<p>using find_by_class_name() cannot handle spaces as it will think its compound classes, instead I used csselector and it works like a charm now. driver.find_elements_by_css_selector('.c-events__item.c-events__item_col')</p>\n"}], "owner": {"reputation": 975, "user_id": 9891285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b1e08b12bb0b27bc106e937dcb1559?s=128&d=identicon&r=PG&f=1", "display_name": "jubibanna", "link": "https://stackoverflow.com/users/9891285/jubibanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 51756551, "answer_count": 2, "score": 1, "last_activity_date": 1534393701, "creation_date": 1533763823, "last_edit_date": 1534393701, "question_id": 51755916, "link": "https://stackoverflow.com/questions/51755916/selenium-calling-class-elements-doesnt-work", "title": "Selenium calling class elements doesn&#39;t work", "body": "<p>I'm trying to push a button on a soccer bookmaker's web page using Selenium's Chromedriver. My problem is that nothing happens when I call Selenium's <code>driver.find_elements_by_class_name('c-events__item c-events__item_col')</code>.</p>\n\n<p><strong>Fixed:</strong></p>\n\n<p>I was trying to get the info from: a class names <code>'c-events__more c-events__more_bets js-showMoreBets'</code>. </p>\n\n<p>using <code>find_by_class_name()</code> cannot handle spaces as it will think its compound classes, instead I used csselector and it works like a charm now. \n<code>driver.find_elements_by_css_selector('.c-events__item.c-events__item_col')</code></p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533764164, "post_id": 51755907, "comment_id": 90471505, "body": "The code is not valid due to indentation problems, and I do not see where you set <code>found</code>."}, {"owner": {"reputation": 46, "user_id": 10039525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a201bdeb94a877c8ac552bfcab945eb3?s=128&d=identicon&r=PG&f=1", "display_name": "bad", "link": "https://stackoverflow.com/users/10039525/bad"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533764428, "post_id": 51755907, "comment_id": 90471605, "body": "That happened when  I pasted into stack overflow. The code does not throw an error. found is default false and is set to true in check."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533764483, "post_id": 51755907, "comment_id": 90471629, "body": "But you don&#39;t show <code>check()</code>. I suspect a scope error."}, {"owner": {"reputation": 46, "user_id": 10039525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a201bdeb94a877c8ac552bfcab945eb3?s=128&d=identicon&r=PG&f=1", "display_name": "bad", "link": "https://stackoverflow.com/users/10039525/bad"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533764801, "post_id": 51755907, "comment_id": 90471747, "body": "Showing check now. It is not a scope error as the program will run with seemingly no problems <i>until</i> it has to stop, where it doesn&#39;t"}, {"owner": {"reputation": 3536, "user_id": 1371116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e179a755e44f07873b2ccd75771123?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1371116/isaac"}, "edited": false, "score": 2, "creation_date": 1533764833, "post_id": 51755907, "comment_id": 90471762, "body": "Shouldn&#39;t <code>found</code> be <code>global</code> then?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533764989, "post_id": 51755907, "comment_id": 90471801, "body": "Yes, unless you add a <code>global found</code>, you&#39;re defining a new <code>found</code> that is local to <code>check()</code>."}, {"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "reply_to_user": {"reputation": 3536, "user_id": 1371116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e179a755e44f07873b2ccd75771123?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1371116/isaac"}, "edited": false, "score": 0, "creation_date": 1533765052, "post_id": 51755907, "comment_id": 90471821, "body": "@Isaac is right. See also <a href=\"https://stackoverflow.com/a/10588342/1076479\">stackoverflow.com/a/10588342/1076479</a>"}, {"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1533765081, "post_id": 51755907, "comment_id": 90471835, "body": "If you&#39;re hoping for parallelism (improved performance over single threaded) and you&#39;re using CPython (aka normal Python) then threads won&#39;t help you. Look into the Multiprocessing module instead."}, {"owner": {"reputation": 46, "user_id": 10039525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a201bdeb94a877c8ac552bfcab945eb3?s=128&d=identicon&r=PG&f=1", "display_name": "bad", "link": "https://stackoverflow.com/users/10039525/bad"}, "reply_to_user": {"reputation": 3536, "user_id": 1371116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e179a755e44f07873b2ccd75771123?s=128&d=identicon&r=PG", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1371116/isaac"}, "edited": false, "score": 0, "creation_date": 1533766984, "post_id": 51755907, "comment_id": 90472435, "body": "@Isaac it is global, let me clarify that. When I run a test printing found every loopThrough iteration, running check() doesn&#39;t set found to true for some reason."}, {"owner": {"reputation": 46, "user_id": 10039525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a201bdeb94a877c8ac552bfcab945eb3?s=128&d=identicon&r=PG&f=1", "display_name": "bad", "link": "https://stackoverflow.com/users/10039525/bad"}, "reply_to_user": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1533767008, "post_id": 51755907, "comment_id": 90472446, "body": "Hey guys, this was a simple mistake on my part. Sorry for wasting your time. My question still stands about the queue if you could help me there. @eddiewould Could you explan what you mean when you say it wont help me? Going through this word list with 4 threads is 4 times faster, I checked the speed."}, {"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1533783794, "post_id": 51755907, "comment_id": 90475770, "body": "@bad read up on the global interpreter lock - <a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow noreferrer\">wiki.python.org/moin/GlobalInterpreterLock</a>"}], "owner": {"reputation": 46, "user_id": 10039525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a201bdeb94a877c8ac552bfcab945eb3?s=128&d=identicon&r=PG&f=1", "display_name": "bad", "link": "https://stackoverflow.com/users/10039525/bad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1586362914, "creation_date": 1533763794, "last_edit_date": 1533766731, "question_id": 51755907, "link": "https://stackoverflow.com/questions/51755907/python-threading-infinity-looping-until-a-condition-does-not-work", "title": "python threading: infinity looping until a condition does not work", "body": "<p>I am trying to make a multithreaded python program that continuously loops through a queue object until a condition is met. I have one problem and another question. The problem is, after the condition should be met, some threads still run. Here is how I initialize the threads:</p>\n\n<pre><code>for i in range(0, number_of_threads):\n    print(\"Created thread: \"+ str(i))\n    t = threading.Thread(target=loopThrough)\n    #t.daemon = True\n    t.start()\n    threads[i] = t\n    time.sleep(1)\n</code></pre>\n\n<p>This works, and allows all threads to call the function. Here is the function loopThrough:</p>\n\n<pre><code>def loopThrough():\n    global found\n    global word_queue\n    while not found:\n        if word_queue.empty():\n            word_queue = buildQ()\n            print(\"Built queue because it was empty\")\n        word = word_queue.get()\n        if word == \"happy\":\n            check(word)\n</code></pre>\n\n<p>The check function (defined before loopThrough)</p>\n\n<pre><code>def check(word):\n    global found\n    found = True\n    print(len(word))\n</code></pre>\n\n<p>This is a simplification, as the actual critera/etc is irreverent and long. Here is my problem. When I call the check function, I set the found flag to true, so it doesn't loop anymore. However, the other threads still loop. What I ideally want to do is kill every thread, and use the main thread to call the check function.</p>\n\n<p>Lastly, I have one other concern. I wanted to know how to make a queue object that simply takes the object that was just gotten and moves it to the end of the  queue. I don't think building a queue like this is efficient. </p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 624, "user_id": 9392842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c069945cb9c467202aacd94eb117f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan123", "link": "https://stackoverflow.com/users/9392842/nathan123"}, "edited": false, "score": 0, "creation_date": 1533767858, "post_id": 51756041, "comment_id": 90472682, "body": "how did you locate the right url with the json data?"}, {"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "reply_to_user": {"reputation": 624, "user_id": 9392842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c069945cb9c467202aacd94eb117f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan123", "link": "https://stackoverflow.com/users/9392842/nathan123"}, "edited": false, "score": 0, "creation_date": 1533791175, "post_id": 51756041, "comment_id": 90477507, "body": "Use dev tools (I use chrome) to get the link. In it&#39;s network section there is a tab xhr. Select that tab, reload the page and find the link it produces."}], "tags": [], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "is_accepted": true, "score": 3, "last_activity_date": 1533764535, "creation_date": 1533764535, "answer_id": 51756041, "question_id": 51755889, "link": "https://stackoverflow.com/questions/51755889/how-to-scrape-text-between-data-bind/51756041#51756041", "title": "how to scrape text between data-bind?", "body": "<p>The content of that site are heavily dynamic. So, you have two options: either go for using any browser simulator like <code>selenium</code> or use the right url containing json data. The latter is undoubtedly the best way.</p>\n\n<p>This is how you can grab them (the easy way):</p>\n\n<pre><code>import requests\n\nurl = \"https://www.morganlewis.com/biosearchnew/execute?pagenum=1&amp;isInternalBioRequest=false&amp;SortingField=Last%20name&amp;currentGroup=36ef4ad43dea406895fa2d41af32fada&amp;loadCategories=true&amp;param_sitecontentcategory=OUR%20PEOPLE&amp;pagesize=500&amp;schoolsearchstring=villanova&amp;personofficeitem_sm=36ef4ad43dea406895fa2d41af32fada\"\n\nres = requests.get(url)\nfor items in res.json()['SearchResults']:\n    print(items['Title'])\n</code></pre>\n\n<p>Partial response:</p>\n\n<pre><code>Lindsay Ann Barci\nMichael N. Baxter\nJeannine T. Bishop\nJeffrey P. Bodle\nSarah E. Bouchard\nBrandon J. Brigham\nAmanda M. Bruno\nEvan W. Busteed\n</code></pre>\n"}], "owner": {"reputation": 624, "user_id": 9392842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c069945cb9c467202aacd94eb117f6d?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan123", "link": "https://stackoverflow.com/users/9392842/nathan123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 51756041, "answer_count": 1, "score": 0, "last_activity_date": 1533764535, "creation_date": 1533763644, "question_id": 51755889, "link": "https://stackoverflow.com/questions/51755889/how-to-scrape-text-between-data-bind", "title": "how to scrape text between data-bind?", "body": "<p>I am trying to scrape the name that is within the html code</p>\n\n<pre><code>&lt;h3&gt;&lt;a data-bind=\"'attr': { 'href': PersonURL }, 'text': PersonName\" \n    href=\"/bios/mbaxter\"&gt;Michael N. Baxter&lt;/a&gt;&lt;/h3&gt;\n</code></pre>\n\n<p>The code I have is bellow</p>\n\n<pre><code>url=\"https://www.morganlewis.com/our-people-results?pagenum=1&amp;sortingqs=Last%20name&amp;pagesize=500&amp;currentGroup=36ef4ad43dea406895fa2d41af32fada&amp;filtergroup=Office&amp;loadCategories=true&amp;param_sitecontentcategory=OUR%20PEOPLE&amp;schoolsearchstring=villanova&amp;subCatInfo=Office,36ef4ad43dea406895fa2d41af32fada&amp;subCatText=Office%20%3A%20Philadelphia\"\ntag='h3'\ncls=\"data-bind\"\ndef name_scrape(url,tag,cls):\n    page=requests.get(url) \n    soup=BeautifulSoup(page.content,'html.parser')\n    #print(soup.prettify())\n    find_name=soup.find_all(tag,class_=cls)\n    for entry in find_name:\n       print(entry)\n\nname_scrape(url,tag,cls)\n</code></pre>\n\n<p>it seems like the name is within the class 'data-bind'. How do I make sure that i am able to scrape the name?</p>\n"}, {"tags": ["python", "markov-chains"], "comments": [{"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "edited": false, "score": 0, "creation_date": 1533763625, "post_id": 51755857, "comment_id": 90471331, "body": "and the error is?"}, {"owner": {"reputation": 361, "user_id": 1956118, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e806c49e6e789873562608776859070?s=128&d=identicon&r=PG", "display_name": "Adilp", "link": "https://stackoverflow.com/users/1956118/adilp"}, "reply_to_user": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "edited": false, "score": 0, "creation_date": 1533763802, "post_id": 51755857, "comment_id": 90471397, "body": "@RushabhMehta TypeError: unhashable type: &#39;list&#39; python"}], "owner": {"reputation": 361, "user_id": 1956118, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e806c49e6e789873562608776859070?s=128&d=identicon&r=PG", "display_name": "Adilp", "link": "https://stackoverflow.com/users/1956118/adilp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1533763896, "answer_count": 0, "score": 0, "last_activity_date": 1533835710, "creation_date": 1533763500, "last_edit_date": 1533835710, "question_id": 51755857, "link": "https://stackoverflow.com/questions/51755857/using-lists-as-value-in-a-dictionary", "closed_reason": "Duplicate", "title": "Using lists as VALUE in a dictionary", "body": "<p>UPDATE: I figured out my issue</p>\n\n<pre><code>gram = notesNumbers[i:(i+1)];\n</code></pre>\n\n<p>When I print <code>gram</code> it prints it as an array with only 1 value. For example it would print <code>[55]</code>.  Later in my code im referencing gram, however its using the whole array instead of the one value inside of it. To make it work I had to do <code>gram[0]</code> But a much easier approach was to just rewrite the above code to:</p>\n\n<pre><code>gram = notesNumbers[i]\n</code></pre>\n\n<p>Now when I print <code>gram</code> it give me a value ex) <code>55</code></p>\n\n<hr>\n\n<p>In my code </p>\n\n<p>I understand people have had similar issues, but in my context how do I fix this!</p>\n\n<p>Im trying to do some prediction based on markov chains.</p>\n\n<p>I have a very simple program. I have used the library mido to get music notes. I have parsed it and have all the notes in an array called <code>notesNumbers</code> </p>\n\n<p>the <code>notesNumbers</code> array output looks like this </p>\n\n<p>[55, 62, 67, 74, 55, 62, 67, 74, 55, 62, 67, 74, 55, 62, 67, 74, 55, 62, 67, 74, 55, 62, 67, 74, 55, 62, 67, 74, 55, 48, 52, 55, 59, 67, 71, 67, 71, 67, 71, 59, 67, 71]</p>\n\n<p>I then created a new empty dictionary called <code>ngrams</code> I have set a starting point for the markovchain as 88 noted by the variable <code>currentGram</code></p>\n\n<p>what I then proceed to do is to create the markov transition 'matrix'. I use my dictionary to create a key with a number, then for the value I create an array which holds every possible \"next number\" that occurs in the given <code>notesNumber</code> </p>\n\n<p>What I should be seeing if I print <code>ngrams</code> would be something like this (example):\n{'88': ['45', '55', '67', '45', '45', '33', '77', '90'], '32': ['44', '76', '77'}</p>\n\n<p>however when trying to add to my dictionary by iterating I get the error <code>TypeError: unhashable type: 'list' python</code></p>\n\n<p>I get the error in the line that contains </p>\n\n<pre><code>if not gram in ngrams:\n</code></pre>\n\n<p>Code is below:</p>\n\n<pre><code>from midiutil.MidiFile import MIDIFile\nimport random\nimport mido\nfrom mido import MidiFile\nfrom mido import MidiTrack\n\n\n#ignore midi stuff\nmid = MidiFile()\ntrack = MidiTrack()\nmid.tracks.append(track)\n\nnotesNumbers = []\n#notesNumbers = notesNumbers2\n\n\nngrams= {}\n#Parsing message to get the notes to be played\nfor msg in MidiFile('song.mid'):\n    if (not msg.is_meta):\n        if (msg.type == 'note_on'):\n            notesNumbers.append(msg.note)\n\n\n\n#print(notesNumbers)\n\n#starting number I picked\ncurrentGram = 88\n#print notesNumbers\n\n\n#myOtherString = \"\".join(str(elm) for elm in notesNumbers)\n#print notesNumbers2\n#currentGram = random.choice(myOtherString)\n\n\nngrams= {}\n#print currentGram\n\nprint(len(notesNumbers))\n\n#creating markov transition matrix without directly doing probabilty \n#Creating a dictionary, getting each number and the frequency of the following number \nfor i in range(len(notesNumbers)):\n    print(\"about to iterate\")\n    gram = notesNumbers[i:(i+1)];\n    print(gram)\n    print(\"finish iterate\")\n    lessthan = len(notesNumbers) - 1\n\n    if not gram in ngrams:\n        ngrams[gram] = []\n    else:\n        if (i &lt; lessthan):\n            nextgram = notesNumbers[i+1]\n\n        ngrams[gram].append(nextgram)\n\n\nprint(ngrams)\n\n\nresult = []\nresult.append(currentGram)\n\n#getting next state\nfor i in range(len(notesNumbers)):\n    possibilites = ngrams[currentGram]\n\n    #print possibilites\n\n    nextChoice = random.choice(possibilites)\n    #print nextChoice\n    result.append(nextChoice)\n\n    currentGram = nextChoice\nprint(\"Restult\")\nprint result\n</code></pre>\n"}, {"tags": ["python", "encryption", "zip"], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 7785154, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Ct0mPonpY2U/AAAAAAAAAAI/AAAAAAAAAEU/xaNbdn1nDts/photo.jpg?sz=128", "display_name": "AlexSB", "link": "https://stackoverflow.com/users/7785154/alexsb"}, "edited": false, "score": 0, "creation_date": 1534327738, "post_id": 51755890, "comment_id": 90665752, "body": "Thank you for the answer! I end up using <code>subprocess</code> but on a different way. <code>archive_command = [loc_7z, &#39;a&#39;, &#39;file.zip&#39;, &#39;-ppassword&#39;] + list_files</code> and then calling it."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1533763645, "creation_date": 1533763645, "answer_id": 51755890, "question_id": 51755825, "link": "https://stackoverflow.com/questions/51755825/create-encrypted-zip-file-from-multiple-files-on-python/51755890#51755890", "title": "Create encrypted Zip file from multiple files on Python", "body": "<p>The easy answer is to not use <code>shell=True</code>, and instead create a list of arguments. Then you can just stick the list of filenames onto that list of arguments. And you don't have to worry about quoting spaces or other funky characters in a way that works even if the filenames have quotes in them, etc.</p>\n\n<pre><code>def makezip(*files):\n    loc_7z = r\"C:\\Program Files\\7-Zip\\7z.exe\"\n    archive_command = [loc_7z, 'file.zip', *files]\n    subprocess.call(archive_command)\n\nmakezip('file_name.xls')\nmakezip('file name.xls')\nmakezip('file1.xls', 'file2.xls', 'file3.xls')\nmakezip(*big_old_list_of_files)\n</code></pre>\n\n<hr>\n\n<p>If you really must use <code>shell=True</code> for some reason, then you can't just turn the list of files into a string, you have to add each string to the end. Sort of like this:</p>\n\n<pre><code>fileargs = ' '.join('\"{}\".format(file) for file in files)\narchive_command = r'\"{}\" a \"{}\" {}'.format(loc_7z, 'file.zip', fileargs)\n</code></pre>\n\n<p>That's already pretty horrible\u2014and making it work with proper quoting rules for Windows is even more horrible. Just let <code>subprocess</code> do the work for you.</p>\n"}], "owner": {"reputation": 403, "user_id": 7785154, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-Ct0mPonpY2U/AAAAAAAAAAI/AAAAAAAAAEU/xaNbdn1nDts/photo.jpg?sz=128", "display_name": "AlexSB", "link": "https://stackoverflow.com/users/7785154/alexsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533763645, "creation_date": 1533763381, "question_id": 51755825, "link": "https://stackoverflow.com/questions/51755825/create-encrypted-zip-file-from-multiple-files-on-python", "title": "Create encrypted Zip file from multiple files on Python", "body": "<p>I want to create an encrypted zip file which inlcudes 3 files. </p>\n\n<p>For now I have this solution which allows me to create an encrypted zip with only one file. </p>\n\n<pre><code>loc_7z = r\"C:\\Program Files\\7-Zip\\7z.exe\"\n\narchive_command = r'\"{}\" a \"{}\" \"{}\"'.format(loc_7z, 'file.zip', 'file_name.xls')\n\nsubprocess.call(archive_command, shell=True)\n</code></pre>\n\n<p>When I try to pass a list of files as the third parameter it crashes. </p>\n\n<p>What format should the list of files have? I'm open to try different approaches as well. </p>\n\n<p>Thank you. </p>\n"}, {"tags": ["python", "pandas", "raspberry-pi", "raspberry-pi3"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533765529, "post_id": 51756182, "comment_id": 90471985, "body": "how do I check which python interpreter pip is linked to?"}, {"owner": {"reputation": 617, "user_id": 9650720, "user_type": "registered", "profile_image": "https://graph.facebook.com/1885064461758291/picture?type=large", "display_name": "Mr-Programs", "link": "https://stackoverflow.com/users/9650720/mr-programs"}, "reply_to_user": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533765930, "post_id": 51756182, "comment_id": 90472123, "body": "first of all, do you know which version are you using to run your final code?"}, {"owner": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533766022, "post_id": 51756182, "comment_id": 90472147, "body": "yup python 3.5.3 I believe"}, {"owner": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533766032, "post_id": 51756182, "comment_id": 90472151, "body": "definitiely above python 3"}, {"owner": {"reputation": 617, "user_id": 9650720, "user_type": "registered", "profile_image": "https://graph.facebook.com/1885064461758291/picture?type=large", "display_name": "Mr-Programs", "link": "https://stackoverflow.com/users/9650720/mr-programs"}, "reply_to_user": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533766326, "post_id": 51756182, "comment_id": 90472231, "body": "pip is usually linked to python 2 by default, try using pip3 to install pandas and see if the import works"}, {"owner": {"reputation": 617, "user_id": 9650720, "user_type": "registered", "profile_image": "https://graph.facebook.com/1885064461758291/picture?type=large", "display_name": "Mr-Programs", "link": "https://stackoverflow.com/users/9650720/mr-programs"}, "reply_to_user": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533767556, "post_id": 51756182, "comment_id": 90472593, "body": "I assume it worked now since you haven&#39;t said anything (?)"}, {"owner": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "edited": false, "score": 0, "creation_date": 1533768047, "post_id": 51756182, "comment_id": 90472716, "body": "Oh yeah sorry it worked. I marked your answer as correct and have moved on to another problem."}], "tags": [], "owner": {"reputation": 617, "user_id": 9650720, "user_type": "registered", "profile_image": "https://graph.facebook.com/1885064461758291/picture?type=large", "display_name": "Mr-Programs", "link": "https://stackoverflow.com/users/9650720/mr-programs"}, "is_accepted": true, "score": 2, "last_activity_date": 1533765215, "creation_date": 1533765215, "answer_id": 51756182, "question_id": 51755824, "link": "https://stackoverflow.com/questions/51755824/error-importing-pandas-on-raspberry-pi/51756182#51756182", "title": "Error importing pandas on Raspberry Pi", "body": "<p><a href=\"https://www.raspberrypi.org/forums/viewtopic.php?t=191667\" rel=\"nofollow noreferrer\">Python 2.7.13 and and 3.5.3 are both installed</a> by default on Raspberry Pi.</p>\n\n<p>This might cause some issues if you install Pandas on the version that you aren't supposed to. Like you might be using another python version for production. For example I use python 3.6 on my projects and I currently have all 2.7, 3.5 and 3.6 installed at the same time.</p>\n\n<p>You should check which python interpreter pip is linked to, since it might be installing you pandas on your Python 2 installation.</p>\n\n<p>Start by trying pip3 instead of pip</p>\n\n<p>In my case I also installed python3.6 so I had to use pip3.6</p>\n"}], "owner": {"reputation": 343, "user_id": 10023182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CRBT7Y0byA0/AAAAAAAAAAI/AAAAAAAAAJk/fHu6q4w5YA4/photo.jpg?sz=128", "display_name": "ab123", "link": "https://stackoverflow.com/users/10023182/ab123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1773, "favorite_count": 0, "accepted_answer_id": 51756182, "answer_count": 1, "score": 0, "last_activity_date": 1533765215, "creation_date": 1533763374, "last_edit_date": 1533764177, "question_id": 51755824, "link": "https://stackoverflow.com/questions/51755824/error-importing-pandas-on-raspberry-pi", "title": "Error importing pandas on Raspberry Pi", "body": "<p>I am trying to work with pandas on the Raspberry Pi, but it seems that Python is not recognizing that I have the module installed and is saying that pandas does not exist, despite the fact that I have used:</p>\n\n<pre><code>pip install pandas\n</code></pre>\n\n<p>as well as:</p>\n\n<pre><code>sudo apt-get install python-pandas\n</code></pre>\n\n<p>I would appreciate it if someone could let me know what is causing this strange error.</p>\n\n<p>UPDATE:</p>\n\n<p>Here is the error:</p>\n\n<pre><code> Traceback (most recent call last):\nFile \"/home/pi/Desktop/NeuralNetwork.py\", line 4, in &lt;module&gt;\n    import pandas as pd\nImportError: No module named 'pandas'\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 999, "user_id": 9683408, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NL6ApeRSPGk/AAAAAAAAAAI/AAAAAAAAAAo/9K9ux_rYMMo/photo.jpg?sz=128", "display_name": "Cory Nezin", "link": "https://stackoverflow.com/users/9683408/cory-nezin"}, "edited": false, "score": 1, "creation_date": 1533773166, "post_id": 51755742, "comment_id": 90473795, "body": "It&#39;s hard to say without access to the data, but it seems fishy that you&#39;re using sigmoid cross entropy as a loss, but you&#39;re then calling a softmax on the logits."}, {"owner": {"reputation": 61, "user_id": 9141813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ea8b9ec2a06656e119631e0505633c?s=128&d=identicon&r=PG&f=1", "display_name": "AM128", "link": "https://stackoverflow.com/users/9141813/am128"}, "reply_to_user": {"reputation": 999, "user_id": 9683408, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NL6ApeRSPGk/AAAAAAAAAAI/AAAAAAAAAAo/9K9ux_rYMMo/photo.jpg?sz=128", "display_name": "Cory Nezin", "link": "https://stackoverflow.com/users/9683408/cory-nezin"}, "edited": false, "score": 0, "creation_date": 1533809379, "post_id": 51755742, "comment_id": 90487232, "body": "@CoryNezin cheers - I think I lifted that from a tutorial I saw (can&#39;t track down atm..), and kept it only because when I switch the loss to tf.nn.softmax_cross_entropy_with_logits_v2, the results get worse: accuracy 0.365... and loss: 12.5...(!!).  The dataset is a fake dataset, so there&#39;s a strong trend that values go up in each column as &quot;score&quot; (between 1-10) does.. might be an issue for overfitting? .csv file is here: <a href=\"https://www.mediafire.com/file/6z97ofawfa1yzbs/data.csv\" rel=\"nofollow noreferrer\">mediafire.com/file/6z97ofawfa1yzbs/data.csv</a> Problem is, I tried the model on a 1998 x 10 retail dataset which I know is fine and results were still rubbish.."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 9141813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ea8b9ec2a06656e119631e0505633c?s=128&d=identicon&r=PG&f=1", "display_name": "AM128", "link": "https://stackoverflow.com/users/9141813/am128"}, "is_accepted": true, "score": 0, "last_activity_date": 1533821564, "creation_date": 1533821564, "answer_id": 51768445, "question_id": 51755742, "link": "https://stackoverflow.com/questions/51755742/massively-worse-performance-in-tensorflow-compared-to-scikit-learn-for-logistic/51768445#51768445", "title": "Massively worse performance in Tensorflow compared to Scikit-Learn for Logistic Regression", "body": "<p>I think I got to the root of the problem - yTrain.resize and yTest.resize were stupid logic- and maths-wise and once I replaced them with one-hot encoded arrays (with help from <a href=\"https://stackoverflow.com/questions/29831489/convert-array-of-indices-to-1-hot-encoded-numpy-array\">Convert array of indices to 1-hot encoded numpy array</a>) it all started to work far better. Got the same accuracy in the end as in sk-learn (I think)!</p>\n"}], "owner": {"reputation": 61, "user_id": 9141813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ea8b9ec2a06656e119631e0505633c?s=128&d=identicon&r=PG&f=1", "display_name": "AM128", "link": "https://stackoverflow.com/users/9141813/am128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "accepted_answer_id": 51768445, "answer_count": 1, "score": 3, "last_activity_date": 1533821564, "creation_date": 1533762890, "question_id": 51755742, "link": "https://stackoverflow.com/questions/51755742/massively-worse-performance-in-tensorflow-compared-to-scikit-learn-for-logistic", "title": "Massively worse performance in Tensorflow compared to Scikit-Learn for Logistic Regression", "body": "<p>I\u2019m trying to implement a logistic regression classifier on a numerical dataset. I was having trouble getting good accuracy and loss with a model I built in Tensorflow, so to check it wasn\u2019t something in the data, I tried using scikit-learn\u2019s own LogisticRegression, and got massively better results. The difference is so big that I suspect I\u2019m doing something really basic wrong on the .tf side...</p>\n\n<p>Data preprocessing:</p>\n\n<pre><code>dt = pd.read_csv('data.csv', header=0)\nnpArray = np.array(dt)\nxvals = npArray[:,1:].astype(float)\nyvals = npArray[:,0]\nx_proc = preprocessing.scale(xvals)\n\nXTrain, XTest, yTrain, yTest = train_test_split(x_proc, yvals, random_state=1)\n</code></pre>\n\n<p>If I now do Logistic Regression with sklearn:</p>\n\n<pre><code>log_reg = LogisticRegression(class_weight='balanced')\nlog_reg.fit(XTrain, yTrain)\nyPred = log_reg.predict(XTest)\nprint (metrics.classification_report(yTest, yPred))\nprint (\"Overall Accuracy:\", round(metrics.accuracy_score(yTest, yPred),2))\n</code></pre>\n\n<p>...I get the following confusion matrix:</p>\n\n<pre><code>        precision    recall  f1-score   support\n      1       1.00      0.98      0.99        52\n      2       0.96      1.00      0.98        52\n      3       0.98      0.96      0.97        51\n      4       0.98      0.97      0.97        58\n      5       1.00      0.95      0.97        37\n      6       0.93      1.00      0.96        65\n      7       1.00      0.95      0.97        41\n      8       0.94      0.98      0.96        50\n      9       1.00      0.98      0.99        45\n     10       1.00      0.98      0.99        49\n avg/total    0.98      0.98      0.98       500\n\n Overall Accuracy: 0.98\n</code></pre>\n\n<p>Great stuff, right? Here's the Tensorflow code instead from the same point right after the split:</p>\n\n<pre><code>yTrain.resize(len(yTrain),10) #the labels are scores between 1 and 10\nyTest.resize(len(yTest),10)\n\ntf.reset_default_graph()\n\nX = tf.placeholder(tf.float32, [None, 8], name=\"input\") \nY = tf.placeholder(tf.float32, [None, 10])\n\nW = tf.Variable(tf.zeros([8, 10])) \nb = tf.Variable(tf.zeros([10])) \n\nout = (tf.matmul(X, W) + b)\npred = tf.nn.softmax(out, name=\"output\")\n\nlearning_rate = 0.001\ntraining_epochs = 100\nbatch_size = 200\ndisplay_step = 1\n\nL2_LOSS = 0.01\n\nl2 = L2_LOSS * \\\n    sum(tf.nn.l2_loss(tf_var) for tf_var in tf.trainable_variables())\n\n# Minimize error using cross entropy\ncost = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(logits = out, labels = Y)) + l2\n# Gradient Descent\noptimizer = tf.train.AdamOptimizer(learning_rate=learning_rate).minimize(cost)\n\ntrain_count = len(XTrain)\n\n#defining optimizer and accuracy\ncorrect_prediction = tf.equal(tf.argmax(pred, 1), tf.argmax(Y, 1))\n\naccuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))\n\n#----Training the model------------------------------------------\nsaver = tf.train.Saver()\n\nhistory = dict(train_loss=[], \n                 train_acc=[], \n                 test_loss=[], \n                 test_acc=[])\n\nsess=tf.InteractiveSession()\nsess.run(tf.global_variables_initializer())\n\nfor i in range(1, training_epochs + 1):\n    for start, end in zip(range(0, train_count, batch_size),\n                      range(batch_size, train_count + 1,batch_size)):\n        sess.run(optimizer, feed_dict={X: XTrain[start:end],\n                                   Y: yTrain[start:end]})\n\n    _, acc_train, loss_train = sess.run([pred, accuracy, cost], feed_dict={\n                                        X: XTrain, Y: yTrain})\n\n    _, acc_test, loss_test = sess.run([pred, accuracy, cost], feed_dict={\n                                        X: XTest, Y: yTest})\n\n    history['train_loss'].append(loss_train)\n    history['train_acc'].append(acc_train)\n    history['test_loss'].append(loss_test)\n    history['test_acc'].append(acc_test)\n\n   if i != 1 and i % 10 != 0:\n       continue\n\n   print(f'epoch: {i} test accuracy: {acc_test} loss: {loss_test}')\n\npredictions, acc_final, loss_final = sess.run([pred, accuracy, cost], feed_dict={X: XTest, Y: yTest})\n\nprint()\nprint(f'final results: accuracy: {acc_final} loss: {loss_final}')\n</code></pre>\n\n<p>Now I get the following:</p>\n\n<pre><code>epoch: 1 test accuracy: 0.41200000047683716 loss: 0.6921926140785217\nepoch: 10 test accuracy: 0.5 loss: 0.6909801363945007\nepoch: 20 test accuracy: 0.5180000066757202 loss: 0.6918861269950867\nepoch: 30 test accuracy: 0.515999972820282 loss: 0.6927152872085571\nepoch: 40 test accuracy: 0.5099999904632568 loss: 0.6933282613754272\nepoch: 50 test accuracy: 0.5040000081062317 loss: 0.6937957406044006\nepoch: 60 test accuracy: 0.5019999742507935 loss: 0.6941683292388916\nepoch: 70 test accuracy: 0.5019999742507935 loss: 0.6944747567176819\nepoch: 80 test accuracy: 0.4959999918937683 loss: 0.6947320103645325\nepoch: 90 test accuracy: 0.46799999475479126 loss: 0.6949512958526611\nepoch: 100 test accuracy: 0.4560000002384186 loss: 0.6951409578323364\n\nfinal results: accuracy: 0.4560000002384186 loss: 0.6951409578323364\n</code></pre>\n\n<p>Thoughts? I have experimented with initialising the weights (with the 2nd answer here: <a href=\"https://stackoverflow.com/questions/33640581/how-to-do-xavier-initialization-on-tensorflow\">How to do Xavier initialization on TensorFlow</a>), changing the learning rate, epochs, batch size, L2 loss etc., all to no real effect. Any help would be really appreciated...</p>\n"}, {"tags": ["python", "pudb"], "comments": [{"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1533763177, "post_id": 51755722, "comment_id": 90471188, "body": "What do you mean by &#39;unrecognized module&#39;? Could you give an example?"}, {"owner": {"reputation": 11191, "user_id": 310399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d187650935da258c633a3a0742985891?s=128&d=identicon&r=PG", "display_name": "JS.", "link": "https://stackoverflow.com/users/310399/js"}, "reply_to_user": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1533769382, "post_id": 51755722, "comment_id": 90473018, "body": "In my case, it&#39;s module (PhidgetsPython/Phidgets/Devices/InterfaceKit.py) located in another directory.  The script has no problem importing the module, but pudb apparently can&#39;t see it.   I tried adding that directory to my PYTHONPATH, but it does not appear to have helped."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 1022309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc2d2f464de886817e99c3877c82604?s=128&d=identicon&r=PG", "display_name": "tanager", "link": "https://stackoverflow.com/users/1022309/tanager"}, "edited": false, "score": 0, "creation_date": 1579304795, "post_id": 56460439, "comment_id": 105734266, "body": "What about code that is <b>not</b> generated?  I&#39;m getting this for the first time after using pudb for several years without incident.  None of the code is generated.  Anything special I need to know about Python3?  First time debugging Py3 script.  Interesting note:  I normally use set_trace() strategically located, rather than entering the debugger using &quot;python3 -m pudb ...&quot;  However, when I do that, it hits the set_trace() breakpoint and there is no source.  If, instead, I enter the debugger using &#39;-m pudb&#39; and then hit continue, which then stops at the set_trace(), the source appears."}], "tags": [], "owner": {"reputation": 21, "user_id": 6934609, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dDGGJ0ieFSM/AAAAAAAAAAI/AAAAAAAACRs/3fkce1N8aR4/photo.jpg?sz=128", "display_name": "Judit Novak", "link": "https://stackoverflow.com/users/6934609/judit-novak"}, "is_accepted": false, "score": 2, "last_activity_date": 1559737426, "creation_date": 1559737426, "answer_id": 56460439, "question_id": 51755722, "link": "https://stackoverflow.com/questions/51755722/pudb-error-no-source-code-available/56460439#56460439", "title": "PUDB Error: &lt;no source code available&gt;", "body": "<p>The way it worked for me is the following.</p>\n\n<p>I got this message when a piece of code was executed that has been generated on-the-fly. I tracked down the location where the code was generated, and added:</p>\n\n<pre><code>import linecache\nlinecache.cache[__file__] = (len(source), 0, source, __file__)\n</code></pre>\n\n<p>(where the <code>source</code> variable corresponds to the generated source)</p>\n\n<p>What I observed after, was that in <code>pudb</code> interactive mode, in the stack list a new item appeared. This new item was preceeding the one that throws the <code>&lt;no source code available&gt;</code> message. </p>\n\n<p>When I navigate on this new item, I can see the generated source.</p>\n"}], "owner": {"reputation": 11191, "user_id": 310399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d187650935da258c633a3a0742985891?s=128&d=identicon&r=PG", "display_name": "JS.", "link": "https://stackoverflow.com/users/310399/js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559737426, "creation_date": 1533762790, "question_id": 51755722, "link": "https://stackoverflow.com/questions/51755722/pudb-error-no-source-code-available", "title": "PUDB Error: &lt;no source code available&gt;", "body": "<p>I'm new to pudb.  It run fine for the most-part, but when I try to enter a library it apparently doesn't recognize, I get the following message:</p>\n\n<pre><code>  &lt;no source code available&gt;                                                                                                                                                                                                                                                                                           \n  If this is generated code and you would like the source code to show up here,\n  add it to linecache.cache, like\n\n  import linecache\n  linecache.cache[filename] = (size, mtime, lines, fullname)\n\n  You can also set the attribute _MODULE_SOURCE_CODE in the module in which this function\n  was compiled to a string containing the code.\n</code></pre>\n\n<p>I've tried importing 'linecache' and the 'cache' attribute is a dictionary.  I've tried creating an entry for the missing module a few times with no success.</p>\n\n<p>Can someone please give an example on an easier and/or practical way to add an unrecognized module to pudb?</p>\n"}, {"tags": ["python", "arrays", "keras", "save", "load"], "answers": [{"tags": [], "owner": {"reputation": 1680, "user_id": 4867531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yss9d.jpg?s=128&g=1", "display_name": "ixeption", "link": "https://stackoverflow.com/users/4867531/ixeption"}, "is_accepted": false, "score": 1, "last_activity_date": 1533763811, "creation_date": 1533763811, "answer_id": 51755913, "question_id": 51755721, "link": "https://stackoverflow.com/questions/51755721/how-to-save-keras-model-along-with-other-data-and-load-them-altogether/51755913#51755913", "title": "How to save keras model along with other data and load them altogether?", "body": "<p>You can use any serialization framework to do that. </p>\n\n<pre><code>import hickle\n\ndef save(self, path):\n      self.model.save(path)\n      hkl.dump(self.metrics, 'metrics.hkl', mode='w')\n\ndef load(self, path):\n      self.model = load_model(path)\n      self.metrics = hkl.load('metrics.hkl')\n</code></pre>\n\n<p>You can also save it as a single file, just make a list or another object out of the metrics and the model object. I would suggest to save them separately.</p>\n"}], "owner": {"reputation": 1092, "user_id": 6101336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d54c2932cee0ce1c26f91376e6879d7?s=128&d=identicon&r=PG&f=1", "display_name": "moctarjallo", "link": "https://stackoverflow.com/users/6101336/moctarjallo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533763811, "creation_date": 1533762787, "question_id": 51755721, "link": "https://stackoverflow.com/questions/51755721/how-to-save-keras-model-along-with-other-data-and-load-them-altogether", "title": "How to save keras model along with other data and load them altogether?", "body": "<p>I have the following code to train a keras neural network</p>\n\n<pre><code>from keras import Sequential\nfrom keras.layers import Dense\nfrom keras.models import load_model\n\nimport numpy as np\n\nclass Model:\n    def __init__(self, data=None):\n        self.data = data\n        self.metrics = []\n        self.model = self.__build_model()\n\n    def __build_model(self):\n        model = Sequential()\n        model.add(Dense(4, activation='relu', input_shape=(3,)))\n        model.add(Dense(1, activation='relu'))\n        model.compile(loss='mean_squared_error', optimizer='adam', metrics=['accuracy'])\n        return model\n\n    def train(self, epochs):\n        self.model.fit(self.data[:, :-1], self.data[:,-1], epochs=epochs)\n        return self\n\n    def test(self, data):\n        self.metrics = self.model.evaluate(data[:, :-1], data[:, -1])\n        return self\n\n    def predict(self, input):\n        return self.model.predict(input)\n\n    def save(self, path):\n        self.model.save(path)\n        # I would like to save self.metrics at the same time\n\n    def load(self, path):\n        self.model = load_model(path)\n\n\nif __name__ == '__main__':\n    train_data = np.random.rand(1000, 4)\n    test_data = np.random.rand(100, 4)\n    print(\"TRAINING, TESTING &amp; SAVING..\")\n    model = Model(train_data)\\\n                .train(epochs=5)\\\n                .test(test_data)\\\n                .save('./model.h5')\n\n    print('LOADING model &amp; PREDICTING..')\n    test_sample = np.random.rand(1, 3)\n    model = Model()\n    model.load('./model.h5')\n    # I can then do like:\n    test_output = model.predict(test_sample)\n    print(test_output)\n\n    # And want to get metrics which i had saved with it like:\n    metrics = model.metrics\n    print(metrics)\n</code></pre>\n\n<p>As you can see it saves the model to a h5 file, but only the keras model not anything else.\nHow can I save other data a the same time like the metrics and then be able to load them too while loading the keras model.</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["python", "django", "django-views"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1533762802, "post_id": 51755692, "comment_id": 90471068, "body": "It is <code>self.kwargs[&#39;category_id&#39;]</code>."}, {"owner": {"reputation": 406, "user_id": 8182446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d6927740306470124a94396d4bbbe6?s=128&d=identicon&r=PG&f=1", "display_name": "Augustin Laville", "link": "https://stackoverflow.com/users/8182446/augustin-laville"}, "reply_to_user": {"reputation": 1030, "user_id": 9361129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45466ce9795191da87750d302e809b87?s=128&d=identicon&r=PG&f=1", "display_name": "Wariored", "link": "https://stackoverflow.com/users/9361129/wariored"}, "edited": false, "score": 0, "creation_date": 1533763167, "post_id": 51755692, "comment_id": 90471186, "body": "@Wariored you are wrong, <code>category_id</code> still not defined."}, {"owner": {"reputation": 1030, "user_id": 9361129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45466ce9795191da87750d302e809b87?s=128&d=identicon&r=PG&f=1", "display_name": "Wariored", "link": "https://stackoverflow.com/users/9361129/wariored"}, "edited": false, "score": 0, "creation_date": 1533763321, "post_id": 51755692, "comment_id": 90471228, "body": "<code>self.kwargs[&#39;category_id&#39;]</code>and then <code>return Subcategory.objects.filter(category__id = category_id)</code>"}, {"owner": {"reputation": 1030, "user_id": 9361129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45466ce9795191da87750d302e809b87?s=128&d=identicon&r=PG&f=1", "display_name": "Wariored", "link": "https://stackoverflow.com/users/9361129/wariored"}, "reply_to_user": {"reputation": 406, "user_id": 8182446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d6927740306470124a94396d4bbbe6?s=128&d=identicon&r=PG&f=1", "display_name": "Augustin Laville", "link": "https://stackoverflow.com/users/8182446/augustin-laville"}, "edited": false, "score": 0, "creation_date": 1533763413, "post_id": 51755692, "comment_id": 90471262, "body": "@AugustinLaville updated"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 5544691, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10156317637545389/picture?type=large", "display_name": "cjm", "link": "https://stackoverflow.com/users/5544691/cjm"}, "edited": false, "score": 1, "creation_date": 1561519574, "post_id": 51755883, "comment_id": 100085895, "body": "This was the exact answer I was looking for, thank you.  [And thanks to SO for popping this as the recommended question to check once I pasted in my code snippets into asking this question for myself]"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 15, "last_activity_date": 1533763627, "creation_date": 1533763627, "answer_id": 51755883, "question_id": 51755692, "link": "https://stackoverflow.com/questions/51755692/django-2-0-url-parameters-in-get-queryset/51755883#51755883", "title": "Django 2.0 url parameters in get_queryset", "body": "<p>You can obtain the URI positional and named parameters in a class-based view with <code>self.args</code> (a tuple) and <code>self.kwargs</code> (a dictionary) respectively.</p>\n\n<p>Here you defined the <code>category_id</code> as a named parameter, so you can obtain its corresponding value with <code>self.kwargs['category_id']</code>:</p>\n\n<pre><code>class SubcategoriesListView(ListView):\n    model = Subcategory\n    template_name = 'app/categories/index.html'\n    def get_queryset(self):\n        return Subcategory.objects.filter(<b>category_id</b>=<b>self.kwargs['category_id']</b>)</code></pre>\n\n<p>Since the <code>id</code> is an integer, you thus filter on <code>category_id</code>, not on <code>category</code>.</p>\n"}], "owner": {"reputation": 167, "user_id": 8289710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nanJm.jpg?s=128&g=1", "display_name": "KamWebDev", "link": "https://stackoverflow.com/users/8289710/kamwebdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3145, "favorite_count": 1, "accepted_answer_id": 51755883, "answer_count": 1, "score": 8, "last_activity_date": 1533763627, "creation_date": 1533762620, "question_id": 51755692, "link": "https://stackoverflow.com/questions/51755692/django-2-0-url-parameters-in-get-queryset", "title": "Django 2.0 url parameters in get_queryset", "body": "<p>I would like to filter subcategories based on the category id from the url</p>\n\n<p>For a constant value it works without a problem</p>\n\n<pre><code>return Subcategory.objects.filter(category = 1)\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>class SubcategoriesListView(ListView):\n    model = Subcategory\n    template_name = 'app/categories/index.html'\n    def get_queryset(self):\n        return Subcategory.objects.filter(category = category_id)\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>path('categories/&lt;int:category_id&gt;/', app.views.SubcategoriesListView.as_view(), name='subcategories'),\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>class Subcategory(models.Model):\n   title = models.CharField(max_length=30)\n   category = models.ForeignKey(Category, on_delete=models.CASCADE)\n</code></pre>\n\n<p>Traceback</p>\n\n<p>NameError at /categories/1/\nname 'category_id' is not defined</p>\n\n<p>views.py in get_queryset\nreturn Subcategory.objects.filter(category = category_id) </p>\n"}, {"tags": ["python", "web", "cpanel", "web-hosting"], "comments": [{"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1533763306, "post_id": 51755652, "comment_id": 90471221, "body": "Please <a href=\"https://stackoverflow.com/posts/51755652/edit\">edit</a> your question and include all relevant information <i>here</i>, as part of your question. We&#39;re not going to go off-site just to understand what you&#39;re asking."}, {"owner": {"reputation": 78, "user_id": 9457355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-md-oQWIjWZ0/AAAAAAAAAAI/AAAAAAAAAZo/gnacJDc3MMg/photo.jpg?sz=128", "display_name": "Ayaan", "link": "https://stackoverflow.com/users/9457355/ayaan"}, "reply_to_user": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1533786551, "post_id": 51755652, "comment_id": 90476292, "body": "Now I don&#39;t get that error.  It shows me the code now.  You can see the code I put in the question.  Can you please tell me what else you need."}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 9457355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-md-oQWIjWZ0/AAAAAAAAAAI/AAAAAAAAAZo/gnacJDc3MMg/photo.jpg?sz=128", "display_name": "Ayaan", "link": "https://stackoverflow.com/users/9457355/ayaan"}, "edited": false, "score": 0, "creation_date": 1533767981, "post_id": 51756023, "comment_id": 90472700, "body": "Now it gives me a 500 Internal Server Error"}, {"owner": {"reputation": 78, "user_id": 9457355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-md-oQWIjWZ0/AAAAAAAAAAI/AAAAAAAAAZo/gnacJDc3MMg/photo.jpg?sz=128", "display_name": "Ayaan", "link": "https://stackoverflow.com/users/9457355/ayaan"}, "edited": false, "score": 0, "creation_date": 1533768249, "post_id": 51756023, "comment_id": 90472752, "body": "Even in the other pages that are not python files"}], "tags": [], "owner": {"reputation": 116, "user_id": 2204482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f88d1c82954e29643f60be1a58c8919c?s=128&d=identicon&r=PG", "display_name": "Bendeberia", "link": "https://stackoverflow.com/users/2204482/bendeberia"}, "is_accepted": false, "score": 0, "last_activity_date": 1533764415, "creation_date": 1533764415, "answer_id": 51756023, "question_id": 51755652, "link": "https://stackoverflow.com/questions/51755652/why-is-my-python-script-not-running-in-shared-hosting-cpanel-godaddy/51756023#51756023", "title": "Why is my python script not running in shared hosting cpanel GoDaddy", "body": "<p>You use Apache Web server, and it doesn't process you python script. It consider it as static file and return it's content.</p>\n\n<p>There are a few ways to make it work</p>\n\n<ul>\n<li><a href=\"http://modpython.org/\" rel=\"nofollow noreferrer\">mod_python</a> for your Apache server</li>\n<li>Use <a href=\"http://httpd.apache.org/docs/2.2/howto/cgi.html\" rel=\"nofollow noreferrer\">CGI</a></li>\n<li>Make apach proxy to python web server by your choice (e.g. <a href=\"http://gunicorn.org/\" rel=\"nofollow noreferrer\">gunicorn</a>)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 9457355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-md-oQWIjWZ0/AAAAAAAAAAI/AAAAAAAAAZo/gnacJDc3MMg/photo.jpg?sz=128", "display_name": "Ayaan", "link": "https://stackoverflow.com/users/9457355/ayaan"}, "is_accepted": true, "score": 0, "last_activity_date": 1534381775, "creation_date": 1534381775, "answer_id": 51868345, "question_id": 51755652, "link": "https://stackoverflow.com/questions/51755652/why-is-my-python-script-not-running-in-shared-hosting-cpanel-godaddy/51868345#51868345", "title": "Why is my python script not running in shared hosting cpanel GoDaddy", "body": "<p>I found out that python is installed on it but it doesn't let you run python scripts in godaddy economy hosting cpanel.  Thanks!</p>\n"}], "owner": {"reputation": 78, "user_id": 9457355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-md-oQWIjWZ0/AAAAAAAAAAI/AAAAAAAAAZo/gnacJDc3MMg/photo.jpg?sz=128", "display_name": "Ayaan", "link": "https://stackoverflow.com/users/9457355/ayaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 51868345, "answer_count": 2, "score": 0, "last_activity_date": 1534381775, "creation_date": 1533762409, "last_edit_date": 1533763494, "question_id": 51755652, "link": "https://stackoverflow.com/questions/51755652/why-is-my-python-script-not-running-in-shared-hosting-cpanel-godaddy", "title": "Why is my python script not running in shared hosting cpanel GoDaddy", "body": "<p>I have shared hosting for my website at Godaddy with shared hosting in cpanel.  I made a python script that print hello and I even tried with the GUI too but it is not printing. It is only showing the code.  I called GoDaddy and they said to do <code>print(\"Hello World\")</code> but even though I did it is still not working.  Right now my code is <code>print(\"Hello World\")</code>.  Printing hello world like that normally works but it is not working.  I need to use python 2.6.6 because that's what GoDaddy gives as the version number for python.  Please can somebody help?</p>\n\n<p>You can check out my python script in my website at <a href=\"https://flipperlab.com/test.py\" rel=\"nofollow noreferrer\">My python script in my website</a>.</p>\n"}, {"tags": ["python", "python-3.x", "selenium", "selenium-webdriver", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1533802372, "post_id": 51756607, "comment_id": 90482783, "body": "I tried your approach but the problem is it produces extra rows. The expected output should be exactly 7 rows as I&#39;ve shown above but your solution gives me 13 or something. Thanks for your solution, though."}], "tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": false, "score": 0, "last_activity_date": 1533767884, "creation_date": 1533767884, "answer_id": 51756607, "question_id": 51755623, "link": "https://stackoverflow.com/questions/51755623/failed-to-grab-dates-in-a-cutomized-manner-out-of-a-tabular-content/51756607#51756607", "title": "Failed to grab dates in a cutomized manner out of a tabular content", "body": "<p>You the issue is that the items is either an idate or an itime. so you are overwriting one of them every time.</p>\n\n<p>I commented out your <code>excepts</code>, and it prints fine for me:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom bs4 import BeautifulSoup\n\nlink = \"http://www.oddsportal.com/soccer/australia/npl-victoria/\"\n\ndef get_content(driver,url):\n    driver.get(url)\n    idate = ''\n    itime = ''\n    for items in wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,\"#tournamentTable tr\"))):\n        try:\n            idate = items.find_element_by_css_selector(\"th span[class^='datet']\").text\n        #except Exception: idate = \"\"\n        except:\n            pass\n        try:\n            itime = items.find_element_by_css_selector(\"td.table-time\").text\n           # print('itime: ',itime)\n       # except Exception: itime = \"\"\n        except:\n            pass\n        if idate !='' and itime !='':\n            print(f'{idate}--{itime}')\n\nif __name__ == '__main__':\n    driver = webdriver.Chrome()\n    wait = WebDriverWait(driver,10)\n    try:\n        get_content(driver,link)\n    finally:\n        driver.quit()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1533812521, "post_id": 51764299, "comment_id": 90489075, "body": "It&#39;s utterly difficult to select the best one between the two of your&#39;s. However, I&#39;m stick to the solution provided by sir Andersson as he used the same approach I tried above using selenium. Thanks."}], "tags": [], "owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "is_accepted": false, "score": 1, "last_activity_date": 1533809432, "creation_date": 1533809432, "answer_id": 51764299, "question_id": 51755623, "link": "https://stackoverflow.com/questions/51755623/failed-to-grab-dates-in-a-cutomized-manner-out-of-a-tabular-content/51764299#51764299", "title": "Failed to grab dates in a cutomized manner out of a tabular content", "body": "<p>I'm not using Selenium, but selected dates can be extracted with just BeautifulSoup. The timedates are coded as Unix timestamp inside tag classes:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport re\nimport datetime\n\nheaders = {'User-Agent': 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:61.0) Gecko/20100101 Firefox/61.0'}\nr = requests.get('http://www.oddsportal.com/soccer/australia/npl-victoria/', headers=headers)\nsoup = BeautifulSoup(r.text, 'lxml')\n\nfor td in soup.select('table#tournamentTable td.datet'):\n    for c in td['class']:\n        if re.match(r't\\d+', c):\n            unix_timestamp = int(re.match(r't(\\d+)', c)[1])\n            d = datetime.datetime.utcfromtimestamp(unix_timestamp).strftime('%d %b %Y--%H:%M')\n            print(d)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>10 Aug 2018--09:30\n10 Aug 2018--10:15\n11 Aug 2018--05:00\n11 Aug 2018--05:00\n11 Aug 2018--09:00\n12 Aug 2018--06:00\n12 Aug 2018--06:00\n</code></pre>\n\n<p>If you want also the matches printed:</p>\n\n<pre><code>for td in soup.select('table#tournamentTable td.datet'):\n    for c in td['class']:\n        if re.match(r't\\d+', c):\n            unix_timestamp = int(re.match(r't(\\d+)', c)[1])\n            d = datetime.datetime.utcfromtimestamp(unix_timestamp).strftime('%d %b %Y--%H:%M')\n            print(d, end=' ')\n            print(td.find_next('td').text)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>10 Aug 2018--09:30 Melbourne Knights - Port Melbourne Sharks\n10 Aug 2018--10:15 Pascoe Vale - Dandenong Thunder\n11 Aug 2018--05:00 Avondale FC - Bentleigh Greens\n11 Aug 2018--05:00 Northcote City - Bulleen\n11 Aug 2018--09:00 Hume City - Oakleigh Cannons\n12 Aug 2018--06:00 Heidelberg Utd - Green Gully\n12 Aug 2018--06:00 South Melbourne - Kingston City\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "is_accepted": true, "score": 1, "last_activity_date": 1533810202, "creation_date": 1533810202, "answer_id": 51764529, "question_id": 51755623, "link": "https://stackoverflow.com/questions/51755623/failed-to-grab-dates-in-a-cutomized-manner-out-of-a-tabular-content/51764529#51764529", "title": "Failed to grab dates in a cutomized manner out of a tabular content", "body": "<p>Try to use below code:</p>\n\n<pre><code>def get_content(driver,url):\n    driver.get(url)\n    dates = len(wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,\"#tournamentTable tr.center.nob-border\"))))\n    for d in range(dates):\n        item = driver.find_elements_by_css_selector(\"#tournamentTable tr.center.nob-border\")[d]\n        try:\n            idate = item.find_element_by_css_selector(\"th span[class^='datet']\").text\n        except Exception: idate = \"\"\n        for time_td in item.find_elements_by_xpath(\".//following::td[contains(@class, 'table-time') and not((preceding::tr[@class='center nob-border'])[%d])]\" % (d + 2)):\n            try:\n                itime = time_td.text\n            except Exception: itime = \"\"\n            print(f'{idate}--{itime}')\n</code></pre>\n"}], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 2, "accepted_answer_id": 51764529, "answer_count": 3, "score": 0, "last_activity_date": 1533810202, "creation_date": 1533762240, "last_edit_date": 1533766035, "question_id": 51755623, "link": "https://stackoverflow.com/questions/51755623/failed-to-grab-dates-in-a-cutomized-manner-out-of-a-tabular-content", "title": "Failed to grab dates in a cutomized manner out of a tabular content", "body": "<p>I've written a script in python in combination with selenium to parse some dates available within a table in a webpage. The table is located under the header <code>NPL Victoria Betting Odds</code>. The tabular data are within the id <code>tournamentTable</code>. You can see the three dates there <code>10 Aug 2018</code>,<code>11 Aug 2018</code> and <code>12 Aug 2018</code>. I wish to parse and arrange them according to my expected output below.</p>\n\n<p><strong><em><a href=\"http://www.oddsportal.com/soccer/australia/npl-victoria/\" rel=\"nofollow noreferrer\">Webpage link</a></em></strong></p>\n\n<p>This is my attempt so far:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom bs4 import BeautifulSoup\n\nlink = \"find the link above\"\n\ndef get_content(driver,url):\n    driver.get(url)\n    for items in wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,\"#tournamentTable tr\"))):\n        try:\n            idate = items.find_element_by_css_selector(\"th span[class^='datet']\").text\n        except Exception: idate = \"\"\n        try:\n            itime = items.find_element_by_css_selector(\"td.table-time\").text\n        except Exception: itime = \"\"\n\n        print(f'{idate}--{itime}')\n\nif __name__ == '__main__':\n    driver = webdriver.Chrome()\n    wait = WebDriverWait(driver,10)\n    try:\n        get_content(driver,link)\n    finally:\n        driver.quit()\n</code></pre>\n\n<p>Currently I'm having output like:</p>\n\n<pre><code>--\n10 Aug 2018--\n--\n--09:30\n--10:15\n11 Aug 2018--\n--\n--05:00\n--05:00\n--09:00\n12 Aug 2018--\n--\n--06:00\n--06:00\n</code></pre>\n\n<p>My expected output:</p>\n\n<pre><code>10 Aug 2018--09:30\n10 Aug 2018--10:15\n11 Aug 2018--05:00\n11 Aug 2018--05:00\n11 Aug 2018--09:00\n12 Aug 2018--06:00\n12 Aug 2018--06:00\n</code></pre>\n"}, {"tags": ["python", "matplotlib-basemap"], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1533766208, "creation_date": 1533766208, "answer_id": 51756349, "question_id": 51755575, "link": "https://stackoverflow.com/questions/51755575/installing-basemap-geos-in-mac-by-source-code/51756349#51756349", "title": "installing basemap/geos in mac by source code", "body": "<p>problems solved guys!</p>\n\n<p>Instead of installing the geos from the package in the basemap, I use brew to install it (and proj), then python setup.py install to install basemap again, it work!</p>\n"}], "owner": {"reputation": 47, "user_id": 9638882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Huiwen wu", "link": "https://stackoverflow.com/users/9638882/huiwen-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533766208, "creation_date": 1533761967, "question_id": 51755575, "link": "https://stackoverflow.com/questions/51755575/installing-basemap-geos-in-mac-by-source-code", "title": "installing basemap/geos in mac by source code", "body": "<p>I know there is some posts about the installation of basemap, but after I follow every step from the instruction here, it still not work for me.\n<a href=\"https://matplotlib.org/basemap/users/installing.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/basemap/users/installing.html</a></p>\n\n<p>When I run <i>python setup.py install</i>, it keeps complaining \"geos_c.h\" file not found. How do I know I have installed geos correctly? When I <i>make</i>, there are a lot of output but no way to know if it install successfully. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "directory", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1533762043, "post_id": 51755534, "comment_id": 90470815, "body": "because of where it is dumping output or reading input? is that the reason it has to be in a different directory"}, {"owner": {"reputation": 31, "user_id": 10199903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451803ee3644b1cb3b3d96891269113a?s=128&d=identicon&r=PG&f=1", "display_name": "hawo", "link": "https://stackoverflow.com/users/10199903/hawo"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1533763033, "post_id": 51755534, "comment_id": 90471141, "body": "the reason is that each function runs its corresponding external program, all of which are located in separate directories and use relative paths. so each program needs to be run in its own directory, otherwise it won&#39;t work."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1533763396, "post_id": 51755534, "comment_id": 90471253, "body": "&quot;And  os.chdir switches the directory for all processes being run&quot; - what makes you think that?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1533763443, "post_id": 51755534, "comment_id": 90471272, "body": "&quot;use relative paths&quot; isn&#39;t a reason to need to <code>chdir</code>. You can just manually resolve the paths relative to different directories."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1533763413, "creation_date": 1533763413, "answer_id": 51755835, "question_id": 51755534, "link": "https://stackoverflow.com/questions/51755534/python-multiprocessing-how-to-safely-change-working-directory-of-one-of-the-pro/51755835#51755835", "title": "Python multiprocessing: how to safely change working directory of one of the processes", "body": "<p>You're starting from an incorrect premise:</p>\n\n<blockquote>\n  <p>And <code>os.chdir</code> switches the directory for all processes being run, as far as I know.</p>\n</blockquote>\n\n<p>Nope. It switches the directory for the current process, not every process on the system (or even every process in the group, or anything like that).</p>\n\n<p>Of course if you <code>chdir</code> in the parent before starting the children, the children will start in that new directory. But if you <code>chdir</code> in any of the children, it won't affect anyone else. And if you <code>chdir</code> in the parent after starting the children, it also won't affect anyone else.</p>\n\n<hr>\n\n<blockquote>\n  <p>How can I ensure that each process safely runs in an appropriate directory without suddenly being kicked out of it by another one?</p>\n</blockquote>\n\n<p>You don't have to do anything; that's how every operating system already works.</p>\n\n<hr>\n\n<p>If you want to verify this for yourself, try running this program. On whatever platform you want, with every <code>startmethod</code> supported by that platform, you will see that the children can change directories independently, without affecting each other or the parent.</p>\n\n<pre><code>import multiprocessing\nimport os\n\ndef func():\n    pid = str(os.getpid())\n    print(f'{pid}: {os.getcwd()}')\n    try:\n        os.mkdir(pid)\n    except FileExistsError:\n        pass\n    os.chdir(pid)\n    print(f'{pid}: {os.getcwd()}')\n\nif __name__ == '__main__':\n    import sys\n    startmethod = sys.argv[1] if len(sys.argv)&gt;1 else 'fork'\n    multiprocessing.set_start_method(startmethod)\n    print(f'{os.getpid()}: {os.getcwd()}')\n    children = [multiprocessing.Process(target=func) for _ in range(2)]\n    for child in children:\n        child.start()\n    for child in children:\n        child.join()\n    print(f'{os.getpid()}: {os.getcwd()}')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 184, "user_id": 6414929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39d2992e7afb47d73180c924a76e8c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Oekhny", "link": "https://stackoverflow.com/users/6414929/oekhny"}, "is_accepted": false, "score": 1, "last_activity_date": 1533764681, "creation_date": 1533764681, "answer_id": 51756061, "question_id": 51755534, "link": "https://stackoverflow.com/questions/51755534/python-multiprocessing-how-to-safely-change-working-directory-of-one-of-the-pro/51756061#51756061", "title": "Python multiprocessing: how to safely change working directory of one of the processes", "body": "<blockquote>\n  <p>In fact each process will be independent of each others and running\n  os.chdir in each of them will be done only for the process running it.</p>\n</blockquote>\n\n<p>If you take a structure with three folder a, b, c.</p>\n\n<p>This code will, for each folder, create a process which is going to create a file inside. </p>\n\n<p>Each process waits 5 seconds before to create the file. So if the os.chdir was changing the directory for all processes, they would all create the file in the same directory. You will see that it is not the case and a file is created for each directory.</p>\n\n<blockquote>\n  <p>Therefore os.chdir is not changing the directory for all the processes\n  if it is executed in the function run by a process.</p>\n</blockquote>\n\n<pre><code>from multiprocessing import Process\nimport time\nimport os\n\n\ndef write_hello_world(directory):\n    \"\"\"Open a file with the same name as the directory in the directory\n\n    In folder a we will create a file named a.\n\n    :param str directory: directory where the file will be created.\n    \"\"\"\n    os.chdir(directory)\n    # We wait 5 seconds, all processes should have been started and changed directory.\n    time.sleep(5)\n    with open(directory, \"w+\") as f:\n        # We write in the file the value of the directory\n        f.write(directory)\n\n\n# List of the process to join them in the end.\nlist_processes = []\n\n# for each folder we create a process and we start it.\nfor directory in [\"a\", \"b\", \"c\"]:\n    p = Process(target=write_hello_world, args=(directory,))\n    p.start()\n\n# Join the processes.\nfor process in list_processes:\n    process.join()\n</code></pre>\n\n<p>Have a lovely day. </p>\n"}], "owner": {"reputation": 31, "user_id": 10199903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/451803ee3644b1cb3b3d96891269113a?s=128&d=identicon&r=PG&f=1", "display_name": "hawo", "link": "https://stackoverflow.com/users/10199903/hawo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1345, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1533764681, "creation_date": 1533761790, "question_id": 51755534, "link": "https://stackoverflow.com/questions/51755534/python-multiprocessing-how-to-safely-change-working-directory-of-one-of-the-pro", "title": "Python multiprocessing: how to safely change working directory of one of the processes", "body": "<p>I need to run several parallel processes, each executing a set of functions. Like this:</p>\n\n<pre><code>import multiprocessing as mp  \n\ndata = [set1, set2, set3]  \nfunctions = [func1, func2, func3, func4]  \n# each func is run in its own separate directory\n\ndef myProcess(dataset, functions_list):  \n    for func in functions_list:  \n        func(dataset)  \n\nfor set_i in data:  \n    p = mp.Process(target = myProcess, args = (set_i, functions))  \n    p.start()  \n</code></pre>\n\n<p>The problem is that each function in the <code>functions</code> list needs to be run in its separate directory. And <code>os.chdir</code> switches the directory for all processes being run, as far as I know. How can I ensure that each process safely runs in an appropriate directory without suddenly being kicked out of it by another one?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "edited": false, "score": 0, "creation_date": 1533761806, "post_id": 51755504, "comment_id": 90470717, "body": "<code>pandas.DataFrame.merge</code>???"}], "answers": [{"tags": [], "owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "is_accepted": false, "score": 1, "last_activity_date": 1533763092, "creation_date": 1533763092, "answer_id": 51755772, "question_id": 51755504, "link": "https://stackoverflow.com/questions/51755504/pandas-return-rows-from-a-dataframe-where-multiple-subsets-of-columns-are-non-z/51755772#51755772", "title": "Pandas: return rows from a dataframe where multiple subsets of columns are non zero", "body": "<p>Try the following:</p>\n\n<pre><code>column_groups = [A, B, C]\nmasks = [(df[cols] != 0).any(axis=1) for cols in column_groups]\nfull_mask = np.logical_and.reduce(masks)\nfull_df = df[full_mask]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "edited": false, "score": 0, "creation_date": 1533763371, "post_id": 51755775, "comment_id": 90471243, "body": "Wow, this is super helpful! Thank you so much!"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 3, "last_activity_date": 1533763569, "last_edit_date": 1533763569, "creation_date": 1533763138, "answer_id": 51755775, "question_id": 51755504, "link": "https://stackoverflow.com/questions/51755504/pandas-return-rows-from-a-dataframe-where-multiple-subsets-of-columns-are-non-z/51755775#51755775", "title": "Pandas: return rows from a dataframe where multiple subsets of columns are non zero", "body": "<h2>Setup</h2>\n\n<pre><code>np.random.seed([3, 1415])\n\ndf = pd.DataFrame(\n    np.random.randint(2, size=(10, 9)),\n    columns=[f\"col{i + 1}\" for i in range(9)]\n)\n\ndf\n\n   col1  col2  col3  col4  col5  col6  col7  col8  col9\n0     0     1     0     1     0     0     1     0     1\n1     1     1     1     0     1     1     0     1     0\n2     0     0     0     0     0     0     0     0     0\n3     1     0     1     1     1     1     0     0     0\n4     0     0     1     1     1     1     1     0     1\n5     1     1     0     1     1     1     1     1     1\n6     1     0     1     0     0     0     1     1     0\n7     0     0     0     0     0     1     0     1     0\n8     1     0     1     0     1     0     0     1     1\n9     1     0     1     0     0     1     0     1     0\n</code></pre>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Create a dictionary</p>\n\n<pre><code>m = {\n    **dict.fromkeys(['col1', 'col2', 'col3'], 'A'),\n    **dict.fromkeys(['col4', 'col5', 'col6'], 'B'),\n    **dict.fromkeys(['col7', 'col8', 'col9'], 'C'),\n}\n</code></pre>\n\n<p>Then <code>groupby</code> based on <code>axis=1</code></p>\n\n<pre><code>df[df.groupby(m, axis=1).any().all(1)]\n\n   col1  col2  col3  col4  col5  col6  col7  col8  col9\n0     0     1     0     1     0     0     1     0     1\n1     1     1     1     0     1     1     0     1     0\n4     0     0     1     1     1     1     1     0     1\n5     1     1     0     1     1     1     1     1     1\n8     1     0     1     0     1     0     0     1     1\n9     1     0     1     0     0     1     0     1     0\n</code></pre>\n\n<hr>\n\n<p>Notice the ones that didn't make it</p>\n\n<pre><code>   col1  col2  col3  col4  col5  col6  col7  col8  col9\n2     0     0     0     0     0     0     0     0     0\n3     1     0     1     1     1     1     0     0     0\n6     1     0     1     0     0     0     1     1     0\n7     0     0     0     0     0     1     0     1     0\n</code></pre>\n\n<hr>\n\n<p>You could also have had columns like this:</p>\n\n<pre><code>cols = [['col1', 'col2', 'col3'], ['col4', 'col5', 'col6'], ['col7', 'col8', 'col9']]\nm = {k: v for v, c in enumerate(cols) for k in c}\n</code></pre>\n\n<p>And performed the same <code>groupby</code></p>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 6366032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4fde366cd14538f24822ae001c581d6?s=128&d=identicon&r=PG", "display_name": "NAGA", "link": "https://stackoverflow.com/users/6366032/naga"}, "is_accepted": false, "score": 1, "last_activity_date": 1533763506, "creation_date": 1533763506, "answer_id": 51755862, "question_id": 51755504, "link": "https://stackoverflow.com/questions/51755504/pandas-return-rows-from-a-dataframe-where-multiple-subsets-of-columns-are-non-z/51755862#51755862", "title": "Pandas: return rows from a dataframe where multiple subsets of columns are non zero", "body": "<p>Created a csv file with sample data</p>\n\n<p>Sample Input:</p>\n\n<pre><code>ID  a1  a2  a3  a4  a5  a6  a7  a8  a9\n1   1   1   1   1   1   1   1   1   1\n2   0   0   0   1   0   0   0   1   0\n3   0   1   0   0   0   0   1   0   0\n4   0   0   0   0   1   0   1   0   1\n5   1   1   0   1   1   1   1   0   1\n6   0   0   0   0   1   0   0   1   0\n7   1   0   1   1   1   0   1   1   1\n8   1   1   1   0   1   1   1   0   1\n9   0   0   0   1   0   1   0   0   0\n10  0   0   1   0   0   0   0   0   0\n11  1   0   1   0   1   1   0   1   1\n12  1   1   0   1   0   1   1   0   1\n\nimport pandas as pd\ndf = pd.read_csv('check.csv')\ndf['sumA'] = df.a1+df.a2+df.a3\ndf['sumB'] = df.a4+df.a5+df.a6\ndf['sumC'] = df.a7+df.a8+df.a9\nnew_df = df[(df.sumA&gt;1)&amp;(df.sumB&gt;1)&amp;(df.sumC&gt;1)]\nnew_df = new_df.drop(['sumA','sumB','sumC'],axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    ID  a1  a2  a3  a4  a5  a6  a7  a8  a9\n0   1   1   1   1   1   1   1   1   1   1\n4   5   1   1   0   1   1   1   1   0   1\n6   7   1   0   1   1   1   0   1   1   1\n7   8   1   1   1   0   1   1   1   0   1\n10  11  1   0   1   0   1   1   0   1   1\n11  12  1   1   0   1   0   1   1   0   1\n</code></pre>\n"}], "owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 51755775, "answer_count": 3, "score": 2, "last_activity_date": 1533763569, "creation_date": 1533761673, "last_edit_date": 1533762685, "question_id": 51755504, "link": "https://stackoverflow.com/questions/51755504/pandas-return-rows-from-a-dataframe-where-multiple-subsets-of-columns-are-non-z", "title": "Pandas: return rows from a dataframe where multiple subsets of columns are non zero", "body": "<p>I have a dataframe called <strong>df</strong> </p>\n\n<p>The columns in the dataframe can be logically grouped. Hence I grouped the column names in lists A, B, C where:</p>\n\n<pre><code>A = [column_1, column_2, column_3]\nB = [column_4, column_5, column_6]\nC = [column_7, column_8, column_9]\n</code></pre>\n\n<p>In addition to the columns <em>column_1</em> to <em>column_9</em>, <strong>df</strong> has one more column called <strong>\"filename_ID\"</strong>, which is used as the index and thus is not grouped. The olumns <em>column_1</em> to <em>column_9</em> contain only 0 and 1 values. </p>\n\n<p>Now I want to filter the dataframe such that it only includes rows where there is <strong><em>at least one</em></strong> non-zero value for each group (A,B,C). As such, I only want to keep rows with the respective filename_ID that fullfill this condition. </p>\n\n<p>I have managed to create a seperate dataframe for each group:</p>\n\n<pre><code>df_A = df.loc[(df[A]!=0).any(axis=1)]\ndf_B = df.loc[(df[B]!=0).any(axis=1)]\ndf_C = df.loc[(df[C]!=0).any(axis=1)]\n</code></pre>\n\n<p>However, I dont know how to apply all conditions simultaniously - i.e how to create one new dataframe where all rows fullfill the condition that in each logical column-group there is at least one non-zero value. </p>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1533761911, "post_id": 51755500, "comment_id": 90470772, "body": "When you do <code>for record in event[&#39;records&#39;]</code>, you get a view of the keys in the inner dictionary.  It&#39;s unclear what you want to accomplish here."}, {"owner": {"reputation": 582, "user_id": 7351024, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R4Ssq.png?s=128&g=1", "display_name": "Bojan Srbinoski", "link": "https://stackoverflow.com/users/7351024/bojan-srbinoski"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1533761970, "post_id": 51755500, "comment_id": 90470787, "body": "Yes I know, but I want to change the dictionary to get <code>{&#39;recordId&#39;: 1, &#39;data&#39;: &#39;logHere&#39;}</code> instead of the key"}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1533762051, "post_id": 51755500, "comment_id": 90470818, "body": "Why are you looping over the outer dict? Is there going to be more than one record like events = {&quot;record&quot;: {}, &quot;record2&quot;: {}}"}, {"owner": {"reputation": 582, "user_id": 7351024, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R4Ssq.png?s=128&g=1", "display_name": "Bojan Srbinoski", "link": "https://stackoverflow.com/users/7351024/bojan-srbinoski"}, "reply_to_user": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1533762075, "post_id": 51755500, "comment_id": 90470825, "body": "@PeterH Yes there will be more than one record"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1533762104, "post_id": 51755500, "comment_id": 90470836, "body": "@BojanSrbinoski then show us what your <i>actual</i> dictionary looks like."}, {"owner": {"reputation": 718, "user_id": 2990052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttvup.jpg?s=128&g=1", "display_name": "PeterH", "link": "https://stackoverflow.com/users/2990052/peterh"}, "edited": false, "score": 0, "creation_date": 1533762187, "post_id": 51755500, "comment_id": 90470855, "body": "In that case you should not be using a dict for &quot;records&quot; it should be a list. So it would be Hongyu Wang&#39;s answer. <code>events = {&quot;records&quot;: [{&#39;recordId&#39;: 1, &#39;data&#39;: &#39;logHere&#39;}, {&#39;recordId&#39;: 2, &#39;data&#39;: &#39;logHere2&#39;}]}</code> then use the same for loop you have."}], "answers": [{"tags": [], "owner": {"reputation": 378, "user_id": 6952369, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222752527797253/picture?type=large", "display_name": "Hongyu Wang", "link": "https://stackoverflow.com/users/6952369/hongyu-wang"}, "is_accepted": true, "score": 3, "last_activity_date": 1533761882, "creation_date": 1533761882, "answer_id": 51755554, "question_id": 51755500, "link": "https://stackoverflow.com/questions/51755500/string-indeces-must-be-integers-not-str/51755554#51755554", "title": "String indeces must be integers not str", "body": "<p>Wrap the inner dictionary in a list:</p>\n\n<pre><code>event = {'records': [{'recordId': 1, 'data': 'logHere'}]}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1228, "user_id": 2903532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/bq4MX.jpg?s=128&g=1", "display_name": "reynoldsnlp", "link": "https://stackoverflow.com/users/2903532/reynoldsnlp"}, "edited": false, "score": 0, "creation_date": 1533765485, "post_id": 51755921, "comment_id": 90471974, "body": "Welcome to SO and thanks for answering a question! You might want to add a little explanation, (and make sure explanations like <code>Your records should be a list of items:</code> are either commented or outside of a codeblock."}], "tags": [], "owner": {"reputation": 1, "user_id": 7403070, "user_type": "registered", "profile_image": "https://graph.facebook.com/1183104148476530/picture?type=large", "display_name": "Andrii Glukhyi", "link": "https://stackoverflow.com/users/7403070/andrii-glukhyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1533794062, "last_edit_date": 1533794062, "creation_date": 1533763850, "answer_id": 51755921, "question_id": 51755500, "link": "https://stackoverflow.com/questions/51755500/string-indeces-must-be-integers-not-str/51755921#51755921", "title": "String indeces must be integers not str", "body": "<pre><code>event = {'records': [{'recordId': 1, 'data': 'logHere'},\n                     {'recordId': 2, 'data': 'logHere2'}]}\n</code></pre>\n\n<p>Your records should be a list of items:</p>\n\n<pre><code>&gt;&gt;&gt; for record in event['records']:\n        print(record['recordId'])\n    1\n    2\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 582, "user_id": 7351024, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R4Ssq.png?s=128&g=1", "display_name": "Bojan Srbinoski", "link": "https://stackoverflow.com/users/7351024/bojan-srbinoski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51755554, "answer_count": 2, "score": -3, "last_activity_date": 1533794062, "creation_date": 1533761655, "last_edit_date": 1533762198, "question_id": 51755500, "link": "https://stackoverflow.com/questions/51755500/string-indeces-must-be-integers-not-str", "title": "String indeces must be integers not str", "body": "<p>I have the following dictionary</p>\n\n<pre><code>event = {'records': {'recordId': 1, 'data': 'logHere'}, {'recordId': 2, 'data': 'logHere2'}}\n</code></pre>\n\n<p>I want to print the <code>recordId</code> using this loop</p>\n\n<pre><code>for record in event['records']:\n    print(record['recordId'])\n</code></pre>\n\n<p>I get the <code>String indeces must be integers not str</code> error on <code>print(record['recordId'])</code></p>\n\n<p>I understand why I'm getting this error, but I want to know how can I reformat my dictionary so the loop will print the <code>recordId</code>. I don't want to change the loop, I want to change the dictionary.</p>\n"}, {"tags": ["python", "command-prompt"], "comments": [{"owner": {"reputation": 933, "user_id": 4478375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5726858f2ede61887cc170449b83838f?s=128&d=identicon&r=PG&f=1", "display_name": "NobbyNobbs", "link": "https://stackoverflow.com/users/4478375/nobbynobbs"}, "edited": false, "score": 1, "creation_date": 1533761751, "post_id": 51755488, "comment_id": 90470694, "body": "<a href=\"https://stackoverflow.com/questions/22241420/execution-of-python-code-with-m-option-or-not\" title=\"execution of python code with m option or not\">stackoverflow.com/questions/22241420/&hellip;</a>"}, {"owner": {"reputation": 2206, "user_id": 1175788, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/ed6991f13be59c3996322a3afd84708e?s=128&d=identicon&r=PG", "display_name": "simplycoding", "link": "https://stackoverflow.com/users/1175788/simplycoding"}, "edited": false, "score": 0, "creation_date": 1533761757, "post_id": 51755488, "comment_id": 90470698, "body": "Those are called options, which can be seen on the command&#39;s <code>man</code> page. So Python&#39;s man page is <a href=\"https://linux.die.net/man/1/python\" rel=\"nofollow noreferrer\">linux.die.net/man/1/python</a> . And according to that, it&#39;s to denote module name"}], "owner": {"reputation": 17, "user_id": 6535927, "user_type": "registered", "profile_image": "https://graph.facebook.com/1020374534683834/picture?type=large", "display_name": "Albert Z Liao", "link": "https://stackoverflow.com/users/6535927/albert-z-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "closed_date": 1533761768, "answer_count": 0, "score": 0, "last_activity_date": 1533761919, "creation_date": 1533761596, "question_id": 51755488, "link": "https://stackoverflow.com/questions/51755488/what-does-m-do-in-this-command-python-m-pip-install-beautifulsoup", "closed_reason": "Duplicate", "title": "what does &quot;-m&quot; do in this command &quot;python -m pip install beautifulsoup&quot;", "body": "<p>I was typing the commands to install Beautiful Soup. I never knew what <code>-m</code> does in the command, so I got curious but I couldn't find much results online.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1533761521, "post_id": 51755441, "comment_id": 90470583, "body": "do you know how <code>break</code> works in a loop because that is exactly the reason why they differ"}, {"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "edited": false, "score": 1, "creation_date": 1533761600, "post_id": 51755441, "comment_id": 90470622, "body": "Your break is in the <code>if</code> clause in the second code, meaning it only runs when <code>i=5</code>, so the outer loop is only called once since when <code>i=5</code>, <code>flag=True</code>"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1533761674, "post_id": 51755441, "comment_id": 90470661, "body": "Note that removing the <code>while True:</code> loop in your first example doesn&#39;t change it, since it always <code>break</code>s on its first iteration.  If you remove that inner loop (and the <code>break</code>), is it clearer what the code is doing?"}], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 9063770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W6qSB.jpg?s=128&g=1", "display_name": "Jacob Rodal", "link": "https://stackoverflow.com/users/9063770/jacob-rodal"}, "is_accepted": true, "score": 1, "last_activity_date": 1533761691, "creation_date": 1533761691, "answer_id": 51755508, "question_id": 51755441, "link": "https://stackoverflow.com/questions/51755441/simple-nested-while-loop/51755508#51755508", "title": "Simple nested while loop", "body": "<p>In the second segment, the <code>break</code> statement is only executed when <code>i=5</code>, so the code is stuck in the inner loop until i = 5.  When this happens, the flag is set to <code>True</code>, which means that the outer loop isn't executed again.   In other words:</p>\n\n<p>In the first segment of code, the outer while loop is called multiple times because the inner loop always breaks, whereas, in the second segment of code, the outer while loop is only called once because the inner loop only breaks when <code>i=5</code>, which also sets the breaking condition for the outer loop.</p>\n"}], "owner": {"reputation": 67, "user_id": 10141105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VXNcpEP4WFA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEG9AXF4gjzvhDeO57tm9rTlaBxg/mo/photo.jpg?sz=128", "display_name": "Suvo", "link": "https://stackoverflow.com/users/10141105/suvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 51755508, "answer_count": 1, "score": -1, "last_activity_date": 1533761691, "creation_date": 1533761378, "question_id": 51755441, "link": "https://stackoverflow.com/questions/51755441/simple-nested-while-loop", "title": "Simple nested while loop", "body": "<p>Highly appreciate if somebody can give a simple explanation of why in code 1 big 'X' is printed multiple times but not in code 2. Only difference is in the break statement?</p>\n\n<blockquote>\n  <p>Code 1</p>\n</blockquote>\n\n<pre><code>flag=False\ni=0\nwhile not flag:\n    print(f\"big {i}\")\n    while True:\n        i+=1\n        print(i)\n        if i==5:\n            flag=True\n            print(\"cond reached\")\n        break\n</code></pre>\n\n<p>Output</p>\n\n<p>big 0\n1\nbig 1\n2\nbig 2\n3\nbig 3\n4\nbig 4\n5\ncond reached</p>\n\n<blockquote>\n  <p>Code 2</p>\n</blockquote>\n\n<pre><code>flag=False\ni=0\nwhile not flag:\n    print(f\"big {i}\")\n    while True:\n        i+=1\n        print(i)\n        if i==5:\n            flag=True\n            print(\"cond reached\")\n            break\n</code></pre>\n\n<p>Output</p>\n\n<p>big 0\n1\n2\n3\n4\n5\ncond reached</p>\n"}, {"tags": ["python", "sqlite", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533819223, "post_id": 51757457, "comment_id": 90493780, "body": "Bokeh isn&#39;t responding to anything I pass to it except proj.index... So what would be the correct way to pass the x-value to it? I&#39;ve tried to follow every example I could find, and it doesn&#39;t work. But pass proj.index to it, and it &quot;works&quot;, except the timescale is completely wonky and it just leads me to further workarounds... If I&#39;m doing something wrong, what is the correct way, using SQL, pandas and Bokeh, that works?"}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533823267, "post_id": 51757457, "comment_id": 90496736, "body": "You haven&#39;t given enough code,or even the types of the columns in your dateframe or example data, to say more than what is above. With a minimal, complete, reproducing example it would be possible to diagnose directly."}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533826920, "post_id": 51757457, "comment_id": 90499229, "body": "I&#39;ve updated the original post with the full code (&quot;&lt;&gt;&quot; to hide userid&#39;s), screenshots of the SQL output and the Bokeh output.  Note I&#39;m still working on the sliders (I expect them to be nonfunctional for now) but the bokeh plot is my current concern."}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533827075, "post_id": 51757457, "comment_id": 90499345, "body": "What is the output of  <code>df.head()</code>"}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533827830, "post_id": 51757457, "comment_id": 90499891, "body": "proj.head() yields output like this:  2011-08-01 00:00:00\t57923.78228\t2011"}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533827903, "post_id": 51757457, "comment_id": 90499945, "body": "Are those strings, or actual datetimes? If they are strings, they need to be converted to real datetimes. Strings are interpreted as categorical values. When I do <code>SELECT strftime(&#39;%Y&#39;, foo) as &#39;bar&#39; FROM table&quot;</code> with <code>pd.read_sql</code> on a sample data set I see strings. I reiterate what I said earlier: <i>I am suggesting you pass a column of datetimes.</i>"}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533828141, "post_id": 51757457, "comment_id": 90500119, "body": "The field is datetime but the content is likely a string.  I tried importing them as datetime from Excel, but the only way I was able to get Excel to hold the correct datetime format exporting to CSV was using a text conversion.... I could either try what you&#39;re suggesting above or try some other conversion in excel if it would ever stick.  Let me try the first (your suggestion) and see where that gets me."}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "reply_to_user": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533828294, "post_id": 51757457, "comment_id": 90500234, "body": "See e.g. <code>parse_dates</code> option in <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "edited": false, "score": 0, "creation_date": 1533830758, "post_id": 51757457, "comment_id": 90501848, "body": "I changed a line of the SQL to:      <code>CASE WHEN df is null THEN strftime(&#39;%Y&#39;,ds) ELSE strftime(&#39;%Y&#39;,df) END AS &#39;projdate&#39;,</code>  And also by re-importing the data I was able to pass the date through here without using Index:  <code>p.line(x=x, y=y, line_width=2, line_alpha=0.6)</code>  But then I get this weird output: <a href=\"https://i.imgur.com/behUKwS.png\" rel=\"nofollow noreferrer\">link</a>.    So it&#39;s clear that it can read the year, but I need the full date.  I&#39;ll try the parser and a few other things... but if you have a tangible example that works, that helps."}], "tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": false, "score": 0, "last_activity_date": 1533776093, "creation_date": 1533776093, "answer_id": 51757457, "question_id": 51755411, "link": "https://stackoverflow.com/questions/51755411/bokeh-not-interpreting-correct-scale-with-sql-data/51757457#51757457", "title": "Bokeh not interpreting correct scale with SQL data", "body": "<p>None of these things have anything to do with SQL, Bokeh only cares about the data that you give it, not where it came from. You have specified that you want a datetime axis on the x-axis:</p>\n\n<pre><code>x_axis_type='datetime'\n</code></pre>\n\n<p>So, Bokeh will set up the plot with a ticker that picks \"nice\" values on a datetime scale, and with a tick formatter that displays tick locations as formatted dates. What is important, however, is that the data coordinates are in the appropriate units, which are <em>floating point milliseconds since epoch</em>. </p>\n\n<p>You can provide x values directly in these units, but Bokeh will also automatically convert common datetime types (e.g. python stdlib, numpy, or pandas) to the right units automatically. So the easiest thing for you to do is pass a column of datetime values as the x values to <code>line</code>.</p>\n\n<p>To be clear, this statement:</p>\n\n<blockquote>\n  <p>To render the line in Bokeh, it has to use the index</p>\n</blockquote>\n\n<p>is incorrect. You can pass any dataframe column you like as the x-values, and I am suggesting you pass a column of datetimes. </p>\n"}, {"comments": [{"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1533831228, "post_id": 51771693, "comment_id": 90502109, "body": "<code>strftime(&#39;%Y&#39;,ds)</code> is specifically extracting only the year, that&#39;s all <code>%Y</code> does. If you want more information you need a different <code>strftime</code> field specifier"}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1533831373, "post_id": 51771693, "comment_id": 90502177, "body": "I&#39;m aware of that... I lost a snippet of my response:  When I try expanding that specifier to <code>%Y-%m-%d %H-%m-%s</code> it just reads it as a string all over again."}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1533834603, "post_id": 51771693, "comment_id": 90503871, "body": "Did you set <code>parse_dates</code> (linked below) in you call to <code>read_sql</code>? Pandas won&#39;t interpret things as dates unless you tell it to."}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1533846432, "post_id": 51771693, "comment_id": 90509101, "body": "No, I had not.  I did see your other comment, though.  Thanks... I&#39;m giving that a try."}, {"owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1533914380, "post_id": 51771693, "comment_id": 90536441, "body": "parse_dates didn&#39;t work but it led me to something that does.  I&#39;ll post the answer."}], "tags": [], "owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "is_accepted": false, "score": 0, "last_activity_date": 1533831420, "last_edit_date": 1533831420, "creation_date": 1533831083, "answer_id": 51771693, "question_id": 51755411, "link": "https://stackoverflow.com/questions/51755411/bokeh-not-interpreting-correct-scale-with-sql-data/51771693#51771693", "title": "Bokeh not interpreting correct scale with SQL data", "body": "<p>I changed a line of the SQL to:  </p>\n\n<p><code>CASE WHEN df is null THEN strftime('%Y',ds) ELSE strftime('%Y',df) END AS 'projdate',</code></p>\n\n<p>However, when I try expanding that specifier to %Y-%m-%d %H-%m-%s it just reads it as a string all over again.</p>\n\n<p>And also by re-importing the data I was able to pass the date through here without using Index:</p>\n\n<p><code>p.line(x=x, y=y, line_width=2, line_alpha=0.6)</code></p>\n\n<p>But then I get this weird output: <a href=\"https://i.imgur.com/behUKwS.png\" rel=\"nofollow noreferrer\">link</a>.  </p>\n\n<p>So it's clear that it can read the year, but I need to pass through the full date to display the time series forecast.  And it's still displaying the dates and y-values in the incorrect scale, regardless.</p>\n\n<p>Going to noodle on this some more but if anyone has other suggestions, I'm thankful.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "is_accepted": false, "score": 0, "last_activity_date": 1533915965, "last_edit_date": 1533915965, "creation_date": 1533914519, "answer_id": 51789649, "question_id": 51755411, "link": "https://stackoverflow.com/questions/51755411/bokeh-not-interpreting-correct-scale-with-sql-data/51789649#51789649", "title": "Bokeh not interpreting correct scale with SQL data", "body": "<p>SOLVED the datetime problem. Added this after the SQL query:</p>\n\n<pre><code>proj['projdate'] = proj['projdate'].astype('datetime64[ns]')\n</code></pre>\n\n<p>Which in turn yields this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pIe8z.png\" rel=\"nofollow noreferrer\">Bokeh Plot</a></p>\n\n<p>Still got a problem with the x-axis but since that's a straight numerical value, <code>x_axis_type</code> should fix it.</p>\n\n<p>So far the working code looks like this (again, still iterating to add other controls but everything about the Bokeh plot itself works as intended):</p>\n\n<pre><code># main.py\n\n# created by:           &lt;&gt;\n# version:              0.1.2\n# created date:         07-Aug-2018\n# modified date:        09-Aug-2018\n\nfrom os.path import dirname, join\n\nimport pandas as pd\nimport pandas.io.sql as psql\nimport numpy as np\nimport sqlite3\nimport os\n\nfrom math import pi\n\nfrom bokeh.plotting import figure, output_file, show \nfrom bokeh.io import output_notebook, curdoc\nfrom bokeh.models import ColumnDataSource, Div, DatetimeTickFormatter\nfrom bokeh.models.widgets import Slider, Select, RadioButtonGroup\nfrom bokeh.layouts import layout, widgetbox\n\nimport warnings\nimport datetime\n\nwarnings.filterwarnings('ignore')\n\n\n## Set up the SQL Connection\n\nconn = sqlite3.connect('/Users/&lt;&gt;/Documents/python_scripts/reptool/reptool_db')\nc = conn.cursor()\n\n## Run the SQL\n\nproj = pd.read_sql(\n                       \"\"\"\n\n                        SELECT  \n\n                        CASE WHEN df is null THEN strftime('%Y-%m-%d',ds) ELSE strftime('%Y-%m-%d',df) END AS 'projdate',\n                        CASE WHEN yhat is null THEN y ELSE yhat END AS 'projvol',\n                        strftime('%Y',ds) as 'year'\n\n                        FROM forecast \n\n                        LEFT JOIN actuals \n                        ON forecast.ds = actuals.df \n\n                       \"\"\", con=conn)\n\nproj['projdate'] = proj['projdate'].astype('datetime64[ns]')\n\n\n# HTML index page and inline CSS stylesheet\n\ndesc = Div(text=open(\"/Users/&lt;&gt;/Documents/python_scripts/reptool/description.html\").read(), width=800)\n\n\n## Rename Columns and create list sets\n\nproj.rename(columns={'projdate': 'x', 'projvol': 'y'}, inplace=True)\n\nx=list(proj['x'])\ny=list(proj['y'])\n\n\n# Create input controls\n\n\nradio_button_group = RadioButtonGroup(\n        labels=[\"Actuals\", \"Forecast\",\"FY Projection\"], active=0)\n\nmin_year = Slider(title=\"Period Start\", start=2012, end=2018, value=2013, step=1)\nmax_year = Slider(title=\"Period End\", start=2012, end=2018, value=2017, step=1)\n\n## Declare systemic source\n\nsource = ColumnDataSource(data=dict(x=[], y=[], year=[]))\n\n\n## Bokeh tools\n\nTOOLS=\"pan,wheel_zoom,box_zoom,reset,xbox_select\"\n\n## Set up plot\n\n\np = figure(title=\"REP Forecast\", plot_width=900, plot_height=300, tools=TOOLS, x_axis_label='date', x_axis_type='datetime', y_axis_label='volume', active_drag=\"xbox_select\")\n\np.line(x=x, y=y, line_width=2, line_alpha=0.6)\n\n\np.xaxis.major_label_orientation = pi/4\n\n# p.xaxis.formatter = DatetimeTickFormatter(seconds=[\"%Y:%M\"],\n#                                             minutes=[\"%Y:%M\"],\n#                                             minsec=[\"%Y:%M\"],\n#                                             hours=[\"%Y:%M\"])\n\n# axis map\n\n\n# definitions\n\ndef select_rep():\n    selected = proj[\n        (proj.year &gt;= min_year.value) &amp;\n        (proj.year &gt;= max_year.value)\n    ]\n    return selected\n\ndef update():\n    proj = select_rep()\n    source.data = dict(\n        year=proj[\"year\"]   \n    )\n\n\n\ncontrols = [min_year, max_year]\nfor control in controls:\n    control.on_change('value', lambda attr, old, new: update())\n\n\nsizing_mode = 'fixed'  # 'scale_width' also looks nice with this example\n\n## Build the html page and inline CSS\ninputs = widgetbox(*controls)\nl = layout([\n    [desc],\n    [p],\n    [inputs],\n], )\n\n# update()\n\ncurdoc().add_root(l)\ncurdoc().title = \"REP\"\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10199878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1a32e73d58c84cf10e8d9154d77b10?s=128&d=identicon&r=PG&f=1", "display_name": "snowdog74", "link": "https://stackoverflow.com/users/10199878/snowdog74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 392, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1533915965, "creation_date": 1533761280, "last_edit_date": 1533826890, "question_id": 51755411, "link": "https://stackoverflow.com/questions/51755411/bokeh-not-interpreting-correct-scale-with-sql-data", "title": "Bokeh not interpreting correct scale with SQL data", "body": "<p>Explored lots of various solutions here but not finding one that works.  I'm using sqlite and pandas to read data from a SQL database, but Bokeh doesn't like the date.  I've tried conversions to datetime, unixepoch, etc. and they all seem to yield the same result.</p>\n\n<p>EDIT: Here's the full code:</p>\n\n<pre><code>from os.path import dirname, join\n\nimport pandas as pd\nimport pandas.io.sql as psql\nimport numpy as np\nimport sqlite3\nimport os\n\nfrom math import pi\n\nfrom bokeh.plotting import figure, output_file, show \nfrom bokeh.io import output_notebook, curdoc\nfrom bokeh.models import ColumnDataSource, Div, DatetimeTickFormatter\nfrom bokeh.models.widgets import Slider, Select, RadioButtonGroup\nfrom bokeh.layouts import layout, widgetbox\n\nimport warnings\nimport datetime\n\nwarnings.filterwarnings('ignore')\n\n\n## Set up the SQL Connection\n\nconn = sqlite3.connect('/Users/&lt;&gt;/Documents/python_scripts/reptool/reptool_db')\nc = conn.cursor()\n\n## Run the SQL\n\nproj = pd.read_sql(\n                       \"\"\"\n\n                        SELECT  \n\n                        CASE WHEN df is null THEN ds ELSE df END AS 'projdate',\n                        CASE WHEN yhat is null THEN y ELSE yhat END AS 'projvol',\n                        strftime('%Y',ds) as 'year'\n\n                        FROM forecast \n\n                        LEFT JOIN actuals \n                        ON forecast.ds = actuals.df \n\n                       \"\"\", con=conn)\n\n\n# HTML index page and inline CSS stylesheet\n\ndesc = Div(text=open(\"/Users/&lt;&gt;/Documents/python_scripts/reptool/description.html\").read(), width=800)\n\n\n## Rename Columns and create list sets\n\nproj.rename(columns={'projdate': 'x', 'projvol': 'y'}, inplace=True)\n\nx=list(proj['x'])\ny=list(proj['y'])\n\n# proj['projdate'] = [datetime.datetime.strptime(x, \"%Y-%m-%d\").date() for x in proj['projdate']]\n\n# Create input controls\n\n\nradio_button_group = RadioButtonGroup(\n        labels=[\"Actuals\", \"Forecast\",\"FY Projection\"], active=0)\n\nmin_year = Slider(title=\"Period Start\", start=2012, end=2018, value=2013, step=1)\nmax_year = Slider(title=\"Period End\", start=2012, end=2018, value=2017, step=1)\n\n## Declare systemic source\n\nsource = ColumnDataSource(data=dict(x=[], y=[], year=[]))\n\n\n## Bokeh tools\n\nTOOLS=\"pan,wheel_zoom,box_zoom,reset,xbox_select\"\n\n## Set up plot\n\n\np = figure(title=\"REP Forecast\", plot_width=900, plot_height=300, tools=TOOLS, x_axis_label='date', x_axis_type='datetime', y_axis_label='volume', active_drag=\"xbox_select\")\n\np.line(x=proj.index, y=y, line_width=2, line_alpha=0.6)\n\n\np.xaxis.major_label_orientation = pi/4\n\n# p.xaxis.formatter = DatetimeTickFormatter(seconds=[\"%Y:%M\"],\n#                                             minutes=[\"%Y:%M\"],\n#                                             minsec=[\"%Y:%M\"],\n#                                             hours=[\"%Y:%M\"])\n\n# axis map\n\n\n# definitions\n\ndef select_rep():\n    selected = proj[\n        (proj.year &gt;= min_year.value) &amp;\n        (proj.year &gt;= max_year.value)\n    ]\n    return selected\n\ndef update():\n    proj = select_rep()\n    source.data = dict(\n        year=proj[\"year\"]   \n    )\n\n\n\ncontrols = [min_year, max_year]\nfor control in controls:\n    control.on_change('value', lambda attr, old, new: update())\n\n\nsizing_mode = 'fixed'  # 'scale_width' also looks nice with this example\n\n## Build the html page and inline CSS\ninputs = widgetbox(*controls)\nl = layout([\n    [desc],\n    [p],\n    [inputs],\n], )\n\n# update()\n\ncurdoc().add_root(l)\ncurdoc().title = \"REP\"\n</code></pre>\n\n<p>The SQLite output in Terminal.app looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B9z45.png\" rel=\"nofollow noreferrer\">SQL</a></p>\n\n<p>The result is, that the x-axis displays in milliseconds.  Also, the y-axis is showing up as exponential notation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7xLEH.png\" rel=\"nofollow noreferrer\">Bokeh Plot</a></p>\n\n<p>The issue seems somehow related to pandas use of indexing, and thus I can't reference \"x\" here.  I rename the columns and force list sets which, by themselves, will print correctly... and should therefore plot into the line properly but as you'll see below, they don't:</p>\n\n<pre><code>proj.rename(columns={'projdate': 'x', 'projvol': 'y'}, inplace=True)\n\nx=list(proj['x'])\ny=list(proj['y'])\n</code></pre>\n\n<p>To get the line to render in Bokeh, I have to pass it the index because passing it anything else doesn't seem to get the glyph to render. So currently I have this:</p>\n\n<pre><code>p = figure(title=\"REP Forecast\", plot_width=900, plot_height=300, tools=TOOLS, x_axis_label='date', x_axis_type='datetime', y_axis_label='volume', active_drag=\"xbox_select\")\n\np.line(x=proj.index, y=y, line_width=2, line_alpha=0.6)\n</code></pre>\n\n<p>Tried converting to unixepoch in the SQL, same result.\nTried converting to unixepoch in the data, same result.\nTried using DateTimeTickFormatter, just shows all 5-6 years as one year (thinking it's just displaying the milliseconds as years rather than changing them from milliseconds to days.</p>\n\n<p>I've looked here and in github, up and down, and tried different things but ultimately I can't find one working example where the source is a sql query not a csv.</p>\n"}, {"tags": ["python", "pyqt5"], "comments": [{"owner": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "edited": false, "score": 0, "creation_date": 1533762397, "post_id": 51755336, "comment_id": 90470925, "body": "change <code>self.resultArea.setText(self.trasnlate(self.lineEdit.text())&zwnj;&#8203;)</code> to <code>self.resultArea.setText(self.lineEdit.text())</code>"}, {"owner": {"reputation": 42, "user_id": 10199786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wVSvs.jpg?s=128&g=1", "display_name": "Usama", "link": "https://stackoverflow.com/users/10199786/usama"}, "reply_to_user": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "edited": false, "score": 0, "creation_date": 1533763250, "post_id": 51755336, "comment_id": 90471207, "body": "@S.Nick thanks for replying. Your answer is putting the user entered data in my result label .But what i want is to pass the user entered data to method translate()."}, {"owner": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "edited": false, "score": 0, "creation_date": 1533763675, "post_id": 51755336, "comment_id": 90471356, "body": "change <code>self.resultArea.setText(self.trasnlate(self.lineEdit.text())&zwnj;&#8203;)</code> to <code>self.trasnlate(self.lineEdit.text())</code>"}, {"owner": {"reputation": 42, "user_id": 10199786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wVSvs.jpg?s=128&g=1", "display_name": "Usama", "link": "https://stackoverflow.com/users/10199786/usama"}, "reply_to_user": {"reputation": 10411, "user_id": 7767694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoPOp.png?s=128&g=1", "display_name": "S. Nick", "link": "https://stackoverflow.com/users/7767694/s-nick"}, "edited": false, "score": 0, "creation_date": 1533764274, "post_id": 51755336, "comment_id": 90471540, "body": "@S.Nick Thanks. I had actually missed the self. there .. Code is working now . Thanks man."}], "owner": {"reputation": 42, "user_id": 10199786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wVSvs.jpg?s=128&g=1", "display_name": "Usama", "link": "https://stackoverflow.com/users/10199786/usama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533763440, "creation_date": 1533760927, "last_edit_date": 1592644375, "question_id": 51755336, "link": "https://stackoverflow.com/questions/51755336/errors-incorporating-ui-into-python-code", "title": "Errors Incorporating UI into Python Code", "body": "<h1>Background:</h1>\n<p>I'm building this gui dictionary app using python and PyQt5.\n<strong>data.json</strong> is the file containing keys and their definitions(data is arranged like a python dictionary).</p>\n<p>dictionary.ui is the UI that i built in <strong>pyqt5 designer app</strong></p>\n<p>( widget class=&quot;<strong>QMainWindow</strong>&quot; name=&quot;MainWindow&quot;). (widget class=&quot;QPushButton&quot; name=&quot;<strong>pushButton</strong>&quot;). (widget class=&quot;QLineEdit&quot; name=&quot;<strong>lineEdit</strong>&quot;).(widget class=&quot;QLabel&quot; name=&quot;<strong>resultArea</strong>&quot;)</p>\n<h1>Problem:</h1>\n<p>The program runs after a while showing gui. But when i enter something, the program crashes without an output. I'm having trouble fixing this code.</p>\n<p>The problem is in this line of code <em><strong>self.resultArea.setText(self.trasnlate(self.lineEdit.text()))</strong></em>\nThe error is <code>Translate is a method not a class instance</code>.</p>\n<p>I need the user input that is entered in <strong>lineEdit</strong> label as an argument for <strong>translate()</strong> method and show the result of the method in <strong>resultArea</strong> label if the <strong>pushButton</strong> is clicked.</p>\n<h1>Code:</h1>\n<pre><code>import json\nfrom difflib import get_close_matches\nimport sys\nfrom PyQt5.QtCore import pyqtSlot\nfrom PyQt5.QtWidgets import QApplication,QMainWindow\nfrom PyQt5.uic import loadUi\n\n\ndata = json.load(open(&quot;data.json&quot;))\n\nclass DictionaryApp(QMainWindow) :\n    def __init__(self) :\n        super(DictionaryApp,self).__init__()\n        loadUi('dictionary.ui',self)\n        self.setWindowTitle('Dictionary')\n        self.pushButton.clicked.connect(self.on_pushButton_clicked)\n    @pyqtSlot()\n    def on_pushButton_clicked(self) :\n        self.resultArea.setText(self.trasnlate(self.lineEdit.text()))\n    @staticmethod\n    def translate(w) :\n        w = w.lower()\n        if w in data :\n            return data[w]\n        elif w.title() in data: \n            return data[w.title()]\n        elif w.upper() in data: \n            return data[w.upper()]\n        elif len(get_close_matches(w, data.keys())) &gt; 0 :\n            YN = input(&quot;Did you mean {} instead? Enter 'y' for yes, 'n' for no: &quot;.format(get_close_matches(w, data.keys())[0])).lower()\n            if YN == &quot;y&quot; :\n                return data[get_close_matches(w, data.keys())[0]]\n            elif YN == &quot;n&quot; :\n                return &quot;The word doesn't exist. Please double check it. &quot;\n            else :\n                return &quot;Wrong entry. &quot;\n        else :\n            return &quot;The word doesn't exist. Please double check it. &quot;     \n        \napp=QApplication(sys.argv)\nwidget=DictionaryApp()\nwidget.show()\nsys.exit(app.exec_())\n\n\n   \n</code></pre>\n"}, {"tags": ["python", "keras", "lstm", "encoder", "decoder"], "comments": [{"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 0, "creation_date": 1533764768, "post_id": 51755320, "comment_id": 90471737, "body": "You can checkout this post: <a href=\"https://machinelearningmastery.com/return-sequences-and-return-states-for-lstms-in-keras/\" rel=\"nofollow noreferrer\">machinelearningmastery.com/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 9425747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Paulsen", "link": "https://stackoverflow.com/users/9425747/sean-paulsen"}, "reply_to_user": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 0, "creation_date": 1533765904, "post_id": 51755320, "comment_id": 90472112, "body": "yes I have done that exactly, as far as I can tell, that&#39;s why I&#39;m here, the states still aren&#39;t right"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 9425747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Paulsen", "link": "https://stackoverflow.com/users/9425747/sean-paulsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1533766703, "creation_date": 1533766703, "answer_id": 51756431, "question_id": 51755320, "link": "https://stackoverflow.com/questions/51755320/keras-hidden-state-and-cell-state-have-the-wrong-shape/51756431#51756431", "title": "Keras Hidden State and Cell State have the wrong shape", "body": "<p>If anyone ever sees this post, I figured it out. I was passing to model.predict() as a list, something like model.predict([1 15 14 2]), but it thinks that's a list of the things I want a prediction for. For an lstm we want to send in all four timesteps for a prediction, so it needed to be a list of a list, as in model.predict([[1 15 14 2]]). </p>\n"}], "owner": {"reputation": 55, "user_id": 9425747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sean Paulsen", "link": "https://stackoverflow.com/users/9425747/sean-paulsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533766703, "creation_date": 1533760827, "last_edit_date": 1533761223, "question_id": 51755320, "link": "https://stackoverflow.com/questions/51755320/keras-hidden-state-and-cell-state-have-the-wrong-shape", "title": "Keras Hidden State and Cell State have the wrong shape", "body": "<p>There are many resources on how to obtain c and h from your LSTM. It has both returns set to true, and I'm storing h and c in variables as you can see in the code below. This is during inference after training the network. The encoder half of my model should be spitting out h and c with length hidden_dim, but as you'll see below that is not the case:</p>\n\n<pre><code>    self.enc1 = LSTM(hidden_dim, return_sequences=True, return_state=True, name='enc1')\n    self.emb_A = Embedding(output_dim = emb_dim, input_dim = vocabulary, input_length = None, mask_zero=True, name='embA')\n               ...\n    inference_encInput = Input(shape=(None,), dtype=\"int32\", name=\"input_seq\")\n\n    temp = self.emb_A(inference_encInput)\n    temp, h, c = self.enc1(temp)\n    encoder_states = [h, c]\n    enc_model = Model(inputs = inference_encInput, outputs = encoder_states)\n        ...\n    predicted_states = enc_model.predict(indices_arr)\n    print(\"encoder states are \"+str(predicted_states))\n</code></pre>\n\n<p>The result of that print statement is:</p>\n\n<pre><code>    encoder states are [array([[-0.3114952 , -0.19627409],\n   [ 0.16007528,  0.72028404],\n   [-0.7607165 ,  0.5128824 ]], dtype=float32), array([[-0.8645954 , -0.90217674],\n   [ 0.31057465,  0.9236232 ],\n   [-0.99791354,  0.99934816]], dtype=float32)]\n</code></pre>\n\n<p>My hidden dimension is only 2 because I'm just doing basic testing on extremely simple training data. The number of 2 dimensional vectors is always the same as the length of the sequence I'm trying to encode, in this case 3, which suggests that I'm somehow getting a sequence of states maybe? But h and c are just supposed to be the FINAL hidden and cell state. I don't think just taking the last one is correct either, there must be something else going on. I have no idea what I'm doing wrong here, especially since the state of the decoder is obtained correctly on each timestep:</p>\n\n<pre><code>    new states for decoder are [array([[ 0.19158483, -0.16113694]], dtype=float32), array([[ 0.19398187, -0.37419504]], dtype=float32)]\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "neural-network", "keras"], "comments": [{"owner": {"reputation": 10041, "user_id": 5140223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFV3f.jpg?s=128&g=1", "display_name": "rvinas", "link": "https://stackoverflow.com/users/5140223/rvinas"}, "edited": false, "score": 0, "creation_date": 1533811006, "post_id": 51755271, "comment_id": 90488106, "body": "Apologizes for my ignorance, but what is the output shape of <code>base_network=create_model()</code>?"}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "reply_to_user": {"reputation": 10041, "user_id": 5140223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFV3f.jpg?s=128&g=1", "display_name": "rvinas", "link": "https://stackoverflow.com/users/5140223/rvinas"}, "edited": false, "score": 0, "creation_date": 1533820187, "post_id": 51755271, "comment_id": 90494490, "body": "Good question! The <code>base_network</code> takes as input a single sample (time series with several features, in my case), and outputs a single vector, say 50 elements long."}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "reply_to_user": {"reputation": 10041, "user_id": 5140223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IFV3f.jpg?s=128&g=1", "display_name": "rvinas", "link": "https://stackoverflow.com/users/5140223/rvinas"}, "edited": false, "score": 0, "creation_date": 1533820420, "post_id": 51755271, "comment_id": 90494628, "body": "I added some comments to the code to give approximate dimensions of results throughout. The actual number isn&#39;t important, so I just went with 50 elements for the output of <code>base_network</code>."}], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533820367, "creation_date": 1533760626, "last_edit_date": 1533820367, "question_id": 51755271, "link": "https://stackoverflow.com/questions/51755271/valueerror-when-trying-to-reconfigure-siamese-network-trained-on-triplets-to-ope", "title": "ValueError when trying to reconfigure Siamese network trained on triplets to operate on pairs", "body": "<h2>My problem</h2>\n\n<p>I am trying to implement a Siamese network in Keras that is trained on triplets&mdash;<code>[anchor_input, similar_input, different_input]</code>&mdash;and executes on pairs&mdash;<code>[input_a, input_b]</code>&mdash;telling me whether they are similar or different. I am able to train fine on triplets, and have even trained and tested on pairs, but when I train on triplets and try to <em>create</em> my pair-wise network, I get the following error:</p>\n\n<blockquote>\n  <p>ValueError: logits and labels must have the same shape (() vs (?, ?))</p>\n</blockquote>\n\n<h1>Current network overview</h1>\n\n<p>My triplet network is defined using the following code, which I have pared down to something pretty minimal for this example:</p>\n\n<pre><code>def siamese_triplet(in_shape, feature_dim):\n    input_a = Input(shape=in_shape)  # input is a series, n_samples by n_features\n    input_b = Input(shape=in_shape)\n    input_c = Input(shape=in_shape)\n    base_network = create_model()  # makes my Siamese kernel network\n    processed_a = base_network(input_a)  # base_network outputs a vector, say 50 elements long\n    processed_b = base_network(input_b)\n    processed_c = base_network(input_c)\n    l1_distance = lambda x: K.abs(x[0] - x[1])  # vector, 50 elements long\n    p_distance = Lambda(l1_distance,\n                        output_shape=lambda x: x[0])([processed_a, processed_b])\n    n_distance = Lambda(l1_distance,\n                        output_shape=lambda x: x[0])([processed_a, processed_c])\n    triplet_loss = Lambda(lambda x: K.mean(K.maximum(0, x[0] - x[1] + 1)),\n                          output_shape=(1,))([p_distance, n_distance])  # scalar\n    model = Model([input_a, input_b, input_c], triplet_loss)\n    optimizer = SGD()\n    model.compile(optimizer=optimizer,\n                  loss=lambda x, y: y)  # passes triplet loss through\n</code></pre>\n\n<p>I train the network and get a fitted <code>model</code> object out. I then try to re-create the network with a structure built around input pairs, passing it the <code>base_network</code> layer extracted from my <code>model</code>, which ends up being <code>model.layers[3]</code>:</p>\n\n<pre><code># triplet_net = siamese_triplet(...)\n# model = triplet_net.fit(...)\npair_net = siamese_pair(input_shape, model.layers[3])\n</code></pre>\n\n<p>with <code>siamese_pair</code> defined as:</p>\n\n<pre><code>def siamese_pair(in_shape, base_network):\n    input_a = Input(shape=in_shape)\n    input_b = Input(shape=in_shape)\n    processed_a = base_network(input_a)  # vector, 50 elements\n    processed_b = base_network(input_b)\n    distance = Lambda(lambda x: K.abs(x[0] - x[1]),\n                      output_shape=lambda x: x[0])([processed_a, processed_b])  # vector, 50 elements\n    prediction = Lambda(lambda x: K.mean(x),\n                        output_shape=(1,))(distance)  # scalar\n    model = Model([input_a, input_b], prediction)\n    optimizer = SGD()\n    model.compile(optimizer=optimizer,\n                  loss='binary_crossentropy')  # for evaluation purposes\n</code></pre>\n\n<p>The <code>model.compile(...)</code> line throws the error.</p>\n\n<p>Note that the triplet loss should push distances close to zero for objects that are the same (class <code>0</code>), and push them towards 1 for objects that are different (class <code>1</code>), so setting <code>prediction = K.mean(distance)</code> should be pretty close to one of these class labels, I would think.</p>\n\n<p>My transition from triplet-loss training to pair-wise evaluation seems kind of janky to me, and I would love to figure out the <em>best</em> way to do it, so I am open to suggestions to improve the design. In the mean time, I would be happy just getting past this error so I can at least run and evaluate my performance classifying input pairs as similar or different.</p>\n\n<h2>My questions</h2>\n\n<ol>\n<li>Why am I getting the error above? It seems like it is expecting no <code>y_true</code> <em>at all</em> for the loss function, which is strange to me.</li>\n<li>How do I <em>fix</em> the error above?</li>\n<li>Is there a better way to pass my trained <code>base_layer</code> into a different Siamese network structure?</li>\n<li>Is there a better way to get pair-wise predictions out of my trained <code>base_layer</code> in a different network structure?</li>\n</ol>\n\n<p>Answers to just the first two would be great, but if somebody has suggestions on the last two as well, I am all ears.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 673, "user_id": 3790580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DR5ZZ.png?s=128&g=1", "display_name": "mxmt", "link": "https://stackoverflow.com/users/3790580/mxmt"}, "edited": false, "score": 0, "creation_date": 1533761226, "post_id": 51755268, "comment_id": 90470453, "body": "Provide importable data to play with. <code>df.to_json()</code> or something."}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1533761333, "post_id": 51755268, "comment_id": 90470503, "body": "The error says it all. you have mismatch type of object and datetime."}, {"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1533761441, "post_id": 51755268, "comment_id": 90470548, "body": "@mad you misunderstand, I am wondering if there is a way to join if the date is in the date range, I recognize that the error says that it is not working because the are different types but I want to know an alternative way to accomplish this task."}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1533761609, "post_id": 51755268, "comment_id": 90470631, "body": "Are your DataFrames excessively large? The fastest option is to perform an enormous merge and then subset the result. But you might be limited by memory."}, {"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1533761646, "post_id": 51755268, "comment_id": 90470646, "body": "@ALollz the 1 side is 99 rows long and the many size is 10k long"}, {"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1533761696, "post_id": 51755268, "comment_id": 90470672, "body": "@ALollz is there anyway I can take the date range from the 1 side and expand each date in the range out into its own row?"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1533761809, "post_id": 51755268, "comment_id": 90470719, "body": "Yes, that is an option too See <a href=\"https://stackoverflow.com/questions/49481064/python-pandas-trying-to-vectorize-a-function-using-date-range?noredirect=1#comment85987338_49481064\">Vectorizing a function using date range</a>. But I can tell you from experience it&#39;s still an extremely slow process. For this problem you have to trade off between memory and time, there&#39;s no way around it."}, {"owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1533761880, "post_id": 51755268, "comment_id": 90470758, "body": "@ALollz I have the memory to spare as I&#39;m on a workstation"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1534382361, "post_id": 51755268, "comment_id": 90688644, "body": "This is the way to do so , <a href=\"https://stackoverflow.com/questions/46525786/how-to-join-two-dataframes-for-which-column-values-are-within-a-certain-range/46526249#46526249\" title=\"how to join two dataframes for which column values are within a certain range\">stackoverflow.com/questions/46525786/&hellip;</a>, hope you close this question , since we have the similar question already"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1534861924, "post_id": 51755268, "comment_id": 90852173, "body": "@RyanSchaefer I think your issue with column B having only one date value is somewhat tangential to the problem at hand. Basically, for the rows with a single date, you need to set both the start and end date to that same date, and then you can just apply any of these methods"}], "answers": [{"comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1534944101, "post_id": 51755666, "comment_id": 90885852, "body": "Nice earned bounty. +1"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1534950336, "post_id": 51755666, "comment_id": 90890095, "body": "Thanks! Didn&#39;t even realize it had a bounty! Plus I learned a lot with IntervalIndex and the numpy solutions :D"}], "tags": [], "owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "is_accepted": true, "score": 13, "last_activity_date": 1534862370, "last_edit_date": 1534862370, "creation_date": 1533762458, "answer_id": 51755666, "question_id": 51755268, "link": "https://stackoverflow.com/questions/51755268/pandas-merge-on-datetime-or-datetime-in-datetimeindex/51755666#51755666", "title": "Pandas merge on `datetime` or `datetime` in `datetimeIndex`", "body": "<p>So here's the option with merging:</p>\n\n<p>Assume you have two DataFrames:</p>\n\n<pre><code>import pandas as pd\ndf1 = pd.DataFrame({'date': ['2015-01-01', '2015-01-02', '2015-01-03'], \n                    'data': ['A', 'B', 'C']})\ndf2 = pd.DataFrame({'date': ['2015-01-01 to 2015-01-02', '2015-01-01 to 2015-01-02', '2015-01-02 to 2015-01-03'], \n                    'data': ['E', 'F', 'G']})\n</code></pre>\n\n<p>Now do some cleaning to get all of the dates you need and make sure they are <code>datetime</code></p>\n\n<pre><code>df1['date'] = pd.to_datetime(df1.date)\n\ndf2[['start', 'end']] = df2['date'].str.split(' to ', expand=True)\ndf2['start'] = pd.to_datetime(df2.start)\ndf2['end'] = pd.to_datetime(df2.end)\n# No need for this anymore\ndf2 = df2.drop(columns='date')\n</code></pre>\n\n<p>Now merge it all together. You'll get 99x10K rows.</p>\n\n<pre><code>df = df1.assign(dummy=1).merge(df2.assign(dummy=1), on='dummy').drop(columns='dummy')\n</code></pre>\n\n<p>And subset to the dates that fall in between the ranges:</p>\n\n<pre><code>df[(df.date &gt;= df.start) &amp; (df.date &lt;= df.end)]\n#        date data_x data_y      start        end\n#0 2015-01-01      A      E 2015-01-01 2015-01-02\n#1 2015-01-01      A      F 2015-01-01 2015-01-02\n#3 2015-01-02      B      E 2015-01-01 2015-01-02\n#4 2015-01-02      B      F 2015-01-01 2015-01-02\n#5 2015-01-02      B      G 2015-01-02 2015-01-03\n#8 2015-01-03      C      G 2015-01-02 2015-01-03\n</code></pre>\n\n<hr>\n\n<p>If for instance, some dates in <code>df2</code> were a single date, since we're using <code>.str.split</code> we will get <code>None</code> for the second date. Then just use <code>.loc</code> to set it appropriately.</p>\n\n<pre><code>df2 = pd.DataFrame({'date': ['2015-01-01 to 2015-01-02', '2015-01-01 to 2015-01-02', '2015-01-02 to 2015-01-03',\n                             '2015-01-03'], \n                    'data': ['E', 'F', 'G', 'H']})\n\ndf2[['start', 'end']] = df2['date'].str.split(' to ', expand=True)\ndf2.loc[df2.end.isnull(), 'end'] = df2.loc[df2.end.isnull(), 'start']\n#  data      start        end\n#0    E 2015-01-01 2015-01-02\n#1    F 2015-01-01 2015-01-02\n#2    G 2015-01-02 2015-01-03\n#3    H 2015-01-03 2015-01-03\n</code></pre>\n\n<p>Now the rest follows unchanged</p>\n"}, {"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 3, "last_activity_date": 1534567609, "creation_date": 1534567609, "answer_id": 51905356, "question_id": 51755268, "link": "https://stackoverflow.com/questions/51755268/pandas-merge-on-datetime-or-datetime-in-datetimeindex/51905356#51905356", "title": "Pandas merge on `datetime` or `datetime` in `datetimeIndex`", "body": "<p>Let's use this <a href=\"https://stackoverflow.com/a/44601120/6361531\">numpy method by @piRSquared</a>:</p>\n\n<pre><code>df1 = pd.DataFrame({'date': ['2015-01-01', '2015-01-02', '2015-01-03'], \n                    'data': ['A', 'B', 'C']})\ndf2 = pd.DataFrame({'date': ['2015-01-01 to 2015-01-02', '2015-01-01 to 2015-01-02', '2015-01-02 to 2015-01-03'], \n                    'data': ['E', 'F', 'G']})\n\ndf2[['start', 'end']] = df2['date'].str.split(' to ', expand=True)\ndf2['start'] = pd.to_datetime(df2.start)\ndf2['end'] = pd.to_datetime(df2.end)\ndf1['date'] = pd.to_datetime(df1['date'])\n\na = df1['date'].values\nbh = df2['end'].values\nbl = df2['start'].values\n\ni, j = np.where((a[:, None] &gt;= bl) &amp; (a[:, None] &lt;= bh))\n\npd.DataFrame(np.column_stack([df1.values[i], df2.values[j]]),\n             columns=df1.columns.append(df2.columns))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                  date data                      date data                start                  end\n0  2015-01-01 00:00:00    A  2015-01-01 to 2015-01-02    E  2015-01-01 00:00:00  2015-01-02 00:00:00\n1  2015-01-01 00:00:00    A  2015-01-01 to 2015-01-02    F  2015-01-01 00:00:00  2015-01-02 00:00:00\n2  2015-01-02 00:00:00    B  2015-01-01 to 2015-01-02    E  2015-01-01 00:00:00  2015-01-02 00:00:00\n3  2015-01-02 00:00:00    B  2015-01-01 to 2015-01-02    F  2015-01-01 00:00:00  2015-01-02 00:00:00\n4  2015-01-02 00:00:00    B  2015-01-02 to 2015-01-03    G  2015-01-02 00:00:00  2015-01-03 00:00:00\n5  2015-01-03 00:00:00    C  2015-01-02 to 2015-01-03    G  2015-01-02 00:00:00  2015-01-03 00:00:00\n</code></pre>\n"}], "owner": {"reputation": 2682, "user_id": 4848801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/700003af13fc16520eeff211d66e2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Schaefer", "link": "https://stackoverflow.com/users/4848801/ryan-schaefer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5391, "favorite_count": 0, "accepted_answer_id": 51755666, "answer_count": 2, "score": 8, "last_activity_date": 1534862370, "creation_date": 1533760601, "last_edit_date": 1533760893, "question_id": 51755268, "link": "https://stackoverflow.com/questions/51755268/pandas-merge-on-datetime-or-datetime-in-datetimeindex", "title": "Pandas merge on `datetime` or `datetime` in `datetimeIndex`", "body": "<p>Currently I have two data frames representing excel spreadsheets. I wish to join the data where the dates are equal. This is a one to many join as one spread sheet has a date then I need to add data which has multiple rows with the same date</p>\n\n<p>an example:</p>\n\n<pre><code>            A                  B\n     date     data       date                 data\n0    2015-0-1 ...     0  2015-0-1 to 2015-0-2 ...\n1    2015-0-2 ...     1  2015-0-1 to 2015-0-2 ...\n</code></pre>\n\n<p>In this case both rows from A would recieve rows 0 and 1 from B because they are in that range.</p>\n\n<p>I tried using </p>\n\n<pre><code>df3 = pandas.merge(df2, df1, how='right', validate='1:m', left_on='Travel Date/Range', right_on='End')\n</code></pre>\n\n<p>to accomplish this but received this error.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#61&gt;\", line 1, in &lt;module&gt;\n    df3 = pandas.merge(df2, df1, how='right', validate='1:m', left_on='Travel Date/Range', right_on='End')\n  File \"C:\\Users\\M199449\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pandas\\core\\reshape\\merge.py\", line 61, in merge\n    validate=validate)\n  File \"C:\\Users\\M199449\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pandas\\core\\reshape\\merge.py\", line 555, in __init__\n    self._maybe_coerce_merge_keys()\n  File \"C:\\Users\\M199449\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\pandas\\core\\reshape\\merge.py\", line 990, in _maybe_coerce_merge_keys\n    raise ValueError(msg)\nValueError: You are trying to merge on object and datetime64[ns] columns. If you wish to proceed you should use pd.concat\n</code></pre>\n\n<p>I can add more information as needed of course</p>\n"}, {"tags": ["python", "gtk", "gtk3"], "answers": [{"comments": [{"owner": {"reputation": 1896, "user_id": 4226702, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-siukF5ObSUs/AAAAAAAAAAI/AAAAAAAAAEc/Qww5nEqBNDw/photo.jpg?sz=128", "display_name": "Alexander Dmitriev", "link": "https://stackoverflow.com/users/4226702/alexander-dmitriev"}, "edited": false, "score": 2, "creation_date": 1533806653, "post_id": 51755893, "comment_id": 90485369, "body": "It&#39;s correct and you can mark it as answer. However, in some cases you should call <a href=\"http://lazka.github.io/pgi-docs/index.html#Gtk-3.0/classes/Widget.html#Gtk.Widget.add_events\" rel=\"nofollow noreferrer\"><code>Gtk.Widget.add_events()</code></a> first."}], "tags": [], "owner": {"reputation": 3433, "user_id": 407468, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Oghht.jpg?s=128&g=1", "display_name": "brpaz", "link": "https://stackoverflow.com/users/407468/brpaz"}, "is_accepted": true, "score": 2, "last_activity_date": 1533763690, "creation_date": 1533763690, "answer_id": 51755893, "question_id": 51755244, "link": "https://stackoverflow.com/questions/51755244/listen-to-control-mouse-wheel-scroll-event-in-python-gtk3/51755893#51755893", "title": "Listen to Control + mouse wheel scroll event in Python GTK3", "body": "<p>As it happens many times, After posting in SO I found the solution :)</p>\n\n<p>Here it is:</p>\n\n<p><strong>Listen the \"scroll event\" on webview:</strong></p>\n\n<pre><code> self.connect('scroll-event', self.on_scroll)\n</code></pre>\n\n<p><strong>Signal handler</strong></p>\n\n<pre><code> def on_scroll(self, widget, event):\n    \"\"\" handles on scroll event\"\"\"\n\n   # Handles zoom in / zoom out on Ctrl+mouse wheel\n   accel_mask = Gtk.accelerator_get_default_mod_mask()\n   if event.state &amp; accel_mask == Gdk.ModifierType.CONTROL_MASK:\n     direction = event.get_scroll_deltas()[2]\n     if direction &gt; 0:  # scrolling down -&gt; zoom out\n        self.set_zoom_level(self.get_zoom_level() - 0.1)\n     else:\n        self.set_zoom_level(self.get_zoom_level() + 0.1)\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/16226043/gdk-signal-keypress-and-key-masks\">GDK signal, keypress, and key masks</a></p>\n"}], "owner": {"reputation": 3433, "user_id": 407468, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Oghht.jpg?s=128&g=1", "display_name": "brpaz", "link": "https://stackoverflow.com/users/407468/brpaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "accepted_answer_id": 51755893, "answer_count": 1, "score": 3, "last_activity_date": 1533763690, "creation_date": 1533760492, "question_id": 51755244, "link": "https://stackoverflow.com/questions/51755244/listen-to-control-mouse-wheel-scroll-event-in-python-gtk3", "title": "Listen to Control + mouse wheel scroll event in Python GTK3", "body": "<p>I am building a Python GTK application and I need to listen to the \"Ctrl+Mouse wheel\" event. I want to implement \"zoom\" feature in Webview. Do I need to setup an accelerator? If yes, what is the key code for mouse wheel?</p>\n\n<p>There isn't really much documentation on these topics.</p>\n\n<p>Any help? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "string", "python-3.x", "pprint"], "comments": [{"owner": {"reputation": 1306, "user_id": 3331390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jWrI9.jpg?s=128&g=1", "display_name": "aibotnet", "link": "https://stackoverflow.com/users/3331390/aibotnet"}, "edited": false, "score": 0, "creation_date": 1533760788, "post_id": 51755232, "comment_id": 90470258, "body": "Please explain little more &gt;&gt;&gt; {b&#39;cf1:c1&#39;: b&#39;test-value&#39;} {&#39;cf1:c1&#39;: &#39;test-value&#39;} &gt;&gt;&gt; a = {b&#39;cf1:c1&#39;: b&#39;test-value&#39;} &gt;&gt;&gt; a {&#39;cf1:c1&#39;: &#39;test-value&#39;}"}, {"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1533760820, "post_id": 51755232, "comment_id": 90470277, "body": "<code>print({b&#39;cf1:c1&#39;: b&#39;test-value&#39;})</code>? This works in python3"}, {"owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "edited": false, "score": 0, "creation_date": 1533760874, "post_id": 51755232, "comment_id": 90470306, "body": "<code>json.dumps</code> doesn&#39;t work because python dictionaries are not JSON. You would need to first convert your dictionary to JSON first."}], "answers": [{"comments": [{"owner": {"reputation": 1032, "user_id": 3473568, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6Czb4.jpg?s=128&g=1", "display_name": "Billy Jacobson", "link": "https://stackoverflow.com/users/3473568/billy-jacobson"}, "edited": false, "score": 0, "creation_date": 1533761174, "post_id": 51755313, "comment_id": 90470423, "body": "Doing this and then json.dumps(y, indent=4, sort_keys=True) gives me the result I was looking for. Thanks."}], "tags": [], "owner": {"reputation": 518, "user_id": 9063770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W6qSB.jpg?s=128&g=1", "display_name": "Jacob Rodal", "link": "https://stackoverflow.com/users/9063770/jacob-rodal"}, "is_accepted": true, "score": 1, "last_activity_date": 1533760794, "creation_date": 1533760794, "answer_id": 51755313, "question_id": 51755232, "link": "https://stackoverflow.com/questions/51755232/how-to-print-a-python-dict-containing-byte-strings/51755313#51755313", "title": "How to print a Python dict containing byte strings?", "body": "<p>You can create a new dictionary with decoded keys and values like so:</p>\n\n<pre><code>x = {b'cf1:c1': b'test-value'}\ny = {k.decode(\"utf-8\"):v.decode(\"utf-8\") for k,v in x.items()}\n</code></pre>\n\n<p>Then you should be able to display <code>y</code> as you desire.</p>\n"}], "owner": {"reputation": 1032, "user_id": 3473568, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/6Czb4.jpg?s=128&g=1", "display_name": "Billy Jacobson", "link": "https://stackoverflow.com/users/3473568/billy-jacobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1288, "favorite_count": 0, "accepted_answer_id": 51755313, "answer_count": 1, "score": 0, "last_activity_date": 1533760794, "creation_date": 1533760439, "question_id": 51755232, "link": "https://stackoverflow.com/questions/51755232/how-to-print-a-python-dict-containing-byte-strings", "title": "How to print a Python dict containing byte strings?", "body": "<p>I've got a dictionary with keys as byte strings and values as byte strings and would like to print a cleaned up version of it. Here is an example pair:</p>\n\n<pre><code>{b'cf1:c1': b'test-value'}\n</code></pre>\n\n<p>I've tried doing json.dumps, but I get an error saying that </p>\n\n<pre><code>TypeError: key b'cf1:c1' is not a string\n</code></pre>\n\n<p>I've also tried pprint. Are there any libraries or easy ways to do this?</p>\n\n<p>Ideally the result would look like </p>\n\n<pre><code>{\n    'cf1:c1': 'test-value'\n}\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qtstylesheets"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1533760364, "post_id": 51755187, "comment_id": 90470042, "body": "provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 339, "user_id": 2030914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa1bd039ccc4539bef97f4529d0d07a?s=128&d=identicon&r=PG", "display_name": "DDR", "link": "https://stackoverflow.com/users/2030914/ddr"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1533761341, "post_id": 51755187, "comment_id": 90470508, "body": "That should take care of it\u2026"}], "owner": {"reputation": 339, "user_id": 2030914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa1bd039ccc4539bef97f4529d0d07a?s=128&d=identicon&r=PG", "display_name": "DDR", "link": "https://stackoverflow.com/users/2030914/ddr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533761266, "creation_date": 1533760253, "last_edit_date": 1533761266, "question_id": 51755187, "link": "https://stackoverflow.com/questions/51755187/retrieve-dynamic-margin-of-button-in-pyqt-5", "title": "Retrieve dynamic margin of button in PyQt 5", "body": "<p>I have a widget, usually but not always a button, which I'd like to animate the margin and width of to emulate a scroll-in effect. However, different widgets have different margins, as set in Qt Designer with CSS. I need to retrieve the margin, which the documentation says I can do via <code>child.contentsMargins()</code>. This is incorrect because:</p>\n\n<ul>\n<li><code>widget.contentsMargins()</code> returns <code>0, 0, 0, 0</code>. The actual margins are <code>20, 20, 0, 0</code>.</li>\n<li><code>widget.style().subElementRect(QtWidgets.QStyle.SE_PushButtonFocusRect, QtWidgets.QStyleOptionButton())</code> returns <code>2, 3, -4, -6</code>, which doesn't seem to be related to anything anywhere.</li>\n<li><code>widget.style().subElementRect(QtWidgets.QStyle.SE_PushButtonFocusRect, QtWidgets.QStyleOptionButton(), widget)</code> returns <code>21, 21, -22, -22</code>, which also doesn't seem to be related to anything anywhere.</li>\n</ul>\n\n<p>The only option I see is to parse the stylesheet and dynamically update it, once per frame, but I really don't want to go through string manipulation for every frame of the animation because dear god that's a hideous way to animate something smoothly. Is there no way to access these values built in?</p>\n\n<p>Update: simple reproduction:</p>\n\n<pre><code>from PyQt5 import QtWidgets\nQtWidgets.QApplication([])\nb = QtWidgets.QPushButton()\nb.setStyleSheet(\"margin: 15px\")\nb.contentsMargins().top() #is 0, should be 15\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "deep-learning"], "comments": [{"owner": {"reputation": 2954, "user_id": 7699859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOr4P.jpg?s=128&g=1", "display_name": "Bal Krishna Jha", "link": "https://stackoverflow.com/users/7699859/bal-krishna-jha"}, "edited": false, "score": 0, "creation_date": 1533761233, "post_id": 51755160, "comment_id": 90470458, "body": "check what<code>Input(shape = (None,))</code> gives ."}, {"owner": {"reputation": 415, "user_id": 5025377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJbJy.jpg?s=128&g=1", "display_name": "Pranav Vempati", "link": "https://stackoverflow.com/users/5025377/pranav-vempati"}, "reply_to_user": {"reputation": 2954, "user_id": 7699859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOr4P.jpg?s=128&g=1", "display_name": "Bal Krishna Jha", "link": "https://stackoverflow.com/users/7699859/bal-krishna-jha"}, "edited": false, "score": 0, "creation_date": 1533770129, "post_id": 51755160, "comment_id": 90473165, "body": "That yields the following error trace: TypeError: unsupported operand type(s) for +: &#39;NoneType&#39; and &#39;int&#39;"}, {"owner": {"reputation": 4248, "user_id": 5825953, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PPitr.jpg?s=128&g=1", "display_name": "Mitiku", "link": "https://stackoverflow.com/users/5825953/mitiku"}, "edited": false, "score": 0, "creation_date": 1533793358, "post_id": 51755160, "comment_id": 90478218, "body": "This error resulted because of labels dimension didnot match what the output layer is expecting. can you post the shape of label_list[0].shape?"}, {"owner": {"reputation": 415, "user_id": 5025377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJbJy.jpg?s=128&g=1", "display_name": "Pranav Vempati", "link": "https://stackoverflow.com/users/5025377/pranav-vempati"}, "edited": false, "score": 0, "creation_date": 1533795103, "post_id": 51755160, "comment_id": 90478920, "body": "label_list[0].shape is: (2,)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11115921"}, "edited": false, "score": 0, "creation_date": 1551437699, "post_id": 51788497, "comment_id": 96648980, "body": "Thanks for the help."}], "tags": [], "owner": {"reputation": 5953, "user_id": 5495381, "user_type": "registered", "profile_image": "https://graph.facebook.com/921135147975090/picture?type=large", "display_name": "sdcbr", "link": "https://stackoverflow.com/users/5495381/sdcbr"}, "is_accepted": true, "score": 5, "last_activity_date": 1533910678, "creation_date": 1533910678, "answer_id": 51788497, "question_id": 51755160, "link": "https://stackoverflow.com/questions/51755160/error-when-checking-target-expected-dense-3-to-have-shape-2-but-got-array-wi/51788497#51788497", "title": "Error when checking target: expected dense_3 to have shape (2,) but got array with shape (1,)", "body": "<p>Your <code>numpy arrays</code> (both for inputs and outputs) should contain a batch dimension. If your labels are currently of shape <code>(2,)</code>, you can reshape them to include a batch dimension as follows:</p>\n\n<pre><code>label_array = label_array.reshape(1, -1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1702, "user_id": 12867493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9T6C.png?s=128&g=1", "display_name": "Xnero", "link": "https://stackoverflow.com/users/12867493/xnero"}, "edited": false, "score": 0, "creation_date": 1594726431, "post_id": 62893777, "comment_id": 111220591, "body": "While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/62893777/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 11, "user_id": 13760614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/csAw2.jpg?s=128&g=1", "display_name": "Syed Shoyab", "link": "https://stackoverflow.com/users/13760614/syed-shoyab"}, "is_accepted": false, "score": 1, "last_activity_date": 1594724814, "creation_date": 1594724814, "answer_id": 62893777, "question_id": 51755160, "link": "https://stackoverflow.com/questions/51755160/error-when-checking-target-expected-dense-3-to-have-shape-2-but-got-array-wi/62893777#62893777", "title": "Error when checking target: expected dense_3 to have shape (2,) but got array with shape (1,)", "body": "<p>I used</p>\n<p><code>model.compile(loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'])</code></p>\n<p>insted of</p>\n<p><code>model.compile(optimizer='adam',loss='sparse_categorical_crossentropy',metrics=['accuracy'])</code></p>\n<p>I changed the loss and it worked for me.</p>\n"}], "owner": {"reputation": 415, "user_id": 5025377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJbJy.jpg?s=128&g=1", "display_name": "Pranav Vempati", "link": "https://stackoverflow.com/users/5025377/pranav-vempati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14663, "favorite_count": 1, "accepted_answer_id": 51788497, "answer_count": 2, "score": 8, "last_activity_date": 1594724814, "creation_date": 1533760142, "last_edit_date": 1533770192, "question_id": 51755160, "link": "https://stackoverflow.com/questions/51755160/error-when-checking-target-expected-dense-3-to-have-shape-2-but-got-array-wi", "title": "Error when checking target: expected dense_3 to have shape (2,) but got array with shape (1,)", "body": "<p>I'm training a textual sentiment classification model with multiple output layers in Keras's Functional API(using a TensorFlow backend). The model takes as input a Numpy array of hashed values produced by the Keras Preprocessing API's hashing_trick() function, and uses a <em>list</em> of Numpy arrays of binary one-hot labels as its targets, as per Keras specifications for training a model with  multiple outputs(see fit()'s documentation here: <a href=\"https://keras.io/models/model/\" rel=\"noreferrer\">https://keras.io/models/model/</a>). </p>\n\n<p>Here's the model, sans most of the preprocessing steps:</p>\n\n<pre><code>    textual_features = hashing_utility(filtered_words) # Numpy array of hashed values(training data)\n\n    label_list = [] # Will eventually contain a list of Numpy arrays of binary one-hot labels \n\n    for index in range(one_hot_labels.shape[0]):\n        label_list.append(one_hot_labels[index])\n\n     weighted_loss_value = (1/(len(filtered_words))) # Equal weight on each of the output layers' losses\n\n     weighted_loss_values = []\n\n     for index in range (one_hot_labels.shape[0]):\n        weighted_loss_values.append(weighted_loss_value)\n\n\n     text_input = Input(shape = (1,))\n\n\n     intermediate_layer = Dense(64, activation = 'relu')(text_input)\n\n\n     hidden_bottleneck_layer = Dense(32, activation = 'relu')(intermediate_layer)\n\n     keras.regularizers.l2(0.1)\n\n     output_layers = []\n\n     for index in range(len(filtered_words)):\n        output_layers.append(Dense(2, activation = 'sigmoid')(hidden_bottleneck_layer))\n\n     model = Model(inputs = text_input, outputs = output_layers)            \n     model.compile(optimizer = 'RMSprop', loss = 'binary_crossentropy', metrics = ['accuracy'], loss_weights = weighted_loss_values)                          \n\n     model.fit(textual_features, label_list, epochs = 50)\n</code></pre>\n\n<p>Here's the gist of the error trace training this model produces: </p>\n\n<p>ValueError: Error when checking target: expected dense_3 to have shape (2,) but got array with shape (1,)</p>\n"}, {"tags": ["python", "linux", "wxpython"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10199783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d4d81ceb887d374aea9d92b5088670?s=128&d=identicon&r=PG", "display_name": "skrohmer", "link": "https://stackoverflow.com/users/10199783/skrohmer"}, "edited": false, "score": 0, "creation_date": 1533843560, "post_id": 51763131, "comment_id": 90507948, "body": "Thanks, looks really good now! However, I will have to see how to integrate this in the real program which is much more complex. There the timer is running in another process and the call for updating the gauge is sent over a pipe. Anyway, very helpful approach. :-)"}, {"owner": {"reputation": 13, "user_id": 10199783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d4d81ceb887d374aea9d92b5088670?s=128&d=identicon&r=PG", "display_name": "skrohmer", "link": "https://stackoverflow.com/users/10199783/skrohmer"}, "edited": false, "score": 0, "creation_date": 1534053891, "post_id": 51763131, "comment_id": 90567868, "body": "FYI: Using wx.CallAfter seemed to solve all problems caused by parallel processes, timers, threads. Your answer brought me on the right track to check threadsafe methods: <a href=\"https://www.blog.pythonlibrary.org/2010/05/22/wxpython-and-threads/\" rel=\"nofollow noreferrer\">blog.pythonlibrary.org/2010/05/22/wxpython-and-threads</a>"}, {"owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "reply_to_user": {"reputation": 13, "user_id": 10199783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d4d81ceb887d374aea9d92b5088670?s=128&d=identicon&r=PG", "display_name": "skrohmer", "link": "https://stackoverflow.com/users/10199783/skrohmer"}, "edited": false, "score": 0, "creation_date": 1534066897, "post_id": 51763131, "comment_id": 90570346, "body": "@skrohmer Glad to see that you kept your nose to the grindstone and resolved it using a method compatible with your requirements."}], "tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": true, "score": 0, "last_activity_date": 1533806040, "creation_date": 1533806040, "answer_id": 51763131, "question_id": 51755148, "link": "https://stackoverflow.com/questions/51755148/wxpython-gauge-freezes-on-linux/51763131#51763131", "title": "wxPython gauge freezes on Linux", "body": "<p>I suspect that your issue may be to do with using <code>Timer</code> from the threading module.<br>\nUse <code>wx.Timer</code>.</p>\n\n<pre><code>import wx\n\nclass MainWindow(wx.Frame):\n    def __init__(self):\n        wx.Frame.__init__(self, None, title=\"Test\", size=(600, 100))\n        panel = wx.Panel(self)\n        self.timer = wx.Timer(self)\n        self.Bind(wx.EVT_TIMER, self.onTimer, self.timer)\n        self.gauge = wx.Gauge(panel, wx.ID_ANY, 100, (10, 10), (480, 10))\n        self.Show()\n        self.timer.Start(100) # fire every 10th of a second\n\n    def onTimer(self, evt):\n        val = self.gauge.GetValue()\n        val += 1\n        if val &gt; 100:\n            val = 0\n        self.gauge.SetValue(val)\n\napp = wx.App(False)\nframe = MainWindow()\napp.MainLoop()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10199783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d4d81ceb887d374aea9d92b5088670?s=128&d=identicon&r=PG", "display_name": "skrohmer", "link": "https://stackoverflow.com/users/10199783/skrohmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 51763131, "answer_count": 1, "score": 1, "last_activity_date": 1533806040, "creation_date": 1533760106, "question_id": 51755148, "link": "https://stackoverflow.com/questions/51755148/wxpython-gauge-freezes-on-linux", "title": "wxPython gauge freezes on Linux", "body": "<p>I'm struggling with wxPython on Linux. After a lot of time and investigation I have reduced my program to the minimum to show you one of the issues I have encountered. I could reduce it to a quite small code example using only one gauge in the window which is updated by a Timer. My first problems appeard with buttons whose background color should have been changed quickly, this has resulted in strange memory faults. Since the complete application is far to complex I have searched for an easy example - bingo! Here is the reduced code which runs fine on Windows and does not on Raspberry Pi as well as VirtualBox VMs of Raspberry Pi and Debian 9. I have tried wxPython 3.0.2.0 and 4.0.3, each with gtk2 and python 2.7 and python 3.5:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: iso-8859-1 -*-\n\nimport wx\nfrom threading import Timer\n\nclass MainWindow(wx.Frame):\n    def __init__(self):\n        wx.Frame.__init__(self, None, title=\"Test\", size=(600, 100))\n        panel = wx.Panel(self)\n\n        self.gauge = wx.Gauge(panel, wx.ID_ANY, 100, (10, 10), (480, 10))\n        self.gaugeval = 0\n        self.gauge.SetValue(self.gaugeval)\n\n        self.Show()\n        Timer(1, self.loop).start()\n\n    def loop(self):\n        self.gaugeval += 1\n        if self.gaugeval &gt; 100:\n            self.gaugeval = 0\n        self.gauge.SetValue(self.gaugeval)\n        Timer(0.01, self.loop).start()\n\n\napp = wx.App(False)\nframe = MainWindow()\napp.MainLoop()\n</code></pre>\n\n<p>After starting the program it takes one second until the gauge should \"live\" and fill the bar from the left to the right, then beginning again at the left and so on. However, on any of the tested Linux systems it freezes very quickly.</p>\n\n<p>What is happening here? Can anyone reproduce this? I can hardly believe that such a simple function will not work. Thanks a lot for having a look at this issue!</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7004560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dFstq.jpg?s=128&g=1", "display_name": "Xian", "link": "https://stackoverflow.com/users/7004560/xian"}, "edited": false, "score": 0, "creation_date": 1533765431, "post_id": 51755362, "comment_id": 90471956, "body": "Thank you, but I was aiming to follow along with the tutorial step-by-step as opposed to downloading the entire completed project."}], "tags": [], "owner": {"reputation": 1, "user_id": 9580015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e99cb34f86fd48c4c9b55b7de6b8e15c?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/9580015/piotr"}, "is_accepted": false, "score": 0, "last_activity_date": 1533761044, "creation_date": 1533761044, "answer_id": 51755362, "question_id": 51755139, "link": "https://stackoverflow.com/questions/51755139/flask-cli-noappexception-flaskr-tutorial/51755362#51755362", "title": "flask.cli.NoAppException [flaskr tutorial]", "body": "<p>Did you follow to all the steps described in <a href=\"https://github.com/pallets/flask/tree/master/examples/tutorial\" rel=\"nofollow noreferrer\">readme</a> ? </p>\n\n<p>Especially: <code>pip install -e .</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10895252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6fb43cc4cf67b304753d408266dac0c?s=128&d=identicon&r=PG&f=1", "display_name": "ImmortalTITAN", "link": "https://stackoverflow.com/users/10895252/immortaltitan"}, "is_accepted": false, "score": 0, "last_activity_date": 1558452503, "last_edit_date": 1558452503, "creation_date": 1558447185, "answer_id": 56239993, "question_id": 51755139, "link": "https://stackoverflow.com/questions/51755139/flask-cli-noappexception-flaskr-tutorial/56239993#56239993", "title": "flask.cli.NoAppException [flaskr tutorial]", "body": "<p>I had the same error. What I did was to create a folder named <code>flaskr</code> and then move the <code>__init__.py</code> file into it (that is move the <code>__init__.py</code> into <code>flaskr</code> folder).</p>\n"}], "owner": {"reputation": 1, "user_id": 7004560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dFstq.jpg?s=128&g=1", "display_name": "Xian", "link": "https://stackoverflow.com/users/7004560/xian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1890, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558452503, "creation_date": 1533760062, "last_edit_date": 1533760148, "question_id": 51755139, "link": "https://stackoverflow.com/questions/51755139/flask-cli-noappexception-flaskr-tutorial", "title": "flask.cli.NoAppException [flaskr tutorial]", "body": "<p>Wow, so I feel incredibly silly for posing this question, but what am I doing wrong?</p>\n\n<p>When accessing the server (<a href=\"http://127.0.0.1:5000/\" rel=\"nofollow noreferrer\">http://127.0.0.1:5000/</a>), I repeatedly get the error: </p>\n\n<pre><code>flask.cli.NoAppException: Could not import \"flaskr.flaskr\".\n\npwd: ./flask/flaskr\n</code></pre>\n\n<p>Then I researched the error and found <a href=\"https://stackoverflow.com/questions/50574293/flask-cli-noappexception-could-not-import-flaskr-flaskr?noredirect=1&amp;lq=1\">this</a> to be most relevant to my problem, but I [cd ..] to pwd [./flask] but received a 404 error.  This has been plaguing me all day and I would greatly appreciate aid!</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "pycharm", "ubuntu-18.04"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1533761614, "post_id": 51755136, "comment_id": 90470632, "body": "Sounds like PyCharm lost the project settings, or you may have told it to clear its settings after the update. Just go into Settings and set the Project location and &quot;Add Content Root&quot;"}, {"owner": {"reputation": 1560, "user_id": 9191460, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213092679404905/picture?type=large", "display_name": "Rui Nian", "link": "https://stackoverflow.com/users/9191460/rui-nian"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1533828884, "post_id": 51755136, "comment_id": 90500643, "body": "Thanks for the reply!  I added the content root to my current directory, but it is still showing the same thing :(."}], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 9191460, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213092679404905/picture?type=large", "display_name": "Rui Nian", "link": "https://stackoverflow.com/users/9191460/rui-nian"}, "edited": false, "score": 0, "creation_date": 1534349306, "post_id": 51857007, "comment_id": 90676993, "body": "Hello Pavel, thanks for the reply.  This solved the Console issue.  I think the main issue arrived from me updating my PyCharm.  I usually right click my code and click &#39;run in console&quot;, because by doing so, I won&#39;t get the &quot;Process finished with exit code 1&quot;.  This way, I can see my results after my runs.  However, with the new PyCharm update, they changed how this works unfortunately.  I downgraded my PyCharm and now it is working as before as well."}], "tags": [], "owner": {"reputation": 5051, "user_id": 2787185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8db1d0a1d644464a0f834ba886a6cd9?s=128&d=identicon&r=PG", "display_name": "Pavel Karateev", "link": "https://stackoverflow.com/users/2787185/pavel-karateev"}, "is_accepted": true, "score": 0, "last_activity_date": 1534328731, "creation_date": 1534328731, "answer_id": 51857007, "question_id": 51755136, "link": "https://stackoverflow.com/questions/51755136/pycharm-updated-and-now-every-script-gets-executed-in-python-console/51857007#51857007", "title": "PyCharm updated and now every script gets executed in Python Console", "body": "<p>Try to disable <strong>Run with Python console</strong> option in the Run Configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gmZn4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gmZn4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1560, "user_id": 9191460, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213092679404905/picture?type=large", "display_name": "Rui Nian", "link": "https://stackoverflow.com/users/9191460/rui-nian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 51857007, "answer_count": 1, "score": 1, "last_activity_date": 1534328731, "creation_date": 1533760044, "last_edit_date": 1533779984, "question_id": 51755136, "link": "https://stackoverflow.com/questions/51755136/pycharm-updated-and-now-every-script-gets-executed-in-python-console", "title": "PyCharm updated and now every script gets executed in Python Console", "body": "<p>This morning when I got into the office, PyCharm said I need to update my IDE, so I updated it to the latest \"professional\" PyCharm edition.  However, whenever I run my code, it now goes to Python Console pane instead of a Run pane appearing.  At first, interactive python was completely broken, but after I redownloaded IPython, I got the interactive portion back, but my run is still missing.  Please refer to the below pictures.</p>\n\n<p>As you can see, in the new PyCharm, the title of the runs are called \"Python Console (1), Python Console (2), etc with no names, and it is ran in Python console.\nIn the old PyCharm, the file had its respective name and was in the \"4. Run\" category on the bottom left of PyCharm, and not in the Console section. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KSuNw.png\" rel=\"nofollow noreferrer\">New PyCharm after IDE Update</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/VGpT6.png\" rel=\"nofollow noreferrer\">Old PyCharm with Run</a></p>\n\n<p>Additional Info:  I am using Python 3.6, PyCharm Professional Edition, Ubuntu 18.04.</p>\n"}, {"tags": ["python", "for-loop", "nested"], "answers": [{"comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1533760267, "post_id": 51755175, "comment_id": 90469985, "body": "This only checks keys, not values."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1533760415, "post_id": 51755175, "comment_id": 90470068, "body": "Also, doesn&#39;t it have multiple loops just put in a 1-liner?"}, {"owner": {"reputation": 664, "user_id": 4528698, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9c2e34340610d83af9963d2ef0e0eee7?s=128&d=identicon&r=PG&f=1", "display_name": "GuiFGDeo", "link": "https://stackoverflow.com/users/4528698/guifgdeo"}, "edited": false, "score": 0, "creation_date": 1533760440, "post_id": 51755175, "comment_id": 90470078, "body": "Yes, I supose there are 3 fors as well, but in one single line"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533760538, "post_id": 51755175, "comment_id": 90470138, "body": "Try <code>dict_list1 = [{&#39;k1&#39;:1, &#39;k2&#39;: None}]</code> and <code>dict_list2 = [{&#39;k1&#39;:1}]</code>."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": -1, "last_activity_date": 1533760691, "last_edit_date": 1533760691, "creation_date": 1533760210, "answer_id": 51755175, "question_id": 51755131, "link": "https://stackoverflow.com/questions/51755131/avoid-nested-loops-when-checking-data-in-python/51755175#51755175", "title": "Avoid nested loops when checking data in Python", "body": "<p>You can use <code>any</code> and <code>all</code>:</p>\n\n<pre><code>dict_list1 = [{'k1':1, 'k2':2}, {'k1':3, 'k2':4}]\ndict_list2 = [{'k1':1, 'k2':2, 'k3':10}, {'k1':3, 'k2':4, 'k3':10}]\nv = [any(all(c in i and i[c] == k for c, k in b.items()) for i in dict_list2)\\\n   for b in dict_list1]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[True, True]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533760820, "post_id": 51755234, "comment_id": 90470278, "body": "My current version returns a list the length of <code>dict_list1</code> representing whether or not some element of <code>dict_list2</code> is a superdict of the dict at that index in <code>dict_list1</code>."}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 3, "last_activity_date": 1533760873, "last_edit_date": 1533760873, "creation_date": 1533760448, "answer_id": 51755234, "question_id": 51755131, "link": "https://stackoverflow.com/questions/51755131/avoid-nested-loops-when-checking-data-in-python/51755234#51755234", "title": "Avoid nested loops when checking data in Python", "body": "<p>Below, I use the fact that the <a href=\"https://docs.python.org/3/library/stdtypes.html#dictionary-view-objects\" rel=\"nofollow noreferrer\"><code>dict.items</code> view implements <code>set</code> operations</a> to check for each <code>d1.items()</code> if there exists a <code>d2.items()</code>, such that <code>d1.items()</code> is a subset of <code>d2.items()</code></p>\n\n<pre><code>[any(d1.items() &lt;= d2.items() for d2 in dict_list2) for d1 in dict_list1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 664, "user_id": 4528698, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9c2e34340610d83af9963d2ef0e0eee7?s=128&d=identicon&r=PG&f=1", "display_name": "GuiFGDeo", "link": "https://stackoverflow.com/users/4528698/guifgdeo"}, "edited": false, "score": 0, "creation_date": 1533761477, "post_id": 51755324, "comment_id": 90470566, "body": "Accepting @ShadowRanger answer because it is more complete."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 4, "last_activity_date": 1533760877, "creation_date": 1533760877, "answer_id": 51755324, "question_id": 51755131, "link": "https://stackoverflow.com/questions/51755131/avoid-nested-loops-when-checking-data-in-python/51755324#51755324", "title": "Avoid nested loops when checking data in Python", "body": "<p><code>dict</code> views can perform quick \"is subset\" testing via the inequality operators. So:</p>\n\n<pre><code>if dict_x.items() &lt;= dict_y.items():  # Use .viewitems() instead of .items() on Python 2.7\n</code></pre>\n\n<p>will only return true if every key/value pair in <code>dict_x</code> also appears in <code>dict_y</code>.</p>\n\n<p>This won't change anything in terms of big-O performance, but it does make the code somewhat cleaner:</p>\n\n<pre><code>for dict_x in dict_list1:\n    for dict_y in dict_list2:\n        if dict_x.items() &lt;= dict_y.items():\n            print('YAY')\n            break\n</code></pre>\n\n<p>Note that creating the views costs <em>something</em> (it's just a fixed cost, not dependent on <code>dict</code> size), so if performance matters, it may be worth caching the views; doing so for <code>dict_list1</code> is free:</p>\n\n<pre><code>for dict_x in dict_list1:\n    dict_x_view = dict_x.items()\n    for dict_y in dict_list2:\n        if dict_x_view &lt;= dict_y.items():\n            print('YAY')\n            break\n</code></pre>\n\n<p>but some eager conversions would be needed to cache both:</p>\n\n<pre><code># Convert all of dict_list2 to views up front; costs a little if\n# not all views end up being tested (we always break before finishing)\n# but usually saves some work at the cost of a tiny amount of memory\ndict_list2_views = [x.items() for x in dict_list2]\nfor dict_x in dict_list1:\n    dict_x_view = dict_x.items()\n    for dict_y_view in dict_list2_views:\n        if dict_x_view &lt;= dict_y_view:\n            print('YAY')\n            break\n</code></pre>\n\n<p>You could also collapse the loop using <code>any</code> (which removes the need to <code>break</code> since <code>any</code> short-circuits), so the first (simplest) check could become:</p>\n\n<pre><code>for dict_x in dict_list1:\n    if any(dict_x.items() &lt;= dict_y.items() for dict_y in dict_list2):\n       print('YAY')\n</code></pre>\n\n<p>This could be further collapsed to a single list comprehension that results in the various matches, but at that point the code is going to be pretty cramped/ugly:</p>\n\n<pre><code>for _ in (dict_x in dict_list1 if any(dict_x.items() &lt;= dict_y.items() for dict_y in dict_list2)):\n    print('YAY')\n</code></pre>\n\n<p>though without knowing what you'd really do (as opposed to just printing <code>YAY</code>) that's getting a little pointless.</p>\n"}], "owner": {"reputation": 664, "user_id": 4528698, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9c2e34340610d83af9963d2ef0e0eee7?s=128&d=identicon&r=PG&f=1", "display_name": "GuiFGDeo", "link": "https://stackoverflow.com/users/4528698/guifgdeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 51755324, "answer_count": 3, "score": 1, "last_activity_date": 1533760877, "creation_date": 1533760029, "question_id": 51755131, "link": "https://stackoverflow.com/questions/51755131/avoid-nested-loops-when-checking-data-in-python", "title": "Avoid nested loops when checking data in Python", "body": "<p>I have two lists of dictionaries:</p>\n\n<pre><code>dict_list1 = [{'k1':1, 'k2':2}, {'k1':3, 'k2':4}]\ndict_list2 = [{'k1':1, 'k2':2, 'k3':10}, {'k1':3, 'k2':4, 'k3':10}]\n</code></pre>\n\n<p>And now for each dict_x in dict_list1, I want to know if there is a dict_y on dict_list2 that contains every key,value from dict_x.</p>\n\n<p>I cannot think of another way of doing this other then:</p>\n\n<pre><code>for dict_x in dict_list1:\n    for dict_y in dict_list2:\n        count = len(dict_x)\n        for key, val in dict_x.items():\n            if key in dict_y and dict_y[key] == val:\n                count -= 1\n        if count == 0:\n            print('YAY')\n            break\n</code></pre>\n"}, {"tags": ["python", "vue.js", "electron"], "comments": [{"owner": {"reputation": 2978, "user_id": 1307030, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f1a39c69a4625b22984effba8e09aa3f?s=128&d=identicon&r=PG", "display_name": "Julian Paolo Dayag", "link": "https://stackoverflow.com/users/1307030/julian-paolo-dayag"}, "edited": false, "score": 0, "creation_date": 1533782042, "post_id": 51755103, "comment_id": 90475477, "body": "Why don&#39;t you just create an API for that? given that your application requires a user to log-in, you can send data from app to browser and vise versa by sending it to your backend which will relay the data to the destination."}], "answers": [{"comments": [{"owner": {"reputation": 2978, "user_id": 1307030, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f1a39c69a4625b22984effba8e09aa3f?s=128&d=identicon&r=PG", "display_name": "Julian Paolo Dayag", "link": "https://stackoverflow.com/users/1307030/julian-paolo-dayag"}, "edited": false, "score": 0, "creation_date": 1533782233, "post_id": 51757041, "comment_id": 90475506, "body": "Actually you can, by spawning a local web/socket server in a specific port from his electron app which can then be accessed in his page that is opened in the browser."}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "reply_to_user": {"reputation": 2978, "user_id": 1307030, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f1a39c69a4625b22984effba8e09aa3f?s=128&d=identicon&r=PG", "display_name": "Julian Paolo Dayag", "link": "https://stackoverflow.com/users/1307030/julian-paolo-dayag"}, "edited": false, "score": 0, "creation_date": 1533785159, "post_id": 51757041, "comment_id": 90476022, "body": "@JulianPaoloDayag: you should rather explain your solution in an answer, instead of leaving it as a comment of another answer."}], "tags": [], "owner": {"reputation": 429, "user_id": 4342940, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001803429147/picture?type=large", "display_name": "juliusmh", "link": "https://stackoverflow.com/users/4342940/juliusmh"}, "is_accepted": false, "score": 1, "last_activity_date": 1533771494, "creation_date": 1533771494, "answer_id": 51757041, "question_id": 51755103, "link": "https://stackoverflow.com/questions/51755103/how-to-communicate-between-electron-app-and-opened-other-browser/51757041#51757041", "title": "How to communicate between electron app and opened other browser?", "body": "<p>This does not seem very realistic. But I have a few ideas here:</p>\n\n<p>Electron -> Browser</p>\n\n<ul>\n<li>Webserver which you can open in the Browser</li>\n<li>write a Browser extension</li>\n</ul>\n\n<p>Browser -> Electron</p>\n\n<ul>\n<li>A special url like the ones apple uses for the app store (e.g.: itmss://itunes.apple.com/de/store?...)</li>\n</ul>\n\n<p>Due to security reasons it is not possible to \"talk\" to a browser and access other webpages information. Otherwise it would be easy to leak cookies and personal data.</p>\n"}], "owner": {"reputation": 21, "user_id": 10199881, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ftXlhO5JuLU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rQEgCOyT92LbkMt8FBQ_UyROiJlA/mo/photo.jpg?sz=128", "display_name": "Jackson Mic", "link": "https://stackoverflow.com/users/10199881/jackson-mic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533771494, "creation_date": 1533759942, "question_id": 51755103, "link": "https://stackoverflow.com/questions/51755103/how-to-communicate-between-electron-app-and-opened-other-browser", "title": "How to communicate between electron app and opened other browser?", "body": "<p>I want to communicate between electron app and opened other brower. I have to send params from electron to other browser or from browser to electron app. But there is no way.\nplease help me!</p>\n"}, {"tags": ["python", "scikit-learn", "neural-network"], "comments": [{"owner": {"reputation": 494, "user_id": 10101628, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qY_xz-qOEH8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pmjMTRcTRhL3Ul50BTwymaStfIkA/mo/photo.jpg?sz=128", "display_name": "Ely Fialkoff", "link": "https://stackoverflow.com/users/10101628/ely-fialkoff"}, "edited": false, "score": 0, "creation_date": 1533760668, "post_id": 51755095, "comment_id": 90470208, "body": "You may want to look at the accuracy of your training_data, and then check the accuracy of your testing_data. If the testing_data accuracy is higher there is a good chance its overfitting - not a guarantee, just an indication"}], "owner": {"reputation": 11, "user_id": 7407758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbc51fb1e80ee6ee6da17e77212ea62a?s=128&d=identicon&r=PG&f=1", "display_name": "AWaye", "link": "https://stackoverflow.com/users/7407758/awaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1533842248, "answer_count": 0, "score": 1, "last_activity_date": 1533761152, "creation_date": 1533759887, "last_edit_date": 1533761152, "question_id": 51755095, "link": "https://stackoverflow.com/questions/51755095/how-to-tell-if-neural-network-is-overfitting-in-scikit-learn", "closed_reason": "Duplicate", "title": "How to tell if neural network is overfitting in Scikit Learn", "body": "<p>I am training a neural network on Jupyter, using Sklearn and am having trouble with knowing when/if my network is overfitting the data. Right now I am plotting the actual outputs of my testing data vs the predicted outputs of the testing data my ANN came up with. Can anyone let me know if there is a specific way to tell?</p>\n\n<p>This is what I am training on, and using around 1500 iterations, and 2 hidden layers with 6-8 nodes in each. My dataset has about 300 points, with 5 inputs and 2 outputs.</p>\n\n<pre><code>HiddenLayerStruture = (6,6)    \nMaxNumEpochs = 1500\nNN = MLPRegressor(hidden_layer_sizes=HiddenLayerStruture,\n                  activation='tanh',\n                  solver='lbfgs',\n                  alpha=0.0001,\n                  learning_rate='constant',\n                  max_iter=MaxNumEpochs)\n\nNN.fit(Input_Trn_Scaled, Output_Trn_Scaled)\nOutput_Predicted_Scaled = NN.predict(Input_Tst_Scaled)\n</code></pre>\n\n<p>Thanks for any guidance that can be offered:)</p>\n"}, {"tags": ["python", "syntax", "keyword"], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 1959038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33d4ef706a96ec6fd5e7e33d2630fe23?s=128&d=identicon&r=PG", "display_name": "Dave Engineer", "link": "https://stackoverflow.com/users/1959038/dave-engineer"}, "edited": false, "score": 0, "creation_date": 1571330436, "post_id": 51755531, "comment_id": 103214468, "body": "thanks! I needed to import a function from a file called import.py and this worked perfect!"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 4, "last_activity_date": 1533761784, "creation_date": 1533761784, "answer_id": 51755531, "question_id": 51755091, "link": "https://stackoverflow.com/questions/51755091/is-there-a-way-to-import-a-file-named-after-a-keyword-in-python/51755531#51755531", "title": "Is there a way to import a file named after a keyword in Python?", "body": "<p>You can't import <code>or</code> directly, even when doing <code>from... import... as</code>. Instead, you will need to use the function-based import mechanism supplied in <code>importlib</code>. This will work:</p>\n\n<pre><code>import importlib\n_or = importlib.import_module('states.or')\n</code></pre>\n\n<p>and you can refer to the module as <code>_or</code>.</p>\n"}], "owner": {"reputation": 350, "user_id": 9035107, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x0QraeCV_Tk/AAAAAAAAAAI/AAAAAAAAAAc/fVd02oGR_co/photo.jpg?sz=128", "display_name": "Teddy Ward", "link": "https://stackoverflow.com/users/9035107/teddy-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1533761784, "creation_date": 1533759868, "question_id": 51755091, "link": "https://stackoverflow.com/questions/51755091/is-there-a-way-to-import-a-file-named-after-a-keyword-in-python", "title": "Is there a way to import a file named after a keyword in Python?", "body": "<p>Imagine that there's a Python library <code>states</code>, in which there is a script for each of the 50 states, named after those state abbreviations.</p>\n\n<pre><code>al.py\nak.py\n...\nor.py\n...\nwi.py\nwy.py\n</code></pre>\n\n<p>This certainly isn't the best way to structure code. But given that it exists, and given that <code>or</code> is a reserved keyword, is there a reasonable way to write a caller for Oregon that includes the statement</p>\n\n<pre><code>from states import or\n</code></pre>\n\n<p>Or does the library have to change their naming convention to something a bit better, like the full state name.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1533760042, "post_id": 51755057, "comment_id": 90469864, "body": "<code>grade_converter</code> accepts an integer, so you&#39;ll have to turn the string you get from <code>raw_input</code> into an integer and then send it to <code>grade_converter</code>."}, {"owner": {"reputation": 7148, "user_id": 626563, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9133e5b265a3b88559b15a26fd3a5274?s=128&d=identicon&r=PG", "display_name": "CEGRD", "link": "https://stackoverflow.com/users/626563/cegrd"}, "edited": false, "score": 0, "creation_date": 1533760548, "post_id": 51755057, "comment_id": 90470144, "body": "Welcome to SO!. I did a search for how to read user input in python and I came across the following post with the title <code>Python: user input and commandline arguments</code> here <a href=\"https://stackoverflow.com/questions/70797/python-user-input-and-commandline-arguments\" title=\"python user input and commandline arguments\">stackoverflow.com/questions/70797/&hellip;</a>. I hope it helps."}], "answers": [{"tags": [], "owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "is_accepted": false, "score": 3, "last_activity_date": 1533760046, "creation_date": 1533760046, "answer_id": 51755138, "question_id": 51755057, "link": "https://stackoverflow.com/questions/51755057/how-do-i-use-raw-input-with-a-user-defined-function/51755138#51755138", "title": "How do I use raw_input() with a user defined function?", "body": "<p><code>raw_input()</code> returns a <em>string</em>, but your function is comparing against <em>integers</em>. Convert your input to an integer before calling <code>grade_converter()</code>:</p>\n\n<pre><code>grade = int(raw_input('Enter a grade'))\nprint grade_converter(grade)\n</code></pre>\n\n<p>Note that the conversion will raise an exception if you enter something that can't be converted to an integer.</p>\n"}, {"comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1533760399, "post_id": 51755188, "comment_id": 90470060, "body": "But if the OP is using <code>raw_input()</code>, they must be using Python 2."}, {"owner": {"reputation": 687, "user_id": 2370362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Cb2Y.jpg?s=128&g=1", "display_name": "jhill515", "link": "https://stackoverflow.com/users/2370362/jhill515"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1533760550, "post_id": 51755188, "comment_id": 90470145, "body": "Agreed, hence why I mentioned Python3. Besides, Python2 is nearing its EOL, so I figured a little suggestion about Python3 may be helpful."}], "tags": [], "owner": {"reputation": 687, "user_id": 2370362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Cb2Y.jpg?s=128&g=1", "display_name": "jhill515", "link": "https://stackoverflow.com/users/2370362/jhill515"}, "is_accepted": false, "score": 1, "last_activity_date": 1533760314, "last_edit_date": 1533760314, "creation_date": 1533760260, "answer_id": 51755188, "question_id": 51755057, "link": "https://stackoverflow.com/questions/51755057/how-do-i-use-raw-input-with-a-user-defined-function/51755188#51755188", "title": "How do I use raw_input() with a user defined function?", "body": "<p>In Python3, <code>raw_input()</code> was renamed to <code>input()</code>. You could just use it as an input to  your <code>grade_converter()</code> function:</p>\n\n<pre><code>if __name__ == '__main__':\n    print('Enter a score')\n    print('The grade is: ', grade_converter(int(input())))\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10199821"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533760314, "creation_date": 1533759766, "question_id": 51755057, "link": "https://stackoverflow.com/questions/51755057/how-do-i-use-raw-input-with-a-user-defined-function", "title": "How do I use raw_input() with a user defined function?", "body": "<p>How do I get an input from the user to be used as grade?</p>\n\n<pre><code>def grade_converter(grade):\n        if grade &gt;= 90:\n            return \"A\"\n        elif grade &gt;= 80:\n            return \"B\"\n        elif grade &gt;= 70:\n         return \"C\"\n        elif grade &gt;= 65:\n            return \"D\"\n        else:\n            return \"F\"\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "performance", "optimization", "operators"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1533760971, "post_id": 51755054, "comment_id": 90470338, "body": "It sounds like the peephole optimizer doesn&#39;t recognize that <code>x_i**2</code> is <code>x_i*x_i</code>, and so is using the general algorithm <code>exp(2*log(x_i))</code> instead. In general, <code>x ** y</code> is <i>not</i> simply repeated multiplication."}, {"owner": {"reputation": 703, "user_id": 9677043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1a78911d424ab8fc965b48595ea915?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Baker", "link": "https://stackoverflow.com/users/9677043/karl-baker"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1533765257, "post_id": 51755054, "comment_id": 90471894, "body": "I think you are saying that the compiler is not optimizing as you would expect it to. But I&#39;m unclear which expression you would expect to run faster, <code>x_i**2</code> or <code>x_i*x_i</code>. Or would you expect the compiler to optimize them both to the same algorithm?"}, {"owner": {"reputation": 3231, "user_id": 8069403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WFeKp.png?s=128&g=1", "display_name": "xdze2", "link": "https://stackoverflow.com/users/8069403/xdze2"}, "edited": false, "score": 0, "creation_date": 1533765824, "post_id": 51755054, "comment_id": 90472078, "body": "this answer <a href=\"https://stackoverflow.com/a/18453999/8069403\">stackoverflow.com/a/18453999/8069403</a> is quite interesting, the following discussion about compiler too"}, {"owner": {"reputation": 703, "user_id": 9677043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1a78911d424ab8fc965b48595ea915?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Baker", "link": "https://stackoverflow.com/users/9677043/karl-baker"}, "edited": false, "score": 0, "creation_date": 1533770587, "post_id": 51755054, "comment_id": 90473285, "body": "Thanks. For low powers multiplication is faster, but as the power goes up, exponentiation becomes faster than a string of multiplications. I think I need to look at the bytecode for each of these to see what is different."}], "owner": {"reputation": 703, "user_id": 9677043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1a78911d424ab8fc965b48595ea915?s=128&d=identicon&r=PG&f=1", "display_name": "Karl Baker", "link": "https://stackoverflow.com/users/9677043/karl-baker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533793437, "creation_date": 1533759754, "last_edit_date": 1533793437, "question_id": 51755054, "link": "https://stackoverflow.com/questions/51755054/python-rules-of-thumb-that-explain-why-operator-runs-faster-than", "title": "Python rules of thumb that explain why * operator runs faster than **", "body": "<p>My question is both specific (see example) and general. I am looking for best practices for writing fast-running python code. Of two or more ways of evaluating an expression or constructing a statement, I want to have an educated guess as to which will run faster <em>before</em> I do <code>timeit</code> comparison tests.</p>\n\n<p>For example:</p>\n\n<pre><code>xx = [1,2,3,4,5]\nx_bar = int(sum(xx)/len(xx)) # or = np.mean(xx)\nx_c = [int(x_i - x_bar) for x_i in xx]\nTSS = sum([x_i*x_i for x_i in x_c])\n</code></pre>\n\n<p>I thought I might speed things up by changing <code>x_i*x_i</code> to <code>x_i**2</code>. But if I am reading the results correctly, it was actually ~3 times slower:</p>\n\n<pre><code>%%timeit\nsum([x_i*x_i for x_i in x_c])\n# 670 ns \u00b1 19 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\n\n%%timeit\nsum([x_i**2 for x_i in x_c])\n# 1.8 \u00b5s \u00b1 120 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n</code></pre>\n\n<p>An explanation of why this is true for the <strong><code>*</code></strong> operator vs. the <strong><code>**</code></strong> operator will be helpful. Even more helpful will be advice on principles, rules of thumb, and resources that will help me recognize opportunities to improve my code. Any suggestions?</p>\n"}, {"tags": ["python", "matrix", "data-structures"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 3, "creation_date": 1533759791, "post_id": 51755027, "comment_id": 90469730, "body": "what? sounds like just lists of lists would be fine"}, {"owner": {"reputation": 2928, "user_id": 5927758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QmcMj.png?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5927758/mitch"}, "edited": false, "score": 0, "creation_date": 1533759825, "post_id": 51755027, "comment_id": 90469754, "body": "In python you can make lists of object. Make a class for your shelf objects and just use a normal list"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1533759842, "post_id": 51755027, "comment_id": 90469761, "body": "If you are going to be instantiating each item on your own and the number of spaces is limited, then a list of lists would suffice. Otherwise, think about a dataframe with <code>NaN</code> for empty slots on the shelves."}, {"owner": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533760001, "post_id": 51755027, "comment_id": 90469842, "body": "I&#39;m not concerned about the empty spots. I&#39;m concerned about being able to compare items on shelves above and below each other. For example, if an item on the top shelf is 50 units long and 2 items directly below it are 25 units long each, I want to be able to make the statement that both of those items are directly underneath."}, {"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "edited": false, "score": 0, "creation_date": 1533760174, "post_id": 51755027, "comment_id": 90469938, "body": "Could you use <code>numpy.array</code> and treat all empty spots as items with length 0? That way you can use their nice syntax and math options"}, {"owner": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533761706, "post_id": 51755027, "comment_id": 90470678, "body": "How do I add a length attribute to items in a numpy array?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533761620, "post_id": 51755449, "comment_id": 90470637, "body": "Thanks for your response. My issue is that, each item in a row may not take up the same length. As per the diagram in the link above, items within a row can be different lengths but each row is the same length."}, {"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "reply_to_user": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533771910, "post_id": 51755449, "comment_id": 90473565, "body": "That is precisely the setup here.  Check out the <code>shelves</code> example on the top line."}, {"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "reply_to_user": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533771978, "post_id": 51755449, "comment_id": 90473576, "body": "I&#39;m assuming that the length of an item is determined by how many things it contains.  What does item &quot;length&quot; mean to you?"}, {"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "reply_to_user": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533773482, "post_id": 51755449, "comment_id": 90473862, "body": "Actually, this code doesn&#39;t assume that the shelves are the same length, only that everything is pushed flush to the left, which happens to include the use case where they are all the same length."}, {"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "reply_to_user": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "edited": false, "score": 0, "creation_date": 1533773683, "post_id": 51755449, "comment_id": 90473910, "body": "@CharlieMitchell I added an <code>Item</code> class to make the code a little more self-descriptive."}], "tags": [], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "is_accepted": false, "score": 1, "last_activity_date": 1533773649, "last_edit_date": 1533773649, "creation_date": 1533761414, "answer_id": 51755449, "question_id": 51755027, "link": "https://stackoverflow.com/questions/51755027/matrix-in-python-that-can-represent-items-on-a-shelf/51755449#51755449", "title": "Matrix in Python That Can Represent Items on a Shelf", "body": "<p>This should tell you if two shelf items overlap on the shelves (in the sense that one is below or above the other).... Assuming you know where your shelf items are by index.</p>\n\n<pre><code>class Item(list):\n    pass\n\nshelves = [\n    [Item([1, 2,        3,        4]) ,Item([5,          6 ])],\n    [Item([7, 8]),Item([9]),Item([10,        11]), Item([12])]\n]\n\n# shelf items are indexed by two indices, shelf and item\ndef shelf_items_overlap(shelves, shelf1, item1, shelf2, item2):\n    item1_real_index = sum(map(len, shelves[shelf1][:item1]))\n    item2_real_index = sum(map(len, shelves[shelf2][:item2]))\n    return range_overlaps(\n         item2_real_index, item2_real_index + len(shelves[shelf2][item2]),\n         item1_real_index, item1_real_index + len(shelves[shelf1][item1])\n    )\n\ndef range_overlaps(x11,x12,x21,x22):\n    ''' return if (x11, x12) overlaps (x21, x22) '''\n    return x21&lt;=x12&lt;=x22 or x21&lt;=x11&lt;=x22 or x11&lt;=x21&lt;=x12 or x11&lt;=x22&lt;=x12\n\nprint(shelf_items_overlap(shelves, 0, 1, 1, 0), shelf_items_overlap(shelves, 0, 1, 1, 2)) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 9203921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yUXRz1vflfY/AAAAAAAAAAI/AAAAAAAAAq0/wKxZ2KY-SFQ/photo.jpg?sz=128", "display_name": "Joaqu&#237;n Romero Franco", "link": "https://stackoverflow.com/users/9203921/joaqu%c3%adn-romero-franco"}, "edited": false, "score": 0, "creation_date": 1533775543, "post_id": 51757388, "comment_id": 90474249, "body": "also with ShelfRow you can get the items with [] (shelf_row1[0] gets you item_a)"}], "tags": [], "owner": {"reputation": 118, "user_id": 9203921, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yUXRz1vflfY/AAAAAAAAAAI/AAAAAAAAAq0/wKxZ2KY-SFQ/photo.jpg?sz=128", "display_name": "Joaqu&#237;n Romero Franco", "link": "https://stackoverflow.com/users/9203921/joaqu%c3%adn-romero-franco"}, "is_accepted": false, "score": 1, "last_activity_date": 1533775428, "creation_date": 1533775428, "answer_id": 51757388, "question_id": 51755027, "link": "https://stackoverflow.com/questions/51755027/matrix-in-python-that-can-represent-items-on-a-shelf/51757388#51757388", "title": "Matrix in Python That Can Represent Items on a Shelf", "body": "<p>I think your problem should make a better use of classes than arrays. I know that this maybe this is not the answer you're looking but here is a quick code of a class implementation of items and shelf_rows that gets you the info of what it is in a shelf.</p>\n\n<pre><code>class Item ():\n    # Init the item class with a lenght \n    def __init__(self, length, name = 'Item'):\n        self.name = name\n        self.length = length\n    # Allow us to use the len method on item to get the length\n    def __len__(self):\n        return self.length\n    # Show us a clear print of the Item\n    def __repr__(self):\n        return '%r of length (%r)' % (self.name,self.length)\n\nclass ShelfRow ():\n    #Make a ShelfRow of a fixed length\n    def __init__ (self, length):\n        self.length = length\n        self.space_left = length\n        self.items = []\n    #Use append like if it was a list\n    def append (self,Item):\n        if Item.length &gt; self.space_left:\n            return 'This should throw an error because the length is too long for the space left'\n        else:\n            self.items.append (Item)\n            self.space_left = self.space_left - Item.length\n    # Use the __getitem__ special method to get the position of an item\n    def __getitem__(self,position):\n        return self.items[position]\n    #Print the content of items\n    def __repr__(self):\n        return '%r' % self.items\n\n# Make three items\nitem_a = Item(4, 'Big Box')\nitem_b = Item(2, 'Medium Box')\nitem_c = Item(2, 'Medium Box')\nitem_d = Item(8, 'Super Big Box')\n\n#Make a shelfRow\nshelf_row1 = ShelfRow(8)\nshelf_row2 = ShelfRow(8)\n\n#Populate shelfs\nshelf_row1.append(item_a)\nshelf_row1.append(item_b)\nshelf_row1.append(item_c)\nshelf_row2.append(item_d)\n\n#Make a shelf, it could be an object too (it should probably)\nshelf = [shelf_row1,shelf_row2]\n\n#Print what is in every shelf_row\nfor shelf_row in shelf:\n    print(shelf_row)\n</code></pre>\n\n<p>The other answer is probably the closest to what you want but I get the feeling that maybe you could do for something a little more abstract to solve your problem.</p>\n\n<p>Anyways I hope that this was useful.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7649204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5191bc106aa72a76c9247b2bc843422c?s=128&d=identicon&r=PG&f=1", "display_name": "Siewiei", "link": "https://stackoverflow.com/users/7649204/siewiei"}, "is_accepted": false, "score": 0, "last_activity_date": 1533779984, "last_edit_date": 1533779984, "creation_date": 1533779323, "answer_id": 51757766, "question_id": 51755027, "link": "https://stackoverflow.com/questions/51755027/matrix-in-python-that-can-represent-items-on-a-shelf/51757766#51757766", "title": "Matrix in Python That Can Represent Items on a Shelf", "body": "<p>I am not aware of any module, but this seems like a traditional \"Make this data structure\" type of question. So here's a base you can work with, and it may seem similar to other questions, but this should work and satisfy your needs. Its pretty much an implementation that uses the idea used in page allocation as your problem can be seen as you need frame to contain a certain amount of pages of a fixed size. It could be optimized by using a better algorithm (or process to add) but I forgot which one I used is called nor did I feel like implementing something more complicated.</p>\n\n<pre><code>class Item:\n    def set_width(self, width):\n        self.width = width\n\n    def get_width(self):\n        return self.width\n\n    def __init__(self, width=0):\n        self.width = width\n\nclass Shelf:\n    def add_item(self, item):\n        if item.get_width() &gt; self.max_width:\n            print(\"Item will not fit in the shelf.\")\n            return False\n\n        row = 0\n        while (row &lt; len(self.rows)):\n            if (self.get_row_tot(row) + item.get_width()) &lt;= self.max_width:\n                self.rows[row].append(item)\n                return True\n            row += 1\n\n        # Stop here, we want to prevent addition of a shelf\n        if max_height != -1 and row &gt;= max_height:\n            print(\"Item will not fit in the shelf.\")\n            return False\n\n        self.rows.append([item])\n        return True\n\n    def get_row_tot(self, row):\n        tot = 0\n        for i in self.rows[row]:\n            tot += i.get_width()\n        return tot\n\n\n    def remove_item(self, row, item):\n        if row &lt; len(self.rows):\n            self.rows[row].remove(item)\n            return True\n        else:\n            print(\"Row does not exist\")\n            return False\n\n    def __init__(self, max_width, max_height=-1):\n        \"\"\"\n        max_height = -1 means no height limit\n        \"\"\"\n        self.max_width = max_width\n        self.max_height = max_height\n        self.rows = []\n        self.head = 0\n\n\na = Shelf(3)\nb = Item(1)\nc = Item(1)\nd = Item(2)\ne = Item(2)\n\na.add_item(b)\na.add_item(c)\na.add_item(d)\na.remove_item(0, c)\na.remove_item(2, e)\na.add_item(e)\n</code></pre>\n\n<p>Like I said, this could be optimized and some additions could be made such as a method to swap, set, search, sort and so on so forth. You can also modify Item to be an object you're working with.</p>\n"}], "owner": {"reputation": 1, "user_id": 10199869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24907fc9e605cdc4476ece9a8a223bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Mitchell", "link": "https://stackoverflow.com/users/10199869/charlie-mitchell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534068569, "creation_date": 1533759614, "last_edit_date": 1534068569, "question_id": 51755027, "link": "https://stackoverflow.com/questions/51755027/matrix-in-python-that-can-represent-items-on-a-shelf", "title": "Matrix in Python That Can Represent Items on a Shelf", "body": "<p>My question is pretty straightforward. Is there a library in Python that has a data structure that can represent items on a shelf? Essentially, it would need to be a matrix where each row is the same length but the items in each row can be of varying lengths. </p>\n\n<p>Here's a visual representation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/9eqyz.png\" alt=\"Diagram \"></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "edited": false, "score": 0, "creation_date": 1533759825, "post_id": 51755013, "comment_id": 90469752, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2352181/how-to-use-a-dot-to-access-members-of-dictionary\">How to use a dot &quot;.&quot; to access members of dictionary?</a>"}, {"owner": {"reputation": 364, "user_id": 9866643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruolT.jpg?s=128&g=1", "display_name": "M.Rau", "link": "https://stackoverflow.com/users/9866643/m-rau"}, "reply_to_user": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "edited": false, "score": 0, "creation_date": 1533760150, "post_id": 51755013, "comment_id": 90469925, "body": "Not really since this as about variable assignment not dict access"}, {"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "edited": false, "score": 0, "creation_date": 1533760258, "post_id": 51755013, "comment_id": 90469977, "body": "ah ok. I think I might know a way, one sec"}, {"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "edited": false, "score": 0, "creation_date": 1533761418, "post_id": 51755013, "comment_id": 90470537, "body": "Something like this might be relevant (searched for recursive defaultdict): <a href=\"https://stackoverflow.com/questions/5369723/multi-level-defaultdict-with-variable-depth\" title=\"multi level defaultdict with variable depth\">stackoverflow.com/questions/5369723/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 364, "user_id": 9866643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruolT.jpg?s=128&g=1", "display_name": "M.Rau", "link": "https://stackoverflow.com/users/9866643/m-rau"}, "edited": false, "score": 0, "creation_date": 1533762632, "post_id": 51755547, "comment_id": 90471012, "body": "you made my day. Was guessing this is something around setattr and getattr but could not get it working! Thanks"}, {"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "reply_to_user": {"reputation": 364, "user_id": 9866643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruolT.jpg?s=128&g=1", "display_name": "M.Rau", "link": "https://stackoverflow.com/users/9866643/m-rau"}, "edited": false, "score": 0, "creation_date": 1533762636, "post_id": 51755547, "comment_id": 90471014, "body": "You will have to play with this a bit to make each attr accessible via <code>g[&quot;x&quot;][&quot;y&quot;][&quot;z&quot;]</code> I hit recursion depth if I try to access an element that isn&#39;t at the end. If I have time after work I can come back and try to fix it. Glad to help! really having fun learning the language by trying to help with overflow questions"}, {"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "reply_to_user": {"reputation": 364, "user_id": 9866643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruolT.jpg?s=128&g=1", "display_name": "M.Rau", "link": "https://stackoverflow.com/users/9866643/m-rau"}, "edited": false, "score": 0, "creation_date": 1533764041, "post_id": 51755547, "comment_id": 90471467, "body": "@M.Rau Fixed it for you, productivity at work is low"}], "tags": [], "owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "is_accepted": true, "score": 2, "last_activity_date": 1533763983, "last_edit_date": 1533763983, "creation_date": 1533761845, "answer_id": 51755547, "question_id": 51755013, "link": "https://stackoverflow.com/questions/51755013/recursive-object-property-creation-in-python/51755547#51755547", "title": "recursive object property creation in Python", "body": "<p>ok, ok this is ugly but let me know if it works for you!  Took me a bit of thinking! Updated, fixed issues with indexing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class dot(object):\r\n\"\"\"dot.notation god class\"\"\"\r\n    def __init__(self):\r\n        self.next=None\r\n    def __getitem__(self, key):\r\n        return self.__dict__[key]\r\n    def __setattr__(self, name, value):\r\n        self.__dict__[name] = value\r\n    def __getattr__(self, attr):\r\n        if attr not in self.__dict__:\r\n            self.__dict__[attr] = dot()\r\n        return self.__dict__[attr]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&gt;&gt;&gt; x=dot()\r\n&gt;&gt;&gt; x.g.h.j=3\r\n&gt;&gt;&gt; x['g']\r\n&lt;__main__.dot object at 0x1023f6cd0&gt;\r\n&gt;&gt;&gt; x['g']['h']['j']\r\n3</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So... It will recessively create and instance of itself via the set dunder method. Each <code>x</code> in <code>x.x.x.x.y</code> will be of type <code>dot</code> and y will be the only thing with a value.</p>\n"}], "owner": {"reputation": 364, "user_id": 9866643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruolT.jpg?s=128&g=1", "display_name": "M.Rau", "link": "https://stackoverflow.com/users/9866643/m-rau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 1, "accepted_answer_id": 51755547, "answer_count": 1, "score": 2, "last_activity_date": 1533763983, "creation_date": 1533759581, "question_id": 51755013, "link": "https://stackoverflow.com/questions/51755013/recursive-object-property-creation-in-python", "title": "recursive object property creation in Python", "body": "<p>I wish to use Python code for config files. These config files are exec(ed). So basically the idea is to define configuaration like this:</p>\n\n<pre><code>section_1 = {\n    \"username\": \"peter\",\n    \"password\": \"paul\"\n}\n</code></pre>\n\n<p>Side note: this is not a discussion about the pros/cons of Python code as configuration files. I like <a href=\"https://softwareengineering.stackexchange.com/a/351167\">existing discussion</a> and especially Matteo's comment. So this is not about Python as config files.</p>\n\n<p>I want to \"misuse\" Python for configuration if you like. And I like and need the hierarchical data structure. </p>\n\n<p>What I wish to offer to developers/operators managing the config is to be able to have the option to use the dot notation in key/value assignment.</p>\n\n<p>So my question is: Is it possible (and if YES, then HOW) to implement the following feature?</p>\n\n<pre><code>x.y.z = 1\nf.g.h.i.j = {\"a\": b}\n</code></pre>\n\n<p>Variables <strong>x</strong> and <strong>f</strong> are not defined. I would be totally happy to provide a global object (say <strong>g</strong>) in the config like this:</p>\n\n<pre><code>from app.config.directive import g\n\ng.x.y.z = 1\ng.f.g.h.i.j = {\"a\": b}\n</code></pre>\n\n<p>Is it possible to implement this with Python? Objective is to access the defined data structure with something like this:</p>\n\n<pre><code>g[\"x\"][\"y\"][\"z\"] == 1\nisinstance(g[\"f\"][\"g\"][\"h\"][\"i\"][\"j\"], dict) == True\n</code></pre>\n\n<p>I do know that this is a bad idea from Python perspective. This is certainly not pythonic. Please remember: I wish to use Python for config management and basically \"extend\" Python with some special directives.</p>\n\n<p>I hope you see what I mean. Thanks in advance.</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "edited": false, "score": 1, "creation_date": 1533761289, "post_id": 51754978, "comment_id": 90470485, "body": "to me it looks like element path is &quot;//ul[1]/li[8]/a[1]&quot; not &quot;//ul[1]/li[10]/a[1]&quot;"}, {"owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "reply_to_user": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "edited": false, "score": 0, "creation_date": 1533766138, "post_id": 51754978, "comment_id": 90472184, "body": "my mistake, now the html is correct"}, {"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "edited": false, "score": 1, "creation_date": 1533823573, "post_id": 51754978, "comment_id": 90496931, "body": "I was reading your post again and found this &quot;The funny thing is while debugging the script, while the breakpoint is waiting for the element (on optionMenuWindow=WebDriverWait ), <b>if I right click again</b> to show the &lt; ul &gt; element again it locates the element optionMenuWindow correctly, and proceeds to optionMenuWindow.click()&quot;. If you have to manually right click then the issue is with your right clicking the element not clicking on option menu item. Show me your code for right click action."}, {"owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "reply_to_user": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "edited": false, "score": 0, "creation_date": 1533825731, "post_id": 51754978, "comment_id": 90498383, "body": "i edited the question with the code"}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "reply_to_user": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1533842346, "post_id": 51771086, "comment_id": 90507360, "body": "what happens when you manually debug this? does it right click on the element and can you see the menu options on the browser?"}, {"owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534182914, "post_id": 51771086, "comment_id": 90610351, "body": "no, while debugging this works until the fourth line, then it throws me a timeout exception past 60 sec, but while waiting if I right click the element manually the code works."}, {"owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534183916, "post_id": 51771086, "comment_id": 90610827, "body": "here is a gif showing how does it behave <a href=\"https://media.giphy.com/media/7TbsEvuXNFtPL9BAGF/giphy.gif\" rel=\"nofollow noreferrer\">media.giphy.com/media/7TbsEvuXNFtPL9BAGF/giphy.gif</a>"}, {"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "reply_to_user": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534185226, "post_id": 51771086, "comment_id": 90611485, "body": "I can&#39;t see it clearly but it looks like there are two different menu windows. The one opened by selenium has 6 options but when you manually right clicked there are 7 options."}, {"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "reply_to_user": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534185687, "post_id": 51771086, "comment_id": 90611716, "body": "So, you need to make sure if you are clicking at right place."}, {"owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534190092, "post_id": 51771086, "comment_id": 90613655, "body": "omg you were right since the beginning, &quot;//ul[1]/li[8]/a[1]&quot; is the correct xpath I cant believe i missed that"}, {"owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "reply_to_user": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "edited": false, "score": 0, "creation_date": 1534193044, "post_id": 51771086, "comment_id": 90614909, "body": "sweet, I guess two menus caused this issue but I am glad your issue is resolved. cheers"}], "tags": [], "owner": {"reputation": 623, "user_id": 7019709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8Qby.png?s=128&g=1", "display_name": "theGuy", "link": "https://stackoverflow.com/users/7019709/theguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1533829184, "creation_date": 1533829184, "answer_id": 51771086, "question_id": 51754978, "link": "https://stackoverflow.com/questions/51754978/strange-behavior-on-element-using-selenium-python/51771086#51771086", "title": "Strange behavior on element using Selenium [Python]", "body": "<p>I never got a chance to explore right click in selenium, but did some research and found that you have to give element to context_click() to perform right click. So, you can try this:</p>\n\n<pre><code>mainWindow = driver.find_element_by_xpath(\"//div[@id='5']/div[2]\")\nWebDriverWait(driver, 60).until(EC.element_to_be_clickable((By.XPATH, \"//div[@id='5']/div[2]\")))\nactions.move_to_element(mainWindow).context_click(mainWindow).perform()\noptionMenuWindow=WebDriverWait(driver,60).until(EC.visibility_of_element_located((By.XPATH, \"//ul[1]/li[10]/a[1]\")))\noptionMenuWindow.click()\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 6307633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5a40aa356eb83051d6ed111a60d6295?s=128&d=identicon&r=PG&f=1", "display_name": "R.Romero", "link": "https://stackoverflow.com/users/6307633/r-romero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 1, "accepted_answer_id": 51771086, "answer_count": 1, "score": 1, "last_activity_date": 1533829184, "creation_date": 1533759443, "last_edit_date": 1533825686, "question_id": 51754978, "link": "https://stackoverflow.com/questions/51754978/strange-behavior-on-element-using-selenium-python", "title": "Strange behavior on element using Selenium [Python]", "body": "<p>I'm having a difficult time trying to locate an element.</p>\n\n<p>The element is a &lt; ul > that appears when I right-click the page, Its a menu for the webpage (like when you right-click the desktop on Windows). When I right-click it using Selenium, the next line of code that runs is this:</p>\n\n<pre><code>optionMenuWindow=WebDriverWait(driver,60).until(EC.visibility_of_element_located((By.XPATH, \"//ul[1]/li[10]/a[1]\")))\n\noptionMenuWindow.click()\n</code></pre>\n\n<p>I also tried:</p>\n\n<pre><code>presence_of_element_located\n</code></pre>\n\n<p>But its hanging in there waiting for the element (though the element is already visibile because it was right-clicked) and it throws a TimeoutException.</p>\n\n<p>The funny thing is while debugging the script, while the breakpoint is waiting for the element (on optionMenuWindow=WebDriverWait ), if I right-click again to show the &lt; ul > element again it locates the element optionMenuWindow correctly, and proceeds to optionMenuWindow.click(). So that means that my xpath is correct, actually its inside a iframe and I change to the correct one.</p>\n\n<p>This is the html element </p>\n\n<pre><code>&lt;ul class=\"ctx-menu popup-shadow ctx-menu-no-icons ctx-menu-contains-submenus\" style=\"display: block; left: 716px; top: 276px;\"&gt;\n    &lt;li class=\"cf ctx-menu-action-PROPS\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Properties...&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-divider\"&gt;&lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-has-submenu\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Notes&lt;/span&gt;\n        &lt;/a&gt;\n        &lt;ul class=\"ctx-menu ctx-menu-submenu popup-shadow ctx-menu-no-icons\" style=\"display: none;\"&gt;\n            &lt;li class=\"cf ctx-menu-action-ADDNOTE\"&gt;\n                &lt;a href=\"javascript:;\"&gt;\n                    &lt;span class=\"ctx-menu-text\"&gt;Add a New Note&lt;/span&gt;\n                &lt;/a&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;span class=\"cell-icon cell-FOLDOUT-icon\"&gt;&lt;/span&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-divider\"&gt;&lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action-ATB\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Sort&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-divider\"&gt;&lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action-COPY\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Copy&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-divider\"&gt;&lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action-PR\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Print...&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action-XL\"&gt;\n         &lt;!-- I WANT TO GET THIS A TAG ELEMENT --&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Send to Excel&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action-EC\"&gt;\n        &lt;a href=\"javascript:;\"&gt;\n            &lt;span class=\"ctx-menu-text\"&gt;Export...&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"cf ctx-menu-action- ctx-menu-divider\"&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This is its xpath (from mozilla inspector)</p>\n\n<p>html/body/div[2]/iframe/#document/html/body/ul</p>\n\n<p>This is my right click action, mainWindow is basically a big element that you can right click it to see its options</p>\n\n<pre><code>   mainWindow = driver.find_element_by_xpath(\"//div[@id='5']/div[2]\")\n    WebDriverWait(driver, 60).until(EC.element_to_be_clickable((By.XPATH, \"//div[@id='5']/div[2]\")))\n    actions.move_to_element(mainWindow).context_click().perform()\n</code></pre>\n\n<p>Any ideas? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "tensorflow", "object-detection"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "edited": false, "score": 0, "creation_date": 1533807933, "post_id": 51755032, "comment_id": 90486217, "body": "Using this script this is what I got:   Writing object_detection/images/train/train.record Unique values in dataset &#39;train&#39;: {} Writing object_detection/images/test/val.record Unique values in dataset &#39;val&#39;: {}  Checking the new file train.record is 0Kb size!! There must be something wrong."}], "tags": [], "owner": {"reputation": 101, "user_id": 10029692, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bzX-uJf7alE/AAAAAAAAAAI/AAAAAAAAAFQ/eSDHROmttBQ/photo.jpg?sz=128", "display_name": "Tyler LaBonte", "link": "https://stackoverflow.com/users/10029692/tyler-labonte"}, "is_accepted": false, "score": 0, "last_activity_date": 1533759639, "creation_date": 1533759639, "answer_id": 51755032, "question_id": 51754968, "link": "https://stackoverflow.com/questions/51754968/tensorflow-convert-hdf5-to-tfrecord/51755032#51755032", "title": "Tensorflow: convert .hdf5 to tfrecord", "body": "<p>Take a look at <a href=\"https://github.com/risteon/hdf5-to-tfrecord\" rel=\"nofollow noreferrer\">this conversion script.</a> It reads in the points and labels from the .hdf5 file, then exports them to a TFRecords file with Example protos.</p>\n"}, {"tags": [], "owner": {"reputation": 1088, "user_id": 1114272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1e2d6f9db01edca31a0756cb49fd371?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/1114272/ethan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541372949, "creation_date": 1541372949, "answer_id": 53146395, "question_id": 51754968, "link": "https://stackoverflow.com/questions/51754968/tensorflow-convert-hdf5-to-tfrecord/53146395#53146395", "title": "Tensorflow: convert .hdf5 to tfrecord", "body": "<p>Here's a script I used to convert some data from hdf5 to tfrecord. You'll obviously have to modify the column names</p>\n\n<pre><code>import h5py\nimport os\nimport tensorflow as tf\n\nCHUNK_SIZE = 5000\nCOL_NAMES = {\n    \"index\": lambda x: tf.train.Feature(int64_list=tf.train.Int64List(value=[x])),\n    \"vals\": lambda x:     tf.train.Feature(float_list=tf.train.FloatList(value=x.reshape(-1))),\n    \"vals_shape\": lambda x: tf.train.Feature(int64_list=tf.train.Int64List(value=list(x.shape))),\n}\nDATASET_NAME = \"data\"\n\ndef write_tfrecords(file_path, features_list):\n    with tf.python_io.TFRecordWriter(file_path) as writer:\n        for features in features_list:\n            writer.write(tf.train.Example(features=features).SerializeToString())\n\ndef hdf5_row_to_features(hdf5_row):\n    feature_dict = dict()\n    for col_name in COL_NAMES.keys():\n        if col_name == \"index\" and hdf5_row[\"index\"] % 100 == 0:\n            print(\"index: %d\" % hdf5_row[\"index\"])\n        feature_dict[col_name] = COL_NAMES[col_name](hdf5_row[col_name])\n        if col_name == \"vals\":\n            feature_dict[\"vals_shape\"] = COL_NAMES[\"vals_shape\"]    (hdf5_row[col_name])\n    return tf.train.Features(feature=feature_dict)\n\ndef convert_records(file_path):\n    dir_name = os.path.dirname(file_path)\n    base_file_name = os.path.splitext(file_path)[0]\n    tfrecord_file_name_template = \"%s-%d.tfrecord\"\n    tfrecord_file_counter = 0\n\n    hdf5_file = h5py.File(file_path, \"r\")\n    features_list = list()\n    index = 0\n    print(\"Dataset size: %d\" % hdf5_file[DATASET_NAME].size)\n    while index &lt; hdf5_file[DATASET_NAME].size:\n        if index % 100 == 0:\n            print(\"iteration index: %d\" % index)\n        features = hdf5_row_to_features(hdf5_file[DATASET_NAME][index])\n        features_list.append(features)\n\n        # Write chunk to file.\n        if index % CHUNK_SIZE == 0 and index != 0:\n            write_tfrecords(\n                os.path.join(\n                    # dir_name,\n                    tfrecord_file_name_template % (base_file_name, tfrecord_file_counter)),\n                features_list)\n            tfrecord_file_counter += 1\n            features_list = list()\n        index += 1\n\n    # Write remainder to file.\n    if index % CHUNK_SIZE != 0:\n        write_tfrecords(\n            os.path.join(\n                # dir_name,\n                tfrecord_file_name_template % (base_file_name,     tfrecord_file_counter)),\n            features_list)\n\n    print(\"Dataset size: %d\" % hdf5_file[DATASET_NAME].size)\n    hdf5_file.close()\n</code></pre>\n\n<p>You can also inspect the data in your tfrecord file to check that everything was written correctly during development with this snippet:</p>\n\n<pre><code>def inspect_tf_record_file(file_path, result_chunking=1):\n    count = 0\n    for example in tf.python_io.tf_record_iterator(file_path):\n        result = tf.train.Example.FromString(example)\n        if count % result_chunking == 0:\n            print(\"result: %s\" % result)\n        count += 1\n    print(\"Total count: %d\" % count)\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1573, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1541372949, "creation_date": 1533759395, "question_id": 51754968, "link": "https://stackoverflow.com/questions/51754968/tensorflow-convert-hdf5-to-tfrecord", "title": "Tensorflow: convert .hdf5 to tfrecord", "body": "<p>I have coco dataset in .h5 format. \nI need to convert it to .record (TF record file) so that I can train my embedded_ssd_mobilenet using Object Detection API.\nHow can I do?</p>\n"}, {"tags": ["python", "macos", "google-app-engine", "dev-appserver"], "comments": [{"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 1, "creation_date": 1533759515, "post_id": 51754904, "comment_id": 90469583, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16688582/failed-to-start-devlopment-server-binderror-unable-to-find-a-consistent-port\">Failed to start devlopment server -- BindError: Unable to find a consistent port localhost</a>"}, {"owner": {"reputation": 78771, "user_id": 831878, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1d1a4823c46ad92f357b4bb7e74a64b0?s=128&d=identicon&r=PG", "display_name": "Ray Toal", "link": "https://stackoverflow.com/users/831878/ray-toal"}, "edited": false, "score": 0, "creation_date": 1533760825, "post_id": 51754904, "comment_id": 90470281, "body": "In addition to the answers in the &quot;possible duplicate&quot; question, you might want to ensure that <code>&#47;etc&#47;hosts</code> even exists, and add a <code>127.0.0.1 localhost</code> entry in case it is empty"}], "owner": {"reputation": 1, "user_id": 10199782, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iC_WXc4nwC8/AAAAAAAAAAI/AAAAAAAAADo/knQsgX4TRg4/photo.jpg?sz=128", "display_name": "Ian Lizarda", "link": "https://stackoverflow.com/users/10199782/ian-lizarda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533759186, "creation_date": 1533759186, "question_id": 51754904, "link": "https://stackoverflow.com/questions/51754904/gae-dev-appserver-py-could-not-find-search-indexes-on-macos-mojave", "title": "GAE dev_appserver.py could not find search indexes on macOS Mojave", "body": "<p>I've been trying to run a yaml file through dev_appserver.py, but it's giving me a few errors. I'm running this on the MacOS Mojave public beta and have tried a bunch of solutions such as running different hosts/ports and reinstalling the Google Cloud SDK. Here is the error it gives me: </p>\n\n<pre><code>INFO     2018-08-08 19:52:23,926 devappserver2.py:178] Skipping SDK update check.\nWARNING  2018-08-08 19:52:23,990 simple_search_stub.py:1196] Could not read search indexes from /var/folders/ds/3bt__b593jjbcjxg1vtqjr0w0000gn/T/appengine.None.ianlizzo/search_indexes\nTraceback (most recent call last):\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/dev_appserver.py\", line 96, in &lt;module&gt;\n    _run_file(__file__, globals())\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/dev_appserver.py\", line 90, in _run_file\n    execfile(_PATHS.script_file(script_name), globals_)\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/tools/devappserver2/devappserver2.py\", line 515, in &lt;module&gt;\n    main()\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/tools/devappserver2/devappserver2.py\", line 503, in main\n    dev_server.start(options)\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/tools/devappserver2/devappserver2.py\", line 259, in start\n    apiserver.start()\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/tools/devappserver2/api_server.py\", line 273, in start\n    super(APIServer, self).start()\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/tools/devappserver2/wsgi_server.py\", line 414, in start\n    raise BindError('Unable to find a consistent port for %s' % host)\ngoogle.appengine.tools.devappserver2.wsgi_server.BindError: Unable to find a consistent port for localhost\nException in thread Thread-1 (most likely raised during interpreter shutdown):\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 801, in __bootstrap_inner\n  File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 754, in run\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 2183, in MainLoop\n  File \"/Users/ianlizzo/google-cloud-sdk/platform/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 2175, in _Wait\n  File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 614, in wait\n  File \"/usr/local/Cellar/python@2/2.7.15_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 355, in wait\n</code></pre>\n"}]