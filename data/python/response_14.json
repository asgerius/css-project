[{"tags": ["python", "chess"], "comments": [{"owner": {"reputation": 973, "user_id": 4777513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inkg3.jpg?s=128&g=1", "display_name": "Ekleog", "link": "https://stackoverflow.com/users/4777513/ekleog"}, "edited": false, "score": 1, "creation_date": 1429142270, "post_id": 29662984, "comment_id": 47465475, "body": "This sounds weird to me. Maybe try deleting the space and rewriting it : it can be a thin space that is displayed as a space in fixed width fonts ; if you accidentally typed Alt+Space for example. (That assumes there is actually an error at the place python tells you ; I believe the missing parenthesis I hadn&#39;t seen before reloading the answers should start the syntax error at the <code>def</code> keyword)"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dbeef9070c266689e474e683670deb?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Gmeiner", "link": "https://stackoverflow.com/users/4794221/michael-gmeiner"}, "edited": false, "score": 0, "creation_date": 1429230646, "post_id": 29663003, "comment_id": 47513529, "body": "Yeah, I was missing a parentheses."}, {"owner": {"reputation": 8863, "user_id": 592235, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b07992c174ed5b627e20a32ab9c43ef5?s=128&d=identicon&r=PG", "display_name": "Mike Vella", "link": "https://stackoverflow.com/users/592235/mike-vella"}, "reply_to_user": {"reputation": 31, "user_id": 4794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dbeef9070c266689e474e683670deb?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Gmeiner", "link": "https://stackoverflow.com/users/4794221/michael-gmeiner"}, "edited": false, "score": 0, "creation_date": 1429230705, "post_id": 29663003, "comment_id": 47513554, "body": "No worries, happens to the best of us."}], "tags": [], "owner": {"reputation": 8863, "user_id": 592235, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b07992c174ed5b627e20a32ab9c43ef5?s=128&d=identicon&r=PG", "display_name": "Mike Vella", "link": "https://stackoverflow.com/users/592235/mike-vella"}, "is_accepted": false, "score": 0, "last_activity_date": 1429142141, "creation_date": 1429142141, "answer_id": 29663003, "question_id": 29662984, "link": "https://stackoverflow.com/questions/29662984/stockfish-and-python/29663003#29663003", "title": "Stockfish and Python", "body": "<p>You have a missing <code>)</code> in your third line:</p>\n\n<p><code>os.chdir('C:\\Users\\Michael\\Downloads\\stockfish-6-win\\stockfish-6-win\\Windows'</code></p>\n\n<p>should be <code>os.chdir('C:\\Users\\Michael\\Downloads\\stockfish-6-win\\stockfish-6-win\\Windows')</code></p>\n"}, {"tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": false, "score": 2, "last_activity_date": 1429142246, "creation_date": 1429142246, "answer_id": 29663022, "question_id": 29662984, "link": "https://stackoverflow.com/questions/29662984/stockfish-and-python/29663022#29663022", "title": "Stockfish and Python", "body": "<p>The line</p>\n\n<pre><code>os.chdir('C:\\Users\\Michael\\Downloads\\stockfish-6-win\\stockfish-6-win\\Windows'\n</code></pre>\n\n<p>is missing a closing parenthesis. You probably wanted</p>\n\n<pre><code>stockfish_cmd = 'C:\\\\Users\\\\Michael\\\\Downloads\\\\stockfish-6-win\\\\stockfish-6-win\\\\Windows\\\\stockfish'\nengine = subprocess.Popen(\n    stockfish_cmd, universal_newlines=True,\n    stdin=subprocess.PIPE, stdout=subprocess.PIPE)\n</code></pre>\n\n<p>Note the doubling of backslashes as well, although I believe it just happens to be harmless in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 1003, "user_id": 530822, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/57fa27b69f824e3e042c365787ba90af?s=128&d=identicon&r=PG", "display_name": "Peter Cotton", "link": "https://stackoverflow.com/users/530822/peter-cotton"}, "is_accepted": false, "score": 0, "last_activity_date": 1458748310, "creation_date": 1458748310, "answer_id": 36182814, "question_id": 29662984, "link": "https://stackoverflow.com/questions/29662984/stockfish-and-python/36182814#36182814", "title": "Stockfish and Python", "body": "<p>I put a script for returning the Stockfish position evaluation on <a href=\"https://gist.github.com/notbanker/3b87146ab0e2a4fd9740\" rel=\"nofollow\">github</a>. Also a python wrapper <a href=\"https://gist.github.com/notbanker/3af51fd2d11ddcad7f16\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 31, "user_id": 4794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1dbeef9070c266689e474e683670deb?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Gmeiner", "link": "https://stackoverflow.com/users/4794221/michael-gmeiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1807, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1458748310, "creation_date": 1429142011, "last_edit_date": 1495540770, "question_id": 29662984, "link": "https://stackoverflow.com/questions/29662984/stockfish-and-python", "title": "Stockfish and Python", "body": "<p>I'm trying to write a script using python to feed chess positions into stockfish and get evaluations. </p>\n\n<p>My question is based on this,\n<a href=\"https://stackoverflow.com/questions/12341882/how-to-communicate-with-a-chess-engine-in-python\">How to Communicate with a Chess engine in Python?</a></p>\n\n<p>The issue is with subprocess.pipe.</p>\n\n<pre><code>import subprocess, time\nimport os\n\nos.chdir('C:\\Users\\Michael\\Downloads\\stockfish-6-win\\stockfish-6-win\\Windows'\n\n\nengine = subprocess.Popen('stockfish', universal_newlines=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE)\n\ndef put(command):\n    print('\\nyou:\\n\\t'+command)\n    engine.stdin.write(command+'\\n')\n\ndef get():\n    # using the 'isready' command (eng has to answer 'readyok')\n    # to indicate current last line of stdout\n    engine.stdin.write('isready\\n')\n    print('\\nengine:')\n    while True:\n        text = engine.stdout.readline().strip()\n        if text == 'readyok':\n            break\n        if text !='':\n            print('\\t'+text)\n\nput('go depth 15') \nget()\nput('eval')\nget() \nput('position fen rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1') \nget()\n</code></pre>\n\n<p>I'm getting an invalid syntax error on the comma after stdin=subprocess.PIPE</p>\n\n<p>Any help fixing that or trying another method is appreciated. </p>\n"}, {"tags": ["python", "image", "pygame", "blit", "pygame-surface"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4682263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/022462f15738a6bbf306077b5f429d13?s=128&d=identicon&r=PG&f=1", "display_name": "argetlam5", "link": "https://stackoverflow.com/users/4682263/argetlam5"}, "edited": false, "score": 0, "creation_date": 1429150905, "post_id": 29663785, "comment_id": 47467781, "body": "Awesome, that was it. Thank you"}], "tags": [], "owner": {"reputation": 242, "user_id": 4766685, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1b67f35944bf4b7e5f1c1169c57fc5c8?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro H. Forli", "link": "https://stackoverflow.com/users/4766685/pedro-h-forli"}, "is_accepted": true, "score": 2, "last_activity_date": 1429147469, "creation_date": 1429147469, "answer_id": 29663785, "question_id": 29662908, "link": "https://stackoverflow.com/questions/29662908/how-do-i-blit-an-image-to-a-surface-in-pygame-thats-the-same-size-as-a-rectangl/29663785#29663785", "title": "How do I blit an image to a surface in pygame that&#39;s the same size as a Rectangle", "body": "<p>You should do something like:</p>\n\n<pre><code>pygame.init()\nscreen = pygame.display.set_mode((720, 480))\npygame.display.set_caption('My game')\n\nbackground = pygame.Surface(screen.get_size())\nbackground = background.convert()\nbackground.fill((250, 250, 250))\n\ncharRect = pygame.Rect((0,0),(10, 10))\nprint os.path.abspath(\"airbender.png\")\ncharImage = pygame.image.load(os.path.abspath(\"ImageName.png\"))\ncharImage = pygame.transform.scale(charImage, charRect.size)\ncharImage = charImage.convert()\n\nbackground.blit(charImage, charRect) #This just makes it in the same location\n                                     #and prints it the same size as the image\n\nscreen.blit(background,(0,0))\npygame.display.flip()\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 4682263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/022462f15738a6bbf306077b5f429d13?s=128&d=identicon&r=PG&f=1", "display_name": "argetlam5", "link": "https://stackoverflow.com/users/4682263/argetlam5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7293, "favorite_count": 0, "accepted_answer_id": 29663785, "answer_count": 1, "score": 1, "last_activity_date": 1429147469, "creation_date": 1429141447, "question_id": 29662908, "link": "https://stackoverflow.com/questions/29662908/how-do-i-blit-an-image-to-a-surface-in-pygame-thats-the-same-size-as-a-rectangl", "title": "How do I blit an image to a surface in pygame that&#39;s the same size as a Rectangle", "body": "<p>I'm making a game with pygame and each Sprite has a rectangle and an image. How would I blit this image to a surface so that it's the same size as the rectangle?</p>\n\n<pre><code>pygame.init()\nscreen = pygame.display.set_mode((720, 480))\npygame.display.set_caption('My game')\n\nbackground = pygame.Surface(screen.get_size())\nbackground = background.convert()\nbackground.fill((250, 250, 250))\n\ncharRect = pygame.Rect((0,0),(10, 10))\nprint os.path.abspath(\"airbender.png\")\ncharImage = pygame.image.load(os.path.abspath(\"ImageName.png\"))\ncharImage = charImage.convert()\n\nbackground.blit(charImage, charRect) #This just makes it in the same location\n                                     #and prints it the same size as the image\n\nscreen.blit(background,(0,0))\npygame.display.flip()\n</code></pre>\n\n<p>Also why is that last <code>pygame.display.flip()</code> necessary?</p>\n"}, {"tags": ["python", "visual-studio", "pytest", "ptvs"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1429142144, "post_id": 29662818, "comment_id": 47465438, "body": "Bug in PTVS probably. pytest is assuming that standard out is a file, and what it is instead is something else that doesn&#39;t quack quite enough like a file (a <code>_DebuggerOutput</code> object that lacks a <code>closed</code> attribute). This could probably be fixed quite easily, just find <code>_DebuggerOutput</code> class definition in PTVS and add <code>closed = False</code> to its definition."}], "answers": [{"tags": [], "owner": {"reputation": 94632, "user_id": 111335, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/p2FYn.jpg?s=128&g=1", "display_name": "Pavel Minaev", "link": "https://stackoverflow.com/users/111335/pavel-minaev"}, "is_accepted": true, "score": 4, "last_activity_date": 1429143152, "creation_date": 1429143152, "answer_id": 29663171, "question_id": 29662818, "link": "https://stackoverflow.com/questions/29662818/py-test-from-visual-studio-debuggeroutput-object-has-no-attribute-closed/29663171#29663171", "title": "py.test from Visual Studio - &#39;_DebuggerOutput&#39; object has no attribute &#39;closed&#39;", "body": "<p>It's a <a href=\"http://pytools.codeplex.com/workitem/2741\" rel=\"nofollow\">bug</a> in PTVS that has been fixed for the upcoming 2.2 release.</p>\n\n<p>There's no build with the fix yet, but you can just apply it yourself, as it is in a .py file and does not require recompilation. The file that you need is:</p>\n\n<blockquote>\n  <p>C:\\Users\\...\\AppData\\Local\\Microsoft\\VisualStudio\\12.0Exp\\Extensions\\Microsoft\\Python Tools for Visual Studio\\2.1\\visualstudio_py_debugger.py</p>\n</blockquote>\n\n<p>Find class <code>_DebuggerOutput</code> in it, and add the following at the end of it:</p>\n\n<pre><code>def __getattr__(self, name):\n    return getattr(self.old_out, name)\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4794170, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9209c356b392b78f395cf8af615c2da3?s=128&d=identicon&r=PG&f=1", "display_name": "user4794170", "link": "https://stackoverflow.com/users/4794170/user4794170"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 1, "accepted_answer_id": 29663171, "answer_count": 1, "score": 0, "last_activity_date": 1429143152, "creation_date": 1429140834, "question_id": 29662818, "link": "https://stackoverflow.com/questions/29662818/py-test-from-visual-studio-debuggeroutput-object-has-no-attribute-closed", "title": "py.test from Visual Studio - &#39;_DebuggerOutput&#39; object has no attribute &#39;closed&#39;", "body": "<p>I'm using Python Tools for Visual Studio with py.test. I'm able to use pytest fine if I run the script without debugging, but when I run with debugging, the script crashes. Below is my code and the output that I get in the console window. I've searched for Google for answers but I've come up with nothing that solves this issue; it seems like no one has had this exact problem before. I'm running Visual Studio 2013, with PTVS 2.1 VS 2013.</p>\n\n<pre><code>#Code\nimport pytest\nif __name__ == \"__main__\":\n    pytest.main(\"--resultlog=resultlog.txt\")\n\n#Output\n! C:\\Python34\\lib\\site-packages\\colorama\\ansitowin32.py\n Traceback (most recent call last):\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\main.py\", line 80, in wrap_session\n     config.do_configure()\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\config.py\", line 618, in do_configure\n     self.hook.pytest_configure(config=self)\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\core.py\", line 521, in __call__\n     return self._docall(self.methods, kwargs)\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\core.py\", line 528, in _docall\n     firstresult=self.firstresult).execute()\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\core.py\", line 394, in execute\n     res = method(*args)\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\terminal.py\", line 41, in pytest_configure\n     reporter = TerminalReporter(config, sys.stdout)\n   File \"C:\\Python34\\lib\\site-packages\\_pytest\\terminal.py\", line 101, in __init__\n     self._tw = self.writer = py.io.TerminalWriter(file)\n   File \"C:\\Python34\\lib\\site-packages\\py\\_io\\terminalwriter.py\", line 130, in __init__\n     file = colorama.AnsiToWin32(file).stream\n   File \"C:\\Python34\\lib\\site-packages\\colorama\\ansitowin32.py\", line 68, in __init__\n     convert = on_windows and not wrapped.closed and not on_emulated_windows and is_a_tty(wrapped)\n AttributeError: '_DebuggerOutput' object has no attribute 'closed'\n</code></pre>\n\n<hr>\n\n<p><strong>Q: How can this error be resolved so that I can debug from inside Visual Studio?</strong></p>\n\n<hr>\n"}, {"tags": ["python", "bash", "unix", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "edited": false, "score": 1, "creation_date": 1429140851, "post_id": 29662772, "comment_id": 47465001, "body": "For those wondering what I&#39;m going to do from a longer-term maintenance and sanity perspective, I&#39;m thinking of converting this Bash script into Python and using the new <code>subprocess.communicate()</code> in Python 3 which <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate\" rel=\"nofollow noreferrer\">directly supports a timeout</a>. Python 2 also offer this new capability in an external library called <a href=\"https://pypi.python.org/pypi/subprocess32/\" rel=\"nofollow noreferrer\">subprocess32</a>, which is just a backport of the Python 3 subprocess module."}, {"owner": {"reputation": 27655, "user_id": 4421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0d4eae4d8a759deacb031139c09b7a9c?s=128&d=identicon&r=PG", "display_name": "pixelbeat", "link": "https://stackoverflow.com/users/4421/pixelbeat"}, "edited": false, "score": 1, "creation_date": 1429225033, "post_id": 29662772, "comment_id": 47511757, "body": "You can see where the --foreground option was added at <a href=\"http://git.sv.gnu.org/gitweb/?p=coreutils.git;a=commitdiff;h=4496c94\" rel=\"nofollow noreferrer\">git.sv.gnu.org/gitweb/?p=coreutils.git;a=commitdiff;h=4496c9&zwnj;&#8203;4</a> where the difference is that the timeout command doesn&#39;t create a new group when run with --foreground. It might be worth investigating the -f option of ssh too"}, {"owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "reply_to_user": {"reputation": 27655, "user_id": 4421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0d4eae4d8a759deacb031139c09b7a9c?s=128&d=identicon&r=PG", "display_name": "pixelbeat", "link": "https://stackoverflow.com/users/4421/pixelbeat"}, "edited": false, "score": 0, "creation_date": 1429225949, "post_id": 29662772, "comment_id": 47512083, "body": "@pixelbeat - Neat find! Looks like the relevant comment is: &quot;Don&#39;t create a separate background program group, so that the managed @var{command} can use the foreground TTY normally.&quot; Oh, and good point about <code>ssh -f</code>. That might be an alternate fix, sending ssh to the background."}], "tags": [], "owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "is_accepted": true, "score": 2, "last_activity_date": 1429140565, "creation_date": 1429140565, "answer_id": 29662772, "question_id": 29662771, "link": "https://stackoverflow.com/questions/29662771/subprocess-communicate-mysteriously-hangs-only-when-run-from-a-script/29662772#29662772", "title": "subprocess.communicate() mysteriously hangs only when run from a script", "body": "<p>This is one of those things that, once I figured it out, made me say \"Wow...\" out loud in a mixture of amazement and disgust.</p>\n\n<p>In this case, spark-ec2 isn't hanging because of some deadlock related to the use of <code>subprocess.PIPE</code>, as might've been the case if spark-ec2 had used <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen.wait\" rel=\"nofollow\"><code>Popen.wait()</code> instead of <code>Popen.communicate()</code></a>.</p>\n\n<p>The problem, as hinted to by the fact that spark-ec2 only hangs when the whole Bash script is invoked at once, is caused by something that behaves in subtly different ways depending on whether it's being called interactively or not.</p>\n\n<p>In this case the culprit is the GNU coreutils utility <code>timeout</code>, and an option it offers called <code>--foreground</code>.</p>\n\n<p>From the <code>timeout</code> man page:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>   --foreground\n\n          when not running timeout directly from a shell prompt,\n\n          allow  COMMAND  to  read  from  the TTY and get TTY signals; in this\n          mode, children of COMMAND will not be timed out\n</code></pre>\n\n<p>Without this option, Python's <code>communicate()</code> cannot read the output of the SSH command being invoked by <code>subprocess.Popen()</code>.</p>\n\n<p>This probably has something to do with SSH allocating TTYs via the <code>-t</code> switches, but honestly I don't fully understand it.</p>\n\n<p>What I <em>can</em> say, though, is that modifying the Bash script to use the <code>--foreground</code> option like this</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>timeout --foreground 30m spark-ec2 launch \"$CLUSTER_NAME\" ...\n</code></pre>\n\n<p>makes everything work as expected.</p>\n\n<p>Now, if I were you, I would consider converting that Bash script into something else that won't drive you nuts...</p>\n"}], "owner": {"reputation": 9733, "user_id": 877069, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9b7fe7ecbea69ba0bf0166b2d8c21b5f?s=128&d=identicon&r=PG", "display_name": "Nick Chammas", "link": "https://stackoverflow.com/users/877069/nick-chammas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "accepted_answer_id": 29662772, "answer_count": 1, "score": 1, "last_activity_date": 1429140565, "creation_date": 1429140565, "question_id": 29662771, "link": "https://stackoverflow.com/questions/29662771/subprocess-communicate-mysteriously-hangs-only-when-run-from-a-script", "title": "subprocess.communicate() mysteriously hangs only when run from a script", "body": "<p>I am invoking a Python tool called <a href=\"https://spark.apache.org/docs/latest/ec2-scripts.html\" rel=\"nofollow\">spark-ec2</a> from a Bash script.</p>\n\n<p>As part of its work, spark-ec2 makes several calls to the system's <code>ssh</code> command via use of the <code>subprocess</code> module.</p>\n\n<p><a href=\"https://github.com/apache/spark/blob/d5f1b9650b6e46cf6a9d61f01cda0df0cda5b1c9/ec2/spark_ec2.py#L788-L794\" rel=\"nofollow\">Here's an example</a>:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>s = subprocess.Popen(\n    ssh_command(opts) + ['-t', '-t', '-o', 'ConnectTimeout=3',\n                         '%s@%s' % (opts.user, host), stringify_command('true')],\n    stdout=subprocess.PIPE,\n    stderr=subprocess.STDOUT  # we pipe stderr through stdout to preserve output order\n)\ncmd_output = s.communicate()[0]  # [1] is stderr, which we redirected to stdout\n</code></pre>\n\n<p>For some reason, spark-ec2 is hanging on that line where <code>communicate()</code> is called. I have no idea why.</p>\n\n<p>For the record, here is an excerpt that shows how I'm invoking spark-ec2:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code># excerpt from script-that-calls-spark-ec2.sh\n\n# snipped: load AWS keys and do other setup stuff\n\ntimeout 30m spark-ec2 launch \"$CLUSTER_NAME\" ...\n\n# snipped: if timeout, report and exit\n</code></pre>\n\n<p>What's killing me is that when I call spark-ec2 alone it works fine, and when I copy and paste commands from this Bash script and run them interactively they work fine.</p>\n\n<p>It's only when I execute the whole script like this</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./script-that-calls-spark-ec2.sh\n</code></pre>\n\n<p>that spark-ec2 hangs on that <code>communicate()</code> step. This is driving me nuts.</p>\n\n<p>What's going on?</p>\n"}, {"tags": ["python", "variables", "global"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1429141929, "post_id": 29662770, "comment_id": 47465373, "body": "Why would you <i>want</i> to be able to access it? Or, to put it another way, if you need that value outside the function, why is it only defined inside the function?"}], "answers": [{"tags": [], "owner": {"reputation": 2250, "user_id": 1741414, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/132e3d867180428aaa9b304cdc0ad2bb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1741414/joe"}, "is_accepted": true, "score": 2, "last_activity_date": 1429142250, "last_edit_date": 1429142250, "creation_date": 1429140864, "answer_id": 29662823, "question_id": 29662770, "link": "https://stackoverflow.com/questions/29662770/accessing-a-variable-inside-a-function-from-another-script/29662823#29662823", "title": "Accessing a variable inside a function from another script", "body": "<p>In the code you wrote, \"x\" doesn't exist in \"comodin\". \"x\" belongs to the function name() and comodin can't see it.</p>\n\n<p>If you want to access a variable like this, you have to define it at the module scope (not the function scope).</p>\n\n<p>In comodin.py:</p>\n\n<pre><code>x = \"car\"\n\ndef name():\n    return x\n</code></pre>\n\n<p>In comodin_1.py:</p>\n\n<pre><code>import comodin\n\nprint comodin.name()\nprint comodin.x\n</code></pre>\n\n<p>The last 2 lines will print the same thing. The first will execute the name() function and print it's return value, the second just prints the value of x because it's a module variable.</p>\n\n<p>There's a catch: you have to use the 'global' statement if you want to edit the value \"x\" from a function (add this at the end of comodin.py):</p>\n\n<pre><code>def modify_x_wrong():\n    x = \"nope\"\n\ndef modify_x():\n    global x\n    x = \"apple\"\n</code></pre>\n\n<p>And in comodin_1.py:</p>\n\n<pre><code>print comodin.name()  # prints \"car\"\ncomodin.modify_x_wrong()\nprint comodin.name()  # prints \"car\", once again\ncomodin.modify_x()\nprint comodin.name()  # prints \"apple\"\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4421253, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/1oz8q.jpg?s=128&g=1", "display_name": "x1c70r", "link": "https://stackoverflow.com/users/4421253/x1c70r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 29662823, "answer_count": 1, "score": 0, "last_activity_date": 1429205036, "creation_date": 1429140560, "last_edit_date": 1429205036, "question_id": 29662770, "link": "https://stackoverflow.com/questions/29662770/accessing-a-variable-inside-a-function-from-another-script", "title": "Accessing a variable inside a function from another script", "body": "<p><code>comodin.py</code></p>\n\n<pre><code>def name():\n    x = \"car\"\n</code></pre>\n\n<p><code>comodin_1.py</code></p>\n\n<pre><code>import comodin\n\nprint comodin.x\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./comodin_2.py\", line 4, in &lt;module&gt;\n    print comodin.x\nAttributeError: 'module' object has no attribute 'x'\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1429140441, "post_id": 29662724, "comment_id": 47464853, "body": "See <a href=\"https://docs.python.org/2/library/re.html#search-vs-match\" rel=\"nofollow noreferrer\">docs.python.org/2/library/re.html#search-vs-match</a>"}, {"owner": {"reputation": 625, "user_id": 4629688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7sKBmOdY9lE/AAAAAAAAAAI/AAAAAAAAGJA/3sKnUSX_29M/photo.jpg?sz=128", "display_name": "Beth Crane", "link": "https://stackoverflow.com/users/4629688/beth-crane"}, "edited": false, "score": 0, "creation_date": 1429140546, "post_id": 29662724, "comment_id": 47464892, "body": "&quot;If zero or more characters at the BEGINNING of string match the regular expression pattern, return a corresponding MatchObject instance&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4794182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f12a7738ce9aa0af7e87af27007af290?s=128&d=identicon&r=PG&f=1", "display_name": "thankyoupython", "link": "https://stackoverflow.com/users/4794182/thankyoupython"}, "edited": false, "score": 0, "creation_date": 1429152710, "post_id": 29662753, "comment_id": 47468282, "body": "Thank you so much this is my first stackoverflow question and your answer encouraged me a lot in additional to the code itself."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": false, "score": 1, "last_activity_date": 1429140500, "creation_date": 1429140500, "answer_id": 29662753, "question_id": 29662724, "link": "https://stackoverflow.com/questions/29662724/since-the-above-codes-can-successfully-match-the-regex-hello-then-why-the-belo/29662753#29662753", "title": "since the above codes can successfully match the regex &quot;hello&quot;,then why the below codes won&#39;t match &quot;world&quot;?", "body": "<p>From the <a href=\"https://docs.python.org/2/library/re.html#re.RegexObject.match\" rel=\"nofollow\"><strong>documentation</strong></a> (emphasis mine):</p>\n\n<blockquote>\n  <p>If zero or more characters <strong>at the beginning</strong> of string match this regular expression, return a corresponding MatchObject instance. </p>\n</blockquote>\n\n<p>Since \"world\" is not at the beginning of the string, it does not match. You maybe looking for <a href=\"https://docs.python.org/2/library/re.html#re.RegexObject.search\" rel=\"nofollow\"><code>search</code></a> instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 4794182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f12a7738ce9aa0af7e87af27007af290?s=128&d=identicon&r=PG&f=1", "display_name": "thankyoupython", "link": "https://stackoverflow.com/users/4794182/thankyoupython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1429140511, "creation_date": 1429140367, "last_edit_date": 1429140403, "question_id": 29662724, "link": "https://stackoverflow.com/questions/29662724/since-the-above-codes-can-successfully-match-the-regex-hello-then-why-the-belo", "title": "since the above codes can successfully match the regex &quot;hello&quot;,then why the below codes won&#39;t match &quot;world&quot;?", "body": "<pre><code>import re\nm = re.match(r'hello', 'hello world')\nprint m.group()\n</code></pre>\n\n<p>since the above codes can successfully match the regex \"hello\",then why the below codes won't match \"world\"?</p>\n\n<pre><code>import re\nm = re.match(r'world', 'hello world')\nprint m.group()\n</code></pre>\n"}, {"tags": ["python", "csv", "relational-database", "transformation", "entity-attribute-value"], "answers": [{"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": true, "score": 0, "last_activity_date": 1429148254, "creation_date": 1429148254, "answer_id": 29663891, "question_id": 29662684, "link": "https://stackoverflow.com/questions/29662684/flatten-entity-attribute-value-eav-schema-in-python/29663891#29663891", "title": "Flatten Entity-Attribute-Value (EAV) Schema in Python", "body": "<p>Your basic idea seems right, though I would implement it as follows:</p>\n\n<pre><code>import itertools\nimport csv\n\nevents = {}  # we're going to keep track of the events we read in\nwith open('path/to/input') as infile:\n    for event, _att, val in csv.reader(infile):\n        if event not in events:\n            events[event] = []\n        events[int(event)].append(val)  # track all the values for this event\n\nmaxAtts = max(len(v) for _k,v in events.items())  # the maximum number of attributes for any event\nwith open('path/to/output', 'w') as outfile):\n    writer = csv.writer(outfile)\n    writer.writerow([\"event_id\"] + list(range(1, maxAtts+1)))  # write out the header row\n    for k in sorted(events):  # let's look at the events in sorted order\n        writer.writerow([k] + events[k] + ['null']*(maxAtts-len(events[k])))  # write out the event id, all the values for that event, and pad with \"null\" for any attributes without values\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4794064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d18ee494d5f129b49a604c1e06129961?s=128&d=identicon&r=PG", "display_name": "Scott Hoover", "link": "https://stackoverflow.com/users/4794064/scott-hoover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 29663891, "answer_count": 1, "score": 0, "last_activity_date": 1429158896, "creation_date": 1429140120, "last_edit_date": 1429158896, "question_id": 29662684, "link": "https://stackoverflow.com/questions/29662684/flatten-entity-attribute-value-eav-schema-in-python", "title": "Flatten Entity-Attribute-Value (EAV) Schema in Python", "body": "<p>I've got a csv file in something of an entity-attribute-value format (<em>i.e.</em>, my <code>event_id</code> is non-unique and repeats <em>k</em> times for the <em>k</em> associated attributes):</p>\n\n<pre><code>    event_id, attribute_id, value\n    1, 1, a\n    1, 2, b\n    1, 3, c\n    2, 1, a\n    2, 2, b\n    2, 3, c\n    2, 4, d\n</code></pre>\n\n<p>Are there any handy tricks to transform a variable number of attributes (<em>i.e.</em>, rows) into columns? The key here is that the output ought to be an <em>m x n</em> table of structured data, where <em>m = max(k)</em>; filling in missing attributes with <code>NULL</code> would be optimal:</p>\n\n<pre><code>    event_id, 1, 2, 3, 4\n    1, a, b, c, null\n    2, a, b, c, d\n</code></pre>\n\n<p>My plan was to (1) convert the csv to a JSON object that looks like this:</p>\n\n<pre><code>    data = [{'value': 'a', 'id': '1', 'event_id': '1', 'attribute_id': '1'},\n     {'value': 'b', 'id': '2', 'event_id': '1', 'attribute_id': '2'},\n     {'value': 'a', 'id': '3', 'event_id': '2', 'attribute_id': '1'},\n     {'value': 'b', 'id': '4', 'event_id': '2', 'attribute_id': '2'},\n     {'value': 'c', 'id': '5', 'event_id': '2', 'attribute_id': '3'},\n     {'value': 'd', 'id': '6', 'event_id': '2', 'attribute_id': '4'}]\n</code></pre>\n\n<p>(2) extract unique event ids:</p>\n\n<pre><code>    events = set()\n    for item in data:\n        events.add(item['event_id'])\n</code></pre>\n\n<p>(3) create a list of lists, where each inner list is a list the of attributes for the corresponding parent event.</p>\n\n<pre><code>    attributes = [[k['value'] for k in j] for i, j in groupby(data, key=lambda x: x['event_id'])]\n</code></pre>\n\n<p>(4) create a dictionary that brings events and attributes together:</p>\n\n<pre><code>    event_dict = dict(zip(events, attributes))\n</code></pre>\n\n<p>which looks like this:</p>\n\n<pre><code>    {'1': ['a', 'b'], '2': ['a', 'b', 'c', 'd']}\n</code></pre>\n\n<p>I'm not sure how to get all inner lists to be the same length with <code>NULL</code> values populated where necessary. It seems like something that needs to be done in step (3). Also, creating <em>n</em> lists full of <em>m</em> <code>NULL</code> values had crossed my mind, then iterate through each list and populate the value using <code>attribute_id</code> as the list location; but that seems janky.</p>\n"}, {"tags": ["python", "class", "methods", "operator-overloading"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1429140088, "post_id": 29662605, "comment_id": 47464746, "body": "How many times is it running?"}], "answers": [{"comments": [{"owner": {"reputation": 849, "user_id": 3919702, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/hLta4.png?s=128&g=1", "display_name": "The name&#39;s Bob. MS Bob.", "link": "https://stackoverflow.com/users/3919702/the-names-bob-ms-bob"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1429140576, "post_id": 29662702, "comment_id": 47464899, "body": "@TigerhawkT3 Good point; I usually still write it as I mentioned however because it reads better. <i>Range from 0 to n-1</i> rather than <i>Range to n-1</i>."}], "tags": [], "owner": {"reputation": 849, "user_id": 3919702, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/hLta4.png?s=128&g=1", "display_name": "The name&#39;s Bob. MS Bob.", "link": "https://stackoverflow.com/users/3919702/the-names-bob-ms-bob"}, "is_accepted": true, "score": 2, "last_activity_date": 1429140235, "creation_date": 1429140235, "answer_id": 29662702, "question_id": 29662605, "link": "https://stackoverflow.com/questions/29662605/python-add-days-to-an-existing-date/29662702#29662702", "title": "Python - Add days to an existing date", "body": "<p>It's running the correct number of times, but since <code>nextday</code> doesn't mutate a <code>date</code> object, you are just asking for the date after the current one over and over. Try:</p>\n\n<pre><code>def __add__(1, n):\n    \"\"\"\n    Returns a new date after n days are added to given date.\n    \"\"\"\n    g = self.nextday()\n    for x in range(1, n):\n        g = g.nextday()\n    return g\n</code></pre>\n\n<p>With <code>g = self.nextday()</code>, you create a temporary object that is then incremented by repeatedly assigning itself to the following day. The range has to be changes to <code>range(1,n)</code> to compensate for the initial day, though I'd personally write it as <code>range(0,n-1)</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 4598254, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/mlveT.png?s=128&g=1", "display_name": "flarp", "link": "https://stackoverflow.com/users/4598254/flarp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 29662702, "answer_count": 1, "score": 2, "last_activity_date": 1429140235, "creation_date": 1429139743, "last_edit_date": 1429139877, "question_id": 29662605, "link": "https://stackoverflow.com/questions/29662605/python-add-days-to-an-existing-date", "title": "Python - Add days to an existing date", "body": "<p>Obviously this is homework so I can't import but I also don't expect to be spoon fed the answer. Just need some help on something that's probably pretty simple, but has had me stumped for too many hours now. I have to add days to an existing date in python. Here is my code:</p>\n\n<pre><code>class Date:\n    \"\"\"\n    A class for establishing a date.\n    \"\"\"\n    min_year = 1800\n\n    def __init__(self, month = 1, day = 1, year = min_year):\n        \"\"\"\n        Checks to see if the date is real.\n        \"\"\"\n        self.themonth = month\n        self.theday = day\n        self.theyear = year\n    def __repr__(self):\n        \"\"\"\n        Returns the date.\n        \"\"\"\n        return '%s/%s/%s' % (self.themonth, self.theday, self.theyear)\n\n    def nextday(self):\n        \"\"\"\n        Returns the date of the day after given date.\n        \"\"\"\n        m = Date(self.themonth, self.theday, self.theyear)\n        monthdays = [31, 29 if m.year_is_leap() else 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n        maxdays = monthdays[self.themonth]\n\n        if self.theday != maxdays:\n            return Date(self.themonth, self.theday+1, self.theyear)\n        elif self.theday == maxdays and self.themonth == 12:\n            return Date(1,1,self.theyear+1)\n        elif self.theday == maxdays and self.themonth != 12:\n            return Date(self.themonth+1, 1, self.theyear)\n\n    def prevday(self):\n        \"\"\"\n        Returns the date of the day before given date.\n        \"\"\"\n        m = Date(self.themonth, self.theday, self.theyear)\n        monthdays = [31, 29 if m.year_is_leap() else 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n        if self.theday == 1 and self.themonth == 1 and self.theyear == 1800:\n            raise Exception(\"No previous date available.\")\n        if self.theday == 1 and self.themonth == 1 and self.theyear != 1800:\n            return Date(12, monthdays[11], self.theyear-1)\n        elif self.theday == 1 and self.themonth != 1:\n            return Date(self.themonth -1, monthdays[self.themonth-1], self.theyear)\n        elif self.theday != 1:\n            return Date(self.themonth, self.theday - 1, self.theyear)\n\n    def __add__(self, n):\n        \"\"\"\n        Returns a new date after n days are added to given date.\n        \"\"\"\n        for x in range(1, n+1):\n            g = self.nextday()\n        return g\n</code></pre>\n\n<p>But for some reason my <code>__add__</code> method won't run <code>nextday()</code> the right amount of times. Any suggestions?</p>\n"}, {"tags": ["python", "django", "caching"], "comments": [{"owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "edited": false, "score": 4, "creation_date": 1429139955, "post_id": 29662595, "comment_id": 47464700, "body": "You may need to show the traceback also."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "edited": false, "score": 0, "creation_date": 1429140437, "post_id": 29662595, "comment_id": 47464852, "body": "Updated, thanks for your reply."}, {"owner": {"reputation": 1933, "user_id": 1232796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b9f65fdc88eca3d9ce0a02a91d74aa?s=128&d=identicon&r=PG", "display_name": "tgdn", "link": "https://stackoverflow.com/users/1232796/tgdn"}, "edited": false, "score": 0, "creation_date": 1429186214, "post_id": 29662595, "comment_id": 47486202, "body": "Which version of django are you using?"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1429193716, "post_id": 29662595, "comment_id": 47492305, "body": "I&#39;m using Django 1.7.3"}, {"owner": {"reputation": 1767, "user_id": 375649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AYXsA.jpg?s=128&g=1", "display_name": "Andrey Shipilov", "link": "https://stackoverflow.com/users/375649/andrey-shipilov"}, "edited": false, "score": 0, "creation_date": 1534292070, "post_id": 29662595, "comment_id": 90655635, "body": "Show the <code>template_article.py</code> please."}], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1941, "favorite_count": 0, "answer_count": 0, "score": 8, "last_activity_date": 1558756858, "creation_date": 1429139706, "last_edit_date": 1558756858, "question_id": 29662595, "link": "https://stackoverflow.com/questions/29662595/attributeerror-templateresponse-object-has-no-attribute-context-data", "title": "AttributeError: &#39;TemplateResponse&#39; object has no attribute &#39;context_data&#39;", "body": "<p>I get this error when I try to access a cached url.</p>\n\n<p>I'm using per-view cached with Django, and when I access the url by the first time it works ok, but when it supposed to be in cache returns this error. I use FileBasedCache. This is in my settings:</p>\n\n<pre><code>CACHES = {\n    'default': {\n        'BACKEND': 'django.core.cache.backends.filebased.FileBasedCache',\n        'LOCATION': '/var/tmp/django_cache',\n        'TIMEOUT': 60,\n        'OPTIONS': {\n        'MAX_ENTRIES': 1000\n        }\n    }\n}\n\nMIDDLEWARE_CLASSES = settings.MIDDLEWARE_CLASSES + (\n    'django.middleware.cache.UpdateCacheMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.cache.FetchFromCacheMiddleware'\n)\n</code></pre>\n\n<p>In urls.py something like this:</p>\n\n<pre><code>...\ncache_page(60*1)(MyClaseView.as_view())\n...\n</code></pre>\n\n<p>I've chacked directory permissions, everything's ok, there are .djcache files in there so it's writting</p>\n\n<p>By the way, this error comes from a middleware (process_template_response) where I add some data to context_data.</p>\n\n<p>Here is Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/nexonet/.virtualenvs/esmidoctor/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 136, in get_response\n    response = middleware_method(request, response)\n  File \"/home/nexonet/webapps/esmidoctor/esmidoctor/apps/common/middleware/template_article.py\", line 12, in process_template_response\n    response.context_data['template_admin'] = 'panel/content/base.html'\nAttributeError: 'TemplateResponse' object has no attribute 'context_data'\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "edited": false, "score": 0, "creation_date": 1429140645, "post_id": 29662720, "comment_id": 47464931, "body": "I guess you&#39;re right because the redirect isn&#39;t happening either. So probably something goes wrong before the save() to database is reached?! I&#39;m gonna read through the page you linked ..."}, {"owner": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "edited": false, "score": 0, "creation_date": 1429141224, "post_id": 29662720, "comment_id": 47465129, "body": "Please take a look at my EDIT in the start post: This now gives me the following error message ... &quot;AttributeError at /add/ &#39;EntryForm&#39; object has no attribute &#39;save&#39;&quot;"}, {"owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "reply_to_user": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "edited": false, "score": 0, "creation_date": 1429144197, "post_id": 29662720, "comment_id": 47466043, "body": "Oh, you might want to use a <code>forms.ModelForm</code> instead of just <code>forms.Form</code>. The latter doens&#39;t have a save method associated with it. <a href=\"https://docs.djangoproject.com/en/1.8/topics/forms/modelforms/#modelform\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/topics/forms/modelforms/&hellip;</a>"}, {"owner": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "edited": false, "score": 0, "creation_date": 1429145420, "post_id": 29662720, "comment_id": 47466306, "body": "Yes, indeed I do. Please see my answer below."}], "tags": [], "owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "is_accepted": false, "score": 0, "last_activity_date": 1429140338, "creation_date": 1429140338, "answer_id": 29662720, "question_id": 29662590, "link": "https://stackoverflow.com/questions/29662590/django-python-form-data-doesnt-get-stored-in-database/29662720#29662720", "title": "Django/Python: form data doesn&#39;t get stored in database", "body": "<p>I am guessing you are getting an error here; <code>form = EntryForm(request.POST)</code> but because you are manually writing out the form html instead of using the Django form to do it, you aren't seeing the error. </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.8/topics/forms/#the-template\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/topics/forms/#the-template</a> is how you should use Django to render your html for your Django form; and this by default will display any errors the happened when trying to validate your data.</p>\n"}, {"tags": [], "owner": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "is_accepted": true, "score": 2, "last_activity_date": 1429144079, "creation_date": 1429144079, "answer_id": 29663295, "question_id": 29662590, "link": "https://stackoverflow.com/questions/29662590/django-python-form-data-doesnt-get-stored-in-database/29663295#29663295", "title": "Django/Python: form data doesn&#39;t get stored in database", "body": "<p>Figured it out ...\nThis is what forms.py has to look like in order for the save() function to work in the view:</p>\n\n<pre><code>class EntryForm(forms.ModelForm):\nCHOICES = (\n    ('1', 'Open'),\n    ('2', 'Done'),\n)\ntitle = forms.CharField(max_length=200)\ndescription = forms.CharField(widget=forms.Textarea)\ndue_date = forms.DateField()\ndue_time = forms.TimeField()\nstatus = forms.ChoiceField(choices=CHOICES)\n\nclass Meta:\n    model = Entry\n    fields = '__all__'\n</code></pre>\n\n<p>The important things to notice are \"ModelForm\" instead of just \"Form\" and the class Meta information.</p>\n"}], "owner": {"reputation": 764, "user_id": 4791682, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lzGgn.png?s=128&g=1", "display_name": "ci7i2en4", "link": "https://stackoverflow.com/users/4791682/ci7i2en4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 1, "accepted_answer_id": 29663295, "answer_count": 2, "score": 2, "last_activity_date": 1429144079, "creation_date": 1429139687, "last_edit_date": 1429141190, "question_id": 29662590, "link": "https://stackoverflow.com/questions/29662590/django-python-form-data-doesnt-get-stored-in-database", "title": "Django/Python: form data doesn&#39;t get stored in database", "body": "<p>Django 1.8 / Python 3.4</p>\n\n<p>I wanna add data from an html-form via a Django view named \"add\" to my database. However, for some reason this just doesn't happen and I can't figure out what's wrong. Presumably the mistake is in the view's code, but what exactly do I need to change?</p>\n\n<p>models.py</p>\n\n<pre><code>from django.db import models\nfrom model_utils import Choices\n\nclass Entry(models.Model):\n    user = models.CharField(max_length=50)\n    title = models.CharField(max_length=200)\n    description = models.TextField()\n    due_date = models.DateField('Date')\n    due_time = models.TimeField('Time')\n    STATUS = Choices('Open', 'Done')\n    status = models.CharField(choices=STATUS, default=STATUS.Open, max_length=4)\n\ndef __unicode__(self):\n    return u\"%s %s %s %s %s\" % (self.user, self.title, self.description, self.expiry, self.status)\n\ndef expiry(self):\n    return u\"%s %s\" % (self.due_date, self.due_time)\n</code></pre>\n\n<p>The interesting part of my add.html</p>\n\n<pre><code>    &lt;td&gt;&lt;input type=\"text\" name=\"title\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"description\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"due_date\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"due_time\"&gt;&lt;/td&gt;\n    &lt;td&gt;\n        &lt;select name=\"status\" size=\"1\" selected value=\"Open\"&gt;\n            &lt;option&gt;Open&lt;/option&gt;\n            &lt;option&gt;Done&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/td&gt;\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>from django import forms\nfrom django.forms.widgets import TextInput\n\nclass EntryForm(forms.Form):\n    title = forms.CharField(max_length=200)\n    description = forms.widgets.TextInput()\n    due_date = forms.DateField()\n    due_time = forms.TimeField()\n    status = forms.ChoiceField(choices=[(x, x) for x in range(1, 2)])\n</code></pre>\n\n<p>And the relevant view in my views.py</p>\n\n<pre><code>from django import forms\nfrom django.shortcuts import render\nfrom django.shortcuts import redirect\nfrom website.list.forms import EntryForm\n\ndef add(request):\n    if request.method == \"POST\":\n        form = EntryForm(request.POST) \n        if form.is_valid():\n            new_entry = form.save()\n            new_entry.save()\n            return redirect('website')\n    else:\n        form = EntryForm() \n    return render(request,'add.html', {'form': form})\n</code></pre>\n\n<p>Any help is appreciated!</p>\n\n<hr>\n\n<p>[EDIT]</p>\n\n<p>So, this is what my add.html looks like now:</p>\n\n<pre><code>&lt;form action=\".\" method=\"post\"&gt;\n{% csrf_token %}\n{{ form }}\n    &lt;br&gt;&lt;input type=\"submit\" value=\"Send\"/&gt;\n    &lt;br&gt;&lt;br&gt;&lt;a href=\"{% url 'overview' %}\"&gt;Cancel&lt;/a&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And the slightly edited views.py again:</p>\n\n<pre><code>from django import forms\nfrom django.shortcuts import render\nfrom django.shortcuts import redirect\nfrom www.todolist.forms import EntryForm\nfrom django.contrib.auth.models import User\n\ndef add(request):\n    if request.method == \"POST\":\n        form = EntryForm(request.POST) \n        if form.is_valid())\n            form.save()\n            return redirect('website')\n    else:\n        form = EntryForm() \n    return render(request,'add.html', {'form': form})\n</code></pre>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1429141571, "post_id": 29662509, "comment_id": 47465247, "body": "What&#39;s the problem with your code ?"}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1429139429, "creation_date": 1429139429, "answer_id": 29662536, "question_id": 29662509, "link": "https://stackoverflow.com/questions/29662509/regex-telephone-and-password/29662536#29662536", "title": "Regex telephone and password", "body": "<p>To match a phone number of the form you gave</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = 'this is a test with 123-456-7890 a phone number'\n&gt;&gt;&gt; p = '\\d{3}-\\d{3}-\\d{4}'\n&gt;&gt;&gt; re.findall(p, s)\n['123-456-7890']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1429140140, "creation_date": 1429140140, "answer_id": 29662687, "question_id": 29662509, "link": "https://stackoverflow.com/questions/29662509/regex-telephone-and-password/29662687#29662687", "title": "Regex telephone and password", "body": "<p>Phone number:</p>\n\n<pre><code>import re\ninputText = raw_input(\"Please enter a string for testing:\")\nif re.match(r'\\d{3}-\\d{3}-\\d{4}', inputText):\n    print ('Legitimate US phone number')\nelse:\n    print ('Error is reported')\n</code></pre>\n\n<p>Password:</p>\n\n<pre><code>import re\npassword = raw_input(\"Please enter a string for testing:\")\nif re.match(r'^(?=.*[a-z])(?=.*[A-Z])(?=.*[#^*=%]).{6,15}$', password):\n    print ('Valid Password')    \nelse:\n    print ('Error')\n</code></pre>\n\n<p>I assume all characters are in principle acceptable as a password, and guessing from your code: at least 6, and at most 15 characters. (Why would you want to limit the maximum number of characters of a password, and why to something so unreasonably short?)</p>\n"}], "owner": {"reputation": 11, "user_id": 4728226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294e0290b3868427bf4aff3972e876e7?s=128&d=identicon&r=PG&f=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/4728226/annie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1429173052, "answer_count": 2, "score": 0, "last_activity_date": 1429163838, "creation_date": 1429139274, "last_edit_date": 1429163838, "question_id": 29662509, "link": "https://stackoverflow.com/questions/29662509/regex-telephone-and-password", "closed_reason": "Not suitable for this site", "title": "Regex telephone and password", "body": "<p>Hi i'm new to python and trying to figure out how to check if the format of a telephone number is a correct american number- 555-555-5555\nAlso to check if a given password has lower case letters, upper case letters, and a special symbol. here is what i have so far:</p>\n\n<pre><code>import re\ninputText = raw_input(\"Please enter a string for testing:\")\nif re.match(r'(\\d{3}) \\D* (\\d{3}) \\D* (\\d{4}) \\D* (\\d*)', inputText):\n    print ('Legitimate US phone number')\nelse:\n    print ('Error is reported')\n\nimport re\npassword = raw_input(\"Please enter a string for testing:\")\nif re.match(r'((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[#^*=%]).{6,15})', password):\n    print ('Valid Password')    \nelse:\n    print ('Error')\n</code></pre>\n"}, {"tags": ["python", "matlab", "python-sphinx"], "comments": [{"owner": {"reputation": 5185, "user_id": 10794031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4HTC.jpg?s=128&g=1", "display_name": "bad_coder", "link": "https://stackoverflow.com/users/10794031/bad-coder"}, "reply_to_user": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1601835544, "post_id": 29662470, "comment_id": 113522741, "body": "@CrisLuengo I just found the <a href=\"https://meta.stackoverflow.com/questions/359933\">meta post</a>. The <code>documentation</code> tag has been marked for burnination and general clean-up. My retagging is in accordance with established policy."}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "reply_to_user": {"reputation": 5185, "user_id": 10794031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4HTC.jpg?s=128&g=1", "display_name": "bad_coder", "link": "https://stackoverflow.com/users/10794031/bad-coder"}, "edited": false, "score": 0, "creation_date": 1601838965, "post_id": 29662470, "comment_id": 113523722, "body": "@bad_coder: thanks! It makes sense now."}], "answers": [{"tags": [], "owner": {"reputation": 16374, "user_id": 1020470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155b46c9d301fa5a4c1a2a9ad4f2849e?s=128&d=identicon&r=PG", "display_name": "Mark Mikofski", "link": "https://stackoverflow.com/users/1020470/mark-mikofski"}, "is_accepted": false, "score": 0, "last_activity_date": 1435202761, "creation_date": 1435202761, "answer_id": 31040703, "question_id": 29662470, "link": "https://stackoverflow.com/questions/29662470/how-to-document-matlab-project-with-multiple-classes-using-sphinxcontrib-matlabd/31040703#31040703", "title": "How to document Matlab project with multiple classes using sphinxcontrib-matlabdomain?", "body": "<p>I believe this issue has been resolved in the latest version, <a href=\"https://pypi.python.org/pypi/sphinxcontrib-matlabdomain\" rel=\"nofollow\">sphinxcontrib-matlabdomain-0.2.7</a>, which autodocuments class methods with attributes defined in separate files of a <code>@classfolders</code>. Let me know if it's still an issue. </p>\n"}], "owner": {"reputation": 41, "user_id": 4794106, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vla4mz5cgYQ/AAAAAAAAAAI/AAAAAAAANz4/FBKTwxUp8wY/photo.jpg?sz=128", "display_name": "tothsa", "link": "https://stackoverflow.com/users/4794106/tothsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 743, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1601828966, "creation_date": 1429139066, "last_edit_date": 1601828966, "question_id": 29662470, "link": "https://stackoverflow.com/questions/29662470/how-to-document-matlab-project-with-multiple-classes-using-sphinxcontrib-matlabd", "title": "How to document Matlab project with multiple classes using sphinxcontrib-matlabdomain?", "body": "<p>I tried to document a larger Matlab project using Sphinx and the sphinxcontrib-matlabdomain package. It works fine for a single folder that stores all .m files. However my project contains multiple classes stored in separate folders such as:</p>\n\n<pre><code>   project\n    |-- matfiles\n    |    |-- @class1\n    |    |    |-- class1.m\n    |    |    |-- method1.m\n    |    |    |-- method2.m\n    |    |    +-- method1.m\n    |    |-- @class2\n    |    |    |-- class2.m\n    |    |    |-- methodA.m\n    |    |    |-- methodB.m\n    |    |    +-- methodC.m\n    |    +-- function\n    |         |-- fun1.m\n    |         |-- fun2.m\n    |         +-- fun3.m\n    +-- doc\n         |-- conf.py\n         +-- index.rst\n</code></pre>\n\n<p>I adde the following lines to <code>conf.py</code>:</p>\n\n<pre><code>matlab_src_dir = os.path.abspath('..')\nextensions = [\n    'sphinx.ext.autodoc',\n    'sphinxcontrib.matlab',\n]\nprimary_domain = 'mat'\n</code></pre>\n\n<p>And I added the following lines to <code>index.rst</code>:</p>\n\n<pre><code>.. module:: matfiles\n\n.. automethod:: class1.method1\n</code></pre>\n\n<p>I got the following error:</p>\n\n<pre><code>Exception occurred:\n  File \"/Library/Python/2.7/site-packages/sphinxcontrib/mat_documenters.py\", line 788, in import_object\n    if self.object.attrs.get('Static'):\nAttributeError: 'NoneType' object has no attribute 'attrs'\nThe full traceback has been saved in /var/folders/70/g0lr37wn60gbbymnsks_t5vm0000gn/T/sphinx-err-uD8qpe.log, if you want to report the issue to the developers.\nPlease also report this if it was a user error, so that a better error message can be provided next time.\nA bug report can be filed in the tracker at &lt;https://github.com/sphinx-doc/sphinx/issues&gt;. Thanks!\n| reading sources... [100%] index\n</code></pre>\n\n<p>So my question is, is there a way to document multi class Matlab projects where class methods are saved in a folder with name @class?</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 556, "user_id": 1763621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ab06bf8e46e3b77a67962eced40fa199?s=128&d=identicon&r=PG", "display_name": "snorthway", "link": "https://stackoverflow.com/users/1763621/snorthway"}, "edited": false, "score": 1, "creation_date": 1429140339, "post_id": 29662432, "comment_id": 47464828, "body": "I saw data when I plotted it on a loglog scale (i.e. replacing <code>plt.plot(x,y)</code> with <code>plt.loglog(x,y)</code>)"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1429144051, "post_id": 29662432, "comment_id": 47465989, "body": "I also strongly recommend using <code>pyplot</code> instead of <code>pylab</code>, i.e. <code>from matplotlib import pyplot as plt</code>. <code>pyplot</code> contains only plotting-related code from matplotlib, whereas <code>pylab</code> also imports the <i>entire contents</i> of numpy, which introduces a huge amount of irrelevant clutter to the module namespace."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "edited": false, "score": 0, "creation_date": 1429200750, "post_id": 29663181, "comment_id": 47497894, "body": "Thank for the feedback, I will be doing more experimentation. All I need to plot is the percentages which are the y-axis:     <code>0,0,0,0,0,0,0,0,46.29821447,49.49781571,49.83072758,50.89081&zwnj;&#8203;787,98.49113721,98.5&zwnj;&#8203;522082,99.29547499,9&zwnj;&#8203;9.91765345,99.937794&zwnj;&#8203;31,99.95351796,99.98&zwnj;&#8203;066963,99.99294867,1&zwnj;&#8203;00</code>  and the the x-axis values are just latency&#39;s(time in micro/milliseconds):  <code>&#39;&lt;2.5 uS&#39;, &#39;&lt;5 uS&#39;, &#39;&lt;10 uS&#39;, &#39;&lt;20 uS&#39;, &#39;&lt;30 uS&#39;, &#39;&lt;40 uS&#39;, &#39;&lt;50 uS&#39;, &#39;&lt;60    uS&#39;, &#39;&lt;70 uS&#39;, &#39;&lt;80 uS&#39;, &#39;&lt;90 uS&#39;, &#39;&lt;100 uS&#39;, &#39;&lt;200 uS&#39;, &#39;&lt;250 uS&#39;, &#39;&lt;350 uS&#39;, &#39;&lt;500 uS&#39;, &#39;&lt;1 mS&#39;, &#39;&lt;2 uS&#39;, &#39;&lt;5 mS&#39;, &#39;&lt;10 mS&#39;, &#39;&lt;1 S&#39;</code>"}, {"owner": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "edited": false, "score": 0, "creation_date": 1429296901, "post_id": 29663181, "comment_id": 47550187, "body": "So I managed to plot multiple subplots and stitch them together while assigning different limitations for each one. The problem with this is resources are increased in plotting multiple plots as well as if I have dynamic data as the input it won&#39;t properly separate the new data. I can most likely engineer a dynamic function that detects values relations and assign dynamic limitations for each plot but there has to be a different easier way of just spreading the values that are close too each other. Here is my graph, <a href=\"http://i.imgur.com/LkXeLsZ.png?1\" rel=\"nofollow noreferrer\">img</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "edited": false, "score": 0, "creation_date": 1429297140, "post_id": 29663181, "comment_id": 47550324, "body": "The comments aren&#39;t really the right place to discuss this. Could you please ask this as a new question? You provide a link to this one for context."}, {"owner": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "edited": false, "score": 0, "creation_date": 1429301489, "post_id": 29663181, "comment_id": 47552694, "body": "sorry about that, so I figured out since I&#39;m overriding the x and y tick labels  all I have to do is alter my actual y values that are similar. Which helps me not having to deal with multiple plots. That question is posted here, <a href=\"http://stackoverflow.com/questions/29708479/amplify-values-that-are-similar-using-numpy-or-scipy-in-python\">link</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "edited": false, "score": 0, "creation_date": 1429301588, "post_id": 29663181, "comment_id": 47552734, "body": "I meant to put a link in your new question that points to this one"}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1429144214, "last_edit_date": 1429144214, "creation_date": 1429143256, "answer_id": 29663181, "question_id": 29662432, "link": "https://stackoverflow.com/questions/29662432/plotting-the-integral-of-a-probability-distribution-in-matplotlib/29663181#29663181", "title": "Plotting the integral of a probability distribution in matplotlib", "body": "<p><em>y</em> increases from 0 at <em>x</em> = 0.00006, to 99.99 at <em>x</em> = 0.01, then only increases by a further ~0.007 between <em>x</em> = 0.01 and <em>x</em> = 1. The line basically shoots straight up in an L-shape that is so close to the left-hand and upper borders of the plot that it is obscured by the axes.</p>\n\n<p>If you set your axis limits slightly wider:</p>\n\n<pre><code>plt.xlim(-0.1, 1.1)\nplt.ylim(-10, 110)\n</code></pre>\n\n<p>then you can easily see what's happening:</p>\n\n<p><img src=\"https://i.stack.imgur.com/dzLHF.png\" alt=\"enter image description here\"></p>\n\n<p>As @snorthway commented, it might be more sensible to plot this data on log-log scales (as in the example image you showed):</p>\n\n<pre><code>plt.loglog(x, y)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ugQ0b.png\" alt=\"enter image description here\"></p>\n\n<p>However you will then run into the issue that your <em>y</em>-values contain 0s. Since log(0) = -infinity, the line becomes vertical for <em>x</em> &lt; 0.00007.</p>\n"}], "owner": {"reputation": 83, "user_id": 1129079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5n9Ex.jpg?s=128&g=1", "display_name": "Yasko", "link": "https://stackoverflow.com/users/1129079/yasko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1429297427, "creation_date": 1429138863, "last_edit_date": 1429297427, "question_id": 29662432, "link": "https://stackoverflow.com/questions/29662432/plotting-the-integral-of-a-probability-distribution-in-matplotlib", "title": "Plotting the integral of a probability distribution in matplotlib", "body": "<p>I'm trying to plot the integral of probability distribution, similar to this image: <img src=\"https://i.imgur.com/IGXDzo6.png?1?1481\" alt=\"prob\"></p>\n\n<p>Notice how the Y-axis starts becoming more granular towards the top.</p>\n\n<p>I already have the exact percentiles that I want to plot, and the corresponding values for the x-axis.</p>\n\n<p>My code so far is:</p>\n\n<pre><code>import matplotlib.pylab as plt\nimport numpy as np\nimport scipy as sp\nfrom scipy import stats\n\nx = np.array([0.0000025,0.000005,0.00001,0.00002,0.00003,0.00004,0.00005,0.00006,0.00007,0.00008,0.00009,0.0001,0.0002,0.00025,0.00035,0.0005,0.001,0.002,0.005,0.01,1])\ny = np.array([0,0,0,0,0,0,0,0,46.29821447,49.49781571,49.83072758,50.89081787,98.49113721,98.5522082,99.29547499,99.91765345,99.93779431,99.95351796,99.98066963,99.99294867,100])\nmy_xticks = ['&lt;2.5 uS', '&lt;5 uS', '&lt;10 uS', '&lt;20 uS', '&lt;30 uS', '&lt;40 uS', '&lt;50 uS', '&lt;60 uS', '&lt;70 uS', '&lt;80 uS', '&lt;90 uS', '&lt;100 uS', '&lt;200 uS', '&lt;250 uS', '&lt;350 uS', '&lt;500 uS', '&lt;1 mS', '&lt;2 uS', '&lt;5 mS', '&lt;10 mS', '&lt;1 S']\nplt.xticks(x, my_xticks)\nplt.yticks(np.arange(y.min() - 20, y.max() + 1, 10))\nplt.xticks(np.arange(x.min() + 0.035, x.max(), 0.08))\nplt.plot(x, y)\nplt.grid(axis='y')\nplt.show()\n</code></pre>\n\n<p>Which outputs this:</p>\n\n<p><img src=\"https://i.imgur.com/y67YHtv.png?1\" alt=\"output\"></p>\n\n<p><strong>Update</strong></p>\n\n<p>So I managed to split multiple plots 10 to be precise while assigning different y-axis limitations to each in order to spread my data points apart for readability. This is all hard coded which presents its own challenges because I will feed dynamic data with different vectors being really close in values. I could engineer function to analyze the proximity of the values to each other, based on that have it plot x amount of plots and assign limitations, but this is excessive on work and resources having to plot multiple plots. Here is what I have so far,</p>\n\n<pre><code>x = np.array([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21])\ny = np.array([0,0,0,0,0,0,0,0,46.29821447,49.49781571,49.83072758,50.89081787,98.49113721,98.5522082,99.29547499,99.91765345,99.93779431,99.95351796,99.98066963,99.99294867,100])\nmy_xticks = ['&lt;2.5 uS', '&lt;5 uS', '&lt;10 uS', '&lt;20 uS', '&lt;30 uS', '&lt;40 uS', '&lt;50 uS', '&lt;60 uS', '&lt;70 uS', '&lt;80 uS', '&lt;90 uS', '&lt;100 uS', '&lt;200 uS', '&lt;250 uS', '&lt;350 uS', '&lt;500 uS', '&lt;1 mS', '&lt;2 uS', '&lt;5 mS', '&lt;10 mS', '&lt;1 S']\nf,(ax,ax2,ax3,ax4,ax5,ax6,ax7,ax8,ax9,ax10) = plt.subplots(10,1,sharex=True)\n\nmajorFormatter = FormatStrFormatter('%.7f')\nplt.subplots_adjust(hspace=0)\nplt.xticks(x, my_xticks)\nax.grid(axis='y')\nax2.grid(axis='y')\nax3.grid(axis='y')\nax4.grid(axis='y')\nax5.grid(axis='y')\nax6.grid(axis='y')\nax7.grid(axis='y')\nax8.grid(axis='y')\nax9.grid(axis='y')\nax10.grid(axis='y')\n\nax.plot(x,y, '-r')\nax.plot(x,y, '.')\nax2.plot(x,y, '.')\nax2.plot(x,y, '-r')\nax3.plot(x,y, '.')\nax3.plot(x,y, '-r')\nax4.plot(x,y, '.')\nax4.plot(x,y, '-r')\nax5.plot(x,y, '.')\nax5.plot(x,y, '-r')\nax6.plot(x,y, '.')\nax6.plot(x,y, '-r')\nax7.plot(x,y, '.')\nax7.plot(x,y, '-r')\nax8.plot(x,y, '.')\nax8.plot(x,y, '-r')\nax9.plot(x,y, '.')\nax9.plot(x,y, '-r')\nax10.plot(x,y, '.')\nax10.plot(x,y, '-r')\n\nax.set_yticks(y)\nax2.set_yticks(y)\nax3.set_yticks(y)\nax4.set_yticks(y)\nax5.set_yticks(y)\nax6.set_yticks(y)\nax7.set_yticks(y)\nax8.set_yticks(y)\nax9.set_yticks(y)\nax10.set_yticks(y)\n\nax.set_ylim(99.95,100)\nax2.set_ylim(99.8,99.95)\nax3.set_ylim(99.5,99.8)\nax4.set_ylim(99,99.5)\nax5.set_ylim(98.5,99)\nax6.set_ylim(93,98.5)\nax7.set_ylim(90,93)\nax8.set_ylim(86,90)\nax9.set_ylim(70,86)\nax10.set_ylim(0,70)\n\nax.spines['bottom'].set_visible(False)\nax2.spines['top'].set_visible(False)\nax2.spines['bottom'].set_visible(False)\nax3.spines['top'].set_visible(False)\nax3.spines['bottom'].set_visible(False)\nax4.spines['top'].set_visible(False)\nax4.spines['bottom'].set_visible(False)\nax5.spines['top'].set_visible(False)\nax5.spines['bottom'].set_visible(False)\nax6.spines['top'].set_visible(False)\nax6.spines['bottom'].set_visible(False)\nax7.spines['top'].set_visible(False)\nax7.spines['bottom'].set_visible(False)\nax8.spines['top'].set_visible(False)\nax8.spines['bottom'].set_visible(False)\nax9.spines['top'].set_visible(False)\nax9.spines['bottom'].set_visible(False)\nax10.spines['top'].set_visible(False)\n\nax.yaxis.set_major_formatter(majorFormatter)\nax2.yaxis.set_major_formatter(majorFormatter)\nax3.yaxis.set_major_formatter(majorFormatter)\nax4.yaxis.set_major_formatter(majorFormatter)\nax5.yaxis.set_major_formatter(majorFormatter)\nax6.yaxis.set_major_formatter(majorFormatter)\nax7.yaxis.set_major_formatter(majorFormatter)\nax8.yaxis.set_major_formatter(majorFormatter)\nax9.yaxis.set_major_formatter(majorFormatter)\nax10.yaxis.set_major_formatter(majorFormatter)\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/LkXeLsZ.png?1\" alt=\"graph\"></p>\n"}, {"tags": ["python", "scatter-plot"], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 1763621, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ab06bf8e46e3b77a67962eced40fa199?s=128&d=identicon&r=PG", "display_name": "snorthway", "link": "https://stackoverflow.com/users/1763621/snorthway"}, "is_accepted": true, "score": 0, "last_activity_date": 1429139734, "creation_date": 1429139734, "answer_id": 29662602, "question_id": 29662420, "link": "https://stackoverflow.com/questions/29662420/python-error-valueerror-invalid-vertices-array/29662602#29662602", "title": "python error &quot;ValueError: Invalid vertices array&quot;", "body": "<p>The numbers need to be converted to a type that matplotlib can use; right now it just makes a list of strings, as <code>split()</code> returns a list of strings. You can fix this by calling <code>int()</code> (or <code>float()</code>, if the numbers aren't all integers) to convert the strings when you read the file, which you already did in the assignment to <code>ch</code>:</p>\n\n<pre><code>for line in file:\n    if (line.split()[0])=='1':\n        ch = int(line.split()[0])\n        pos.append(int(line.split()[1]))\n        cov.append(int(line.split()[2]))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1429140102, "post_id": 29662614, "comment_id": 47464750, "body": "<code>float</code> instead of <code>int</code> would be safer in case there are floating point numbers in the text file."}], "tags": [], "owner": {"reputation": 1082, "user_id": 2107374, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YH4xw.jpg?s=128&g=1", "display_name": "acutesoftware", "link": "https://stackoverflow.com/users/2107374/acutesoftware"}, "is_accepted": false, "score": 0, "last_activity_date": 1429139795, "creation_date": 1429139795, "answer_id": 29662614, "question_id": 29662420, "link": "https://stackoverflow.com/questions/29662420/python-error-valueerror-invalid-vertices-array/29662614#29662614", "title": "python error &quot;ValueError: Invalid vertices array&quot;", "body": "<p>If the numbers have quotes around them it means they are coming out at strings, which is likely causing the issue.</p>\n\n<p>In your code here</p>\n\n<pre><code>         pos.append(line.split()[1])\n         cov.append(line.split()[2])\n</code></pre>\n\n<p>This will append the numbers as strings to the lists pos and cov, so you should do what you did above and convert them to numbers.</p>\n\n<pre><code>         pos.append(int(line.split()[1]))\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4794123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d693bab269286514fd0809b15324e5b?s=128&d=identicon&r=PG&f=1", "display_name": "pinkvirus", "link": "https://stackoverflow.com/users/4794123/pinkvirus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 29662602, "answer_count": 2, "score": 0, "last_activity_date": 1429139795, "creation_date": 1429138800, "question_id": 29662420, "link": "https://stackoverflow.com/questions/29662420/python-error-valueerror-invalid-vertices-array", "title": "python error &quot;ValueError: Invalid vertices array&quot;", "body": "<p>I'm running the following code and get the following error for making the plot. When I print the cov variable, the numbers in it have single quotes around them. I'm assuming this is the problem? When I try to plot x and y, it works just fine. I'm a new python user. Any suggestions? Thanks!</p>\n\n<pre><code>#!/bin/python\n\nimport matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nimport numpy as np\nfrom sys import argv\n#from numpy import array\n\n#array = numpy.float64(array)\n\nscript, filename = argv\n\nfile = open(filename)\n\npos = []\ncov = []\n\nfor line in file:\n    if (line.split()[0])=='1':\n        ch = int(line.split()[0])\n        #adjpos = int(line.split()[1])\n        pos.append(line.split()[1])\n        cov.append(line.split()[2])\n\nfile.close()\n\nprint cov\n\nx = [0, 1, 2, 3]\ny = [5, 10, 5, 5]\n\nprint x\nprint y\n\nfig = plt.figure(figsize=(16,3),edgecolor='w')\nplt.scatter(pos,cov,marker='.',s=1)\nplt.show()\n\nTraceback (most recent call last):\n  File \"/Users/eflannery/Dropbox/plotSamFlags.py\", line 37, in &lt;module&gt;\n    plt.scatter(pos,cov,marker='.',s=1)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/pyplot.py\", line 2557, in scatter\n    ret = ax.scatter(x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, faceted, verts, **kwargs)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/axes.py\", line 5876, in scatter\n    self.add_collection(collection)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/axes.py\", line 1445, in add_collection\n    self.update_datalim(collection.get_datalim(self.transData))\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/collections.py\", line 160, in get_datalim\n    offsets = transOffset.transform_non_affine(offsets)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/transforms.py\", line 1925, in transform_non_affine\n    self._a.transform(points))\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/transforms.py\", line 1415, in transform\n    return affine_transform(points, mtx)\nValueError: Invalid vertices array.\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1429138988, "post_id": 29662427, "comment_id": 47464334, "body": "so... what should try_open = ?"}], "tags": [], "owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "is_accepted": false, "score": 2, "last_activity_date": 1429139148, "last_edit_date": 1429139148, "creation_date": 1429138839, "answer_id": 29662427, "question_id": 29662358, "link": "https://stackoverflow.com/questions/29662358/attributeerror-openable-object-has-no-attribute-try-open-python/29662427#29662427", "title": "AttributeError: &#39;Openable&#39; object has no attribute &#39;try_open&#39; python", "body": "<p>You haven't defined <code>try_open</code> on either <code>Openable</code> or its parent class.</p>\n\n<hr>\n\n<p>In your <code>test_open</code> function you call <code>o.try_open()</code> and pass in an instance of <code>Openable</code>. What you need to do is either define a new method in your definition of <code>Openable</code> or in <code>Thing</code>. For example:</p>\n\n<pre><code>class Openable(Thing):\n    def __init__(self):\n        # Your other code here\n\n    def is_open(self):\n        # Your other code here\n\n    def try_open(self):\n        # Some logic here for whatever you expect try_open to do.\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429139170, "creation_date": 1429138452, "last_edit_date": 1429139170, "question_id": 29662358, "link": "https://stackoverflow.com/questions/29662358/attributeerror-openable-object-has-no-attribute-try-open-python", "title": "AttributeError: &#39;Openable&#39; object has no attribute &#39;try_open&#39; python", "body": "<p>I have built code that is used with classes and included it below. Also, I included code for testing, but for some reason I get the dreaded <code>AttributeError: 'Openable' object has no attribute 'try_open'</code>.  Can anyone tell me why this is happening and/or offer a fix?</p>\n\n<pre><code>class Thing:\n    \"\"\"a class for representing physical objects in a game\n\n    attributes: name (str), location (str)\"\"\"\n    def __init__(self, name, location):\n        \"\"\"assigns values to attributes\"\"\"\n        self.name = name\n        self.location = location\n\n    def description(self):\n        \"\"\"returns str that describes the state of the object\n\n        str -&gt; str\"\"\"\n        return str('Nothing special.')\ndef test(t):\n    \"\"\"Tests the name, location, and description method of t\n\n    Thing -&gt; None\"\"\"\n    print(t.name + \" (\" + t.location + \"): \" + t.description())\n\n\nkey1 = Thing(\"golden key\", \"under door mat\")\ntest(key1)\n\nkey2 = Thing(\"rusty key\", \"jacket pocket\")\ntest(key2)\n\nclass Openable(Thing):\n    \"\"\"a class for representing those physical objects which can be opened\n\n    inherited attributes: all\"\"\"\n    def is_open(t):\n        \"\"\"returns a bool whether the object is open or not\n\n        str -&gt; bool\"\"\"\n        if o.is_open(): \n            print(\"the \" + o.name + \" should now be open.\")\n        else:\n            print(\"the \" + o.name + \" should now be open.\")\n    def __init__(self, name, location, o=False):\n        \"\"\"assigns values to attributes\"\"\"\n        super().__init__(name, location)\n        self.isOpen = o\n\ndef test_open(o):\n    \"\"\"Tests an attempt to open o\n\n    Openable -&gt; None\"\"\"\n    print()\n    test(o)\n    print(\"Attempting to open the \" + o.name + \"...\")\n    if o.try_open():\n        print(\"The \" + o.name + \" should now be open.\")\n    else:\n        print(\"The \" + o.name + \" should now be closed.\")\n    test(o)\n\nbook1 = Openable(\"Necronomicon\", \"book shelf\")\ntest_open(book1)\n\nwindow1 = Openable(\"side window\", \"north wall\", True)\ntest_open(window1)\n</code></pre>\n"}, {"tags": ["python", "virtualenv", "pylint"], "answers": [{"comments": [{"owner": {"reputation": 1930, "user_id": 418107, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/78124e3c2b7b7a14a21c4c4eb587312b?s=128&d=identicon&r=PG", "display_name": "Sam King", "link": "https://stackoverflow.com/users/418107/sam-king"}, "edited": false, "score": 0, "creation_date": 1429205307, "post_id": 29663226, "comment_id": 47500866, "body": "Yeah, that should work, but it&#39;s doing the type of manual stuff I was hoping to avoid."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "reply_to_user": {"reputation": 1930, "user_id": 418107, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/78124e3c2b7b7a14a21c4c4eb587312b?s=128&d=identicon&r=PG", "display_name": "Sam King", "link": "https://stackoverflow.com/users/418107/sam-king"}, "edited": false, "score": 1, "creation_date": 1429331084, "post_id": 29663226, "comment_id": 47561057, "body": "Create a script, it shouldn&#39;t be too complex. Or simply use <code>python&lt;ver&gt; -m &lt;utilmod&gt;</code> if the utility supports that way of execution (pylint can be run as <code>python -m pylint ...</code>)"}], "tags": [], "owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "is_accepted": false, "score": 1, "last_activity_date": 1429143523, "creation_date": 1429143523, "answer_id": 29663226, "question_id": 29662290, "link": "https://stackoverflow.com/questions/29662290/how-to-install-pylint-for-python2-and-python3-side-by-side/29663226#29663226", "title": "How to install pylint for python2 and python3 side by side", "body": "<p>Usually python modules for different major versions don't interfer with each other. The only problem is utilities. So the recipe is as follows:</p>\n\n<ol>\n<li>Create a virtual environment for a python2, then go to the bin/ folder of the created environment and rename all created scripts/wrappers/binaries so that all of them would have suffix <code>2</code></li>\n<li>Repeat the creation of the virtual env. <em>in the same</em> directory but for python3. Again, go to the <code>bin/</code> subfolder of the created virtual environment and rename all newly created scripts to have suffix <code>3</code>.</li>\n<li>Make sure that all hashbangs in the scripts call an apropriate python version.</li>\n<li>Now you should <code>source &lt;virtenv&gt;/bin/activate</code> as the docs suggest</li>\n<li>And now you may install pylint in the virtual env, you need to repeat the procedure for both python2 and python3, again separating the binaries in <code>&lt;virtualenv&gt;/bin/</code>. Use <code>pip2</code> and <code>pip3</code> or <code>python2 -m pip...</code>/<code>python3 -m pip...</code> for that.</li>\n</ol>\n\n<p>I haven't installed pylint, but have an environment prepared for both python2 and python3 with a bunch of python utilities like <code>bpython</code> (called as <code>bpython2</code> and <code>bpython3</code> respectively, <code>pygmentize</code> etc). I don't think <code>pylint</code> is something different in this aspect.</p>\n"}, {"tags": [], "owner": {"reputation": 1657, "user_id": 28312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b55103cd7f0c0796bcdaefd1e75965?s=128&d=identicon&r=PG", "display_name": "Flash Sheridan", "link": "https://stackoverflow.com/users/28312/flash-sheridan"}, "is_accepted": false, "score": 1, "last_activity_date": 1561998151, "creation_date": 1561998151, "answer_id": 56839092, "question_id": 29662290, "link": "https://stackoverflow.com/questions/29662290/how-to-install-pylint-for-python2-and-python3-side-by-side/56839092#56839092", "title": "How to install pylint for python2 and python3 side by side", "body": "<p>I\u2019m only addressing this part of your question:</p>\n\n<blockquote>\n  <p>how to install two separate versions of pylint side by side, either in\n  the OS as a whole\u2026</p>\n</blockquote>\n\n<p>I already had an existing pylint installation (presumably from pip with Python 2), at <code>/usr/local/bin/pylint</code>, and a pip python3 installation in the same directory. </p>\n\n<p>So I did the following:</p>\n\n<pre><code>cp /usr/local/bin/pylint ~/Back/    \npip3 install pylint\nmv /usr/local/bin/pylint /usr/local/bin/pylint3\ncp ~/Back/pylint  /usr/local/bin/pylint\n</code></pre>\n"}], "owner": {"reputation": 1930, "user_id": 418107, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/78124e3c2b7b7a14a21c4c4eb587312b?s=128&d=identicon&r=PG", "display_name": "Sam King", "link": "https://stackoverflow.com/users/418107/sam-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3452, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1561998151, "creation_date": 1429138163, "question_id": 29662290, "link": "https://stackoverflow.com/questions/29662290/how-to-install-pylint-for-python2-and-python3-side-by-side", "title": "How to install pylint for python2 and python3 side by side", "body": "<p>I have a codebase that includes both python2 and python3 code.  I want to make one script that will run pylint on all python2 and all python3 files, ideally from within a single virtualenv.</p>\n\n<p>I can figure out which version of pylint to run by annotating the directories (eg, adding a .pylint3 file to directories that need the python3 pylint to run or something like that).  However, I don't know how to install two separate versions of pylint side by side, either in the OS as a whole or in a virtualenv, without doing some manual annoying stuff.  </p>\n\n<p>Is there a good way to get two versions of pylint running side by side in the same virtualenv?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pyqt", "wxpython", "sublimetext", "pygtk"], "answers": [{"comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 6, "creation_date": 1429149915, "post_id": 29662206, "comment_id": 47467511, "body": "While the link in your answer may address the question, it is much better to include the information from the link in your answer, as external sites can change, rearrange, or disappear completely. Answers on Stack Overflow (and all Stack Exchange sites) should be able to stand on their own, with any external links for reference only."}, {"owner": {"reputation": 7137, "user_id": 1542339, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/bd8a4d4699a9ac3820a0a4641e54524b?s=128&d=identicon&r=PG", "display_name": "hugemeow", "link": "https://stackoverflow.com/users/1542339/hugemeow"}, "edited": false, "score": 0, "creation_date": 1429309341, "post_id": 29662206, "comment_id": 47556360, "body": "why the author objective c? why not qt?"}], "tags": [], "owner": {"reputation": 51, "user_id": 4744461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NYCj4lSLRZI/AAAAAAAAAAI/AAAAAAAAAHg/MGusgrrj1Zc/photo.jpg?sz=128", "display_name": "GrumpyBOFH", "link": "https://stackoverflow.com/users/4744461/grumpybofh"}, "is_accepted": false, "score": 4, "last_activity_date": 1429137722, "creation_date": 1429137722, "answer_id": 29662206, "question_id": 29662102, "link": "https://stackoverflow.com/questions/29662102/how-is-sublime-text-implemented/29662206#29662206", "title": "How is Sublime Text implemented?", "body": "<p>It uses a custom UI toolkit.  For more information see: <a href=\"http://news.ycombinator.com/item?id=2822114\" rel=\"nofollow\">http://news.ycombinator.com/item?id=2822114</a>.</p>\n"}], "owner": {"reputation": 7137, "user_id": 1542339, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/bd8a4d4699a9ac3820a0a4641e54524b?s=128&d=identicon&r=PG", "display_name": "hugemeow", "link": "https://stackoverflow.com/users/1542339/hugemeow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1429150131, "creation_date": 1429137271, "last_edit_date": 1429150131, "question_id": 29662102, "link": "https://stackoverflow.com/questions/29662102/how-is-sublime-text-implemented", "title": "How is Sublime Text implemented?", "body": "<p>How is Sublime Text's GUI implemented, is it using <code>pygtk</code>, <code>pyqt</code>, <code>wxpython</code> or something else?</p>\n"}, {"tags": ["python", "regex", "split"], "comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1429137549, "post_id": 29662070, "comment_id": 47463850, "body": "Actually, I finally found <a href=\"http://svn.python.org/view/python/trunk/Objects/stringlib/split.h?revision=77461&amp;view=markup\" rel=\"nofollow noreferrer\">svn.python.org/view/python/trunk/Objects/stringlib/&hellip;</a>. It is a nice C function that does the split."}], "answers": [{"comments": [{"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1429167763, "post_id": 29662306, "comment_id": 47473725, "body": "This is a good introduction I would say. Splitting and joining is suboptimal to just doing inplace replacement with C, isn&#39;t it? Is there any C function we could use (and even how?)"}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1429167809, "post_id": 29662306, "comment_id": 47473748, "body": "Also without data to back it up I also suspect that split would be better than the regex."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "reply_to_user": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "edited": false, "score": 0, "creation_date": 1429221061, "post_id": 29662306, "comment_id": 47510268, "body": "@PascalvKooten: I wouldn&#39;t venture to guess how to do it with C, though I can give you algorithmic pseudocode with optimal runtime (assuming that strings are implemented as null terminated arrays). Let me know if that&#39;s what you&#39;re after, and I&#39;ll post up such a solution as well"}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 1, "last_activity_date": 1429138226, "creation_date": 1429138226, "answer_id": 29662306, "question_id": 29662070, "link": "https://stackoverflow.com/questions/29662070/how-is-str-split-implemented-for-a-case-without-arguments/29662306#29662306", "title": "How is str.split implemented for a case without arguments", "body": "<p>First of all, <code>str</code> is built into python, which means that to look at the source for <code>str.split</code>, you're going to have to delve into the <a href=\"https://www.python.org/downloads/release/python-343/\" rel=\"nofollow\">C source code</a> where it is defined.</p>\n\n<p>Now, onto your actual question. I have a feeling that <code>re.sub</code> is going to be not only overkill, but also slower than using the built-in str.split (full disclosure: I don't have timing data to back this up - it's just a feeling I have).</p>\n\n<p>Now, <code>str.split</code> splits on whitespace by default (it takes an <strong>optional</strong> argument, which can be used to specify the character on which to split). It also splits on any number of consecutive whitespace characters. Now, what this means is that if you have a string that contains whitespace characters within it, calling <code>str.split</code> on that string will return you a list of non-empty substrings, none of which contain any whitespace whatsoever. Thus, if your string has heterogeneous consecutive whitespace characters, those whitespace characters are treated no differently from each other.</p>\n\n<p>Here are a couple of examples:</p>\n\n<pre><code>In [31]: s = 'hello world'  # one space\n\nIn [32]: s.split()\nOut[32]: ['hello', 'world']\n\nIn [33]: s = 'hello \\tworld'  # multiple consecutive whitespace characters\n\nIn [34]: s.split()\nOut[34]: ['hello', 'world']\n\nIn [35]: s = 'hello\\tworld'  # a different whitespace character\n\nIn [36]: s.split()\nOut[36]: ['hello', 'world']\n\nIn [37]: s = 'hello\\t\\tworld'  # multiple consecutive tab characters\n\nIn [38]: s.split()\nOut[38]: ['hello', 'world']\n\nIn [39]: s = 'hello  world'  # multiple consecutive space characters\n\nIn [40]: s.split()\nOut[40]: ['hello', 'world']\n</code></pre>\n\n<p>As you can see, it doesn't really matter how your spaces exist - think of <code>str.split</code> splitting when \"at least one whitespace character\" presents itself.</p>\n\n<p>Now, if you want to replace all consecutive whitespace characters with a single space, you could do it with a <code>str.split</code> and a <code>str.join</code>:</p>\n\n<pre><code>In [41]: ' '.join(['hello', 'world'])  # join the strings 'hello' and 'world' with a space between them\nOut[41]: 'hello world'\n\nIn [42]: s = 'hello  world'  # notice two spaces between 'hello' and 'world'\n\nIn [43]: ' '.join(s.split())\nOut[43]: 'hello world'  # notice only one space between 'hello' and 'world'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1429138506, "creation_date": 1429138506, "answer_id": 29662367, "question_id": 29662070, "link": "https://stackoverflow.com/questions/29662070/how-is-str-split-implemented-for-a-case-without-arguments/29662367#29662367", "title": "How is str.split implemented for a case without arguments", "body": "<p>It doesn't use regex, it uses <code>&lt;wctypes.h&gt;</code>'s <code>iswspace(...)</code></p>\n\n<p>We can see here that it uses the macro STRINGLIB_ISSPACE(...)\n<a href=\"https://github.com/certik/python-3.3/blob/master/Objects/stringlib/split.h\" rel=\"nofollow\">https://github.com/certik/python-3.3/blob/master/Objects/stringlib/split.h</a></p>\n\n<p>Which is defined here as wctypes.h's iswspace : <a href=\"http://svn.python.org/projects/python/trunk/Include/unicodeobject.h\" rel=\"nofollow\">http://svn.python.org/projects/python/trunk/Include/unicodeobject.h</a></p>\n"}], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3831, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1590486243, "creation_date": 1429137102, "last_edit_date": 1590486243, "question_id": 29662070, "link": "https://stackoverflow.com/questions/29662070/how-is-str-split-implemented-for-a-case-without-arguments", "title": "How is str.split implemented for a case without arguments", "body": "<p>Does Python use regex splitting when no separator is given? </p>\n\n<p>I'm unable to look at <code>str.__file__</code>, neither do the <a href=\"https://stackoverflow.com/questions/8608587/finding-the-source-code-for-built-in-python-functions\">other solutions work</a> here since <code>split</code> is a function of the <code>str</code> type (though it is a built-in). </p>\n\n<p>E.g. <code>'a\\t\\t\\tb' --&gt; ['a', 'b']</code></p>\n\n<p><strong>Background</strong> \nI'm considering replacing all adjacent whitespace with a single space for many files where performance is critical, though I'm wondering whether regex split is going to be fast enough: perhaps the built-in shows a better way.</p>\n"}, {"tags": ["python", "windows", "import", "module", "command-prompt"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1429137594, "post_id": 29662065, "comment_id": 47463863, "body": "Can you tell/show us exactly how you&#39;ve set the environment variable[s] on the 2nd PC?"}, {"owner": {"reputation": 5873, "user_id": 1493192, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/32662661bf4aa1d1db842f95d6b84729?s=128&d=identicon&r=PG&f=1", "display_name": "Gianni Spear", "link": "https://stackoverflow.com/users/1493192/gianni-spear"}, "reply_to_user": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1429137872, "post_id": 29662065, "comment_id": 47463966, "body": "Thanks @TomDalton. My set is ...;C:\\Python27;. in the first PC i didn&#39;t set nothing and the file can import modules without problem"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1429137937, "post_id": 29662065, "comment_id": 47463983, "body": "I don&#39;t understand what you mean by &quot;My set is ...;C:\\Python27;.&quot;. The &quot;...&quot; is not a valid path as far as Windows is concerned. What have you set? How did you set it?"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1429138563, "post_id": 29662065, "comment_id": 47464185, "body": "Are the modules within a package? Could <code>ProgressBar</code> be in the sys.path? Also, could it be part of another but in package that you can&#39;t access?"}, {"owner": {"reputation": 5873, "user_id": 1493192, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/32662661bf4aa1d1db842f95d6b84729?s=128&d=identicon&r=PG&f=1", "display_name": "Gianni Spear", "link": "https://stackoverflow.com/users/1493192/gianni-spear"}, "edited": false, "score": 0, "creation_date": 1429138839, "post_id": 29662065, "comment_id": 47464291, "body": "i can run all modules with a simple IDLE but not when i run the *.py with a command prompt"}], "owner": {"reputation": 5873, "user_id": 1493192, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/32662661bf4aa1d1db842f95d6b84729?s=128&d=identicon&r=PG&f=1", "display_name": "Gianni Spear", "link": "https://stackoverflow.com/users/1493192/gianni-spear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429137817, "creation_date": 1429137084, "last_edit_date": 1429137817, "question_id": 29662065, "link": "https://stackoverflow.com/questions/29662065/run-python-py-file-in-prompt-of-windows-doesnt-import-modules", "title": "Run python *.py file in prompt of windows doesn&#39;t import modules", "body": "<p>I have a file <code>foo.py</code> where I import some modules (e.g. progressbar). I can run this file on the Windows 7 command prompt without any problems on one PC (Windows 7 OS without environment variable path setting) but run into problems on another PC (where this module is installed). When I run with the second PC I get this error message:</p>\n\n<pre><code>C:\\Users&gt;D:\\foo.py\nTraceback (most recent call last):\n  File \"D:\\foo.py\", line 3, in &lt;module&gt;\n    from progressbar import ProgressBar\nImportError: No module named progressbar\n</code></pre>\n\n<p>I tried to follow several posts on stack overflow, setting the environment variable path (e.g., ...;C:\\Python27;), etc. but without a real solution.</p>\n"}, {"tags": ["python", "abstract-syntax-tree", "intercept"], "comments": [{"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1429137240, "post_id": 29662063, "comment_id": 47463751, "body": "You could replace <code>sqrt</code> with a version which logs all values passed through it, and then returns the result of <code>sqrt</code>, then you&#39;d have a list of all arguments used in the call to sqrt."}, {"owner": {"reputation": 115, "user_id": 3004175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/19858bba570b752bdda66c797796ebae?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Norton", "link": "https://stackoverflow.com/users/3004175/ryan-norton"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1429137443, "post_id": 29662063, "comment_id": 47463816, "body": "I want to be able to do it without modifying any of the original code. In particular, I have a project that has unittest test cases. I&#39;m trying to write a script that goes through each test and intercept the results of any http requests made (which are always made by self.client.get(), self.client.post(), etc)."}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1429137446, "post_id": 29662063, "comment_id": 47463817, "body": "If you want it to be specifically inside function calls, you could use the <code>inspect</code> module to get the name of the function in the calling frame."}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1429137516, "post_id": 29662063, "comment_id": 47463842, "body": "I don&#39;t think you can do it without modifying the code, as you have to change the way the function calls work."}, {"owner": {"reputation": 115, "user_id": 3004175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/19858bba570b752bdda66c797796ebae?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Norton", "link": "https://stackoverflow.com/users/3004175/ryan-norton"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1429137677, "post_id": 29662063, "comment_id": 47463893, "body": "Could I use ast to parse the source code and find the node that is a function call to self.client.get(), then see the name of the variable that it is being assigned to, then have a decorator that runs the actual function and returns the value of the variable name I found before the function returns?"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 1, "creation_date": 1429137817, "post_id": 29662063, "comment_id": 47463941, "body": "I mean, you could sure, but parsing source code is always an ugly option. I&#39;ve done it in the past though. You probably don&#39;t need to use <code>ast</code> to achieve it though. It sounds like you know how to achieve what you want, and are just hoping there&#39;s a cleaner way - maybe put your attempt in your question?"}, {"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 1, "creation_date": 1429138570, "post_id": 29662063, "comment_id": 47464189, "body": "Instead of trying to modify the functions that call self.client.get(), etc, why not modify (i.e. decorate) those functions themselves?"}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1429151744, "post_id": 29662063, "comment_id": 47468009, "body": "i&#39;m assuming <code>test1</code> is <code>a</code> and <code>test2</code> is <code>b</code>, but can you fix that?"}], "answers": [{"tags": [], "owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "is_accepted": false, "score": 0, "last_activity_date": 1429152250, "creation_date": 1429152250, "answer_id": 29664457, "question_id": 29662063, "link": "https://stackoverflow.com/questions/29662063/how-to-intercept-a-variable-in-a-function-from-another-function/29664457#29664457", "title": "How to intercept a variable in a function from another function", "body": "<p>Here is a simple way to do what you want.  It has the downside of needing an adjustment to the source code.  Another downside is that it only works for the outputs of functions that are assigned to variables -- e.g., it wouldn't work for <code>sqrt</code> in <code>x = sum(sqrt(some_array))</code>.  </p>\n\n<p>I'm sure it's not the best answer to your question, but it's a start.  </p>\n\n<p>Source code:    </p>\n\n<pre><code>from math import sqrt\n\ndef a(intercept=None):\n    intermediate_val = sqrt(4)\n    if intercept is not None:\n        return locals()[intercept]\n    return 5\n\ndef b(intercept=None):\n    another_val = sqrt(9)\n    if intercept is not None:\n        return locals()[intercept]\n    return 8\n</code></pre>\n\n<p>Test code:</p>\n\n<pre><code>import test\n\ndef intercept_value(fnc, intercept_var):\n    return fnc(intercept=intercept_var)\n\nintercept_value(test.a, 'intermediate_val') == 2  # True\nintercept_value(test.b, 'another_val') == 3  # True\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 3004175, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/19858bba570b752bdda66c797796ebae?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Norton", "link": "https://stackoverflow.com/users/3004175/ryan-norton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429227433, "creation_date": 1429137070, "last_edit_date": 1429227433, "question_id": 29662063, "link": "https://stackoverflow.com/questions/29662063/how-to-intercept-a-variable-in-a-function-from-another-function", "title": "How to intercept a variable in a function from another function", "body": "<p>Suppose I had a function like this in test.py:</p>\n\n<pre><code>from math import sqrt\n\ndef a():\n    intermediate_val = sqrt(4)\n    return 5\n\ndef b():\n    another_val = sqrt(9)\n    return 8\n</code></pre>\n\n<p>I want to write a function that looks at both a() and b() and returns the result of any call made to sqrt() without modifying the original code (decorators would be fine). Something like this:</p>\n\n<pre><code>import test\n\ndef intercept_value(fnc, intercept_fnc):\n    # What goes here?\n\nintercept_value('a', 'sqrt') == 2  # True\nintercept_value('b', 'sqrt') == 3  # True\n</code></pre>\n"}, {"tags": ["python", "saml-2.0", "okta"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4794017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc7e25527e0fa6792d06a4eb3b8116e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Knecht", "link": "https://stackoverflow.com/users/4794017/joe-knecht"}, "edited": false, "score": 0, "creation_date": 1429142486, "post_id": 29662884, "comment_id": 47465539, "body": "Thanks, Jo&#235;l. That was it. And thanks for the great docs and the example app. I don&#39;t have reputation so can&#39;t vote up your answer or accept it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user773737"}, "reply_to_user": {"reputation": 23, "user_id": 4794017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc7e25527e0fa6792d06a4eb3b8116e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Knecht", "link": "https://stackoverflow.com/users/4794017/joe-knecht"}, "edited": false, "score": 0, "creation_date": 1429892961, "post_id": 29662884, "comment_id": 47831350, "body": "@JoeKnecht you don&#39;t need reputation to mark answers as correct."}], "tags": [], "owner": {"reputation": 1068, "user_id": 3191847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b73afa3f75c234598f5dadf53679ca?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l Franusic", "link": "https://stackoverflow.com/users/3191847/jo%c3%abl-franusic"}, "is_accepted": true, "score": 3, "last_activity_date": 1429141304, "creation_date": 1429141304, "answer_id": 29662884, "question_id": 29662052, "link": "https://stackoverflow.com/questions/29662052/okta-pysaml2-example-app-ip-initiated-works-but-sp-initiated-fails/29662884#29662884", "title": "Okta PySAML2 Example App: IP-Initiated Works but SP-Initiated Fails", "body": "<p>The application in Okta needs to be configured to accept compressed SAML AuthN requests.</p>\n\n<p>I apologize, I should have put this in the documentation. I'll do that shortly. </p>\n\n<p>In the meantime, you will want to set \"Request Compression\" to \"Compressed\" in the Okta application you set up. Here is what that will look like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/fuLMU.png\" alt=\"Image of the &quot;Edit SAML Integration&quot; page in Okta\"></p>\n"}], "owner": {"reputation": 23, "user_id": 4794017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc7e25527e0fa6792d06a4eb3b8116e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Knecht", "link": "https://stackoverflow.com/users/4794017/joe-knecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 29662884, "answer_count": 1, "score": 2, "last_activity_date": 1429141304, "creation_date": 1429137013, "last_edit_date": 1495541649, "question_id": 29662052, "link": "https://stackoverflow.com/questions/29662052/okta-pysaml2-example-app-ip-initiated-works-but-sp-initiated-fails", "title": "Okta PySAML2 Example App: IP-Initiated Works but SP-Initiated Fails", "body": "<p>I followed Okta's <a href=\"http://developer.okta.com/docs/examples/setting_up_a_saml_application_in_okta.html\" rel=\"nofollow noreferrer\">Setting up a SAML Application in Okta</a> document, including the adjustments for the FirstName and LastName attributes discussed in <a href=\"https://stackoverflow.com/questions/27932899/saml2-service-provider-in-python\">this question</a>, and followed the Okta \"PySAML2\" page (not enough reputation for a third link) to run a Flask app that authenticates using Okta. </p>\n\n<p>When running the Flask app (with the appropriate setting change for the 'example-okta-com' URL), the IdP-initiated flow works, so I can get to the example app from Okta, but if I try to click the 'example-okta-com' link within the app, which points to <a href=\"http://localhost:5000/saml/login/example-okta-com\" rel=\"nofollow noreferrer\">http://localhost:5000/saml/login/example-okta-com</a>, then I get redirected to an error page on the subdomain of oktapreview.com for my test app containing the following stack trace:</p>\n\n<pre><code>Error: user_exception\n\nError parsing XML in SAML request\n com.saasure.application.factory.AppUserException: Error parsing XML in SAML request\n    at com.saasure.application.generic.services.impl.OutboundSAMLServiceImpl.isForceAuthn(OutboundSAMLServiceImpl.java:351)\n    at com.saasure.application.generic.ui.controller.sso.SAMLForceAuthnController.requiresForceAuthn(SAMLForceAuthnController.java:137)\n    at com.saasure.application.generic.ui.controller.sso.DefaultSAMLController.handleSAML20AuthnRequestForSpecificInstance(DefaultSAMLController.java:97)\n    at com.saasure.application.generic.ui.controller.sso.DefaultSAMLController.handleSAML20AuthnRequestForSpecificInstance(DefaultSAMLController.java:91)\n    at sun.reflect.GeneratedMethodAccessor1246.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.saasure.framework.web.filter.ServletExceptionFilter.doFilterInternal(ServletExceptionFilter.java:30)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.saasure.framework.web.filter.GzipFilter.doFilterInternal(GzipFilter.java:26)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.saasure.framework.web.filter.HeadToGetFilter.doFilterInternal(HeadToGetFilter.java:31)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at nl.remcojansen.tomcatlogging.JuliAccessLogValve.invoke(JuliAccessLogValve.java:355)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n    at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:889)\n    at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:744)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2274)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.opensaml.xml.parse.XMLParserException: Invalid XML\n    at org.opensaml.xml.parse.BasicParserPool.parse(BasicParserPool.java:218)\n    at com.saasure.framework.security.saml.impl.BaseSAMLBuilder.unmarshallXml(BaseSAMLBuilder.java:269)\n    at com.saasure.framework.security.saml.impl.BaseSAMLBuilder.unmarshallXml(BaseSAMLBuilder.java:277)\n    at com.saasure.framework.security.saml.impl.SAML20IdentityProviderImpl.unmarshallRequest(SAML20IdentityProviderImpl.java:337)\n    at com.saasure.framework.security.saml.impl.SAML20IdentityProviderImpl.isForceAuthn(SAML20IdentityProviderImpl.java:320)\n    at com.saasure.application.generic.services.impl.OutboundSAMLServiceImpl.isForceAuthn(OutboundSAMLServiceImpl.java:347)\n    ... 53 more\nCaused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.\n    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n    at org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n    at org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\n    at org.opensaml.xml.parse.BasicParserPool$DocumentBuilderProxy.parse(BasicParserPool.java:671)\n    at org.opensaml.xml.parse.BasicParserPool.parse(BasicParserPool.java:215)\n    ... 58 more\n</code></pre>\n\n<p>The only change I made to the example app is to change the <code>metadata_url_for</code> dict so that it has an 'example-okta-com' key with the value being the metadata URL from step 10 of the Okta doc.</p>\n"}, {"tags": ["python", "python-2.7", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429137503, "post_id": 29662086, "comment_id": 47463838, "body": "When I add that I get the following output : &quot;(999998, &#39;\\xb9---\\x9f---\\xe6---\\xf3---\\xea\\xca&#39;, &#39;ssf&#39;)&quot;"}, {"owner": {"reputation": 1889, "user_id": 2748899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRFFQ.png?s=128&g=1", "display_name": "smheidrich", "link": "https://stackoverflow.com/users/2748899/smheidrich"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429137772, "post_id": 29662086, "comment_id": 47463926, "body": "@user3142434 That is just Python&#39;s representation of what your data looks like encoded as UTF-8. See the table at <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#string-literals\" rel=\"nofollow noreferrer\">docs.python.org/2/reference/&hellip;</a> . It&#39;s one of those weird behaviours of Python 2, caused by trying to print a tuple. If you just print <code>row[1]</code>, which is a string, it should show up as proper characters."}, {"owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429137954, "post_id": 29662086, "comment_id": 47463992, "body": "Ok. There is no error now, but the output is not what expected: \u2563---\u010d---\u0160---\u02c7---\u0155\u2569"}, {"owner": {"reputation": 1889, "user_id": 2748899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRFFQ.png?s=128&g=1", "display_name": "smheidrich", "link": "https://stackoverflow.com/users/2748899/smheidrich"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429138101, "post_id": 29662086, "comment_id": 47464038, "body": "Refer to the comments on Rob&#39;s answer. You&#39;re not saving the file you keep your code in as UTF-8."}], "tags": [], "owner": {"reputation": 1889, "user_id": 2748899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRFFQ.png?s=128&g=1", "display_name": "smheidrich", "link": "https://stackoverflow.com/users/2748899/smheidrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1429137214, "creation_date": 1429137214, "answer_id": 29662086, "question_id": 29662004, "link": "https://stackoverflow.com/questions/29662004/programming-error-you-must-not-use-8-bit-bytestrings/29662086#29662086", "title": "Programming error: You must not use 8-bit bytestrings", "body": "<p>For starters, have you tried doing what the error message suggests?</p>\n\n<p>That is, <code>db.text_factory = str</code> right after the <code>connect</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429137790, "post_id": 29662092, "comment_id": 47463933, "body": "This gives me another error: SyntaxError: (unicode error) &#39;utf8&#39; codec can&#39;t decode byte 0xb9 in position 0: invalid start byte"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 1, "creation_date": 1429138001, "post_id": 29662092, "comment_id": 47464011, "body": "B9 is not the character you&#39;ve pasted into your sample. I infer that you have the wrong encoding listed in your <code>encoding</code> &quot; statement. Or, if you prefer, your text editor saved the file with the wrong encoding. In either event, the encoding you actually have and what you claim to have don&#39;t match."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 1, "creation_date": 1429138203, "post_id": 29662092, "comment_id": 47464075, "body": "The encoding your file actually uses appears to be <a href=\"http://en.wikipedia.org/wiki/Windows-1250\" rel=\"nofollow noreferrer\">Windows-1250</a>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429138420, "post_id": 29662092, "comment_id": 47464142, "body": "Try either convincing your text editor to save the file in utf-8, or try changing the encoding line to <code># -*- encoding: windows-1250</code>."}, {"owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429138618, "post_id": 29662092, "comment_id": 47464206, "body": "When I change this line: # -<i>- encoding: Windows-1250-</i>- it gives me this: \u2563---\u010d---\u0160---\u02c7---\u0155\u2569. Btw. I thought that the # -<i>- encoding: utf-8-</i>- sets the encoding of the file to utf-8. Am I correct?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429139152, "post_id": 29662092, "comment_id": 47464396, "body": "&quot;<i>it gives me this</i>&quot; What gives you that?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 1, "creation_date": 1429139286, "post_id": 29662092, "comment_id": 47464450, "body": "The &quot;<i>encoding: utf-8</i>&quot; line doesn&#39;t so much set the encoding of the file as inform Python (and possibly other tools) what the encoding already is. Since your file wasn&#39;t utf-8-encoded, Python got confused when it said it was."}, {"owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429139604, "post_id": 29662092, "comment_id": 47464569, "body": "Ok. I think I&#39;ve changed the encoding in notepad++ to utf-8(at least in the bottom right corner it says so) and when I run the program in cmd using python test.py the output is (999987, &#39;\\xc4\\x85---\\xc5\\xba---\\xc4\\x87---\\xc3\\xb3---\\xc4\\x99\\xc4\\x9&zwnj;&#8203;8&#39;, &#39;ssf&#39;) with the # -<i>- encoding: utf-8 -</i>- at the top of the file"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "edited": false, "score": 0, "creation_date": 1429139848, "post_id": 29662092, "comment_id": 47464661, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/75336/discussion-between-rob-and-user3142434\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 6, "last_activity_date": 1429137225, "creation_date": 1429137225, "answer_id": 29662092, "question_id": 29662004, "link": "https://stackoverflow.com/questions/29662004/programming-error-you-must-not-use-8-bit-bytestrings/29662092#29662092", "title": "Programming error: You must not use 8-bit bytestrings", "body": "<p>You could follow their recommendation: \"just switch your application to Unicode strings.\"</p>\n\n<pre><code>cursor.execute(\n    'INSERT INTO X(id,a,b) VALUES(?,?,?)',\n    (999998,u\"\u0105---\u017a---\u0107---\u00f3---\u0119\u0118\",\"ssf\"))\n</code></pre>\n\n<p>Note the <code>u</code> before the string literal. This makes it a unicode literal instead.</p>\n"}], "owner": {"reputation": 305, "user_id": 3142434, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4933dfe4e50f96433e1344f9bd1cc565?s=128&d=identicon&r=PG&f=1", "display_name": "user3142434", "link": "https://stackoverflow.com/users/3142434/user3142434"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8440, "favorite_count": 1, "accepted_answer_id": 29662092, "answer_count": 2, "score": 2, "last_activity_date": 1429137225, "creation_date": 1429136708, "question_id": 29662004, "link": "https://stackoverflow.com/questions/29662004/programming-error-you-must-not-use-8-bit-bytestrings", "title": "Programming error: You must not use 8-bit bytestrings", "body": "<p>I'm trying to run the following in python 2.7(windows) and it gives me an error:</p>\n\n<blockquote>\n  <p>ProgrammingError: You must not use 8-bit bytestrings unless you use a\n  text_factory that can interpret 8-bit byte strings (like text_factory\n  = str). It is highly recommended that you instead just switch your application to Unicode strings.</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/python\n# -*- encoding: utf-8-*-\n\nimport sqlite3;\ndb = sqlite3.connect('db.sqlite3')\ncursor = db.cursor()\ncursor.execute('INSERT INTO X(id,a,b) VALUES(?,?,?)', (999998,\"\u0105---\u017a---\u0107---\u00f3---\u0119\u0118\",\"ssf\"))\ncursor.execute('SELECT * FROM X where id = 999998')\nfor row in cursor:\n    print row\n\ndb.commit()\ndb.close()\n</code></pre>\n\n<p>How can I insert those kind of strings(\"\u0105\u017a\u0107\" = polish signs) into my sqlite database?</p>\n"}, {"tags": ["python", "csv", "scripting", "text-parsing"], "answers": [{"tags": [], "owner": {"reputation": 628, "user_id": 3088631, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1e9b1e0cb63b08e7e3201662663e26fd?s=128&d=identicon&r=PG&f=1", "display_name": "jpavs", "link": "https://stackoverflow.com/users/3088631/jpavs"}, "is_accepted": false, "score": 0, "last_activity_date": 1429137206, "creation_date": 1429137206, "answer_id": 29662084, "question_id": 29661978, "link": "https://stackoverflow.com/questions/29661978/how-can-i-edit-a-block-of-text-in-memory-using-python-before-writing-the-text-to/29662084#29662084", "title": "How can I edit a block of text in memory using python before writing the text to a file?", "body": "<p>I'm not sure what you've already attempted, but if you download the doc and assign it to a variable, you can then do string operations to that doc. For instance (in pseduo-python):</p>\n\n<pre><code>doc = downloaded_xbrl\nedited_doc = doc.replace('\\x20','') --removes x20, replaces with nothing\ncsv.write(edited_doc)\n</code></pre>\n\n<p>A link to the python docs: <a href=\"https://docs.python.org/2/library/string.html#string-formatting\" rel=\"nofollow\">https://docs.python.org/2/library/string.html#string-formatting</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4793968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0OINhAT3IOY/AAAAAAAAAAI/AAAAAAAAAB0/QV9rCBWVt1s/photo.jpg?sz=128", "display_name": "Richard Green", "link": "https://stackoverflow.com/users/4793968/richard-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429137206, "creation_date": 1429136610, "last_edit_date": 1429137190, "question_id": 29661978, "link": "https://stackoverflow.com/questions/29661978/how-can-i-edit-a-block-of-text-in-memory-using-python-before-writing-the-text-to", "title": "How can I edit a block of text in memory using python before writing the text to a file?", "body": "<p>I have a script to download text Block data from the SEC's EDGAR database.  The data is extracted accurately.  However, the text contains multiple sequential spaces (x20) and CRLF's (x0A xOD).</p>\n\n<p>I need to be able to remove the commas and superfluous CRLF's and spaces, then write the entire text contents into a CSV file for later analysis.</p>\n\n<p>I am not a python programmer, but I am using python for this task because the XBRL parsing program has a python interface.  </p>\n\n<p>I need to do this task for about 6,000 individual observations, so it is not something I want to attempt manually.</p>\n\n<p>I have searched extensively, including buying and perusing two python textbooks, but I cannot determine how to edit the text before attempting to write it to the CSV file.</p>\n\n<p>Here is a representative print-out of the raw data prior to writing to file.  Note that there should be 5 comma delimited fields, with everything after the date written to a single cell.</p>\n\n<p>DocumentType    EntityName  CIK PeriodEndDate   PPE_Policy\n10-K    CONOLOG CORP    23503   7/31/2012   <p><b>Property and Equipment</b>\n                </p><br/>\n                Property and equipment are carried at cost</p>\n\n<pre><code>                  less allowances for depreciation. Depreciation is computed by\n\n                  the straight-line method over the estimated useful lives of\n\n                  the assets which range between three (3) and thirty-nine(39)\n\n                  years. Depreciation was $16,560 and $14,598 for the fiscal \n\n                  years ended July 31 2012 and 2011 respectively. Repairs and\n\n                  maintenance expenditures which do not extend the useful lives\n\n                  of the related assets are expensed as incurred. Gains and\n\n                  losses on depreciable assets retired or sold are recognized\n\n                  in the consolidated statement of operations in the year of\n\n                  disposal&lt;/font&gt;&lt;/p&gt;\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1429136669, "post_id": 29661974, "comment_id": 47463532, "body": "A good <a href=\"http://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules\">explanation of Python&#39;s scoping rules</a> may be useful."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1429136711, "post_id": 29661974, "comment_id": 47463546, "body": "Avoid using globals if possible. So passing as paramter is probably better. But we dont know for sure because we dont know what youre trying to do"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1429136967, "post_id": 29661974, "comment_id": 47463652, "body": "<i>since passing 10 counts into the function is a bit annoying,</i> how does this work exactly? can we see some code?"}, {"owner": {"reputation": 5731, "user_id": 3155933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ik7je.jpg?s=128&g=1", "display_name": "pzp", "link": "https://stackoverflow.com/users/3155933/pzp"}, "edited": false, "score": 0, "creation_date": 1429138886, "post_id": 29661974, "comment_id": 47464306, "body": "This is what a class is for."}], "answers": [{"tags": [], "owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "is_accepted": true, "score": 1, "last_activity_date": 1429138275, "creation_date": 1429138275, "answer_id": 29662319, "question_id": 29661974, "link": "https://stackoverflow.com/questions/29661974/best-practice-for-incrementing-a-number-from-within-a-function-in-python/29662319#29662319", "title": "Best practice for incrementing a number from within a function in Python", "body": "<p>Clearly, if you have ten counters, it is better to put them in a dictionary (or a list, but dictionaries have meaningful keys).</p>\n\n<p>To use the dictionary in your function, the three usual solutions are global variable, argument or class variable. Argument is probably the clearer way.</p>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 29662319, "answer_count": 1, "score": 0, "last_activity_date": 1429138275, "creation_date": 1429136587, "last_edit_date": 1429137173, "question_id": 29661974, "link": "https://stackoverflow.com/questions/29661974/best-practice-for-incrementing-a-number-from-within-a-function-in-python", "title": "Best practice for incrementing a number from within a function in Python", "body": "<p>Within my function I want to increment various counts which are established outside of the function. These are count for different scenarios (e.g. count of successful completions, and various forms of errors). In total I have about 10 different counts i use.</p>\n\n<p>While Python allows e.g. appending values to lists which were established outside of the function (e.g. <code>list.append(new_running_count)</code>, trying to increment a number with the following code <code>running_count = running_count + 1</code> throws up the error \"local variable running_count referenced before assignment\".</p>\n\n<p>What is the most python way of dealing with this? Are global variables / passing the integers into the function the only way of doing it? (i am reluctant to do either, since passing and then returning 10 counts into the function would be clumberson, and also want to avoid global variables)</p>\n"}, {"tags": ["python", "python-2.7", "maya", "import-from-excel", "pymel"], "comments": [{"owner": {"reputation": 1248, "user_id": 4295391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycoyT.jpg?s=128&g=1", "display_name": "DrHaze", "link": "https://stackoverflow.com/users/4295391/drhaze"}, "edited": false, "score": 0, "creation_date": 1429174594, "post_id": 29661968, "comment_id": 47477783, "body": "Could you provide a sceenshot of the excel doc? Just to see how data is formatted, in which cells etc... Then I&#39;ll give you an answer. I worked some times with Excel&amp;Python and never found a way to natively read an Excel file without importing any package. If I had to recommend between some packages (xlwings, openpyxl and win32api), I would go with <a href=\"https://openpyxl.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">openpyxl</a>"}, {"owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "reply_to_user": {"reputation": 1248, "user_id": 4295391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycoyT.jpg?s=128&g=1", "display_name": "DrHaze", "link": "https://stackoverflow.com/users/4295391/drhaze"}, "edited": false, "score": 0, "creation_date": 1429216484, "post_id": 29661968, "comment_id": 47507796, "body": "That&#39;s the deal, I cannot use other packages. A screen shot of the excel will not work, but I can make up a mock version so you understand what I&#39;m going for - I&#39;ll have it posted later tonight."}, {"owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "reply_to_user": {"reputation": 1248, "user_id": 4295391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycoyT.jpg?s=128&g=1", "display_name": "DrHaze", "link": "https://stackoverflow.com/users/4295391/drhaze"}, "edited": false, "score": 0, "creation_date": 1429317377, "post_id": 29661968, "comment_id": 47558628, "body": "I&#39;ve posted an excel doc for your viewing here below, under the csv module answer."}], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 3998520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d77a6e0a246452554f23ba41d0245bf?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/3998520/matthew"}, "is_accepted": false, "score": 1, "last_activity_date": 1429137747, "creation_date": 1429137747, "answer_id": 29662212, "question_id": 29661968, "link": "https://stackoverflow.com/questions/29661968/extract-information-from-excel-with-python-2-7-pymel/29662212#29662212", "title": "Extract information from Excel with python 2.7/ pyMel?", "body": "<p>I save my excel files as a <code>.csv</code> file, and import the data with <code>numpy.genfromtxt</code> and use the <code>delimiter=','</code> argument to parse the test file.</p>\n\n<p>For example:</p>\n\n<pre><code>import numpy\ndata = numpy.genfromtxt(\"my_file.csv\", delimiter=\",\")\n# do stuff with data\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2402, "user_id": 2502262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NvS8O.jpg?s=128&g=1", "display_name": "kartikg3", "link": "https://stackoverflow.com/users/2502262/kartikg3"}, "edited": false, "score": 0, "creation_date": 1429265738, "post_id": 29676682, "comment_id": 47528810, "body": "Xlrd isn&#39;t part of the Python std library."}, {"owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "reply_to_user": {"reputation": 2402, "user_id": 2502262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NvS8O.jpg?s=128&g=1", "display_name": "kartikg3", "link": "https://stackoverflow.com/users/2502262/kartikg3"}, "edited": false, "score": 0, "creation_date": 1429311965, "post_id": 29676682, "comment_id": 47557233, "body": "Indeed, I tried the code on a computer which had strangely the module."}], "tags": [], "owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "is_accepted": false, "score": 0, "last_activity_date": 1429191952, "creation_date": 1429191952, "answer_id": 29676682, "question_id": 29661968, "link": "https://stackoverflow.com/questions/29661968/extract-information-from-excel-with-python-2-7-pymel/29676682#29676682", "title": "Extract information from Excel with python 2.7/ pyMel?", "body": "<p>the module xlrd is already in the python package and really easy to use :</p>\n\n<pre><code>import xlrd\nxlsFile = xlrd.open_workbook(path)\nsheetName = xlsFile.sheets()[0].name\n\nfor s in xlsFile.sheets():\n    for row in range(s.nrows):\n        print s.cell(row, 1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "edited": false, "score": 0, "creation_date": 1429230220, "post_id": 29683537, "comment_id": 47513392, "body": "Yeah, I was checking that out a while back. It works really well, except that I need to cross check a few variables or get a specific set of information that varies between a few cells."}, {"owner": {"reputation": 2402, "user_id": 2502262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NvS8O.jpg?s=128&g=1", "display_name": "kartikg3", "link": "https://stackoverflow.com/users/2502262/kartikg3"}, "edited": false, "score": 0, "creation_date": 1429265844, "post_id": 29683537, "comment_id": 47528873, "body": "So what&#39;s stopping you from achieving that using CSV module. Can you give a specific use case and an example data and what you are trying to achieve."}, {"owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "edited": false, "score": 0, "creation_date": 1429316928, "post_id": 29683537, "comment_id": 47558529, "body": "<a href=\"http://i.imgur.com/jAynP3A.png\" rel=\"nofollow noreferrer\">i.imgur.com/jAynP3A.png</a>  Sorry for the lame format, but excel is excel... And this is the best I could do... quickly.  M1-M5 (standing for materials) need to be cross checked with that of serial or code numbers. Since CSV module only reads rows, I have no way of being able to cross check the actual material against the &quot;M-#&#39;s&quot;.  The idea is that I can utilize a cross checking system within Maya to pull the correct material names. I hope that this makes a little more sense... Please ask away if need-be."}, {"owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "edited": false, "score": 0, "creation_date": 1429317493, "post_id": 29683537, "comment_id": 47558663, "body": "Let me reiterate, M1-M5 might not always be listed under cells H through L. Thus doing what is stated above would be a difficult task to do."}, {"owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "edited": false, "score": 0, "creation_date": 1429383291, "post_id": 29683537, "comment_id": 47577410, "body": "Seems like what you&#39;d have to do is create a file-specific lookup table.  First collect all the data, then get the one that looks like the actual header row, then make a table with has header row contents as keys and their physical location as values.  Then just use that lookup table to search in future rows.  Or, just find that row and re-export it and subesequent to a second CSV so the real header is the first line"}], "tags": [], "owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "is_accepted": true, "score": 3, "last_activity_date": 1429252455, "last_edit_date": 1429252455, "creation_date": 1429210288, "answer_id": 29683537, "question_id": 29661968, "link": "https://stackoverflow.com/questions/29661968/extract-information-from-excel-with-python-2-7-pymel/29683537#29683537", "title": "Extract information from Excel with python 2.7/ pyMel?", "body": "<p>You can also read CSV documents using the built-in <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">csv module</a> to read CSV files, so don't need to install any external modules.</p>\n\n<pre><code>import csv\nwith open('names.csv') as csvfile:\n     reader = csv.DictReader(csvfile)\n     for row in reader:\n         print(row['first_name'], row['last_name'])\n</code></pre>\n\n<p>If you just grab the whole contents of the reader and stuff them into a list, the lists will contain all the rows and each row will be a dictionary using the headers in the first row.  Getting to a particular cell would be something like:</p>\n\n<pre><code>records = []\nwith open('names.csv') as csvfile:\n     reader = csv.reader(csvfile)\n     for row in reader:\n         records.append(row)\n\n# cel \"A4\" would be\nrecords[0][3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10562015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a1KzXFLPnaU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbC3F9yVgQ3BkJomRLD90VlFtmwPAA/mo/photo.jpg?sz=128", "display_name": "jiayi fang", "link": "https://stackoverflow.com/users/10562015/jiayi-fang"}, "is_accepted": false, "score": -1, "last_activity_date": 1567418912, "last_edit_date": 1567418912, "creation_date": 1567415114, "answer_id": 57754179, "question_id": 29661968, "link": "https://stackoverflow.com/questions/29661968/extract-information-from-excel-with-python-2-7-pymel/57754179#57754179", "title": "Extract information from Excel with python 2.7/ pyMel?", "body": "<h2>1. Installation</h2>\n\n<p>Maya uses Python version 2.7.11 on all supported platforms.\nThe standalone Python shell for Maya is named\u00a0<code>mayapy.exe</code>\u00a0on Windows and is located at <code>D:\\Program Files\\Autodesk\\Maya2017\\bin\\mayapy.exe</code>.\nPut it to the system environment path.</p>\n\n<p>If <code>pip.exe</code> is not found, go to <a href=\"https://pip.pypa.io/en/stable/installing/\" rel=\"nofollow noreferrer\">https://pip.pypa.io/en/stable/installing/</a> and download <code>get-pip.py</code>.</p>\n\n<p>From a console:</p>\n\n<pre><code>C:\\Users\\JM-FF&gt;python get-pip.py\n</code></pre>\n\n<p>After success installed pip, the <code>pip.exe</code> is at <code>D:\\Program Files\\Autodesk\\Maya2017\\Python\\Scripts</code>. Put this to the system environment path.</p>\n\n<p>Install XlsxWriter:</p>\n\n<pre><code>C:\\Users\\JM-FF&gt;pip install XlsxWriter\n</code></pre>\n\n<h2>2. step</h2>\n\n<p>Now open your Maya in ScriptEditor, write that:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nimport xlsxwriter\n\nworkbook = xlsxwriter.Workbook('hello.xlsx')\nworksheet = workbook.add_worksheet()\nworksheet.write(11,3,\"hello\")\nworkbook.close()\n</code></pre>\n\n<p>Now you can read and write data to Excel from Maya using Python.</p>\n\n<p>And the <code>hello.xlsx</code> is at <code>D:\\Program Files\\Autodesk\\Maya2017\\bin</code>.</p>\n"}], "owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 29683537, "answer_count": 4, "score": 2, "last_activity_date": 1567418912, "creation_date": 1429136553, "last_edit_date": 1429719398, "question_id": 29661968, "link": "https://stackoverflow.com/questions/29661968/extract-information-from-excel-with-python-2-7-pymel", "title": "Extract information from Excel with python 2.7/ pyMel?", "body": "<p>I know this is asking a lot, but I have researched quite a few ways on looking up a column or looking up a row using python within an excel document.</p>\n\n<p>However, these solutions require you to import different packages, when I do not have access to them. My primary motive for this is to utilize a pre-made excel doc with shaders listed within the document and extract them based upon a brief search.</p>\n\n<p>So, has anyone successfully used python to read an excel doc and, if so, have you been able to match named rows with named columns?</p>\n\n<hr>\n\n<p>EDIT:\nAnswer picked because it's the closest solution, though it doesn't necessarily  answer my question. It's will, however, still provide a very reasonable solution  given the context that the user, and his/her excel document, will utilize the same columns and rows to get a usable database.</p>\n\n<p>TL;DR:</p>\n\n<p>No easy way to compare columns to rows to get a data set without using an external package. It's easier to just extract data as an array and specify which \"column\" is which.</p>\n"}, {"tags": ["python", "svm", "libsvm"], "comments": [{"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1429137215, "post_id": 29661963, "comment_id": 47463743, "body": "My understanding is that scikit learn links with the libsvm binaries (compiled from c++) to do it&#39;s calculation, not that libsvm is installed as python library itself."}, {"owner": {"reputation": 371, "user_id": 4697173, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/83212362872c168c26667b53518a1ae2?s=128&d=identicon&r=PG&f=1", "display_name": "rado", "link": "https://stackoverflow.com/users/4697173/rado"}, "edited": false, "score": 0, "creation_date": 1429137962, "post_id": 29661963, "comment_id": 47463995, "body": "I did already install the binaries.."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4804749, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c915e0cf2fc89db418e5a55dd8b1f65e?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/4804749/michael"}, "is_accepted": false, "score": 3, "last_activity_date": 1429367852, "creation_date": 1429367852, "answer_id": 29718710, "question_id": 29661963, "link": "https://stackoverflow.com/questions/29661963/python-cannot-import-libsvm/29718710#29718710", "title": "Python cannot import libsvm", "body": "<p>This must be a link problem.</p>\n\n<p>Close spyder and every python consol\nThen open a terminal and write \"conda install -f scikit-learn\"\nThis should work afterwards\nIf you still have linking problems force reinstalling the same way the packages which output import errors</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 371, "user_id": 4697173, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/83212362872c168c26667b53518a1ae2?s=128&d=identicon&r=PG&f=1", "display_name": "rado", "link": "https://stackoverflow.com/users/4697173/rado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2993, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496047914, "creation_date": 1429136544, "last_edit_date": 1429137617, "question_id": 29661963, "link": "https://stackoverflow.com/questions/29661963/python-cannot-import-libsvm", "title": "Python cannot import libsvm", "body": "<p>I know the question was asked many many times but none of the solutions really helped me.</p>\n\n<p>I use spyder, python 3.4 under windows 7/64bit. I managed to install scikit-learn package 0.16.1 with anaconda and after I run <code>from sklearn import svm</code> I get the message :</p>\n\n<pre><code>\"File \"MyPC...\\Anaconda3\\lib\\site-packages\\sklearn\\svm\\base.py\", line 8, in &lt;module&gt; from . import libsvm, liblinear\nImportError: cannot import name 'libsvm' \"`\n</code></pre>\n\n<p>However, libsvm is supposed to be installed in the sklearn package..?</p>\n\n<p>Can someone please give me an advice? Thanks in advance.</p>\n"}, {"tags": ["python", "matplotlib", "matplotlib-basemap"], "answers": [{"comments": [{"owner": {"reputation": 1398, "user_id": 1253677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f9b0a6f7f8c0d54e2b154d35ef4f71?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/1253677/ken"}, "edited": false, "score": 0, "creation_date": 1429137658, "post_id": 29662130, "comment_id": 47463882, "body": "To make the equation display as requested, make it raw text by adding a &#39;r&#39; before it so that you have <code>r&#39;f(x) = x^3 + 3x^2 + 4x&#39;</code>."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 1398, "user_id": 1253677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72f9b0a6f7f8c0d54e2b154d35ef4f71?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/1253677/ken"}, "edited": false, "score": 0, "creation_date": 1429137829, "post_id": 29662130, "comment_id": 47463945, "body": "Cheers I added that part with your name on it"}], "tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1429137786, "last_edit_date": 1429137786, "creation_date": 1429137420, "answer_id": 29662130, "question_id": 29661936, "link": "https://stackoverflow.com/questions/29661936/how-to-change-the-font-type-on-a-python-graph-text/29662130#29662130", "title": "How to change the font type on a python graph text", "body": "<p>To change the font family, pass the <code>family</code> keyword:</p>\n\n<pre><code>plt.text(-5,250,'f(x) = x^3 + 3x^2 + 4x',fontsize=16,fontstyle='italic', family='serif')\n</code></pre>\n\n<p>You can choose from <code>['serif' | 'sans-serif' | 'cursive' | 'fantasy' | 'monospace']</code></p>\n\n<p>See <a href=\"http://matplotlib.org/users/text_props.html\" rel=\"nofollow\">http://matplotlib.org/users/text_props.html</a> for more info</p>\n\n<hr>\n\n<blockquote>\n  <p>I also need the x^3 + 3x^2 + 4x to be displayed in the correct format as if it were to be written without the ^ .</p>\n</blockquote>\n\n<p>To do this do as @Ken suggested and use a raw string: <code>r'f(x) = x^3 + 3x^2 + 4x'</code></p>\n"}], "owner": {"reputation": 21, "user_id": 2890869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336e2060d0840d51d130019d7265df00?s=128&d=identicon&r=PG&f=1", "display_name": "Nic Popich", "link": "https://stackoverflow.com/users/2890869/nic-popich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429137786, "creation_date": 1429136411, "question_id": 29661936, "link": "https://stackoverflow.com/questions/29661936/how-to-change-the-font-type-on-a-python-graph-text", "title": "How to change the font type on a python graph text", "body": "<p>I am displaying this text on a graph but I need it to be displayed in a different type of font. How do I do this? I also need the x^3 + 3x^2 + 4x to be displayed in the correct format as if it were to be written without the ^ .</p>\n\n<pre><code>plt.text(-5,250,'f(x) = x^3 + 3x^2 + 4x',fontsize=16,fontstyle='italic')\nplt.text(3,150,'f(x)',fontsize=16,fontstyle='italic')\nplt.text(3,-180,'-f(x)',fontsize=16,fontstyle='italic')\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 4794032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WyetT.jpg?s=128&g=1", "display_name": "Yode Zage", "link": "https://stackoverflow.com/users/4794032/yode-zage"}, "edited": false, "score": 0, "creation_date": 1429301954, "post_id": 29662097, "comment_id": 47552909, "body": "I know how to change the button&#39;s background color, I just need to change the color of text in the button. And your answer is helpful, thank you very much"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 139, "user_id": 4794032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WyetT.jpg?s=128&g=1", "display_name": "Yode Zage", "link": "https://stackoverflow.com/users/4794032/yode-zage"}, "edited": false, "score": 0, "creation_date": 1429302643, "post_id": 29662097, "comment_id": 47553216, "body": "Yes, the <code>foreground</code> option changes the text color. I only mentioned the background to explain what part of a <code>Button</code> it refers to."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1429137245, "creation_date": 1429137245, "answer_id": 29662097, "question_id": 29661889, "link": "https://stackoverflow.com/questions/29661889/how-can-i-set-the-font-and-the-colour-for-a-buttons-text-in-tkinter/29662097#29662097", "title": "How can I set the font and the colour for a Button&#39;s text in Tkinter?", "body": "<p>A <code>Button</code>'s background is the button itself, and its foreground is the text or bitmap on top of it. Use the <code>foreground</code> option as described on <a href=\"http://effbot.org/tkinterbook/button.htm\" rel=\"nofollow\">Effbot</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 4794032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WyetT.jpg?s=128&g=1", "display_name": "Yode Zage", "link": "https://stackoverflow.com/users/4794032/yode-zage"}, "edited": false, "score": 1, "creation_date": 1429301747, "post_id": 29663237, "comment_id": 47552798, "body": "the &#39;fg&#39; function is what I want, thank you very much"}], "tags": [], "owner": {"reputation": 214, "user_id": 2934297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/632861272/picture?type=large", "display_name": "Rob EatsEverything Delaney", "link": "https://stackoverflow.com/users/2934297/rob-eatseverything-delaney"}, "is_accepted": true, "score": 0, "last_activity_date": 1429143612, "creation_date": 1429143612, "answer_id": 29663237, "question_id": 29661889, "link": "https://stackoverflow.com/questions/29661889/how-can-i-set-the-font-and-the-colour-for-a-buttons-text-in-tkinter/29663237#29663237", "title": "How can I set the font and the colour for a Button&#39;s text in Tkinter?", "body": "<p>This is an extract of code that I used for creating buttons and labels in tkinter. I create three font variables detailing small, normal and large font, then call these variables as needed. For the button and lable colours you can use bg for the background colour and fg for the foreground (text) colour.</p>\n\n<pre><code>LARGE_FONT = (\"Verdana\", 12)\nNORM_FONT = (\"Verdana\", 10)\nSMALL_FONT = (\"Verdana\", 8)\n\nlabel = tk.Label(popup, text=msg, font=NORM_FONT, bg='white', justify='left')\nB1 = tk.Button(popup, text=\"Okay\", command=popup.destroy, bg='#000000', fg='#ffffff')\n</code></pre>\n\n<p><a href=\"http://effbot.org/tkinterbook/button.htm\" rel=\"nofollow\">This page</a> will give you more options for button configuration.</p>\n"}], "owner": {"reputation": 139, "user_id": 4794032, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/WyetT.jpg?s=128&g=1", "display_name": "Yode Zage", "link": "https://stackoverflow.com/users/4794032/yode-zage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1564, "favorite_count": 0, "accepted_answer_id": 29663237, "answer_count": 2, "score": -1, "last_activity_date": 1429143612, "creation_date": 1429136160, "last_edit_date": 1429140152, "question_id": 29661889, "link": "https://stackoverflow.com/questions/29661889/how-can-i-set-the-font-and-the-colour-for-a-buttons-text-in-tkinter", "title": "How can I set the font and the colour for a Button&#39;s text in Tkinter?", "body": "<p>This is my code below, The button's background is green, but I want to set the button text (\"Done\") to be white and 12 font. </p>\n\n<pre><code>from tkinter import *\n\ndef done(root):\n  root.destroy()\n\ndef panel():\n  root = Tk()\n  root.title(\"PCS Employee Login\")\n  root.geometry('240x320+0+0')\n  root.configure(bg='white')\n\n  buttonDone = Button(root, text=\"Done\", command=lambda: done(root))\n  buttonDone.configure(bg='green', borderwidth=0)\n  buttonDone.pack()\n\n  root.mainloop()  \n\nif __name__ == '__main__':  \n  panel()  \n</code></pre>\n"}, {"tags": ["python", "windows", "ctype"], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 693529, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/aac133bd7832f8d7d9c35c304e7527d0?s=128&d=identicon&r=PG", "display_name": "usustarr", "link": "https://stackoverflow.com/users/693529/usustarr"}, "edited": false, "score": 0, "creation_date": 1429192700, "post_id": 29661911, "comment_id": 47491494, "body": "It fixed the crash, thank you. However, print(buf.raw) prints garbage. By looking at logs from my C code, I know I should be seeing few lines that looks like &quot;0000  18 4A 20 02 3C 00 01 81 00 00 11 00 01 01 00 00 00 01 01 00 01 01 00 00 32 32 00 D0 00 E0 00 F0&quot;. Is this something to do with Unicode? If so, how do I fix this?"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 379, "user_id": 693529, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/aac133bd7832f8d7d9c35c304e7527d0?s=128&d=identicon&r=PG", "display_name": "usustarr", "link": "https://stackoverflow.com/users/693529/usustarr"}, "edited": false, "score": 0, "creation_date": 1429196910, "post_id": 29661911, "comment_id": 47494928, "body": "@usustarr Python prints strings differently than C does. To see it like you want, use <code>for c in buf.raw: print hex(ord(c))[2:].zfill(2),</code>."}], "tags": [], "owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "is_accepted": true, "score": 1, "last_activity_date": 1429136242, "creation_date": 1429136242, "answer_id": 29661911, "question_id": 29661808, "link": "https://stackoverflow.com/questions/29661808/c-char-array-to-python-list/29661911#29661911", "title": "C char array to Python List", "body": "<p>Use <a href=\"https://docs.python.org/2/library/ctypes.html#ctypes.create_string_buffer\" rel=\"nofollow\">create_string_buffer</a>:</p>\n\n<pre><code>buf = create_string_buffer(\"\\x22\\x0F\\x61\", 64)\nldv_read = windll.wldv32.ldv_read\nldv_read.restype = c_int\nldv_read.argtypes = [c_int,c_void_p,c_uint]\nres = ldv_read( handle, buf, len(buf) )\nprint(buf.raw)\n</code></pre>\n\n<p>The reason it's crashing is that <code>id</code> returns the memory address <em>of the internal PyObject that holds the string</em>.</p>\n"}], "owner": {"reputation": 379, "user_id": 693529, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/aac133bd7832f8d7d9c35c304e7527d0?s=128&d=identicon&r=PG", "display_name": "usustarr", "link": "https://stackoverflow.com/users/693529/usustarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1165, "favorite_count": 0, "accepted_answer_id": 29661911, "answer_count": 1, "score": 0, "last_activity_date": 1429136242, "creation_date": 1429135778, "question_id": 29661808, "link": "https://stackoverflow.com/questions/29661808/c-char-array-to-python-list", "title": "C char array to Python List", "body": "<p>I have a C function as follows,</p>\n\n<pre><code>int ldv_read( int handle, void* msg_p, unsigned length )\n</code></pre>\n\n<p>I need to pass a pointer as msg_p into C code and be able to print the data in Python. If I was doing this in C/C++, I would do this as follows,</p>\n\n<pre><code>char buf[ 64 ];\nbuf[0] = 0x22;//This is needed to prepare for something else.\nbuf[1] = 0x0f;\nbuf[2] = 0x61;\npldv_read( handle, buf, sizeof( buf ) );\n//iterate buf and print the data\n</code></pre>\n\n<p>How do I do this in Python? This is what I have so far in Python, but this seems to be crashing if my C code try to write into the buf. I am working on Win7.</p>\n\n<pre><code>from ctypes import*\nldv_open = windll.wldv32.ldv_open\nldv_open.restype = c_int\nldv_open.argtypes = [c_char_p]\ndeviceName = ('LDV/\\\\\\\\.\\Lonusb8-4')\nhandle = ldv_open(deviceName)\n\nbuf = c_char * 1024 #  &lt;----clearly, this isn't a list, don't know how to create a char list in Python.\nldv_read = windll.wldv32.ldv_read\nldv_read.restype = c_int\nldv_read.argtypes = [c_int,c_void_p,c_uint]\nres = ldv_read( handle, id(buf), len(buf) )\n#how do I print my buf here?\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "openerp", "pycharm", "openerp-7"], "comments": [{"owner": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 1, "creation_date": 1429871286, "post_id": 29661764, "comment_id": 47815915, "body": "I think it would be helpful if you add exactly what error messages you got, also good to specify which version of PyCharm you are using. For example documentation for configuring PyCharm 4.0.4 is here <a href=\"https://www.jetbrains.com/pycharm/help/run-debug-configuration-python-unit-test.html#d388270e118\" rel=\"nofollow noreferrer\">jetbrains.com/pycharm/help/&hellip;</a> As a quick thought, I don&#39;t think database connection is something you have to configure inside PyCharm, and what do you mean by &quot;other parameters&quot; is not clear either. You may start getting down votes if you don&#39;t clarify these."}, {"owner": {"reputation": 5111, "user_id": 2343488, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5eyyj.gif?s=128&g=1", "display_name": "juliocesar", "link": "https://stackoverflow.com/users/2343488/juliocesar"}, "reply_to_user": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 0, "creation_date": 1429887195, "post_id": 29661764, "comment_id": 47827364, "body": "Thanks, I added relevant info to clarify it"}, {"owner": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 0, "creation_date": 1430718533, "post_id": 29661764, "comment_id": 48163906, "body": "Have you been able to solve this yourself?"}, {"owner": {"reputation": 5111, "user_id": 2343488, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5eyyj.gif?s=128&g=1", "display_name": "juliocesar", "link": "https://stackoverflow.com/users/2343488/juliocesar"}, "reply_to_user": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 0, "creation_date": 1430718690, "post_id": 29661764, "comment_id": 48163955, "body": "No. No solutions yet"}, {"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1451464438, "post_id": 29661764, "comment_id": 56792814, "body": "&quot;from openerp.tests.common import TransactionCase&quot; so need a db parameter for working with module. Open connection with &quot;None&quot; ofcourse returned a &quot;False&quot; dbname."}], "answers": [{"comments": [{"owner": {"reputation": 5111, "user_id": 2343488, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5eyyj.gif?s=128&g=1", "display_name": "juliocesar", "link": "https://stackoverflow.com/users/2343488/juliocesar"}, "edited": false, "score": 0, "creation_date": 1434580187, "post_id": 30873787, "comment_id": 49845862, "body": "I set this path, but I think the problem is not about paths (it finds modules and functions), the problem is to specify to run <code>openerp-server</code> script and specify its parameters like <code>database</code>, <code>db_user</code>, etc"}], "tags": [], "owner": {"reputation": 1728, "user_id": 2772269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e594e5e8ae614f1de1eaca7f453dbfbf?s=128&d=identicon&r=PG&f=1", "display_name": "Sanju", "link": "https://stackoverflow.com/users/2772269/sanju"}, "is_accepted": false, "score": 1, "last_activity_date": 1437982346, "last_edit_date": 1437982346, "creation_date": 1434474029, "answer_id": 30873787, "question_id": 29661764, "link": "https://stackoverflow.com/questions/29661764/run-openerp-7-unittests-in-pycharm/30873787#30873787", "title": "Run OpenERP 7 unittests in PyCharm", "body": "<p>In the run/debug window did you set the value of the current working directory field to <code>/home/juliocesar/work/projects/my_project</code>? This would help PyCharm to look for the relative paths as well as the imports.</p>\n\n<p>You can also try giving full path to your addons in the argument list.</p>\n"}, {"tags": [], "owner": {"reputation": 152, "user_id": 5151725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-b3dwKT7_99w/AAAAAAAAAAI/AAAAAAAAAvs/F--6muEis6k/photo.jpg?sz=128", "display_name": "Yacine Bs", "link": "https://stackoverflow.com/users/5151725/yacine-bs"}, "is_accepted": false, "score": 3, "last_activity_date": 1562165269, "last_edit_date": 1562165269, "creation_date": 1442217248, "answer_id": 32559748, "question_id": 29661764, "link": "https://stackoverflow.com/questions/29661764/run-openerp-7-unittests-in-pycharm/32559748#32559748", "title": "Run OpenERP 7 unittests in PyCharm", "body": "<p>You can debug using <code>cmd</code> in windows enter with cmd into odoo.exe folder <code>C:\\Program Files (x86)\\Odoo 8.0-20150719\\server</code> and execute this command </p>\n\n<pre><code>odoo --log-level=debug\n</code></pre>\n\n<p>or terminal in Linux enter with terminal into odoo.py file  (/usr/bin/) and execute this command </p>\n\n<pre><code>python odoo.py --log-level=debug\n</code></pre>\n\n<p>tape ctrl+z or ctrl+c to desactivate a log .</p>\n\n<p>You will find a file (openerp-server.log) in /var/log/odoo/</p>\n"}], "owner": {"reputation": 5111, "user_id": 2343488, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5eyyj.gif?s=128&g=1", "display_name": "juliocesar", "link": "https://stackoverflow.com/users/2343488/juliocesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3858, "favorite_count": 8, "answer_count": 2, "score": 44, "last_activity_date": 1562165269, "creation_date": 1429135578, "last_edit_date": 1458131749, "question_id": 29661764, "link": "https://stackoverflow.com/questions/29661764/run-openerp-7-unittests-in-pycharm", "title": "Run OpenERP 7 unittests in PyCharm", "body": "<p>I can run unit tests of my OpenERP v7 add-on as described <a href=\"https://www.odoo.com/forum/how-to/developers-13/how-to-run-tests-526\" rel=\"noreferrer\">here</a>.</p>\n\n<p>In <strong>PyCharm</strong> I did it by adding a Python configuration in <em>Run/Debug Configuration</em> as follows:</p>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>/home/juliocesar/work/projects/my_project/openerp-server\n</code></pre>\n\n<p><strong>Script parameters:</strong></p>\n\n<pre><code>--addons-path=openerp/addons,openerp/addons/my_addons\n--log-level=test\n--database=my_project_db_test\n--db_host=localhost\n--db_user=test\n--db_password=123\n--init=my_addon\n--test-enable\n--stop-after-init\n</code></pre>\n\n<p>It runs successfully but shows a standard output in text log format like the following:</p>\n\n<pre><code>2015-04-24 13:47:55,101 12340 TEST my_project openerp.modules.module: module my_addon: executing 1 `fast_suite` and/or `checks` sub-modules\n2015-04-24 13:47:55,101 12340 TEST my_project openerp.modules.module: test_change_old_received_to_contingency (openerp.addons.my_addon.tests.test_my_addon.TestMyItems)\n2015-04-24 13:47:55,101 12340 TEST my_project openerp.modules.module: ` Test patch to change old received status to contingency.\n2015-04-24 13:47:55,110 12340 TEST my_project openerp.modules.module: Ran 1 tests in 0.006s\n2015-04-24 13:47:55,110 12340 TEST my_project openerp.modules.module: OK\n</code></pre>\n\n<p>where it shows the results of run the following test I created in add-on <code>my_addon</code> of project <code>my_project</code>, in <code>/home/juliocesar/work/projects/my_project/openerp/addons/my_addon/tests/test_my_addon.py</code>:</p>\n\n<pre><code>from openerp.tests.common import TransactionCase\nimport unittest2\n\nclass TestMyItems(TransactionCase):\n\n    def test_change_old_received_to_contingency(self):\n        \"\"\"Test patch to change old received status to contingency.\"\"\"\n        self.assertTrue(True)\n\nif __name__ == '__main__':\n    unittest2.main()\n</code></pre>\n\n<p>What I want is to use <em>Python tests -> Unittest</em> configuration to display tests output with red/green icons and PyCharm interface for tests results.</p>\n\n<p><img src=\"https://i.stack.imgur.com/gURsQ.png\" alt=\"PyCharm unittest config\"></p>\n\n<p>Unittest configuration requires the script file where tests are located, if I specify the file, PyCharm finds all tests in the file but gives errors because the database (and other parameters like <code>openerp-server</code> script and the rest parameters specified in above to run OpenERP tests) is not configured:</p>\n\n<p><img src=\"https://i.stack.imgur.com/14GEf.png\" alt=\"PyCharm unittest results\"></p>\n\n<p>This is the result of running this configuration:</p>\n\n<pre><code>/usr/bin/python2.7 /home/juliocesar/apps/pycharm/helpers/pycharm/utrunner.py /home/juliocesar/work/projects/my_project/openerp/addons/my_addon/tests/ false\nTesting started at 09:38 AM ...\nNo handlers could be found for logger \"openerp.sql_db\"\n\nProcess finished with exit code 0\n\nError\nTraceback (most recent call last):\n  File \"/home/juliocesar/work/projects/my_project/openerp/tests/common.py\", line 94, in setUp\n    TransactionCase.cr = self.cursor()\n  File \"/home/juliocesar/work/projects/my_project/openerp/tests/common.py\", line 55, in cursor\n    return openerp.modules.registry.RegistryManager.get(DB).db.cursor()\n  File \"/home/juliocesar/work/projects/my_project/openerp/modules/registry.py\", line 193, in get\n    update_module)\n  File \"/home/juliocesar/work/projects/my_project/openerp/modules/registry.py\", line 209, in new\n    registry = Registry(db_name)\n  File \"/home/juliocesar/work/projects/my_project/openerp/modules/registry.py\", line 76, in __init__\n    cr = self.db.cursor()\n  File \"/home/juliocesar/work/projects/my_project/openerp/sql_db.py\", line 484, in cursor\n    return Cursor(self._pool, self.dbname, serialized=serialized)\n  File \"/home/juliocesar/work/projects/my_project/openerp/sql_db.py\", line 182, in __init__\n    self._cnx = pool.borrow(dsn(dbname))\n  File \"/home/juliocesar/work/projects/my_project/openerp/sql_db.py\", line 377, in _locked\n    return fun(self, *args, **kwargs)\n  File \"/home/juliocesar/work/projects/my_project/openerp/sql_db.py\", line 440, in borrow\n    result = psycopg2.connect(dsn=dsn, connection_factory=PsycoConnection)\n  File \"/usr/lib/python2.7/dist-packages/psycopg2/__init__.py\", line 179, in connect\n    connection_factory=connection_factory, async=async)\nOperationalError: FATAL:  database \"False\" does not exist\n</code></pre>\n\n<p>So, how to specify the required parameters to run OpenERP v7 unittest with a PyCharm test configuration?</p>\n\n<p>I used PyCharm 4.0.6 Build #PY-139.1659, but it also doesn't works in PyCharm 5.</p>\n"}, {"tags": ["python", "set"], "comments": [{"owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 0, "creation_date": 1429173377, "post_id": 29661739, "comment_id": 47477061, "body": "It&#39;s customary (and beneficial) to show your code attempts in your question."}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1429135673, "post_id": 29661754, "comment_id": 47463146, "body": "Or, with syntactic sugar: <code>set(set1) &amp; set(set2)</code>."}, {"owner": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "edited": false, "score": 0, "creation_date": 1429135710, "post_id": 29661754, "comment_id": 47463163, "body": "Is there another way to update <code>set1</code> to see if its been shown from <code>set2</code>?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429135733, "post_id": 29661754, "comment_id": 47463169, "body": "Note that OP&#39;s items aren&#39;t actually <i>sets</i> -- They&#39;re lists.  For your answer to work, at minimum, <code>set2</code> must actually be a set.  For the operator form proposed by @TigerhawkT3, <i>both</i> must be sets."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1429135776, "post_id": 29661754, "comment_id": 47463179, "body": "@mgilson. that is why I added <code>set(set2).intersection(set1)</code>"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1429135808, "post_id": 29661754, "comment_id": 47463192, "body": "@PadraicCunningham -- Ahh, so you did.  Sorry, somehow I missed that."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429135851, "post_id": 29661754, "comment_id": 47463205, "body": "Fixed - didn&#39;t notice that the sets weren&#39;t <code>set</code>s."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "edited": false, "score": 0, "creation_date": 1429135883, "post_id": 29661754, "comment_id": 47463221, "body": "@Gaddi, sorry I don&#39;t quite understand."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1429135995, "post_id": 29661754, "comment_id": 47463262, "body": "@TigerhawkT3, True but I like using intersection. It is also a bit more efficient when you have lists."}, {"owner": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "edited": false, "score": 0, "creation_date": 1429136185, "post_id": 29661754, "comment_id": 47463341, "body": "@PadraicCunningham Sorry I didn&#39;t make it clear, when doing the <code>.intersection</code> it shows the ones that appeared but I would like to know if there would be a way to have <code>set1</code> updated to show this like <code>a = true, b= false</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "edited": false, "score": 0, "creation_date": 1429136684, "post_id": 29661754, "comment_id": 47463535, "body": "@Gaddi, closest thing I can think of is a dict"}, {"owner": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "edited": false, "score": 0, "creation_date": 1429137010, "post_id": 29661754, "comment_id": 47463664, "body": "@PadraicCunningham Thank you so much really helped !"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 8, "last_activity_date": 1429136942, "last_edit_date": 1429136942, "creation_date": 1429135517, "answer_id": 29661754, "question_id": 29661739, "link": "https://stackoverflow.com/questions/29661739/comparing-each-element-between-2-sets/29661754#29661754", "title": "Comparing each element between 2 sets?", "body": "<p>Use <a href=\"http://en.wikibooks.org/wiki/Python_Programming/Sets#Intersection\" rel=\"nofollow noreferrer\">intersection</a>:</p>\n\n<pre><code>set2.intersection(set1)\n</code></pre>\n\n<p>Or <code>set(set2).intersection(set1)</code> if you actually have a list.</p>\n\n<p>Based on your comment maybe a dict where the values are booleans based on whether each element from set1 is in the intersection set:</p>\n\n<pre><code>set1 = [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"]\nset2 = [\"a\",\"c\",\"e\"]\n\ninter = set(set2).intersection(set1)\n\nvals = {k:k in inter for k in set1}\n\nprint(vals)\n{'a': True, 'c': True, 'b': False, 'e': True, 'd': False, 'f': False}\n</code></pre>\n\n<p>If all you want is a mapping then maybe creating a set from set2 is sufficient:</p>\n\n<pre><code>set1 = [\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"]\nset2 = [\"a\",\"c\",\"e\"]\n\nst2 = set(set2)\n\nvals = {k: k in st2 for k in set1}\n</code></pre>\n\n<p>Or to get two sets, for the common and different elements:</p>\n\n<pre><code>st2 = set(set2)\n\ninter = st2.intersection(set1)\n\ndiff = st2.difference(set1)\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3092868, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/r5uqS.jpg?s=128&g=1", "display_name": "Gaddi", "link": "https://stackoverflow.com/users/3092868/gaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29661754, "answer_count": 1, "score": 3, "last_activity_date": 1429136942, "creation_date": 1429135477, "last_edit_date": 1429135541, "question_id": 29661739, "link": "https://stackoverflow.com/questions/29661739/comparing-each-element-between-2-sets", "title": "Comparing each element between 2 sets?", "body": "<p>I'm trying to compare 2 sets of data</p>\n\n<p><code>set1 = [a,b,c,d,e,f]\n set2 = [a,c,e]</code></p>\n\n<p>How would I go about finding out which variable from <code>set2</code> are in <code>set1</code> then output this to another set showing the results?</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 2126, "user_id": 3020810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebadb7394827a648e7a0f898a098d2a5?s=128&d=identicon&r=PG&f=1", "display_name": "amow", "link": "https://stackoverflow.com/users/3020810/amow"}, "is_accepted": false, "score": 0, "last_activity_date": 1429166135, "creation_date": 1429166135, "answer_id": 29667031, "question_id": 29661736, "link": "https://stackoverflow.com/questions/29661736/retrieve-bbc-weather-data-with-identical-span-class-and-nested-spans/29667031#29667031", "title": "Retrieve bbc weather data with identical span class and nested spans", "body": "<p>your min and max temp extract is wrong.You just find the hole min temp span (include both c and f format).Get the first thing of content gives you empty string.</p>\n\n<p>And the min temp tag identify <code>class=min-temp.min-temp-value</code> is not the same with the c-type min temp <code>class=temperature-value-unit-c</code>.So I suggest you to use <code>css</code> selector.</p>\n\n<p>Eg,find all of your min temp span could be </p>\n\n<pre><code>table.select('span.min-temp.min-temp-value span.temperature-value-unit-c')\n</code></pre>\n\n<p>This means select all <code>class=temperature-value-unit-c</code> spans which are children of <code>class=min-temp min-temp-value</code> spans.</p>\n\n<p>So do the other information lists like <code>max_temp</code> <code>wind</code></p>\n"}], "owner": {"reputation": 11, "user_id": 4794014, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-imWHSogomxw/AAAAAAAAAAI/AAAAAAAAAUs/f03TP-bNeok/photo.jpg?sz=128", "display_name": "Stu Trout", "link": "https://stackoverflow.com/users/4794014/stu-trout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1429166135, "creation_date": 1429135469, "last_edit_date": 1429165331, "question_id": 29661736, "link": "https://stackoverflow.com/questions/29661736/retrieve-bbc-weather-data-with-identical-span-class-and-nested-spans", "title": "Retrieve bbc weather data with identical span class and nested spans", "body": "<p>I am trying to pull data form BBC weather with a view to use in a home automation dashboard.</p>\n\n<p>The HTML code I can pull fine and I can pull one set of temps but it just pulls the first.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;/li&gt;\n&lt;li class=\"daily__day-tab day-20150418 \"&gt;\n&lt;a data-ajax-href=\"/weather/en/2646504/daily/2015-04-18?day=3\" href=\"/weather/2646504?day=3\" rel=\"nofollow\"&gt;\n&lt;div class=\"daily__day-header\"&gt;\n&lt;h3 class=\"daily__day-date\"&gt;\n&lt;span aria-label=\"Saturday\" class=\"day-name\"&gt;Sat&lt;/span&gt;\n&lt;/h3&gt;\n&lt;/div&gt;\n&lt;span class=\"weather-type-image weather-type-image-40\" title=\"Sunny\"&gt;&lt;img alt=\"Sunny\" src=\"http://static.bbci.co.uk/weather/0.5.327/images/icons/tab_sprites/40px/1.png\"/&gt;&lt;/span&gt;\n&lt;span class=\"max-temp max-temp-value\"&gt; &lt;span class=\"units-values temperature-units-values\"&gt;&lt;span class=\"units-value temperature-value temperature-value-unit-c\" data-unit=\"c\"&gt;13&lt;span class=\"unit\"&gt;\u00b0C&lt;/span&gt;&lt;/span&gt;&lt;span class=\"unit-types-separator\"&gt; &lt;/span&gt;&lt;span class=\"units-value temperature-value temperature-value-unit-f\" data-unit=\"f\"&gt;55&lt;span class=\"unit\"&gt;\u00b0F&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\"min-temp min-temp-value\"&gt; &lt;span class=\"units-values temperature-units-values\"&gt;&lt;span class=\"units-value temperature-value temperature-value-unit-c\" data-unit=\"c\"&gt;5&lt;span class=\"unit\"&gt;\u00b0C&lt;/span&gt;&lt;/span&gt;&lt;span class=\"unit-types-separator\"&gt; &lt;/span&gt;&lt;span class=\"units-value temperature-value temperature-value-unit-f\" data-unit=\"f\"&gt;41&lt;span class=\"unit\"&gt;\u00b0F&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\"wind wind-speed windrose-icon windrose-icon--average windrose-icon-40 windrose-icon-40--average wind-direction-ene\" data-tooltip-kph=\"31 km/h, East North Easterly\" data-tooltip-mph=\"19 mph, East North Easterly\" title=\"19 mph, East North Easterly\"&gt;\n&lt;span class=\"speed\"&gt; &lt;span class=\"wind-speed__description wind-speed__description--average\"&gt;Wind Speed&lt;/span&gt;\n&lt;span class=\"units-values windspeed-units-values\"&gt;&lt;span class=\"units-value windspeed-value windspeed-value-unit-kph\" data-unit=\"kph\"&gt;31 &lt;span class=\"unit\"&gt;km/h&lt;/span&gt;&lt;/span&gt;&lt;span class=\"unit-types-separator\"&gt; &lt;/span&gt;&lt;span class=\"units-value windspeed-value windspeed-value-unit-mph\" data-unit=\"mph\"&gt;19 &lt;span class=\"unit\"&gt;mph&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\"description blq-hide\"&gt;East North Easterly&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p>This is my code which isn\u2019t working</p>\n\n<pre><code>import urllib2\nimport pprint\n\nfrom bs4 import BeautifulSoup\nhtmlFile=urllib2.urlopen('http://www.bbc.co.uk/weather/2646504?day=1')\nhtmlData = htmlFile.read()\nsoup = BeautifulSoup(htmlData)\n\ntable=soup.find(\"div\",\"daily-window\")\ntemperatures=[str(tem.contents[0]) for tem in table.find_all(\"span\",class_=\"units-value temperature-value temperature-value-unit-c\")]\nmintemp=[str(min.contents[0]) for min in table.find_(\"span\",class_=\"min-temp min-temp-value\")]\nmaxtemp=[str(min.contents[0]) for min in table.find_all(\"span\",class_=\"max-temp max-temp-value\")]\nwindspeeds=[str(speed.contents[0]) for speed in table.find_all(\"span\",class_=\"units-value windspeed-value windspeed-value-unit-mph\")]\n\n\npprint.pprint(zip(temperatures,temp2,windspeeds))\n</code></pre>\n"}, {"tags": ["python", "xlsxwriter"], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "edited": false, "score": 0, "creation_date": 1429186750, "post_id": 29662675, "comment_id": 47486595, "body": "Never mind.... I upgraded a different Python environment.  Thanks for your help.  I should have noticed this earlier."}], "tags": [], "owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "is_accepted": true, "score": 0, "last_activity_date": 1429140079, "creation_date": 1429140079, "answer_id": 29662675, "question_id": 29661727, "link": "https://stackoverflow.com/questions/29661727/xlsxwriter-python-combine-not-working/29662675#29662675", "title": "xlsxwriter Python combine() Not Working", "body": "<p>Most likely you are using an older version of the module prior to when the chart combine feature was added.</p>\n\n<p>Check your version of xlsxwriter like this:</p>\n\n<pre><code>python -c 'import xlsxwriter; print(xlsxwriter.__version__)'\n</code></pre>\n\n<p>It need to be at least 0.6.8.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2442679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75e8280fc488cec4a137663f9bfd5e12?s=128&d=identicon&r=PG", "display_name": "Farid Dilaver", "link": "https://stackoverflow.com/users/2442679/farid-dilaver"}, "is_accepted": false, "score": 1, "last_activity_date": 1504767514, "creation_date": 1504767514, "answer_id": 46089829, "question_id": 29661727, "link": "https://stackoverflow.com/questions/29661727/xlsxwriter-python-combine-not-working/46089829#46089829", "title": "xlsxwriter Python combine() Not Working", "body": "<p>I have raise same issue.\nbut now i upgrade my package and now version <strong>0.9.9</strong> works good</p>\n"}], "owner": {"reputation": 810, "user_id": 4643220, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e5ba6ad7ebf6f7133ff50b219d209cc?s=128&d=identicon&r=PG&f=1", "display_name": "bsheehy", "link": "https://stackoverflow.com/users/4643220/bsheehy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 29662675, "answer_count": 2, "score": 1, "last_activity_date": 1504767514, "creation_date": 1429135418, "last_edit_date": 1429136270, "question_id": 29661727, "link": "https://stackoverflow.com/questions/29661727/xlsxwriter-python-combine-not-working", "title": "xlsxwriter Python combine() Not Working", "body": "<p>I am trying to create a 'combined' chart using xlsxwriter but it seems like the combine() function no longer works.  If you simply use the demo code on their website (<a href=\"http://xlsxwriter.readthedocs.org/en/latest/example_chart_combined.html\" rel=\"nofollow\">http://xlsxwriter.readthedocs.org/en/latest/example_chart_combined.html</a>) you get an Attribute Error: 'ChartColumn' object has no attribute 'combine'.</p>\n\n<p>Does anyone know what's going on with xlsxwriter?</p>\n"}, {"tags": ["python", "tkinter", "listbox", "scrollbar"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4778135, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a1f186a0b9f993080a37a16135304d7?s=128&d=identicon&r=PG&f=1", "display_name": "userlincolndc", "link": "https://stackoverflow.com/users/4778135/userlincolndc"}, "edited": false, "score": 0, "creation_date": 1429136398, "post_id": 29661916, "comment_id": 47463431, "body": "but then can I add entry widgets inside the listbox widget?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 21, "user_id": 4778135, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a1f186a0b9f993080a37a16135304d7?s=128&d=identicon&r=PG&f=1", "display_name": "userlincolndc", "link": "https://stackoverflow.com/users/4778135/userlincolndc"}, "edited": false, "score": 3, "creation_date": 1429136859, "post_id": 29661916, "comment_id": 47463608, "body": "I like to start with the <code>root</code> object, put a <code>Canvas</code> in there with a <code>Scrollbar</code>, then put a <code>Frame</code> in the <code>Canvas</code>, then put all the little widgets into the <code>Frame</code>."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1429136248, "creation_date": 1429136248, "answer_id": 29661916, "question_id": 29661725, "link": "https://stackoverflow.com/questions/29661725/wrapping-a-tkinter-program-in-a-scroll-bar/29661916#29661916", "title": "Wrapping a Tkinter program in a scroll bar", "body": "<p>The issue is that the <code>Scrollbar</code> widget is only implemented for <code>Canvas</code>, <code>Listbox</code>, and <code>Text</code> widgets. The <code>Scrollbar</code> must be configured to one of those widgets, and then you add widgets to that parent. Unfortunately, it's not the most straightforward widget to use. See <a href=\"http://effbot.org/tkinterbook/scrollbar.htm\" rel=\"nofollow\">Effbot's <code>Scrollbar</code> page</a> for an example.</p>\n"}], "owner": {"reputation": 21, "user_id": 4778135, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9a1f186a0b9f993080a37a16135304d7?s=128&d=identicon&r=PG&f=1", "display_name": "userlincolndc", "link": "https://stackoverflow.com/users/4778135/userlincolndc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429136248, "creation_date": 1429135411, "question_id": 29661725, "link": "https://stackoverflow.com/questions/29661725/wrapping-a-tkinter-program-in-a-scroll-bar", "title": "Wrapping a Tkinter program in a scroll bar", "body": "<p>I am trying to incorporate a scrollbar in my Tkinter window so as I add more things the user can scroll down. From what I've read so far it seems I need to use a Listbox widget but running into trouble adding the scrollbar as it is only getting added to the bottom of the program and not wrapping the entire thing? My code is below.</p>\n\n<pre><code>import Tkinter as Tk\nfrom Tkinter import StringVar\n\nclass SampleApp(Tk.Tk):\n    def __init__(self):\n        Tk.Tk.__init__(self)\n        self.button = Tk.Button(self, text=\"Get\", command=self.on_button)\n        self.button.pack()#place(x=150, y=600)\n####Name#####\n        labelText=StringVar()\n        labelText.set(\" Name\")\n        labelDir=Tk.Label(self, textvariable=labelText, height=1)\n        labelDir.pack()\n\n        directory=StringVar(None)\n        self.name =Tk.Entry(self,textvariable=directory,width=25)\n        self.name .pack()\n    def on_button(self):\n        with open('filename.html', 'w') as myfile:\n            myfile.write('The button worked')\n\napp = SampleApp()\nscrollbar = Tk.Scrollbar(app)\nscrollbar.pack( side = Tk.RIGHT, fill=Tk.Y )\napp.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 0, "creation_date": 1429135043, "post_id": 29661628, "comment_id": 47462877, "body": "Can you add your template code?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1429135201, "post_id": 29661628, "comment_id": 47462954, "body": "If you are sending it through ajax, you do not want to re-render all the page. I recommend you to return a JSON Response, and get data from this JSON via javascript in the template.  You will not be able to get {{ destinations }}, unless you refresh the whole page."}, {"owner": {"reputation": 33, "user_id": 4793963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QV6b58RWCeY/AAAAAAAAAAI/AAAAAAAAABg/VwiNmqUWB3E/photo.jpg?sz=128", "display_name": "Ludwing Van", "link": "https://stackoverflow.com/users/4793963/ludwing-van"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1429135579, "post_id": 29661628, "comment_id": 47463117, "body": "I&#39;d rather not refresh the page. @Celeo"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1429136199, "post_id": 29661628, "comment_id": 47463346, "body": "post your AJAX request code here"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4793963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QV6b58RWCeY/AAAAAAAAAAI/AAAAAAAAABg/VwiNmqUWB3E/photo.jpg?sz=128", "display_name": "Ludwing Van", "link": "https://stackoverflow.com/users/4793963/ludwing-van"}, "edited": false, "score": 0, "creation_date": 1429137076, "post_id": 29661752, "comment_id": 47463695, "body": "Thx I already solved it with JsonResponse. Returning the response to the ajax function. And show it into the template. Thanks again."}], "tags": [], "owner": {"reputation": 2484, "user_id": 3461355, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/vcqrY.jpg?s=128&g=1", "display_name": "mcastle", "link": "https://stackoverflow.com/users/3461355/mcastle"}, "is_accepted": true, "score": 1, "last_activity_date": 1429135509, "creation_date": 1429135509, "answer_id": 29661752, "question_id": 29661628, "link": "https://stackoverflow.com/questions/29661628/can-i-add-or-update-a-new-variable-after-render-in-django-template/29661752#29661752", "title": "Can I add or update a new variable after render in django template", "body": "<p>Look at <a href=\"https://docs.djangoproject.com/en/1.8/ref/request-response/#jsonresponse-objects\" rel=\"nofollow\">JsonResponse</a>, which you can use to return the new variable as json to your ajax function, which can then be used to set that variable in your template.</p>\n"}], "owner": {"reputation": 33, "user_id": 4793963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QV6b58RWCeY/AAAAAAAAAAI/AAAAAAAAABg/VwiNmqUWB3E/photo.jpg?sz=128", "display_name": "Ludwing Van", "link": "https://stackoverflow.com/users/4793963/ludwing-van"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 1, "accepted_answer_id": 29661752, "answer_count": 1, "score": 3, "last_activity_date": 1429135509, "creation_date": 1429134940, "last_edit_date": 1429135504, "question_id": 29661628, "link": "https://stackoverflow.com/questions/29661628/can-i-add-or-update-a-new-variable-after-render-in-django-template", "title": "Can I add or update a new variable after render in django template", "body": "<p>I've been trying to add or update a variable in the templete before the first render. I have an Ajax request that sends a POST request which works fine, but when I tried to return the new variable, <code>destinations</code>, to the same page/template, index.html, it doesn't appear.</p>\n\n<p>How do I fix this behavior?</p>\n\n<p>view.py</p>\n\n<pre><code>def index(request):\n    if request.method == 'POST':\n        dayset = request.POST.get('the_point')\n        dest = Destination(get_cons(dayset))\n        destinations = dest.latlond()\n        context = {'destinations': destinations}\n        render(request, 'index.html', context)\n    else:\n        objan = Antennas(antenas)\n        antposition = objan.getAntennas()\n        context = {'antposition': antposition}\n        return render(request, 'index.html', context) \n</code></pre>\n\n<p>Temple index.html</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=utf-8 /&gt;\n&lt;title&gt;DAKARmob&lt;/title&gt;\n{% load staticfiles %}\n&lt;script type=\"text/javascript\" src=\"{% static \"scripts/main.js\" %}\"&gt;&lt;/script&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n{% for pos in antposition %}\nvar marker = L.marker([{{pos.1}}, {{pos.2}}], {\n  icon: L.mapbox.marker.icon({\n      'marker-color': '#b9e841'\n  }),\n  draggable: false\n}).on('click', onAnte);\nantenas[{{pos.0}}] = [{{pos.1}}, {{pos.2}}];\ncluster_ant.addLayer(marker);\n{% endfor %}\nmap.addLayer(cluster_ant);\n\nfunction onAnte(e) {\n  var latl = this.getLatLng();\n  var aux = [latl.lat,latl.lng];\n  var result = getKeysForValue(antenas, aux);\n  new_point(result[0]);\n\n\n function new_point(id) {\n        console.log(id);\n        $.ajax({\n            url : \"/\", // the endpoint\n            type : \"POST\", // http method\n            data : { the_point : id }, // data sent with the post request\n            success : function(res) {\n                console.log(\"success\"); // another sanity check\n            }\n        });\n\n  }\n  // OTHER FUNCTIONS FOR THE FUNCTION OF AJAX AND DJANGO \n\n&lt;/script&gt;\n&lt;div style=\"position:absolute; top:900px; left:10px; \"&gt;\n{{ destinations }}\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["python", "numpy", "normalize"], "comments": [{"owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "edited": false, "score": 2, "creation_date": 1429134766, "post_id": 29661574, "comment_id": 47462774, "body": "Just to be clear: is it a NumPy array or a Pandas DataFrame?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1429135103, "post_id": 29661574, "comment_id": 47462906, "body": "When programming it&#39;s important to be specific: a <code>set</code> is a particular object in Python, and you can&#39;t have a set of numpy arrays.  Python doesn&#39;t have a matrix, but numpy does, and that <code>matrix</code> type isn&#39;t the same as a numpy <code>array&#47;ndarray</code> (which is itself different from Python&#39;s <code>array</code> type, which is not the same as a <code>list</code>).  And none of these are pandas <code>DataFrame</code>s.."}, {"owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 0, "creation_date": 1484444174, "post_id": 29661574, "comment_id": 70512558, "body": "I do not think this is a complete normalization. I would look at <a href=\"http://stackoverflow.com/questions/9775765/normalize-standardize-a-numpy-recarray\" title=\"normalize standardize a numpy recarray\">stackoverflow.com/questions/9775765/&hellip;</a> for a better definition of normalization."}], "answers": [{"comments": [{"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 1, "creation_date": 1429162770, "post_id": 29661707, "comment_id": 47471174, "body": "I really appreciate your answer, I always have issues dealing with &quot;axis&quot; !"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 7, "creation_date": 1429177297, "post_id": 29661707, "comment_id": 47479634, "body": "For reductions (i.e. <code>.max()</code>, <code>.min()</code>, <code>.sum()</code>, <code>.mean()</code> etc.), you just need to remember that <code>axis</code> specifies the dimension that you want to &quot;collapse&quot; during the reduction. If you want the maximum for each column, then you need to collapse the the row dimension."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 1661, "user_id": 856647, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YWbzz.jpg?s=128&g=1", "display_name": "roob", "link": "https://stackoverflow.com/users/856647/roob"}, "edited": false, "score": 1, "creation_date": 1454107818, "post_id": 29661707, "comment_id": 57912647, "body": "@rawbeans See my update. The reason I divided by the maximum is because that&#39;s what the OP showed in their example."}, {"owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 0, "creation_date": 1484444024, "post_id": 29661707, "comment_id": 70512529, "body": "@ali_m, Would you please explain why you are saying &quot;If x contains negative values&quot;? If the minimum of the array is 100 and the maximum is 103, I think you should definitely use your second formula, otherwise your result will not have a 0 offset."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1484481910, "post_id": 29661707, "comment_id": 70520134, "body": "@lman Simply because that&#39;s exactly what the OP showed in their example. <i>&quot;Between 0 and 1&quot;</i> is ambiguous - it doesn&#39;t necessarily imply that the minimum value must be zero, only that all of the values must be &gt;= 0 and &lt;= 1."}, {"owner": {"reputation": 149, "user_id": 8312150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34E68.png?s=128&g=1", "display_name": "Galactic Ketchup", "link": "https://stackoverflow.com/users/8312150/galactic-ketchup"}, "edited": false, "score": 0, "creation_date": 1588005846, "post_id": 29661707, "comment_id": 108727282, "body": "Note that this broadcast notation won&#39;t work if collapsing any axis other than 0; if you want to normalize the rows, you&#39;ll need to be more explicit in the division step, or it will normalize the columns by the sums of the rows!"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 149, "user_id": 8312150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34E68.png?s=128&g=1", "display_name": "Galactic Ketchup", "link": "https://stackoverflow.com/users/8312150/galactic-ketchup"}, "edited": false, "score": 1, "creation_date": 1588008986, "post_id": 29661707, "comment_id": 108729075, "body": "@GalacticKetchup You can easily extend this to reductions over arbitrary axes by passing <code>keepdims=True</code> to the reduction ufunc. This arg prevents the reduction axis from getting &quot;squeezed out&quot; so that broadcasting will still work correctly, e.g. <code>x &#47; x.max(axis=1, keepdims=True)</code>."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 105, "last_activity_date": 1454107908, "last_edit_date": 1454107908, "creation_date": 1429135324, "answer_id": 29661707, "question_id": 29661574, "link": "https://stackoverflow.com/questions/29661574/normalize-numpy-array-columns-in-python/29661707#29661707", "title": "Normalize numpy array columns in python", "body": "<p>If I understand correctly, what you want to do is divide by the maximum value in each column. You can do this easily using <a href=\"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"noreferrer\">broadcasting</a>.</p>\n\n<p>Starting with your example array:</p>\n\n<pre><code>import numpy as np\n\nx = np.array([[1000,  10,   0.5],\n              [ 765,   5,  0.35],\n              [ 800,   7,  0.09]])\n\nx_normed = x / x.max(axis=0)\n\nprint(x_normed)\n# [[ 1.     1.     1.   ]\n#  [ 0.765  0.5    0.7  ]\n#  [ 0.8    0.7    0.18 ]]\n</code></pre>\n\n<p><code>x.max(0)</code> takes the maximum over the 0th dimension (i.e. rows). This gives you a vector of size <code>(ncols,)</code> containing the maximum value in each column. You can then divide <code>x</code> by this vector in order to normalize your values such that the maximum value in each column will be scaled to 1.</p>\n\n<hr>\n\n<p>If <code>x</code> contains negative values you would need to subtract the minimum first:</p>\n\n<pre><code>x_normed = (x - x.min(0)) / x.ptp(0)\n</code></pre>\n\n<p>Here, <code>x.ptp(0)</code> returns the \"peak-to-peak\" (i.e. the range, max - min) along axis 0. This normalization also guarantees that the minimum value in each column will be 0.</p>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 5672613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741a3ff9e5decd116a3565abbe73b896?s=128&d=identicon&r=PG&f=1", "display_name": "Robur_131", "link": "https://stackoverflow.com/users/5672613/robur-131"}, "edited": false, "score": 0, "creation_date": 1602497777, "post_id": 44257532, "comment_id": 113729558, "body": "Any way to scale the column values between <code>1</code> and ``2`? Using MinMaxScaler?"}], "tags": [], "owner": {"reputation": 639, "user_id": 5342020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40329a95178fe7cb3e62ae6f0ffedeb?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin Mrugas", "link": "https://stackoverflow.com/users/5342020/marcin-mrugas"}, "is_accepted": false, "score": 24, "last_activity_date": 1496133920, "creation_date": 1496133920, "answer_id": 44257532, "question_id": 29661574, "link": "https://stackoverflow.com/questions/29661574/normalize-numpy-array-columns-in-python/44257532#44257532", "title": "Normalize numpy array columns in python", "body": "<p>You can use sklearn.preprocessing:</p>\n\n<pre><code>from sklearn.preprocessing import normalize\ndata = np.array([\n    [1000, 10, 0.5],\n    [765, 5, 0.35],\n    [800, 7, 0.09], ])\ndata = normalize(data, axis=0, norm='max')\nprint(data)\n&gt;&gt;[[ 1.     1.     1.   ]\n[ 0.765  0.5    0.7  ]\n[ 0.8    0.7    0.18 ]]\n</code></pre>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109763, "favorite_count": 14, "accepted_answer_id": 29661707, "answer_count": 2, "score": 54, "last_activity_date": 1496133920, "creation_date": 1429134673, "last_edit_date": 1429135139, "question_id": 29661574, "link": "https://stackoverflow.com/questions/29661574/normalize-numpy-array-columns-in-python", "title": "Normalize numpy array columns in python", "body": "<p>I have a numpy array where each cell of a specific row represents a value for a feature. I store all of them in an 100*4 matrix.</p>\n\n<pre><code>A     B   C\n1000  10  0.5\n765   5   0.35\n800   7   0.09  \n</code></pre>\n\n<p>Any idea how I can normalize rows of this numpy.array where each value is between 0 and 1?</p>\n\n<p>My desired output is:</p>\n\n<pre><code>A     B    C\n1     1    1\n0.765 0.5  0.7\n0.8   0.7  0.18(which is 0.09/0.5)\n</code></pre>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["python", "pygtk", "gstreamer", "python-gstreamer"], "comments": [{"owner": {"reputation": 2024, "user_id": 3749818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7b0e924a4d88adaa3f32e1348603e83?s=128&d=identicon&r=PG&f=1", "display_name": "elya5", "link": "https://stackoverflow.com/users/3749818/elya5"}, "edited": false, "score": 0, "creation_date": 1429170309, "post_id": 29661568, "comment_id": 47475266, "body": "Did you try <code>get_last_sample()</code>?"}, {"owner": {"reputation": 51, "user_id": 1296240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2e44779291756a9aa6a19c6a18b715?s=128&d=identicon&r=PG", "display_name": "user1296240", "link": "https://stackoverflow.com/users/1296240/user1296240"}, "reply_to_user": {"reputation": 2024, "user_id": 3749818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a7b0e924a4d88adaa3f32e1348603e83?s=128&d=identicon&r=PG&f=1", "display_name": "elya5", "link": "https://stackoverflow.com/users/3749818/elya5"}, "edited": false, "score": 0, "creation_date": 1429356166, "post_id": 29661568, "comment_id": 47567802, "body": "@elya5 Yes, with this code:    sample = self.__snapshot_source_video_sink.get_last_sample()&#39; I&#39;m getting: AttributeError: &#39;<b>main</b>.GstXvImageSink&#39; object has no attribute &#39;get_last_sample&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 1296240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2e44779291756a9aa6a19c6a18b715?s=128&d=identicon&r=PG", "display_name": "user1296240", "link": "https://stackoverflow.com/users/1296240/user1296240"}, "is_accepted": false, "score": 0, "last_activity_date": 1429364517, "creation_date": 1429364517, "answer_id": 29718163, "question_id": 29661568, "link": "https://stackoverflow.com/questions/29661568/cant-get-properties-of-gstbasesink-on-gstxvimagesink-in-pygst/29718163#29718163", "title": "Can&#39;t get properties of GstBaseSink on GstXvImageSink in pygst", "body": "<p>My fault. I'm using gstreamer 0.1 and I was reading documentation for gstreamer 1.0\nEverything that was reffering to GstBuffer is now GstSample.\nAfter <a href=\"http://gstreamer.freedesktop.org/data/doc/gstreamer/head/manual/html/chapter-porting-1.0.html\" rel=\"nofollow\">http://gstreamer.freedesktop.org/data/doc/gstreamer/head/manual/html/chapter-porting-1.0.html</a></p>\n\n<blockquote>\n  <p>GST_TAG_IMAGE, GST_TAG_PREVIEW_IMAGE, GST_TAG_ATTACHMENT: many tags that used to be of type GstBuffer are now of type GstSample (which is basically a struct containing a buffer alongside caps and some other info). </p>\n</blockquote>\n\n<p>So in my case the answer is to use:</p>\n\n<pre><code>def take_snapshoot(self):\nsample = self.__snapshot_source_video_sink.get_property(\"last-buffer\")\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 1296240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2e44779291756a9aa6a19c6a18b715?s=128&d=identicon&r=PG", "display_name": "user1296240", "link": "https://stackoverflow.com/users/1296240/user1296240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429364517, "creation_date": 1429134638, "question_id": 29661568, "link": "https://stackoverflow.com/questions/29661568/cant-get-properties-of-gstbasesink-on-gstxvimagesink-in-pygst", "title": "Can&#39;t get properties of GstBaseSink on GstXvImageSink in pygst", "body": "<p>I'm trying to access the \"last-sample\" property from GstXvImageSink which is derived from GstBaseSink.\nI'm getting: </p>\n\n<blockquote>\n  <p>TypeError: object of type 'GstXvImageSink' does not have property 'last-sample'</p>\n</blockquote>\n\n<p>Is there a special way to get properties from base classes in pygtk or is this property somehow hidden?</p>\n\n<p>Code:</p>\n\n<pre><code>def take_snapshoot(self):\n    sample = self.__snapshot_source_video_sink.get_property(\"last-sample\")\n</code></pre>\n"}, {"tags": ["python", "refresh"], "answers": [{"comments": [{"owner": {"reputation": 526, "user_id": 2883183, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/797f9ff906773048474cb0da4380f4c4?s=128&d=identicon&r=PG&f=1", "display_name": "MacD", "link": "https://stackoverflow.com/users/2883183/macd"}, "edited": false, "score": 0, "creation_date": 1429135589, "post_id": 29661614, "comment_id": 47463121, "body": "I am actually using that as well, however, I was having extreme difficulty parsing the stream to give me a rate I could use for a variable stop loss price.  Thanks for the help!  I&#39;m trying it now"}, {"owner": {"reputation": 526, "user_id": 2883183, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/797f9ff906773048474cb0da4380f4c4?s=128&d=identicon&r=PG&f=1", "display_name": "MacD", "link": "https://stackoverflow.com/users/2883183/macd"}, "edited": false, "score": 0, "creation_date": 1429135941, "post_id": 29661614, "comment_id": 47463245, "body": "This seems to work, however, I am getting this error:  oandapy.OandaError: OANDA API returned error code 68 (Rate limit violation of newly established connections. Allowed rate: 2 connections per second) how could I throttle the request?  Thanks again"}, {"owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "reply_to_user": {"reputation": 526, "user_id": 2883183, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/797f9ff906773048474cb0da4380f4c4?s=128&d=identicon&r=PG&f=1", "display_name": "MacD", "link": "https://stackoverflow.com/users/2883183/macd"}, "edited": false, "score": 0, "creation_date": 1429140016, "post_id": 29661614, "comment_id": 47464724, "body": "@user2883183 Increase the sleep time between requests."}, {"owner": {"reputation": 526, "user_id": 2883183, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/797f9ff906773048474cb0da4380f4c4?s=128&d=identicon&r=PG&f=1", "display_name": "MacD", "link": "https://stackoverflow.com/users/2883183/macd"}, "edited": false, "score": 0, "creation_date": 1429140509, "post_id": 29661614, "comment_id": 47464880, "body": "No matter what I set it to I still get the same error..  I think this answered my question though.  Thanks for the help!"}], "tags": [], "owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "is_accepted": true, "score": 2, "last_activity_date": 1429134838, "creation_date": 1429134838, "answer_id": 29661614, "question_id": 29661560, "link": "https://stackoverflow.com/questions/29661560/automatically-updating-get-request-python/29661614#29661614", "title": "Automatically updating GET request python", "body": "<p>The general method is to wrap the entire thing in an infinite loop, and wait between requests:</p>\n\n<pre><code>while True:\n    # ... do and print request\n    time.sleep(1) # then wait one second\n</code></pre>\n\n<p>Make sure that your API access token allows sending a request every second.</p>\n\n<hr>\n\n<p>However, after a quick Google I found that the API you're using supports streaming rates: <a href=\"https://github.com/oanda/oandapy#rates-streaming\" rel=\"nofollow\">https://github.com/oanda/oandapy#rates-streaming</a></p>\n"}], "owner": {"reputation": 526, "user_id": 2883183, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/797f9ff906773048474cb0da4380f4c4?s=128&d=identicon&r=PG&f=1", "display_name": "MacD", "link": "https://stackoverflow.com/users/2883183/macd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 29661614, "answer_count": 1, "score": 1, "last_activity_date": 1429135844, "creation_date": 1429134604, "last_edit_date": 1429135844, "question_id": 29661560, "link": "https://stackoverflow.com/questions/29661560/automatically-updating-get-request-python", "title": "Automatically updating GET request python", "body": "<p>I have a exchange rate request that I would like to update every second.  As of now I have to re-load the program to refresh the rate.  How would I go about doing this in Python?</p>\n\n<p>Any help would be appreciated, thanks in advance..</p>\n\n<p>script:</p>\n\n<pre><code>import oandapy\n\noanda = oandapy.API(environment=\"practice\", access_token=\"xxxxxxxxxxxx\")\n\nresponse = oanda.get_prices(instruments=\"EUR_USD\")\nprices = response.get(\"prices\")\nasking_price = prices[0].get(\"ask\")\n\nstop = asking_price - .001\n</code></pre>\n\n<p>Per answer:</p>\n\n<pre><code>while True:\n    response = oanda.get_prices(instruments=\"EUR_USD\")\n    prices = response.get(\"prices\")\n    asking_price = prices[0].get(\"ask\")\n\n    stop = asking_price - .001\n\ntime.sleep(1)\n</code></pre>\n"}, {"tags": ["python", "bash", "subprocess", "fork", "daemon"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1429134666, "post_id": 29661527, "comment_id": 47462733, "body": "Probably related/duplicate: <a href=\"http://stackoverflow.com/questions/473620/how-do-you-create-a-daemon-in-python\" title=\"how do you create a daemon in python\">stackoverflow.com/questions/473620/&hellip;</a>"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1429134695, "post_id": 29661527, "comment_id": 47462747, "body": "Another: <a href=\"http://stackoverflow.com/questions/4705564/python-script-as-linux-service-daemon\" title=\"python script as linux service daemon\">stackoverflow.com/questions/4705564/&hellip;</a>"}, {"owner": {"reputation": 1999, "user_id": 2866898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c3f789c8dff46eed3cfa22ee7abc00?s=128&d=identicon&r=PG", "display_name": "Arkanosis", "link": "https://stackoverflow.com/users/2866898/arkanosis"}, "edited": false, "score": 0, "creation_date": 1429134901, "post_id": 29661527, "comment_id": 47462825, "body": "May I ask a naive question? Unless you want to restart it with specific parameters, you could as well run your script in a shell loop to begin with, then just <code>sys.exit</code> it. The loop would restart it right after, without even have to perform an additional fork."}, {"owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "edited": false, "score": 0, "creation_date": 1429135078, "post_id": 29661527, "comment_id": 47462895, "body": "Actually my original python script is a twisted program, so I can&#39;t really run it in a shell loop as you suggest. Anyway, the answer below worked, the key was the nohup parameter."}, {"owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "edited": false, "score": 0, "creation_date": 1429135144, "post_id": 29661527, "comment_id": 47462923, "body": "The first two suggestions in the comments above use some complicated libraries to deamonize. I don&#39;t know if they work or not, but the nohup solution below does work and is far simpler. Hopefully this will help someone else who has this same issue."}], "answers": [{"tags": [], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "is_accepted": false, "score": 4, "last_activity_date": 1564684527, "last_edit_date": 1564684527, "creation_date": 1429134958, "answer_id": 29661632, "question_id": 29661527, "link": "https://stackoverflow.com/questions/29661527/how-to-spawn-detached-background-process-on-linux-in-either-bash-or-python/29661632#29661632", "title": "How to spawn detached background process on Linux in either bash or python", "body": "<p>I found lots of suggestions in various places, but the only answer that worked for me was this:\n<a href=\"https://stackoverflow.com/questions/1605520/how-to-launch-and-run-external-script-in-background\">How to launch and run external script in background?</a></p>\n\n<pre><code>import subprocess\nsubprocess.Popen([\"nohup\", \"python\", \"test.py\"])\n</code></pre>\n\n<p>In my case I ran a script called longrun.sh so the actual command is:</p>\n\n<pre><code>import subprocess\nsubprocess.Popen([\"nohup\", \"/bin/bash\", \"longrun.sh\"])\n</code></pre>\n\n<p>I tested this using this run.py:</p>\n\n<pre><code>import subprocess\nsubprocess.Popen([\"nohup\", \"/bin/bash\", \"longrun.sh\"])\nprint \"Done!\"\n</code></pre>\n\n<p>and I verified (using ps -ax | grep longrun) that longrun.sh does indeed run in the background long after run.py exits.</p>\n"}], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5793, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1564684527, "creation_date": 1429134476, "question_id": 29661527, "link": "https://stackoverflow.com/questions/29661527/how-to-spawn-detached-background-process-on-linux-in-either-bash-or-python", "title": "How to spawn detached background process on Linux in either bash or python", "body": "<p>I have a long running python script on Linux, and in some situations it needs to execute a command to stop and restart itself. So, I would like to have an external script (either in bash or python) that executes command to restart the original script. Let me elaborate.</p>\n\n<p>Suppose I have original_script.py. In original_script.py I have this in an infinite loop:</p>\n\n<pre><code>if some_error_condition:\n    somehow call external script external.sh or external.py\n</code></pre>\n\n<p>Let's suppose I can call external.sh and it contains this:</p>\n\n<pre><code>#!/bin/bash\ncommand_to_restart_original_script\n</code></pre>\n\n<p>Finally, I know the command \"command_to_restart_original_script\". That isn't the problem. What need is the python command to \"somehow call external script external.sh\". I need the external script (which is a child process) to keep running as the parent process original_script.py is restarting, ie I need the child process to be detached/daemonized. How do I do this?</p>\n"}, {"tags": ["python", "floating-point", "decimal"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1583832804, "post_id": 29661465, "comment_id": 107238002, "body": "FYI the decimal part of a float is called the <i>mantissa</i>"}], "answers": [{"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 12, "last_activity_date": 1429134351, "creation_date": 1429134351, "answer_id": 29661500, "question_id": 29661465, "link": "https://stackoverflow.com/questions/29661465/how-to-extract-the-decimal-value-of-float-in-python/29661500#29661500", "title": "How to extract the decimal value of float in python", "body": "<p>You can do just a simple operation</p>\n\n<pre><code>dec = 6.57312 % 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 7, "last_activity_date": 1429134684, "last_edit_date": 1429134684, "creation_date": 1429134365, "answer_id": 29661504, "question_id": 29661465, "link": "https://stackoverflow.com/questions/29661465/how-to-extract-the-decimal-value-of-float-in-python/29661504#29661504", "title": "How to extract the decimal value of float in python", "body": "<p><a href=\"https://docs.python.org/2/library/math.html#math.modf\" rel=\"nofollow\"><code>math.modf</code></a> does that. It also has the advantage that you get the whole part in the same operation.</p>\n\n<pre><code>import math\nf,i = math.modf(6.57312)\n# f == .57312, i==6.0\n</code></pre>\n\n<p>Example program:</p>\n\n<pre><code>import math\ndef dec_to_ms(value):\n    frac,whole = math.modf(value)\n    return \"%d:%02d\"%(whole, frac*60)\n\nprint dec_to_ms(6.57312)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 2, "last_activity_date": 1583832257, "last_edit_date": 1583832257, "creation_date": 1429135123, "answer_id": 29661665, "question_id": 29661465, "link": "https://stackoverflow.com/questions/29661465/how-to-extract-the-decimal-value-of-float-in-python/29661665#29661665", "title": "How to extract the decimal value of float in python", "body": "<p>You can do this also</p>\n\n<pre><code>num = 6.57312\ndec = num - int(num)\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4793967, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101851445445387/picture?type=large", "display_name": "Evan Gilbert Long", "link": "https://stackoverflow.com/users/4793967/evan-gilbert-long"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1583832294, "creation_date": 1429134193, "last_edit_date": 1583832294, "question_id": 29661465, "link": "https://stackoverflow.com/questions/29661465/how-to-extract-the-decimal-value-of-float-in-python", "title": "How to extract the decimal value of float in python", "body": "<p>I have a program that is a converter for times in minutes and seconds and returns a float value with a decimal, for example:</p>\n\n<p><code>6.57312</code></p>\n\n<p>I would like to extract the <code>.57312</code> part in order to convert it to seconds.</p>\n\n<p>How can I get python to take only the value after the decimal point and put it into a variable that I can then use for the conversion?</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 2, "creation_date": 1429133850, "post_id": 29661360, "comment_id": 47462337, "body": "you didnt returned anything"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1429133875, "post_id": 29661360, "comment_id": 47462347, "body": "It depends on how data is displayed in the file"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1429133881, "post_id": 29661360, "comment_id": 47462353, "body": "What makes you think you are going wrong? Looks good so far, although you haven&#39;t yet done the actual calculating and returning of the average."}, {"owner": {"reputation": 58515, "user_id": 205930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5Uk5W.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/205930/alex"}, "edited": false, "score": 0, "creation_date": 1429133903, "post_id": 29661360, "comment_id": 47462364, "body": "That attempt doesn&#39;t look complete. Is there more to the function?"}, {"owner": {"reputation": 41, "user_id": 4757058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2e12408c9c3832f2a7baa46137640e25?s=128&d=identicon&r=PG&f=1", "display_name": "Maddie", "link": "https://stackoverflow.com/users/4757058/maddie"}, "edited": false, "score": 0, "creation_date": 1429133948, "post_id": 29661360, "comment_id": 47462379, "body": "I was pretty confident in what I have so far, but I can&#39;t get past this. Everything I&#39;ve tried doesn&#39;t work past this part."}, {"owner": {"reputation": 41, "user_id": 4757058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2e12408c9c3832f2a7baa46137640e25?s=128&d=identicon&r=PG&f=1", "display_name": "Maddie", "link": "https://stackoverflow.com/users/4757058/maddie"}, "edited": false, "score": 0, "creation_date": 1429134056, "post_id": 29661360, "comment_id": 47462436, "body": "I guess what I should really ask is how do I find the average itself. How do I find the sum of the clsavg. I know I must return something once I am done."}, {"owner": {"reputation": 4813, "user_id": 4663466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TvczL.png?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/4663466/scott"}, "edited": false, "score": 0, "creation_date": 1429134112, "post_id": 29661360, "comment_id": 47462468, "body": "Without an example of your filename.txt it&#39;s hard to answer specifically.  If each line in the text has Name, Integer then you can sum all integers (parts[1]) and divide by the number of lines or increment an index and divide by that."}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1429134170, "post_id": 29661360, "comment_id": 47462497, "body": "You will learn more by figuring out how to calculate the average yourself than if someone here gives you the answer. Keep trying. If you need help, talk to a TA or go to your professor&#39;s office hours."}, {"owner": {"reputation": 41, "user_id": 4757058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2e12408c9c3832f2a7baa46137640e25?s=128&d=identicon&r=PG&f=1", "display_name": "Maddie", "link": "https://stackoverflow.com/users/4757058/maddie"}, "edited": false, "score": 0, "creation_date": 1429134187, "post_id": 29661360, "comment_id": 47462501, "body": "My filename looks exactly how it is formatted in the given example with Smith 82...and so on. New line for each teacher and then a tab in between the name and number."}], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 0, "last_activity_date": 1429133899, "creation_date": 1429133899, "answer_id": 29661395, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661395#29661395", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>The function needs an argument. It also needs to return the average, so there should be a <code>return</code> statement at the end.</p>\n\n<pre><code>def calc_average(file_name):\n    ...\n    return &lt;something&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 448, "user_id": 4040096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2183110b97c8cf6bca6140493a4a79a?s=128&d=identicon&r=PG&f=1", "display_name": "Registered User", "link": "https://stackoverflow.com/users/4040096/registered-user"}, "edited": false, "score": 0, "creation_date": 1429135270, "post_id": 29661482, "comment_id": 47462994, "body": "Explaining the thing that you did here would help, since Maddie is new to python."}], "tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 0, "last_activity_date": 1429135474, "last_edit_date": 1429135474, "creation_date": 1429134266, "answer_id": 29661482, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661482#29661482", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>You didnt calculated the average.Also didnt return anything from the function <code>calc_average</code>.So try this</p>\n\n<pre><code>def calc_average():\n    with open('filename.txt') as text:\n        nums = [int(i.split()[1]) for i in text]\n        avg = float(sum(nums)) / float(len(nums))\n        return avg\n&gt;&gt;&gt;print(calc_average())\n82.6666666667\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4813, "user_id": 4663466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TvczL.png?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/4663466/scott"}, "is_accepted": false, "score": 0, "last_activity_date": 1429134860, "last_edit_date": 1429134860, "creation_date": 1429134449, "answer_id": 29661525, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661525#29661525", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>To continue using mostly your own code and your example, you could do:</p>\n\n<pre><code>def calc_average(filename):\n    infile = open(filename, \"r\")\n    readlines = infile.readlines()\n    average = 0 # use this to sum all grades\n    index = 0 # keep track of how many records or lines in our txt\n    for line in readlines:\n        parts = line.split()\n        name = parts[0] # basically useless\n        # for each line in txt we sum all grades\n        average = average + float(parts[1]) # need to convert this string to a float\n        index = index + 1\n    # divide by the number of entries in your txt file to get the class average\n    return average / index\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>calc_average('grades.txt')\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>82.66666666666667\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 3056150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ad181641c16d56f903a3bd9c0d109a?s=128&d=identicon&r=PG&f=1", "display_name": "user3056150", "link": "https://stackoverflow.com/users/3056150/user3056150"}, "is_accepted": false, "score": 0, "last_activity_date": 1429134534, "creation_date": 1429134534, "answer_id": 29661543, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661543#29661543", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<pre><code>def calc_average():\n    infile = open(\"filename.txt\", \"r\")\n    readlines = infile.readlines()\n    clsavg = 0\n    counter = 0\n    for line in readlines:\n        parts = line.split()\n        clsavg =  clsavg+ float(parts[1])\n        counter = counter + 1\n    print clsavg/counter\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4638313"}, "is_accepted": false, "score": 2, "last_activity_date": 1429134768, "creation_date": 1429134768, "answer_id": 29661595, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661595#29661595", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<pre><code>def calc_average():\n    infile = open(\"filename.txt\", \"r\")\n    readlines = infile.readlines()\n    for line in readlines:\n        parts = line.split()\n        name = parts[0]\n        clsavg = parts[1]\n        average = 0\n</code></pre>\n\n<p>After all that, you're just literally sending something into the function, but not asking for anything to come out.</p>\n\n<p>Using <code>return</code> will help get something out of the function. </p>\n\n<p><code>return [variable]</code> is a way to use it.</p>\n\n<p>Here:</p>\n\n<p>Add this line\n<code>return [variable]</code> to the end of your code, such that it looks like this:  </p>\n\n<pre><code>def calc_average():\n    infile = open(\"filename.txt\", \"r\")\n    readlines = infile.readlines()\n    for line in readlines:\n        parts = line.split()\n        name = parts[0]\n        clsavg = parts[1]\n        average = 0\n    return variable #where you replace variable with \n                    #the thing you want to get out of your function\n</code></pre>\n\n<p>To call this function (or should i say \"run\" it) just write the name of it, but dedented.</p>\n\n<pre><code>def calc_average():\n    infile = open(\"filename.txt\", \"r\")\n    readlines = infile.readlines()\n    for line in readlines:\n        parts = line.split()\n        name = parts[0]\n        clsavg = parts[1]\n        average = 0\n    return variable\ncalc_average() #&lt;- this calls the function\n</code></pre>\n\n<p>You might also want to read up on <em>parameters</em>:</p>\n\n<p>parametere are values passed into a function and are used.</p>\n\n<p>Example:</p>\n\n<pre><code>def test1(number):\n    number = number + 1 #this can be written as number += 1 as well\n    return number\nx = test1(5)\n</code></pre>\n\n<p>First I define the function with a <code>number</code> parameter. This would mean that <code>number</code> will be used in this function. Notice how the lines below <code>def test1(number)</code> also use the variable <code>number</code>. whatever is passed into the function as <code>number</code> will be considered <code>number</code> in the function.</p>\n\n<p>Then, I call the function and use <code>5</code> as a parameter.</p>\n\n<p>When it's called, the function takes <code>5</code> (since that was the input parameter) and stores the variable <code>number</code> as 5.(from <code>def test1(number)</code>) Thus, It's like writing <code>number = 5</code> in the function itself.</p>\n\n<p>Afterwards, <code>return number</code> will take the number (which in this case is added to become 6, <code>number = 6</code>) and give it back to the outside code. Thus, it's like saying <code>return 6</code>. </p>\n\n<p>Now back to the bottom few lines. <code>x = test1(5)</code> will make x = 6, since the function returned 6.</p>\n\n<p>Hope I helped you understand functions more.</p>\n"}, {"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1429134954, "creation_date": 1429134954, "answer_id": 29661631, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661631#29661631", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>Alright, let's look at this, part by part:</p>\n\n<blockquote>\n  <p>Write a function called calc_average</p>\n</blockquote>\n\n<pre><code>def calc_average():\n</code></pre>\n\n<blockquote>\n  <p>that takes a string representing a filename</p>\n</blockquote>\n\n<p>let's make this a meaningful variable name:</p>\n\n<pre><code>def calc_average(filename):\n</code></pre>\n\n<p>Now that we have the basics down, let's talk about how to actually solve your problem:</p>\n\n<p>Each line in your file contains a name and a grade. You want to keep track of the grades so that you can compute the average out of them. So, you need to be able to:</p>\n\n<ol>\n<li>read a file one line at a time</li>\n<li>split a line and take the relevant part</li>\n<li>compute the average of the relevant parts</li>\n</ol>\n\n<p>So, it seems that holding the relevant parts in a list would be helpful. We would then need a function that computes the average of a list of numbers. So let's write that</p>\n\n<pre><code>def average(L):\n    sum = 0\n    for num in L:\n        sum += num\n    return sum/len(L)\n</code></pre>\n\n<p>Of course, there's an easier way to write this:</p>\n\n<pre><code>def average(L):\n    return sum(L)/len(L)  # python has a built-in sum function to compute the sum of a list\n</code></pre>\n\n<p>Now that we have a function to compute the average, let's read the file and create a list of numbers whose average we want to compute:</p>\n\n<pre><code>def read_from_file(filename):\n    answer = []  # a list of all the numbers in the file\n    with open(filename) as infile:  # open the file to read\n        for line in infile:\n            parts = line.split()\n            grade = int(parts[-1])  # the integer value of the last entity in that line\n            answer.append(grade)\n    return answer\n</code></pre>\n\n<p>Now that we have a function that returns the relevant information from a file, and a function that computes averages, we just have to use the two together:</p>\n\n<pre><code>def calc_average(filename):\n    numbers = read_from_file(filename)\n    answer = average(numbers)\n    return answer\n</code></pre>\n\n<p>Now, you might notice that you don't need to keep track of each number, as you just sum them up and divide by the number of numbers. So, this can be done more concisely as follows:</p>\n\n<pre><code>def calc_average(filename):\n    nums = 0\n    total = 0\n    with open(filename) as infile:\n        for line in infile:\n            total += int(line.split()[-1])\n            nums += 1\n    return total/nums\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 4678699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8908874016fe10d30993fb4c06ff954a?s=128&d=identicon&r=PG&f=1", "display_name": "fpeelo", "link": "https://stackoverflow.com/users/4678699/fpeelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1429135593, "creation_date": 1429135593, "answer_id": 29661769, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin/29661769#29661769", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>First thing you're doing wrong is not marking the source code in your post, as source code. Put it on separate lines to the rest of your post, and use the <code>{}</code> link at the top of the editor to mark it as source code. Then it should come out like this:</p>\n\n<pre><code>def calc_average(): \n  infile = open(\"filename.txt\", \"r\") \n  readlines = infile.readlines() \n  for line in readlines: \n    parts = line.split() \n    name = parts[0] \n    clsavg = parts[1] \n    average = 0\n</code></pre>\n\n<p>You should do the same with the file contents: I am assuming that you have one name and one number per line.</p>\n\n<p>If you want to put a snippet of code inline with your text, e.g. \"the <code>foo()</code> function\", put a backtick each side of the code. The backtick is like an accent grave, and is sometimes very wrongly used as an opening quote char in text files. </p>\n\n<p>Next, you were to write a function that takes a string containing a filename. But you have</p>\n\n<pre><code>def calc_average(): \n  infile = open(\"filename.txt\", \"r\") \n</code></pre>\n\n<p>That doesn't take anything. How about</p>\n\n<pre><code>def calc_average(filename): \n  infile = open(filename, \"r\") \n</code></pre>\n\n<p>Now, what your function is doing is, reading the lines ok, splitting them into a name and a number -- but both are still strings, and the string containing the number is put in the variable <code>clsavg</code>, and then just setting the variable <code>average</code> to 0 every time a line is read. </p>\n\n<p>But what do you want to do? I think when you say \"class average\", these are all people in a class, the numbers are their scores, and you want to calculate the average of the numbers? So that means adding up all the numbers, and dividing by the number of rows in the file. </p>\n\n<p>So you need to set a variable to 0 ONCE, before the loop starts, then on each time you read a line, increment it by the number value. I would imagine the clsavg variable would be the one to use. So you need to convert <code>parts[1]</code> to an integer. You can use <code>int()</code> for that. Then you need to increment it, with <code>+=</code> or with a statement like <code>x = x + y</code>. Ask google if you want more details. That way you build up a total value of all the numbers. Finally, after the loop is finished (meaning on a line that is only indented as far as the <code>for</code>), you need to divide the total by the number of rows. That would be the number of elements in <code>readlines</code>. You should google the <code>len()</code> function. Division uses the <code>/</code> operator. You can use <code>x /= y</code> to set x to the value of x/y.</p>\n\n<p>That's making lots of assumptions: that you want an integer average, that every line in the file has the name and number (no blank lines or comments etc.) By the way, you can use <code>float()</code> instead of <code>int()</code> if you want more precision. </p>\n"}], "owner": {"reputation": 41, "user_id": 4757058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2e12408c9c3832f2a7baa46137640e25?s=128&d=identicon&r=PG&f=1", "display_name": "Maddie", "link": "https://stackoverflow.com/users/4757058/maddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 7, "score": 0, "last_activity_date": 1429135593, "creation_date": 1429133734, "last_edit_date": 1429134021, "question_id": 29661360, "link": "https://stackoverflow.com/questions/29661360/i-cant-properly-define-a-function-in-python-can-anyone-tell-me-where-i-am-goin", "title": "I can&#39;t properly define a function in Python. Can anyone tell me where I am going wrong?", "body": "<p>The directions are to:\nWrite a function called calc_average that takes a string representing a filename of the following format, for example:</p>\n\n<pre><code>Smith 82\nJones 75\nWashington 91\n</code></pre>\n\n<p>The function should calculate and return the class average from the data in the file.</p>\n\n<p>So far I have:</p>\n\n<pre><code>def calc_average():\n    infile = open(\"filename.txt\", \"r\")\n    readlines = infile.readlines()\n    for line in readlines:\n        parts = line.split()\n        name = parts[0]\n        clsavg = parts[1]\n        average = 0\n</code></pre>\n\n<p>I have tried to work past this part, but I can't find the right way to do the average. Any suggestions? I only need the function and the file is only an example.</p>\n"}, {"tags": ["python", "python-2.7", "openpyxl"], "comments": [{"owner": {"reputation": 8189, "user_id": 14894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/efaf53f5fc4619b19e56d7ea11abb211?s=128&d=identicon&r=PG", "display_name": "CMPalmer", "link": "https://stackoverflow.com/users/14894/cmpalmer"}, "edited": false, "score": 0, "creation_date": 1441983764, "post_id": 29661324, "comment_id": 52910992, "body": "Well, the answer below is OK, but it doesn&#39;t address the problem (which I&#39;m seeing as well). Really annoying behavior."}], "answers": [{"tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": 2, "last_activity_date": 1429205872, "creation_date": 1429205872, "answer_id": 29682137, "question_id": 29661324, "link": "https://stackoverflow.com/questions/29661324/column-set-to-hidden-when-editing-existing-xlsx-file/29682137#29682137", "title": "Column set to hidden when editing existing xlsx file", "body": "<p>You can hide columns using the relevant ColumnDimension object:</p>\n\n<pre><code>col_d = ws.column_dimensions['A']\ncol_d.hidden = False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5240651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzM0mE7AoOY/AAAAAAAAAAI/AAAAAAAAAB0/zeVqPItgXPk/photo.jpg?sz=128", "display_name": "Ethan H.", "link": "https://stackoverflow.com/users/5240651/ethan-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1455068826, "creation_date": 1455068826, "answer_id": 35305508, "question_id": 29661324, "link": "https://stackoverflow.com/questions/29661324/column-set-to-hidden-when-editing-existing-xlsx-file/35305508#35305508", "title": "Column set to hidden when editing existing xlsx file", "body": "<p>I had the same issue while using openpyxl 2.2.6.</p>\n\n<p>Columns are hidden for uncertain reason in new created files.</p>\n\n<p>But problem solved when I upgrade openpyxl to 2.3.3.</p>\n\n<p>So if you still have this issue, maybe try to upgrade the module to latest version.</p>\n"}], "owner": {"reputation": 1280, "user_id": 850276, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/85458feac00c538a9689d43ee0f3c8d6?s=128&d=identicon&r=PG", "display_name": "jtomasrl", "link": "https://stackoverflow.com/users/850276/jtomasrl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1989, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1455068826, "creation_date": 1429133561, "question_id": 29661324, "link": "https://stackoverflow.com/questions/29661324/column-set-to-hidden-when-editing-existing-xlsx-file", "title": "Column set to hidden when editing existing xlsx file", "body": "<p>I'm editing a current template.xlsx using openpyxl library, but when adding new values to one of the worksheets, the columns get hidden</p>\n\n<pre><code>workbook = xlsx.load_workbook(filename='template.xlsx')\nws  = workbook.get_sheet_by_name('DB')\n\nfor row in DATA_FROM_DATABASE:\n  obj = [row.year, row.date, row.product, row.amount]\n\n  for j in range(len(obj)):\n    ws.cell(column=j+1, row=i).value = obj[j]\n\nworkbook.save('out.xlsx')\n</code></pre>\n\n<p>On the file out.xlsx, the columns 1 from len(obj) from worksheet DB get set to hidden and the first column from the first worksheet. Is there a way to fix this or to set all the columns back to visible?</p>\n"}, {"tags": ["python", "django", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 4029071, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001146045521/picture?type=large", "display_name": "Trent DeLisle", "link": "https://stackoverflow.com/users/4029071/trent-delisle"}, "edited": false, "score": 0, "creation_date": 1429251081, "post_id": 29662812, "comment_id": 47519674, "body": "<code>The first argument to a Django Form is data, but you want to use the instance arguments [1].</code> Got it to work now, Thank you."}], "tags": [], "owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "is_accepted": true, "score": 1, "last_activity_date": 1429140791, "creation_date": 1429140791, "answer_id": 29662812, "question_id": 29661309, "link": "https://stackoverflow.com/questions/29661309/how-to-grab-data-from-fields-in-the-model-and-populate-them-to-a-django-form/29662812#29662812", "title": "How to grab data from fields in the model and populate them to a django form", "body": "<p>I believe it is because of this line; <code>LayoutUpdateForm = LayoutForm(MyLayout)</code>. The first argument to a Django Form is <code>data</code>, but you want to use the <code>instance</code> arguments [1]. Try changing it to <code>LayoutUpdateForm = LayoutForm(instance=MyLayout)</code>. </p>\n\n<p>NOTE: This assumes your <code>LayoutForm</code> is inherited from <code>forms.ModelForm</code>.</p>\n\n<p>[1] <a href=\"https://github.com/django/django/blob/master/django/forms/models.py#L313\" rel=\"nofollow\">https://github.com/django/django/blob/master/django/forms/models.py#L313</a></p>\n"}], "owner": {"reputation": 83, "user_id": 4029071, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001146045521/picture?type=large", "display_name": "Trent DeLisle", "link": "https://stackoverflow.com/users/4029071/trent-delisle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 29662812, "answer_count": 1, "score": 0, "last_activity_date": 1429140791, "creation_date": 1429133499, "last_edit_date": 1429133883, "question_id": 29661309, "link": "https://stackoverflow.com/questions/29661309/how-to-grab-data-from-fields-in-the-model-and-populate-them-to-a-django-form", "title": "How to grab data from fields in the model and populate them to a django form", "body": "<p>I'm currently constructing a create layout page for users to input values and use within a template. My problem right now is in my view function I can't get the field data out of the model and repopulate it into a django form. I want only 1 data entry for the Layout model that is always grabbed and put into the form so the user can edit then resave it. This issue will reside in the View.py. Here is what i have:</p>\n\n<p><strong><em>View.py:</em></strong></p>\n\n<pre><code>def create_layoutform(request, template_name='layout/create.html'):\n    if len(Layout.objects.all()) &gt; 0:\n        # if you have a form, load it\n        MyLayout = Layout.objects.get(pk=1)\n        LayoutUpdateForm = LayoutForm(MyLayout)    \n\n        tmpl_vars = {\n            'layoutupdateform':LayoutUpdateForm,\n        }\n        return render(request, template_name, tmpl_vars)\n    else:\n        layout_form = LayoutForm(request.POST or None)\n        layout = layout_form.save(commit=False)\n        layout.save()\n        tmpl_vars = {\n            'layoutform':layout_form,\n        }\n        return render(request, template_name, tmpl_vars)\n</code></pre>\n\n<p><strong>My print output for the view: Layout.objects.get(pk=1)</strong></p>\n\n<p><strong>Grabs just the name of the model (Layout object)</strong></p>\n"}, {"tags": ["python", "json", "dictionary"], "comments": [{"owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 5, "creation_date": 1429133725, "post_id": 29661297, "comment_id": 47462268, "body": "Did you try to sort entries before <code>json.dumps</code>?"}, {"owner": {"reputation": 163, "user_id": 1978191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZRYP.jpg?s=128&g=1", "display_name": "mike10010100", "link": "https://stackoverflow.com/users/1978191/mike10010100"}, "reply_to_user": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 0, "creation_date": 1429134616, "post_id": 29661297, "comment_id": 47462710, "body": "That works. Silly me. The added code: <code>rolo.entries = sorted(rolo.entries, key=attrgetter(&#39;lastname&#39;, &#39;firstname&#39;))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 1978191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZRYP.jpg?s=128&g=1", "display_name": "mike10010100", "link": "https://stackoverflow.com/users/1978191/mike10010100"}, "edited": false, "score": 0, "creation_date": 1429134710, "post_id": 29661495, "comment_id": 47462754, "body": "Alternatively: <code>rolo.entries = sorted(rolo.entries, key=attrgetter(&#39;lastname&#39;, &#39;firstname&#39;))</code>  Thank you for your help. For some reason it didn&#39;t click that I could ensure that the list was sorted before dumping to json."}], "tags": [], "owner": {"reputation": 3269, "user_id": 429555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e970e0e5d130ae179f5cfa9b3079b76?s=128&d=identicon&r=PG", "display_name": "ferhat", "link": "https://stackoverflow.com/users/429555/ferhat"}, "is_accepted": true, "score": 2, "last_activity_date": 1429134339, "creation_date": 1429134339, "answer_id": 29661495, "question_id": 29661297, "link": "https://stackoverflow.com/questions/29661297/ordering-a-json-dumps-by-a-value-in-one-of-the-lists-of-the-class-in-python/29661495#29661495", "title": "Ordering a JSON dumps by a value in one of the lists of the class in python", "body": "<p>You can achieve it via sorting before converting into json.</p>\n\n<p>For example:</p>\n\n<pre><code>entries.sort(key=lambda e: e['lastname']+e['firstname'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1447, "user_id": 568855, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c28f51f88953dfcf4b923f0b247c6682?s=128&d=identicon&r=PG", "display_name": "Underyx", "link": "https://stackoverflow.com/users/568855/underyx"}, "is_accepted": false, "score": 0, "last_activity_date": 1429135790, "creation_date": 1429135790, "answer_id": 29661809, "question_id": 29661297, "link": "https://stackoverflow.com/questions/29661297/ordering-a-json-dumps-by-a-value-in-one-of-the-lists-of-the-class-in-python/29661809#29661809", "title": "Ordering a JSON dumps by a value in one of the lists of the class in python", "body": "<p>If I'm understanding this correctly, your issue here is merely that <code>Rolodex.entries</code> is in insertion order, not sorted by the names as you want them to. You could make that attribute a property instead of the regular attribute which it currently is, and have the setter sort the attribute on every insertion. Here's how:</p>\n\n<pre><code>class Rolodex(object):\n    def __init__(self):\n        self.errors = []\n        self._entries = []\n\n    @property\n    def entries(self):\n        self._entries.sort(key=lambda x: (x.lastname, x.firstname))\n        return self._entries\n</code></pre>\n\n<p>The way this works is that your entries list is actually stored in <code>Rolodex._entries</code>, a private attribute of the Rolodex instance. Now, to make <code>Rolodex.entries</code> work as you want it to, we make it a <a href=\"https://docs.python.org/2/library/functions.html#property\" rel=\"nofollow\">property</a>. What this essentially means is that you define a method that should be ran every time something tries to access the entries, including of course <code>json.dumps()</code>. In this specific case, we sort the private entries list of your class based on your criteria, and then just return that, every time anything accesses it.</p>\n\n<p>Note that you have to inherit from <code>object</code> with your classes for this functionality to work (this is how you use <a href=\"https://www.python.org/doc/newstyle/\" rel=\"nofollow\">new-style classes</a>, and you should make a habit of always inheriting from <code>object</code>, anyway.)</p>\n\n<p>Also note that this implementation is rather inefficient, but is the most readable and easiest to understand that I could come up with. You most likely don't need better performance, either\u2014but if I'm wrong on this one, you should look into the <a href=\"https://docs.python.org/2/library/bisect.html\" rel=\"nofollow\">bisect</a> module and use that for efficient insertion in your list, with a setter method you can read about in the property documentation I linked above.</p>\n"}], "owner": {"reputation": 163, "user_id": 1978191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZRYP.jpg?s=128&g=1", "display_name": "mike10010100", "link": "https://stackoverflow.com/users/1978191/mike10010100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 29661495, "answer_count": 2, "score": 0, "last_activity_date": 1429135790, "creation_date": 1429133453, "question_id": 29661297, "link": "https://stackoverflow.com/questions/29661297/ordering-a-json-dumps-by-a-value-in-one-of-the-lists-of-the-class-in-python", "title": "Ordering a JSON dumps by a value in one of the lists of the class in python", "body": "<p>I'm having a bit of trouble with ordering my JSON output. Below is the class Rolodex, which contains the two lists entries and errors. Now the output is properly formatted, as shown below, but I'm having issues with how it's being ordered.</p>\n\n<pre><code>class Rolodex:\n  def __init__(self):\n    self.entries = []\n    self.errors = []\n\nclass Entry:\n  def __init__(self):\n    color = None\n    firstname = None\n    lastname = None\n    phonenumber = None\n    zipcode = None\n\ndef encode_rolo(obj):\n  if isinstance(obj, Entry):\n    return obj.__dict__\n  else:\n    raise TypeError(\"Unserializable object {} of type {}\".format(obj,type(obj)))\n\noutput.write(json.dumps(rolo.__dict__, sort_keys=True, indent=4, separators=(',', ': '), default=encode_rolo).encode('utf-8'))\n</code></pre>\n\n<p>Here's the output (truncated):</p>\n\n<pre><code>{\n    \"entries\": [\n        {\n            \"color\": \"aqua marine\",\n            \"firstname\": \"Ria\",\n            \"lastname\": \"Tillotson\",\n            \"phonenumber\": \"196-910-5548\",\n            \"zipcode\": \"97671\"\n        },\n        {\n            \"color\": \"blue\",\n            \"firstname\": \"Annalee\",\n            \"lastname\": \"Loftis\",\n            \"phonenumber\": \"905-329-2054\",\n            \"zipcode\": \"97296\"\n        },\n        ...\n\n    ],\n    \"errors\": [\n        1,\n        6,\n        ...\n    ]\n}\n</code></pre>\n\n<p>As you can see, the keys in the entries list are ordered just fine. But I want to be able to order the entries themselves by (Lastname, Firstname). Is there some way to do that with json.dumps?</p>\n"}, {"tags": ["python", "matlab", "python-2.7", "tcp-ip", "matlab-deployment"], "owner": {"reputation": 73, "user_id": 4764620, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d0d8c8833aa38326517f0943dcabe0a0?s=128&d=identicon&r=PG&f=1", "display_name": "Amro Samy", "link": "https://stackoverflow.com/users/4764620/amro-samy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1429133434, "creation_date": 1429133434, "last_edit_date": 1495540623, "question_id": 29661293, "link": "https://stackoverflow.com/questions/29661293/starting-python-tcp-server-over-matlab", "title": "Starting Python TCP server Over MATLAB", "body": "<p>I tried to create remote TCP server on MATLAB but it didn't work then I posted my problems there and there is no one answered me :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29653591/tcp-server-on-matlab\">TCP server on MATLAB</a></p>\n\n<p>so I decided to start TCP server with Python language on the matlab .. I lost hours to create this code :</p>\n\n<pre><code>clear\nclc\nimport py.textwrap.wrap\nimport py.socket.socket\n\nsocket=py.importlib.import_module('socket')\nserver = socket.socket(socket.AF_INET, socket.SOCK_STREAM);\n\n\n\n\nserver.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, py.str(1))\n\na=py.int(1000);\nserver_addr=py.tuple({'192.168.1.6',a});\n\n\nserver.bind(server_addr);\nserver.listen(50)\nconnection_1=connection(1)\ndata = connection_1.recv()\n\ndata = connection.recv(1024)\n</code></pre>\n\n<p>every things went fine until I wrote <code>data = connection.recv(1024)</code>\nI can't read the received data coz the variable <code>connection</code> return with type of tuple and the accepted type of data is class 'socket._socketobject' </p>\n\n<p>client code:</p>\n\n<pre><code>import socket\nimport sys\n\n# Create a TCP/IP socket\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# Connect the socket to the port where the server is listening\nserver_address = ('192.168.1.6', 1000)\nprint &gt;&gt;sys.stderr, 'connecting to %s port %s' % server_address\nsock.connect(server_address)\nsock.sendall('1')\n</code></pre>\n\n<p>the latest error was:\nNo appropriate method, property, or field 'recv' for class 'py.tuple'.\nso I have to convert type of the variable 'connection' to be accepted to 'recv()' function </p>\n\n<p>this is how MATLAB see the variable 'connection_1'</p>\n\n<pre><code>connection_1 = \n\n  Python tuple with no properties.\n\n    (&lt;socket._socketobject object at 0x0000000020963730&gt;,\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-sqlalchemy", "multi-tenant"], "comments": [{"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 0, "creation_date": 1429147543, "post_id": 29661159, "comment_id": 47466873, "body": "Have you seen <a href=\"http://stackoverflow.com/questions/7923966/flask-sqlalchemy-with-dynamic-database-connections\" title=\"flask sqlalchemy with dynamic database connections\">stackoverflow.com/questions/7923966/&hellip;</a> and if so, what further questions do you have?"}, {"owner": {"reputation": 791, "user_id": 1424734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6b3a9583546e363ff169788254bc0bfa?s=128&d=identicon&r=PG", "display_name": "jstol", "link": "https://stackoverflow.com/users/1424734/jstol"}, "reply_to_user": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 3, "creation_date": 1429224511, "post_id": 29661159, "comment_id": 47511582, "body": "@SeanVieira Thanks - I just checked that answer out and it seems to make sense. I&#39;m thinking of making a scoped session per request and storing it in <code>flask.g</code>. I&#39;m mostly confused about how to set up the class itself. In the example, <code>User</code> is a subclass of <code>db.Model</code>, and <code>db</code> is initialized from the <code>SQLALCHEMY_DATABASE_URI</code>. Would having <code>User</code> inherit from a base class created with <code>sqlalchemy.ext.declarative.declarative_base()</code> work as well, or is there another class I can use instead of Flask-SQLAlchemy&#39;s <code>db.Model</code> which doesn&#39;t depend on a specific database configuration?"}, {"owner": {"reputation": 697, "user_id": 1420455, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08938a0dc8e293db7729b4eae86e8c42?s=128&d=identicon&r=PG", "display_name": "tryexceptcontinue", "link": "https://stackoverflow.com/users/1420455/tryexceptcontinue"}, "edited": false, "score": 1, "creation_date": 1465921902, "post_id": 29661159, "comment_id": 63099268, "body": "Read this: <a href=\"http://flask-sqlalchemy.pocoo.org/2.1/binds/\" rel=\"nofollow noreferrer\">flask-sqlalchemy.pocoo.org/2.1/binds</a>  then check out this: <a href=\"https://gist.github.com/adhorn/b84dc47175259992d406\" rel=\"nofollow noreferrer\">gist.github.com/adhorn/b84dc47175259992d406</a>."}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 2045599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764050cc52ccedc70ea49fcd67182bc4?s=128&d=identicon&r=PG", "display_name": "AdriVelaz", "link": "https://stackoverflow.com/users/2045599/adrivelaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1441148119, "creation_date": 1441148119, "answer_id": 32342134, "question_id": 29661159, "link": "https://stackoverflow.com/questions/29661159/dynamically-setting-flask-sqlalchemy-database-connection-in-multi-tenant-app/32342134#32342134", "title": "Dynamically setting Flask-SQLAlchemy database connection in multi-tenant app", "body": "<p>You could do something like this. FYI this is pure SQLAlchemy, not with Flask-SQLAlchemy. Hopefully you need this for read-only stuff. You can figure out some other stuff to have to write stuff, like even listeners on your session/models</p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\nfrom sqlalchemy.ext.declarative import declarative_base\n\n# an Engine, which the Session will use for connection\n# resources\nsome_engine_1 = create_engine('postgresql://scott:tiger@localhost/')\nsome_engine_2 = create_engine('postgresql://adriel:velazquez@localhost/')\n\n# create a configured \"Session\" class\nSession_1 = sessionmaker(bind=some_engine_1)\nSession_2 = sessionmaker(bind=some_engine_2)\n\n# create a Session\nsession_1 = Session_1()\nsession_2 = Session_2()\n\nBase = declarative_base()\n\nclass ModelBase(Base):\n    #different custom queries for each database\n    master_query = session_1.query_property()\n    client_1_query = session_2.query_property()\n\n\nclass User(ModelBase):\n    pass\n    #ETC\n\n\n##Accessing the different databases:\nUser.master_query.filter(User.id == 1).all()\nUser.client_1_query.filter(User.id == 1).all()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4303, "user_id": 118131, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bdea35e10065c409d05fd3604aaec1c?s=128&d=identicon&r=PG", "display_name": "Oren Mazor", "link": "https://stackoverflow.com/users/118131/oren-mazor"}, "edited": false, "score": 0, "creation_date": 1513687976, "post_id": 43098210, "comment_id": 82740571, "body": "this is the right answer for vertical partitioning but I dont think you can do horizontal with this. i.e. if I have a <code>client_id</code> column on all of my tables and I want everything with odd numbers on one box and everything with even values on the other, I dont think binds will work. I&#39;ll need sqlalchemy.ext.horizontal_shard.ShardedSession"}], "tags": [], "owner": {"reputation": 621, "user_id": 6807948, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ry7H8a1fTc/AAAAAAAAAAI/AAAAAAAAAAA/l05dXNnZcFs/photo.jpg?sz=128", "display_name": "Junyong Yao", "link": "https://stackoverflow.com/users/6807948/junyong-yao"}, "is_accepted": false, "score": 3, "last_activity_date": 1490802219, "creation_date": 1490802219, "answer_id": 43098210, "question_id": 29661159, "link": "https://stackoverflow.com/questions/29661159/dynamically-setting-flask-sqlalchemy-database-connection-in-multi-tenant-app/43098210#43098210", "title": "Dynamically setting Flask-SQLAlchemy database connection in multi-tenant app", "body": "<p>If you're using flask-sqlalchemy 0.12 or later, this feature is supported with BINDS.  </p>\n\n<pre><code>SQLALCHEMY_DATABASE_URI = 'postgres://localhost/main'\nSQLALCHEMY_BINDS = {\n'users':        'mysqldb://localhost/users',\n'appmeta':      'sqlite:////path/to/appmeta.db'\n}\n</code></pre>\n\n<p>And you can specify connection database in the model definition.  </p>\n\n<pre><code>class User(db.Model):\n    __bind_key__ = 'users'\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True)\n</code></pre>\n\n<p>It will use the mysqldb auto. For more details, you can refer official document. <a href=\"http://flask-sqlalchemy.pocoo.org/2.1/binds/\" rel=\"nofollow noreferrer\">Multiple Databases with Binds</a></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11916861, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KB5zRehRlLU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retNFPLOSs8Si9jp0xvP-30eX9kaA/photo.jpg?sz=128", "display_name": "Rupesh Desai", "link": "https://stackoverflow.com/users/11916861/rupesh-desai"}, "is_accepted": false, "score": 0, "last_activity_date": 1587045573, "creation_date": 1587045573, "answer_id": 61252137, "question_id": 29661159, "link": "https://stackoverflow.com/questions/29661159/dynamically-setting-flask-sqlalchemy-database-connection-in-multi-tenant-app/61252137#61252137", "title": "Dynamically setting Flask-SQLAlchemy database connection in multi-tenant app", "body": "<p>You will need to use SQLALCHEMY_BINDS method to bind to mult[le client database.</p>\n\n<pre><code>app.config['SQLALCHEMY_BINDS'] = { 'user1': mysql database', user2: mysqal2database'} \n</code></pre>\n\n<p>You will also need to refer to the bind_key name such as \"user1\" in the model for example:</p>\n\n<pre><code>class users(db.Model):\n   __bind_key__\n   id = db.Column(Integer, primary_key=True)\n   name = db.Column(String)\n</code></pre>\n\n<p>These method above are in addition to your main SQLALCHEMY_DATABASE_URI that you should set. While you can dynamically bind the other database on user logins method.</p>\n\n<p>Hope this is helpful!</p>\n"}], "owner": {"reputation": 791, "user_id": 1424734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6b3a9583546e363ff169788254bc0bfa?s=128&d=identicon&r=PG", "display_name": "jstol", "link": "https://stackoverflow.com/users/1424734/jstol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6587, "favorite_count": 7, "answer_count": 3, "score": 18, "last_activity_date": 1587045573, "creation_date": 1429132882, "last_edit_date": 1495541406, "question_id": 29661159, "link": "https://stackoverflow.com/questions/29661159/dynamically-setting-flask-sqlalchemy-database-connection-in-multi-tenant-app", "title": "Dynamically setting Flask-SQLAlchemy database connection in multi-tenant app", "body": "<p>I have a \"<strong>multi-tenant</strong>\" <strong>Flask</strong> web application which interfaces with 1 \"master\" MySQL database (used to look up the client information) and dozens of \"client\" MySQL databases (which all have the same schema).</p>\n\n<p>I'm currently trying to use <strong>SQLAlchemy</strong> along with the <strong>Flask-SQLAlchemy extension</strong> to interface with the databases, but I'm struggling to find a way to allow the Models I define in my app to <strong><em>dynamically switch context from one client database to another</em></strong>, depending on the client.</p>\n\n<p>On the <a href=\"https://pythonhosted.org/Flask-SQLAlchemy/quickstart.html\" rel=\"noreferrer\">Flask-SQLAlchemy site</a>, a simple example is shown along the lines of:</p>\n\n<pre><code>from flask import Flask\nfrom flask.ext.sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://username:password@Y.Y.Y.Y/db1'\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    # Etc.\n</code></pre>\n\n<p>The only problem is, the <code>SQLALCHEMY_DATABASE_URI</code> configuration is done statically. I may need to switch between <code>mysql://username:password@Y.Y.Y.Y/db1</code> and <code>mysql://username:password@Z.Z.Z.Z/db1</code> (or any other arbitrary MySQL URI), depending on which client is making the request.</p>\n\n<p>I've found some similar questions (see below), but I have yet to figure out a clean way to do it when using the Flask-SQLAlchemy extension specifically.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1857465/with-sqlalchemy-how-to-dynamically-bind-to-database-engine-on-a-per-request-basi\">With sqlalchemy how to dynamically bind to database engine on a per-request basis</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/14491678/flask-sqlalchemy-setup-dynamic-uri\">Flask SQLAlchemy setup dynamic URI</a></p>\n\n<p>I've also seen some examples that were provided for handling sharded databases (which should apply as well, as the databases are essentially sharded logically by client), but, again, nothing specific to Flask-SQLAlchemy.</p>\n\n<p>If it makes sense, <strong>I'm also open to using SQLAlchemy directly, without the Flask-SQLAlchemy extension</strong>. I'm new to SQLAlchemy - any help would be greatly appreciated!</p>\n\n<p><strong>Edit</strong>: Being able to reflect the table schemas from the database would be a bonus.</p>\n"}, {"tags": ["python", "numbers"], "comments": [{"owner": {"reputation": 1059, "user_id": 2691540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/336939e40f58adfa6b22d112a7914aa0?s=128&d=identicon&r=PG&f=1", "display_name": "W1ll1amvl", "link": "https://stackoverflow.com/users/2691540/w1ll1amvl"}, "edited": false, "score": 0, "creation_date": 1429132951, "post_id": 29661132, "comment_id": 47461823, "body": "Can you elaborate? Where are you stuck/what you have tried etc. thanks."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 3, "creation_date": 1429132962, "post_id": 29661132, "comment_id": 47461836, "body": "The question doesn&#39;t make much sense... is the number an <code>int</code>, a <code>str</code>, or what? How would <code>range</code> help. Write some code and then come back with an example."}, {"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1429133087, "post_id": 29661132, "comment_id": 47461919, "body": "Not sure if this is the best method, but convert to string, loop over indices, and check the re-converted values for  &lt;2"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 1, "creation_date": 1429133147, "post_id": 29661132, "comment_id": 47461948, "body": "<code>all(c in &#39;01&#39; for c in str(a))</code> or if <code>a</code> is already a string <code>all(c in &#39;01&#39; for c in a)</code>."}, {"owner": {"reputation": 17691, "user_id": 645270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7eVm1.png?s=128&g=1", "display_name": "keyser", "link": "https://stackoverflow.com/users/645270/keyser"}, "edited": false, "score": 1, "creation_date": 1429133183, "post_id": 29661132, "comment_id": 47461968, "body": "<code>all(c in &#39;01&#39; for c in str(a))</code>* or <code>all(int(c) &lt; 2 for c in str(a))</code>"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 1, "creation_date": 1429133235, "post_id": 29661132, "comment_id": 47461993, "body": "what about negative numbers or floats?"}, {"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 2, "creation_date": 1429133389, "post_id": 29661132, "comment_id": 47462092, "body": "Check if <code>int(str(a), 2)</code> throws a <code>ValueError</code>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1429133615, "post_id": 29661132, "comment_id": 47462201, "body": "The real question: check if a number is binary."}, {"owner": {"reputation": 17691, "user_id": 645270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7eVm1.png?s=128&g=1", "display_name": "keyser", "link": "https://stackoverflow.com/users/645270/keyser"}, "edited": false, "score": 0, "creation_date": 1429133752, "post_id": 29661132, "comment_id": 47462285, "body": "Cameron will check back on this thread in a few hours and discover that people posted the same answer 6 times for some reason"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1429135461, "post_id": 29661132, "comment_id": 47463066, "body": "<code>i = 100101001 print(not str(i).translate(None,&quot;10&quot;))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1429133349, "post_id": 29661259, "comment_id": 47462066, "body": "<code>for d in range(0, len(your_number_string))</code> is quite unpythonic considering you can do <code>for c in your_number_string</code>"}, {"owner": {"reputation": 167, "user_id": 4639068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9WaxTPu0L40/AAAAAAAAAAI/AAAAAAAACC8/xp6aEa-CD3U/photo.jpg?sz=128", "display_name": "thenaterhood", "link": "https://stackoverflow.com/users/4639068/thenaterhood"}, "edited": false, "score": 0, "creation_date": 1429133457, "post_id": 29661259, "comment_id": 47462126, "body": "I agree, but I was interpreting the &quot;using range(len(&quot; to mean that was what was desired. It is a good point though, would be cleaner."}], "tags": [], "owner": {"reputation": 167, "user_id": 4639068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9WaxTPu0L40/AAAAAAAAAAI/AAAAAAAACC8/xp6aEa-CD3U/photo.jpg?sz=128", "display_name": "thenaterhood", "link": "https://stackoverflow.com/users/4639068/thenaterhood"}, "is_accepted": false, "score": 1, "last_activity_date": 1429133519, "last_edit_date": 1429133519, "creation_date": 1429133279, "answer_id": 29661259, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661259#29661259", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>Python is dynamically typed, so this is relatively easy to do. I would suggest converting your integer into a string, then iterating through the string and checking each digit.</p>\n\n<p>Using that method, the code would probably look something like:</p>\n\n<pre><code>your_number_string = str(your_number)\n\nfor d in range(0, len(your_number_string)):\n    i = your_number_string[d]\n    if (int(i) &gt; 2):\n        raise new Exception(\"Digit \" + str(i) + \"is not less than 2\")\n</code></pre>\n\n<p>Couple things to note with this: It's bad practice to throw bare Exceptions. If you like the exception route, then extend the exception class and make your own. This also assumes that your number is a valid integer. Finally, this also will only alert you for the first digit larger than two, it won't tell you about any subsequent ones that also are larger than 2. This will require some adjustments for negative numbers and floats.</p>\n"}, {"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 1, "last_activity_date": 1429133382, "creation_date": 1429133382, "answer_id": 29661282, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661282#29661282", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>You can try this</p>\n\n<pre><code>num = 123457\n&gt;&gt;&gt;all(int(i)&lt;2 for i in str(num))\nFalse\nnum = 11011\n&gt;&gt;&gt;all(int(i)&lt;2 for i in str(num))\nTrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": false, "score": 3, "last_activity_date": 1429133391, "creation_date": 1429133391, "answer_id": 29661285, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661285#29661285", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>You can convert number to string and check like this:</p>\n\n<pre><code>all(int(c) &lt; 2 for c in str(n))\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; all(int(c) &lt; 2 for c in str(1011))\nTrue\n&gt;&gt;&gt; all(int(c) &lt; 2 for c in str(1211))\nFalse\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "edited": false, "score": 1, "creation_date": 1429133608, "post_id": 29661316, "comment_id": 47462197, "body": "Plus one for creativity"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 4, "last_activity_date": 1429133523, "creation_date": 1429133523, "answer_id": 29661316, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661316#29661316", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<pre><code>def is_bin(number):\n    try:\n        int(str(number), 2)\n    except ValueError:\n        return False\n    return True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1429134626, "last_edit_date": 1495541656, "creation_date": 1429133554, "answer_id": 29661323, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661323#29661323", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>At the moment, all solutions depend on converting the number to a string. While that works, you could do it completely numerically:</p>\n\n<pre><code>def check_digits(nbr, max=1):\n    nbr = abs(nbr) # only look at a positive numbers\n    while nbr != 0:\n        nbr, rem = divmod(nbr, 10)\n        if rem &gt; max: return False\n    return True\n</code></pre>\n\n<p>The trick here is that each time the digit furthest to the right gets inspected. Once that's done, the number gets divided by 10, ignoring the remainder. So <code>1201</code> becomes <code>120</code>, which becomes <code>12</code> and the cycle stops there, because <code>divmod(12, 10)</code> is <code>(1, 2)</code>, and the remainder, <code>2</code>, is bigger than your maximum digit.</p>\n\n<p>Note that <a href=\"https://stackoverflow.com/a/29661316/2476444\">TigerhawkT3's</a> answer and @John La Rooy's comment probably nailed it (upvoted) as it is by far the most Pythonic solution. All others, including mine, work for various programming languages, TigerhawkT3's solution uses Python exceptions to good effect.</p>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 1792302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a40f97f46d35e933a4bf42239651a68?s=128&d=identicon&r=PG&f=1", "display_name": "ydobonebi", "link": "https://stackoverflow.com/users/1792302/ydobonebi"}, "is_accepted": false, "score": 0, "last_activity_date": 1429133737, "creation_date": 1429133737, "answer_id": 29661362, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python/29661362#29661362", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>Could use the good ol' fashioned method :) just take your number and extract each digit and then update your number.</p>\n\n<pre><code>while yournumber != 0 :\n    digit = yournumber % 10\n    yournumber = younumber / 10\n    if digit &lt; 2\n        do stuff\n</code></pre>\n\n<p>but I'm sure there are easier (maybe not as fast) ways.</p>\n"}], "owner": {"reputation": 11, "user_id": 4793911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BsXpFUrz_V4/AAAAAAAAAAI/AAAAAAAAAEM/s7D2UNNEfac/photo.jpg?sz=128", "display_name": "cameron kay", "link": "https://stackoverflow.com/users/4793911/cameron-kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 0, "closed_date": 1429133891, "answer_count": 6, "score": 0, "last_activity_date": 1429134626, "creation_date": 1429132815, "last_edit_date": 1429132953, "question_id": 29661132, "link": "https://stackoverflow.com/questions/29661132/how-do-i-check-if-each-digit-of-a-number-is-less-than-2-python", "closed_reason": "Duplicate", "title": "How do I check if each digit of a number is less than 2? (python)", "body": "<p>I'm trying to create a program that checks if each digit of a given number is less than 2, possibly using </p>\n\n<pre><code>range(len(a)):\n</code></pre>\n"}, {"tags": ["python", "django", "unit-testing"], "comments": [{"owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 0, "creation_date": 1429133083, "post_id": 29661112, "comment_id": 47461915, "body": "You could just add <code>cd</code> command to your pre-commit hook."}, {"owner": {"reputation": 2280, "user_id": 99640, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e77da0763a57c0b993029b75227bee71?s=128&d=identicon&r=PG", "display_name": "Chuck Wilbur", "link": "https://stackoverflow.com/users/99640/chuck-wilbur"}, "reply_to_user": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 0, "creation_date": 1429133910, "post_id": 29661112, "comment_id": 47462368, "body": "@dizballanze That has the disadvantage that I have to add another cd at the end of the command and before any intervening exits to get back to where I started and have no side effects. Don&#39;t get me wrong, I&#39;ll do it if there&#39;s no other way."}, {"owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "edited": false, "score": 1, "creation_date": 1429134305, "post_id": 29661112, "comment_id": 47462565, "body": "If you use bash, you can try run manage.py in subshell like this: <code>(cd &#47;somedir; .&#47;manage.py test)</code> this will not create any side effects."}], "answers": [{"tags": [], "owner": {"reputation": 2280, "user_id": 99640, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e77da0763a57c0b993029b75227bee71?s=128&d=identicon&r=PG", "display_name": "Chuck Wilbur", "link": "https://stackoverflow.com/users/99640/chuck-wilbur"}, "is_accepted": false, "score": 1, "last_activity_date": 1429274449, "creation_date": 1429274449, "answer_id": 29699519, "question_id": 29661112, "link": "https://stackoverflow.com/questions/29661112/can-i-run-django-tests-manage-py-from-a-different-directory/29699519#29699519", "title": "Can I run django tests (manage.py) from a different directory?", "body": "<p>Based on the comments from @dizballanze and feedback from review of the code, I wound up doing this:</p>\n\n<pre><code>(cd /somedir &amp;&amp; python manage.py test)\n</code></pre>\n\n<p>I'm still curious as to whether it's possible to run the tests without cding into the root directory of the project, though.</p>\n"}, {"comments": [{"owner": {"reputation": 558, "user_id": 2686243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4288b18daceaba70ee45ca9790b238b5?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/2686243/martin"}, "edited": false, "score": 1, "creation_date": 1533130081, "post_id": 49046418, "comment_id": 90233346, "body": "Thanks! This is really useful if you are running tests from a Makefile located outside your app directory."}, {"owner": {"reputation": 1076, "user_id": 1112506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4a40a63ba47c4950217123e1f6a84cc1?s=128&d=identicon&r=PG&f=1", "display_name": "rowman", "link": "https://stackoverflow.com/users/1112506/rowman"}, "edited": false, "score": 0, "creation_date": 1563801062, "post_id": 49046418, "comment_id": 100808684, "body": "Great answer, saved me from a headache !"}], "tags": [], "owner": {"reputation": 511, "user_id": 2515377, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5b2257ffe51a8e76b592a13d52daa760?s=128&d=identicon&r=PG", "display_name": "Kenpachi", "link": "https://stackoverflow.com/users/2515377/kenpachi"}, "is_accepted": false, "score": 10, "last_activity_date": 1525984667, "last_edit_date": 1525984667, "creation_date": 1519896133, "answer_id": 49046418, "question_id": 29661112, "link": "https://stackoverflow.com/questions/29661112/can-i-run-django-tests-manage-py-from-a-different-directory/49046418#49046418", "title": "Can I run django tests (manage.py) from a different directory?", "body": "<p>Late in answering this question. But hope this helps someone:</p>\n\n<p><code>python &lt;project_path&gt;/manage.py test &lt;your_project_dir&gt;</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/qRJo3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qRJo3.png\" alt=\"Running Django tests from another directory\"></a></p>\n\n<p>From Django documentation:</p>\n\n<blockquote>\n  <p>You can also provide a path to a directory to discover tests below that directory:</p>\n\n<pre><code>$ ./manage.py test animals/\n</code></pre>\n</blockquote>\n\n<p>References:</p>\n\n<ol>\n<li><a href=\"https://docs.djangoproject.com/en/dev/topics/testing/overview/#running-tests\" rel=\"noreferrer\">https://docs.djangoproject.com/en/dev/topics/testing/overview/#running-tests</a></li>\n<li><a href=\"https://docs.python.org/3/library/unittest.html#test-discovery\" rel=\"noreferrer\">https://docs.python.org/3/library/unittest.html#test-discovery</a></li>\n</ol>\n"}], "owner": {"reputation": 2280, "user_id": 99640, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e77da0763a57c0b993029b75227bee71?s=128&d=identicon&r=PG", "display_name": "Chuck Wilbur", "link": "https://stackoverflow.com/users/99640/chuck-wilbur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2709, "favorite_count": 3, "answer_count": 2, "score": 9, "last_activity_date": 1525984667, "creation_date": 1429132743, "last_edit_date": 1495535625, "question_id": 29661112, "link": "https://stackoverflow.com/questions/29661112/can-i-run-django-tests-manage-py-from-a-different-directory", "title": "Can I run django tests (manage.py) from a different directory?", "body": "<p>I have a pretty standard Django test case setup (I think)</p>\n\n<pre><code>api-name\n    manage.py\n    api-name\n        __init__.py\n        settings.py\n        wsgi.py\n    v0\n        project\n            stuff.py\n            tests\n                test_stuff.py\n</code></pre>\n\n<p><strong>manage.py</strong></p>\n\n<pre><code>#!/usr/bin/env python\nimport os\nimport sys\n\nif __name__ == \"__main__\":\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"api-name.settings\")\n\n    from django.core.management import execute_from_command_line\n\n    execute_from_command_line(sys.argv)\n</code></pre>\n\n<p><strong>wsgi.py</strong></p>\n\n<pre><code>import sys\nimport os\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"api-name.settings\")\n\nfrom django.core.wsgi import get_wsgi_application\napplication = get_wsgi_application()\n</code></pre>\n\n<p><strong>test_stuff.py</strong></p>\n\n<pre><code>from django.test import TestCase\nfrom v0.project.stuff import *\n\n\nclass ProjectTestCase(TestCase):\n    def setUp(self):\n        # set stuff up\n\n    def test_project_stuff(self):\n        # test stuff\n\n    def test_other_stuff(self):\n        # test stuff\n</code></pre>\n\n<p>Here's what happens when I execute tests:</p>\n\n<pre><code>[cwilbur api-name]$ ./manage.py test\nCreating test database for alias 'default'...\n..\n----------------------------------------------------------------------\nRan 2 tests in 0.014s\n\nOK\nDestroying test database for alias 'default'...\n[cwilbur api-name]$ cd ..\n[cwilbur source]$ ./api-name/manage.py test\nCreating test database for alias 'default'...\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\nDestroying test database for alias 'default'...\n</code></pre>\n\n<p>Is this (tests run from the project's root directory, but not from elsewhere) expected behavior? Is there a way to change things so that it will work (I want to execute my tests from a pre-commit hook in a different directory)?</p>\n\n<p>I tried adding <code>from tests import *</code> from <a href=\"https://stackoverflow.com/a/12413069/99640\">this answer</a>, but it didn't help. I also tried moving the <code>sys.path.append</code> line from wsgi.py to manage.py, but that didn't help either.</p>\n\n<p>Any other ideas out there I can try?</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 1999, "user_id": 2866898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c3f789c8dff46eed3cfa22ee7abc00?s=128&d=identicon&r=PG", "display_name": "Arkanosis", "link": "https://stackoverflow.com/users/2866898/arkanosis"}, "edited": false, "score": 1, "creation_date": 1429133629, "post_id": 29661134, "comment_id": 47462219, "body": "I think you meant <code>Thing.__init__(self, name, location)</code>, otherwise, it&#39;ll give an infinite loop."}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1429133648, "post_id": 29661134, "comment_id": 47462226, "body": "any suggestions on how to fix def is_open(t)?"}, {"owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "reply_to_user": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1429133900, "post_id": 29661134, "comment_id": 47462362, "body": "@Jared Banton What is the desired behavior of is_open(t)? Can you give an example?"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1429134087, "post_id": 29661134, "comment_id": 47462454, "body": "@kvorobiev i want to return a boolean attribute called is_open that represents whether or not the object is open, because right now, I am returned an attribute error &#39;Openable&#39; object has no attribute &#39;try_open&#39;"}], "tags": [], "owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "is_accepted": false, "score": 7, "last_activity_date": 1429134856, "last_edit_date": 1429134856, "creation_date": 1429132824, "answer_id": 29661134, "question_id": 29661069, "link": "https://stackoverflow.com/questions/29661069/type-error-in-classes/29661134#29661134", "title": "Type error in classes", "body": "<p><code>__init__</code> of <code>class Thing</code> needs two arguments. In <code>__init__</code> of <code>class Openable</code> replace</p>\n\n<pre><code>super().__init__(name)\nsuper().__init__(location)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>super().__init__(name, location)\n</code></pre>\n\n<p>Code above will work in <strong>Python 3.x</strong>. In <strong>Python 2.x</strong> you need</p>\n\n<pre><code>super(Openable, self).__init__(name, location)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Thing.__init__(self, name, location)\n</code></pre>\n\n<p>Function <code>is_open()</code> in <code>class Openable</code> probably should look like</p>\n\n<pre><code>        def is_open():\n            return self.isOpen\n\n        def __init__(self, name, location, o=False):\n            super().__init__(name, location)\n            self.isOpen = o\n</code></pre>\n\n<p>and used</p>\n\n<pre><code>if o.is_open():\n    print(\"The \" + o.name + \" should now be open.\")\nelse:\n    print(\"The \" + o.name + \" should now be closed.\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1429133135, "post_id": 29661144, "comment_id": 47461941, "body": "The question is tagged python-3.x: the first syntax is valid in Python 3."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1429133157, "post_id": 29661144, "comment_id": 47461951, "body": "&quot;Additionally, <code>super</code> also needs some arguments&quot; - in Python 3, it actually doesn&#39;t. They had to do some weird stuff with the compiler to make it work."}], "tags": [], "owner": {"reputation": 1999, "user_id": 2866898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c3f789c8dff46eed3cfa22ee7abc00?s=128&d=identicon&r=PG", "display_name": "Arkanosis", "link": "https://stackoverflow.com/users/2866898/arkanosis"}, "is_accepted": false, "score": 8, "last_activity_date": 1429133207, "last_edit_date": 1429133207, "creation_date": 1429132843, "answer_id": 29661144, "question_id": 29661069, "link": "https://stackoverflow.com/questions/29661069/type-error-in-classes/29661144#29661144", "title": "Type error in classes", "body": "<p>You should call <code>__init__</code> once with two arguments, not twice with one argument:</p>\n\n<pre><code>super().__init__(name, location)\n</code></pre>\n\n<p>Additionally, if you were using Python 2, <code>super</code> would also require some arguments:</p>\n\n<pre><code>super(Openable, self).__init__(name, location)\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429134856, "creation_date": 1429132616, "question_id": 29661069, "link": "https://stackoverflow.com/questions/29661069/type-error-in-classes", "title": "Type error in classes", "body": "<p>I am trying to create a subclass of <code>Thing</code> called <code>Openable</code>.  When defining the <code>__init__()</code> method, I get a </p>\n\n<pre><code>type error: Traceback (most recent call last):\n  File \"/Users/jaredbanton8/Documents/things.py\", line 57, in &lt;module&gt;\n    book1 = Openable(\"Necronomicon\", \"book shelf\")\n  File \"/Users/jaredbanton8/Documents/things.py\", line 40, in __init__\n    super().__init__(name)\nTypeError: __init__() missing 1 required positional argument: 'location'\n</code></pre>\n\n<p>In my code, I have included tests for my classes.  I am not sure what is causing this error.  My code is:</p>\n\n<pre><code>    class Thing:\n        \"\"\"a class for representing physical objects in a game\n\n        attributes: name (str), location (str)\"\"\"\n        def __init__(self, name, location):\n            \"\"\"assigns values to attributes\"\"\"\n            self.name = name\n            self.location = location\n\n        def description(self):\n            \"\"\"returns str that describes the state of the object\n\n            str -&gt; str\"\"\"\n            return str('Nothing special.')\n    def test(t):\n        \"\"\"Tests the name, location, and description method of t\n\n        Thing -&gt; None\"\"\"\n        print(t.name + \" (\" + t.location + \"): \" + t.description())\n\n\nkey1 = Thing(\"golden key\", \"under door mat\")\ntest(key1)\n\nkey2 = Thing(\"rusty key\", \"jacket pocket\")\ntest(key2)\n\n    class Openable(Thing):\n        \"\"\"a class for representing those physical objects which can be opened\n\n        inherited attributes: all\"\"\"\n        def is_open(t):\n            \"\"\"returns a bool whether the object is open or not\n\n            str -&gt; bool\"\"\"\n            if is_open(t):\n                return True\n        def __init__(self, name, location, o=0):\n            \"\"\"assigns values to attributes\"\"\"\n            super().__init__(name)\n            super().__init__(location)\n            is_open = o\n\ndef test_open(o):\n    \"\"\"Tests an attempt to open o\n\n    Openable -&gt; None\"\"\"\n    print()\n    test(o)\n    print(\"Attempting to open the \" + o.name + \"...\")\n    if o.try_open():\n        print(\"The \" + o.name + \" should now be open.\")\n    else:\n        print(\"The \" + o.name + \" should now be closed.\")\n    test(o)\n\nbook1 = Openable(\"Necronomicon\", \"book shelf\")\ntest_open(book1)\n\nwindow1 = Openable(\"side window\", \"north wall\", True)\ntest_open(window1)\n</code></pre>\n"}, {"tags": ["python", "ipython", "ipython-notebook", "pdb", "ipdb"], "answers": [{"comments": [{"owner": {"reputation": 959, "user_id": 1440030, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e3212acefe5373093f3c204eb4235ec7?s=128&d=identicon&r=PG", "display_name": "Ben Kuhn", "link": "https://stackoverflow.com/users/1440030/ben-kuhn"}, "edited": false, "score": 1, "creation_date": 1429206758, "post_id": 29665709, "comment_id": 47501787, "body": "Ah! I can assign to the ipython global namespace using <code>sys.modules[&#39;__main__&#39;].foo = 1</code>. Thanks!"}], "tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 1, "last_activity_date": 1429160581, "creation_date": 1429160581, "answer_id": 29665709, "question_id": 29661014, "link": "https://stackoverflow.com/questions/29661014/how-can-i-assign-to-the-ipython-global-namespace-from-within-ipdb/29665709#29665709", "title": "How can I assign to the ipython global namespace from within ipdb?", "body": "<p>One way would be to assign the value to a <em>module-member</em> (something like a global var in module's scope), which persists after you quit the <code>pdb</code> session, since the module is already in <code>sys.modules</code>, and stays there.</p>\n\n<pre><code>1% os.path.exists(3254)\n...\nTypeError: coercing to Unicode: need string or buffer, int found\n\n2% %debug\n...\nipdb&gt; os.MYVAR = 234\nipdb&gt; q\n\n3% os.MYVAR\n3= 234\n</code></pre>\n"}], "owner": {"reputation": 959, "user_id": 1440030, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e3212acefe5373093f3c204eb4235ec7?s=128&d=identicon&r=PG", "display_name": "Ben Kuhn", "link": "https://stackoverflow.com/users/1440030/ben-kuhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 29665709, "answer_count": 1, "score": 2, "last_activity_date": 1429160581, "creation_date": 1429132389, "question_id": 29661014, "link": "https://stackoverflow.com/questions/29661014/how-can-i-assign-to-the-ipython-global-namespace-from-within-ipdb", "title": "How can I assign to the ipython global namespace from within ipdb?", "body": "<p>I have a traceback in an IPython notebook that I'm debugging with the <code>%debug</code> magic. I'd like to assign one of the objects in the traceback frame to a variable in the IPython global namespace, so that I can mess with it outside the <code>ipdb</code> prompt (which is rather clunky). What's the easiest way to do this?</p>\n\n<p>I solved this for now by pickling the object in ipdb and unpickling it from the global namespace, but I'm sure there's a better way.</p>\n"}, {"tags": ["python", "indexing"], "comments": [{"owner": {"reputation": 1678, "user_id": 637283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad72c3b6f2ce379c6effd3a0d7c6f43?s=128&d=identicon&r=PG", "display_name": "Mike Lyons", "link": "https://stackoverflow.com/users/637283/mike-lyons"}, "edited": false, "score": 1, "creation_date": 1429132457, "post_id": 29660968, "comment_id": 47461564, "body": "Think of battleships as lines on a graph"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4781247, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204191307038714/picture?type=large", "display_name": "Vince Parulan", "link": "https://stackoverflow.com/users/4781247/vince-parulan"}, "edited": false, "score": 0, "creation_date": 1429132823, "post_id": 29661042, "comment_id": 47461747, "body": "I have 2 dimensional board let&#39;s say it&#39;s 5x5 and I want to get a random 4 tiles for those(has to be a line). How do I do that?"}, {"owner": {"reputation": 3285, "user_id": 4286177, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b15ea6889ed8351f27f11368701a9774?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Dito", "link": "https://stackoverflow.com/users/4286177/anthony-dito"}, "reply_to_user": {"reputation": 1, "user_id": 4781247, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204191307038714/picture?type=large", "display_name": "Vince Parulan", "link": "https://stackoverflow.com/users/4781247/vince-parulan"}, "edited": false, "score": 0, "creation_date": 1429133484, "post_id": 29661042, "comment_id": 47462137, "body": "I edited my answer to give the algorith you could use @VinceParulan"}, {"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1429134133, "post_id": 29661042, "comment_id": 47462481, "body": "The best way is first to pick the direction (horizontal or vertical) then the left or top tile (which can&#39;t be anywhere on the board...)"}], "tags": [], "owner": {"reputation": 3285, "user_id": 4286177, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b15ea6889ed8351f27f11368701a9774?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Dito", "link": "https://stackoverflow.com/users/4286177/anthony-dito"}, "is_accepted": false, "score": 1, "last_activity_date": 1429133398, "last_edit_date": 1429133398, "creation_date": 1429132488, "answer_id": 29661042, "question_id": 29660968, "link": "https://stackoverflow.com/questions/29660968/how-do-i-get-random-range-of-index-to-create-a-battleship-python/29661042#29661042", "title": "How do I get random range of index to create a battleship? (Python)", "body": "<p>The algorithm would be something like this...</p>\n\n<p>If it were a 5x5 board that you needed to get 4 spots in a row you could have two possibilities. You could pick a spot on the board and then count down 4 to get the spaces for a battleship or pick the spot and then count down. The way that I would do this problem is to do a random choice to see if you want to go up and down. Then you could do two more random choices to get the x and the y. You just have to make sure that everything is in range based on the size of the board.</p>\n"}, {"tags": [], "owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "is_accepted": false, "score": 0, "last_activity_date": 1429136523, "last_edit_date": 1429136523, "creation_date": 1429135987, "answer_id": 29661845, "question_id": 29660968, "link": "https://stackoverflow.com/questions/29660968/how-do-i-get-random-range-of-index-to-create-a-battleship-python/29661845#29661845", "title": "How do I get random range of index to create a battleship? (Python)", "body": "<p>This seemed like a fun thing to try to write up, and while I would normally just try to nudge you in the right direction, today I decided to give you something that will generate a board with placed ships.</p>\n\n<p>It is not optimal, but fine for this application.</p>\n\n<p>Handling hits and sunken ships is left as an exercise:</p>\n\n<pre><code>import collections\nimport random\n\nDIRECTIONS = ['up', 'down', 'left', 'right']\nShip = collections.namedtuple(\"Ship\", (\"name\", \"size\", \"count\"))\nBoard = collections.namedtuple(\"Board\", (\"w\", \"h\", \"map\"))\n\nships = [Ship(\"battle\", 4, 1), Ship('submarine', 3, 1), Ship('destroyer', 3, 1), Ship(\"patrol\", 2, 1), Ship(\"carrier\", 5, 1)]\n\ndef create_board(w, h):\n    return Board(w, h, [['_'] * w for _ in range(h)])\n\n\ndef place_ships(board, ships):\n    for ship in ships:\n        for _ in range (ship.count):\n            place_ship(board, ship)\n\n\ndef place_ship(board, ship):\n    while True:\n        _x = random.randint(0, board.w - 1)\n        _y = random.randint(0, board.h - 1)\n        random.shuffle(DIRECTIONS)\n        for direction in DIRECTIONS:\n            if maybe_place(board, _x, _y, direction, ship):\n                return\n\n\ndef maybe_place(board, x, y, direction, ship):\n    if direction == \"right\":\n        right = min(board.w - 1, x + ship.size)\n        left = right - ship.size\n        slots = [(x, i) for i in range(left, right)]\n    elif direction == \"left\":\n        left = max(0, x - ship.size)\n        right = left + ship.size\n        slots = [(x, i) for i in range(left, right)]\n    elif direction == \"down\":\n        bottom = min(board.h - 1, y + ship.size)\n        top = bottom - ship.size\n        slots = [(i, y) for i in range(top, bottom)]\n    elif direction == \"up\":\n        top = max(0, y - ship.size)\n        bottom = top + ship.size\n        slots = [(i, y) for i in range(top, bottom)]\n\n    if all([board.map[x][y] == '_' for x, y in slots]):\n        for x, y in slots:\n            board.map[x][y] = ship.name[0]\n        return True\n    return False\n\n\ndef print_board(board):\n    for row in board.map:\n        for x in row:\n            print x,\n        print\n\n\nif __name__ == \"__main__\":\n    board = create_board(10, 10)\n    place_ships(board, ships)\n    print_board(board)\n</code></pre>\n\n<p>Examples of output</p>\n\n<pre><code>_ _ c _ _ _ _ _ _ _\n_ _ c _ _ _ _ _ _ _\n_ _ c _ _ _ _ _ _ _\n_ _ c _ _ _ _ _ _ _\n_ _ c _ p p _ _ _ _\n_ _ _ _ _ b _ _ _ _\n_ _ _ _ _ b _ _ _ _\n_ _ _ _ _ b s s s _\n_ _ _ _ _ b _ _ _ _\n_ _ _ _ _ _ d d d _\n\n\n_ _ _ c b _ _ _ _ _\n_ _ _ c b _ _ _ _ _\n_ _ _ c b _ _ _ _ _\n_ _ _ c b _ _ _ _ _\n_ _ _ c _ _ _ _ _ _\n_ _ _ _ _ _ _ _ d _\n_ _ _ _ _ _ p p d _\n_ _ _ _ _ _ _ _ d _\n_ _ _ _ _ _ _ _ _ _\n_ _ _ _ _ _ s s s _\n\n\n_ _ _ _ _ c _ _ _ _\n_ _ _ _ _ c _ _ _ _\n_ _ d d d c _ _ _ _\n_ _ _ _ _ c _ _ _ _\n_ _ _ _ _ c _ _ _ _\n_ _ _ _ _ b b b b _\n_ _ _ _ _ _ p s _ _\n_ _ _ _ _ _ p s _ _\n_ _ _ _ _ _ _ s _ _\n_ _ _ _ _ _ _ _ _ _\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4781247, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204191307038714/picture?type=large", "display_name": "Vince Parulan", "link": "https://stackoverflow.com/users/4781247/vince-parulan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429136523, "creation_date": 1429132199, "question_id": 29660968, "link": "https://stackoverflow.com/questions/29660968/how-do-i-get-random-range-of-index-to-create-a-battleship-python", "title": "How do I get random range of index to create a battleship? (Python)", "body": "<pre><code>def random_row(board):\n    return randrange(0, len(board)-1) \n\ndef random_col(board):\n    return randrange(0, len(board[0])-1) \n\nship_row = random_row(board)\nship_col = random_col(board)\nprint ship_row\nprint ship_col\n</code></pre>\n\n<p>This is a code for my battleship game from codeacademy. How do I get a random index range instead of just 1 number for ship_row and ship_col? I want my ship to have more than one index because guessing one number is hard and a battleship has multiple tiles right? Thank you and I hope my question is clear enough.</p>\n"}, {"tags": ["python", "cron"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1429132714, "post_id": 29660926, "comment_id": 47461699, "body": "Its writing a <code>test.txt</code>, but which one? Use an absolute file name instead."}, {"owner": {"reputation": 10553, "user_id": 3571614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/h1012.jpg?s=128&g=1", "display_name": "Dr Manhattan", "link": "https://stackoverflow.com/users/3571614/dr-manhattan"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1429200023, "post_id": 29660926, "comment_id": 47497371, "body": "but why does it work if i run the python script directly"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1429200340, "post_id": 29660926, "comment_id": 47497595, "body": "<code>open(&#39;test.txt&#39;, &#39;a&#39;)</code> opens &quot;test.txt&quot; in the program&#39;s current working directory. When you run the script manually, its in the local directory. When its run by <code>cron</code>, its in whatever directory <i>cron</i> is using as its working dir. That directory depends on how you registered your cron job (user job, system job, etc...) and now cron is configured."}], "answers": [{"tags": [], "owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "is_accepted": true, "score": 1, "last_activity_date": 1429132812, "creation_date": 1429132812, "answer_id": 29661131, "question_id": 29660926, "link": "https://stackoverflow.com/questions/29660926/how-to-write-to-a-file-via-a-python-script-in-cron/29661131#29661131", "title": "how to write to a file via a python script in cron", "body": "<p>Where do you search <code>test.txt</code>? Because you add script as root user <code>test.txt</code> should appear in <code>/root</code> directory (user home directory).</p>\n"}], "owner": {"reputation": 10553, "user_id": 3571614, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/h1012.jpg?s=128&g=1", "display_name": "Dr Manhattan", "link": "https://stackoverflow.com/users/3571614/dr-manhattan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1240, "favorite_count": 0, "accepted_answer_id": 29661131, "answer_count": 1, "score": -1, "last_activity_date": 1429199950, "creation_date": 1429132068, "last_edit_date": 1429199950, "question_id": 29660926, "link": "https://stackoverflow.com/questions/29660926/how-to-write-to-a-file-via-a-python-script-in-cron", "title": "how to write to a file via a python script in cron", "body": "<p>I tried to write to a file every minute using cron this is my script:</p>\n\n<pre><code>#!/usr/bin/env python\n\nfrom datetime import datetime\nwith open('test.txt', 'a') as f:\n    a = 'date {!s}'.format(datetime.now())\n    print a\n    f.write('date {!s} \\n'.format(datetime.now()))\n    print 'done'\n</code></pre>\n\n<p>then I did</p>\n\n<pre><code>chmod +x /tmp/test.py\n</code></pre>\n\n<p>then I added the cron for root</p>\n\n<pre><code>sudo crontab -e  \n</code></pre>\n\n<p>entry into cron</p>\n\n<pre><code>*/1 * * * * /tmp/test.py \n</code></pre>\n\n<p>in postfix I see this every minute, showing that the script is running with no errors</p>\n\n<pre><code> From root@tawanda.robot  Wed Apr 15 22:56:01 2015\nReturn-Path: &lt;root@tawanda.robot&gt;\nX-Original-To: root\nDelivered-To: root@tawanda.robot\nReceived: by tawanda-lx2 (Postfix, from userid 0)\n    id 48CA79A13DF; Wed, 15 Apr 2015 22:56:01 +0200 (SAST)\nFrom: root@tawanda.robot (Cron Daemon)\nTo: root@tawanda.robot\nSubject: Cron &lt;root@tawanda-lx2&gt; /tmp/test.py \nContent-Type: text/plain; charset=ANSI_X3.4-1968\nX-Cron-Env: &lt;SHELL=/bin/sh&gt;\nX-Cron-Env: &lt;HOME=/root&gt;\nX-Cron-Env: &lt;PATH=/usr/bin:/bin&gt;\nX-Cron-Env: &lt;LOGNAME=root&gt;\nMessage-Id: &lt;20150415205601.48CA79A13DF@lx2&gt;\nDate: Wed, 15 Apr 2015 22:56:01 +0200 (SAST)\n\ndate 2015-04-15 22:56:01.246885\ndone\n</code></pre>\n\n<p>but if I open <code>/tmp/test.txt</code> it is empty, if i run <code>test.py</code> manually it writes to the file as expected</p>\n\n<p>how do I solve this mystery</p>\n"}, {"tags": ["python", "multithreading", "sigint"], "comments": [{"owner": {"reputation": 15365, "user_id": 52074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dd14249e07e1f1d6a949bffa569377ad?s=128&d=identicon&r=PG", "display_name": "Trevor Boyd Smith", "link": "https://stackoverflow.com/users/52074/trevor-boyd-smith"}, "edited": false, "score": 0, "creation_date": 1511802721, "post_id": 29660830, "comment_id": 81988577, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/631441/interruptible-thread-join-in-python\">Interruptible thread join in Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": true, "score": 7, "last_activity_date": 1429135420, "last_edit_date": 1495542580, "creation_date": 1429133381, "answer_id": 29661280, "question_id": 29660830, "link": "https://stackoverflow.com/questions/29660830/python-sigint-not-catched/29661280#29661280", "title": "Python SIGINT not catched", "body": "<p>One of the problems with multithreading in python is that <code>join()</code> more or less disables signals. </p>\n\n<p>This is because the signal can only be delivered to the main thread, but the main thread is already busy with performing the <code>join()</code> and the join is not interruptible.</p>\n\n<p>You can deduce this from the documentation of the <code>signal</code> module</p>\n\n<blockquote>\n  <p>Some care must be taken if both signals and threads are used in the same program. The fundamental thing to remember in using signals and threads simultaneously is: always perform signal() operations in the main thread of execution. Any thread can perform an alarm(), getsignal(), pause(), setitimer() or getitimer(); only the main thread can set a new signal handler, and <strong>the main thread will be the only one to receive signals</strong> (this is enforced by the Python signal module, even if the underlying thread implementation supports sending signals to individual threads). This means that signals can\u2019t be used as a means of inter-thread communication. Use locks instead.</p>\n</blockquote>\n\n<p>You can work your way around it, by busy-looping over the join operation:</p>\n\n<pre><code>for t in threads:\n    while t.isAlive():\n        t.join(timeout=1)\n</code></pre>\n\n<p>This is, however, none to efficient:</p>\n\n<blockquote>\n  <p>The workaround of calling join() with a timeout has a drawback:\n  Python's threading wait routine polls 20 times a second when\n  given any timeout.  All this polling can mean lots of CPU\n  interrupts/wakeups on an otherwise idle laptop and drain the\n  battery faster.</p>\n</blockquote>\n\n<p>Some more details are provided here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19652446/python-program-with-thread-cant-catch-ctrlc\">Python program with thread can&#39;t catch CTRL+C</a></p>\n\n<p>Bug reports for this problem with a discussion of the underlying issue can be found here:</p>\n\n<p><a href=\"https://bugs.python.org/issue1167930\" rel=\"nofollow noreferrer\">https://bugs.python.org/issue1167930</a></p>\n\n<p><a href=\"https://bugs.python.org/issue1171023\" rel=\"nofollow noreferrer\">https://bugs.python.org/issue1171023</a></p>\n"}], "owner": {"reputation": 371, "user_id": 3884647, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fc94d5b57e5afca28ac51a4393163dbf?s=128&d=identicon&r=PG&f=1", "display_name": "myoan", "link": "https://stackoverflow.com/users/3884647/myoan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1875, "favorite_count": 2, "accepted_answer_id": 29661280, "answer_count": 1, "score": 3, "last_activity_date": 1429135420, "creation_date": 1429131680, "question_id": 29660830, "link": "https://stackoverflow.com/questions/29660830/python-sigint-not-catched", "title": "Python SIGINT not catched", "body": "<p>I don't manage to understand why my SIGINT is never catched by the piece of code below.</p>\n\n<pre><code>#!/usr/bin/env python\nfrom threading import Thread\nfrom time import sleep\nimport signal\n\nclass MyThread(Thread):\n    def __init__(self):\n        Thread.__init__(self)\n        self.running = True\n\n    def stop(self):\n        self.running = False\n\n    def run(self):\n        while self.running:\n            for i in range(500):\n                col = i**i\n                print col\n                sleep(0.01)\n\nglobal threads\nthreads = []\n\nfor w in range(150):\n    threads.append(MyThread())\n\ndef stop(s, f):\n    for t in threads:\n        t.stop()\n\nsignal.signal(signal.SIGINT, stop)\n\nfor t in threads:\n    t.start()\n\nfor t in threads:\n    t.join()\n</code></pre>\n\n<p>To clean this code I would prefer try/except the join() and closing all threads in case of exception, would that work?</p>\n"}, {"tags": ["python", "matlab", "matrix"], "comments": [{"owner": {"reputation": 61, "user_id": 4293148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0032b07a6d2638d8251844f4bfe083?s=128&d=identicon&r=PG&f=1", "display_name": "TheSkydivingRobot", "link": "https://stackoverflow.com/users/4293148/theskydivingrobot"}, "edited": false, "score": 0, "creation_date": 1429132289, "post_id": 29660758, "comment_id": 47461467, "body": "leastsq does solve without giving errors but it is giving similar approximation problems to a different method we&#39;ve tried where we partially solved by hand. The system has multiple solutions and the least squares regression isn&#39;t giving us the one we&#39;d like."}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 1, "creation_date": 1429132404, "post_id": 29660758, "comment_id": 47461537, "body": "(Sorry - deleted my comment suggesting scipy.optimize.leastsq - I had a slight loss of faith!)"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 1, "creation_date": 1429132495, "post_id": 29660758, "comment_id": 47461578, "body": "My only other suggestion then is to try different starting points (for leastsq) but hopefully someone else can suggest something better."}, {"owner": {"reputation": 61, "user_id": 4293148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0032b07a6d2638d8251844f4bfe083?s=128&d=identicon&r=PG&f=1", "display_name": "TheSkydivingRobot", "link": "https://stackoverflow.com/users/4293148/theskydivingrobot"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1429132695, "post_id": 29660758, "comment_id": 47461687, "body": "That&#39;s a good idea, we are using this in a real time joint angle generation so I guess a good starting point would be the last known joint angles."}, {"owner": {"reputation": 61, "user_id": 4293148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0032b07a6d2638d8251844f4bfe083?s=128&d=identicon&r=PG&f=1", "display_name": "TheSkydivingRobot", "link": "https://stackoverflow.com/users/4293148/theskydivingrobot"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1429191236, "post_id": 29660758, "comment_id": 47490276, "body": "@DavidW <code>scipy.optimize.leastsq</code> with the better guess seems to be working well enough for our purposes. Thanks!"}], "owner": {"reputation": 61, "user_id": 4293148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0032b07a6d2638d8251844f4bfe083?s=128&d=identicon&r=PG&f=1", "display_name": "TheSkydivingRobot", "link": "https://stackoverflow.com/users/4293148/theskydivingrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429131401, "creation_date": 1429131401, "question_id": 29660758, "link": "https://stackoverflow.com/questions/29660758/solving-over-constrained-nonlinear-system-of-equations-in-python", "title": "Solving over-constrained, nonlinear system of equations in python", "body": "<p>I need to solve a 3x3 matrix of equations for three variables: alpha, beta, and gamma. The matrix of equations corresponds to another 3x3 matrix of values for each equation, named <code>rot</code> in the example code. I have been trying to use <code>scipy.optimize.fsolve</code> and a few other non-linear solvers but keep running into the issue that the input size, 3 corresponding to alpha, beta, and gamma is different than the output size. </p>\n\n<pre><code>def solveNonLinear(rot):\n    #The function of alpah beta and gamma\n    def F(vals):\n        a = vals[0]\n        b = vals[1]\n        y = vals[2]\n        #matrix of equations\n        r = [math.cos(b)*math.cos(y) + math.sin(a)*math.sin(b)*math.sin(y),\n             math.cos(a)*math.sin(y),\n             math.cos(b)*math.sin(a)*math.sin(y) - math.sin(b)*math.cos(y),\n             math.sin(a)*math.sin(b)*math.cos(y) - math.cos(b)*math.sin(y),\n             math.cos(a)*math.cos(y),\n             math.sin(b)*math.sin(y) + math.cos(b)*math.sin(a)*math.cos(y),\n             math.cos(a)*math.sin(b),\n             -1*math.sin(a),\n             math.cos(a)*math.cos(b)]\n\n\n        diff = np.array(r) - np.ravel(rot)\n        return diff\n\n    x = scipy.optimize.fsolve(F, [0, 0, 0])\n    return x\n</code></pre>\n\n<p>In my function above <code>a</code>, <code>b</code>, and <code>y</code> correspond to alpha, beta, and gamma respectively. The error that I get is <code>TypeError: fsolve: there is a mismatch between the input and output shape of the 'func' argument 'F'.</code> In matlab this can be done with three inputs and nine outputs. I am looking for a way that I can solve this with three inputs and nine outputs, not changing the number of outputs, all of the constraints are necessary. </p>\n"}, {"tags": ["jquery", "python", "ajax", "json", "flask"], "answers": [{"comments": [{"owner": {"reputation": 939, "user_id": 1797419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1f372a081f3bfd39b12f1e62f3ef99?s=128&d=identicon&r=PG", "display_name": "steff_bdh", "link": "https://stackoverflow.com/users/1797419/steff-bdh"}, "edited": false, "score": 1, "creation_date": 1429132409, "post_id": 29660806, "comment_id": 47461539, "body": "thanks, however the out put is  {%22name%22:%22ded%22,%22technique%22:%22regression%22}  &lt;--- json data any idea how to remove the %22&#39;s"}, {"owner": {"reputation": 939, "user_id": 1797419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1f372a081f3bfd39b12f1e62f3ef99?s=128&d=identicon&r=PG", "display_name": "steff_bdh", "link": "https://stackoverflow.com/users/1797419/steff-bdh"}, "edited": false, "score": 1, "creation_date": 1429133442, "post_id": 29660806, "comment_id": 47462116, "body": "for those who encounter my problem as well, my arguments were also wrong, like @Martijn said a Get never has a body, i was passing a JSON object as a parameter when i should have been passing the query string and my url as such should have been  <a href=\"http://localhost:5000/checkForTrain?name=lel&amp;technique=regression\" rel=\"nofollow noreferrer\">localhost:5000/checkForTrain?name=lel&amp;technique=regression</a>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 939, "user_id": 1797419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1f372a081f3bfd39b12f1e62f3ef99?s=128&d=identicon&r=PG", "display_name": "steff_bdh", "link": "https://stackoverflow.com/users/1797419/steff-bdh"}, "edited": false, "score": 1, "creation_date": 1429136877, "post_id": 29660806, "comment_id": 47463614, "body": "@Dilz: right, the value is the raw URL component so un-quoting is going to be needed; updated for that. Using regular form-encoded key-value pairs in the query string may well be simpler."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 3, "last_activity_date": 1429136778, "last_edit_date": 1429136778, "creation_date": 1429131576, "answer_id": 29660806, "question_id": 29660744, "link": "https://stackoverflow.com/questions/29660744/how-to-get-json-object-from-getrequest-in-flask/29660806#29660806", "title": "How to get Json object from GETrequest in FLASK", "body": "<p>You need to extract the <em>query string</em>; you can use the <a href=\"http://werkzeug.pocoo.org/docs/0.10/wrappers/#werkzeug.wrappers.BaseRequest.query_string\" rel=\"nofollow\"><code>request.query_string</code> attribute</a> to access it; you'll have to manually <a href=\"https://docs.python.org/2/library/urllib.html#urllib.unquote\" rel=\"nofollow\">unquote</a> it:</p>\n\n<pre><code>From urllib import unquote\n\njson_str = unquote(request.query_string)\n</code></pre>\n\n<p>Your view then outputs:</p>\n\n<pre><code>&lt;Request 'http://localhost:5000/checkForTrain?{\"name\":\"lel\",\"technique\":\"regression\"}' [GET]&gt;\n{\"name\":\"lel\",\"technique\":\"regression\"}  &lt;--- json data\n{u'technique': u'regression', u'name': u'lel'}  &lt;--- dictionary\n</code></pre>\n\n<p>The <a href=\"http://werkzeug.pocoo.org/docs/0.10/wrappers/#werkzeug.wrappers.BaseResponse.get_data\" rel=\"nofollow\"><code>request.get_data()</code> method</a> can only be used to access the request <em>body</em>, and a <code>GET</code> request never has a body.</p>\n\n<p>If your data consists just of key-value pairs it may be easier just to stick to form-encoding those however and stick with Flask's <code>request.args</code> functionality instead of bothering with JSON here. </p>\n"}], "owner": {"reputation": 939, "user_id": 1797419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1f372a081f3bfd39b12f1e62f3ef99?s=128&d=identicon&r=PG", "display_name": "steff_bdh", "link": "https://stackoverflow.com/users/1797419/steff-bdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 1, "accepted_answer_id": 29660806, "answer_count": 1, "score": 1, "last_activity_date": 1429136778, "creation_date": 1429131351, "question_id": 29660744, "link": "https://stackoverflow.com/questions/29660744/how-to-get-json-object-from-getrequest-in-flask", "title": "How to get Json object from GETrequest in FLASK", "body": "<p>My server is flask, my client is javascript, i'm using jquery - ajax to send data to the server. I am able to get JSON objects from a POST request but unable to do so with a GET.</p>\n\n<p>request from Javascript Client:</p>\n\n<pre><code>$.ajax({type: 'GET',\n        url: \"/checkForTrain\",\n        data: jsonObj,\n        success: function(response){\n            response = JSON.parse(response)\n            if(response['status']==='success')\n                postDataset(data)\n            else\n                handleError(data)\n        },\n        error :   function(response){\n            console.log(response)\n        }\n    })\n</code></pre>\n\n<p>url to handle request in flask:</p>\n\n<pre><code>@app.route('/checkForTrain',methods=['GET','OPTIONS'])\ndef checkForTrain():\n    print request\n    json_str=u''+str(request.get_data())\n    print json_str,' &lt;--- json data'\n    dataSearch = json.loads(json_str)\n    print dataSearch,' &lt;--- dictionary'\n    obj = dbWrapper.checkForTrain(dataSearch['name'],dataSearch['type'])\n    return obj\n</code></pre>\n\n<p>Output from print request:</p>\n\n<pre><code>&lt;Request 'http://localhost:5000/checkForTrain?{\"name\":\"lel\",\"technique\":\"regression\"}' [GET]&gt;\n</code></pre>\n\n<p>Output from print json_str,' &lt;--- json data'</p>\n\n<pre><code>&lt;--- json data\n</code></pre>\n\n<p>Stacktrace for server:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1836, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1820, in wsgi_app\n    response = self.make_response(self.handle_exception(e))\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1403, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1817, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1477, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1381, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1475, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/lib/python2.7/site-packages/flask/app.py\", line 1461, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/home/adminuser/Desktop/Github/DataMining/DataMiningProject/app/routes.py\", line 53, in checkForTrain\n    dataSearch = json.loads(json_str)\n  File \"/usr/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/lib/python2.7/json/decoder.py\", line 366, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/lib/python2.7/json/decoder.py\", line 384, in raw_decode\n    raise ValueError(\"No JSON object could be decoded\")\n</code></pre>\n"}, {"tags": ["python", "brackets"], "comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 9, "creation_date": 1429131316, "post_id": 29660691, "comment_id": 47460870, "body": "That is just a list of list of lists"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1429131344, "post_id": 29660691, "comment_id": 47460890, "body": "list in list  in list ..... it does not mean anything"}], "answers": [{"tags": [], "owner": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "is_accepted": true, "score": 1, "last_activity_date": 1429131481, "creation_date": 1429131481, "answer_id": 29660778, "question_id": 29660691, "link": "https://stackoverflow.com/questions/29660691/multiple-square-brackets-in-python/29660778#29660778", "title": "Multiple square brackets in python", "body": "<p>Is it simply a list in a list in a list:</p>\n\n<pre><code>[\n    [\n       [\n           (random.uniform(1,0))\n       ]\n    ]\n ]\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>&gt;&gt;&gt; test = [[[1,2]]]\n&gt;&gt;&gt; print test[0]\n[[1,2]]\n&gt;&gt;&gt; print test[0][0]\n[1,2]\n&gt;&gt;&gt; print test[0][0][0]\n1\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4793707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5424566f1d16d88239938ddd48d46495?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4793707/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1231, "favorite_count": 0, "accepted_answer_id": 29660778, "answer_count": 1, "score": -3, "last_activity_date": 1429131483, "creation_date": 1429131194, "last_edit_date": 1429131483, "question_id": 29660691, "link": "https://stackoverflow.com/questions/29660691/multiple-square-brackets-in-python", "title": "Multiple square brackets in python", "body": "<pre><code>    def startpop(pop,job):\n       i = 0 \n       L = [[[(random.uniform(1,0))]]] \n       while i &lt; pop:\n          k = 0 \n          if len(L) &lt;= i:\n          L.append([[random.uniform(1,0)]])\n</code></pre>\n\n<p>I'm trying to understand this code. What is the meaning of three square brackets?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1429131104, "post_id": 29660602, "comment_id": 47460733, "body": "How is this different from <a href=\"http://stackoverflow.com/questions/29636451/grouping-and-filtering-data\">previous question</a>? Also, it is common courtesy to accept answers to your questions that answered your question, there will be an empty tick mark at the top left of the answers"}, {"owner": {"reputation": 47, "user_id": 4673511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8UPoI.jpg?s=128&g=1", "display_name": "Maku", "link": "https://stackoverflow.com/users/4673511/maku"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429131493, "post_id": 29660602, "comment_id": 47460977, "body": "It is different though, the other one I was doing wrong myself. I tried to modify it but it didn&#39;t work out. The other one was- top two pep but this one is all pep (well all that occur more than once) but top 3 SD values not top 3 PEP values. Just figured the accepting thing literally 30 seconds before I saw your comment. Sorry."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429131687, "post_id": 29660602, "comment_id": 47461101, "body": "No worries, no idea why someone downvoted but perhaps you need to show what you&#39;ve tried and why your efforts doesn&#39;t produce what you specifically want"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4673511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8UPoI.jpg?s=128&g=1", "display_name": "Maku", "link": "https://stackoverflow.com/users/4673511/maku"}, "edited": false, "score": 0, "creation_date": 1429143786, "post_id": 29662458, "comment_id": 47465910, "body": "Thanks it does the trick! But before it was a dataframe and now if I want to group only by protein again as g.groupby(&#39;PROT&#39;).mean() it won&#39;t work, it&#39;s not in table format anymore."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 47, "user_id": 4673511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8UPoI.jpg?s=128&g=1", "display_name": "Maku", "link": "https://stackoverflow.com/users/4673511/maku"}, "edited": false, "score": 0, "creation_date": 1429144585, "post_id": 29662458, "comment_id": 47466115, "body": "Either use <code>.groupby(level=&#39;PROT&#39;)</code> or <code>.reset_index()</code> to make it into a DataFrame."}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1429139014, "creation_date": 1429139014, "answer_id": 29662458, "question_id": 29660602, "link": "https://stackoverflow.com/questions/29660602/filtering-grouping-data/29662458#29662458", "title": "Filtering, grouping data", "body": "<p>I'd be tempted to do this in a single pass:</p>\n\n<pre><code>In [11]: g = df.groupby(['PROT', 'PEP'])\n\nIn [12]: g['SD'].apply(lambda x: np.nan if len(x) &lt; 2 else (x.nlargest(2).sum() / 2))\nOut[12]:\nPROT  PEP\n1     XXX    5.62\n      XXY    5.17\n      XXZ     NaN\n2     XXW    5.10\n      XXX    5.17\n      XXZ     NaN\nName: SD, dtype: float64\n</code></pre>\n\n<p>and then drop the NaN.</p>\n\n<hr>\n\n<blockquote>\n  <p>filtering data by prot and pep but keeping only pep where there is more than 1 pep for prot</p>\n</blockquote>\n\n<p>Use groupby filter:</p>\n\n<pre><code>In [21]: g = df.groupby(['PROT', 'PEP'])\n\nIn [22]: g.filter(lambda x: len(x) &gt;= 2)\nOut[22]:\n    PROT  PEP    SD\n0      1  XXX  4.54\n1      1  XXX  5.56\n2      1  XXY  4.67\n4      1  XXY  5.67\n5      1  XXX  5.68\n6      2  XXW  4.64\n8      2  XXW  5.56\n9      2  XXX  4.67\n10     2  XXX  5.67\n</code></pre>\n\n<blockquote>\n  <p>filter again so for every pep values only 2 with the highest SD remain (and sum these two / divide by 2)</p>\n</blockquote>\n\n<p>You can use nlargest, on the second pass (but this starts to get messy).</p>\n\n<pre><code>In [31]: (g.filter(lambda x: len(x) &gt;= 2)\n           .groupby(['PROT', 'PEP'])['SD']\n           .nlargest(2)\n           .groupby(level=[0, 1])\n           .sum() / 2)\nOut[31]:\nPROT  PEP\n1     XXX    5.62\n      XXY    5.17\n2     XXW    5.10\n      XXX    5.17\ndtype: float64\n</code></pre>\n\n<p>I think we can agree the top methods is clearer (and more efficient!).</p>\n"}], "owner": {"reputation": 47, "user_id": 4673511, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8UPoI.jpg?s=128&g=1", "display_name": "Maku", "link": "https://stackoverflow.com/users/4673511/maku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 29662458, "answer_count": 1, "score": -1, "last_activity_date": 1429139014, "creation_date": 1429130878, "last_edit_date": 1429136251, "question_id": 29660602, "link": "https://stackoverflow.com/questions/29660602/filtering-grouping-data", "title": "Filtering, grouping data", "body": "<pre><code>PROT      PEP       SD  \n1        XXX      4,54             \n1        XXX      5,56             \n1        XXY      4,67                       \n1        XXZ      5,67             \n1        XXY      5,67  \n1        XXX      5,68          \n2        XXW      4,64             \n2        XXZ      4,54             \n2        XXW      5,56             \n2        XXX      4,67                        \n2        XXX      5,67  \n</code></pre>\n\n<p>I need to figure out a way of filtering data by prot and pep but keeping only pep where there is more than 1 pep for prot -> and then filter again so for every pep values only 2 with the highest SD remain (and sum these two / divide by 2)</p>\n\n<p>Output for PROT1:</p>\n\n<pre><code>PROT    PEP   SD\n1       XXX   5.56+5.68 /2\n        XXY   4.67 + 5.67 /2\n</code></pre>\n\n<p>I think this may be the way if I figure out what to put after lambda x: so it takes three top values, right now it's giving me one top value index.</p>\n\n<pre><code>counts = (df6.groupby(['PROT','PEP])['SD']\n        .apply(lambda x: x.idxmax()))\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1429131024, "post_id": 29660592, "comment_id": 47460693, "body": "Both <code>re.search(r&#39;\\b\\d{5}\\b|98839-0111&#39;, &#39;98839-0111&#39;)</code> and <code>re.search(r&#39;\\b\\d{5}\\b|\\b\\d{5}-\\b\\d{1,4}\\b&#39;, &#39;98839-0111&#39;)</code> succeed for me in Python 2.7.6.  Could you show the exact code that uses these regexes?"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1429131138, "post_id": 29660592, "comment_id": 47460753, "body": "I&#39;m never a fan of <code>\\b</code> as a word boundary.  It&#39;s not portable.  Instead, you might try using the proper classes, <code>[[:&lt;:]]</code> and <code>[[:&gt;:]]</code>.  You&#39;ll find them documented in <a href=\"https://www.freebsd.org/cgi/man.cgi?query=re_format&amp;sektion=7\" rel=\"nofollow noreferrer\"><b><code>man re_format</code></b></a>"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1429131396, "post_id": 29660592, "comment_id": 47460920, "body": "@ghoti: <code>[[:&lt;:]]</code> and <code>[[:&gt;:]]</code> are not classes but only aliases for <code>(?&lt;!\\w)\\b</code> and <code>\\b(?!\\w)</code>. Not sure this is available in python."}, {"owner": {"reputation": 331, "user_id": 4333220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh4.googleusercontent.com/-Isl-GZk3jQY/AAAAAAAAAAI/AAAAAAAAAS0/ShspkyYpCvk/photo.jpg?sz=128", "display_name": "Randy Banks", "link": "https://stackoverflow.com/users/4333220/randy-banks"}, "edited": false, "score": 0, "creation_date": 1429132650, "post_id": 29660592, "comment_id": 47461661, "body": "I edited my original post to include my code"}, {"owner": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1429133272, "post_id": 29660592, "comment_id": 47462014, "body": "@CasimiretHippolyte, righto, strings inside <code>[:</code> and <code>:]</code> are normally classes, but these word boundaries are &quot;special cases&quot; according to <code>man re_format</code>.  But I would disagree that they are aliases as you describe, unless you just mean that they&#39;re &quot;functionally equivalent&quot;.  They may not be POSIX.2 compliant, but in my experience they&#39;re more widely available than <code>\\b</code>.  I too am not sure about python&#39;s RE parser. Lack of support for these bracket expressions would seem to me to be a fail, but perhaps I&#39;m just too old-school.  :-/"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429133528, "post_id": 29660592, "comment_id": 47462157, "body": "The updated code in the edit does not show what you actually have in &#39;testData.txt&#39;, and what other transformations you do. It looks like a separate question."}, {"owner": {"reputation": 331, "user_id": 4333220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh4.googleusercontent.com/-Isl-GZk3jQY/AAAAAAAAAAI/AAAAAAAAAS0/ShspkyYpCvk/photo.jpg?sz=128", "display_name": "Randy Banks", "link": "https://stackoverflow.com/users/4333220/randy-banks"}, "edited": false, "score": 0, "creation_date": 1429133798, "post_id": 29660592, "comment_id": 47462305, "body": "The rest of my testData.txt is sensitive and I cannot post it on a public forum. It simply contains a list filled with regex&#39;s and other properties unique to each key.   the basic format: <code>dlp_regex = {     &#39;Large number of US Zip Codes2&#39; : { &#39;regex&#39; : &quot;\\b(\\d{5}-\\d{4}|\\d{5})\\b&quot;, &#39;min_matches&#39; : 100, &#39;enabled&#39;:True,&#39;risk&#39;: 1}, }  all_dictionaries = {} all_dictionaries[&#39;config_dlp_regex&#39;] = dlp_regex</code>  note: I am not using &quot;min matches&quot; anywhere in my implementation as of yet."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1429139012, "post_id": 29660592, "comment_id": 47464346, "body": "Without more specific input data, I am afraid no one can help you. You only gave us <code>98839-0111</code>, and <code>34332</code>, so we deduced that you need to match either 5 digits or 5 digits + hyphen + 4 digits. Now, are you going to change the requirements? This is not fine."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 41204, "user_id": 1072112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3fecc914da2b7a82696d52729fc237?s=128&d=identicon&r=PG", "display_name": "ghoti", "link": "https://stackoverflow.com/users/1072112/ghoti"}, "edited": false, "score": 0, "creation_date": 1429174421, "post_id": 29660592, "comment_id": 47477665, "body": "@ghoti: no you are not too old-school, for POSIX.2 engines <code>[[:&lt;:]]</code> and <code>[[:&gt;:]]</code> are build-in word boundaries and not aliases, but it is no more the case for example with PCRE where it&#39;s only a conveniant way to write <code>\\b(?=\\w)</code> and <code>\\b(?&lt;=\\w)</code> (my mistake, it was not with negative lookarounds) and they are converted to this."}], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1429131169, "post_id": 29660640, "comment_id": 47460778, "body": "and by extension, <code>\\b\\d{5}-\\b\\d{1,4}\\b|\\b\\d{5}\\b</code>."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 6, "last_activity_date": 1429133681, "last_edit_date": 1429133681, "creation_date": 1429131009, "answer_id": 29660640, "question_id": 29660592, "link": "https://stackoverflow.com/questions/29660592/using-b-in-regex/29660640#29660640", "title": "using \\b in regex", "body": "<p>It is because of the alternative list: the first part was matched, and the engine stopped checking.</p>\n\n<p>Try <a href=\"https://regex101.com/r/iU5yQ8/2\" rel=\"nofollow\">this regex</a></p>\n\n<pre><code>98839-0111|\\b\\d{5}\\b\n</code></pre>\n\n<p>And you'll get a match.</p>\n\n<p>Or, to be more generic in your case:</p>\n\n<pre><code>\\b(?:\\d{5}-\\d{4}|\\d{5})\\b\n</code></pre>\n\n<p>will match both, and more (actually, functionally the same as <code>\\b\\d{5}(?:-\\d{4})?\\b</code>). <a href=\"https://regex101.com/r/iU5yQ8/3\" rel=\"nofollow\">See demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1429131133, "post_id": 29660646, "comment_id": 47460751, "body": "This assumes that all zip codes are not among other text on a line. I don&#39;t think you can make that assumption."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1429131506, "post_id": 29660646, "comment_id": 47460982, "body": "@MartijnPieters I assumed that from OP statement <code>I am writing a regex for identifying zip codes (and only zip codes)</code> :)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1429131962, "post_id": 29660646, "comment_id": 47461260, "body": "Yes, but that doesn&#39;t mean that the zipcode is on a line by their own."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1429132380, "post_id": 29660646, "comment_id": 47461523, "body": "@MartijnPieters I actually assume it is in a single line from OP&#39;s input sample. He put 2 zip codes, I based in that to do my answer."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1429132451, "post_id": 29660646, "comment_id": 47461558, "body": "Then document that assumption, perhaps ask for feedback on the question."}, {"owner": {"reputation": 331, "user_id": 4333220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh4.googleusercontent.com/-Isl-GZk3jQY/AAAAAAAAAAI/AAAAAAAAAS0/ShspkyYpCvk/photo.jpg?sz=128", "display_name": "Randy Banks", "link": "https://stackoverflow.com/users/4333220/randy-banks"}, "edited": false, "score": 0, "creation_date": 1429133403, "post_id": 29660646, "comment_id": 47462099, "body": "Marjin is correct, I cannot assume I will have them on a line on their own"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 0, "last_activity_date": 1429133610, "last_edit_date": 1429133610, "creation_date": 1429131036, "answer_id": 29660646, "question_id": 29660592, "link": "https://stackoverflow.com/questions/29660592/using-b-in-regex/29660646#29660646", "title": "using \\b in regex", "body": "<p>You can use this regex:</p>\n\n<pre><code>\\b(\\d{5}-\\d{1,4}|\\d{5})\\b\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/fX3lE0/2\" rel=\"nofollow\">Working demo</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1429131172, "creation_date": 1429131172, "answer_id": 29660684, "question_id": 29660592, "link": "https://stackoverflow.com/questions/29660592/using-b-in-regex/29660684#29660684", "title": "using \\b in regex", "body": "<p>Your pattern is evaluated for each position in the string from the left to the right, so if the left branch of your pattern succeeds, the second branch isn't tested at all.</p>\n\n<p>I suggest you to use this pattern that solves the problem:</p>\n\n<pre><code>\\b\\d{5}(?:-\\d{1,4})?\\b\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 4333220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://lh4.googleusercontent.com/-Isl-GZk3jQY/AAAAAAAAAAI/AAAAAAAAAS0/ShspkyYpCvk/photo.jpg?sz=128", "display_name": "Randy Banks", "link": "https://stackoverflow.com/users/4333220/randy-banks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1429136022, "creation_date": 1429130846, "last_edit_date": 1429136022, "question_id": 29660592, "link": "https://stackoverflow.com/questions/29660592/using-b-in-regex", "title": "using \\b in regex", "body": "<p>--SOLVED--\nI solved my issue by enabling multiline mode, and now the characters ^ and $ work perfectly for identifying the beginning and end of each string</p>\n\n<p>--EDIT--</p>\n\n<p>My code:</p>\n\n<pre><code>import re\nimport test_regex\n\n\ndef regex_content(text_content, regex_dictionary):\n\n#text_content = text_content.lower()\nregex_matches = []\n\n# Search sanitized text (markup removed) for DLP theme keywords\nfor key,value in regex_dictionary.items():\n\n  # Get confiiguration settings\n  min_matches = value.get('min_matches',1)\n  risk = value.get('risk',1)\n  enabled = value.get('enabled',False)\n  regex_str = value.get('regex','')\n\n  # Fast compute True/False hit for each DLP theme word\n  if enabled:\n    print \"Searching for key : %s\" % (key)\n    my_regex = re.compile(value.get('regex'))\n    hits = my_regex.findall(text_content)\n\n    if len(hits) &gt; 0:\n      regex_matches.append((key, risk, len(hits), hits))\n\n# Return array of results (key, risk, number of hits, regex matches)\nreturn regex_matches\n\ndef main():\n\n\n    #print defaults.test_regex.dlp_regex\n\n    text_content = \"\"\n\n    for line in open('testData.txt'):\n        text_content+=line\n\n    for match in regex_content(text_content, test_regex.dlp_regex):\n        print \"\\nFound %s : %s\" % (match[0], match[3])\n\n    print \"\\n\"\n\nif __name__ == '__main__':\nmain()\n</code></pre>\n\n<p>and it is using the regex found here:</p>\n\n<pre><code>'Large number of US Zip Codes' : { 'regex' : \"\\b\\d{5}(?:-\\d{1,4})?\\b\"},\n</code></pre>\n\n<p>When I precede my regex with the 'r' flag, I can find the zip codes I'm looking for, but as well as every other 5 digit number in my document I am searching through. From my understanding this is because it ignored the \\b characters. Without the r flag though, it cannot find any zip codes. It works perfectly fine in regexr, but not in my code. I haven't had any luck making \\b characters work, nor ^ and $ for identifying the beginnings and ends of the strings I'm searching for. What is it that I am misunderstanding about these special characters?</p>\n\n<p>--Original post--</p>\n\n<p>I am writing a regex for identifying zip codes (and only zip codes), so to avoid false positives I am trying to include a boundary on my regex, using both of the following:</p>\n\n<pre><code>\\b\\d{5}\\b|\\b\\d{5}-\\b\\d{1,4}\\b\n</code></pre>\n\n<p>using the online regex debugger Regexr, my code should correctly catch 5 digit zip codes, such as 34332. However, I have two problems:<br>\n1. This regex is not working in my actual code for finding any zip codes, but it does work when I don't have the boundary (\\b) characters. The exact code I'm trying to extract with my regex is:</p>\n\n<pre><code>Zip: \n----\n98839-0111\n34332\n</code></pre>\n\n<p>2. I don't see why my regex can't correctly identify 98839-0111 in Regexr. I tried doing the super-primitive approach of </p>\n\n<pre><code>\\b\\d{5}\\b|98839-0111\n</code></pre>\n\n<p>and even that couldn't identify 98839-0111. Does anyone know what could be going on?</p>\n\n<p>Note: I have also tried using ^ and $ for the boundaries of my regex, but this also doesn't find the regex's, not even in Regexr.</p>\n\n<p>EDIT: After removing the first part of my regex, leaving only</p>\n\n<pre><code>98839-0111\n</code></pre>\n\n<p>It can now correctly identify it. I guess this means that once a string is pulled out by one of my regex's, it can no longer be found by any subsequent regexs? Why is this?</p>\n"}, {"tags": ["java", "python", "hadoop", "import"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 2152560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5277a234ab41b291d2ee3b41edf3d74?s=128&d=identicon&r=PG", "display_name": "Hangman4358", "link": "https://stackoverflow.com/users/2152560/hangman4358"}, "is_accepted": false, "score": 0, "last_activity_date": 1429198576, "creation_date": 1429198576, "answer_id": 29679539, "question_id": 29660487, "link": "https://stackoverflow.com/questions/29660487/python-imports-in-hadoop/29679539#29679539", "title": "Python imports in Hadoop", "body": "<p>Ok, I figured this one out by myself.</p>\n\n<p>The problem the python process runs into is that the HDFS uses symlinks. Python on the other hand does not accept symlinks as valid files so will not import from them if in the same directory.</p>\n\n<p>Instead of adding each file to the Distributed Cache, you can add the directory to the cache, then any calls to the directory are via the symlink but calls to files are then in the actual directory, allowing the python process to import libraries</p>\n"}], "owner": {"reputation": 361, "user_id": 2152560, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5277a234ab41b291d2ee3b41edf3d74?s=128&d=identicon&r=PG", "display_name": "Hangman4358", "link": "https://stackoverflow.com/users/2152560/hangman4358"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429198576, "creation_date": 1429130457, "question_id": 29660487, "link": "https://stackoverflow.com/questions/29660487/python-imports-in-hadoop", "title": "Python imports in Hadoop", "body": "<p>Ok, I am writing a java based Hadoop MR task. Part of the task is calling an outside python script as a new Process, passing it information and reading it back the resut. I have done this a few times before without problems when not working with hadoop.</p>\n\n<p>I can also call a single python script as a new process in hadoop when it does not import anything, or only things that are on the nodes' python install.</p>\n\n<p>the current python script calls an import on another script which is usually just sitting in the same directory and that works fine when not running on hadoop.</p>\n\n<p>In hadoop I have added both files to the distributed cache so I do not understand why the script could not import the other one.</p>\n"}, {"tags": ["python", "github", "markdown", "wiki", "docstring"], "comments": [{"owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "edited": false, "score": 0, "creation_date": 1429141212, "post_id": 29660467, "comment_id": 47465124, "body": "Sphinx is definitely it, although it uses restructuredText rather than Markdown. For Markdown, there is mkdocs, but that doesn&#39;t support docstrings. Although, I did start this experiment (which may be a bad idea): <a href=\"https://github.com/waylan/mddoc\" rel=\"nofollow noreferrer\">github.com/waylan/mddoc</a>"}, {"owner": {"reputation": 1278, "user_id": 4625475, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T04Mw.jpg?s=128&g=1", "display_name": "Matteo Ferla", "link": "https://stackoverflow.com/users/4625475/matteo-ferla"}, "edited": false, "score": 0, "creation_date": 1458916546, "post_id": 29660467, "comment_id": 60075289, "body": "I had the same problem (<a href=\"https://github.com/matteoferla/mutagenesis\" rel=\"nofollow noreferrer\">readme.md</a>) and I do not believe there is a nice answer. I tried mkdocs \u2014just polluted my folder\u2014 and <a href=\"https://github.com/NiklasRosenstein/pydoc-markdown\" rel=\"nofollow noreferrer\">pydoc_markdown</a>, the top Google hit, which gave a fraction of the text pydoc gave. In the end I simply got the pydoc output and did a three or four search and replaced a few items."}, {"owner": {"reputation": 3831, "user_id": 1306959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9177b14b30f517bbfd8061ee7d4dc578?s=128&d=identicon&r=PG", "display_name": "Alex North-Keys", "link": "https://stackoverflow.com/users/1306959/alex-north-keys"}, "edited": false, "score": 0, "creation_date": 1470645553, "post_id": 29660467, "comment_id": 65015288, "body": "We&#39;ve noticed that the Github per-repo wikis aren&#39;t tied to the main repo commits, meaning that if you want accurate per-commit documentation (so that any commit checked out has the right doc for it), the per-repo wiki is useless."}, {"owner": {"reputation": 14111, "user_id": 5783745, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Z5VSF.jpg?s=128&g=1", "display_name": "stevec", "link": "https://stackoverflow.com/users/5783745/stevec"}, "edited": false, "score": 0, "creation_date": 1605743533, "post_id": 29660467, "comment_id": 114748841, "body": "Is it possible to show some minimal example of what you start with and the md you want to finish with?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9012110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-D8u9JCDeQms/AAAAAAAAAAI/AAAAAAAAADs/UPG_xWC0tZM/photo.jpg?sz=128", "display_name": "Kevin Gray", "link": "https://stackoverflow.com/users/9012110/kevin-gray"}, "is_accepted": false, "score": 2, "last_activity_date": 1511740678, "last_edit_date": 1511740678, "creation_date": 1511738995, "answer_id": 47502138, "question_id": 29660467, "link": "https://stackoverflow.com/questions/29660467/automatically-generate-github-wiki-documentation-from-python-docstrings/47502138#47502138", "title": "Automatically Generate GitHub Wiki Documentation from Python Docstrings", "body": "<p>Just pipe the output of the <code>docstring</code> to a <code>.md</code> file. </p>\n\n<p>Like this: </p>\n\n<pre><code>pydoc 'example_lib &gt; example_lib.md .\n</code></pre>\n"}], "owner": {"reputation": 10805, "user_id": 376587, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb39a0651b7721d2baede607f47adc9d?s=128&d=identicon&r=PG", "display_name": "Giampaolo Rodol&#224;", "link": "https://stackoverflow.com/users/376587/giampaolo-rodol%c3%a0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3679, "favorite_count": 3, "answer_count": 1, "score": 14, "last_activity_date": 1511740678, "creation_date": 1429130393, "last_edit_date": 1429130510, "question_id": 29660467, "link": "https://stackoverflow.com/questions/29660467/automatically-generate-github-wiki-documentation-from-python-docstrings", "title": "Automatically Generate GitHub Wiki Documentation from Python Docstrings", "body": "<p>The title says it all. What I imagine is to have docstrings for all of my modules, classes and functions and somehow nicely navigate the doc via github (wiki?). Also, the doc should be in sync with latest code meaning it should be updated/re-generated on push. Is that possible?</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1429130832, "post_id": 29660422, "comment_id": 47460592, "body": "does it have to be the first value? In your sample df all present values are the same so this would work: <code>df[df&gt;0].mean(axis=1)</code>"}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429130871, "post_id": 29660422, "comment_id": 47460615, "body": "Nope! it can be any value because they are all the same."}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 1, "last_activity_date": 1429130912, "creation_date": 1429130912, "answer_id": 29660617, "question_id": 29660422, "link": "https://stackoverflow.com/questions/29660422/how-to-scan-pandas-row-for-first-non-zero-value-and-create-new-column-with-numbe/29660617#29660617", "title": "How to scan pandas row for first non-zero value and create new column with numbers", "body": "<p>In your sample df, so long as all the present values are the same then the following would work, we use a boolean condition to mask out the <code>0</code> values and then call <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.mean.html#pandas.DataFrame.mean\" rel=\"nofollow\"><code>mean</code></a> and pass param <code>axis=1</code> to calculate the mean row-wise:</p>\n\n<pre><code>In [24]:\n\ndf[df&gt;0].mean(axis=1)\nOut[24]:\n0    89884\n1       29\n2      239\n3      324\n4    12021\ndtype: float64\n</code></pre>\n"}], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 29660617, "answer_count": 1, "score": 1, "last_activity_date": 1429131760, "creation_date": 1429130272, "last_edit_date": 1429131760, "question_id": 29660422, "link": "https://stackoverflow.com/questions/29660422/how-to-scan-pandas-row-for-first-non-zero-value-and-create-new-column-with-numbe", "title": "How to scan pandas row for first non-zero value and create new column with numbers", "body": "<p>I have a large data set like the below:</p>\n\n<pre><code>+---+--------------------------------------+---------------------------------------+--------------------------+\n|   | dc(uid): interaction_single_message_ | dc(uid): interaction_single_message_1 | dc(uid): interaction_yes |\n+---+--------------------------------------+---------------------------------------+--------------------------+\n| 0 |                                    0 |                                     0 |                    89884 |\n| 1 |                                    0 |                                    29 |                        0 |\n| 2 |                                    0 |                                   239 |                      239 |\n| 3 |                                  324 |                                     0 |                        0 |\n| 4 |                                12021 |                                     0 |                    12021 |\n+---+--------------------------------------+---------------------------------------+--------------------------+\n</code></pre>\n\n<p>How can I go row by row and pick the first number that is encountered and add it to a new column at the same index.  If there are multiple numbers in a row, they will always be the same, which is why I am asking for the first encountered number.</p>\n\n<p>The ideal output would be something like this:</p>\n\n<pre><code>+---+-------+\n|   | nums  |\n+---+-------+\n| 0 | 89884 |\n| 1 |    29 |\n| 2 |   239 |\n| 3 |   324 |\n| 4 | 12021 |\n+---+-------+\n</code></pre>\n\n<p>Would I be using groupby.unique() to do this?</p>\n"}, {"tags": ["python", "mask", "mesh", "mayavi", "triangular"], "owner": {"reputation": 43, "user_id": 4538631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a078eaa9dfe3db4c89b16458110b510b?s=128&d=identicon&r=PG&f=1", "display_name": "bjvanbruchem", "link": "https://stackoverflow.com/users/4538631/bjvanbruchem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1357, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1429130202, "creation_date": 1429130202, "last_edit_date": 1495535411, "question_id": 29660408, "link": "https://stackoverflow.com/questions/29660408/mayavi-how-to-mask-colored-faces-of-a-triangular-mesh", "title": "Mayavi: How to mask colored faces of a triangular mesh?", "body": "<p>I am using Mayavi to plot a triangular mesh with colored mesh faces.\nFirst I plot the triangular mesh as a wire frame and then I add face colors.\n(I am using the method proposed in <a href=\"https://stackoverflow.com/questions/14964230/mayavi-interpolate-face-colors-in-triangular-mesh\">another StackOverflow question</a>)</p>\n\n<p>I want to mask part of these faces and have the option to mask the wire frame around those faces as well. Mayavi triangular_mesh offers masking options, but I do not know how to apply this with the combined wire frame and surface. As a workaround, I create a custom colormap with a fully transparent first color and set the face values of the faces I want to mask to zero so that these faces do not show. This works but does not give me the option to \"mask\" part of the wire frame mesh. Also, for certain angles Mayavi renders part of the triangular faces opaque instead of transparent (see <a href=\"https://dl.dropboxusercontent.com/u/1984614/mayavi-triangular-mesh-mask.png\" rel=\"nofollow noreferrer\">example</a>). For small parts this is not a problem but for plots with >10,000 triangles, this hinders analysis and looks ugly.\nDoes anyone know if the standard Mayavi masking functionality fixes this and how it can be implemented here?</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import numpy as np\nfrom mayavi import mlab\n\n# Create coordinate, triangular and color data\nn = 29\nt = np.linspace(-np.pi, np.pi, n)\nz = np.exp(1j * t)\nx = z.real.copy()\ny = z.imag.copy()\nz = np.zeros_like(x)\n\ntriangles = np.array([(0, i, i + 1) for i in range(1, n)])\nx = np.r_[0, x]\ny = np.r_[0, y]\nz = np.r_[1, z]\nface_values = [0, 1, 0, 2, 0, 3, 0, 4, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0, 12, 0, 13, 0, 14]\n\n# Create black wireframe mesh\nwire_mesh = mlab.triangular_mesh(x, y, z, triangles, scalars=None, line_width=0.1, representation='wireframe',\n                                 color=(0, 0, 0))\n\n# Create face coloring\ncell_data = wire_mesh.mlab_source.dataset.cell_data\ncell_data.scalars = face_values\ncell_data.scalars.name = 'Cell data'\ncell_data.update()\n\n# Plot triangular mesh with face coloring\nmesh = mlab.pipeline.set_active_attribute(wire_mesh, cell_scalars='Cell data')\nsurf = mlab.pipeline.surface(mesh, colormap='jet')\n\n# Retrieve the LUT colormap of the surf object. (256x4)\n# this is an array of (R, G, B, A) values (each in range 0-255)\nlut = surf.module_manager.scalar_lut_manager.lut.table.to_array()\n\n# Modify alpha channel lut\nlut[:, -1] = np.ones((lut.shape[0]))*255\n\n# Add first row white color with full opacity\nlut_mod = np.vstack((np.array([1, 1, 1, 0]), lut))\n\n# Now use this colormap and show colorbar\nsurf.module_manager.scalar_lut_manager.lut.table = lut_mod\nmlab.colorbar(surf)\nmlab.show()\n</code></pre>\n"}, {"tags": ["python", "selenium", "pycharm"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "edited": false, "score": 0, "creation_date": 1429131724, "post_id": 29660488, "comment_id": 47461120, "body": "I just tried this and i am experiencing the same problem. The element is found on the page and the wait finishes immediately; however the variable is still None unless i explicitly open the class in the debug view. After I view the class then the variable is filled out with the element."}, {"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "reply_to_user": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "edited": false, "score": 0, "creation_date": 1429132050, "post_id": 29660488, "comment_id": 47461310, "body": "@Darthlemi Interesting. Can you share your test code?"}, {"owner": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "edited": false, "score": 0, "creation_date": 1429132328, "post_id": 29660488, "comment_id": 47461492, "body": "I am not able to share anymore code than what i have posted in the picture in the original post"}, {"owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "reply_to_user": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "edited": false, "score": 0, "creation_date": 1429132448, "post_id": 29660488, "comment_id": 47461556, "body": "@Darthlemi I wanted to see how have you implemented the explicit wait. If you have restriction that&#39;s fine"}, {"owner": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "edited": false, "score": 1, "creation_date": 1429132668, "post_id": 29660488, "comment_id": 47461670, "body": "So i changed some things around and added some hardcoded xpaths and the wait you have posted above does work. Now i need to find a way to make this work with my current implementation. Thanks a lot"}], "tags": [], "owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "is_accepted": true, "score": 1, "last_activity_date": 1429130457, "creation_date": 1429130457, "answer_id": 29660488, "question_id": 29660375, "link": "https://stackoverflow.com/questions/29660375/pycharm-and-or-python-isnt-recognizing-a-webelement-selenium-variable-until-i/29660488#29660488", "title": "PyCharm and/or python isn&#39;t recognizing a WebElement (Selenium) variable until I open the class in the debugger", "body": "<blockquote>\n  <p><strong>Possible reason is the element load time.</strong></p>\n</blockquote>\n\n<p>When you are running the test <em>Selenium</em> runs faster than the time needed by the element to load properly and eventually throws the exception. On the other hand, during debug you are stepping in and giving enough time for the element to load and <em>Selenium</em> finds the element without any issue.</p>\n\n<p>If, the problem is exactly what it is mentioned above the use of <a href=\"http://selenium-python.readthedocs.org/en/latest/waits.html#explicit-waits\" rel=\"nofollow\">explicit wait</a> should be the way to go.</p>\n\n<p>Example taken from the Selenium Python doc</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Firefox()\ndriver.get(\"http://somedomain/url_that_delays_loading\")\ntry:\n    element = WebDriverWait(driver, 10).until(\n        EC.presence_of_element_located((By.ID, \"myDynamicElement\"))\n    )\nfinally:\n    driver.quit()\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3208457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3a85ea23da2237041c55aaf3be9ea780?s=128&d=identicon&r=PG&f=1", "display_name": "Darthlemi", "link": "https://stackoverflow.com/users/3208457/darthlemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 29660488, "answer_count": 1, "score": 1, "last_activity_date": 1429130457, "creation_date": 1429130106, "question_id": 29660375, "link": "https://stackoverflow.com/questions/29660375/pycharm-and-or-python-isnt-recognizing-a-webelement-selenium-variable-until-i", "title": "PyCharm and/or python isn&#39;t recognizing a WebElement (Selenium) variable until I open the class in the debugger", "body": "<p>I am getting some very odd behavior on a project. Essentially this automation creates an article on a web page  using selenium and verifies it's existence by clicking/opening the article. However when i run the program without debug it is failing to \"click()\" on the web element. So I investigate and start to debug. I notice that the web element (\"target_element\") is \"None\". I continue past for just debugging and it fails to click \"target_element\" as expected.\nWhen i rerun the program and instead of continuing on i open the class in the debug view. I see that \"target_element\" exists, so i continue on and target_element.click() successfully loads the article on the webpage. Does anyone have any suggestions on how to fix this problem?</p>\n\n<p>TLDR; article.target_element does not exist when running the program UNLESS i set a breakpoint and look at \"article\" in the debugger. Then if i continue in the program article.target_element suddenly exists.</p>\n\n<p><img src=\"https://i.stack.imgur.com/JTDX1.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "email", "mime-types", "boto", "amazon-ses"], "comments": [{"owner": {"reputation": 2062, "user_id": 1772673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89b6a300aac526ffe07c53c049dde773?s=128&d=identicon&r=PG", "display_name": "Josh Kupershmidt", "link": "https://stackoverflow.com/users/1772673/josh-kupershmidt"}, "edited": false, "score": 0, "creation_date": 1429131616, "post_id": 29660366, "comment_id": 47461058, "body": "I believe what you&#39;re asking should be possible, though I don&#39;t have time to put together a full example at the moment. Check out how the django-ses package <a href=\"https://github.com/hmarr/django-ses/blob/master/django_ses/__init__.py#L157\" rel=\"nofollow noreferrer\">implements send_messages()</a> which is able to quickly send messages to long lists of recipients. Edit: actually, maybe not -- I see that send_messages() there is in fact looping over the list of email_messages."}, {"owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "edited": false, "score": 2, "creation_date": 1429131694, "post_id": 29660366, "comment_id": 47461105, "body": "You can send to multiple recipients if you list the &#39;cc&#39; and &#39;bcc&#39; recipients with the &#39;to&#39; recipient. See <a href=\"http://stackoverflow.com/questions/9974972/mails-not-being-sent-to-people-in-cc\" title=\"mails not being sent to people in cc\">stackoverflow.com/questions/9974972/&hellip;</a>"}, {"owner": {"reputation": 381, "user_id": 2090580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a314d273ca6d78f6401ad88f4fde945?s=128&d=identicon&r=PG", "display_name": "nights", "link": "https://stackoverflow.com/users/2090580/nights"}, "edited": false, "score": 0, "creation_date": 1543290233, "post_id": 29660366, "comment_id": 93854683, "body": "&quot;now&quot; seem to have no use?"}], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 3650586, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_9n_YS7s33s/AAAAAAAAAAI/AAAAAAAAAGY/OAkSi00gc9M/photo.jpg?sz=128", "display_name": "Anomitra", "link": "https://stackoverflow.com/users/3650586/anomitra"}, "edited": false, "score": 0, "creation_date": 1573565063, "post_id": 36152914, "comment_id": 103916582, "body": "This is redundant as well as confusing. Has anybody figured out why it is this way?"}, {"owner": {"reputation": 395, "user_id": 1471293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6077c2c1810af7a19935b3c1579771?s=128&d=identicon&r=PG", "display_name": "jhuamanchumo", "link": "https://stackoverflow.com/users/1471293/jhuamanchumo"}, "edited": false, "score": 0, "creation_date": 1605594797, "post_id": 36152914, "comment_id": 114690975, "body": "It&#39;s explained in the documentation: <a href=\"https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/ses.html#SES.Client.send_raw_email\" rel=\"nofollow noreferrer\">boto3.amazonaws.com/v1/documentation/api/latest/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 241, "user_id": 5043864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5893492d112cc0ebcbce9af50fa64162?s=128&d=identicon&r=PG&f=1", "display_name": "chamal sapumohotti", "link": "https://stackoverflow.com/users/5043864/chamal-sapumohotti"}, "is_accepted": false, "score": 16, "last_activity_date": 1458645259, "creation_date": 1458645259, "answer_id": 36152914, "question_id": 29660366, "link": "https://stackoverflow.com/questions/29660366/boto-ses-send-raw-email-to-multiple-recipients/36152914#36152914", "title": "Boto SES - send_raw_email() to multiple recipients", "body": "<p>Basically you need to specify the email recipients in 2 different places using 2 different formats. </p>\n\n<pre><code>def send_amazon_email_with_attachment(html, subject, now, pre):\n    dummy = 'test@example.com'\n    recipients = ['test1@exampl.ecom', 'test2@example.com', 'test3@example.com']\n    connS3 = S3Connection('IDENTIFICATION','PASSWORD')\n    b = connS3.get_bucket('BUCKET_NAME')\n    key = b.get_key('FILE_NAME.pdf')\n    temp = key.get_contents_as_string()\n\n    msg = MIMEMultipart('alternative')\n    msg['Subject'] = subject\n    msg['From'] = 'My Name &lt;test@example.com&gt;' \n    msg['To'] = ', '.join(recipients)\n\n\n    msg.preamble = 'Multipart message.\\n'\n\n    part1 = MIMEText(u\"Attached is the report\", 'plain')\n    part2 = MIMEText(html, 'html')\n\n    msg.attach(part1)\n    msg.attach(part2)\n\n    part = MIMEApplication(temp) #read binary\n    part.add_header('Content-Disposition', 'attachment', filename='FILE_NAME.pdf')\n    msg.attach(part)\n\n    conn = boto.ses.connect_to_region('us-east-1', aws_access_key_id='AUTH_ID', aws_secret_access_key='AUTH_PW')\n\n\n    result = conn.send_raw_email(msg.as_string(), source=msg['From'], destinations=recipients)\n</code></pre>\n"}], "owner": {"reputation": 2661, "user_id": 1556228, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/836ec7039babfe28e8606e2c3df4f5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/1556228/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10775, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1458645259, "creation_date": 1429130079, "last_edit_date": 1495540985, "question_id": 29660366, "link": "https://stackoverflow.com/questions/29660366/boto-ses-send-raw-email-to-multiple-recipients", "title": "Boto SES - send_raw_email() to multiple recipients", "body": "<p>I'm having big time problems with this issue-- another question on SO that didn't solve it is here: <a href=\"https://stackoverflow.com/questions/29127348/send-raw-email-with-attachment-to-multiple-recipients\">Send Raw Email (with attachment) to Multiple Recipients</a></p>\n\n<p>My code (that works) is simple: </p>\n\n<pre><code>def send_amazon_email_with_attachment(html, subject, now, pre):\n    dummy = 'test@example.com'\n    recipients = ['test1@exampl.ecom', 'test2@example.com', 'test3@example.com']\n    connS3 = S3Connection('IDENTIFICATION','PASSWORD')\n    b = connS3.get_bucket('BUCKET_NAME')\n    key = b.get_key('FILE_NAME.pdf')\n    temp = key.get_contents_as_string()\n\n    msg = MIMEMultipart('alternative')\n    msg['Subject'] = subject\n    msg['From'] = 'My Name &lt;test@example.com&gt;'        \n\n    msg.preamble = 'Multipart message.\\n'\n\n    part1 = MIMEText(u\"Attached is the report\", 'plain')\n    part2 = MIMEText(html, 'html')\n\n    msg.attach(part1)\n    msg.attach(part2)\n\n    part = MIMEApplication(temp) #read binary\n    part.add_header('Content-Disposition', 'attachment', filename='FILE_NAME.pdf')\n    msg.attach(part)\n\n    conn = boto.ses.connect_to_region('us-east-1', aws_access_key_id='AUTH_ID', aws_secret_access_key='AUTH_PW')\n    for recipient in recipients:\n        print recipient\n        msg['To'] = recipient\n\n        result = conn.send_raw_email(msg.as_string(), source=msg['From'], destinations=recipient)\n</code></pre>\n\n<p>but, there's a caveat... this is looping for each recipient. Any variation of this <em>does not work</em>. Passing a list to <code>msg['Bcc']</code> or <code>msg['BCC']</code> will return an error that the list can't be stripped (same exact error as the posted question). Passing a string separated by commas gives an Amazon SES issue saying 'Illegal Email' in the returned XML. Because I only get an error from Amazon in specific situations, I'm led to believe this is an error with the program before it hits their API call. </p>\n\n<p>Any <code>MIMEMultipart</code> experts have some ideas?</p>\n"}, {"tags": ["python", "notifications", "pycharm"], "answers": [{"tags": [], "owner": {"reputation": 759, "user_id": 3399373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ntxSQ.png?s=128&g=1", "display_name": "Navith", "link": "https://stackoverflow.com/users/3399373/navith"}, "is_accepted": false, "score": 1, "last_activity_date": 1429131987, "last_edit_date": 1429131987, "creation_date": 1429130139, "answer_id": 29660387, "question_id": 29660258, "link": "https://stackoverflow.com/questions/29660258/is-it-possible-to-get-notification-outside-of-pycharm-console-if-my-program-cras/29660387#29660387", "title": "Is it possible to get notification outside of PyCharm console if my program crashes?", "body": "<p>You can use the <code>\\a</code> character to make an \"ASCII Bell\", which can either make an alert sound or be reconfigured by the OS to make a visual notification.</p>\n\n<pre><code>import atexit\n\n@atexit.register\ndef notify():\n    # Python 2: print \"\\a\"\n    # or from __future__ import print_function\n    # at the top of your code\n    print(\"\\a\")\n\n# Let's crash\n1/0\n</code></pre>\n\n<p>Note that with <code>atexit</code>, the <code>notify</code> function won't run when exiting to interactive mode (the <code>-i</code> flag when starting Python). It will though, when you exit with <code>exit()</code>/<code>quit()</code>, <code>Ctrl-Z</code>, or <code>Ctrl-C</code>, an exception, or reaching the end of code.</p>\n"}], "owner": {"reputation": 315, "user_id": 4793743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SRzyX.gif?s=128&g=1", "display_name": "Bashalex", "link": "https://stackoverflow.com/users/4793743/bashalex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1429131987, "creation_date": 1429129761, "last_edit_date": 1429130593, "question_id": 29660258, "link": "https://stackoverflow.com/questions/29660258/is-it-possible-to-get-notification-outside-of-pycharm-console-if-my-program-cras", "title": "Is it possible to get notification outside of PyCharm console if my program crashes?", "body": "<p>So I have a program which are working in PyCharm for a long time and sometimes it crashes. And after it I get some logs in its console. However it isn't convenient to check it every 10 minutes, so is it possible to get some notifications on my display outside PyCharm when my program has crashed? Maybe some sound or pop-up window or somthing else...</p>\n"}, {"tags": ["python", "csv", "numpy", "scikit-learn"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 3, "creation_date": 1429130098, "post_id": 29660252, "comment_id": 47460189, "body": "It would be useful to know <b>which</b> line the error occurs, also your code is in it&#39;s current form just nonsense as you&#39;re passing an empty list to <code>pca.fit</code>"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 1, "creation_date": 1429130195, "post_id": 29660252, "comment_id": 47460249, "body": "I&#39;m thinking this happens elsewhere (e.g. in <code>pca.fit()</code> or <code>pca.transform()</code>); I don&#39;t see any subtraction operations that might have raised this error directly in this top-level code."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1429130861, "post_id": 29660252, "comment_id": 47460611, "body": "I don&#39;t know what you&#39;re referring to when you say <i>&quot;did not quite understand what self.mean_ here&quot;</i>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 2, "creation_date": 1429131061, "post_id": 29660252, "comment_id": 47460715, "body": "Please update the question to include a minimal, complete example that demonstrates the problem (<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>).  You haven&#39;t shown in the code or stated in the question how <code>PCA</code> is imported."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1429137556, "post_id": 29660252, "comment_id": 47463852, "body": "This is still not a complete example - we don&#39;t have access to your CSV file, and we therefore can&#39;t know what <code>data_sentiment</code> looks like. Could you please add a few rows from <code>data_sentiment</code> to your question. Also, please edit your question to contain the <b>full traceback</b> for the error message you are seeing."}], "answers": [{"comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 35, "user_id": 4092281, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-YZvUL3-BHLc/AAAAAAAAAAI/AAAAAAAAAGI/wgyKRcSsGWU/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4092281/jason"}, "edited": false, "score": 0, "creation_date": 1429167878, "post_id": 29662834, "comment_id": 47473795, "body": "If my answer solves your problem then you should accept it (click the tick next to my answer)"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 35, "user_id": 4092281, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-YZvUL3-BHLc/AAAAAAAAAAI/AAAAAAAAAGI/wgyKRcSsGWU/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4092281/jason"}, "edited": false, "score": 0, "creation_date": 1429291468, "post_id": 29662834, "comment_id": 47546970, "body": "No problem, and welcome to StackOverflow! As a new user of the site, learning <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a> is the most important skill for you to pick up. Please remember to include as much relevant information as you can in your question. If other users have to ask for important details in the comments then they are likely to get impatient with you, and may downvote or close your question instead of trying to answer it."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1429141853, "last_edit_date": 1429141853, "creation_date": 1429140916, "answer_id": 29662834, "question_id": 29660252, "link": "https://stackoverflow.com/questions/29660252/typeerror-unsupported-operand-types-for-numpy-ndarray-and-numpy-ndarray/29662834#29662834", "title": "TypeError: unsupported operand type(s) for -: &#39;numpy.ndarray&#39; and &#39;numpy.ndarray&#39; whilst trying to do PCA", "body": "<p>You are not parsing the CSV file correctly. Each <code>row</code> that your <code>reader</code> returns will be a list of strings, like this:</p>\n\n<pre><code>row = ['0.0', '1.0', '2.0', '3.0', '4.0']\n</code></pre>\n\n<p>Your <code>data_sentiment</code> will therefore be a list-of-lists-of-<strong>strings</strong>, for example:</p>\n\n<pre><code>data_sentiment = [row, row, row]\n</code></pre>\n\n<p>When you pass this directly to <code>pca.fit()</code>, it is internally converted to a numpy array, also containing <strong>strings</strong>:</p>\n\n<pre><code>X = np.array(data_sentiment)\nprint(repr(X))\n# array([['0.0', '1.0', '2.0', '3.0', '4.0'],\n#        ['0.0', '1.0', '2.0', '3.0', '4.0'],\n#        ['0.0', '1.0', '2.0', '3.0', '4.0']], \n#       dtype='|S3')\n</code></pre>\n\n<p>numpy has no rule for subtracting an array of strings from another array of strings:</p>\n\n<pre><code>X - X\n# TypeError: unsupported operand type(s) for -: 'numpy.ndarray' and 'numpy.ndarray'\n</code></pre>\n\n<p>This mistake would have been very easy to spot if you had bothered to show us some of the contents of <code>data_sentiment</code> in your question, as I asked you to.</p>\n\n<hr>\n\n<p>What you need to do is convert your strings to floats, for example:</p>\n\n<pre><code>data_sentiment.append([float(s) for s in row[:25000]])\n</code></pre>\n\n<p>A much easier way would be to use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html\" rel=\"nofollow\"><code>np.loadtxt</code></a> to parse the CSV file:</p>\n\n<pre><code>data_sentiment = np.loadtxt('/path/to/file.csv', delimiter=',')\n</code></pre>\n\n<p>If you have pandas installed, then <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.parsers.read_csv.html\" rel=\"nofollow\"><code>pandas.read_csv</code></a> will probably be faster than <code>np.loadtxt</code> for a large array such as this one.</p>\n"}], "owner": {"reputation": 35, "user_id": 4092281, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-YZvUL3-BHLc/AAAAAAAAAAI/AAAAAAAAAGI/wgyKRcSsGWU/photo.jpg?sz=128", "display_name": "Jason", "link": "https://stackoverflow.com/users/4092281/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4163, "favorite_count": 1, "accepted_answer_id": 29662834, "answer_count": 1, "score": 0, "last_activity_date": 1429141853, "creation_date": 1429129741, "last_edit_date": 1429141732, "question_id": 29660252, "link": "https://stackoverflow.com/questions/29660252/typeerror-unsupported-operand-types-for-numpy-ndarray-and-numpy-ndarray", "title": "TypeError: unsupported operand type(s) for -: &#39;numpy.ndarray&#39; and &#39;numpy.ndarray&#39; whilst trying to do PCA", "body": "<p>I'm trying to do PCA on a sparse matrix, but I am encountering an error:</p>\n\n<pre><code>TypeError: unsupported operand type(s) for -: 'numpy.ndarray' and 'numpy.ndarray'\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>import sys\nimport csv\nfrom sklearn.decomposition import PCA\n\ndata_sentiment = []\ny = []\ndata2 = []\ncsv.field_size_limit(sys.maxint)\nwith open('/Users/jasondou/Google Drive/data/competition_1/speech_vectors.csv') as infile:\n    reader = csv.reader(infile, delimiter=',', quotechar='|')\n    n = 0\n    for row in reader:\n        # sample = row.split(',')\n        n += 1\n        if n%1000 == 0:\n            print n\n        data_sentiment.append(row[:25000])\n\npca = PCA(n_components=3)\npca.fit(data_sentiment)\nPCA(copy=True, n_components=3, whiten=False)\nprint(pca.explained_variance_ratio_) \ny = pca.transform(data_sentiment)\n</code></pre>\n\n<p>The input data is <code>speech_vector.csv</code>, which a 2740 * 50000 matrix found <a href=\"http://www.cs.cornell.edu/Courses/cs4786/2015sp/assignments/competition_1.zip\" rel=\"nofollow\">available here</a></p>\n\n<p>Here is the full error traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 45, in &lt;module&gt;\n    y = pca.transform(data_sentiment)\n  File \"/Users/jasondou/anaconda/lib/python2.7/site-packages/sklearn/decomposition/pca.py\", line 397, in transform\n    X = X - self.mean_\nTypeError: unsupported operand type(s) for -: 'numpy.ndarray' and 'numpy.ndarray'\n</code></pre>\n\n<p>I do not quite understand what <code>self.mean_</code> refers to here.</p>\n"}, {"tags": ["python", "numpy", "scipy", "signal-processing"], "answers": [{"tags": [], "owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "is_accepted": false, "score": 7, "last_activity_date": 1429134186, "creation_date": 1429134186, "answer_id": 29661462, "question_id": 29660088, "link": "https://stackoverflow.com/questions/29660088/create-lti-system-in-python-from-state-matrices-using-scipy-signal-lti/29661462#29661462", "title": "Create LTI system in Python from state matrices using scipy.signal.lti", "body": "<p>In the <a href=\"https://en.wikipedia.org/wiki/State-space_representation\" rel=\"noreferrer\">state-space representation</a>, your input vector <code>D</code> has a size 2, which means that this control system has 2 output variables. I believe this is not supported by the current implementation of <code>scipy.signal.lti</code>. </p>\n\n<p>For instance, the following input, with one output variable does work.</p>\n\n<pre><code>C=np.array([[0,0,1,0]])\nD=np.array([[0]])\n</code></pre>\n\n<p><strong>Further details</strong>. The issue is in that with your original input parameters,</p>\n\n<pre><code>num, den =  scipy.signal.ss2tf(A, B, C, D)\n</code></pre>\n\n<p>gives a 1D array for the denominator, but a 2D array for the numerator (i.e. several of them, since there are multiple output variables). But then <code>scipy.signal.tf2zpk(num, den)</code> expects both <code>num</code> and <code>den</code> to be just polynomials (i.e. 1D arrays). Hence, the failure to initialize the <code>lte</code> class.</p>\n"}], "owner": {"reputation": 101, "user_id": 4793685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LdLH2KPQFj0/AAAAAAAAAAI/AAAAAAAAAU4/u1JONm25MXo/photo.jpg?sz=128", "display_name": "Joseph C. Slater", "link": "https://stackoverflow.com/users/4793685/joseph-c-slater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1429134186, "creation_date": 1429129109, "last_edit_date": 1429131190, "question_id": 29660088, "link": "https://stackoverflow.com/questions/29660088/create-lti-system-in-python-from-state-matrices-using-scipy-signal-lti", "title": "Create LTI system in Python from state matrices using scipy.signal.lti", "body": "<p><a href=\"http://docs.scipy.org/doc/scipy-0.15.1/reference/generated/scipy.signal.lti.html\" rel=\"noreferrer\"><code>scipy.signal.lti</code></a> claims to be able to accept four arrays, <code>A</code>, <code>B</code>, <code>C</code>, and <code>D</code>, to define a system (in addition to other methods). However, it gives me an error, and I can find no examples illustrating this.</p>\n\n<p>My code is simply:</p>\n\n<pre><code>A=np.array([[0,0,1,0],[0,0,0,1],[-2,1,-.02,.01],[1,-2,.01,-.02]])\nB=np.array([[0],[0],[-1],[0]])\nC=np.array([[0,0,1,0],[0,0,0,1]])\nD=np.array([[0],[0]])\nsys=scipy.signal.lti(A,B,C,D) #spelled out\n</code></pre>\n\n<p>with the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/scipy/signal/ltisys.py\", line 317, in __init__\n    self._update(N)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/scipy/signal/ltisys.py\", line 428, in _update\n    self.C, self.D)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/scipy/signal/ltisys.py\", line 259, in ss2zpk\n    return tf2zpk(*ss2tf(A, B, C, D, input=input))\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/scipy/signal/filter_design.py\", line 315, in tf2zpk\n    z = roots(b)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/numpy/lib/polynomial.py\", line 203, in roots\n    raise ValueError(\"Input must be a rank-1 array.\")\nValueError: Input must be a rank-1 array.\n</code></pre>\n\n<p>What am I missing here? The matrix (array) sizes are correct. </p>\n"}, {"tags": ["javascript", "python", "macos", "selenium", "phantomjs"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1429129539, "post_id": 29659974, "comment_id": 47459874, "body": "Try to run it with <code>--ignore-ssl-errors=true</code> as a commandline option."}, {"owner": {"reputation": 27303, "user_id": 1003123, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ef598363853c3081cc13585afbe81d0f?s=128&d=identicon&r=PG", "display_name": "enrico.bacis", "link": "https://stackoverflow.com/users/1003123/enrico-bacis"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1429181676, "post_id": 29659974, "comment_id": 47482745, "body": "@ArtjomB. It works, can you post it as an answer so I can accept it?"}, {"owner": {"reputation": 27303, "user_id": 1003123, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ef598363853c3081cc13585afbe81d0f?s=128&d=identicon&r=PG", "display_name": "enrico.bacis", "link": "https://stackoverflow.com/users/1003123/enrico-bacis"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1429182107, "post_id": 29659974, "comment_id": 47483061, "body": "@ArtjomB. The question is pretty similar, but it would be interesting to understand why on Ubuntu it works and on Mac OS X it fails."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1429182192, "post_id": 29659974, "comment_id": 47483113, "body": "PhantomJS probably fails to use the certificate store of OSX for some reason."}], "owner": {"reputation": 27303, "user_id": 1003123, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ef598363853c3081cc13585afbe81d0f?s=128&d=identicon&r=PG", "display_name": "enrico.bacis", "link": "https://stackoverflow.com/users/1003123/enrico-bacis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1429185870, "answer_count": 0, "score": 0, "last_activity_date": 1429181173, "creation_date": 1429128764, "last_edit_date": 1429181173, "question_id": 29659974, "link": "https://stackoverflow.com/questions/29659974/external-javascript-not-loading-with-phantomjs-and-selenium-webdriver-on-mac-os", "closed_reason": "Duplicate", "title": "External javascript not loading with PhantomJS and selenium webdriver on Mac OS X", "body": "<p>I have a python script that uses PhantomJS with selenium webdriver to retrieve a page which works perfectly on Ubuntu, while on Mac OS X  it does not get some javascript library correctly.</p>\n\n<p>This is more evident on a stackoverflow webpage which has a dedicated message for it.</p>\n\n<pre><code>from selenium import webdriver\nbrowser = webdriver.PhantomJS()\nbrowser.get(\"https://stackoverflow.com\")\nbrowser.save_screenshot(\"so.png\")\n</code></pre>\n\n<p>Ubuntu with PhantomJS 1.9.8:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GOluT.png\" alt=\"PhantomJS on Ubuntu\"></p>\n\n<p>Mac OS X with PhantomJS 2.0:</p>\n\n<p><img src=\"https://i.stack.imgur.com/gYI28.png\" alt=\"PhantomJS on Mac OS X\"></p>\n\n<p>The two tests are performed on the same network and both the machines can open the webpage correctly when using a classical browser.</p>\n"}, {"tags": ["python", "rest", "eve"], "comments": [{"owner": {"reputation": 4124, "user_id": 4394418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEtIP.png?s=128&g=1", "display_name": "Gerard Rozsavolgyi", "link": "https://stackoverflow.com/users/4394418/gerard-rozsavolgyi"}, "edited": false, "score": 0, "creation_date": 1429128925, "post_id": 29659942, "comment_id": 47459502, "body": "You should use a POST to add a new element ..."}, {"owner": {"reputation": 1999, "user_id": 992184, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/432bd6d1dbc8dd5eb8f14703d1f1068c?s=128&d=identicon&r=PG", "display_name": "Greg M. Krsak", "link": "https://stackoverflow.com/users/992184/greg-m-krsak"}, "edited": false, "score": 0, "creation_date": 1429129832, "post_id": 29659942, "comment_id": 47460045, "body": "Never use MS Word to edit you programs or data. You have some ellipses and quotes that are autocorrected."}, {"owner": {"reputation": 138, "user_id": 4792971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Styl5u4Tzx0/AAAAAAAAAAI/AAAAAAAAAVI/QcZXxDaq0_Q/photo.jpg?sz=128", "display_name": "Amy Eubanks", "link": "https://stackoverflow.com/users/4792971/amy-eubanks"}, "edited": false, "score": 0, "creation_date": 1429129849, "post_id": 29659942, "comment_id": 47460055, "body": "Thanks for the quick response! I just edited my question after I tried posting a new friend."}, {"owner": {"reputation": 1807, "user_id": 1495000, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5138556c5b6609def3d7f216e48b901?s=128&d=identicon&r=PG", "display_name": "CraigH", "link": "https://stackoverflow.com/users/1495000/craigh"}, "edited": false, "score": 0, "creation_date": 1454969933, "post_id": 29659942, "comment_id": 58272410, "body": "@AmyEubanks I have the same problem. How did you resolve this since it&#39;s not natively supported in eve."}, {"owner": {"reputation": 138, "user_id": 4792971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Styl5u4Tzx0/AAAAAAAAAAI/AAAAAAAAAVI/QcZXxDaq0_Q/photo.jpg?sz=128", "display_name": "Amy Eubanks", "link": "https://stackoverflow.com/users/4792971/amy-eubanks"}, "reply_to_user": {"reputation": 1807, "user_id": 1495000, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5138556c5b6609def3d7f216e48b901?s=128&d=identicon&r=PG", "display_name": "CraigH", "link": "https://stackoverflow.com/users/1495000/craigh"}, "edited": false, "score": 0, "creation_date": 1455247373, "post_id": 29659942, "comment_id": 58415375, "body": "@CraigH I just posted my workaround."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 4792971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Styl5u4Tzx0/AAAAAAAAAAI/AAAAAAAAAVI/QcZXxDaq0_Q/photo.jpg?sz=128", "display_name": "Amy Eubanks", "link": "https://stackoverflow.com/users/4792971/amy-eubanks"}, "edited": false, "score": 0, "creation_date": 1429199066, "post_id": 29666846, "comment_id": 47496638, "body": "I am able to POST to &#39;users&#39;, just not to a single &#39;users/&lt;id&gt;&#39;. I see that it is not allowed, because I get a ConfigException from Eve when I add it to the &#39;ITEM_METHODS&#39; list. I&#39;ll use PATCH like you say and keep track of old values. Thanks for your answer!"}, {"owner": {"reputation": 8058, "user_id": 557067, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fab243b2d94e8ce1c3c0cd7fd8c24cf9?s=128&d=identicon&r=PG", "display_name": "xiaohan2012", "link": "https://stackoverflow.com/users/557067/xiaohan2012"}, "edited": false, "score": 3, "creation_date": 1445885199, "post_id": 29666846, "comment_id": 54502283, "body": "Is there any plan to support the <code>push-to-list-field</code> operation in Eve?"}, {"owner": {"reputation": 13087, "user_id": 2062973, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GD1pm.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/2062973/james"}, "edited": false, "score": 0, "creation_date": 1455154716, "post_id": 29666846, "comment_id": 58366962, "body": "@nicola, is there a way to append on the list documents."}, {"owner": {"reputation": 6351, "user_id": 323269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3550767c858c787c35c280047ff789c?s=128&d=identicon&r=PG", "display_name": "Nicola Iarocci", "link": "https://stackoverflow.com/users/323269/nicola-iarocci"}, "edited": false, "score": 0, "creation_date": 1455172299, "post_id": 29666846, "comment_id": 58372382, "body": "Haven&#39;t yet figured a way to allow it in a proper RESTful way, to be honest."}, {"owner": {"reputation": 669, "user_id": 3776570, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fw5vM.png?s=128&g=1", "display_name": "Dominooch", "link": "https://stackoverflow.com/users/3776570/dominooch"}, "edited": false, "score": 0, "creation_date": 1484705009, "post_id": 29666846, "comment_id": 70615810, "body": "So does that mean if i want to add objectIds into a list, inside a resource, the only way is keep resending PATCHs as the list keeps growing? I.e., in my client i have to cache each instance?"}], "tags": [], "owner": {"reputation": 6351, "user_id": 323269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3550767c858c787c35c280047ff789c?s=128&d=identicon&r=PG", "display_name": "Nicola Iarocci", "link": "https://stackoverflow.com/users/323269/nicola-iarocci"}, "is_accepted": true, "score": 1, "last_activity_date": 1429165500, "creation_date": 1429165500, "answer_id": 29666846, "question_id": 29659942, "link": "https://stackoverflow.com/questions/29659942/how-to-add-to-a-list-type-in-python-eve-without-replacing-old-values/29666846#29666846", "title": "How to add to a list type in Python Eve without replacing old values", "body": "<p>POST will allow you to add a new document to the <code>users</code> endpoint. If it is returning a 405 then you most likely need to enable the POST method by adding it to the <code>RESOURCE_METHODS</code> list, as all endpoints are read-only by default; see <a href=\"http://python-eve.org/config#global-configuration\" rel=\"nofollow\">docs</a> (alternatively you can only enable POST for the individual endpoint by adding the method to the local <code>resource_methods</code> instead.)</p>\n\n<p>PATCH allows for the replacing of individual fields (as opposed to PUT, which will replace the whole document). So with PATCH you can atomically update the <code>friends</code> list by <em>replacing</em> it with a new value (a new list ObjectIds in your case), but you cannot push a single new ObjectId inside the existing list, I am afraid. </p>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 4792971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Styl5u4Tzx0/AAAAAAAAAAI/AAAAAAAAAVI/QcZXxDaq0_Q/photo.jpg?sz=128", "display_name": "Amy Eubanks", "link": "https://stackoverflow.com/users/4792971/amy-eubanks"}, "is_accepted": false, "score": 2, "last_activity_date": 1455247345, "creation_date": 1455247345, "answer_id": 35354276, "question_id": 29659942, "link": "https://stackoverflow.com/questions/29659942/how-to-add-to-a-list-type-in-python-eve-without-replacing-old-values/35354276#35354276", "title": "How to add to a list type in Python Eve without replacing old values", "body": "<p>Here is the workaround that I used. It's probably not the most efficient way to do this, but it worked for me.</p>\n\n<p>Instead of having a <code>users/friends</code> list like I had originally planned, I ended up creating a resource for <code>shares.</code> In my case, I wanted to know which <code>crystals</code> were shared with which <code>users.</code> So when I query <code>crystals/&lt;crystal_id&gt;/shares,</code> I should get a list of the <code>shares</code> for that <code>crystal.</code></p>\n\n<p>I think you could apply a solution like this to the <code>users/friends</code> scenario if you swap <code>crystals</code> for <code>users</code> and <code>shares</code> for <code>friends.</code> You might put two different <code>user_id</code> data_relations in your <code>friends_schema</code> (my <code>shares_schema</code>).</p>\n\n<pre><code>shares_schema = {\n    'crystal_id': {\n        'type': 'objectid',\n        'required': True,\n        'data_relation': {\n            'resource': 'crystals',\n            'embeddable': True,\n        },\n    },\n    'user_id': {\n        'type': 'objectid',\n        'required': True,\n        'data_relation': {\n            'resource': 'users',\n            'embeddable': True,\n        },\n    },\n}\n\nshares = {\n    'internal_resource': True,\n    'schema': shares_schema,\n}\n\ncrystals_shares = {\n    'schema': shares_schema,\n    'url': 'crystals/&lt;regex(\"[a-f0-9]{24}\"):crystal_id&gt;/shares',\n    'datasource': {'source': 'shares'},\n}\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 4792971, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Styl5u4Tzx0/AAAAAAAAAAI/AAAAAAAAAVI/QcZXxDaq0_Q/photo.jpg?sz=128", "display_name": "Amy Eubanks", "link": "https://stackoverflow.com/users/4792971/amy-eubanks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 2, "accepted_answer_id": 29666846, "answer_count": 2, "score": 9, "last_activity_date": 1455247345, "creation_date": 1429128646, "last_edit_date": 1495540915, "question_id": 29659942, "link": "https://stackoverflow.com/questions/29659942/how-to-add-to-a-list-type-in-python-eve-without-replacing-old-values", "title": "How to add to a list type in Python Eve without replacing old values", "body": "<p>I have a very similar setup to the person in this question:\n<a href=\"https://stackoverflow.com/questions/26811438/how-do-i-update-a-list-data-relation-in-python-eve\">How do I update a list data_relation in Python Eve</a>\nwith a users resource and a friends sub-resource of list type.</p>\n\n<pre><code>users = {\n    \u2026\n    \u2018friends\u2019: {\n    'type': 'list\u2019, \n        'schema': {\n        'type': 'objectid\u2019, \n        'data_relation': { \n            'resource': 'users\u2019 \n        } \n    }\n }\n},\n</code></pre>\n\n<p>However, when I try to add a new value to the friends list, the other values in the list get replaced by the new value. How do I add a single value to the list and keep the old values?</p>\n\n<pre><code>GET /users/5522987f893e3902048c55ff\n\n{\n\"_updated\": \"Wed, 15 Apr 2015 17:22:07 GMT\",\n\"_created\": \"Mon, 06 Apr 2015 14:30:23 GMT\",\n\"_id\": \"5522987f893e3902048c55ff\",\n\"friends\": [\n    \"552e9eb0893e391063045edc\"\n]\n}\n\nPATCH /users/5522987f893e3902048c55ff\n{\"friends\": [\u201c550f288d893e390204b0a5ac\u201d]}\n\nRESPONSE:\n{\n\"_updated\": \"Wed, 15 Apr 2015 19:38:06 GMT\",\n\"_created\": \"Mon, 06 Apr 2015 14:30:23 GMT\",\n\"_status\": \"OK\",\n\"_id\": \"5522987f893e3902048c55ff\"\n}\n\nGET /users/5522987f893e3902048c55ff\n\n{\n\"_updated\": \"Wed, 15 Apr 2015 19:38:06 GMT\",\n\"_created\": \"Mon, 06 Apr 2015 14:30:23 GMT\",\n\"_id\": \"5522987f893e3902048c55ff\",\n\"friends\": [\n    \"550f288d893e390204b0a5ac\"\n]\n}\n</code></pre>\n\n<p>I have also tried PUT, but it replaces the list with the new value as well.</p>\n\n<p><strong><em>EDIT:</em></strong>\nI just tried using POST.</p>\n\n<pre><code>POST /users/5522987f893e3902048c55ff/friends\n{\"552e9eb0893e391063045edc\"}\n\nRESPONSE:\n{\n\"_status\": \"ERR\",\n\"_error\": {\n    \"message\": \"The requested URL was not found on the server.  If you entered the URL manually please check your spelling and try again.\",\n    \"code\": 404\n}\n}\n</code></pre>\n\n<p>AND</p>\n\n<pre><code>POST /users/5522987f893e3902048c55ff\n{\"friends\": [\"552e9eb0893e391063045edc\"]}\n\nRESPONSE:\n{\n\"_status\": \"ERR\",\n\"_error\": {\n    \"message\": \"The method is not allowed for the requested URL.\",\n    \"code\": 405\n}\n}\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "boto", "emr"], "answers": [{"comments": [{"owner": {"reputation": 1303, "user_id": 2105469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/076bd5153511e71ff558d4ad5227eeab?s=128&d=identicon&r=PG", "display_name": "user2105469", "link": "https://stackoverflow.com/users/2105469/user2105469"}, "edited": false, "score": 0, "creation_date": 1429196439, "post_id": 29665246, "comment_id": 47494533, "body": "This sounds like the right solution path. I&#39;m looking into how to change <code>mapreduce.reduce.memory.mb</code> from within <code>boto</code>. Otherwise the solution is to select the next larger EC2 instance type. Right now I&#39;m using m1.medium, and this should really get the job done. I&#39;ll follow-up."}, {"owner": {"reputation": 1303, "user_id": 2105469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/076bd5153511e71ff558d4ad5227eeab?s=128&d=identicon&r=PG", "display_name": "user2105469", "link": "https://stackoverflow.com/users/2105469/user2105469"}, "edited": false, "score": 0, "creation_date": 1429197132, "post_id": 29665246, "comment_id": 47495103, "body": "Accessing hadoop parameters within boto: <a href=\"http://stackoverflow.com/questions/12071436/setting-hadoop-parameters-with-boto\" title=\"setting hadoop parameters with boto\">stackoverflow.com/questions/12071436/&hellip;</a>"}, {"owner": {"reputation": 1303, "user_id": 2105469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/076bd5153511e71ff558d4ad5227eeab?s=128&d=identicon&r=PG", "display_name": "user2105469", "link": "https://stackoverflow.com/users/2105469/user2105469"}, "edited": false, "score": 0, "creation_date": 1429198915, "post_id": 29665246, "comment_id": 47496518, "body": "The link below also helped: hadoop parameters are passed via bootstrap, and it&#39;s important to use the right <code>BootstrapAction</code> ( a function from <code>boto.emr.boostrap_action</code>): <a href=\"https://groups.google.com/forum/#!topic/boto-users/cEUJvertqWY\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/boto-users/cEUJvertqWY</a>"}, {"owner": {"reputation": 1303, "user_id": 2105469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/076bd5153511e71ff558d4ad5227eeab?s=128&d=identicon&r=PG", "display_name": "user2105469", "link": "https://stackoverflow.com/users/2105469/user2105469"}, "edited": false, "score": 0, "creation_date": 1429199021, "post_id": 29665246, "comment_id": 47496610, "body": "List of hadoop tasks parameters (<a href=\"https://hadoop.apache.org/docs/r1.0.4/mapred-default.html\" rel=\"nofollow noreferrer\">hadoop.apache.org/docs/r1.0.4/mapred-default.html</a>) and AWS&#39;s own task config parms (<a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/TaskConfiguration_H2.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/&zwnj;&#8203;&hellip;</a>)"}], "tags": [], "owner": {"reputation": 1915, "user_id": 4394783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60e35bce8659cb8180cc2556f2536e0?s=128&d=identicon&r=PG", "display_name": "ChristopherB", "link": "https://stackoverflow.com/users/4394783/christopherb"}, "is_accepted": true, "score": 1, "last_activity_date": 1429157769, "creation_date": 1429157769, "answer_id": 29665246, "question_id": 29659916, "link": "https://stackoverflow.com/questions/29659916/boto-emr-job-error-python-broken-pipeline-error-and-java-lang-outofmemoryerror/29665246#29665246", "title": "boto-emr job error: python broken pipeline error and java.lang.OutOfMemoryError", "body": "<p>It appears you need to increase the reducer memory size. This can be done by instance type (see <a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/TaskConfiguration_H2.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/TaskConfiguration_H2.html</a> for defaults by instance type) or by adjusting the <code>mapreduce.reduce.*</code> properties either at the job level or cluster level (<a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-plan-bootstrap.html#PredefinedbootstrapActions_ConfigureHadoop\" rel=\"nofollow\">http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-plan-bootstrap.html#PredefinedbootstrapActions_ConfigureHadoop</a>). </p>\n"}], "owner": {"reputation": 1303, "user_id": 2105469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/076bd5153511e71ff558d4ad5227eeab?s=128&d=identicon&r=PG", "display_name": "user2105469", "link": "https://stackoverflow.com/users/2105469/user2105469"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 29665246, "answer_count": 1, "score": 0, "last_activity_date": 1429157769, "creation_date": 1429128557, "last_edit_date": 1429130096, "question_id": 29659916, "link": "https://stackoverflow.com/questions/29659916/boto-emr-job-error-python-broken-pipeline-error-and-java-lang-outofmemoryerror", "title": "boto-emr job error: python broken pipeline error and java.lang.OutOfMemoryError", "body": "<p>I've prepared a streaming <code>boto</code> jobflow on AWS/EMR that runs perfectly well using the familiar test pipe:</p>\n\n<pre><code> sed -n '0~10000p'  Big.csv | ./map.py | sort -t$'\\t' -k1 | ./reduce.py\n</code></pre>\n\n<p>The boto emr job run also works well as I increase the size of the input data, until some threshold where jobs fail with a python broken pipe error:</p>\n\n<pre><code> Traceback (most recent call last):\n   File \"/mnt/var/lib/hadoop/mapred/taskTracker/hadoop/jobcache/job_201504151813_0001/attempt_201504151813_0001_r_000002_0/work/./reduce.py\", line 18, in &lt;module&gt;\njson.dump( { \"cid\":cur_key , \"promo_hx\":kc } , sys.stdout ) \n   File \"/usr/lib/python2.6/json/__init__.py\", line 181, in dump\nfp.write(chunk)\n IOError: [Errno 32] Broken pipe\n</code></pre>\n\n<p>and the following java error:</p>\n\n<pre><code>  org.apache.hadoop.streaming.PipeMapRed (Thread-38): java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>I'm <em>assuming</em> the memory error occurs first, leading to the broken pipeline.</p>\n\n<p>Mapping tasks all complete for any input data size; the error occurs at the reducer stage. My reducer is the usual streaming reducer (I am using AMI 3.2.3 with the <code>jason</code> package built into Python 2.6.9):</p>\n\n<pre><code> for line in sys.stdin:\n      line                = line.strip()\n      key  , value        = line.split('\\t')\n      ...\n      print json.dumps( { \"cid\":cur_key , \"promo_hx\":kc } , sort_keys=True , separators=(',',': ') )\n</code></pre>\n\n<p>Any idea what is going on? Thanks.</p>\n"}, {"tags": ["python", "cookies", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4780447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GQB9U.jpg?s=128&g=1", "display_name": "Marct", "link": "https://stackoverflow.com/users/4780447/marct"}, "edited": false, "score": 0, "creation_date": 1429192891, "post_id": 29676228, "comment_id": 47491647, "body": "are you able to force storing the cookie?, also the website in the example and script is valid so if you run this you  will get the same results, I have just re-ran the script and the cookie value for expiration is still the 15th."}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "reply_to_user": {"reputation": 49, "user_id": 4780447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GQB9U.jpg?s=128&g=1", "display_name": "Marct", "link": "https://stackoverflow.com/users/4780447/marct"}, "edited": false, "score": 0, "creation_date": 1429196181, "post_id": 29676228, "comment_id": 47494320, "body": "98% of requests cookie-handling is done by the standard library&#39;s <code>cookielib</code> module. The <code>RequestsCookieJar</code> implements nice convenience methods on top of that. The policy of rejecting that cookie means that the stdlib is doing its job. I don&#39;t know of a way to force it into the cookiejar but there may be information on docs.python.org that describe how to do that (despite it being a terrible idea)."}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "reply_to_user": {"reputation": 49, "user_id": 4780447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GQB9U.jpg?s=128&g=1", "display_name": "Marct", "link": "https://stackoverflow.com/users/4780447/marct"}, "edited": false, "score": 0, "creation_date": 1429197570, "post_id": 29676228, "comment_id": 47495488, "body": "It&#39;s also possible the server is misconfigured. You should check your browser to see if it stores this cookie when you log into the site"}, {"owner": {"reputation": 49, "user_id": 4780447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GQB9U.jpg?s=128&g=1", "display_name": "Marct", "link": "https://stackoverflow.com/users/4780447/marct"}, "edited": false, "score": 0, "creation_date": 1429280954, "post_id": 29676228, "comment_id": 47539833, "body": "You were 100% correct, after walking though how a browser handled the cookies it did not store the &quot;mtk&quot; cookie, it would appear that the initial mtk cookie is used as reference for the authenticated session, once the verification code was submitted it is re-issued with a correct expire date and is stored."}], "tags": [], "owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "is_accepted": true, "score": 0, "last_activity_date": 1429190926, "creation_date": 1429190926, "answer_id": 29676228, "question_id": 29659875, "link": "https://stackoverflow.com/questions/29659875/not-able-to-retrieve-all-cookies/29676228#29676228", "title": "Not able to retrieve all cookies", "body": "<p>You asked this ~17 hours ago, and when you did the expiration date on the second cookie was almost certainly well-past due.</p>\n\n<pre><code>mtk=1429041176%7C%7C7edcb7bc2f93785ccbd6e5216c5a252679d4ae2d; domain=companion.orerve.net; path=/; expires=Tue, 14-Apr-2015 19:52:56 UTC; secure, \n</code></pre>\n\n<p>Specifically note</p>\n\n<pre><code>expires=Tue, 14-Apr-2015 19:52:56 UTC\n</code></pre>\n\n<p>17 hours ago, it was definitely still 15-Apr-2015 in UTC.</p>\n\n<p>If a cookie has already expired, requests does not store it.</p>\n"}], "owner": {"reputation": 49, "user_id": 4780447, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GQB9U.jpg?s=128&g=1", "display_name": "Marct", "link": "https://stackoverflow.com/users/4780447/marct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 29676228, "answer_count": 1, "score": 0, "last_activity_date": 1429190926, "creation_date": 1429128419, "last_edit_date": 1429128472, "question_id": 29659875, "link": "https://stackoverflow.com/questions/29659875/not-able-to-retrieve-all-cookies", "title": "Not able to retrieve all cookies", "body": "<p>I have the following which I am trying to use to retrieve data from a JSON response, my problem is how ever it only retrieves 2 out of the 3 cookies and all three are needed to process the response verification.</p>\n\n<hr>\n\n<pre><code>from requests import session\n\npayload = {\n    'email': 'someone@email.com',\n    'password': 'password'\n}\n\nuserAgent = {\n    'user-agent': 'Mozilla/5.0 (iPad; U; CPU OS 3_2 like MacOS X; en-us)'\n                  'AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B334b Safari/531.21.10'}\nwith session() as c:\n    response = c.post('https://companion.orerve.net/user/login', headers=userAgent, data=payload)\n    print(response.headers)\n    print(response.cookies)\n</code></pre>\n\n<hr>\n\n<p>The header contains all the cookies but the cookieJar only is displaying 2</p>\n\n<hr>\n\n<pre><code>{'content-length': '565', 'expires': 'Thu, 19 Nov 1981 08:52:00 GMT', 'content-encoding': 'gzip', \n'set-cookie': '\nCompanionApp=uvpkui0vdi47funvjehg64auo6; path=/, \nmtk=1429041176%7C%7C7edcb7bc2f93785ccbd6e5216c5a252679d4ae2d; domain=companion.orerve.net; path=/; expires=Tue, 14-Apr-2015 19:52:56 UTC; secure, \nmid=1444938776%7CbRo65nOCl0SCyrFojxnwiQ%3D%3D%7Cf33c5b778deea444a21706edc27d6e439f39f89c; domain=companion.orerve.net; path=/; expires=Thu, 15-Oct-2015 19:52:56 UTC; secure', \n'strict-transport-security': 'max-age=16070400; includeSubDomains', 'vary': 'Accept-Encoding', 'server': 'Apache', 'connection': 'keep-alive', 'x-ua-compatible': 'IE=edge', 'pragma': 'no-cache', 'cache-control': 'no-transform', 'date': 'Wed, 15 Apr 2015 19:52:56 GMT', 'content-type': 'text/html; charset=utf-8'}\n\n&lt;RequestsCookieJar[&lt;Cookie mid=1444938776%7CbRo65nOCl0SCyrFojxnwiQ%3D%3D%7Cf33c5b778deea444a21706edc27d6e439f39f89c for .companion.orerve.net/&gt;, &lt;Cookie CompanionApp=uvpkui0vdi47funvjehg64auo6 for companion.orerve.net/&gt;]&gt;\n\nProcess finished with exit code 0\n</code></pre>\n\n<hr>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1429128410, "post_id": 29659835, "comment_id": 47459215, "body": "Have you looked at <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.groups.html#pandas.core.groupby.GroupBy.groups\" rel=\"nofollow noreferrer\">groups</a>? Also what are you ultimately trying to do?"}, {"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429128605, "post_id": 29659835, "comment_id": 47459328, "body": "In the example if we assume I have groups 1 and 2, I want to be able to create a list containing all items associated in group 1, and another list with items associated in group 2. But how can this be done for n groups? I will investigate this link you provided, thanks."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1429128754, "post_id": 29659835, "comment_id": 47459416, "body": "Well you can just do something like <code>df.groupby(col)[other_col].apply(lambda x: list(x))</code>"}, {"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429128903, "post_id": 29659835, "comment_id": 47459490, "body": "Not sure why this was down-voted, but if I am leaving out some integral information/clarity to the question, I am happy to expand/clarify."}, {"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429128968, "post_id": 29659835, "comment_id": 47459537, "body": "Thanks @EdChum I am looking into this now. If you put it in the form of an answer I&#39;m happy to select it if it ends up solving my problem :)"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429129239, "post_id": 29659835, "comment_id": 47459707, "body": "I don&#39;t know why, but 2 people have voted to close because your question is unclear, normally it is good practice to provide raw input data, code and desired output. all of which should be runnable, also I don&#39;t want to post an answer unless this is really what you want"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429129523, "post_id": 29659835, "comment_id": 47459866, "body": "You may to look at this which looks related: <a href=\"http://stackoverflow.com/questions/22219004/grouping-rows-in-list-in-pandas-groupby\" title=\"grouping rows in list in pandas groupby\">stackoverflow.com/questions/22219004/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "edited": false, "score": 0, "creation_date": 1429189650, "post_id": 29662006, "comment_id": 47488911, "body": "Hi Mark, this is a great solution, thank you! <code>tolist()</code> and <code>unique()</code> are perfect, especially the unique(), much cleaner than converting a list to a set and back to a list."}], "tags": [], "owner": {"reputation": 4257, "user_id": 1577110, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ca96cc231c44d10d8f78d1a7df698368?s=128&d=identicon&r=PG", "display_name": "Mark Graph", "link": "https://stackoverflow.com/users/1577110/mark-graph"}, "is_accepted": true, "score": 1, "last_activity_date": 1429137282, "last_edit_date": 1429137282, "creation_date": 1429136726, "answer_id": 29662006, "question_id": 29659835, "link": "https://stackoverflow.com/questions/29659835/dynamically-creating-lists-in-python/29662006#29662006", "title": "Dynamically creating lists in Python", "body": "<p>You could use a python dictionary comprehension to compile the lists you want to achieve ... the last two lines in the next code block do the heavy lifting. The rest of the code block is me getting your data into pandas.</p>\n\n<pre><code>import pandas as pd\n\n# get your data into pandas\ndata = '''\nitem_list     group_list\nA             1\nB             1\nC             2\nD             1\nE             2\nF             1\nG             2\nH             2\nI             1\nJ             2'''\nfrom StringIO import StringIO # import from io for python 3\ndf = pd.read_csv(StringIO(data), sep=r'\\s+', index_col=None, header=0)\n\n# use a dictionary comprehension to compile the collection of lists\nlists = {x: df[df['group_list'] == x].item_list.tolist() \n    for x in df['group_list'].unique()}\n</code></pre>\n\n<p>Which gave me the following in ipython:</p>\n\n<pre><code>In [27]: print(lists)\n{1: ['A', 'B', 'D', 'F', 'I'], 2: ['C', 'E', 'G', 'H', 'J']}\n\nIn [28]: print(lists[1])\n['A', 'B', 'D', 'F', 'I']\n\nIn [29]: print(lists[2])\n['C', 'E', 'G', 'H', 'J']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4257, "user_id": 1577110, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ca96cc231c44d10d8f78d1a7df698368?s=128&d=identicon&r=PG", "display_name": "Mark Graph", "link": "https://stackoverflow.com/users/1577110/mark-graph"}, "is_accepted": false, "score": 1, "last_activity_date": 1429223946, "creation_date": 1429223946, "answer_id": 29687193, "question_id": 29659835, "link": "https://stackoverflow.com/questions/29659835/dynamically-creating-lists-in-python/29687193#29687193", "title": "Dynamically creating lists in Python", "body": "<p>Or you could do something like @EdChum suggested above ...</p>\n\n<pre><code>In [11]: x = df.groupby('group_list')['item_list'].apply(lambda x: x.tolist())\n\nIn [12]: print(x)\ngroup_list\n1    [A, B, D, F, I]\n2    [C, E, G, H, J]\nName: item_list, dtype: object\n\nIn [13]: print(x[1])\n['A', 'B', 'D', 'F', 'I']\n\nIn [14]: print(x[2])\n['C', 'E', 'G', 'H', 'J']\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 4092642, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/d23db9e78c890bb890890195a4f123ba?s=128&d=identicon&r=PG&f=1", "display_name": "ploo", "link": "https://stackoverflow.com/users/4092642/ploo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1572, "favorite_count": 0, "accepted_answer_id": 29662006, "answer_count": 2, "score": -1, "last_activity_date": 1429223946, "creation_date": 1429128299, "last_edit_date": 1429129788, "question_id": 29659835, "link": "https://stackoverflow.com/questions/29659835/dynamically-creating-lists-in-python", "title": "Dynamically creating lists in Python", "body": "<p>I have a bunch of items that are associated with different groups, and I ultimately want to create a list for each group, containing all associated items.</p>\n\n<p>The catch is I do not know how many groups there are, so how can I dynamically generate the correct number of lists, as well as how to call on them?</p>\n\n<p>I am looping through <code>item_list</code> and <code>group_list</code>, two different series that allign perfectly with each other, as in <code>item_list[item]</code> has the corresponding group in <code>group_list[item]</code></p>\n\n<p>Here is some raw data:</p>\n\n<pre><code>item list   group list\n   A             1\n   B             1\n   C             2\n   D             1\n   E             2\n   F             1\n   G             2\n   H             2\n   I             1\n   J             2\n</code></pre>\n\n<p>This is what I have so far:</p>\n\n<pre><code>groups = []\n\nfor item in item_list:\n    groups.append(group_list[item])\n\n# Get only unique values (instead of having groups 1,1,1,2,2 --&gt; 1,2)\ngroup_set = list(set(groups))\n\n# Number of lists that need to be generated\nlen(group_set)\n</code></pre>\n\n<p>What I want to end up with:</p>\n\n<pre><code>[IN]: print list_1:\n[OUT]: ['A', 'B', 'D', 'F', 'I']\n\n[IN]: print list_2:\n[OUT]: ['C', 'E', 'G', 'H', 'J']\n</code></pre>\n\n<p>where list_1 and list_2 was generated because len(group_set) from my current code is equal to 2.</p>\n\n<p>I'm just not sure how to dynamically generate that number of lists, and put each item in the appropriate list.</p>\n\n<p>Any advice/guidance is much appreciated...</p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "comments": [{"owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "edited": false, "score": 2, "creation_date": 1429129201, "post_id": 29659765, "comment_id": 47459683, "body": "Try <code>for property in collection_name.find({&quot;zip&quot;:33801}):</code>"}, {"owner": {"reputation": 6397, "user_id": 1472743, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f205382e9fa00ee4bdf653ec92a34679?s=128&d=identicon&r=PG", "display_name": "dwstein", "link": "https://stackoverflow.com/users/1472743/dwstein"}, "reply_to_user": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "edited": false, "score": 0, "creation_date": 1429129969, "post_id": 29659765, "comment_id": 47460115, "body": "that&#39;s it.  no need for quotes. Thanks!  want to put that as the answer?"}, {"owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "edited": false, "score": 2, "creation_date": 1429130224, "post_id": 29659765, "comment_id": 47460266, "body": "No worries :-) I think @DanielRoseman answer below suffices."}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 4, "last_activity_date": 1429129966, "creation_date": 1429129966, "answer_id": 29660325, "question_id": 29659765, "link": "https://stackoverflow.com/questions/29659765/query-string-issue-mongodb-using-python/29660325#29660325", "title": "query string issue mongodb using python", "body": "<p>You don't need to put it in a string. The MongoDB driver will convert the Python dict into the relevant format.</p>\n\n<pre><code>collection_name.find({\"zip\": 33801})\n</code></pre>\n"}], "owner": {"reputation": 6397, "user_id": 1472743, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f205382e9fa00ee4bdf653ec92a34679?s=128&d=identicon&r=PG", "display_name": "dwstein", "link": "https://stackoverflow.com/users/1472743/dwstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 29660325, "answer_count": 1, "score": 0, "last_activity_date": 1429129966, "creation_date": 1429128102, "question_id": 29659765, "link": "https://stackoverflow.com/questions/29659765/query-string-issue-mongodb-using-python", "title": "query string issue mongodb using python", "body": "<p>I have the following python script:</p>\n\n<pre><code>import pdb\nimport sys\nimport os\nimport csv\nimport pymongo\nfrom pymongo import MongoClient\n\ndef main():\n    pass\n\ndef getWholeCollection(collection_name):\n    for property in collection_name.find(\"{\"zip\":33801}\"):\n        print property\n\n\nif __name__ == '__main__':\n    client = MongoClient()\n    data_base = client.hkpr_dbw\n    properties_collection = data_base.properties\n\n    getWholeCollection(properties_collection)\n</code></pre>\n\n<p>I keep getting an error around <code>{\"zip\":33801}</code> which works fine in the mongo shell.  I tried \"\"\"{\"zip\":33801}\"\"\".</p>\n\n<p>I'd like to make the query a variable at some point.  How do I use these strings?</p>\n"}, {"tags": ["python", "twisted"], "answers": [{"tags": [], "owner": {"reputation": 29455, "user_id": 13564, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e1554622707bedd9202884900430b838?s=128&d=identicon&r=PG", "display_name": "Glyph", "link": "https://stackoverflow.com/users/13564/glyph"}, "is_accepted": false, "score": 0, "last_activity_date": 1429155520, "creation_date": 1429155520, "answer_id": 29664919, "question_id": 29659755, "link": "https://stackoverflow.com/questions/29659755/questions-on-twisted-protocols-and-loopingcall/29664919#29664919", "title": "Questions on Twisted Protocols and loopingCall", "body": "<p>Things get garbage collected when there are no more references to them, so I can't say when objects in your program will be collected.</p>\n\n<p>However, I can tell you about the references kept from Twisted.</p>\n\n<p>A <code>Protocol</code> connected to a <code>Transport</code> will have a reference that goes globals\u2192reactor\u2192transport\u2192protocol.  When the transport is closed, the reference from the reactor to the transport is broken.  The reactor only references the transport to deliver events to it, and since a disconnected transport has no events to deliver, the reactor can drop it.  The protocol therefore no longer is referenced by the reactor.  At that point, if no other globals or active stack variables reference it, it will be collected.</p>\n\n<p>A <code>LoopingCall</code> is referenced by globals\u2192reactor\u2192<code>DelayedCall</code> (the object returned by <code>callLater</code>)\u2192<code>LoopingCall.__call__</code> bound method\u2192<code>LoopingCall</code>.  If the <code>LoopingCall</code>'s <code>f</code> attribute (the callable it's calling) still references your <code>Protocol</code>, then yes, your <code>Protocol</code> object will continue to live in memory.  But, since it no longer has a useful <code>transport</code>, there's not that much you can do with it.</p>\n"}], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1429155520, "creation_date": 1429128051, "last_edit_date": 1429155164, "question_id": 29659755, "link": "https://stackoverflow.com/questions/29659755/questions-on-twisted-protocols-and-loopingcall", "title": "Questions on Twisted Protocols and loopingCall", "body": "<p>Suppose I have a python twisted app with the standard Factory and Protocol subclasses. My Protocol subclass connectionMade() method launches a loopingCall that runs (say) every 5 minutes. I have two questions:</p>\n\n<ol>\n<li>Suppose the connection gets lost. Yes I know that this will result in the connectionLost() method being called. But what happens the protocol object itself? When does that stop existing? Does it get garbage collected right away?</li>\n<li>What happens to the loopingCall in that protocol? If I don't explicitly cancel it, does that mean it keeps running forever and prevents the protocol from getting garbage collected?</li>\n</ol>\n"}, {"tags": ["python", "ipython"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 2, "creation_date": 1429127954, "post_id": 29659725, "comment_id": 47458963, "body": "<code>else</code> should be <code>elif</code> else, there must be nothing after <code>else</code>."}, {"owner": {"reputation": 5368, "user_id": 2286508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PEk18.png?s=128&g=1", "display_name": "aldeb", "link": "https://stackoverflow.com/users/2286508/aldeb"}, "edited": false, "score": 0, "creation_date": 1429128069, "post_id": 29659725, "comment_id": 47459031, "body": "You are not supposed to use the <code>is</code> keyword like this. Think you seriously misunderstood this keyword"}], "answers": [{"tags": [], "owner": {"reputation": 4791, "user_id": 3899471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f65ff7602231a1a1653a7debf32e7f?s=128&d=identicon&r=PG&f=1", "display_name": "kvorobiev", "link": "https://stackoverflow.com/users/3899471/kvorobiev"}, "is_accepted": true, "score": 6, "last_activity_date": 1429128732, "last_edit_date": 1429128732, "creation_date": 1429127970, "answer_id": 29659736, "question_id": 29659725, "link": "https://stackoverflow.com/questions/29659725/an-error-for-converting-elements-in-a-list/29659736#29659736", "title": "An error for converting elements in a list", "body": "<p>Just replace</p>\n\n<pre><code>else i is list:\n</code></pre>\n\n<p>with</p>\n\n<pre><code>elif i is list:\n</code></pre>\n\n<p>Since you need to evaluate a condition even in your last case, you need the 'if' functionality, so use <code>elif</code>. <code>else</code> cannot be followed immediately by a condition, hence the error you saw.<br>\nAlso, you have error in line</p>\n\n<pre><code>i=remove[n-1]\n</code></pre>\n\n<p>If you want remove last element from list <code>i</code> you need</p>\n\n<pre><code>del i[-1]\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4279890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1582417925345583/picture?type=large", "display_name": "Michael Ji", "link": "https://stackoverflow.com/users/4279890/michael-ji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 29659736, "answer_count": 1, "score": -1, "last_activity_date": 1429129641, "creation_date": 1429127922, "last_edit_date": 1429129641, "question_id": 29659725, "link": "https://stackoverflow.com/questions/29659725/an-error-for-converting-elements-in-a-list", "title": "An error for converting elements in a list", "body": "<p>I am a iPython beginner and I need some help with my code.\nI want to read 6 values from input. They can be integers, floats, complex numbers, strings or lists. \nAfter reading the values and appending them to a list, I do the following conversion:</p>\n\n<ul>\n<li><p>for integers: replace it with the square root inside the list. </p></li>\n<li><p>for floats: replace it with the cosine of the number inside the list.</p></li>\n<li><p>for complex numbers: replace it with its real part inside the list. </p></li>\n<li><p>for strings: turn it to capital letters inside the list.</p></li>\n<li><p>for lists: discard the last element.</p></li>\n</ul>\n\n<p>The program throws the following error:</p>\n\n<pre><code>File \"&lt;ipython-input-1-1f00b88d82c9&gt;\", line 20\n    else i is list:\n         ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>and also it can not store a string value into list. It always stores\n.\nhow should I solve this error?\nHere is my code:</p>\n\n<pre><code>import math as m\nl=[]\ni=0\nwhile i&lt;6:\n    x=input(\"Enter some values: \")\n    if isinstance(x,str):\n        x=int(x)\n    l.append(x)\n    i=i+1\nprint l\nfor i in l:\n    if i is str:\n        i=s.capitalize(i)\n    elif i is int:\n        i=m.sqrt(i)\n    elif i is float:\n        i=m.cos(i)\n    elif i is complex:\n        i=l.real(i)\n    else i is list:\n        n=len(l)\n        i=remove[n-1]\nprint l\n</code></pre>\n"}, {"tags": ["python", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1429128319, "last_edit_date": 1429128319, "creation_date": 1429127968, "answer_id": 29659734, "question_id": 29659701, "link": "https://stackoverflow.com/questions/29659701/how-to-insert-data-into-a-specific-column-in-a-sqlite-database/29659734#29659734", "title": "How to insert data into a specific column in a sqlite database?", "body": "<p>To alter existing rows, you need to use an <a href=\"https://www.sqlite.org/lang_update.html\" rel=\"nofollow\"><code>UPDATE</code> statement</a>, with a <code>WHERE</code> filter:</p>\n\n<pre><code>UPDATE ScoresTable SET (\"score 1\"=12, \"score 2\"=20, \"score 3\"=42) WHERE name='John'\n</code></pre>\n\n<p>I used <code>\"..\"</code> double quoting around the column names since they have spaces in them.</p>\n\n<p>Using a cursor in Python, with SQL parameters, that'd translate to:</p>\n\n<pre><code>cursor.execute('''\\\n    UPDATE ScoresTable SET (\"score 1\"=?, \"score 2\"=?, \"score 3\"=?)\n    WHERE name=?\n    ''', (score1, score2, score3, name))\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4288754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d570384be39b49fe58b88ac45158dfa?s=128&d=identicon&r=PG&f=1", "display_name": "rskw00", "link": "https://stackoverflow.com/users/4288754/rskw00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2915, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429131144, "creation_date": 1429127837, "last_edit_date": 1429131144, "question_id": 29659701, "link": "https://stackoverflow.com/questions/29659701/how-to-insert-data-into-a-specific-column-in-a-sqlite-database", "title": "How to insert data into a specific column in a sqlite database?", "body": "<p>I have a table containing the name, score 1, score 2, and score 3 of a player. There are multiple data entries and I would like to know how to add the player's score to their correct column, i.e.:</p>\n\n<pre><code>Name, Score 1, Score 2, Score 3\nJohn,      12,    ____,    ____\n</code></pre>\n\n<p>How would I specify what column to insert the player's score 2 into when using</p>\n\n<pre><code>.execute('''INSERT INTO ScoresTable (name, score 1, score 2, score 3)''')\n</code></pre>\n\n<p>Do I use the column index but how would I implement that into the code?</p>\n"}, {"tags": ["python", "twisted"], "comments": [{"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "edited": false, "score": 0, "creation_date": 1429128578, "post_id": 29659642, "comment_id": 47459311, "body": "Try editing <code>ProspectEventSocketProtocol</code> to look something like <a href=\"http://pastebin.com/J616arfy\" rel=\"nofollow noreferrer\">this</a> and post the output (you may have to try the link several times; Pastebin seems to be a tad overloaded :)."}, {"owner": {"reputation": 857, "user_id": 1434563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mK47t.jpg?s=128&g=1", "display_name": "Ethan Brouwer", "link": "https://stackoverflow.com/users/1434563/ethan-brouwer"}, "reply_to_user": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "edited": false, "score": 0, "creation_date": 1429128847, "post_id": 29659642, "comment_id": 47459458, "body": "The same error is still there and it didn&#39;t print anything out, so it doesn&#39;t look like any attribute is being deleted. :/"}], "answers": [{"tags": [], "owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "is_accepted": true, "score": 4, "last_activity_date": 1429131976, "creation_date": 1429131976, "answer_id": 29660907, "question_id": 29659642, "link": "https://stackoverflow.com/questions/29659642/no-attribute-error-even-when-the-attribute-is-set/29660907#29660907", "title": "No attribute error even when the attribute is set", "body": "<p>Something somewhere is forgetting to instantiate a class.</p>\n\n<p>The error is not telling you that an instance of the class <code>ProspectEventSocketProtocol</code> has no attribute <code>defer_until_authenticated</code>.  It's telling you that the class <code>ProspectEventSocketProtocol</code> itself has no such attribute.</p>\n\n<p>In other words, you are quite probably writing something like</p>\n\n<pre><code>pchannel.freeswitch_protocol = ProspectEventSocketProtocol\n</code></pre>\n\n<p>when you want</p>\n\n<pre><code>pchannel.freeswitch_protocol = ProspectEventSocketProtocol(...)\n</code></pre>\n\n<p>instead.</p>\n\n<p>Here's a quick demo script that reproduces the error message you are seeing:</p>\n\n<pre><code>#!/usr/bin/env python3\n\nclass Test(object):\n    def __init__(self):\n        self.arg = \"1234\"\n\n\ncorrect = Test()\nprint(correct.arg)\n\nwrong = Test\nprint(wrong.arg)\n</code></pre>\n\n<p>When I run it, I get the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1234\nTraceback (most recent call last):\n  File \"./type_object_error.py\", line 12, in &lt;module&gt;\n    print(wrong.arg)\nAttributeError: type object 'Test' has no attribute 'arg'\n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 1434563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/mK47t.jpg?s=128&g=1", "display_name": "Ethan Brouwer", "link": "https://stackoverflow.com/users/1434563/ethan-brouwer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29660907, "answer_count": 1, "score": 1, "last_activity_date": 1429131976, "creation_date": 1429127700, "last_edit_date": 1429128639, "question_id": 29659642, "link": "https://stackoverflow.com/questions/29659642/no-attribute-error-even-when-the-attribute-is-set", "title": "No attribute error even when the attribute is set", "body": "<p>So I have a class that extends two classes deep, here is it's definition and <code>__init__()</code>:</p>\n\n<pre><code>class ProspectEventSocketProtocol(ChannelEventSocketProtocol):\n    def __init__(self, *args, **kwargs):\n        super(ProspectEventSocketProtocol, self).__init__(*args, **kwargs)\n        self.channel_info = None\n\n        self.rep_uuid = None\n        self.manual_dial = None\n        self.datetime_setup = timezone.now()\n        self.datetime_answered = None\n        self.defer_until_answered = defer.Deferred()\n        self.defer_until_originated = defer.Deferred()\n        self.defer_until_finished = defer.Deferred()\n</code></pre>\n\n<p>The definition and <code>__init__()</code> for the ChannelEventSocketProtocol is here:</p>\n\n<pre><code>class ChannelEventSocketProtocol(Freeswitch):\n    def __init__(self, *args, **kwargs):\n        self.channel_driver = None\n        self.uuid = kwargs.pop('uuid', str(uuid4()))\n        self._call_driver = kwargs.pop('call_driver', None)\n        super(ChannelEventSocketProtocol, self).__init__(*args, **kwargs)\n</code></pre>\n\n<p>And the definition and <code>__init__()</code> for the Freeswitch class is here:</p>\n\n<pre><code>class Freeswitch(client.EventSocketProtocol, TwistedLoggingMixin):\n    def __init__(self, *args, **kwargs):\n        self.jobs = {}\n        self.defer_until_authenticated = defer.Deferred() # This is the problem\n        client.EventSocketProtocol.__init__(self, *args, **kwargs)\n        TwistedLoggingMixin.__init__(self)\n</code></pre>\n\n<p>Even though I know that this is running and the defer_until_authenticated is being set as well as it's <code>callback</code> and <code>errback</code>, when I call this:</p>\n\n<pre><code>live_call = yield self._create_client_dial_live_call(client_dial.cid, client_dial.campaign)\npchannel = yield self.realm.get_or_create_channel_driver(live_call.uuid, 'prospect')\n# ...\nclient_dial.prospect_channel = pchannel\nyield pchannel.freeswitch_protocol.defer_until_authenticated # This is the problem here!\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>type object 'ProspectEventSocketProtocol' has no attribute 'defer_until_authenticated'\n</code></pre>\n\n<p>I have no idea why I can't get the attribute again. I know it is being set, but I have no idea where it goes... or what happens to it. I've searched the error and I have no idea what is happening in this spot.</p>\n\n<p>Just for reference, here are the <code>_create_client_dial_live_call()</code> and <code>get_or_create_channel_driver()</code> functions:</p>\n\n<pre><code>def _create_client_dial_live_call():\n    # ...\n    p, created = Prospect.objects.get_or_create_client_dial_prospect(campaign, cid_num)\n    # ...\n    live_call = LiveCall(prospect=p, campaign=campaign.slug)\n    live_call.channel_vars_dict = chan_vars\n    live_call.save()\n    # ...\n\ndef get_or_create_channel_driver()\n    # The code is kind of confusing with even more context, \n    # it basically either gets the existing ProspectChannel\n    # object or creates a new one and then returns it.\n</code></pre>\n"}, {"tags": ["python", "pipe", "popen"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1429127718, "post_id": 29659595, "comment_id": 47458827, "body": "Why not use the <code>subprocess</code> module instead? <code>os.popen()</code> is rather low level."}, {"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 1, "creation_date": 1429127951, "post_id": 29659595, "comment_id": 47458962, "body": "I wrote a small C program that just prints whatever arguments are given on the command line and substituted it for <code>program</code> in your example, and it just prints two arguments: <code>-s:&#39;*&#39;</code> and <code>-c:&#39;A;B;C;</code> -- I don&#39;t think whatever incorrect behavior you&#39;re experiencing is Python&#39;s fault here."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "edited": false, "score": 0, "creation_date": 1429128539, "post_id": 29659715, "comment_id": 47459292, "body": "Hi, I did try to use subprocess.popen, the result is the same. I typed popen because it is shorter"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "edited": false, "score": 0, "creation_date": 1429128643, "post_id": 29659715, "comment_id": 47459358, "body": "@Yi.He Did you pass <code>shell=True</code>? If you did, remove that and try again."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "edited": false, "score": 0, "creation_date": 1429128747, "post_id": 29659715, "comment_id": 47459411, "body": "@Yi.He: then <i>the program</i> is the issue here, not the shell or Python, as Mauris&#39; test already pointed out."}, {"owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "edited": false, "score": 0, "creation_date": 1429130246, "post_id": 29659715, "comment_id": 47460277, "body": "Yes, I think the problem lies on shell=True"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1429128369, "last_edit_date": 1429128369, "creation_date": 1429127887, "answer_id": 29659715, "question_id": 29659595, "link": "https://stackoverflow.com/questions/29659595/how-to-handle-in-command-using-os-popen/29659715#29659715", "title": "How to handle &#39;:&#39; in command using os.popen", "body": "<p>Don't use <code>os.popen()</code>, use the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\"><code>subprocess</code> module</a> instead:</p>\n\n<pre><code>import subprocess\n\nresult = subprocess.check_output(['program', \"-s:'*'\", \"-c:'A;B;C;'\"])\n</code></pre>\n\n<p>This returns the output of the program without running it through a shell, passing in the arguments directly without any additional parsing.</p>\n"}], "owner": {"reputation": 69, "user_id": 2387434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9b94308487d109dc8563e82531f2da1c?s=128&d=identicon&r=PG", "display_name": "Yi.He", "link": "https://stackoverflow.com/users/2387434/yi-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 29659715, "answer_count": 1, "score": 0, "last_activity_date": 1429128485, "creation_date": 1429127575, "last_edit_date": 1429128485, "question_id": 29659595, "link": "https://stackoverflow.com/questions/29659595/how-to-handle-in-command-using-os-popen", "title": "How to handle &#39;:&#39; in command using os.popen", "body": "<p>I am trying to call a program with:</p>\n\n<pre><code>os.popen(\"program -s:'*' -c:'A;B;C;'\")\n</code></pre>\n\n<p>However, it seems that it was interpreted as shell command:</p>\n\n<pre><code>program -s '*' -c 'A;B;C;'\n</code></pre>\n\n<p>which result incorrect behavior.</p>\n\n<p>Can somebody help me on how to hanle such situdations where ':' is inside shell commandline?</p>\n"}, {"tags": ["python", "django", "dictionary", "tastypie"], "comments": [{"owner": {"reputation": 2042, "user_id": 388835, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cad0076cc920ddf5909db1a0946105cf?s=128&d=identicon&r=PG", "display_name": "mimo", "link": "https://stackoverflow.com/users/388835/mimo"}, "edited": false, "score": 1, "creation_date": 1429128365, "post_id": 29659583, "comment_id": 47459184, "body": "Your line of code is quite long! If you split it in several steps, it may be easier to identify the problem."}], "answers": [{"tags": [], "owner": {"reputation": 291, "user_id": 4787422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cee8f700ac525585189a2e52728641e7?s=128&d=identicon&r=PG&f=1", "display_name": "TheRedstoneLemon", "link": "https://stackoverflow.com/users/4787422/theredstonelemon"}, "is_accepted": false, "score": 0, "last_activity_date": 1429128416, "creation_date": 1429128416, "answer_id": 29659872, "question_id": 29659583, "link": "https://stackoverflow.com/questions/29659583/too-many-values-to-unpack-expected-2-python-django-tastypie/29659872#29659872", "title": "Too many values to unpack (expected 2) python django tastypie", "body": "<p>too many values too unpack means that you have to have equal amounts of values on each side of the equal sign, watch this:</p>\n\n<pre><code>a,b = 1,2\n</code></pre>\n\n<p>then a would equal 1 and b would equal 2.\nyou need to have an equal amount of things to unpack and thing to make them mean.</p>\n\n<p>if i type in:</p>\n\n<pre><code>print(a)\nprint(b)\n</code></pre>\n\n<p>it would say</p>\n\n<pre><code>1\n2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 2307861, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qKDAK.jpg?s=128&g=1", "display_name": "Lucas Rodrigues", "link": "https://stackoverflow.com/users/2307861/lucas-rodrigues"}, "is_accepted": true, "score": 0, "last_activity_date": 1429184706, "creation_date": 1429184706, "answer_id": 29673727, "question_id": 29659583, "link": "https://stackoverflow.com/questions/29659583/too-many-values-to-unpack-expected-2-python-django-tastypie/29673727#29673727", "title": "Too many values to unpack (expected 2) python django tastypie", "body": "<p>Did it, just change from:</p>\n\n<pre><code>count = Avaliacao.objects.filter( applicable_filters )\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>count = Avaliacao.objects.filter( **applicable_filters )\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 2307861, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/qKDAK.jpg?s=128&g=1", "display_name": "Lucas Rodrigues", "link": "https://stackoverflow.com/users/2307861/lucas-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2654, "favorite_count": 0, "accepted_answer_id": 29673727, "answer_count": 2, "score": -1, "last_activity_date": 1429184706, "creation_date": 1429127539, "last_edit_date": 1429182456, "question_id": 29659583, "link": "https://stackoverflow.com/questions/29659583/too-many-values-to-unpack-expected-2-python-django-tastypie", "title": "Too many values to unpack (expected 2) python django tastypie", "body": "<p>Here is my dict:</p>\n\n<pre><code>{'interno__exact': False, 'formulario__protocolo__id__exact': '5', 'autor__funcionario__funcao__id__exact': '2'}\n</code></pre>\n\n<p>I'm getting this error:</p>\n\n<p><code>too many values to unpack (expected 2)</code></p>\n\n<p>on this execution:</p>\n\n<pre><code>count = Avaliacao.objects.filter( applicable_filters )\n</code></pre>\n\n<p>Does someone know what am I doing wrong?</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 3, "last_activity_date": 1429127643, "creation_date": 1429127643, "answer_id": 29659622, "question_id": 29659578, "link": "https://stackoverflow.com/questions/29659578/ordered-dictionary-python-replace-key-value/29659622#29659622", "title": "Ordered Dictionary python replace key value", "body": "<p>You can use <code>OrderedDict</code> constructor instead:</p>\n\n<pre><code>OrderedDict((b[key], value) for (key, value) in a.items())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4112053"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "accepted_answer_id": 29659622, "answer_count": 1, "score": 1, "last_activity_date": 1429127643, "creation_date": 1429127523, "question_id": 29659578, "link": "https://stackoverflow.com/questions/29659578/ordered-dictionary-python-replace-key-value", "title": "Ordered Dictionary python replace key value", "body": "<pre><code>a = OrderedDict([(14, (2361.42, 1339.25)), (15, (3581.08, 1427.08)), (16, (0, 4640.11)), (17, (0, 2667.36)), (18, (0, 1686.63))])\n\nb =  OrderedDict([(14, '03-31'), (15, '04-07'), (16, '04-14'), (17, '04-21'), (18, '04-28')]) \n</code></pre>\n\n<p>I want to replace the value in b, to a value along with b value\nI have tried this</p>\n\n<pre><code>dict((b[key], value) for (key, value) in a.items())\n</code></pre>\n\n<p>the out put is </p>\n\n<pre><code>{'03-31': (2361.42, 1339.25), '04-07': (3581.08, 1427.08), '04-28': (0, 1686.63), '04-21': (0, 2667.36), '04-14': (0, 4640.11)}\n</code></pre>\n\n<p>I want it as</p>\n\n<pre><code>OrderedDict([('03-31', (2361.42, 1339.25)), ('04-07', (3581.08, 1427.08)), (04-14', (0, 4640.11)), ('04-21', (0, 2667.36)), ('04-28', (0, 1686.63))])\n</code></pre>\n"}, {"tags": ["python", "csv", "dictionary"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429127431, "post_id": 29659497, "comment_id": 47458622, "body": "<i>&quot;I&#39;ve Googled and search this site, but past questions haven&#39;t helped me&quot;</i> - I just can&#39;t believe that. There are <a href=\"http://stackoverflow.com/questions/tagged/python+csv\">5,000 questions</a> tagged <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> and <a href=\"https://stackoverflow.com/questions/tagged/csv\">csv</a>, plus extensive documentation elsewhere, and this isn&#39;t a terribly difficult task."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429127595, "post_id": 29659497, "comment_id": 47458734, "body": "Note that your current attempt puts <i>the string <code>&#39;worddict&#39;</code></i>, not the dictionary you just carefully built, into <code>puzzle</code>. I suggest you read <a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/datastructures.html#dictionaries</a> and <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/csv.html</a> - <code>csv.DictReader</code> can do most of this for you."}], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 2, "last_activity_date": 1429128246, "creation_date": 1429128246, "answer_id": 29659821, "question_id": 29659497, "link": "https://stackoverflow.com/questions/29659497/how-to-add-csv-file-to-dictionary-using-specific-keys-in-python/29659821#29659821", "title": "How to add CSV file to dictionary using specific keys in python?", "body": "<p>Assuming that your input file is tab-separated, you can do this in a few lines of code:</p>\n\n<pre><code>import csv    \n\nwith open(filename) as file:\n    reader = csv.DictReader(\n        file,\n        delimiter='\\t',\n        fieldnames=['y', 'x', 'box', 'direction', 'word', 'clue'],\n    )\n    puzzle = {dct['word']: dct for dct in reader}\n</code></pre>\n\n<p>This gives me:</p>\n\n<pre><code>&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; pprint.pprint(puzzle)\n{'BARD': {'box': '10',\n          'clue': 'Singing poet',\n          'direction': 'A',\n          'word': 'BARD',\n          'x': '11',\n          'y': '0'},\n 'CRASH': {'box': '5',\n           'clue': 'Stock market calamity',\n           'direction': 'A',\n           'word': 'CRASH',\n           'x': '5',\n           'y': '0'},\n 'PAID': {'box': '1',\n          'clue': 'Gave money to',\n          'direction': 'A',\n          'word': 'PAID',\n          'x': '0',\n          'y': '0'}}\n</code></pre>\n\n<p>See the docs on <a href=\"https://docs.python.org/2/library/csv.html#csv.DictReader\" rel=\"nofollow\"><code>csv.DictReader</code></a>, which does most of the work.</p>\n"}], "owner": {"reputation": 11, "user_id": 4793511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/332224fb4a72ac24eb32375539030546?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4793511/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 29659821, "answer_count": 1, "score": -2, "last_activity_date": 1429208564, "creation_date": 1429127265, "last_edit_date": 1429127474, "question_id": 29659497, "link": "https://stackoverflow.com/questions/29659497/how-to-add-csv-file-to-dictionary-using-specific-keys-in-python", "title": "How to add CSV file to dictionary using specific keys in python?", "body": "<p>I've Googled and search this site, but past questions haven't helped me. I want to add a complicated CSV file to a dictionary in python. The file has six columns.</p>\n\n<pre><code>0   0   1   A   PAID    Gave money to\n0   5   5   A   CRASH   Stock market calamity\n0   11  10  A   BARD    Singing poet\n</code></pre>\n\n<p>This is a crossword game. Each column corresponds to a value in the game. Take the second row for example:</p>\n\n<pre><code>0==y axis on crossword grid\n5== x axis on crossword grid\n5== the box number on crossword grid\nA== Direction on crossword grid (across)\nCRASH== the word to be guessed.\nStock market calamity== the crossword clue.\n</code></pre>\n\n<p>I want to assigned all of these to a dictionary, let's call it wordDict, then place wordDict into \"big dictionary\", called puzzle, using the the word as the key name. </p>\n\n<p>I did this the manual way. There's no way I can do the whole file like this. It is too tedious. There's 84 lines in the CSV file. I want to use a for loop to get this done, but have no idea as my textbook does not show how this is done. </p>\n\n<p>Keep in mind I read the CSV file in as f one line at a time stripping the tabs out and newline characters </p>\n\n<p>Here's how I did it manually like the textbook:</p>\n\n<pre><code>wordDict['y']='0'\nwordDict['x']='5'\nwordDict['box']='5'\nwordDict['direction']='A'\nwordDict['word']='CRASH'\nwordDict['clue']='Stock market calamity'\npuzzle['CRASH']='wordDict'\n</code></pre>\n\n<p>Is there a way to loop through the whole like this?</p>\n"}, {"tags": ["python", "windows", "wmi", "executable"], "answers": [{"comments": [{"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1429128977, "post_id": 29659766, "comment_id": 47459547, "body": "This was helpful, now I can see the process runnning. However i dont think it&#39;s actually doing what it is supposed to."}, {"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1429129280, "post_id": 29659766, "comment_id": 47459727, "body": "Actually I just figured it out a little better. I just had to move the exe to the same folder the notepad.exe wa located and ran it and now its doing what its supposed to. Thanks!"}, {"owner": {"reputation": 549, "user_id": 463107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549eba43203ff1f2a782cc84ba3ef3b8?s=128&d=identicon&r=PG", "display_name": "DDay", "link": "https://stackoverflow.com/users/463107/dday"}, "reply_to_user": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1429212313, "post_id": 29659766, "comment_id": 47505195, "body": "You&#39;re welcome.  I thought about the location of the executable, but did not dwell on it."}], "tags": [], "owner": {"reputation": 549, "user_id": 463107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549eba43203ff1f2a782cc84ba3ef3b8?s=128&d=identicon&r=PG", "display_name": "DDay", "link": "https://stackoverflow.com/users/463107/dday"}, "is_accepted": false, "score": 4, "last_activity_date": 1429128106, "creation_date": 1429128106, "answer_id": 29659766, "question_id": 29659469, "link": "https://stackoverflow.com/questions/29659469/python-using-wmi-to-start-executable-remotely/29659766#29659766", "title": "Python: Using wmi to start executable remotely", "body": "<p>Take a look at Tim Golden's <a href=\"http://timgolden.me.uk/python/wmi/tutorial.html\" rel=\"nofollow\">tutorial</a>.  You are not using the information that the Win32_Process.Create method returns.</p>\n\n<pre><code>process_id, result = c.Win32_Process.Create(\n  CommandLine=\"notepad.exe\",\n  ProcessStartupInformation=process_startup\n)\n</code></pre>\n\n<p>As a result you may be missing out on the process ID and on the result of starting that remote process.</p>\n"}, {"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1429350799, "post_id": 29660269, "comment_id": 47566131, "body": "Don&#39;t store the batch file in the System32 directory. Just pass the desired <code>CurrentDirectory</code> when calling <a href=\"https://msdn.microsoft.com/en-us/library/aa389388\" rel=\"nofollow noreferrer\"><code>Win32_Process.Create</code></a>, or use an absolute path to the file such as  <code>r&quot;C:\\Users\\Public\\Scripts\\runIOX_auto.bat&quot;</code>. From within the batch file you can get the file location as <code>%~dp0</code>, i.e. the [d]rive and [p]ath of argument 0, which is always the batch file itself."}, {"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1429551034, "post_id": 29660269, "comment_id": 47641138, "body": "@eryksun Ah this was a much better Idea I did this instead on the system32 directory, Thanks!"}], "tags": [], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "is_accepted": true, "score": 4, "last_activity_date": 1492614942, "last_edit_date": 1492614942, "creation_date": 1429129806, "answer_id": 29660269, "question_id": 29659469, "link": "https://stackoverflow.com/questions/29659469/python-using-wmi-to-start-executable-remotely/29660269#29660269", "title": "Python: Using wmi to start executable remotely", "body": "<pre><code>import wmi, time\nip = 'xx.xx.xx.xxx'\nusername = \"user\"\npassword = \"password!\"\nSW_SHOWNORMAL = 1\nfrom socket import *\nprint \"Establishing connection to %s\" %ip\nc = wmi.WMI(ip, user=username, password=password)\nprocess_startup = c.Win32_ProcessStartup.new()\nprocess_startup.ShowWindow = SW_SHOWNORMAL\nprocess_id, result = c.Win32_Process.Create(CommandLine=\"C:\\User\\Administrator\\Desktop\\runIOX_auto.bat\",ProcessStartupInformation=process_startup)\nif result == 0:\n  print \"Process started successfully: %d\" % process_id\nelse:\n  raise RuntimeError, \"Problem creating process: %d\" % result\n</code></pre>\n\n<p>I managed to figure it out (With help from DDay) by creating a Batch file that ran everything that i needed and put it on the desktop and then ran that instead.</p>\n"}], "owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14669, "favorite_count": 3, "accepted_answer_id": 29660269, "answer_count": 2, "score": 1, "last_activity_date": 1603857159, "creation_date": 1429127168, "last_edit_date": 1603857159, "question_id": 29659469, "link": "https://stackoverflow.com/questions/29659469/python-using-wmi-to-start-executable-remotely", "title": "Python: Using wmi to start executable remotely", "body": "<p>Im trying to run an executable file remotely on Windows using the wmi module. it establishes the connection but I think my process line is incorrect, as when I check the server the executable definately has not been run. Can you guys help me on the syntax with this?</p>\n<pre><code>import wmi, time\nip = 'xx.xx.xx.xxx'\nusername = &quot;user&quot;\npassword = &quot;password!&quot;\nfrom socket import *\nprint &quot;Establishing connection to %s&quot; %ip\nconnection = wmi.WMI(ip, user=username, password=password)\nprint &quot;Connection established&quot;\nprint &quot;Starting IO&quot;\nconnection.Win32_Process.Create(CommandLine='cmd.exe C:\\Users\\Public\\Desktop\\Auto_IOX.exe')\ntime.sleep(60)\n</code></pre>\n"}, {"tags": ["python", "comparison", "netcdf"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4788110, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c114cbaa71735b231021907b5bd13876?s=128&d=identicon&r=PG&f=1", "display_name": "pepa", "link": "https://stackoverflow.com/users/4788110/pepa"}, "edited": false, "score": 0, "creation_date": 1429197912, "post_id": 29660861, "comment_id": 47495763, "body": "Thank you so much, the second approach was the one I needed. Appreciate your recommendations."}, {"owner": {"reputation": 11, "user_id": 4788110, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c114cbaa71735b231021907b5bd13876?s=128&d=identicon&r=PG&f=1", "display_name": "pepa", "link": "https://stackoverflow.com/users/4788110/pepa"}, "edited": false, "score": 0, "creation_date": 1429198538, "post_id": 29660861, "comment_id": 47496251, "body": "Also, updated the title of the question given your clarification"}], "tags": [], "owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "is_accepted": true, "score": 1, "last_activity_date": 1429131795, "creation_date": 1429131795, "answer_id": 29660861, "question_id": 29659455, "link": "https://stackoverflow.com/questions/29659455/how-to-perform-comparisons-on-numpy-arrays-from-netcdf-files-using-python/29660861#29660861", "title": "How to perform comparisons on numpy arrays (from netCDF files) using python?", "body": "<p>This question is unrelated to netCDF, but is rather about the manipulation numpy arrays, obtained from a netCDF file. </p>\n\n<p>The problem is that given a numpy vector <code>r</code>,  <code>r[:] == 2</code> (or <code>r[:] &gt; 0</code> for that matter) returns a boolean array and not a single boolean. It should therefore not be used in an <code>if</code> construction. Depending on what you are trying to accomplish you can use following approaches, </p>\n\n<ul>\n<li>use <code>(r[:] == 2).any()</code> or  <code>(r[:] == 2).all()</code> instead</li>\n<li><p>use more complex indexing, for instance, </p>\n\n<pre><code>import numpy as np\n\ndef srf(r, h):\n    mask_r = (r[:] == 2)\n    mask_h = (h[:] &gt; 0)\n    surf  = np.ones(r.shape)*(a-c)\n    surf[mask_r&amp;mask_h] = 1 + b\n    surf[mask_r&amp;(~mask_h)] = a + b\n    return surf\n</code></pre></li>\n</ul>\n\n<p>please refer to the numpy documentation about <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html\" rel=\"nofollow\">advanced indexing</a> for more details. This approach is significantly more efficient then loops over indices in python and should be used instead when possible.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 3100723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab0596ebcf557da66285cd848e6f4b0?s=128&d=identicon&r=PG", "display_name": "drg", "link": "https://stackoverflow.com/users/3100723/drg"}, "is_accepted": false, "score": 0, "last_activity_date": 1433734684, "creation_date": 1433734684, "answer_id": 30700910, "question_id": 29659455, "link": "https://stackoverflow.com/questions/29659455/how-to-perform-comparisons-on-numpy-arrays-from-netcdf-files-using-python/30700910#30700910", "title": "How to perform comparisons on numpy arrays (from netCDF files) using python?", "body": "<p>Also, if you want to apply a function along a particular axis, you can use numpy.apply_along_axis. </p>\n\n<p>For example, if you wanted to apply function srf along the time axis, you would do </p>\n\n<p>import numpy as np\nsrf_arr = np.apply_along_axis(srf, axisnumber, arrayname) </p>\n"}], "owner": {"reputation": 11, "user_id": 4788110, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c114cbaa71735b231021907b5bd13876?s=128&d=identicon&r=PG&f=1", "display_name": "pepa", "link": "https://stackoverflow.com/users/4788110/pepa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 29660861, "answer_count": 2, "score": 1, "last_activity_date": 1433734684, "creation_date": 1429127139, "last_edit_date": 1429198512, "question_id": 29659455, "link": "https://stackoverflow.com/questions/29659455/how-to-perform-comparisons-on-numpy-arrays-from-netcdf-files-using-python", "title": "How to perform comparisons on numpy arrays (from netCDF files) using python?", "body": "<p>I'm writing a python script that reads two different netCDF files and, after performing an evaluation on the variables makes some calculation, the idea is (an example of the idea of the code the real one is too long):</p>\n\n<pre><code>import netCDF4\nimport numpy as np\n#other modules loaded...\n\n#Values\na = 2\nb = 4\nc = 1\n\ndef srf(r, h):\n    if r[:] == 2:\n        if h[:] &gt; 0:\n            surf = 1 + b\n        else:\n            surf = a + b \n    else:\n        surf = a - c\n\nreturn surf\n\npath_file : /home/file.nc\nfhp = Dataset(path_file, r+)\nra = fhp.variables['VAR'][:]\npath_file2 : /home/file2.nc\nfhp2 = Dataset(path_file2, r+)\nhu = fhp2.variables['VAR2'][:]   \n\n#Call the Function\nsrf(ra, hu)       \n</code></pre>\n\n<p>The netCDF files each have 3 dimensions, if I try to run this code I get this error</p>\n\n<pre><code>ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>I need the function to be perform in the las two dimensions that are the ones containing the information to check in a domain [TSTEP, ROW, COL]. So I would need to loop through the dimensions, but I'm not sure how to do it and I don't know if maybe there is an easiest way. Thanks </p>\n"}, {"tags": ["python", "string", "iteration"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 1, "creation_date": 1429127408, "post_id": 29659401, "comment_id": 47458613, "body": "<code>v, w, x, y, z = [code[i:i+2] for i in range(0, len(code), 2)]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "edited": false, "score": 0, "creation_date": 1429127647, "post_id": 29659472, "comment_id": 47458774, "body": "I don&#39;t think this is very readable; at first blush I would never guess that this has anything to do with pairs. And <code>explicit is better than implicit.</code>"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1429128283, "post_id": 29659472, "comment_id": 47459135, "body": "There&#39;s no assignment. In fact, you&#39;d be better off using zips instead of looping through a string and iterator simultaneously."}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1429127176, "creation_date": 1429127176, "answer_id": 29659472, "question_id": 29659401, "link": "https://stackoverflow.com/questions/29659401/iterating-through-a-string-two-characters-at-a-time/29659472#29659472", "title": "Iterating through a string two characters at a time", "body": "<p>Do like this: </p>\n\n<pre><code>code = '2436444423'\ncode = iter(code)\nfor x in code:\n    print x, next(code)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 1, "creation_date": 1429128696, "post_id": 29659518, "comment_id": 47459385, "body": "Shashank: Can you please consider my answer in the comment of the next answer? It works when the # chars are ODD too."}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "reply_to_user": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 0, "creation_date": 1429128888, "post_id": 29659518, "comment_id": 47459477, "body": "@mario23 I read your answer and it&#39;s good, but I don&#39;t think it would make sense in my answer. Maybe you can post an answer of your own that is focused on <code>re</code> module?"}], "tags": [], "owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "is_accepted": false, "score": 0, "last_activity_date": 1429128611, "last_edit_date": 1429128611, "creation_date": 1429127345, "answer_id": 29659518, "question_id": 29659401, "link": "https://stackoverflow.com/questions/29659401/iterating-through-a-string-two-characters-at-a-time/29659518#29659518", "title": "Iterating through a string two characters at a time", "body": "<p>Here's one way using a generator:</p>\n\n<pre><code>code = '2436444423'\ng = (''.join(t) for t in zip(*[iter(code)]*2))\nx, y = next(g), next(g)\nz = next(g)\n</code></pre>\n\n<p>This can also be a list comprehension that evaluates to <code>['24', '36', '44', '44', '23']</code>.</p>\n\n<pre><code>[''.join(t) for t in zip(*[iter(code)]*2)]\n</code></pre>\n\n<p>Disclaimer: this doesn't change the binding of the variable <code>code</code> at any point. Also if the length of code is odd, it will not return the last character.</p>\n"}, {"comments": [{"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 1, "creation_date": 1429128100, "post_id": 29659550, "comment_id": 47459048, "body": "Kasra : An easy way. If the # chars are even,  re.findall(&#39;..&#39;,&#39;1234567890&#39;). If the # chars are odd  re.findall(&#39;..?&#39;,&#39;123456789&#39;)"}, {"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 1, "creation_date": 1429128604, "post_id": 29659550, "comment_id": 47459327, "body": "An alternative and very easy way: Just use, twoCharList = re.findall(&#39;..?&#39;, &#39;123456789&#39;). This will work whether the number of chars are either odd or even."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 1, "creation_date": 1429128666, "post_id": 29659550, "comment_id": 47459375, "body": "@mario23 Yes its a good solution but not for long strings!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1429127875, "last_edit_date": 1429127875, "creation_date": 1429127430, "answer_id": 29659550, "question_id": 29659401, "link": "https://stackoverflow.com/questions/29659401/iterating-through-a-string-two-characters-at-a-time/29659550#29659550", "title": "Iterating through a string two characters at a time", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/itertools.html#itertools.izip_longest\" rel=\"nofollow\"><code>itertools.izip_longest</code></a> (in python 3 its <code>zip_longest</code> ) to get the expected pairs :</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import izip_longest\n&gt;&gt;&gt; args = [iter(code)] * 2\n&gt;&gt;&gt; [''.join(k) for k in izip_longest(*args)]\n['24', '36', '44', '44', '23']\n</code></pre>\n\n<p>Then you can simply assign your values to variables and use <code>int</code> if you want the integer type of numbers :</p>\n\n<pre><code>&gt;&gt;&gt; x,y,z,j,p=[int(''.join(k)) for k in izip_longest(*args)]\n&gt;&gt;&gt; (x,y,z,j,p)\n(24, 36, 44, 44, 23)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4793584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/072e462e1db578490e684d6e30b523fc?s=128&d=identicon&r=PG&f=1", "display_name": "Charles K.", "link": "https://stackoverflow.com/users/4793584/charles-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2109, "favorite_count": 0, "closed_date": 1429127128, "answer_count": 3, "score": 1, "last_activity_date": 1429128611, "creation_date": 1429126990, "last_edit_date": 1429127108, "question_id": 29659401, "link": "https://stackoverflow.com/questions/29659401/iterating-through-a-string-two-characters-at-a-time", "closed_reason": "Duplicate", "title": "Iterating through a string two characters at a time", "body": "<p>I have a string of data that I need to read the first two characters from, use, and then discard. </p>\n\n<p>For example, </p>\n\n<pre><code>code = '2436444423'\n</code></pre>\n\n<p>I want to take the '24' assign it to a value 'x' and delete the '24' from the original string leaving it as:</p>\n\n<pre><code>code = '36444423'\n</code></pre>\n\n<p>and then assign '36' to 'y', delete it, '44' to 'z' and so on until the original string is empty.</p>\n"}, {"tags": ["python", "django", "pip"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1429126506, "post_id": 29659207, "comment_id": 47458108, "body": "What do you see on your command prompt? Did it change (e.g. did <code>(someenv)</code> appear at the start)?"}, {"owner": {"reputation": 10282, "user_id": 4137194, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fxsFT.jpg?s=128&g=1", "display_name": "Jahongir Rahmonov", "link": "https://stackoverflow.com/users/4137194/jahongir-rahmonov"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1429126666, "post_id": 29659207, "comment_id": 47458228, "body": "yes it appears. I even deactivated and reactivated just in case."}], "owner": {"reputation": 10282, "user_id": 4137194, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fxsFT.jpg?s=128&g=1", "display_name": "Jahongir Rahmonov", "link": "https://stackoverflow.com/users/4137194/jahongir-rahmonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "closed_date": 1429126862, "answer_count": 0, "score": 1, "last_activity_date": 1429126356, "creation_date": 1429126356, "question_id": 29659207, "link": "https://stackoverflow.com/questions/29659207/pip3-could-not-find-an-activated-virtualenv-required", "closed_reason": "Duplicate", "title": "pip3 - Could not find an activated virtualenv (required)", "body": "<p>I created a virtualenv:</p>\n\n<pre><code>mkvirtualenv someenv\n</code></pre>\n\n<p>It is automatically activated and I tried to install django</p>\n\n<pre><code>pip3 install django\n</code></pre>\n\n<p>and it says:</p>\n\n<pre><code>Could not find an activated virtualenv (required)\n</code></pre>\n\n<p>Am I missing some configuration? How to fix this?</p>\n"}, {"tags": ["python", "windows", "visual-studio-2012", "psexec", "pdb-files"], "comments": [{"owner": {"reputation": 1079, "user_id": 3971427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4638fe150483fddfe5ad6bed1c4f2f9a?s=128&d=identicon&r=PG&f=1", "display_name": "jzapata", "link": "https://stackoverflow.com/users/3971427/jzapata"}, "edited": false, "score": 0, "creation_date": 1429130155, "post_id": 29659199, "comment_id": 47460229, "body": "Can you post an example of what parameters you are passing to PsExec? That might help."}], "answers": [{"tags": [], "owner": {"reputation": 55324, "user_id": 977038, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f3004677e3b024b4b1944dfd93fb9849?s=128&d=identicon&r=PG", "display_name": "Abhijit", "link": "https://stackoverflow.com/users/977038/abhijit"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126602, "creation_date": 1429126602, "answer_id": 29659284, "question_id": 29659199, "link": "https://stackoverflow.com/questions/29659199/compile-failure-only-when-i-run-it-as-a-remote-service-using-psexec/29659284#29659284", "title": "Compile failure only when I run it as a remote service using PsExec", "body": "<p>Quoting the relevant part of MSDN</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/8y7hea02.aspx\" rel=\"nofollow\">Fatal Error C1902</a></p>\n\n<blockquote>\n  <p>\"...For example, you might have copied the files so you could invoke\n  the compiler or link tool from the command prompt without setting the\n  PATH environment variable accordingly.\"</p>\n</blockquote>\n\n<p><strong>So ensure that the PATH environment variable is same for both the cases local and remote</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126647, "creation_date": 1429126647, "answer_id": 29659295, "question_id": 29659199, "link": "https://stackoverflow.com/questions/29659199/compile-failure-only-when-i-run-it-as-a-remote-service-using-psexec/29659295#29659295", "title": "Compile failure only when I run it as a remote service using PsExec", "body": "<blockquote>\n  <p>fatal error C1902: Program database manager mismatch; please check your installation</p>\n</blockquote>\n\n<p>From MSDN and <a href=\"https://msdn.microsoft.com/en-us/library/8y7hea02.aspx\" rel=\"nofollow\">Expand Fatal Error C1902</a>:</p>\n\n<blockquote>\n  <p>A program database file (.pdb) was created using a newer version of\n  mspdbXX.dll than the one the compiler found on your system. This error\n  usually indicates that mspdbsrv.exe or mspdbcore.dll are missing or\n  have different versions than mspdbXX.dll. (The XX placeholder in the\n  mspdbXX.dll file name changes with each product release. For example,\n  in Visual Studio 2005 the file name is mspdb80.dll.)<br><br>\n       Ensure matching versions of mspdbsrv.exe, mspdbcore.dll, and mspdbXX.dll are installed on your system. Ensure that mismatched\n  versions have not been copied to the directory that contains the\n  compiler and link tools for your target platform. For example, you\n  might have copied the files so you could invoke the compiler or link\n  tool from the command prompt without setting the PATH environment\n  variable accordingly.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1429350408, "post_id": 29659466, "comment_id": 47566000, "body": "@EditedContent, if you solved this using <a href=\"https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx\" rel=\"nofollow noreferrer\">PsExec</a>, please post the required command line options (e.g. <code>-u Administrator</code>, <code>-i</code>, <code>-h</code>, etc) for the sake of completeness."}], "tags": [], "owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "is_accepted": true, "score": 2, "last_activity_date": 1429129771, "last_edit_date": 1429129771, "creation_date": 1429127160, "answer_id": 29659466, "question_id": 29659199, "link": "https://stackoverflow.com/questions/29659199/compile-failure-only-when-i-run-it-as-a-remote-service-using-psexec/29659466#29659466", "title": "Compile failure only when I run it as a remote service using PsExec", "body": "<p>I've encountered such error on VS2010 except I'm using Cygwin's ssh. </p>\n\n<p>The problem that instead of dealing with debug information on his own, <code>cl.exe</code> compiler runs <code>mspdbsrv.exe</code> as a central server. When you run compiler from the interactive session, everything works fine, but when <code>cl.exe</code> is run from remote session of some kind, it fails to connect to actual <code>mspdbsrv.exe</code> and eventually fails with C1902 error. </p>\n\n<p>It seems that despite the fact Cygwin ssh runs <code>bash</code> (shell) from <code>.\\Administrator</code>, somewhere inside RPC API, account from which service runs is used (<code>.\\cyg_server</code> in my case). Here are the screenshot from API Monitor tracing <code>cl.exe</code>:</p>\n\n<p><img src=\"https://i.imgur.com/D4LYlAa.png\" alt=\"\"></p>\n\n<p>I've managed to solve that problem by changing sshd service user to <code>.\\Administrator</code>. You can probably do the trick with PsExec.</p>\n"}], "owner": {"reputation": 187, "user_id": 3525218, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cea4991573df391cec4190232edd3f63?s=128&d=identicon&r=PG&f=1", "display_name": "Edited Content", "link": "https://stackoverflow.com/users/3525218/edited-content"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 29659466, "answer_count": 3, "score": 3, "last_activity_date": 1429129771, "creation_date": 1429126330, "last_edit_date": 1429126721, "question_id": 29659199, "link": "https://stackoverflow.com/questions/29659199/compile-failure-only-when-i-run-it-as-a-remote-service-using-psexec", "title": "Compile failure only when I run it as a remote service using PsExec", "body": "<p>I am trying to run compile tests on a series of build machines so I've written a script to distribute the jobs to each machine. I am using PsExec from microsoft which installs a service on the build machines where it runs commands from. On each build machine I have a batch file which calls a python script that runs all of the tests on want. The original script will pass what test to run, as well as logging information so I can store the results and keep track of it later. </p>\n\n<p>The original script can call all of the machines and execute the batch file properly. If I run the batch file locally on each machine it calls the python script correctly which compiles everything fine. But when I run the batch file remotely from the original script I get the following compile error</p>\n\n<pre><code>fatal error C1902: Program database manager mismatch; please check your installation\n</code></pre>\n\n<p>over and over again. I am using Microsoft Visual Studio 12 on each machine and python 2.7. Does anyone know why that error would happen only because the script calling the bat file that calls the python script? Any help or push in the right direction would be GREATLY appreciated! Thanks! </p>\n"}, {"tags": ["python", "random", "probability"], "comments": [{"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "edited": false, "score": 1, "creation_date": 1429126468, "post_id": 29659195, "comment_id": 47458081, "body": "What you need is a <a href=\"http://stackoverflow.com/a/3679747/2097780\">weighted choice</a>."}, {"owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "edited": false, "score": 1, "creation_date": 1429126547, "post_id": 29659195, "comment_id": 47458136, "body": "This is very similar to a question that was asked <a href=\"http://stackoverflow.com/questions/3679694/a-weighted-version-of-random-choice\">here</a>, and there are two fairly decent answers."}, {"owner": {"reputation": 14257, "user_id": 820127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f8fffeec4f2ba3e75aebe941e4e5dd?s=128&d=identicon&r=PG", "display_name": "rossum", "link": "https://stackoverflow.com/users/820127/rossum"}, "edited": false, "score": 1, "creation_date": 1429226816, "post_id": 29659195, "comment_id": 47512348, "body": "For this particular problem, I would do a two stage process.  1) see if the 90% option succeeds and return 11. 2) the 90% failed, so pick one from [12, 13, 14, 15, 16] or [12, 12, 13, 13, 14, 15, 15, 16] as per your array, and return the number picked."}], "owner": {"reputation": 796, "user_id": 4156272, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/89bob.jpg?s=128&g=1", "display_name": "Drumnbass", "link": "https://stackoverflow.com/users/4156272/drumnbass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1429126423, "answer_count": 0, "score": 1, "last_activity_date": 1429126395, "creation_date": 1429126327, "last_edit_date": 1429126395, "question_id": 29659195, "link": "https://stackoverflow.com/questions/29659195/how-to-get-random-number-between-a-limited-group-being-one-of-those-numbers-more", "closed_reason": "Duplicate", "title": "How to get random number between a limited group being one of those numbers more likely to be selected in python?", "body": "<p>I have 6 different numbers, 11, 12, 13, 14, 15, 16 and I need to get one of them randomly. The point is, the number 11 has to be the most likely to be chosen, by far, like 90 or 95% more probable than the others.</p>\n\n<p>I've resolved it like this:</p>\n\n<pre><code>numbersGroup =  [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,\n                 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 12, 12, 13, 13, 14, 15, 15, 16]\n\nselectedNumber = random.choice(numbersGroup)\n</code></pre>\n\n<p>It works, but I'm not really satisfied with this code. I think it's a bad solution and I have a feeling that there are better ways to resolve it. So, how would you guys do it? </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4113675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98b2df2badf93a38ac240508675f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loay", "link": "https://stackoverflow.com/users/4113675/loay"}, "edited": false, "score": 0, "creation_date": 1429129496, "post_id": 29660009, "comment_id": 47459847, "body": "did you mean make the following"}, {"owner": {"reputation": 21, "user_id": 4113675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98b2df2badf93a38ac240508675f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loay", "link": "https://stackoverflow.com/users/4113675/loay"}, "edited": false, "score": 0, "creation_date": 1429129576, "post_id": 29660009, "comment_id": 47459902, "body": "did you mean make the following"}, {"owner": {"reputation": 21, "user_id": 4113675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98b2df2badf93a38ac240508675f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loay", "link": "https://stackoverflow.com/users/4113675/loay"}, "edited": false, "score": 0, "creation_date": 1429129601, "post_id": 29660009, "comment_id": 47459922, "body": "import numpy as np import cv2  im = cv2.imread(&#39;Selection_063.png&#39;,0) (thresh, im_bw)=cv2.threshold(im , 128, 255, cv2.THRESH_BINARY | cv2.THRESH_OTSU)   contours, hierarchy = cv2.findContours(im_bw,cv2.RETR_TREE,cv2.CHAIN_APPROX_SIMPLE&zwnj;&#8203;) idx =0  for cnt in contours: \tif cv2.contourArea(cnt)&gt;200: \t\tidx += 1 \t\tx,y,w,h = cv2.boundingRect(cnt) \t\tcv2.rectangle(im,(x,y),(x+w,y+h),(200,0,0),2) \t\troi=im[y:y+h,x:x+w] \t\t(thresh, im_bw)=cv2.threshold(roi , 128, 255, cv2.THRESH_BINARY | cv2.THRESH_OTSU) \t\t \t\t \t\tcv2.imwrite(str(idx) + &quot;.jpg&quot;, im_bw)"}], "tags": [], "owner": {"reputation": 90163, "user_id": 10897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/csXHX.png?s=128&g=1", "display_name": "Martin Beckett", "link": "https://stackoverflow.com/users/10897/martin-beckett"}, "is_accepted": false, "score": 0, "last_activity_date": 1429150706, "last_edit_date": 1495541724, "creation_date": 1429128847, "answer_id": 29660009, "question_id": 29659148, "link": "https://stackoverflow.com/questions/29659148/sort-the-crop-contours-python-and-opencv/29660009#29660009", "title": "sort the crop contours python and opencv", "body": "<p>Contours are generated in (approximately) increasing Y order - so the X coordinate of the bounding box would be pseudo-random (depending only on the image)</p>\n\n<p>You would have to accumulate the BoundingRects, sort them by x and then make the regions.</p>\n\n<p>see <a href=\"https://stackoverflow.com/questions/3121979/how-to-sort-list-tuple-of-lists-tuples\">How to sort (list/tuple) of lists/tuples?</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4113675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b98b2df2badf93a38ac240508675f9d?s=128&d=identicon&r=PG&f=1", "display_name": "loay", "link": "https://stackoverflow.com/users/4113675/loay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1045, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429152852, "creation_date": 1429126197, "last_edit_date": 1429152852, "question_id": 29659148, "link": "https://stackoverflow.com/questions/29659148/sort-the-crop-contours-python-and-opencv", "title": "sort the crop contours python and opencv", "body": "<pre><code>contours, hierarchy = cv2.findContours(opening,cv2.RETR_TREE,cv2.CHAIN_APPROX_SIMPLE)\n\n\nidx =0 \nfor cnt in contours:\n    if cv2.contourArea(cnt) &gt;3000:\n        idx += 1\n        x,y,w,h = cv2.boundingRect(cnt)\n        roi=img[y:y+h,x:x+w]\n        cv2.imwrite(str(idx) + \".jpg\", roi)\n        cv2.rectangle(img,(x,y),(x+w,y+h),(200,0,0),2)\n</code></pre>\n\n<p>It works, but the crop contours saved randomly.\nI need the crop image saved respected to X value from low to high.</p>\n"}, {"tags": ["python", "python-decorators"], "comments": [{"owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "edited": false, "score": 0, "creation_date": 1429127411, "post_id": 29659116, "comment_id": 47458614, "body": "I was wondering what was use case of such construct? Since You want to set this attribute, why not in making it a foo&#39;s argument?"}, {"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "reply_to_user": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "edited": false, "score": 0, "creation_date": 1429129674, "post_id": 29659116, "comment_id": 47459956, "body": "@brainovergrow, the objective is to do something equivalent to static variables in C++."}], "answers": [{"tags": [], "owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1429127140, "creation_date": 1429127140, "answer_id": 29659457, "question_id": 29659116, "link": "https://stackoverflow.com/questions/29659116/python-set-method-attribute-from-within-method/29659457#29659457", "title": "Python : Set method attribute from within method", "body": "<p>While You can accomplish Your goal by replacing <code>self.foo.a = 1</code> with <code>self.foo.__dict__['a'] = 1</code> it is generally not recommended. </p>\n"}, {"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 1, "last_activity_date": 1429127498, "creation_date": 1429127498, "answer_id": 29659570, "question_id": 29659116, "link": "https://stackoverflow.com/questions/29659116/python-set-method-attribute-from-within-method/29659570#29659570", "title": "Python : Set method attribute from within method", "body": "<p>If you are using Python2 - (and not Python3) - whenever you retrieve a method from an instance, a new <code>instance method</code> object is created  which is a wrapper to the original function defined in the class body.</p>\n\n<p>The instance method is a rather transparent proxy to the function - you can  retrieve the function's attributes through it, but not set them - that is why setting an item in <code>self.foo.__dict__</code> works.</p>\n\n<p>Alternatively you can reach the function object itself using: <code>self.foo.im_func</code> - the <code>im_func</code> attribute of instance methods point the underlying function.</p>\n"}, {"comments": [{"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429130087, "post_id": 29659602, "comment_id": 47460179, "body": "@kirbyfan64os, thanks for your answer.  The idea is to have the equivalent of static variables in C++.  Though assigning foo.a =2 is elegant, the only way to change attribute a from within the method seems to modify the function dictionary (self.foo.__dict__[&#39;a&#39;] = 1) which isn&#39;t elegant.  The callable class idea is quite nice though.  Still I wonder why the python language does not implement more concise way to do this."}, {"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429130871, "post_id": 29659602, "comment_id": 47460616, "body": "@kirbyfan64os, thanks for this.  However, I would like the static attribute to be at the method level."}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429131456, "post_id": 29659602, "comment_id": 47460950, "body": "@Francis What exactly do you mean? Is it so no outsiders can access the attribute, or so only that function can access the attribute?"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429131465, "post_id": 29659602, "comment_id": 47460956, "body": "@Francis I have a solution for the latter."}, {"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429133265, "post_id": 29659602, "comment_id": 47462008, "body": "@kirbyfan64os, thanks again and sorry for having difficulty to be very specific.  That said, I want two different methods of the same class to use the same attribute name without sharing it&#39;s value like a static class level attribute would do.  In other words, if foo1() and foo2() are two methods of the same class both have a &#39;a&#39; attribute , I would like to modify the value foo1.a without modifying foo2.a.  After a a given number of executions of both functions, I would then like to access the value of the &#39;a&#39; attribute from outside the class scope."}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429134204, "post_id": 29659602, "comment_id": 47462510, "body": "@Francis That&#39;s what the <code>pyext</code> example I gave you does. To access externally, you need to use <code>the_function.func_globals[&#39;a&#39;]</code>."}, {"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "reply_to_user": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "edited": false, "score": 0, "creation_date": 1429134410, "post_id": 29659602, "comment_id": 47462608, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/75334/discussion-between-francis-and-kirbyfan64sos\">continue this discussion in chat</a>."}, {"owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "edited": false, "score": 0, "creation_date": 1429134849, "post_id": 29659602, "comment_id": 47462798, "body": "@kirbyfan64os, thanks for the last edit.  Quite hackish but it works just fine."}], "tags": [], "owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "is_accepted": true, "score": 6, "last_activity_date": 1429134474, "last_edit_date": 1429134474, "creation_date": 1429127603, "answer_id": 29659602, "question_id": 29659116, "link": "https://stackoverflow.com/questions/29659116/python-set-method-attribute-from-within-method/29659602#29659602", "title": "Python : Set method attribute from within method", "body": "<p>The best way to do this is to <em>not do it at all</em>.</p>\n\n<p>First of all, there is no need for an attribute decorator; you can just assign it yourself:</p>\n\n<pre><code>class bar(object):\n    def foo(self):\n        print self.foo.a\n        self.foo.a = 1\n    foo.a = 2\n</code></pre>\n\n<p>However, this still encounters the same errors. You need to do:</p>\n\n<pre><code>self.foo.__dict__['a'] = 1\n</code></pre>\n\n<p>You can instead use a metaclass...but that gets messy quickly.</p>\n\n<p>On the other hand, there are cleaner alternatives.</p>\n\n<p>You can use defaults:</p>\n\n<pre><code>def foo(self, a):\n    print a[0]\n    a[0] = 2\nfoo.func_defaults = foo.func_defaults[:-1] + ([2],)\n</code></pre>\n\n<p>Of course, my preferred way is to avoid this altogether and use a callable class (\"functor\" in C++ words):</p>\n\n<pre><code>class bar(object):\n    def __init__(self):\n        self.foo = self.foo_method(self)\n    class foo_method(object):\n        def __init__(self, bar):\n            self.bar = bar\n            self.a = 2\n        def __call__(self):\n            print self.a\n            self.a = 1\n</code></pre>\n\n<p>Or just use classic class attributes:</p>\n\n<pre><code>class bar(object):\n    def __init__(self):\n        self.a = 1\n    def foo(self):\n        print self.a\n        self.a = 2\n</code></pre>\n\n<p>If it's that you want to hide <code>a</code> from derived classes, use whatever private attributes are called in Python terminology:</p>\n\n<pre><code>class bar(object):\n    def __init__(self):\n        self.__a = 1 # this will be implicitly mangled as __bar__a or similar\n    def foo(self):\n        print self.__a\n        self.__a = 2\n</code></pre>\n\n<p><strong>EDIT:</strong> You want static attributes?</p>\n\n<pre><code>class bar(object):\n    a = 1\n    def foo(self):\n        print self.a\n        self.a = 2\n</code></pre>\n\n<p><strong>EDIT 2:</strong> If you want static attributes visible to only the current function, you can use <a href=\"https://pypi.python.org/pypi/pyext\" rel=\"nofollow\">PyExt</a>'s <em>modify_function</em>:</p>\n\n<pre><code>import pyext\n\ndef wrap_mod(*args, **kw):\n    def inner(f):\n        return pyext.modify_function(f, *args, **kw)\n    return inner\n\nclass bar(object):\n    @wrap_mod(globals={'a': [1]})\n    def foo(self):\n        print a[0]\n        a[0] = 2\n</code></pre>\n\n<p>It's slightly ugly and hackish. But it works.</p>\n\n<p>My recommendation would be just to use double underscores:</p>\n\n<pre><code>class bar(object):\n    __a = 1\n    def foo(self):\n        print self.__a\n        self.__a = 2\n</code></pre>\n\n<p>Although this <em>is</em> visible to the other functions, it's invisible to anything else (actually, it's there, but it's mangled).</p>\n\n<p><strong>FINAL EDIT:</strong> Use this:</p>\n\n<pre><code>import pyext\n\ndef wrap_mod(*args, **kw):\n    def inner(f):\n        return pyext.modify_function(f, *args, **kw)\n    return inner\n\nclass bar(object):\n    @wrap_mod(globals={'a': [1]})\n    def foo(self):\n        print a[0]\n        a[0] = 2\n    foo.a = foo.func_globals['a']\n\nb = bar()\nb.foo() # prints 1\nb.foo() # prints 2\n# external access\nb.foo.a[0] = 77\nb.foo() # prints 77\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "is_accepted": false, "score": 0, "last_activity_date": 1429143989, "last_edit_date": 1495542493, "creation_date": 1429142998, "answer_id": 29663143, "question_id": 29659116, "link": "https://stackoverflow.com/questions/29659116/python-set-method-attribute-from-within-method/29663143#29663143", "title": "Python : Set method attribute from within method", "body": "<p>Based on other contributors's answers, I came up with the following workaround.  First, wrap a dictionnary in a class resolving non-existant attributes to the wrapped dictionnary such as the following code. </p>\n\n<pre><code>class DictWrapper(object):\n    def __init__(self, d):\n        self.d = d\n    def __getattr__(self, key):\n        return self.d[key]\n</code></pre>\n\n<p>Credits to <a href=\"https://stackoverflow.com/questions/5517241/is-there-any-trick-to-overload-the-dot-operator\">Lucas Jones</a> for this code.</p>\n\n<p>Then implement a <code>addstatic</code> decorator with a <code>statics</code> attribute that will store the <em>static</em> attributes.</p>\n\n<pre><code>class addstatic(object):\n\n    def __init__(self, **statics):\n        self.statics = statics\n\n    def __call__(self, function):\n\n        class override(object):\n\n            def __init__(self, function, statics):\n                self.__function = function\n                self.statics = DictWrapper(statics)\n\n            def __call__(self, *args, **kwargs):\n                return self.__function(*args, **kwargs)\n\n            def __get__(self, instance, objtype):\n                from types import MethodType\n                return MethodType(self, instance)\n\n        retval = override(function, self.statics)\n        return retval\n</code></pre>\n\n<p>The following code is an example of how the <code>addstatic</code> decorator can be used on methods.</p>\n\n<pre><code>   class bar(object):\n\n        @attribute(a=2, b=3)\n        def foo(self):\n            self.foo.statics.a = 1\n            self.foo.statics.b = 2\n</code></pre>\n\n<p>Then, playing with an instance of the <code>bar</code> class yields : </p>\n\n<pre><code>&gt;&gt;&gt; b = bar()\n&gt;&gt;&gt; b.foo.statics.a\n2\n&gt;&gt;&gt; b.foo.statics.b\n3\n&gt;&gt;&gt; b.foo()\n&gt;&gt;&gt; b.foo.statics.a\n3\n&gt;&gt;&gt; b.foo.statics.b\n5\n</code></pre>\n\n<p>The reason for using this statics dictionnary follows jsbueno's answer which suggest that what I want would require overloading the dot operator of and instance method wrapping the foo function, which I am not sure is possible.  Of course, the method's attribute could be set in <code>self.foo.__dict__</code>, but since it not recommended (as suggested by brainovergrow), I came up with this workaround.  I am not certain this would be recommended either and I guess it is up for comments.</p>\n"}], "owner": {"reputation": 623, "user_id": 2029580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2f4d32739d7bf31c6cf016e9737371?s=128&d=identicon&r=PG", "display_name": "Francis", "link": "https://stackoverflow.com/users/2029580/francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4124, "favorite_count": 1, "accepted_answer_id": 29659602, "answer_count": 4, "score": 1, "last_activity_date": 1429143989, "creation_date": 1429126115, "last_edit_date": 1429134334, "question_id": 29659116, "link": "https://stackoverflow.com/questions/29659116/python-set-method-attribute-from-within-method", "title": "Python : Set method attribute from within method", "body": "<p>I am trying to make a python decorator that adds attributes to methods of a class so that I can access and modify those attributes from within the method itself.  The decorator code is </p>\n\n<pre><code>from types import MethodType\nclass attribute(object):\n\n    def __init__(self, **attributes):\n        self.attributes = attributes\n\n    def __call__(self, function):\n\n        class override(object):\n\n            def __init__(self, function, attributes):\n                self.__function = function\n                for att in attributes:\n                    setattr(self, att, attributes[att])\n\n            def __call__(self, *args, **kwargs):\n                return self.__function(*args, **kwargs)\n\n            def __get__(self, instance, owner):\n                return MethodType(self, instance, owner) \n\n        retval = override(function, self.attributes)\n        return retval\n</code></pre>\n\n<p>I tried this decorator on the toy example that follows.</p>\n\n<pre><code>    class bar(object):\n\n        @attribute(a=2)\n        def foo(self):\n            print self.foo.a\n            self.foo.a = 1\n</code></pre>\n\n<p>Though I am able to access the value of attribute 'a' from within foo(), I can't set it to another value.  <strong>Indeed, when I call <code>bar().foo()</code>, I get the following AttributeError.</strong>  </p>\n\n<pre><code>AttributeError: 'instancemethod' object has no attribute 'a'\n</code></pre>\n\n<p>Why is this?  More importantly how can I achieve my goal?</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>Just to be more specific, I am trying to find a simple way to implement static variable that are located within class methods.  Continuing from the example above, I would like instantiate <code>b = bar()</code>, call both <code>foo()</code> and <code>doo()</code> methods and then access <code>b.foo.a</code> and <code>b.doo.a</code> later on.</p>\n\n<pre><code>    class bar(object):\n\n        @attribute(a=2)\n        def foo(self):\n            self.foo.a = 1\n\n        @attribute(a=4)\n        def doo(self):\n            self.foo.a = 3\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1429126682, "post_id": 29659083, "comment_id": 47458243, "body": "Notice that you ask for multiple animals in the while loop but only create and print one animal after the while loop."}], "answers": [{"tags": [], "owner": {"reputation": 3164, "user_id": 1062364, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39ae22259f3226479b90af7cf4bb6122?s=128&d=identicon&r=PG", "display_name": "Gnijuohz", "link": "https://stackoverflow.com/users/1062364/gnijuohz"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126654, "creation_date": 1429126654, "answer_id": 29659302, "question_id": 29659083, "link": "https://stackoverflow.com/questions/29659083/trouble-making-the-while-loop-work-when-printing-different-objects-from-class/29659302#29659302", "title": "Trouble making the while loop work when printing different objects from class", "body": "<p>You didn't create the animal inside the loop and save it into a list.</p>\n\n<pre><code>    animal_list = []\n    while(find_info):\n        _animal_type = input('\\nWhat type of animal would you like to create? ')\n        __name = input('What is the animals name? ')\n\n\n        # Create an instance of the animal class\n        animal_list.add(animals.Animal(_animal_type, __name))\n        more_animals = input('Would you like to add more animals (y/n)? ')\n        if (more_animals != 'y'):\n            find_info = False\n\n\n    # Display the data that was entered.\n    print('\\nAnimal List')\n    for animal in animal_list:\n        print('------------- \\n' + animal.get_animal_type() + ' the ' + animal.get_name() + '\\n')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": true, "score": 1, "last_activity_date": 1429167864, "last_edit_date": 1429167864, "creation_date": 1429126792, "answer_id": 29659341, "question_id": 29659083, "link": "https://stackoverflow.com/questions/29659083/trouble-making-the-while-loop-work-when-printing-different-objects-from-class/29659341#29659341", "title": "Trouble making the while loop work when printing different objects from class", "body": "<p>Your indentation is incorrect, and you are not creating a list.  I suggest:</p>\n\n<pre><code>animal_list = []\nfind_info = True\n\nwhile(find_info):\n    _animal_type = input('\\nWhat type of animal would you like to create? ')\n    __name = input(\"What is the animal's name? \")\n    more_animals = input('Would you like to add more animals (y/n)? ')\n    if (more_animals != 'y'):\n        find_info = False\n\n    # Create an instance of the animal class\n    animal_list.append(animals.Animal(_animal_type, __name))\n\nprint('\\nAnimal List')\nfor animal in animal_list:\n    print('------------- \\n' + animal.get_animal_type() + ' the ' +  animal.get_name() + '\\n')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3471, "user_id": 1016274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c01f1ff90599b2cbaba251c5f200d1d?s=128&d=identicon&r=PG", "display_name": "user1016274", "link": "https://stackoverflow.com/users/1016274/user1016274"}, "is_accepted": false, "score": 1, "last_activity_date": 1429127120, "creation_date": 1429127120, "answer_id": 29659446, "question_id": 29659083, "link": "https://stackoverflow.com/questions/29659083/trouble-making-the-while-loop-work-when-printing-different-objects-from-class/29659446#29659446", "title": "Trouble making the while loop work when printing different objects from class", "body": "<p>Nice program! I see it's running, asking the user and printing. The only part that's missing is how to remember one animal if the user chooses to name another one.  </p>\n\n<p>In the loop, you store the animal's type and name in 2 variables. These variables can only hold 1 name and 1 type. For convenience, you created a custom data type (Animal) which has variables for the name and the type. So now you need a list of Animals to hold the data for many animals. Create an empty list just before you enter the loop. In the loop, create one Animal for each round, store the user's answers and then append that Animal to your list. With python, a list always looks the same and acts the same no matter which objects you store in it.  </p>\n\n<p>A list of integers will be created just like a list of Animals. I think that will give you enough clues how to amend your program to be able to store more than 1 animal. (hint: look at the other answers after trying for yourself - that's what makes you learn to program).</p>\n"}], "owner": {"reputation": 45, "user_id": 4639284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-l_Hcju2Xk9c/AAAAAAAAAAI/AAAAAAAAAoM/d78CcI1EuQk/photo.jpg?sz=128", "display_name": "Solenn", "link": "https://stackoverflow.com/users/4639284/solenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 29659341, "answer_count": 3, "score": 0, "last_activity_date": 1429167864, "creation_date": 1429126030, "question_id": 29659083, "link": "https://stackoverflow.com/questions/29659083/trouble-making-the-while-loop-work-when-printing-different-objects-from-class", "title": "Trouble making the while loop work when printing different objects from class", "body": "<p>For this module, I have two programs I am using to make this work one called animals.py and another called animalgenerator.py, animals.py defines the class where animalgenerator.py will present the information in a list after getting user input. </p>\n\n<p>Where I have the most trouble is the 'while' loop. I am supposed to get user input about the name of an animal and the type of animal, the user is allowed to have more than one animal. The information about the animals are printed at the end. </p>\n\n<p>Here is an example of what the program should look like:</p>\n\n<pre><code> Welcome    to  the animal  generator!\n This   program creates Animal  objects\n What   type    of  animal  would   you like    to  create? Gecko\n What   is  the animal's    name?   Gordon\n Would  you like    to  add more    animals (y/n)?  y\n\n What   type    of  animal  would   you like    to  create? Wally\n What   is  the animal's    name?   Walrus\n Would  you like    to  add more    animals (y/n)?  y\n\n What   type    of  animal  would   you like    to  create? Truman\n What   is  the animal's    name?   Tiger\n Would  you like    to  add more animals    (y/n)?  n\n\n Animal List\n -----------\n Gordon the Gecko   \n Walrus the Wally   \n Tiger  the Truman  \n</code></pre>\n\n<p>My program will only print the last animal's information disregarding any previous animals described. So in this case, my program will only print \"Tiger the Truman.\"</p>\n\n<p>Here is my code for animals.py:</p>\n\n<pre><code>class Animal:\n\n    # The __init__ method initializes the attributes\n\n    def __init__(self, name, type):\n        self.__name = name\n        self.__animal_type = type\n\n    def _animal_type(self, type):\n        self.__animal_type = type\n\n    def __name(self, name):\n        self.__name = name\n\n    def get_animal_type(self):\n        return self.__animal_type\n\n    def get_name(self):\n        return self.__name\n</code></pre>\n\n<p>My code for animalgenerator.py is:</p>\n\n<pre><code># This program tests the Animal class.\n\nimport animals\n\nprint(\"Welcome to the animal generator!\")\nprint(\"This program creates Animal objects.\")\n\ndef main():\n    # Get the animal data\n    find_info = True\n    while(find_info):\n        _animal_type = input('\\nWhat type of animal would you like to create? ')\n        __name = input('What is the animals name? ')\n        more_animals = input('Would you like to add more animals (y/n)? ')\n        if (more_animals != 'y'):\n            find_info = False\n\n    # Create an instance of the animal class\n    animal = animals.Animal(_animal_type, __name)\n\n    # Display the data that was entered.\n    print('\\nAnimal List')\n    print('------------- \\n' + animal.get_animal_type() + ' the ' + animal.get_name() + '\\n')\n\n\n# Call the main function\nmain()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429126042, "post_id": 29659016, "comment_id": 47457825, "body": "<b>Don&#39;t</b> change the length of the list while iterating over it? Alternatively, manage the current index yourself, and only increment it as required."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1429126052, "post_id": 29659016, "comment_id": 47457829, "body": "So whats your final expected output?"}, {"owner": {"reputation": 1023, "user_id": 1947081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0abfed788c885ecb97b6ee07e7b68f5f?s=128&d=identicon&r=PG", "display_name": "Croolman", "link": "https://stackoverflow.com/users/1947081/croolman"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1429126338, "post_id": 29659016, "comment_id": 47458004, "body": "@Kasra expected output is in tihs case list1 = [z, t, s, a ,n] list2 = [g]"}], "answers": [{"comments": [{"owner": {"reputation": 1023, "user_id": 1947081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0abfed788c885ecb97b6ee07e7b68f5f?s=128&d=identicon&r=PG", "display_name": "Croolman", "link": "https://stackoverflow.com/users/1947081/croolman"}, "edited": false, "score": 0, "creation_date": 1429126599, "post_id": 29659133, "comment_id": 47458177, "body": "That works! Didn&#39;t know about this fancy thing"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429126719, "post_id": 29659133, "comment_id": 47458259, "body": "More importantly than iterating over the list backwards, the first snippet iterates over a backwards <b>copy</b> of the list..."}], "tags": [], "owner": {"reputation": 10379, "user_id": 69893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jo6Ks.png?s=128&g=1", "display_name": "Christian Witts", "link": "https://stackoverflow.com/users/69893/christian-witts"}, "is_accepted": true, "score": 1, "last_activity_date": 1429126174, "creation_date": 1429126174, "answer_id": 29659133, "question_id": 29659016, "link": "https://stackoverflow.com/questions/29659016/remove-and-add-items-to-iterated-lists/29659133#29659133", "title": "Remove and add items to iterated lists", "body": "<p>There are a few ways to achieve this, one is iterating backwards over the list, ie</p>\n\n<pre><code>for e in list1:\n    for t in list2[::-1]:  # This iterates over the list backwards\n        # Do your check\n        # Remove the element\n</code></pre>\n\n<p>If you need to process it forwards, you can iterate over a copy so you can mutate the original list while iterating over the initial content, ie</p>\n\n<pre><code>for e in list1:\n    for t in list2[:]:  # The [:] syntax feeds you your data via a new list.\n        # Do your check\n        # Remove the element, and not worry about mutating the original list length\n</code></pre>\n"}], "owner": {"reputation": 1023, "user_id": 1947081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0abfed788c885ecb97b6ee07e7b68f5f?s=128&d=identicon&r=PG", "display_name": "Croolman", "link": "https://stackoverflow.com/users/1947081/croolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1429127073, "accepted_answer_id": 29659133, "answer_count": 1, "score": 1, "last_activity_date": 1429126325, "creation_date": 1429125807, "last_edit_date": 1429126325, "question_id": 29659016, "link": "https://stackoverflow.com/questions/29659016/remove-and-add-items-to-iterated-lists", "closed_reason": "Duplicate", "title": "Remove and add items to iterated lists", "body": "<p>I am iterating through two lists like so:</p>\n\n<pre><code>list1 = [z]\nlist2 = [z-t,z-s,s-a,a-n, g-z]\nfor e in list1:\n for t in list2:\n  # if item from list2 contains item from list1 (before \"-\")\n  # remove the item from list2 and append part after \"-\" to list1\n  # iterate again until no change is made or list2 is empty\n</code></pre>\n\n<p>The problem I can't solve is that when I remove the item from list2 it goes to next item and I am not able to prevent it. For example</p>\n\n<pre><code>list2 = [z-t,z-s,s-a....]\n          ^ removing this while iterating\nnext iteration jumps over one item\nlist2 = [z-s, s-a,...]\n               ^ this is where I am second iteration\nlist2 = [z-s, s-a,...]\n          ^ this is where I want to be\n</code></pre>\n\n<p>Is there any way to do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "edited": false, "score": 0, "creation_date": 1429125855, "post_id": 29658991, "comment_id": 47457694, "body": "Is it guaranteed to alternate between +4 and +6?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429125993, "post_id": 29658991, "comment_id": 47457792, "body": "Why don&#39;t you write a formula that takes <code>y</code> and calculates the value to subtract, instead?"}, {"owner": {"reputation": 422, "user_id": 2316543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e543d4bda1b1deaf0b5c73a3124f120?s=128&d=identicon&r=PG", "display_name": "Tachyon", "link": "https://stackoverflow.com/users/2316543/tachyon"}, "edited": false, "score": 0, "creation_date": 1429126068, "post_id": 29658991, "comment_id": 47457840, "body": "Start from checking the largest values of y? Like <code>if 43 &lt;= y &lt; 47: self.draw_y -= 10</code> and then <code>elif y &gt;= 37: self.draw_y -= 9</code> and so on..! You don&#39;t have to check less than condition this way."}], "answers": [{"comments": [{"owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "reply_to_user": {"reputation": 29, "user_id": 4503029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3b1ff6320ce2a99a04e6a8d084554c?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Kluz", "link": "https://stackoverflow.com/users/4503029/micha%c5%82-kluz"}, "edited": false, "score": 0, "creation_date": 1429126321, "post_id": 29659119, "comment_id": 47457994, "body": "@Micha\u0142Kluz If my answer solved your problem, consider upvoting it and marking it as accepted :)"}], "tags": [], "owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "is_accepted": true, "score": 1, "last_activity_date": 1429126118, "creation_date": 1429126118, "answer_id": 29659119, "question_id": 29658991, "link": "https://stackoverflow.com/questions/29658991/how-to-make-this-code-more-simple/29659119#29659119", "title": "How to make this code more simple?", "body": "<p>Not efficient, but cleaner:</p>\n\n<pre><code>if y &gt;= 3:\n    self.draw_y -= 2\n    delta = 6\n    while y &gt;= 7:\n        self.draw_y -= 1\n        y -= delta\n        delta = 6 if delta == 4 else 4\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "edited": false, "score": 1, "creation_date": 1429127479, "post_id": 29659230, "comment_id": 47458650, "body": "You should only import <code>bisect_right</code> once.  I suggest moving it out of the function."}, {"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1429265138, "post_id": 29659230, "comment_id": 47528430, "body": "This solution assumes the list of intervals is finite. The ellipsis in the OP&#39;s post seems to indicate otherwise. So e.g. <code>58</code> should be mapped to <code>13</code>. Yes, you could pass a new list, but it would also have a limited length."}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "reply_to_user": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1429290361, "post_id": 29659230, "comment_id": 47546269, "body": "@OliverW. True, but it is one way for large finite sequences and it works even if the boundaries are arbitrary with no pattern. If it was an infinite sequence, then one could also assume that OP would already have started with the math formula for it rather than starting with an if-elif statement chain, realizing that he/she would never finish it and then posting a question here."}], "tags": [], "owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "is_accepted": false, "score": 1, "last_activity_date": 1429127685, "last_edit_date": 1429127685, "creation_date": 1429126431, "answer_id": 29659230, "question_id": 29658991, "link": "https://stackoverflow.com/questions/29658991/how-to-make-this-code-more-simple/29659230#29659230", "title": "How to make this code more simple?", "body": "<p>Maybe something like this would help:</p>\n\n<pre><code>from bisect import bisect_right\n\ndef drawshift(x, l=[3,7,13,17,23,27,33,37,43,47]):\n    return bisect_right(l, x) + 1\n\nprint(drawshift(2)) # 1\nprint(drawshift(3)) # 2\nprint(drawshift(4)) # 2\nprint(drawshift(7)) # 3\nprint(drawshift(43)) # 10\nprint(drawshift(47)) # 11\n</code></pre>\n\n<p>The documentation for the module I have used can be found <a href=\"https://docs.python.org/2/library/bisect.html\" rel=\"nofollow\">here</a>. It uses a bisection algorithm (basically, binary search) which has O(log n) lookup time.</p>\n\n<p>The edge cases like <code>x &lt; 3</code> or <code>x &gt;= 47</code> can be handled pretty simply with conditional statements. For example note that <code>bisect_right(x)</code> where x is lower than all elements of the list will return 0 and that <code>bisect_right(x)</code> where x is greater than or equal to the highest element in the list will give you <code>len(l) + 1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1429126942, "creation_date": 1429126942, "answer_id": 29659388, "question_id": 29658991, "link": "https://stackoverflow.com/questions/29658991/how-to-make-this-code-more-simple/29659388#29659388", "title": "How to make this code more simple?", "body": "<p>Another solution to this problem, it uses simple arithmetic (division and modulo) and can be easily adapted for vectorization in case you're ever looking into that:</p>\n\n<pre><code>def range_selector(num):\n    q, r = divmod(num - 3, 10)\n    return 2*q + 2 + (r&gt;=4)\n</code></pre>\n\n<p>Example, using numpy:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; y = np.array([3,6,7,13,14,47])\n&gt;&gt;&gt; range_selector(y)\narray([ 2,  2,  3,  4,  4, 11])\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4503029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd3b1ff6320ce2a99a04e6a8d084554c?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Kluz", "link": "https://stackoverflow.com/users/4503029/micha%c5%82-kluz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 29659119, "answer_count": 3, "score": 1, "last_activity_date": 1429127685, "creation_date": 1429125736, "question_id": 29658991, "link": "https://stackoverflow.com/questions/29658991/how-to-make-this-code-more-simple", "title": "How to make this code more simple?", "body": "<p>I have a small problem with this code</p>\n\n<pre><code>if    3 &lt;= y &lt;  7: self.draw_y -= 2\nelif  7 &lt;= y &lt; 13: self.draw_y -= 3\nelif 13 &lt;= y &lt; 17: self.draw_y -= 4\nelif 17 &lt;= y &lt; 23: self.draw_y -= 5\nelif 23 &lt;= y &lt; 27: self.draw_y -= 6\nelif 27 &lt;= y &lt; 33: self.draw_y -= 7\nelif 33 &lt;= y &lt; 37: self.draw_y -= 8\nelif 37 &lt;= y &lt; 43: self.draw_y -= 9\nelif 43 &lt;= y &lt; 47: self.draw_y -= 10\n....\n</code></pre>\n\n<p>Could you help me to make this code simpler?</p>\n"}, {"tags": ["python", "arrays", "numpy", "matrix"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 5, "creation_date": 1429125658, "post_id": 29658906, "comment_id": 47457543, "body": "I don&#39;t understand... in the text, you say that you have to read the matrix, but in the code you are writing the matrix..."}, {"owner": {"reputation": 1, "user_id": 4793501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d98d534c0d66b76885f4ef4c4aeb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/4793501/jon"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1429126509, "post_id": 29658906, "comment_id": 47458110, "body": "Is there another way to put the matrix in a text file? It wasn&#39;t given to me as a text file. I don&#39;t know how else to put it in a text file other than this..."}, {"owner": {"reputation": 8131, "user_id": 4549682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6WL61uu5PTI/AAAAAAAAAAI/AAAAAAAAAAA/GXg0FQPcuIQ/photo.jpg?sz=128", "display_name": "wordsforthewise", "link": "https://stackoverflow.com/users/4549682/wordsforthewise"}, "edited": false, "score": 0, "creation_date": 1429126806, "post_id": 29658906, "comment_id": 47458318, "body": "Works for me, what&#39;s the syntax error you get? You could write to file with the csv module <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/csv.html</a> or simply f = open(&#39;file.txt&#39;,&#39;wb&#39;) then f.write(data)"}, {"owner": {"reputation": 1, "user_id": 4793501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d98d534c0d66b76885f4ef4c4aeb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/4793501/jon"}, "edited": false, "score": 0, "creation_date": 1429128419, "post_id": 29658906, "comment_id": 47459222, "body": "Yeah I think it&#39;s okay in the text file, but now i&#39;m stuck on how its supposed to &quot;read&quot; the file and sum the column."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1429136626, "post_id": 29658906, "comment_id": 47463519, "body": "@Jon, you should split up the write and read operations into separate scripts or functions.  you don&#39;t want to re-write the file every time you read it."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 2, "creation_date": 1429136722, "post_id": 29658906, "comment_id": 47463550, "body": "and why don&#39;t you do some googling to see how one would load a numpy matrix that has been saved in a text file using <code>savetxt</code>.  when you get stuck on something basic like this, your first action shouldn&#39;t be to post a question to SO."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 2, "creation_date": 1429136881, "post_id": 29658906, "comment_id": 47463617, "body": "and why not make your matrix a 2D numpy <code>array</code>, as opposed to a tuple of 1D arrays?  (again, how to do this can be found easily from a google search.)"}, {"owner": {"reputation": 7977, "user_id": 3604159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32946c257cb4802dea738db1ecbf0c6?s=128&d=identicon&r=PG&f=1", "display_name": "TheBlackCat", "link": "https://stackoverflow.com/users/3604159/theblackcat"}, "edited": false, "score": 1, "creation_date": 1429194856, "post_id": 29658906, "comment_id": 47493207, "body": "First, if you have an error in the reading function, please include that code.  Second, please edit the question to include the complete error.  Third, do you want an array or a matrix?  You say matrix, but work with arrays.  These are not the same thing.  Fourth, did you not get any guidance at all on what format the text file should have?"}], "owner": {"reputation": 1, "user_id": 4793501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d98d534c0d66b76885f4ef4c4aeb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/4793501/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429125486, "creation_date": 1429125460, "last_edit_date": 1429125486, "question_id": 29658906, "link": "https://stackoverflow.com/questions/29658906/column-sum-with-matrix-from-txt-file", "title": "Column sum with matrix from txt file?", "body": "<p>I've been given a matrix that I have to put into a text file, and take the sum of one of the columns (from a command line)</p>\n\n<p>So the program I have to make has to take the matrix txt file and the column number as two command line arguments.</p>\n\n<p>I'm very inexperienced with matrices and accessing txt.files (we've barely touched upon it in class)</p>\n\n<p>What I have so far :</p>\n\n<pre><code>import numpy\nimport sys\n\ntxtfile = sys.argv[1]\ncolumnsum = sys.argv[2]\n\na = [2,16,-3,9]\nb = [4,5,2,0]\nc = [5,2,3,11]\nd = [6,-2,-3,4]\n\nm1 = numpy.array(a)\nm2 = numpy.array(b)\nm3 = numpy.array(c)\nm4 = numpy.array(d)\n\nnumpy.savetxt('matrixp4.txt',(m1,m2,m3,m4),fmt=\"%d\")\n</code></pre>\n\n<p>In the editor I'm using (pycharm), the matrix seems to be secure in the txt file, but when I run it, it says there's a syntax error in the first line of the matrix. I'm very stuck, I just don't know matrices very well. Any help? Did I format the matrix wrong? </p>\n"}, {"tags": ["python", "pip", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 2484, "user_id": 3461355, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/vcqrY.jpg?s=128&g=1", "display_name": "mcastle", "link": "https://stackoverflow.com/users/3461355/mcastle"}, "is_accepted": false, "score": 1, "last_activity_date": 1429125767, "creation_date": 1429125767, "answer_id": 29659004, "question_id": 29658890, "link": "https://stackoverflow.com/questions/29658890/options-for-installing-scikit-learn/29659004#29659004", "title": "Options for installing scikit-learn", "body": "<p>One option is to install <a href=\"http://docs.continuum.io/anaconda/pkg-docs.html\" rel=\"nofollow\">Anaconda</a>, which will allow you to easily install scikit-learn</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1429143159, "post_id": 29659678, "comment_id": 47465725, "body": "Thanks. Is it possible to upgrade all installed python packages, without upgrading them one by one?"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1429149030, "post_id": 29659678, "comment_id": 47467263, "body": "@Tim see my edit - yes, it is possible with a little bit of command-line-fu. <i>Should</i> you blindly upgrade everything? That&#39;s up to you. You can always generate the list of packages in a text file <code>pip list | awk &#39;{print $1}&#39; | cat &gt;&gt; piplist</code>, then go through it manually and delete anything you don&#39;t want to upgrade. Then, run <code>cat piplist | while read ...</code> and it should do its thing."}], "tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 2, "last_activity_date": 1429148797, "last_edit_date": 1429148797, "creation_date": 1429127774, "answer_id": 29659678, "question_id": 29658890, "link": "https://stackoverflow.com/questions/29658890/options-for-installing-scikit-learn/29659678#29659678", "title": "Options for installing scikit-learn", "body": "<p>First, you should definitely upgrade <code>pip</code>, as the current version is 6.1.1. Run</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n\n<p>to do that. I wouldn't necessarily trust what <code>man pip</code> has to say, as it may be for an ancient version of <code>pip</code>. Instead, use the docs <a href=\"https://pip.pypa.io\" rel=\"nofollow\">here</a>.</p>\n\n<p><code>-U</code> and <code>--upgrade</code> are the same thing. <code>--user</code> is separate.</p>\n\n<p>You don't need to worry about the <code>prefix</code> thing, or <code>distutils.cfg</code>. You'd know if you have them, because it's something you'd have to set up manually. So, just try running</p>\n\n<pre><code>pip install scikit-learn -U --user\n</code></pre>\n\n<p>after you've upgraded <code>pip</code>, and hopefully everything will go smoothly.</p>\n\n<hr>\n\n<p>If you're on a Linux or Unix system (like OS X), or you have the GNU command-line tools installed on Windows, and you want <code>pip</code> to upgrade <strong>all</strong> of your packages, this command should work in bash:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>pip list | awk '{print $1}' | while read -r package; do sudo -H pip install -U \"$package\"; done\n</code></pre>\n\n<p><code>pip list</code> prints out the name and version of each package installed (and, at least on my Ubuntu 14.10 system, that includes everything, system- or <code>pip</code>-installed), along with its version number in parentheses. <code>awk '{print $1}'</code> splits each line on whitespace, and returns the first field (the package name). The <code>while</code> loop reads each incoming line (the package name) and calls <code>sudo -H pip install -U packagename</code>, which will look to see if the package is up-to-date, and if not it will upgrade it. I'm assuming system packages like those installed by Ubuntu won't be upgraded, as they're not listed in PyPI, but I killed the command before I found out.</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "accepted_answer_id": 29659678, "answer_count": 2, "score": 0, "last_activity_date": 1523365460, "creation_date": 1429125387, "last_edit_date": 1523365460, "question_id": 29658890, "link": "https://stackoverflow.com/questions/29658890/options-for-installing-scikit-learn", "title": "Options for installing scikit-learn", "body": "<p>From <a href=\"http://scikit-learn.org/dev/install.html#building-scikit-learn-with-pip\" rel=\"nofollow noreferrer\">http://scikit-learn.org/dev/install.html#building-scikit-learn-with-pip</a></p>\n\n<blockquote>\n<pre><code>pip install --user --install-option=\"--prefix=\" -U scikit-learn\n</code></pre>\n  \n  <p>The --user flag asks pip to install scikit-learn in the $HOME/.local\n  folder therefore not requiring root permission. This flag should make\n  pip ignore any old version of scikit-learn previously installed on the\n  system while benefiting from system packages for numpy and scipy.\n  Those dependencies can be long and complex to build correctly from\n  source.</p>\n  \n  <p>The --install-option=\"--prefix=\" flag is only required if Python has a\n  distutils.cfg configuration with a predefined prefix= entry.</p>\n</blockquote>\n\n<ol>\n<li><p>In <code>man pip</code> for my <code>pip 1.5.4</code>,  why are there no <code>--user</code> <code>--install-option</code> <code>-U</code> options, although the above command can run? </p>\n\n<p>For <code>--install-option</code>, </p>\n\n<ul>\n<li><p>what does it mean?</p></li>\n<li><p>how shall I find out \"if Python has a distutils.cfg configuration with a predefined prefix= entry\"?</p></li>\n<li><p>What is \"distutils.cfg\" used for?</p></li>\n</ul>\n\n<p>For <code>-U</code>, what does it mean?</p></li>\n<li><p>If I want to install scikit-learn to my system default directory,\nwhat command shall I run? Is it</p>\n\n<pre><code>pip install scikit-learn\n</code></pre>\n\n<p>?</p></li>\n</ol>\n"}, {"tags": ["python", "opencv", "neural-network", "deep-learning", "caffe"], "answers": [{"tags": [], "owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "is_accepted": false, "score": 1, "last_activity_date": 1448794718, "last_edit_date": 1448794718, "creation_date": 1429629875, "answer_id": 29776555, "question_id": 29658790, "link": "https://stackoverflow.com/questions/29658790/how-to-test-mnist-on-my-own-dataset-images/29776555#29776555", "title": "how to test mnist on my own dataset images", "body": "<p>Why don't you use the python wrapper class <code>Classifier</code>?</p>\n\n<pre><code>net = caffe.Classifier( MODEL_FILE, PRETRAINED )\nnet.predict( [input_image], oversmaple=False )\n</code></pre>\n\n<p>I'm not 100% sure, but I think LeNeT model expect gray scale image, you might need to read the image</p>\n\n<pre><code>input_image = caffe.io.load_image(IMAGE_FILE, color=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3817, "user_id": 988709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ad8a700cff2fea2fba87c2309f784026?s=128&d=identicon&r=PG", "display_name": "tidy", "link": "https://stackoverflow.com/users/988709/tidy"}, "is_accepted": false, "score": 1, "last_activity_date": 1451987317, "creation_date": 1451987317, "answer_id": 34608567, "question_id": 29658790, "link": "https://stackoverflow.com/questions/29658790/how-to-test-mnist-on-my-own-dataset-images/34608567#34608567", "title": "how to test mnist on my own dataset images", "body": "<pre><code>import caffe\nimport os\n\nmodel_file = '../examples/mnist/lenet.prototxt'\npretrained_file = '../examples/mnist/lenet_iter_10000.caffemodel'\nnet = caffe.Classifier(model_file, pretrained_file, image_dims=(28, 28), raw_scale=255)\nscore = net.predict([caffe.io.load_image('img/1.bmp', color=False)], oversample=False)\nprint score\n</code></pre>\n\n<p>This code work for me, the output is like that:</p>\n\n<pre><code>...\n[[ 0.  0.  1.  0.  0.  0.  0.  0.  0.  0.]]\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 2631051, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8493e29735916d91f0d8143519ac9d83?s=128&d=identicon&r=PG&f=1", "display_name": "patrick", "link": "https://stackoverflow.com/users/2631051/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3853, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1451987317, "creation_date": 1429125079, "last_edit_date": 1448795070, "question_id": 29658790, "link": "https://stackoverflow.com/questions/29658790/how-to-test-mnist-on-my-own-dataset-images", "title": "how to test mnist on my own dataset images", "body": "<p>I'm trying to test mnist using my own dataset of digits images.<br>\nI wrote a python script for that but it is giving an error. error is in line no 16 of code. Actually i'm not able to send image for test. give me some suggestions. thanks in advance.</p>\n\n<pre><code>import numpy as np\nimport sys\nimport caffe\nimport matplotlib.pyplot as plt\nimport os\n\ncaffe_root = '../caffe-master/'\nMODEL_FILE = './examples/mnist/lenet.prototxt'\nPRETRAINED = './examples/mnist/lenet_iter_10000.caffemodel'\nIMAGE_FILE = '/home/hemant/OpenCVProject/grey/img001-00001.png'#image path\n\ninput_image = caffe.io.load_image(IMAGE_FILE)\n\nnet = caffe.Net(MODEL_FILE, PRETRAINED,caffe.TEST)\ncaffe.set_mode_cpu()\nout = net.forward([input_image])\nprint out['prob']\n</code></pre>\n"}, {"tags": ["python", "mysql", "database", "sockets", "ubuntu"], "answers": [{"comments": [{"owner": {"reputation": 1095, "user_id": 4425719, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-6mDjKYogbrQ/AAAAAAAAAAI/AAAAAAAADVM/vCB9DVK11XE/photo.jpg?sz=128", "display_name": "Santiago Mendoza Ramirez", "link": "https://stackoverflow.com/users/4425719/santiago-mendoza-ramirez"}, "edited": false, "score": 0, "creation_date": 1429738548, "post_id": 29658932, "comment_id": 47746702, "body": "We&#39;ve made some tests, and i think you&#39;re correct. Do you have any tutorial to install MySQL in one partition and storage of mysql data (i.e databases) in another?"}, {"owner": {"reputation": 7497, "user_id": 539153, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8030185be60d1b6d07bec39fde401b0?s=128&d=identicon&r=PG", "display_name": "s3v3n", "link": "https://stackoverflow.com/users/539153/s3v3n"}, "reply_to_user": {"reputation": 1095, "user_id": 4425719, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-6mDjKYogbrQ/AAAAAAAAAAI/AAAAAAAADVM/vCB9DVK11XE/photo.jpg?sz=128", "display_name": "Santiago Mendoza Ramirez", "link": "https://stackoverflow.com/users/4425719/santiago-mendoza-ramirez"}, "edited": false, "score": 1, "creation_date": 1429739696, "post_id": 29658932, "comment_id": 47747249, "body": "You can try this one <a href=\"http://stackoverflow.com/questions/1795176/how-to-change-mysql-data-directory\" title=\"how to change mysql data directory\">stackoverflow.com/questions/1795176/&hellip;</a> , but I would recommend leaving <code>MySQL</code> as it is and creating a separate partition for your storage, for this you can specify the mountpoint in <code>&#47;etc&#47;fstab</code>, here&#39;s an example for debian: <a href=\"https://wiki.debian.org/fstab\" rel=\"nofollow noreferrer\">wiki.debian.org/fstab</a> and I think it&#39;ll work for Ubuntu as well"}], "tags": [], "owner": {"reputation": 7497, "user_id": 539153, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b8030185be60d1b6d07bec39fde401b0?s=128&d=identicon&r=PG", "display_name": "s3v3n", "link": "https://stackoverflow.com/users/539153/s3v3n"}, "is_accepted": true, "score": 1, "last_activity_date": 1429125543, "creation_date": 1429125543, "answer_id": 29658932, "question_id": 29658775, "link": "https://stackoverflow.com/questions/29658775/error-with-mysql-socket-when-the-disk-storage-is-full/29658932#29658932", "title": "Error with MySQL socket when the disk storage is full", "body": "<p>As a solution, try using different partitions for <code>MySQL</code> and storage.\nAnd, yes, this is normal. I don't know much about <code>MySQL</code> internals but I suppose that it tries to write down something, such as a session ID or maybe some other internal actions need space on disk.</p>\n"}], "owner": {"reputation": 1095, "user_id": 4425719, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-6mDjKYogbrQ/AAAAAAAAAAI/AAAAAAAADVM/vCB9DVK11XE/photo.jpg?sz=128", "display_name": "Santiago Mendoza Ramirez", "link": "https://stackoverflow.com/users/4425719/santiago-mendoza-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 29658932, "answer_count": 1, "score": 2, "last_activity_date": 1429125543, "creation_date": 1429125040, "question_id": 29658775, "link": "https://stackoverflow.com/questions/29658775/error-with-mysql-socket-when-the-disk-storage-is-full", "title": "Error with MySQL socket when the disk storage is full", "body": "<p>We have a database in computers (some of them are raspberrys or similar). The disk storage is aprox. 8 GB. When put MySQL running and start filling a database. When the disk storage is full, MySQL trought:</p>\n\n<pre><code>ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)\n</code></pre>\n\n<p>I don't know so much about MySQL, but if the disk storage is full, MySQL will stop filling the database, but it doesn't mean you can't login into MySQL and see all databases.</p>\n\n<p>Is this normal? How to solve this without lose all the information in database?</p>\n\n<p>More info:\nSO: Ubuntu 12.04 or Raspbian.\nMySQL Server and Client.</p>\n"}, {"tags": ["python", "python-2.7", "beautifulsoup", "python-2.x"], "comments": [{"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 1, "creation_date": 1429125531, "post_id": 29658773, "comment_id": 47457462, "body": "Your question isn&#39;t clear to me, although some guesses could be made to formulate an answer. Your example shows 2 table rows, each row having exactly 2 headings. Your code will run for each of these 2 rows (outer for loop) and again for each of the 2 found table headers. If you only want the number of headers in the first row, then why not try: <code>tables = soup.find_all(&#39;table&#39;); for table in tables: print(len(table.tr.find_all(&#39;th&#39;)))</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 2126, "user_id": 3020810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebadb7394827a648e7a0f898a098d2a5?s=128&d=identicon&r=PG&f=1", "display_name": "amow", "link": "https://stackoverflow.com/users/3020810/amow"}, "is_accepted": true, "score": 3, "last_activity_date": 1429173641, "creation_date": 1429173641, "answer_id": 29669548, "question_id": 29658773, "link": "https://stackoverflow.com/questions/29658773/reading-table-using-beautifulsoup/29669548#29669548", "title": "Reading table using BeautifulSoup", "body": "<p>Replace <code>findallnext</code> with <code>find_all</code>.</p>\n\n<p><code>findallnext</code> gives all  tags after the  until the end of the document as you said.</p>\n\n<p><code>find_all</code> gives you the child elements.</p>\n"}], "owner": {"reputation": 75, "user_id": 3896400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d23d6c19e76f366ea17fa3735b06fddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3896400", "link": "https://stackoverflow.com/users/3896400/user3896400"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 29669548, "answer_count": 1, "score": 0, "last_activity_date": 1429173641, "creation_date": 1429125035, "last_edit_date": 1429127965, "question_id": 29658773, "link": "https://stackoverflow.com/questions/29658773/reading-table-using-beautifulsoup", "title": "Reading table using BeautifulSoup", "body": "<p>I'm reading an HTML file with BeautifulSoup. I have a table in the HTML from which I need to read data, but the HTML contains more than one table. \nTo distinguish between the tables, I need to see the number of columns on each line by counting <code>&lt;td&gt;</code> tags.</p>\n\n<p>I count like this:</p>\n\n<pre><code>for i in soup.find_all('tr'):\n    for x in i.findallnext('td'):\n</code></pre>\n\n<p>This returns all <code>&lt;td&gt;</code> tags after the <code>&lt;tr&gt;</code> until the end of the document. But I need to know the numbers of <code>&lt;td&gt;</code> tags between the start of a line (<code>&lt;tr&gt;</code>) and the and of that line (<code>&lt;/tr&gt;</code>).</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr&gt; &lt;!-- Should return 2 columns, but will return 4 in script. --&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1429124836, "post_id": 29658702, "comment_id": 47457033, "body": "How is <code>green apple</code> similar to apple? If coz of name, then what about <code>pine apple</code>?"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 6, "creation_date": 1429124839, "post_id": 29658702, "comment_id": 47457035, "body": "Define similar.  If <code>pepper</code> is similar to <code>green pepper</code> is <code>green pepper</code> also similar to <code>pepper</code>?  Is <code>green pepper</code> similar to <code>green apple</code>?  Is <code>orange</code> similar to <code>orange pepper</code>?"}, {"owner": {"reputation": 12333, "user_id": 1460057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8zcA.jpg?s=128&g=1", "display_name": "Brionius", "link": "https://stackoverflow.com/users/1460057/brionius"}, "edited": false, "score": 0, "creation_date": 1429124871, "post_id": 29658702, "comment_id": 47457054, "body": "Yes, but you are going to have to be much more specific about what counts as &quot;similar&quot;.  Does &quot;crab apple&quot; count as similar?  Does &quot;Manzana&quot; (Spanish for apple) count?  Does &quot;applle&quot; or &quot;aple&quot; count as similar&quot;  How about &quot;Apple&quot; or &quot;APPLE&quot;?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1429124958, "post_id": 29658702, "comment_id": 47457096, "body": "Also, note that checking for <i>&#39;similarity&#39;</i> is going to seriously impact the performance of the dictionary."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1429125104, "post_id": 29658702, "comment_id": 47457197, "body": "Piggybacking on @jonrsharpe&#39;s comment.  Once you&#39;ve defined similar and implemented a function for it the only way to test for similarity is to <i>iterate over every key</i> which pretty much defeats the purpose of having a dictionary."}, {"owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "edited": false, "score": 0, "creation_date": 1429125240, "post_id": 29658702, "comment_id": 47457278, "body": "I have edited the question to make things more clear"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1429125286, "post_id": 29658702, "comment_id": 47457310, "body": "@ohbrobig OK, so where is your code? Have you made an attempt to implement it? What happened?"}, {"owner": {"reputation": 3164, "user_id": 1062364, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/39ae22259f3226479b90af7cf4bb6122?s=128&d=identicon&r=PG", "display_name": "Gnijuohz", "link": "https://stackoverflow.com/users/1062364/gnijuohz"}, "edited": false, "score": 0, "creation_date": 1429125664, "post_id": 29658702, "comment_id": 47457550, "body": "why not just iterate over the keys and do <code>key in item</code>? Won&#39;t be the most efficient way but definitely works"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1429126141, "post_id": 29658702, "comment_id": 47457895, "body": "<a href=\"https://www.python.org/dev/peps/pep-0455/\" rel=\"nofollow noreferrer\">PEP-455</a> may be somewhat applicable here."}], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1429125332, "creation_date": 1429125332, "answer_id": 29658868, "question_id": 29658702, "link": "https://stackoverflow.com/questions/29658702/python-dictionaries-any-way-to-check-for-similar-key/29658868#29658868", "title": "Python dictionaries: any way to check for &#39;similar&#39; key?", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/difflib.html\" rel=\"nofollow\"><code>difflib.SequenceMatcher.ratio()</code></a> that will return a measure of the sequences similarity as a float in the range <code>[0, 1]</code>.</p>\n\n<p>And <code>max</code> function :</p>\n\n<pre><code>&gt;&gt;&gt; fruitsandveggies = { 'apple': 2, 'banana': 5, 'pepper': 6}\n&gt;&gt;&gt; max(fruitsandveggies.items(),key=lambda (i,j):difflib.SequenceMatcher(None, i,'green apple').ratio())\n('apple', 2)\n</code></pre>\n\n<p>If you just want to get the value use a simple indexing (<code>[1]</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 0, "creation_date": 1429125721, "post_id": 29658933, "comment_id": 47457587, "body": "You can do <code>print(fruitsandveggies[key], key)</code> and avoid all type casting"}, {"owner": {"reputation": 1659, "user_id": 3216660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UhP8.png?s=128&g=1", "display_name": "TidB", "link": "https://stackoverflow.com/users/3216660/tidb"}, "edited": false, "score": 0, "creation_date": 1429125920, "post_id": 29658933, "comment_id": 47457734, "body": "If the <code>re.search(...)</code> call stays as simple as this, you could replace it with <code>in</code>. Otherwise, you should implement things as <code>re.IGNORECASE</code>, I think."}], "tags": [], "owner": {"reputation": 8131, "user_id": 4549682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6WL61uu5PTI/AAAAAAAAAAI/AAAAAAAAAAA/GXg0FQPcuIQ/photo.jpg?sz=128", "display_name": "wordsforthewise", "link": "https://stackoverflow.com/users/4549682/wordsforthewise"}, "is_accepted": false, "score": 0, "last_activity_date": 1429125824, "last_edit_date": 1429125824, "creation_date": 1429125547, "answer_id": 29658933, "question_id": 29658702, "link": "https://stackoverflow.com/questions/29658702/python-dictionaries-any-way-to-check-for-similar-key/29658933#29658933", "title": "Python dictionaries: any way to check for &#39;similar&#39; key?", "body": "<p>If I understand correctly, I think this is what you want to do:</p>\n\n<pre><code>import re\n\nitems = [ 'green apple', 'yellow pepper', 'green pepper', 'red pepper' ] \nfruitsandveggies = { 'apple': 2, 'banana': 5, 'pepper': 6}\nfor key in fruitsandveggies.keys():\n    fruitsandveggies[key] = 0\n    for item in items:\n        if re.search(key, item): # if it finds the key string in the item\n            fruitsandveggies[key] += 1\n    #print str(fruitsandveggies[key]) + ' ' + key #python 2\n    print(str(fruitsandveggies[key]) + ' ' + key) #python 3\n</code></pre>\n\n<p>it will print</p>\n\n<p>3 pepper\n1 apple\n0 banana</p>\n\n<p>in this example</p>\n"}, {"tags": [], "owner": {"reputation": 2115, "user_id": 1394473, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7261fd63649bb17e90b30474b493a520?s=128&d=identicon&r=PG", "display_name": "tom", "link": "https://stackoverflow.com/users/1394473/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126561, "creation_date": 1429126561, "answer_id": 29659263, "question_id": 29658702, "link": "https://stackoverflow.com/questions/29658702/python-dictionaries-any-way-to-check-for-similar-key/29659263#29659263", "title": "Python dictionaries: any way to check for &#39;similar&#39; key?", "body": "<pre><code>for i in items:\n    if any(key in i for key in fruitsandveggies.keys()):\n        print key # or print fruitsandveggies[key]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5486, "user_id": 4763963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9de2F.jpg?s=128&g=1", "display_name": "Mo Abdul-Hameed", "link": "https://stackoverflow.com/users/4763963/mo-abdul-hameed"}, "is_accepted": false, "score": 0, "last_activity_date": 1429126572, "creation_date": 1429126572, "answer_id": 29659270, "question_id": 29658702, "link": "https://stackoverflow.com/questions/29658702/python-dictionaries-any-way-to-check-for-similar-key/29659270#29659270", "title": "Python dictionaries: any way to check for &#39;similar&#39; key?", "body": "<p>I don't know if I got your question right, but the following is a way to check items for strings similar to the keys of the dictionary:</p>\n\n<pre><code>for key in fruitsandveggies:\n    if any(key in item for item in items):\n        qty = fruitsandveggies[key]\n        print(qty)\n</code></pre>\n"}], "owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1429126572, "creation_date": 1429124780, "last_edit_date": 1429125824, "question_id": 29658702, "link": "https://stackoverflow.com/questions/29658702/python-dictionaries-any-way-to-check-for-similar-key", "title": "Python dictionaries: any way to check for &#39;similar&#39; key?", "body": "<p>Lets say I had a dictionary with some key: value pairs. Instead of redefining the dictionary, is there any way to check if something is similar to some key in the dictionary?</p>\n\n<p>For Example </p>\n\n<pre><code>items = [ 'green apple', 'yellow pepper', 'green pepper', 'red pepper' ] \nfruitsandveggies = { 'apple': 2, 'banana': 5, 'pepper': 6}\nfor item in items:        \n    if item is similar to some key in fruitsandveggies ('green apple' is similar to 'apple',\n    set qty = value of that key \n    then print that qty\n</code></pre>\n\n<p>To clear up some questions, what I mean by similar is simply containing the 'key' in the string. So 'crab apple', 'green apple', 'washington apple' all contain 'apple' in them, which is one of the keys.</p>\n"}, {"tags": ["python", "pandas", "python-2.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1429124601, "post_id": 29658625, "comment_id": 47456893, "body": "Please provide a <a href=\"http://stackoverflow.com/help/mcve\">minimal example</a>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1429124643, "post_id": 29658625, "comment_id": 47456920, "body": "Well it&#39;s impossible for anyone to reproduce this unless you provide data and code, the error shouldn&#39;t happen but as I don&#39;t have your PC in front of me I can&#39;t tell you why this can happen"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1429124846, "post_id": 29658625, "comment_id": 47457040, "body": "If you want to convince me this is really going on, you need to add <code>print(x.columns)</code> <i>immediately before</i> the <code>y = x[&#39;count: revenue_sale&#39;].sum()</code> line.  :-)  It&#39;s a lot more likely that you&#39;re wrong that it&#39;s still there.  [PS: if you&#39;re not using the grouped ids for anything, there&#39;s no need for the first <code>groups</code> line.  You&#39;re finding them and then immediately reassigning <code>groups</code> to something else.]"}, {"owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1429125345, "post_id": 29658625, "comment_id": 47457340, "body": "@DSM i edited it and think i found the issue, it is breaking on the third function call which doesnt seem to have that column"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1429126028, "post_id": 29658625, "comment_id": 47457814, "body": "Well it&#39;s highly likely it doesn&#39;t exist in <code>all_m_rm</code>"}], "owner": {"reputation": 8345, "user_id": 1887261, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f1a23a45808b0429be1543ca726d522f?s=128&d=identicon&r=PG", "display_name": "meepl", "link": "https://stackoverflow.com/users/1887261/meepl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 540, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429125582, "creation_date": 1429124483, "last_edit_date": 1429125582, "question_id": 29658625, "link": "https://stackoverflow.com/questions/29658625/assigning-a-sum-to-a-variable-gives-a-keyerror-in-pandas", "title": "Assigning a sum to a variable gives a KeyError in Pandas", "body": "<p>I am trying to sum a column of a dataframe:</p>\n\n<p><code>print x['count: revenue_sale'].sum()</code> does not give an error, and gives the correct output.</p>\n\n<p>When I try <code>y = x['count: revenue_sale'].sum()</code> I get <code>KeyError: 'count: revenue_sale'</code></p>\n\n<pre><code>def dfCreator(x):\n\n    dcs = [col for col in x.columns if col.startswith(\"dc\")]\n    groups = x.groupby(dcs)[\"uid\"].unique()\n\n    groups = list(x.groupby(dcs, as_index=False))\n    summed = [i[1].sum() for i in groups]\n\n    x = pd.DataFrame(summed)\n\n    x['interaction_eis_rate'] = x['count: interaction_eis'] / x['dc(uid): interaction_eis']\n    x['interaction_eis_reply_rate'] = x['count: interaction_eis_reply'] / x['dc(uid): interaction_eis_reply']\n    x['interaction_interaction_match_rate'] = x['count: interaction_match'] / x['dc(uid): interaction_match']\n    x['interaction_single_message__rate'] = x['count: interaction_single_message_'] / x['dc(uid): interaction_single_message_']\n    x['interaction_single_message_1_rate'] = x['count: interaction_single_message_1'] / x['dc(uid): interaction_single_message_1']\n    x['interaction_yes_rate'] = x['count: interaction_yes'] / x['dc(uid): interaction_yes']\n\n\n    x = x.drop(x.columns[[0, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14]], axis=1)\n\n    print(x.columns)\n\n    y = x['count: revenue_sale'].sum()\n\n    return x\n\npre_purch_m = dfCreator(pre_purch_m) \npre_purch_f = dfCreator(pre_purch_f)\nall_m_rm = dfCreator(all_m_rm) \nall_f_rm = dfCreator(all_f_rm)\n</code></pre>\n\n<p>The output of print(x.colums) is </p>\n\n<pre><code>Index([u'count: revenue_sale', u'interaction_eis_rate', u'interaction_eis_reply_rate', u'interaction_interaction_match_rate', u'interaction_single_message__rate', u'interaction_single_message_1_rate', u'interaction_yes_rate'], dtype='object')\n6045\n\nIndex([u'count: revenue_sale', u'interaction_eis_rate', u'interaction_eis_reply_rate', u'interaction_interaction_match_rate', u'interaction_single_message__rate', u'interaction_single_message_1_rate', u'interaction_yes_rate'], dtype='object')\n1082\n\nIndex([u'dc(uid): interaction_eis', u'interaction_interaction_match_rate', u'interaction_single_message__rate', u'interaction_single_message_1_rate', u'interaction_yes_rate'], dtype='object')\n</code></pre>\n\n<p>I assume it is breaking on the third function call?</p>\n"}, {"tags": ["python", "mysql", "django", "orm", "django-orm"], "comments": [{"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 2, "creation_date": 1429135762, "post_id": 29658608, "comment_id": 47463173, "body": "Hard to say. Can you show us some more code, such as your model and your <code>get_or_create_by_uuid()</code> method?"}, {"owner": {"reputation": 931, "user_id": 3199122, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/77e6f3e28b815b358334dd39bccd24d2?s=128&d=identicon&r=PG", "display_name": "kronosapiens", "link": "https://stackoverflow.com/users/3199122/kronosapiens"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1429191597, "post_id": 29658608, "comment_id": 47490581, "body": "Ok, I recreated the issue using only Django ORM manager methods."}], "answers": [{"tags": [], "owner": {"reputation": 931, "user_id": 3199122, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/77e6f3e28b815b358334dd39bccd24d2?s=128&d=identicon&r=PG", "display_name": "kronosapiens", "link": "https://stackoverflow.com/users/3199122/kronosapiens"}, "is_accepted": false, "score": 1, "last_activity_date": 1429192830, "creation_date": 1429192830, "answer_id": 29677057, "question_id": 29658608, "link": "https://stackoverflow.com/questions/29658608/inconsistent-results-from-django-orm/29677057#29677057", "title": "Inconsistent results from Django ORM", "body": "<p>I was able to solve the issue by changing the <code>order_by('knz_updated_at)</code> clause to <code>order_by('knz_updated_at', 'id')</code>.</p>\n\n<p>It seems that, in cases where both objects were updated in the same second, the ORM can be ambiguous about what value it returns (since Django <code>DateTimeField</code> only stores resolution to the second). Adding the <code>id</code> to the sort ensures that in cases of identical update times, the object created more recently will be returned.</p>\n"}], "owner": {"reputation": 931, "user_id": 3199122, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/77e6f3e28b815b358334dd39bccd24d2?s=128&d=identicon&r=PG", "display_name": "kronosapiens", "link": "https://stackoverflow.com/users/3199122/kronosapiens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429192830, "creation_date": 1429124421, "last_edit_date": 1429191565, "question_id": 29658608, "link": "https://stackoverflow.com/questions/29658608/inconsistent-results-from-django-orm", "title": "Inconsistent results from Django ORM", "body": "<p>Can anyone shed some light on this unusual behavior? I'm debugging a Django manager, and it seems to be the case that the ORM is changing the results it returns for the same query. Look at the following series of commands (run in the debugger during a test):</p>\n\n<p>The first line is a command which should return the member associated with the most recent session tagged with a specific uuid. The two uuids at play here are <code>uuid1 = 1234cat</code> and <code>uuid2=9876dog</code>. You'll see how towards the end of this series of commands, the exact same command begins to return a different value. No data was changed, and I entered nothing except the commands you see here.</p>\n\n<pre><code>ipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last().member\n&lt;Member: (681)  , INACTIVE&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at')\n[&lt;Session: (681)  , INACTIVE, 9876dog&gt;, &lt;Session: (680)  , INACTIVE, 9876dog&gt;]\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (681)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (681)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (681)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (681)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (681)  , INACTIVE, 9876dog&gt;\n\n# RESULT CHANGES\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (680)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last()\n&lt;Session: (680)  , INACTIVE, 9876dog&gt;\n\nipdb&gt; Session.objects.filter(uuid=uuid2).order_by('knz_updated_at').last().member\n&lt;Member: (680)  , INACTIVE&gt;\n</code></pre>\n\n<p>What's also bizarre is that this error does not occur when running the test individually, or when running test for just the <code>member</code> app. Only when I run the test suite for the entire project does this problem occur.</p>\n\n<p>We're using MySQL as the database, if that helps.</p>\n"}]