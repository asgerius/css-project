[{"tags": ["python", "object", "random"], "comments": [{"owner": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "edited": false, "score": 0, "creation_date": 1448496313, "post_id": 33928520, "comment_id": 55618062, "body": "Well for one, I don&#39;t believe that&#39;s syntactically-valid Python (def_init_?). Second, what do you mean by &quot;it won&#39;t output&quot;? Do you mean that it won&#39;t print to the screen? But there are no calls to <code>print</code> anywhere..."}, {"owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "reply_to_user": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "edited": false, "score": 0, "creation_date": 1448496411, "post_id": 33928520, "comment_id": 55618082, "body": "despite all things that mentioned @jme, random float random.uniform <a href=\"https://docs.python.org/2/library/random.html#random.uniform\" rel=\"nofollow noreferrer\">docs.python.org/2/library/random.html#random.uniform</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5473706, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2b00f560b40e280e615361cd2bfb068b?s=128&d=identicon&r=PG&f=1", "display_name": "user5473706", "link": "https://stackoverflow.com/users/5473706/user5473706"}, "edited": false, "score": 0, "creation_date": 1448497622, "post_id": 33928622, "comment_id": 55618374, "body": "If I were to want to write a function called makePack() that takes an integer parameter, n, and returns a list of n Dog objects, would I use a list correct like this?   for count in makeFlock(n):     n = Duck()     n.attr = count     Duck.append(n)"}], "tags": [], "owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "is_accepted": true, "score": 0, "last_activity_date": 1448497130, "last_edit_date": 1448497130, "creation_date": 1448496724, "answer_id": 33928622, "question_id": 33928520, "link": "https://stackoverflow.com/questions/33928520/object-classes-and-random-variables/33928622#33928622", "title": "Object Classes and Random Variables", "body": "<p>you are explicitly setting the height and weight of each dog if you pass it in as parameters like that. If you want to initialize with random values, don't bother with passing in any variables:</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; class dog():\n    def __init__(self):\n        self.height = random.uniform(1.0,100.0)\n        self.weight = random.uniform(.7,20.0)\n\n&gt;&gt;&gt; dog1 = dog()\n&gt;&gt;&gt; dog1.height\n79.21247401443837\n&gt;&gt;&gt; dog1.weight\n16.713010614190193\n&gt;&gt;&gt; dog2 = dog()\n&gt;&gt;&gt; dog2.height\n48.90049233226392\n</code></pre>\n\n<p>however, if you want to be allowed to also explicitly state height and weight as needed, you can have default arguments:</p>\n\n<pre><code>&gt;&gt;&gt; class dog():\n    def __init__(self,height = None, weight = None):\n        self.height = height if height else random.uniform(1.0,100.0)\n        self.weight = weight if weight else random.uniform(.7,20.0)\n\n&gt;&gt;&gt; dog().height\n78.10866941943496\n&gt;&gt;&gt; dog().height\n50.715307081419276\n&gt;&gt;&gt; dog(20).height\n20\n</code></pre>\n\n<p>btw if you input <code>0</code> as your height or weight, the init will evaluate that as false and so will pick a random float and not set it to 0. I left it like this because I assumed you would never want a dog with 0 height or weight (though one should not discriminate on a dog's appearance).</p>\n"}], "owner": {"reputation": 29, "user_id": 5473706, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2b00f560b40e280e615361cd2bfb068b?s=128&d=identicon&r=PG&f=1", "display_name": "user5473706", "link": "https://stackoverflow.com/users/5473706/user5473706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 33928622, "answer_count": 1, "score": 0, "last_activity_date": 1448497130, "creation_date": 1448495984, "question_id": 33928520, "link": "https://stackoverflow.com/questions/33928520/object-classes-and-random-variables", "title": "Object Classes and Random Variables", "body": "<p>I am writing a Dog class such that each dog object created contains height and weight field variables. Each of these should be initialized randomly for every dog. Height should be initialized to a random float in the range [1.00,100.0]cm. Weight should be initialized randomly in the range [0.7,20]kg. I have this, but it won't output. What am I doing worng </p>\n\n<p>class Dog:\n    import random</p>\n\n<pre><code>def_init_(self,heihgt,weight):\n    self.height = height\n    self.weight = weight\n\n    r = random.random()\n    a = dog(0.0,101.0)\n    b = dog(0.6,21.0)\n</code></pre>\n"}, {"tags": ["python", "string", "random", "easygui"], "comments": [{"owner": {"reputation": 818, "user_id": 5374625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kolvP.png?s=128&g=1", "display_name": "Knells", "link": "https://stackoverflow.com/users/5374625/knells"}, "edited": false, "score": 0, "creation_date": 1448496057, "post_id": 33928501, "comment_id": 55617991, "body": "Why is it if <code>PlayerAnswer ==(&quot;+Figure1+&quot; + &quot;+Figure2+&quot;):</code> and not <code>if PlayerAnswer ==(Figure1 + Figure2):</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3917838"}, "edited": false, "score": 0, "creation_date": 1448500512, "post_id": 33928501, "comment_id": 55619072, "body": "Ummm.... if &quot;Addition&quot;? That is syntactically incorrect."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3917838"}, "edited": false, "score": 0, "creation_date": 1448500558, "post_id": 33928501, "comment_id": 55619086, "body": "There are a lot of syntax errors, actually."}], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 5063263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b9dadb72e3e03e28dc7f64b43353f1e5?s=128&d=identicon&r=PG&f=1", "display_name": "ivan", "link": "https://stackoverflow.com/users/5063263/ivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1448497655, "last_edit_date": 1448497655, "creation_date": 1448496135, "answer_id": 33928545, "question_id": 33928501, "link": "https://stackoverflow.com/questions/33928501/add-two-random-numbers-together/33928545#33928545", "title": "Add two random numbers together?", "body": "<p>Try something like this...</p>\n\n<pre><code>PlayerAnswer ==str(Figure1+Figure2)\n</code></pre>\n\n<p>This only works if users input is taken as a string if its used as a number you should do this instead</p>\n\n<pre><code>PlayerAnswer = Figure1+Figure2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "is_accepted": true, "score": 1, "last_activity_date": 1448496146, "creation_date": 1448496146, "answer_id": 33928548, "question_id": 33928501, "link": "https://stackoverflow.com/questions/33928501/add-two-random-numbers-together/33928548#33928548", "title": "Add two random numbers together?", "body": "<p>This line</p>\n\n<pre><code>if PlayerAnswer ==(\"+Figure1+\" + \"+Figure2+\"):\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>if int(PlayerAnswer) == Figure1 + Figure2:\n</code></pre>\n\n<hr>\n\n<p>The indentation in the question is a bit messed up, so I went ahead and fixed it because I wasn't sure if that contributed to the problem.</p>\n\n<pre><code>if \"Addition\":\n    easygui.msgbox (\"Please enter the correct answer to earn a point, there are 10 questions in this quiz\")\n\n    Figure1 = random.randrange(0,11)\n    Figure2 = random.randrange(0,11)\n\n    PlayerAnswer = easygui.enterbox (\"What is \" +str(Figure1)+ \" + \" +str(Figure2)+ \"?\")\n\n    if int(PlayerAnswer) == Figure1 + Figure2:\n        AdditionAnswers += 1\n        easygui.msgbox (\"Correct! Your score is \"+str(AdditionAnswers))\n    else:\n        AdditionAnswers += 0\n        IncorrectAnswers += 1\n\n    easygui.msgbox (\"Sorry, incorrect! Your score is still \"+str(AdditionAnswers))\n    easygui.msgbox (\"You scored \" +str(AdditionAnswers)+ \" out of 10\")\n</code></pre>\n\n<p>I also took out the for loop as it's not needed.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 9422101, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vpwslFsCFPQ/AAAAAAAAAAI/AAAAAAAAAF0/teIE4IcjpBs/photo.jpg?sz=128", "display_name": "Haoyang Song", "link": "https://stackoverflow.com/users/9422101/haoyang-song"}, "is_accepted": false, "score": 1, "last_activity_date": 1542163729, "last_edit_date": 1542163729, "creation_date": 1519875975, "answer_id": 49042308, "question_id": 33928501, "link": "https://stackoverflow.com/questions/33928501/add-two-random-numbers-together/49042308#49042308", "title": "Add two random numbers together?", "body": "<p>well you can try my updated version</p>\n\n<pre><code>import easygui\nimport random\n\nAdditionAnswers = 0\nIncorrectAnswers = 0\nwhile True:\n    quest = 10 - AdditionAnswers\n    quest = str(quest)\nif \"Addition\":\n    easygui.msgbox (\"Please enter the correct answer to earn a point, there are \" + quest + \" questions in this quiz(type quit to quit)\")\n    a = random.randint(1, 20)\n    b = random.randint(1, 20)\n    ab = a + b\n    PlayerAnswer = easygui.enterbox (\"What is \" + str(a) + \" + \" + str(b) + \"?\")\n    ab = str(ab)\nif PlayerAnswer == ab:\n    AdditionAnswers += 1\n    easygui.msgbox (\"Correct! Your score is \"+str(AdditionAnswers))\nelif PlayerAnswer == 'quit':\n    break\nelse:\n    AdditionAnswers += 0\n    IncorrectAnswers += 1\n    easygui.msgbox (\"Sorry, incorrect! Your score is still \"+str(AdditionAnswers))\n    easygui.msgbox (\"You scored \" +str(AdditionAnswers)+ \" out of 10\")\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4267876, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075345119165303/picture?type=large", "display_name": "Char", "link": "https://stackoverflow.com/users/4267876/char"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2299, "favorite_count": 0, "accepted_answer_id": 33928548, "answer_count": 3, "score": -3, "last_activity_date": 1542163729, "creation_date": 1448495885, "question_id": 33928501, "link": "https://stackoverflow.com/questions/33928501/add-two-random-numbers-together", "title": "Add two random numbers together?", "body": "<p>I am trying to figure out how to add two random numbers together. I am making a maths game and I am importing random numbers to make up the equation, but because they are random I will need the programme to calculate the answer and give the player a correct or incorrect score. Here is my coding so far:</p>\n\n<pre><code>if \"Addition\":\n    easygui.msgbox (\"Please enter the correct answer to earn a point, there are 10 questions in this quiz\")\nfor number in range(0,20):\n    Figure1 = random.randrange(0,11)\n    Figure2 = random.randrange(0,11)\nPlayerAnswer = easygui.enterbox (\"What is \" +str(Figure1)+ \" + \" +str(Figure2)+ \"?\")\n\nif PlayerAnswer ==(\"+Figure1+\" + \"+Figure2+\"):\n    AdditionAnswers += 1\n    easygui.msgbox (\"Correct! Your score is \"+str(AdditionAnswers))\nelse:\n    AdditionAnswers += 0\n    IncorrectAnswers += 1\neasygui.msgbox (\"Sorry, incorrect! Your score is still \"+str(AdditionAnswers))\neasygui.msgbox (\"You scored \" +str(AdditionAnswers)+ \" out of 10\")\n</code></pre>\n\n<p>I have tried turning the Figure1 and Figure2 into <code>(+str(Figure1)+ \" + \" +str(Figure2)+\"):</code> in the PlayerAnswer line, but that does not calculate it either \ud83d\ude2d\nAny help trying to figure this out will be really appreciated!! \u2764\ufe0f\u200d</p>\n"}, {"tags": ["python", "qt", "audio", "pyqt", "pyglet"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1448499356, "post_id": 33928486, "comment_id": 55618767, "body": "With PyQt5 there is <a href=\"http://doc.qt.io/qt-5/qmediaplayer.html\" rel=\"nofollow noreferrer\">QMediaPlayer</a>."}, {"owner": {"reputation": 527, "user_id": 1915247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IcXRo.jpg?s=128&g=1", "display_name": "Manny42", "link": "https://stackoverflow.com/users/1915247/manny42"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1448560847, "post_id": 33928486, "comment_id": 55648429, "body": "Smart idea, done this, took me the whole day to transfer from Qt4 but it worked. Thanks!"}], "owner": {"reputation": 527, "user_id": 1915247, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IcXRo.jpg?s=128&g=1", "display_name": "Manny42", "link": "https://stackoverflow.com/users/1915247/manny42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448495785, "creation_date": 1448495785, "question_id": 33928486, "link": "https://stackoverflow.com/questions/33928486/get-pyglet-event-in-pyqt-program", "title": "Get pyglet event in PyQt program", "body": "<p>I want to implement a music playlist like feature into my Qt program. And after some research I settled for Pyglet to read my music. For two reasons, the first one being it's easy to load differently encoded files and also because you pause and queue songs with the <code>media.Player</code> object.</p>\n\n<p>My problem is that now I would like to know when a music or what's queued in the <code>Player</code> ends, to ensure that music keeps playing if it needs to.</p>\n\n<p>So far my code is like this to create the <code>Player</code> and get it to play music:</p>\n\n<pre><code>    self.player = pyglet.media.Player()\n\n    self.player.queue(media.load(self.listening.pop(0).getPath()))\n    self.playing = True\n    self.player.play()\n</code></pre>\n\n<p>I know that <code>Player</code> has <code>on_eos</code> <code>on_player_eos</code> and <code>on_group_eos</code> events attached to it, the problem is that I don't have a pyglet app launched so I think I can't handle those events.</p>\n\n<p>I would like to know how to do if it's possible, and if it's not (or way too complicated like threadpool for medias) is there an other library that can handle at least mp3 and wav reading with the possiblity to stop the listening and start back at the same point later.</p>\n\n<p>For the record I need this solution to be easily deployable on a Window machine, because I saw <code>musicplayer</code> and could not get it to work on my computer</p>\n"}, {"tags": ["python", "python-import", "python-module"], "answers": [{"tags": [], "owner": {"reputation": 2090, "user_id": 884986, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1842d81fb2949ec808a79045de2e21a3?s=128&d=identicon&r=PG", "display_name": "iAdjunct", "link": "https://stackoverflow.com/users/884986/iadjunct"}, "is_accepted": true, "score": 1, "last_activity_date": 1448495918, "creation_date": 1448495918, "answer_id": 33928509, "question_id": 33928484, "link": "https://stackoverflow.com/questions/33928484/how-to-run-a-python-program-in-one-folder-and-import-and-run-a-python-program-fr/33928509#33928509", "title": "How to run a python program in one folder and import and run a python program from another folder", "body": "<p>Look at the environmental variable <code>PYTHONPATH</code> or <code>sys.path</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 2438084, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kl8dc.jpg?s=128&g=1", "display_name": "Simon Jeal", "link": "https://stackoverflow.com/users/2438084/simon-jeal"}, "edited": false, "score": 0, "creation_date": 1448498177, "post_id": 33928568, "comment_id": 55618500, "body": "In foldertwo a scripttwo.pyo file is created after running. why is this, what is it for and can it be deleted after running the script?"}, {"owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "reply_to_user": {"reputation": 133, "user_id": 2438084, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kl8dc.jpg?s=128&g=1", "display_name": "Simon Jeal", "link": "https://stackoverflow.com/users/2438084/simon-jeal"}, "edited": false, "score": 0, "creation_date": 1448498282, "post_id": 33928568, "comment_id": 55618528, "body": "@SimonJeal: I don&#39;t typically see <code>.pyo</code> files, so I&#39;m not totally sure why that would be. <a href=\"http://stackoverflow.com/q/8822335/1473772\">This question</a> should help."}, {"owner": {"reputation": 133, "user_id": 2438084, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kl8dc.jpg?s=128&g=1", "display_name": "Simon Jeal", "link": "https://stackoverflow.com/users/2438084/simon-jeal"}, "edited": false, "score": 0, "creation_date": 1448498428, "post_id": 33928568, "comment_id": 55618565, "body": "Thanks I just read that. Im going to go with I can delete it, as my scripttwo.py will always change. thanks"}], "tags": [], "owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "is_accepted": false, "score": 0, "last_activity_date": 1448496307, "creation_date": 1448496307, "answer_id": 33928568, "question_id": 33928484, "link": "https://stackoverflow.com/questions/33928484/how-to-run-a-python-program-in-one-folder-and-import-and-run-a-python-program-fr/33928568#33928568", "title": "How to run a python program in one folder and import and run a python program from another folder", "body": "<p>This is how I did it in the past:</p>\n\n<pre><code>import os\nos.chdir('../foldertwo')\nimport sys\nsys.path.append(os.getcwd())\n\nimport scripttwo\n</code></pre>\n\n<p>This adds the parent folder to the <code>path</code> variable, which holds all the places that Python looks for module when you use <code>import</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 2438084, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kl8dc.jpg?s=128&g=1", "display_name": "Simon Jeal", "link": "https://stackoverflow.com/users/2438084/simon-jeal"}, "is_accepted": false, "score": -1, "last_activity_date": 1448497329, "creation_date": 1448497329, "answer_id": 33928711, "question_id": 33928484, "link": "https://stackoverflow.com/questions/33928484/how-to-run-a-python-program-in-one-folder-and-import-and-run-a-python-program-fr/33928711#33928711", "title": "How to run a python program in one folder and import and run a python program from another folder", "body": "<p>Thanks Adjuct</p>\n\n<p>I used</p>\n\n<pre><code>import sys\n\nsecondscript = path/to/second/script\nsys.path.append(secondscript)\n\nimport scripttwo\n</code></pre>\n\n<p>Working Solved. </p>\n\n<p>By using sys.path.append() it tells python that there is another place to look for a script. So when you </p>\n\n<pre><code>import scripttwo \n</code></pre>\n\n<p>it knows to look in the appended location also.\nThank you for the advice</p>\n"}], "owner": {"reputation": 133, "user_id": 2438084, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/kl8dc.jpg?s=128&g=1", "display_name": "Simon Jeal", "link": "https://stackoverflow.com/users/2438084/simon-jeal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "closed_date": 1448574862, "accepted_answer_id": 33928509, "answer_count": 3, "score": 0, "last_activity_date": 1448497329, "creation_date": 1448495779, "question_id": 33928484, "link": "https://stackoverflow.com/questions/33928484/how-to-run-a-python-program-in-one-folder-and-import-and-run-a-python-program-fr", "closed_reason": "Duplicate", "title": "How to run a python program in one folder and import and run a python program from another folder", "body": "<p>Good evening.</p>\n\n<p>I have scriptone.py in folderone and scripttwo.py in foldertwo. </p>\n\n<p>How do I tell scriptone.py to run scripttwo.py from foldertwo</p>\n\n<p>If both scriptone.py and scripttwo.py are in the same folder I can run scripttwo.py with</p>\n\n<pre><code>import scripttwo\n</code></pre>\n\n<p>But I would really like to run scripttwo.py from foldertwo</p>\n\n<p>Thankyou.</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "numpy", "vectorization"], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 0, "creation_date": 1448499079, "post_id": 33928529, "comment_id": 55618698, "body": "What about if the index is switched to <code>f[s,:,:]</code>?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 0, "creation_date": 1448501626, "post_id": 33928529, "comment_id": 55619329, "body": "@nluigi: Add some extra length-1 axes to <code>ex</code> to line things up: <code>np.sum(ex[:, np.newaxis, np.newaxis]*f, 0)</code>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1448496026, "creation_date": 1448496026, "answer_id": 33928529, "question_id": 33928471, "link": "https://stackoverflow.com/questions/33928471/multiply-accumulate-using-numpy/33928529#33928529", "title": "multiply-accumulate using numpy", "body": "<pre><code>momx = np.sum(ex*f, 2)\n</code></pre>\n\n<p>There are also a few other tools you could use, such as <code>einsum</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 0, "creation_date": 1448535472, "post_id": 33933687, "comment_id": 55633240, "body": "Can you roughly indicate what the performance of the <code>reshape</code> and <code>einsum</code> methods are compared to my original <code>for-loop</code>? Currently i am experiencing that the vectorized code is actually slightly slower than my original <code>for-loop</code>."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 0, "creation_date": 1448535532, "post_id": 33933687, "comment_id": 55633285, "body": "@nluigi What are the shapes of the input arrays that you are using?"}, {"owner": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 0, "creation_date": 1448535837, "post_id": 33933687, "comment_id": 55633494, "body": "<code>f.shape</code> is currently [9,128,128], but i will go to larger array e.g. [9,512,512]."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "edited": false, "score": 1, "creation_date": 1448536612, "post_id": 33933687, "comment_id": 55633965, "body": "@nluigi Not sure about your benchmarking procedure, but I have just added mine based on <a href=\"https://docs.python.org/2/library/timeit.html\" rel=\"nofollow noreferrer\"><code>timeit</code></a>. And the vectorized approaches are winning by huge margins!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1448536580, "last_edit_date": 1448536580, "creation_date": 1448526310, "answer_id": 33933687, "question_id": 33928471, "link": "https://stackoverflow.com/questions/33928471/multiply-accumulate-using-numpy/33933687#33933687", "title": "multiply-accumulate using numpy", "body": "<p>For your original question, you could have two approaches, one with <code>matrix-multiplication</code> using <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.dot.html\" rel=\"nofollow\"><code>ndarray.dot</code></a> and another using <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow\"><code>np.einsum</code></a>, like so -</p>\n\n<pre><code>momx = f.reshape(-1,f.shape[2]).dot(ex).reshape(f.shape[:2])\nmomx = np.einsum('ijk,k-&gt;ij',f,ex)\n</code></pre>\n\n<p>You can use similar strategies to find <code>momy</code>.</p>\n\n<hr>\n\n<p>For a modified case, where you might want to use <code>f[s,:,:]</code> instead in places where you had <code>f[:,:,s]</code>, the modified solutions would be -</p>\n\n<pre><code>momx = ex.dot(f.reshape(f.shape[0],-1)).reshape(f.shape[1:])\nmomx = np.einsum('ijk,i-&gt;jk',f,ex)\n</code></pre>\n\n<hr>\n\n<p>Runtime tests and verify outputs -</p>\n\n<pre><code>In [573]: def org_app(f,ex):\n     ...:     ns = f.shape[2]\n     ...:     momx = np.zeros(f.shape[:2])\n     ...:     for s in range(ns):\n     ...:         momx += ex[s]*f[:,:,s]\n     ...:     return momx\n     ...: \n\nIn [574]: f = np.random.rand(9,512,512)\n     ...: ex = np.random.rand(f.shape[2])\n     ...: \n\nIn [575]: np.allclose(org_app(f,ex),f.reshape(-1,f.shape[2]).dot(ex).reshape(f.shape[:2]))\nOut[575]: True\n\nIn [576]: np.allclose(org_app(f,ex),np.einsum('ijk,k-&gt;ij',f,ex))\nOut[576]: True\n\nIn [581]: %timeit org_app(f,ex)\n10 loops, best of 3: 44.8 ms per loop\n\nIn [582]: %timeit f.reshape(-1,f.shape[2]).dot(ex).reshape(f.shape[:2])\n100 loops, best of 3: 4.8 ms per loop\n\nIn [583]: %timeit np.einsum('ijk,k-&gt;ij',f,ex)\n100 loops, best of 3: 3.84 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 1130, "user_id": 1271603, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5927ef611ebb896532c37b7b54f7ebe0?s=128&d=identicon&r=PG", "display_name": "nluigi", "link": "https://stackoverflow.com/users/1271603/nluigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "accepted_answer_id": 33933687, "answer_count": 2, "score": 2, "last_activity_date": 1453965487, "creation_date": 1448495662, "last_edit_date": 1453965487, "question_id": 33928471, "link": "https://stackoverflow.com/questions/33928471/multiply-accumulate-using-numpy", "title": "multiply-accumulate using numpy", "body": "<p>I have the following loop in python3 with numpy array:</p>\n\n<pre><code>for s in range(ns):\n    dens += f[:,:,s]\n    momx += ex[s]*f[:,:,s]\n    momy += ey[s]*f[:,:,s]\n</code></pre>\n\n<p>i would prefer to vectorize this for-loop. The first line could be rewritten simply as:</p>\n\n<pre><code>dens = np.sum(f,2)\n</code></pre>\n\n<p>The last two lines are a multiply-accumulate operation but i don't know how to implement this in a vectorized way. I have been looking at <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.ufunc.accumulate.html\" rel=\"nofollow\"><code>np.ufunc.accumulate</code></a> but this seems to do something else than i want. Who has a good idea how to implement this?</p>\n"}, {"tags": ["python", "csv", "file-io"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1448495447, "post_id": 33928399, "comment_id": 55617817, "body": "better to tokenize to a <code>dict</code> and use the key&#39;s as your names and the values as your columns"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448495479, "post_id": 33928399, "comment_id": 55617824, "body": "Is it important that these be variables or should they be members of a <code>dict</code>? Do you know the names of the variables before hand?"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448495571, "post_id": 33928399, "comment_id": 55617850, "body": "@tdelaney it would only make sense that all the variables on the same column will have the same variable name and different values - doesn&#39;t it ?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1448495608, "post_id": 33928399, "comment_id": 55617867, "body": "@alfasin sure, but that has nothing to do with my question."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448495667, "post_id": 33928399, "comment_id": 55617888, "body": "Its common for csv files to have a header line that is then used as a column name. Is that the case here?"}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448495742, "post_id": 33928399, "comment_id": 55617918, "body": "@tdelaney no column names in this csv file, sorry!"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448496002, "post_id": 33928399, "comment_id": 55617980, "body": "No need to be sorry, I&#39;m just trying to figure out where the variable name come from."}], "answers": [{"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1448495696, "post_id": 33928438, "comment_id": 55617901, "body": "Thank you, assuming the first 2 columns in the file is perfectly fine. question, if I want to access a specific element in the column, can I do something like row[1][2]?"}, {"owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "reply_to_user": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1448495791, "post_id": 33928438, "comment_id": 55617929, "body": "Actually, you can&#39;t. <code>row</code> is a one-dimensional list, so all you can do is <code>row[1]</code>. Now, you <i>can</i> do something like <code>csv_dic[4][1]</code>, where <code>csv_dic[4]</code> is the fifth row."}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1448497226, "post_id": 33928438, "comment_id": 55618282, "body": "So csv_dic[4][1] will give me the 5th element in the 2nd column? As in, column 2, row 5?"}, {"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1448497658, "post_id": 33928438, "comment_id": 55618386, "body": "Ok, so what exactly would something like peaks[1] and peaks[2] hold?"}, {"owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "reply_to_user": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 1, "creation_date": 1448497781, "post_id": 33928438, "comment_id": 55618409, "body": "<code>peaks[1]</code> will have <code>csv_dic[1][1]</code>. The second column of the second row. Likewise, <code>peaks[2]</code> will have <code>csv_dic[2][1]</code>. <code>frames</code> is for the first column, so <code>frames[2]</code> is <code>csv_dic[2][0]</code>."}], "tags": [], "owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "is_accepted": true, "score": 3, "last_activity_date": 1448495511, "creation_date": 1448495511, "answer_id": 33928438, "question_id": 33928399, "link": "https://stackoverflow.com/questions/33928399/python-reading-in-a-csv-file-and-saving-columns-as-variables/33928438#33928438", "title": "Python: reading in a csv file and saving columns as variables", "body": "<p>Here's one way to do it:</p>\n\n<pre><code>frames = []\npeaks = []\n\nfor row in csv_dic:\n    frames.append(row[0])\n    peaks.append(row[1])\n    for column in row:\n        print column, \"***\",   #I can print out the column\n    print\n</code></pre>\n\n<p>Note that I am making one big assumption: that the two columns you want are exactly the first two columns of the CSV file. But this should do what you want. <code>row[0]</code> is the value in the first column of the row, and likewise, <code>row[1]</code> is the second column.</p>\n\n<p>Now, if you want to do an unknown number of columns, you'll have to use another method (like a dictionary, perhaps).</p>\n"}, {"comments": [{"owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "edited": false, "score": 0, "creation_date": 1448497184, "post_id": 33928515, "comment_id": 55618274, "body": "What if I want to store all the elements (in a large number of rows) for the first two columns?"}], "tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": false, "score": 1, "last_activity_date": 1448495968, "creation_date": 1448495968, "answer_id": 33928515, "question_id": 33928399, "link": "https://stackoverflow.com/questions/33928399/python-reading-in-a-csv-file-and-saving-columns-as-variables/33928515#33928515", "title": "Python: reading in a csv file and saving columns as variables", "body": "<p>Simple to do with the <code>CSV</code> module which you are already using. Here is a dictionary method and an array method.</p>\n\n<p><strong>dictionary</strong></p>\n\n<pre><code>import csv\nvar1 = \"frames\"\nvar2 = \"peaks\"\ncsv_dic={var1:[], var2:[]}\ncsvFile = csv.reader(open('test.csv', 'rb'))\nfor row in csvFile:\n  csv_dic[var1].append(row[0])\n  csv_dic[var2].append(row[1])\n</code></pre>\n\n<p>again assuming that you only are worried about first two elements of each row.</p>\n\n<p>Here is a method that will get you everything into your array, here called <code>data</code>. This is relatively fast for large files.</p>\n\n<p><strong>array</strong></p>\n\n<pre><code>import csv\nwith open('test.csv','rb') as file:\n    rows = csv.reader(file, \n                      delimiter = ',', \n                      quotechar = '\"')\n    data = [data for data in rows]\n</code></pre>\n"}], "owner": {"reputation": 793, "user_id": 3295674, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tfezY.jpg?s=128&g=1", "display_name": "user3295674", "link": "https://stackoverflow.com/users/3295674/user3295674"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7318, "favorite_count": 1, "accepted_answer_id": 33928438, "answer_count": 2, "score": 1, "last_activity_date": 1448495968, "creation_date": 1448495221, "question_id": 33928399, "link": "https://stackoverflow.com/questions/33928399/python-reading-in-a-csv-file-and-saving-columns-as-variables", "title": "Python: reading in a csv file and saving columns as variables", "body": "<p>I'm wanting to read in a csv and save the first two columns as variables.\nThis is what I have so far:</p>\n\n<pre><code>import sys, os, subprocess, shutil, time, string #these are for other things in the program :)\nimport csv\n\ncsvfile = list(csv.reader(open('test.csv')))   #read in the csv file\n\ncsv_dic = []\n\nfor row in csvfile:\n        csv_dic.append(row);\n\nfor row in csv_dic:\n       for column in row:\n             print column, \"***\",   #I can print out the column\n       print\n</code></pre>\n\n<p>I can print out columns, but would like to have it so I can have different variables for column 'arrays'.</p>\n\n<p>For example, I am wanting to store the first column as 'frames' and the second as 'peaks', so to <strong>have it so, for example, frames[2] holds the second value in the first column</strong> and I can reference it.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "pandas", "time-series"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1448519576, "post_id": 33928362, "comment_id": 55624239, "body": "I think problem is with duplicity in index - you can check it by <code>newindex.index.get_duplicates()</code>"}, {"owner": {"reputation": 5898, "user_id": 817659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dc6960319324ecebe786580dfca13f07?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/817659/ivan"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1448638601, "post_id": 33928362, "comment_id": 55678760, "body": "Thanks. That actually helped."}], "owner": {"reputation": 5898, "user_id": 817659, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dc6960319324ecebe786580dfca13f07?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/817659/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448495009, "creation_date": 1448495009, "question_id": 33928362, "link": "https://stackoverflow.com/questions/33928362/pandas-dataframes-reindex-on-the-union-of-their-respective-datetime-timestamp-in", "title": "Pandas dataframes reindex on the union of their respective datetime timestamp indexes", "body": "<p>I have two dataframes. There are two identical columns in each dataframe. I can plot it fine, with the datetimes shown correctly as the index on the x-axis.</p>\n\n<p>The index <code>'TimeStamp'</code> for dfEURUSD is different than the dataframe for dfGBPUSD. I am trying to get them to be the same length and resample the missing data so that the two timeseries are the same length. But I run into trouble:</p>\n\n<pre><code>def union(a, b):\n    \"\"\" return the union of two lists \"\"\"\n    return list(set(a) | set(b))\n\n\nprint(len(dfEURUSD.index))\nprint(len(dfGBPUSD.index))\nnewindex = union(dfEURUSD.index, dfGBPUSD.index)\nnewindex = sorted(set(newindex))\nprint(len(newindex))\n\nprint(newindex)\n</code></pre>\n\n<p>This gives this output</p>\n\n<pre><code>151527\n113903\n264664\n\n[Timestamp('2015-11-12 17:49:15.512000'), Timestamp('2015-11-12 17:49:15.523000'), Timestamp('2015-11-12 17:49:15.540000'), Timestamp('2015-11-12 17:49:15.727000'), Timestamp('2015-11-12 17:49:16.059000'), Timestamp('2015-11-12 17:49:16.301000'), etc...\n</code></pre>\n\n<p>If I try to reindex with</p>\n\n<pre><code>dfEURUSD.reindex(newindex, method='ffill')\ndfGBPUSD.reindex(newindex, method='ffill')\n</code></pre>\n\n<p>Give the error:</p>\n\n<pre><code>File \"/home/idf/anaconda3/lib/python3.5/site-packages/pandas/core/index.py\", line 2133, in reindex\n    raise ValueError(\"cannot reindex a non-unique index \"\n\nValueError: cannot reindex a non-unique index with a method or limit\n</code></pre>\n\n<p>Not sure what I am doing wrong?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "is_accepted": false, "score": 4, "last_activity_date": 1448495079, "creation_date": 1448495079, "answer_id": 33928379, "question_id": 33928351, "link": "https://stackoverflow.com/questions/33928351/confused-with-output-from-if-condition-within-the-while-loop/33928379#33928379", "title": "Confused with output from if condition within the while loop", "body": "<p>Your <code>else</code> needs to test that the value isn't <code>5</code>.</p>\n\n<pre><code>else:\n</code></pre>\n\n<p>should be something like</p>\n\n<pre><code>elif guess &lt; 5:\n</code></pre>\n\n<p>Because <code>5</code> isn't greater than <code>5</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 3010791, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3415248935f446d9bd0d63555068690?s=128&d=identicon&r=PG&f=1", "display_name": "user3010791", "link": "https://stackoverflow.com/users/3010791/user3010791"}, "edited": false, "score": 0, "creation_date": 1448495465, "post_id": 33928404, "comment_id": 55617820, "body": "I know this solution But I want explation for why code doesn&#39;t consider while condition != 5 and else condition together to print only  &quot; You won &quot;"}, {"owner": {"reputation": 56, "user_id": 5604965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1101215766564526/picture?type=large", "display_name": "Stef D&#39;haeseleer", "link": "https://stackoverflow.com/users/5604965/stef-dhaeseleer"}, "reply_to_user": {"reputation": 49, "user_id": 3010791, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3415248935f446d9bd0d63555068690?s=128&d=identicon&r=PG&f=1", "display_name": "user3010791", "link": "https://stackoverflow.com/users/3010791/user3010791"}, "edited": false, "score": 1, "creation_date": 1448495720, "post_id": 33928404, "comment_id": 55617909, "body": "The condition for the while loop (the one you are stating) is only evaluated after the whole loop to check if a new loop has to be started. So it will only be evaluated after the &#39;else&#39; clause and not in between the &#39;if&#39; and the &#39;else&#39;. Does that clear it up for you?"}, {"owner": {"reputation": 56, "user_id": 5604965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1101215766564526/picture?type=large", "display_name": "Stef D&#39;haeseleer", "link": "https://stackoverflow.com/users/5604965/stef-dhaeseleer"}, "reply_to_user": {"reputation": 49, "user_id": 3010791, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3415248935f446d9bd0d63555068690?s=128&d=identicon&r=PG&f=1", "display_name": "user3010791", "link": "https://stackoverflow.com/users/3010791/user3010791"}, "edited": false, "score": 1, "creation_date": 1448496655, "post_id": 33928404, "comment_id": 55618140, "body": "Everything in the body of the while loop (all code with some space on the left) will run every time the while loop is called. So in the beginning of the while loop, the user can input a value for &#39;guess&#39;, the loop goes to the &#39;if&#39;, the loop goes to the &#39;else&#39; and then checks the condition ( != 5). If guess is at that moment equal to 5, it will end the loop and go to the print statement (you won). If guess is not 5 (for example 4) the loop will start again and the user will be able to give a new input for &#39;guess&#39;. This process is then repeated untill the condition is satisfied and the loop ends"}], "tags": [], "owner": {"reputation": 56, "user_id": 5604965, "user_type": "registered", "profile_image": "https://graph.facebook.com/1101215766564526/picture?type=large", "display_name": "Stef D&#39;haeseleer", "link": "https://stackoverflow.com/users/5604965/stef-dhaeseleer"}, "is_accepted": false, "score": 2, "last_activity_date": 1448495267, "creation_date": 1448495267, "answer_id": 33928404, "question_id": 33928351, "link": "https://stackoverflow.com/questions/33928351/confused-with-output-from-if-condition-within-the-while-loop/33928404#33928404", "title": "Confused with output from if condition within the while loop", "body": "<p>The problem is in the case where your guess = 5.</p>\n\n<p>The first if is negative, so it moves on to the else and prints \"too low\".</p>\n\n<p>Change </p>\n\n<pre><code>else:\n        print(\"too low\")\n</code></pre>\n\n<p>too</p>\n\n<pre><code>elif guess &lt; 5:\n       print(\"too low\")\n</code></pre>\n\n<p>and this won't happen again.\nA good trick for beginners is to analyse the 'border cases', guess = 5 in this case and analyse what your program will do there.</p>\n"}], "owner": {"reputation": 49, "user_id": 3010791, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3415248935f446d9bd0d63555068690?s=128&d=identicon&r=PG&f=1", "display_name": "user3010791", "link": "https://stackoverflow.com/users/3010791/user3010791"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1448495267, "creation_date": 1448494957, "question_id": 33928351, "link": "https://stackoverflow.com/questions/33928351/confused-with-output-from-if-condition-within-the-while-loop", "title": "Confused with output from if condition within the while loop", "body": "<p>I'm begging learn programming that is first code of python I wrote .\nwell this is a guess game,<strong>if user type a number 5 wil print\" you won \"</strong> ,if it greater than 5 print \" toohigh \", and if smaller than 5 print \" too low \". </p>\n\n<p>I wrote the code for that but when the user input number 5,\n it print \" too low \" and print \" you won \" that is not I want, when input number 5 which is supposed to output message \"You won\".\nI need explain for why the output of code <strong>say \"too low\" and say \"You won\"</strong>\nwith user input 5 number??</p>\n\n<pre><code>print(\"Welcome\")\nguess = 0\nwhile guess != 5:\n    g = input(\"Guess a number: \")\n    guess = int(g)\n    if guess &gt; 5:\n        print(\"too high\")\n    else:\n        print(\"too low\")\nprint(\"You won\")\n</code></pre>\n\n<p>The result is :</p>\n\n<pre><code>Guess a number: 4\ntoo low\nGuess a number: 6\ntoo high\nGuess a number: 5\n**too low  // this isn't supposed to be, this is wrong\nYou won**\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 187, "user_id": 2975109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc3b4049ac10430016380b232469c3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Max Rosett", "link": "https://stackoverflow.com/users/2975109/max-rosett"}, "edited": false, "score": 0, "creation_date": 1448494740, "post_id": 33928305, "comment_id": 55617619, "body": "I&#39;m asking because the &#39;None&#39; values in the input could easily be changed to another string."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 9, "creation_date": 1448494799, "post_id": 33928305, "comment_id": 55617640, "body": "that wouldn&#39;t make sense since <code>None</code> has it&#39;s own type so it wouldn&#39;t make much sense for a function that cast&#39;s things as floats to convert to a non-float"}, {"owner": {"reputation": 765, "user_id": 2879999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/645f7410608d139900b3abecc29defbd?s=128&d=identicon&r=PG&f=1", "display_name": "dslack", "link": "https://stackoverflow.com/users/2879999/dslack"}, "edited": false, "score": 0, "creation_date": 1448494883, "post_id": 33928305, "comment_id": 55617660, "body": "To amplify on R Nar&#39;s answer \u2014 <code>None</code> isn&#39;t a <code>float</code>.  You can see this by typing <code>float(None)</code> and getting an error."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 3, "creation_date": 1448494911, "post_id": 33928305, "comment_id": 55617671, "body": "you can, however, use <code>eval</code> to get <code>&#39;None&#39;</code> to cast to <code>NoneType</code> but that would also mean you get <code>type(eval(&#39;1&#39;)) == int</code>"}, {"owner": {"reputation": 187, "user_id": 2975109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc3b4049ac10430016380b232469c3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Max Rosett", "link": "https://stackoverflow.com/users/2975109/max-rosett"}, "edited": false, "score": 0, "creation_date": 1448495100, "post_id": 33928305, "comment_id": 55617732, "body": "That makes sense. I&#39;d been thinking of None as a null value, and I&#39;d forgotten that it has its own type. Thanks for clearing this up for me."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1448495123, "post_id": 33928305, "comment_id": 55617738, "body": "Why not <code>float(i) if i != &#39;None&#39; else None</code>? There&#39;s no string for which <code>float</code> returns None. In fact, there&#39;s no object at all for which <code>float</code> returns <code>None</code>, even if you try to write such an object yourself."}, {"owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "edited": false, "score": 0, "creation_date": 1448495344, "post_id": 33928305, "comment_id": 55617791, "body": "moreover <code>float</code> and any other &quot;type caster&quot; must return object of  required type or raise an error."}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448496026, "post_id": 33928305, "comment_id": 55617987, "body": "@RNar: By the way, always remember that <code>eval()</code> is dangerous."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "reply_to_user": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 0, "creation_date": 1448496151, "post_id": 33928305, "comment_id": 55618019, "body": "@KevinGuan  yeah I was going to say that, but with such simple strings like these conversions, I figured it wasn&#39;t too dangerous"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1448496305, "post_id": 33928305, "comment_id": 55618059, "body": "There is a &quot;not a number&quot; float that you create with <code>float(&#39;nan&#39;)</code>. Change your <code>None</code> to <code>&quot;nan&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1003, "user_id": 4957011, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-qCvohWQdhyo/AAAAAAAAAAI/AAAAAAAAAyc/5cVJx4KgEFE/photo.jpg?sz=128", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/4957011/phoenix"}, "is_accepted": true, "score": 3, "last_activity_date": 1448522370, "creation_date": 1448522370, "answer_id": 33932673, "question_id": 33928305, "link": "https://stackoverflow.com/questions/33928305/in-python-is-there-a-string-s-such-that-floats-is-none/33932673#33932673", "title": "In Python, is there a string s such that float(s) is None?", "body": "<p>A simple solution would be to use a ternary statement</p>\n\n<pre><code>arr2 = [None if i == \"None\" else float(i) for i in arr]\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 2975109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc3b4049ac10430016380b232469c3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Max Rosett", "link": "https://stackoverflow.com/users/2975109/max-rosett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6520, "favorite_count": 0, "accepted_answer_id": 33932673, "answer_count": 1, "score": 1, "last_activity_date": 1448522370, "creation_date": 1448494672, "question_id": 33928305, "link": "https://stackoverflow.com/questions/33928305/in-python-is-there-a-string-s-such-that-floats-is-none", "title": "In Python, is there a string s such that float(s) is None?", "body": "<p>I'm curious. For context, I have a list of string representations of floats (including some None values), and I'd like to use a list comprehension to convert it to a list of actual floats. If the string is 'None', then the code gives an error:</p>\n\n<pre><code>arr = ['1', '2.5', 'None']\narr2 = [float(i) for i in arr]\n# Gives an error\n</code></pre>\n\n<p>I know that the float function takes inf, -inf, or nan, and I could use those for a workaround, but I'm curious if there's a string that gets cast to None.</p>\n"}, {"tags": ["python", "list", "loops", "python-3.x"], "comments": [{"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1448494711, "post_id": 33928283, "comment_id": 55617610, "body": "When <code>y=len(temperatures) - 1</code>, then <code>y + 1</code>...(you guessed it). Note that the last element of a list is indexed by the length of that list -1."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1448494712, "post_id": 33928283, "comment_id": 55617611, "body": "your <code>break</code> should be called <code>if y == len(temperatures)-1</code> since <code>range(len(x))</code> goes from <code>l -&gt; len(x)-1</code> (<code>range</code> goes up to, but does not include, the parameter passed)"}, {"owner": {"reputation": 765, "user_id": 2879999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/645f7410608d139900b3abecc29defbd?s=128&d=identicon&r=PG&f=1", "display_name": "dslack", "link": "https://stackoverflow.com/users/2879999/dslack"}, "edited": false, "score": 0, "creation_date": 1448494767, "post_id": 33928283, "comment_id": 55617629, "body": "Note that you could also accomplish the desired result as follows: <code>import numpy as np; differences = np.diff(temperatures)</code>"}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "reply_to_user": {"reputation": 765, "user_id": 2879999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/645f7410608d139900b3abecc29defbd?s=128&d=identicon&r=PG&f=1", "display_name": "dslack", "link": "https://stackoverflow.com/users/2879999/dslack"}, "edited": false, "score": 0, "creation_date": 1448494842, "post_id": 33928283, "comment_id": 55617649, "body": "@dslack Why introducing new libraries when there&#39;s no need at all?"}, {"owner": {"reputation": 765, "user_id": 2879999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/645f7410608d139900b3abecc29defbd?s=128&d=identicon&r=PG&f=1", "display_name": "dslack", "link": "https://stackoverflow.com/users/2879999/dslack"}, "reply_to_user": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1448495226, "post_id": 33928283, "comment_id": 55617763, "body": "@nbro so as to get the job done in 1 line very efficiently.  If you prefer it could be a little cleaner with <code>from numpy import diff; differences = diff(temperatures)</code>.  You can write it yourself pretty easily, but numpy&#39;s diff() function is easy to use and efficient."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4431119, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd0b247b37f00615fa798cd8e6452684?s=128&d=identicon&r=PG&f=1", "display_name": "W. Ahmed", "link": "https://stackoverflow.com/users/4431119/w-ahmed"}, "edited": false, "score": 0, "creation_date": 1448494948, "post_id": 33928317, "comment_id": 55617685, "body": "But i put a condition before it does that that should break out of the loop when y reaches the last index?"}, {"owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "reply_to_user": {"reputation": 123, "user_id": 4431119, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd0b247b37f00615fa798cd8e6452684?s=128&d=identicon&r=PG&f=1", "display_name": "W. Ahmed", "link": "https://stackoverflow.com/users/4431119/w-ahmed"}, "edited": false, "score": 0, "creation_date": 1448495009, "post_id": 33928317, "comment_id": 55617699, "body": "@W.Ahmed the condition <code>y == len(temperatures)</code> is never true, remember that range stops in <code>len(temperatures) - 1</code> - for example, <code>range(0,3)</code> results in the values <code>0, 1, 2</code>."}], "tags": [], "owner": {"reputation": 214708, "user_id": 201359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t7odj.jpg?s=128&g=1", "display_name": "&#211;scar L&#243;pez", "link": "https://stackoverflow.com/users/201359/%c3%93scar-l%c3%b3pez"}, "is_accepted": false, "score": 1, "last_activity_date": 1448495241, "last_edit_date": 1448495241, "creation_date": 1448494722, "answer_id": 33928317, "question_id": 33928283, "link": "https://stackoverflow.com/questions/33928283/list-index-out-of-range-in-loop-with-condition/33928317#33928317", "title": "List index out of range in loop with condition", "body": "<p>Here's the problem:</p>\n\n<pre><code>diff = temperatures[y+1] - temperatures[y]\n</code></pre>\n\n<p>When <code>y</code> reaches the last valid index in <code>temperatures</code>, the expression <code>y+1</code> will result in an index outside of the list, causing the error. Define the loop like this instead:</p>\n\n<pre><code>for y in range(len(temperatures)-1):\n    diff = temperatures[y+1] - temperatures[y]\n    differences.append(diff)\n</code></pre>\n\n<p>In this way, we won't step outside of the list of temperatures. Also notice that these lines are not doing what you imagine and can be deleted:</p>\n\n<pre><code>if y == len(temperatures):\n  break\n</code></pre>\n\n<p>That's because <code>range()</code> goes from zero to <code>len(temperatures) - 1</code>, so <code>y</code> is never equal to <code>len(temperatures)</code>, and that's why you get an index out of bounds error.</p>\n"}, {"tags": [], "owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "is_accepted": true, "score": 0, "last_activity_date": 1448494847, "creation_date": 1448494847, "answer_id": 33928331, "question_id": 33928283, "link": "https://stackoverflow.com/questions/33928283/list-index-out-of-range-in-loop-with-condition/33928331#33928331", "title": "List index out of range in loop with condition", "body": "<p>Ah, this is a bit tricky. Below, I've written out an example list and the indices of that list.</p>\n\n<pre><code>a = [1, 56, 84, 32, -9]\n     0   1   2   3   4\n</code></pre>\n\n<p>But...the length of the list is not 4, but 5. So <code>a[len(a)]</code>, which is equivalent to <code>a[5]</code>, will fail with an <code>IndexError</code>. Also, <code>range(len(temperatures))</code> will not include <code>len(temperatures)</code> itself, so the if conditional is never true <em>anyway</em>. In this section of your code,</p>\n\n<pre><code>for y in range(len(temperatures)):\n    if y == len(temperatures):\n        break\n    diff = temperatures[y+1] - temperatures[y]\n    differences.append(diff)\n</code></pre>\n\n<p>You need to change <code>if y == len(temperatures):</code> to <code>if y == len(temperatures)-1</code>. <strong>Or</strong>, and this is the better option, take out the if conditional entirely and change the loop to this:</p>\n\n<pre><code>for y in range(len(temperatures)-1):\n    diff = temperatures[y+1] - temperatures[y]\n    differences.append(diff)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4431119, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dd0b247b37f00615fa798cd8e6452684?s=128&d=identicon&r=PG&f=1", "display_name": "W. Ahmed", "link": "https://stackoverflow.com/users/4431119/w-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1734, "favorite_count": 0, "accepted_answer_id": 33928331, "answer_count": 2, "score": 1, "last_activity_date": 1448495241, "creation_date": 1448494537, "question_id": 33928283, "link": "https://stackoverflow.com/questions/33928283/list-index-out-of-range-in-loop-with-condition", "title": "List index out of range in loop with condition", "body": "<pre><code>n = input(\"How many average temperatures do you want to put in?\" + \"\\n\").strip()\ntemperatures = []\ndifferences = []\ndiff = 0\n\nprint('')\nif int(n) &gt; 0 :\n    for x in range (int(n)):\n        temp = input(\"Input a average temperature: \" + \"\\n\").strip()\n        temperatures.append(int(temp))\n\n    for y in range(len(temperatures)):\n        if y == len(temperatures):\n            break\n        diff = temperatures[y+1] - temperatures[y]\n        differences.append(diff)\n\n    print(differences)\n</code></pre>\n\n<p>Getting a list index out of range error on this line:</p>\n\n<pre><code>diff = temperatures[y+1] - temperatures[y]\n</code></pre>\n\n<p>This line basically finds the difference between 2 numbers in my list, so I am telling it to take the index of the number infront and subtract it from the number before. I figured out eventually when it gets to the last number, the [y+1] ends up being out of range, so at the start of the loop I put the condition that will break out of the loop when it gets to the last number in the list. </p>\n\n<p>But i'm still getting a index out of range error for some reason, and I don't understand why it's happening. Can anybody point out where i'm going wrong? </p>\n"}, {"tags": ["python", "maya"], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 2533090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0087cec116b57a3967b4ab861f003da?s=128&d=identicon&r=PG&f=1", "display_name": "Morten", "link": "https://stackoverflow.com/users/2533090/morten"}, "edited": false, "score": 0, "creation_date": 1448530905, "post_id": 33928760, "comment_id": 55630230, "body": "Thanks, that was exactly what was needed. Out of curiosity and understanding: Why does it work? What does python(&quot;&quot;) do?"}, {"owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "reply_to_user": {"reputation": 363, "user_id": 2533090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0087cec116b57a3967b4ab861f003da?s=128&d=identicon&r=PG&f=1", "display_name": "Morten", "link": "https://stackoverflow.com/users/2533090/morten"}, "edited": false, "score": 0, "creation_date": 1448560359, "post_id": 33928760, "comment_id": 55648238, "body": "I don&#39;t think sourceType is actually working, so using python mel command to call the python function more here <a href=\"http://help.autodesk.com/cloudhelp/2015/ENU/Maya-Tech-Docs/Commands/python.html\" rel=\"nofollow noreferrer\">help.autodesk.com/cloudhelp/2015/ENU/Maya-Tech-Docs/Commands&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 363, "user_id": 2533090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0087cec116b57a3967b4ab861f003da?s=128&d=identicon&r=PG&f=1", "display_name": "Morten", "link": "https://stackoverflow.com/users/2533090/morten"}, "edited": false, "score": 0, "creation_date": 1448567579, "post_id": 33928760, "comment_id": 55651126, "body": "I see. I tried googling for the python function, and also looked in the documentation for it, however in the python commands instead of mel. But great, makes somewhat sense, and thanks for getting back to me."}], "tags": [], "owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "is_accepted": true, "score": 2, "last_activity_date": 1448497734, "creation_date": 1448497734, "answer_id": 33928760, "question_id": 33928246, "link": "https://stackoverflow.com/questions/33928246/mayas-namecommand-not-able-to-call-functions/33928760#33928760", "title": "Maya&#39;s nameCommand not able to call functions", "body": "<pre><code>cmds.nameCommand(\"pythonTestCommand\", ann=\"pythonTest\", command='python(\"myPythonTest()\")', sourceType=\"python\")\ncmds.hotkey(k=\"l\", name=\"pythonTestCommand\")\n</code></pre>\n\n<p>Should work</p>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 2274845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbeb8d93a2930664126941b64acc32f?s=128&d=identicon&r=PG", "display_name": "Arubertoson", "link": "https://stackoverflow.com/users/2274845/arubertoson"}, "is_accepted": false, "score": 0, "last_activity_date": 1453643772, "last_edit_date": 1495540752, "creation_date": 1453643772, "answer_id": 34976641, "question_id": 33928246, "link": "https://stackoverflow.com/questions/33928246/mayas-namecommand-not-able-to-call-functions/34976641#34976641", "title": "Maya&#39;s nameCommand not able to call functions", "body": "<p>To expand on the previous answer I believe <a href=\"https://stackoverflow.com/questions/33928246/mayas-namecommand-not-able-to-call-functions#comment55648238_33928760\">Achayan</a> is correct in the assesment\nthat sourceType seems to be broken.</p>\n\n<p>If you want to be able to pass python code to a <code>nameCommand</code> you need to\nfirst create a <code>runTimeCommand</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def testy():\n    print('hello')\n\n# There is no way to edit a runtime command so we need to check if it\n# exists and then remove it if it does.\nmy_command_name = 'my_runtime_command'\nif cmds.runTimeCommand(my_command_name, q=True, exists=True):\n    cmds.runTimeCommand(my_command_name, e=True, delete=True)\n\ncmds.runTimeCommand(\n    my_command_name, \n    ann='My Command', \n    category='User', \n    command='testy()', \n    commandLanguage='python'\n    )\ncmds.nameCommand('my_name_command', ann='My Command', command=my_command_name)\ncmds.hotkey(k='1', name='my_name_command')\n</code></pre>\n\n<p>As you see you don't need to provide a sourceType, the <code>nameCommand</code> is just\na string representation of the runtimecommand and will just execute the\ngiven <code>runTimeCommand</code>. So the real place to specify execution language is in the <code>commandLanguage</code> flag of the <code>runTimeCommand</code>.</p>\n"}], "owner": {"reputation": 363, "user_id": 2533090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0087cec116b57a3967b4ab861f003da?s=128&d=identicon&r=PG&f=1", "display_name": "Morten", "link": "https://stackoverflow.com/users/2533090/morten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "accepted_answer_id": 33928760, "answer_count": 2, "score": 0, "last_activity_date": 1453643772, "creation_date": 1448494311, "last_edit_date": 1448496784, "question_id": 33928246, "link": "https://stackoverflow.com/questions/33928246/mayas-namecommand-not-able-to-call-functions", "title": "Maya&#39;s nameCommand not able to call functions", "body": "<p>I'm having an issue with calling functions from nameCommand's in Maya used with hotkeys. I can't tell if it's a Maya or Python issue.</p>\n\n<p>The following MEL works as expected</p>\n\n<pre><code>proc myTest() {\n    print(\"test\");\n}\n\nnameCommand -ann \"test\" -command \"myTest()\" testCommand;\nhotkey -k \"l\" -name \"testCommand\";\n</code></pre>\n\n<p>However, translated to Python, I get an error</p>\n\n<pre><code>import maya.cmds as cmds\n\ndef myPythonTest():\n    print(\"myPythonTest\")\n\ncmds.nameCommand(\"pythonTestCommand\", ann=\"pythonTest\", command=\"myPythonTest()\", sourceType=\"python\")\ncmds.hotkey(k=\"l\", name=\"pythonTestCommand\")\n\n// Error: line 1: Cannot find procedure \"myPythonTest\".\n</code></pre>\n\n<p>Is it the wrong way to call functions in Python, or is something else going on? I've noticed that the parentheses are being stripped, and calling the function with <code>myPythonTest()</code> from the script editor works as expected.</p>\n"}, {"tags": ["python", "json", "pandas", "data-analysis"], "comments": [{"owner": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "edited": false, "score": 1, "creation_date": 1448496063, "post_id": 33928201, "comment_id": 55617994, "body": "In addition to my answer, <a href=\"http://stackoverflow.com/questions/21160134/flatten-a-column-with-value-of-type-list-while-duplicating-the-other-columns-va\">this SO answer</a> seems like it might be relevant."}], "answers": [{"tags": [], "owner": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "is_accepted": true, "score": 1, "last_activity_date": 1448495969, "creation_date": 1448495969, "answer_id": 33928516, "question_id": 33928201, "link": "https://stackoverflow.com/questions/33928201/json-to-stacked-dataframe/33928516#33928516", "title": "JSON to Stacked DataFrame", "body": "<p>One approach is to make a dataframe for each entry in your list, then concatenate them:</p>\n\n<pre><code>&gt;&gt;&gt; pd.concat([pd.DataFrame(d) for d in data])\n</code></pre>\n\n<p>This seems wasteful, though, since you're allocating a block of memory for each entry just to concatenate them in the end. Alternatively, you might define a generator:</p>\n\n<pre><code>def iter_data(data):\n    for entry in data:\n        for score in entry['scores']:\n            yield entry['mood'], entry['id'], score\n</code></pre>\n\n<p>Such that</p>\n\n<pre><code>&gt;&gt;&gt; pd.DataFrame(iter_data(data))\n\n    id   mood  scores\n0  abc  happy      10\n1  abc  happy      15\n2  abc  happy      20\n0  def  happy     103\n1  def  happy     150\n2  def  happy     200\n0  ghi    sad       1\n1  ghi    sad      15\n2  ghi    sad      20\n3  ghi    sad      45\n4  ghi    sad     600\n5  ghi    sad    1400\n0  jkl    sad      10\n1  jkl    sad     100\n2  jkl    sad    1000\n3  jkl    sad   10000\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 2662566, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100000129326414/picture?type=large", "display_name": "Jarby McGroo", "link": "https://stackoverflow.com/users/2662566/jarby-mcgroo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 33928516, "answer_count": 1, "score": 0, "last_activity_date": 1448495969, "creation_date": 1448494070, "question_id": 33928201, "link": "https://stackoverflow.com/questions/33928201/json-to-stacked-dataframe", "title": "JSON to Stacked DataFrame", "body": "<p>I've got a JSON file that looks like:</p>\n\n<pre><code>[\n\n        {\n        \"id\" : \"abc\",\n        \"mood\" : \"happy\",\n        \"scores\" : [\n            10,\n            15,\n            20\n            ]\n        },\n        {\n        \"id\" : \"def\",\n        \"mood\" : \"happy\",\n        \"scores\" : [\n            103,\n            150,\n            200\n            ]\n        },\n        {\n        \"id\" : \"ghi\",\n        \"mood\" : \"sad\",\n        \"scores\" : [\n            1,\n            15,\n            20,\n            45,\n            600,\n            1400\n            ]\n        },\n        {\n        \"id\" : \"jkl\",\n        \"mood\" : \"sad\",\n        \"scores\" : [\n            10,\n            100,\n            1000,\n            10000\n            ]\n        }\n\n]\n</code></pre>\n\n<p>Which I'm trying to get into a stacked DataFrame that looks like:</p>\n\n<pre><code>    id    mood    score\n0  abc    happy   10\n1  abc    happy   15\n2  abc    happy   20\n3  def    happy   103\n...\n14 jkl    sad     10\n15 jkl    sad     100\n</code></pre>\n\n<p>etc.</p>\n\n<p>However, when I stick the JSON object into a dataframe I always end up with some variation of:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RQrqF.png\" alt=\"example output\"></p>\n\n<p>Where the \"scores\" column is a list.  I've searched long and hard for an example, but can't figure out how to unpack the list into my desired format.</p>\n\n<p>Suggestions?</p>\n"}, {"tags": ["python", "scikit-learn", "cross-validation"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1448494261, "post_id": 33928131, "comment_id": 55617461, "body": "what are the variables in your data set? why is it important to use the time series to split, why not just split randomly?"}, {"owner": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "edited": false, "score": 1, "creation_date": 1448494415, "post_id": 33928131, "comment_id": 55617518, "body": "You could generate the splits without the use of scikit-learn, as follows: <code>cv_split = [(data[:i], data[i:]) for i in range(1, len(data))]</code>. What do you think?"}, {"owner": {"reputation": 765, "user_id": 2879999, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/645f7410608d139900b3abecc29defbd?s=128&d=identicon&r=PG&f=1", "display_name": "dslack", "link": "https://stackoverflow.com/users/2879999/dslack"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1448494463, "post_id": 33928131, "comment_id": 55617533, "body": "@maxymoo, The reason not to split randomly with time series data is that time might matter (not just the other features you&#39;ve identified) but &quot;in the wild&quot; you never get to train your model on data from the future.  So in testing your model, you should behave similarly and not train on data from after the test date(s)."}, {"owner": {"reputation": 811, "user_id": 3700561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fab950fe1107a0519c73cfc4486fa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "Demyanov", "link": "https://stackoverflow.com/users/3700561/demyanov"}, "reply_to_user": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "edited": false, "score": 0, "creation_date": 1448495198, "post_id": 33928131, "comment_id": 55617754, "body": "@DanOnea\u021b\u0103 I&#39;m sorry that I have not mention this in the question, but after the cretion of <code>PredifinedSplit</code> I put it into <code>RFECV</code> which require cross-validation generator or an iterable yielding train/test splits. So I though may be I can solve the problem with sklearn tools"}, {"owner": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "edited": false, "score": 1, "creation_date": 1448496451, "post_id": 33928131, "comment_id": 55618091, "body": "@Demyanov But <code>cv_split</code> as I&#39;ve defined it above is an iterable yielding a train/test split, if we consider <code>data</code> to be the indices of the data."}], "answers": [{"comments": [{"owner": {"reputation": 771, "user_id": 3016037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e3dafa5812ba31448e61694466980c92?s=128&d=identicon&r=PG&f=1", "display_name": "dreyco676", "link": "https://stackoverflow.com/users/3016037/dreyco676"}, "edited": false, "score": 0, "creation_date": 1471234971, "post_id": 33928643, "comment_id": 65253391, "body": "Won&#39;t this create a separate split for each observation while windowing forward? If I want to decrease this should I use the <code>step</code> parameter in range to make it go up in larger &#39;chunks&#39;?"}, {"owner": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "reply_to_user": {"reputation": 771, "user_id": 3016037, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e3dafa5812ba31448e61694466980c92?s=128&d=identicon&r=PG&f=1", "display_name": "dreyco676", "link": "https://stackoverflow.com/users/3016037/dreyco676"}, "edited": false, "score": 1, "creation_date": 1471270321, "post_id": 33928643, "comment_id": 65267462, "body": "@dreyco676 That&#39;s right. Just use a <code>step</code> parameter greater than one, for example, <code>cv_splits = [(idxs[:i], idxs[i:]) for i in range(1, N, 2)]</code>"}, {"owner": {"reputation": 646, "user_id": 597349, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1f9e2ebe9d83db0c71f7956bce608306?s=128&d=identicon&r=PG", "display_name": "paulochf", "link": "https://stackoverflow.com/users/597349/paulochf"}, "edited": false, "score": 0, "creation_date": 1473449751, "post_id": 33928643, "comment_id": 66162186, "body": "Just to be sure: that StratifiedKFold was left behind, right?"}, {"owner": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "reply_to_user": {"reputation": 646, "user_id": 597349, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1f9e2ebe9d83db0c71f7956bce608306?s=128&d=identicon&r=PG", "display_name": "paulochf", "link": "https://stackoverflow.com/users/597349/paulochf"}, "edited": false, "score": 1, "creation_date": 1473605639, "post_id": 33928643, "comment_id": 66197018, "body": "@paulochf Are you referring to the import of <code>StratifiedKFold</code>? You are right, that is unused\u2014I&#39;m going to remove it from the code snippet."}], "tags": [], "owner": {"reputation": 938, "user_id": 474311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad241f867909f119502ffbff53849af?s=128&d=identicon&r=PG", "display_name": "Dan Onea\u021b\u0103", "link": "https://stackoverflow.com/users/474311/dan-onea%c8%9b%c4%83"}, "is_accepted": false, "score": 6, "last_activity_date": 1473605664, "last_edit_date": 1473605664, "creation_date": 1448496878, "answer_id": 33928643, "question_id": 33928131, "link": "https://stackoverflow.com/questions/33928131/sklearn-user-defined-cross-validation-for-time-series-data/33928643#33928643", "title": "sklearn: User defined cross validation for time series data", "body": "<p>You can obtain the desired cross-validation splits without using <code>sklearn</code>. Here's an example</p>\n\n<pre><code>import numpy as np\n\nfrom sklearn.svm import SVR\nfrom sklearn.feature_selection import RFECV\n\n# Generate some data.\nN = 10\nX_train = np.random.randn(N, 3)\ny_train = np.random.randn(N)\n\n# Define the splits.\nidxs = np.arange(N)\ncv_splits = [(idxs[:i], idxs[i:]) for i in range(1, N)]\n\n# Create the RFE object and compute a cross-validated score.\nsvr = SVR(kernel=\"linear\")\nrfecv = RFECV(estimator=svr, step=1, cv=cv_splits)\nrfecv.fit(X_train, y_train)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4378, "user_id": 6694255, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206786178165174/picture?type=large", "display_name": "Marcus V.", "link": "https://stackoverflow.com/users/6694255/marcus-v"}, "is_accepted": false, "score": 4, "last_activity_date": 1486666750, "creation_date": 1486666750, "answer_id": 42144788, "question_id": 33928131, "link": "https://stackoverflow.com/questions/33928131/sklearn-user-defined-cross-validation-for-time-series-data/42144788#42144788", "title": "sklearn: User defined cross validation for time series data", "body": "<p>Meanwhile this was added to the library: <a href=\"http://scikit-learn.org/stable/modules/cross_validation.html#time-series-split\" rel=\"nofollow noreferrer\">http://scikit-learn.org/stable/modules/cross_validation.html#time-series-split</a></p>\n\n<p>Example from the doc:</p>\n\n<pre><code>&gt;&gt;&gt; from sklearn.model_selection import TimeSeriesSplit\n\n&gt;&gt;&gt; X = np.array([[1, 2], [3, 4], [1, 2], [3, 4], [1, 2], [3, 4]])\n&gt;&gt;&gt; y = np.array([1, 2, 3, 4, 5, 6])\n&gt;&gt;&gt; tscv = TimeSeriesSplit(n_splits=3)\n&gt;&gt;&gt; print(tscv)  \nTimeSeriesSplit(n_splits=3)\n&gt;&gt;&gt; for train, test in tscv.split(X):\n...     print(\"%s %s\" % (train, test))\n[0 1 2] [3]\n[0 1 2 3] [4]\n[0 1 2 3 4] [5]\n</code></pre>\n"}], "owner": {"reputation": 811, "user_id": 3700561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fab950fe1107a0519c73cfc4486fa9c0?s=128&d=identicon&r=PG&f=1", "display_name": "Demyanov", "link": "https://stackoverflow.com/users/3700561/demyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4746, "favorite_count": 3, "answer_count": 2, "score": 11, "last_activity_date": 1486666750, "creation_date": 1448493650, "last_edit_date": 1448498819, "question_id": 33928131, "link": "https://stackoverflow.com/questions/33928131/sklearn-user-defined-cross-validation-for-time-series-data", "title": "sklearn: User defined cross validation for time series data", "body": "<p>I'm trying to solve a machine learning problem. I have a specific dataset with <em>time-series</em> element. For this problem I'm using well-known python library - <code>sklearn</code>. There are a lot of cross validation iterators in this library. Also there are several iterators for defining cross validation yourself. The problem is that I don't really know how to define simple cross validation for time series. Here is a good example of what I'm trying to get:</p>\n\n<p>Suppose we have several periods (years) and we want to split our data set into several chunks as follows:</p>\n\n<pre><code>data = [1, 2, 3, 4, 5, 6, 7]\n\ntrain: [1]                test: [2] (or test: [2, 3, 4, 5, 6, 7])\ntrain: [1, 2]             test: [3] (or test: [3, 4, 5, 6, 7])\ntrain: [1, 2, 3]          test: [4] (or test: [4, 5, 6, 7])\n...\ntrain: [1, 2, 3, 4, 5, 6] test: [7]\n</code></pre>\n\n<p>I can't really understand how to create this kind of cross validation with sklearn tools. Probably I should use <code>PredefinedSplit</code> from <code>sklearn.cross_validation</code> like that:</p>\n\n<pre><code>train_fraction  = 0.8\ntrain_size      = int(train_fraction * X_train.shape[0])\nvalidation_size = X_train.shape[0] - train_size\n\ncv_split = cross_validation.PredefinedSplit(test_fold=[-1] * train_size + [1] * validation_size)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>train: [1, 2, 3, 4, 5] test: [6, 7]\n</code></pre>\n\n<p>But still it's not so good as a previous data split</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5606315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0015285d7c2371575e8b5a2bd27f7df?s=128&d=identicon&r=PG&f=1", "display_name": "Sren", "link": "https://stackoverflow.com/users/5606315/sren"}, "edited": false, "score": 0, "creation_date": 1448993404, "post_id": 33928168, "comment_id": 55809611, "body": "@ kAlmAcetA: Many thanks for your response and solution. Does the trick!"}], "tags": [], "owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "is_accepted": true, "score": 2, "last_activity_date": 1448493881, "creation_date": 1448493881, "answer_id": 33928168, "question_id": 33928121, "link": "https://stackoverflow.com/questions/33928121/nameerror-when-calling-a-user-defined-function-in-another-user-defined-function/33928168#33928168", "title": "Nameerror when calling a user-defined function in another user-defined function", "body": "<p>Because <code>f</code> is local variable in openfile</p>\n\n<pre><code>def openfile():\n    import string\n    name = raw_input (\"enter file name: \")\n    return open (name)\n\n# Calculates the number of paragraphs within the file \ndef linecount():\n    f = openfile()\n    lines = 0\n    for line in f:\n        lines = lines + 1\n    return lines\n</code></pre>\n\n<p>or even shorter</p>\n\n<pre><code>def file_line_count():\n    file_name = raw_input(\"enter file name: \")\n    with open(file_name, 'r') as f:\n        return sum(1 for line in f)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5606315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0015285d7c2371575e8b5a2bd27f7df?s=128&d=identicon&r=PG&f=1", "display_name": "Sren", "link": "https://stackoverflow.com/users/5606315/sren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 33928168, "answer_count": 1, "score": 1, "last_activity_date": 1448493881, "creation_date": 1448493565, "question_id": 33928121, "link": "https://stackoverflow.com/questions/33928121/nameerror-when-calling-a-user-defined-function-in-another-user-defined-function", "title": "Nameerror when calling a user-defined function in another user-defined function", "body": "<p>I need to write a program that opens and reads a file and contains separate user-defined functions for counting the number of lines and words in the file e.g. linecount(), wordcount()etc. I drafted the below code, but I keep getting a name error that says \"global name 'f' is not defined\". f is a file handle that should be returned by the openfile() function. Any advise?</p>\n\n<pre><code>#open and read file\ndef openfile():\n    import string\n    name = raw_input (\"enter file name: \")\n    f = open (name)\n\n# Calculates the number of paragraphs within the file \ndef linecount():\n    openfile()\n    lines = 0\n    for line in f:\n        lines = lines + 1\n    return lines\n\n#call function that counts lines\nlinecount()\n</code></pre>\n"}, {"tags": ["python", "linux", "subprocess"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1448493150, "post_id": 33927917, "comment_id": 55617099, "body": "Why not create a global array that you use to hold all the processes?"}], "answers": [{"tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 6, "last_activity_date": 1448493355, "creation_date": 1448493355, "answer_id": 33928086, "question_id": 33927917, "link": "https://stackoverflow.com/questions/33927917/how-to-adopt-a-child-process-in-python/33928086#33928086", "title": "How to &quot;adopt&quot; a child process in python", "body": "<p>You could use <a href=\"http://pythonhosted.org/psutil/\" rel=\"noreferrer\"><code>psutil</code></a> to find the children of your parent Python process. For example:</p>\n\n<pre><code>import psutil\nimport os\nimport subprocess\n\nsubprocess.Popen(['sleep', '30'])\n\nparent_pid = os.getpid()\nparent = psutil.Process(parent_pid)\n\nfor child in parent.children():\n    print(child)    # do something here\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>psutil.Process(pid=16822, name='sleep')\n</code></pre>\n\n<p>From there you could poll them, kill them etc.</p>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 2, "last_activity_date": 1448534227, "last_edit_date": 1495540745, "creation_date": 1448534227, "answer_id": 33936419, "question_id": 33927917, "link": "https://stackoverflow.com/questions/33927917/how-to-adopt-a-child-process-in-python/33936419#33936419", "title": "How to &quot;adopt&quot; a child process in python", "body": "<p>Normally, you don't need to do anything -- the current <code>subprocess</code> implementation maintains a global list of active unreferenced <code>Popen</code> instances and when a new Popen object is created, this list is enumerate and <code>.poll()</code> is called for each process.</p>\n\n<p>Thus if you don't have a reference to the subprocess; it is waited for you automatically (and if you do have a reference then call <code>.wait()</code> yourself).</p>\n\n<p>If child processes are created by other means then you could call <code>os.waitpid()</code> to collect exit statuses of dead subprocesses on Unix:</p>\n\n<pre><code>while True:\n    try:\n        pid, status = os.waitpid(-1, os.WNOHANG) \n    except ChildProcessError:\n        #  No more child processes exist\n        break\n    else:\n        assert pid, \"child process is still alive\"\n</code></pre>\n\n<p>On POSIX.1-2001 systems, you could call <code>signal(SIGCHLD, SIG_IGN)</code> to reap children automatically instead.</p>\n\n<p>If you want to kill all children (send a signal) when a parent dies; you could <a href=\"https://stackoverflow.com/a/19448096/4279\">use <code>prctl</code> <code>PR_SET_PDEATHSIG</code> on Linux</a>. It works if the parent dies for any reason i.e., it works even if the parent is killed by <code>SIGKILL</code>.</p>\n\n<p><a href=\"https://github.com/giampaolo/psutil\" rel=\"nofollow noreferrer\"><code>psutil</code></a> from <a href=\"https://stackoverflow.com/a/33928086/4279\">@ali_m' answer</a> is a portable solution:</p>\n\n<pre><code>#!/usr/bin/env python\nimport gc\nimport subprocess\nimport time\n\nimport psutil\n\n\nfor _ in range(10):\n    subprocess.Popen(['sleep', '1'])  # no reference\ntime.sleep(2)  # wait until they are dead\ngc.collect()  # run garbage collection, to populate _active list\nsubprocess.Popen(['sleep', '1'])  # trigger _cleanup()\n\nfor i in range(2):\n    for child in psutil.Process().children():  # immediate children\n        print(child, child.status())\n    if i == 0:\n        time.sleep(2)\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>psutil.Process(pid=31253, name='sleep') sleeping\npsutil.Process(pid=31253, name='sleep') zombie\n</code></pre>\n\n<p>Note:</p>\n\n<ol>\n<li><code>psutil</code> shows only one zombie process, the rest are reaped in the last <code>Popen()</code> call</li>\n<li><code>psutil</code> provides a protection against <a href=\"https://stackoverflow.com/q/11323410/4279\"><code>pid</code> reuse</a> but it is not 100% reliable in all cases -- check whether it is enough in your case (otherwise, use one the methods above that do not rely on child's <code>pid</code>). </li>\n</ol>\n"}], "owner": {"reputation": 390, "user_id": 3749646, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a157d8af85314fd20d233f042f2d4725?s=128&d=identicon&r=PG&f=1", "display_name": "petEEy", "link": "https://stackoverflow.com/users/3749646/peteey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 1, "accepted_answer_id": 33928086, "answer_count": 2, "score": 3, "last_activity_date": 1448534227, "creation_date": 1448492446, "question_id": 33927917, "link": "https://stackoverflow.com/questions/33927917/how-to-adopt-a-child-process-in-python", "title": "How to &quot;adopt&quot; a child process in python", "body": "<p>How can I get the pid of a child processes that I didn't create an object for? i.e. </p>\n\n<pre><code>myProc = Popen([\"sleep\",\"30\"])\n</code></pre>\n\n<p>vs </p>\n\n<pre><code>Popen([\"sleep\",\"30\"])\n</code></pre>\n\n<p>I've noticed they become zombie processes if I don't poll() or wait() on them after sending a termination signal. At a point in my script I would like to find all child processes that my script is a parent of and send them a signal or poll them. Is this possible in python? Is it possible at all?</p>\n"}, {"tags": ["python", "json", "string", "exec"], "comments": [{"owner": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "edited": false, "score": 0, "creation_date": 1448492695, "post_id": 33927892, "comment_id": 55616899, "body": "Take a look at <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow noreferrer\"><code>str.join()</code></a>."}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1448493007, "post_id": 33927892, "comment_id": 55617042, "body": "When a list is passed into JSON. One does need to worry about commas. Also when you extract the list back, you do not need to worry about the commas either. JSON worries about it for you. Unless I am getting the idea wrong here...."}, {"owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "reply_to_user": {"reputation": 2092, "user_id": 1473772, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fe7ef5ac5b94e141794a20608282324f?s=128&d=identicon&r=PG", "display_name": "El&#39;endia Starman", "link": "https://stackoverflow.com/users/1473772/elendia-starman"}, "edited": false, "score": 0, "creation_date": 1448493124, "post_id": 33927892, "comment_id": 55617088, "body": "@El&#39;endiaStarman Yes, but later on I present a situation in which I have a list of objects, from which I call on a method that returns a value. Should I then create a new list? IE: <code>Skills=[i.encode_to_json: for i in ActiveSkills]</code> followed by, as you suggested <code>json += &quot;,&quot;.join(Skills)</code>?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1448493311, "post_id": 33927892, "comment_id": 55617158, "body": "Your explanation still doesn&#39;t make clear why you&#39;re using <code>exec</code> at all.  Just take whatever you&#39;re doing in the exec-ed string, move it out into a real function, call it, and store the result."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1448493836, "post_id": 33927892, "comment_id": 55617315, "body": "Yes, don&#39;t use exec - see my answer about using json or pickle."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448494392, "post_id": 33927967, "comment_id": 55617509, "body": "The problem is that the data I want to save in a json file is scattered across various objects (EG: Character has its own attributes, but so do skills of the character.) To store all of the data as a single tree I require each object to create a string in json syntax that will then be combined with any objects that are referenced by that object (Each object is referenced by only one other object. That way I have a hierarchy and I&#39;m trying to backwards engineer the json tree.)"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448494938, "post_id": 33927967, "comment_id": 55617680, "body": "I can imagine (though I can&#39;t point at an implementation) that the main objects could have registered all the child objects, and could provide a way to load/restore all the data by calling the registered child objects &#39;pickle&#39;. This is probably an important part of your design, difficult to retrofit later. See e.g. <a href=\"http://stackoverflow.com/questions/4529815/saving-an-object-data-persistence-in-python\" title=\"saving an object data persistence in python\">stackoverflow.com/questions/4529815/&hellip;</a>"}, {"owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448495750, "post_id": 33927967, "comment_id": 55617919, "body": "I have used pickle before and my biggest problem was that I didn&#39;t understand <i>how</i> it encoded the data. As a result, it would be difficult for me to then load up the data if the system has been updated, since I didn&#39;t know how to pick out the required data out of a pickled object, without loading up the previous version of the object in one swoop.  I decided to go with json as my data storage, as it is quite simple to load up the data, even if the process (method) that uses the data has changed. I have designed it to make it as easy to retrofit as I could... But I might have missed something."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448495882, "post_id": 33927967, "comment_id": 55617955, "body": "You use pickle.load() to unpickle - don&#39;t do it yourself! To quote the docs: &quot;The data format used by pickle is Python-specific. This has the advantage that there are no restrictions imposed by external standards such as XDR (which can\u2019t represent pointer sharing); however it means that non-Python programs may not be able to reconstruct pickled Python objects. By default, the pickle data format uses a printable ASCII representation.&quot;"}, {"owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448496105, "post_id": 33927967, "comment_id": 55618008, "body": "I could unpickle the data easily. The problem was then loading the old data into a new system that now has changed. The unpickled data is no longer compatible with the new updated system. With json, however, I could pick out the data that would be relevant to the new system without worrying about compatibility, as I could manipulate the data in order to make it compatible."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "edited": false, "score": 0, "creation_date": 1448496187, "post_id": 33927967, "comment_id": 55618029, "body": "I understand what you mean about loading after updating the code - if you really need to solve this problem you will probably end up have different versions of the class always available to restore into, and understanding how to transform themselves into newer versions. However the same basic problem exists with using json - if the latest implementation of the class has new capabilities, and you need to be able to restore older versions, you will have to implement the old-&gt;new transformation yourself."}, {"owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1448496229, "post_id": 33927967, "comment_id": 55618039, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/96194/discussion-between-alexz-and-barny\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "is_accepted": true, "score": 3, "last_activity_date": 1462712961, "last_edit_date": 1462712961, "creation_date": 1448492678, "answer_id": 33927967, "question_id": 33927892, "link": "https://stackoverflow.com/questions/33927892/how-to-retrieve-a-value-from-an-executed-string/33927967#33927967", "title": "How to retrieve a value from an executed string?", "body": "<p>To join a list using <code>','</code>:</p>\n\n<pre><code>Values = [\"1\",\"2\",\"3\",\"4\"]\nresult = \",\".join( Values )\nprint(result)\n</code></pre>\n\n<p>More info about <code>str.join(iterable)</code>can be found <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow\">here</a> in the online documentation.</p>\n\n<p>For a better solution to store dictionaries and lists (and, using pickle, objects), you should look at the json and pickle packages in the Python Standard Library.</p>\n\n<p>For example, with json:</p>\n\n<pre><code>import json\n\nmydata = {}\nmydata['hello'] = { 'value1':1, 'valuuelist':[1,2,3,4] }\n\nprint(json.dumps(mydata))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\"hello\": {\"valuuelist\": [1, 2, 3, 4], \"value1\": 1}}\n</code></pre>\n\n<p>So, don't roll your own encoder, unless you <em>really</em> have to.</p>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1448492822, "creation_date": 1448492822, "answer_id": 33927995, "question_id": 33927892, "link": "https://stackoverflow.com/questions/33927892/how-to-retrieve-a-value-from-an-executed-string/33927995#33927995", "title": "How to retrieve a value from an executed string?", "body": "<p>For joining each element of a sequence into a string you can use join method.</p>\n\n<pre><code>   L=['1','2','3']\n   string=\",\".join(L)\n   print(L)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3325896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/567c9503215e7ce2a486199cc991f6e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexz", "link": "https://stackoverflow.com/users/3325896/alexz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 33927967, "answer_count": 2, "score": 0, "last_activity_date": 1462712961, "creation_date": 1448492298, "question_id": 33927892, "link": "https://stackoverflow.com/questions/33927892/how-to-retrieve-a-value-from-an-executed-string", "title": "How to retrieve a value from an executed string?", "body": "<p>I didn't quite know how to word my question as this isn't something one would often do.\nHere's my situation:</p>\n\n<p>I have a list of values.</p>\n\n<pre><code>Values= [\"1\",\"2\",\"3\",\"4\"]\n</code></pre>\n\n<p>I then want to be able to separately access each of the values and combine them into a string with commas in between them. I wrote a bit of code that I want to format a string ('{}'.format())in such a way so that the outcome looks like this: '1,2,3,4'. My code that I have so far (it is also the code structure that I'd prefer to use if possible) is the following:</p>\n\n<pre><code>string = \"{}\".format(exec(\n    \"Out= ''\\n\"\n    \"for value in Values:\\n\"\n    \"    Out+= value + ','\\n\"\n    \"Out\"))\nprint(string)\n</code></pre>\n\n<p>If, within the string that is given as the parameter to the 'exec' function, I write \"print(Out)\"\nIE:</p>\n\n<pre><code>string = \"{}\".format(exec(\n    \"Out= ''\\n\"\n    \"for value in Values:\\n\"\n    \"    Out+= value + ','\\n\"\n    \"print(Out)\"))\n</code></pre>\n\n<p>Then the program will properly run and print out \"1,2,3,4\", but it will not store it in 'string' (Which is to be expected)</p>\n\n<p>I therefore thought of adding a function in order to make sure that it can return something. I wrote the following, but as expected it also didn't work. string is still None:</p>\n\n<pre><code>string = \"{}\".format(exec(\n    \"def do_stuff():\\n\"\n    \"    Out = ''\\n\"\n    \"    for value in Values :\\n\"\n    \"       Out += value + ','\\n\"\n    \"    return Out \\n\"\n    \"do_stuff()\"))\n</code></pre>\n\n<p>Now, I do realise that this method of combining strings is nowhere near the preferred way to combine strings, but let me give you some context.</p>\n\n<p>I am making a game in python. There is a Character class and it contains various attributes of various data types (such as dict, list, int, str, float.... as well as some custom ones: AI, Item, ActiveSkill, PassiveSkill, Effect, Weapon, Armour etc...)\nNow, my plan is to be able to store the game progress in a json tree. For that I started giving each of these entities a method which will convert all of its attributes into json trees stored as strings. That way, when I want to save the game and it comes to the Character, it will sort all of its attributes, but it'll also have to make a call to objects that it's referencing (such as ActiveSkills). For each of ActiveSkills in a list, it'll have to call for their own json syntaxed strings and combine these using commas.</p>\n\n<p>Here's some of my code to help you understand what I want to do:</p>\n\n<pre><code>json += \\\n    '\"ActiveSkills\":[{oActiveSkills}],' \\\n    '\"PassiveSkills\":[{oPassiveSkills}].' \\\n    '\"Effects\":[{oEffects}],'.format(\n        oActiveSkills=exec(\n            \"Skills = ''\\n\"\n            \"for skill in self.ActiveSkills:\\n\"    # ActiveSkills is a list of ActiveSkill objects\n            \"    Skills+=skill.encode_to_json() + ','\\n\"\n            \"return Skills\"),\n        oPassiveSkills=exec(\n            \"Skills = ''\\n\"\n            \"for skill in self.PassiveSkills:\\n\"    # PassiveSkills is a list of PassiveSkill objects\n            \"    Skills+=skill.encode_to_json() + ','\\n\"\n            \"return Skills\"),\n        oEffects=exec(\n            \"Effects = ''\\n\"\n            \"for effect in self.Effects:\\n\"    # Effects is a list of Effect objects\n            \"    Effects+=effect.encode_to_json() + ','\\n\"\n            \"return Effects\"))\n</code></pre>\n\n<p>I know that this code currently doesn't run, as you can only return from within a function, but I really don't know how to go about it in a quick and easy way. </p>\n\n<p>One solution that I have saved up as a last resort is to just do everything by hand. IE: Have some kind of for loop that creates a string from returned values. Add this string to the json string, after which you will manually open and close with \"},{\" and make sure that there isn't a \",\" at the end. Then repeat this for PassiveSkills and Effects also. Finally, close the json string with \"},\" and add it to the 'json' (string type) variable...</p>\n\n<p>I want to minimise the space taken up by this, and I want this system to be flexible, so that no matter how many skills in a list that you have, you could continue adding more and more of these json strings without changing the code.</p>\n"}, {"tags": ["python", "django", "django-views", "mezzanine", "cartridge"], "answers": [{"tags": [], "owner": {"reputation": 657, "user_id": 2037086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0Ng7.jpg?s=128&g=1", "display_name": "1844144", "link": "https://stackoverflow.com/users/2037086/1844144"}, "is_accepted": false, "score": 0, "last_activity_date": 1448535587, "creation_date": 1448535587, "answer_id": 33936900, "question_id": 33927836, "link": "https://stackoverflow.com/questions/33927836/featured-products-on-mezzanine-project-homepage/33936900#33936900", "title": "Featured products on mezzanine project homepage", "body": "<p>Your code in index.html:</p>\n\n<blockquote>\n  <p>{% with category as \"featured\" %}</p>\n</blockquote>\n\n<p>means treat variable <code>category</code> as string literals (are you sure that this is what you want?), so you will unable to use variable <code>featured</code> after this statement.</p>\n\n<blockquote>\n  <p>Values enclosed in single quotes (') or double quotes (\") are treated as\n  string literals, while values without quotes are treated as template \n  variables. (Django docs)</p>\n</blockquote>\n\n<p>Next, according to your code, you have <code>products</code> variable (and this is QuerySet) in your context, so value products.object_list will give nothing, as a QuerySet object do not have <code>object_list</code> attribute.\nMaybe what you want in this line is </p>\n\n<p><code>{% for product in products %}\n</code></p>\n\n<p>You may publish more code to clarify situation.</p>\n"}], "owner": {"reputation": 1, "user_id": 5549201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1bff5ed454976947632cb496eeb80c?s=128&d=identicon&r=PG&f=1", "display_name": "doot doot", "link": "https://stackoverflow.com/users/5549201/doot-doot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448535587, "creation_date": 1448492054, "question_id": 33927836, "link": "https://stackoverflow.com/questions/33927836/featured-products-on-mezzanine-project-homepage", "title": "Featured products on mezzanine project homepage", "body": "<p>I am working on an implementation of an online shop using cartridge &amp; mezzanine.\nI would like to include a \"featured products\" section using a category from cartridge's shop (product_category). I have created a test category, populated it with entries and am trying to view it from the homepage but it doesn't return anything. What should i be doing instead?</p>\n\n<p><em>index.html</em></p>\n\n<pre><code>{% with category as \"featured\" %}\n{% for product in products.object_list %}\n</code></pre>\n\n<p>(just using the category.html product display html for now)</p>\n\n<p><em>views.py</em></p>\n\n<pre><code>def index(request):\n    products = Product.objects.all()\n    context = {'products': products}\n    return render(request, 'index.html', context)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "edited": false, "score": 1, "creation_date": 1448491877, "post_id": 33927720, "comment_id": 55616576, "body": "<code>max([len(s) for s in sentence.split()])</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1448491963, "post_id": 33927720, "comment_id": 55616611, "body": "There&#39;s pretty much no reason to use a list comprehension here. A genexp is better."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1448491978, "post_id": 33927768, "comment_id": 55616619, "body": "Why would you pass <code>word</code> as a star-arg? That just makes things break if <code>word</code> only has one element."}, {"owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1448492149, "post_id": 33927768, "comment_id": 55616681, "body": "@user2357112 corrected, thanks"}], "tags": [], "owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "is_accepted": false, "score": 2, "last_activity_date": 1448492671, "last_edit_date": 1448492671, "creation_date": 1448491708, "answer_id": 33927768, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension/33927768#33927768", "title": "Change code to use list comprehension", "body": "<p>a list comprehension doesn't seem apt for the result you seek. Instead, you can pass the list <code>word</code> to the built-in function <code>max()</code> with a positional parameter <code>key</code>: a function which operates on every element in <code>word</code> and returns a value( length, in this case) as ordering value:</p>\n\n<pre><code>len(max(word,key=len))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5594707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba95882c3deaf32d19e63b486de7e9f7?s=128&d=identicon&r=PG&f=1", "display_name": "Signpost87", "link": "https://stackoverflow.com/users/5594707/signpost87"}, "edited": false, "score": 0, "creation_date": 1448492108, "post_id": 33927815, "comment_id": 55616664, "body": "Thanks ZWiki. Just to show my complete ignorance but why is that better than the code I wrote? I can&#39;t see why using list comprehension makes the code any better (in reality I find it harder to read) so is it not the same thing just formatted differently?"}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "reply_to_user": {"reputation": 13, "user_id": 5594707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba95882c3deaf32d19e63b486de7e9f7?s=128&d=identicon&r=PG&f=1", "display_name": "Signpost87", "link": "https://stackoverflow.com/users/5594707/signpost87"}, "edited": false, "score": 0, "creation_date": 1448492216, "post_id": 33927815, "comment_id": 55616708, "body": "@Signpost87, take a look at this article: <a href=\"https://wiki.python.org/moin/PythonSpeed/PerformanceTips#Loops\" rel=\"nofollow noreferrer\">wiki.python.org/moin/PythonSpeed/PerformanceTips#Loops</a> Although <code>list comprehension</code> is more or less just syntactical over normal for loops, you can use a generator function (better for large loops as it will keep an index of where in the loop it is the next time around)"}, {"owner": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "edited": false, "score": 0, "creation_date": 1448492413, "post_id": 33927815, "comment_id": 55616781, "body": "@ZWiki: In your suggestion <code>max([len(word) for word in sentence.split()])</code> there is no need to bring the list to life with the square brackets,  <code>max(len(word) for word in sentence.split())</code> works just as fine and most likely performs better."}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "reply_to_user": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "edited": false, "score": 1, "creation_date": 1448492666, "post_id": 33927815, "comment_id": 55616894, "body": "@PedroMDuarte use <code>timeit.timeit</code> to compare the times of the two, you will be surprised"}, {"owner": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "edited": false, "score": 0, "creation_date": 1448493202, "post_id": 33927815, "comment_id": 55617120, "body": "@ZWiki  honestly I am surprised:  In [5]: %time max([len(word) for word in (sentence*10000).split()]) Wall time: 91.1 ms Out[5]: 6  In [6]: %time max(len(word) for word in (sentence*10000).split()) Wall time: 108 ms Out[6]: 6"}, {"owner": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "edited": false, "score": 0, "creation_date": 1448493227, "post_id": 33927815, "comment_id": 55617130, "body": "@ZWiki, do you know why it is the case?"}, {"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "reply_to_user": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "edited": false, "score": 1, "creation_date": 1448493799, "post_id": 33927815, "comment_id": 55617306, "body": "@PedroMDuarte your code produces a <code>generator</code>. Although it is better for large lists, <code>generators</code> have initial setup time that out-weighs the time of <code>list comprehension</code> for smaller loops"}], "tags": [], "owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "is_accepted": true, "score": 1, "last_activity_date": 1448491933, "creation_date": 1448491933, "answer_id": 33927815, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension/33927815#33927815", "title": "Change code to use list comprehension", "body": "<p>Let's talk about list comprehension quick...  </p>\n\n<p>Let's take a normal <code>for loop</code> like this:  </p>\n\n<pre><code>sentence = 'Hello how are you doing today?'\nlengths = []\nfor word in sentence.split():\n    lengths.append(len(word))\n</code></pre>\n\n<p>This is the equivalent of this:</p>\n\n<pre><code>[len(word) for word in sentence.split()]\n</code></pre>\n\n<p>The normal syntax of a single for loop list comprehension is <code>[value for value in list]</code>\nWhere you can see <code>for value in list</code> which is the same as a normal for loop. The only difference is instead of the value to return being after the for loop, it is before.</p>\n\n<p>For your case you can do this: <code>max([len(word) for word in sentence.split()])</code></p>\n"}, {"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": false, "score": 0, "last_activity_date": 1448491976, "creation_date": 1448491976, "answer_id": 33927823, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension/33927823#33927823", "title": "Change code to use list comprehension", "body": "<p>To use list comprehension you could replace <code>max(len(s) for s in word)</code> with <code>max([len(s) for s in word])</code>, but there is no need to do this, both examples will work fine. You just need to understand how this list comprehension works in order to solve the task. For beginner it is much easier to understand how this works:</p>\n\n<pre><code>def find_longest_word(sentence):\n    res = []\n    words = sentence.split()\n    for word in words:\n        res.append(len(word))\n    long_word = max(res)\n    print \"The length of the longest word is: \", long_word\n\nfind_longest_word(\"The quick brown fox jumps over the lazy dog\")\n</code></pre>\n\n<p>than to use some list comprehensions or generators.</p>\n"}, {"tags": [], "owner": {"reputation": 20555, "user_id": 1476240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9efe21dae34f1994347ecfa1f18e55bc?s=128&d=identicon&r=PG", "display_name": "Pedro M Duarte", "link": "https://stackoverflow.com/users/1476240/pedro-m-duarte"}, "is_accepted": false, "score": 1, "last_activity_date": 1448492931, "last_edit_date": 1448492931, "creation_date": 1448492017, "answer_id": 33927832, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension/33927832#33927832", "title": "Change code to use list comprehension", "body": "<p>Better than list comprehension, use a higher-order function (a function that can take another function as an argument) such as <code>max</code>.  The <code>key</code> argument to <code>max</code> will be applied to each element in <code>sentence.split()</code> and ordering will be determined based on that.  Here are a couple of examples:</p>\n\n<pre><code>&gt;&gt;&gt; def find_longest_word(sentence):\n...     longest = max(sentence.split(), key=len)\n...     print(longest, len(longest))\n...\n&gt;&gt;&gt; find_longest_word(\"The quick brown fox jumps over the lazy dog\")\nquick 5\n&gt;&gt;&gt; find_longest_word(\"The quick brown fox juuuuumps over the lazy dog\")\njuuuuumps 9\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Notice that <code>len</code> is the python built-in function to determine the length of an object. </p>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 5574093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1mzWyUOdII/AAAAAAAAAAI/AAAAAAAAABs/-yBOC2Z9Drs/photo.jpg?sz=128", "display_name": "Stephen Briney", "link": "https://stackoverflow.com/users/5574093/stephen-briney"}, "is_accepted": false, "score": 0, "last_activity_date": 1448493876, "creation_date": 1448493876, "answer_id": 33928166, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension/33928166#33928166", "title": "Change code to use list comprehension", "body": "<p>Just had to post my version... just cant resist a list comprehension question - how pythonic!</p>\n\n<pre><code>&gt;&gt;&gt; s = \"The quick brown fox jumps over the lazy dog with pneumonia\"\n&gt;&gt;&gt; w = max([word for word in s.split()], key=len)\n&gt;&gt;&gt; print('{} {}'.format(w, len(w)))\npneumonia 9\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5594707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba95882c3deaf32d19e63b486de7e9f7?s=128&d=identicon&r=PG&f=1", "display_name": "Signpost87", "link": "https://stackoverflow.com/users/5594707/signpost87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "closed_date": 1448528036, "accepted_answer_id": 33927815, "answer_count": 5, "score": 0, "last_activity_date": 1448493876, "creation_date": 1448491437, "last_edit_date": 1448492267, "question_id": 33927720, "link": "https://stackoverflow.com/questions/33927720/change-code-to-use-list-comprehension", "closed_reason": "Not suitable for this site", "title": "Change code to use list comprehension", "body": "<p>Very new to Python and trying to work through some examples online to teach myself. I fixed one problem but when I was talking to a friend he told me I should use list comprehension to complete such a task. The only thing is I can't see how I could implement the task using list comprehension rather than a generator function. This is the code that works, all help is appreciated!</p>\n\n<pre><code>#!/usr/bin/python\n\ndef find_longest_word(sentence):\n    word = sentence.split()\n    long_word = max(len(s) for s in word) # [x for x in range]    \n    print \"The length of the longest word is: \",long_word\n    #return\nfind_longest_word(\"The quick brown fox jumps over the lazy dog with pneumonia\") # For testing\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-2.7", "datetime", "numpy"], "comments": [{"owner": {"reputation": 1935, "user_id": 451160, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/22a7fe7c84b31202c0a07ebd6b14ffc2?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/451160/sam"}, "edited": false, "score": 0, "creation_date": 1448492728, "post_id": 33927719, "comment_id": 55616911, "body": "What format is 13:39:58.495 in?"}, {"owner": {"reputation": 615, "user_id": 5295157, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-kATu0I9F0XQ/AAAAAAAAAAI/AAAAAAAAAcQ/nMG5XOBADCM/photo.jpg?sz=128", "display_name": "shahram kalantari", "link": "https://stackoverflow.com/users/5295157/shahram-kalantari"}, "edited": false, "score": 0, "creation_date": 1448495710, "post_id": 33927719, "comment_id": 55617904, "body": "If you have a base time (a time that you know that the time strings in the file are not before that), then you can make a DateTime object of it and then by subtracting your DateTime objects in the file from the base DateTime object and using .total_seconds() function on the result of subtraction, you will get the difference in seconds."}, {"owner": {"reputation": 43, "user_id": 2819793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78a879a4ebf61390381a269e0d76f9b0?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi Lee", "link": "https://stackoverflow.com/users/2819793/kimi-lee"}, "edited": false, "score": 0, "creation_date": 1448505588, "post_id": 33927719, "comment_id": 55620274, "body": "What I want to do is to input an array containing times  in the format: 13:39:58.495 (hour:minute:second:miliscecond). But numpy won&#39;t let me input this without converting these values to a number. I want to convert them to seconds by taking the first value as 0 seconds, and the other values as the difference in seconds."}], "answers": [{"tags": [], "owner": {"reputation": 4912, "user_id": 4974175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ixCeF.jpg?s=128&g=1", "display_name": "rll", "link": "https://stackoverflow.com/users/4974175/rll"}, "is_accepted": false, "score": 0, "last_activity_date": 1448494462, "creation_date": 1448494462, "answer_id": 33928271, "question_id": 33927719, "link": "https://stackoverflow.com/questions/33927719/how-to-use-converters-in-numpy-to-change-time-string-into-number/33928271#33928271", "title": "how to use converters in numpy to change time string into number", "body": "<p><code>datestr2num</code> is actually not on the docs, but is implemented as a wrapper to <code>date2num</code>. The <a href=\"http://matplotlib.org/api/dates_api.html#matplotlib.dates.date2num\" rel=\"nofollow\">documentation</a> says:</p>\n\n<blockquote>\n  <p>Return value is a floating point number (or sequence of floats) which gives the number of days (fraction part represents hours, minutes, seconds) since 0001-01-01 00:00:00 UTC, plus one.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": true, "score": 1, "last_activity_date": 1448689840, "creation_date": 1448689840, "answer_id": 33968186, "question_id": 33927719, "link": "https://stackoverflow.com/questions/33927719/how-to-use-converters-in-numpy-to-change-time-string-into-number/33968186#33968186", "title": "how to use converters in numpy to change time string into number", "body": "<p>A <em>converter</em> here is a function that accepts a string with possibly missing value and returns a float. If you want that float to be the number of seconds since the first entry; you could use a callable object to store the first value:</p>\n\n<pre><code>from datetime import datetime\n\nclass SecondsSinceFirst:\n    def __init__(self, default=float('nan')):\n        self.first = None\n        self.default = default\n    def __call__(self, value):\n        value = value.decode('ascii', 'ignore').strip()\n        if not value:  # no value\n            return self.default\n        try:  # specify input format here\n            current = datetime.strptime(value, \"%H:%M:%S.%f\")\n        except ValueError:  # can't parse the value\n            return self.default\n        else:\n            if self.first is not None: \n                return (current - self.first).total_seconds()\n            else:\n                self.first = current\n                return 0.0\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; from io import BytesIO\n&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; f = BytesIO(b\"12:00:00.0 1 2\\n12:30:00.0 3 4\\n13:39:58.495 5 6\")\n&gt;&gt;&gt; time, W, L = numpy.loadtxt(f, converters={0: SecondsSinceFirst()}, unpack=True)\n&gt;&gt;&gt; time\n array([    0.   ,  1800.   ,  5998.495]\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 2819793, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78a879a4ebf61390381a269e0d76f9b0?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi Lee", "link": "https://stackoverflow.com/users/2819793/kimi-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4051, "favorite_count": 0, "accepted_answer_id": 33968186, "answer_count": 2, "score": 1, "last_activity_date": 1448689840, "creation_date": 1448491436, "last_edit_date": 1448497312, "question_id": 33927719, "link": "https://stackoverflow.com/questions/33927719/how-to-use-converters-in-numpy-to-change-time-string-into-number", "title": "how to use converters in numpy to change time string into number", "body": "<p>I'm using <code>np.loadtxt</code>, and I want to convert an array containing values such as <code>13:39:58.495</code>, to seconds. My code is below.</p>\n\n<pre><code>from numpy import*\nimport time\nfrom matplotlib.dates import datestr2num\n\ntime, W, L = loadtxt('file.txt', converters = {0: datestr2num})\n</code></pre>\n\n<p>this returns time values in the form of <code>735927.56942703</code>, which I'm not sure what units this is in terms of, hours minutes... I just want to convert the above time format to seconds. Thanks</p>\n"}, {"tags": ["python", "matplotlib", "pde"], "comments": [{"owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1448493063, "post_id": 33927674, "comment_id": 55617063, "body": "Hint: <code>Z = np.sin(3*np.sqrt(X*X+Y*Y)); print Z</code>"}, {"owner": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "reply_to_user": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1448493666, "post_id": 33927674, "comment_id": 55617272, "body": "@gboffi Well that&#39;s the problem! I already have a &quot;Z&quot;. I&#39;m not trying to plot an exact solution. So, the function you just mentioned in terms of Z does not exist for me. I have values of Z obtained by an approximate solution at the various grid points, and that gives len(Z) = 9. However, len(X) and len(Y) are 3 each."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "edited": false, "score": 0, "creation_date": 1448495183, "post_id": 33928223, "comment_id": 55617750, "body": "That works! Z was a 9x1 matrix. Thank you! I still don&#39;t understand how 2D arrays facilitate the whole process. Could you possibly explain this?"}, {"owner": {"reputation": 403, "user_id": 3991555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7544757eac6291740cb1322e232212bf?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dauenhauer", "link": "https://stackoverflow.com/users/3991555/eric-dauenhauer"}, "reply_to_user": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "edited": false, "score": 0, "creation_date": 1448499904, "post_id": 33928223, "comment_id": 55618898, "body": "To plot a 3D figure, such as a surface plot, each point in space needs to be defined by 3 points, your x, y, and z.  By using 2D vectors (which you illustrated very well in the OP), you provide a definition of the <code>x</code>, <code>y</code>, and <code>z</code> values for each point in space.  <code>X</code> and <code>Y</code> in the OP are your &quot;grid&quot;, and <code>Z</code> from my solution is &quot;elevation&quot;.  Each value in your 3x3 <code>Z</code> matches one of the coordinates in your <code>X</code> and <code>Y</code> matrices.  There are several ways to explain it; feel free to message me if you&#39;d like additional guidance."}, {"owner": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "edited": false, "score": 0, "creation_date": 1448556991, "post_id": 33928223, "comment_id": 55646603, "body": "This does make sense to me. I didn&#39;t understand why we were using mesh grid for it. I suppose it creates the right amount of &quot;combinations&quot; of x and y to be plotted along with z. I hope that is correct to some extent at least :)"}, {"owner": {"reputation": 403, "user_id": 3991555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7544757eac6291740cb1322e232212bf?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dauenhauer", "link": "https://stackoverflow.com/users/3991555/eric-dauenhauer"}, "reply_to_user": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "edited": false, "score": 0, "creation_date": 1448667921, "post_id": 33928223, "comment_id": 55689796, "body": "In a 2D graph, you have 1 <code>x</code> value for every 1 <code>y</code> value.  In a 3D graph, each <code>x</code> value is paired with multiple <code>y</code> values.  In your case, <code>x=-1</code> is paired with <code>y=-1</code>, <code>y=0</code>, and <code>y=1</code>.  The same is true for <code>x=0</code> and <code>x=1</code>.  <code>Meshgrid</code> essentially gives you matrices from vectors so that these pairings are explicitly defined.  If you have two row vectors <code>x</code> and <code>y</code> that define the range of your plot, then the only spaces defined in your plot are the pairs of values from your row vectors.  By creating 2D matrices, you explicitly state the points at which your function (<code>z</code>) is defined."}], "tags": [], "owner": {"reputation": 403, "user_id": 3991555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7544757eac6291740cb1322e232212bf?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dauenhauer", "link": "https://stackoverflow.com/users/3991555/eric-dauenhauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1448494173, "creation_date": 1448494173, "answer_id": 33928223, "question_id": 33927674, "link": "https://stackoverflow.com/questions/33927674/matplotlib-meshgrid/33928223#33928223", "title": "Matplotlib- meshgrid", "body": "<p>Its a bit tough to provide an answer when we don't know what your <code>z</code> matrix is, so here are my two best guesses:</p>\n\n<ol>\n<li><code>z</code> is a 1x9 (or 9x1) vector, in which case it should be reshaped to a 3x3 matrix using the <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.reshape.html\" rel=\"nofollow\"><code>np.reshape</code></a> command.</li>\n</ol>\n\n<p>e.g.</p>\n\n<pre><code>Z = np.reshape(Z_approx, (3, 3))\n</code></pre>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li><code>z</code> is a 9x9 matrix, in which case I would just make <code>x</code> and <code>y</code> 9x9 matrices instead of 3x3 using this small change.</li>\n</ol>\n\n<p>e.g.</p>\n\n<pre><code>x = np.linspace(-1,1, 9)\ny = np.linspace(-1,1, 9)\n</code></pre>\n\n<p>Hope that helps, or maybe you can let us know more about your <code>z</code> matrix.</p>\n"}], "owner": {"reputation": 153, "user_id": 4303415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a7fae0fa882a1389f5623a58f98072?s=128&d=identicon&r=PG&f=1", "display_name": "ashishv", "link": "https://stackoverflow.com/users/4303415/ashishv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 0, "accepted_answer_id": 33928223, "answer_count": 1, "score": 0, "last_activity_date": 1448494173, "creation_date": 1448491194, "question_id": 33927674, "link": "https://stackoverflow.com/questions/33927674/matplotlib-meshgrid", "title": "Matplotlib- meshgrid", "body": "<p>I would like to make a surface plot for the solution of a grid. My domain ranges from [-1, 1] in both x and y directions. I understand that I need to provide 2D arrays to plot_surface(x,y,z) for x and y. However, I do not understand how to arrange this for z. </p>\n\n<p>To make things clearer, say I take a grid spacing of 3 points in each direction. I end up getting [-1, 0, 1] and [-1, 0, 1] in both the x and y directions respectively. This gives me 9 points where I need to evaluate for z. Here's what I wrote: </p>\n\n<pre><code>x = np.linspace(-1,1, 3)\ny = np.linspace(-1,1, 3)\nX,Y = np.meshgrid(x, y)\n# Remaining code uses plot_surface(X, Y, Z_approx)\n#\n</code></pre>\n\n<p>Each X and Y are 2D arrays, of length 3 each. However, my Z \"approximation\" has a length of 9. How do I then plot this together? </p>\n\n<p>Here's how the grid would look! </p>\n\n<blockquote>\n  <p>*(-1,1) ____ *(0,1) ____ *(1,1)</p>\n  \n  <p>*(-1,0) ____ *(0,0) ____ *(1,0)</p>\n  \n  <p>*(-1,-1)____ *(0,-1)____ *(1,-1)</p>\n</blockquote>\n"}, {"tags": ["python", "synchronization", "multiprocessing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1448491164, "post_id": 33927626, "comment_id": 55616287, "body": "<code>start</code> starts processes, not <code>run</code>. <code>start</code> arranges for <code>run</code> to be called in a new process."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5537345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0887c5b69514e1179c857af33a9f42?s=128&d=identicon&r=PG&f=1", "display_name": "strangeintp", "link": "https://stackoverflow.com/users/5537345/strangeintp"}, "edited": false, "score": 0, "creation_date": 1448492444, "post_id": 33927749, "comment_id": 55616796, "body": "Thanks, I&#39;d tried start() instead of run() before but for some reason on my machine it does nothing for a bit, then spits out all the output to the console all at once...  not sure why it does that. I guess I was terminating the program too soon, thinking that it was hanging."}, {"owner": {"reputation": 478, "user_id": 5574093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1mzWyUOdII/AAAAAAAAAAI/AAAAAAAAABs/-yBOC2Z9Drs/photo.jpg?sz=128", "display_name": "Stephen Briney", "link": "https://stackoverflow.com/users/5574093/stephen-briney"}, "reply_to_user": {"reputation": 11, "user_id": 5537345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0887c5b69514e1179c857af33a9f42?s=128&d=identicon&r=PG&f=1", "display_name": "strangeintp", "link": "https://stackoverflow.com/users/5537345/strangeintp"}, "edited": false, "score": 0, "creation_date": 1448493149, "post_id": 33927749, "comment_id": 55617097, "body": "Whenever you call print try putting print(..., flush=True). This will force the output to be flushed to the screen instantly instead of being buffered - this method needs python 3.3+"}], "tags": [], "owner": {"reputation": 478, "user_id": 5574093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1mzWyUOdII/AAAAAAAAAAI/AAAAAAAAABs/-yBOC2Z9Drs/photo.jpg?sz=128", "display_name": "Stephen Briney", "link": "https://stackoverflow.com/users/5574093/stephen-briney"}, "is_accepted": false, "score": 1, "last_activity_date": 1448491874, "last_edit_date": 1448491874, "creation_date": 1448491552, "answer_id": 33927749, "question_id": 33927626, "link": "https://stackoverflow.com/questions/33927626/python-multiprocessing-event-wait-blocking-other-processes/33927749#33927749", "title": "Python multiprocessing: Event.wait() blocking other processes", "body": "<p>He is a working version of the code. When you subclass process you implement the run method to define what should run in that process. When you actually want the process to start you should call the start method on it (proc.start()).</p>\n\n<pre><code>from multiprocessing import Process, Event\nfrom time import time, sleep\n\nclass Worker(Process):\n\n    def __init__(self, my_id, caller):\n        Process.__init__(self)\n        self.caller = caller\n        self.my_id = my_id\n\n    def run(self):\n        print(\"%i started\"%self.my_id)\n        self.caller.start_flag.wait()\n        print(\"%i sleeping\"%self.my_id)\n        sleep(5)\n\n\nclass ParentProcess(object):\n\n    def __init__(self, num_procs):\n        self.procs = []\n        self.start_flag = Event()        \n        for i in range(num_procs):\n            self.procs.append(Worker(i, self))\n\n    def run(self):\n        for proc in self.procs:\n            proc.start()\n        self.start_flag.set()\n        for proc in self.procs:\n            proc.join()\n            print(\"%i done\"%proc.my_id)           \n\n\nif __name__ == '__main__':\n    cpus = 4\n    world = ParentProcess(cpus)\n    start = time()\n    world.run()\n    end = time()\n    runtime = end - start\n    print(runtime)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>0 started\n1 started\n2 started\n2 sleeping\n0 sleeping\n1 sleeping\n3 started\n3 sleeping\n0 done\n1 done\n2 done\n3 done\n5.01037812233\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5537345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0887c5b69514e1179c857af33a9f42?s=128&d=identicon&r=PG&f=1", "display_name": "strangeintp", "link": "https://stackoverflow.com/users/5537345/strangeintp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2861, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448491874, "creation_date": 1448490937, "question_id": 33927626, "link": "https://stackoverflow.com/questions/33927626/python-multiprocessing-event-wait-blocking-other-processes", "title": "Python multiprocessing: Event.wait() blocking other processes", "body": "<p>I'm working with a toy multiprocessing problem, and event signalling is not working as expected.  The multiprocessing documentation refers detail description of Event() to the multithreading documentation, and the description of the methods there are precisely what I'm trying to do.  I want worker processes (subclassed from multiprocessing.Process) spawned by a parent class, then wait for a start signal from the parent class, do their thing, then terminate.  What seems to be happening, however, is that the first process, once running, blocks any others.  What's going on here, and how do I fix?</p>\n\n<pre><code>class Worker(Process):\n\n    def __init__(self, my_id, caller):\n        Process.__init__(self)\n        self.caller = caller\n        self.my_id = my_id\n\n    def run(self):\n        print(\"%i started\"%self.my_id)\n        self.caller.start_flag.wait()\n        print(\"%i sleeping\"%self.my_id)\n        sleep(2000)\n\n\nclass ParentProcess(object):\n\n    def __init__(self, num_procs):\n        self.procs = []\n        self.start_flag = Event()        \n        for i in range(num_procs):\n            self.procs.append(Worker(i, self))\n\n    def run(self):\n        for proc in self.procs:\n            proc.run()\n        self.start_flag.set()\n        for proc in self.procs:\n            proc.join()\n            print(\"%i done\"%proc.my_id)           \n\n\nif __name__ == '__main__':\n    cpus = cpu_count()    \n    world = ParentProcess(cpus)\n    start = time()\n    world.run()\n    end = time()\n    runtime = end - start\n    print(\"Runtime: %3.6f\"%runtime)\n</code></pre>\n\n<p>This is only outputting \"0 started\", then hanging.  It seems the Event.wait() is blocking all other threads, even the caller.  The documentation implies this should not happen.</p>\n"}, {"tags": ["python", "flask", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 26172, "user_id": 2023392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65e1ee6b43149bbfb6d80ce8edb6e425?s=128&d=identicon&r=PG", "display_name": "radtek", "link": "https://stackoverflow.com/users/2023392/radtek"}, "edited": false, "score": 0, "creation_date": 1490815485, "post_id": 33927616, "comment_id": 73286523, "body": "I wanted to make a process async with running Process as a daemon using python 2.7.x. The problem is the return in the endpoint does not occur until the process is finished running, even though daemon is set to True. I&#39;m running this on uWSGI, maybe that is why."}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 5606229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/442c5813b88ee874f8578a8d724a099b?s=128&d=identicon&r=PG&f=1", "display_name": "g_grillz", "link": "https://stackoverflow.com/users/5606229/g-grillz"}, "edited": false, "score": 0, "creation_date": 1452120525, "post_id": 34631811, "comment_id": 57034518, "body": "Awesome, that works. Thank you, I was banging my head against a wall with that"}, {"owner": {"reputation": 192, "user_id": 1745434, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e806caa2826cbb947b81b2585f77f05c?s=128&d=identicon&r=PG", "display_name": "jjmurre", "link": "https://stackoverflow.com/users/1745434/jjmurre"}, "edited": false, "score": 0, "creation_date": 1505210617, "post_id": 34631811, "comment_id": 79309045, "body": "Be aware though, that deploying a Flask app using apache/mod_wsgi, using multiprocessing is not working at all or is very unreliable. Better use a task queue like Celery, Huey or Rq."}, {"owner": {"reputation": 182, "user_id": 8098653, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-__R-OPjqUPg/AAAAAAAAAAI/AAAAAAAAADM/XavzK197cFc/photo.jpg?sz=128", "display_name": "gB08", "link": "https://stackoverflow.com/users/8098653/gb08"}, "edited": false, "score": 0, "creation_date": 1510032908, "post_id": 34631811, "comment_id": 81250821, "body": "@ jjmurre : what problem are u facing for Apache? I&#39;m planning to deploy my flask application with multiprocessing on apache."}, {"owner": {"reputation": 1138, "user_id": 4538768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/193e75d8ac32ee74d76e503a49388bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Perez", "link": "https://stackoverflow.com/users/4538768/juan-perez"}, "reply_to_user": {"reputation": 192, "user_id": 1745434, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e806caa2826cbb947b81b2585f77f05c?s=128&d=identicon&r=PG", "display_name": "jjmurre", "link": "https://stackoverflow.com/users/1745434/jjmurre"}, "edited": false, "score": 0, "creation_date": 1595990734, "post_id": 34631811, "comment_id": 111662347, "body": "@jjmurre did you try to deploy on apache? Did you get an issue?"}, {"owner": {"reputation": 192, "user_id": 1745434, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e806caa2826cbb947b81b2585f77f05c?s=128&d=identicon&r=PG", "display_name": "jjmurre", "link": "https://stackoverflow.com/users/1745434/jjmurre"}, "reply_to_user": {"reputation": 1138, "user_id": 4538768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/193e75d8ac32ee74d76e503a49388bf9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Perez", "link": "https://stackoverflow.com/users/4538768/juan-perez"}, "edited": false, "score": 0, "creation_date": 1596005637, "post_id": 34631811, "comment_id": 111666276, "body": "@JuanPerez Deploying Flask with mod_wsgi using multiple processes is not a problem. In my remark on sep 12 &#39;17 I was referring to the python multiprocessing module, not to mod_wsgi."}], "tags": [], "owner": {"reputation": 196, "user_id": 4812267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3e6184aa29c108a70f7736fb219dbd?s=128&d=identicon&r=PG&f=1", "display_name": "stacklikemind", "link": "https://stackoverflow.com/users/4812267/stacklikemind"}, "is_accepted": true, "score": 14, "last_activity_date": 1452079004, "creation_date": 1452079004, "answer_id": 34631811, "question_id": 33927616, "link": "https://stackoverflow.com/questions/33927616/multiprocess-within-flask-app-spinning-up-2-processes/34631811#34631811", "title": "Multiprocess within flask app spinning up 2 processes", "body": "<p>This is a problem with the Flask auto-reload feature, which is used during development to automatically restart the webserver when changes in code is detected, in order to serve up the new code without requiring a manual restart.</p>\n\n<p>In the guide, the <code>\u201capp.run()\u201d</code> call is always placed within an <code>\u201cif __name__ == \u2018__main__\u2019\u201d</code> condition, since the reloader is set to on by default. When using multiprocessing, this condition will result in false, so you have to instead disable the Flask autoreload when using it in a function like so:</p>\n\n<pre><code>def startWebserver():\n          app.run(debug=True, use_reloader=False)\n</code></pre>\n\n<p>Link for reference:</p>\n\n<p><a href=\"http://blog.davidvassallo.me/2013/10/23/nugget-post-python-flask-framework-and-multiprocessing/\" rel=\"noreferrer\">http://blog.davidvassallo.me/2013/10/23/nugget-post-python-flask-framework-and-multiprocessing/</a></p>\n"}], "owner": {"reputation": 293, "user_id": 5606229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/442c5813b88ee874f8578a8d724a099b?s=128&d=identicon&r=PG&f=1", "display_name": "g_grillz", "link": "https://stackoverflow.com/users/5606229/g-grillz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11830, "favorite_count": 4, "accepted_answer_id": 34631811, "answer_count": 1, "score": 14, "last_activity_date": 1452079004, "creation_date": 1448490911, "question_id": 33927616, "link": "https://stackoverflow.com/questions/33927616/multiprocess-within-flask-app-spinning-up-2-processes", "title": "Multiprocess within flask app spinning up 2 processes", "body": "<p>I am building a flask app and need some background processes to run. I decided to go with multiprocess, but it's producing two processes when running within Flask. Does anyone know why this would happen? I've tested it on OS X and Ubuntu 12.04, with the same results. Here is an example:</p>\n\n<pre><code>import time\nimport multiprocessing\nfrom flask import Flask\n\napp = Flask(__name__)\nbackProc = None\n\ndef testFun():\n    print('Starting')\n    while True:\n        time.sleep(3)\n        print('looping')\n        time.sleep(3)\n        print('3 Seconds Later')\n\n@app.route('/')\ndef root():\n\n    return 'Started a background process with PID ' + str(backProc.pid) + \" is running: \" + str(backProc.is_alive())\n\n@app.route('/kill')\ndef kill():\n    backProc.terminate()\n    return 'killed: ' + str(backProc.pid)\n\n@app.route('/kill_all')\ndef kill_all():\n    proc = multiprocessing.active_children()\n    for p in proc:\n        p.terminate()\n    return 'killed all'\n\n@app.route('/active')\ndef active():\n    proc = multiprocessing.active_children()\n    arr = []\n    for p in proc:\n        print(p.pid)\n        arr.append(p.pid)\n\n    return str(arr)\n\n@app.route('/start')\ndef start():\n    global backProc\n    backProc = multiprocessing.Process(target=testFun, args=(), daemon=True)\n    backProc.start()\n    return 'started: ' + str(backProc.pid)\n\nif __name__ == '__main__':\n    app.run(port=int(\"7879\"))\n</code></pre>\n"}, {"tags": ["python", "mapreduce", "apache-spark", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 3, "last_activity_date": 1448495159, "last_edit_date": 1448495159, "creation_date": 1448492855, "answer_id": 33928000, "question_id": 33927604, "link": "https://stackoverflow.com/questions/33927604/pyspark-how-to-merge-key-with-case-ignored/33928000#33928000", "title": "PySpark - how to merge key with case ignored", "body": "<p><code>reduce</code> is not well suited here (it would require an additional <code>map</code> to a buffer that can handle intended aggregation) and it makes more sense to simply convert to lowercase inside the map:</p>\n\n<pre><code>from operator import add \n\nrdd = sc.parallelize([\n   \"Python\", \"python\", \"Haskell\", \"Clojure\", \"Scala\", \"scala\"])\nrdd.map(lambda word: (word.lower(), 1)).reduceByKey(add).collectAsMap()\n\n## {'clojure': 1, 'haskell': 1, 'python': 2, 'scala': 2}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5004329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85611393fe999fc2abdc8ba6fd8260a1?s=128&d=identicon&r=PG&f=1", "display_name": "kevinL", "link": "https://stackoverflow.com/users/5004329/kevinl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 33928000, "answer_count": 1, "score": 0, "last_activity_date": 1448495219, "creation_date": 1448490844, "last_edit_date": 1448495219, "question_id": 33927604, "link": "https://stackoverflow.com/questions/33927604/pyspark-how-to-merge-key-with-case-ignored", "title": "PySpark - how to merge key with case ignored", "body": "<p>In the word count example, for example I have <code>(python,1)</code> and <code>(Python,2)</code> after mapping. How can I merger the two into one <code>(python,3)</code> by doing the followings:</p>\n\n<pre><code>def combine(a, b):\n    if a[0].lower() == b[0].lower():\n        return (a[0], a[1] + b[1])\n</code></pre>\n\n<p>Then I call</p>\n\n<pre><code>(sc.map(lambda word: (word, 1))\n    .reduceByKey(lambda a, b: a + b)\n    .reduce(lambda a, b :combine(a, b)))\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4567739, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf236f7f9a58c020f8609018d72ffa7c?s=128&d=identicon&r=PG&f=1", "display_name": "Danny ", "link": "https://stackoverflow.com/users/4567739/danny"}, "edited": false, "score": 0, "creation_date": 1448491281, "post_id": 33927618, "comment_id": 55616330, "body": "Thanks this is exactly what I wanted,"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 3, "last_activity_date": 1448490917, "creation_date": 1448490917, "answer_id": 33927618, "question_id": 33927596, "link": "https://stackoverflow.com/questions/33927596/update-the-value-of-a-dictionary-with-elements-in-the-lists-python/33927618#33927618", "title": "Update the value of a dictionary with elements in the lists Python", "body": "<p>Pretty straightforward since you already have the values and keys in order.</p>\n\n<pre><code>for val, key in zip(L1, D1):\n    D1[key] = val\n</code></pre>\n\n<p>Seems like you should probably just do this in-place, since you're not adding or deleting elements</p>\n\n<pre><code>total = float(um(Counter(seq_record.seq).values()))\nfor key,val in sorted_dict.items():\n    newval = round(val/total, 4)\n    sorted_dict[key] = newval\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4567739, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cf236f7f9a58c020f8609018d72ffa7c?s=128&d=identicon&r=PG&f=1", "display_name": "Danny ", "link": "https://stackoverflow.com/users/4567739/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 33927618, "answer_count": 1, "score": 1, "last_activity_date": 1448490932, "creation_date": 1448490817, "last_edit_date": 1448490932, "question_id": 33927596, "link": "https://stackoverflow.com/questions/33927596/update-the-value-of-a-dictionary-with-elements-in-the-lists-python", "title": "Update the value of a dictionary with elements in the lists Python", "body": "<p>I've created a list and a dictionary for calculating amino acid frequencies.</p>\n\n<p>I want to basically replace the values in the dictionary with values in the list.</p>\n\n<p>So for example,</p>\n\n<p>what I have now is.</p>\n\n<p><code>L1 = [0.0429, 0.0071, 0.05, 0.0929, 0.0429, 0.0143, 0.0071, 0.0429, 0.0929, 0.1143, 0.0643, 0.0643, 0.05, 0.0286, 0.0286, 0.0643, 0.0857, 0.0714, 0.0143, 0.0214]</code></p>\n\n<p>and</p>\n\n<p><code>D1 = OrderedDict([('A', 6), ('C', 1), ('D', 7), ('E', 13), ('F', 6), ('G', 2), ('H', 1), ('I', 6), ('K', 13), ('L', 16), ('M', 9), ('N', 9), ('P', 7), ('Q', 4), ('R', 4), ('S', 9), ('T', 12), ('V', 10), ('W', 2), ('Y', 3)])</code></p>\n\n<p>I want to replace every value in <code>D1</code> to values in <code>L1</code>.\nSo for example I want <code>([('A', 0.0429),('C',0.0071)....</code> and so on.</p>\n\n<p>This is the code that creates the list (<code>L1</code>) and the dictionary(<code>D1</code>).</p>\n\n<pre><code>for seq_record in SeqIO.parse(f1,'fasta'):\n\n        sorted_dict = (collections.OrderedDict(sorted(Counter(seq_record.seq).items())))\n        total = float(sum(Counter(seq_record.seq).values()))\n        print sorted_dict\n        aa_frequency =(round(value/total,4) for key, value in sorted_dict.items())\n        aa_frequency_value = []\n        for i in aa_frequency:\n            aa_frequency_value.append(i) \n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "boxplot", "margins"], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 633182, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d47a7cc3ba0e67abdb01989f1abcd984?s=128&d=identicon&r=PG", "display_name": "sAguinaga", "link": "https://stackoverflow.com/users/633182/saguinaga"}, "edited": false, "score": 0, "creation_date": 1448883075, "post_id": 33997245, "comment_id": 55750724, "body": "Good, exactly what I was looking for."}, {"owner": {"reputation": 577, "user_id": 633182, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d47a7cc3ba0e67abdb01989f1abcd984?s=128&d=identicon&r=PG", "display_name": "sAguinaga", "link": "https://stackoverflow.com/users/633182/saguinaga"}, "edited": false, "score": 0, "creation_date": 1448883467, "post_id": 33997245, "comment_id": 55750973, "body": "I generate the plot above by passing only <code>matplotlib.axes</code> object to a function.  For now I have a <code>figure</code> to which I <code>add_subplot</code>s and one of those is my <code>ax</code> object. So my <code>ax</code> is equivalent to your <code>main_ax</code>, right?"}, {"owner": {"reputation": 1545, "user_id": 5543796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9502b7be42fa79a9b1874895f80d9f8a?s=128&d=identicon&r=PG&f=1", "display_name": "thomas ", "link": "https://stackoverflow.com/users/5543796/thomas"}, "reply_to_user": {"reputation": 577, "user_id": 633182, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d47a7cc3ba0e67abdb01989f1abcd984?s=128&d=identicon&r=PG", "display_name": "sAguinaga", "link": "https://stackoverflow.com/users/633182/saguinaga"}, "edited": false, "score": 0, "creation_date": 1448883549, "post_id": 33997245, "comment_id": 55751027, "body": "Yes. So now you have to either pass three axes or generate the others inside the function."}], "tags": [], "owner": {"reputation": 1545, "user_id": 5543796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9502b7be42fa79a9b1874895f80d9f8a?s=128&d=identicon&r=PG&f=1", "display_name": "thomas ", "link": "https://stackoverflow.com/users/5543796/thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1448881894, "creation_date": 1448881894, "answer_id": 33997245, "question_id": 33927591, "link": "https://stackoverflow.com/questions/33927591/add-either-a-density-or-box-plot-to-the-margins-of-a-plot-in-matplotlib/33997245#33997245", "title": "Add either a density or box plot to the margins of a plot in Matplotlib", "body": "<p>You can achieve this by creating additional <code>axes</code> for the bar plots. </p>\n\n<pre><code>import pandas as pd\nfrom matplotlib import pyplot as plt\nimport numpy as np\n\nx_data = np.random.randn(100)\ny_data = -x_data + np.random.randn(100)*0.5\n\ndf = pd.DataFrame()\ndf['vcnt'] = x_data\ndf['ecnt'] = y_data\n\n\nleft = 0.1\nbottom = 0.1\ntop = 0.8\nright = 0.8\nmain_ax = plt.axes([left,bottom,right-left,top-bottom])\n# create axes to the top and right of the main axes and hide them\ntop_ax = plt.axes([left,top,right - left,1-top])\nplt.axis('off')\nright_ax = plt.axes([right,bottom,1-right,top-bottom])\nplt.axis('off')\nmain_ax.plot(df['vcnt'],  df['ecnt'], 'ko', alpha=0.5)\n# Save the default tick positions, so we can reset them..\n\ntcksx = main_ax.get_xticks()\ntcksy = main_ax.get_yticks()\n\nright_ax.boxplot(df['ecnt'], positions=[0], notch=True, widths=1.)\ntop_ax.boxplot(df['vcnt'], positions=[0], vert=False, notch=True, widths=1.)\n\nmain_ax.set_yticks(tcksy) # pos = tcksy\nmain_ax.set_xticks(tcksx) # pos = tcksx\nmain_ax.set_yticklabels([int(j) for j in tcksy])\nmain_ax.set_xticklabels([int(j) for j in tcksx])\nmain_ax.set_ylim([min(tcksy-1),max(tcksy)])\nmain_ax.set_xlim([min(tcksx-1),max(tcksx)])\n\n# set the limits to the box axes\ntop_ax.set_xlim(main_ax.get_xlim())\ntop_ax.set_ylim(-1,1)\nright_ax.set_ylim(main_ax.get_ylim())\nright_ax.set_xlim(-1,1)\n\n\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 633182, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d47a7cc3ba0e67abdb01989f1abcd984?s=128&d=identicon&r=PG", "display_name": "sAguinaga", "link": "https://stackoverflow.com/users/633182/saguinaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 33997245, "answer_count": 1, "score": 0, "last_activity_date": 1448881894, "creation_date": 1448490793, "last_edit_date": 1448881735, "question_id": 33927591, "link": "https://stackoverflow.com/questions/33927591/add-either-a-density-or-box-plot-to-the-margins-of-a-plot-in-matplotlib", "title": "Add either a density or box plot to the margins of a plot in Matplotlib", "body": "<p>I have a scatter plot in linear scale. I want to add a box plot to the margins (left and bottom) of my scatter plot <a href=\"http://cloud.originlab.com/www/products/images/Marginal_Box_w_Whiskers_c1.png\" rel=\"nofollow noreferrer\">like this figure</a> from <a href=\"http://www.originlab.com/index.aspx?go=Products/Origin/Graphing/Statistical\" rel=\"nofollow noreferrer\">Marginal Histograms and Box Charts</a>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Cny5f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cny5f.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong> \nHere is my current working solution, share your thoughts on it or make a better suggestion.</p>\n\n<pre><code>ax.plot(df['vcnt'],  df['ecnt'], 'ko', alpha=0.5)\n# Save the default tick positions, so we can reset them..\n\ntcksx = ax.get_xticks()\ntcksy = ax.get_yticks()\n\nax.boxplot(df['ecnt'], positions=[min(tcksx)], notch=True, widths=1.)\nax.boxplot(df['vcnt'], positions=[min(tcksy)], vert=False, notch=True, widths=1.)\n\nax.set_yticks(tcksy) # pos = tcksy\nax.set_xticks(tcksx) # pos = tcksx\nax.set_yticklabels([int(j) for j in tcksy])\nax.set_xticklabels([int(j) for j in tcksx])\nax.set_ylim([min(tcksy-1),max(tcksy)])\nax.set_xlim([min(tcksx-1),max(tcksx)])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1xTqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1xTqR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "class-based-views"], "comments": [{"owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "edited": false, "score": 0, "creation_date": 1448490670, "post_id": 33927545, "comment_id": 55616095, "body": "why not use nginx to handle all static files?"}, {"owner": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "reply_to_user": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "edited": false, "score": 0, "creation_date": 1448490847, "post_id": 33927545, "comment_id": 55616160, "body": "Hello, I am sorry I forgot to mention I am using apache. I have added an edit to clarify that I want to take advantage of Django&#39;s ability to serve files."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "edited": false, "score": 0, "creation_date": 1448491529, "post_id": 33927665, "comment_id": 55616421, "body": "Hi Brent, I am definitely doing this! It has definitely made the process easier. What I do not know is how to use this static.serve method to serve the file. Can you provide an example of how to use this function? Thanks."}, {"owner": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "edited": false, "score": 0, "creation_date": 1448492336, "post_id": 33927665, "comment_id": 55616754, "body": "I have previously located this article and have setup everything accordingly, however, the article is missing the information on what methods do I need to use in my views."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "edited": false, "score": 0, "creation_date": 1448493438, "post_id": 33927665, "comment_id": 55617196, "body": "Here is the recommended solution: <a href=\"https://docs.djangoproject.com/en/1.8/howto/static-files/deployment/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/howto/static-files/deployment</a>"}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 1, "last_activity_date": 1448491155, "creation_date": 1448491155, "answer_id": 33927665, "question_id": 33927545, "link": "https://stackoverflow.com/questions/33927545/using-django-how-to-serve-a-file-for-download/33927665#33927665", "title": "Using Django: How to serve a file for download?", "body": "<p>If the key grants them access to the file, why not have the key be the file name?  That is, when the file is uploaded, create a long key (say 64 characters long) and rename the file to the key name.  Then simply serve up that file using the <code>static.serve</code> method when it is requested.</p>\n\n<p>The benefits of this approach are: 1) You don't need to map the key to the file in the database, and 2) you don't need to validate the key when retrieving the file.  If the file name is found, the key is valid.</p>\n"}, {"tags": [], "owner": {"reputation": 6724, "user_id": 1454176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9qna.png?s=128&g=1", "display_name": "Zulu", "link": "https://stackoverflow.com/users/1454176/zulu"}, "is_accepted": false, "score": 0, "last_activity_date": 1448495882, "last_edit_date": 1448495882, "creation_date": 1448491743, "answer_id": 33927779, "question_id": 33927545, "link": "https://stackoverflow.com/questions/33927545/using-django-how-to-serve-a-file-for-download/33927779#33927779", "title": "Using Django: How to serve a file for download?", "body": "<p>Basically I told you, Django should not serve files in production.</p>\n\n<p>After is it possible yes:</p>\n\n<p>You can serve a file tree with <code>django.conf.urls.static.static()</code>, as a view in your <code>urls.py</code>. Example:</p>\n\n<pre><code>urlpatterns = patterns('',\n    ...\n    static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n    ...\n)\n</code></pre>\n\n<p>Or use <a href=\"https://pypi.python.org/pypi/whitenoise\" rel=\"nofollow\"><code>whitenoise</code></a>, a package for server static file with Python web apps. It is very simple to use, only change your <code>wsgi.py</code> file like this:</p>\n\n<pre><code>from django.core.wsgi import get_wsgi_application\nfrom whitenoise.django import DjangoWhiteNoise\n\napplication = get_wsgi_application()\napplication = DjangoWhiteNoise(application)\n</code></pre>\n\n<p>And use <code>'whitenoise.django.GzipManifestStaticFilesStorage'</code> as <code>STATICFILES_STORAGE</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "is_accepted": false, "score": 0, "last_activity_date": 1448697121, "creation_date": 1448697121, "answer_id": 33969008, "question_id": 33927545, "link": "https://stackoverflow.com/questions/33927545/using-django-how-to-serve-a-file-for-download/33969008#33969008", "title": "Using Django: How to serve a file for download?", "body": "<p>Along with the url file I have shown in the original question, all I needed to do from here was to provide an HttpResponseRedirect('/path/of/my/media/file')</p>\n\n<p>Very simple!</p>\n"}], "owner": {"reputation": 43, "user_id": 5606168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d129b1d2844968fe04ec7c513007d7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck", "link": "https://stackoverflow.com/users/5606168/chuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2647, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1448697121, "creation_date": 1448490560, "last_edit_date": 1448490736, "question_id": 33927545, "link": "https://stackoverflow.com/questions/33927545/using-django-how-to-serve-a-file-for-download", "title": "Using Django: How to serve a file for download?", "body": "<p>Let me start by saying I have spent a lot of energy on this and any input is very valuable to me at this point. Now, onto my question:</p>\n\n<p><strong>What I have working:</strong> My website provides a simple interface for users to upload a file in which they will be given a key. The file is saved to the server and the key is generated using a modern, secure encryption algorithm. These details are not important to the question at hand.</p>\n\n<p><strong>What I want to implement:</strong> On a download page, the user can enter the key and the file will be downloaded to their computer. Want I want to know is how to provide a user with this ability to download an uploaded file. To put it simply, I just want to allow users to download a file in the MEDIA_ROOT folder.</p>\n\n<p>I am using class-based views, so my urls are:</p>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.conf.urls.static import static\nfrom django.conf import settings\nfrom fileupload.views import FileDownloadView, GetFileView\n\nurlpatterns = patterns('',\n    url(r'^key/?$', FileDownloadView.as_view(), name='getkey'),\n    url(r'^download/(?P&lt;path&gt;.*)$', 'django.views.static.serve', {'document_root': settings.MEDIA_ROOT}, GetFileView.as_view()),\n) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n\n<p>Please provide me with the basic idea on what functions I should use in my views to actually download the file. I am still in development so I want to take advantage of Django's ability to serve files, not Apache's. I will consider other options if I go into production. Whatever code I need to post, I can post.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "python-3.x", "if-statement"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1448490287, "post_id": 33927466, "comment_id": 55615944, "body": "Check your parentheses (and consider using variable names people can actually type)."}], "answers": [{"tags": [], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "is_accepted": true, "score": 5, "last_activity_date": 1448490265, "creation_date": 1448490265, "answer_id": 33927484, "question_id": 33927466, "link": "https://stackoverflow.com/questions/33927466/invalid-syntax-after-multiple-if-statement/33927484#33927484", "title": "invalid syntax after multiple if statement", "body": "<p>You have unclosed <code>float()</code> parenthesis:</p>\n\n<pre><code>knowledge = input().lower()\n\nif knowledge in list1:\n    m = float(input())\n\nif knowledge in list2:\n    g = float(input())\n\nif knowledge in list3:\n    Fz = float(input())\n\nif knowledge in list4:\n    W = float(input())\n\nif knowledge in list5:\n    F = float(input())\n\nif knowledge in list6:\n    delta_x = float(input())\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5522348, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b57c2a49c96ca7b268516a8a7293dc3a?s=128&d=identicon&r=PG&f=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/5522348/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 33927484, "answer_count": 1, "score": 0, "last_activity_date": 1448490265, "creation_date": 1448490181, "question_id": 33927466, "link": "https://stackoverflow.com/questions/33927466/invalid-syntax-after-multiple-if-statement", "title": "invalid syntax after multiple if statement", "body": "<pre><code>knowledge = input().lower()\n\nif knowledge in list1:\n    m = float(input())\n\nif knowledge in list2:\n    g = float(input())\n\nif knowledge in list3:\n    Fz = float(input())\n\nif knowledge in list4:\n    W = float(input()\n\nif knowledge in list5:\n    F = float(input()\n\nif knowledge in list6:\n    \u0394x = float(input()\n</code></pre>\n\n<p>List 1 to 6 are all defined in another part of the code, for example: list1 = \"m\", \"mass\", \"kg\"</p>\n\n<p>From the if statement of list 4 (including the if statement from list 4 and further ones), I get an invalid syntax, which points to the \":\" at the end of the if statement of list 4.</p>\n\n<p>When removing the if statement of list 4, it will point to the \":\" of list 5, and so onward.</p>\n\n<p>What is happening here, and how do I fix it? Is it cause of my big amount of if statements?</p>\n"}, {"tags": ["python", "counter", "nltk"], "comments": [{"owner": {"reputation": 19625, "user_id": 1287834, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ffykU.jpg?s=128&g=1", "display_name": "Slater Victoroff", "link": "https://stackoverflow.com/users/1287834/slater-victoroff"}, "edited": false, "score": 0, "creation_date": 1448490323, "post_id": 33927445, "comment_id": 55615957, "body": "How sure are you that the numbers are too high?"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1448490439, "post_id": 33927445, "comment_id": 55615999, "body": "You&#39;re adding one copy of each line of text to <code>stoplist</code> for each stopword. That&#39;s probably your problem. I have no idea what you&#39;re trying to do with the stopwords, so I can&#39;t recommend a simple fix."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448490735, "post_id": 33927445, "comment_id": 55616121, "body": "i think you meant <code>if y not in stop</code> rather than having a <code>for t in stop</code>"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1448492054, "post_id": 33927445, "comment_id": 55616651, "body": "Yes, several ways unfortunately. To start, <code>empty</code> is a list of whole lines - splitting on <code>\\n</code> for each line will give you the whole line. You need to do something to split each line into words before you can use the stopwords list. This answer might get you heading more in the right direction: <a href=\"http://stackoverflow.com/a/19133088/2337736\">stackoverflow.com/a/19133088/2337736</a>"}, {"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1448492136, "post_id": 33927445, "comment_id": 55616673, "body": "@PeterDeGlopper I think this is the problem. In my head I was trying to compare all of the words found in the filtered list &quot;empty&quot;, against all of the stopwords &quot;stop&quot;, and any words that were not in the stopword list, I&#39;d append to another list &quot;stoplist&quot; and do the count over that.Maybe I should have done this part differently?"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1448492468, "post_id": 33927445, "comment_id": 55616806, "body": "Yes. You probably want to create a set of stopwords based on the ntlk data and check whether each word is in that set after splitting each line of text into words. As it is, <code>if t not in y</code> checks each stopword. If that stopword does not appear as a substring of <code>y</code>, where <code>y</code> is a whole line, it appends one copy of <code>y</code> - so a line that contains no stopwords as substrings will be appended <code>len(stop)</code> times."}, {"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1448492910, "post_id": 33927445, "comment_id": 55617007, "body": "@PeterDeGlopper got you, all sorted, added in the step to split the contents of the empty list, and then run this against the stopword list. thanks so much!"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1448495883, "post_id": 33927445, "comment_id": 55617956, "body": "As an extra tip, <code>for text in line.lower().split(&quot;\\n&quot;):</code> you shouldn;&#39;t need the <code>.split(&quot;\\n&quot;)</code> part as you&#39;re already iterating over lines (it doesn&#39;t really make sense to split a line on newlines!)"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448494532, "creation_date": 1448490067, "last_edit_date": 1448494532, "question_id": 33927445, "link": "https://stackoverflow.com/questions/33927445/counter-over-counting-in-basic-python-filter-script", "title": "Counter over counting in basic Python filter script?", "body": "<p>I am relatively new to python and am trying to write a basic filter for a text file, then count the frequency of words found in the filtered lines. I've attempted to apply a stopword list to it. So far I have this:</p>\n\n<pre><code>import sys, re\nfrom collections import Counter\nfrom nltk.corpus import stopwords\n\nreload(sys)  \nsys.setdefaultencoding('utf8')\n\nterm = sys.argv[2].lower()\nempty = []\ncount = 0\n\n\n# filter lines containing term and also add them to empty list\nwith open(sys.argv[1]) as f:\n    for line in f:\n        for text in line.lower().split(\"\\n\"):\n            if term in text:\n                empty.append(text)\n                count += 1\n                print text\n\n# create stopword list from nltk\nstop = stopwords.words(\"english\")\nstoplist = []\n\n\n# apply stopword list to items in list containing lines matching term \nfor y in empty:\n    for t in stop:\n        if t not in y:\n            stoplist.append(y)\n\n# count words that appear in the empty list\nwords = re.findall(r\"\\w+\", str(stoplist))\nwordcount = Counter(words)\n\nprint wordcount\nprint \"\\n\" + \"Number of times \" + str(term) + \" appears in text is: \" + str(count)\n</code></pre>\n\n<p>This works fine (but is probably incredibly messy/inefficient) but seemingly returns a count of the words filtered which is much too high, ten times as high really.</p>\n\n<p>I was just wondering if anyone could spot something obvious I'm missing and point me in the right direction of how to fix it. Any help would really be appreciated, thanks!</p>\n"}, {"tags": ["python", "sql", "postgresql", "psycopg2"], "comments": [{"owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "edited": false, "score": 0, "creation_date": 1448491307, "post_id": 33927427, "comment_id": 55616337, "body": "offtopic hint: use prepared statements <a href=\"http://initd.org/psycopg/articles/2012/10/01/prepared-statements-psycopg/\" rel=\"nofollow noreferrer\">initd.org/psycopg/articles/2012/10/01/&hellip;</a> there are much safer it the way they create sql with foreign variables"}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1448491937, "post_id": 33927757, "comment_id": 55616598, "body": "Fantastic help, this did the trick. Just used &#39;update&#39; where you had written &#39;query&#39; and it did the job. Thanks!"}, {"owner": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1461360764, "post_id": 33927757, "comment_id": 61181209, "body": "Out of interest, why does this none type error occur? I have run some separate code elsewhere using %s and I still get the same error. I could do with understanding in general why this type of error occurs."}, {"owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "reply_to_user": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1461366004, "post_id": 33927757, "comment_id": 61182954, "body": "@LemusThelroy Are the target columns nullable?"}, {"owner": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1461403591, "post_id": 33927757, "comment_id": 61190951, "body": "They are not. It confuses me that the value None, determines what column it is looking for."}, {"owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "reply_to_user": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 1, "creation_date": 1461409042, "post_id": 33927757, "comment_id": 61192627, "body": "@LemusThelroy Psycopg adapts a Python <code>None</code>  to a SQL <code>null</code>. You are trying to insert a null into a not nullable column."}, {"owner": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1461422636, "post_id": 33927757, "comment_id": 61197225, "body": "@Clodaldo Neto My table allows null entries...shall I post a separate question?  CREATE TABLE &quot;Predictions&quot; (   userid smallint,   &quot;Fixture_No&quot; smallint,   &quot;Home_Side_Score&quot; smallint,   &quot;Away_Side_Score&quot; smallint,   &quot;Prediction_ID&quot; bigint NOT NULL DEFAULT nextval(&#39;&quot;Predictions_Prediction_ID_seq&quot;&#39;::regclass),   &quot;Joker_Played&quot; boolean,   &quot;Result&quot; integer NOT NULL DEFAULT 4,   CONSTRAINT &quot;Predictions_pkey&quot; PRIMARY KEY (),   CONSTRAINT &quot;Result_Type&quot; FOREIGN KEY ()       REFERENCES &quot;ResultTypes&quot; () MATCH SIMPLE       ON UPDATE NO ACTION ON DELETE NO ACTION ) WITH (   OIDS=FALSE );"}, {"owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "reply_to_user": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "edited": false, "score": 0, "creation_date": 1461519169, "post_id": 33927757, "comment_id": 61224069, "body": "@LemusThelroy Yes create a new question with the exact text of the error message"}], "tags": [], "owner": {"reputation": 97819, "user_id": 131874, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b3600796ab1d9e78c7545c91468c2e51?s=128&d=identicon&r=PG", "display_name": "Clodoaldo Neto", "link": "https://stackoverflow.com/users/131874/clodoaldo-neto"}, "is_accepted": true, "score": 4, "last_activity_date": 1461365885, "last_edit_date": 1461365885, "creation_date": 1448491584, "answer_id": 33927757, "question_id": 33927427, "link": "https://stackoverflow.com/questions/33927427/psycopg2-programmingerror-column-none-does-not-exist-update-statement/33927757#33927757", "title": "psycopg2.ProgrammingError: column &quot;none&quot; does not exist - Update Statement", "body": "<p>Use <code>%s</code> not <code>%r</code>. To check what is being sent to the server use <code>cursor. mogrify</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>update = \"\"\"\n    UPDATE \"Predictions\"\n    SET \n        userid = %s, \n        \"Fixture_No\" = %s, \n        \"Home_Side_Score\" = %s, \n        \"Away_Side_Score\" = %s\n    WHERE \n        \"Predictions\".\"userid\" = %s AND \n        \"Predictions\".\"Fixture_No\" = %s\n\"\"\"\ndata = (userid, Fixture_No, Home_Side_Score, Away_Side_Score, userid, Fixture_No)\nprint cur.mogrify(update, data)\ncur.execute(update, data)\n</code></pre>\n\n<p>Still better, use a dictionary to pass the data:</p>\n\n<pre><code>update = \"\"\"\n    UPDATE \"Predictions\"\n    SET\n        userid = %(userid)s, \n        \"Fixture_No\" = %(Fixture_no)s,\n        \"Home_Side_Score\" = %(Home_Side_Score)s,\n        \"Away_Side_Score\" = %(Away_Side_Score)s\n    WHERE\n        \"Predictions\".\"userid\" = %(userid)s AND\n        \"Predictions\".\"Fixture_No\" = %(Fixture_No)s\n\"\"\"\ndata = dict (\n    userid = userid,\n    Fixture_No = Fixture_No,\n    Home_Side_Score = Home_Side_Score,\n    Away_Side_Score = Away_Side_Score\n)\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 4649653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cmwC7.jpg?s=128&g=1", "display_name": "LemusThelroy", "link": "https://stackoverflow.com/users/4649653/lemusthelroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4022, "favorite_count": 0, "accepted_answer_id": 33927757, "answer_count": 1, "score": 0, "last_activity_date": 1461365885, "creation_date": 1448490014, "last_edit_date": 1448490984, "question_id": 33927427, "link": "https://stackoverflow.com/questions/33927427/psycopg2-programmingerror-column-none-does-not-exist-update-statement", "title": "psycopg2.ProgrammingError: column &quot;none&quot; does not exist - Update Statement", "body": "<p>I keep encountering the error \"psycopg2.ProgrammingError: column \"none\" does not exist\".</p>\n\n<p>I have read the <a href=\"http://initd.org/psycopg/docs/usage.html#passing-parameters-to-sql-queries\" rel=\"nofollow\">psycopg2 documentation</a> and looked at other posts on this error, however, many are specific to an <strong>insert query</strong> rather than an <strong>update query</strong>.</p>\n\n<p>My code is as follows:-</p>\n\n<pre><code>def send_to_sql(identity,list1,list2,list3):\n    userid = 30\n    Fixture_No = None\n    Home_Side_Score = None\n    Away_Side_Score = None\n    conn = psycopg2.connect(\"dbname='Euro2016' user='postgres' host='localhost' password='##passwordhere##'\")\n    cur = conn.cursor()\n    cur.execute(\"\"\"UPDATE \"Predictions\" SET userid = %r, \"Fixture_No\" = %r, \"Home_Side_Score\" = %r, \"Away_Side_Score\" = %r WHERE \"Predictions\".\"userid\" = %r AND \"Predictions\".\"Fixture_No\" = %r \"\"\" % (userid, Fixture_No, Home_Side_Score, Away_Side_Score, userid, Fixture_No))\n    conn.commit()\n    cur.close()\n    conn.close()\n</code></pre>\n\n<p>This code works fine if scores and fixture number I am trying to pass are numbers but when a None entry is made, the code falls on its face. Somebody save me...</p>\n"}, {"tags": ["python", "web-crawler", "scrapy"], "comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1448490175, "post_id": 33927417, "comment_id": 55615890, "body": "where is the <code>parse_items</code> method?"}, {"owner": {"reputation": 31, "user_id": 5605815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11bf45cd30c38fd3cbbf48ceaacefa8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5605815/alex"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1448492044, "post_id": 33927417, "comment_id": 55616650, "body": "That was it, thanks a lot! just had to replace &quot;def parse(...&quot; with def parse_item(...&quot;. However, now I am getting an error message that says: &quot;AttributeError: &#39;str&#39; object has no attribute &#39;iter&#39;&quot;"}, {"owner": {"reputation": 31, "user_id": 5605815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11bf45cd30c38fd3cbbf48ceaacefa8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5605815/alex"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1448493147, "post_id": 33927417, "comment_id": 55617096, "body": "Never mind, I figured it out :-) Just had to delete the @href from the restrict_xpaths and it started crawling just like it should. Thank you!"}], "owner": {"reputation": 31, "user_id": 5605815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e11bf45cd30c38fd3cbbf48ceaacefa8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5605815/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448489965, "creation_date": 1448489965, "question_id": 33927417, "link": "https://stackoverflow.com/questions/33927417/scrapy-recursive-crawler-does-not-follow-link", "title": "scrapy recursive crawler does not follow link", "body": "<p>I am completely new to scrapy and am trying to scrape data from a website that consists of a very simple html table. The data is structured in several pages with 500 observations per page, with two links \"Previous 500 entries\" and \"Next 500 entries\" at the bottom of each page (those are the only links). I want the crawler to click on \"Next 500 entries\" until there are none left. Extracting the first page works fine but I cannot get the crawler to move to the next page.\nMy code is probably quite a mess since it is what I picked together from several online tutorials, apologies for that. From my limited understanding of how the programme should work, I cannot find the mistake. Any help would be greatly appreciated :-)</p>\n\n<pre><code>from scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.linkextractors import LinkExtractor\nfrom scrapy.selector import HtmlXPathSelector\nfrom test.items import testitem\n\nclass MySpider(CrawlSpider):\n    name = \"test\"\n    allowed_domains = [\"http://www.example.org\"]\n    start_urls = [\"http://www.example.com/data\"]\n\n    rules = (\n        Rule(LinkExtractor(allow=(), restrict_xpaths=(\"//a[contains(text(),'Next 500 entries')]/@href\")), callback=\"parse_items\", follow= True),\n    )\n\n    def parse(self, response):\n        hxs = HtmlXPathSelector(response)\n        titles = hxs.xpath(\"//table/tr\")\n        items = []\n        for titles in titles:\n            item = testitem()\n            item[\"var1\"] = titles.select(\"td[1]/text()\").extract()\n            item[\"var2\"] = titles.select(\"td[2]/text()\").extract()\n            items.append(item)\n        return items\n</code></pre>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 1, "creation_date": 1448834354, "post_id": 33927320, "comment_id": 55732934, "body": "Why the iterator, why not the file object?"}, {"owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1448883869, "post_id": 33927320, "comment_id": 55751212, "body": "@MaxNoe because i can get access to the content of the txt file only by a generator"}, {"owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1448911496, "post_id": 33927320, "comment_id": 55768465, "body": "Just because i&#39;m curious: Where does this strange limitation come from?"}, {"owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "reply_to_user": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "edited": false, "score": 0, "creation_date": 1448922775, "post_id": 33927320, "comment_id": 55774513, "body": "@MaxNoe I&#39;m working with Apache Spark and my big text file is distributed across the nodes in my cluster. I want to do compute some function on each part of the text file at each node. The way I get access to that part is only by a python&#39;s iterator."}], "answers": [{"tags": [], "owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "is_accepted": true, "score": 1, "last_activity_date": 1448824712, "creation_date": 1448824712, "answer_id": 33986924, "question_id": 33927320, "link": "https://stackoverflow.com/questions/33927320/pandas-read-csv-and-python-iterator-as-input/33986924#33986924", "title": "pandas read_csv() and python iterator as input", "body": "<p>You should use :</p>\n\n<pre><code> pd.read_csv(StringIO(\"\\n\".join(iter)))\n</code></pre>\n\n<p>where <code>iter</code> is your iterator / generator variable\n<br>This is still faster then using np.loadtxt(iter)</p>\n"}], "owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 33986924, "answer_count": 1, "score": 0, "last_activity_date": 1448824712, "creation_date": 1448489599, "question_id": 33927320, "link": "https://stackoverflow.com/questions/33927320/pandas-read-csv-and-python-iterator-as-input", "title": "pandas read_csv() and python iterator as input", "body": "<p>I want to use pandas read_csv() func where the input is a python iterator,\nwhere each next() will bring to the next line of my text file.\nWhat would you suggest me to do? I want best performance.\n<br>As I understood, StringIO works in that case, but i would rather to not use that.</p>\n\n<p>BTW, after that I'm using as_matrix() function in order to create a numpy array.<br>Doing so because it's much faster than np.loadtxt() func which is horribly slow :(</p>\n"}, {"tags": ["python", "scikit-learn", "ipython", "ipython-notebook", "jupyter"], "answers": [{"tags": [], "owner": {"reputation": 7661, "user_id": 1030820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd43a0f1dab655253a7003bf201d290?s=128&d=identicon&r=PG", "display_name": "Ibraim Ganiev", "link": "https://stackoverflow.com/users/1030820/ibraim-ganiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1448527462, "last_edit_date": 1495542197, "creation_date": 1448527462, "answer_id": 33934003, "question_id": 33927246, "link": "https://stackoverflow.com/questions/33927246/scikit-learn-cross-validation-not-verbose-in-ipython-jupyter-notebook/33934003#33934003", "title": "scikit-learn cross validation not verbose in iPython (Jupyter) notebook", "body": "<p>It's called bufferization of output, look at this answer <a href=\"https://stackoverflow.com/a/31153046/1030820\">https://stackoverflow.com/a/31153046/1030820</a>. Author decorates stdout of IPython notebook with his own small wrapper, which flushes stdout every time when someone tries to write something new.</p>\n"}], "owner": {"reputation": 3306, "user_id": 1319915, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/488fb2b2881fcc6fce6745f8dd0fccd5?s=128&d=identicon&r=PG&f=1", "display_name": "trianta2", "link": "https://stackoverflow.com/users/1319915/trianta2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1013, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1448527462, "creation_date": 1448489329, "question_id": 33927246, "link": "https://stackoverflow.com/questions/33927246/scikit-learn-cross-validation-not-verbose-in-ipython-jupyter-notebook", "title": "scikit-learn cross validation not verbose in iPython (Jupyter) notebook", "body": "<p>I'm running grid search cross validation in an iPython notebook, with verbose set to 10. For some reason there's nothing printed to my notebook when it's running and I'm not sure why. If I interrupt the kernel all of the messages are printed immediately.</p>\n\n<p>Is there a way to make the iPython notebook print in realtime with the updates from grid search cross validation?</p>\n"}, {"tags": ["python", "macos", "alias"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1448489298, "post_id": 33927221, "comment_id": 55615525, "body": "<code>import subprocess; subprocess.check_call(&quot;ur_setup&quot;, shell=True)</code> (You need the shell here to expand the alias)"}, {"owner": {"reputation": 448, "user_id": 4153614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095f33d30e635ec361b40886041b9153?s=128&d=identicon&r=PG&f=1", "display_name": "kponz", "link": "https://stackoverflow.com/users/4153614/kponz"}, "edited": false, "score": 0, "creation_date": 1448489380, "post_id": 33927221, "comment_id": 55615548, "body": "You can use subprocess to call the command without the alias as well, but I would stick with it unless you need to be able to modify it"}], "answers": [{"tags": [], "owner": {"reputation": 13539, "user_id": 319006, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da577908b04f60453c85f9c64e91638a?s=128&d=identicon&r=PG", "display_name": "sholsapp", "link": "https://stackoverflow.com/users/319006/sholsapp"}, "is_accepted": true, "score": 0, "last_activity_date": 1448489393, "creation_date": 1448489393, "answer_id": 33927263, "question_id": 33927221, "link": "https://stackoverflow.com/questions/33927221/call-alias-using-a-python-script/33927263#33927263", "title": "Call alias using a Python Script", "body": "<p>Use <a href=\"https://docs.python.org/2/library/os.html#os.execv\" rel=\"nofollow\">os.execv</a> if you need to take over the running process else use <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">subprocess</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "edited": false, "score": 0, "creation_date": 1448489625, "post_id": 33927302, "comment_id": 55615659, "body": "I get the following error when I tried this:     sh: setenv: command not found"}, {"owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "reply_to_user": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "edited": false, "score": 0, "creation_date": 1448489841, "post_id": 33927302, "comment_id": 55615745, "body": "Just put this as your first line. #!/usr/bin/env python"}, {"owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "reply_to_user": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "edited": false, "score": 0, "creation_date": 1448491856, "post_id": 33927302, "comment_id": 55616562, "body": "Try manually to run the command eval <code>&#47;Users&#47;rem&#47;.ureka&#47;ur_setup -csh \\!*</code> and see if you get any error or not."}, {"owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "reply_to_user": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "edited": false, "score": 0, "creation_date": 1448492219, "post_id": 33927302, "comment_id": 55616709, "body": "Try to run ur_setup from a terminal to check that is working fine.  if it is then change ur command to  os.system(&quot;ur_setup&quot;)"}], "tags": [], "owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1448489534, "creation_date": 1448489534, "answer_id": 33927302, "question_id": 33927221, "link": "https://stackoverflow.com/questions/33927221/call-alias-using-a-python-script/33927302#33927302", "title": "Call alias using a Python Script", "body": "<p>I don't know about ureka, but for running any expression or command using python, you can certainly use the os module.</p>\n\n<pre><code>    import os\n    os.system('eval `/Users/rem/.ureka/ur_setup -csh \\!*`')\n</code></pre>\n\n<p>This Should work.</p>\n"}], "owner": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 33927263, "answer_count": 2, "score": 1, "last_activity_date": 1448489534, "creation_date": 1448489192, "question_id": 33927221, "link": "https://stackoverflow.com/questions/33927221/call-alias-using-a-python-script", "title": "Call alias using a Python Script", "body": "<p>I'm writing a python script that utilizes Ureka (a distribution of different astronomy packages).  In order to run any Ureka's packages, the user must first initialize Ureka by typing \"ur_setup\" in the terminal.  It turns out \"ur_setup\" is an alias for the following command:</p>\n\n<pre><code>'eval `/Users/rem/.ureka/ur_setup -csh \\!*`'\n</code></pre>\n\n<p>How would I be able to include this in my python script and have it work?\nThanks in advance!</p>\n"}, {"tags": ["python", "django", "packages", "overriding"], "comments": [{"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1448489558, "post_id": 33927202, "comment_id": 55615634, "body": "You want to replace <i>that</i> method with your own? It&#39;s not a method, it&#39;s function in <code>sompackage.utils</code> module."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448489606, "post_id": 33927202, "comment_id": 55615653, "body": "You can do monkey patch. <a href=\"https://web.archive.org/web/20120730014107/http://wiki.zope.org/zope2/MonkeyPatch\" rel=\"nofollow noreferrer\">web.archive.org/web/20120730014107/http://wiki.zope.org/zope&zwnj;&#8203;2/&hellip;</a>"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1448489612, "post_id": 33927202, "comment_id": 55615656, "body": "@Micha\u0142F Yes, I found something there that I need to replace, I could write a new code for that method without breaking anything else, but I don&#39;t know how"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448489669, "post_id": 33927202, "comment_id": 55615673, "body": "@ShangWang What does &#39;monkey patch&#39; means? Sorry but I don&#39;t know."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448489696, "post_id": 33927202, "comment_id": 55615683, "body": "<a href=\"http://stackoverflow.com/questions/5626193/what-is-a-monkey-patch\" title=\"what is a monkey patch\">stackoverflow.com/questions/5626193/what-is-a-monkey-patch</a>"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448489784, "post_id": 33927202, "comment_id": 55615718, "body": "@ShangWang That look like something made by a monkey, but I need to pass one param to this method, I think this is for callable method without params, right?"}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1448489826, "post_id": 33927202, "comment_id": 55615735, "body": "I&#39;m giving this straight from head: <code>somepackage.utils.__old_somemethod = somepackage.utils,_old_somemethod</code> then you need to write your function and assign it for <code>somepackage.utils.somemethod</code>. This should work if your <code>somepackage</code> is written in pure Python. If the <code>__old_somemethod</code> don&#39;t work straightway, you may need to amend module&#39;s <b>dict</b> first. Google is your friend if you now what you&#39;re looking for."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448489919, "post_id": 33927202, "comment_id": 55615785, "body": "There&#39;s also this one that should meet what you need: <a href=\"http://stackoverflow.com/questions/23646826/python-how-to-override-a-method-defined-in-a-module-of-a-third-party-library\" title=\"python how to override a method defined in a module of a third party library\">stackoverflow.com/questions/23646826/&hellip;</a>"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1448490425, "post_id": 33927202, "comment_id": 55615991, "body": "@ShangWang a monkey patch worked, thanks, consider give it as an answer, I will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "is_accepted": true, "score": 0, "last_activity_date": 1448491260, "last_edit_date": 1495541710, "creation_date": 1448491260, "answer_id": 33927682, "question_id": 33927202, "link": "https://stackoverflow.com/questions/33927202/override-python-package-util-method/33927682#33927682", "title": "Override python package util method", "body": "<p>As the discussion goes, I think we can do \"monkey patch\" on the module level functions, which basically replaces the function with your version. There's already an <a href=\"https://stackoverflow.com/questions/23646826/python-how-to-override-a-method-defined-in-a-module-of-a-third-party-library?answertab=active#tab-top\">answer</a> that explains this, but quote it here (replace <code>math</code> with <code>somepackage.utils</code>):</p>\n\n<pre><code>&gt;&gt;&gt; import math\n&gt;&gt;&gt; math.cos(90)\n-0.4480736161291701\n&gt;&gt;&gt; old_cos = math.cos\n&gt;&gt;&gt; def new_cos(degrees):\n...     return old_cos(math.radians(degrees))\n...\n&gt;&gt;&gt; math.cos = new_cos\n&gt;&gt;&gt; math.cos(90)\n6.123233995736766e-17\n</code></pre>\n"}], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 33927682, "answer_count": 1, "score": 0, "last_activity_date": 1448491260, "creation_date": 1448489039, "question_id": 33927202, "link": "https://stackoverflow.com/questions/33927202/override-python-package-util-method", "title": "Override python package util method", "body": "<p>I've installed a package in my Django project, let's say <code>pip install somepackage</code></p>\n\n<p>This package comes with some modified views, so I do:</p>\n\n<pre><code>class MyView(somepackage.CustomView):\n    ...\n</code></pre>\n\n<p>But there's some method in <code>somepackage.utils</code> (<code>somepackage.utils.somemethod</code>) that I need to customize. If this were a method in <code>somepackage.CustomView</code> I could do:</p>\n\n<pre><code>class MyView(somepackage.CustomView):\n\n    def somemethod(...):\n        ...\n</code></pre>\n\n<p>But it's not.</p>\n\n<p>How can I override that util's method?</p>\n"}, {"tags": ["python", "regex", "command-line"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1448489465, "post_id": 33927200, "comment_id": 55615584, "body": "&quot;Please see that regular expression are not in quotes&quot; - well, why not? You need to wrap it in single-quotes to stop the shell from pre-processing it."}, {"owner": {"reputation": 387, "user_id": 3068807, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/61e4d5d78e530d5bcdffbb08490284a9?s=128&d=identicon&r=PG&f=1", "display_name": "user_3068807", "link": "https://stackoverflow.com/users/3068807/user-3068807"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1448490288, "post_id": 33927200, "comment_id": 55615947, "body": "Well  it was the requirement that the regular expression be specified as in grep. And grep does not take it in quotes. Though the character classes are specified differently."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1448490721, "post_id": 33927200, "comment_id": 55616116, "body": "Try to grep for the regex <code>a*</code> in a directory with files whose names start with <code>a</code>, and you&#39;ll be unpleasantly surprised. Shell preprocessing works the same for grep as it does for any other program. You can only leave the quotes off if there isn&#39;t anything in your regex that the shell will mess with."}], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 1, "creation_date": 1448489442, "post_id": 33927247, "comment_id": 55615571, "body": "Command line shell &quot;eats&quot; the backslash character, as it wants to interpret the escape code (C style)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 565, "user_id": 2777645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7f3890596ea15dcb499602b5e1aa34?s=128&d=identicon&r=PG&f=1", "display_name": "Thawn", "link": "https://stackoverflow.com/users/2777645/thawn"}, "edited": false, "score": 0, "creation_date": 1448489777, "post_id": 33927247, "comment_id": 55615714, "body": "@Thawn: No it doesn&#39;t. You&#39;re mixing up the string&#39;s <code>repr</code> representation with the string&#39;s actual contents."}, {"owner": {"reputation": 387, "user_id": 3068807, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/61e4d5d78e530d5bcdffbb08490284a9?s=128&d=identicon&r=PG&f=1", "display_name": "user_3068807", "link": "https://stackoverflow.com/users/3068807/user-3068807"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1448489954, "post_id": 33927247, "comment_id": 55615798, "body": "@schwobaseggl @Peter. Thanks this solution works. But I mean to ask that if I pass any regular expression like <code>\\\\d{10,20}</code>, then it would break it up like [&#39;my_script.py&#39;, &#39;\\\\d10&#39;, &#39;\\\\d20&#39;]. Why does it behave this way?"}, {"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "reply_to_user": {"reputation": 387, "user_id": 3068807, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/61e4d5d78e530d5bcdffbb08490284a9?s=128&d=identicon&r=PG&f=1", "display_name": "user_3068807", "link": "https://stackoverflow.com/users/3068807/user-3068807"}, "edited": false, "score": 1, "creation_date": 1448490079, "post_id": 33927247, "comment_id": 55615842, "body": "@mkike yes, probably the version with quotes is more flexible."}, {"owner": {"reputation": 387, "user_id": 3068807, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/61e4d5d78e530d5bcdffbb08490284a9?s=128&d=identicon&r=PG&f=1", "display_name": "user_3068807", "link": "https://stackoverflow.com/users/3068807/user-3068807"}, "edited": false, "score": 0, "creation_date": 1448490484, "post_id": 33927247, "comment_id": 55616018, "body": "Thanks. Probably I will do it. Waiting if someone ever did something like this. :)"}, {"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 0, "creation_date": 1448490878, "post_id": 33927247, "comment_id": 55616172, "body": "When passing around strings that will be used for regexes, my first bugfix attempt is always to try double and quadruple backslashes :D"}], "tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": true, "score": 5, "last_activity_date": 1448489933, "last_edit_date": 1448489933, "creation_date": 1448489333, "answer_id": 33927247, "question_id": 33927200, "link": "https://stackoverflow.com/questions/33927200/regular-expressions-are-stripped-off-when-given-as-command-line-argument-to/33927247#33927247", "title": "Regular expressions are stripped off &#39;\\&#39; when given as command line argument to python script", "body": "<p>You should probably use two backslashes:</p>\n\n<pre><code>python3 my_script.py \\\\d+\n</code></pre>\n\n<p>or</p>\n\n<pre><code>python3 my_script.py '\\d+'\n</code></pre>\n\n<p>To have a backslash in a string literal get read properly, it needs to be either escaped or quoted.</p>\n"}], "owner": {"reputation": 387, "user_id": 3068807, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/61e4d5d78e530d5bcdffbb08490284a9?s=128&d=identicon&r=PG&f=1", "display_name": "user_3068807", "link": "https://stackoverflow.com/users/3068807/user-3068807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 33927247, "answer_count": 1, "score": 1, "last_activity_date": 1448490570, "creation_date": 1448489033, "last_edit_date": 1448490570, "question_id": 33927200, "link": "https://stackoverflow.com/questions/33927200/regular-expressions-are-stripped-off-when-given-as-command-line-argument-to", "title": "Regular expressions are stripped off &#39;\\&#39; when given as command line argument to python script", "body": "<p>I am writing a scripts that needs regular expressions to be specified on the command line. So program should be able to take <code>\\d+</code> at command line like:</p>\n\n<pre><code>python3 my_script.py \\d+\n</code></pre>\n\n<p>Suppose my_script.py searches some file(s) based on the regular expression given on command line.</p>\n\n<p>But when I do this, the leading <code>\\</code> are stripped off. So printing  <code>sys.argv</code> has <code>['my_script.py', 'd+']</code>. </p>\n\n<p>How can I have the regular expression specified on command line to be taken as it is? Please see that regular expression are not in quotes. Is it even possible?</p>\n\n<p>(I am using <strong>getopt module</strong> to process my input arguments)</p>\n"}, {"tags": ["python", "django", "url", "one-to-one"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 1, "creation_date": 1448490312, "post_id": 33927174, "comment_id": 55615954, "body": "Have you tried <code>self.object.profile_id</code> or <code>self.object.profile.id</code>?"}, {"owner": {"reputation": 1437, "user_id": 3202958, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qdmqu.png?s=128&g=1", "display_name": "Nrzonline", "link": "https://stackoverflow.com/users/3202958/nrzonline"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1448523752, "post_id": 33927174, "comment_id": 55626073, "body": "self.object.profile.id worked like a sunshine. Django creates great relations, works even simpler then I&#39;ve thought. Thanks mate!"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1448531561, "post_id": 33927174, "comment_id": 55630679, "body": "Glad that worked for you. I remember now, <code>self.object.profile_id</code> won&#39;t work, because it&#39;s the reverse relation."}], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1448530475, "creation_date": 1448530475, "answer_id": 33934981, "question_id": 33927174, "link": "https://stackoverflow.com/questions/33927174/django-reverse-url-to-onetoonefield-on-success/33934981#33934981", "title": "Django reverse url to onetoonefield on success", "body": "<p>When you create a <a href=\"https://docs.djangoproject.com/en/1.8/topics/db/examples/one_to_one/\" rel=\"nofollow\">one to one field</a> to your user model,</p>\n\n<pre><code>class Profile(models.Model):\n    user = models.OneToOneField(User)\n</code></pre>\n\n<p>you can access the user from the profile</p>\n\n<pre><code>profile.user\n</code></pre>\n\n<p>and you can also access the <code>profile</code> from the user</p>\n\n<pre><code>user.profile\n</code></pre>\n\n<p>In your view, <code>self.object</code> is the user, so <code>self.object.profile.id</code> will give you the profile id.</p>\n"}], "owner": {"reputation": 1437, "user_id": 3202958, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/qdmqu.png?s=128&g=1", "display_name": "Nrzonline", "link": "https://stackoverflow.com/users/3202958/nrzonline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 33934981, "answer_count": 1, "score": 0, "last_activity_date": 1448530475, "creation_date": 1448488912, "question_id": 33927174, "link": "https://stackoverflow.com/questions/33927174/django-reverse-url-to-onetoonefield-on-success", "title": "Django reverse url to onetoonefield on success", "body": "<p>Good day SO!</p>\n\n<p>Recently I've started working on Django, got myself a situation which I can't find the right solution on the web to solve it. So I've got a little question about URL reversing on a success. Currently when an user successfully creates an account, the user gets reversed to a profile based on the user_id which just got created: </p>\n\n<pre><code>class Create(CreateView):\n    form_class = UserCreateForm  # inherits from django's UserCreationForm\n\n    def get_success_url(self):\n        return reverse('users:profile', kwargs={'pk': self.object.pk})\n</code></pre>\n\n<p>This is working properly. Now I created a profile module with a OneToOneField\nto the django.auth.models User model. When creating a new account, a signal is send to the create_profile_on_registration method.</p>\n\n<pre><code>@receiver(post_save, sender=User)\ndef create_profile_on_registration(sender, created, instance, **kwargs):\n    ...\n</code></pre>\n\n<p>This is also working properly, a new profile is created on user account registration. Now I would like to reverse the user to the new created profile_id instead of the user_id. However, I cant figure out exactly how to get this properly to work. Can you give me a little push in the right direction on how to approach this issue? I can't match up the right google search words or find any examples which explains or shows how to achieve this properly.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "email", "beautifulsoup", "web-crawler", "reddit"], "comments": [{"owner": {"reputation": 18224, "user_id": 406987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865b16d4f3493cfae865af2b3247fd3?s=128&d=identicon&r=PG", "display_name": "Doon", "link": "https://stackoverflow.com/users/406987/doon"}, "edited": false, "score": 0, "creation_date": 1448489079, "post_id": 33927150, "comment_id": 55615410, "body": "Just put &lt;br&gt; at the end of each line. Or you could probably put them in between an &lt;ol&gt;&lt;/ol&gt; tags as &lt;Li&gt; and let the html engine number them."}], "answers": [{"tags": [], "owner": {"reputation": 13539, "user_id": 319006, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da577908b04f60453c85f9c64e91638a?s=128&d=identicon&r=PG", "display_name": "sholsapp", "link": "https://stackoverflow.com/users/319006/sholsapp"}, "is_accepted": true, "score": 1, "last_activity_date": 1448490043, "creation_date": 1448490043, "answer_id": 33927440, "question_id": 33927150, "link": "https://stackoverflow.com/questions/33927150/python-crawler-which-than-sends-out-results-via-email/33927440#33927440", "title": "Python crawler which than sends out results via email", "body": "<p>An email's content type is determined using the <code>Content-Type</code> header. You've specified that that content type for your email is <code>text/html</code> and clients that read this email will interpret the bits as HTML.</p>\n\n<p>So, make the bits that you're sending look like HTML. I would use <code>&lt;br /&gt;</code> or <code>&lt;ol /&gt;</code> <code>&lt;li /&gt;</code> tags. Alternatively, send the email as <code>text/plain</code> and your <code>\\n</code> characters will be interpreted as you would expect.</p>\n\n<p>Personally, for emails like this, I prefer for them to be in <code>text/plain</code> format.</p>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 5606177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52qpf.jpg?s=128&g=1", "display_name": "Rishikesh Jha", "link": "https://stackoverflow.com/users/5606177/rishikesh-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1448490347, "creation_date": 1448490347, "answer_id": 33927504, "question_id": 33927150, "link": "https://stackoverflow.com/questions/33927150/python-crawler-which-than-sends-out-results-via-email/33927504#33927504", "title": "Python crawler which than sends out results via email", "body": "<p>Try using this line in your for loop.</p>\n\n<pre><code>    list.append(str(str(variable) + \". \" + name + \": \" + href+\"\\n\"))\n</code></pre>\n\n<p>This should resolve the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "is_accepted": false, "score": 0, "last_activity_date": 1448526892, "creation_date": 1448526892, "answer_id": 33933837, "question_id": 33927150, "link": "https://stackoverflow.com/questions/33927150/python-crawler-which-than-sends-out-results-via-email/33933837#33933837", "title": "Python crawler which than sends out results via email", "body": "<p>Try <a href=\"https://github.com/kootenpv/yagmail\" rel=\"nofollow\">yagmail</a>:</p>\n\n<pre><code>import yagmail\nyag = yagmail.SMTP('gmail_username', 'gmail_password')\nyag.send('to@email.com', 'subjectline', contents='content')\n</code></pre>\n\n<p>Note that content will be put into HTML. So you could literally also just put stuff like:</p>\n\n<pre><code>contents = ['&lt;h1&gt;title1&lt;/h1&gt;&lt;a href=\"link1\"&gt;link1&lt;/a&gt;',\n            '&lt;h1&gt;title2&lt;/h1&gt;&lt;a href=\"link2\"&gt;link2&lt;/a&gt;' \n</code></pre>\n\n<p>etc.</p>\n\n<p>Get your copy of yagmail using <code>pip install yagmail</code>. </p>\n\n<p>Full disclosure: I'm the developer of yagmail.</p>\n"}], "owner": {"reputation": 960, "user_id": 4145010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/658491552/picture?type=large", "display_name": "Marco", "link": "https://stackoverflow.com/users/4145010/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 33927440, "answer_count": 3, "score": 0, "last_activity_date": 1448526892, "creation_date": 1448488808, "question_id": 33927150, "link": "https://stackoverflow.com/questions/33927150/python-crawler-which-than-sends-out-results-via-email", "title": "Python crawler which than sends out results via email", "body": "<p>thanks for helping.\nSo I tried to make a little crawler which checks out the gif page of reddit, than writes down all the gifs + titles, puts them in a list and than sends this list via email <em>(to my work colleagues)</em>.</p>\n\n<p>So far so good, works perfectly, BUT the list it send looks like this\ne.g:</p>\n\n<blockquote>\n  <p>'1. Old man dancing at electronic music festival: <a href=\"http://i.imgur.com/2EtphXY.gifv\" rel=\"nofollow\">http://i.imgur.com/2EtphXY.gifv</a>', '2. Generation text..: <a href=\"http://i.imgur.com/fH6eV2B.gifv\" rel=\"nofollow\">http://i.imgur.com/fH6eV2B.gifv</a>', '3. Porcupine climbs up for warmth: </p>\n</blockquote>\n\n<p>etc... </p>\n\n<p><strong>What do I want?</strong> I want that the titles + links are printed by single row in the email + i wanne add a text to it. \nlike this</p>\n\n<blockquote>\n  <p>Hello friends welcome to daily gifs</p>\n  \n  <ol>\n  <li>title1: link1</li>\n  <li>title2: link2</li>\n  <li>title3: link3</li>\n  </ol>\n</blockquote>\n\n<p>This is my code so far:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport urllib2\nimport smtplib\nimport time\nimport random\nimport datetime\n\nopener = urllib2.build_opener()\nopener.addheaders = [('User-agent', 'Mozilla/5.0')]\nurl = 'https://www.reddit.com/r/gifs/?count=26&amp;before=t3_3u4mnz'\nresponse = opener.open(url)\npage = response.read()\nsoup = BeautifulSoup(page, \"lxml\")\nlist = []\n\nvariable = 1\nfor link in soup.findAll('a', {'class': 'title may-blank '}):\n    href = link.get('href')\n    name = link.string\n    #print str(variable) + \". \" + name + \" : \" + href\n    list.append(str(str(variable) + \". \" + name + \": \" + href))\n    variable += 1\n\n\nGMAIL_USERNAME = \"blabla@blabla.com\"\nGMAIL_PASSWORD  = \"xxxxxxxx\"\nemail_subject = \"Lunchtime gifs of the day: \" + str(time.strftime(\"%d/%m/%Y\"))\nrecipient = \"workfriends@blabla.com\"\nbody_of_email = str(list)[1:-1]\nsession = smtplib.SMTP('smtp.gmail.com', 587)\nsession.ehlo()\nsession.starttls()\nsession.login(GMAIL_USERNAME, GMAIL_PASSWORD)\n\nheaders = \"\\r\\n\".join([\"from: \" + GMAIL_USERNAME,\n                       \"subject: \" + email_subject,\n                       \"to: \" + recipient,\n                       \"mime-version: 1.0\",\n                       \"content-type: text/html\"])\n\ncontent = headers + \"\\r\\n\\r\\n\" + body_of_email\n\nsession.sendmail(GMAIL_USERNAME, recipient, content)\n\nprint \"Email send!\"\n</code></pre>\n"}, {"tags": ["python", "plot", "save", "pyqt", "pyqtgraph"], "comments": [{"owner": {"reputation": 200, "user_id": 3837013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597010c9e6ca2da8abaa22197c0588fa?s=128&d=identicon&r=PG&f=1", "display_name": "GiovanniPi", "link": "https://stackoverflow.com/users/3837013/giovannipi"}, "edited": false, "score": 0, "creation_date": 1448962146, "post_id": 33927090, "comment_id": 55789181, "body": "You may use the dialog QtGui.QFileDIalog.getSaveFileName, connect it to a push button so the user can select a name and the save location for your file. When you have the name, use the export method provided by pyqtgraph."}, {"owner": {"reputation": 393, "user_id": 5280049, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76cd5faedffead4a624bcade23a694ce?s=128&d=identicon&r=PG&f=1", "display_name": "Devligue", "link": "https://stackoverflow.com/users/5280049/devligue"}, "reply_to_user": {"reputation": 200, "user_id": 3837013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/597010c9e6ca2da8abaa22197c0588fa?s=128&d=identicon&r=PG&f=1", "display_name": "GiovanniPi", "link": "https://stackoverflow.com/users/3837013/giovannipi"}, "edited": false, "score": 0, "creation_date": 1449051669, "post_id": 33927090, "comment_id": 55835066, "body": "I did but it is more like a workaround option.. Thanks anyway :)"}], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 4506429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bc79ed45ef5b931c24c1114658809a?s=128&d=identicon&r=PG&f=1", "display_name": "myopenid", "link": "https://stackoverflow.com/users/4506429/myopenid"}, "is_accepted": true, "score": 2, "last_activity_date": 1550843549, "creation_date": 1550843549, "answer_id": 54828584, "question_id": 33927090, "link": "https://stackoverflow.com/questions/33927090/pyqtgraph-open-file-save-dialog-using-button-instead-of-through-context-menu/54828584#54828584", "title": "PyQtGraph - Open &#39;file save dialog&#39; using button instead of through context menu", "body": "<p>I needed to do this and and this is how I did it.</p>\n\n<pre><code>from pyqtgraph.GraphicsScene import exportDialog\nexportDialog = exportDialog.ExportDialog(pw.plotItem.scene())\nexportDialog.show(pw.plotItem)\n</code></pre>\n\n<p>This creates an Export dialog that targets the GraphicsScene holding the plotItem.</p>\n"}], "owner": {"reputation": 393, "user_id": 5280049, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76cd5faedffead4a624bcade23a694ce?s=128&d=identicon&r=PG&f=1", "display_name": "Devligue", "link": "https://stackoverflow.com/users/5280049/devligue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "accepted_answer_id": 54828584, "answer_count": 1, "score": 0, "last_activity_date": 1550843549, "creation_date": 1448488549, "last_edit_date": 1448719187, "question_id": 33927090, "link": "https://stackoverflow.com/questions/33927090/pyqtgraph-open-file-save-dialog-using-button-instead-of-through-context-menu", "title": "PyQtGraph - Open &#39;file save dialog&#39; using button instead of through context menu", "body": "<p>In pyqtgraph there is option to save plot as image/csv/svg/etc. just by clicking right mouse button on the plot and choosing 'Export..\" option. There is also possibility to export plot like this: (assuming pw is my plot)</p>\n\n<pre><code>ex1 = pg.exporters.CSVExporter(pw.plotItem)\nex1.export('test.csv')\nex2 = pg.exporters.SVGExporter(pw.plotItem)\nex2.export('test.svg')\nex3 = pg.exporters.ImageExporter(pw.plotItem)\nex3.export('test.img')\n</code></pre>\n\n<p>The problem is that I don't want to use right-click menu (and so on) neither to directly save plot in fixed format and to predefined path. I want a function that when called will open up this same 'save file dialog' that hides under 'Export..' menu option. I will then connect it to a button or whatever and voil\u00e0 :)</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "list", "file", "sorted"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448488613, "post_id": 33927082, "comment_id": 55615189, "body": "take out the <code>\\n</code> in your <code>f.write</code>\\"}, {"owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 2, "creation_date": 1448488752, "post_id": 33927082, "comment_id": 55615263, "body": "Unless it&#39;s important that the file itself be readable in plain text, you could look into using the Pickle module instead"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448488762, "post_id": 33927082, "comment_id": 55615268, "body": "Does the file have to be human-readable? This seems like a job for <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\"><code>pickle</code></a>!"}, {"owner": {"reputation": 29, "user_id": 5605129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249703724cbcf0930d936425f396030f?s=128&d=identicon&r=PG&f=1", "display_name": "T. Lackey", "link": "https://stackoverflow.com/users/5605129/t-lackey"}, "edited": false, "score": 0, "creation_date": 1448488855, "post_id": 33927082, "comment_id": 55615317, "body": "That would leave everything on a single line."}, {"owner": {"reputation": 29, "user_id": 5605129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249703724cbcf0930d936425f396030f?s=128&d=identicon&r=PG&f=1", "display_name": "T. Lackey", "link": "https://stackoverflow.com/users/5605129/t-lackey"}, "edited": false, "score": 0, "creation_date": 1448488879, "post_id": 33927082, "comment_id": 55615328, "body": "A .txt file was specifically requested."}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1448489085, "post_id": 33927082, "comment_id": 55615415, "body": "look into using <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">JSON</a> library. I swear it&#39;s magical and easy to use."}, {"owner": {"reputation": 317, "user_id": 4622121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01995df2ff53c367948c2a6a9545b745?s=128&d=identicon&r=PG", "display_name": "tsujin", "link": "https://stackoverflow.com/users/4622121/tsujin"}, "edited": false, "score": 0, "creation_date": 1448489181, "post_id": 33927082, "comment_id": 55615470, "body": "Did you try to strip the newlines that are in the file?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1448489216, "post_id": 33927082, "comment_id": 55615487, "body": "@DamianChrzanowski not sure how JSON would help here. If the file needs to be human-readable, then a csv is fine."}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448489442, "post_id": 33927082, "comment_id": 55615572, "body": "@AdamSmith Had an idea to insert his lists into a JSON and write it into the file. The newline worry vanishes. Anyway, has been answered already"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448490907, "post_id": 33927082, "comment_id": 55616191, "body": "@T.Lackey, try it and see if that is true. the only line that would probably be misformatted would be your newly added entry, which could be fixed by having <code>strtime +&#39;\\n&#39;</code> for the first time you append to players (the one call that appends the new entry)"}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448489178, "post_id": 33927201, "comment_id": 55615467, "body": "Exactly so. <code>line.strip().split(...)</code> is a common idiom for a reason! :)"}, {"owner": {"reputation": 317, "user_id": 4622121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01995df2ff53c367948c2a6a9545b745?s=128&d=identicon&r=PG", "display_name": "tsujin", "link": "https://stackoverflow.com/users/4622121/tsujin"}, "edited": false, "score": 0, "creation_date": 1448489313, "post_id": 33927201, "comment_id": 55615531, "body": "Dang, beat my comment by a little bit. This should be the correct answer."}], "tags": [], "owner": {"reputation": 1528, "user_id": 5469286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtEk8.jpg?s=128&g=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5469286/noah"}, "is_accepted": true, "score": 5, "last_activity_date": 1448489034, "creation_date": 1448489034, "answer_id": 33927201, "question_id": 33927082, "link": "https://stackoverflow.com/questions/33927082/how-do-i-correctly-write-a-tuple-list-to-a-txt-file/33927201#33927201", "title": "How do I correctly write a tuple list to a .txt file?", "body": "<p>The problem is that when reading the file there is a <code>\\n</code> at the end of each line that does not automatically get stripped off. In your code shown here the variable <code>strtime</code> still contains a <code>\\n</code> character at the end.</p>\n\n<pre><code>name, strtime = line.split(',')\nplayers.append((name, strtime))\n</code></pre>\n\n<p>The <code>\\n</code> in the call to <code>f.write()</code> is fine. You just need to strip off the <code>\\n</code> when you read. <code>rstrip()</code> will remove whitespace characters from the right side of the string.</p>\n\n<p>Do this:</p>\n\n<pre><code>name, strtime = line.split(',')\nplayers.append((name, strtime.rstrip()))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1448490585, "last_edit_date": 1448490585, "creation_date": 1448489696, "answer_id": 33927346, "question_id": 33927082, "link": "https://stackoverflow.com/questions/33927082/how-do-i-correctly-write-a-tuple-list-to-a-txt-file/33927346#33927346", "title": "How do I correctly write a tuple list to a .txt file?", "body": "<p>Since what you're creating is technically a .csv file, you could also look into the <code>csv</code> module</p>\n\n<pre><code>import csv\nimport itertools\n\nwith open('path/to/file.txt', 'r+') as f:\n    reader = csv.reader(f)\n    new_lines = sorted(itertools.chain(reader, (name, strtime)),\n                       key=lambda x: float(x[1]))\n    f.seek(0)  # rewind to the beginning of the file\n    writer = csv.writer(f, lineterminator=\"\\n\")\n    # you must specify the lineterminator on Windows, or else open in binary mode\n    # however csv.readers don't work in binary mode on Windows.\n    writer.writerows(new_lines)\n</code></pre>\n\n<p>Note that this will give you some weird errors if you're deleting lines. This doesn't truncate the file before writing to it -- you're overwriting data, so replacing</p>\n\n<pre><code>1\n3\n5\n7\n</code></pre>\n\n<p>with</p>\n\n<pre><code>2\n4\n8\n</code></pre>\n\n<p>Will give you</p>\n\n<pre><code>2\n4\n8\n7  # oops!\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5605129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/249703724cbcf0930d936425f396030f?s=128&d=identicon&r=PG&f=1", "display_name": "T. Lackey", "link": "https://stackoverflow.com/users/5605129/t-lackey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 33927201, "answer_count": 2, "score": 1, "last_activity_date": 1448490585, "creation_date": 1448488511, "last_edit_date": 1448488744, "question_id": 33927082, "link": "https://stackoverflow.com/questions/33927082/how-do-i-correctly-write-a-tuple-list-to-a-txt-file", "title": "How do I correctly write a tuple list to a .txt file?", "body": "<p>I am trying to maintain a list a names and times, sorted by increasing time.</p>\n\n<pre><code>def listfile (name, time):\n\n    players = []\n    strtime = str(time)\n    players.append((name, strtime))\n    with open(\"playersScores.txt\", \"r\") as f:\n        for line in f:\n            if line != '\\n':\n                name, strtime = line.split(',')\n                players.append((name, strtime))\n    f.close()  \n\n    players.sort(key=lambda tup: tup[1])\n\n    with open(\"playersScores.txt\", \"w\") as f:\n        for (name, strtime) in players:\n            f.write(\"%s\\n\" % (name + \",\" + strtime))\n    f.close() \n</code></pre>\n\n<p>This essentially works but it leaves a blank line below every line, except the newly added line.</p>\n\n<p>I would like something like:</p>\n\n<pre><code>Bob,32.82\nBill,34.22\nJoe,39.09\nBob,45.23\nGeorge,46.08\n</code></pre>\n\n<p>but I am getting:</p>\n\n<pre><code>Bob,32.82\n\nBill,34.22\nJoe,39.09\n\nBob,45.23\n\nGeorge,46.08\n</code></pre>\n\n<p><code>Bill,34.22</code> being the last entry.</p>\n"}, {"tags": ["python", "function", "options"], "comments": [{"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 0, "creation_date": 1448488420, "post_id": 33927029, "comment_id": 55615088, "body": "This will need to be a lot more specific to get an answer."}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448488532, "post_id": 33927029, "comment_id": 55615153, "body": "where are you calling <code>options</code>?"}, {"owner": {"reputation": 28776, "user_id": 2314532, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/90ade367b50c6f2a4796a03c82b1a4a1?s=128&d=identicon&r=PG", "display_name": "rmunn", "link": "https://stackoverflow.com/users/2314532/rmunn"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448526037, "post_id": 33927029, "comment_id": 55627151, "body": "@RNar - It looks like the OP was calling <code>options()</code> in his code, but a mistake in indenting the code had hidden that fact. I&#39;ve edited the question to make that clearer."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 5601118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61719794ff5c166e39933ed9bba0fb14?s=128&d=identicon&r=PG&f=1", "display_name": "Catalin V", "link": "https://stackoverflow.com/users/5601118/catalin-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1448525538, "last_edit_date": 1448525538, "creation_date": 1448488886, "answer_id": 33927170, "question_id": 33927029, "link": "https://stackoverflow.com/questions/33927029/python-trouble-executing-functions-if-int/33927170#33927170", "title": "Python: Trouble executing functions if int ==", "body": "<p>In you code, you have defined a function that has two arguments, you can only call</p>\n\n<pre><code>options(1,2)\n</code></pre>\n\n<p>Moreover, it seems that your variables are functions themselves. \nTry</p>\n\n<pre><code>def options():\n    playerN = int(input(\"How players are you?\"))\n    if playerN == 1: \n        playerVsComputer()\n    if playerN == 2: \n        playerVsPlayer() \n</code></pre>\n\n<p>and call the functions as if defined above, with no arguments.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 5428193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8g87.jpg?s=128&g=1", "display_name": "rebuscodes", "link": "https://stackoverflow.com/users/5428193/rebuscodes"}, "edited": false, "score": 0, "creation_date": 1448489507, "post_id": 33927186, "comment_id": 55615605, "body": "That makes sense, the code is running now, thanks Makoto!"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1448489900, "post_id": 33927186, "comment_id": 55615773, "body": "OP doesn&#39;t say whether he&#39;s using Python 2 or Python 3. In Python 2, <code>input()</code> tries to evaluate the input, so it can return an int depending on what was typed in."}, {"owner": {"reputation": 28776, "user_id": 2314532, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/90ade367b50c6f2a4796a03c82b1a4a1?s=128&d=identicon&r=PG", "display_name": "rmunn", "link": "https://stackoverflow.com/users/2314532/rmunn"}, "reply_to_user": {"reputation": 15, "user_id": 5428193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8g87.jpg?s=128&g=1", "display_name": "rebuscodes", "link": "https://stackoverflow.com/users/5428193/rebuscodes"}, "edited": false, "score": 0, "creation_date": 1448526119, "post_id": 33927186, "comment_id": 55627200, "body": "@rebuscodes - If your code is working now, please accept the answer that helped you get it working. (Click the checkbox below that answer&#39;s score). That way others who come across this question in the future (because they had a similar problem, for example) will know that this is the answer they should use."}], "tags": [], "owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "is_accepted": true, "score": 1, "last_activity_date": 1448488960, "creation_date": 1448488960, "answer_id": 33927186, "question_id": 33927029, "link": "https://stackoverflow.com/questions/33927029/python-trouble-executing-functions-if-int/33927186#33927186", "title": "Python: Trouble executing functions if int ==", "body": "<p>First and foremost, in Python 3.x, <code>input</code> returns a string for use.  You are attempting to compare a string to an integer, which is always going to be false.  To make use of the value as integers, you'd have to cast the result to <code>int</code>...</p>\n\n<pre><code>int(input(\"How players are you?\"))\n</code></pre>\n\n<p>...or you could just compare the string literals <code>\"1\"</code> and <code>\"2\"</code> instead.</p>\n\n<p>Second, your method is not being called with the correct arguments.  You require two arguments to this method (which appear to be functions, since you're <em>invoking</em> them on the pass).</p>\n\n<p>If you have those functions declared elsewhere, you can remove the parameters from your function.  Otherwise, you'll need to pass in functions.</p>\n"}], "owner": {"reputation": 15, "user_id": 5428193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8g87.jpg?s=128&g=1", "display_name": "rebuscodes", "link": "https://stackoverflow.com/users/5428193/rebuscodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 33927186, "answer_count": 2, "score": 0, "last_activity_date": 1448525980, "creation_date": 1448488328, "last_edit_date": 1448525980, "question_id": 33927029, "link": "https://stackoverflow.com/questions/33927029/python-trouble-executing-functions-if-int", "title": "Python: Trouble executing functions if int ==", "body": "<p>I'm having trouble getting my code to run 2 different options (functions) for my game. I created a menu function options and included the 2 options. </p>\n\n<p>However, it comes back with the error \"missing 2 required positional arguements\"\nHow do I fix this? Thanks in advance and sorry this is such a rookie question!</p>\n\n<pre><code>def options(playerVsComputer, playerVsPlayer):\n    playerN = input(\"How players are you?\")\n    if input == 1: playerVsComputer()\n    if input == 2: playerVsPlayer()\n\noptions()\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "phpunit", "python-unittest"], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 5295157, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-kATu0I9F0XQ/AAAAAAAAAAI/AAAAAAAAAcQ/nMG5XOBADCM/photo.jpg?sz=128", "display_name": "shahram kalantari", "link": "https://stackoverflow.com/users/5295157/shahram-kalantari"}, "is_accepted": false, "score": 4, "last_activity_date": 1448495045, "creation_date": 1448495045, "answer_id": 33928369, "question_id": 33927003, "link": "https://stackoverflow.com/questions/33927003/can-i-group-test-methods-and-or-test-classes-in-python-unittest/33928369#33928369", "title": "Can I group test methods and/or test classes in Python unittest", "body": "<p>It is possible to run a group of test functions by putting them all in a single class. Let's say you have 4 test functions in your unittest and you want to have two groups of 2 functions. You need to create a tests.py script with two classes, each of which having 2 functions:</p>\n\n<pre><code>from unittest import TestCase\nclass testClass1(TestCase):\n   def testFunction1(self):\n      #test something\n   def testFunction2(self):\n      #test something\nclass testClass2(TestCase):\n   def testFunction3(self):\n      #test something\n   def testFunction4(self):\n      #test something\n</code></pre>\n\n<p>Then to run your unittest only on class 1 from command line, you can run</p>\n\n<pre><code>python -m unittest tests.testClass1\n</code></pre>\n"}], "owner": {"reputation": 6403, "user_id": 155248, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/14ac90265ea3bc86acbfe98493e86b8d?s=128&d=identicon&r=PG", "display_name": "Onema", "link": "https://stackoverflow.com/users/155248/onema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2461, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1448495045, "creation_date": 1448488169, "question_id": 33927003, "link": "https://stackoverflow.com/questions/33927003/can-i-group-test-methods-and-or-test-classes-in-python-unittest", "title": "Can I group test methods and/or test classes in Python unittest", "body": "<p>Coming from PHPUnit, it was easy to group test classes or functions using the<a href=\"https://phpunit.de/manual/current/en/appendixes.annotations.html#appendixes.annotations.group\" rel=\"noreferrer\"><code>@group</code> annotation</a>. That way I could run or exclude a very particular subset of tests, potentially across multiple files.</p>\n\n<p>I'm wondering if python unittest has something similar. If that is the case how do I use it and run it from the CLI?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "edited": false, "score": 0, "creation_date": 1448491812, "post_id": 33927633, "comment_id": 55616538, "body": "This technically doesn&#39;t answer the question. However, since there seems to be no answer, this is correct. Thank you!"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "edited": false, "score": 0, "creation_date": 1448492742, "post_id": 33927633, "comment_id": 55616927, "body": "@LehGogh: if it doesn&#39;t answer the question, don&#39;t accept it. Though, I don&#39;t know how else anyone could answer the question. Labels were never intended to scroll, they simply don&#39;t support it."}, {"owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "edited": false, "score": 0, "creation_date": 1448499298, "post_id": 33927633, "comment_id": 55618747, "body": "If I didn&#39;t accept this answer, this question would never have a correct answer. You said it yourself: Labels don&#39;s scroll. Plus, I found the &#39;use a text widget&#39; option to be better than a mere label."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1448490980, "creation_date": 1448490980, "answer_id": 33927633, "question_id": 33926971, "link": "https://stackoverflow.com/questions/33926971/tkinter-cant-use-a-vertical-scrollbar-with-a-label/33927633#33927633", "title": "tkinter - Can&#39;t use a vertical scrollbar with a label", "body": "<p>The solution is to use a widget that supports a scrollbar. The Label isn't such a widget. If you only need to scroll horizontally you can use an Entry widget and just set the state to disabled after setting the text.</p>\n\n<p>If you need to scroll vertically, you can use a Text widget. You can also use a canvas with either a text item drawn on the canvas, or a label embedded in the canvas (search for how to do a scrollable frame; the solution is the same even though it's a label rather than a frame)</p>\n"}], "owner": {"reputation": 198, "user_id": 5469289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPb95zlOjhc/AAAAAAAAAAI/AAAAAAAAACE/ybNeH0QVRco/photo.jpg?sz=128", "display_name": "Colby Gallup", "link": "https://stackoverflow.com/users/5469289/colby-gallup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1794, "favorite_count": 0, "accepted_answer_id": 33927633, "answer_count": 1, "score": 1, "last_activity_date": 1448490980, "creation_date": 1448488046, "question_id": 33926971, "link": "https://stackoverflow.com/questions/33926971/tkinter-cant-use-a-vertical-scrollbar-with-a-label", "title": "tkinter - Can&#39;t use a vertical scrollbar with a label", "body": "<p>I'm trying to create a label with a vertical scrollbar, using code similar to this:</p>\n\n<pre><code>from Tkinter import *\nmaster = Tk()\nmaster.geometry('480x320')\nscrbar = Scrollbar(master, orient=VERTICAL, width=28)\nscrbar.place(x=450, y=52)\nlbl = Label(master, text=('A'*100), yscrollcommand=scrbar.set)\nlbl.place(x=10, y=10)\nscrbar.config(command=lbl.yview)\nmaster.mainloop()\n</code></pre>\n\n<p>When running this, I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 6, in &lt;module&gt;\n    lbl = Label(master, text=('A'*100), yscrollcommand=scrbar.set)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 2590, in __init__\n    Widget.__init__(self, master, 'label', cnf, kw)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 2089, in __init__\n    (widgetName, self._w) + extra + self._options(cnf))\n_tkinter.TclError: unknown option \"-yscrollcommand\"\n</code></pre>\n\n<p>Does anyone know a solution?</p>\n"}, {"tags": ["python", "pandas", "date", "dataframe", "cumsum"], "answers": [{"comments": [{"owner": {"reputation": 4953, "user_id": 3396911, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/JJTmY.jpg?s=128&g=1", "display_name": "hernanavella", "link": "https://stackoverflow.com/users/3396911/hernanavella"}, "edited": false, "score": 0, "creation_date": 1448490151, "post_id": 33927281, "comment_id": 55615875, "body": "There&#39;s a problem. I only want to cumsum the column &#39;Volume&#39;. I want to keep the Price column intact. Is that possible?"}], "tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": true, "score": 4, "last_activity_date": 1448490306, "last_edit_date": 1448490306, "creation_date": 1448489452, "answer_id": 33927281, "question_id": 33926947, "link": "https://stackoverflow.com/questions/33926947/how-to-perform-cumulative-calculations-in-pandas-that-restart-with-each-change-i/33927281#33927281", "title": "How to perform cumulative calculations in pandas that restart with each change in date?", "body": "<p>The easiest way would probably be to set 'Date and Time' as the index and then use <code>groupby</code> with <code>TimeGrouper</code> to group the dates. Then you can apply <code>cumsum()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; df2 = df.set_index('Date and Time')\n&gt;&gt;&gt; df2['Volume'] = df2.groupby(pd.TimeGrouper('D'))['Volume'].cumsum()\n&gt;&gt;&gt; df2\n                           Price  Volume\nDateandTime                             \n2015-01-01 17:00:00.211  2030.25     342\n2015-01-01 17:00:02.456  2030.75     545\n2015-01-02 17:00:00.054  2031.00     182\n2015-01-02 17:00:25.882  2031.75     431\n</code></pre>\n\n<p>You can always reset the index again afterwards.</p>\n"}], "owner": {"reputation": 4953, "user_id": 3396911, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/JJTmY.jpg?s=128&g=1", "display_name": "hernanavella", "link": "https://stackoverflow.com/users/3396911/hernanavella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 1, "accepted_answer_id": 33927281, "answer_count": 1, "score": 2, "last_activity_date": 1505594336, "creation_date": 1448487938, "last_edit_date": 1505594336, "question_id": 33926947, "link": "https://stackoverflow.com/questions/33926947/how-to-perform-cumulative-calculations-in-pandas-that-restart-with-each-change-i", "title": "How to perform cumulative calculations in pandas that restart with each change in date?", "body": "<p>This is a simplified version of my data:</p>\n\n<pre><code>    Date and Time           Price   Volume\n0   2015-01-01 17:00:00.211 2030.25 342\n1   2015-01-01 17:00:02.456 2030.75 203\n2   2015-01-02 17:00:00.054 2031.00 182\n3   2015-01-02 17:00:25.882 2031.75 249\n</code></pre>\n\n<p>I would like to calculate cumulative volume per day, so that the end result would be something like:</p>\n\n<pre><code>data['cum_Vol'] = data['Volume'].cumsum()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    Date and Time           Price   Volume cum_Vol\n0   2015-01-01 17:00:00.211 2030.25 342    342\n1   2015-01-01 17:00:02.456 2030.75 203    545\n2   2015-01-02 17:00:00.054 2031.00 182    182\n3   2015-01-02 17:00:25.882 2031.75 249    431\n</code></pre>\n\n<p>Notice how instead of doing the regular <code>cumsum()</code>, the calculation re-starts when there's a change in Date, in the example from 2015-01-01 to 2015-01-02.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448488570, "post_id": 33926962, "comment_id": 55615171, "body": "I tried that and updated my original post with the error."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448488829, "post_id": 33926962, "comment_id": 55615307, "body": "@JamesWhite okay, the actual page HTML is a bit different from provided in the question. What is your desired output? Thanks."}, {"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448488982, "post_id": 33926962, "comment_id": 55615368, "body": "I want the info inside div.store-class. Thanks!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448489226, "post_id": 33926962, "comment_id": 55615491, "body": "@JamesWhite okay, but you can locate the &quot;store-class&quot; elements directly via, for instance <code>soup.find_all(&quot;div&quot;, class_=&quot;store-class&quot;)</code> - is there a problem with this approach?.."}, {"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448489796, "post_id": 33926962, "comment_id": 55615723, "body": "There&#39;s a lot of div.store-class on the page. The only way to identify the store you want is with the name=&quot;id_631&quot;."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448489885, "post_id": 33926962, "comment_id": 55615768, "body": "@JamesWhite I got it, updated - should work for you."}, {"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448490042, "post_id": 33926962, "comment_id": 55615829, "body": "Now I get <code>TypeError: find() got multiple values for argument &#39;name&#39;</code> But searching the page source I only find one name=&quot;id_631&quot;."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448490205, "post_id": 33926962, "comment_id": 55615904, "body": "@JamesWhite my bad, fixed."}, {"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448490339, "post_id": 33926962, "comment_id": 55615962, "body": "Now I get an empty array. I&#39;m going to keep playing with it also. At least I&#39;m not getting an error anymore!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448490561, "post_id": 33926962, "comment_id": 55616048, "body": "@JamesWhite okay, got it. You have to use <code>lxml</code> or <code>html5lib</code> instead of <code>html.parser</code> in this case."}, {"owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "edited": false, "score": 0, "creation_date": 1448491156, "post_id": 33926962, "comment_id": 55616283, "body": "That was it with one small change. It should be find_next_sibling. Not plural. THANK YOU!"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 5, "last_activity_date": 1448491171, "last_edit_date": 1448491171, "creation_date": 1448487999, "answer_id": 33926962, "question_id": 33926946, "link": "https://stackoverflow.com/questions/33926946/targeting-a-with-specific-attribute-using-beautifulsoup/33926962#33926962", "title": "Targeting &lt;a&gt; with specific attribute using BeautifulSoup", "body": "<p><a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-next-siblings-and-find-next-sibling\" rel=\"nofollow\"><code>find_next_sibling()</code></a> to the rescue:</p>\n\n<pre><code>soup.find(\"a\", attrs={\"name\": \"id_631\"}).find_next_sibling(\"div\", class_=\"store-class\")\n</code></pre>\n\n<p>Also, <code>html.parser</code> has to replaced with either <code>lxml</code> or <code>html5lib</code>.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#differences-between-parsers\" rel=\"nofollow\">Differences between parsers</a></li>\n</ul>\n"}], "owner": {"reputation": 495, "user_id": 2092576, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bd4c05649695f1630f2361a0c84a1601?s=128&d=identicon&r=PG", "display_name": "James White", "link": "https://stackoverflow.com/users/2092576/james-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4804, "favorite_count": 1, "accepted_answer_id": 33926962, "answer_count": 1, "score": 2, "last_activity_date": 1448491171, "creation_date": 1448487937, "last_edit_date": 1448488548, "question_id": 33926946, "link": "https://stackoverflow.com/questions/33926946/targeting-a-with-specific-attribute-using-beautifulsoup", "title": "Targeting &lt;a&gt; with specific attribute using BeautifulSoup", "body": "<p>I'm attempting to scrape a page that has a section like this:</p>\n\n<pre><code>&lt;a name=\"id_631\"&gt;&lt;/a&gt;\n\n&lt;hr&gt;\n\n&lt;div class=\"store-class\"&gt;\n    &lt;div&gt;\n        &lt;span&gt;&lt;strong&gt;Store City&lt;/strong&lt;/span&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"store-class-content\"&gt;\n        &lt;p&gt;Event listing&lt;/p&gt;\n        &lt;p&gt;Event listing2&lt;/p&gt;\n        &lt;p&gt;Event listing3&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n        Stuff about contact info\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The page is a list of sections like that and the only way to differentiate them is by the name attribute in the <code>&lt;a&gt;</code> tag.</p>\n\n<p>So I'm thinking I want to target that then go to the next_sibling to get the <code>&lt;hr&gt;</code> then again to the next sibling to get the <code>&lt;div class=\"store-class\"&gt;</code> section. All I want is the info in that div tag.</p>\n\n<p>I'm not sure how to target that <code>&lt;a&gt;</code> tag to move down two siblings though. When I try <code>print(soup.find_all('a', {\"name\":\"id_631\"}))</code> that just gives me what's in the tag, which is nothing. </p>\n\n<p>Here's my script:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nr = requests.get(\"http://www.tandyleather.com/en/leathercraft-classes\")\n\nsoup = soup = BeautifulSoup(r.text, 'html.parser')\n\nprint(soup.find(\"a\", id=\"id_631\").find_next_sibling(\"div\", class_=\"store-class\"))\n</code></pre>\n\n<p>But I get the error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"tandy.py\", line 8, in &lt;module&gt;\nprint(soup.find(\"a\", id=\"id_631\").find_next_sibling(\"div\", class_=\"store-class\"))\nAttributeError: 'NoneType' object has no attribute 'find_next_sibling'\n</code></pre>\n"}, {"tags": ["python", "flask", "flask-security"], "answers": [{"comments": [{"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "edited": false, "score": 0, "creation_date": 1448488919, "post_id": 33926903, "comment_id": 55615348, "body": "You&#39;re right. I forgot that PyPi is the official package repository for pip. Thanks for clarifying."}, {"owner": {"reputation": 13539, "user_id": 319006, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/da577908b04f60453c85f9c64e91638a?s=128&d=identicon&r=PG", "display_name": "sholsapp", "link": "https://stackoverflow.com/users/319006/sholsapp"}, "edited": false, "score": 0, "creation_date": 1448489197, "post_id": 33926903, "comment_id": 55615477, "body": "And considering the Flask-Login folks aren&#39;t already using semantic versioning, it&#39;s hard to say that they won&#39;t make an API change again. I would suggest that Dan pin all of his dependencies (including transitive ones). Also, <a href=\"https://github.com/pypa/pip/issues/988\" rel=\"nofollow noreferrer\">github.com/pypa/pip/issues/988</a>."}], "tags": [], "owner": {"reputation": 7932, "user_id": 1164104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584a376a0c422377280586120494bbd?s=128&d=identicon&r=PG", "display_name": "Doobeh", "link": "https://stackoverflow.com/users/1164104/doobeh"}, "is_accepted": true, "score": 0, "last_activity_date": 1448488662, "last_edit_date": 1448488662, "creation_date": 1448487735, "answer_id": 33926903, "question_id": 33926858, "link": "https://stackoverflow.com/questions/33926858/why-does-my-pip-install-flask-security-keep-downloading-the-wrong-project-code/33926903#33926903", "title": "Why does my pip install flask-security keep downloading the wrong project code?", "body": "<p>I'd just recommend using the older version of Flask-Login until Flask-Security updates their version on PyPi.  In your <code>requirements.txt</code> file just specify the old version.  For example your <code>requirements.txt</code> might look like:</p>\n\n<pre><code>flask\nflask-login==0.2.11\nflask-security\nflask-wtf\n</code></pre>\n\n<p>Then you can install it with <code>pip install -r requirements.txt</code> and you should be good to go.</p>\n\n<p>To explain a little further, even in 1.7.4 <a href=\"https://github.com/mattupstate/flask-security/blob/1.7.4/flask_security/decorators.py#L59\" rel=\"nofollow\">the decorator code</a> here is treating <code>user.is_authenticated()</code> as a callable, not a boolean as it now is (in Flask-Login 0.3) and because Flask-Security is telling pip \"Grab me the latest version of Flask-Login please!\" pip's grabbing 0.3 and the problem appears.</p>\n\n<p>If you instead look at the <a href=\"https://github.com/mattupstate/flask-security/blob/develop/flask_security/decorators.py#L60\" rel=\"nofollow\">code in the development branch here</a> you can see it's been corrected to now treat it as a boolean, but that development version isn't stable/pushed to PyPi yet.</p>\n\n<p>To reduce the problem in the future, you can see that in the development branch's <code>requirements.txt</code> they've now got Flask-Login specified as <code>Flask-Login&gt;=0.3.0,&lt;0.4</code> which makes the assumption that Flask-Login's developers aren't going to make any breaking changes during their minor revisions on the way to 0.4.</p>\n"}], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 33926903, "answer_count": 1, "score": 0, "last_activity_date": 1448488662, "creation_date": 1448487545, "question_id": 33926858, "link": "https://stackoverflow.com/questions/33926858/why-does-my-pip-install-flask-security-keep-downloading-the-wrong-project-code", "title": "Why does my pip install flask-security keep downloading the wrong project code?", "body": "<p>Recently, flask-security had been breaking due to an upgrade to Flask-Login 0.3. the problem lies from a method definition to a property definition of is_active() and is_authenticated() to is_active and is_authenticated respectively. This change is breaking my Flask app for registering, logging in.</p>\n\n<p>On this project url <a href=\"https://github.com/mattupstate/flask-security\" rel=\"nofollow\">Correct Flask-Security code</a> I need this version because if you look at the <code>decorators.py</code> file the <code>is_authenticated()</code> method that previously broke is correctly changed to is_authenticated.</p>\n\n<p>However, whenever I invode<code>pip install flask-security</code> I get a version that has the incorrect code. The version in my site-packages directory specifies 1.7.4 which should be the correct version. So why does this break.</p>\n\n<p>I resolved this with <code>easy_install flask-security</code> but I'm confused as why pip install didn't work. Does anyone else have this problem?</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1448487285, "post_id": 33926771, "comment_id": 55614518, "body": "Loop through the list in the property. For each time you see <code>1</code>, append the property name to the result."}], "answers": [{"comments": [{"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1448488074, "post_id": 33926842, "comment_id": 55614927, "body": "You said you don&#39;t know how to rollback so why rollback my edit?"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1448488118, "post_id": 33926842, "comment_id": 55614950, "body": "The rollback button wasn&#39;t there until I refreshed the page.  I&#39;ll stop making edits, you can make yours now."}, {"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1448488183, "post_id": 33926842, "comment_id": 55614974, "body": "You should remove the one-liner solution from your answer."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1448488347, "post_id": 33926842, "comment_id": 55615053, "body": "This answer is meant to show the solution in a full stepwise program and again in a compact, pythonic one-liner that does the same thing.  Don&#39;t delete my answer."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1448488421, "post_id": 33926842, "comment_id": 55615089, "body": "My answer also sorts the results on the same line, which makes it different than your answer."}, {"owner": {"reputation": 41745, "user_id": 3093387, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/13nxa.jpg?s=128&g=1", "display_name": "josliber", "link": "https://stackoverflow.com/users/3093387/josliber"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 1, "creation_date": 1448488673, "post_id": 33926842, "comment_id": 55615230, "body": "@user3100115, please stop removing the 1-line solution -- the author of this post has made it clear that they want to include that code in the answer."}, {"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "reply_to_user": {"reputation": 41745, "user_id": 3093387, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/13nxa.jpg?s=128&g=1", "display_name": "josliber", "link": "https://stackoverflow.com/users/3093387/josliber"}, "edited": false, "score": 0, "creation_date": 1448488752, "post_id": 33926842, "comment_id": 55615265, "body": "@josilber please see the edit history. Perhaps you will understand why I edited the first place.."}, {"owner": {"reputation": 41745, "user_id": 3093387, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/13nxa.jpg?s=128&g=1", "display_name": "josliber", "link": "https://stackoverflow.com/users/3093387/josliber"}, "reply_to_user": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 7, "creation_date": 1448488888, "post_id": 33926842, "comment_id": 55615335, "body": "@user3100115 It looks like you came up with similar solutions within a minute of each other, which usually isn&#39;t a case of somebody copying the other."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 2, "last_activity_date": 1448488357, "last_edit_date": 1448488357, "creation_date": 1448487490, "answer_id": 33926842, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary/33926842#33926842", "title": "Duplicate values in a Python dictionary", "body": "<p>This uses two loops, <code>k,v in d.items()</code> which gets each (key,value) pair from the dictionary, and <code>n in v</code> which loops through each value in <code>v</code>:</p>\n\n<pre><code>d = { 'a' : [1], 'b' : [1,2,3], 'c' : [1,1,2], 'd' : [2,3,4] }\nl = []\nfor k,v in d.items():\n    for n in v:\n        if n == 1:\n            l.append(k)\nl.sort()\n</code></pre>\n\n<p>If you want a one-liner:</p>\n\n<pre><code>l = sorted(k for k,v in d.items() for n in v if n == 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 5601069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575bbd8929b4c0fb5a2dd06a6fe2b185?s=128&d=identicon&r=PG&f=1", "display_name": "Enkelli", "link": "https://stackoverflow.com/users/5601069/enkelli"}, "is_accepted": false, "score": 2, "last_activity_date": 1499279006, "last_edit_date": 1499279006, "creation_date": 1448487558, "answer_id": 33926860, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary/33926860#33926860", "title": "Duplicate values in a Python dictionary", "body": "<p>easy way: (Python 3) </p>\n\n<pre><code>d = { 'a' : [1], 'b' : [1,2,3], 'c' : [1,1,2], 'd' : [2,3,4] }  \nn = 1\nresult = []\nfor key, value in d.items():\n    for i in value.count(n):\n        res.append(key)\n</code></pre>\n\n<p>if you want list sorted than:  </p>\n\n<pre><code>result.sort()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 3, "last_activity_date": 1448487676, "creation_date": 1448487676, "answer_id": 33926884, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary/33926884#33926884", "title": "Duplicate values in a Python dictionary", "body": "<p>Here is one way:</p>\n\n<pre><code>&gt;&gt;&gt; x = { 'a' : [1], 'b' : [1,2,3], 'c' : [1,1,2], 'd' : [2,3,4] }\n&gt;&gt;&gt; list(itertools.chain.from_iterable([k]*v.count(1) for k, v in x.iteritems() if 1 in v))\n['a', 'c', 'c', 'b']\n</code></pre>\n\n<p>If using Python 3, use <code>items</code> instead of <code>iteritems</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "is_accepted": true, "score": 5, "last_activity_date": 1448492592, "last_edit_date": 1448492592, "creation_date": 1448487744, "answer_id": 33926904, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary/33926904#33926904", "title": "Duplicate values in a Python dictionary", "body": "<p>You can use list comprehensions</p>\n\n<pre><code>&gt;&gt;&gt; d = { 'a' : [1], 'b' : [1,2,3], 'c' : [1,1,2], 'd' : [2,3,4] }\n&gt;&gt;&gt; [key for key, values in d.items() for element in values if element==1]\n['c', 'c', 'b', 'a']\n</code></pre>\n\n<p>Here we have two nested for loops in our list comprehension. The first iterate over each key, values pairs in the dictionary and the second loop iterate over each element in the \"value\" list and return the key each time that element equal to <code>1</code>. The result list is unordered because dict are unordered which means there are no guarantees about the order of the items.</p>\n"}, {"tags": [], "owner": {"reputation": 72, "user_id": 3727069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79906b13ff2e6e5a0bf0a00b78f6db8c?s=128&d=identicon&r=PG&f=1", "display_name": "PanGalactic", "link": "https://stackoverflow.com/users/3727069/pangalactic"}, "is_accepted": false, "score": 2, "last_activity_date": 1448493799, "creation_date": 1448493799, "answer_id": 33928156, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary/33928156#33928156", "title": "Duplicate values in a Python dictionary", "body": "<p>The sort must be made on the dictionary to get the expected result. This should work:</p>\n\n<pre><code>list = []\nfor i in sorted(d.keys()):\n   list+=[i for x in d[i] if x == 1]\nprint list\n</code></pre>\n\n<p>will output:</p>\n\n<pre><code> ['a', 'b', 'c', 'c']\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5587883, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a5ff792f02aa60bdb32f9a876ebd299a?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/5587883/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1753, "favorite_count": 0, "accepted_answer_id": 33926904, "answer_count": 5, "score": 0, "last_activity_date": 1499279006, "creation_date": 1448487167, "last_edit_date": 1448490674, "question_id": 33926771, "link": "https://stackoverflow.com/questions/33926771/duplicate-values-in-a-python-dictionary", "title": "Duplicate values in a Python dictionary", "body": "<p>I have a dictionary in the following format:</p>\n\n<pre><code>{ 'a' : [1], 'b' : [1,2,3], 'c' : [1,1,2], 'd' : [2,3,4] }\n</code></pre>\n\n<p>and I want to create a list of the keys which have a '1' in their values.</p>\n\n<p>So my result list should look like:</p>\n\n<pre><code>['a','b','c','c']\n</code></pre>\n\n<p>I cannot understand how to work with duplicate values.\nAny ideas how can I get such a list?</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyside", "qtreeview"], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1448494539, "creation_date": 1448494539, "answer_id": 33928284, "question_id": 33926744, "link": "https://stackoverflow.com/questions/33926744/cant-edit-items-in-qtreeview-with-qfilesystems/33928284#33928284", "title": "Can&#39;t edit items in QTreeView with QFileSystems", "body": "<p>The model is read-only by default, so you need to add:</p>\n\n<pre><code>    self.file_system_model.setReadOnly(False)\n</code></pre>\n"}], "owner": {"reputation": 4782, "user_id": 2614463, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/913ebbbbc8758c120f553ad3bcb14eac?s=128&d=identicon&r=PG", "display_name": "BoshWash", "link": "https://stackoverflow.com/users/2614463/boshwash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 33928284, "answer_count": 1, "score": 1, "last_activity_date": 1518898015, "creation_date": 1448487046, "last_edit_date": 1518898015, "question_id": 33926744, "link": "https://stackoverflow.com/questions/33926744/cant-edit-items-in-qtreeview-with-qfilesystems", "title": "Can&#39;t edit items in QTreeView with QFileSystems", "body": "<p>I'm trying to get a QTreeView to allow the user to edit file names from a QFileSystemModel. However Qt just prints:</p>\n\n<pre><code>edit: editing failed\n</code></pre>\n\n<p>I get the same result with PySide and PyQt.</p>\n\n<p>Opening the editor with openPersistenEditor() works, but I would prefer to use the build-in mechanism.</p>\n\n<pre><code>import sys\nfrom PyQt4.QtGui import QTreeView, QFileSystemModel, QApplication\n\n\nclass TestView(QTreeView):\n    def __init__(self, directory, *args, **kwargs):\n        super(TestView, self).__init__(*args, **kwargs)\n\n        self.file_system_model = QFileSystemModel()\n\n        self.file_system_model.setRootPath(directory)\n        index = self.file_system_model.index(directory)\n        self.setModel(self.file_system_model)\n        self.setRootIndex(index)\n        self.activated.connect(self._on_edit)\n\n    def _on_edit(self, index):\n        # self.closePersistentEditor(index)\n        # app.processEvents()\n        self.edit(self.currentIndex())\n        # self.openPersistentEditor(index)\n\n\nif __name__ == '__main__':\n    app = QApplication([])\n    directory = r'c:/'\n    dialog = TestView(directory)\n\n    dialog.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "edited": false, "score": 1, "creation_date": 1448487308, "post_id": 33926738, "comment_id": 55614533, "body": "Have you tried using <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy\" rel=\"nofollow noreferrer\">Christoph Gohlke&#39;s binaries</a>? I&#39;ve generally found these to be the best way of installing packages that need a C compiler on Windows. He has a Scipy 0.16.1 Win32 Python 3.5 binary available - <code>scipy\u20110.16.1\u2011cp35\u2011none\u2011win32.whl</code>."}, {"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "reply_to_user": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "edited": false, "score": 0, "creation_date": 1448487601, "post_id": 33926738, "comment_id": 55614669, "body": "I just tried <code>pip install scipy-0.16.1-cp35-none-wi n32.whl</code> and got back  <code>scipy-0.16.1-cp35-none-win32.whl is not a supported wheel on this platform.</code>"}, {"owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "edited": false, "score": 1, "creation_date": 1448487747, "post_id": 33926738, "comment_id": 55614761, "body": "Maybe try the amd64 build instead? Since you&#39;re on a 64-bit version of Windows Server. If that doesn&#39;t work, I&#39;m afraid I don&#39;t have any other ideas."}, {"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "reply_to_user": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "edited": false, "score": 0, "creation_date": 1448487937, "post_id": 33926738, "comment_id": 55614863, "body": "@senshin, It worked! Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "is_accepted": true, "score": 3, "last_activity_date": 1448488084, "creation_date": 1448488084, "answer_id": 33926982, "question_id": 33926738, "link": "https://stackoverflow.com/questions/33926738/scipy-on-python-3-5-manual-installation/33926982#33926982", "title": "Scipy on Python 3.5 - manual installation", "body": "<p><a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow\">Christoph Gohlke's binaries</a> for Python on Windows are a godsend when you need to install a package that requires a C compiler, like <code>numpy</code> or <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy\" rel=\"nofollow\"><code>scipy</code></a>, though he only tends to host binaries for the latest versions of the packages (but for all current versions of CPython). </p>\n\n<p>When installing these binaries, make sure that the platform on the binary (usually <code>win32</code> or <code>win_amd64</code>) matches the type of Python you installed (32-bit or 64-bit), and note that it may not match your OS's bit-ness if you installed a 32-bit version of Python on a 64-bit OS.</p>\n\n<p>Since you apparently have a 64-bit version of Python 3.5 installed, the wheel you want is <code>scipy\u20110.16.1\u2011cp35\u2011none\u2011win_amd64.whl</code>. </p>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6588, "favorite_count": 0, "accepted_answer_id": 33926982, "answer_count": 1, "score": 2, "last_activity_date": 1448488084, "creation_date": 1448487037, "question_id": 33926738, "link": "https://stackoverflow.com/questions/33926738/scipy-on-python-3-5-manual-installation", "title": "Scipy on Python 3.5 - manual installation", "body": "<p>I downloaded <code>scipy-0.16.1-win32-superpack-python3.4.exe</code> and tried to install it on WinServer 2008 R2 64bit with Python 3.5 preinstalled. SciPy returns error saying that Python 3.4 not found. My server does not have Internet connection, so I have to download and move files manually. Any suggestions? Should I just try to downgrade to Python 3.4? Is it easy to downgrade?</p>\n"}, {"tags": ["python", "filesystems", "tar", "opensuse", "suse"], "comments": [{"owner": {"reputation": 478, "user_id": 5574093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1mzWyUOdII/AAAAAAAAAAI/AAAAAAAAABs/-yBOC2Z9Drs/photo.jpg?sz=128", "display_name": "Stephen Briney", "link": "https://stackoverflow.com/users/5574093/stephen-briney"}, "edited": false, "score": 0, "creation_date": 1448490885, "post_id": 33926705, "comment_id": 55616176, "body": "Are yo able to try with the option --format=gnu as shown in the issue report?"}, {"owner": {"reputation": 704, "user_id": 373451, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c8187131b0b301d3aa1d7dbcfa032ec8?s=128&d=identicon&r=PG", "display_name": "yet", "link": "https://stackoverflow.com/users/373451/yet"}, "reply_to_user": {"reputation": 478, "user_id": 5574093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1mzWyUOdII/AAAAAAAAAAI/AAAAAAAAABs/-yBOC2Z9Drs/photo.jpg?sz=128", "display_name": "Stephen Briney", "link": "https://stackoverflow.com/users/5574093/stephen-briney"}, "edited": false, "score": 0, "creation_date": 1448736310, "post_id": 33926705, "comment_id": 55706396, "body": "I tried it, it didn&#39;t help. I gave up because it only happens with 1.28"}], "owner": {"reputation": 704, "user_id": 373451, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c8187131b0b301d3aa1d7dbcfa032ec8?s=128&d=identicon&r=PG", "display_name": "yet", "link": "https://stackoverflow.com/users/373451/yet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 860, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1448490346, "creation_date": 1448486908, "last_edit_date": 1448490346, "question_id": 33926705, "link": "https://stackoverflow.com/questions/33926705/python-tar-extra-pax-header-folders", "title": "python tar extra pax header folders", "body": "<p>It seems like a reported bug in some versions but does anybody seen this issue and provide a workaround or any solution?</p>\n\n<p>in python code when i execute subprocess([\"tar\",\"czf\",\"pack.tar.gz\",\"pack\"])</p>\n\n<p>generated archive file contains magical <strong>PaxHeaders.15790</strong> in all directories :D</p>\n\n<p>I am using tar = 1.28 and python = 2.7.8</p>\n\n<p>Edit: this is not related to python, also same folder has same problem with regular shell commands. tar xvzf and tar cvzf....</p>\n\n<p>I found this but didn't help :<a href=\"https://github.com/owncloud/core/issues/5783\" rel=\"nofollow\">https://github.com/owncloud/core/issues/5783</a></p>\n\n<p>Also i am using opensuse</p>\n"}, {"tags": ["python", "numpy", "matrix", "matplotlib", "lidar"], "answers": [{"tags": [], "owner": {"reputation": 7320, "user_id": 1175824, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GKjUX.png?s=128&g=1", "display_name": "steffen", "link": "https://stackoverflow.com/users/1175824/steffen"}, "is_accepted": false, "score": 0, "last_activity_date": 1448487552, "creation_date": 1448487552, "answer_id": 33926859, "question_id": 33926704, "link": "https://stackoverflow.com/questions/33926704/converting-coordinates-vector-to-numpy-2d-matrix/33926859#33926859", "title": "Converting coordinates vector to numpy 2D matrix", "body": "<p>I am aware that I am not answering half of your questions but this is how I would do it: </p>\n\n<ol>\n<li>Create a 2D array of the desired resolution,</li>\n<li>The \"leftmost\" values correspond to the smallest values of x and so forth</li>\n<li>Fill the array with the elevation value of the closest match in terms of x and y values</li>\n<li>Smoothen the result.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "edited": false, "score": 1, "creation_date": 1448581998, "post_id": 33948499, "comment_id": 55655978, "body": "I also seems worth mentioning that griddata has multiple options for interpolation method: <a href=\"https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.interpolate.griddata.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy-0.14.0/reference/generated/&hellip;</a>"}], "tags": [], "owner": {"reputation": 828, "user_id": 5143911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1aed414dcc50f5caf1e83d7469db50?s=128&d=identicon&r=PG&f=1", "display_name": "yevgeniy", "link": "https://stackoverflow.com/users/5143911/yevgeniy"}, "is_accepted": true, "score": 4, "last_activity_date": 1448581343, "creation_date": 1448581343, "answer_id": 33948499, "question_id": 33926704, "link": "https://stackoverflow.com/questions/33926704/converting-coordinates-vector-to-numpy-2d-matrix/33948499#33948499", "title": "Converting coordinates vector to numpy 2D matrix", "body": "<p>You don't need to reinvent the bicycle.</p>\n\n<pre><code>from matplotlib.mlab import griddata\nimport numpy as np\n\n#-- Your coordinates\nx = np.random.random(100)\ny = np.random.random(100)\nz = np.random.random(100)*10\n#--\n\n#-- Your new grid\nxsteps=200    # resolution in x\nysteps=200    # resolution in y\nxi = linspace(min(x), max(x), xsteps)\nyi = linspace(min(y), max(y), ysteps)\nZ = griddata(x, y, z, xi, yi)  # interpolates between points in your data\n#--\n\nplt.pcolormesh(xi, yi, Z, cmap=plt.cm.hot)   # plot your elevation map :D\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 374, "user_id": 4110223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b15cae528c5bf1b72f17cf5f9c63150f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4110223/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2426, "favorite_count": 0, "accepted_answer_id": 33948499, "answer_count": 2, "score": 3, "last_activity_date": 1448581343, "creation_date": 1448486908, "last_edit_date": 1592644375, "question_id": 33926704, "link": "https://stackoverflow.com/questions/33926704/converting-coordinates-vector-to-numpy-2d-matrix", "title": "Converting coordinates vector to numpy 2D matrix", "body": "<p>I have a set of 3D coordinates points: [lat,long,elevation] ([X,Y,Z]), derived from LIDAR data.\nThe points are not sorted and the steps size between the points is more or less random.</p>\n<p>My goal is to build a function that converts this set of points to a 2D numpy matrix of a constant number of pixels where each (X,Y) cell hold the Z value, then plot it as elevations heatmap.</p>\n<ul>\n<li>scales must remain realistic, X and Y should have same step size.</li>\n<li>the matrix doesn't have to catch the exact elevations picture, It will obviously need some kind of resolution reduction in order to have a constant number of pixels.</li>\n</ul>\n<p>The solution I was thinking of is to build a bucket for each pixel, iterate over the points and put each in a bucket according to it's (X,Y) values. At last create a matrix where each sell holds the mean of the Z values in the corresponding bucket.</p>\n<ol>\n<li><p>Since I don't have lots of experience in this field I would love to hear some tips and specially if there are better ways to address this task.</p>\n</li>\n<li><p>Is there a numpy function for converting my set of points to the desired matrix? (maybe meshgrid with steps of a constant value?)</p>\n</li>\n<li><p>If I build very sparse matrix, where the step size is</p>\n<p>min[min{Xi,Xj} , min{Yk,Yl}] for all i,j,k,l</p>\n<p>is there a way to &quot;reduce&quot; the resolution and convert it to a matrix with the required size?</p>\n</li>\n</ol>\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1448486975, "post_id": 33926685, "comment_id": 55614373, "body": "Loop through the numbers in the range, convert the number to a string, if the string contains <code>x</code> then print it."}, {"owner": {"reputation": 16, "user_id": 5601131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a02623906528100571374778a9b03f?s=128&d=identicon&r=PG&f=1", "display_name": "Zoap", "link": "https://stackoverflow.com/users/5601131/zoap"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1448487484, "post_id": 33926685, "comment_id": 55614606, "body": "But it is a forum where u can ask programing releated questions right?   Never asked someone to write the code for me, the response @Barmar gave was enough to get me going, thanks"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1448488592, "post_id": 33926685, "comment_id": 55615179, "body": "if you just need to know how many numbers there are its pretty easy <code>4*(1+10^3)</code> (I think at least)"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1593193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71afc6059d7e2fa24e481a5e680b7d58?s=128&d=identicon&r=PG", "display_name": "eandy", "link": "https://stackoverflow.com/users/1593193/eandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1448487244, "creation_date": 1448487244, "answer_id": 33926788, "question_id": 33926685, "link": "https://stackoverflow.com/questions/33926685/if-number-in-rangex-y-contains-digit-print-numbers/33926788#33926788", "title": "If number in range(x, y) contains digit, print number(s)", "body": "<p>A solution could be as suggested by Barmar:</p>\n\n<pre><code>x=5\ny=12\ndigit_check=1\n\nfor Int in range(x,y):\n    if str(digit_check) in str(Int):\n        print Int\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 5596942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d3bb350bc8def49bca09b08fdd9395?s=128&d=identicon&r=PG&f=1", "display_name": "Pod", "link": "https://stackoverflow.com/users/5596942/pod"}, "is_accepted": true, "score": 0, "last_activity_date": 1448488166, "creation_date": 1448488166, "answer_id": 33927000, "question_id": 33926685, "link": "https://stackoverflow.com/questions/33926685/if-number-in-rangex-y-contains-digit-print-numbers/33927000#33927000", "title": "If number in range(x, y) contains digit, print number(s)", "body": "<p>Would this do the job?</p>\n\n<pre><code>x = '3'\nnumber_list = []\n\nfor i in range(1,10001):\n        number_list.append(str(i))\n\nx_numbers = [y for y in number_list if x in y]\n\nprint(len(x_numbers))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1448490882, "creation_date": 1448490882, "answer_id": 33927610, "question_id": 33926685, "link": "https://stackoverflow.com/questions/33926685/if-number-in-rangex-y-contains-digit-print-numbers/33927610#33927610", "title": "If number in range(x, y) contains digit, print number(s)", "body": "<p>Compute how many numbers do <em>not</em> have the required digit in <em>any</em> of the four locations.  Subtract from the total.</p>\n\n<pre><code>print 10000 - 10000 * 9/10 * 9/10 * 9/10 * 9/10 \n</code></pre>\n"}], "owner": {"reputation": 16, "user_id": 5601131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a02623906528100571374778a9b03f?s=128&d=identicon&r=PG&f=1", "display_name": "Zoap", "link": "https://stackoverflow.com/users/5601131/zoap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "closed_date": 1448491810, "accepted_answer_id": 33927000, "answer_count": 3, "score": -3, "last_activity_date": 1448492572, "creation_date": 1448486800, "last_edit_date": 1448492572, "question_id": 33926685, "link": "https://stackoverflow.com/questions/33926685/if-number-in-rangex-y-contains-digit-print-numbers", "closed_reason": "Needs more focus", "title": "If number in range(x, y) contains digit, print number(s)", "body": "<p>What is the best way to print out all the numbers in for example range(0, 1000) containing digit x?</p>\n\n<p>And what is the best way of returning the number of numbers that contains the digit x in for example  range(0, 1000)?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 2733800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7cbddcf9c9cfc84284cf5cee4490f1?s=128&d=identicon&r=PG", "display_name": "avi9526", "link": "https://stackoverflow.com/users/2733800/avi9526"}, "is_accepted": false, "score": 0, "last_activity_date": 1472170541, "creation_date": 1472170541, "answer_id": 39156592, "question_id": 33926630, "link": "https://stackoverflow.com/questions/33926630/how-to-get-nice-custom-ticks-in-matplotlib/39156592#39156592", "title": "How to get nice custom ticks in matplotlib", "body": "<p>Someone on matplotlib github give me answer to this question, which is working nicely <a href=\"https://github.com/matplotlib/matplotlib/issues/6975#issuecomment-242579370\" rel=\"nofollow\">https://github.com/matplotlib/matplotlib/issues/6975#issuecomment-242579370</a></p>\n\n<pre><code>import matplotlib\nimport matplotlib.ticker\n</code></pre>\n\n<p>...</p>\n\n<pre><code>l = matplotlib.ticker.AutoLocator()\nl.create_dummy_axis()\nl.tick_values(-10, 15.5)\n</code></pre>\n\n<p>:</p>\n\n<pre><code>array([-10.,  -5.,   0.,   5.,  10.,  15.,  20.])\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 2733800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7cbddcf9c9cfc84284cf5cee4490f1?s=128&d=identicon&r=PG", "display_name": "avi9526", "link": "https://stackoverflow.com/users/2733800/avi9526"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472170541, "creation_date": 1448486473, "question_id": 33926630, "link": "https://stackoverflow.com/questions/33926630/how-to-get-nice-custom-ticks-in-matplotlib", "title": "How to get nice custom ticks in matplotlib", "body": "<p>I plot image using matplotlib, the X axis have pixels on it - from 1 to image size by X axis, for example [1,1000], which is correspond to my physical value range</p>\n\n<pre><code>k1_range = [2.11, 6.33]\n</code></pre>\n\n<p>I need labels to be shown along X axis, not pixels, but my actual physical value. If I will use something like</p>\n\n<pre><code>numpy.linspace(k1_range[0], k1_range[1], 5)\n</code></pre>\n\n<p>I will get some \"ugly\" labels</p>\n\n<pre><code>array([ 2.11 ,  3.165,  4.22 ,  5.275,  6.33 ])\n</code></pre>\n\n<p>I need them to be nice, like</p>\n\n<pre><code>array([ 2.5,  3. ,  3.5,  4. ,  4.5,  5. ,  5.5,  6. ])\n</code></pre>\n\n<p>matplotlib can generate such nice looking ticks when ploting curve with auto ticks, but I see no simple way to specify custom range for this nice-ticks-auto-generation.</p>\n\n<p>I had to use this code to make nice ticks, it's seems to be working, but it is time wasting to write bugged code to do something that is already done in matplotlib</p>\n\n<pre><code>k1_range=[2.11, 6.33]\n\nKTickCount = 5\nKTickStep = numpy.abs((k1_range[1]-k1_range[0])) / KTickCount\nDigits = numpy.floor(numpy.log10(KTickStep)+1)-1\nKTickStep = (KTickStep/10**Digits)\nif KTickStep &lt; 2:\n    KTickStep = 1\nelif KTickStep &lt; 2.5:\n    KTickStep = 2\nelif KTickStep &lt; 5:\n    KTickStep = 2.5\nelse:\n    KTickStep = 5\nKTickStep = KTickStep * 10**Digits\nDigits = numpy.floor(numpy.log10(numpy.max(k1_range))+1)-1\nKTicks = numpy.arange(numpy.ceil(k1_range[0]/KTickStep)*KTickStep, k1_range[1], KTickStep)\nprint(KTicks)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[ 2.5  3.   3.5  4.   4.5  5.   5.5  6. ]\n</code></pre>\n\n<p>How to get nice (round to 1, 2, 2.5, 5) tick positions when plotting with matplotlib?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "is_accepted": false, "score": 1, "last_activity_date": 1448487257, "creation_date": 1448487257, "answer_id": 33926790, "question_id": 33926588, "link": "https://stackoverflow.com/questions/33926588/replacing-a-specific-character-if-it-is-inside-a-string-that-matches-a-pattern-i/33926790#33926790", "title": "Replacing a specific character if it is inside a string that matches a pattern in Python", "body": "<p>Regexless solution:</p>\n\n<pre><code>s = r'$some\\string here inside$ and [some here \\out side]'\n\ndef solution(s):\n    inside = False\n    for c in s:\n        if c == '$':\n            inside = not inside\n            yield c\n        elif inside and c == '\\\\':\n            yield 'X'\n        else:\n            yield c\n\n\nprint(''.join(solution(s)))\n</code></pre>\n\n<p>I know some explanation would be welcome, but at the moment I have no idea what could I explain.</p>\n"}, {"comments": [{"owner": {"reputation": 177, "user_id": 669363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97e8ca6c70c7d201b024def00c8587dc?s=128&d=identicon&r=PG&f=1", "display_name": "Esildor", "link": "https://stackoverflow.com/users/669363/esildor"}, "edited": false, "score": 0, "creation_date": 1448488512, "post_id": 33926964, "comment_id": 55615134, "body": "Appreciated :) Thanks"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1448488325, "last_edit_date": 1448488325, "creation_date": 1448488007, "answer_id": 33926964, "question_id": 33926588, "link": "https://stackoverflow.com/questions/33926588/replacing-a-specific-character-if-it-is-inside-a-string-that-matches-a-pattern-i/33926964#33926964", "title": "Replacing a specific character if it is inside a string that matches a pattern in Python", "body": "<p>You can use a <code>lambda</code> with <code>re.sub</code> using <code>str.replace</code> to replace any <code>\\\\</code> that matches your pattern</p>\n\n<pre><code>s = \"$some\\string here inside$ and [some here \\out side]\"\nimport re\n\nprint(re.sub(r\"\\$.*\\\\.*\\$\",lambda  x: x.group().replace(\"\\\\\",\"X\"),s))\n$someXstring here inside$ and [some here \\out side]\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 669363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97e8ca6c70c7d201b024def00c8587dc?s=128&d=identicon&r=PG&f=1", "display_name": "Esildor", "link": "https://stackoverflow.com/users/669363/esildor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 33926964, "answer_count": 2, "score": 3, "last_activity_date": 1448488325, "creation_date": 1448486336, "last_edit_date": 1448486781, "question_id": 33926588, "link": "https://stackoverflow.com/questions/33926588/replacing-a-specific-character-if-it-is-inside-a-string-that-matches-a-pattern-i", "title": "Replacing a specific character if it is inside a string that matches a pattern in Python", "body": "<p>Is it possible to use regex to replace a specific character inside a string if it matches a pattern?\nFor example I want to replace <code>\\</code> with <code>X</code> if it is inside two <code>$</code> characters, otherwise it should remain unchanged.</p>\n\n<pre><code> $some\\string here inside$ and [some here \\out side]\n</code></pre>\n\n<p>and what I expect to have in output is </p>\n\n<pre><code>$someXstring here inside$ and [some here \\out side]\n</code></pre>\n\n<p><code>re.sub(r'\\$*\\\\*\\$', 'X', b)</code> replaces <code>$</code> with <code>X</code>. How should I do this with one <code>re.sub</code> command?</p>\n"}, {"tags": ["python", "kivy", "raspbian", "raspberry-pi2"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1448491825, "post_id": 33926548, "comment_id": 55616544, "body": "I think this error was recently introduced in kivy master, and as such should be fixed soon. bionoid on irc suggested that ed0247031c56950dc506959d66457713d2923cdb is a working commit to try."}, {"owner": {"reputation": 11, "user_id": 5606032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/53GCE.jpg?s=128&g=1", "display_name": "Christian Koehler", "link": "https://stackoverflow.com/users/5606032/christian-koehler"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1448566494, "post_id": 33926548, "comment_id": 55650706, "body": "Thanks! I synced from that commit and everything worked."}], "owner": {"reputation": 11, "user_id": 5606032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/53GCE.jpg?s=128&g=1", "display_name": "Christian Koehler", "link": "https://stackoverflow.com/users/5606032/christian-koehler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1448486187, "creation_date": 1448486187, "question_id": 33926548, "link": "https://stackoverflow.com/questions/33926548/kivy-on-a-raspberry-pi-2-with-python-3-4", "title": "Kivy on a Raspberry Pi 2 with Python 3.4", "body": "<p>I followed all of the steps when installing Kivy on my Raspberry Pi 2 with Python 3.4, but whenever I try to run a program that imports kivy.app it gives me this error:</p>\n\n<pre><code>[INFO   ] [Logger      ] Record log in /home/pi/.kivy/logs/kivy_15-11-25_23.txt\n[INFO   ] [Kivy        ] v1.9.1-dev\n[INFO   ] [Python      ] v3.4.3 (default, Nov 25 2015, 16:21:36) \n[GCC 4.6.3]\n Traceback (most recent call last):\n   File \"test.py\", line 1, in &lt;module&gt;\n     from kivy.app import App\n   File \"/usr/local/lib/python3.4/site-packages/kivy/app.py\", line 319, in &lt;module&gt;\n     from kivy.base import runTouchApp, stopTouchApp\n   File \"/usr/local/lib/python3.4/site-packages/kivy/base.py\", line 29, in &lt;module&gt;\n     from kivy.clock import Clock\n   File \"/usr/local/lib/python3.4/site-packages/kivy/clock.py\", line 278, in &lt;module&gt;\n     _default_time = _libc_clock_gettime_wrapper()\n   File \"/usr/local/lib/python3.4/site-packages/kivy/clock.py\", line 258, in _libc_clock_gettime_wrapper\n     _clock_gettime = _libc.clock_gettime\n   File \"/usr/local/lib/python3.4/ctypes/__init__.py\", line 364, in __getattr__\n     func = self.__getitem__(name)\n   File \"/usr/local/lib/python3.4/ctypes/__init__.py\", line 369, in __getitem__\n     func = self._FuncPtr((name_or_ordinal, self))\n AttributeError: /lib/arm-linux-gnueabihf/libc.so.6: undefined symbol: clock_gettime\n</code></pre>\n\n<p>I've tried looking this up for hours but couldn't find anything. Any ideas?</p>\n"}, {"tags": ["python", "python-2.7", "file-io", "gzip"], "answers": [{"comments": [{"owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "edited": false, "score": 0, "creation_date": 1448487208, "post_id": 33926641, "comment_id": 55614489, "body": "Ah, crap!  Knew this was something really stupid.  Thanks."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1448487221, "post_id": 33926641, "comment_id": 55614494, "body": "well spotted, upvoted. Looking at the help of GzipFile I noticed <code>fileobj, which can be a regular file, a StringIO object, or any other object which simulates a file</code> so I thought maybe the low-level file descriptor (an int) returned by <code>os.open</code> would not match/work"}, {"owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1448487361, "post_id": 33926641, "comment_id": 55614561, "body": "@Pynchia: that&#39;s why I&#39;m wrapping the fd in FileIO"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1448487504, "post_id": 33926641, "comment_id": 55614618, "body": "yes, of course, sorry. You can also use <code>os.fdopen</code>"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 2, "last_activity_date": 1448486529, "creation_date": 1448486529, "answer_id": 33926641, "question_id": 33926537, "link": "https://stackoverflow.com/questions/33926537/gzip-with-file-descriptor/33926641#33926641", "title": "gzip with file descriptor", "body": "<p>The O_RDONLY and O_BINARY flags should be or'd together, like so:</p>\n\n<pre><code>fd = os.open(file_path, os.O_RDONLY | os.O_BINARY)\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.python.org/2/library/os.html#open-constants\" rel=\"nofollow\">https://docs.python.org/2/library/os.html#open-constants</a></p>\n"}], "owner": {"reputation": 8139, "user_id": 384803, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a700a4a1ccb243dd47d0a155fd43a2a2?s=128&d=identicon&r=PG", "display_name": "Dmitry B.", "link": "https://stackoverflow.com/users/384803/dmitry-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 33926641, "answer_count": 1, "score": 1, "last_activity_date": 1448486529, "creation_date": 1448486142, "question_id": 33926537, "link": "https://stackoverflow.com/questions/33926537/gzip-with-file-descriptor", "title": "gzip with file descriptor", "body": "<p>I need to be able to open a gzipped CSV file using a file descriptor. When I do the following (this is simplified code that still trigger the error):</p>\n\n<pre><code>file_path = r\"E39O6KS6J8MIZW.00.0f6db4e5.gz\"\nfd = os.open(file_path, os.O_RDONLY, os.O_BINARY)\n# ...\nfile_object = gzip.GzipFile(fileobj=io.FileIO(fd, mode='rb'))\nreader = csv.reader(io.BufferedReader(file_object))\nfor row in reader:\n    print row\n</code></pre>\n\n<p>I get a CRC check error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./log_processing_scripts/dev.py\", line 40, in &lt;module&gt;\n    post()\n  File \"./log_processing_scripts/dev.py\", line 36, in post\n    for row in reader:\n  File \"C:\\Python27\\lib\\gzip.py\", line 252, in read\n    self._read(readsize)\n  File \"C:\\Python27\\lib\\gzip.py\", line 299, in _read\n    self._read_eof()\n  File \"C:\\Python27\\lib\\gzip.py\", line 338, in _read_eof\n    hex(self.crc)))\nIOError: CRC check failed 0x4b77635f != 0xbe13716L\n</code></pre>\n\n<p>The file is not(!) corrupted, I can process it just file with gzip.open(file_path).  </p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "makefile", "virtualenv"], "owner": {"reputation": 48006, "user_id": 96588, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/425fed56a46504d37ec907d99b09ecde?s=128&d=identicon&r=PG", "display_name": "l0b0", "link": "https://stackoverflow.com/users/96588/l0b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1448486002, "creation_date": 1448486002, "question_id": 33926503, "link": "https://stackoverflow.com/questions/33926503/typeerror-in-get-default-values", "title": "TypeError in get_default_values", "body": "<p>How to reproduce:</p>\n\n<ul>\n<li>Get an up-to-date Arch Linux installation (or <a href=\"https://travis-ci.org/l0b0/make-includes/builds/93243223\" rel=\"nofollow\">Travis CI instance</a>)</li>\n<li><p>Run this:</p>\n\n<pre><code>git clone https://github.com/l0b0/make-includes.git\ncd make-includes\ngit checkout 643b15af0cf246ab669176b2c564bf9f88b63c0b # current HEAD\nmake test\n</code></pre></li>\n</ul>\n\n<p>Result:</p>\n\n<pre><code>/tmp/tmp.Hwv8afXNsE/virtualenv/virtualenv-12.1.1/virtualenv.py --python=/tmp/tmp.Hwv8afXNsE/Python-2.7.10-install/bin/python2.7 /tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10\nTraceback (most recent call last):\n  File \"/tmp/tmp.Hwv8afXNsE/virtualenv/virtualenv-12.1.1/virtualenv.py\", line 2352, in &lt;module&gt;\n    main()\n  File \"/tmp/tmp.Hwv8afXNsE/virtualenv/virtualenv-12.1.1/virtualenv.py\", line 763, in main\n    options, args = parser.parse_args()\n  File \"/usr/lib/python3.5/optparse.py\", line 1370, in parse_args\n    values = self.get_default_values()\n  File \"/tmp/tmp.Hwv8afXNsE/virtualenv/virtualenv-12.1.1/virtualenv.py\", line 642, in get_default_values\n    return optparse.Values(defaults)\n  File \"/usr/lib/python3.5/optparse.py\", line 827, in __init__\n    setattr(self, attr, val)\nTypeError: attribute name must be string, not 'NoneType'\npython.mk:85: recipe for target '/tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10' failed\nmake[1]: *** [/tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10] Error 1\nmake[1]: Leaving directory '/home/user/dev/make-includes'\nMakefile:32: recipe for target 'test-python-virtualenv' failed\nmake: *** [test-python-virtualenv] Error 2\n</code></pre>\n\n<p>Interestingly, if I run that last command again just afterwards, it works:</p>\n\n<pre><code>$ /tmp/tmp.Hwv8afXNsE/virtualenv/virtualenv-12.1.1/virtualenv.py --python=/tmp/tmp.Hwv8afXNsE/Python-2.7.10-install/bin/python2.7 /tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10\nRunning virtualenv with interpreter /tmp/tmp.Hwv8afXNsE/Python-2.7.10-install/bin/python2.7\nNew python executable in /tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10/bin/python2.7\nAlso creating executable in /tmp/tmp.Hwv8afXNsE/virtualenv-2.7.10/bin/python\nInstalling setuptools, pip...done.\n</code></pre>\n\n<p>What gives?</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 0, "last_activity_date": 1448493725, "creation_date": 1448493725, "answer_id": 33928144, "question_id": 33926378, "link": "https://stackoverflow.com/questions/33926378/how-to-identify-which-button-was-pressed/33928144#33928144", "title": "How to identify which Button was pressed", "body": "<p>The callback function you pass to the <code>bind</code> call will receive a reference to the pressed <code>Button</code> instance as an argument when it is called.</p>\n\n<p>So, to tell what button it is, you just need to keep all your buttons around somewhere and compare against them or perhaps extract the <code>text</code> you're setting as the button's label, depending on what exactly you want to do with the result.</p>\n\n<p>So, the code you need to change is in <code>self.method</code>, not in the code setting up the button (except if you want to keep the button objects around for some reason, you probably want to be appending them to a list, rather than repeatedly overwriting <code>self.button</code>).</p>\n"}], "owner": {"reputation": 13, "user_id": 5605988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41931ec62292a80b9239623d95eeb06?s=128&d=identicon&r=PG&f=1", "display_name": "UserPersonGuyMan57", "link": "https://stackoverflow.com/users/5605988/userpersonguyman57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 33928144, "answer_count": 1, "score": 1, "last_activity_date": 1448493725, "creation_date": 1448485453, "last_edit_date": 1448486079, "question_id": 33926378, "link": "https://stackoverflow.com/questions/33926378/how-to-identify-which-button-was-pressed", "title": "How to identify which Button was pressed", "body": "<p>In Kivy, when creating a button instance, you can bind that button to an event, say like this:</p>\n\n<pre><code>btn = Button( text='This do be a button' )\nbtn.bind( on_release=self.method_call )\nself.add_widget( btn )\n</code></pre>\n\n<p>And if you want to create a lot of buttons, say an arbitrary amount based on a bunch of strings in a list, you might do:</p>\n\n<pre><code>list = ('item1', 'item2', 'item3', 'item4')\nfor item in list:\n    self.btn = Button( text=item )\n    #some method call\n    self.add_widget( btn )\n</code></pre>\n\n<p>How can you call a method and pass some identifier for the button for each unique button press?</p>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 1, "creation_date": 1448487833, "post_id": 33926357, "comment_id": 55614810, "body": "a superficial scanning suggests that the approximation logic is missing in <code>_minimize_newton_cg</code>. So it is probably a bug in scipy&#39;s code base. Not perfectly sure, though. You may either want to open a bug in scipy&#39;s bug tracker at github, or hope that Warren Weckesser magically shows up :)"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 2, "creation_date": 1531777429, "post_id": 33926357, "comment_id": 89713157, "body": "It can take several years for me to magically show up :)  This looks like a documentation issue.  After seeing <a href=\"https://stackoverflow.com/questions/51369984/jacobian-is-required-for-newton-cg-method-issue-still-exists-for-trust-ncg\">a new question related to this one</a>, I created an issue for it on github: <a href=\"https://github.com/scipy/scipy/issues/9042\" rel=\"nofollow noreferrer\">github.com/scipy/scipy/issues/9042</a>"}], "answers": [{"comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1531775664, "post_id": 36297657, "comment_id": 89712612, "body": "<i>&quot;Simply set the jac=None or do not provide an argument for jac ...&quot;</i> Did you try this?  Which version of scipy did you use?  It doesn&#39;t work for me."}, {"owner": {"reputation": 638, "user_id": 6132097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMwwO.jpg?s=128&g=1", "display_name": "Thomas Lux", "link": "https://stackoverflow.com/users/6132097/thomas-lux"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1531863943, "post_id": 36297657, "comment_id": 89753377, "body": "[version Scipy 0.19.1] I looked into it again, it&#39;s apparently a custom behavior for &quot;Newton-CG&quot; method. When using the default &quot;method&quot;, the code works fine. However, when you only remove the &quot;jac=False&quot; then the error message says &quot;Jacobian is required for Newton-CG method&quot;.  I&#39;d have to look into it further to know why numerical approximations to the jacobian are not appropriate for the Newton-CG method, but for whatever reason they appear to be disabled."}], "tags": [], "owner": {"reputation": 638, "user_id": 6132097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMwwO.jpg?s=128&g=1", "display_name": "Thomas Lux", "link": "https://stackoverflow.com/users/6132097/thomas-lux"}, "is_accepted": false, "score": 0, "last_activity_date": 1459298524, "creation_date": 1459298524, "answer_id": 36297657, "question_id": 33926357, "link": "https://stackoverflow.com/questions/33926357/jacobian-is-required-for-newton-cg-method-when-doing-a-approximation-to-a-jaco/36297657#36297657", "title": "&quot;Jacobian is required for Newton-CG method&quot; when doing a approximation to a Jacobian not being used when jac=False?", "body": "<p>Based on my experience with SciPy...</p>\n\n<p>The numerical approximation which SciPy documentation refers to is the \"MemoizeJac\" class that you see in the code you've cited. The memoization happens automatically when \"jac\" is not provided. It is likely a mistake in the documentation for the Newton-CG function that tells you to set the Jacobian to \"False\". </p>\n\n<p>Simply set the jac=None or do not provide an argument for jac and a numerical approximation to the gradient will be used for the Newton-CG function.</p>\n"}, {"tags": [], "owner": {"reputation": 2687, "user_id": 2456722, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XcG0h.png?s=128&g=1", "display_name": "Flying_Banana", "link": "https://stackoverflow.com/users/2456722/flying-banana"}, "is_accepted": false, "score": 1, "last_activity_date": 1557945791, "creation_date": 1557945791, "answer_id": 56155808, "question_id": 33926357, "link": "https://stackoverflow.com/questions/33926357/jacobian-is-required-for-newton-cg-method-when-doing-a-approximation-to-a-jaco/56155808#56155808", "title": "&quot;Jacobian is required for Newton-CG method&quot; when doing a approximation to a Jacobian not being used when jac=False?", "body": "<p>Apparently the bug is still there, three years later.</p>\n\n<p>For Newton-CG, the minimizer only takes a callable Jacobian. A quick way of obtaining one is to use <code>scipy.optimize.approx_fprime</code> as follows:</p>\n\n<pre><code># x0 is your initial guess.\nfprime = lambda x: optimize.approx_fprime(x, f, 0.01)\nresult = optimize.minimize(f, x0, method = 'Newton-CG', jac = fprime)\n</code></pre>\n\n<p>As my understanding this should be how \"2-point\" method is implemented.</p>\n"}], "owner": {"reputation": 815, "user_id": 1961582, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eaf9ccb65d69ba77ceaf281de065b579?s=128&d=identicon&r=PG", "display_name": "gammapoint", "link": "https://stackoverflow.com/users/1961582/gammapoint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2502, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1557945791, "creation_date": 1448485359, "last_edit_date": 1453139841, "question_id": 33926357, "link": "https://stackoverflow.com/questions/33926357/jacobian-is-required-for-newton-cg-method-when-doing-a-approximation-to-a-jaco", "title": "&quot;Jacobian is required for Newton-CG method&quot; when doing a approximation to a Jacobian not being used when jac=False?", "body": "<p>I'm doing an optimization with scipy.optimize.minimize, and attempting to use the following methods: 'Newton-CG', 'dogleg', and 'trust-ncg'. As I understand, for these methods a jacobian of the objective function is needed. However, the <a href=\"http://docs.scipy.org/doc/scipy-0.16.0/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow\">documentation</a> suggests that if jac is set to False, that the gradient will be computed numerically. </p>\n\n<p>So I'm trying to call the function like so:</p>\n\n<pre><code>scipy.optimize.minimize(fun,x0,method='Newton-CG',jac=False,options={'disp':True}\n</code></pre>\n\n<p>When I call this, I get the following error message:</p>\n\n<pre><code>  File \"/usr/lib/python2.7/dist-packages/scipy/optimize/optimize.py\", line 1351, in _minimize_newtoncg\nraise ValueError('Jacobian is required for Newton-CG method')\n</code></pre>\n\n<p>That's surprising, since I thought I just set it to False (and this exception only occurs in */optimize.py if jac is set to None). So I go into /usr/lib/python2.7/dist-packages/scipy/optimize/optimize.py and look at the function </p>\n\n<pre><code>def _minimize_newtoncg(fun, x0, args=(), jac=None, hess=None, hessp=None,\n                   callback=None, xtol=1e-5, eps=_epsilon, maxiter=None,\n                   disp=False, return_all=False,\n                   **unknown_options):\n</code></pre>\n\n<p>At the beginning of this function I write the following print statements:</p>\n\n<pre><code>print (jac)\n_check_unknown_options(unknown_options)\nprint(jac)\nif jac is None:\n    raise ValueError('Jacobian is required for Newton-CG method')\n</code></pre>\n\n<p>Surprisingly, 'None' is printed and not False! So I look at the calling function, which is in /usr/lib/python2.7/dist-packages/scipy/optimize/_minimize.py, and I find the code snippet that is setting this to None:</p>\n\n<pre><code>    if not callable(jac):\n    if bool(jac):\n        fun = MemoizeJac(fun)\n        jac = fun.derivative\n    else:\n        jac = None\n</code></pre>\n\n<p>So that makes sense why jac is being set to None (though it seems incompatible with the documentation that suggests I'm going to get a numerical approximation to the jacobian by setting jac to False in the original function call). </p>\n\n<p>What am I missing? Is it possible for me to call the 'Newton-CG' method like I'm doing above with Scipy computing the numerical approximation for the Jacobian for me? </p>\n"}, {"tags": ["python", "python-3.x", "game-physics", "physics-engine"], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1448529659, "post_id": 33926650, "comment_id": 55629392, "body": "Indeed collision detection is easy, but the collision part itself is not plus iterating through all the objects I will have would be I quess too slow (on a slow computer) . That&#39;s what I need help with, I&#39;ll try to make my question clearer."}, {"owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "reply_to_user": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1448921422, "post_id": 33926650, "comment_id": 55773838, "body": "@Avamander  I think more specifics would be good here.  How many collideable object are there? How many are likely to be moving at one time?  What type of collision are you trying to model?  How should the different collideable objects behave when hit?"}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1448985531, "post_id": 33926650, "comment_id": 55804446, "body": "1-50 (100 maximum) objects. Half of the objects would moving at once. I am trying to model elastic collision. The objects should collide as realistic as possible according to their mass and velocity (I doubt that size matters). Basically, <a href=\"https://en.wikipedia.org/wiki/Elastic_collision\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Elastic_collision</a>, but in python and with not only circles. I also posted the current way I managed to get working with two circles."}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1448985979, "post_id": 33926650, "comment_id": 55804792, "body": "The current code is hideous but one half (the tutorial one) works with collisions from the sides and the other half (the wikipedia formula) works with collisions from top and bottom. The formulas are a bit too complex for me to fix or find the error and the current functions do not care about squares and triangles."}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1450113536, "post_id": 33926650, "comment_id": 56287471, "body": "Any ideas how I could improve my existing code or create better?"}, {"owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "reply_to_user": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1450118283, "post_id": 33926650, "comment_id": 56290120, "body": "Dont pass the combination of every object to that function.  Use <code>Sprite.groupcollide</code> to find possible collisions first."}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1450118376, "post_id": 33926650, "comment_id": 56290184, "body": "Yes, I am passing every combination to that function."}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1450389998, "post_id": 33926650, "comment_id": 56431893, "body": "&quot;pygame.sprite.groupcollide() Collision is determined by comparing the Sprite.rect attribute of each Sprite or by using the collided function if it is not None.&quot; I don&#39;t have a rect attribute of each sprite, I have the radius of the sprite."}, {"owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "reply_to_user": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1453827737, "post_id": 33926650, "comment_id": 57765647, "body": "All sprites and in fact everything you draw on a surface has a rect.  Your circle with a radius lives inside the rect.  Nothing can collide without colliding with the rect colliding as well.  Since rect collision detection is very fast and cheap, do that first.  Only if the rects collide do you need to check if the actual objects collide."}, {"owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "edited": false, "score": 0, "creation_date": 1454014336, "post_id": 33926650, "comment_id": 57866517, "body": "Indeed, I must now make the necessary changes."}], "tags": [], "owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "is_accepted": true, "score": 2, "last_activity_date": 1448925263, "last_edit_date": 1448925263, "creation_date": 1448486577, "answer_id": 33926650, "question_id": 33926348, "link": "https://stackoverflow.com/questions/33926348/colliding-shapes-in-python/33926650#33926650", "title": "Colliding shapes in python", "body": "<ol>\n<li>Collision detection is very easy in pygame. Take a look at using <a href=\"http://www.pygame.org/docs/ref/sprite.html\" rel=\"nofollow\">pygame.sprite</a>.  They have several functions to detect collisions. (<a href=\"http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.spritecollide\" rel=\"nofollow\">spritecollide</a>, <a href=\"http://www.pygame.org/docs/ref/sprite.html#pygame.sprite.groupcollide\" rel=\"nofollow\">groupcollide</a>, etc)  If you have some complex collision interaction generally you use the rect or circle to see if they collide, then only do your complex calculations on those.  Though for most games you do not need to have the cost of perfect collision detection, close enough is good enough.</li>\n<li>As far was what happens when you collide, that is more physics then programming. Some concepts to keep in mind are: momentum conservation, elastic vs inelastic collisions, deflection angle.  \"How to building a 2D physics engine\" is a bit too broad for SO question. Maybe look at <a href=\"http://gamedevelopment.tutsplus.com/tutorials/how-to-create-a-custom-2d-physics-engine-oriented-rigid-bodies--gamedev-8032\" rel=\"nofollow\">how-to-create-a-custom-2d-physics-engine-oriented-rigid-bodies</a></li>\n</ol>\n"}], "owner": {"reputation": 433, "user_id": 4636860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-3_OR-OP6KQk/AAAAAAAAAAI/AAAAAAAAAKQ/eADyoX0Q3lM/photo.jpg?sz=128", "display_name": "Avamander", "link": "https://stackoverflow.com/users/4636860/avamander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2583, "favorite_count": 1, "accepted_answer_id": 33926650, "answer_count": 1, "score": 1, "last_activity_date": 1448985826, "creation_date": 1448485342, "last_edit_date": 1448985826, "question_id": 33926348, "link": "https://stackoverflow.com/questions/33926348/colliding-shapes-in-python", "title": "Colliding shapes in python", "body": "<p>My plan is to create a \"simple\" 2-player minigame game (for ex. sumo and race). </p>\n\n<p>My goal would be to efficiently implement collisions (my current code can deal only with simple wall physics and movement of the objects) with square, circle (and triangle?) shaped objects that can be either part of the environment (for ex. \"rocks\" or immovable obstacles) or part of the user controlled items (for ex. \"cars\" or pushable obstacles). It would be also nice to know how mass could also be accounted for in the collisions.</p>\n\n<p>There are two aspects I need help with:</p>\n\n<ol>\n<li><p>Different types of dynamic collisions between two moving objects (that have a mass and 2D vector)\n(the physics part not the detection). </p></li>\n<li><p>Making sure everything that needs to collide, collides fast enough (so that my slow computer could still render more than 40-60 frames per second) , and according to the specific rules (or if it would be possible then according to one rule?). So that it would not also be hard to manage the objects that need to be collided (add,  remove, modify and so on). </p></li>\n</ol>\n\n<p>Or should I just implement two types of collision for ex. static + dynamic circle and dynamic + dynamic circle?</p>\n\n<pre><code>def checkcollisions(object1, object2):\n    # x is the current x position\n    # y is the current y position\n    # angle is the current vector angle (calculated from x and y with pythagoros\n    # speed is the length of the vector\n    dx = object1.x - object2.x\n    dy = object1.y - object2.y\n\n    dist = hypot(dx, dy)\n    if dist &lt; object1.radius + object2.radius:\n        angle = atan2(dy, dx) + 0.5 * pi\n        total_mass = object1.mass + object2.mass\n        '''''http://www.petercollingridge.co.uk/pygame-physics-simulation/mass'''''\n        if (0.79 &lt;= object1.angle &lt; 2.36 or 0.79-2*pi &lt;= object1.angle &lt; 2.36-2*pi) or (3.93 &lt;= object1.angle &lt; 5.5 or 3.93-2*pi &lt;= object1.angle &lt; 5.5-2*pi) and ((0.79 &lt;= object2.angle &lt; 2.36 or 0.79-2*pi &lt;= object2.angle &lt; 2.36-2*pi) or (3.93 &lt;= object2.angle &lt; 5.5 or 3.93-2*pi &lt;= object2.angle &lt; 5.5-2*pi)):\n            (object2angle, object2speed) = vectorsum((object2.angle, object2.speed*(object2.mass-object1.mass)/total_mass), (angle+pi, 2*object1.speed*object1.mass/total_mass))\n            (object1angle, object1speed) = vectorsum((object1.angle, object1.speed*(object1.mass-object2.mass)/total_mass), (angle, 2*object2.speed*object2.mass/total_mass))\n        else:\n            '''''https://en.wikipedia.org/wiki/Elastic_collision'''''\n            CONTACT_ANGLE = angle\n            x = (((object1.speed * cos(object1.angle - CONTACT_ANGLE) * (object1.mass-object2.mass)+ 2*object2.mass*object2.speed*cos(object2.angle - CONTACT_ANGLE))/total_mass)*cos(CONTACT_ANGLE))+object1.speed*sin(object1.angle - CONTACT_ANGLE)*cos(CONTACT_ANGLE + 0.5 * pi)\n            y = (((object1.speed * cos(object1.angle - CONTACT_ANGLE) * (object1.mass-object2.mass)+ 2*object2.mass*object2.speed*cos(object2.angle - CONTACT_ANGLE))/total_mass)*cos(CONTACT_ANGLE))+object1.speed*sin(object1.angle - CONTACT_ANGLE)*sin(CONTACT_ANGLE + 0.5 * pi)\n            object1angle = pi/2 - atan2(y, x)\n            object1speed = hypot(x, y)\n\n            x = (((object2.speed * cos(object2.angle - CONTACT_ANGLE)*(object2.mass-object1.mass)+2*object1.mass*object1.speed*cos(object1.angle - CONTACT_ANGLE))/total_mass)*cos(CONTACT_ANGLE))+object2.speed*sin(object2.angle - CONTACT_ANGLE)*cos(CONTACT_ANGLE + 0.5 * pi)\n            y = (((object2.speed * cos(object2.angle - CONTACT_ANGLE)*(object2.mass-object1.mass)+2*object1.mass*object1.speed*cos(object1.angle - CONTACT_ANGLE))/total_mass)*cos(CONTACT_ANGLE))+object2.speed*sin(object2.angle - CONTACT_ANGLE)*sin(CONTACT_ANGLE + 0.5 * pi)\n            object2angle = pi/2 - atan2(y, x)\n            object2speed = hypot(x, y)\n\n        (object2.angle, object2.speed) = (object2angle, object2speed)\n        (object1.angle, object1.speed) = (object1angle, object1speed)\n        object1.speed *= 0.999\n        object2.speed *= 0.999\n\n        overlap = 0.5*(object1.radius + object2.radius - dist+1)\n        object1.x += sin(angle)*overlap\n        object1.y -= cos(angle)*overlap\n        object2.x -= sin(angle)*overlap\n        object2.y += cos(angle)*overlap\n\n'''''http://www.petercollingridge.co.uk/pygame-physics-simulation/mass'''''\n\n\ndef vectorsum(vectorx, vectory):  # Every array's first number is the degree from 0, the second is speed\n    x = sin(vectory[0]) * vectory[1] + sin(vectorx[0]) * vectorx[1]\n    y = cos(vectory[0]) * vectory[1] + cos(vectorx[0]) * vectorx[1]  # Calculating new vectors from anle and lenght\n    angle = pi / 2 - atan2(y, x)  # Calculating the degree\n    speed = hypot(x, y)  # Calculating the speed\n    return angle, speed\n</code></pre>\n\n<p>(I'm just a beginner with Python (or English) so keep that in mind please.)</p>\n"}, {"tags": ["python", "python-3.x", "flask"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1448485233, "post_id": 33926270, "comment_id": 55613472, "body": "What is the name of the package (directory)?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1448485261, "post_id": 33926270, "comment_id": 55613492, "body": "Are you expecting <code>from fel import fel</code> to be a Python 2-style relative import, importing the <code>fel</code> function from <code>whatever_your_package_is.fel</code>? Relative imports have to be explicit in Python 3."}, {"owner": {"reputation": 60, "user_id": 5605926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c97dda1609b25ad0aa933e502bbaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ritero", "link": "https://stackoverflow.com/users/5605926/ritero"}, "edited": false, "score": 0, "creation_date": 1448485420, "post_id": 33926270, "comment_id": 55613572, "body": "Directory is FlaskApp"}], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 5605926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c97dda1609b25ad0aa933e502bbaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ritero", "link": "https://stackoverflow.com/users/5605926/ritero"}, "edited": false, "score": 0, "creation_date": 1448486330, "post_id": 33926448, "comment_id": 55614066, "body": "Still error 500 I test on my digitalocean vps and pythonanywhere"}, {"owner": {"reputation": 79, "user_id": 1619864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMkSq.jpg?s=128&g=1", "display_name": "oskararenas", "link": "https://stackoverflow.com/users/1619864/oskararenas"}, "edited": false, "score": 0, "creation_date": 1448486810, "post_id": 33926448, "comment_id": 55614293, "body": "-wim Yeah, you right is not the option but works for test"}, {"owner": {"reputation": 79, "user_id": 1619864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMkSq.jpg?s=128&g=1", "display_name": "oskararenas", "link": "https://stackoverflow.com/users/1619864/oskararenas"}, "edited": false, "score": 0, "creation_date": 1448486829, "post_id": 33926448, "comment_id": 55614302, "body": "Ritero try this to test error:  comment fel import and into the hello_world add try: from fel import fel  except ImportError , e: return str(e)"}, {"owner": {"reputation": 60, "user_id": 5605926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c97dda1609b25ad0aa933e502bbaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ritero", "link": "https://stackoverflow.com/users/5605926/ritero"}, "edited": false, "score": 0, "creation_date": 1448487519, "post_id": 33926448, "comment_id": 55614631, "body": "Thank you very much for your help oskararenas  but the solution wim works for me :)"}], "tags": [], "owner": {"reputation": 79, "user_id": 1619864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMkSq.jpg?s=128&g=1", "display_name": "oskararenas", "link": "https://stackoverflow.com/users/1619864/oskararenas"}, "is_accepted": false, "score": -1, "last_activity_date": 1507339552, "last_edit_date": 1507339552, "creation_date": 1448485797, "answer_id": 33926448, "question_id": 33926270, "link": "https://stackoverflow.com/questions/33926270/flask-init-py-import-error/33926448#33926448", "title": "Flask __init__.py import error", "body": "<p>just </p>\n\n<pre><code>from flask import Flask\nfrom .fel import fel\n\n\napp = Flask(__name__)\n\n@app.route('/')\ndef hello_world():\n    number = fel(4,6)\n    return (number)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1448486305, "creation_date": 1448486305, "answer_id": 33926577, "question_id": 33926270, "link": "https://stackoverflow.com/questions/33926270/flask-init-py-import-error/33926577#33926577", "title": "Flask __init__.py import error", "body": "<p>Your import should be:</p>\n\n<pre><code>from FlaskApp.fel import fel\n</code></pre>\n\n<p>And the parent directory of <code>FlaskApp</code> needs to be present in your <code>sys.path</code> somehow (for example, set the PYTHONPATH environment variable).</p>\n"}, {"tags": [], "owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "is_accepted": false, "score": 3, "last_activity_date": 1448487093, "last_edit_date": 1491982281, "creation_date": 1448486350, "answer_id": 33926592, "question_id": 33926270, "link": "https://stackoverflow.com/questions/33926270/flask-init-py-import-error/33926592#33926592", "title": "Flask __init__.py import error", "body": "<p>use relative import</p>\n\n<pre><code>from .fel import fel\n\nfel(something)\n</code></pre>\n\n<p>Explanation:</p>\n\n<blockquote>\n  <p>The problem of import fel is that you don't know whether its an\n  absolute import or a relative import. fel could a module in python's\n  path, or a package in the current module.</p>\n</blockquote>\n\n<p>Source <a href=\"https://softwareengineering.stackexchange.com/questions/159503/whats-wrong-with-relative-imports-in-python\">https://softwareengineering.stackexchange.com/questions/159503/whats-wrong-with-relative-imports-in-python</a></p>\n"}], "owner": {"reputation": 60, "user_id": 5605926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c97dda1609b25ad0aa933e502bbaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ritero", "link": "https://stackoverflow.com/users/5605926/ritero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 0, "accepted_answer_id": 33926577, "answer_count": 3, "score": 0, "last_activity_date": 1507339552, "creation_date": 1448485037, "last_edit_date": 1448485986, "question_id": 33926270, "link": "https://stackoverflow.com/questions/33926270/flask-init-py-import-error", "title": "Flask __init__.py import error", "body": "<p>I can not import functions from other files to <code>__init__.py</code> in a flask. Importing something from a file gets an error 500.</p>\n\n<p><strong>__init__.py</strong></p>\n\n<pre><code>from flask import Flask\nfrom fel import fel\n\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef hello():\n    return \"Hello World!\"\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p><strong>fel.py</strong></p>\n\n<pre><code>def fel(a,b):\n    c = a+b\n    return (c)\n</code></pre>\n\n<p>If I delete the following line in the <code>__init__.py</code> file</p>\n\n<pre><code>from fel import fel\n</code></pre>\n\n<p>Everything is OK.</p>\n\n<p><code>__init__.py</code> and <code>fel.py</code> are in the same directory</p>\n\n<p>I am working in Python 3.4</p>\n\n<p>Where is the mistake?\nedit:\nstructures</p>\n\n<pre><code>FlaskApp\\\n  __init__.py  \n  fel.py\n</code></pre>\n"}, {"tags": ["python", "benchmarking", "execl"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1448485591, "post_id": 33926243, "comment_id": 55613658, "body": "What are you <i>actually</i> trying to do? If you were trying to figure out how many execl calls you can perform per second, you have your answer: you can only do one. There&#39;s some other goal you&#39;re trying to achieve here; ask your question about that goal."}], "answers": [{"tags": [], "owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "is_accepted": false, "score": 0, "last_activity_date": 1448487422, "creation_date": 1448487422, "answer_id": 33926829, "question_id": 33926243, "link": "https://stackoverflow.com/questions/33926243/measuring-number-of-execl/33926829#33926829", "title": "measuring number of execl", "body": "<p>You've made totally wrong assumption about the <a href=\"http://linux.die.net/man/3/execl\" rel=\"nofollow\"><code>execl()</code></a> call. This system call doesn't have any \"<em>leave function built in</em>\" how you named it, but it effectively replace the current process with new executable code loaded from the file pointed by first argument to this function.</p>\n\n<p>So, the short answer is <em>you can't</em>.</p>\n\n<p>You need to redefine your problem in new way.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 2013868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936c5a8298d22b9e6f1aed55e29f682a?s=128&d=identicon&r=PG", "display_name": "user2013868", "link": "https://stackoverflow.com/users/2013868/user2013868"}, "edited": false, "score": 0, "creation_date": 1448492709, "post_id": 33927497, "comment_id": 55616907, "body": "When I ran this code, it returned the divided value of my arguments!"}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "reply_to_user": {"reputation": 31, "user_id": 2013868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936c5a8298d22b9e6f1aed55e29f682a?s=128&d=identicon&r=PG", "display_name": "user2013868", "link": "https://stackoverflow.com/users/2013868/user2013868"}, "edited": false, "score": 0, "creation_date": 1448494761, "post_id": 33927497, "comment_id": 55617625, "body": "You don&#39;t have to specify any argument! They are used internally in the nested execl."}], "tags": [], "owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "is_accepted": false, "score": 2, "last_activity_date": 1448491456, "last_edit_date": 1448491456, "creation_date": 1448490319, "answer_id": 33927497, "question_id": 33926243, "link": "https://stackoverflow.com/questions/33926243/measuring-number-of-execl/33927497#33927497", "title": "measuring number of execl", "body": "<p>Since <code>exec</code> replaces the current executable image with the one you specified, you cannot do it in a loop - you could say that <code>execl</code> actually never returns (when it succeeds), since your current code ceases to exists.</p>\n\n<p>If you want to measure the number of <code>execl</code> you can do per second you could do something like this:</p>\n\n<pre><code>#!/usr/bin/env python2\nimport time\nimport sys\nimport subprocess\nimport os\n# duration of our benchmark\nduration = 10\n# time limit\nlimit = time.time() + duration\ncount = 0\n# if we are in the \"execl-ed process\", take the arguments from the command line\nif len(sys.argv)==3:\n    limit = float(sys.argv[1])\n    # increment the counter\n    count = int(sys.argv[2])+1\n# if we have time, do another execl (passing the incremented counter)\nif time.time()&lt;limit:\n    os.execl('execpersec.py', 'execpersec.py', str(limit), str(count))\n\n# if we get here, it means that the 10 seconds have expired; print\n# how many exec we managed to do\nprint count/float(duration), \"exec/sec\"\n</code></pre>\n\n<p>But keep in mind that this, more than benchmarking the actual <code>exec</code> time (as needed by the OS), is more like a benchmark of the startup time of Python (and of the time needed to compile this script); on my machine this script outputs 58.8 exec/sec, while its straightforward C translation (see below) yields 1484.2 exec/sec.</p>\n\n<pre><code>#include &lt;sys/time.h&gt;\n#include &lt;time.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n\nint duration = 10;\n\ndouble mytime() {\n    struct timeval tv;\n    gettimeofday(&amp;tv, NULL);\n    return tv.tv_sec + tv.tv_usec*1E-6;\n}\n\nint main(int argc, char *argv[]) {\n    const double duration = 10;\n    double limit = mytime() + duration;\n    long count = 0;\n    if(argc==3) {\n        limit = atof(argv[1]);\n        count = atol(argv[2])+1;\n    }\n    if(mytime()&lt;limit) {\n        char buf_limit[256], buf_count[256];\n        sprintf(buf_limit, \"%f\", limit);\n        sprintf(buf_count, \"%ld\", count);\n        execl(\"./execpersec.x\", \"./execpersec.x\", buf_limit, buf_count, NULL);\n    }\n    printf(\"%f exec/sec\\n\", count/duration);\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2013868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/936c5a8298d22b9e6f1aed55e29f682a?s=128&d=identicon&r=PG", "display_name": "user2013868", "link": "https://stackoverflow.com/users/2013868/user2013868"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1448491456, "creation_date": 1448484926, "last_edit_date": 1448488924, "question_id": 33926243, "link": "https://stackoverflow.com/questions/33926243/measuring-number-of-execl", "title": "measuring number of execl", "body": "<p>I want to measure the number of execl call per second, but my script terminates after first iteration because execl has a leave function built in!</p>\n\n<p>I want to know how I can return to my script or find a way to count:</p>\n\n<pre><code>t_end = time.time() + 60\ncounter = 0\nwhile time.time() &lt; t_end:\n    def execlNum():\n        os.execl('script.py' 'script.py', '0')\n\n    execlNum()\n    counter = counter+1\nprint counter/60\n</code></pre>\n"}, {"tags": ["python", "api", "command-line-arguments", "argparse"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1448507094, "post_id": 33926221, "comment_id": 55620621, "body": "How were you intending to use this in a session or script?"}, {"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1448518638, "post_id": 33926221, "comment_id": 55623915, "body": "@hpaulj if I understand the terminology correctly: both --- both interactive/as-imported-functions and as an executable script."}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1448506967, "post_id": 33926722, "comment_id": 55620593, "body": "You don&#39;t need <code>dict</code> here: <code>dict(vars(...))</code>.  <code>vars()</code> returns a dictionary."}, {"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "edited": false, "score": 0, "creation_date": 1448519524, "post_id": 33926722, "comment_id": 55624217, "body": "Thanks!  This is definitely a big step cleaner --- the <code>Sets</code> object should have been more obviously superfluous..."}], "tags": [], "owner": {"reputation": 2561, "user_id": 111362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc23f99b21af3f2a34095799adea63?s=128&d=identicon&r=PG", "display_name": "katy lavallee", "link": "https://stackoverflow.com/users/111362/katy-lavallee"}, "is_accepted": false, "score": 1, "last_activity_date": 1448642538, "last_edit_date": 1448642538, "creation_date": 1448486970, "answer_id": 33926722, "question_id": 33926221, "link": "https://stackoverflow.com/questions/33926221/pattern-to-handle-both-command-line-arguments-and-or-api-method-parameters/33926722#33926722", "title": "Pattern to handle both command line arguments and/or api method parameters", "body": "<pre><code>from argparse import ArgumentParser\n\n\ndef main(**kwargs):\n    print(kwargs)\n\n\nif __name__ == \"__main__\":\n    pars = ArgumentParser()\n    pars.add_argument('--verbose', action='store_true')\n    pars.add_argument('--par', nargs=1, type=int, default=1)\n    pars.add_argument('--args', nargs='+', type=str, default=['run', 'test'])\n\n    main(**vars(pars.parse_args()))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'par': 1, 'args': ['run', 'test'], 'verbose': False}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>from argparse import ArgumentParser\n\n\ndef main(args):\n    print(args)\n\n\nif __name__ == \"__main__\":\n    pars = ArgumentParser()\n    pars.add_argument('--verbose', action='store_true')\n    pars.add_argument('--par', nargs=1, type=int, default=1)\n    pars.add_argument('--args', nargs='+', type=str, default=['run', 'test'])\n\n    main(pars.parse_args())\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>Namespace(args=['run', 'test'], par=1, verbose=False)\n</code></pre>\n\n<p>... but you can access it more easily, i.e. <code>args.args</code>, <code>args.par</code>, <code>args.verbose</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "edited": false, "score": 0, "creation_date": 1448519468, "post_id": 33930036, "comment_id": 55624190, "body": "Thanks, there&#39;s some really useful stuff here!  I omitted the named-variables in the <code>main</code> definition as it was just another-place to have to rewrite them (in addition to the <code>add_argument</code>s and in <code>Sets</code>).  I do see that the <code>Sets</code> object was superfluous."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1448508040, "creation_date": 1448508040, "answer_id": 33930036, "question_id": 33926221, "link": "https://stackoverflow.com/questions/33926221/pattern-to-handle-both-command-line-arguments-and-or-api-method-parameters/33930036#33930036", "title": "Pattern to handle both command line arguments and/or api method parameters", "body": "<p>Your <code>Sets</code> class appears to be ok, though I haven't tested it.  But it is, I think, more convoluted than you need.  Putting the <code>main</code> call in the the <code>if __name__</code> block is right.  Sometimes the parser is defined there as well, but that's not essential.</p>\n\n<p>As long as the argument names are not unusual, you can access the values as attributes.</p>\n\n<pre><code> args = parser.parse_args()\n print(\"verbose = \", args.verbose)\n print(\"par = \", args.par)\n print(\"args = \", args.args)\n</code></pre>\n\n<p>You could construct your own <code>args</code> object with:</p>\n\n<pre><code>args = argparse.Namespace(verbose=False, par=1, args=['run', 'test'])\n</code></pre>\n\n<p>In fact you could pass that to the parser:</p>\n\n<pre><code>args = parser.parse_args(namespace=args)\n</code></pre>\n\n<p>You could substitute your own 'commandline' list</p>\n\n<pre><code>args = parser.parse_args(['--verbose','--par','2'])\n</code></pre>\n\n<p>I often use that format when testing parser code.</p>\n\n<p>By the way, do you really want <code>par</code> <code>nargs=1</code>?  The default <code>nargs</code> takes one argument.  <code>nargs=1</code> does the same, but creates a list, <code>pars=[1]</code> in the namespace.</p>\n\n<p>With </p>\n\n<pre><code>dd = vars(args)\n</code></pre>\n\n<p>you can use all the normal dictionary operations.  For example:</p>\n\n<pre><code>dd0 = dict(pars=3, verbose=False)\ndd0.update(vars(args))\n</code></pre>\n\n<p>though this doesn't do anything significant if <code>dd0</code> contains the same keys as parser.  <code>args</code> will have always have those values, whether default or from the commandline.  </p>\n\n<p>Another option is to define keyword arguments in your function.</p>\n\n<p>def myaction(verbose=False, pars=1, args=None, **kwargs):\n       # do something with these\n       print(verbose, pars, args, kwargs)</p>\n\n<p>Use:</p>\n\n<pre><code>myaction(**vars(args))\nmyaction(pars=2, args=[12,34], extra='for kwargs')\nmyaction(**{'pars':3})\n</code></pre>\n"}], "owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1448642538, "creation_date": 1448484785, "question_id": 33926221, "link": "https://stackoverflow.com/questions/33926221/pattern-to-handle-both-command-line-arguments-and-or-api-method-parameters", "title": "Pattern to handle both command line arguments and/or api method parameters", "body": "<p>I'm trying to setup a code that can be run via the command-line with command-line arguments, or can be called from a python script or interactive session --- with passed parameters.  What is a good pattern/methodology to do this?</p>\n\n<p>The basic idea I'm using right now is:</p>\n\n<pre><code>from argparse import ArgumentParser\n\n\nclass Sets:\n    def __init__(self):\n        self.verbose = False\n        self.par = 1\n        self.args = ['run', 'test']\n\n    def _update(self, parsed):\n        for key in vars(parsed).keys():\n            setattr(self, key, getattr(parsed, key))\n            print(\"\\t\", getattr(self, key))\n\n\ndef main(**kwargs):\n    sets = _parseArgs()\n    for key in kwargs.keys():\n        setattr(sets, key, kwargs[key])\n\n    print(\"verbose = \", sets.verbose)\n    print(\"par = \", sets.par)\n    print(\"args = \", sets.args)\n\n    return\n\n\ndef _parseArgs():\n    sets = Sets()\n    pars = ArgumentParser()\n    pars.add_argument('--verbose', action='store_true', default=sets.verbose)\n    pars.add_argument('--par', nargs=1, type=int, default=sets.par)\n    pars.add_argument('--args', nargs='+', type=str, default=sets.args)\n    sets._update(pars.parse_args())\n    return sets\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>But it seems a little convoluted...  </p>\n"}, {"tags": ["python", "window", "maya", "mel"], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 3845693, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f47f44a9de448fd6812d8ef372fbeb43?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/3845693/john"}, "edited": false, "score": 0, "creation_date": 1456966868, "post_id": 33936959, "comment_id": 59195563, "body": "Is there a way to get this working with PySide? I&#39;ve done a pretty basic attempt, but I&#39;m running into a couple errors on <code>first_widget.setLayout</code> and <code>first_widget.hide</code>"}, {"owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "reply_to_user": {"reputation": 347, "user_id": 3845693, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f47f44a9de448fd6812d8ef372fbeb43?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/3845693/john"}, "edited": false, "score": 1, "creation_date": 1457000955, "post_id": 33936959, "comment_id": 59210722, "body": "first_widget = channelbox_children[1] should be &quot;first_widget = channelbox_children[0]&quot; Keep in mind, you have to check what .children() return in order to find layouts in order to insert your buttons."}], "tags": [], "owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "is_accepted": false, "score": 1, "last_activity_date": 1457000995, "last_edit_date": 1457000995, "creation_date": 1448535774, "answer_id": 33936959, "question_id": 33926047, "link": "https://stackoverflow.com/questions/33926047/how-do-i-parent-new-user-created-buttons-inside-the-graph-editor-window/33936959#33936959", "title": "How do I parent new, user-created buttons inside the Graph Editor window?", "body": "<p>To that, you may have to go with PySide/PyQt. Find the pointer of the graph editor and find how the elements are layouted.</p>\n\n<p>Here is a sample about changing stylesheet of maya menu :</p>\n\n<pre><code>from maya.OpenMayaUI import MQtUtil as omui\nimport sip\nfrom PyQt4 import QtGui\n\ndef changeMayaMenuColors(fontStyle='italic', fontWeight='bold', fontColor='cyan'):\n    # Get the widget\n    widgetStr = mel.eval( 'string $tempString = $gMainCreateMenu' )\n    ptr = omui.findControl( widgetStr )\n    widget = sip.wrapinstance(long(ptr), QtGui.QWidget)\n    widget.setStyleSheet('font-style:%s;'%fontStyle +'font-weight:%s;'%fontWeight + 'color:%s;'%fontColor)\n</code></pre>\n\n<p>And here sonme experiments about channelBox :</p>\n\n<pre><code>from PySide import QtGui, QtCore\nfrom shiboken import wrapInstance\nfrom maya.OpenMayaUI import MQtUtil\n\n\nchannelbox = wrapInstance(long(MQtUtil.findControl('mainChannelBox')), QtGui.QWidget)\nchannelbox_children = channelbox.children()\n\nfirst_widget = channelbox_children[0] # EDIT\nfirst_widget.hide()\n#first_widget.show()\n#---------------------------------------------------------------------------------------------------------------\nmySubWdget = first_widget.children()\n\nnew_button = QtGui.QPushButton()\nnew_layout = QtGui.QVBoxLayout()\nfirst_widget.setLayout(new_layout)\nnew_layout.addWidget(new_button)\n\ndef print_hodor():\n    print 'HODOR'\n\nnew_button.clicked.connect(print_hodor)\n</code></pre>\n\n<p>You can do this kingd of experiments with all maya widget (find the pointer and then use wrapInstance to get the QT pointer, then iterate throught children to find the layout you may want)</p>\n\n<p>hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "edited": false, "score": 0, "creation_date": 1448652678, "post_id": 33956684, "comment_id": 55684850, "body": "nice, i didn&#39;t know about scriptedPanel"}, {"owner": {"reputation": 347, "user_id": 3845693, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f47f44a9de448fd6812d8ef372fbeb43?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/3845693/john"}, "edited": false, "score": 0, "creation_date": 1449071609, "post_id": 33956684, "comment_id": 55848749, "body": "Exactly what I was looking for, thank you! Great walkthrough."}], "tags": [], "owner": {"reputation": 1248, "user_id": 4295391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycoyT.jpg?s=128&g=1", "display_name": "DrHaze", "link": "https://stackoverflow.com/users/4295391/drhaze"}, "is_accepted": true, "score": 2, "last_activity_date": 1448624731, "creation_date": 1448624731, "answer_id": 33956684, "question_id": 33926047, "link": "https://stackoverflow.com/questions/33926047/how-do-i-parent-new-user-created-buttons-inside-the-graph-editor-window/33956684#33956684", "title": "How do I parent new, user-created buttons inside the Graph Editor window?", "body": "<p><strong>TL;DR;</strong></p>\n\n<pre><code>if cmds.window(\"GE_ui_window\", exists=True): #If the window exists\n    cmds.deleteUI(\"GE_ui_window\") #Delete it\ncmds.window(\"GE_ui_window\", title=\"My custom Graph Editor\") #Create your custom win\n\ncmds.frameLayout(\"GE_ui_frameLayout\", p=\"GE_ui_window\", lv=False, bv=False ) \n\nif cmds.scriptedPanel(\"GE_ui_scriptedPanel\", exists=True): #If the scriptel panel already exists\n    cmds.deleteUI(\"GE_ui_scriptedPanel\") #Delete it\ncmds.scriptedPanel(\"GE_ui_scriptedPanel\", unParent=True, type=\"graphEditor\")\ncmds.scriptedPanel( \"GE_ui_scriptedPanel\", e=True, parent=\"GE_ui_window|GE_ui_frameLayout\") #parent the scripted panel to your frame layout\n\ncmds.showWindow(\"GE_ui_window\")\n\nchannelLayout = cmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", query=True, ca=True)[0] #Get the channel box's layout\nfilterLayout = cmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", query=True, ca=True)[1] #Get the filter's layout\n\nmyRowLayout=cmds.rowLayout(numberOfColumns=3, p=\"GE_ui_scriptedPanelOutlineEdForm\") #Create a row layout \ncmds.button(label=\"Caf\u00e9\", h=100, p=myRowLayout) #Add some buttons\ncmds.button(label=\"Clope\", p=myRowLayout)\ncmds.button(label=\"Caca\", p=myRowLayout)\n\n#This will reorder the content of the left formLayout\ncmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", edit=True, af=[ \\\n            (channelLayout, \"bottom\", 0), \\\n            (channelLayout, \"right\", 0),  \\\n            (filterLayout, \"top\", 0),  \\\n            (myRowLayout, \"left\", 0),  \\\n            (myRowLayout, \"right\", 0)],  \\\n            ac=[(myRowLayout, \"top\", 0, filterLayout), \\\n            (channelLayout, \"top\", 0, myRowLayout)])\n</code></pre>\n\n<hr>\n\n<p>There are two really usefull things to know when it comes to editing Maya's UI.</p>\n\n<p>First thing is the <code>History -&gt; Echo all commands</code> checkbox in your script editor. This can print out a lot of garbage with usefull pieces of information inside.</p>\n\n<p>Second thing is the <code>whatIs</code> command (<a href=\"http://download.autodesk.com/global/docs/maya2014/en_us/Commands/whatIs.html\" rel=\"nofollow\">Doc</a>).</p>\n\n<blockquote>\n  <p>This command takes one string type argument and returns a string\n  indicating whether the argument is a builtin \"Command\", a \"Mel\n  procedure\", a \"Script\", or a variable. If it is a variable, the type\n  of the variable is also given. If the argument is a Mel procedure or a\n  script file, the path to the file containing the script or procedure\n  is included in the return value.</p>\n</blockquote>\n\n<p>This combination will allow you to track down how and where the graph editor is created. Now let's do it.</p>\n\n<p><strong>1: Open the graph editor <code>Window -&gt; Animation Editors -&gt; Graph Editor</code></strong></p>\n\n<pre><code>GraphEditor;\ntearOffPanel \"Graph Editor\" \"graphEditor\" true;\n// Result: graphEditor1Window // \n</code></pre>\n\n<p><code>GraphEditor;</code> is a Run Time Command which executes <code>tearOffPanel \"Graph Editor\" \"graphEditor\" true;</code> when called. That's why it appears in the script editor.</p>\n\n<p><strong>2: Run <code>whatIs \"tearOffPanel\";</code> (mel)</strong></p>\n\n<pre><code>// Result: Mel procedure found in: C:/Program Files/Autodesk/Maya2014/scripts/startup/tearOffPanel.mel // \n</code></pre>\n\n<p>With a little investigation in this file, you can deduce that you can create a whole new Graph Editor using the <code>scriptedPanel</code> command.</p>\n\n<p><strong>3: Create your own Graph Panel</strong></p>\n\n<p>The <a href=\"http://download.autodesk.com/global/docs/maya2014/en_us/CommandsPython/scriptedPanel.html\" rel=\"nofollow\">scriptedPanel doc</a> show you how to create a scripted panel and include it in a window.\nYou can now create you custom graph editor using this:</p>\n\n<pre><code>if cmds.window(\"GE_ui_window\", exists=True):\n    cmds.deleteUI(\"GE_ui_window\")\ncmds.window(\"GE_ui_window\", title=\"My custom Graph Editor\")\n\ncmds.frameLayout(\"GE_ui_frameLayout\", p=\"GE_ui_window\", lv=False, bv=False )\n\nif cmds.scriptedPanel(\"GE_ui_scriptedPanel\", exists=True):\n    cmds.deleteUI(\"GE_ui_scriptedPanel\")\ncmds.scriptedPanel(\"GE_ui_scriptedPanel\", unParent=True, type=\"graphEditor\", label='Sample')\ncmds.scriptedPanel( \"GE_ui_scriptedPanel\", e=True, parent=\"GE_ui_window|GE_ui_frameLayout\")\n\ncmds.showWindow(\"GE_ui_window\")\n</code></pre>\n\n<p><strong>4: Try to understand how the Graph Editor is built</strong></p>\n\n<p>This script will print out the widget hierarchy of a Graph Editor (create your custom Graph Editor first):</p>\n\n<pre><code>nbIteration = 0\ndef getChildren(uiItem, nbIteration):\n    for childItem in cmds.layout(uiItem, query=True, childArray=True):\n        try:\n            print \"|___\"*nbIteration + childItem\n            getChildren(uiItem + \"|\" + childItem, nbIteration+1)\n        except:\n            pass\ngetChildren(\"GE_ui_window|GE_ui_frameLayout|GE_ui_scriptedPanel\", nbIteration)\n</code></pre>\n\n<p>Also, you can check into <code>C:\\Program Files\\Autodesk\\Maya2014\\scripts\\others\\graphEditorPanel.mel</code>, <code>@939: global proc addGraphEditor (string $whichPanel)</code></p>\n\n<p>You can now realize that a lot of widgets are not given any name, only default name given by Maya. Hence, we can't add widgets and parent them using a full path because this path will change every time a new Graph Editor is created.</p>\n\n<p>The item we will try to rely on is <code>GE_ui_scriptedPanelOutlineEdForm</code> which is a <code>formLayout</code> containing an other <code>formLayout</code> and a <code>paneLayout</code>.</p>\n\n<pre><code>|___|___GE_ui_scriptedPanelOutlineEdForm \n|___|___|___paneLayout123 #layout containing the two channel boxes\n|___|___|___|___GE_ui_scriptedPanelOutlineEd\n|___|___|___|___GE_ui_scriptedPanelOutlineEdSlave\n|___|___|___formLayout276 #Layout containing the \"filter part\"\n|___|___|___|___textField63 #It's text\n|___|___|___|___iconTextButton102\n</code></pre>\n\n<p><strong>5: Create your buttons and reorder the content of <code>GE_ui_scriptedPanelOutlineEdForm</code></strong></p>\n\n<pre><code>channelLayout = cmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", query=True, ca=True)[0] #Get the channel box's layout\nfilterLayout = cmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", query=True, ca=True)[1] #Get the filter's layout\n\nmyRowLayout=cmds.rowLayout(numberOfColumns=3, p=\"GE_ui_scriptedPanelOutlineEdForm\") #Create a row layout \ncmds.button(label=\"Caf\u00e9\", h=100, p=myRowLayout) #Add some buttons\ncmds.button(label=\"Clope\", p=myRowLayout)\ncmds.button(label=\"Caca\", p=myRowLayout)\n\n#This will reorder the content of the left formLayout\ncmds.formLayout(\"GE_ui_scriptedPanelOutlineEdForm\", edit=True, af=[ \\\n            (channelLayout, \"bottom\", 0), \\\n            (channelLayout, \"right\", 0),  \\\n            (filterLayout, \"top\", 0),  \\\n            (myRowLayout, \"left\", 0),  \\\n            (myRowLayout, \"right\", 0)],  \\\n            ac=[(myRowLayout, \"top\", 0, filterLayout), \\\n            (channelLayout, \"top\", 0, myRowLayout)])\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 3845693, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f47f44a9de448fd6812d8ef372fbeb43?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/3845693/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 2, "accepted_answer_id": 33956684, "answer_count": 2, "score": 0, "last_activity_date": 1457000995, "creation_date": 1448484058, "last_edit_date": 1448485249, "question_id": 33926047, "link": "https://stackoverflow.com/questions/33926047/how-do-i-parent-new-user-created-buttons-inside-the-graph-editor-window", "title": "How do I parent new, user-created buttons inside the Graph Editor window?", "body": "<p>I'd like to add some new buttons to the Maya Graph editor -- particularly on top of the Channel list with all the attributes in the left of the window. However I'd rather not muck around with the Maya Startup scripts for the Graph Editor itself. Is there a way to \"parent\" the new buttons I want inside every new Graph Editor window using a separate script?</p>\n\n<p>Ideally this could be all Python.</p>\n"}, {"tags": ["python", "replace", "store", "file-handling"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1448484618, "post_id": 33926009, "comment_id": 55613208, "body": "You don&#39;t say what the problem is that you are having. What is the problem?"}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1448484627, "post_id": 33926009, "comment_id": 55613213, "body": "There is &quot;world&quot; twice in your <code>words</code> list, but in the code you&#39;re trying to avoid that, right? Should the assignment from words to numbers be automatic? What exactly is the replace function going to do?"}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 0, "creation_date": 1448484827, "post_id": 33926009, "comment_id": 55613294, "body": "<a href=\"http://stackoverflow.com/questions/33919672/convert-list-of-strings-to-list-of-integers\">Here</a> is nearly the same question asked earlier today. Also shouldn&#39;t it be <code>1 2 2 3 1</code>?"}, {"owner": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "edited": false, "score": 0, "creation_date": 1448485247, "post_id": 33926009, "comment_id": 55613486, "body": "lol, sorry yeah typo"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "edited": false, "score": 0, "creation_date": 1448485797, "post_id": 33926308, "comment_id": 55613768, "body": "Thanks, but the part where you are stripping out punctuation gives me this error:  <code>Traceback (most recent call last):</code>   <code>File &quot;C:&#47;Python33&#47;j.py&quot;, line 4, in &lt;module&gt;</code>     <code>sentence.translate(str.maketrans(None, None, string.punctuation))</code> <code>TypeError: must be str, not None</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "edited": false, "score": 0, "creation_date": 1448485943, "post_id": 33926308, "comment_id": 55613849, "body": "@OllieMills ah yes, it needs empty strings not <code>None</code>s. My mistake. Fixed."}, {"owner": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "edited": false, "score": 0, "creation_date": 1448487128, "post_id": 33926308, "comment_id": 55614446, "body": "Ok, so that works perfectly. I have a rough idea of how to but I need the program to remember those values. e.g if the user inputted the values:  &quot;Hello world world said hello&quot;  The program would store them as 2 1 1 0 2  If I wanted to recall them, I could input 2 1 1 0 2 and the program would give out &quot;Hello world world said hello&quot;  I don&#39;t want to sound as if I am getting you to do it all for me but I need to put the values into a file and read from a file; this is kinda out of my reach :)"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "edited": false, "score": 0, "creation_date": 1448488222, "post_id": 33926308, "comment_id": 55614997, "body": "@OllieMills You should look into using <code>pickle</code> to store your replacement dictionary, then. It&#39;s worthy of another question if you can&#39;t figure it out."}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1448485889, "last_edit_date": 1448485889, "creation_date": 1448485179, "answer_id": 33926308, "question_id": 33926009, "link": "https://stackoverflow.com/questions/33926009/replacing-and-storing/33926308#33926308", "title": "Replacing and Storing", "body": "<p>Does it matter what order the words are turned into numbers? Is <code>Hello</code> and <code>hello</code> two words or one? Why not something like:</p>\n\n<pre><code>import string\n\nsentence = input()  # user input here\nsentence.translate(str.maketrans('', '', string.punctuation))\n# strip out punctuation\n\nreplacements = {ch: str(idx) for idx, ch in enumerate(set(sentence.split()))}\n# builds {\"hello\": 0, \"world\": 1, \"said\": 2} or etc\n\nresult = ' '.join(replacements.get(word, word) for word in sentence.split())\n# join back with the replacements\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448485308, "post_id": 33926318, "comment_id": 55613514, "body": "ick that&#39;s kind of slow. If you&#39;re already building a sequence of unique words, just do <code>enumerate(words)</code>. If you&#39;re throwing away the letters then <code>next(zip(*enumerate(words))</code> works"}, {"owner": {"reputation": 1875, "user_id": 5057191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3a861c87b46363f63080839bbc699f2?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. E", "link": "https://stackoverflow.com/users/5057191/mr-e"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448485444, "post_id": 33926318, "comment_id": 55613583, "body": "This doesn&#39;t need to be a unique sequence... So it&#39;s the same as building a unique sequence and then using enumerate"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448485522, "post_id": 33926318, "comment_id": 55613623, "body": "Right,  but it&#39;s also O(n^2). <code>str.index</code> is notoriously slow. I wouldn&#39;t use this on any string longer than a hundred words or so."}], "tags": [], "owner": {"reputation": 1875, "user_id": 5057191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3a861c87b46363f63080839bbc699f2?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. E", "link": "https://stackoverflow.com/users/5057191/mr-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1448485329, "last_edit_date": 1448485329, "creation_date": 1448485228, "answer_id": 33926318, "question_id": 33926009, "link": "https://stackoverflow.com/questions/33926009/replacing-and-storing/33926318#33926318", "title": "Replacing and Storing", "body": "<p>If you want just the position in which each word is you can do</p>\n\n<pre><code>positions = map(words.index,words)\n</code></pre>\n\n<p>Also, NEVER use built-in function names for your variables or functions. And also never call your variables the same as your functions (<code>replace = replace(...)</code>), functions are objects</p>\n\n<p>Edit: In python 3 you must convert the iterator that map returns to a list</p>\n\n<pre><code>positions = list(map(words.index, words))\n</code></pre>\n\n<p>Or use a comprehension list</p>\n\n<pre><code>positions = [words.index(w) for w in words]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1448488088, "post_id": 33926549, "comment_id": 55614932, "body": "You shouldn&#39;t reprompt for user input this way. It&#39;s creating a recursive function when you really don&#39;t need one. Use an infinite loop (<code>while True</code>) and do your validation at the end. <code>break</code> if the input is valid."}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1448540134, "post_id": 33926549, "comment_id": 55636120, "body": "@Adam, you&#39;re right, one should just validate the input and ask again for a correct answer. I just saw that he was calling again the getSentence function without a return, so I commented on that. Anyway, in this case, where the recursion will just happen a couple of times at most (well, how many times can a user enter a wrong input?) it shouldn&#39;t be a problem, but I agree that it&#39;s unnecessary and could be a problem in other cases.  Another reason I posted this was because I thought that Python had tail call recursion, I now realize it doesn&#39;t (without workarounds), so thanks for that."}], "tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1448486190, "creation_date": 1448486190, "answer_id": 33926549, "question_id": 33926009, "link": "https://stackoverflow.com/questions/33926009/replacing-and-storing/33926549#33926549", "title": "Replacing and Storing", "body": "<p>Another idea (although don't think it's better than the rest), use dictionaries:</p>\n\n<pre><code>dictionary = dict()\nfor word in words:\n    if word not in dictionary:\n        dictionary[word] = len(dictionary)+1\n</code></pre>\n\n<p>Also, on your code, when you're calling \"getSentence\" inside \"getSentence\", you should return its return value:</p>\n\n<pre><code>if sentence == \"\":\n    print(\"You haven't entered a sentence. Please re-enter a sentence.\")\n    return getSentence()\nelif sentence.isdigit():\n    print(\"You have entered numbers. Please re-enter a sentence.\")\n    return getSentence()\nelse:\n    ...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5605886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Qn-QRvvpeTc/AAAAAAAAAAI/AAAAAAAAAC4/n8ZdsJS3Kw0/photo.jpg?sz=128", "display_name": "Ollie Mills", "link": "https://stackoverflow.com/users/5605886/ollie-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1448486190, "creation_date": 1448483934, "last_edit_date": 1448484463, "question_id": 33926009, "link": "https://stackoverflow.com/questions/33926009/replacing-and-storing", "title": "Replacing and Storing", "body": "<p><strong>So, here is what I got:</strong></p>\n\n<pre><code>def getSentence():\n\n  sentence = input(\"What is your sentence? \").upper()\n\n  if sentence == \"\":\n    print(\"You haven't entered a sentence. Please re-enter a sentence.\")\n    getSentence()\n  elif sentence.isdigit():\n    print(\"You have entered numbers. Please re-enter a sentence.\")\n    getSentence()\n  else:\n    import string\n    for c in string.punctuation:\n      sentence = sentence.replace(c,\"\")\n      return sentence\n\ndef list(sentence):\n\n  words = []\n  for word in sentence.split():\n    if not word in words:\n      words.append(word)\n    print(words)\n\ndef replace(words,sentence):\n  position = []\n  for word in sentence:\n    if word == words[word]:\n      position.append(i+1)\n      print(position)\n\nsentence = getSentence()\nlist = list(sentence)\nreplace = replace(words,sentence)\n</code></pre>\n\n<p>I have only managed to get this far, my full intention is to take the sentence, seperate into words, change each word into a number e.g.</p>\n\n<pre><code>words = [\"Hello\",\"world\",\"world\",\"said\",\"hello\"]\n</code></pre>\n\n<p>And make it so that each word has a number:</p>\n\n<p>So lets say that \"hello\" has the value of 1, the sentence would be '1 world world said 1'</p>\n\n<p>And if world was 2, it would be '1 2 2 said 1'<br>\nFinally, if \"said\" was 3, it would be '1 2 2 1 2'</p>\n\n<p>Any help would be greatly appreciated, I will then develop this code so that the sentence and such is stored into a file using <code>file.write()</code> and <code>file.read()</code> etc</p>\n\n<p><strong>Thanks</strong></p>\n"}, {"tags": ["python", "opencv", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 2492, "user_id": 2807860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd25593e6c2a32247f10feebe10a0b63?s=128&d=identicon&r=PG&f=1", "display_name": "Elad Joseph", "link": "https://stackoverflow.com/users/2807860/elad-joseph"}, "is_accepted": true, "score": 2, "last_activity_date": 1448486532, "creation_date": 1448486532, "answer_id": 33926642, "question_id": 33926000, "link": "https://stackoverflow.com/questions/33926000/frame-difference-using-python/33926642#33926642", "title": "frame difference using python", "body": "<p>You have mixed the VideoCapture object and the frame.</p>\n\n<p>I've also made small changes in the frame copy and waitkey.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import cv2\n\ncap = cv2.VideoCapture(0)\nret, current_frame = cap.read()\nprevious_frame = current_frame\n\nwhile(cap.isOpened()):\n    current_frame_gray = cv2.cvtColor(current_frame, cv2.COLOR_BGR2GRAY)\n    previous_frame_gray = cv2.cvtColor(previous_frame, cv2.COLOR_BGR2GRAY)    \n\n    frame_diff = cv2.absdiff(current_frame_gray,previous_frame_gray)\n\n    cv2.imshow('frame diff ',frame_diff)      \n    if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n        break\n\n    previous_frame = current_frame.copy()\n    ret, current_frame = cap.read()\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5571336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d9b429d329ea69b51335d7648d0928a?s=128&d=identicon&r=PG&f=1", "display_name": "Musa", "link": "https://stackoverflow.com/users/5571336/musa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7359, "favorite_count": 1, "accepted_answer_id": 33926642, "answer_count": 1, "score": 2, "last_activity_date": 1448486532, "creation_date": 1448483902, "last_edit_date": 1448484142, "question_id": 33926000, "link": "https://stackoverflow.com/questions/33926000/frame-difference-using-python", "title": "frame difference using python", "body": "<p>I'm trying to do frame difference this is my code below </p>\n\n<pre><code>import numpy as np\nimport cv2\n\ncurrent_frame =cv2.VideoCapture(0)\n\n\nprevious_frame=current_frame\n\n\nwhile(current_frame.isOpened()):\n\n\ncurrent_frame_gray = cv2.cvtColor(current_frame, cv2.COLOR_BGR2GRAY)\nprevious_frame_gray= cv2.cvtColor(previous_frame, cv2.COLOR_BGR2GRAY)\n\nframe_diff=cv2.absdiff(current_frame_gray,previous_frame_gray)\n\n\ncv2.imshow('frame diff ',frame_diff)\n\n\ncv2.waitKey(1)\n\ncurrent_frame.copyto(previous_frame)\nret, current_frame = current_frame.read()\n\n\ncurrent_frame.release()\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>my problem is that I tried to create empty frame  to save the first frame from current_frame  </p>\n\n<pre><code>previous_frame=np.zeros(current_frame.shape,dtype=current_frame.dtype)\n</code></pre>\n\n<p>But I think it is not correct , then I tried to pass current_frame like this:</p>\n\n<pre><code>previous_frame=current_frame\n</code></pre>\n\n<p>Now I'm getting this error :</p>\n\n<blockquote>\n  <p>current_frame_gray = cv2.cvtColor(current_frame, cv2.COLOR_BGR2GRAY)\n  TypeError: src is not a numpy array, neither a scalar</p>\n</blockquote>\n\n<p>so what should I do for this ?</p>\n\n<p>Thanks for help</p>\n"}, {"tags": ["python", "csv", "heroku"], "comments": [{"owner": {"reputation": 36130, "user_id": 93252, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/914ae9a30ada7a7470b21d4ef4cfd912?s=128&d=identicon&r=PG", "display_name": "John Beynon", "link": "https://stackoverflow.com/users/93252/john-beynon"}, "edited": false, "score": 1, "creation_date": 1448697955, "post_id": 33925999, "comment_id": 55695109, "body": "when you say &#39;locally&#39; - are you wanting your script to write to your local computer? That&#39;s not possible via <code>heroku run</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "edited": false, "score": 0, "creation_date": 1453419785, "post_id": 34933810, "comment_id": 57605521, "body": "Yup I ended up writing an API."}, {"owner": {"reputation": 2460, "user_id": 2715819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865993e49f832e0d08673bb6ae8f24b7?s=128&d=identicon&r=PG", "display_name": "RishiG", "link": "https://stackoverflow.com/users/2715819/rishig"}, "edited": false, "score": 0, "creation_date": 1498085361, "post_id": 34933810, "comment_id": 76358880, "body": "Thanks, this little heroku psql gem just saved me a bunch of work!"}], "tags": [], "owner": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "is_accepted": true, "score": 2, "last_activity_date": 1453409014, "last_edit_date": 1453409014, "creation_date": 1453408583, "answer_id": 34933810, "question_id": 33925999, "link": "https://stackoverflow.com/questions/33925999/heroku-shell-write-a-csv-file-locally/34933810#34933810", "title": "Heroku shell. Write a csv file locally", "body": "<p>Quick and dirty, and not exactly via <code>heroku run</code>: execute a SQL statement via <code>pg:psql</code>, and use the <code>COPY</code> command. E.g. <code>heroku pg:psql -c 'copy my_table to stdout with csv header' &gt; my_table.csv</code>. Very quick and convenient way to generate data for reports and other analysis. You can use a table name, or a full sql statement (e.g., <code>copy (select foo, bar from baz) to stdout with csv header</code>).</p>\n\n<p>See <a href=\"http://www.postgresql.org/docs/9.3/static/sql-copy.html\" rel=\"nofollow\">http://www.postgresql.org/docs/9.3/static/sql-copy.html</a> for info on <code>COPY</code>. You may wonder if you can use the 'to <em>filename</em>' version of the call... you can't. The filename is defined on the database server, which you have no access to. </p>\n\n<p>If you need to honor some aspect of your Python logic, you could either -</p>\n\n<p>1) <del>write a local script and use <code>heroku pg:credentials</code> to set <code>DATABASE_URL</code></del> (actually, don't do this - if you forget to unset <code>DATABASE_URL</code> bad things <del>can</del>will happen...)</p>\n\n<p>2) write an API endpoint that executes the code you wrote and stream directly (see <a href=\"https://docs.djangoproject.com/en/1.9/howto/outputting-csv/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.9/howto/outputting-csv/</a>) so you can call it locally via <code>cURL</code> (authenticated, of course)</p>\n"}], "owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 34933810, "answer_count": 1, "score": 0, "last_activity_date": 1453409014, "creation_date": 1448483894, "question_id": 33925999, "link": "https://stackoverflow.com/questions/33925999/heroku-shell-write-a-csv-file-locally", "title": "Heroku shell. Write a csv file locally", "body": "<p>I need to query the <strong>remote</strong> db and write a <strong>local</strong> csv file with the data. I tried this code:</p>\n\n<pre><code>heroku run python manage.py shell\n\n&gt;&gt;&gt; from libros.models import LibrosDisponibles\n&gt;&gt;&gt; x = LibrosDisponibles.objects.all()\n&gt;&gt;&gt; \n&gt;&gt;&gt; import csv\n&gt;&gt;&gt; with open(\"librosd_backup.csv\", \"wb\") as f:\n...   e = csv.writer(f, quoting=csv.QUOTE_ALL)\n...   for l in x:\n...     e.writerow([l.perfil, l.libro])\n... \n&gt;&gt;&gt; \n</code></pre>\n\n<p>It doesn't work the file is empty, I'm not writing to the right place of course. But, how can I solve this?</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448484432, "post_id": 33926057, "comment_id": 55613120, "body": "I am also getting one figure at each step. The problem is that the plots are drawn in each figure at the end of the for loop and not at each step so there is nothing to examine. By the way i am using Canopy"}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "reply_to_user": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448484603, "post_id": 33926057, "comment_id": 55613197, "body": "Could you try that code above? Does it show one plot (with data) in each iteration or do all the plots appear at the end of the for loop? I&#39;m using Python 2.7.10."}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448484726, "post_id": 33926057, "comment_id": 55613253, "body": "if you see my linear fit function i already use your suggestion except if i am missing something."}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "reply_to_user": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448485203, "post_id": 33926057, "comment_id": 55613458, "body": "No, I mean for you to copy/paste the code above and check if you have the same &#39;problem&#39; than with your code: all plotting done after the for loop ends.  Are you running your code inside &#39;Canopy&#39; &#39;s IDE? If so, see if it works using python&#39;s IDE.  Maybe it&#39;s a Canopy bug/characteristic."}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448485504, "post_id": 33926057, "comment_id": 55613606, "body": "i have used your example and the result is the same. Plots are shown at the end of the execution. I am using Canopy as IDE and working enviroment."}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "reply_to_user": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448486250, "post_id": 33926057, "comment_id": 55614025, "body": "Can&#39;t help, then. &#191;Try to run your code without that IDE?  -----  According to what appears here: <a href=\"http://stackoverflow.com/questions/25537734/using-matplotlib-animation-inside-a-function-in-canopy\" title=\"using matplotlib animation inside a function in canopy\">stackoverflow.com/questions/25537734/&hellip;</a> You could try changing the backend Canopy uses: Canopy preferences, Python tab, change Qt to Wx."}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1448494382, "post_id": 33926057, "comment_id": 55617507, "body": "Changing Qt to Wx worked but when i add some code after the figure plotting like answer = raw_input(&quot;is the fit ok ?&quot;) the same thing happens. Using Wx shows the plots at each for step but i cannot add some manipulation code for my plot at each step without having problems. your anwser helped me. Thank you for your time"}], "tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": true, "score": 1, "last_activity_date": 1448484095, "creation_date": 1448484095, "answer_id": 33926057, "question_id": 33925857, "link": "https://stackoverflow.com/questions/33925857/plot-a-matplotlib-figure-within-a-for-loop-at-each-step/33926057#33926057", "title": "Plot a matplotlib figure within a for loop at each step", "body": "<p>Well, this works for me.</p>\n\n<pre><code>import matplotlib.pyplot as pl\n\ndef test(x):\n    pl.figure()\n    pl.plot(x)\n    pl.show()\n\nfor i in range(1,3):\n    eje = range(i*10)\n    test(eje)\n</code></pre>\n\n<p>I get one plot for each function call.</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1448994983, "creation_date": 1448994983, "answer_id": 34027623, "question_id": 33925857, "link": "https://stackoverflow.com/questions/33925857/plot-a-matplotlib-figure-within-a-for-loop-at-each-step/34027623#34027623", "title": "Plot a matplotlib figure within a for loop at each step", "body": "<p>It turns out that when i am using Ipython from a terminal everything work as they are expected to work. Problems appear when i am using Canopy, so i guess this is a Canopy Bug.</p>\n"}], "owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3750, "favorite_count": 0, "accepted_answer_id": 33926057, "answer_count": 2, "score": 1, "last_activity_date": 1448994983, "creation_date": 1448483305, "last_edit_date": 1448483528, "question_id": 33925857, "link": "https://stackoverflow.com/questions/33925857/plot-a-matplotlib-figure-within-a-for-loop-at-each-step", "title": "Plot a matplotlib figure within a for loop at each step", "body": "<p>I am trying to analyse data using Python from various different files. So I use a function that looks like this:</p>\n\n<pre><code>def multi_estimate(a , b):\n    ids = np.linspace(0.3 , 0.7 ,num = 17, endpoint = True) #files name identifier\n    for i in ids:\n          dat = np.loadtxt('Qn'+ str(int(i*1000))+'.txt') # reading filename\n          q = np.array(dat[:,1]); # take the second column\n          x , y = hurst(q); # calculate lags and R/S values for Hurst exponent\n          coef = linear_fit(x, y , a , b)    # make a linear fit and estimate slope\n    return None\n</code></pre>\n\n<p>In my linear fit function I am plotting the result because I would like to check if the fit is done properly and the points are in a straight line. If it is not done properly I would like to make a new fit by adding some code in my function. My problem is that during execution empty figures appear and the are filled with the plots only when the for loop comes to end. </p>\n\n<p>How can I get each plot to appear at each for step I, check it and then move on to the next one?</p>\n\n<p>My fit function is:</p>\n\n<pre><code>def linear_fit(x, y, xmin, xmax):\n    idx1 = (np.abs(x-xmin)).argmin()\n    idx2 = (np.abs(x-xmax)).argmin()\n    coef = np.polyfit(np.log2(x[idx1:idx2+1]), np.log2(y[idx1:idx2+1]), 1)\n    plt.figure()\n    plt.plot(np.log2(x), np.log2(y), 'r+', label = 'data')\n    plt.plot(np.log2(x[idx1:idx2+1]) , coef[1]+coef[0]*np.log2(x[idx1:idx2+1]), label = 'H = %1.2f' %coef[0] )\n    plt.grid()\n    plt.legend(loc = 'best')\n    plt.show()\n    return coef\n</code></pre>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 3, "creation_date": 1448482970, "post_id": 33925738, "comment_id": 55612362, "body": "What makes you think what you tried didn&#39;t work?"}, {"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1448482997, "post_id": 33925738, "comment_id": 55612379, "body": "As an ungly workaround you could use <a href=\"http://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them\">global variables</a>, but a nicer approach would be to pass a variable from one function to another or make the desired variable a class atribute."}, {"owner": {"reputation": 818, "user_id": 5374625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kolvP.png?s=128&g=1", "display_name": "Knells", "link": "https://stackoverflow.com/users/5374625/knells"}, "edited": false, "score": 4, "creation_date": 1448483018, "post_id": 33925738, "comment_id": 55612387, "body": "Can you show us the line(s) where you call this function?"}, {"owner": {"reputation": 67, "user_id": 5605872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e39bb71c72fe6cb950a9f0e896b1620?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gardner", "link": "https://stackoverflow.com/users/5605872/craig-gardner"}, "edited": false, "score": 0, "creation_date": 1448483083, "post_id": 33925738, "comment_id": 55612426, "body": "I know it hasn&#39;t worked because when I tell it to print my returned array it says the name is not defined."}, {"owner": {"reputation": 67, "user_id": 5605872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e39bb71c72fe6cb950a9f0e896b1620?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gardner", "link": "https://stackoverflow.com/users/5605872/craig-gardner"}, "reply_to_user": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1448483348, "post_id": 33925738, "comment_id": 55612558, "body": "@Micha\u0142F That worked. I think the return function doesn&#39;t work how I think it works. Thanks!"}, {"owner": {"reputation": 67, "user_id": 5605872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e39bb71c72fe6cb950a9f0e896b1620?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gardner", "link": "https://stackoverflow.com/users/5605872/craig-gardner"}, "edited": false, "score": 0, "creation_date": 1448483498, "post_id": 33925738, "comment_id": 55612627, "body": "That has worked. How do I mark this as answered? :S"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1448483582, "post_id": 33925738, "comment_id": 55612668, "body": "The return function isn&#39;t a function. It&#39;s a statement. It returns the value from the function to outside the function. It can be any type, or if multiple arguments are passed, is a tuple. def a(x):    return x; is similar to lambda x: x"}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "edited": false, "score": 0, "creation_date": 1448483650, "post_id": 33925738, "comment_id": 55612697, "body": "@CraigGardner I move my comment to be an aswer to you question. You can +1 by clicking up arrow. You should also be able to mark it as solution by clicking the tick symbol."}], "answers": [{"tags": [], "owner": {"reputation": 2561, "user_id": 111362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc23f99b21af3f2a34095799adea63?s=128&d=identicon&r=PG", "display_name": "katy lavallee", "link": "https://stackoverflow.com/users/111362/katy-lavallee"}, "is_accepted": false, "score": 0, "last_activity_date": 1448483343, "creation_date": 1448483343, "answer_id": 33925870, "question_id": 33925738, "link": "https://stackoverflow.com/questions/33925738/python-3-5-save-an-array-for-use-outside-a-function/33925870#33925870", "title": "Python 3.5 Save an array for use outside a function", "body": "<p>Looks like you are using numpy: <code>results = np.array((theta_values, xi_values))</code>. The documentation for <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.array.html\" rel=\"nofollow\"><code>numpy.array()</code></a> states the first argument must be an array-like object:</p>\n\n<blockquote>\n  <p>An array, any object exposing the array interface, an object whose <strong>array</strong> method returns an array, or any (nested) sequence.</p>\n</blockquote>\n\n<p>I think you want <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.asarray.html#numpy.asarray\" rel=\"nofollow\"><code>numpy.asarray()</code></a> instead: <code>results = np.asarray((theta_values, xi_values))</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "is_accepted": true, "score": 0, "last_activity_date": 1448483578, "creation_date": 1448483578, "answer_id": 33925925, "question_id": 33925738, "link": "https://stackoverflow.com/questions/33925738/python-3-5-save-an-array-for-use-outside-a-function/33925925#33925925", "title": "Python 3.5 Save an array for use outside a function", "body": "<p>You already return your array, so now you just need to use it. <code>array = lane_emden(3)</code> for example.</p>\n"}], "owner": {"reputation": 67, "user_id": 5605872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e39bb71c72fe6cb950a9f0e896b1620?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Gardner", "link": "https://stackoverflow.com/users/5605872/craig-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 33925925, "answer_count": 2, "score": 1, "last_activity_date": 1448483578, "creation_date": 1448482838, "last_edit_date": 1448483223, "question_id": 33925738, "link": "https://stackoverflow.com/questions/33925738/python-3-5-save-an-array-for-use-outside-a-function", "title": "Python 3.5 Save an array for use outside a function", "body": "<p>I have a function that produces an array within it, and I want to do work on the generated array outside of the function, in python. How can I make the function save the array such that this can be done?</p>\n\n<p>Thanks!</p>\n\n<p>My function is here:</p>\n\n<pre><code>def lane_emden(n, delxi=0.00001, xilim=25):\n\n    theta = 1\n    dtdx = 0\n    xi = 0.01\n    #Starting values\n\n    dtdx_values = [dtdx]\n    theta_values = [theta]\n    xi_values = [xi]\n    #Initial values for the lists\n\n    while theta&gt;=0 and xi&lt;=xilim :\n        dtdx_new = dtdx - ((2*(2/xi*dtdx)) + theta**n)*delxi\n        theta_new = theta + delxi*dtdx_new\n        xi_new = xi + delxi\n        #Equations to create new values for iterative diff eq solving\n\n        dtdx = dtdx_new\n        theta = theta_new\n        xi = xi_new\n        #Replace the old values with the new ones\n\n        dtdx_values.append(dtdx)\n        theta_values.append(theta)\n        xi_values.append(xi)\n        #Store these new values in previously defined lists\n\n    results = np.array((theta_values, xi_values))\n    #create an array of the results (probably done incorrectly)\n    return results\n    #This is how I tried to get the array saved outside the function\n</code></pre>\n\n<p>I'm very new to Python, any help would be greatly appreciated!</p>\n\n<p>[Edit] Function call as requested.</p>\n\n<p>Input</p>\n\n<pre><code>lane_emden(5)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>array([[  1.00000000e+00,   1.00000000e+00,   1.00000000e+00, ...,\n      2.10576105e-01,   2.10576063e-01,   2.10576022e-01],\n   [  1.00000000e-02,   1.00100000e-02,   1.00200000e-02, ...,\n      2.49999900e+01,   2.50000000e+01,   2.50000100e+01]])\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "exception", "zip", "zipfile"], "comments": [{"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1448483682, "post_id": 33925722, "comment_id": 55612711, "body": "Have you tried unzipping the file using another utility to make sure it is a valid ZIP file?"}, {"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "reply_to_user": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1448486170, "post_id": 33925722, "comment_id": 55613989, "body": "@MartinEvans Yes, I&#39;ve tried and it worked. The problem was with downloading the file as Rob said in his answer."}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 4072367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab774a51799cfa2f80b258e2926edffa?s=128&d=identicon&r=PG&f=1", "display_name": "Philou", "link": "https://stackoverflow.com/users/4072367/philou"}, "is_accepted": false, "score": 1, "last_activity_date": 1448484817, "last_edit_date": 1495542629, "creation_date": 1448484817, "answer_id": 33926227, "question_id": 33925722, "link": "https://stackoverflow.com/questions/33925722/cant-unzip-zip-file/33926227#33926227", "title": "Can&#39;t unzip zip file", "body": "<p>I tried downloading your archive without using your download-code and then extracting it with:</p>\n\n<pre><code>import zipfile\nwith zipfile.ZipFile(\"ds_dphs_csv.zip\") as a:\n        a.extractall()\n</code></pre>\n\n<p>It worked fine. The exception <strong>zipfile.BadZipfile</strong> is raised when there is a problem in a header thus I think your file is corrupted after download. There must be a problem with your downloading method.</p>\n\n<p>You can find more details on the exception in this post: <a href=\"https://stackoverflow.com/questions/20890950/python-extracting-files-from-a-large-6gb-zip-file\">Python - Extracting files from a large (6GB+) zip file</a></p>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1448484823, "creation_date": 1448484823, "answer_id": 33926228, "question_id": 33925722, "link": "https://stackoverflow.com/questions/33925722/cant-unzip-zip-file/33926228#33926228", "title": "Can&#39;t unzip zip file", "body": "<p>Quoth <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow\">the documentation for <code>open()</code></a>: \"<em>when opening a binary file, you should append <code>'b'</code> to the mode value to open the file in binary mode</em>\"</p>\n\n<p>Open your output file using <code>b</code> for binary:</p>\n\n<pre><code>with open(_destination_for_downloads+'platici_dph.zip','wb') as f:\n</code></pre>\n"}], "owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2260, "favorite_count": 1, "accepted_answer_id": 33926228, "answer_count": 2, "score": 0, "last_activity_date": 1448484823, "creation_date": 1448482767, "question_id": 33925722, "link": "https://stackoverflow.com/questions/33925722/cant-unzip-zip-file", "title": "Can&#39;t unzip zip file", "body": "<p>I'm trying to unzip a zip file inside my script using Python's <code>zipfile</code> module. The problem is that when I try to unzip this file, it raises <code>Bad magic number for file header error</code>:</p>\n\n<p>This is the <code>error</code>:</p>\n\n<pre><code>..\n  zip_ref.extractall(destination_to_unzip_file)\n  File \"C:\\Python27\\lib\\zipfile.py\", line 1040, in extractall\n    self.extract(zipinfo, path, pwd)\n  File \"C:\\Python27\\lib\\zipfile.py\", line 1028, in extract\n    return self._extract_member(member, path, pwd)\n  File \"C:\\Python27\\lib\\zipfile.py\", line 1082, in _extract_member\n    with self.open(member, pwd=pwd) as source, \\\n  File \"C:\\Python27\\lib\\zipfile.py\", line 971, in open\n    raise BadZipfile(\"Bad magic number for file header\")\nzipfile.BadZipfile: Bad magic number for file header\n</code></pre>\n\n<p>The file I want to unzip is downloaded this way:</p>\n\n<pre><code>_url = \"\"\"http://edane.drsr.sk/report/ds_dphs_csv.zip\"\"\"\n\ndef download_platici_dph(self):\n    if os.path.isfile(_destination_for_downloads+'platici_dph.zip'):\n        os.remove(_destination_for_downloads+'platici_dph.zip')\n    with open(_destination_for_downloads+'platici_dph.zip','w') as f:\n        response = requests.get(_url,stream=True)\n        if not response.ok:\n            print 'Something went wrong'\n            return False\n        else:\n            for block in response.iter_content(1024):\n                f.write(block)\n</code></pre>\n\n<p>Do anybody knows where is the problem?</p>\n"}, {"tags": ["python", "arrays", "list", "typeerror"], "comments": [{"owner": {"reputation": 16864, "user_id": 288875, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/516193e369370693f2991ccec37b4dfc?s=128&d=identicon&r=PG", "display_name": "Andre Holzner", "link": "https://stackoverflow.com/users/288875/andre-holzner"}, "edited": false, "score": 0, "creation_date": 1448482878, "post_id": 33925698, "comment_id": 55612324, "body": "I think there is a line break in the line starting with <code>old.append(arr</code> which should not be there"}, {"owner": {"reputation": 1712, "user_id": 1580195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e6776cfbd877dfd97a6eeffd080c9b?s=128&d=identicon&r=PG&f=1", "display_name": "simpel01", "link": "https://stackoverflow.com/users/1580195/simpel01"}, "edited": false, "score": 0, "creation_date": 1448483013, "post_id": 33925698, "comment_id": 55612384, "body": "<code>old[:,0]</code> is not correct python syntax. what is the semantics of that thing?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448483093, "post_id": 33925698, "comment_id": 55612430, "body": "you probably want <code>newItem = array(old[i][:,0]),y]</code>"}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 0, "creation_date": 1448483100, "post_id": 33925698, "comment_id": 55612433, "body": "In python a list is essentially an array(c/c++)"}, {"owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "edited": false, "score": 2, "creation_date": 1448484150, "post_id": 33925698, "comment_id": 55612975, "body": "there are syntax errors all over this code. all needs reworking. Right question needs to be asked."}, {"owner": {"reputation": 121, "user_id": 5602755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrb0U.png?s=128&g=1", "display_name": "Orange Pukeko", "link": "https://stackoverflow.com/users/5602755/orange-pukeko"}, "edited": false, "score": 0, "creation_date": 1448487490, "post_id": 33925698, "comment_id": 55614610, "body": "Could you guys be a bit more specific w.r.t. the syntax errors. I have no syntax errors when running the code and would appreciate any non-critical syntax rules that I don&#39;t know. I have taught the python I know to myself, so I may have missed of the proper syntax lectures."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1581292276, "post_id": 33925698, "comment_id": 106371905, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/15884527/how-can-i-prevent-the-typeerror-list-indices-must-be-integers-not-tuple-when-c\">How can I prevent the TypeError: list indices must be integers, not tuple when copying a python list to a numpy array?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 5602755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrb0U.png?s=128&g=1", "display_name": "Orange Pukeko", "link": "https://stackoverflow.com/users/5602755/orange-pukeko"}, "edited": false, "score": 0, "creation_date": 1448496553, "post_id": 33925955, "comment_id": 55618120, "body": "Both options work, but neither solves the problem at hand. I agree that the second option is a bit more elegant, but in my view it hides the elements it accesses. But that may just be because I am fairly new to Python."}], "tags": [], "owner": {"reputation": 392, "user_id": 939586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e83c9dc4d36b8d498e8b01907258f5?s=128&d=identicon&r=PG", "display_name": "6c1", "link": "https://stackoverflow.com/users/939586/6c1"}, "is_accepted": true, "score": 4, "last_activity_date": 1448483723, "last_edit_date": 1495542184, "creation_date": 1448483723, "answer_id": 33925955, "question_id": 33925698, "link": "https://stackoverflow.com/questions/33925698/typeerror-list-indices-must-be-integers-not-tuple-when-trying-to-alter-certain/33925955#33925955", "title": "TypeError: list indices must be integers, not tuple when trying to alter certain elements of a list of arrays", "body": "<p>You don't need the commas in the list slicing notation. <code>array[:,i]</code> is parsed as <code>array[:t]</code>, where <code>t = ,i</code> is a tuple. See <a href=\"https://stackoverflow.com/questions/509211/explain-pythons-slice-notation\" title=\"here\">here</a> for a rundown of list slicing. </p>\n\n<p>Tuples are <a href=\"https://docs.python.org/2/tutorial/datastructures.html#tuples-and-sequences\" rel=\"nofollow noreferrer\" title=\"defined by commas\">defined by commas</a>, not parentheses. </p>\n\n<p>In your case, replace the lines</p>\n\n<pre><code>y = old[i][1,:] + shift\nnewItem = array([old[:,0],y])\n</code></pre>\n\n<p>with</p>\n\n<pre><code>y = old[i][1:] + shift\nnewItem = array([old[:0],y])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 5602755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrb0U.png?s=128&g=1", "display_name": "Orange Pukeko", "link": "https://stackoverflow.com/users/5602755/orange-pukeko"}, "is_accepted": false, "score": 2, "last_activity_date": 1448487092, "creation_date": 1448487092, "answer_id": 33926757, "question_id": 33925698, "link": "https://stackoverflow.com/questions/33925698/typeerror-list-indices-must-be-integers-not-tuple-when-trying-to-alter-certain/33926757#33926757", "title": "TypeError: list indices must be integers, not tuple when trying to alter certain elements of a list of arrays", "body": "<p>Right, I feel stupid now.</p>\n\n<p>I have been working on this for way too long and off course I figure out the answer within 15 minutes of posting this question.</p>\n\n<p>I made two mistakes in the assignment of 'newitem'.\ninstead of </p>\n\n<pre><code>newItem = array([old[:,0],y])\n</code></pre>\n\n<p>I should have used:</p>\n\n<pre><code>newItem = array([old[i][0,:],y])\n</code></pre>\n\n<p>That is, I need to access the appropriate item in the list, old[i] rather than old.\nAnd I need to access the appropriate item in the array old[i][0,:] rather than old[i][:,0].\nRookie mistake, I hope this helps someone else.</p>\n\n<p>Edit, oh wow, only now see all the comments and answers on my question, thanks guys, I took so long because I incorporated this into my actual project, rather than just the test script. Cheers anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11858810, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1c9a76fe3dccc6223caef27f1c792641?s=128&d=identicon&r=PG", "display_name": "Neelu", "link": "https://stackoverflow.com/users/11858810/neelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1564511935, "last_edit_date": 1564511935, "creation_date": 1564502906, "answer_id": 57275835, "question_id": 33925698, "link": "https://stackoverflow.com/questions/33925698/typeerror-list-indices-must-be-integers-not-tuple-when-trying-to-alter-certain/57275835#57275835", "title": "TypeError: list indices must be integers, not tuple when trying to alter certain elements of a list of arrays", "body": "<p>It seems that <code>,</code> is placed instead of <code>:</code>.</p>\n\n<p>Replace the comma with colon.</p>\n\n<p>Below is the correct syntax of the sublist creation from the list.</p>\n\n<pre><code>list_name[start_index:end_index]\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5602755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrb0U.png?s=128&g=1", "display_name": "Orange Pukeko", "link": "https://stackoverflow.com/users/5602755/orange-pukeko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79247, "favorite_count": 2, "accepted_answer_id": 33925955, "answer_count": 3, "score": 3, "last_activity_date": 1564511935, "creation_date": 1448482672, "last_edit_date": 1448485965, "question_id": 33925698, "link": "https://stackoverflow.com/questions/33925698/typeerror-list-indices-must-be-integers-not-tuple-when-trying-to-alter-certain", "title": "TypeError: list indices must be integers, not tuple when trying to alter certain elements of a list of arrays", "body": "<p>I have a list of 2 by n arrays of x and y coordinates. </p>\n\n<pre><code>old: [array([[1, 2, 3], [4, 5, 6]]), array([[10, 20, 30], [40, 50, 60]])]\n</code></pre>\n\n<p>I am trying to shift the y-coordinates, the second row of each array, by a certain value 'shift'. However, when I try to do this by the method below, I get the an error: </p>\n\n<blockquote>\n  <p>\"TypeError: list indices must be integers, not tuple when trying to alter certain elements of a list of arrays.\"</p>\n</blockquote>\n\n<pre><code>import pylab\n\n\n    def shiftY(old,shift):\n        new = list([])\n\n        for i in arange(len(old)):\n            y = old[i][1,:] + shift\n            newItem = array([old[:,0],y])\n            new.append(newItem)\n\n        return new\n\n    old = list()\n    old.append(arr\n\nay([[1, 2, 3], [4, 5, 6]]))\nold.append(array([[10,20,30],[40,50,60]]))\nshift =3 \nnew=shiftY(old,shift)\nprint(new)\n</code></pre>\n\n<p>Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27_32bit\\lib\\site-packages\\spyderlib\\widgets\\externalshell\\sitecustomize.py\", line 540, in runfile\n    execfile(filename, namespace)\n  File \"C:/Users/tald574/testShifty.py\", line 25, in &lt;module&gt;\n    new=shiftY(old,shift)\n  File \"C:/Users/tald574/testShifty.py\", line 15, in shiftY\n    newItem = array([old[:,0],y])\nTypeError: list indices must be integers, not tuple\n</code></pre>\n\n<p>I can't see what I am doing wrong as <code>newItem</code> is not even supposed to be a list, it should be a 2D array. Would appreciate it if someone can tell me what I do wrong an how to fix it.</p>\n\n<p>Thanks.</p>\n\n<p>Edit:\nThe expected outcome of this test would be,</p>\n\n<pre><code>new:[array([[1, 2, 3], [7, 8, 9]]), array([[10, 20, 30], [43, 53, 63]])]\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy", "case", "coalesce"], "answers": [{"tags": [], "owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "is_accepted": true, "score": 0, "last_activity_date": 1448484061, "creation_date": 1448484061, "answer_id": 33926048, "question_id": 33925689, "link": "https://stackoverflow.com/questions/33925689/sqlalchemy-core-expression-coalesce-and-case/33926048#33926048", "title": "SQLAlchemy Core expression - COALESCE and CASE", "body": "<p>Well it turned out to be the case of \"RTFM carefully\":</p>\n\n<pre><code>    case(\n        [\n            (coalesce(base_vee.c.affidavit, '') == '', False)\n        ],\n        else_=True).label('emptyish')\n    ])\n</code></pre>\n"}], "owner": {"reputation": 5095, "user_id": 2022518, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9366c006da5aca3fa94f7be13677042d?s=128&d=identicon&r=PG", "display_name": "LetMeSOThat4U", "link": "https://stackoverflow.com/users/2022518/letmesothat4u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 33926048, "answer_count": 1, "score": 1, "last_activity_date": 1448484061, "creation_date": 1448482607, "last_edit_date": 1492087355, "question_id": 33925689, "link": "https://stackoverflow.com/questions/33925689/sqlalchemy-core-expression-coalesce-and-case", "title": "SQLAlchemy Core expression - COALESCE and CASE", "body": "<p>I'm trying to produce Core expression corresponding to this SQL: <a href=\"https://dba.stackexchange.com/a/122116/47472\">https://dba.stackexchange.com/a/122116/47472</a></p>\n\n<p>However, this expression fails:</p>\n\n<pre><code>q = select([\n    component,\n    base_vee,\n    case(\n        [\n            (coalesce(base_vee.c.affidavit, '') == '')\n        ],\n        else_=True).label('emptyish')\n    ]). \\\n    where(\n        and_(\n            component.c.id.in_(comp_ids),\n            component.c.id == base_vee.c.component_id,\n            base_vee.c.type == 'typical',\n        )\n    )\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>  File \"/export/home/myuser/mysite/mysite/afile.py\", line 527, in afunc\n    else_=True).label('emptyish')\n  File \"&lt;string&gt;\", line 2, in case\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 2187, in __init__\n    _literal_as_binds(r)) for (c, r) in whens\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/operators.py\", line 343, in __getitem__\n    return self.operate(getitem, index)\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 739, in operate\n    return op(self.comparator, *other, **kwargs)\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/operators.py\", line 343, in __getitem__\n    return self.operate(getitem, index)\n  File \"&lt;string&gt;\", line 1, in &lt;lambda&gt;\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/type_api.py\", line 60, in operate\n    return o[0](self.expr, op, *(other + o[1:]), **kwargs)\n  File \"/export/home/myuser/mysite/ve/lib/python2.7/site-packages/sqlalchemy/sql/default_comparator.py\", line 166, in _unsupported_impl\n    \"this expression\" % op.__name__)\n</code></pre>\n\n<p>When I delete <code>case</code> expression (leaving just <code>coalesce</code>), it works fine. But I can't get Core to accept <code>case</code>. </p>\n\n<p>How to make it work with <code>case</code>?</p>\n"}, {"tags": ["python", "macos", "tensorflow"], "comments": [{"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 1, "creation_date": 1448482904, "post_id": 33925595, "comment_id": 55612336, "body": "For some reason, TensorFlow seems to install best in a virtual environment. See <a href=\"http://stackoverflow.com/questions/33870404/problems-installing-tensorflow-on-mac?rq=1\">this</a> and <a href=\"http://stackoverflow.com/questions/33730259/tensorflow-installaion-error-on-mac?rq=1\">this</a> for example. If you&#39;re unused to virtualenvs, I recommend using <a href=\"https://www.continuum.io/downloads\" rel=\"nofollow noreferrer\">Anaconda</a>."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "reply_to_user": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 2, "creation_date": 1448487222, "post_id": 33925595, "comment_id": 55614496, "body": "Thanks. I installed it using anaconda now"}, {"owner": {"reputation": 21891, "user_id": 1243762, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b9b83cf6ca76699d7abfbba07f4675a3?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Coder", "link": "https://stackoverflow.com/users/1243762/guy-coder"}, "edited": false, "score": 0, "creation_date": 1450445894, "post_id": 33925595, "comment_id": 56455290, "body": "You should make the comment about using anaconda an answer. People don&#39;t always look into the comments for answers."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1451450158, "post_id": 33925595, "comment_id": 56787463, "body": "How did you use anaconda to install it? I&#39;m having trouble with that."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1451472193, "post_id": 33925595, "comment_id": 56796934, "body": "@Adam_G I used the wheel file provided. For example, after installing anaconda, run: conda install --name ml -c <a href=\"https://storage.googleapis.com/tensorflow/mac/tensorflow-0.5.0-py2-none-any.whl\" rel=\"nofollow noreferrer\">storage.googleapis.com/tensorflow/mac/&hellip;</a> This, for example, installs tensorflow 0.5.0 in my &#39;ml&#39; conda environment."}], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 1504540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5f3af8d795a3f9a0835be9ef05206d1?s=128&d=identicon&r=PG", "display_name": "Shelby Vanhooser", "link": "https://stackoverflow.com/users/1504540/shelby-vanhooser"}, "is_accepted": true, "score": 1, "last_activity_date": 1452117968, "last_edit_date": 1492087506, "creation_date": 1452117968, "answer_id": 34643711, "question_id": 33925595, "link": "https://stackoverflow.com/questions/33925595/installing-tensor-flow-on-mac/34643711#34643711", "title": "Installing tensor flow on mac", "body": "<p>This may not be exactly the solution you're looking for, but I personally spent the last two hours diagnosing a similar issue where TensorFlow wouldn't work after correctly installing and having its packages satisfied. </p>\n\n<p>It was throwing one of the strange _IO module import errors that seemed to be saying python was working correctly, and I ended up tracing it back all the way to the System Integrity Protection issue introduced in El Cap. </p>\n\n<p>See <a href=\"https://apple.stackexchange.com/questions/208478/how-do-i-disable-system-integrity-protection-sip-aka-rootless-on-os-x-10-11\">here</a> for easy fix that will let pip work correctly again.</p>\n\n<blockquote>\n  <p>For those that are curious, Apple introduced SIP to make sure no user accidentally hurts system files, but in the process it makes it trickier for users to run commands as root </p>\n</blockquote>\n\n<p>Also, remember to run </p>\n\n<pre><code>sudo easy_install --upgrade six\n</code></pre>\n\n<p>and</p>\n\n<pre><code>sudo pip install https://storage.googleapis.com/tensorflow/mac/tensorflow-0.5.0-py2-none-any.whl\n</code></pre>\n\n<p>After disabling SIP to make sure you patch up any requirements.  You may need to uninstall some pip packages if this fails for some reason. </p>\n\n<p>As a final note, you should be off the ground if, in the python shell, you can </p>\n\n<pre><code>import tensorflow as tf\n</code></pre>\n\n<p>and it doesn't throw any errors. </p>\n\n<p><a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a><a href=\"/questions/tagged/tensorflow\" class=\"post-tag\" title=\"show questions tagged &#39;tensorflow&#39;\" rel=\"tag\">tensorflow</a><a href=\"/questions/tagged/elcapitan\" class=\"post-tag\" title=\"show questions tagged &#39;elcapitan&#39;\" rel=\"tag\">elcapitan</a></p>\n"}], "owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 0, "accepted_answer_id": 34643711, "answer_count": 1, "score": 3, "last_activity_date": 1452117968, "creation_date": 1448482313, "question_id": 33925595, "link": "https://stackoverflow.com/questions/33925595/installing-tensor-flow-on-mac", "title": "Installing tensor flow on mac", "body": "<p>I am trying to install tensor flow on my mac with</p>\n\n<pre><code>sudo pip install https://storage.googleapis.com/tensorflow/mac/tensorflow-0.5.0-py2-none-any.whl\n</code></pre>\n\n<p>And I get the error:</p>\n\n<pre><code>Traceback (most recent call last):\n\nFile \"&lt;string&gt;\", line 16, in &lt;module&gt;\n\nIOError: [Errno 2] No such file or directory: '/var/folders/9y/r7zhtk2s1s90hwcty1d6964w0000gn/T/pip-pnXFjW-build/setup.py'\n</code></pre>\n\n<p>I am on OSX 10.11.1 and all the development tools, pip and python2.7 are installed.</p>\n"}, {"tags": ["python", "excel", "openpyxl"], "comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1448482435, "post_id": 33925568, "comment_id": 55612105, "body": "Is it not there, or is it not functioning? Can you look inside?"}, {"owner": {"reputation": 39, "user_id": 5605535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4716fa5306db3345d739b06e101ee80b?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/5605535/scott"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1448482902, "post_id": 33925568, "comment_id": 55612335, "body": "the cell range is defined as it was in the original file but in the new file it doesn&#39;t give me the option to edit the query when I highlight it, so my best guess is that it isn&#39;t there."}, {"owner": {"reputation": 39, "user_id": 5605535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4716fa5306db3345d739b06e101ee80b?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/5605535/scott"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1448484543, "post_id": 33925568, "comment_id": 55613167, "body": "I shouldn&#39;t have said I guess because it is definitely not there."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1448528299, "post_id": 33925568, "comment_id": 55628463, "body": "To confirm that it&#39;s &quot;definitely not there&quot;, check in <code>Data -&gt; Connections</code> (see the section <b>edit an existing Web query</b> <a href=\"https://support.office.com/en-us/article/Get-external-data-from-a-Web-page-708f2249-9569-4ff9-a8a4-7ee5f1b1cfba#bmcreate_a_web_query\" rel=\"nofollow noreferrer\">here</a>)"}, {"owner": {"reputation": 39, "user_id": 5605535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4716fa5306db3345d739b06e101ee80b?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/5605535/scott"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1448551054, "post_id": 33925568, "comment_id": 55643010, "body": "Ok, I just checked it out and it is definitely not there"}], "answers": [{"tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": 0, "last_activity_date": 1448525448, "creation_date": 1448525448, "answer_id": 33933433, "question_id": 33925568, "link": "https://stackoverflow.com/questions/33925568/copied-excel-files-losing-web-query/33933433#33933433", "title": "Copied Excel Files losing Web query", "body": "<p>I don't know what a web query is but I suspect it is something that is not (yet) supported by openpyxl and thus lost when working on the file. Because of the structure of the file format, files are completely rewritten when they are edited.</p>\n\n<p>You can submit a bug issue requesting the feature but providing a pull request is the best way to get it.</p>\n"}], "owner": {"reputation": 39, "user_id": 5605535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4716fa5306db3345d739b06e101ee80b?s=128&d=identicon&r=PG", "display_name": "Scott", "link": "https://stackoverflow.com/users/5605535/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448525448, "creation_date": 1448482214, "last_edit_date": 1448512856, "question_id": 33925568, "link": "https://stackoverflow.com/questions/33925568/copied-excel-files-losing-web-query", "title": "Copied Excel Files losing Web query", "body": "<p>I'm using <code>Python</code> and the module <code>openpyxl</code>.</p>\n\n<p>I have been able to:</p>\n\n<pre><code>    CreateFile = openpyxl.load_workbook(filename= 'OldWorkbook.xlsm', keep_vba = True)\n    Sheet = CreateFile.active\n    Sheet['A1']=(\"What Ever You Want\")\n    CreateFile.save('NewWorkbook.xlsm')\n</code></pre>\n\n<p>But when I open the <code>NewWorkbook</code> the web query I defined in <code>OldWorkbook</code> is not there in <code>NewWorkbook</code>, any suggestions?</p>\n"}, {"tags": ["python", "python-3.x", "package", "pip"], "comments": [{"owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "edited": false, "score": 0, "creation_date": 1448482503, "post_id": 33925566, "comment_id": 55612147, "body": "post contents of %HOME%\\.pip\\pip.log"}, {"owner": {"reputation": 28666, "user_id": 754991, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/345fd2a0955fbab272da7ee594cbe7c1?s=128&d=identicon&r=PG", "display_name": "JBernardo", "link": "https://stackoverflow.com/users/754991/jbernardo"}, "edited": false, "score": 3, "creation_date": 1448500364, "post_id": 33925566, "comment_id": 55619029, "body": "You should try <code>py -3 -m pip install some_package_you_want</code>"}, {"owner": {"reputation": 452, "user_id": 3680834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27258ea1f9f212c4bb39838ad9efbf22?s=128&d=identicon&r=PG", "display_name": "martonbognar", "link": "https://stackoverflow.com/users/3680834/martonbognar"}, "edited": false, "score": 8, "creation_date": 1523453283, "post_id": 33925566, "comment_id": 86567865, "body": "A note to future visitors of this thread: first check the output of <code>pip -v install &lt;package&gt;</code>, maybe it doesn&#39;t hang, just takes unusually long (but actually does stuff in the background) -- this was the case for me."}], "answers": [{"tags": [], "owner": {"reputation": 3596, "user_id": 3681572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d8193a035fa9588685b5cce2a9c36a4?s=128&d=identicon&r=PG", "display_name": "Adi", "link": "https://stackoverflow.com/users/3681572/adi"}, "is_accepted": false, "score": 0, "last_activity_date": 1448507674, "creation_date": 1448507674, "answer_id": 33929982, "question_id": 33925566, "link": "https://stackoverflow.com/questions/33925566/pip-install-hangs/33929982#33929982", "title": "Pip Install hangs", "body": "<p>Try using <code>pip</code> programmatically like shown below.</p>\n\n<pre><code>import pip\n\npip.main(['install', 'the_package_you_want_installed'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16381, "user_id": 178800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19c7eabdac853eba7b5eb77c3d4ef260?s=128&d=identicon&r=PG", "display_name": "Mark Chackerian", "link": "https://stackoverflow.com/users/178800/mark-chackerian"}, "edited": false, "score": 5, "creation_date": 1476470368, "post_id": 33930410, "comment_id": 67375915, "body": "and if you want more diagnostic cruft, <code>python -v -m pip install some_package_you_want</code>"}], "tags": [], "owner": {"reputation": 555, "user_id": 2847130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nOQYc.jpg?s=128&g=1", "display_name": "Waves", "link": "https://stackoverflow.com/users/2847130/waves"}, "is_accepted": true, "score": 12, "last_activity_date": 1448510887, "creation_date": 1448510887, "answer_id": 33930410, "question_id": 33925566, "link": "https://stackoverflow.com/questions/33925566/pip-install-hangs/33930410#33930410", "title": "Pip Install hangs", "body": "<p>@JBernardo 's comment worked for me. Thanks!</p>\n\n<pre><code>python -m pip install some_package_you_want\n</code></pre>\n"}], "owner": {"reputation": 555, "user_id": 2847130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nOQYc.jpg?s=128&g=1", "display_name": "Waves", "link": "https://stackoverflow.com/users/2847130/waves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36903, "favorite_count": 2, "accepted_answer_id": 33930410, "answer_count": 2, "score": 12, "last_activity_date": 1612703152, "creation_date": 1448482213, "last_edit_date": 1612703152, "question_id": 33925566, "link": "https://stackoverflow.com/questions/33925566/pip-install-hangs", "title": "Pip Install hangs", "body": "<p>I currently have Python 3.5 on my Windows machine. I'm trying to install a Python package using the command <code>&quot;pip install&quot;</code> but as soon as I hit enter nothing happens. The action hangs for such a long time and when I try to exit the command line, it freezes. How do I get pip install to work?</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1448499909, "post_id": 33925494, "comment_id": 55618903, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/23969619/plotting-with-seaborn-using-the-matplotlib-object-oriented-interface\">Plotting with seaborn using the matplotlib object-oriented interface</a>"}, {"owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1448500076, "post_id": 33925494, "comment_id": 55618940, "body": "@mwaskom: i saw that but don&#39;t see how it answers the question since <code>factorplot</code> doesn&#39;t take an <code>ax=</code> argument. it sounds like it&#39;s impossible to do? i want to get the prettyness of seaborn <code>factorplot</code> but simply inside a subplot"}], "answers": [{"comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 2, "creation_date": 1448546125, "post_id": 33935592, "comment_id": 55639924, "body": "This &quot;works&quot; because <code>factorplot</code> passes its kwargs through, so the <code>ax</code> parameter gets to the right place, but this particularly behavior isn&#39;t supported and I wouldn&#39;t rely on it."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1448548488, "post_id": 33935592, "comment_id": 55641394, "body": "@mwaskom, agreed, but do you know a better way to do it? Just thought this might be useful for now"}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 3, "creation_date": 1448549403, "post_id": 33935592, "comment_id": 55641978, "body": "There is a fundamental confusion. <code>factorplot</code> just applies a plotting function (<code>pointplot</code> by default) onto a grid of subplots managed by a <code>FacetGrid</code>. It does not make sense to try to draw a <code>factorplot</code> onto an existing subplot. Just use <code>pointplot</code>."}, {"owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1448660025, "post_id": 33935592, "comment_id": 55687458, "body": "@mwaskom: but factorplot does something very useful that pointplot doesn&#39;t: it makes a pointplot that reads the labels from your df. with pointplot, i would need to do this by hand. having a function that behaves like pointplot&#39;s takes kwargs like <code>hue</code> that read values from the dataframe would be very useful, because that can be used without giving control over the whole figure to factorplot. it is useful inside individual subplots."}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 2, "creation_date": 1448660244, "post_id": 33935592, "comment_id": 55687530, "body": "I really am not sure what you mean. Within a single subplot, there is nothing <code>factorplot</code> does that <code>pointplot</code> doesn&#39;t do, because <code>factorplot</code> is literally just calling <code>pointplot</code> on each of the axes."}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 18, "last_activity_date": 1448556296, "last_edit_date": 1448556296, "creation_date": 1448532046, "answer_id": 33935592, "question_id": 33925494, "link": "https://stackoverflow.com/questions/33925494/seaborn-produces-separate-figures-in-subplots/33935592#33935592", "title": "seaborn produces separate figures in subplots", "body": "<p>The issue is that <code>factorplot</code> creates a new <code>FacetGrid</code> instance (which in turn creates its own figure), on which it will apply a plotting function (pointplot by default). So if all you want is the <code>pointplot</code>, it would make sense to just use <code>pointplot</code>, and not <code>factorplot</code>.</p>\n\n<p>The following is a bit of a hack, if you <strong>really</strong> want to, for whatever reason, tell <code>factorplot</code> which <code>Axes</code> to perform its plotting on. As @mwaskom points out in comments, this is not a supported behaviour, so while it might work now, it may not in the future.</p>\n\n<p>You can tell <code>factorplot</code> to plot on a given <code>Axes</code> using the <code>ax</code> kwarg, which gets passed on down to <code>matplotlib</code>, so the linked answer does sort of answer your query. However, it will still create the second figure because of the <code>factorplot</code> call, but that figure will just be empty. A workaround here it to close that extra figure before calling <code>plt.show()</code></p>\n\n<p>For example:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas\nimport seaborn as sns\nimport numpy as np\n\ndata = pandas.DataFrame({\"x\": [1, 2, 4],\n                        \"y\": [10,20,40],\n                        \"s\": [10,10,10]}) # I increased your errors so I could see them\n\n# Create a figure instance, and the two subplots\nfig = plt.figure()\nax1 = fig.add_subplot(211)\nax2 = fig.add_subplot(212)\n\n# Tell pointplot to plot on ax1 with the ax argument\nsns.pointplot(x=\"x\", y=\"y\", data=data, ax=ax1)\n\n# Plot the errorbar directly on ax1\nax1.errorbar(np.arange(len(data[\"x\"])), data[\"y\"], yerr=data[\"s\"])\n\n# Tell the factorplot to plot on ax2 with the ax argument\n# Also store the FacetGrid in 'g'\ng=sns.factorplot(x=\"x\", y=\"y\", data=data, ax=ax2)\n\n# Close the FacetGrid figure which we don't need (g.fig)\nplt.close(g.fig)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jMFSS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jMFSS.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40027, "favorite_count": 2, "accepted_answer_id": 33935592, "answer_count": 1, "score": 12, "last_activity_date": 1448556296, "creation_date": 1448481975, "last_edit_date": 1448502103, "question_id": 33925494, "link": "https://stackoverflow.com/questions/33925494/seaborn-produces-separate-figures-in-subplots", "title": "seaborn produces separate figures in subplots", "body": "<p>i'm trying to make a 2x1 subplot figure in seaborn using:</p>\n\n<pre><code>data = pandas.DataFrame({\"x\": [1, 2, 4],\n                        \"y\": [10,20,40],\n                        \"s\": [0.01,0.1,1.0]})\n\nplt.figure()\nplt.subplot(2, 1, 1)\nsns.pointplot(x=\"x\", y=\"y\", data=data)\nplt.errorbar(np.arange(len(data[\"x\"])), data[\"y\"], yerr=data[\"s\"])\nplt.subplot(2, 1, 2)\nsns.factorplot(x=\"x\", y=\"y\", data=data)\nplt.show()\n</code></pre>\n\n<p>it produces two separate figures instead of a single figure with two subplots. why does it do this and how can seaborn be called multiple times for separate subplots?</p>\n\n<p>i tried looking at the post referenced below but i cannot see how the subplots can be added even if <code>factorplot</code> is called first. can someone show an example of this? it would be helpful. my attempt:</p>\n\n<pre><code>data = pandas.DataFrame({\"x\": [1, 2, 4],\n                        \"y\": [10,20,40],\n                        \"s\": [0.01,0.1,1.0]})\n\nfig = plt.figure()\nsns.pointplot(x=\"x\", y=\"y\", data=data)\nax = sns.factorplot(x=\"x\", y=\"y\", data=data)\nfig.add_subplot(212, axes=ax)\nplt.errorbar(np.arange(len(data[\"x\"])), data[\"y\"], yerr=data[\"s\"])\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "django", "url", "view"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448482037, "post_id": 33925460, "comment_id": 55611886, "body": "Does the admin work?"}, {"owner": {"reputation": 1545, "user_id": 1329850, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/YiTtV.jpg?s=128&g=1", "display_name": "Allenph", "link": "https://stackoverflow.com/users/1329850/allenph"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448482102, "post_id": 33925460, "comment_id": 55611921, "body": "The admin works perfectly."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448482154, "post_id": 33925460, "comment_id": 55611962, "body": "What does the 404 page look like? Is it the standard yellow Django error page?"}, {"owner": {"reputation": 1545, "user_id": 1329850, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/YiTtV.jpg?s=128&g=1", "display_name": "Allenph", "link": "https://stackoverflow.com/users/1329850/allenph"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448482224, "post_id": 33925460, "comment_id": 55611997, "body": "Yes. It is the standard Django 404 page."}, {"owner": {"reputation": 1091, "user_id": 3229097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTufW.jpg?s=128&g=1", "display_name": "Ymartin", "link": "https://stackoverflow.com/users/3229097/ymartin"}, "edited": false, "score": 0, "creation_date": 1448482267, "post_id": 33925460, "comment_id": 55612017, "body": "Can you post the 404 Error page?"}, {"owner": {"reputation": 1545, "user_id": 1329850, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/YiTtV.jpg?s=128&g=1", "display_name": "Allenph", "link": "https://stackoverflow.com/users/1329850/allenph"}, "edited": false, "score": 0, "creation_date": 1448482473, "post_id": 33925460, "comment_id": 55612124, "body": "I&#39;ve added a screenshot of the 404 page."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "edited": false, "score": 3, "creation_date": 1448482552, "post_id": 33925460, "comment_id": 55612171, "body": "<code>&#47;setup</code> and <code>&#47;setup&#47;</code> are not the same URL"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "is_accepted": true, "score": 2, "last_activity_date": 1448483110, "last_edit_date": 1448483110, "creation_date": 1448482712, "answer_id": 33925710, "question_id": 33925460, "link": "https://stackoverflow.com/questions/33925460/django-reporting-404-error-on-simple-view/33925710#33925710", "title": "Django reporting 404 error on simple view?", "body": "<p>For some reason your settings seem to override the default for either <a href=\"https://docs.djangoproject.com/en/1.8/ref/settings/#append-slash\" rel=\"nofollow\"><code>APPEND_SLASH</code></a> or <a href=\"https://docs.djangoproject.com/en/1.8/ref/settings/#middleware-classes\" rel=\"nofollow\"><code>MIDDLEWARE_CLASSES</code></a>.</p>\n\n<p>Opening <code>http://example.com/setup</code> should cause a redirect to <code>http://example.com/setup/</code>, but somehow it doesn't for you.</p>\n\n<p>Note that the latter URL is matched by your <code>urls.py</code> while the former is not (as should be the case).</p>\n\n<p>The above should work if 'CommonMiddleWare<code>is enabled and</code>APPEND_SLASH<code>is set to</code>True`.</p>\n"}], "owner": {"reputation": 1545, "user_id": 1329850, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/YiTtV.jpg?s=128&g=1", "display_name": "Allenph", "link": "https://stackoverflow.com/users/1329850/allenph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 33925710, "answer_count": 1, "score": 1, "last_activity_date": 1448483110, "creation_date": 1448481825, "last_edit_date": 1448482459, "question_id": 33925460, "link": "https://stackoverflow.com/questions/33925460/django-reporting-404-error-on-simple-view", "title": "Django reporting 404 error on simple view?", "body": "<p>I'm just barely getting started with Python and Django.</p>\n\n<p>I've created my modules, migrated, added my modules to the admin section, etc. Now, I need to create my first view. I've been following <a href=\"https://docs.djangoproject.com/en/1.6/intro/tutorial03/\" rel=\"nofollow noreferrer\">this guide</a> (Yes the machine I'm on is running 1.6)</p>\n\n<p>My views.py file in the app (setup) looks like this...</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.http import HttpResponse\n\ndef index(request):\n    return HttpResponse(\"Setup Index\")\n</code></pre>\n\n<p>My app'a urls.py looks like this...</p>\n\n<pre><code>from django.conf.urls import patterns, url\nfrom setup import views\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index')\n)\n</code></pre>\n\n<p>And my root urls.py looks like this...</p>\n\n<pre><code>from django.views.generic import TemplateView\nfrom django.views.generic.base import RedirectView\nfrom django.conf.urls import include, patterns, url\nfrom django.contrib import admin as djangoAdmin\nfrom admin.controller import ReportWizard\nfrom admin.forms import reportDetailsForm, reportDataViewsForm\nfrom setup import views\ndjangoAdmin.autodiscover()\n\n\nurlpatterns = patterns('',\n    url(r'^django-admin/', include(djangoAdmin.site.urls)),\n    #New User Wizard URL\n    url(r'^setup/', include('setup.urls')),\n)\n</code></pre>\n\n<p>As far as I can tell I have followed the guide to the letter, but I am recieving a 404 error when navigating to myIP/setup.</p>\n\n<p>There are no error messages on the 404 page. What is the issue?</p>\n\n<p><a href=\"https://i.stack.imgur.com/XclnI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XclnI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "loops", "iterator", "cycle", "modulo"], "comments": [{"owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "edited": false, "score": 0, "creation_date": 1448481586, "post_id": 33925339, "comment_id": 55611673, "body": "by once, you mean one copy?"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1448484769, "post_id": 33925339, "comment_id": 55613267, "body": "Can you give an example? If <code>foo</code> implements what you need, what would be the output of <code>for x in foo([1,2,3]): print(x)</code>?"}, {"owner": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "edited": false, "score": 0, "creation_date": 1448485546, "post_id": 33925339, "comment_id": 55613634, "body": "See updated question."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1448493657, "post_id": 33925339, "comment_id": 55617266, "body": "See my updated answer and please explain how what you are trying to achieve is different from a basic for-loop. If it is not different, then this question is a possible duplicate of <a href=\"http://stackoverflow.com/questions/10929724/which-is-the-most-efficient-way-to-iterate-through-a-list-in-python\">Which is the most efficient way to iterate through a list in python?</a>."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1448495789, "post_id": 33925339, "comment_id": 55617927, "body": "If you define <code>points = [1, 2, 1, 4, 5]</code>, then your code outputs only the two first elements and &quot;quitting at 1&quot;.  Is that your desired behavior? (mine would output <code>1 2 1 4 5</code> and &quot;quitting at 1&quot;, so there&#39;s a difference here)"}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "edited": false, "score": 0, "creation_date": 1448540947, "post_id": 33925339, "comment_id": 55636573, "body": "Is it me or what you&#39;re asking is &quot;getting data from some iterator from some index to the last one&quot;?  I mean, If you want to stop when you&#39;re yielding the &#39;first&#39; item, isn&#39;t tat just reaching for the last item and stop?  If so, isn&#39;t that just <code>for item in iterator: print(item)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1448499523, "post_id": 33925438, "comment_id": 55618808, "body": "This will only work if the iterable supports iterating over it more than once.  Otherwise, when <code>chain</code> goes to iterate over it the second time, the iterable will be consumed.  The <i>fix</i> is to use <code>itertools.tee</code>."}], "tags": [], "owner": {"reputation": 1165, "user_id": 104847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f09ebc6a8ea0ff36d43d86557c27d36?s=128&d=identicon&r=PG", "display_name": "Ale", "link": "https://stackoverflow.com/users/104847/ale"}, "is_accepted": false, "score": 0, "last_activity_date": 1448538106, "last_edit_date": 1448538106, "creation_date": 1448481743, "answer_id": 33925438, "question_id": 33925339, "link": "https://stackoverflow.com/questions/33925339/iterate-cyclically-over-an-iterable-only-once/33925438#33925438", "title": "iterate &quot;cyclically&quot; over an iterable only once", "body": "<p>Why don't you chain or concatenate the iterable?</p>\n\n<pre><code>a = [1,2,3]\n\nfor x in a + a:\n    print x\n\nfrom itertools import chain, tee\nfor x in chain(tee(a, 2)):\n    print x\n</code></pre>\n\n<p>That seems simple enough</p>\n"}, {"comments": [{"owner": {"reputation": 1165, "user_id": 104847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f09ebc6a8ea0ff36d43d86557c27d36?s=128&d=identicon&r=PG", "display_name": "Ale", "link": "https://stackoverflow.com/users/104847/ale"}, "edited": false, "score": 0, "creation_date": 1448483847, "post_id": 33925446, "comment_id": 55612800, "body": "Well he said he needed to cycle only once ;-)"}, {"owner": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "edited": false, "score": 0, "creation_date": 1448493964, "post_id": 33925446, "comment_id": 55617352, "body": "How is that equivalent? The criterion to break the loop is that you encounter the first node after cyclically iterating through the iterable."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "edited": false, "score": 0, "creation_date": 1448494201, "post_id": 33925446, "comment_id": 55617441, "body": "@aaragon It&#39;s equivalent in the sense that the output (the side effect) is the same. You can&#39;t complain that the mean to achieve your goal is different, since the better mean is what you are asking for. Instead you should refine your question to show that a for-loop is not a sufficient solution (if that&#39;s the case)."}, {"owner": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "edited": false, "score": 0, "creation_date": 1448494948, "post_id": 33925446, "comment_id": 55617684, "body": "Nonsense. My question states the problem very clearly. Besides, if I was able to write that code it&#39;s obvious I can come up with an answer as trivial as yours."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "edited": false, "score": 1, "creation_date": 1448495250, "post_id": 33925446, "comment_id": 55617767, "body": "@aaragon Your last comment is nonconstructive. Not to mention that it comes off as ungrateful and rude. If you came here for help, let us help you and refine your question so it explains why this &quot;trivial&quot; code is not good enough for you. While it is &quot;very clear&quot; to you, it apparently is not as clear to at least 5 other people."}], "tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": false, "score": 1, "last_activity_date": 1448546171, "last_edit_date": 1495539874, "creation_date": 1448481758, "answer_id": 33925446, "question_id": 33925339, "link": "https://stackoverflow.com/questions/33925339/iterate-cyclically-over-an-iterable-only-once/33925446#33925446", "title": "iterate &quot;cyclically&quot; over an iterable only once", "body": "<p>Sure, but with <a href=\"https://docs.python.org/3/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\"><code>chain</code></a> and <a href=\"https://docs.python.org/3/library/itertools.html#itertools.repeat\" rel=\"nofollow noreferrer\"><code>repeat</code></a> (for <a href=\"https://docs.python.org/3.5/library/stdtypes.html#sequence-types-list-tuple-range\" rel=\"nofollow noreferrer\">sequences</a>) or <a href=\"https://docs.python.org/3/library/itertools.html#itertools.tee\" rel=\"nofollow noreferrer\"><code>tee</code></a> (for <a href=\"https://docs.python.org/3.5/library/stdtypes.html#iterator-types\" rel=\"nofollow noreferrer\">iterators</a>):</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import chain, repeat, tee\n&gt;&gt;&gt; print(*chain(*repeat([1, 2, 3], 2)))\n1 2 3 1 2 3\n\n&gt;&gt;&gt; print(*chain(*tee(i for i in [1,2,3])))\n1 2 3 1 2 3\n</code></pre>\n\n<p>Asterisk is used to <a href=\"https://docs.python.org/3.5/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow noreferrer\">unpack argument lists</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/33925438/1916449\">Answer by Ale</a> (chain without repeat) is even better if the iterable is already assigned to a variable and you need actually two cycles, as opposed to say, eight, or any other finite number.</p>\n\n<h1>Update</h1>\n\n<p>Code equivalent to the one in the updated question:</p>\n\n<pre><code>points = [1, 2, 3, 4, 5]\nfor x in points:\n    print(x)\nprint(\"quitting at\", points[0])\n</code></pre>\n\n<p>Which is basically equivalent to <a href=\"https://stackoverflow.com/a/33925517/1916449\">the original answer by Tom\u00e1s Glar\u00eda</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 2, "creation_date": 1448483664, "post_id": 33925517, "comment_id": 55612703, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/10338011\">From Review</a>"}, {"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "reply_to_user": {"reputation": 15290, "user_id": 3393505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/76db1f36ad7e50bb7dea1e04ea3e03ad?s=128&d=identicon&r=PG&f=1", "display_name": "Siyual", "link": "https://stackoverflow.com/users/3393505/siyual"}, "edited": false, "score": 0, "creation_date": 1448484152, "post_id": 33925517, "comment_id": 55612977, "body": "I couldn&#39;t make a comment on the post, but now I can."}], "tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1448541575, "last_edit_date": 1448541575, "creation_date": 1448482061, "answer_id": 33925517, "question_id": 33925339, "link": "https://stackoverflow.com/questions/33925339/iterate-cyclically-over-an-iterable-only-once/33925517#33925517", "title": "iterate &quot;cyclically&quot; over an iterable only once", "body": "<p>Could you explain what you're asking a bit better.\nWhat do you mean with <code>cycle</code> and <code>only once</code>?</p>\n\n<p>Isn't that just a <code>for item in list: do someting with item</code>?</p>\n\n<p>EDIT: what I understood about the problem, was that you want to iterate over all the items starting from any index.\nIf so, then:</p>\n\n<pre><code>lista = range(10)\nidx = 5\nfor item in lista[idx:]+lista[:idx]:\n    print item\n</code></pre>\n\n<p>Another Edit: \u00bfdid I get the question right?\nIf what you're asking is stopping at the first item, then you just have iterate on the iterator for the remaining items (and maybe then rebuild the iterator?).</p>\n\n<pre><code>points = [1,3,5,7,9]\niterator = iter(points)\n\niterator.next()        #Let's remove a couple of items\niterator.next()        #Let's remove a couple of items\n\nfor item in iterator:\n    print(item)\n\niterator = iter(points)\n</code></pre>\n"}], "owner": {"reputation": 2015, "user_id": 611873, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/UsO0s.jpg?s=128&g=1", "display_name": "aaragon", "link": "https://stackoverflow.com/users/611873/aaragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1448546171, "creation_date": 1448481377, "last_edit_date": 1495540318, "question_id": 33925339, "link": "https://stackoverflow.com/questions/33925339/iterate-cyclically-over-an-iterable-only-once", "title": "iterate &quot;cyclically&quot; over an iterable only once", "body": "<p>I would like to iterate cyclically over a list (or any other iterable for that matter), and I know you can do this with the <code>cycle</code> function from <code>itertools</code> (as shown <a href=\"https://stackoverflow.com/questions/8951020/pythonic-circular-list\">here</a>), but this function loops indefinitely. I was wondering if there's a smart way to do this only once (and without using the modulo operator). </p>\n\n<p>What I mean is that I would like to iterate over an iterable in such a way that the last item is the first one. So I would like to start iterating and stop whenever the iterator reaches the beginning of the iterable.</p>\n\n<p>Something like this but less ugly:</p>\n\n<pre><code>points = [1, 2, 3, 4, 5]\nstart = points[0]\niterator = cycle(points)\n\np = next(iterator)\nwhile True:\n    print(p)\n    p = next(iterator)\n    if p == start:\n        print(\"quitting at\", p)\n        break\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 695, "user_id": 3768736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca67926dc2202857d49078f98c8a6eec?s=128&d=identicon&r=PG", "display_name": "fabianvf", "link": "https://stackoverflow.com/users/3768736/fabianvf"}, "edited": false, "score": 2, "creation_date": 1448481509, "post_id": 33925323, "comment_id": 55611642, "body": "It looks like your indentation is a bit messed up. The haversine function should also take <code>self</code> as its first parameter, as it is a class method. You should also call haversine with <code>self.haversine</code>"}, {"owner": {"reputation": 112, "user_id": 5508702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bc27708f845d1dee8f94fdbe6d45547c?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Del Toro", "link": "https://stackoverflow.com/users/5508702/marco-del-toro"}, "edited": false, "score": 0, "creation_date": 1448481663, "post_id": 33925323, "comment_id": 55611709, "body": "Thanks why i need it to call it from self. ?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448482076, "post_id": 33925323, "comment_id": 55611907, "body": "Because it won&#39;t be found otherwise, as you have discovered already."}], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 5458001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PZ2Wy.png?s=128&g=1", "display_name": "Damian Chrzanowski", "link": "https://stackoverflow.com/users/5458001/damian-chrzanowski"}, "is_accepted": true, "score": 0, "last_activity_date": 1448482514, "creation_date": 1448482514, "answer_id": 33925662, "question_id": 33925323, "link": "https://stackoverflow.com/questions/33925323/why-my-method-doesnt-call-the-another-one-undefined-variable/33925662#33925662", "title": "Why my method doesn&#39;t call the another one (undefined variable)", "body": "<p>Line:</p>\n\n<pre><code>def haversine(lat1, lng1, lat2, lng2):\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>def haversine(self, lat1, lng1, lat2, lng2):\n</code></pre>\n\n<p>and line:</p>\n\n<pre><code>x = haversine(d_route.origin_lat,d_route.origin_lng, route.origin_lat, route.origin_lng )\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>x = self.haversine(d_route.origin_lat,d_route.origin_lng, route.origin_lat, route.origin_lng )\n</code></pre>\n\n<p>that is because they both live inside of the <code>Class</code> also all of the functions should be indented into the <code>Class</code>. Not sure if it is pasted incorrectly or does it actually look like that in the .py file.</p>\n"}, {"tags": [], "owner": {"reputation": 1528, "user_id": 5469286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtEk8.jpg?s=128&g=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/5469286/noah"}, "is_accepted": false, "score": 0, "last_activity_date": 1448484504, "creation_date": 1448484504, "answer_id": 33926150, "question_id": 33925323, "link": "https://stackoverflow.com/questions/33925323/why-my-method-doesnt-call-the-another-one-undefined-variable/33926150#33926150", "title": "Why my method doesn&#39;t call the another one (undefined variable)", "body": "<p>You have declared the <code>haversine</code> function inside of the <code>GetRide</code> class. Declaring it inside of the class makes it an instance methods of the class. Instance methods must be called from an instance of the class.</p>\n\n<pre><code># Call it directly from a `GetRide` instance\nmy_get_ride = GetRide() # create an instance of the class\nmy_get_ride.haversine(lat1, lng1, lat2, lng2) # call it from the instance\n\n# Or call it from within another method of `GetRide` from self\ndef get(self, ...):\n    self.haversine(...)\n</code></pre>\n\n<p>Given that you have not declared <code>haversine</code> with a <code>self</code> parameter, both of these calls would give this error:</p>\n\n<pre><code>TypeError: haversine() takes exactly 4 arguments (5 given)\n</code></pre>\n\n<p>It says that you gave it 5 because python will automatically pass in the instance as the first parameter before <code>lat1</code>. What really happens is this:</p>\n\n<pre><code>haversine(my_get_ride, lat1, lng1, lat2, lng2)\n</code></pre>\n\n<p>You can correct this by updating your haversine method to take a first parameter of <code>self</code> as you have done with the <code>get</code> method and then from the <code>get</code> method you must call <code>haversine</code> from `self.</p>\n\n<pre><code>def haversine(self, lat1, lng1, lat2, lng2):\n    # method body\n\ndef get(self, request, route_id):\n    # first part of method body\n        x = self.haversine(d_route.origin_lat,d_route.origin_lng, route.origin_lat, route.origin_lng )\n    # second part of method body\n</code></pre>\n\n<hr>\n\n<p>Alternatively, if you do not wish to include <code>haversine</code> in the <code>GetRide</code> class you can declare it outside of the class within the same file either before or after the <code>GetRide</code> class definition.</p>\n\n<pre><code># here it is defined outside of the class\ndef haversine(lat1, lng1, lat2, lng2):\n    # method body\n\nclass GetRide(APIView):\n    # other code\n    def get(self, request, route_id):\n        # method body\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 5508702, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bc27708f845d1dee8f94fdbe6d45547c?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Del Toro", "link": "https://stackoverflow.com/users/5508702/marco-del-toro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 33925662, "answer_count": 2, "score": -2, "last_activity_date": 1448484537, "creation_date": 1448481330, "last_edit_date": 1448484537, "question_id": 33925323, "link": "https://stackoverflow.com/questions/33925323/why-my-method-doesnt-call-the-another-one-undefined-variable", "title": "Why my method doesn&#39;t call the another one (undefined variable)", "body": "<p>Hi I tried a lot and I don't know why when i want to save <code>haversine()</code> on x gives me the following error:  <code>undefined Variable Haversine</code>. The only way it works it's when I put haversine function inside  get funct</p>\n\n<pre><code>class GetRide(APIView):\n    authentication_classes = (TokenAuthentication,)    \n    permission_classes = (IsAuthenticated,)     \n\n\ndef haversine(lat1, lng1, lat2, lng2):\n    \"\"\"\n    Calculate the great circle distance between two points \n    on the earth (specified in decimal degrees)\n    \"\"\"\n    # convert decimal degrees to radians \n    lng1, lat1, lng2, lat2 = map(radians, [lng1, lat1, lng2, lat2])\n\n    # haversine formula \n    dlng = lng2 - lng1 \n    dlat = lat2 - lat1 \n    a = sin(dlat/2)**2 + cos(lat1) * cos(lat2) * sin(dlng/2)**2\n    c = 2 * asin(sqrt(a)) \n    km = 6367 * c\n    return km\n\n\ndef get(self, request, route_id):\n\n    d_route = Route.objects.get(id=route_id)\n    p_routes = Route.objects.all()\n\n    for route in p_routes:\n        x = haversine(d_route.origin_lat,d_route.origin_lng, route.origin_lat, route.origin_lng )\n        if ( x &lt; 3):\n            new_route = 0\n    return Response(new_route,status=status.HTTP_200_OK)\n</code></pre>\n"}, {"tags": ["python", "neural-network", "theano"], "answers": [{"tags": [], "owner": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "is_accepted": true, "score": 4, "last_activity_date": 1448525407, "creation_date": 1448525407, "answer_id": 33933424, "question_id": 33925274, "link": "https://stackoverflow.com/questions/33925274/theano-this-shared-variable-already-has-an-update-expression/33933424#33933424", "title": "Theano: this shared variable already has an update expression", "body": "<p>As explained in <a href=\"https://groups.google.com/forum/m/#!topic/theano-users/L6Efhjj4YOE\" rel=\"nofollow\">this thread</a> on the theano-users mailing list...</p>\n\n<p>You need to chain the <code>set_subtensor</code>s so that you only end up with a single entry for the whole tensor in the updates list.</p>\n\n<p>For example (code not like original because original does not actually include set_subtensor anywhere):</p>\n\n<pre><code>new_w = self.W\nnew_W = theano.tensor.set_subtensor(new_W[0], -1)\nnew_W = theano.tensor.set_subtensor(new_W[1], -2)\nupdates = [(self.W, new_W)]\ntrain = theano.function(inputs=[index], outputs=[cost], updates=updates)\n</code></pre>\n"}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 33933424, "answer_count": 1, "score": 2, "last_activity_date": 1448525407, "creation_date": 1448481096, "last_edit_date": 1495535486, "question_id": 33925274, "link": "https://stackoverflow.com/questions/33925274/theano-this-shared-variable-already-has-an-update-expression", "title": "Theano: this shared variable already has an update expression", "body": "<p>Is there any way to define more than one update on the same share variable when calling <code>theano.function()</code>?</p>\n\n<p>Example:</p>\n\n<pre><code>updates = []\nupdates.append([(self.W, self.W - 1)])\nupdates.append([(self.W, self.W - 2)])\ntrain = th.function(inputs=[index], outputs=[cost], updates=updates)\n</code></pre>\n\n<p>will throw the error <code>this shared variable already has an update expression</code>:</p>\n\n<pre><code>ignore_bug_before` to at least \"0.7\".\n\u00a0 tolerate_inplace_aliasing=tolerate_inplace_aliasing)\nTraceback (most recent call last):\n\u00a0 File \"ae.py\", line 340, in &lt;module&gt;\n\u00a0 \u00a0 main()\n\u00a0 File \"ae.py\", line 315, in main\n\u00a0 \u00a0 ae.train(n_epochs=n_epochs, mini_batch_size=100, learning_rate=0.002, train_data= train_sentence_embeddings, test_data= test_sentence_embeddings)\n\u00a0 File \"ae.py\", line 97, in train\n\u00a0 \u00a0 givens={x:self.X[index:index+mini_batch_size,:]})\n\u00a0 File \"/usr/local/lib/python2.7/dist-packages/theano/compile/function.py\", line 266, in function\n\u00a0 \u00a0 profile=profile)\n\u00a0 File \"/usr/local/lib/python2.7/dist-packages/theano/compile/pfunc.py\", line 489, in pfunc\n\u00a0 \u00a0 no_default_updates=no_default_updates)\n\u00a0 File \"/usr/local/lib/python2.7/dist-packages/theano/compile/pfunc.py\", line 198, in rebuild_collect_shared\n\u00a0 \u00a0 (store_into, update_d[store_into]))\nValueError: ('this shared variable already has an update expression', (W, DimShuffle{1,0}.0))\n</code></pre>\n\n<p>I was interested in doing so as I have weight matrix that I need to update in such a way that different parts of it has a different update (which I do it using <a href=\"https://stackoverflow.com/q/33921398/395857\"><code>set_subtensor</code></a>).</p>\n"}, {"tags": ["python", "sqlite", "jinja2", "web.py"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1448481367, "post_id": 33925242, "comment_id": 55611567, "body": "This is pretty much the fundamental thing that a web framework does. However you haven&#39;t told us what web framework you are using. I suggest you go and read the documentation for that framework and see how it manages URLs."}], "answers": [{"tags": [], "owner": {"reputation": 1925, "user_id": 4724196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEYTj.jpg?s=128&g=1", "display_name": "HassenPy", "link": "https://stackoverflow.com/users/4724196/hassenpy"}, "is_accepted": true, "score": 0, "last_activity_date": 1448483968, "creation_date": 1448483968, "answer_id": 33926022, "question_id": 33925242, "link": "https://stackoverflow.com/questions/33925242/passing-variables-from-jinja-to-database/33926022#33926022", "title": "Passing variables from Jinja to database", "body": "<p>simply put:</p>\n\n<pre><code>urls = (('/([0-9]*)', 'view_item'),)\n</code></pre>\n\n<p>[0-9]* will tell webpy to only accept numbers after the \"/\".<br>\nThen you can use that value in your GET function, it will be under itemID as you specified in your GET parameter.</p>\n\n<pre><code>class view_item:\n    def GET(self, itemID):\n        item_info = sqlitedb.detailInfo(itemID)\n        return render_template('view_item.html', item = item_info)\n</code></pre>\n\n<p>check this link for more details:\n<a href=\"http://webpy.org/cookbook/url_handling\" rel=\"nofollow\">http://webpy.org/cookbook/url_handling</a></p>\n"}], "owner": {"reputation": 599, "user_id": 3117494, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f6f6c718c89885ac091ee842d2aed7ef?s=128&d=identicon&r=PG", "display_name": "sokeefe", "link": "https://stackoverflow.com/users/3117494/sokeefe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 33926022, "answer_count": 1, "score": 0, "last_activity_date": 1448483968, "creation_date": 1448480944, "last_edit_date": 1448483167, "question_id": 33925242, "link": "https://stackoverflow.com/questions/33925242/passing-variables-from-jinja-to-database", "title": "Passing variables from Jinja to database", "body": "<p>I'm trying to figure out a way to pass a dynamic URL with webpy that will render a Jinja template with information about the information that was passed. Specifically I have a item database that should be able to take whatever item ID is in the URL and render a template with further information about that item. </p>\n\n<p>To simply the problem, I've hardcoded the value 1043374545 for demonstrations purposes, but I'm hoping that this line will be come dynamic once this initial problem is solved. </p>\n\n<pre><code>urls = ('/1043374545', 'view_item')\n\nclass view_item:\n    def GET(self, itemID):\n        item_info = sqlitedb.detailInfo(request)\n        return render_template('view_item.html', item = item_info)\n</code></pre>\n\n<p>As of now I isolated the issue to having to do with something related to passing the value 1043374545 into the view_item function. Any thoughts on how I can pass a dynamic number within a URL into view_item?</p>\n"}, {"tags": ["python", "csv", "field"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1448481144, "post_id": 33925220, "comment_id": 55611483, "body": "Could you please provide the error message you got?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448482088, "post_id": 33925402, "comment_id": 55611912, "body": "now shows me this error: reader = csv.reader(f1, newline=&#39;&#39;, lineterminator=&#39;\\n&#39;) TypeError: &#39;newline&#39; is an invalid keyword argument for this function"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448482177, "post_id": 33925402, "comment_id": 55611972, "body": "@NellyBrili, I removed all the keywords, <code>newline=&quot;&quot;</code> would  be used with open not csv.writer, the code as is should work fine"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448493050, "post_id": 33925402, "comment_id": 55617059, "body": "It&#39;s almost done! but now throws me the following error: writer.writerows([a] + b for a,b  in zip(reader, total_score)) TypeError: zip argument #2 must support iteration"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448493618, "post_id": 33925402, "comment_id": 55617255, "body": "total score is the result of an equalization. Each line have words, each word have a sentiment, so total score is the sum of that sentiment. total_score=total_score+(pos_sentiment - neg_sentiment)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448493923, "post_id": 33925402, "comment_id": 55617339, "body": "So a calculation based on existing values from each row? If so you will need to replace the [b] in the code with [your_calculation]"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448494239, "post_id": 33925402, "comment_id": 55617454, "body": "OK,  easiest thing might be to add a snippet of the file and your logic for the calculation and I can edit my answer to incorporate it. If total score is a calculation you would need to forget zipping and just use the reader object in the loop, create the b value based on your calculation"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448494292, "post_id": 33925402, "comment_id": 55617470, "body": "It shows the same error :( OK i add a snippet above"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448494492, "post_id": 33925402, "comment_id": 55617545, "body": "It errors because zip needs a list or some other iterable,  you need to forget zip, total_score  and add in the calculation for (pos_sentiment - neg_sentiment)."}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448495077, "post_id": 33925402, "comment_id": 55617720, "body": "hm.... yes but i think that i need total score. Because i compare 2 files and if i find the word i increase or or not the total_score of each row. Could you please have a look at the snippet bellow? I really appreciate your help!!! :)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448495203, "post_id": 33925402, "comment_id": 55617756, "body": "No prob, if you edit the code into your question it will be better, looking at your code initially there are quite a few issues, I will throw something together in a minute. Just one question, why are you keeping a running total?"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448495849, "post_id": 33925402, "comment_id": 55617947, "body": "ok. Done! i didnt know that. I keep it because i want to train a naive bayesian classifier due to this issue"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448496135, "post_id": 33925402, "comment_id": 55618016, "body": "Ok, this code should be closer to what you want <a href=\"http://pastebin.com/YyXMwrnQ\" rel=\"nofollow noreferrer\">pastebin.com/YyXMwrnQ</a> without knowing how your data is structured and what exactly you are trying to do it is impossible to do much more but almost certainly your code could be a lot more efficient, as it stands it is quadratic and for large input would take a while to complete. Just so you know, when you iterate over  file object once it is exhausted so in your own code after the first <code>for line in f:</code> you never did another pass over it"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448496800, "post_id": 33925402, "comment_id": 55618176, "body": "I think that this is exactly what i need!!!!! Thank you very very very much for your help and for your time!!!!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448496970, "post_id": 33925402, "comment_id": 55618224, "body": "No problem, like I said there are no doubt ways to greatly reduce the complexity but without seeing data and expected output it is hard to say exactly how but hopefully this will get you started at least :)"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448626209, "post_id": 33925402, "comment_id": 55671868, "body": "Hi, i have another problem. One of these 3 columns includes commas that break the CSV format. Do you know how can i fix that using python?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448642850, "post_id": 33925402, "comment_id": 55680904, "body": "@NellyBrili, add a link to the data if possible"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448671801, "post_id": 33925402, "comment_id": 55690614, "body": "hi, i want to ask you sthn else, about python and encoding. Could you please help me?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448704274, "post_id": 33925402, "comment_id": 55696541, "body": "What is your question?"}, {"owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "edited": false, "score": 0, "creation_date": 1448886260, "post_id": 33925402, "comment_id": 55752596, "body": "this is my question: <a href=\"http://stackoverflow.com/questions/33998597/mongodb-input-and-output\" title=\"mongodb input and output\">stackoverflow.com/questions/33998597/mongodb-input-and-outpu&zwnj;&#8203;t</a>"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1448494100, "last_edit_date": 1448494100, "creation_date": 1448481625, "answer_id": 33925402, "question_id": 33925220, "link": "https://stackoverflow.com/questions/33925220/add-a-column-to-a-csv-using-python/33925402#33925402", "title": "Add a column to a CSV using Python", "body": "<p>You are missing a closing paren at <code>writer.writerow(next(reader) + ['Total score'] &lt;-</code>, also remove the set literal just <code>zip(reader, total_score)</code></p>\n\n<p>I presume <code>writer.writerow(line + total_score)</code> should be <code>writer.writerow(line + [val])</code> which means you can simplify the process by using <code>writerows</code> using the result of zipping once <code>total_score</code> is defined and an iterable the same length as the number of rows in the file originally:</p>\n\n<pre><code>with open(filepathIntro, newline='') as f1, open('semevalSenti.csv',newline='', 'w') as fout:\n        reader = csv.reader(f1)\n        writer = csv.writer(fout)\n        writer.writerow(next(reader) + ['Total score'])\n        writer.writerows(a + [b] for a,b  in zip(reader, total_score)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5581186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6IaAsO9lh2w/AAAAAAAAAAI/AAAAAAAAAFQ/j83hthLkc7g/photo.jpg?sz=128", "display_name": "Nelly Brili", "link": "https://stackoverflow.com/users/5581186/nelly-brili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 33925402, "answer_count": 1, "score": 0, "last_activity_date": 1448495783, "creation_date": 1448480871, "last_edit_date": 1448495783, "question_id": 33925220, "link": "https://stackoverflow.com/questions/33925220/add-a-column-to-a-csv-using-python", "title": "Add a column to a CSV using Python", "body": "<p>I have a CSV file, which looks like this:</p>\n\n<pre><code>id,text,initial_score\n1,\"Today's news: Democrats offer Republicans everything they asked for; Republicans demand more. Not hard to understand: R's want a shutdown.\",0\n</code></pre>\n\n<p>I want to create a new file, which include the same fields and add a new field as a column. The new field will be a result of an equalization.I used the following code but there is a syntax error:</p>\n\n<pre><code>f1 = open(filepathIntro)\nf = open(filepath)\nfor line in f1:\n\n    cols = split_line(line)\n    words1 = get_tweet_words(cols)\n    total_score = 0\n    for w1 in words1:\n        for line in f:\n            if not line.startswith(\"#\"):\n                cols = split_line(line)\n                words2 = get_words(cols)\n                for w2 in words2:\n                    if w1 == w2:\n                        posnum = float(get_positive(cols))\n                        negnum = float(get_negative(cols))\n                        total_score = total_score + (posnum - negnum)\n\n    with open(filepathIntro, 'r') as f1, open('semevalSenti.csv', 'w+' ) as fout:\n        reader = csv.reader(f1)\n        writer = csv.writer(fout)\n        writer.writerow(next(reader) + ['Total score'])\n        writer.writerows([reader] + float(total_score) )\n</code></pre>\n\n<p>The message error is:</p>\n\n<pre><code>writer.writerows([a] + total_score for a,total_score  in zip(reader,total_score)) TypeError: zip argument #2 must support iteration\n</code></pre>\n\n<p>Could you please help me? Thanks in advance!!!!!!</p>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1448480736, "post_id": 33925170, "comment_id": 55611284, "body": "where is newD coming from? Also newJuvs,NBR  and birthRate? I think a tutorial would be a good start <a href=\"http://anandology.com/python-practice-book/\" rel=\"nofollow noreferrer\">anandology.com/python-practice-book</a>"}, {"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1448480865, "post_id": 33925170, "comment_id": 55611337, "body": "Since <code>newAd</code> is undefined, you should provide more code to show where this should be defined."}], "answers": [{"tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 0, "last_activity_date": 1448481769, "creation_date": 1448481769, "answer_id": 33925449, "question_id": 33925170, "link": "https://stackoverflow.com/questions/33925170/how-to-make-a-2d-array-in-python-with-variables/33925449#33925449", "title": "How to make a 2D array in python with variables", "body": "<p>The error is telling you you haven't defined newAd (you also haven't defined newJuvs in this example).\nOnce it's created, you'll be able to append it to your list.</p>\n"}], "owner": {"reputation": 1, "user_id": 5605767, "user_type": "registered", "profile_image": "https://graph.facebook.com/533440743501088/picture?type=large", "display_name": "Thomas Ayling", "link": "https://stackoverflow.com/users/5605767/thomas-ayling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1448481769, "creation_date": 1448480690, "last_edit_date": 1448481005, "question_id": 33925170, "link": "https://stackoverflow.com/questions/33925170/how-to-make-a-2d-array-in-python-with-variables", "title": "How to make a 2D array in python with variables", "body": "<p>I have been tasked to create a generation model for school, and I need to set two variables, each referencing each other. This is what I have got so far:</p>\n\n<pre><code>global Gen\nNBR = 0\nGen = 0\nprint (\"You have chosen option 3, Run The Model.\")\n#adults*birthrate\nfor i in range (newGensToModel):\n    NBR += 1\n    Gen += 1\n    #Unrelated  newSen = gen0Sen * survRate\n\n\nelements = []\n\nelements.append([])\nelements.append([])\n\nelements[0].append(newAd[int(newJuvs)])\nelements[0].append(newJuvs[int(newAd * NBR * birthRate)])\n\n\nprint(elements[0][0])\n\nfor row in elements:\n    for column in row:\n        print(column, end=\"\")\n    print(end=\"\\n\")\n</code></pre>\n\n<p>This gives the error:</p>\n\n<pre><code>elements[0].append(newAd[int(newJuvs)], newJuvs[int(newAd * NBR * birthRate)])\nNameError: name 'newAd' is not defined\n</code></pre>\n\n<p>Basically, all I want to know, is how do I make newAd a variable in the 2D array.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "rename", "series"], "comments": [{"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1448480851, "post_id": 33925154, "comment_id": 55611326, "body": "My pandas version is: &#39;0.14.1&#39;"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1448480902, "post_id": 33925154, "comment_id": 55611349, "body": "The current version is 0.17.1.  Could you upgrade and try again?"}, {"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1448481006, "post_id": 33925154, "comment_id": 55611414, "body": "I&#39;m not sure I can upgrade. The company has built a lot of architecture on top of pandas 0.14.1 and it&#39;s likely that the upgrade will break a lot of it. Is there no work around for this current version? I&#39;ll have a read of the version notes."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1448481115, "post_id": 33925154, "comment_id": 55611465, "body": "Probably, but unfortunately since I can&#39;t reproduce the problem I can&#39;t test whether anything I might suggest works.  Hopefully someone else can help."}, {"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1448481597, "post_id": 33925154, "comment_id": 55611679, "body": "Okay well thanks @DSM, I&#39;ll look into updating"}], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "edited": false, "score": 0, "creation_date": 1448482353, "post_id": 33925418, "comment_id": 55612062, "body": "True. I guess the workaround would thus be: df.index = [(1,2) if x==1 else x for x in df.index] as that was just sample data, it&#39;s actually a large dataset with many repeated elements. However, this work around will destroy performance :("}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "edited": false, "score": 0, "creation_date": 1448484145, "post_id": 33925418, "comment_id": 55612971, "body": "Are you sure it will destroy performance?  Have you timed it?"}, {"owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "edited": false, "score": 0, "creation_date": 1448524086, "post_id": 33925418, "comment_id": 55626229, "body": "Aren&#39;t indexes hashed? So if you convert the indexes to an array, then loop through changing them then reinserts, won&#39;t that ruin the fact that they were hashed?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "edited": false, "score": 0, "creation_date": 1448554669, "post_id": 33925418, "comment_id": 55645257, "body": "I believe the hash table is rebuilt when you replace the index. Have a look at the timing comparisons in my edit."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1448555374, "last_edit_date": 1448555374, "creation_date": 1448481698, "answer_id": 33925418, "question_id": 33925154, "link": "https://stackoverflow.com/questions/33925154/rename-index-of-panda-series-dataframe/33925418#33925418", "title": "Rename index of Panda Series/DataFrame", "body": "<p>I'm not sure why it can't be done using <code>rename</code>, but you can create integer or float tuples in a list and then assign the result to the index.</p>\n\n<p>This works in Pandas 0.14.1:</p>\n\n<pre><code>idx = [(1, 2), 2, 3, 4, 5]\ndf.index = idx\n&gt;&gt;&gt; df\n        b\n(1, 2)  1\n2       1\n3       1\n4       1\n5       1\n</code></pre>\n\n<p><strong>EDIT</strong>\nHere are some timing comparisons with a 500k row dataframe.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame({'a': [1,2,3,4,5]*100000, 'b':[1,1,1,1,1,]*100000})\n# Create 100k random numbers in the range of the index.\nrn = np.random.random_integers(0, 499999, 100000)\n\n# Normal lookup using `loc`.\n&gt;&gt;&gt; %%timeit -n 3 some_list = []\n    [some_list.append(df.loc[a]) for a in rn]\n3 loops, best of 3: 6.63 s per loop\n\n# Normal lookup using 'xs' (used only for getting values, not setting them).\n&gt;&gt;&gt; %%timeit -n 3 some_list = []\n    [some_list.append(df.xs(a)) for a in rn]\n3 loops, best of 3: 4.46 s per loop \n\n# Set the index to tuple pairs and lookup using 'xs'.\nidx = [(a, a + 1) for a in np.arange(500000)]\ndf.index = idx\n&gt;&gt;&gt; %%timeit -n 3 some_list = []\n    [some_list.append(df.xs((a, a + 1))) for a in rn]\n3 loops, best of 3: 4.64 s per loop\n</code></pre>\n\n<p>As you can see, the difference in performance is negligible when looking up values from the dataframe.</p>\n\n<p>Note that you cannot use 'loc' with the tuple index:</p>\n\n<pre><code>&gt;&gt;&gt; df.loc[(1, 2)]\nKeyError: 'the label [1] is not in the [index]'\n</code></pre>\n"}], "owner": {"reputation": 3629, "user_id": 1744107, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/91748b7203b0ef849403e8099da4528f?s=128&d=identicon&r=PG", "display_name": "Rambatino", "link": "https://stackoverflow.com/users/1744107/rambatino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 1, "accepted_answer_id": 33925418, "answer_count": 1, "score": 3, "last_activity_date": 1448555374, "creation_date": 1448480613, "question_id": 33925154, "link": "https://stackoverflow.com/questions/33925154/rename-index-of-panda-series-dataframe", "title": "Rename index of Panda Series/DataFrame", "body": "<p>Why am I able to rename a row in a panda Series with ('a','b') but not (1.0, 2.0). Why does the type of value in the tuple matter?</p>\n\n<pre><code>df = pd.DataFrame({'a': [1,2,3,4,5], 'b':[1,1,1,1,1,]}).set_index('a')\n\ndf.rename(index={1:(1,2)})\n*** ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\ndf.rename(index={1:('1','2')})\n        b\na\n(1, 2)  1\n2       1\n3       1\n4       1\n5       1\n</code></pre>\n\n<p>I'd very much like to be able to keep that as integers/floats.</p>\n"}, {"tags": ["python", "django", "django-models", "django-views", "django-generic-views"], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 5565210, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7e05e14ec0fde5b6e79a60ac6786b9ec?s=128&d=identicon&r=PG&f=1", "display_name": "ollysmall", "link": "https://stackoverflow.com/users/5565210/ollysmall"}, "edited": false, "score": 0, "creation_date": 1448481238, "post_id": 33925255, "comment_id": 55611520, "body": "omg what a stupid mistake, I had copied and pasted to save time when I started and forgot to change it :-S. THANK YOU!"}], "tags": [], "owner": {"reputation": 211, "user_id": 4959111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/febVu.png?s=128&g=1", "display_name": "Aram", "link": "https://stackoverflow.com/users/4959111/aram"}, "is_accepted": true, "score": 0, "last_activity_date": 1448481016, "creation_date": 1448481016, "answer_id": 33925255, "question_id": 33925134, "link": "https://stackoverflow.com/questions/33925134/deleteview-doesnt-delete-and-just-refreshes-the-delete-page/33925255#33925255", "title": "DeleteView doesn&#39;t delete and just refreshes the delete page", "body": "<p>You must use DeleteView not UpdateView.\n<a href=\"https://docs.djangoproject.com/en/1.8/ref/class-based-views/generic-editing/#django.views.generic.edit.DeleteView\" rel=\"nofollow\">See here.</a></p>\n"}], "owner": {"reputation": 495, "user_id": 5565210, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7e05e14ec0fde5b6e79a60ac6786b9ec?s=128&d=identicon&r=PG&f=1", "display_name": "ollysmall", "link": "https://stackoverflow.com/users/5565210/ollysmall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 33925255, "answer_count": 1, "score": 0, "last_activity_date": 1448481016, "creation_date": 1448480542, "question_id": 33925134, "link": "https://stackoverflow.com/questions/33925134/deleteview-doesnt-delete-and-just-refreshes-the-delete-page", "title": "DeleteView doesn&#39;t delete and just refreshes the delete page", "body": "<p>When I click on my delete project link it takes me to my delete page with a button to click which should delete the model data of the project and then take me to the profile page. However when I click the delete button, the page just refreshes and no data gets deleted?!\nWhat am I doing wrong here? Any help would be much appreciated :-)</p>\n\n<p>Views</p>\n\n<pre><code>class DeleteProject(UpdateView):\n    model = UserProject\n    template_name = 'howdidu/delete_project.html'\n\n    def get_object(self, queryset=None):\n        obj = super(DeleteProject, self).get_object()\n        if not obj.user == self.request.user:\n            raise Http404\n        return obj\n\n    def get_success_url(self):\n        project_username = self.request.user.username\n        #project_slug = self.object.slug\n        return reverse('user_profile', kwargs={'username':project_username})\n</code></pre>\n\n<p>delete_project.html template</p>\n\n<pre><code>{% extends 'howdidu/base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}Delete project{% endblock %}\n\n{% block body_block %}\n\n        &lt;h1&gt;Delete project&lt;/h1&gt;\n\n        &lt;form method=\"post\"&gt;{% csrf_token %}\n        &lt;p&gt;Are you sure you want to delete \"{{ userproject.title }}\"?&lt;/p&gt;\n        &lt;input type=\"submit\" value=\"Confirm\" /&gt;\n        &lt;/form&gt;\n\n{% endblock %}\n</code></pre>\n\n<p>Urls</p>\n\n<pre><code>urlpatterns = patterns('',\n        url(r'^$', views.index, name='index'),\n        url(r'^register_profile/$', views.register_profile, name='register_profile'),\n        url(r'^update_profile/$', views.update_profile, name='update_profile'),\n        url(r'^create_project/$', login_required(views.CreateProject.as_view()), name='create_project'),\n        url(r'^(?P&lt;username&gt;\\w+)/(?P&lt;slug&gt;[-\\w]+)/update_project/$', login_required(views.UpdateProject.as_view()), name='update_project'),\n        url(r'^(?P&lt;username&gt;\\w+)/(?P&lt;slug&gt;[-\\w]+)/delete_project/$', login_required(views.DeleteProject.as_view()), name='delete_project'),\n        url(r'^(?P&lt;username&gt;\\w+)/$', views.profile_page, name='user_profile'),\n        url(r'^(?P&lt;username&gt;\\w+)/(?P&lt;slug&gt;[-\\w]+)/$', views.project_page, name='user_project'),\n\n        )\n</code></pre>\n\n<p>Project.html template which has the delete link on</p>\n\n<pre><code>{% extends 'howdidu/base.html' %}\n\n{% load staticfiles %}\n\n{% block title %}Project{% endblock %}\n\n{% block body_block %}\n\n        {% if project %}\n\n        &lt;h1&gt;{{ project.title }}&lt;/h1&gt;\n        &lt;img src=\"{{ project.project_picture.url }}\" width = \"300\" height = \"300\"  /&gt;\n        &lt;h3&gt;{{ project.project_overview }}&lt;/h3&gt;\n        {% if user.is_authenticated %}\n        {% if project_user.username == user.username %}\n        &lt;p&gt;&lt;a href=\"{% url 'update_project' project_user.username project.slug %}\"&gt;Edit project&lt;/a&gt;&lt;/p&gt;\n        &lt;p&gt;&lt;a href=\"{% url 'delete_project' project_user.username project.slug %}\"&gt;Delete project&lt;/a&gt;&lt;/p&gt;\n        {% endif %}\n        {% endif %}\n\n\n        {% else %}\n            The specified project {{ project.title }} does not exist!\n        {% endif %}\n\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "math", "sympy"], "comments": [{"owner": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "edited": false, "score": 1, "creation_date": 1448481772, "post_id": 33925079, "comment_id": 55611756, "body": "did you check what is in &#39;x&#39;?"}, {"owner": {"reputation": 1852, "user_id": 3130747, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5b9df374982831838fda1c5abb634781?s=128&d=identicon&r=PG&f=1", "display_name": "baxx", "link": "https://stackoverflow.com/users/3130747/baxx"}, "reply_to_user": {"reputation": 5109, "user_id": 2373748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/moadr.png?s=128&g=1", "display_name": "galaxyan", "link": "https://stackoverflow.com/users/2373748/galaxyan"}, "edited": false, "score": 0, "creation_date": 1448481947, "post_id": 33925079, "comment_id": 55611831, "body": "@galaxyan x is just a symbol - I&#39;ll edit the OP to show this"}], "answers": [{"tags": [], "owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "is_accepted": true, "score": 2, "last_activity_date": 1448482203, "creation_date": 1448482203, "answer_id": 33925563, "question_id": 33925079, "link": "https://stackoverflow.com/questions/33925079/sympy-rationals-express-x-3-6-6/33925563#33925563", "title": "Sympy Rationals - express (x + 3 )**6/ 6", "body": "<p>The type <code>Rational</code> in Sympy represents a rational number, not a polynomial over the rational numbers;  see the <a href=\"http://docs.sympy.org/0.7.1/modules/core.html#rational\" rel=\"nofollow\">documentation</a>.  Simply use division instead:</p>\n\n<pre><code>p = (x + 3) ** 6 / 6\n</code></pre>\n"}], "owner": {"reputation": 1852, "user_id": 3130747, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/5b9df374982831838fda1c5abb634781?s=128&d=identicon&r=PG&f=1", "display_name": "baxx", "link": "https://stackoverflow.com/users/3130747/baxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 33925563, "answer_count": 1, "score": 1, "last_activity_date": 1448482203, "creation_date": 1448480321, "last_edit_date": 1448482023, "question_id": 33925079, "link": "https://stackoverflow.com/questions/33925079/sympy-rationals-express-x-3-6-6", "title": "Sympy Rationals - express (x + 3 )**6/ 6", "body": "<p>I'm not able to do this and I'm not sure why? When I enter:  </p>\n\n<pre><code>x = symbols('x')\nexp = Rational((x+3)**6, 6)\n</code></pre>\n\n<p>I'm given a Type_Error. </p>\n\n<hr>\n\n<p>This stems from trying to integrate <code>(x + 3)**5</code> and expecting the result of  <code>(x+3)**6 / 6</code></p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448483129, "post_id": 33925736, "comment_id": 55612446, "body": "Is there any benefit to sending them in a Queue as opposed to passing them at initialization?"}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "reply_to_user": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448483219, "post_id": 33925736, "comment_id": 55612496, "body": "I don&#39;t think I understand your question? If you spawn processes, they will not have THAT object; what do you mean by &quot;at initialization&quot; then?"}, {"owner": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448483500, "post_id": 33925736, "comment_id": 55612631, "body": "You can pass objects when you create a Process. Either through the args parameter of Process or, if you&#39;re extending Process, through the call to <code>__init__()</code>."}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "reply_to_user": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448483721, "post_id": 33925736, "comment_id": 55612730, "body": "What module you&#39;re using? <code>multiprocessing</code>?"}, {"owner": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448483808, "post_id": 33925736, "comment_id": 55612780, "body": "Yes. Are there other ones? Should I edit my question?"}, {"owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "reply_to_user": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "edited": false, "score": 0, "creation_date": 1448484028, "post_id": 33925736, "comment_id": 55612903, "body": "Sorry, I wasn&#39;t focused on the <i>topic</i> of the question, reading &quot;it spawns&quot; I focused on launching processes in more low level way. Yes, passing this object should work as long as it can be pickled; there are several known flaws in multiprocessing (you can find them in answers here on stackoverflow)."}], "tags": [], "owner": {"reputation": 1113, "user_id": 1426842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GU6Z5.jpg?s=128&g=1", "display_name": "Micha\u0142 Fita", "link": "https://stackoverflow.com/users/1426842/micha%c5%82-fita"}, "is_accepted": false, "score": 0, "last_activity_date": 1448482835, "creation_date": 1448482835, "answer_id": 33925736, "question_id": 33925020, "link": "https://stackoverflow.com/questions/33925020/passing-how-to-pass-multiprocessing-flags-in-python/33925736#33925736", "title": "Passing how to pass multiprocessing flags in Python", "body": "<p>I don't think there is <em>established paradigm</em>. However, I can't advise you a pattern that worked for me in several cases not only in Python, but in Ruby as well.</p>\n\n<p>Don't store flags passed directly in the command line, parse them once and put results into object properties (you can use <code>namedtuple</code>, but it's not always best way, I prefer just my own class).</p>\n\n<p>Then instead of passing all your flags into new processes, ask them to wait for configuration object in a queue and send it as first thing to every started process to hold as its configuration. Such object can be shared in different way, but that would depend on your scenarios.</p>\n\n<p>Other option is to <code>pickle</code> such object and pass it as file to be loaded by every started process, or encode pickling (<code>base64</code> for example) and pass that as a single argument into the <em>command line</em> for new process.</p>\n\n<p>It's hard to describe a single best pattern for your case, not knowing exactly how your code is shaped, how much is shared, etc.</p>\n"}], "owner": {"reputation": 544, "user_id": 2479672, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zr45j.png?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2479672/ric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 759, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1448484163, "creation_date": 1448480100, "last_edit_date": 1448484163, "question_id": 33925020, "link": "https://stackoverflow.com/questions/33925020/passing-how-to-pass-multiprocessing-flags-in-python", "title": "Passing how to pass multiprocessing flags in Python", "body": "<p>I have a somewhat large Python program. Running it spawns multiple Processes (<code>multiprocessing.Process</code>) that communicate over various Events and Queues. I also have a growing number of command line flags (handled with argparse) that change various data paths or execution of the Processes. </p>\n\n<p>Currently I put all the flags in a list and pass the list to each Processes when I create them. Not every Process uses every flag, but this approach means I just have to update the affected Processes when I add or remove a flag. However, this gets complicated as I have to remember where in each list each flag is and the different default values. I've considered making a named tuple to handle these flags or just passing the ArgumentParser.</p>\n\n<p>Is these some established paradigm or Pythonic way to handle this sort of situation?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4278356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8c6a8381d88f38e8712125bffb82108?s=128&d=identicon&r=PG&f=1", "display_name": "userE", "link": "https://stackoverflow.com/users/4278356/usere"}, "reply_to_user": {"reputation": 345, "user_id": 5405545, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c6e4448535797474bdc7478aff83e222?s=128&d=identicon&r=PG&f=1", "display_name": "M Arroyo", "link": "https://stackoverflow.com/users/5405545/m-arroyo"}, "edited": false, "score": 0, "creation_date": 1448551417, "post_id": 33925909, "comment_id": 55643236, "body": "If I understand correctly, the states can have unlimited amounts of &quot;bads&quot; and &quot;goods&quot;, right? Since I don&#39;t have access to your data, I can test the idea that I have, so it probably won&#39;t wrong, but try <code>df.groupby(&quot;astatus&quot;).apply((lambda x: (sum(x==&#39;good&#39;)&#47;sum(x==&quot;bad&quot;))))</code>. If you provide a small dataset, I will give it another try."}], "tags": [], "owner": {"reputation": 61, "user_id": 4278356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8c6a8381d88f38e8712125bffb82108?s=128&d=identicon&r=PG&f=1", "display_name": "userE", "link": "https://stackoverflow.com/users/4278356/usere"}, "is_accepted": false, "score": 0, "last_activity_date": 1448483504, "creation_date": 1448483504, "answer_id": 33925909, "question_id": 33925015, "link": "https://stackoverflow.com/questions/33925015/performing-operations-inside-a-groupby/33925909#33925909", "title": "Performing operations inside a groupby", "body": "<p>You need to provide a bit more information on your data structure. A small testing example would also be very helpful. Otherwise, it's hard to help you properly.\nAs a general idea, you can use <code>apply</code> on your grouped data to take compute the ratio for each state:<code>sum(bads)/sum(goods)</code></p>\n\n<p>But again, without having more details, it's hard to advice anything definite.</p>\n"}], "owner": {"reputation": 345, "user_id": 5405545, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c6e4448535797474bdc7478aff83e222?s=128&d=identicon&r=PG&f=1", "display_name": "M Arroyo", "link": "https://stackoverflow.com/users/5405545/m-arroyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1448489041, "creation_date": 1448480071, "last_edit_date": 1448489041, "question_id": 33925015, "link": "https://stackoverflow.com/questions/33925015/performing-operations-inside-a-groupby", "title": "Performing operations inside a groupby", "body": "<p>I have a groupby where the vertical axis is a account status, \"Good\" and \"Bad\" accounts, and the horizontal axis is State (AK,AZ...etc.) I want to find ratio between good and bad accounts by state but I can't find how to operate on one category (\"Good\") over another(\"Bad\").</p>\n\n<p>Thank you!</p>\n\n<p>More details:</p>\n\n<pre><code>Data(contained in \"df\"):\nastatus   astate\nGood     AK\nBad      AK\nGood     NY\nGood     GA\n</code></pre>\n\n<p>My attempt:</p>\n\n<pre><code>d=df.groupby([astatus', 'astate']).size()\nd=d.unstack('astate')\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>astate        AK    NY   GA\nastatus\nGood          1     1    1\nBad           1     0    0\n</code></pre>\n\n<p>I see that there appears to be a trend in the dataset so I would like to figure out the % of good accounts by state but I'm not sure what the next step is.</p>\n\n<p>Thanks again!</p>\n"}, {"tags": ["python", "python-3.x", "identity"], "comments": [{"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 1, "creation_date": 1448482640, "post_id": 33924950, "comment_id": 55612218, "body": "Interesting question! I think they would have to be, simply because an object of any given type would presumably only be created in one consistent way. Can I cite something saying so? Not yet."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 0, "creation_date": 1448483318, "post_id": 33924950, "comment_id": 55612546, "body": "Since everything is an object in python the classes are &quot;just&quot; instances of their metaclass - why couldn&#39;t we have other instances of the &quot;same&quot; class?  However, I&#39;ve failed in finding an example where importing a class or otherwise binding a name to the class doesn&#39;t just get another reference to the same object."}, {"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 0, "creation_date": 1448483572, "post_id": 33924950, "comment_id": 55612664, "body": "Perhaps it&#39;s just one of those things that happens to be true in a given implementation, but isn&#39;t addressed in the language spec and isn&#39;t guaranteed."}, {"owner": {"reputation": 1817, "user_id": 3124256, "user_type": "registered", "profile_image": "https://graph.facebook.com/835500466/picture?type=large", "display_name": "DylanYoung", "link": "https://stackoverflow.com/users/3124256/dylanyoung"}, "edited": false, "score": 0, "creation_date": 1489591027, "post_id": 33924950, "comment_id": 72739774, "body": "If you import the same class from different import paths, they will exist at two different memory locations, but they will not evaluate identical (i.e. x = type(a) and x == y --&gt;  x is y still holds)."}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1448487612, "post_id": 33926581, "comment_id": 55614680, "body": "Hi!  So the answer seems to be: no, they are not singleton (which would mean the creation of classobjects has to be intercepted).  But their default <code>__eq__</code>, which they get from <code>object</code>, is dumb - even if the classes are generated from identical source code they don&#39;t compare equal.  Is it right?"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1448488396, "post_id": 33926581, "comment_id": 55615075, "body": "Right, the class objects are not instances of some singelton class, they&#39;re just normal instances of the <code>type</code> metatype. Calling <code>type(obj)</code> doesn&#39;t create a new type, it just looks up the type of the instance <code>obj</code> (from obj.__class__`) and returns a reference to that pre-exisiting object."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 5, "last_activity_date": 1448486311, "creation_date": 1448486311, "answer_id": 33926581, "question_id": 33924950, "link": "https://stackoverflow.com/questions/33924950/are-classobjects-singletons/33926581#33926581", "title": "Are classobjects singletons?", "body": "<p>No, there's no way to create two class objects that compare equal without being identical, except by messing around with metaclass <code>__eq__</code> methods.</p>\n\n<p>This behavior though is not something unique to classes. It's the default behavior for any object without an <code>__eq__</code> method defined in its class. The behavior is inherited from <code>object</code>, which is the base class for all other (new-style) classes. It's only overridden for builtin types that have some other semantic for equality (e.g. container types which compare their contents) and for custom classes that define an <code>__eq__</code> operator of their own.</p>\n\n<p>As for getting two different refernces to the same class at different memory locations, that's not really possible due to Python's object semantics. The memory location of the object <em>is</em> its identity (in cpython at least). Another class with identical contents can exist somewhere else, but like in your <code>A1</code> and <code>A2</code> example, it's going to be seen as a different object by all Python logic.</p>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 5, "last_activity_date": 1488396932, "last_edit_date": 1488396932, "creation_date": 1448487071, "answer_id": 33926750, "question_id": 33924950, "link": "https://stackoverflow.com/questions/33924950/are-classobjects-singletons/33926750#33926750", "title": "Are classobjects singletons?", "body": "<p>I'm not aware of any documentation about how <code>==</code> works for types, but it definitely works by identity. You can see that the <a href=\"https://hg.python.org/cpython/file/2.7/Objects/typeobject.c#l632\" rel=\"nofollow noreferrer\">CPython 2.7 implementation</a> is a pointer comparison:</p>\n\n<pre><code>static PyObject*\ntype_richcompare(PyObject *v, PyObject *w, int op)\n{\n    ...\n\n    /* Compare addresses */\n    vv = (Py_uintptr_t)v;\n    ww = (Py_uintptr_t)w;\n    switch (op) {\n    ...\n    case Py_EQ: c = vv == ww; break;\n</code></pre>\n\n<p>In <a href=\"https://hg.python.org/cpython/file/3.5/Objects/typeobject.c#l3294\" rel=\"nofollow noreferrer\">CPython 3.5</a>, <code>type</code> doesn't implement its own <code>tp_richcompare</code>, so it inherits the default equality comparison from <code>object</code>, which is a pointer comparison:</p>\n\n<pre><code>PyTypeObject PyType_Type = {\n    ...\n    0,                                          /* tp_richcompare */\n</code></pre>\n"}], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 2, "accepted_answer_id": 33926581, "answer_count": 2, "score": 12, "last_activity_date": 1488396932, "creation_date": 1448479820, "last_edit_date": 1488395026, "question_id": 33924950, "link": "https://stackoverflow.com/questions/33924950/are-classobjects-singletons", "title": "Are classobjects singletons?", "body": "<p>If we have <code>x = type(a)</code> and <code>x == y</code>, does it necessarily imply that <code>x is y</code>?</p>\n\n<p>Here is a counter-example, but it's a cheat:</p>\n\n<pre><code>&gt;&gt;&gt; class BrokenEq(type):\n...     def __eq__(cls, other):\n...         return True\n...     \n&gt;&gt;&gt; class A(metaclass=BrokenEq):\n...     pass\n... \n&gt;&gt;&gt; a = A()\n&gt;&gt;&gt; x = type(a)\n&gt;&gt;&gt; x == A, x is A\n(True, True)\n&gt;&gt;&gt; x == BrokenEq, x is BrokenEq\n(True, False)\n</code></pre>\n\n<p>And I could not create a counterexample like this:</p>\n\n<pre><code>&gt;&gt;&gt; A1 = type('A', (), {})\n&gt;&gt;&gt; A2 = type('A', (), {})\n&gt;&gt;&gt; a = A1()\n&gt;&gt;&gt; x = type(a)\n&gt;&gt;&gt; x == A1, x is A1\n(True, True)\n&gt;&gt;&gt; x == A2, x is A2\n(False, False)\n</code></pre>\n\n<p>To clarify my question - <em>without overriding equality</em> operators to do something insane, is it possible for a class to exist at two different memory locations or does the import system somehow prevent this?  </p>\n\n<p>If so, how can we demonstrate this behavior - for example, doing weird things with <a href=\"https://docs.python.org/2/library/functions.html#reload\" rel=\"nofollow\">reload</a> or <code>__import__</code>? </p>\n\n<p>If not, is that guaranteed by the language or documented anywhere?</p>\n\n<hr>\n\n<p><strong>Epilogue</strong>:</p>\n\n<pre><code># thing.py\nclass A:\n    pass\n</code></pre>\n\n<p>Finally, this is what clarified the real behaviour for me (and it's supporting the claims in Blckknght answer)</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; from thing import A\n&gt;&gt;&gt; a = A()\n&gt;&gt;&gt; isinstance(a, A), type(a) == A, type(a) is A\n(True, True, True)\n&gt;&gt;&gt; del sys.modules['thing']\n&gt;&gt;&gt; from thing import A\n&gt;&gt;&gt; isinstance(a, A), type(a) == A, type(a) is A\n(False, False, False)\n</code></pre>\n\n<p>So, although code that uses <a href=\"https://docs.python.org/3/library/importlib.html?highlight=reload#importlib.reload\" rel=\"nofollow\"><code>importlib.reload</code></a> could break type checking by class identity, it will also break <code>isinstance</code> anyway.  </p>\n"}, {"tags": ["python", "package", "yaml", "config", "setup.py"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1448480525, "post_id": 33924898, "comment_id": 55611167, "body": "What do you mean by <code>not copied correctly</code>? Do you want to transfer the whole directory to your cloud and execute it locally on that cloud-machine or do you want to get something like a remote installation?"}, {"owner": {"reputation": 1599, "user_id": 3478208, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oK7tF.jpg?s=128&g=1", "display_name": "sweeeeeet", "link": "https://stackoverflow.com/users/3478208/sweeeeeet"}, "reply_to_user": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1448515596, "post_id": 33924898, "comment_id": 55622838, "body": "I want to build a package and then install it via pip and git on my cloud isntance"}], "owner": {"reputation": 1599, "user_id": 3478208, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oK7tF.jpg?s=128&g=1", "display_name": "sweeeeeet", "link": "https://stackoverflow.com/users/3478208/sweeeeeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1448479653, "creation_date": 1448479653, "question_id": 33924898, "link": "https://stackoverflow.com/questions/33924898/handling-config-yaml-files-in-setup-py", "title": "handling config yaml files in setup.py", "body": "<p>I have a pycharm project with the following shape:</p>\n\n<pre><code>my_project:\n    setup.py\n    config_files:\n        config1.yaml\n        config2.yaml\n    my_package:\n        __init__.py\n        main.py\n</code></pre>\n\n<p>When I run my <code>main.py</code> from pycharm, I am able to access my <code>config1.yaml</code> file using the following path: <code>../config_files/config1.yaml</code>.</p>\n\n<p>My goal is to build the package, then install it on my cloud machine and run the program. But the <code>setup.py</code> does not copy the config files where they are in my pycharm project.</p>\n\n<p>My question is: what can I do to be sure that these files are correctly copied?</p>\n"}, {"tags": ["python", "configuration", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 3001, "user_id": 1682131, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zRrAh.png?s=128&g=1", "display_name": "Ayush", "link": "https://stackoverflow.com/users/1682131/ayush"}, "is_accepted": false, "score": 0, "last_activity_date": 1448482319, "creation_date": 1448482319, "answer_id": 33925598, "question_id": 33924889, "link": "https://stackoverflow.com/questions/33924889/spyder-installed-now-conda-commands-do-not-work/33925598#33925598", "title": "Spyder installed, now conda commands do not work", "body": "<p>looks like pyyaml is missing. Install with </p>\n\n<pre><code>$ conda install pyyaml \n</code></pre>\n\n<p>or </p>\n\n<pre><code>$ pip install pyyaml\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4945803, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-sfbE_7lx79c/AAAAAAAAAAI/AAAAAAAAAGM/dft2WRZ7JHQ/photo.jpg?sz=128", "display_name": "MAJ Les", "link": "https://stackoverflow.com/users/4945803/maj-les"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "closed_date": 1448574894, "answer_count": 1, "score": 0, "last_activity_date": 1448482319, "creation_date": 1448479621, "question_id": 33924889, "link": "https://stackoverflow.com/questions/33924889/spyder-installed-now-conda-commands-do-not-work", "closed_reason": "Duplicate", "title": "Spyder installed, now conda commands do not work", "body": "<p>I'm brand new to Python and I have a virtual machine using Windows with my company and installed spyder.  I tried to run it but all I get is a command prompt that quickly flashes on, then off.  It is too quick to discern what the error message is.</p>\n\n<p>Now, any 'conda xxx' command I run, I get the following error message:</p>\n\n<p>Error: could not import yaml (required to read .condarc config file:  C\\Miniconda.condarc)</p>\n"}, {"tags": ["python", "user-interface", "wxpython", "wxwidgets"], "comments": [{"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 0, "creation_date": 1448480791, "post_id": 33924876, "comment_id": 55611307, "body": "Well I posted a little too soon. A very similar problem was posted here: <a href=\"http://stackoverflow.com/questions/32512376/wxpython-how-to-put-a-text-in-textctrl-with-a-button-inserted-by-add-button\" title=\"wxpython how to put a text in textctrl with a button inserted by add button\">stackoverflow.com/questions/32512376/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "is_accepted": true, "score": 0, "last_activity_date": 1448482861, "last_edit_date": 1495542222, "creation_date": 1448482861, "answer_id": 33925740, "question_id": 33924876, "link": "https://stackoverflow.com/questions/33924876/wxpython-using-filedialog-to-update-a-textctrl/33925740#33925740", "title": "wxPython - Using filedialog to update a textctrl", "body": "<p>My answer was derived from here: <a href=\"https://stackoverflow.com/questions/32512376/wxpython-how-to-put-a-text-in-textctrl-with-a-button-inserted-by-add-button\">wxPython how to put a text in TextCtrl with a button inserted by &quot;Add&quot; Button</a></p>\n\n<p>By using lambda to create anonymous functions, the solution is quite simple. You can have a handler, like:</p>\n\n<pre><code>def OnSelect(self, event, ctrl):\n    name, path = selectFile() #gets name and path using FileDialog\n    ctrl.SetValue(path)\n</code></pre>\n\n<p>The buttons can be bound like</p>\n\n<pre><code>selectBtn = wx.Button(self, wx.ID_FILE, label=\"Select File\")\nselectEvent = lambda event, ctrl=txt: self.OnSelect(event, ctrl)\nselectBtn.Bind(wx.EVT_BUTTON, selectEvent)\n</code></pre>\n\n<p>Works like a charm.</p>\n"}], "owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 33925740, "answer_count": 1, "score": 0, "last_activity_date": 1448482861, "creation_date": 1448479571, "question_id": 33924876, "link": "https://stackoverflow.com/questions/33924876/wxpython-using-filedialog-to-update-a-textctrl", "title": "wxPython - Using filedialog to update a textctrl", "body": "<p>I am trying to create a basic dialog to edit a settings file. I have some list of necessary files</p>\n\n<pre><code>options = [\"dog\", \"cat\", \"chicken\"]\n</code></pre>\n\n<p>I then have a column with the option names in StaticText and a column of TextCtrl to input the file location. Next to each TextCtrl is a \"Select File\" button.</p>\n\n<p>How can I have each button select a file and then update the TextCtrl with the location? At the moment, I iterate through the options list to generate the text and buttons. I know if I were to define everything by hand, I could have a handler unique to each button which updates the the corresponding TextCtrl, but I feel like there is a better when. I would like it to be modifiable so I can just add an option to the options list, and another row of options is added.</p>\n\n<p>Currently I am binding each button to self.OnSelect, but I'm not sure how to use that to update the correct TextCtrl. To reiterate I know how to use FileDialog, I am just having troubles tying each button to its corresponding TextCtrl.</p>\n\n<pre><code>selectBtn = wx.Button(self, wx.ID_FILE, label=\"Select File\")\nselectBtn.Bind(wx.EVT_BUTTON, self.OnSelect)\n</code></pre>\n\n<p>Should I have a unique ID instead of using wx.ID_FILE?</p>\n\n<p>I am relatively new to GUI desgin so any help is appreciated. Even if you think what I'm doing may be ugly and something else would be better, please let me know</p>\n"}, {"tags": ["python", "python-2.7", "networkx"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1448541648, "post_id": 33924831, "comment_id": 55637022, "body": "Note - I&#39;ve added an edit showing how to modify <code>G</code> in place as well."}], "answers": [{"comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1448541607, "post_id": 33925384, "comment_id": 55636994, "body": "I&#39;ve added a line at the end to show how to modify <code>G</code> in place"}], "tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1448541587, "last_edit_date": 1495540319, "creation_date": 1448481539, "answer_id": 33925384, "question_id": 33924831, "link": "https://stackoverflow.com/questions/33924831/clique-creation-in-python/33925384#33925384", "title": "Clique creation in python", "body": "<p>This is probably a duplicate of <a href=\"https://stackoverflow.com/questions/10649673/how-to-generate-a-fully-connected-subgraph-from-node-list-using-pythons-network\">How to generate a fully connected subgraph from node list using python&#39;s networkx module</a>, but I'm going to give a different answer than what is in there.</p>\n\n<p>The approach is to generate a clique and then use networkx's method for relabeling nodes.</p>\n\n<pre><code>import networkx as nx\nL=[\"hello\", \"world\", \"how\", \"are\", \"you\"]\nG=nx.complete_graph(len(L))\nH=nx.relabel_nodes(G,dict(enumerate(L)))\n\nH.nodes()\n&gt; ['how', 'are', 'world', 'you', 'hello']\nG.nodes()\n&gt; [0,1,2,3,4]\n\nnx.relabel_nodes(G,dict(enumerate(L)), copy=False) #you can also change G in place\nG.nodes()\n&gt; ['how', 'are', 'world', 'you', 'hello']\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 1731887, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ada2c4475834c18f59de30bfca2f8288?s=128&d=identicon&r=PG", "display_name": "Maoritzio", "link": "https://stackoverflow.com/users/1731887/maoritzio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "closed_date": 1448574901, "accepted_answer_id": 33925384, "answer_count": 1, "score": 0, "last_activity_date": 1448541587, "creation_date": 1448479412, "question_id": 33924831, "link": "https://stackoverflow.com/questions/33924831/clique-creation-in-python", "closed_reason": "Duplicate", "title": "Clique creation in python", "body": "<p>Is there a convenient way to create a clique out of a list of objects (such as strings) representing vertices, instead of generating each edge manually?</p>\n"}, {"tags": ["python", "list", "python-3.x", "user-input", "list-comprehension"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1448479338, "post_id": 33924775, "comment_id": 55610551, "body": "Please post the code that you have tried. Also, have you considered using a dict instead of a list of lists?"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1448481402, "post_id": 33924775, "comment_id": 55611593, "body": "since tuples are hashable, i would make your coordinates a set (not a list) of coordinates and do something like <code>if any(input in ship for ship in ships)</code> assuming that <code>ships</code> is a list of your sets and input is a coordinate tuple"}], "answers": [{"tags": [], "owner": {"reputation": 5819, "user_id": 2789863, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36c2536407ab03e27fe9902a5c97da08?s=128&d=identicon&r=PG&f=1", "display_name": "brittenb", "link": "https://stackoverflow.com/users/2789863/brittenb"}, "is_accepted": false, "score": 1, "last_activity_date": 1448479723, "creation_date": 1448479723, "answer_id": 33924920, "question_id": 33924775, "link": "https://stackoverflow.com/questions/33924775/battleship-game-how-can-i-check-if-user-input-is-in-a-list-of-lists/33924920#33924920", "title": "Battleship game: how can I check if user input is in a list of lists?", "body": "<p>I realize this might not be the answer you were looking for, but I would maybe set this up a bit differently to help yourself out. I'd set <code>ships</code> to be a dictionary where each ship serves as a key and the coordinates are a list of touples. It would look like this:</p>\n\n<pre><code>ships = {\"ship1\": [(\"7\", \"6\"), (\"2\", \"5\"), (\"3\", \"8\")], \"ship2\": [and so on]}\nguess = raw_input(\"What is your guess? \")\n</code></pre>\n\n<p>Now, without giving away too much of the game, your next step would be to loop through each ship in the dictionary and check if the guessed coordinates match any values for any of the ships. </p>\n\n<p>I hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 5819, "user_id": 2789863, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/36c2536407ab03e27fe9902a5c97da08?s=128&d=identicon&r=PG&f=1", "display_name": "brittenb", "link": "https://stackoverflow.com/users/2789863/brittenb"}, "edited": false, "score": 0, "creation_date": 1448479870, "post_id": 33924934, "comment_id": 55610825, "body": "Clearly the better solution since it actually addresses the issue of using lists."}], "tags": [], "owner": {"reputation": 5013, "user_id": 969617, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/2412de50d273085f5dcf3f2101c3996e?s=128&d=identicon&r=PG", "display_name": "beoliver", "link": "https://stackoverflow.com/users/969617/beoliver"}, "is_accepted": true, "score": 3, "last_activity_date": 1448479875, "last_edit_date": 1448479875, "creation_date": 1448479771, "answer_id": 33924934, "question_id": 33924775, "link": "https://stackoverflow.com/questions/33924775/battleship-game-how-can-i-check-if-user-input-is-in-a-list-of-lists/33924934#33924934", "title": "Battleship game: how can I check if user input is in a list of lists?", "body": "<p>Assuming that you <strong>have</strong> to use lists:</p>\n\n<pre><code>ship1 = [(1,1),(1,2),(1,3)]\nship2 = [(3,4),(3,5),(3,6)]\n...\n\nships = [ship1, ship2, ... ]\n\nshot = (3,5)\n\nfor ship in ships: \n  if shot in ship:\n    hit...\n    break\n</code></pre>\n\n<p>but as others have mentioned, a dict would probably be neater.</p>\n"}, {"comments": [{"owner": {"reputation": 5687, "user_id": 498899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98365ba520b6b86256800d458f104e68?s=128&d=identicon&r=PG", "display_name": "steabert", "link": "https://stackoverflow.com/users/498899/steabert"}, "edited": false, "score": 0, "creation_date": 1448480335, "post_id": 33924972, "comment_id": 55611062, "body": "just use <code>board[input]</code>"}, {"owner": {"reputation": 2492, "user_id": 2807860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd25593e6c2a32247f10feebe10a0b63?s=128&d=identicon&r=PG&f=1", "display_name": "Elad Joseph", "link": "https://stackoverflow.com/users/2807860/elad-joseph"}, "reply_to_user": {"reputation": 5687, "user_id": 498899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98365ba520b6b86256800d458f104e68?s=128&d=identicon&r=PG", "display_name": "steabert", "link": "https://stackoverflow.com/users/498899/steabert"}, "edited": false, "score": 0, "creation_date": 1448480650, "post_id": 33924972, "comment_id": 55611238, "body": "@steabert - you are right, it&#39;s better. I edited my code."}], "tags": [], "owner": {"reputation": 2492, "user_id": 2807860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd25593e6c2a32247f10feebe10a0b63?s=128&d=identicon&r=PG&f=1", "display_name": "Elad Joseph", "link": "https://stackoverflow.com/users/2807860/elad-joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1448480670, "last_edit_date": 1448480670, "creation_date": 1448479929, "answer_id": 33924972, "question_id": 33924775, "link": "https://stackoverflow.com/questions/33924775/battleship-game-how-can-i-check-if-user-input-is-in-a-list-of-lists/33924972#33924972", "title": "Battleship game: how can I check if user input is in a list of lists?", "body": "<p>I would suggest using <a href=\"http://www.numpy.org/\" rel=\"nofollow\">NumPy</a> 2D array.</p>\n\n<p>You can initialize your board to a zeros matrix and then mark the number of each ship in the appropriate rows and columns. Then to check which ship the user hit is very simple.</p>\n\n<p>Small example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n# create board\nboard = np.zeros((8,8))\nboard[2:5,4] = 1\nboard[6,5:7] = 2\nprint(board)\n# check shot\ninput = (2,4)\nship_num = board[input]\nif ship_num != 0:\n   print(\"hit!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1448481808, "last_edit_date": 1448481808, "creation_date": 1448481501, "answer_id": 33925375, "question_id": 33924775, "link": "https://stackoverflow.com/questions/33924775/battleship-game-how-can-i-check-if-user-input-is-in-a-list-of-lists/33925375#33925375", "title": "Battleship game: how can I check if user input is in a list of lists?", "body": "<p>You're looking at this backward. Don't check with the ships to see if they exist at the location that's being shot at, make the BOARD responsible for knowing where the ships are, reporting to the opponent that there was a hit, and reporting to the ship that it was shot.</p>\n\n<pre><code>class Board(list):\n    def __init__(self, size, ships):\n        for row in range(size):\n            self.append([0] * size)\n\n        self.ships = ships\n        for ship in self.ships:\n            # each ship is a list of tuples (column, row)\n            for coord in ship:\n                x, y = coord\n                self[y][x] = ship  # store a reference to the ship at\n                                   # each location the ship is in\n    def check_hit(self, location):\n        x, y = location\n        if self[y][x]:\n            # there's a ship here!\n            ship = self[y][x]\n            self[y][x] = 0  # don't report another hit at this location\n            still_alive = ship.get_shot(location)\n            # tell the ship it's been hit and ask it if it's still alive\n            if still_alive:\n                return Ship.ALIVE  # tell the caller that it hit something\n            else:\n                self.ships.remove(ship)\n                return Ship.DEAD  # tell the caller it KILLED something\n        else:\n            return False  # you missed\n</code></pre>\n\n<p>Then your ship might be:</p>\n\n<pre><code>class Ship(object):\n    ALIVE = 1\n    DEAD = 2\n    def __init__(self, type_, locations):\n        self.type = type_  # battleship, destroyer, etc\n        self.locations = locations\n\n    @property\n    def is_alive(self):\n        return bool(self.locations)\n        # is self.locations is empty, this is a dead ship!\n\n    def get_hit(self, location):\n        self.locations.remove(location)\n        return self.is_alive\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5373605, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597eb59390b93b56a4c5ef585e4183f5?s=128&d=identicon&r=PG&f=1", "display_name": "Sammy", "link": "https://stackoverflow.com/users/5373605/sammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 33924934, "answer_count": 4, "score": 0, "last_activity_date": 1448481808, "creation_date": 1448479166, "last_edit_date": 1448479295, "question_id": 33924775, "link": "https://stackoverflow.com/questions/33924775/battleship-game-how-can-i-check-if-user-input-is-in-a-list-of-lists", "title": "Battleship game: how can I check if user input is in a list of lists?", "body": "<p>I am creating a battleship-like game, where I have to check if the user has hit a ship or not.I am trying to check if an input is part of a list of x,y coordinates for 8 ships (battleship). \nMy big list of lists is like:  </p>\n\n<pre><code> ships = [ship1][ship2][ship3] and so on (6 ships).  \n</code></pre>\n\n<p>The list for each ship is:  </p>\n\n<pre><code>ship1 = ['7','6,]['2','5']['3','8'] \n</code></pre>\n\n<p>and so on.   </p>\n\n<p>So far I am using :  </p>\n\n<pre><code>if input[0] ==ship1[0] and input[1] == ship1[1]    \n</code></pre>\n\n<p>This is the only thing I\u2019ve gotten working so far, but now I realize it would be hard to generalize it for all the ships and all the coordinates. </p>\n\n<p>I\u2019ve also tried using the input as a string and checking if it\u2019s ships, but it would always return false. Any help would be appreciated!</p>\n"}, {"tags": ["python", "qt", "menu", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 2492, "user_id": 2807860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd25593e6c2a32247f10feebe10a0b63?s=128&d=identicon&r=PG&f=1", "display_name": "Elad Joseph", "link": "https://stackoverflow.com/users/2807860/elad-joseph"}, "edited": false, "score": 0, "creation_date": 1448481775, "post_id": 33924768, "comment_id": 55611757, "body": "Looks more like a Menubar to me <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qmenubar.html\" rel=\"nofollow noreferrer\">docs</a>. In menu you can add icons and text, usually done through QAction."}, {"owner": {"reputation": 1165, "user_id": 4997158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nmhsE.png?s=128&g=1", "display_name": "SyedElec", "link": "https://stackoverflow.com/users/4997158/syedelec"}, "reply_to_user": {"reputation": 2492, "user_id": 2807860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd25593e6c2a32247f10feebe10a0b63?s=128&d=identicon&r=PG&f=1", "display_name": "Elad Joseph", "link": "https://stackoverflow.com/users/2807860/elad-joseph"}, "edited": false, "score": 0, "creation_date": 1448537688, "post_id": 33924768, "comment_id": 55634615, "body": "Yes you were right ! it&#39;s a QMenubar :) Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 4997158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nmhsE.png?s=128&g=1", "display_name": "SyedElec", "link": "https://stackoverflow.com/users/4997158/syedelec"}, "edited": false, "score": 0, "creation_date": 1448537806, "post_id": 33933349, "comment_id": 55634687, "body": "In fact, I&#39;m dynamically changing the menu (adding and removing actions) so it will be complicated if I draw lines every time items has been added or removed"}, {"owner": {"reputation": 1121, "user_id": 3021018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6fhj.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3021018/aaron"}, "reply_to_user": {"reputation": 1165, "user_id": 4997158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nmhsE.png?s=128&g=1", "display_name": "SyedElec", "link": "https://stackoverflow.com/users/4997158/syedelec"}, "edited": false, "score": 0, "creation_date": 1448538889, "post_id": 33933349, "comment_id": 55635359, "body": "That depends on how generic you implement the drawing .. as the menu will call the <code>paintEvent</code> whenever something changes. If you know the number of entries it should be an easy thing to do."}], "tags": [], "owner": {"reputation": 1121, "user_id": 3021018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6fhj.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3021018/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1448525107, "creation_date": 1448525107, "answer_id": 33933349, "question_id": 33924768, "link": "https://stackoverflow.com/questions/33924768/add-a-vertical-separator-between-icons-and-text-in-a-menu/33933349#33933349", "title": "Add a vertical separator between icons and text in a menu", "body": "<p>If you create the menu yourself by using a <code>QWidget</code> it's easy. Just implement the <code>paintEvent</code> and draw the lines where you need them.</p>\n"}, {"comments": [{"owner": {"reputation": 1165, "user_id": 4997158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nmhsE.png?s=128&g=1", "display_name": "SyedElec", "link": "https://stackoverflow.com/users/4997158/syedelec"}, "edited": false, "score": 0, "creation_date": 1448546320, "post_id": 33939764, "comment_id": 55640043, "body": "I tried but it&#39;s only horizontal separator, is it possible to make it vertical. Here is the result I got : <a href=\"http://www.zupmage.eu/i/ZjvAjLmSFx.jpg\" rel=\"nofollow noreferrer\">zupmage.eu/i/ZjvAjLmSFx.jpg</a>"}], "tags": [], "owner": {"reputation": 398, "user_id": 3354958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/idcsy.jpg?s=128&g=1", "display_name": "Garjy", "link": "https://stackoverflow.com/users/3354958/garjy"}, "is_accepted": true, "score": 5, "last_activity_date": 1448543884, "creation_date": 1448543884, "answer_id": 33939764, "question_id": 33924768, "link": "https://stackoverflow.com/questions/33924768/add-a-vertical-separator-between-icons-and-text-in-a-menu/33939764#33939764", "title": "Add a vertical separator between icons and text in a menu", "body": "<p>if you are using a <strong>QMenu()</strong> object you can use <strong>addSeparator()</strong>:</p>\n\n<pre><code>menu = QMenu()\nadd_action = menu.addAction(\"Add\")\nmenu.addSeparator()\nrename_action = menu.addAction(\"Rename\")\n</code></pre>\n"}], "owner": {"reputation": 1165, "user_id": 4997158, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/nmhsE.png?s=128&g=1", "display_name": "SyedElec", "link": "https://stackoverflow.com/users/4997158/syedelec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4998, "favorite_count": 0, "accepted_answer_id": 33939764, "answer_count": 2, "score": 3, "last_activity_date": 1448543884, "creation_date": 1448479140, "last_edit_date": 1448493761, "question_id": 33924768, "link": "https://stackoverflow.com/questions/33924768/add-a-vertical-separator-between-icons-and-text-in-a-menu", "title": "Add a vertical separator between icons and text in a menu", "body": "<p>I have a question about how to add a separator between icons and text in menu. If you have any ideas, it would be really helpful. Here is exactly what I need to do:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AsDB4.jpg\" alt=\"preview\">.</p>\n\n<p>From a button, open a menu and add separators like in the image.</p>\n"}, {"tags": ["php", "python", "exec", "traceback", "backtrace"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1448479637, "post_id": 33924712, "comment_id": 55610699, "body": "you can&#39;t. <code>include()</code> in php acts as if the contents of the file being included were literally cut&amp;pasted into the file doing the include. effectively your <code>foo.php</code> is PART of index.php"}, {"owner": {"reputation": 434, "user_id": 571000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ac8db0a84bee84cee60a9cbac1e871?s=128&d=identicon&r=PG", "display_name": "Frankie Jarrett", "link": "https://stackoverflow.com/users/571000/frankie-jarrett"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1448484463, "post_id": 33924712, "comment_id": 55613133, "body": "Thanks MarcB. That was very insightful."}], "answers": [{"comments": [{"owner": {"reputation": 434, "user_id": 571000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ac8db0a84bee84cee60a9cbac1e871?s=128&d=identicon&r=PG", "display_name": "Frankie Jarrett", "link": "https://stackoverflow.com/users/571000/frankie-jarrett"}, "edited": false, "score": 0, "creation_date": 1448484363, "post_id": 33924849, "comment_id": 55613087, "body": "This worked. The unfortunate thing with this solution is that it isn&#39;t purely resolvable in Python, the working directory has to basically be spoofed in PHP using <code>chdir()</code>. So taking into account MarcB&#39;s comment above, it seems as if a true traceback is never going to be possible since Python doesn&#39;t have the visibility into the PHP process of including/requiring other files. Thank you both."}], "tags": [], "owner": {"reputation": 1214, "user_id": 1587058, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b177f91007daac88583676236a01cfed?s=128&d=identicon&r=PG", "display_name": "Liam Wiltshire", "link": "https://stackoverflow.com/users/1587058/liam-wiltshire"}, "is_accepted": true, "score": 1, "last_activity_date": 1448479469, "creation_date": 1448479469, "answer_id": 33924849, "question_id": 33924712, "link": "https://stackoverflow.com/questions/33924712/how-can-a-python-script-know-the-path-of-the-php-file-calling-it/33924849#33924849", "title": "How can a Python script know the path of the PHP file calling it?", "body": "<p>You need to change your working directory to the directory of foo.php, which you should be able to do with chdir:</p>\n\n<pre><code>chdir (__DIR__); # change working dir to current directory.\n</code></pre>\n\n<p>In foo.php</p>\n"}], "owner": {"reputation": 434, "user_id": 571000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ac8db0a84bee84cee60a9cbac1e871?s=128&d=identicon&r=PG", "display_name": "Frankie Jarrett", "link": "https://stackoverflow.com/users/571000/frankie-jarrett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 33924849, "answer_count": 1, "score": 0, "last_activity_date": 1448479469, "creation_date": 1448478944, "question_id": 33924712, "link": "https://stackoverflow.com/questions/33924712/how-can-a-python-script-know-the-path-of-the-php-file-calling-it", "title": "How can a Python script know the path of the PHP file calling it?", "body": "<p>I am executing a Python script from <code>foo.php</code> using <code>exec</code> and I want the Python script to know what directory the PHP call is originating from. In this example, it should be: <code>/www/includes</code></p>\n\n<pre><code># File tree\n/script.py\n/www/index.php\n/www/includes/foo.php\n</code></pre>\n\n<h1>foo.php</h1>\n\n<pre><code>var_dump( exec( \"/usr/bin/python /script.py\" ) );\n</code></pre>\n\n<h1>script.py</h1>\n\n<pre><code>#!/usr/bin/env python\n\nimport os\n\nprint( os.getcwd() )\n</code></pre>\n\n<p>I found that <code>os.getcwd()</code> works great when the <code>foo.php</code> URL is called directly in the browser. I get the desired result: <code>/www/includes</code></p>\n\n<p>However, it <em>does not work</em> when <code>foo.php</code> is being called from another PHP file in a different directory, like <code>/www/index.php</code>.</p>\n\n<h1>index.php</h1>\n\n<pre><code>require_once '/www/includes/foo.php';\n</code></pre>\n\n<p>The Python script prints <code>/www</code> since that is where <code>index.php</code> lives.</p>\n\n<h1>Problem</h1>\n\n<p>How can I get the Python script to return <code>/www/includes</code> when it's executed by <code>foo.php</code> no matter how the <code>foo.php</code> is being called? I have tried some <code>traceback</code> methods with no luck as I think it only applies to tracing errors.</p>\n"}, {"tags": ["python", "unit-testing", "presenter-first"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 4608626, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1fbbe6bbba08a5ebef91ded5974667be?s=128&d=identicon&r=PG", "display_name": "wesanyer", "link": "https://stackoverflow.com/users/4608626/wesanyer"}, "edited": false, "score": 0, "creation_date": 1450448747, "post_id": 34345679, "comment_id": 56457024, "body": "not putting more information about self.mock_view and self.mock_model was intentional - these are mock objects, and as such (in my understanding) should not be under test. The Presenter itself is under test, and it is dependent on these two objects, and utilizes them to do its work."}, {"owner": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "reply_to_user": {"reputation": 821, "user_id": 4608626, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1fbbe6bbba08a5ebef91ded5974667be?s=128&d=identicon&r=PG", "display_name": "wesanyer", "link": "https://stackoverflow.com/users/4608626/wesanyer"}, "edited": false, "score": 0, "creation_date": 1450452492, "post_id": 34345679, "comment_id": 56459315, "body": "Yes, they shouldn&#39;t be tested, but seeing the objects that they represent may help give you advice about how you should write your test."}, {"owner": {"reputation": 821, "user_id": 4608626, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1fbbe6bbba08a5ebef91ded5974667be?s=128&d=identicon&r=PG", "display_name": "wesanyer", "link": "https://stackoverflow.com/users/4608626/wesanyer"}, "edited": false, "score": 0, "creation_date": 1450454016, "post_id": 34345679, "comment_id": 56460326, "body": "Fair enough. The approach I was taking , though, in keeping with &quot;presenter first&quot; was to, well, write the presenter unit tests and implementation first. Before I wrote anything for the model or the view. I subbed in the mocks as a placeholder, and after writing my presenter tests and implementation, I used the mocked method calls as a starting place for my model and view unit tests and implementation. Is this atypical?"}], "tags": [], "owner": {"reputation": 7448, "user_id": 554903, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6fyv9.jpg?s=128&g=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/554903/jonathan"}, "is_accepted": true, "score": 1, "last_activity_date": 1450392168, "creation_date": 1450392168, "answer_id": 34345679, "question_id": 33924676, "link": "https://stackoverflow.com/questions/33924676/presenter-first-unittest-with-multiple-assertions/34345679#34345679", "title": "Presenter-First Unittest with Multiple Assertions", "body": "<p>So generally when writing unit tests you would like to test one specific thing. Because when you write more code and the test fails it will be a lot easier for you to understand what in the unit test failed. It may be that with the assertions that you've made so far you are testing one behaviour or functionality of the code, then the assertions are fine. </p>\n\n<p>To make an example, you have two functions below <code>list_counter</code> depends on <code>word_count</code>. So when testing <code>list_counter</code> you could make two assertions to make sure the two components in <code>list_counter</code> is correct. But it would probably be wiser to test <code>word_count</code> separately. </p>\n\n<pre><code>def word_count(word):\n    return len(word)\n\ndef list_counter(listing=None):\n    total = 0\n    for l in listing:\n        total += word_count(l)\n\n    return (len(listing), total)\n</code></pre>\n\n<p>It's difficult to comment more specifically on your case since I don't have access to what the model looks like. <code>self.mock_view</code> appears out of nowhere too. </p>\n"}], "owner": {"reputation": 821, "user_id": 4608626, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1fbbe6bbba08a5ebef91ded5974667be?s=128&d=identicon&r=PG", "display_name": "wesanyer", "link": "https://stackoverflow.com/users/4608626/wesanyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 34345679, "answer_count": 1, "score": 5, "last_activity_date": 1450392168, "creation_date": 1448478802, "question_id": 33924676, "link": "https://stackoverflow.com/questions/33924676/presenter-first-unittest-with-multiple-assertions", "title": "Presenter-First Unittest with Multiple Assertions", "body": "<p>I am attempting to utilize the Presenter-First approach to a new project. I find myself with unittest below. Am I utilizing poor unit testing practices by including so many assertions in this test? If yes, is the issue with my approach to the test or to the implementation of presenter.setOverview? In otherwords, should the setOverview method call self.setSalesQty rather than self.view.setSalesQty? In this case, I would have a separate test for presenter.setSalesQty and the testSetOverview test would no longer need to worry about testing this.</p>\n\n<pre><code>def testSetOverview(self):\n    # set up mock objects\n    p = PropertyMock()\n    type(self.mock_model).descriptions = p\n    self.mock_model.getData.side_effect = [5, 10]\n    self.mock_model.getDescription.side_effect = 'Description'\n\n    # get required variables\n    end = dt.date.today()\n    start = dt.date(year=end.year, month=1, day=1)\n    pn = 'abcd'\n\n    # call presenter method\n    self.presenter.setOverview(pn)\n\n    # test to make sure proper calls were made\n    model_getData_calls = [call(pn=pn, start=start, end=end,\n                       data=self.mock_model.SHIPPED_QUANTITY),\n                   call(pn=pn, start=start, end=end,\n                        data=self.mock_model.PRICE_PAID)]\n\n    self.mock_model.getData.assert_has_calls(model_getData_calls, any_order=True)\n    assert self.mock_model.getDescription.called\n\n    self.mock_view.setSalesQty.assert_called_with(val=5)\n    self.mock_view.setSalesDols.assert_called_with(val=10)\n    self.mock_view.setDescription.assert_called_with(val='Description')\n</code></pre>\n"}, {"tags": ["python", "email", "loops", "smtp"], "comments": [{"owner": {"reputation": 453, "user_id": 2454145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a73e6b085cb3e5a2d3cea64109399d13?s=128&d=identicon&r=PG", "display_name": "Riccati", "link": "https://stackoverflow.com/users/2454145/riccati"}, "edited": false, "score": 1, "creation_date": 1448478920, "post_id": 33924586, "comment_id": 55610327, "body": "Does this help?: <a href=\"http://stackoverflow.com/questions/20509427/python-not-sending-email-to-multiple-addresses\" title=\"python not sending email to multiple addresses\">stackoverflow.com/questions/20509427/&hellip;</a>"}, {"owner": {"reputation": 3089, "user_id": 2989408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baaa3618d2976a12198dff38d64f7847?s=128&d=identicon&r=PG&f=1", "display_name": "user2989408", "link": "https://stackoverflow.com/users/2989408/user2989408"}, "edited": false, "score": 1, "creation_date": 1448478937, "post_id": 33924586, "comment_id": 55610334, "body": "You are right, the <code>SendEmail</code> expects a list, from <a href=\"https://docs.python.org/3/library/smtplib.html#smtplib.SMTP.sendmail\" rel=\"nofollow noreferrer\">Doc</a>."}, {"owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "edited": false, "score": 0, "creation_date": 1448479903, "post_id": 33924586, "comment_id": 55610841, "body": "So based off of these links it seems the best thing to do would be to iterate through the file putting all of the email addresses in the list, then changing the sendmail line to something like this :: <code>smtp.sendmail(msg[&#39;From&#39;], recipientsList, msg.as_string()</code>."}], "owner": {"reputation": 139, "user_id": 2777912, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/007a8a2e94201d78ecba9937ac4583cf?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneTrueSign", "link": "https://stackoverflow.com/users/2777912/theonetruesign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1271, "favorite_count": 0, "closed_date": 1448574913, "answer_count": 0, "score": 0, "last_activity_date": 1448480641, "creation_date": 1448478495, "last_edit_date": 1448480641, "question_id": 33924586, "link": "https://stackoverflow.com/questions/33924586/using-a-loop-to-send-mail-in-python", "closed_reason": "Duplicate", "title": "Using a loop to send mail in Python", "body": "<p>I'm trying to send mail in python using smtp and MIME. I can send one email with an attachment fine, but when I try to send many it sends the first person in the list the same email the number of people there are in the list. </p>\n\n<pre><code># -*- coding: iso-8859-1 -*-\nfrom email.mime.text import MIMEText\nfrom email.mime.application import MIMEApplication\nfrom email.mime.multipart import MIMEMultipart\nfrom smtplib import SMTP\n\nmsg = MIMEMultipart()\nmsg['Subject'] = 'Email From Python with attachment'\nmsg['From'] = 'email1.com'\n\n# That is what u see if dont have an email reader:\nmsg.preamble = 'Multipart massage.\\n'\n\n# This is the textual part:\npart = MIMEText(\"Hello im sending an email from a python program with an attachment\")\nmsg.attach(part)\n\n# This is the binary part(The Attachment):\npart = MIMEApplication(open(\"test.pdf\",\"rb\").read())\npart.add_header('Content-Disposition', 'attachment', filename=\"test.pdf\")\nmsg.attach(part)\n\n# Create an instance in SMTP server\nsmtp = SMTP('localhost')\n\n#open data file\nfo = open(\"data.txt\", \"rw+\")\n\n#send email to names in file\nfor line in fo:\n    msg['To'] = line\n    # Send the email\n    smtp.sendmail(msg['From'], msg['To'], msg.as_string())\n</code></pre>\n\n<p>From looking around it seems like the problem might lie in msg['To'] expecting a string and sendmail expecting a list. If possible I'd like to do this in a loop. If using a loop isn't the standard paradigm I'll try to use what is.</p>\n"}, {"tags": ["python", "windows", "service", "sqlalchemy", "shutdown"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1448508344, "post_id": 33924585, "comment_id": 55620870, "body": "<a href=\"http://pywin32.hg.sourceforge.net/hgweb/pywin32/pywin32/file/835a071ad7bf/win32/Demos/service/serviceEvents.py\" rel=\"nofollow noreferrer\">serviceEvents.py</a> shows how to handle additional control events. For Vista+ maybe try <a href=\"https://msdn.microsoft.com/en-us/library/ms685996\" rel=\"nofollow noreferrer\"><code>SERVICE_ACCEPT_PRESHUTDOWN</code></a> (not for XP/2003)."}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1448511736, "post_id": 33924585, "comment_id": 55621715, "body": "@eryksun it handles sessions opened in the <code># Do Work and Sleep at end</code>   I will look into your suggestion closer after the Holiday. Vista not required. Windows XP only for now. thanks for the response"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1448512530, "post_id": 33924585, "comment_id": 55621931, "body": "<code>SvcShutdown</code> should be called, so I&#39;d think you&#39;d at least see the log messages. I don&#39;t know whether or not you can talk to the database at this stage. I suggested the pre-shutdown notification on account of this, but that&#39;s not available in XP."}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1448555137, "post_id": 33924585, "comment_id": 55645544, "body": "The Log messages do not print in event viewer, I am not able to really dig into it today. Thanks for the tips, Happy thanksgiving @eryksun"}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1448559331, "post_id": 33924585, "comment_id": 55647752, "body": "<code>win32service.SERVICE_ACCEPT_POWEREVENT</code> is probably what Ill try first"}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1448895900, "post_id": 33924585, "comment_id": 55758955, "body": "@eryksun so it seems within my initial testing that implementing <code>control == win32service.SERVICE_CONTROL_SESSIONCHANGE:</code> and <code>control == win32service.SERVICE_CONTROL_PRESHUTDOWN:</code> are both triggered upon Shutdown. The Shutdown method does not actually work for me at all, no logging, event viewer or anything. And I am in fact using <code>PRESHUTDOWN</code> to successfully get db updates! I will continue testing but this is extremely promising. Thanks Eryk"}, {"owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1448895996, "post_id": 33924585, "comment_id": 55759011, "body": "Just a note for edification, that this does add some time to the shutdown process. It will display a screen &quot;Shutting down xxx Service&quot; and take even more time than required to process such a small amount of code"}], "owner": {"reputation": 2179, "user_id": 2653384, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1dd72e30eaef778f5d7ca2e573b8f9ca?s=128&d=identicon&r=PG", "display_name": "Busturdust", "link": "https://stackoverflow.com/users/2653384/busturdust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1448486340, "creation_date": 1448478495, "last_edit_date": 1448486340, "question_id": 33924585, "link": "https://stackoverflow.com/questions/33924585/python-windows-service-respond-to-pc-shutdown", "title": "Python Windows Service - Respond to PC Shutdown", "body": "<p>I have a working windows service, coded in python. The service uses <code>SQLAlchemy</code> to connect to a database, and send PC statisticts back to the DB to be later displayed on an internal Web Page.</p>\n\n<p>The service in its working version, uses no implementation of <code>SvcShutdown</code> . When trying to add an implementation of <code>SvcShutdown</code> None of the code is being executed. And I am obviously not getting my database update.</p>\n\n<p>The only update that needs to occur is to update a database value from <code>True</code> to <code>False</code> . This value represents the PC online.</p>\n\n<p>Placing the logic into the <code>SvcStop</code> Does not work either. On Shutdown the service will stop, but the update will not be received. </p>\n\n<p>Is this is a fools' errand? Will the service ever be able to report its own online/offline state?</p>\n\n<p>In the code below <code>EditSession</code> is custom session wrapper and <code>EditSTation</code> is a custom object to be used with the session</p>\n\n<h2>Current Code</h2>\n\n<pre><code># Overridden Windows Service\nclass EditService(win32serviceutil.ServiceFramework):\n    \"\"\" Windows Service Class Implementation. Edit Service runs on a pulse,\n    writes BgInfo files locally, and reports back to  db  \"\"\"\n\n    _svc_name_ = serviceName\n    _svc_display_name_ = serviceDisplayName\n    _svc_description_ = serviceDescription\n\n    def __init__(self, args):\n        \"\"\" Init the Service Framework, and create placeholder Event for Stopping\"\"\"\n        self.timeout = 3000\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)\n\n    def SvcShutdown(self):\n        \"\"\"\n        Handle PC Shutdown\n        :return:\n        \"\"\"\n        servicemanager.LogInfoMsg(\"Shutdown Called\")\n        my_session = session.EditSession(bind=engine)\n        my_session.set_offline(EditStation())\n        my_session.commit()\n        my_session.close()\n        servicemanager.LogInfoMsg(\"Done Shutdown\")\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        win32event.SetEvent(self.hWaitStop)\n\n    def SvcStop(self):\n        \"\"\" Handle Stop signal - Report The Service Status to OS, and set the event to the stop holder\"\"\"\n\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        win32event.SetEvent(self.hWaitStop)\n\n    def SvcDoRun(self):\n        \"\"\" Handle Start Signal - \"\"\"\n\n        servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE, servicemanager.PYS_SERVICE_STARTED,\n                              (self._svc_name_, ''))\n        retry_counter = 0\n        while True:\n            # Wait for service stop signal, if I timeout, loop again\n            rc = win32event.WaitForSingleObject(self.hWaitStop, self.timeout)\n\n            # Check to see if self.hWaitStop happened\n            if rc == win32event.WAIT_OBJECT_0:\n                # Stop signal encountered\n                servicemanager.LogInfoMsg(\"EditService - STOPPED\")\n                if \"my_session\" in locals():\n                    my_session.rollback()\n                    my_session.close()\n                break\n            else:\n                try:\n                    # Do Work and Sleep at end\n                if win32event.WaitForSingleObject(self.hWaitStop, sleepTime) == win32event.WAIT_OBJECT_0:\n                    servicemanager.LogInfoMsg(\"EditService - STOPPED\")\n                    break\n\n\ndef ctrl_handler(*args):\n    servicemanager.LogInfoMsg(\"Handler: {0}\".format(args))\n    print(args)\n    import time\n    time.sleep(10)\n    return True\n\n\nif __name__ == '__main__':\n    win32api.SetConsoleCtrlHandler(ctrl_handler, True)\n    win32serviceutil.HandleCommandLine(EditService)\n</code></pre>\n\n<p>Thanks for reading!</p>\n"}, {"tags": ["python", "instagram", "instagram-api", "keyerror"], "answers": [{"comments": [{"owner": {"reputation": 2791, "user_id": 1228481, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/0338886b7eb0ecc14484e26935ba1803?s=128&d=identicon&r=PG", "display_name": "Stefano", "link": "https://stackoverflow.com/users/1228481/stefano"}, "edited": false, "score": 0, "creation_date": 1454359670, "post_id": 34046369, "comment_id": 58000324, "body": "This fix works also for me, but I hope is not the &quot;final&quot; solution"}], "tags": [], "owner": {"reputation": 63, "user_id": 2167615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfad1564bc41884d17880fd6ec7483e?s=128&d=identicon&r=PG", "display_name": "DJ Push Play", "link": "https://stackoverflow.com/users/2167615/dj-push-play"}, "is_accepted": false, "score": 5, "last_activity_date": 1449069651, "creation_date": 1449069651, "answer_id": 34046369, "question_id": 33924581, "link": "https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client/34046369#34046369", "title": "KeyError: &#39;data&#39; with Python Instagram API client", "body": "<p>It appears that there is a bug in models.py. If you comment out line 99 and 100 in that file, the \"sample app\" will work, or at least appears to work. Obviously, this is not a \"real\" fix but it does show that it is not a problem with the sample Python program, or Instagram.</p>\n\n<pre><code>    Line 99  #  for comment in entry['comments']['data']:\n    Line 100 #      new_media.comments.append(Comment.object_from_dictionary(comment))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 5924981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8518fe097563d37542930c35927ffe25?s=128&d=identicon&r=PG&f=1", "display_name": "First Last", "link": "https://stackoverflow.com/users/5924981/first-last"}, "edited": false, "score": 1, "creation_date": 1458430444, "post_id": 35955196, "comment_id": 59858931, "body": "That worked for me! Some bug... I tested it on Python 3.4."}, {"owner": {"reputation": 825, "user_id": 1158075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/535fd4faeb3de85e21c0c06729db0097?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1158075/anber"}, "edited": false, "score": 0, "creation_date": 1462357882, "post_id": 35955196, "comment_id": 61600411, "body": "It took me a while to discover this bug and &quot;hack&quot; it but I can&#39;t fix it on our dockers because they get build from the pip sources. I really hope they merge this fix into the main branch."}, {"owner": {"reputation": 99, "user_id": 2510225, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf920ef55b60c24f7ba64681ea95757?s=128&d=identicon&r=PG", "display_name": "Leandro Guedes", "link": "https://stackoverflow.com/users/2510225/leandro-guedes"}, "edited": false, "score": 0, "creation_date": 1482240406, "post_id": 35955196, "comment_id": 69686369, "body": "I also have installed python-instagram via pip, but could solve the problem following @Forge instruction. If you type <code>pip uninstall python-instagram</code>,  the system will show a list of the files to be uninstalled, with respective locations, including models.py. Say &quot;n&quot; to &quot;Proceed (y/n)?&quot;, to NOT uninstall python-instagram, and now you know where the file is."}, {"owner": {"reputation": 412, "user_id": 5383769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Hk9at.jpg?s=128&g=1", "display_name": "Mehmet Kagan Kayaalp", "link": "https://stackoverflow.com/users/5383769/mehmet-kagan-kayaalp"}, "edited": false, "score": 1, "creation_date": 1486560414, "post_id": 35955196, "comment_id": 71397305, "body": "What if I want to get comments of the media? With this way, it is possible to get the media info like create time, link, etc. It is only a simple way to pass  the error, but still it does not solve the main problem. You cannot get the comments of the specific media."}, {"owner": {"reputation": 1266, "user_id": 8217289, "user_type": "registered", "profile_image": "https://graph.facebook.com/1520196004742080/picture?type=large", "display_name": "Cary Shindell", "link": "https://stackoverflow.com/users/8217289/cary-shindell"}, "reply_to_user": {"reputation": 412, "user_id": 5383769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Hk9at.jpg?s=128&g=1", "display_name": "Mehmet Kagan Kayaalp", "link": "https://stackoverflow.com/users/5383769/mehmet-kagan-kayaalp"}, "edited": false, "score": 0, "creation_date": 1499349398, "post_id": 35955196, "comment_id": 76877020, "body": "@waterkinq I&#39;ve been wondering the same thing. Does this mean we can&#39;t get comments, or that we&#39;ll only get comments when they do exist (avoiding error when they don&#39;t)?"}, {"owner": {"reputation": 412, "user_id": 5383769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Hk9at.jpg?s=128&g=1", "display_name": "Mehmet Kagan Kayaalp", "link": "https://stackoverflow.com/users/5383769/mehmet-kagan-kayaalp"}, "reply_to_user": {"reputation": 1266, "user_id": 8217289, "user_type": "registered", "profile_image": "https://graph.facebook.com/1520196004742080/picture?type=large", "display_name": "Cary Shindell", "link": "https://stackoverflow.com/users/8217289/cary-shindell"}, "edited": false, "score": 0, "creation_date": 1499350927, "post_id": 35955196, "comment_id": 76878358, "body": "@CaryShindell This solved my problem:   for comment in entry[&#39;comments&#39;].get(&#39;data&#39;, []):    new_media.comments.append(Comment.object_from_dictionary(com&zwnj;&#8203;ment))"}, {"owner": {"reputation": 1266, "user_id": 8217289, "user_type": "registered", "profile_image": "https://graph.facebook.com/1520196004742080/picture?type=large", "display_name": "Cary Shindell", "link": "https://stackoverflow.com/users/8217289/cary-shindell"}, "edited": false, "score": 0, "creation_date": 1499351915, "post_id": 35955196, "comment_id": 76879180, "body": "Ok, doesn&#39;t throw an error, but gives empty lists for comments (for posts where I know there are some)"}], "tags": [], "owner": {"reputation": 5823, "user_id": 503099, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gnC28.jpg?s=128&g=1", "display_name": "Forge", "link": "https://stackoverflow.com/users/503099/forge"}, "is_accepted": true, "score": 22, "last_activity_date": 1458450308, "last_edit_date": 1458450308, "creation_date": 1457769480, "answer_id": 35955196, "question_id": 33924581, "link": "https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client/35955196#35955196", "title": "KeyError: &#39;data&#39; with Python Instagram API client", "body": "<p>There is an open <a href=\"https://github.com/Instagram/python-instagram/issues/202\"><code>Github issue</code></a> for this bug, a <a href=\"https://github.com/shackra/python-instagram/commit/c7af85fa867bf33a2370bc051c45db07f656e0da\"><code>fix</code></a> was sent, but it's not merged yet.  </p>\n\n<p>Add the one line fix to <code>models.py</code> on your installed package.</p>\n\n<p>Open with sudo:</p>\n\n<pre><code>sudo vi /Library/Python/2.7/site-packages/instagram/models.py  # Use relevant python version \n</code></pre>\n\n<p>On line 99, add this:</p>\n\n<pre><code>if \"data\" in entry[\"comments\"]:\n</code></pre>\n\n<p>Correct indentation on next two lines:</p>\n\n<pre><code>       for comment in entry['comments']['data']: \n           new_media.comments.append(Comment.object_from_dictionary(comment))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5050498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227efb526b81caa48091f1f483f96cbc?s=128&d=identicon&r=PG&f=1", "display_name": "zgazak", "link": "https://stackoverflow.com/users/5050498/zgazak"}, "is_accepted": false, "score": 1, "last_activity_date": 1463654897, "creation_date": 1463654897, "answer_id": 37320983, "question_id": 33924581, "link": "https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client/37320983#37320983", "title": "KeyError: &#39;data&#39; with Python Instagram API client", "body": "<p>+1 for answer from @forge</p>\n\n<p>For docker users (as asked in a comment), fork the python-instagram repo, edit, and then pip install via github.</p>\n\n<p>Or just use someone else's fork with the following line in your Dockerfile:</p>\n\n<pre><code>pip install git+https://github.com/zgazak/python-instagram\n</code></pre>\n\n<p><a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a><a href=\"/questions/tagged/instagram-api\" class=\"post-tag\" title=\"show questions tagged &#39;instagram-api&#39;\" rel=\"tag\">instagram-api</a> <a href=\"/questions/tagged/docker\" class=\"post-tag\" title=\"show questions tagged &#39;docker&#39;\" rel=\"tag\">docker</a></p>\n"}, {"comments": [{"owner": {"reputation": 7381, "user_id": 7802200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Adik7.png?s=128&g=1", "display_name": "Arya McCarthy", "link": "https://stackoverflow.com/users/7802200/arya-mccarthy"}, "edited": false, "score": 1, "creation_date": 1495599053, "post_id": 44148801, "comment_id": 75314748, "body": "If it&#39;s &quot;not really an answer&quot;, then you should leave it as a comment when you have enough reputation to leave comments."}], "tags": [], "owner": {"reputation": 1, "user_id": 7595365, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208305116842456/picture?type=large", "display_name": "Cj Goldsmith", "link": "https://stackoverflow.com/users/7595365/cj-goldsmith"}, "is_accepted": false, "score": 0, "last_activity_date": 1495598752, "creation_date": 1495598752, "answer_id": 44148801, "question_id": 33924581, "link": "https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client/44148801#44148801", "title": "KeyError: &#39;data&#39; with Python Instagram API client", "body": "<p>This is not really an answer just a quick workaround based on the answer by @forge when you are working in environments like docker or an environment that doesn't have a readable terminal.</p>\n\n<pre><code>sed -i '99,100 s/^/#/' /usr/local/lib/python3.5/site-packages/instagram/models.py\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 5605510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb911bd6777b8b62e52aaffebe1721d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/5605510/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4221, "favorite_count": 1, "accepted_answer_id": 35955196, "answer_count": 4, "score": 11, "last_activity_date": 1553080158, "creation_date": 1448478482, "last_edit_date": 1553080158, "question_id": 33924581, "link": "https://stackoverflow.com/questions/33924581/keyerror-data-with-python-instagram-api-client", "title": "KeyError: &#39;data&#39; with Python Instagram API client", "body": "<p>I'm using this client <a href=\"https://github.com/Instagram/python-instagram\" rel=\"nofollow noreferrer\"><code>python-instagram</code></a> with <code>Python 3.4.3</code> on <code>MacOS</code>.</p>\n\n<p>Here are my steps:</p>\n\n<ul>\n<li>Registered a new client on <code>instagram</code>, received <code>client_id</code> and <code>client_secret</code></li>\n<li>Pip install <code>python-instagram</code></li>\n<li>Copy <code>sample_app.py</code> to my mac</li>\n</ul>\n\n<p>I followed the instructions on <a href=\"https://github.com/Instagram/python-instagram#sample-app\" rel=\"nofollow noreferrer\"><code>Sample app</code></a>, I successfully authorized my app via instagram and tried this <a href=\"https://i.stack.imgur.com/VB7Tt.png\" rel=\"nofollow noreferrer\">list of examples</a>, but none of them worked. After my click the <code>&lt;h2&gt;</code> header and counter of API requests changes and I see <code>Remaining API Calls = 486/500</code>.</p>\n\n<p>If I try to get <code>User Recent Media</code> an exception <code>KeyError: 'data'</code> shows in my terminal. If I delete <code>try - except</code> construction, leaving block in <code>try</code>, when I'll see 'Error: 500 Internal Server Error'.</p>\n\n<p>Here is the traceback: </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/bottle.py\", line 862, in _handle\nreturn route.call(**args)\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/bottle.py\", line 1732, in wrapper\nrv = callback(*a, **ka)\nFile \"sample_app.py\", line 79, in on_recent\nrecent_media, next = api.user_recent_media()\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/instagram/bind.py\", line 197, in _call\nreturn method.execute()\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/instagram/bind.py\", line 189, in execute\ncontent, next = self._do_api_request(url, method, body, headers)\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/instagram/bind.py\", line 151, in _do_api_request\nobj = self.root_class.object_from_dictionary(entry)\nFile \"/Users/user/.envs/insta/lib/python3.4/site-packages/instagram/models.py\", line 99, in object_from_dictionary\nfor comment in entry['comments']['data']:\nKeyError: 'data'\n</code></pre>\n\n<p>All the code I used is from the sample of the official python API client by Instagram. </p>\n"}, {"tags": ["python", "django", "postgresql", "azure", "heroku"], "comments": [{"owner": {"reputation": 360, "user_id": 3886980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0492f41efba3b51e3ba70bf7c0a647?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s Monge Moreno", "link": "https://stackoverflow.com/users/3886980/andr%c3%a9s-monge-moreno"}, "edited": false, "score": 0, "creation_date": 1452803839, "post_id": 33924490, "comment_id": 57341667, "body": "How did you ended up connecting the django web app with the postgresql VM? Or you just installed the django on a wsgi in the VM?"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "reply_to_user": {"reputation": 360, "user_id": 3886980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0492f41efba3b51e3ba70bf7c0a647?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s Monge Moreno", "link": "https://stackoverflow.com/users/3886980/andr%c3%a9s-monge-moreno"}, "edited": false, "score": 0, "creation_date": 1452807786, "post_id": 33924490, "comment_id": 57343824, "body": "Yes, the set up I have comprises two separate VMs - one hosting the DB, the other the web application."}, {"owner": {"reputation": 360, "user_id": 3886980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0492f41efba3b51e3ba70bf7c0a647?s=128&d=identicon&r=PG", "display_name": "Andr&#233;s Monge Moreno", "link": "https://stackoverflow.com/users/3886980/andr%c3%a9s-monge-moreno"}, "edited": false, "score": 1, "creation_date": 1452851990, "post_id": 33924490, "comment_id": 57359220, "body": "I finally make it work =D, thanks for your help !"}], "answers": [{"comments": [{"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 1, "creation_date": 1448524740, "post_id": 33925600, "comment_id": 55626497, "body": "You know, prior to delving into an Azure Web App, I was taking a very different approach. I made an Azure VM (w/ Ubuntu), and migrated my DB + app&#39;s code (via github) to it. It&#39;s still sitting there. But I&#39;ve put this approach on the back burner after I read Troy Hunt&#39;s article on <i>NOT</i> going the VM route: <a href=\"http://www.troyhunt.com/2014/01/with-great-azure-vm-comes-great.html\" rel=\"nofollow noreferrer\">troyhunt.com/2014/01/with-great-azure-vm-comes-great.html</a> But now it seems due to postgresql, I can&#39;t avoid the VM route here."}, {"owner": {"reputation": 2142, "user_id": 726155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihtSn.png?s=128&g=1", "display_name": "theadriangreen", "link": "https://stackoverflow.com/users/726155/theadriangreen"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1448524999, "post_id": 33925600, "comment_id": 55626624, "body": "Bear in mind that you can still run the web app on Azure App Service. It&#39;s just that you&#39;ll need to host the DB somewhere, and the only way to do that in Azure is by provisioning your own VM since Azure doesn&#39;t offer Postgres as a service."}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1448526054, "post_id": 33925600, "comment_id": 55627158, "body": "{% load rant%}{% rant %}Why don&#39;t you guys offer postgres as a service -_- {% endrant %} Have 2 follow-up noob questions for you (apologies in advance): (i) How do I find the <code>database_url</code> for my database on the Azure VM (the one I have to refer to in my settings.py)? (ii) How do I set environment variables for my app (some stuff in my settings.py depends on that)? My guess is, it&#39;s <b>Web Apps&gt; Application Name&gt;All Settings&gt;Application Settings&gt;App settings</b> in the management portal?"}, {"owner": {"reputation": 2142, "user_id": 726155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihtSn.png?s=128&g=1", "display_name": "theadriangreen", "link": "https://stackoverflow.com/users/726155/theadriangreen"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1448575408, "post_id": 33925600, "comment_id": 55654091, "body": "I think your original question is answered. Can you accept, and ask (i) as a separate question? For (ii) your guess is correct, it is the App settings. You can see the environment settings at the scm site (https://&lt;your-site-name&gt;.scm.azurewebsites.net/Env#envVaria&zwnj;&#8203;bles)."}], "tags": [], "owner": {"reputation": 2142, "user_id": 726155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihtSn.png?s=128&g=1", "display_name": "theadriangreen", "link": "https://stackoverflow.com/users/726155/theadriangreen"}, "is_accepted": false, "score": 2, "last_activity_date": 1448482329, "creation_date": 1448482329, "answer_id": 33925600, "question_id": 33924490, "link": "https://stackoverflow.com/questions/33924490/creating-an-azure-web-app-with-postgresql-database-is-that-possible/33925600#33925600", "title": "Creating an Azure Web App with Postgresql database (is that possible?)", "body": "<p>Azure Web Apps only offers web apps, since the database is provided by another service. Typically this is either Azure SQL, which provides a SQL Server database as a service, or ClearDB, which provides MySQL. </p>\n\n<p>Thus to get your Django app up and running with Postgres, you're going to need to deploy the Postgres DB somewhere. Initially you could try with your settings.py pointed at your Heroku Postgres DB, however you might run into some firewall settings on the DB side.</p>\n\n<p>If you were to follow the steps in the link (<a href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-postgresql/\" rel=\"nofollow\">https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-postgresql/</a>) then you could use that instance as your Postgres DB and adjust your settings.py file to point to that machine. You would also be able to change the postgresql.conf since you own the machine.</p>\n"}, {"comments": [{"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 1, "creation_date": 1448534271, "post_id": 33932046, "comment_id": 55632410, "body": "Thanks for the low down Gary. To connect via ssh, wouldn&#39;t I need publicdns? From a previous Azure article, I&#39;ve been using this command to connect to test Azure VMs I&#39;ve been creating: <code>ssh &lt;username&gt;@&lt;publicdnsaddress&gt; -p &lt;the ssh port&gt;</code>. On those VMs, if I try <code>ssh username@hostname -p 22</code>, I usually get <i>could not resolve hostname &lt;hostname&gt;</i>. What to do?"}, {"owner": {"reputation": 13274, "user_id": 4989668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6Z4G.jpg?s=128&g=1", "display_name": "Gary Liu - MSFT", "link": "https://stackoverflow.com/users/4989668/gary-liu-msft"}, "reply_to_user": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 1, "creation_date": 1448587562, "post_id": 33932046, "comment_id": 55657113, "body": "if you create a VM via the previous article, you can find the <b>DNS NAME</b>  in the DASHBOARD page of your VM portal on <a href=\"https://manage.windowsazure.com\" rel=\"nofollow noreferrer\">Azure mange portal</a>, which should be like <code>{your_vm_name}.cloudapp.net</code>. And check whether the 22 port has been allowed at <b>ENDPOINT</b> page. Then you can directly leverage <code>ssh &lt;username&gt;@&lt;your_vm_name&gt;.cloudapp.net</code> to connect your VM"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 0, "creation_date": 1448703973, "post_id": 33932046, "comment_id": 55696453, "body": "There&#39;s no <b>ENDPOINT</b> tab in a resource manager VM, or am I overlooking it?"}, {"owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "edited": false, "score": 1, "creation_date": 1448719386, "post_id": 33932046, "comment_id": 55700652, "body": "I just realized I&#39;ve been looking at portal.azure.com, whereas you&#39;re referring to manage.windowsazure.com. Two different dashboards with very different UI, meant for more or less the same thing. Microsoft."}], "tags": [], "owner": {"reputation": 13274, "user_id": 4989668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6Z4G.jpg?s=128&g=1", "display_name": "Gary Liu - MSFT", "link": "https://stackoverflow.com/users/4989668/gary-liu-msft"}, "is_accepted": true, "score": 6, "last_activity_date": 1448519815, "creation_date": 1448519815, "answer_id": 33932046, "question_id": 33924490, "link": "https://stackoverflow.com/questions/33924490/creating-an-azure-web-app-with-postgresql-database-is-that-possible/33932046#33932046", "title": "Creating an Azure Web App with Postgresql database (is that possible?)", "body": "<p>Azure Web Apps Service is a PaaS which provides several services to host your web site apps. And we have limit permission to install PostgreSQL on it. </p>\n\n<p>Currently, to host PostgreSQL on Azure, you can leverage virtual machines with linux as @theadriangreen mentioned. And you can use SSH command <code>ssh user@VMhost</code> to remote on your linux VM and set your PG configurations. You may refer to <a href=\"http://www.yolinux.com/TUTORIALS/LinuxTutorialPostgreSQL.html\" rel=\"noreferrer\">YoLinux Tutorial: The PostgreSQL Database and Linux</a> for more about PG on Linux.</p>\n\n<p>And additionally, you can create a docker contain with PostgreSQL image in Azure add-on market.</p>\n\n<p>Login preview manage portal, click new=>search \u201cpostgres\u201d in search bar, you can find the postgres service provided by docker. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4CP5k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4CP5k.png\" alt=\"enter image description here\"></a></p>\n\n<p>You also can remote to this VM via SSH to set your PG configurations.</p>\n\n<p>If you want a direct tcp connection to the PG server, you need to add 5432 port in the Inbound security rules. </p>\n\n<p>In \u201cAll settings\u201d of the VM server you created above, click \u201cNetwork interfaces\u201d=>click the interface in use=>click the network security group name in use, you can find the Inbound security rules in the settings page.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YDtNM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YDtNM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then you can test the connection of your PG service:</p>\n\n<pre><code>import psycopg2\n\ntry:\n    conn = psycopg2.connect(database=\"postgres\", user=\"postgres\", password=\"{password}\", host=\"{host_ip}\", port=\"5432\")\n    print \"Opened database successfully\"\n\n    cur = conn.cursor()\n\n    cur.execute(\"SELECT ARRAY[1.1,2.1,3.1]::int[] = ARRAY[1,2,3]\");\n    rows = cur.fetchall()\n    print(rows)\n\n    conn.commit()\n    print \"Records created successfully\";\n    conn.close()\nexcept Exception, e:\n    print \"I am unable to connect to the database\"\n</code></pre>\n"}], "owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3731, "favorite_count": 0, "accepted_answer_id": 33932046, "answer_count": 2, "score": 4, "last_activity_date": 1448519815, "creation_date": 1448478148, "last_edit_date": 1448479341, "question_id": 33924490, "link": "https://stackoverflow.com/questions/33924490/creating-an-azure-web-app-with-postgresql-database-is-that-possible", "title": "Creating an Azure Web App with Postgresql database (is that possible?)", "body": "<p>I use Heroku to host a Django web app with a postgres back-end. I'm now looking to migrate this web app to Azure, taking advantage of a great deal Azure recently offered me.</p>\n\n<p>But I'm confused about one thing: how can I create a Django website on Azure with <strong>postgresql as the database</strong>? I successfully created a Django website, connected it to git, but I can't seem to change it's DB to postgresql.</p>\n\n<p>Hence, when I do <code>git push azure master</code>, I get the error: <strong>Command python setup.py egg_info failed with error code 1 in D:\\home\\site\\wwwroot\\env\\build\\psycopg2</strong> It fails on psycopg2 (postgresql).</p>\n\n<p>Secondly, once I do successfully install postgresql on an Azure Web App, I'd need to tweak its postgresql.conf file to tune the settings (defaults are too low). How would I do that?</p>\n\n<hr>\n\n<p>The documentation only talks about how to install PG for an Azure VM with Linux, not an Azure Web App: <a href=\"https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-postgresql/\" rel=\"nofollow\">https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-linux-postgresql/</a></p>\n"}]