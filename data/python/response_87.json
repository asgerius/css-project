[{"tags": ["python", "macos", "py2app"], "comments": [{"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1473293053, "post_id": 39380636, "comment_id": 66089175, "body": "Google Drive probably didn&#39;t copy the executable file permissions. An internet search for your error should have explained this. From SuperUser: <a href=\"https://superuser.com/questions/898124/the-application-someapp-app-can-t-be-opened\">The application \u201cSomeApp.app\u201d can\u2019t be opened</a>"}, {"owner": {"reputation": 529, "user_id": 6292923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-2Z0rHi0ot3g/AAAAAAAAAAI/AAAAAAAAAAw/PM_H7HfLhik/photo.jpg?sz=128", "display_name": "Tevon Strand-Brown", "link": "https://stackoverflow.com/users/6292923/tevon-strand-brown"}, "reply_to_user": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1473304951, "post_id": 39380636, "comment_id": 66091680, "body": "So would copying it using a flash drive be different? I&#39;ve tried the methods detailed in that question."}, {"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1473305134, "post_id": 39380636, "comment_id": 66091717, "body": "Maybe, but I&#39;m not sure if OS X will preserve the permissions on certain drive formats like FAT32 which do not natively support them. A DMG or a ZIP could also work."}], "owner": {"reputation": 529, "user_id": 6292923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-2Z0rHi0ot3g/AAAAAAAAAAI/AAAAAAAAAAw/PM_H7HfLhik/photo.jpg?sz=128", "display_name": "Tevon Strand-Brown", "link": "https://stackoverflow.com/users/6292923/tevon-strand-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473292634, "creation_date": 1473292634, "question_id": 39380636, "link": "https://stackoverflow.com/questions/39380636/the-application-some-app-can-t-be-opened-error-after-creating-with-py2app", "title": "The application \u201cSome.app\u201d can\u2019t be opened. Error after creating with py2App", "body": "<p>I created an OSX Something.app using py2app. The app worked great on my computer but then failed when I moved it over to my other computer where I got the warning\n<code>The application \u201cCleanScraper\u201d can\u2019t be opened.</code></p>\n\n<p>The whole point for me packaging my python script up as an app was so I could transfer it easily between machines without having to install all the needed modules each time. </p>\n\n<p>I used Google Drive to try the app on both computers. I also found that when I built a fresh version with py2app on the other machine it worked on that one, but not the first machine. </p>\n\n<p>Is there a trick to making py2app apps transferable between machines? Does the app 'know' its home machine somehow?</p>\n"}, {"tags": ["python", "performance", "dictionary", "hashmap", "big-o"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473292476, "post_id": 39380593, "comment_id": 66089067, "body": "<code>O(n)</code> of course as you at worst case have to look at every value. If using python2 just calling <code>.values()</code> alone creates a list of all values."}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1473292485, "post_id": 39380593, "comment_id": 66089069, "body": "O(n). It has read all the values and compare with each of them. BTW, it won&#39;t work that way if you have lists as values."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1473292492, "post_id": 39380593, "comment_id": 66089071, "body": "basically it&#39;s <code>O(n)</code>. But if you want to look up in such values that are lists it won&#39;t be O(n) any more."}, {"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1473292501, "post_id": 39380593, "comment_id": 66089074, "body": "Typically it is of O(n), as it it is just passing through a list"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473293778, "post_id": 39380593, "comment_id": 66089329, "body": "You also asked a question 2 days ago that gave you the complexity for all python operations <a href=\"http://stackoverflow.com/questions/39338520/time-complexity-for-a-sublist-in-python\" title=\"time complexity for a sublist in python\">stackoverflow.com/questions/39338520/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 4, "last_activity_date": 1473292954, "last_edit_date": 1473292954, "creation_date": 1473292494, "answer_id": 39380616, "question_id": 39380593, "link": "https://stackoverflow.com/questions/39380593/time-complexity-for-lookup-in-dictionary-values-lists-vs-sets/39380616#39380616", "title": "Time complexity for lookup in dictionary.values() lists vs sets", "body": "<p>Let be <code>x in s</code> the operation which searches in a list, {x=item , s=list}</p>\n\n<p>The average case - assuming parameters generated uniformly at random - for such operation will be O(n)</p>\n\n<p>For more info about time complexity, here's the <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow\">official link</a></p>\n"}], "owner": {"reputation": 849, "user_id": 3681985, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/584929c8f165b078f5dfad38b6fe86eb?s=128&d=identicon&r=PG&f=1", "display_name": "Sriram", "link": "https://stackoverflow.com/users/3681985/sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6796, "favorite_count": 0, "closed_date": 1473294044, "accepted_answer_id": 39380616, "answer_count": 1, "score": 10, "last_activity_date": 1473302804, "creation_date": 1473292251, "last_edit_date": 1473302804, "question_id": 39380593, "link": "https://stackoverflow.com/questions/39380593/time-complexity-for-lookup-in-dictionary-values-lists-vs-sets", "closed_reason": "Duplicate", "title": "Time complexity for lookup in dictionary.values() lists vs sets", "body": "<p>In Python, we know that looking up a key in a dictionary takes O(1) run time, but what is the run time to look up in the dictionary.values() ?</p>\n\n<pre><code>dictionary = {'a':[66,77,88], 'b':[99,100]}\nkey = 'a'\nif key in dictionary: # takes O(1) run time \n\nnumber = '99'\nif number in dictionary.values():  # What is the run time here?\n</code></pre>\n\n<p>Edit #1: The values for the keys could be either lists or sets. Many folks have responded that if the values are lists the run time is O(1).   </p>\n\n<p>Will it be O(N) if values are sets?</p>\n\n<pre><code>dictionary = {'a':(66,77,88), 'b':(99,100)}\nnumber = '99'\nif number in dictionary.values():  # What is the run time here?\n</code></pre>\n"}, {"tags": ["python", "sql"], "comments": [{"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1473292754, "post_id": 39380591, "comment_id": 66089123, "body": "Try using the <a href=\"http://stackoverflow.com/questions/2018512/reading-tar-file-contents-without-untarring-it-in-python-script\">getmembers method</a>"}, {"owner": {"reputation": 1831, "user_id": 4639321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/23e54cddd0ec5050e3c12def502c1565?s=128&d=identicon&r=PG&f=1", "display_name": "GMarsh", "link": "https://stackoverflow.com/users/4639321/gmarsh"}, "edited": false, "score": 0, "creation_date": 1473303253, "post_id": 39380591, "comment_id": 66091337, "body": "what do you get when you print <code>tar.getnames()</code>"}, {"owner": {"reputation": 1967, "user_id": 6762788, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Pcz8P.jpg?s=128&g=1", "display_name": "Geet", "link": "https://stackoverflow.com/users/6762788/geet"}, "edited": false, "score": 0, "creation_date": 1473306134, "post_id": 39380591, "comment_id": 66091925, "body": "I get a list of file names compressed inside the &quot;mysql-2016-09-05.tar.gz&quot; file. To be exact, I get this list [&#39;mysql-2016-09-05&#39;,  &#39;mysql-2016-09-05/commit_comments.csv&#39;, ... &#39;mysql-2016-09-05/ght-restore-mysql&#39;,  &#39;mysql-2016-09-05/project_languages.csv&#39;]"}], "owner": {"reputation": 1967, "user_id": 6762788, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Pcz8P.jpg?s=128&g=1", "display_name": "Geet", "link": "https://stackoverflow.com/users/6762788/geet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473292250, "creation_date": 1473292250, "question_id": 39380591, "link": "https://stackoverflow.com/questions/39380591/how-to-fix-the-file-does-not-exist-error-with-read-csv-in-python", "title": "How to fix the file does not exist error with read_csv in Python?", "body": "<p>Sorry for providing the large code here. I am not sure where the real problem is. I want to transfer data from multiple csv files compressed within tar.gz file to the SQL server. Each csv file should be a table in SQL server.</p>\n\n<pre><code>import sqlalchemy, pyodbc, zipfile, os, gzip,tarfile, pandas \nfrom StringIO import StringIO\nfrom sqlalchemy import create_engine\n\nengine = create_engine('mssql+pyodbc:...This is correct, I checked!')\ninfile=\"mysql-2016-09-05.tar.gz\"\ndef linecount(infile, member):\n    lc = 0\n    with gzip.GzipFile(infile) as zipf:\n        with tarfile.TarFile(fileobj=zipf) as tarf:\n            dataf = tarf.extractfile(member)\n            while dataf.readline():\n               lc += 1 \n            dataf.close()       \n    return lc\n\nchunksize = 10000\n\nos.chdir(\"from file path: This is correct, I checked!\")\ntar = tarfile.open(infile)\n\nfor member in tar.getnames():\n    if member.endswith(\"csv\"):\n        nlines=linecount(infile,member)    \n        for i in range(0, nlines, chunksize):\n            df = pandas.read_csv(member,sep=',', nrows=chunksize, skiprows=i)\n            filename=member.split(\"/\")[1]\n            df.to_sql(filename, engine, if_exists='append',index= False, index_label=None, chunksize=chunksize)\n    else:\n        continue\n\ntar.close()\nengine.dispose()\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>Traceback (most recent call last):                                                                                                                                              \n  File \"tar3.py\", line 26, in &lt;module&gt;                                                                                                                                          \n  df = pandas.read_csv(member,sep=',', nrows=chunksize, skiprows=i)\n  .\n  .\n  IOError: File mysql-2016-09-05/commit_comments.csv does not exist\n</code></pre>\n\n<p>Please advise the fix. Thanks!</p>\n"}, {"tags": ["python", "casting", "z3", "z3py", "bitvector"], "answers": [{"tags": [], "owner": {"reputation": 7764, "user_id": 869966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de76b0a45b1c27f08ec1c8e23153588?s=128&d=identicon&r=PG", "display_name": "Christoph Wintersteiger", "link": "https://stackoverflow.com/users/869966/christoph-wintersteiger"}, "is_accepted": true, "score": 2, "last_activity_date": 1473354362, "creation_date": 1473354362, "answer_id": 39396652, "question_id": 39380560, "link": "https://stackoverflow.com/questions/39380560/z3py-cast-boolref-to-one-bit-bitvecref/39396652#39396652", "title": "z3Py: Cast BoolRef to one-bit BitVecRef", "body": "<p>Bit-vectors can't be casted to Boolean automatically. The usual approach is to wrap them in if-then-elses, e.g., in this example, instead of </p>\n\n<pre><code>s.add(res == (bv1 &lt; bv2))\n</code></pre>\n\n<p>we can say</p>\n\n<pre><code>c = If(bv1 &lt; bv2, BitVecVal(1, 1), BitVecVal(0, 1))\ns.add(res == c)\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 6806787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DA7Gscb8GcA/AAAAAAAAAAI/AAAAAAAAAEc/BGsdeHaAvLo/photo.jpg?sz=128", "display_name": "natonomo", "link": "https://stackoverflow.com/users/6806787/natonomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 39396652, "answer_count": 1, "score": 1, "last_activity_date": 1473354362, "creation_date": 1473291955, "question_id": 39380560, "link": "https://stackoverflow.com/questions/39380560/z3py-cast-boolref-to-one-bit-bitvecref", "title": "z3Py: Cast BoolRef to one-bit BitVecRef", "body": "<p>Is it possible to cast <code>BoolRef</code> to a one-bit-long <code>BitVecRef</code> in z3Py? In my design, it is required that a <code>BitVecRef</code> is returned from a comparison between two other <code>BitVecRef</code>'s. This would be similar to casting a python <code>bool</code> to an <code>int</code>. Here is an example of its use:</p>\n\n<pre><code>bv1, bv2, added = z3.BitVecs('bv1 bv2 added', 4)\nres = z3.BitVec('res', 1)\ns = z3.Solver()\ns.add(res == (bv1 &lt; bv2))\ns.add(added == added + z3.ZeroExt(3, res))\n</code></pre>\n\n<p>This would be ideal, but the type of <code>(bv1 &lt; bv2)</code> is <code>Boolref</code>, and it throws a \"sort mismatch\" error. Is there a way to cast the result of <code>(bv1 &lt; bv2)</code> so that <code>res</code> can asserted equal to it?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 0, "last_activity_date": 1473292522, "creation_date": 1473292522, "answer_id": 39380622, "question_id": 39380527, "link": "https://stackoverflow.com/questions/39380527/pygame-how-to-blit-an-image-that-follows-another-image/39380622#39380622", "title": "Pygame: how to blit an image that follows another image", "body": "<p>Keep positions of snake segments on list (first segment is head).</p>\n\n<p>Later new position of head insert before first segment (and remove last segment). </p>\n\n<p>Use this list to blit snake segments.</p>\n"}], "owner": {"reputation": 49, "user_id": 6806633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d15f0596aa76604aa3cf2bf45b6b3f67?s=128&d=identicon&r=PG&f=1", "display_name": "Junio Cal&#250;", "link": "https://stackoverflow.com/users/6806633/junio-cal%c3%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 39380622, "answer_count": 1, "score": 0, "last_activity_date": 1473292522, "creation_date": 1473291612, "question_id": 39380527, "link": "https://stackoverflow.com/questions/39380527/pygame-how-to-blit-an-image-that-follows-another-image", "title": "Pygame: how to blit an image that follows another image", "body": "<p>I'm trying reproduce the game \"Snake\" in pygame, using the pygame.blit function, instead of pygame.draw. My question is how to make an image follow another image. I mean, make the snake's body photo follow your head. In the current state of my program the head moves on its own.</p>\n"}, {"tags": ["python", "grid", "interpolation"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6806746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf915863a21468cc7cde74dfaee81407?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6806746/ben"}, "edited": false, "score": 0, "creation_date": 1473379809, "post_id": 39380757, "comment_id": 66129791, "body": "Thanks for your answer. I have not got, why evaluating every grid point with the same amount of points would help me in this case. In the end I would like to put the interpolated data into a system of finite-difference-equations. As you said the grid will be still regular, so I don&#39;t see how this will improve the accuracy of the finite-difference-equations (which are themselves an approximation). I mean it is not about regions being highly or sparsely populated in terms of data points. It is about the drastic change in the physical quantity z in some regions, that I want to interpolated."}, {"owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "reply_to_user": {"reputation": 3, "user_id": 6806746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf915863a21468cc7cde74dfaee81407?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6806746/ben"}, "edited": false, "score": 0, "creation_date": 1473383517, "post_id": 39380757, "comment_id": 66130591, "body": "You didn&#39;t mention that you would like to use the results in finite-difference equations so I thought that the question was purely about fitting strong gradient changes locally (where possible); scipy.interpolate relies on splines, which generally have a &quot;global&quot; smoothness parameter (AFAIK; I haven&#39;t checked the implementation in scipy.interpolate)."}, {"owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "reply_to_user": {"reputation": 3, "user_id": 6806746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf915863a21468cc7cde74dfaee81407?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6806746/ben"}, "edited": false, "score": 0, "creation_date": 1473384250, "post_id": 39380757, "comment_id": 66130745, "body": "Also, a grid with a smoothly varying mesh size can&#39;t be made out of squares... Triangles is what you are looking at."}], "tags": [], "owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "is_accepted": false, "score": 0, "last_activity_date": 1473330940, "last_edit_date": 1473330940, "creation_date": 1473293630, "answer_id": 39380757, "question_id": 39380436, "link": "https://stackoverflow.com/questions/39380436/how-to-interpolated-irregularly-distributed-data-on-a-non-linear-grid-in-python/39380757#39380757", "title": "How to interpolated irregularly distributed data on a non-linear grid in python?", "body": "<p>I think you have it backwards: your grid can be as regular as can be but each grid point should be evaluated using the same number of sample points, thus allowing for strong gradient changes in regions of high sample density, and imposing smoothness in data sparse regions. </p>\n\n<p>I use inverse-distance weighted trees for that.\nThe implementation that I have floating around in python:\n    import numpy as np\n    from scipy.spatial import cKDTree</p>\n\n<pre><code>class invdisttree(object):\n    \"\"\"\n    Compute the score of query points based on the scores of their k-nearest neighbours,\n    weighted by the inverse of their distances.\n\n    @reference:\n    https://en.wikipedia.org/wiki/Inverse_distance_weighting\n\n    Example:\n    --------\n\n    import numpy as np\n    import matplotlib.pyplot as plt\n    from invdisttree import invdisttree\n\n    import matplotlib.pyplot as plt\n\n    # create sample points with structured scores\n    X1 = 10 * np.random.rand(1000, 2) -5\n\n    def func(x, y):\n        return np.sin(x**2 + y**2) / (x**2 + y**2)\n\n    z1 = func(X1[:,0], X1[:,1])\n\n    # 'train'\n    tree = invdisttree(X1, z1)\n\n    # 'test'\n    spacing = np.linspace(-5., 5., 100)\n    X2 = np.meshgrid(spacing, spacing)\n    grid_shape = X2[0].shape\n    X2 = np.reshape(X2, (2, -1)).T\n    z2 = tree(X2)\n\n    fig, (ax1, ax2, ax3) = plt.subplots(1,3, sharex=True, sharey=True, figsize=(10,3))\n    ax1.contourf(spacing, spacing, func(*np.meshgrid(spacing, spacing)))\n    ax1.set_title('Ground truth')\n    ax2.scatter(X1[:,0], X1[:,1], c=z1, linewidths=0)\n    ax2.set_title('Samples')\n    ax3.contourf(spacing, spacing, z2.reshape(grid_shape))\n    ax3.set_title('Reconstruction')\n    plt.show()\n\n    \"\"\"\n    def __init__(self, X=None, z=None, leafsize=10):\n        if not X is None:\n            self.tree = cKDTree(X, leafsize=leafsize )\n        if not z is None:\n            self.z = z\n\n    def fit(self, X=None, z=None, leafsize=10):\n        \"\"\"\n        Arguments:\n        ----------\n            X: (N, d) ndarray\n                Coordinates of N sample points in a d-dimensional space.\n            z: (N,) ndarray\n                Corresponding scores.\n            leafsize: int (default 10)\n                Leafsize of KD-tree data structure;\n                should be less than 20.\n\n        Returns:\n        --------\n            invdisttree instance: object\n        \"\"\"\n        return self.__init__(X, z, leafsize)\n\n    def __call__(self, X, k=6, eps=1e-6, p=2, regularize_by=1e-9):\n        self.distances, self.idx = self.tree.query(X, k, eps=eps, p=p)\n        self.distances += regularize_by\n        weights = self.z[self.idx.ravel()].reshape(self.idx.shape)\n        mw = np.sum(weights/self.distances, axis=1) / np.sum(1./self.distances, axis=1)\n        return mw\n\n    def transform(self, X, k=6, p=2, eps=1e-6, regularize_by=1e-9):\n        \"\"\"\n        Arguments:\n        ----------\n            X: (N, d) ndarray\n                Coordinates of N query points in a d-dimensional space.\n\n            k: int (default 6)\n                Number of nearest neighbours to use.\n\n            p: int or inf\n                Which Minkowski p-norm to use.\n                1 is the sum-of-absolute-values \"Manhattan\" distance\n                2 is the usual Euclidean distance\n                infinity is the maximum-coordinate-difference distance\n\n            eps: float (default 1e-6)\n                Return approximate nearest neighbors; the k-th returned value\n                is guaranteed to be no further than (1+eps) times the\n                distance to the real k-th nearest neighbor.\n\n            regularise_by: float (default 1e-9)\n                Regularise distances to prevent division by zero\n                for sample points with the same location as query points.\n\n        Returns:\n        --------\n            z: (N,) ndarray\n                Corresponding scores.\n        \"\"\"\n        return self.__call__(X, k, eps, p, regularize_by)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6806746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf915863a21468cc7cde74dfaee81407?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/6806746/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473380131, "creation_date": 1473290911, "last_edit_date": 1473380131, "question_id": 39380436, "link": "https://stackoverflow.com/questions/39380436/how-to-interpolated-irregularly-distributed-data-on-a-non-linear-grid-in-python", "title": "How to interpolated irregularly distributed data on a non-linear grid in python?", "body": "<p>I got a dataset of around 80.000 points (x,y,z), while the points are irregularly distributed in the (x,y) \\in [0,a]x[0,b] plane and at every point (x,y) the physical quantity z takes a certain value. To further evaluate the data I want to interpolate it on a grid.</p>\n\n<p>Before I used scipy.interpolate.griddata to successfully interpolated them on a regular, quadratic, 2D grid. However this regular grid has the disadvantage, that it can't model the regions with drastic change in z appropriately, while there are to many data points in regions with only slight change in z.</p>\n\n<p>I would like to have a non-linear (preferably still quadratic, but with variable mesh size) grid, with more grid points in regions of drastic change in z and less data points in regions of slight change in z. </p>\n"}, {"tags": ["python", "python-3.x", "openpyxl"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1473315806, "post_id": 39380425, "comment_id": 66094780, "body": "Who is &quot;they&quot;? Where do you see this? Number formats are just strings to openpyxl."}, {"owner": {"reputation": 2647, "user_id": 302274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b5598a61f85012ea1de2a5c8cee2e6c?s=128&d=identicon&r=PG", "display_name": "analyticsPierce", "link": "https://stackoverflow.com/users/302274/analyticspierce"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1473316035, "post_id": 39380425, "comment_id": 66094904, "body": "@CharlieClark I updated the question to be more clear. I see the format with the backslashes in Excel. Is there something about a dollar sign that would cause it to be escaped? Other formats work as expected."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1473325854, "post_id": 39380425, "comment_id": 66100432, "body": "Excel does the escaping automatically presumably because it has poor string handling. You&#39;ll see it with things like date formats but it normally doesn&#39;t affect the output. There is a mini-language for number formats where the dollar sign plays a role in things like <code>[$-404]e&#47;m&#47;d</code> which might explain this."}, {"owner": {"reputation": 2647, "user_id": 302274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b5598a61f85012ea1de2a5c8cee2e6c?s=128&d=identicon&r=PG", "display_name": "analyticsPierce", "link": "https://stackoverflow.com/users/302274/analyticspierce"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 1, "creation_date": 1473344579, "post_id": 39380425, "comment_id": 66113041, "body": "@CharlieClark do you know of a way to get around it? Can I specify just &quot;Currency&quot; as the format?"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1473358950, "post_id": 39380425, "comment_id": 66121499, "body": "There is nothing to get around, it&#39;s just the way Excel works. openpyxl certainly does not this kind of escaping and neither do the various XML libraries."}, {"owner": {"reputation": 2647, "user_id": 302274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b5598a61f85012ea1de2a5c8cee2e6c?s=128&d=identicon&r=PG", "display_name": "analyticsPierce", "link": "https://stackoverflow.com/users/302274/analyticspierce"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 1, "creation_date": 1473359229, "post_id": 39380425, "comment_id": 66121644, "body": "@CharlieClark I love openpyxl and know that it is not the problem. But there should be someway to format the cell as Currency. Otherwise all the values are left as text which is unacceptable. The focus of the question is on some kind of solution to make this work."}, {"owner": {"reputation": 819, "user_id": 1374827, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/efdd8e80974b600f12e8c4c402249a6f?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1374827/jordan"}, "edited": false, "score": 0, "creation_date": 1587605315, "post_id": 39380425, "comment_id": 108579872, "body": "@analyticsPierce did you ever find a solution to this? I&#39;m also trying to format cell values such that they appear as &quot;Currency&quot; in Excel rather than &quot;Custom&quot;, but haven&#39;t found any way to achieve this."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8157159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0698aa8b4b6ce0be9a5b9572bedc8520?s=128&d=identicon&r=PG&f=1", "display_name": "rabkaman", "link": "https://stackoverflow.com/users/8157159/rabkaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1596660383, "creation_date": 1596660383, "answer_id": 63273254, "question_id": 39380425, "link": "https://stackoverflow.com/questions/39380425/how-to-set-cell-format-of-currency-with-openpyxl/63273254#63273254", "title": "How to set cell format of currency with OpenPyXL?", "body": "<p>I just formatted before placing into the cell.</p>\n<blockquote>\n<p>&quot;${:10,.2f}&quot;.format(7622086.82)</p>\n</blockquote>\n<p>'$7,622,086.82'</p>\n"}, {"tags": [], "owner": {"reputation": 583, "user_id": 1809218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93994bc3fd1acd9d7f83007a38f53029?s=128&d=identicon&r=PG", "display_name": "Bruno", "link": "https://stackoverflow.com/users/1809218/bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1599733685, "creation_date": 1599733685, "answer_id": 63827737, "question_id": 39380425, "link": "https://stackoverflow.com/questions/39380425/how-to-set-cell-format-of-currency-with-openpyxl/63827737#63827737", "title": "How to set cell format of currency with OpenPyXL?", "body": "<p>I formatted the cell in Excel, and then copied the format.</p>\n<p>This worked for me</p>\n<pre><code>.number_format = '[$$-409]#,##0.00;[RED]-[$$-409]#,##0.00'\n</code></pre>\n"}], "owner": {"reputation": 2647, "user_id": 302274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3b5598a61f85012ea1de2a5c8cee2e6c?s=128&d=identicon&r=PG", "display_name": "analyticsPierce", "link": "https://stackoverflow.com/users/302274/analyticspierce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3632, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1599733685, "creation_date": 1473290809, "last_edit_date": 1495542767, "question_id": 39380425, "link": "https://stackoverflow.com/questions/39380425/how-to-set-cell-format-of-currency-with-openpyxl", "title": "How to set cell format of currency with OpenPyXL?", "body": "<p>I have a Python 3 script that is loading some data into an Excel file on a Windows machine. I need the cell not just the number to be formatted as Currency. </p>\n\n<p>I can use the following format to set the Number format for a cell:</p>\n\n<pre><code>sheet['D48'].number_format = '#,##0'\n</code></pre>\n\n<p>However, when I try a similar approach using the number format for Currency:</p>\n\n<pre><code>sheet['M48'].number_format = '($#,##0.00_);[Red]($#,##0.00)'\n</code></pre>\n\n<p>I get this for the custom format. Notice the extra backslashes, they are being added to the format so it does not match with the pre-defined Currency style.</p>\n\n<pre><code>(\\$#,##0.00_);[Red](\\$#,##0.00)\n</code></pre>\n\n<p>I have seen this question and used it to get this far. However the answer does not solve the extra backslash issue I am seeing. \n<a href=\"https://stackoverflow.com/questions/34652300/set-openpyxl-cell-format-to-currency\">Set openpyxl cell format to currency</a></p>\n"}, {"tags": ["python", "nltk", "word2vec"], "answers": [{"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 0, "last_activity_date": 1473956273, "creation_date": 1473956273, "answer_id": 39515884, "question_id": 39380424, "link": "https://stackoverflow.com/questions/39380424/why-no-output-using-word2vec/39515884#39515884", "title": "Why no output using Word2Vec?", "body": "<p>The function <code>model.doesnt_match()</code> doesn't print anything out; it returns a value. <strong>Print</strong> the returned value to see the output. </p>\n\n<p>If you were copy-pasting from this <a href=\"http://rare-technologies.com/word2vec-tutorial/\" rel=\"nofollow\"><code>word2vec</code> tutorial</a>: It's showing you the output you'd see if you ran these commands in the interactive console. (Also, it assumes that you understand what you're doing.)</p>\n"}], "owner": {"reputation": 1430, "user_id": 5739619, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dc9137cd10cc63c14d4c774bc81ef98a?s=128&d=identicon&r=PG&f=1", "display_name": "user5739619", "link": "https://stackoverflow.com/users/5739619/user5739619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473956273, "creation_date": 1473290798, "last_edit_date": 1473365404, "question_id": 39380424, "link": "https://stackoverflow.com/questions/39380424/why-no-output-using-word2vec", "title": "Why no output using Word2Vec?", "body": "<p>I have a dataframe <code>DF</code> that looks like</p>\n\n<pre><code>index posts\n0     &lt;div class=\"content\"&gt;A number of  &lt;br/&gt;&lt;br/&gt;three  ... &lt;/div&gt;\n1     &lt;div class=\"content\"&gt;Stack ... &lt;br/&gt;&lt;br/&gt;overflow  ... &lt;/div&gt;\n...\n</code></pre>\n\n<p>I then try to tokenize each <code>posts</code> with:</p>\n\n<pre><code>sentences=[]\nfor post in DF[\"posts\"]:\n     sentences += utility.tosentences(post, tokenizer)\n</code></pre>\n\n<p>I then run Word2Vec using the below:</p>\n\n<pre><code>logging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s',\\\nlevel=logging.INFO)\n\nnum_features = 100\nmin_word_count = 7\nnum_workers = 2\ncontext = 5\ndownsampling = 1e-5\n\nprint \"Training model...\"\nmodel = word2vec.Word2Vec(sentences,     workers=num_workers, \\\n        size=num_features, min_count = min_word_count, \\\n        window = context, sample = downsampling)\n\nmodel.init_sims(replace=True)\n\nWord2Vec.load()\nmodel_name = \"what\"\nmodel.save(model_name)\nprint \"finished\"\n</code></pre>\n\n<p>I then tested the below</p>\n\n<pre><code>model.doesnt_match(\"travel no Warning health\".split())\n</code></pre>\n\n<p>However, it didn't produce an output at all</p>\n\n<p>I don't understand the meaning of the large output I got above. Why is this not working?</p>\n"}, {"tags": ["python", "json", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 24467, "user_id": 6207849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9d1a7dcb20c04510d19271281354b1?s=128&d=identicon&r=PG", "display_name": "Nickil Maveli", "link": "https://stackoverflow.com/users/6207849/nickil-maveli"}, "edited": false, "score": 0, "creation_date": 1473321210, "post_id": 39380335, "comment_id": 66097803, "body": "Could you add the head of the <code>df</code> alongside?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1473322985, "post_id": 39380335, "comment_id": 66098762, "body": "The error is clear you&#39;re performing string operation on non string <code>dtype</code> columns, what does <code>df.info()</code> show? you need to perform the clean on string columns only"}], "owner": {"reputation": 11, "user_id": 6732488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c55efeea3650bf48d5096926123d4a8?s=128&d=identicon&r=PG&f=1", "display_name": "anusha acharya", "link": "https://stackoverflow.com/users/6732488/anusha-acharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1244, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473290083, "creation_date": 1473290083, "question_id": 39380335, "link": "https://stackoverflow.com/questions/39380335/pandas-error-can-only-use-str-accessor-with-string-values-which-use-no-object", "title": "Pandas error : can only use .str accessor with string values which use no.object dtype", "body": "<p>My input file is a Json file</p>\n\n<pre><code>{ \"infile\":\"c:/tmp/cust-in-sample.xlsx\",\n   \"SheetName\":\"Sheet1\",\n   \"CleanColumns\":[1,2],\n   \"DeleteColumns\":[3,5],\n   \"outfile\":\"c:/tmp/out-cust-in-sample.csv\"            \n}\n</code></pre>\n\n<p>I would like to have specified columns in json to cleaned and deleted. However I'm getting the pandas string error.</p>\n\n<p>I'm currently trying this code:</p>\n\n<pre><code>import json\nimport pandas as pd\nimport gzip\nimport shutil\nimport sys\n\nzJsonFile = sys.argv[-1]\n\niCount = len(sys.argv)\n\n\nif iCount == 2:\n    print \"json file path \" ,zJsonFile\nelse:\n    print \"need a json file path ending the script\"\n    sys.exit()\n\n\nwith open(zJsonFile,'rb') as zTestJson:\n    decoded = json.load(zTestJson)\n\n#Parameterizing the code, reading each key from 'decoded' variable and putting it into another variable for the purpose \n#of parameterizing\n\nInfile = decoded.get('infile')\nprint Infile\n\n\nOutfile = decoded.get('outfile')\nprint Outfile\n\n\nSheetname = decoded.get('SheetName')\nprint Sheetname\n\n# this is a list\ndeletecols = decoded.get('DeleteColumns')\nprint deletecols\n\n#this is a list\ncleancols = decoded.get('CleanColumns')\nprint cleancols\ninput_sheet = pd.ExcelFile(Infile)                            \ndfs = {}                                                     \nfor x in [Sheetname]:                          \n    dfs[x] = input_sheet.parse(x)\n    print dfs                                             \n\ndf = pd.DataFrame(dfs[x])             # COnverting dict to dataframe\nprint df\ndeletecols = df.columns.values.tolist()\ncleancols = df.columns.values.tolist()\nfor idx,item in enumerate(deletecols):\n    df.pop(item)\n#df.drop(df.columns[deletecols],axis=1,inplace=True)   \n#Cleaning the code\n#cleancols=[]\nfor x in cleancols:                                                                       \n    df[x] = df[x].str.replace(to_replace = '\"', value = '', regex = True)\n    df[x] = df[x].str.replace(to_replace = \"'\", value = '', regex = True)\n    df[x] = df[x].str.replace(to_replace = \",\", value = '', regex = True)\n</code></pre>\n\n<p>I tried df.pop, df.drop nothing of this looks like its working for me and neither creating a loop and looping through cleancols is cleaning my file.</p>\n\n<p>Any help is highly appreciated.!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1473290237, "post_id": 39380316, "comment_id": 66088540, "body": "Are the numbers already stored as a numpy array?"}], "answers": [{"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 2, "last_activity_date": 1473291101, "creation_date": 1473291101, "answer_id": 39380451, "question_id": 39380316, "link": "https://stackoverflow.com/questions/39380316/python-normal-distribution/39380451#39380451", "title": "python normal distribution", "body": "<p>This might help.  We will use <code>numpy</code> to grab the values you are looking for.  In my example, I create a normally distributed array and then use boolean slicing to return the elements that are outside of +/- 1, 2, or 3 standard deviations.  </p>\n\n<pre><code>import numpy as np\n\n# create a random normally distributed integer array\nmy_array = np.random.normal(loc=30, scale=10, size=100).astype(int)\n\n# find the mean and standard dev\nmy_mean = my_array.mean()\nmy_std = my_array.std()\n\n# find numbers outside of 1, 2, and 3 standard dev\n# the portion inside the square brackets returns an\n# array of True and False values.  Slicing my_array\n# with the boolean array return only the values that\n# are True\nout_std_1 = my_array[np.abs(my_array-my_mean) &gt; my_std]\nout_std_2 = my_array[np.abs(my_array-my_mean) &gt; 2*my_std]\nout_std_3 = my_array[np.abs(my_array-my_mean) &gt; 3*my_std]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 6739634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a4172a81f121fd7189269d6ed819fd?s=128&d=identicon&r=PG&f=1", "display_name": "StarFox", "link": "https://stackoverflow.com/users/6739634/starfox"}, "is_accepted": false, "score": 1, "last_activity_date": 1473291727, "creation_date": 1473291727, "answer_id": 39380538, "question_id": 39380316, "link": "https://stackoverflow.com/questions/39380316/python-normal-distribution/39380538#39380538", "title": "python normal distribution", "body": "<p>You are on the right track there. You know the mean and standard deviation of your list <code>l</code>, though I'm going to call it something a little less ambiguous, say, <code>samplePopulation</code>. </p>\n\n<p>Because you want to do this for several intervals of standard deviation, I recommend crafting a small function. You can call it multiple times without too much extra work. Also, I'm going to use a <a href=\"https://docs.python.org/3.5/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>, which is just a <code>for</code> loop in one line. </p>\n\n<pre><code>import numpy as np\n\ndef filter_by_n_std_devs(samplePopulation, numStdDevs):\n    # you mostly got this part right, no need to put them in lists though\n    mean = np.mean(samplePopulation) # no brackets needed here\n    std = np.std(samplePopulation) # or here\n    band = numStdDevs * std \n\n    # this is the list comprehension\n    filteredPop = [x for x in samplePopulation if x &lt; mean - band or x &gt; mean + band]\n    return filteredPop\n\n# now call your function with however many std devs you want\nfilteredPopulation = filter_by_n_std_devs(samplePopulation, 1)\nprint(filteredPopulation)\n</code></pre>\n\n<p>Here's a translation of the list comprehension (based on your use of <code>append</code> it looks like you may not know what these are, otherwise feel free to ignore).</p>\n\n<pre><code># remember that you provide the variable samplePopulation\n# the above list comprehension\nfilteredPop = [x for x in samplePopulation if x &lt; mean - band or x &gt; mean + band]\n\n# is equivalent to this:\nfilteredPop = []\nfor num in samplePopulation:\n    if x &lt; mean - band or x &gt; mean + band:\n        filteredPop.append(num)\n</code></pre>\n\n<p>So to recap: </p>\n\n<ul>\n<li>You don't need to make a list object out of your mean and std calculations</li>\n<li>The function call let's you plug in your <code>samplePopulation</code> and any number of standard deviations you want without having to go in and manually change the value</li>\n<li>List comprehensions are one line for loops, more or less, and you can even do the filtering you want right inside it! </li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 6806730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/403a58b496b1ba079e25efb4ad181034?s=128&d=identicon&r=PG&f=1", "display_name": "Chang", "link": "https://stackoverflow.com/users/6806730/chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473293404, "creation_date": 1473289945, "last_edit_date": 1473293404, "question_id": 39380316, "link": "https://stackoverflow.com/questions/39380316/python-normal-distribution", "title": "python normal distribution", "body": "<p>I have a list of numbers, with sample mean and SD for these numbers. Right now I am trying to find out the numbers out of mean+-SD,mean +-2SD and mean +-3SD.\nFor example, in the part of mean+-SD, i made the code like this:</p>\n\n<pre><code>ND1 = [np.mean(l)+np.std(l,ddof=1)]    \nND2 = [np.mean(l)-np.std(l,ddof=1)]\n\nm=sorted(l)\n\nprint(m)\n\nND68 = []\n\nif ND2 &gt; m and m&lt; ND1:\n\n    ND68.append(m&lt;ND2 and m&gt;ND1)\n    print (ND68)\n</code></pre>\n\n<p>Here is my question:\n1. Could number be calculated by the list and arrange. If so, which part I am doing wrong.  Or there is some package I can use to solve this.</p>\n"}, {"tags": ["python", "regex", "csv"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1473289799, "post_id": 39380275, "comment_id": 66088432, "body": "Why don&#39;t you just parse it as a csv?"}, {"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473289867, "post_id": 39380275, "comment_id": 66088453, "body": "@PadraicCunningham There are other lines in the document that don&#39;t match this pattern. Furthermore, the line numbers are printed at the beginning of each line. Would parsing as a CSV still work?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473289904, "post_id": 39380275, "comment_id": 66088460, "body": "Add a proper sample and I can tell you."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1473289910, "post_id": 39380275, "comment_id": 66088465, "body": "Check for lines that don&#39;t match, and remove the line number with <code>line.split(&#39;: &#39;)[1]</code>."}, {"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473290102, "post_id": 39380275, "comment_id": 66088506, "body": "@PadraicCunningham I wrote an example in problem description."}, {"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1473290287, "post_id": 39380275, "comment_id": 66088560, "body": "@TigerhawkT3 That should work, but doesn&#39;t that require reading the matched lines twice?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1473290292, "post_id": 39380275, "comment_id": 66088562, "body": "Regarding the matched groups, it only preserves the latest matched and in this case the last matched is <code>F7</code>. You can try <code>((?:[a-zA-Z-]*, ){7})</code> in order to match all of them. And instead of <code>(.*)</code> you better to use a negated character class. <code>[^;]*</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473290397, "post_id": 39380275, "comment_id": 66088590, "body": "<code>list(reader([s.split(&quot;:&quot;, 1)[1]], skipinitialspace=1))</code>"}, {"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1473290870, "post_id": 39380275, "comment_id": 66088684, "body": "@Kasramvd Thanks for your explanation. I couldn&#39;t get any of your suggestions work."}], "answers": [{"comments": [{"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "edited": false, "score": 0, "creation_date": 1473290582, "post_id": 39380365, "comment_id": 66088635, "body": "Thanks Steve. There will always be 8 fields that I have to read. But, I was trying to avoid the solution that repeats the same pattern multiple times.   Thanks for your thorough explanation."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1473290697, "post_id": 39380365, "comment_id": 66088656, "body": "why not just global it?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1473290735, "post_id": 39380365, "comment_id": 66088668, "body": "this is not an ideal regex ... I think you can do much better"}, {"owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "edited": false, "score": 2, "creation_date": 1473291051, "post_id": 39380365, "comment_id": 66088721, "body": "I agree a better regexp is possible; I&#39;m more addressing the explanation of why <code>(xx){7}</code> doesn&#39;t set 7 items, and how to exclude the commas."}], "tags": [], "owner": {"reputation": 3289, "user_id": 2480362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EYdoE.jpg?s=128&g=1", "display_name": "Steve Shipway", "link": "https://stackoverflow.com/users/2480362/steve-shipway"}, "is_accepted": false, "score": 0, "last_activity_date": 1473290935, "last_edit_date": 1473290935, "creation_date": 1473290347, "answer_id": 39380365, "question_id": 39380275, "link": "https://stackoverflow.com/questions/39380275/how-to-write-a-regex-for-a-text-including-comma-separated-values-in-python/39380365#39380365", "title": "How to write a regex for a text including comma separated values in python?", "body": "<p>When you have a construct like <code>(pattern){number}</code> then although it matches multiple instances, only the last one will be stored.  In other words, you get one bucket per <code>()</code>, even if you parse it multiple times, in which case the last instance is the one kept.  Note that you will get a bucket for ALL bracket pairs, even if they are not used, as in something like <code>(a(b)?c)?d</code> matching <code>d</code>.</p>\n\n<p>If you know how many items to expect, then you can do your regexp the long way:</p>\n\n<p><code>\\d+: *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *, *([a-zA-Z-]+) *;</code></p>\n\n<p>This way, since you have 8 sets of brackets, you have 8 items in your <code>matched.groups()</code> array.  Also, we're not capturing the spaces and commas between the fields.</p>\n\n<p>Given that your string is a CSV, you may be better off parsing it differently and splitting on commas rather than trying to have a single regexp to match the whole line.</p>\n"}, {"comments": [{"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "edited": false, "score": 0, "creation_date": 1473291353, "post_id": 39380453, "comment_id": 66088776, "body": "Thanks Joran. This solution works well. Can you briefly explain how this works?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "edited": false, "score": 0, "creation_date": 1473291402, "post_id": 39380453, "comment_id": 66088790, "body": "there you go :)"}, {"owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "edited": false, "score": 0, "creation_date": 1473291679, "post_id": 39380453, "comment_id": 66088862, "body": "Thanks a lot. The only problem with this solution is that is matches some text in header that is comma separated but doesn&#39;t follow the pattern."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1473291387, "last_edit_date": 1473291387, "creation_date": 1473291122, "answer_id": 39380453, "question_id": 39380275, "link": "https://stackoverflow.com/questions/39380275/how-to-write-a-regex-for-a-text-including-comma-separated-values-in-python/39380453#39380453", "title": "How to write a regex for a text including comma separated values in python?", "body": "<pre><code>&gt;&gt;&gt; pat = re.compile(\"\"\"\\s+ # one or more spaces\n                      (.*?) # the shortest anything (capture)\n                      \\s*   # zero or more spaces\n                      [;,]  # a semicolon or a colon\n                     \"\"\",re.X)\n&gt;&gt;&gt; pat.findall(\"LineNumber(digits): F1, F2, F3, F4, F5, F6, F7, F8;\")\n['F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8']\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 4231538, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b49df99393b390f47afc99de39d4338?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/4231538/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1473291856, "creation_date": 1473289550, "last_edit_date": 1473291066, "question_id": 39380275, "link": "https://stackoverflow.com/questions/39380275/how-to-write-a-regex-for-a-text-including-comma-separated-values-in-python", "title": "How to write a regex for a text including comma separated values in python?", "body": "<p>I'm trying to write a regex in python to get F1 to F8 fields from a line that looks like this:</p>\n\n<pre><code>LineNumber(digits): F1, F2, F3, ..., F8;\n</code></pre>\n\n<p><code>F1</code> to <code>F8</code> can have lowercase/uppercase letters and hyphens.</p>\n\n<p>For example:</p>\n\n<pre><code>Header\nDescription\n21: Yes, No, Yes, No, Ye-s, N-o, YES, NO;\nFooter\n</code></pre>\n\n<p>What I've tried so far is \n<code>matched = re.match(r'\\d+: ([a-zA-Z-]*, ){7}(.*);', line)</code> which matches the lines with the above format. However, when I call <code>matched.groups()</code> to print the matched fields, I only get <code>F7,</code> and <code>F8</code> while the expected output is a list containing <code>F1,</code> to <code>F7,</code> plus <code>F8</code>.</p>\n\n<p>I have a few questions regarding this regex:</p>\n\n<ol>\n<li><p>I guess <code>groups()</code> method returns the fields that were grouped in the regex using <code>(...)</code>. Why don't I get F1 to F6 in the output while they are grouped using <code>(...)</code> and have matched the regex?</p></li>\n<li><p>What is a better regex I can write to exclude <code>,</code> from F1 to F7? (A short explanation of the suggested regex is much appreciated)</p></li>\n</ol>\n"}, {"tags": ["python", "numpy", "interpolation"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1473291538, "post_id": 39380251, "comment_id": 66088826, "body": "Have you looked into <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html#scipy.interpolate.interp2d\" rel=\"nofollow noreferrer\"><code>scipy.interpolate.interp2d</code>?</a>"}, {"owner": {"reputation": 395, "user_id": 4192529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec7b350eed0968ac01f17258030603ce?s=128&d=identicon&r=PG&f=1", "display_name": "S E Clark", "link": "https://stackoverflow.com/users/4192529/s-e-clark"}, "reply_to_user": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 1, "creation_date": 1473298078, "post_id": 39380251, "comment_id": 66090180, "body": "Yes, and there&#39;s no analogous implementation of a period. Do you have a specific workaround in mind?"}, {"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1473298872, "post_id": 39380251, "comment_id": 66090361, "body": "Interpolate the data.  Create a function that maps the values of \u03c6 and r to your dataset."}], "answers": [{"comments": [{"owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "edited": false, "score": 0, "creation_date": 1473305393, "post_id": 39382154, "comment_id": 66091767, "body": "PS: There&#39;s likely a few typos in the code. I&#39;ll check and correct them shortly."}, {"owner": {"reputation": 395, "user_id": 4192529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec7b350eed0968ac01f17258030603ce?s=128&d=identicon&r=PG&f=1", "display_name": "S E Clark", "link": "https://stackoverflow.com/users/4192529/s-e-clark"}, "edited": false, "score": 0, "creation_date": 1473352334, "post_id": 39382154, "comment_id": 66118165, "body": "Thanks. It&#39;s a good point about concatenating the wrapped values onto the data, and I can probably figure it out from there. But for the good of future interpolators, would you consider cleaning this up so that it contains working code, tests a relevant example (interpolating onto values outside [0, pi)), etc?"}], "tags": [], "owner": {"reputation": 5512, "user_id": 525169, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/074ef4d038759067691dbb7fb0a4d19f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/525169/praveen"}, "is_accepted": true, "score": 1, "last_activity_date": 1473354698, "last_edit_date": 1495535350, "creation_date": 1473305363, "answer_id": 39382154, "question_id": 39380251, "link": "https://stackoverflow.com/questions/39380251/wrapped-circular-2d-interpolation-in-python/39382154#39382154", "title": "Wrapped (circular) 2D interpolation in Python", "body": "<h2>An explanation of how <code>np.interp</code> works</h2>\n\n<p>Use the <a href=\"https://github.com/numpy/numpy/blob/v1.11.0/numpy/lib/function_base.py#L1570-L1692\" rel=\"nofollow noreferrer\">source</a>, Luke!</p>\n\n<p>The <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.interp.html\" rel=\"nofollow noreferrer\">numpy doc for <code>np.interp</code></a> makes the source particularly easy to find, since it has the link right there, along with the documentation. Let's go through this, line by line.</p>\n\n<p>First, recall the parameters:</p>\n\n<pre><code>\"\"\"\nx : array_like\n    The x-coordinates of the interpolated values.\nxp : 1-D sequence of floats\n    The x-coordinates of the data points, must be increasing if argument\n    `period` is not specified. Otherwise, `xp` is internally sorted after\n    normalizing the periodic boundaries with ``xp = xp % period``.\nfp : 1-D sequence of floats\n    The y-coordinates of the data points, same length as `xp`.\nperiod : None or float, optional\n    A period for the x-coordinates. This parameter allows the proper\n    interpolation of angular x-coordinates. Parameters `left` and `right`\n    are ignored if `period` is specified.\n\"\"\"\n</code></pre>\n\n<p>Let's take a simple example of a triangular wave while going through this:</p>\n\n<pre><code>xp = np.array([-np.pi/2, -np.pi/4, 0, np.pi/4])\nfp = np.array([0, -1, 0, 1])\nx = np.array([-np.pi/8, -5*np.pi/8])  # Peskiest points possible }:)\nperiod = np.pi\n</code></pre>\n\n<p>Now, I start off with the <code>period != None</code> branch in the source code, after all the type-checking happens:</p>\n\n<pre><code># normalizing periodic boundaries\nx = x % period\nxp = xp % period\n</code></pre>\n\n<p>This just ensures that all values of <code>x</code> and <code>xp</code> supplied are between <code>0</code> and <code>period</code>. So, since the period is <code>pi</code>, but we specified <code>x</code> and <code>xp</code> to be between <code>-pi/2</code> and <code>pi/2</code>, this will adjust for that by adding <code>pi</code> to all values in the range <code>[-pi/2, 0)</code>, so that they effectively appear after <code>pi/2</code>. So our <code>xp</code> now reads <code>[pi/2, 3*pi/4, 0, pi/4]</code>.</p>\n\n<pre><code>asort_xp = np.argsort(xp)\nxp = xp[asort_xp]\nfp = fp[asort_xp]\n</code></pre>\n\n<p>This is just ordering <code>xp</code> in increasing order. This is especially required after performing that modulo operation in the previous step. So, now <code>xp</code> is <code>[0, pi/4, pi/2, 3*pi/4]</code>. <code>fp</code> has also been shuffled accordingly, <code>[0, 1, 0, -1]</code>.</p>\n\n<pre><code>xp = np.concatenate((xp[-1:]-period, xp, xp[0:1]+period))\nfp = np.concatenate((fp[-1:], fp, fp[0:1]))\nreturn compiled_interp(x, xp, fp, left, right)   # Paraphrasing a little\n</code></pre>\n\n<p><code>np.interp</code> does linear interpolation. When trying to interpolate between two points <code>a</code> and <code>b</code> present in <code>xp</code>, it only uses the values of <code>f(a)</code> and <code>f(b)</code> (i.e., the values of <code>fp</code> at the corresponding indices). So what <code>np.interp</code> is doing in this last step is to take the point <code>xp[-1]</code> and put it in front of the array, and take the point <code>xp[0]</code> and put it after the array, but after subtracting and adding one period respectively. So you now have a new <code>xp</code> that looks like <code>[-pi/4, 0, pi/4, pi/2, 3*pi/4, pi]</code>. Likewise, <code>fp[0]</code> and <code>fp[-1]</code> have been concatenated around, so <code>fp</code> is now <code>[-1, 0, 1, 0, -1, 0]</code>.</p>\n\n<p>Note that after the modulo operations, <code>x</code> had been brought into the <code>[0, pi]</code> range too, so <code>x</code> is now <code>[7*pi/8, 3*pi/8]</code>. Which lets you easily see that you'll get back <code>[-0.5, 0.5]</code>.</p>\n\n<hr>\n\n<h2>Now, coming to your 2D case:</h2>\n\n<p>Say you have a grid and some values. Let's just take all values to be between <code>[0, pi]</code> off the bat so we don't need to worry about modulos and shufflings.</p>\n\n<pre><code>xp = np.array([0, np.pi/4, np.pi/2, 3*np.pi/4])\nyp = np.array([0, 1, 2, 3])\nperiod = np.pi\n\n# Put x on the 1st dim and y on the 2nd dim; f is linear in y\nfp = np.array([0, 1, 0, -1])[:, np.newaxis] + yp[np.newaxis, :] \n# &gt;&gt;&gt; fp\n# array([[ 0,  1,  2,  3],\n#        [ 1,  2,  3,  4],\n#        [ 0,  1,  2,  3],\n#        [-1,  0,  1,  2]])\n</code></pre>\n\n<p>We now know that all you need to do is to add <code>xp[[-1]]</code> in front of the array and <code>xp[[0]]</code> at the end, adjusting for the period. Note how I've indexed using the singleton lists <code>[-1]</code> and <code>[0]</code>. This is a <a href=\"https://stackoverflow.com/a/18183182/525169\">trick</a> to ensure that <a href=\"https://stackoverflow.com/q/3551242/525169\">dimensions are preserved</a>.</p>\n\n<pre><code>xp = np.concatenate((xp[[-1]]-period, xp, xp[[0]]+period))\nfp = np.concatenate((fp[[-1], :], fp, fp[[0], :]))\n</code></pre>\n\n<p>Finally, you are free to use <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html#scipy.interpolate.interpn\" rel=\"nofollow noreferrer\"><code>scipy.interpolate.interpn</code></a> to achieve your result. Let's get the value at <code>x = pi/8</code> for all <code>y</code>:</p>\n\n<pre><code>from scipy.interpolate import interpn\ninterp_points = np.hstack(( (np.pi/8 * np.ones(4))[:, np.newaxis], yp[:, np.newaxis] ))\nresult = interpn((xp, yp), fp, interp_points)\n# &gt;&gt;&gt; result\n# array([ 0.5,  1.5,  2.5,  3.5])\n</code></pre>\n\n<p><code>interp_points</code> has to be specified as an Nx2 matrix of points, where the first dimension is for each point you want interpolation at the second dimension gives the x- and y-coordinate of that point. See <a href=\"https://stackoverflow.com/a/39357219/525169\">this answer</a> for a detailed explanation.</p>\n\n<p>If you want to get the value outside of the range <code>[0, period]</code>, you'll need to modulo it yourself:</p>\n\n<pre><code>x = 21 * np.pi / 8\nx_equiv = x % period   # Now within [0, period]\ninterp_points = np.hstack(( (x_equiv * np.ones(4))[:, np.newaxis], yp[:, np.newaxis] ))\nresult = interpn((xp, yp), fp, interp_points)\n# &gt;&gt;&gt; result\n# array([-0.5,  0.5,  1.5,  2.5])\n</code></pre>\n\n<p>Again, if you want to generate <code>interp_points</code> for a bunch of x- and y- values, look at <a href=\"https://stackoverflow.com/a/39357219/525169\">this answer</a>.</p>\n"}], "owner": {"reputation": 395, "user_id": 4192529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec7b350eed0968ac01f17258030603ce?s=128&d=identicon&r=PG&f=1", "display_name": "S E Clark", "link": "https://stackoverflow.com/users/4192529/s-e-clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 0, "accepted_answer_id": 39382154, "answer_count": 1, "score": 5, "last_activity_date": 1523731733, "creation_date": 1473289385, "last_edit_date": 1523731733, "question_id": 39380251, "link": "https://stackoverflow.com/questions/39380251/wrapped-circular-2d-interpolation-in-python", "title": "Wrapped (circular) 2D interpolation in Python", "body": "<p>I have angular data on a domain that is wrapped at <code>pi</code> radians (i.e. 0 = <code>pi</code>). The data are <code>2D</code>, where one dimension represents the angle. I need to interpolate this data onto another grid in a wrapped way.</p>\n\n<p>In one dimension, the <code>np.interp</code> function takes a period <code>kwarg</code> (for <code>NumPy</code> 1.10 and later): \n<a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.interp.html\" rel=\"nofollow noreferrer\">http://docs.scipy.org/doc/numpy/reference/generated/numpy.interp.html</a></p>\n\n<p>This is exactly what I need, but I need it in two dimensions. I'm currently just stepping through columns in my array and using <code>np.interp</code>, but this is of course slow. </p>\n\n<p>Anything out there that could achieve this same outcome but faster?</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "text-alignment"], "comments": [{"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473289272, "post_id": 39380182, "comment_id": 66088289, "body": "<a href=\"http://stackoverflow.com/questions/15014980/how-to-set-justification-on-tkinter-text-box\" title=\"how to set justification on tkinter text box\">stackoverflow.com/questions/15014980/&hellip;</a>"}, {"owner": {"reputation": 541, "user_id": 4929652, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10207183537735185/picture?type=large", "display_name": "Nathan Schwarz", "link": "https://stackoverflow.com/users/4929652/nathan-schwarz"}, "reply_to_user": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473289431, "post_id": 39380182, "comment_id": 66088335, "body": "No no, I already know that. It&#39;s more something like this : <code>justify = justify</code>"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473289824, "post_id": 39380182, "comment_id": 66088438, "body": "Then you know the answer. No &quot;cooked&quot; <code>justify</code> in <code>tkinter</code>. You might want to use a label container with <code>padx</code> and <code>pady</code> to justify."}, {"owner": {"reputation": 541, "user_id": 4929652, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10207183537735185/picture?type=large", "display_name": "Nathan Schwarz", "link": "https://stackoverflow.com/users/4929652/nathan-schwarz"}, "reply_to_user": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473289920, "post_id": 39380182, "comment_id": 66088467, "body": "Yes I know the answer i&#39;m only asking for a workaround \ud83d\ude00"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473290106, "post_id": 39380182, "comment_id": 66088509, "body": "Well, it depends on the kind of justify you&#39;re looking for. &quot;full justify&quot; (flushed left and right) is really impossible. Centered justify can by achieved using padding."}, {"owner": {"reputation": 541, "user_id": 4929652, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10207183537735185/picture?type=large", "display_name": "Nathan Schwarz", "link": "https://stackoverflow.com/users/4929652/nathan-schwarz"}, "reply_to_user": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473290211, "post_id": 39380182, "comment_id": 66088531, "body": "Well I&#39;ve got my answer then : its impossible. Thank you :)"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1473290518, "post_id": 39380182, "comment_id": 66088621, "body": "What do you expect setting justify to <code>&quot;JUSTIFY&quot;</code> to do? Left? Right? Both? Call a custom function?"}, {"owner": {"reputation": 541, "user_id": 4929652, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10207183537735185/picture?type=large", "display_name": "Nathan Schwarz", "link": "https://stackoverflow.com/users/4929652/nathan-schwarz"}, "edited": false, "score": 0, "creation_date": 1473290836, "post_id": 39380182, "comment_id": 66088680, "body": "I want to know if a trick exist to make the text justify to both left and right"}], "owner": {"reputation": 541, "user_id": 4929652, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10207183537735185/picture?type=large", "display_name": "Nathan Schwarz", "link": "https://stackoverflow.com/users/4929652/nathan-schwarz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473297971, "creation_date": 1473288960, "last_edit_date": 1473289599, "question_id": 39380182, "link": "https://stackoverflow.com/questions/39380182/how-can-tkinter-justify-align-text", "title": "How can tkinter justify align text", "body": "<p>I would like to know how can we make tkinter to align text justify.</p>\n\n<p>There's only <code>CENTER</code>, <code>LEFT</code>, and <code>RIGHT</code>.</p>\n\n<p>I would like something like <code>justify = \"JUSTIFY\"</code>\nAnd it seems that it is not implemented.</p>\n\n<p>Thank you. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1473289629, "post_id": 39380171, "comment_id": 66088382, "body": "A dict is not a JSON string, and testing for the presence of a substring would be a horrible way to validate a JSON string anyway."}], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 5616110, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OXVjQ.png?s=128&g=1", "display_name": "iScrE4m", "link": "https://stackoverflow.com/users/5616110/iscre4m"}, "is_accepted": false, "score": 1, "last_activity_date": 1473289182, "creation_date": 1473289182, "answer_id": 39380218, "question_id": 39380171, "link": "https://stackoverflow.com/questions/39380171/python-assertin-test-statement-not-finding-string/39380218#39380218", "title": "Python assertIn test statement not finding string?", "body": "<p><code>\"'abc': '1.0012',\"</code> is a string and <code>{'abc': '1.0012', }</code> is an entry in dictionary</p>\n\n<p>You want to be checking for the dictionary entry in json, not a string</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473289549, "post_id": 39380225, "comment_id": 66088359, "body": "Or you could use the <code>items()</code> view."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473289606, "post_id": 39380225, "comment_id": 66088376, "body": "Right.  I left most of the solution to the &quot;student&quot;."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1473289245, "creation_date": 1473289245, "answer_id": 39380225, "question_id": 39380171, "link": "https://stackoverflow.com/questions/39380171/python-assertin-test-statement-not-finding-string/39380225#39380225", "title": "Python assertIn test statement not finding string?", "body": "<p>Right.  Python's <strong>in</strong> operator works on an iterable object.  The clause <strong>in test_json</strong> means, \"is the given item a key of the dictionary\".  It does <em>not</em> search the dictionary for a <em>key:value</em> pair.</p>\n\n<p>To do this, use a two-step process:</p>\n\n<pre><code>assertIn('abc', test_json)\nassertEquals('1.0012', test_json['abc'])\n</code></pre>\n\n<p>Doing this with appropriate variables and references is left as an exercise for the student.  :-)</p>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 3526142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9bc7ab613f9113941d240ad02eee43?s=128&d=identicon&r=PG&f=1", "display_name": "KSab", "link": "https://stackoverflow.com/users/3526142/ksab"}, "is_accepted": false, "score": 1, "last_activity_date": 1473289302, "creation_date": 1473289302, "answer_id": 39380238, "question_id": 39380171, "link": "https://stackoverflow.com/questions/39380171/python-assertin-test-statement-not-finding-string/39380238#39380238", "title": "Python assertIn test statement not finding string?", "body": "<p>It looks like you are attempting to find a string inside a dictionary, which will check to see if the string you are giving is a key of the specified dictionary. Firstly don't convert your first dictionary to a string, and secondly do something like <code>all(item in test_json.items() for item in expected_json.items())</code></p>\n"}], "owner": {"reputation": 475, "user_id": 1236423, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/409bd6c3a29d093cae3a4e35ce45e516?s=128&d=identicon&r=PG", "display_name": "Jeanne Lane", "link": "https://stackoverflow.com/users/1236423/jeanne-lane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 39380225, "answer_count": 3, "score": 0, "last_activity_date": 1473289302, "creation_date": 1473288859, "last_edit_date": 1473289035, "question_id": 39380171, "link": "https://stackoverflow.com/questions/39380171/python-assertin-test-statement-not-finding-string", "title": "Python assertIn test statement not finding string?", "body": "<p>I am using <code>assertIn</code> to test that a part of the result in JSON string is correct.</p>\n\n<pre><code>test_json = some_function_returning_a_dict()\nself.assertIn(expected_json, test_json, \"did not match expected output\")\n</code></pre>\n\n<p>The error is</p>\n\n<blockquote>\n  <p>AssertionError: \"'abc': '1.0012',\" not found in [{'abc': '1.0012',...</p>\n</blockquote>\n\n<p>I used <code>Ctrl + F</code> over the inner string, and it was in the resulting string.<br>\n I'm using Python 3.0</p>\n"}, {"tags": ["python", "pandas", "dataframe", "ipython"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1473289190, "post_id": 39380148, "comment_id": 66088261, "body": "Why are you trying to delete the index?   In other words, what are you trying to get in that intermediate step?"}, {"owner": {"reputation": 1021, "user_id": 2204131, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e33e679c7498832162a02207e103ad05?s=128&d=identicon&r=PG", "display_name": "ramesh", "link": "https://stackoverflow.com/users/2204131/ramesh"}, "edited": false, "score": 0, "creation_date": 1473289301, "post_id": 39380148, "comment_id": 66088296, "body": "Could you add the snippet of <code>Salaries.csv</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 3238045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722e7bde7475614ff5818674b46c96bd?s=128&d=identicon&r=PG", "display_name": "binaryaaron", "link": "https://stackoverflow.com/users/3238045/binaryaaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1473291281, "last_edit_date": 1473291281, "creation_date": 1473290952, "answer_id": 39380440, "question_id": 39380148, "link": "https://stackoverflow.com/questions/39380148/pandas-dataframe-and-pandas-groupby-to-calculate-salaries/39380440#39380440", "title": "pandas DataFrame and pandas.groupby to calculate Salaries", "body": "<p><code>del</code> has a <a href=\"https://docs.python.org/3/reference/simple_stmts.html#del\" rel=\"nofollow\">very specific meaning</a> in python and has no use on a dataframe like that.</p>\n\n<p>You want to use <code>reset_index</code> to get rid of the <code>MultiIndex</code> after a groupby -- if you want to get rid of the <code>MultiIndex</code>, that is.</p>\n\n<pre><code>import pandas as pd\nsalariesData = pd.read_csv('Salaries.csv')\n\n#sum salaries by year and team\nsumOfSalaries = (pd.DataFrame(\n                 salariesData.groupby(by=['yearID','teamID'])['salary'].sum()\n                 .reset_index()\n               ))\n</code></pre>\n\n<p>Read up on the <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"nofollow\">groupby docs</a> and the <a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html\" rel=\"nofollow\">multiindexing docs</a> for more information. </p>\n"}, {"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 0, "last_activity_date": 1473311258, "last_edit_date": 1473311258, "creation_date": 1473310842, "answer_id": 39382899, "question_id": 39380148, "link": "https://stackoverflow.com/questions/39380148/pandas-dataframe-and-pandas-groupby-to-calculate-salaries/39382899#39382899", "title": "pandas DataFrame and pandas.groupby to calculate Salaries", "body": "<p>I think you need only add parameter <code>as_index=False</code> to <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow\"><code>groupby</code></a>, output is <code>DataFrame</code> without <code>MultiIndex</code>:</p>\n\n<pre><code>sumOfSalaries = salariesData.groupby(by=['yearID','teamID'], as_index=False)['salary'].sum()\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>import pandas as pd\n\nsalariesData = pd.DataFrame({\n'yearID': {0: 1985, 1: 1985, 2: 1985, 3: 1985, 4: 1985, 5: 1986, 6: 1986, 7: 1986, 8: 1987, 9: 1987}, \n'teamID': {0: 'ATL', 1: 'ATL', 2: 'ATL', 3: 'CAL', 4: 'CAL', 5: 'CAL', 6: 'CAL', 7: 'BOS', 8: 'BOS', 9: 'BOS'}, \n'salary': {0: 10, 1: 20, 2: 30, 3: 40, 4: 50, 5: 10, 6: 20, 7: 30, 8: 40, 9: 50}\n},\ncolumns = ['yearID','teamID','salary']\n)\n\nprint (salariesData)\n   yearID teamID  salary\n0    1985    ATL      10\n1    1985    ATL      20\n2    1985    ATL      30\n3    1985    CAL      40\n4    1985    CAL      50\n5    1986    CAL      10\n6    1986    CAL      20\n7    1986    BOS      30\n8    1987    BOS      40\n9    1987    BOS      50\n\nsumOfSalaries = salariesData.groupby(by=['yearID','teamID'], as_index=False)['salary'].sum()\n\nprint (sumOfSalaries)\n   yearID teamID  salary\n0    1985    ATL      60\n1    1985    CAL      90\n2    1986    BOS      30\n3    1986    CAL      30\n4    1987    BOS      90\n</code></pre>\n\n<p>Also if need remove index names, use assign to <code>(None, None)</code>, but if use solution above, it is not necessary:</p>\n\n<pre><code>sumOfSalaries.index.names = (None, None)\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>sumOfSalaries = salariesData.groupby(by=['yearID','teamID'])['salary'].sum()\nsumOfSalaries.index.names = (None, None)\n\nprint (sumOfSalaries)\n\n1985  ATL    60\n      CAL    90\n1986  BOS    30\n      CAL    30\n1987  BOS    90\nName: salary, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 3651036, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1339440239/picture?type=large", "display_name": "KatieRose1029", "link": "https://stackoverflow.com/users/3651036/katierose1029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1242, "favorite_count": 0, "accepted_answer_id": 39382899, "answer_count": 2, "score": 2, "last_activity_date": 1473311258, "creation_date": 1473288709, "last_edit_date": 1473290398, "question_id": 39380148, "link": "https://stackoverflow.com/questions/39380148/pandas-dataframe-and-pandas-groupby-to-calculate-salaries", "title": "pandas DataFrame and pandas.groupby to calculate Salaries", "body": "<p>For my assignment, I need to import baseball salary data into a pandas <code>DataFrame</code>.<br>\nFrom there, one of my objectives is to get the salaries of all the teams per year.</p>\n\n<p>I was successful however in order to move onto the next task, I need a pandas <code>DataFrame</code>. <code>sumofSalaries.dtype</code> is returning <code>int64</code>.</p>\n\n<p>Questions:<br>\n    1. How do I convert the data in the code following into a DataFrame?<br>\n    2. How do I delete the indexes in <code>sumofSalaries</code>?</p>\n\n<p>Code:</p>\n\n<pre><code> import pandas as pd\n salariesData = pd.read_csv('Salaries.csv')\n\n #sum salaries by year and team\n sumOfSalaries = salariesData.groupby(by=['yearID','teamID'])['salary'].sum()\n\n del sumOfSalaries.index.names #line giving me errors\n\n #create DataFrame from grouped data \n df = pd.DataFrame(sumOfSalaries, columns = ['yearID', 'teamID', 'salary'])\n df\n\n _____________________________________________________________________________\n\n sumofSalaries:\n yearID  teamID\n 1985    ATL        14807000\n         BAL        11560712\n         BOS        10897560\n         CAL        14427894\n         CHA         9846178\n\n ...and so on\n _____________________________________________________________________________\n\n  df:\n\n            yearID  teamID  salary\n yearID teamID          \n 1985   ATL NaN NaN 14807000\n        BAL NaN NaN 11560712\n        BOS NaN NaN 10897560\n        CAL NaN NaN 14427894\n</code></pre>\n"}, {"tags": ["c#", "python", ".net", "pylint", "python.net"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 1, "creation_date": 1473823458, "post_id": 39380134, "comment_id": 66282856, "body": "you can embed python in C# using pythonnet and then call pylint from C# <code>using (Py.GIL()) { dynamic pylint = Py.Import(&quot;pylint&quot;); pylint.lint.Run(new string[] {&quot;myfile.py&quot;}); }</code>"}], "owner": {"reputation": 165, "user_id": 4971299, "user_type": "registered", "profile_image": "https://graph.facebook.com/1589882327/picture?type=large", "display_name": "CodeCorrupt", "link": "https://stackoverflow.com/users/4971299/codecorrupt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1473828278, "creation_date": 1473288597, "last_edit_date": 1473828278, "question_id": 39380134, "link": "https://stackoverflow.com/questions/39380134/passing-code-to-pylint-as-string", "title": "Passing code to PyLint as string", "body": "<p>I am in a situation where I have python embedded in a XPDL file. I'm trying to write a program run PyLint on the embedded python code.</p>\n\n<p>Currently I'm writing the python to a file, then passing that file as the argument to PyLint. I'm writing thousands of small files to disk and immediately reading.</p>\n\n<p>If there any way I could get around writing to disk as it is slowing the process down quite a bit and I haven't been able to isolate if it's PyLint running slow or all of the disk I/O.</p>\n\n<p>I'm using C# with .NET 4.0 to write this.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "xml", "lxml", "xml-validation", "relaxng"], "comments": [{"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1473318658, "post_id": 39380130, "comment_id": 66096345, "body": "It\u2019s hard to evaluate without having a real schema to test with rather than the <code>A - True</code> etc. stuff in your snippet. Also the snippet isn\u2019t well-formed\u2014it has ` &lt;interleave&gt;` start tags in two places where it should have <code>&lt;&#47;interleave&gt;</code> end tags. Also if lxml uses libxml2 for RelaxNG checking, you may just be running into a bug in libxml2, because it\u2019s known to have some serious bugs in its RelaxNG support. So you may want to try also testing with jing to see if you get the same error."}, {"owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "reply_to_user": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 1, "creation_date": 1473355180, "post_id": 39380130, "comment_id": 66119569, "body": "As @sideshowbarker stated, libxml2 is indeed flawed. Then, lxml, which uses libxml2, does not work properly. When I tested the xml with Jing, it shows no error but with lxml, the above syntax is giving errors. Takeaway from this, use Jing for validating RelaxNG or pyjing, python wrapper for Jing."}], "owner": {"reputation": 365, "user_id": 2479921, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/4f608a0f4de520ae40948c28141e10bf?s=128&d=identicon&r=PG", "display_name": "pseudo", "link": "https://stackoverflow.com/users/2479921/pseudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473288585, "creation_date": 1473288585, "question_id": 39380130, "link": "https://stackoverflow.com/questions/39380130/nested-choice-in-relaxng", "title": "Nested choice in RelaxNG", "body": "<p>I would like to do a nested choice with group elements in relaxNG. Since relaxNG doesn't support conditional statements, I have to group together elements for value of True vs False). I can't use compact relaxNG since lxml(python library) doesn't support it and the elements won't be in order and I need interleave for that. What I am trying to achieve is like this. </p>\n\n<pre><code>if A is True: \n    do nothing.\nelse:\n    if B is True: \n       do nothing\n    else: \n       2 more elements appear\n    if C is True: \n       do nothing\n    else: \n       2 more elements appear \n</code></pre>\n\n<p>I am currently using choice with group to group together elements. As you can see the B and C are nested inside A. When I use</p>\n\n<pre><code>&lt;choice&gt;\n    A - True\n    &lt;group&gt;\n        &lt;interleave&gt; \n        A - False\n        &lt;choice&gt; \n           B - True\n           &lt;group&gt;\n               &lt;interleave&gt; \n               B - False, two elements appear\n               &lt;interleave&gt; \n           &lt;/group&gt;\n        &lt;/choice&gt;\n        &lt;choice&gt;\n           C - True\n           &lt;group&gt;\n               &lt;interleave&gt; \n               C - False, two elements appear\n               &lt;interleave&gt; \n           &lt;/group&gt;\n         &lt;/choice&gt;\n         &lt;/interleave&gt;\n    &lt;/group&gt;\n&lt;/choice&gt;\n</code></pre>\n\n<p>Currently, the code is giving me errors saying Element has extra content. I believe that is the interleave problem. But I don't know how to achieve the result.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4151, "user_id": 1546343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b608f7329305fa7316d07b86cc447eaa?s=128&d=identicon&r=PG", "display_name": "Trevor Merrifield", "link": "https://stackoverflow.com/users/1546343/trevor-merrifield"}, "edited": false, "score": 3, "creation_date": 1473288529, "post_id": 39380093, "comment_id": 66088075, "body": "It isn&#39;t clear to me whether you&#39;re asking to access dynamically linked libraries from python, or whether you&#39;re porting C code to python and are just wondering how python&#39;s module system works"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6806700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c496d3ccf02c77f0f975cda8c8f5296?s=128&d=identicon&r=PG&f=1", "display_name": "A A Ron", "link": "https://stackoverflow.com/users/6806700/a-a-ron"}, "edited": false, "score": 0, "creation_date": 1473288846, "post_id": 39380120, "comment_id": 66088164, "body": "I&#39;m newbie to programming, Started off with learning Python. Apologies if my question wasn&#39;t clear. I will re-write the source code (viz in C) to Python. But, I later realized that just writing the code in python will not be enough as the lib files for my C code are in C. My question is How should i execute my python code when the libraries are written in C? I do have .so and .a files in the lib."}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "reply_to_user": {"reputation": 3, "user_id": 6806700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c496d3ccf02c77f0f975cda8c8f5296?s=128&d=identicon&r=PG&f=1", "display_name": "A A Ron", "link": "https://stackoverflow.com/users/6806700/a-a-ron"}, "edited": false, "score": 0, "creation_date": 1473289437, "post_id": 39380120, "comment_id": 66088337, "body": "@AARon, you are still very unclear. If you have an <code>so</code> file that you want to excute via Python, it&#39;s quite easy using <code>ctypes</code>. Other methods of translating C code to python are definitely less productive."}, {"owner": {"reputation": 3, "user_id": 6806700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c496d3ccf02c77f0f975cda8c8f5296?s=128&d=identicon&r=PG&f=1", "display_name": "A A Ron", "link": "https://stackoverflow.com/users/6806700/a-a-ron"}, "edited": false, "score": 0, "creation_date": 1473291476, "post_id": 39380120, "comment_id": 66088814, "body": "Ok. Thanks a lot.. Yes, I have an so file and I want to execute it via Python, so i&#39;ll take a look at Python&#39;s types."}], "tags": [], "owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "is_accepted": true, "score": 1, "last_activity_date": 1473288494, "last_edit_date": 1495542810, "creation_date": 1473288494, "answer_id": 39380120, "question_id": 39380093, "link": "https://stackoverflow.com/questions/39380093/writing-a-source-code-in-python/39380120#39380120", "title": "Writing a source code in Python", "body": "<p>You can use Python's <a href=\"https://docs.python.org/3.5/library/ctypes.html\" rel=\"nofollow noreferrer\">ctypes</a> module to load <code>so</code> files and use their functions.<br>\nTake a look at the second answer <a href=\"https://stackoverflow.com/questions/145270/calling-c-c-from-python?noredirect=1&amp;lq=1\">here</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6806700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c496d3ccf02c77f0f975cda8c8f5296?s=128&d=identicon&r=PG&f=1", "display_name": "A A Ron", "link": "https://stackoverflow.com/users/6806700/a-a-ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 39380120, "answer_count": 1, "score": -2, "last_activity_date": 1473288956, "creation_date": 1473288328, "last_edit_date": 1473288956, "question_id": 39380093, "link": "https://stackoverflow.com/questions/39380093/writing-a-source-code-in-python", "title": "Writing a source code in Python", "body": "<p>I have a Source code in C, I want to write it in Python. I have <code>.so</code> library files for my C code, is it possible to change <code>.so</code> files to <code>.py</code> lib files for execution? </p>\n\n<p>If so, how can I execute my python files? \nI mean in order to run C in python, we use something like below:</p>\n\n<pre><code>gcc -shared -I/usr/include/python2.3/ -lpython2.3 -o myModule.so myModule.c\n</code></pre>\n\n<p>So is there is something like this to execute my python files or can I just use import command to execute?</p>\n"}, {"tags": ["python", "linux", "pip", "upgrade"], "comments": [{"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1473288244, "post_id": 39380047, "comment_id": 66087999, "body": "What&#39;s your current version of pip?"}, {"owner": {"reputation": 51, "user_id": 2134326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54e96d396cab8ab146ba94c5aed66be?s=128&d=identicon&r=PG", "display_name": "dhaval257", "link": "https://stackoverflow.com/users/2134326/dhaval257"}, "reply_to_user": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1473358029, "post_id": 39380047, "comment_id": 66121062, "body": "8.1.1 . It is insalled based on Python 2.7 if that matters in any terms. I see the latest pip is 8.1.2"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2134326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54e96d396cab8ab146ba94c5aed66be?s=128&d=identicon&r=PG", "display_name": "dhaval257", "link": "https://stackoverflow.com/users/2134326/dhaval257"}, "edited": false, "score": 0, "creation_date": 1473358164, "post_id": 39394824, "comment_id": 66121128, "body": "--upgrade and -U are the same thing as far as I believe"}, {"owner": {"reputation": 11, "user_id": 3769447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7iK3.jpg?s=128&g=1", "display_name": "rodriguesJD", "link": "https://stackoverflow.com/users/3769447/rodriguesjd"}, "reply_to_user": {"reputation": 51, "user_id": 2134326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54e96d396cab8ab146ba94c5aed66be?s=128&d=identicon&r=PG", "display_name": "dhaval257", "link": "https://stackoverflow.com/users/2134326/dhaval257"}, "edited": false, "score": 0, "creation_date": 1473585424, "post_id": 39394824, "comment_id": 66191799, "body": "I think so. I just know i use the command above and it works for me every time."}], "tags": [], "owner": {"reputation": 11, "user_id": 3769447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7iK3.jpg?s=128&g=1", "display_name": "rodriguesJD", "link": "https://stackoverflow.com/users/3769447/rodriguesjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1473348240, "creation_date": 1473348240, "answer_id": 39394824, "question_id": 39380047, "link": "https://stackoverflow.com/questions/39380047/python-pip-upgrade-breaks/39394824#39394824", "title": "python pip upgrade breaks", "body": "<p>This is the command i use:</p>\n\n<pre><code>pip install --upgrade pip\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 2134326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54e96d396cab8ab146ba94c5aed66be?s=128&d=identicon&r=PG", "display_name": "dhaval257", "link": "https://stackoverflow.com/users/2134326/dhaval257"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1473348240, "creation_date": 1473288010, "question_id": 39380047, "link": "https://stackoverflow.com/questions/39380047/python-pip-upgrade-breaks", "title": "python pip upgrade breaks", "body": "<p>I am using Ubuntu 16.04.1 LTS at work.\nI need to upgrade pip to latest version(8.1.2)</p>\n\n<p>When I run:</p>\n\n<pre><code>sudo pip install -U pip\n</code></pre>\n\n<p>I get following error. I checked the proxy, they look okay.    </p>\n\n<pre><code>Exception:    \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/pip/basecommand.py\", line 209, in main    \n    status = self.run(options, args)    \n  File \"/usr/lib/python2.7/dist-packages/pip/commands/install.py\", line 328, in run \n    wb.build(autobuilding=True)  \n  File \"/usr/lib/python2.7/dist-packages/pip/wheel.py\", line 748, in build    \n    self.requirement_set.prepare_files(self.finder)  \n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_set.py\", line 360, in prepare_files    \n    ignore_dependencies=self.ignore_dependencies))    \n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_set.py\", line 448, in _prepare_file    \n    req_to_install, finder)\n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_set.py\", line 397, in _check_skip_installed    \n    finder.find_requirement(req_to_install, self.upgrade)\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 442, in find_requirement\n    all_candidates = self.find_all_candidates(req.name)    \n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 400, in find_all_candidates    \n    for page in self._get_pages(url_locations, project_name):    \n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 545, in _get_pages    \n    page = self._get_page(location)    \n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 648, in _get_page    \n    return HTMLPage.get_page(link, session=self.session)    \n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 757, in get_page    \n    \"Cache-Control\": \"max-age=600\",    \n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 480, in get    \n    return self.request('GET', url, **kwargs)    \n  File \"/usr/lib/python2.7/dist-packages/pip/download.py\", line 378, in request    \n      return super(PipSession, self).request(method, url, *args, **kwargs)    \n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 468, in request    \n    resp = self.send(prep, **send_kwargs)    \n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 576, in send    \n    r = adapter.send(request, **kwargs)    \n  File \"/usr/share/python-wheels/CacheControl-0.11.5-py2.py3-none-any.whl/cachecontrol/adapter.py\", line 46, in send    \n    resp = super(CacheControlAdapter, self).send(request, **kw)    \n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/adapters.py\", line 376, in send    \n    timeout=timeout    \n  File \"/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/connectionpool.py\", line 610, in urlopen    \n    _stacktrace=sys.exc_info()[2])    \n  File \"/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/util/retry.py\", line 228, in increment    \n    total -= 1    \nTypeError: unsupported operand type(s) for -=: 'Retry' and 'int'\n</code></pre>\n\n<p>Somebody give me some pointer.</p>\n"}, {"tags": ["python", "python-2.7", "math", "numbers"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 4, "last_activity_date": 1473288967, "creation_date": 1473288967, "answer_id": 39380183, "question_id": 39380002, "link": "https://stackoverflow.com/questions/39380002/python-script-for-finding-keith-numbers-not-working/39380183#39380183", "title": "Python script for finding keith numbers not working", "body": "<p>You have it in front of you:</p>\n\n<pre><code>add1  = 18\nadd   = 9\ncount = 9\nnumbers = [18]\n</code></pre>\n\n<p>You're in an infinite loop with no output.  You get this for <em>once</em>.  After this, <strong>i</strong> runs through the values 1, 2, and 3.  Each time through the <strong>for</strong> loop, all three <strong>if</strong> conditions are <strong>False</strong>.  Nothing changes, you drop out of the <strong>for</strong> loop, and go back to the top of the <strong>while</strong>.  Here, you set <strong>numbers</strong> back to ['9'], and loop forever.</p>\n\n<p>I suggest that you learn two skills:</p>\n\n<ol>\n<li>Basic debugging: learn to single-step through a debugger, looking at variable values.  Alternately, learn to trace your logic on paper and stick in meaningful <strong>print</strong> statements.  (My version of this is at the bottom of this answer.)</li>\n<li>Incremental programming:  Write a few lines of code and get them working.  <em>After</em> you have them <em>working</em> (test with various input values and results printed), continue to write a few more.  In this case, you wrote a large block of code, and then could not see the error in roughly 50 lines.  If you code incrementally, you'll often be able to isolate the problem to your most recent 3-5 lines.</li>\n</ol>\n\n<hr>\n\n<pre><code>while True:\n    # sleep (0.1)\n\n    numbers = list(str(count))\n    print \"Top of while; numbers=\", numbers\n\n    for i in limitlist:\n        print \"Top of for; i =\", i, \"\\tadd =\", add, \"\\tcount =\", count, \"\\tadll =\", add1\n        if (i &gt; 0) &amp; (add &lt; count):\n            add = sum(Decimal(i) for i in numbers)\n            lastnumber = int(numbers[-1])\n            add1 = lastnumber+int(add)\n            numbers.reverse()\n            numbers.pop()\n            numbers.append(add1)\n            print \"add1\\t\", add1\n            print \"add\\t\", add\n            print \"count\\t\", count\n            print \"numbers\", numbers\n        if (add1 == count):\n            print\"________________________________\"\n            print add1\n            print count\n\n        elif (i &gt; 0) &amp; (add &gt; count):\n            count += 1\n            print \"increment count:\", count\n            break\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 4061996, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-sTAgBScUG9Y/AAAAAAAAAAI/AAAAAAAAAIo/AT1Zromw7s0/photo.jpg?sz=128", "display_name": "malteasy", "link": "https://stackoverflow.com/users/4061996/malteasy"}, "edited": false, "score": 0, "creation_date": 1473289855, "post_id": 39380287, "comment_id": 66088448, "body": "Thats awesome, I&#39;ll work more on debugging and I&#39;ll start the program again so I have a clear idea of what is going on"}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 77, "user_id": 4061996, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-sTAgBScUG9Y/AAAAAAAAAAI/AAAAAAAAAIo/AT1Zromw7s0/photo.jpg?sz=128", "display_name": "malteasy", "link": "https://stackoverflow.com/users/4061996/malteasy"}, "edited": false, "score": 0, "creation_date": 1473290010, "post_id": 39380287, "comment_id": 66088487, "body": "@renzen Yeah, that&#39;s a good attitude! You&#39;ll realize very soon solving these kind of problems by yourself is much more rewarding than others giving you the solution. Good question though, I didn&#39;t know keith numbers till now :D"}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 1, "last_activity_date": 1473289623, "creation_date": 1473289623, "answer_id": 39380287, "question_id": 39380002, "link": "https://stackoverflow.com/questions/39380002/python-script-for-finding-keith-numbers-not-working/39380287#39380287", "title": "Python script for finding keith numbers not working", "body": "<p>Prune has already given you good advices! Let's put a little example of what he meant though, let's say you got an algorithm which determine whether n is a keith number or not and also a test loop to print some keith numbers:</p>\n\n<pre><code>def keith_number(n):\n    c = str(n)\n    a = list(map(int, c))\n    b = sum(a)\n\n    while b &lt; n:\n        a = a[1:] + [b]\n        b = sum(a)\n\n    return (b == n) &amp; (len(c) &gt; 1)\n\nN = 5\nfor i in range(N):\n    a, b = 10**i, 10**(i + 1)\n    print(\"[{0},{1}]\".format(a, b))\n    print([i for i in filter(keith_number, range(a, b))])\n    print('-' * 80)\n</code></pre>\n\n<p>such snippet gives you this:</p>\n\n<pre><code>[1,10]\n[]\n--------------------------------------------------------------------------------\n[10,100]\n[14, 19, 28, 47, 61, 75]\n--------------------------------------------------------------------------------\n[100,1000]\n[197, 742]\n--------------------------------------------------------------------------------\n[1000,10000]\n[1104, 1537, 2208, 2580, 3684, 4788, 7385, 7647, 7909]\n--------------------------------------------------------------------------------\n[10000,100000]\n[31331, 34285, 34348, 55604, 62662, 86935, 93993]\n--------------------------------------------------------------------------------\n</code></pre>\n\n<p>Wow, that's awesome... but wait, let's say you don't understand the keith_number function and you want to explore a little bit the algorithm in order to understand its guts. What about if we add some useful debug lines?</p>\n\n<pre><code>def keith_number(n):\n    c = str(n)\n    a = list(map(int, c))\n    b = sum(a)\n    print(\"{0} = {1}\".format(\"+\".join(map(str, a)), b))\n\n    while b &lt; n:\n        a = a[1:] + [b]\n        b = sum(a)\n        print(\"{0} = {1}\".format(\"+\".join(map(str, a)), b))\n\n    return (b == n) &amp; (len(c) &gt; 1)\n\nkeith_number(14)\nprint '-' * 80\nkeith_number(15)\n</code></pre>\n\n<p>that way you'll be able to trace the important steps and the algorithm will make sense in your head:</p>\n\n<pre><code>1+4 = 5\n4+5 = 9\n5+9 = 14\n--------------------------------------------------------------------------------\n1+5 = 6\n5+6 = 11\n6+11 = 17\n</code></pre>\n\n<p>Conclusion: I'd advice you learn how to debug your own code instead asking strangers about it ;-)</p>\n"}], "owner": {"reputation": 77, "user_id": 4061996, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-sTAgBScUG9Y/AAAAAAAAAAI/AAAAAAAAAIo/AT1Zromw7s0/photo.jpg?sz=128", "display_name": "malteasy", "link": "https://stackoverflow.com/users/4061996/malteasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 39380287, "answer_count": 2, "score": 0, "last_activity_date": 1473289623, "creation_date": 1473287693, "question_id": 39380002, "link": "https://stackoverflow.com/questions/39380002/python-script-for-finding-keith-numbers-not-working", "title": "Python script for finding keith numbers not working", "body": "<p>I am trying to make a python program that will find keith numbers. If you don't what keith numbers are, here is a link explaining them:\n<a href=\"http://mathworld.wolfram.com/KeithNumber.html\" rel=\"nofollow\">Keith Numbers - Wolfram MathWorld</a></p>\n\n<p>My code is</p>\n\n<pre><code>from decimal import Decimal\nfrom time import sleep\n\nactivator1 = 1\n\nwhile (activator1 == 1):\n    try:\n        limit = int(raw_input(\"How many digits do you want me to stop at?\"))\n        activator1 = 0\n    except ValueError:\n        print \"You did not enter an integer\"\n\n\nlimitlist = []\nactivator2 = 1\n\nwhile (activator2 &lt;= limit):\n    limitlist.append(activator2)\n    activator2 += 1\n    print limitlist\n\nadd1 = 0\nadd = 0\ncount = 9\nwhile 1:\n    sleep (0.1)\n\n\n    numbers = list(str(count))\n\n    for i in limitlist:\n        if (i &gt; 0) &amp; (add &lt; count):\n            add = sum(Decimal(i) for i in numbers)\n            lastnumber = int(numbers[-1])\n            add1 = lastnumber+int(add)\n            numbers.reverse()\n            numbers.pop()\n            numbers.append(add1)\n            print add1\n            print add\n            print count\n            print numbers\n        if (add1 == count):\n            print\"________________________________\"\n            print add1\n            print count\n\n        elif (i &gt; 0) &amp; (add &gt; count):\n            count += 1\n            break\n</code></pre>\n\n<p>It doesn't output any errors but it just outputs </p>\n\n<pre><code>18\n9\n9\n[18]\n</code></pre>\n\n<p>Could someone please tell me why it doesn't just repeatedly find Keith numbers within the number of integers range? </p>\n"}, {"tags": ["python", "pandas", "graphlab"], "answers": [{"tags": [], "owner": {"reputation": 1561, "user_id": 3120163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kTFSP.jpg?s=128&g=1", "display_name": "Adrien Renaud", "link": "https://stackoverflow.com/users/3120163/adrien-renaud"}, "is_accepted": true, "score": 2, "last_activity_date": 1473289315, "creation_date": 1473289315, "answer_id": 39380244, "question_id": 39379987, "link": "https://stackoverflow.com/questions/39379987/how-can-one-replace-missing-values-with-median-or-mode-in-sframe/39380244#39380244", "title": "How can one replace missing values with median or mode in SFrame?", "body": "<p>There is one, but only the mean is available, not the median.\nHave a look at: <code>graphlab.toolkits.feature_engineering.NumericImputer</code> (<a href=\"https://turi.com/products/create/docs/generated/graphlab.toolkits.feature_engineering.NumericImputer.html\" rel=\"nofollow\">doc</a>)</p>\n\n<blockquote>\n  <p>Impute missing values with feature means.</p>\n  \n  <p>Input columns to the NumericImputer must be of type int, float, dict,\n  list, or array.array. For each column in the input, the transformed\n  output is a column where the input is retained as is if:</p>\n  \n  <ul>\n  <li>there is no missing value.</li>\n  </ul>\n  \n  <p>Inputs that do not satisfy the above are set to the mean value of that feature.</p>\n</blockquote>\n\n<p>If the median is what you want, you could achieve it with:</p>\n\n<pre><code>data.fillna('feature_name', np.median(data['feature_name']))\n</code></pre>\n"}], "owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 0, "accepted_answer_id": 39380244, "answer_count": 1, "score": 2, "last_activity_date": 1473289315, "creation_date": 1473287636, "question_id": 39379987, "link": "https://stackoverflow.com/questions/39379987/how-can-one-replace-missing-values-with-median-or-mode-in-sframe", "title": "How can one replace missing values with median or mode in SFrame?", "body": "<p>I'm going through the Graphlab documentation and I am trying to figure out how to duplicate the pandas functionality were na values are replaced by the median, the mean, or the mode, etc...\nIn pandas you simply do this by: \ndf.dropna().median() \nor \ndf.dropna().mean() \netc....</p>\n\n<p>But the documentation on the dropna and fillna functions for SFrame don't mention anything similar. Is it possible at all in SFrame? </p>\n"}, {"tags": ["python", "encoding", "emacs"], "comments": [{"owner": {"reputation": 426, "user_id": 3255378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6eddd87ae6af12362d417ca8907ec5d?s=128&d=identicon&r=PG&f=1", "display_name": "JCC", "link": "https://stackoverflow.com/users/3255378/jcc"}, "edited": false, "score": 0, "creation_date": 1473348124, "post_id": 39379969, "comment_id": 66115586, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/888406/make-emacs-use-utf-8-with-python-interactive-mode\">Make Emacs use UTF-8 with Python Interactive Mode</a>"}], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 5616110, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OXVjQ.png?s=128&g=1", "display_name": "iScrE4m", "link": "https://stackoverflow.com/users/5616110/iscre4m"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287683, "creation_date": 1473287683, "answer_id": 39379998, "question_id": 39379969, "link": "https://stackoverflow.com/questions/39379969/convert-py-files-to-correct-encoding-for-python-3/39379998#39379998", "title": "Convert .py files to correct encoding for Python 3", "body": "<p>This is not a python 2/3 issue, it looks like something in that git repo has wrong indentation. The easiest fix would be to replace all tab characters in all the files with spaces using something like sed</p>\n"}, {"comments": [{"owner": {"reputation": 426, "user_id": 3255378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6eddd87ae6af12362d417ca8907ec5d?s=128&d=identicon&r=PG&f=1", "display_name": "JCC", "link": "https://stackoverflow.com/users/3255378/jcc"}, "edited": false, "score": 0, "creation_date": 1473347812, "post_id": 39383808, "comment_id": 66115376, "body": "May want to include the inverse command <code>tabify</code> which does the same thing in reverse (converts multiple spaces to tabs)."}], "tags": [], "owner": {"reputation": 4546, "user_id": 1546473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c8bc03863b8d1b0cc086d2319cda57c?s=128&d=identicon&r=PG", "display_name": "Andreas R&#246;hler", "link": "https://stackoverflow.com/users/1546473/andreas-r%c3%b6hler"}, "is_accepted": true, "score": 1, "last_activity_date": 1473446951, "last_edit_date": 1473446951, "creation_date": 1473315651, "answer_id": 39383808, "question_id": 39379969, "link": "https://stackoverflow.com/questions/39379969/convert-py-files-to-correct-encoding-for-python-3/39383808#39383808", "title": "Convert .py files to correct encoding for Python 3", "body": "<p>Exists a command <code>untabify</code>:</p>\n\n<p>Convert all tabs in region to multiple spaces, preserving columns.\nIf called interactively with prefix ARG, convert for the entire\nbuffer.</p>\n\n<p>I.e. call it with C-u to convert all TABs in buffer.</p>\n\n<p>As comment points out correctly: <code>tabify</code> does the inverse, converts multiple spaces to tabs - while using spaces seems a common convention not just in Python.</p>\n"}], "owner": {"reputation": 2882, "user_id": 4995876, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/3e3ef09fd46fd8c29fd94e661e2f4327?s=128&d=identicon&r=PG&f=1", "display_name": "helloB", "link": "https://stackoverflow.com/users/4995876/hellob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 39383808, "answer_count": 2, "score": 0, "last_activity_date": 1473446951, "creation_date": 1473287531, "question_id": 39379969, "link": "https://stackoverflow.com/questions/39379969/convert-py-files-to-correct-encoding-for-python-3", "title": "Convert .py files to correct encoding for Python 3", "body": "<p>I just pulled from a git repo where the users are on Python 2. My system is running Python 3 and with no changes in the code, I am getting this error:</p>\n\n<pre><code>TabError: inconsistent use of tabs and spaces in indentation\n</code></pre>\n\n<p>It appears that the solution is to change the char set encoding of the <code>.py</code> files, but working in emacs, I'm not clear how to do this. I'm seeing these instructions:</p>\n\n<p><a href=\"https://www.emacswiki.org/emacs/ChangingEncodings\" rel=\"nofollow\">https://www.emacswiki.org/emacs/ChangingEncodings</a></p>\n\n<p>but I don't understand how to apply these for utf-8. I'd appreciate any suggestions.</p>\n"}, {"tags": ["python", "dictionary", "translation"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1473287308, "post_id": 39379907, "comment_id": 66087710, "body": "Typo: you did <code>t:e</code> rather than <code>e:t</code>, so you end up with a copy of that dictionary. Also, don&#39;t put the strings into lists - they only have one item, and it prevents you from reversing the dictionary."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1473287475, "post_id": 39379907, "comment_id": 66087769, "body": "And joining all the characters of a word back into the word is a redundant operation. Instead of e.g. <code>(&quot;&quot;.join(Tuc[word]))</code> you can use <code>Tuc[word]</code>. And, again, don&#39;t use lists when they&#39;re not necessary."}], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 1253311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21acab710c6e17104c2af7bf8390a9d5?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1253311/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287332, "creation_date": 1473287332, "answer_id": 39379938, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python/39379938#39379938", "title": "Reverse translation dictionary Python", "body": "<p>The way you have it currently set, <code>Eng</code> and <code>Tuc</code> are identical. It seems like what you want is </p>\n\n<pre><code>&gt;&gt;&gt; Eng = {e[0]: [t] for t, e in Tuc.items()}\n&gt;&gt;&gt; Eng\n{'yem': ['my'], 'ye': ['me'], 'uo': ['you'], 'o': ['i'], 'sia': 'are'], 'yeme': ['mine'], 'wau': ['love']}\n</code></pre>\n\n<p>As a side note, there's not really a need to make the values in the hash lists since they all contain a single string, but that's not a big deal.</p>\n"}, {"tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287339, "creation_date": 1473287339, "answer_id": 39379941, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python/39379941#39379941", "title": "Reverse translation dictionary Python", "body": "<p>You have a typo up there:</p>\n\n<pre><code>Eng = {e[0]: [t] for t, e in Tuc.items()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287461, "creation_date": 1473287461, "answer_id": 39379959, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python/39379959#39379959", "title": "Reverse translation dictionary Python", "body": "<p>You ought to do</p>\n\n<pre><code>eng = {v[0]: [k] for k, v in tuc.items()}\n</code></pre>\n\n<p>Or <code>iteritems()</code> with Python 2.</p>\n\n<p>Note, instead of:</p>\n\n<pre><code>while phrase == True\n</code></pre>\n\n<p>You should write:</p>\n\n<pre><code>while phrase\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1473290033, "last_edit_date": 1473290033, "creation_date": 1473287654, "answer_id": 39379989, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python/39379989#39379989", "title": "Reverse translation dictionary Python", "body": "<p>You can clean up your code quite a bit while fixing this error (you copied the dictionary instead of reversing it):</p>\n\n<pre><code>Tuc={\"i\":\"o\", \"love\":\"wau\", \"you\":\"uo\", \"me\":\"ye\", \"my\":\"yem\", \"mine\":\"yeme\", \"are\":\"sia\"}\nEng = {e:t for t, e in Tuc.items()}\nprint \"ENG\"\nprint Eng\nprint \"TUC\"\nprint Tuc\nphrase=True\n\nwhile phrase:\n    translation = raw_input(\"Enter content for translation.\\n\").lower()\n    phrase = translation.split() # empty input will break the loop\n\n    for word in phrase:\n        print Tuc.get(word, Eng.get(word, 'Word Not Stored'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287723, "creation_date": 1473287723, "answer_id": 39380008, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python/39380008#39380008", "title": "Reverse translation dictionary Python", "body": "<p>This version assumes each word will have multiple translations (that's the reason you're using lists on each word):</p>\n\n<pre><code>from collections import defaultdict\n\ntuc_dictionary = {\n    \"i\": [\"o\"],\n    \"love\": [\"wau\"],\n    \"you\": [\"uo\"],\n    \"me\": [\"ye\"],\n    \"my\": [\"yem\"],\n    \"mine\": [\"yeme\"],\n    \"are\": [\"sia\"]\n}\nenglish_dictionary = defaultdict(list)\nfor k, v in tuc_dictionary.items():\n    for word in v:\n        english_dictionary[word].append(k)\nenglish_dictionary = dict(english_dictionary)\n\nprint \"ENG\"\nprint english_dictionary\nprint \"TUC\"\nprint tuc_dictionary\nphrase = True\nreverseLookup = False\n\nwhile phrase == True:\n    translation = str(raw_input(\"Enter content for translation.\\n\").lower())\n    input_list = translation.split()\n\n    for word in input_list:\n\n        # English to Tuccin\n        if word in tuc_dictionary:\n            print(\"\".join(tuc_dictionary[word])) + \" *English&gt;&gt;Tuccin\"\n\n        # Tuccin to English\n        elif word in english_dictionary:\n            print(\"\".join(english_dictionary[word])) + \" *Tuccin&gt;&gt;English\"\n        else:\n            print word + \" *Word Not Stored\"\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4928343, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Iy2OmXj0Fd8/AAAAAAAAAAI/AAAAAAAABUo/DEmGLd4KtKE/photo.jpg?sz=128", "display_name": "Tr&#233;DarkGrey", "link": "https://stackoverflow.com/users/4928343/tr%c3%a9darkgrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1473290033, "creation_date": 1473287095, "question_id": 39379907, "link": "https://stackoverflow.com/questions/39379907/reverse-translation-dictionary-python", "title": "Reverse translation dictionary Python", "body": "<p>This is what I have ended up with after suggestions were made it appears as if the Eng dictionary is identical to the Tuc one. This program will translate English words to Tuccin but I can not for the life of me get it to translate Tuccin to English Pleae tell me how to achieve this. In the event a non stored word is input I have it set to just print the word itself. But i don't even manage to get the elif to trigger it goes straight to the else condition if it's not a stored English word.    </p>\n\n<pre><code>Tuc={\"i\":[\"o\"],\"love\":[\"wau\"],\"you\":[\"uo\"],\"me\":[\"ye\"],\"my\":[\"yem\"],\"mine\":[\"yeme\"],\"are\":[\"sia\"]}\nEng = {t: e for t, e in Tuc.items()}\nprint \"ENG\"\nprint Eng\nprint \"TUC\"\nprint Tuc\nphrase=True\nreverseLookup = False  \n\nwhile phrase == True:\n    translation = str(raw_input(\"Enter content for translation.\\n\").lower())\n    input_list = translation.split()\n\n\n    for word in input_list:\n\n        #English to Tuccin\n        if word in Tuc:\n            print (\"\".join(Tuc[word]))+\" *English&gt;&gt;Tuccin\"\n\n       #Tuccin to English\n        elif word in Eng:\n            print (\"\".join(Eng[word]))+\" *Tuccin&gt;&gt;English\"\n\n        else:\n            print word+\" *Word Not Stored\"\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1473287273, "creation_date": 1473287273, "answer_id": 39379931, "question_id": 39379903, "link": "https://stackoverflow.com/questions/39379903/pulling-table-data-with-mixed-element-types/39379931#39379931", "title": "Pulling table data with mixed element types", "body": "<p>Find all <code>td</code> elements first, then, for every <code>td</code> decide if you want to get the text or the <code>src</code> attribute of the <code>img</code> element:</p>\n\n<pre><code>posts = driver.find_elements_by_css_selector(\"td.x\")\nfor post in posts:\n    images = post.find_elements_by_tag_name(\"img\")\n    if images:\n         print(images[0].get_attribute(\"src\"))\n    else:\n         print(post.text)\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 5771687, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8f88b97647772d82659820bcd43d6ac3?s=128&d=identicon&r=PG&f=1", "display_name": "riyadude", "link": "https://stackoverflow.com/users/5771687/riyadude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 39379931, "answer_count": 1, "score": 1, "last_activity_date": 1473287273, "creation_date": 1473287083, "question_id": 39379903, "link": "https://stackoverflow.com/questions/39379903/pulling-table-data-with-mixed-element-types", "title": "Pulling table data with mixed element types", "body": "<p>I am trying to pull data from a table using Python and Selenium however a few of the columns have a mix between gif and text. When I print the text element it returns the text along with blanks were the gif elements are within the column. However when I prints the gif elements, it returns all the gifs from the table (not just the column) without any blanks for the text fields. Any ideas how I can pull both elements types from the column? Thanks.</p>\n\n<p>Table example:</p>\n\n<pre><code>&lt;td class=\"X\"&gt;\n&lt;img src=\"/a/b/c/d.gif\"&gt;\n&lt;td&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;td class=\"X\"&gt;\n&lt;div class=\"default-value\"&gt;Not Applicable&lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Code for text</p>\n\n<pre><code>posts = driver.find_elements_by_class_name(\"x\")\n   for post in posts:\n   print(post.text)\n</code></pre>\n\n<p>Code for gif</p>\n\n<pre><code>for element in driver.find_elements_by_tag_name('img'):\n    print(element.get_attribute(\"src\"))\n</code></pre>\n"}, {"tags": ["python", "algorithm", "apache-spark", "data-structures", "bigdata"], "comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 1, "creation_date": 1473287270, "post_id": 39379889, "comment_id": 66087706, "body": "where are these <code>000456</code> and <code>100456</code> coming from? are they just last 3 digits increment by 000, 100, 200 etc.? please explain this clearly"}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1473287595, "post_id": 39379889, "comment_id": 66087810, "body": "Do you want an arbitrary set of 150 elements?"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473288105, "post_id": 39379889, "comment_id": 66087958, "body": "Updated @Anzel. They were just random data, updated with the example making sense. zero323 not sure what do you mean. Every centroid must have 150 elements at max, and I do not care about the order, so yes they can be picked arbitrarily."}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473288489, "post_id": 39379889, "comment_id": 66088061, "body": "@gsamaras a naive solution provided, not sure if this is what you&#39;re looking for. Let me know"}], "answers": [{"tags": [], "owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1473288457, "creation_date": 1473288457, "answer_id": 39380113, "question_id": 39379889, "link": "https://stackoverflow.com/questions/39379889/unordered-set-or-similar-in-spark/39380113#39380113", "title": "Unordered set or similar in Spark?", "body": "<p>Judging from what you described (although I still don't quite get it), here is a naive approach using Python:</p>\n\n<pre><code>In [1]: from itertools import groupby\n\nIn [2]: from random import randint\n\nIn [3]: data = []  # create random samples as you did\n   ...: for i in range(10):\n   ...:     data.append((randint(0, 100000000), (randint(0, 16000), randint(0, 16000))))\n   ...:\n\nIn [4]: result = []  # create a intermediate list to transform your sample\n   ...: for point_id, cluster in data:\n   ...:     for index, c in enumerate(cluster):\n                # I made it up following your pattern\n   ...:         result.append((c, [point_id, str(index * 100).zfill(3) + str(point_id)[-3:]]))\n        # sort the result by point_id as key for grouping\n   ...: result = sorted(result, key=lambda x: x[1][0])\n   ...:\n\nIn [5]: result[:3]\nOut[5]:\n[(4020, [5002188, '000188']),\n (10983, [5002188, '100188']),\n (10800, [24763401, '000401'])]\n\nIn [6]: capped_result = []\n        #\u00a0basically groupby sorted point_id and cap the list max at 150\n   ...: for _, g in groupby(result, key=lambda x: x[1][0]):\n   ...:     grouped = list(g)[:150]\n   ...:     capped_result.extend(grouped)\n        #\u00a0final result will be like\n   ...: print(capped_result)\n   ...:\n[(4020, [5002188, '000188']), (10983, [5002188, '100188']), (10800, [24763401, '000401']), (12965, [24763401, '100401']), (6369, [24924435, '000435']), (429, [24924435, '100435']), (7666, [39240078, '000078']), (2526, [39240078, '100078']), (5260, [47597265, '000265']), (7056, [47597265, '100265']), (2824, [60159219, '000219']), (5730, [60159219, '100219']), (7837, [67208338, '000338']), (12475, [67208338, '100338']), (4897, [80084812, '000812']), (13038, [80084812, '100812']), (2944, [80253323, '000323']), (1922, [80253323, '100323']), (12777, [96811112, '000112']), (5463, [96811112, '100112'])]\n</code></pre>\n\n<p>Of course this isn't optimised at all but will give you a head start how you can tackle this problem. I hope this helps.</p>\n"}], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 39380113, "answer_count": 1, "score": 0, "last_activity_date": 1505884929, "creation_date": 1473287035, "last_edit_date": 1592644375, "question_id": 39379889, "link": "https://stackoverflow.com/questions/39379889/unordered-set-or-similar-in-spark", "title": "Unordered set or similar in Spark?", "body": "<p>I have data of this format:</p>\n<blockquote>\n<p>(123456, (43, 4861))</p>\n<p>(000456, (43, 4861))</p>\n</blockquote>\n<p>where the first term is the point id, where the second term is a pair, where its first id is a cluster-centroid and the second id is another cluster-centroid. So that says that point 123456 is assigned to clusters 43 and 4861.</p>\n<p>What I am trying to do is to create data of this format:</p>\n<blockquote>\n<p>(43, [123456, 000456])</p>\n<p>(4861, [123456, 000456])</p>\n</blockquote>\n<p>where the idea is that every centroid has a list of the points that are assigned to it. That list <em>must</em> be at max of length 150.</p>\n<p>Is there anything I could use in <a href=\"/questions/tagged/spark\" class=\"post-tag\" title=\"show questions tagged &#39;spark&#39;\" rel=\"tag\">spark</a> or <a href=\"/questions/tagged/python\" class=\"post-tag\" title=\"show questions tagged &#39;python&#39;\" rel=\"tag\">python</a> which would make my life easier?</p>\n<hr />\n<p>I do not care of fast access and order. I have 100m points and 16k centroids.</p>\n<hr />\n<p>Here is some artificial data that I use to play with:</p>\n<pre><code>data = []\nfrom random import randint\nfor i in xrange(0, 10):\n    data.append((randint(0, 100000000), (randint(0, 16000), randint(0, 16000))))\ndata = sc.parallelize(data)\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "recurrent-neural-network"], "answers": [{"tags": [], "owner": {"reputation": 4923, "user_id": 992489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8568528b37ad2e84830c2c9aa9260369?s=128&d=identicon&r=PG", "display_name": "Alexandre Passos", "link": "https://stackoverflow.com/users/992489/alexandre-passos"}, "is_accepted": false, "score": 0, "last_activity_date": 1473353629, "creation_date": 1473353629, "answer_id": 39396466, "question_id": 39379805, "link": "https://stackoverflow.com/questions/39379805/aws-g2-8xlarge-performance-and-out-of-memory-issues-when-using-tensorflow/39396466#39396466", "title": "AWS g2.8xlarge performance and out of memory issues when using tensorflow", "body": "<p>Re (1), to improve GPU utilization did you try increasing the batch size and / or shortening the sequences you use for training?</p>\n\n<p>Re (2), to use multiple GPUs you do need to manually assign the ops to GPU devices, I believe. The right way is to place ops on specific GPUs by doing</p>\n\n<pre><code>with g.Device(\"/gpu:0\"):\n  ...\nwith g.Device(\"/gpu:1\"):\n  ...\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6806491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a013a72bc679c5924726dc16fcb3a1?s=128&d=identicon&r=PG&f=1", "display_name": "RJS", "link": "https://stackoverflow.com/users/6806491/rjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1473353629, "creation_date": 1473286461, "question_id": 39379805, "link": "https://stackoverflow.com/questions/39379805/aws-g2-8xlarge-performance-and-out-of-memory-issues-when-using-tensorflow", "title": "AWS g2.8xlarge performance and out of memory issues when using tensorflow", "body": "<p>I am currently training a recurrent net on Tensorflow for a text classification problem and am running into performance and out of memory issues. I am on AWS g2.8xlarge with Ubuntu 14.04, and a recent nightly build of tensorflow (which I downloaded on Aug 25).</p>\n\n<p>1) Performance issue:</p>\n\n<p>On the surface, both the CPU and GPU are highly under-utilized. I've run multiple tests on this (and have used line_profiler and memory_profiler in the process). Train durations scale linearly with number of epochs, so I tested with 1 epoch. For RNN config = 1 layer, 20 nodes, training time = 146 seconds.</p>\n\n<p>Incidentally, that number is about 20 seconds higher/slower than the same test run on a g2.2xlarge!</p>\n\n<p>Here is a snapshot of System Monitor and nvidia-smi (updated every 2 seconds) about 20 seconds into the run:</p>\n\n<p><a href=\"http://i.stack.imgur.com/znNZD.png\" rel=\"nofollow\">SnapshotEarlyPartOfRun</a></p>\n\n<p>As you can see, GPU utilization is at 19%. When I use nvprof, I find that the total GPU process time is about 27 seconds or so. Also, except for one vCPU, all others are very under-utilized. The numbers stay around this level, till the end of the epoch where I measure error across the entire training set, sending GPU utilization up to 45%.</p>\n\n<p>Unless I am missing something, on the surface, each device is sitting around waiting for something to happen.</p>\n\n<p>2) Out of memory issue:</p>\n\n<p>If I increase the number of nodes to 200, it gives me an Out of Memory error which happens on the GPU side. As you can see from the above snapshots, only one of the four GPUs is used. I've found that the way to get tensorflow to use the GPU has to do with how you assign the model. If you don't specify anything, tensorflow will assign it to a GPU. If you specify a GPU, only it will be used. Tensorflow does not like it when I assign it to multiple devices with a \"for d in ['/gpu:0',...]\". I get into an issue with re-using the embedding variable. I would like to use all 4 GPUs for this (without setting up distributed tensorflow). Here is the snapshot of the Out of memory error:</p>\n\n<p><a href=\"http://i.stack.imgur.com/tdHsr.png\" rel=\"nofollow\">OutofMemoryError</a></p>\n\n<p>Any suggestions you may have for both these problems would be greatly appreciated!</p>\n"}, {"tags": ["python", "json", "apache-spark", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 3, "last_activity_date": 1473288438, "creation_date": 1473288438, "answer_id": 39380110, "question_id": 39379775, "link": "https://stackoverflow.com/questions/39379775/pyspark-how-to-transform-json-strings-in-a-dataframe-column/39380110#39380110", "title": "Pyspark: How to transform json strings in a dataframe column", "body": "<p>One possible solution:</p>\n\n<pre><code>(df\n  .rdd  # Convert to rdd\n  .flatMap(lambda x: x)  # Flatten rows\n  # Parse JSON. In practice you should add proper exception handling\n  .flatMap(lambda x: json.loads(x))\n  # Get values\n  .map(lambda x: (x.get('val01_field_name'), x.get('val02_field_name')))\n  # Convert to final shape\n  .groupByKey())\n</code></pre>\n\n<p>Given output specification this operation is not exactly efficient (do you really require grouped values?) but still much better than <code>collect</code>.</p>\n"}], "owner": {"reputation": 4028, "user_id": 631199, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8d14e043d3c1f08e23d0a6fbbed1be3e?s=128&d=identicon&r=PG", "display_name": "Brian Bruggeman", "link": "https://stackoverflow.com/users/631199/brian-bruggeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6485, "favorite_count": 2, "accepted_answer_id": 39380110, "answer_count": 1, "score": 2, "last_activity_date": 1473288438, "creation_date": 1473286279, "question_id": 39379775, "link": "https://stackoverflow.com/questions/39379775/pyspark-how-to-transform-json-strings-in-a-dataframe-column", "title": "Pyspark: How to transform json strings in a dataframe column", "body": "<p>The following is more or less straight python code which functionally extracts exactly as I want.  The data schema for the column I'm filtering out within the dataframe is basically a json string.  </p>\n\n<p>However, I had to greatly bump up the memory requirement for this and I'm only running on a single node.  Using a collect is probably bad and creating all of this on a single node really isn't taking advantage of the distributed nature of Spark.</p>\n\n<p>I'd like a more Spark centric solution.  Can anyone help me massage the logic below to better take advantage of Spark?  Also, as a learning point: please provide an explanation for why/how the updates make it better.</p>\n\n<p></p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport json\n\nfrom pyspark.sql.types import SchemaStruct, SchemaField, StringType\n\n\ninput_schema = SchemaStruct([\n    SchemaField('scrubbed_col_name', StringType(), nullable=True)\n])\n\n\noutput_schema = SchemaStruct([\n    SchemaField('val01_field_name', StringType(), nullable=True),\n    SchemaField('val02_field_name', StringType(), nullable=True)\n])\n\n\nexample_input = [\n    '''[{\"val01_field_name\": \"val01_a\", \"val02_field_name\": \"val02_a\"},\n        {\"val01_field_name\": \"val01_a\", \"val02_field_name\": \"val02_b\"},\n        {\"val01_field_name\": \"val01_b\", \"val02_field_name\": \"val02_c\"}]''',\n    '''[{\"val01_field_name\": \"val01_c\", \"val02_field_name\": \"val02_a\"}]''',\n    '''[{\"val01_field_name\": \"val01_a\", \"val02_field_name\": \"val02_d\"}]''',\n]\n\ndesired_output = {\n    'val01_a': ['val_02_a', 'val_02_b', 'val_02_d'],\n    'val01_b': ['val_02_c'],\n    'val01_c': ['val_02_a'],\n}\n\n\ndef capture(dataframe):\n    # Capture column from data frame if it's not empty\n    data = dataframe.filter('scrubbed_col_name != null')\\\n                    .select('scrubbed_col_name')\\\n                    .rdd\\\n                    .collect()\n\n    # Create a mapping of val1: list(val2)\n    mapping = {}\n    # For every row in the rdd\n    for row in data:\n        # For each json_string within the row\n        for json_string in row:\n            # For each item within the json string\n            for val in json.loads(json_string):\n                # Extract the data properly\n                val01 = val.get('val01_field_name')\n                val02 = val.get('val02_field_name')\n                if val02 not in mapping.get(val01, []):\n                    mapping.setdefault(val01, []).append(val02)\n    return mapping\n</code></pre>\n"}, {"tags": ["python", "deep-learning", "theano", "keras"], "comments": [{"owner": {"reputation": 2077, "user_id": 4116272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a27b9674a548a94f7459cbd69cf407a?s=128&d=identicon&r=PG", "display_name": "Mikael Rousson", "link": "https://stackoverflow.com/users/4116272/mikael-rousson"}, "edited": false, "score": 0, "creation_date": 1473321905, "post_id": 39379749, "comment_id": 66098196, "body": "Are you sure the problem is not with your data? You can compare calling fit once with 5 epochs and calling it 5 times with 1 epoch on the same data."}, {"owner": {"reputation": 3061, "user_id": 3111778, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41dcac65aa74e53542af5edd4ff653d2?s=128&d=identicon&r=PG&f=1", "display_name": "pyan", "link": "https://stackoverflow.com/users/3111778/pyan"}, "edited": false, "score": 5, "creation_date": 1473347652, "post_id": 39379749, "comment_id": 66115258, "body": "The 4th is in deed different from 3rd and 5th. Why do you expect &quot;so the fifth iteration should produce different scores as the third iteration&quot;? Your learning rate of 0.1 is very large for such network. One epoch probably has made it finished. Try smaller learning rate or some other data."}], "owner": {"reputation": 933, "user_id": 1563831, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b2a1ea866c2c1f68da6326bb6e660d53?s=128&d=identicon&r=PG", "display_name": "Discombobulous", "link": "https://stackoverflow.com/users/1563831/discombobulous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1012, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473331237, "creation_date": 1473286134, "last_edit_date": 1473331237, "question_id": 39379749, "link": "https://stackoverflow.com/questions/39379749/keras-fit-doesnt-retrain-the-model-on-consecutive-calls", "title": "Keras fit() doesn&#39;t retrain the model on consecutive calls", "body": "<p>After playing around with Keras, I realized that somehow models.fit() doesn't retrain the parameters after calling it again. </p>\n\n<p>Below is my toy example. I called models.fit() 6 times, and at the fourth epoch I train it with a completely new dataset. What <em>should</em> happen is that the model should change at the fourth iteration so the fifth iteration should produce different scores as the third iteration. However, this is not what's happening.</p>\n\n<pre><code>model = Sequential()\n\nmodel.add(Convolution2D(32, 3, 3, border_mode='same', input_shape=(1, 199, 40)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\nmodel.add(Dropout(0.25))\nmodel.add(Convolution2D(32, 3, 3))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\nmodel.add(Dropout(0.25))\n\nmodel.add(Flatten())\nmodel.add(Dense(512))\nmodel.add(Activation('relu'))\nmodel.add(Dropout(0.5))\n\nmodel.add(Dense(2))\nmodel.add(Activation('softmax'))\n\nsgd = SGD(lr=0.1, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(loss='categorical_crossentropy', optimizer=sgd, metrics=['accuracy'])\n\nnb_epoch = 6\n\n# I know you can add nb_epoch into the fit function, but please ignore that for now\nfor e in range(nb_epoch):\n    if e ==3:\n        # For the third epoch only, let's train the model \n        # on a completely new dataset\n        model.fit(X_train1, y_train1, nb_epoch=1, batch_size=batch_size)\n    else:\n        model.fit(X_train2, y_train2, nb_epoch=1, batch_size=batch_size)\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>546/546 [==============================] - 11s - loss: 4.0249 - acc: 0.6996\nEpoch 1/1\n546/546 [==============================] - 11s - loss: 4.0443 - acc: 0.7491\nEpoch 1/1\n546/546 [==============================] - 11s - loss: 4.0443 - acc: 0.7491\nEpoch 1/1\n365/365 [==============================] - 7s - loss: 3.7977 - acc: 0.7644\nEpoch 1/1\n546/546 [==============================] - 11s - loss: 4.0443 - acc: 0.7491\nEpoch 1/1\n546/546 [==============================] - 11s - loss: 4.0443 - acc: 0.7491\n</code></pre>\n\n<p>It seems to be like calling model.fit after the second iteration has no effect at all on the model. Even if new data is given.</p>\n\n<p>Any ideas on why this is happening? <strong>I also tried train_on_batch and it produces the same results.</strong></p>\n"}, {"tags": ["python", "return"], "comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1473286300, "post_id": 39379735, "comment_id": 66087399, "body": "Just call A in your B function. <code>x,y,z = A()</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1473286520, "post_id": 39379735, "comment_id": 66087465, "body": "I assume the real <code>A</code> function is more complicated than returning a constant <code>tuple</code>? Otherwise, you may as well just avoid the function and define <code>A = 1, 2, 3</code> at the top level of the module, then you can index without calling it."}], "answers": [{"comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "reply_to_user": {"reputation": 502, "user_id": 6229036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e1d8c9d3000883a87099ce5a1dc1460?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Angelopoulos", "link": "https://stackoverflow.com/users/6229036/panos-angelopoulos"}, "edited": false, "score": 0, "creation_date": 1473286623, "post_id": 39379769, "comment_id": 66087505, "body": "@PanosAngelopoulos -- not a problem, yeah I think it&#39;s just an overseen mistake you&#39;ve made and glad it&#39;s solved :-)"}], "tags": [], "owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1473286216, "creation_date": 1473286216, "answer_id": 39379769, "question_id": 39379735, "link": "https://stackoverflow.com/questions/39379735/how-to-run-a-def-with-multiple-values-only-once-and-use-values-into-another-def/39379769#39379769", "title": "How to run a def with multiple values only once and use values into another def?", "body": "<p>Simple, there are mistakes in your code, <code>A</code> is a function and you should call it with <code>A()</code> to get the returned values. Instead you use it like <code>A[0]</code> which is un-subscriptable, and you can assign a temp variable within <code>B</code> function so you can re-use the returned values, change to below should work:</p>\n\n<pre><code>In [54]: def A():\n    ...:     x = 1\n    ...:     y = 2\n    ...:     z = 3\n    ...:     return x,y,z  # I fixed your typo too\n    ...:\n    ...: def B():\n    ...:     a = A()\n    ...:     d = a[0] + a[1]\n    ...:     e = a[2] - a[0]\n    ...:     print(d,e)\n    ...:\n    ...: B()\n\n    3 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "is_accepted": false, "score": 1, "last_activity_date": 1473286305, "creation_date": 1473286305, "answer_id": 39379781, "question_id": 39379735, "link": "https://stackoverflow.com/questions/39379735/how-to-run-a-def-with-multiple-values-only-once-and-use-values-into-another-def/39379781#39379781", "title": "How to run a def with multiple values only once and use values into another def?", "body": "<p>I would do this: </p>\n\n<pre><code>def B():\n    a, b, c = A()\n    d = a + b\n    e = c - a\n    print d,e\n</code></pre>\n\n<p>But make sure your function <code>A()</code> is returning the same variables it is declaring (<code>x, y, z</code> not <code>a, b, c</code>).</p>\n"}], "owner": {"reputation": 502, "user_id": 6229036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e1d8c9d3000883a87099ce5a1dc1460?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Angelopoulos", "link": "https://stackoverflow.com/users/6229036/panos-angelopoulos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 39379769, "answer_count": 2, "score": 1, "last_activity_date": 1473286305, "creation_date": 1473286056, "question_id": 39379735, "link": "https://stackoverflow.com/questions/39379735/how-to-run-a-def-with-multiple-values-only-once-and-use-values-into-another-def", "title": "How to run a def with multiple values only once and use values into another def?", "body": "<p>My problem is real simple but unfortunately i can't find a way to solve it.</p>\n\n<p>I would like to run a def A which returns multiple values from def B only once.</p>\n\n<p>I wrote this block of code :</p>\n\n<pre><code>def A():\n    x = 1\n    y = 2\n    z = 3\n    return a,b,c\n\ndef B():\n    d = A[0] + A[1]\n    e = A[2] - A[0]\n    print d,e\n\nB()\n</code></pre>\n\n<p>If i'm using this block of code it will run four times!</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "python-2.7", "numpy", "version"], "answers": [{"comments": [{"owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "edited": false, "score": 0, "creation_date": 1473360639, "post_id": 39379833, "comment_id": 66122367, "body": "Okay, I will learn virtualenv. It seems like it&#39;s what I need. Thank you."}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1473287016, "last_edit_date": 1473287016, "creation_date": 1473286639, "answer_id": 39379833, "question_id": 39379728, "link": "https://stackoverflow.com/questions/39379728/python-is-using-the-wrong-version-of-numpy-module/39379833#39379833", "title": "Python is using the wrong version of Numpy module", "body": "<p>It's better to use a <strong><a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow\">virtualenv</a></strong> to install the required libraries version. Don't pollute your system Python.</p>\n\n<p>It will solve your problem\u2026</p>\n\n<pre><code>mkdir $HOME/virtualenv\ncd $HOME/virtualenv\nvirtualenv my_app\nsource my_app/bin/activate\npip install the_lib==x.y.z\n</code></pre>\n\n<p>Where <em>the_lib</em> is <strong>numpy</strong> and <em>x.y.z</em> is the version <strong>1.11.1</strong>.</p>\n"}], "owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "accepted_answer_id": 39379833, "answer_count": 1, "score": 3, "last_activity_date": 1473287016, "creation_date": 1473286007, "question_id": 39379728, "link": "https://stackoverflow.com/questions/39379728/python-is-using-the-wrong-version-of-numpy-module", "title": "Python is using the wrong version of Numpy module", "body": "<p>I'm trying to use Numpy 1.11.1 for Python 2.7. I have Mac El Capitan, so <code>sudo pip install</code> doesn't work.</p>\n\n<p>I decided to install Homebrew and do <code>brew install python</code> and that worked. If I use <code>pip show numpy</code> it shows that I have Numpy 1.11.1 now.</p>\n\n<p>But if I run <code>python -c 'import numpy; print numpy.version.version'</code> I still get <code>1.8.0rc1</code> which is the old version I was trying to upgrade!</p>\n\n<p>How do I use the correct numpy module? I would like to do this in a way that doesn't require adding in a line to the python scripts that call numpy, but if that's the only way then I'll do it.</p>\n\n<p>info:</p>\n\n<pre><code>which pip\n/Library/Frameworks/Python.framework/Versions/3.5/bin/pip\nwhich pip\n/Library/Frameworks/Python.framework/Versions/3.5/bin/pip\nwhich pip2\n/usr/local/bin/pip2\nwhich pip3\n/Library/Frameworks/Python.framework/Versions/3.5/bin/pip3\nwhich python\n/usr/bin/python\nwhich python2\nwhich python2.7\n/usr/bin/python2.7\nwhich python3\n/Library/Frameworks/Python.framework/Versions/3.5/bin/python3\nwhich python3.5\n/Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5\n</code></pre>\n"}, {"tags": ["python", "coverity"], "answers": [{"comments": [{"owner": {"reputation": 2566, "user_id": 2940881, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lz0ZZ.png?s=128&g=1", "display_name": "Frank-Rene Sch&#228;fer", "link": "https://stackoverflow.com/users/2940881/frank-rene-sch%c3%a4fer"}, "edited": false, "score": 0, "creation_date": 1473925431, "post_id": 39394501, "comment_id": 66327847, "body": "Neither works. (i) specifying a command line so that Quex does not complain =&gt; zero files emitted. (ii) using --no-command =&gt; zero files emitted. &#39;cov-configuration&#39; says that python is not available on plattform(?). How can this be, if I downloaded the Python-version of coverity?"}, {"owner": {"reputation": 106, "user_id": 1063109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767d0f7046e03428626ddcf6723bf17e?s=128&d=identicon&r=PG", "display_name": "fifty nine", "link": "https://stackoverflow.com/users/1063109/fifty-nine"}, "reply_to_user": {"reputation": 2566, "user_id": 2940881, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lz0ZZ.png?s=128&g=1", "display_name": "Frank-Rene Sch&#228;fer", "link": "https://stackoverflow.com/users/2940881/frank-rene-sch%c3%a4fer"}, "edited": false, "score": 0, "creation_date": 1474224025, "post_id": 39394501, "comment_id": 66433227, "body": "Have you inspected the build log under <code>cov-init&#47;build-log.txt</code>? It&#39;s possible that <code>cov-build</code> is capturing the files, but failing to emit them due to parse errors or other issues.  As for the cov-configure issue, I&#39;m not sure what would cause that. I take you see that error message when you run <code>cov-configure --python</code>?"}], "tags": [], "owner": {"reputation": 106, "user_id": 1063109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767d0f7046e03428626ddcf6723bf17e?s=128&d=identicon&r=PG", "display_name": "fifty nine", "link": "https://stackoverflow.com/users/1063109/fifty-nine"}, "is_accepted": false, "score": 2, "last_activity_date": 1473347370, "creation_date": 1473347370, "answer_id": 39394501, "question_id": 39379721, "link": "https://stackoverflow.com/questions/39379721/getting-started-with-coverity-for-python-package/39394501#39394501", "title": "Getting started with Coverity for python package", "body": "<pre><code>[WARNING] Build command python /tmp/trunk/quex-exe.py exited with code 255. Please verify that the build completed successfully.\n</code></pre>\n\n<p>This means that the command you specified on the cov-build line (<code>python mine.py</code>) didn't exit with zero. Probably because of this:</p>\n\n<pre><code>command line: No input files.\n</code></pre>\n\n<p>But in any case, it looks like cov-build <em>did</em> successfully capture 485 source files, so it's possible you don't need to use a build command at all. In that case, you can specify the <code>--no-command</code> switch and omit <code>python mine.py</code>, at which point you can proceed with the rest of the workflow.</p>\n"}], "owner": {"reputation": 2566, "user_id": 2940881, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lz0ZZ.png?s=128&g=1", "display_name": "Frank-Rene Sch&#228;fer", "link": "https://stackoverflow.com/users/2940881/frank-rene-sch%c3%a4fer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1889, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1473347370, "creation_date": 1473285970, "question_id": 39379721, "link": "https://stackoverflow.com/questions/39379721/getting-started-with-coverity-for-python-package", "title": "Getting started with Coverity for python package", "body": "<p>I downloaded the coverity package for Python/PHP, and try to\nlet it analyze my package:</p>\n\n<pre><code>./cov-build --dir cov-int --fs-capture-search /my/dir/ python mine.py\n</code></pre>\n\n<p>considering that 'my/dir' contains the package's root directory and the 'mine.py' implements the entry point.</p>\n\n<p>The I get the result:</p>\n\n<pre><code>command line: No input files.\n[STATUS] Running filesystem capture search...\n[STATUS] Emitting 485 source files from filesystem capture\n|0----------25-----------50----------75---------100|\n****************************************************\n[WARNING] Build command python /tmp/trunk/quex-exe.py exited with code 255. Please verify that the build completed successfully.\n</code></pre>\n\n<p>It is not clear to me, what Coverity means with 'build'. Does it mean a sample invocation of the script? How can I get started?</p>\n\n<p>The most of the 'help' files in the 'doc/' subdirectory are empty(!)</p>\n"}, {"tags": ["python", "python-2.7", "printing", "console"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1473286045, "post_id": 39379704, "comment_id": 66087318, "body": "MCVE needed --&gt; <a href=\"http://www.stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1473286130, "post_id": 39379704, "comment_id": 66087344, "body": "Show all of your <code>Foo</code> and <code>Bar</code> classes please."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1473286184, "post_id": 39379704, "comment_id": 66087357, "body": "You must have some <code>print</code> elsewhere\u2026"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473288249, "post_id": 39379704, "comment_id": 66088002, "body": "I don&#39;t think you&#39;ve posted your actual code. <code>print f.method_one</code> won&#39;t print <code>foo one</code>, you need to call the method with <code>f.method_one()</code>."}, {"owner": {"reputation": 201, "user_id": 5582349, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/312bc7d6f5cd54323756aeb7fe349ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/5582349/dave"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473288325, "post_id": 39379704, "comment_id": 66088017, "body": "@Barmar - Yes, i haven&#39;t . Just provided the program structure.."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473356428, "post_id": 39379704, "comment_id": 66120188, "body": "Your example is still of no use as we have no idea what params are"}], "owner": {"reputation": 201, "user_id": 5582349, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/312bc7d6f5cd54323756aeb7fe349ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/5582349/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473356121, "creation_date": 1473285867, "last_edit_date": 1473355783, "question_id": 39379704, "link": "https://stackoverflow.com/questions/39379704/unexpected-blank-lines-on-console-while-creating-object-of-class", "title": "Unexpected blank lines on console while creating object of class", "body": "<p>I know, it sounds weird, but i am seeing a strange output with blank lines in python while creating object. </p>\n\n<p>For Example: </p>\n\n<p>test.py</p>\n\n<pre><code>from bar import Bar\nfrom foo import Foo\nif __name__ == '__main__':\n    print \"test1\"\n    f = Foo(params)\n    b = Bar(params)\n    print \"test2\"\n    print f.method_one()\n    print b.method_one()\n</code></pre>\n\n<p>foo.py</p>\n\n<pre><code>class Foo:\n    def __init__(self, params):\n        self.params = params\n        self.arg1 = params.get('arg1')\n        self.arg2 = params.get('arg2')\n        self.arg3 = params.get('arg3')\n        self.arg4 = params.get('arg4')\n        self.argn = params.get('argn')\n\n   def method_one(self):\n       print \"foo one\"\n</code></pre>\n\n<p>bar.py</p>\n\n<pre><code>class Bar:\n    def __init__(self, params):\n        self.params = params\n        self.arg1 = params.get('arg1')\n        self.arg2 = params.get('arg2')\n        self.arg3 = params.get('arg3')\n        self.arg4 = params.get('arg4')\n        self.argn = params.get('argn')\n\n   def method_one(self):\n       print \"bar one\"\n</code></pre>\n\n<p>Below is the output of test.py</p>\n\n<pre><code>test1\n\n\n\ntest2\nfoo one\nbar one\n</code></pre>\n\n<p>While expected Output is : </p>\n\n<pre><code>test1\ntest2\nfoo one\nbar one\n</code></pre>\n\n<p>How do i avoid this blank lines while creating object? </p>\n"}, {"tags": ["python", "python-3.x", "python-3.5"], "comments": [{"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 1, "creation_date": 1473285836, "post_id": 39379678, "comment_id": 66087237, "body": "Take a look at <a href=\"http://stackoverflow.com/questions/5767228/why-is-button-parameter-command-executed-when-declared\">Why is Button parameter \u201ccommand\u201d executed when declared?</a>."}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1473285847, "creation_date": 1473285847, "answer_id": 39379698, "question_id": 39379678, "link": "https://stackoverflow.com/questions/39379678/how-can-i-print-to-console-after-button-presspython-3-5/39379698#39379698", "title": "How can I print to console after button press?(Python 3.5)", "body": "<p>Function arguments are fully evaluated before calling the function.  </p>\n\n<p>Make it into a callable:</p>\n\n<pre><code>from tkinter import *\ndef mult(n):\n    print (n*3)\n\ntop = Tk()\nB1 = Button(top, text = \"Enter Number\", command = lambda: mult(5))\nB1.pack()\ntop.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 3585335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1aeeee177561c10452d6959e2713a1?s=128&d=identicon&r=PG&f=1", "display_name": "Daringa", "link": "https://stackoverflow.com/users/3585335/daringa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "closed_date": 1473287766, "accepted_answer_id": 39379698, "answer_count": 1, "score": 1, "last_activity_date": 1473285847, "creation_date": 1473285727, "question_id": 39379678, "link": "https://stackoverflow.com/questions/39379678/how-can-i-print-to-console-after-button-presspython-3-5", "closed_reason": "Duplicate", "title": "How can I print to console after button press?(Python 3.5)", "body": "<p>When I run the code \"15\" is immediately printed to console. How can I get it to print after I press the button? </p>\n\n<pre><code>from tkinter import *\ndef mult(n):\n    print (n*3)\n\ntop = Tk()\nB1 = Button(top, text = \"Enter Number\", command = mult(5))\nB1.pack()\ntop.mainloop()\n</code></pre>\n"}, {"tags": ["python", "html", "python-requests"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473285893, "post_id": 39379646, "comment_id": 66087266, "body": "Apart from the fact certain factors influence what google returns, there is also content dynamically created with js"}, {"owner": {"reputation": 507, "user_id": 1644831, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/122f6dc4a44a748aa1e156b27a138b45?s=128&d=identicon&r=PG", "display_name": "Sandwich Heat", "link": "https://stackoverflow.com/users/1644831/sandwich-heat"}, "edited": false, "score": 0, "creation_date": 1473286040, "post_id": 39379646, "comment_id": 66087316, "body": "Looks like this might also be helpful - <a href=\"http://stackoverflow.com/questions/22623798/google-search-with-python-requests-library\" title=\"google search with python requests library\">stackoverflow.com/questions/22623798/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1328, "user_id": 3625350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7681bb9c5891b48d06ce43c6a847001?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak Thomas", "link": "https://stackoverflow.com/users/3625350/raunak-thomas"}, "edited": false, "score": 0, "creation_date": 1528651943, "post_id": 39379705, "comment_id": 88579031, "body": "Is there a simpler way to do this in the Chrome developer tools itself?"}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1473285868, "creation_date": 1473285868, "answer_id": 39379705, "question_id": 39379646, "link": "https://stackoverflow.com/questions/39379646/getting-all-html-from-requests-get/39379705#39379705", "title": "Getting all HTML from requests.get()", "body": "<p>Some HTML elements are generated by JavaScript.</p>\n\n<p>Use \"show source code\" from your browser to see the original code. It must be similar to the Request response text. </p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 5431192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/65c7c8479cfacfbbbc5e2d9d4a49fadc?s=128&d=identicon&r=PG&f=1", "display_name": "Maciejjy", "link": "https://stackoverflow.com/users/5431192/maciejjy"}, "edited": false, "score": 0, "creation_date": 1473287332, "post_id": 39379850, "comment_id": 66087717, "body": "And that works! Thank you very much. The problem was that I have used: &quot;<a href=\"https://www.google.com/?gws_rd=ssl#q=\" rel=\"nofollow noreferrer\">google.com/?gws_rd=ssl#q=</a>&quot; as a base (I have copied it directly from my browser). Instead I should use &quot;<a href=\"https://www.google.com/search?q=\" rel=\"nofollow noreferrer\">google.com/search?q=</a>&quot; like you said. Thank you again."}], "tags": [], "owner": {"reputation": 12065, "user_id": 367865, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/78bdafae5cf469e2abebad372bb4e222?s=128&d=identicon&r=PG", "display_name": "Ouroborus", "link": "https://stackoverflow.com/users/367865/ouroborus"}, "is_accepted": true, "score": 2, "last_activity_date": 1473286728, "creation_date": 1473286728, "answer_id": 39379850, "question_id": 39379646, "link": "https://stackoverflow.com/questions/39379646/getting-all-html-from-requests-get/39379850#39379850", "title": "Getting all HTML from requests.get()", "body": "<p>The HTML you see using the browser's development tools is what the browser is currently working with. This includes any changes performed via Javascript. The data you are getting when using Requests is before any Javascript has operated on the page. (Note that Requests doesn't process Javascript so you will be unable to acquire a javascript processed page using just Requests.)</p>\n\n<p>If you're specifically looking to scrape Google Search, use a url like <a href=\"https://www.google.com/search?q=test\" rel=\"nofollow\">https://www.google.com/search?q=test</a>. This particular url is for Google's non-javascript site. Keep in mind that Google (and most other sites) doesn't appreciate scraping so you may run into other issues when doing so.</p>\n"}], "owner": {"reputation": 137, "user_id": 5431192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/65c7c8479cfacfbbbc5e2d9d4a49fadc?s=128&d=identicon&r=PG&f=1", "display_name": "Maciejjy", "link": "https://stackoverflow.com/users/5431192/maciejjy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4643, "favorite_count": 0, "accepted_answer_id": 39379850, "answer_count": 2, "score": 1, "last_activity_date": 1473286742, "creation_date": 1473285569, "last_edit_date": 1473286742, "question_id": 39379646, "link": "https://stackoverflow.com/questions/39379646/getting-all-html-from-requests-get", "title": "Getting all HTML from requests.get()", "body": "<p>I just started with web scraping with Python and hit the wall.\nI am using the requests library to get the HTML code from a website. For example, the Google search result website: \"<a href=\"https://www.google.com/?gws_rd=ssl#q=ball\" rel=\"nofollow\">https://www.google.com/?gws_rd=ssl#q=ball</a>\"</p>\n\n<p>When I hit <kbd>F12</kbd> and check the HTML, it looks different than with:</p>\n\n<pre><code>site = requests.get(\"https://www.google.com/?gws_rd=ssl#q=ball\")\nprint(site.text)\n</code></pre>\n\n<p>with <code>requests.get</code>, text is much shorter and not all information is visible (it starts with <code>!doctype</code>, however).\nBecause of that I am unable to work with this HTML.</p>\n\n<p>Can you tell me where the mistake is?</p>\n\n<hr>\n\n<p>This is actually an exercise from the book \"Automate the boring stuff with Python\". The task is to search for some item Google and then find few first results with HTML locators. I cannot do it because when I use <code>requests.get()</code> I cannot see any objects for links in the HTML code.</p>\n"}, {"tags": ["python", "pandas", "apache-spark", "lambda"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1473285943, "post_id": 39379634, "comment_id": 66087284, "body": "Are you using spark only to read the file? I don&#39;t see how the pandas dataframe look like but for a dataframe with id and distance columns you can do <code>df.groupby(&#39;id&#39;)[&#39;distance&#39;].min()</code>"}, {"owner": {"reputation": 15180, "user_id": 1689706, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hlpjt.jpg?s=128&g=1", "display_name": "Alberto Bonsanto", "link": "https://stackoverflow.com/users/1689706/alberto-bonsanto"}, "edited": false, "score": 0, "creation_date": 1473286257, "post_id": 39379634, "comment_id": 66087384, "body": "what&#39;s the criteria to choose that number? Maybe the minimum?"}], "answers": [{"tags": [], "owner": {"reputation": 7044, "user_id": 2132753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ewavI.jpg?s=128&g=1", "display_name": "Gustavo Bezerra", "link": "https://stackoverflow.com/users/2132753/gustavo-bezerra"}, "is_accepted": false, "score": 0, "last_activity_date": 1473325955, "creation_date": 1473325955, "answer_id": 39386961, "question_id": 39379634, "link": "https://stackoverflow.com/questions/39379634/how-to-extract-output-of-specific-columns-from-groupby-on-pandas-dataframe/39386961#39386961", "title": "How to extract output of specific columns from groupby on pandas dataframe", "body": "<p>This is just a simple case of applying using the <code>.min()</code> method of a <code>DataFrameGroupBy</code> object:</p>\n\n<pre><code>data = [(1,0.5),(1,1.2),(1,0.2),(1,1.5),(2,2.5),(2,0.5),(2,1.0),(2,3.0)]\ndf = pd.DataFrame(data)\ndf.columns = ['id', 'distance']\nresults = df.groupby('id').min()\n</code></pre>\n\n<p><code>results</code> has the data you are looking for. If you want some nice printing, try:</p>\n\n<pre><code>for i in results.itertuples():\n    print(*tuple(i))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6806545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3816f77eeac8c93a7e29b89e89b81b45?s=128&d=identicon&r=PG&f=1", "display_name": "MayuMia", "link": "https://stackoverflow.com/users/6806545/mayumia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1441, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473325955, "creation_date": 1473285533, "question_id": 39379634, "link": "https://stackoverflow.com/questions/39379634/how-to-extract-output-of-specific-columns-from-groupby-on-pandas-dataframe", "title": "How to extract output of specific columns from groupby on pandas dataframe", "body": "<p><em>Need to extract output of groupBy pandas dataframe into expected output described below and write to a file:</em></p>\n\n<p><strong><em>Input file testdata.txt:</em></strong></p>\n\n<pre><code>id, distance\n\n1,0.5\n1,1.2\n1,0.2   &lt;------------this row should be selected\n1,1.5\n2,2.5\n2,0.5   &lt;------------this row should be selected\n2,1.0\n2,3.0\n</code></pre>\n\n<p><strong><em>Expected output:</em></strong>\n<em>Find row with shortest distance for each id</em></p>\n\n<pre><code>1 0.2\n2 0.5\n</code></pre>\n\n<p><strong><em>Actual Output looks as follows: Need to process this output to get expected output described above:</em></strong></p>\n\n<pre><code>_1          \n1  2  1  0.2\n2  5  2  0.5\n\n\n**My Python Script:**\n\nlines = sc.textFile(\"file:///data/testdata.txt\")\n#RDD to Spark DataFrame\nsparkDF = lines.map(lambda x: str(x)).map(lambda w: w.split(',')).toDF()\n\n#Spark DataFrame to Pandas DataFrame\npdsDF = sparkDF.toPandas()\n\n#print dataframe schema\nprint (pdsDF)\n\nStoreIdGroups = pdsDF.groupby(by=['_1'])\nresult = StoreIdGroups.apply(lambda g: g[g['_2'] == g['_2'].min()])\nprint(result)\n</code></pre>\n\n<p>Any help is appreciated.\nThanks</p>\n"}, {"tags": ["python", "sympy", "solver", "is-empty"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473286529, "post_id": 39379789, "comment_id": 66087469, "body": "Awesome! I am curious as to why my equation F is a constant and not a function of fp as dWg and dWp are."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473286625, "post_id": 39379789, "comment_id": 66087506, "body": "I am not a <b>sympy</b> user ... however, my guess is that the &quot;+&quot; operator on sympy objects is <i>evaluate-and-add</i>, not the string concatenation you appear to expect."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473286811, "post_id": 39379789, "comment_id": 66087565, "body": "The calculations are all done symbolically - note how <code>dWg</code> and <code>dWp</code> have an <code>fp</code> term in them. However, note how those <code>fp</code> terms are each other&#39;s negatives. <code>fp</code> cancels out!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1473287439, "post_id": 39379789, "comment_id": 66087755, "body": "Ah, ha!  There it is!  <b>1500 + 117 - 26 - 60*fp + 60*fp == 1591</b>. With <b>fp</b> out of the equation, there are no solutions."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473287574, "post_id": 39379789, "comment_id": 66087801, "body": "Remember to accept your favourite answer (that of @user2357112), so SO can properly retire the question.  I just noticed it above mine on this screen."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473287666, "post_id": 39379789, "comment_id": 66087834, "body": "Huh?!  Didn&#39;t @user2357112 find the critical problem -- or did you do that on your own?  I was the 3rd one to see this ... someone else should get the &quot;best answer&quot; credit, no?"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 3, "last_activity_date": 1473287466, "last_edit_date": 1473287466, "creation_date": 1473286377, "answer_id": 39379789, "question_id": 39379624, "link": "https://stackoverflow.com/questions/39379624/why-am-i-getting-an-empty-list-as-my-output-using-solve-command/39379789#39379789", "title": "Why am I getting an empty list as my output using solve command?", "body": "<p>I tried adding a few tracing statements to your function, just above the call to <strong>solve</strong>.</p>\n\n<pre><code>    print \"dWg\\t\", dWg, type(dWg)\n    print \"dWp\\t\", dWp, type(dWp)\n    print \"F\\t\", F, type(F)\n    print \"self.fp\\t\", self.fp\n    self.fp = solve(F,self.fp)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>dWg 117.050000000000 - 60.0000000000000*fp &lt;class 'sympy.core.add.Add'&gt;\ndWp -26.0000000000000 + 60.0000000000000*fp &lt;class 'sympy.core.add.Add'&gt;\nF   1591.05000000000 &lt;class 'sympy.core.numbers.Real'&gt;\nself.fp fp\n[]\n</code></pre>\n\n<p>If I'm reading this correctly, your function evaluates the expressions rather than maintaining the symbolic nature of <strong>F</strong>.  Thus, when you issue the <strong>solve</strong> directive, you're trying to solve a constant for the variable <strong>fp</strong>.  That's why you get no solutions.</p>\n\n<hr>\n\n<p>Ah, ha!  There it is!  </p>\n\n<pre><code>1500 + 117 - 26 - 60*fp + 60*fp =&gt; 1591\n</code></pre>\n\n<p>With <strong>fp</strong> out of the equation, there are no solutions.</p>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473286985, "post_id": 39379851, "comment_id": 66087616, "body": "So I am just trying to solve the equation 0 = Ws0 + dWp + dWg but I am trying to use sympy&#39;s &#39;solve&#39; function. I am certain the equations I am using are correct. Maybe I am using &#39;self&#39; incorrectly? Also, why would F be the same no matter what fp is? dWg and dWp is a function of fp"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473287086, "post_id": 39379851, "comment_id": 66087652, "body": "@ZachThomas: The class is pointless, but there&#39;s nothing technically wrong with your use of <code>self</code>. There probably is something wrong with your math if you were expecting <code>F</code> to have any dependence on <code>fp</code>, though. Try working it out by hand and see what happens to <code>fp</code>."}, {"owner": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473287182, "post_id": 39379851, "comment_id": 66087684, "body": "Thanks! And my class has other definition in it but I did not include them for simplicity."}, {"owner": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "edited": false, "score": 0, "creation_date": 1473287458, "post_id": 39379851, "comment_id": 66087763, "body": "Yeah it says no solution exists according to my work by hand. Thanks for the help!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1473286728, "creation_date": 1473286728, "answer_id": 39379851, "question_id": 39379624, "link": "https://stackoverflow.com/questions/39379624/why-am-i-getting-an-empty-list-as-my-output-using-solve-command/39379851#39379851", "title": "Why am I getting an empty list as my output using solve command?", "body": "<p><code>self.fp</code> cancels out of your computation. The value of <code>F</code> is the same no matter what <code>self.fp</code> is, so <code>solve</code> can't help you.</p>\n\n<p>Are you sure you have your equations right?</p>\n"}], "owner": {"reputation": 147, "user_id": 5364266, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab6d712382ba79c15247bae039bf2883?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Thomas", "link": "https://stackoverflow.com/users/5364266/zach-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 1, "accepted_answer_id": 39379789, "answer_count": 2, "score": 3, "last_activity_date": 1473287466, "creation_date": 1473285460, "question_id": 39379624, "link": "https://stackoverflow.com/questions/39379624/why-am-i-getting-an-empty-list-as-my-output-using-solve-command", "title": "Why am I getting an empty list as my output using solve command?", "body": "<p>I am trying to solve an equation using sympy's solve command but my output is an empty list [ ]. The only reason I think this could be happening is because there is no solution but I doubt that is the reason. Anyone know why I am not getting an answer? Thanks!</p>\n\n<pre><code>from sympy import *\n\nclass WaterModel:\n\n    def fp_requirement(self, Ws0, Wp0, Wg0):\n        greyW = 60.0\n        potW = 126.0\n        rainW = 17.05\n\n        self.Ws0 = Ws0\n        self.Wp0 = Wp0\n        self.Wg0 = Wg0\n\n        self.fp = var('fp')\n\n        filt_greyW = self.fp*greyW\n        dWg = self.Wg0 - greyW + (1 - self.fp)*greyW + rainW\n        dWp = self.Wp0 - potW + filt_greyW \n        F = self.Ws0 + dWp + dWg\n        self.fp = solve(F,self.fp)\n\n        return self.fp \n\na = WaterModel()\nfp = a.fp_requirement(1500, 100, 100)\nprint(fp)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1473286142, "post_id": 39379616, "comment_id": 66087345, "body": "You can just iterate directly over your file (i.e. <code>for line in file</code>) - <code>readlines</code> will read the entire file into memory <i>first</i>. That&#39;s bad when your file is 50GB."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 6569956, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fca608155393f2867742e26060fd27ea?s=128&d=identicon&r=PG&f=1", "display_name": "gurkha_dawg", "link": "https://stackoverflow.com/users/6569956/gurkha-dawg"}, "edited": false, "score": 0, "creation_date": 1473288329, "post_id": 39379635, "comment_id": 66088019, "body": "what if only the lines that has the value -9999 on the third column needs to be printed?"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 3, "last_activity_date": 1473285533, "creation_date": 1473285533, "answer_id": 39379635, "question_id": 39379616, "link": "https://stackoverflow.com/questions/39379616/how-can-i-use-regular-expression-when-reading-a-text-file-in-python/39379635#39379635", "title": "How can I use regular expression when reading a text file in Python?", "body": "<p>Regex is likely overkill for this, a simple substring check using the <code>in</code> operator seems sufficient</p>\n\n<pre><code>with open(\"USC00110072.txt\") as f:\n    for line in f:\n        if '-9999' in line:\n            print(line)\n</code></pre>\n\n<p>Or if you're concerned about that matching that as a \"whole word\" you can do a little more to divide up the values</p>\n\n<pre><code>with open(\"USC00110072.txt\") as f:\n    for line in f:\n        if '-9999' in line.strip().split('\\t'):\n            print(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1473286438, "last_edit_date": 1473286438, "creation_date": 1473285966, "answer_id": 39379719, "question_id": 39379616, "link": "https://stackoverflow.com/questions/39379616/how-can-i-use-regular-expression-when-reading-a-text-file-in-python/39379719#39379719", "title": "How can I use regular expression when reading a text file in Python?", "body": "<p>You can use <code>filter</code>:</p>\n\n<pre><code>with open(fn) as f:\n    print filter(lambda line: '-9999' in line.split()[-1], f)\n</code></pre>\n\n<p>This is will check if '-9999' is in the final column of the line. </p>\n\n<p>If you want to use a regex:</p>\n\n<pre><code>with open(fn) as f:\n    for line in f:\n        if re.search(r'-9999$', line): # remove $ if the -9999 can be anywhere in the line\n            print line.strip()\n</code></pre>\n\n<p>The <code>^</code> you have will never match except for a line that only contains <code>-9999</code> and nothing else. The <code>^</code> indicates the start of the line. </p>\n\n<p>Or, just use <code>in</code> to test the presence of the string:</p>\n\n<pre><code>with open(fn) as f:\n    for line in f:\n        if '-9999' in line:\n            print line.strip()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1473286692, "post_id": 39379742, "comment_id": 66087525, "body": "Using <code>csv</code> for tab separated data is a good idea, assuming the individual fields matter at all. I&#39;d use it for output too though, just in case; you can just wrap <code>sys.stdout</code> in a <code>csv.writer</code> to match."}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 1, "last_activity_date": 1473286086, "creation_date": 1473286086, "answer_id": 39379742, "question_id": 39379616, "link": "https://stackoverflow.com/questions/39379616/how-can-i-use-regular-expression-when-reading-a-text-file-in-python/39379742#39379742", "title": "How can I use regular expression when reading a text file in Python?", "body": "<p>Alternatively, since you have a <code>csv</code> file you could use the <code>csv</code> module:</p>\n\n<pre><code>import csv\nimport io\n\nfile = io.StringIO(u'''\n19940325\\t78\\t-28\\t-9999\n19940326\\t50\\t17\\t102\n19940327\\t100\\t-11\\t-9999\n19940328\\t56\\t-33\\t0\n19940329\\t61\\t-39\\t-9999\n19940330\\t61\\t-56\\t0\n19940331\\t139\\t-61\\t-9999\n19940401\\t211\\t6\\t0\n'''.strip())\n\nreader = csv.reader(file, delimiter='\\t')\nfor row in reader:\n    if row[-1] == '-9999':   # or, for regex, `re.match(r'^-9999$', row[-1])`\n        print('\\t'.join(row))\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6569956, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fca608155393f2867742e26060fd27ea?s=128&d=identicon&r=PG&f=1", "display_name": "gurkha_dawg", "link": "https://stackoverflow.com/users/6569956/gurkha-dawg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1473286438, "creation_date": 1473285427, "last_edit_date": 1473285464, "question_id": 39379616, "link": "https://stackoverflow.com/questions/39379616/how-can-i-use-regular-expression-when-reading-a-text-file-in-python", "title": "How can I use regular expression when reading a text file in Python?", "body": "<p>I would like to give you an example. If I am trying to print lines that contain the integer <code>-9999</code> from a file.</p>\n\n<pre><code>19940325       78     -28   -9999\n19940326       50      17     102\n19940327      100     -11   -9999\n19940328       56     -33       0\n19940329       61     -39   -9999\n19940330       61     -56       0\n19940331      139     -61   -9999\n19940401      211       6       0\n</code></pre>\n\n<p>here is my code that uses regex to read the text file and scans  to find the integer <code>-9999</code> and print only the line/lines that contains that integer.</p>\n\n<pre><code>import re\n\nfile= open(\"USC00110072.txt\", \"r\")\n\n\nfor line in file.readlines():\n    if re.search('^-9999$', line, re.I):\n        print line\n</code></pre>\n\n<p>My code runs with error but doesn't show anything in the output. Please let me know what mistake i have made. </p>\n"}, {"tags": ["python", "numpy", "numba"], "comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473286879, "post_id": 39379556, "comment_id": 66087584, "body": "what&#39;s <code>nrModes</code>? I reckon this is an out-of-bound or index error issue, can you debug with the values within the loop that those are within the indexes?"}, {"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473287464, "post_id": 39379556, "comment_id": 66087765, "body": "@Anzel nrModes is a variable that is defined outside the function. Im using it as a global variable.  I dont think it&#39;s an out of bound or index error issue, because the function works perfectly well without the jit decorator.  Still to be sure, I replaced all nrModes and nrMoments with 2  and the error remains the same.   All the other variables such as Ef, Nf etc are declared using the nrModes and nrMoments, so their dimensions match. Im sure it&#39;s not an index error issue"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473289162, "post_id": 39379556, "comment_id": 66088253, "body": "but what about <code>CMx</code> type? Are you sure it&#39;s within bound? Your information is too LIMITED that no one will try to help. One suggestion to debug is to do explicit loops within your <code>CMx</code> assignment rather than like <code>CMx[:,j,n,0]</code> and you shall see whether they are out-of-bound of your jit Type declarations"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473364140, "post_id": 39387886, "comment_id": 66124204, "body": "That looks great, but doesnt give the expected results. I will add some more info in my question, I hope you can help me with the dEdt formula and I will extend the same procedure for the dNdt formula."}, {"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473406020, "post_id": 39387886, "comment_id": 66137234, "body": "Hi, I have editted my question. Now you can see an updated code, where I have used your suggestion combined with np.einsum().  the code runs 3 times faster.  Do you have other suggestions on speeding it up?"}, {"owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "reply_to_user": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473410540, "post_id": 39387886, "comment_id": 66139604, "body": "Well now that the loops are gone there&#39;s no need for initializing with zeros.  Also I think now that you&#39;re using einsum all the broadcasting-related reshaping ([:, None, :, :], etc) can go away."}, {"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473411776, "post_id": 39387886, "comment_id": 66140288, "body": "Great.. Thanks man.  deleting the zeros, speeds up a tiny bit (but it matters on huge repitions). I don&#39;t agree on the broadcast-related reshaping. Those are essential to the calculations, otherwise I would multiply vectors elementwise, instead of matrices. Anyways, You have been a great help. Thank you."}, {"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473424807, "post_id": 39387886, "comment_id": 66147846, "body": "You were right. I could leave out the reshaping.  Implemented and works like a charm.  Thanks a thousand times."}], "tags": [], "owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "is_accepted": false, "score": 1, "last_activity_date": 1473328559, "creation_date": 1473328559, "answer_id": 39387886, "question_id": 39379556, "link": "https://stackoverflow.com/questions/39379556/how-to-solve-numba-lowering-error/39387886#39387886", "title": "How to Solve Numba Lowering error?", "body": "<p>I can't see from your code why this isn't vectorizable.  Vectorizing can speed up this kind of Python code by around 100x.  Not sure of how it does relative to jit.</p>\n\n<p>It looks like you could, for instance, take your dEdt out of the loop, and compute it in one step with something like :</p>\n\n<pre><code>dEdt = 0.5 * (Cmx[:, :, :, 0] * dg * (1+A*1j) * Nf[:] * Ef[:, None] * np.exp( 1j* (Sweep.omega[None, :, None, None]-Sweep.omega) *tijd)).sum(axis=2).sum(axis=1) - 0.5*(pd-g)*Ef + fbr*Ef2  + Kinj*EAinj*(1 + np.exp(1j*(u+Vmzm)) )\n</code></pre>\n\n<p>(Though I don't really know what the dimensionality of your Sweet.omega is).</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "edited": false, "score": 0, "creation_date": 1473361040, "post_id": 39389193, "comment_id": 66122578, "body": "Thanks. That definitely is one of the issues, which I have changed in my code now. I made a new variable outside the function OMEGA = Sweep.omega.copy() and this happens only once when importing the module, so I can live with it.  \\\\  However, @jit is still giving me the same lowering error  :( .. I will try to vectorize as suggested by Peter, but if you have some idea on the JIT decorator, im open to it"}], "tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": false, "score": 2, "last_activity_date": 1473332409, "creation_date": 1473332409, "answer_id": 39389193, "question_id": 39379556, "link": "https://stackoverflow.com/questions/39379556/how-to-solve-numba-lowering-error/39389193#39389193", "title": "How to Solve Numba Lowering error?", "body": "<p>There may be other issues, but one is that referencing an array in a module namespace seems to currently be unsupported (simple repro below).  Try importing <code>omega</code> as a name.</p>\n\n<pre><code>In [14]: %%file Sweep.py\n    ...: import numpy as np\n    ...: constant_val = 0.5\n    ...: constant_arr = np.array([0, 1.5, 2.])\nOverwriting Sweep.py\n\nIn [15]: Sweep.constant_val\nOut[15]: 0.5\n\nIn [16]: Sweep.constant_arr\nOut[16]: array([ 0. ,  1.5,  2. ])\n\nIn [17]: @njit\n    ...: def f(value):\n    ...:     return value + Sweep.constant_val\n    ...: \n\nIn [18]: f(100)\nOut[18]: 100.5\n\nIn [19]: @njit\n    ...: def f(value):\n    ...:     return value + Sweep.constant_arr[0]\n\nIn [20]: f(100)\nLoweringError: Failed at nopython (nopython mode backend)\n'NoneType' object has no attribute 'module'\nFile \"&lt;ipython-input-19-0a259ade6b9e&gt;\", line 3\n[1] During: lowering \"$0.3 = getattr(value=$0.2, attr=constant_arr)\" at &lt;ipython-input-19-0a259ade6b9e&gt; (3)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5990120, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLi_8Gt0XFo/AAAAAAAAAAI/AAAAAAAAJzA/9H6Q1lZ3eIA/photo.jpg?sz=128", "display_name": "krishan", "link": "https://stackoverflow.com/users/5990120/krishan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5696, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1473405902, "creation_date": 1473285093, "last_edit_date": 1473405902, "question_id": 39379556, "link": "https://stackoverflow.com/questions/39379556/how-to-solve-numba-lowering-error", "title": "How to Solve Numba Lowering error?", "body": "<p>I have a function, which I am trying to speed up using the @jit decorator from Numba module. For me it is essential to speed this up as much as possible, because my main code calls upon this function for millions of times. Here is my function:</p>\n\n<pre><code>from numba import jit, types\nimport Sweep    #My own module, works fine\n\n\n@jit(types.Tuple((types.complex128[:], types.float64[:]))(types.complex128[:], types.complex128[:], types.float64[:], types.float64[:], types.float64))\ndef MultiModeSL(Ef, Ef2, Nf, u, tijd ):\n  dEdt= np.zeros(nrModes, dtype=np.complex128)\n  dNdt0= np.zeros(nrMoments, dtype=np.complex128)\n  Efcon = np.conjugate(Ef)\n\n  for j in range(nrModes):\n    for n in range(nrMoments):\n      dEdt +=  0.5 * CMx[:,j,n,0] * dg * (1+ A*1j) * Nf[n] * Ef[j] * np.exp( 1j* (Sweep.omega[j]-Sweep.omega) *tijd)\n      for k in range(nrModes):\n        if n==0:\n          dNdt0 += g* CMx[j, k, 0,:] * Efcon[j] * Ef[k] * np.exp( 1j* (Sweep.omega[k]-Sweep.omega[j]) *tijd) \n        dNdt0 += dg*(1+A*1j) * CMx[j,k,n,:] * Nf[n] * Efcon[j] * Ef[k] * np.exp( 1j* (Sweep.omega[k]-Sweep.omega[j]) *tijd) \n\n  dEdt += - 0.5*(pd-g)*Ef +     fbr*Ef2  + Kinj*EAinj*(1 + np.exp(1j*(u+Vmzm)) ) \n  dNdt = Sweep.Jn - Nf*ed - dNdt0.real\n  return dEdt, dNdt\n</code></pre>\n\n<p>The function works perfectly well, without the Jit decorator. However, when I run it with the @jit, I get this error:</p>\n\n<pre><code>numba.errors.LoweringError: Failed at object (object mode frontend)\nFailed at object (object mode backend)\ndEdt.1\nFile \"Functions.py\", line 82\n[1] During: lowering \"$237 = call $236(Ef, Ef2, Efcon, Nf, dEdt.1, dNdt0, tijd, u)\" at /home/humblebee/MEGA/GUI RC/General_Formula/Functions.py (82)\n</code></pre>\n\n<p>Line 82 corresponds to the For loop with j as iterator. </p>\n\n<p>Can you help me out?</p>\n\n<p><strong><em>EDIT:</em></strong>\nBased on Peter's suggestion and combining it with Einsum, I was able to remove the loops. This made my function <strong>3</strong> times faster.  Here is the new code:</p>\n\n<pre><code>def MultiModeSL(Ef, Ef2, Nf, u, tijd ):\n  dEdt= np.zeros(nrModes, dtype=np.complex128)\n  dNdt0= np.zeros(nrMoments, dtype=np.complex128)\n  Efcon = np.conjugate(Ef)\n  dEdt = 0.5*  np.einsum(\"k, jkm, mk, kj -&gt; j\",  dg*(1+A*1j), CMx[:, :, :, 0],  (Ef[:] * Nf[:, None] ),  np.exp( 1j* (OMEGA[:, None]-OMEGA) *tijd))\n  dEdt += - 0.5*(pd-g)*Ef + fbr*Ef2  + Kinj*EAinj*(1 + np.exp(1j*(u+Vmzm)) )\n\n  dNdt = - np.einsum(\"j, jkm, jk, kj \", g, CMx[:,:,:,0], (Ef*Efcon[:,None]),  np.exp( 1j* (OMEGA[:, None]-OMEGA) *tijd))\n  dNdt += -np.einsum(\"j, j, jknm, kjm, kj\",dg, (1+A*1j), CMx, (Nf[:]*Efcon[:,None]*Ef[:,None,None]), np.exp( 1j* (OMEGA[:, None]-OMEGA) *tijd)  )\n  dNdt += JN - Nf*ed\n  return dNdt\n</code></pre>\n\n<p>Can you suggest more techniques to speed this up?</p>\n"}, {"tags": ["python", "flask", "twilio", "twilio-twiml"], "answers": [{"comments": [{"owner": {"reputation": 1165, "user_id": 2761030, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/52fed8599a2ca67d9e7401cd5be1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "user2761030", "link": "https://stackoverflow.com/users/2761030/user2761030"}, "edited": false, "score": 0, "creation_date": 1473367180, "post_id": 39385809, "comment_id": 66125667, "body": "Thanks so much for your quick response @philnash - I think I&#39;ve found a more elegant and tidier way to do it, and have posted a separate answer."}], "tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": false, "score": 0, "last_activity_date": 1473322416, "creation_date": 1473322416, "answer_id": 39385809, "question_id": 39379541, "link": "https://stackoverflow.com/questions/39379541/twillo-how-to-handle-no-input-on-gather/39385809#39385809", "title": "Twillo - how to handle no input on &lt;gather&gt;", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>That seems like a reasonable way to build this response. Redirecting round to play the <a href=\"https://www.twilio.com/docs/api/twiml/gather\" rel=\"nofollow\"><code>&lt;Gather&gt;</code></a> again until you reach a number of attempts is a great way of dealing with this situation (and one I can't think of a a better way to deal with right now). Indeed, it is effectively the solution suggested in the <a href=\"https://www.twilio.com/docs/api/twiml/gather#hints\" rel=\"nofollow\">Advanced use section of the documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 2761030, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/52fed8599a2ca67d9e7401cd5be1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "user2761030", "link": "https://stackoverflow.com/users/2761030/user2761030"}, "is_accepted": false, "score": 2, "last_activity_date": 1473367094, "creation_date": 1473367094, "answer_id": 39399809, "question_id": 39379541, "link": "https://stackoverflow.com/questions/39379541/twillo-how-to-handle-no-input-on-gather/39399809#39399809", "title": "Twillo - how to handle no input on &lt;gather&gt;", "body": "<p>I actually found a tidier way to do this, without the need for a helper function. In this approach, all the timeout logic (i.e. 'Please try again' or hang up) in a <code>/timeout</code> endpoint.</p>\n\n<p>This appears to be the implied suggestion for timeouts, having seen the example in the <a href=\"https://www.twilio.com/docs/api/twiml/gather#hints\" rel=\"nofollow\">Advanced use section of the Twillo documentation</a>.</p>\n\n<pre><code>@app.route('/', methods=['GET', 'POST'])\ndef step_one():\n    \"\"\"Entry point to respond to incoming requests.\"\"\"\n\n    resp = twilio.twiml.Response()\n    with resp.gather(numDigits=6, action=\"/post_step_one_logic\", method=\"POST\") as gather:\n        gather.say(\"Hello. Welcome to my amazing telephone app! Please enter your pin.\")\n    resp.redirect(url=url_for('timeout', source=request.endpoint))\n\n    return str(resp)\n\n\n@app.route('/timeout', methods=['GET', 'POST'])\ndef timeout():\n    \"\"\"Determines whether to output a 'please try again' message, or if they\n       should be cut off after a number of (i.e. 3) failed input attempts.\n       Should include 'source' as part of the GET payload.\n    \"\"\"\n\n    # Get source of the timeout\n    source = request.args.get('source')\n\n    # Add initial caller message\n    resp = twilio.twiml.Response()\n    resp.say(\"Sorry, I did not hear a response.\")\n\n    # Increment number of attempts\n    if source in session:\n        session[source] += 1\n    else:\n        session[source] = 1\n\n    # Logic to determine if user should be cut off, or given another chance\n    if session[source] &gt;= 3:\n        # Reached maximum number of retries, so redirect to a message before hanging up\n        resp.say(\"\"\"\n            You have reached the maximum number of retries allowed. Please hang up \n            and try calling again.\n            \"\"\")\n        resp.hangup()\n    else:\n        # Allow user to try again\n        resp.say(\"Please try again.\")\n        resp.redirect(url=url_for(source))\n\n    return str(resp)\n</code></pre>\n"}], "owner": {"reputation": 1165, "user_id": 2761030, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/52fed8599a2ca67d9e7401cd5be1ffcc?s=128&d=identicon&r=PG&f=1", "display_name": "user2761030", "link": "https://stackoverflow.com/users/2761030/user2761030"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473367094, "creation_date": 1473285015, "question_id": 39379541, "link": "https://stackoverflow.com/questions/39379541/twillo-how-to-handle-no-input-on-gather", "title": "Twillo - how to handle no input on &lt;gather&gt;", "body": "<p>I'm building a simple Twillo (programmable voice) application using Python flask and the <a href=\"https://www.twilio.com/docs/libraries/python\" rel=\"nofollow\">twillo-python helper library</a>.  There are several steps to the voice menu, but the first asks the caller to enter a pin number.</p>\n\n<p>I am trying to working out what the best practice to deal with no caller input from a TwiML <code>&lt;Gather&gt;</code> verb in a DRY way.  I've made a function <code>process_no_input_response</code> which receives and returns a twllio <code>resp</code> object with appropriate <code>&lt;Say&gt;</code> messages depending on if the maximum number of allowed retries has been reached. Code example is below.</p>\n\n<p>Is there a better way to handle these scenarios?  Keen for any advice or feedback on this code.</p>\n\n<pre><code>def process_no_input_response(resp, endpoint, num_retries_allowed=3):\n    \"\"\"Handle cases where the caller does not respond to a `gather` command.\n       Determines whether to output a 'please try again' message, or redirect \n       to the hand up process\n\n    Inputs:\n      resp -- A Twillo resp object\n      endpoint -- the Flask endpoint\n      num_retries_allowed -- Number of allowed tries before redirecting to \n        the hang up process\n\n    Returns:\n      Twillo resp object, with appropriate ('please try again' or redirect) syntax\n    \"\"\"\n\n    # Add initial caller message\n    resp.say(\"Sorry, I did not hear a response.\")\n\n    session['num_retries_allowed'] = num_retries_allowed\n\n    # Increment number of attempts\n    if endpoint in session:\n        session[endpoint] += 1\n    else:\n        session[endpoint] = 1\n\n    if session[endpoint] &gt;= num_retries_allowed:\n        # Reached maximum number of retries, so redirect to a message before hanging up\n        resp.redirect(url=url_for('bye'))\n    else:\n        # Allow user to try again\n        resp.say(\"Please try again.\")\n        resp.redirect(url=url_for(endpoint))\n\n    return resp\n\n@app.route('/', methods=['GET', 'POST'])\ndef step_one():\n    \"\"\"Entry point to respond to incoming requests.\"\"\"\n\n    resp = twilio.twiml.Response()\n    with resp.gather(numDigits=6, action=\"/post_step_one_logic\", method=\"POST\") as gather:\n        gather.say(\"Hello. Welcome to my amazing telephone app! Please enter your pin.\")\n\n    return str(process_no_input_response(resp, request.endpoint))    \n\n@app.route('/bye', methods=['GET', 'POST'])\ndef bye():\n    \"\"\"Hangup after a number of failed input attempts.\"\"\"\n\n    resp = twilio.twiml.Response()\n    resp.say(\"You have reached the maximum number of retries allowed. \n       Please hang up and try calling again.\")\n    resp.hangup()\n\n    return str(resp)\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1473285102, "post_id": 39379515, "comment_id": 66086973, "body": "You could sample from a container that has duplicates.  Assuming python2.x:  <code>random.sample(range(20) + range(20), 20)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6806579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1adeJ.jpg?s=128&g=1", "display_name": "iMasck", "link": "https://stackoverflow.com/users/6806579/imasck"}, "edited": false, "score": 0, "creation_date": 1473286095, "post_id": 39379622, "comment_id": 66087335, "body": "Thank you for the answer. Its no possible do it with random module?"}, {"owner": {"reputation": 63, "user_id": 6806579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1adeJ.jpg?s=128&g=1", "display_name": "iMasck", "link": "https://stackoverflow.com/users/6806579/imasck"}, "edited": false, "score": 0, "creation_date": 1473287150, "post_id": 39379622, "comment_id": 66087673, "body": "Thank you very much. citaret answer works too but I will choose this one because you mention numpy."}, {"owner": {"reputation": 591, "user_id": 6745179, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1NedDVCLL_4/AAAAAAAAAAI/AAAAAAAAFwM/VzKNlDzVquw/photo.jpg?sz=128", "display_name": "Mohammed Elmahgiubi", "link": "https://stackoverflow.com/users/6745179/mohammed-elmahgiubi"}, "reply_to_user": {"reputation": 63, "user_id": 6806579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1adeJ.jpg?s=128&g=1", "display_name": "iMasck", "link": "https://stackoverflow.com/users/6806579/imasck"}, "edited": false, "score": 0, "creation_date": 1473287251, "post_id": 39379622, "comment_id": 66087699, "body": "No problem @Eduard"}], "tags": [], "owner": {"reputation": 591, "user_id": 6745179, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1NedDVCLL_4/AAAAAAAAAAI/AAAAAAAAFwM/VzKNlDzVquw/photo.jpg?sz=128", "display_name": "Mohammed Elmahgiubi", "link": "https://stackoverflow.com/users/6745179/mohammed-elmahgiubi"}, "is_accepted": true, "score": 6, "last_activity_date": 1473286672, "last_edit_date": 1473286672, "creation_date": 1473285457, "answer_id": 39379622, "question_id": 39379515, "link": "https://stackoverflow.com/questions/39379515/how-do-i-generate-a-random-list-in-python-with-duplicates-numbers/39379622#39379622", "title": "How do I generate a random list in Python with duplicates numbers", "body": "<p>What you want is fairly simple. You want to generate a random list of numbers that contain some duplicates. The way to do that is easy if you use something like numpy.</p>\n\n<ul>\n<li>Generate a list (range) of 0 to 10. </li>\n<li>Sample randomly (with replacement) from that list.</li>\n</ul>\n\n<p><strong>Like this:</strong></p>\n\n<pre><code>import numpy as np\nprint np.random.choice(10, 10, replace=True)\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>[5 4 8 7 0 8 7 3 0 0]\n</code></pre>\n\n<p>If you want the list to be ordered just use the builtin function \"sorted(list)\"</p>\n\n<pre><code>sorted([5 4 8 7 0 8 7 3 0 0])\n[0 0 0 3 4 5 7 7 8 8]\n</code></pre>\n\n<p>If you don't want to use numpy you can use the following:</p>\n\n<pre><code>print [random.choice(range(10)) for i in range(10)]\n[7, 3, 7, 4, 8, 0, 4, 0, 3, 7]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 2284800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfcd1fb45a2d2cebf9612f37ce6d7358?s=128&d=identicon&r=PG", "display_name": "citaret", "link": "https://stackoverflow.com/users/2284800/citaret"}, "is_accepted": false, "score": 2, "last_activity_date": 1473286116, "creation_date": 1473286116, "answer_id": 39379745, "question_id": 39379515, "link": "https://stackoverflow.com/questions/39379515/how-do-i-generate-a-random-list-in-python-with-duplicates-numbers/39379745#39379745", "title": "How do I generate a random list in Python with duplicates numbers", "body": "<p>random.randrange is what you want.</p>\n\n<pre><code>&gt;&gt;&gt; [random.randrange(10) for i in range(5)]\n[3, 2, 2, 5, 7]\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6806579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1adeJ.jpg?s=128&g=1", "display_name": "iMasck", "link": "https://stackoverflow.com/users/6806579/imasck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7356, "favorite_count": 1, "accepted_answer_id": 39379622, "answer_count": 2, "score": 2, "last_activity_date": 1473286672, "creation_date": 1473284898, "question_id": 39379515, "link": "https://stackoverflow.com/questions/39379515/how-do-i-generate-a-random-list-in-python-with-duplicates-numbers", "title": "How do I generate a random list in Python with duplicates numbers", "body": "<p>So I just started programming in Python a few days ago. And now, im trying to make a program that generates a random list, and then, choose the duplicates elements. The problem is, I dont have duplicate numbers in my list. </p>\n\n<p>This is my code: </p>\n\n<pre><code>import random\n\ndef generar_listas (numeros, rango):\n    lista = [random.sample(range(numeros), rango)]\n    print(\"\\n\", lista, sep=\"\")\n    return\ndef texto_1 ():\n    texto = \"Debes de establecer unos par\u00e1metros para generar dos listas aleatorias\"\n    print(texto)\n    return\n\ntexto_1()\ngenerar_listas(int(input(\"\\nNumero maximo: \")), int(input(\"Longitud: \")))\n</code></pre>\n\n<p>And for example, I choose 20 and 20 for random.sample, it generates me a list from 0 to 20 but in random position. I want a list with random numbers and duplicated. </p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473285087, "post_id": 39379514, "comment_id": 66086960, "body": "Your code would error as posted"}, {"owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "edited": false, "score": 0, "creation_date": 1473285264, "post_id": 39379514, "comment_id": 66087038, "body": "I cannot reproduce this, since the character you are using to enclose the text gives in python 2.7 and 3.5 a syntax error. Which python version are you using? Anyways, use <code>&#39;</code> or <code>&quot;</code> for strings. Also you don&#39;t need to import <code>string</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1473285354, "post_id": 39379514, "comment_id": 66087071, "body": "The only way you would not see 11 is if the string was like  <code>&quot;mary\\11had a little lamb&quot;</code> but you would see extra whitepace"}, {"owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "edited": false, "score": 0, "creation_date": 1473285373, "post_id": 39379514, "comment_id": 66087076, "body": "Actually, it&#39;s a question from a Python test. The correct answer says that is the answer, but when I try it myself the answer is not the same. I am asking here to make sure"}, {"owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1473285431, "post_id": 39379514, "comment_id": 66087102, "body": "That&#39;s it @PadraicCunningham, it was a typo in the test QA web! Thank you so much!"}, {"owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "reply_to_user": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "edited": false, "score": 0, "creation_date": 1473285472, "post_id": 39379514, "comment_id": 66087119, "body": "@tamasgal yup, you are right. But somehow the question makes it that way. A trap maybe"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1473285581, "post_id": 39379514, "comment_id": 66087155, "body": "No worries,  <code>\\11</code> is a vertical tab. <a href=\"https://en.wikipedia.org/wiki/Tab_key\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Tab_key</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3536, "user_id": 214470, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2d62334240031f30f4792ffc11667b1b?s=128&d=identicon&r=PG", "display_name": "Rich", "link": "https://stackoverflow.com/users/214470/rich"}, "is_accepted": true, "score": 1, "last_activity_date": 1473286246, "creation_date": 1473286246, "answer_id": 39379771, "question_id": 39379514, "link": "https://stackoverflow.com/questions/39379514/why-does-11-not-printed-from-a-string-in-this-python-script/39379771#39379771", "title": "Why does 11 not printed from a string in this Python script?", "body": "<p>As Padraic has pointed out in the comments - it looks like the leading backslash is missing before the 11 as a minor typo in the question.</p>\n\n<p>So it should read </p>\n\n<pre><code>&gt;&gt;&gt; import string\n&gt;&gt;&gt; s = \u2018mary\\11had a little lamb\u2019\n&gt;&gt;&gt; print s\nmary    had a little lamb\n</code></pre>\n\n<p>It's interpreting \\11 as the escape sequence for a numerically defined ascii character, which in this case is horizontal tab (\\t). As without qualification, <code>\\nnn</code> is assumed to be octal (as opposed to <code>\\xnn</code> which is interpreted as hexadecimal).</p>\n\n<p>So if you were to write just <code>&gt;&gt;&gt; s</code> in the REPL, you'd expect it to evaluate to <code>'mary\\thad a little lamb'</code>.</p>\n\n<p>Same outcome if you entered: <code>'mary\\x09had a little lamb'</code></p>\n"}], "owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 39379771, "answer_count": 1, "score": -2, "last_activity_date": 1473286246, "creation_date": 1473284898, "question_id": 39379514, "link": "https://stackoverflow.com/questions/39379514/why-does-11-not-printed-from-a-string-in-this-python-script", "title": "Why does 11 not printed from a string in this Python script?", "body": "<p>There is a Python question like this:</p>\n\n<pre><code>&gt;&gt;&gt; import string\n&gt;&gt;&gt; s = \u2018mary11had a little lamb\u2019\n&gt;&gt;&gt; print s\nmary had a little lamb\n</code></pre>\n\n<p>Actually when I try it myself, the result is not that, but:</p>\n\n<pre><code>mary11had a little lamb\n</code></pre>\n\n<p>Is there anything I don't know about Python that can make 11 disappear from a string?</p>\n"}, {"tags": ["python", "html", "beautifulsoup"], "comments": [{"owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "edited": false, "score": 0, "creation_date": 1473284980, "post_id": 39379504, "comment_id": 66086928, "body": "this might help: <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#contents-and-children\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc/&hellip;</a>"}, {"owner": {"reputation": 234, "user_id": 5591317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcUQ3.jpg?s=128&g=1", "display_name": "Saskia", "link": "https://stackoverflow.com/users/5591317/saskia"}, "edited": false, "score": 0, "creation_date": 1473285025, "post_id": 39379504, "comment_id": 66086939, "body": "duplicate? <a href=\"http://stackoverflow.com/questions/20648660/python-beautifulsoup-give-multiple-tags-to-findall\" title=\"python beautifulsoup give multiple tags to findall\">stackoverflow.com/questions/20648660/&hellip;</a> -&gt; tell it to find both select AND option..."}, {"owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "reply_to_user": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "edited": false, "score": 0, "creation_date": 1473285265, "post_id": 39379504, "comment_id": 66087039, "body": "@ewcz Are you suggesting <code>html_manufacturer_list.contents</code> ? Because I get an error that there is no attribute <code>contents</code>..."}, {"owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "reply_to_user": {"reputation": 234, "user_id": 5591317, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcUQ3.jpg?s=128&g=1", "display_name": "Saskia", "link": "https://stackoverflow.com/users/5591317/saskia"}, "edited": false, "score": 0, "creation_date": 1473285402, "post_id": 39379504, "comment_id": 66087090, "body": "@Saskia How would you put that in code? I&#39;m finding difficulties getting the syntax right... <code>soup.findAll([&quot;select&quot;, &quot;option&quot;], attrs = {&quot;id&quot;:&quot;selectMake1-ds&quot;})</code> doesn&#39;t return the <code>option</code> tags"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473285704, "post_id": 39379504, "comment_id": 66087196, "body": "ensure the &lt;option&gt; elements aren&#39;t generated via JS on the fly, you will not able to see that from your resulted list in such case -- since <code>soup.findAll(&quot;select&quot;)</code> SHOULD include child option elements."}, {"owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473285837, "post_id": 39379504, "comment_id": 66087238, "body": "@Anzel Aham! Sounds plausible, I&#39;ll have to look into that, thanks!"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473285926, "post_id": 39379504, "comment_id": 66087276, "body": "@RaduGheorghiu, not a problem. If that&#39;s the case (highly likely), you need to trace the JS ajax call source, and request that endpoint and get the list of the options you&#39;re after"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1473289062, "post_id": 39379504, "comment_id": 66088227, "body": "The children are definitely added dynamically, can you share the url?"}], "owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1473285800, "creation_date": 1473284826, "last_edit_date": 1473285800, "question_id": 39379504, "link": "https://stackoverflow.com/questions/39379504/extract-entire-html-tag-including-child-tags-with-beautiful-soup", "title": "Extract entire html tag (including child tags) with Beautiful Soup", "body": "<p>I'm trying to extract the entire content of a HTML element which then I want to parse. More precisely, I have a web-page which I crawl and I can identify a <code>&lt;select&gt;</code> tag with Beautiful Soup, but I want to access its child tags.</p>\n\n<p>So far I have:</p>\n\n<pre><code>import urllib2\nfrom BeautifulSoup import BeautifulSoup as BS\n\nsearch_url = 'http://example.com/'\nresponse = urllib2.urlopen(self.search_url)\nhtml = response.read()\n\nsoup = BS(html)\nhtml_manufacturer_list = soup.findAll(\"select\", attrs = {\"id\":\"manufacturerID\"})\n</code></pre>\n\n<p>The actual HTML I'm parsing looks like:</p>\n\n<pre><code>&lt;select id=\"manufacturerID\"&gt;\n   &lt;option value=\"1\"&gt;Abarth&lt;/option&gt;\n   &lt;option value=\"2\"&gt;ABC&lt;/option&gt;\n   &lt;option value=\"3\"&gt;Acura&lt;/option&gt;\n   &lt;option value=\"4\"&gt;Alfa Romeo&lt;/option&gt;\n   ...\n&lt;/select&gt;\n</code></pre>\n\n<p>But when running the above Python code the <code>html_manufacturer_list</code> object identifies only the parent <code>select</code> tag and has no information related to its child <code>option</code> tags.</p>\n\n<pre><code>&lt;select id=\"manufacturerID\"&gt; &lt;/select&gt;\n</code></pre>\n\n<p>Searching for <code>&lt;option&gt;</code> tags is .. not an option, since there are multiple <code>&lt;select&gt;</code> tags with options on the webpage.</p>\n\n<p>Any suggestions or help is appreciated on how to identify or extract the <code>&lt;option&gt;</code> tag information from the page.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 913, "user_id": 6699735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f06803a9fde9186cd86ab8a02ff122ac?s=128&d=identicon&r=PG&f=1", "display_name": "vlad.rad", "link": "https://stackoverflow.com/users/6699735/vlad-rad"}, "edited": false, "score": 0, "creation_date": 1473285361, "post_id": 39379499, "comment_id": 66087073, "body": "Can you post a screenshot with your rounded ends?"}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 0, "creation_date": 1473330950, "post_id": 39379499, "comment_id": 66103656, "body": "Looks like this is a known issue: <a href=\"https://github.com/matplotlib/matplotlib/issues/4332\" rel=\"nofollow noreferrer\">github.com/matplotlib/matplotlib/issues/4332</a>"}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "reply_to_user": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "edited": false, "score": 0, "creation_date": 1473341167, "post_id": 39379499, "comment_id": 66110451, "body": "@tom \u2014 Maybe I can just use lines for now."}], "owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473284794, "creation_date": 1473284794, "question_id": 39379499, "link": "https://stackoverflow.com/questions/39379499/how-do-i-get-square-ends-to-arrows-created-with-matplotlibs-annotate", "title": "How do I get square ends to arrows created with matplotlib&#39;s &#39;annotate&#39;?", "body": "<p>I have many places in my Python code where I use matplotlib's <code>annotate</code> to draw arrows with the general form</p>\n\n<pre><code>out_arrow = dict(arrowstyle='-', color=path_color, linewidth=4)    \nax.annotate('', xy=(x, y), xytext=(p, q), arrowprops=out_arrow)\n</code></pre>\n\n<p>but all of these arrows have rounded ends and I need them to be square (the arrows often abut, and I need them to appear continuous in that case).</p>\n\n<p>How do I get square ends to arrows created with <code>annotate</code>?</p>\n"}, {"tags": ["python", "pip", "sni"], "answers": [{"tags": [], "owner": {"reputation": 8098, "user_id": 1093020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a720d18c56f3471d7e2e41079c142a1?s=128&d=identicon&r=PG", "display_name": "Leonardo.Z", "link": "https://stackoverflow.com/users/1093020/leonardo-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1473325658, "creation_date": 1473325658, "answer_id": 39386871, "question_id": 39379497, "link": "https://stackoverflow.com/questions/39379497/issue-while-trying-to-install-or-update-package-using-pip-command/39386871#39386871", "title": "Issue while trying to install or update package using pip command", "body": "<p>You OpenSSL(not pyOpenSSL) is too old, you need to install an OpenSSL version that supports SNI.</p>\n"}], "owner": {"reputation": 483, "user_id": 4552571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/583765e69a8258d39de198b5143d47d8?s=128&d=identicon&r=PG&f=1", "display_name": "joselegit", "link": "https://stackoverflow.com/users/4552571/joselegit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511334219, "creation_date": 1473284781, "last_edit_date": 1511334219, "question_id": 39379497, "link": "https://stackoverflow.com/questions/39379497/issue-while-trying-to-install-or-update-package-using-pip-command", "title": "Issue while trying to install or update package using pip command", "body": "<p>For some reason I can't use <code>pip</code> to install or update python packages in my system.\nI get this error.</p>\n\n<blockquote>\n  <p>Exception:</p>\n  \n  <p>Traceback (most recent call last):</p>\n  \n  <p>File\n  \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/basecommand.py\",\n  line 209, in main\n      status = self.run(options, args)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/commands/install.py\",\n  line 299, in run\n      requirement_set.prepare_files(finder)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_set.py\",\n  line 360, in prepare_files\n      ignore_dependencies=self.ignore_dependencies))</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_set.py\",\n  line 448, in _prepare_file\n      req_to_install, finder)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/req/req_set.py\",\n  line 397, in _check_skip_installed\n      finder.find_requirement(req_to_install, self.upgrade)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/index.py\",\n  line 440, in find_requirement\n      all_candidates = self.find_all_candidates(req.name)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/index.py\",\n  line 398, in find_all_candidates\n      for page in self._get_pages(url_locations, project_name):</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/index.py\",\n  line 543, in _get_pages\n      page = self._get_page(location)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/index.py\",\n  line 646, in _get_page\n      return HTMLPage.get_page(link, session=self.session)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/index.py\",\n  line 755, in get_page\n      \"Cache-Control\": \"max-age=600\",</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/sessions.py\",\n  line 480, in get\n      return self.request('GET', url, **kwargs)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/download.py\",\n  line 378, in request\n      return super(PipSession, self).request(method, url, *args, **kwargs)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/sessions.py\",\n  line 468, in request\n      resp = self.send(prep, **send_kwargs)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/sessions.py\",\n  line 576, in send\n      r = adapter.send(request, **kwargs)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/cachecontrol/adapter.py\",\n  line 46, in send\n      resp = super(CacheControlAdapter, self).send(request, **kw)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/adapters.py\",\n  line 376, in send\n      timeout=timeout</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/packages/urllib3/connectionpool.py\",\n  line 559, in urlopen\n      body=body, headers=headers)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/packages/urllib3/connectionpool.py\",\n  line 345, in _make_request\n      self._validate_conn(conn)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/packages/urllib3/connectionpool.py\",\n  line 784, in _validate_conn\n      conn.connect()</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/packages/urllib3/connection.py\", line 252, in connect\n      ssl_version=resolved_ssl_version)</p>\n  \n  <p>File \"/usr/local/lib/python2.7/site-packages/pip-8.1.1-py2.7.egg/pip/_vendor/requests/packages/urllib3/contrib/pyopenssl.py\",\n  line 296, in ssl_wrap_socket\n      cnx.set_tlsext_host_name(server_hostname)</p>\n  \n  <p>File \"build/bdist.linux-x86_64/egg/OpenSSL/SSL.py\", line 423, in explode</p>\n\n<pre><code>raise NotImplementedError(error)   NotImplementedError: SNI not available\n</code></pre>\n</blockquote>\n\n<p>I tried installing the packages <code>pyOpenSSL</code>, <code>ndg-httpsclient</code> and <code>pyasn1</code> manually but still the problem persists.</p>\n\n<p>My system is a RED HAT 4.1.2(server) with Python 2.7.3</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1473284398, "post_id": 39379351, "comment_id": 66086718, "body": "The response question I have is naturally, &quot;Why??&quot;"}, {"owner": {"reputation": 5410, "user_id": 1390022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d29e994a1301613f40c4cc99909edb0?s=128&d=identicon&r=PG", "display_name": "derricw", "link": "https://stackoverflow.com/users/1390022/derricw"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1473284691, "post_id": 39379351, "comment_id": 66086825, "body": "@WayneWerner well, I have two implementations of <code>__getattr__</code> that each use a different type of serialization (json, pickle), and I wanted my class to be able to select one at instantiation based on a kwarg."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1473285700, "post_id": 39379351, "comment_id": 66087193, "body": "Why not subclasses? Presumably the caller knows which is which since they&#39;re setting the kwarg"}], "answers": [{"comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1473284331, "post_id": 39379402, "comment_id": 66086697, "body": "TIL... this! :)"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 5410, "user_id": 1390022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d29e994a1301613f40c4cc99909edb0?s=128&d=identicon&r=PG", "display_name": "derricw", "link": "https://stackoverflow.com/users/1390022/derricw"}, "edited": false, "score": 0, "creation_date": 1473284870, "post_id": 39379402, "comment_id": 66086891, "body": "@ballsatballsdotballs -- could you have <code>__getattr__</code> call <code>_getattr</code> which is set to <code>_getattrjson</code> or <code>_getattrpickle</code> based on the initization arguments?"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1473285059, "last_edit_date": 1473285059, "creation_date": 1473284254, "answer_id": 39379402, "question_id": 39379351, "link": "https://stackoverflow.com/questions/39379351/changing-getattr-during-instantiation/39379402#39379402", "title": "Changing __getattr__ during instantiation", "body": "<p>For special methods like <code>__getattr__</code>, Python searches in the base(s) <code>__dict__</code>, not in the instance <code>__dict__</code>.</p>\n\n<p>You can read more details about this in the <a href=\"https://docs.python.org/3/reference/datamodel.html#special-lookup\" rel=\"nofollow\">special lookup</a> section of the data model documentation.</p>\n\n<blockquote>\n  <p>I have two implementations of <code>__getattr__</code> that each use a different\n  type of serialization (json, pickle), and I wanted my class to be able\n  to select one based on a kwarg.</p>\n</blockquote>\n\n<p>This is not a good use-case for overriding <code>__getattr__</code>.  Abandon this idea, and instead consider to use <a href=\"https://docs.python.org/3/library/functions.html#property\" rel=\"nofollow\"><code>@property</code></a> or <a href=\"https://docs.python.org/3/reference/datamodel.html#descriptors\" rel=\"nofollow\">descriptors</a> to handle your serialisation dynamically.  </p>\n"}], "owner": {"reputation": 5410, "user_id": 1390022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d29e994a1301613f40c4cc99909edb0?s=128&d=identicon&r=PG", "display_name": "derricw", "link": "https://stackoverflow.com/users/1390022/derricw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 39379402, "answer_count": 1, "score": 4, "last_activity_date": 1473285059, "creation_date": 1473284066, "question_id": 39379351, "link": "https://stackoverflow.com/questions/39379351/changing-getattr-during-instantiation", "title": "Changing __getattr__ during instantiation", "body": "<p>I am wanting to change <code>__getattr__</code> during instantiation of the class.  For example:</p>\n\n<pre><code>class AttrTest(object):\n    def __init__(self):\n        self.__getattr__ = self._getattr\n\n    def _getattr(self, attr):\n        print(\"Getting {}\".format(attr))\n</code></pre>\n\n<p>I would have expected this to behave like:</p>\n\n<pre><code>class AttrTest(object):\n    def __getattr__(self, attr):\n        print(\"Getting {}\".format(attr))\n</code></pre>\n\n<p>But it does not.</p>\n\n<p>For example, when I run:</p>\n\n<pre><code>&gt;&gt;&gt; at = AttrTest()\n&gt;&gt;&gt; at.test\n</code></pre>\n\n<p>I would expect both classes to print <code>Getting test</code>, but the top class throws an <code>AttributeError</code>.</p>\n\n<p>Can <code>__getattr__</code> not be changed in this way?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1124, "user_id": 359340, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c1ea7e6c3947492455be6f3897996dd?s=128&d=identicon&r=PG", "display_name": "Kal Zekdor", "link": "https://stackoverflow.com/users/359340/kal-zekdor"}, "edited": false, "score": 0, "creation_date": 1473284333, "post_id": 39379331, "comment_id": 66086699, "body": "I don&#39;t think there will be an easy way to do this, though you might be able to get somewhere using <a href=\"https://docs.python.org/2/library/ast.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/ast.html</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473285177, "post_id": 39379331, "comment_id": 66087003, "body": "Any particular reason your input has to look like this?"}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1473285438, "post_id": 39379331, "comment_id": 66087105, "body": "Duplicate? <a href=\"http://stackoverflow.com/q/33908794/2301450\">stackoverflow.com/q/33908794/2301450</a>"}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473285737, "post_id": 39379331, "comment_id": 66087207, "body": "@user2357112 \u2013 Yes, the input needs to look like this. Long story short, I&#39;m trying to write a custom sphinx directive to ease the creation of useful documentation of the Altair project, and modification of the code strings would lead to either confusing docs or a brittle sphinx directive."}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1473285805, "post_id": 39379331, "comment_id": 66087225, "body": "@vaultah \u2013 thanks, that does look like a similar question, though I think I&#39;ve asked it in a clearer way. And none of the proposed solutions there seem all that useful."}], "answers": [{"comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1473355443, "post_id": 39381428, "comment_id": 66119693, "body": "Great answer! You should accept it, I definitely won&#39;t mind."}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1475188913, "post_id": 39381428, "comment_id": 66856299, "body": "I just realized that this is the only correct answer, which works even when the last expression is a multiline string. Mine doesn&#39;t, so please unaccept it."}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1475200351, "post_id": 39381428, "comment_id": 66859094, "body": "If you insist!-"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 6, "last_activity_date": 1473299579, "creation_date": 1473299579, "answer_id": 39381428, "question_id": 39379331, "link": "https://stackoverflow.com/questions/39379331/python-exec-a-code-block-and-eval-the-last-line/39381428#39381428", "title": "Python: exec() a code block and eval() the last line", "body": "<p>Based on @kalzekdor's suggestion of using the <code>ast</code> module, I came up with this solution which is similar in spirit to @vaultah's solution posted above:</p>\n\n<pre><code>import ast\n\ndef exec_then_eval(code):\n    block = ast.parse(code, mode='exec')\n\n    # assumes last node is an expression\n    last = ast.Expression(block.body.pop().value)\n\n    _globals, _locals = {}, {}\n    exec(compile(block, '&lt;string&gt;', mode='exec'), _globals, _locals)\n    return eval(compile(last, '&lt;string&gt;', mode='eval'), _globals, _locals)\n</code></pre>\n\n<p>It also passes @vaultah's nice set of test-cases:</p>\n\n<pre><code>exec_then_eval('''x = 4\ny = 5\nx + y''')) # 9\n\nexec_then_eval('''x = 4\ny = 5;x + y''')) # 9\n\nexec_then_eval('''x = 4\ny = 5;(\nx + y *\n\n2)''') # 14\n</code></pre>\n"}], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3627, "favorite_count": 2, "accepted_answer_id": 39381428, "answer_count": 1, "score": 7, "last_activity_date": 1510171267, "creation_date": 1473283962, "question_id": 39379331, "link": "https://stackoverflow.com/questions/39379331/python-exec-a-code-block-and-eval-the-last-line", "title": "Python: exec() a code block and eval() the last line", "body": "<p>I have a string literal containing one or more lines of (trusted) Python code, and I would like to <code>exec()</code> the block, while capturing the results of the last line. More concretely, I would like a function <code>exec_then_eval</code> that returns the following:</p>\n\n<pre><code>code = \"\"\"\nx = 4\ny = 5\nx + y\n\"\"\"\n\nassert exec_then_eval(code) == 9\n</code></pre>\n\n<p>A couple things I've tried:</p>\n\n<ol>\n<li><p>By splitting off the last line, you can exec the first block, then eval the last line; e.g.</p>\n\n<pre><code>def exec_then_eval(code):\n    first_block = '\\n'.join(code.splitlines()[:-1])\n    last_line = code.splitlines()[-1]\n    globals = {}\n    locals = {}\n    exec(first_block, globals, locals)\n    return eval(last_line, globals, locals)\n</code></pre>\n\n<p>This works, but will fail if the last statement has multiple lines.</p></li>\n<li><p>If the code itself is modified so the result is stored as a local variable, this variable can then be recovered; e.g.</p>\n\n<pre><code>code = \"\"\"\nx = 4\ny = 5\nz = x + y\n\"\"\"\n\nglobals = {}\nlocals = {}\nexec(code, globals, locals)\nassert locals['z'] == 9\n</code></pre>\n\n<p>again, this works, but only if you're able to first parse the code block in a general way and modify it appropriately.</p></li>\n</ol>\n\n<p>Is there an easy way to write a general <code>exec_and_eval</code> function?</p>\n"}, {"tags": ["php", "python", "database", "prestashop"], "comments": [{"owner": {"reputation": 1746, "user_id": 4267183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806d49246728eb272c66fc9bf411bcc?s=128&d=identicon&r=PG&f=1", "display_name": "Serge P", "link": "https://stackoverflow.com/users/4267183/serge-p"}, "edited": false, "score": 0, "creation_date": 1473324712, "post_id": 39379294, "comment_id": 66099738, "body": "<i>to see this error please display the PHP errors.</i> in config/defines.inc.php change to define(&#39;<i>PS_MODE_DEV</i>&#39;, true);"}, {"owner": {"reputation": 3200, "user_id": 4519917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zFNdt.jpg?s=128&g=1", "display_name": "marsaldev", "link": "https://stackoverflow.com/users/4519917/marsaldev"}, "reply_to_user": {"reputation": 1746, "user_id": 4267183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806d49246728eb272c66fc9bf411bcc?s=128&d=identicon&r=PG&f=1", "display_name": "Serge P", "link": "https://stackoverflow.com/users/4267183/serge-p"}, "edited": false, "score": 0, "creation_date": 1473326558, "post_id": 39379294, "comment_id": 66100877, "body": "Try to enable <code>CGI mode for PHP</code> in PrestaShop backoffice. Change also the define like @SergiiP says."}, {"owner": {"reputation": 55, "user_id": 3032918, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8643ca014847968a510eb7b9cc556328?s=128&d=identicon&r=PG&f=1", "display_name": "Carollour", "link": "https://stackoverflow.com/users/3032918/carollour"}, "edited": false, "score": 0, "creation_date": 1473337013, "post_id": 39379294, "comment_id": 66107372, "body": "Wait. Im running this on my laptop, as a Python script. Not as a php thingy. Should I still do that on the server?"}, {"owner": {"reputation": 1746, "user_id": 4267183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806d49246728eb272c66fc9bf411bcc?s=128&d=identicon&r=PG&f=1", "display_name": "Serge P", "link": "https://stackoverflow.com/users/4267183/serge-p"}, "edited": false, "score": 0, "creation_date": 1473360211, "post_id": 39379294, "comment_id": 66122151, "body": "you are getting error message from the server and error is happening there, so... yes, you need to enable debug mode on server or try to just check webserver logs"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4500231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689a41e8a8b355a572b24799d02e2212?s=128&d=identicon&r=PG", "display_name": "Pustul", "link": "https://stackoverflow.com/users/4500231/pustul"}, "is_accepted": false, "score": 1, "last_activity_date": 1481494653, "creation_date": 1481494653, "answer_id": 41091744, "question_id": 39379294, "link": "https://stackoverflow.com/questions/39379294/prestapyt-cant-upload-new-product/41091744#41091744", "title": "prestapyt can&#39;t upload new product", "body": "<p>You should do <code>blank_product['product'].update(...)</code> instead of <code>blank_product.update(...)</code>, the blank schema structure is: <code>{product: {...}}</code>.</p>\n\n<p>In your edit when you use the <code>edit()</code> function you do not have to specify the product id, it is collected from the address_data fields (at least with the current version). But again you have to edit the fields this way: <code>address_data['product]['active']</code> = '0'</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 55, "user_id": 3032918, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8643ca014847968a510eb7b9cc556328?s=128&d=identicon&r=PG&f=1", "display_name": "Carollour", "link": "https://stackoverflow.com/users/3032918/carollour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1491904944, "creation_date": 1473283808, "last_edit_date": 1473466612, "question_id": 39379294, "link": "https://stackoverflow.com/questions/39379294/prestapyt-cant-upload-new-product", "title": "prestapyt can&#39;t upload new product", "body": "<p>I'm trying to create a script to add products to prestashop, through Python.</p>\n\n<p>I'm using prestapyt library; I can read files, I can get template for new file but I cannot upload a new file. This is what I have:</p>\n\n<pre><code>from prestapyt import PrestaShopWebServiceError\nfrom prestapyt import PrestaShopWebService\nfrom prestapyt import PrestaShopWebServiceDict\n\nDEBUG = 'true'\nPS_SHOP_PATH = MYPATH\nPS_WS_AUTH_KEY = MYKEY\n\nprestashop = PrestaShopWebServiceDict(PS_SHOP_PATH, PS_WS_AUTH_KEY, DEBUG)\nmyproducts = prestashop.search('products');\naddNewProduct(prestashop)\n</code></pre>\n\n<p>where</p>\n\n<pre><code>def addNewProduct(prestashop):\n    blank_product = prestashop.get('products', options={'schema': 'blank'});\n    pprint(blank_product)\n    blank_product.update({'active': '1',\n                 'additional_shipping_cost': '',\n                 'advanced_stock_management': '',\n                 'description': {'language': {'attrs': {'id': '2'}, 'value': 'DESCRIPTION!!!'}},\n                 'description_short': {'language': {'attrs': {'id': '2'},\n                                                    'value': 'SHORT DESCRIPTION!!!'}},\n                 'id': '23',\n                 'id_category_default': '2',\n                 'name': {'language': {'attrs': {'id': '2'}, 'value': 'NAME'}},\n                 'new': '1',\n                 'price': '23',\n                 'reference': 'MYREF',\n                 'show_price': '1',\n                 'width': ''})\n        prestashop.add('products', blank_product)\n</code></pre>\n\n<p>When run this scrip I get the following:</p>\n\n<blockquote>\n  <p>Execute url: MYPATH/api/products / method: POST Response code: 400</p>\n  \n  <p>Response headers:</p>\n  \n  <p>{'status': '400', 'psws-version': '1.6.1.6',\n  'x-powered-by': 'PrestaShop Webservice', 'transfer-encoding':\n  'chunked', 'set-cookie':\n  'PrestaShop-a0d2999cb4d9d838ea9bbca3cf8a7a22=gv2rmNYce013aHwM2TQ7718d8sl%2BCmTtT1hO7pqS6ItiGKUPTa%2FGUwpTprJh9pihDKJbQNq4DKb0N6SYqC5nxBM4Q%2F1AFCrubceV8yPEcMo%3D000079;\n  expires=Tue, 27-Sep-2016 21:15:16 GMT; Max-Age=1728000;\n  path=MYPATH; domain=SOMETHING; httponly',\n  'access-time': '1473282916', 'connection': 'close', 'execution-time':\n  '0.008', 'date': 'Wed, 07 Sep 2016 21:15:16 GMT', 'server': 'Apache',\n  'content-type': 'text/xml;charset=utf-8'}</p>\n  \n  <p>Response body:\n     \n     </p>\n  \n  <p>'PrestaShop error: 400 Bad Request. Internal error. To see this error\n  please display the PHP errors.'</p>\n</blockquote>\n\n<p>Any ideia?</p>\n\n<p>Thanks!</p>\n\n<p>UPDATE:\nI added what you suggested and this is what i get:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"Script.py\", line 24, in &lt;module&gt;\nprestashop.edit('products', 1, address_data)\n\nFile \"build/bdist.macosx-10.11-intel/egg/prestapyt/prestapyt.py\", line 363, in edit\nFile \"SAME\", line 516,\nin edit_with_url File \"SAME\", line 374,\nin edit_with_url File \"SAME\", line 196,\nin _execute File \"SAME\", line 127,\nin _check_status_code\n\nprestapyt.prestapyt.PrestaShopWebServiceError: 'PrestaShop error: 400 Bad Request. Internal error. To see this error please display the PHP errors.'\n</code></pre>\n\n<p>And it breaks here:</p>\n\n<pre><code>address_data = prestashop.get('products', 1)\naddress_data['active'] = '0'\nprestashop.edit('products', 1, address_data) -&gt; THIS LINE\n</code></pre>\n\n<p>any new ideas? Thank you!</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "is_accepted": true, "score": 0, "last_activity_date": 1473285503, "creation_date": 1473285503, "answer_id": 39379631, "question_id": 39379287, "link": "https://stackoverflow.com/questions/39379287/flask-uploadnotallowed-error-when-renaming-a-file-to-be-saved/39379631#39379631", "title": "Flask - uploadnotallowed error - when renaming a file to be saved", "body": "<p>Ok, found my error.  The variable <code>file_new_name = 'dataexcel'</code> needs to have the extension, in this case the <code>.xlsx</code> ext. So the variable should be <code>file_new_name = 'dataexcel.xlsx'</code></p>\n\n<p>the <code>save</code> function should look like this -> <code>filename = docs.save(filestorage, None, file_new_name)</code>.  <code>None</code> is the subfolder, if you want to pass a subfolder, just change it to something like <code>static/upload/dist</code>.</p>\n"}], "owner": {"reputation": 1462, "user_id": 5062134, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/c2Ea0.jpg?s=128&g=1", "display_name": "medev21", "link": "https://stackoverflow.com/users/5062134/medev21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 1, "accepted_answer_id": 39379631, "answer_count": 1, "score": 2, "last_activity_date": 1473285503, "creation_date": 1473283765, "question_id": 39379287, "link": "https://stackoverflow.com/questions/39379287/flask-uploadnotallowed-error-when-renaming-a-file-to-be-saved", "title": "Flask - uploadnotallowed error - when renaming a file to be saved", "body": "<p>I'm trying to upload an excel file in flask and give it a new name when saving, something like: <code>oldname.xlsx</code> to <code>newname.xlsx</code>.</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>from flask import Flask, render_template, send_file, request, redirect, url_for\nfrom flask_uploads import UploadSet, configure_uploads, DOCUMENTS, IMAGES\nfrom remove_characters import get_csv, edit_data, cleanup_data\nimport re\nimport os\n\napp = Flask(__name__)\n\n#the name 'datafiles' must match in app.config to DATAFILES\ndocs = UploadSet('datafiles', DOCUMENTS)\napp.config['UPLOADED_DATAFILES_DEST'] = 'static/uploads'\nconfigure_uploads(app, docs)\nfile_new_name = 'dataexcel'\n\n@app.route(\"/upload\", methods = ['GET', 'POST'])\ndef upload():\n#user_file is the name value in input element\nif request.method == 'POST' and 'user_file' in request.files:\n    filestorage = request.files['user_file']\n    path = \"static/uploads/\" + filestorage.filename\n    filename = docs.save(filestorage, name = file_new_name)\n\n\n    return redirect(url_for('results', path = path))\n\n\nreturn render_template('upload.html')\n</code></pre>\n\n<p>So in the <code>save</code> function, I'm passing <code>file_new_name</code> to the name param, so it will be saved with that variable name.  I got the <code>name</code> param from flask upload docs, but I get an 'uploadnotallowed' error</p>\n\n<p><a href=\"https://i.stack.imgur.com/u8Gtg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u8Gtg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm wondering If I'm not following the right format for the <code>save</code> function, or my configurations are not set up properly.  I'm new to flask, so I'm still learning this cool web framework.  Thanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8381, "user_id": 1524622, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/n7IYD.jpg?s=128&g=1", "display_name": "Vural", "link": "https://stackoverflow.com/users/1524622/vural"}, "edited": false, "score": 1, "creation_date": 1473283429, "post_id": 39379197, "comment_id": 66086378, "body": "It looks like a homework"}, {"owner": {"reputation": 3104, "user_id": 2558739, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ygAg7.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2558739/ben"}, "edited": false, "score": 0, "creation_date": 1473283552, "post_id": 39379197, "comment_id": 66086414, "body": "Is that 2*x, 3*x? Why doesn&#39;t 0 appear twice?"}, {"owner": {"reputation": 95, "user_id": 524527, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/44f52b55bc49e1be8544dcccd5ecca47?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/524527/todd"}, "edited": false, "score": 0, "creation_date": 1473283755, "post_id": 39379197, "comment_id": 66086482, "body": "This is a sequence represents a time valued function and truly starts at t=0"}, {"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1473290445, "post_id": 39379197, "comment_id": 66088604, "body": "Do you have some program you tried?"}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1473301296, "post_id": 39379197, "comment_id": 66090906, "body": "why numpy range and not a normal range?"}], "answers": [{"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 0, "last_activity_date": 1473296594, "creation_date": 1473296594, "answer_id": 39381084, "question_id": 39379197, "link": "https://stackoverflow.com/questions/39379197/creating-a-list-of-n-pairs-of-a-variable/39381084#39381084", "title": "Creating a list of &#39;N&#39; pairs of a variable", "body": "<p>You can do this with a list comprehension. It isn't as clear as the code you started with though.</p>\n\n<pre><code>&gt;&gt;&gt; N=4\n&gt;&gt;&gt; x=1.25\n&gt;&gt;&gt; lst = [0] + [i//2 * x for i in range(2, 2*N+2)]\n&gt;&gt;&gt; lst\n[0, 1.25, 1.25, 2.5, 2.5, 3.75, 3.75, 5.0, 5.0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1473348429, "post_id": 39381714, "comment_id": 66115797, "body": "Better answer than mine. I&#39;d combine them into <code>lst = [0] + [i*x for i in range(1,N+1) for _ in range(2)]</code>."}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1473354294, "post_id": 39381714, "comment_id": 66119145, "body": "@MarkRansom what I don&#39;t like about that is that as far as I know the <code>+</code> operator produce a new copy with both lists, so effectively wasting more space than it needs to by first making the comprehension list and then copy it... but that give a idea to include the zero in list too in just one comprehension"}], "tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1473354354, "last_edit_date": 1473354354, "creation_date": 1473301820, "answer_id": 39381714, "question_id": 39379197, "link": "https://stackoverflow.com/questions/39379197/creating-a-list-of-n-pairs-of-a-variable/39381714#39381714", "title": "Creating a list of &#39;N&#39; pairs of a variable", "body": "<p>you can do this like this</p>\n\n<pre><code>&gt;&gt;&gt; n=4\n&gt;&gt;&gt; x=1.2\n&gt;&gt;&gt; lst=[0,x,x]\n&gt;&gt;&gt; lst.extend( i*x for i in range(2,n+1) for _ in range(2) )\n&gt;&gt;&gt; lst\n[0, 1.2, 1.2, 2.4, 2.4, 3.5999999999999996, 3.5999999999999996, 4.8, 4.8]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>EDIT</p>\n\n<p>or with one list comprehension and nothing else</p>\n\n<pre><code>&gt;&gt;&gt; n=4\n&gt;&gt;&gt; x=1.2\n&gt;&gt;&gt; lst=[ i*x for i in range(n+1) for _ in range(2 if i else 1) ]\n&gt;&gt;&gt; lst\n[0.0, 1.2, 1.2, 2.4, 2.4, 3.5999999999999996, 3.5999999999999996, 4.8, 4.8]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>(note use xrange if you are in python 2)</p>\n"}], "owner": {"reputation": 95, "user_id": 524527, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/44f52b55bc49e1be8544dcccd5ecca47?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/524527/todd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473354354, "creation_date": 1473283335, "last_edit_date": 1473295937, "question_id": 39379197, "link": "https://stackoverflow.com/questions/39379197/creating-a-list-of-n-pairs-of-a-variable", "title": "Creating a list of &#39;N&#39; pairs of a variable", "body": "<p>I have a variable <code>x</code>. I need to create a list such as </p>\n\n<pre><code>lst=[0,x,x,2*x,2*x,3*x,3*x,N*x,N*x]\n</code></pre>\n\n<p>up to any <code>N</code></p>\n\n<p>Seems like this should be straightforward but I'm kinda stuck. Any help is appreciated.</p>\n\n<p>Respectfully I don't see how this question is a duplicate</p>\n\n<p><strong>update....</strong> </p>\n\n<p>So I did this. </p>\n\n<pre><code>import numpy as np\n\nN=4\nlst=[0]\nx=1.2\n\nfor i in np.arange(1,N+1):\n    seed=[1,1]\n    for j in seed:\n        lst.append(i*x)\n\n lst= [0, 1.2, 1.2, 2.3999999999999999, 2.3999999999999999, 3.5999999999999996, 3.5999999999999996, 4.7999999999999998, 4.7999999999999998]\n</code></pre>\n\n<p>It feels like a terrible hack. </p>\n\n<p>There has to be a more elegant solution.</p>\n"}, {"tags": ["python", "macos", "anaconda", "py2app"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 1, "creation_date": 1473290042, "post_id": 39379155, "comment_id": 66088495, "body": "Have you tried running the app without using the alias option (eg. <code>python setup.py py2app</code>), or by <code>open -a dist&#47;MyApplication.app</code>?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 2, "creation_date": 1473330353, "post_id": 39379155, "comment_id": 66103262, "body": "Useful suggestion! <code>open -a dist&#47;my-script.app</code> fails (&quot;Unable to find application named &#39;dist/my-open.app&#39;&quot;), but trying a full app build (still doesn&#39;t work but) flushed out the problem: The <code>libpython</code> dll is not named as py2app expects. I was able to fix it by editing the generated <code>Info.plist</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2290, "user_id": 1945087, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a821bc5d486ccd8228e6cf740e12d51f?s=128&d=identicon&r=PG", "display_name": "J Jones", "link": "https://stackoverflow.com/users/1945087/j-jones"}, "edited": false, "score": 1, "creation_date": 1495665037, "post_id": 39392214, "comment_id": 75354833, "body": "How did you find both of those DLLs?  I have the same problem, and tried including the one DLL I could find in the PyRuntimeLocations: /Users/***/anaconda/lib/libpython3.5m.dylib.  It doesn&#39;t seem to make a difference, though.  In fact, I tried including /Users/***/anaconda/lib/nonsense.dylib and nothing changed, no error was thrown."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 2290, "user_id": 1945087, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a821bc5d486ccd8228e6cf740e12d51f?s=128&d=identicon&r=PG", "display_name": "J Jones", "link": "https://stackoverflow.com/users/1945087/j-jones"}, "edited": false, "score": 0, "creation_date": 1495723632, "post_id": 39392214, "comment_id": 75380796, "body": "I just <code>cd</code>&#39;d to the directory that would have contained the file <code>py2app</code> tried to include, and checked what else is there. But you could also try <code>mdfind -name libpython</code> (if you&#39;re on OS X; otherwise it&#39;s <code>locate</code> or <code>slocate</code>, I guess). But you&#39;re saying you didn&#39;t actually see the error I describe in my answer? Did you try building in non-alias mode? If you did and you&#39;re not getting the error message, you probably have a different problem."}, {"owner": {"reputation": 2290, "user_id": 1945087, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a821bc5d486ccd8228e6cf740e12d51f?s=128&d=identicon&r=PG", "display_name": "J Jones", "link": "https://stackoverflow.com/users/1945087/j-jones"}, "edited": false, "score": 0, "creation_date": 1495739936, "post_id": 39392214, "comment_id": 75390264, "body": "To clarify: I get the same error that you got, and am building in non-alias mode.  py2app also gives this error message while compiling:  <code>ValueError: &#39;&#47;Users&#47;***&#47;anaconda&#47;lib&#47;libpython3.5.dylib&#39; does not exist</code> But py2app gives me that same error no matter what I put in  &#39;plist&#39;, i.e.: <code>{&#39;PyRuntimeLocations&#39;: [&#39;&#47;Users&#47;****&#47;anaconda&#47;lib&#47;nonsense.dylib&#39;]}</code>.  And then gives me the &quot;edit the PyRuntimeLocations&quot; error when I try to open it.  So it doesn&#39;t seem like it is actually using the PyRuntimeLocations.  I was wondering how you got PyRuntimeLocations to actually work."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 2290, "user_id": 1945087, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a821bc5d486ccd8228e6cf740e12d51f?s=128&d=identicon&r=PG", "display_name": "J Jones", "link": "https://stackoverflow.com/users/1945087/j-jones"}, "edited": false, "score": 0, "creation_date": 1495749925, "post_id": 39392214, "comment_id": 75394939, "body": "I got it to work by putting in the path to a DLL that does actually exist. If you edit <code>setup.py</code>, you need to rerun <code>py2app</code> (i.e. <code>python setup.py py2app</code>)."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 2290, "user_id": 1945087, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a821bc5d486ccd8228e6cf740e12d51f?s=128&d=identicon&r=PG", "display_name": "J Jones", "link": "https://stackoverflow.com/users/1945087/j-jones"}, "edited": false, "score": 0, "creation_date": 1495750050, "post_id": 39392214, "comment_id": 75394983, "body": "You must be confused about <i>something</i>, because of course writing a nonsense name will give you the same error as the file inserted automatically: Neither file exists. And in your first comment you say &quot;nothing changed, no error was thrown&quot;... so not sure what you&#39;re actually doing. Double- and triple-check that you provided the library name correctly. (Example only: Maybe there&#39;s an accent in your user name, opening the door to encoding issues?) Anyway I only saw the error when I tried to open the app with <code>open -a</code>, not at build time."}, {"owner": {"reputation": 60, "user_id": 9883125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dQzQW.jpg?s=128&g=1", "display_name": "Zoe Plaxco", "link": "https://stackoverflow.com/users/9883125/zoe-plaxco"}, "edited": false, "score": 0, "creation_date": 1531925461, "post_id": 39392214, "comment_id": 89781040, "body": "When I try this solution, I edited my setup.py to include my anaconda3 version of libpython3.6m.dylib but it continues to give me the starting error message: &quot;ValueError: &#39;/anaconda3/lib/libpython3.6.dylib&#39; does not exist&quot; What did you do to know setup.py&#39;s path was being executed."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1531928545, "post_id": 39392214, "comment_id": 89783122, "body": "I can&#39;t say I remember, exactly; I looked at the py2app <a href=\"http://py2app.readthedocs.io/en/latest/tweaking.html\" rel=\"nofollow noreferrer\">documentation</a> and studied the generated <code>setup.py</code>. I knew it was being read when either the symptoms or the error message changed. (By the way the link to the documentation in my answer was stale; if you didn&#39;t bother to find the right doc yet, try again.)"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1531928720, "post_id": 39392214, "comment_id": 89783231, "body": "PS You did re-run <code>python setup.py py2app</code> after you edited <code>setup.py</code>, right? ..."}, {"owner": {"reputation": 60, "user_id": 9883125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dQzQW.jpg?s=128&g=1", "display_name": "Zoe Plaxco", "link": "https://stackoverflow.com/users/9883125/zoe-plaxco"}, "edited": false, "score": 0, "creation_date": 1531930485, "post_id": 39392214, "comment_id": 89784442, "body": "Yup! It wouldn&#39;t get through execution anyway, so I would need to in order to have something to try to run. I added a symbolic link between libpython3.6m and libpython3.6 and got the setup to complete, but now I still have the &quot;fatal termination no python&quot; error when I try to click the app."}], "tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": true, "score": 9, "last_activity_date": 1531928571, "last_edit_date": 1531928571, "creation_date": 1473341114, "answer_id": 39392214, "question_id": 39379155, "link": "https://stackoverflow.com/questions/39379155/how-do-i-use-py2app-with-anaconda-python/39392214#39392214", "title": "How do I use py2app with Anaconda python?", "body": "<p>The suggestion by @l'L'l allowed me to identify the problem: While there were no errors when I generated my app in \"alias mode\" (using symlinks to the environment instead of copying binaries), building the app without alias mode flushed out the error: <code>py2app</code> looks for the <code>libpython</code> DLL under the non-existent name <code>/Applications/anaconda/lib/libpython3.4.dylib</code>. </p>\n\n<p>A quick check showed that Anaconda provides this DLL under a slightly different name: <code>libpython3.4m.dylib</code>. While patching <code>dist/my-script.app/Contents/Info.plist</code> fixes the problem, the <em>right</em> solution is to edit <code>setup.py</code> so that future builds will work correctly. With the help of the <a href=\"http://py2app.readthedocs.io/en/latest/tweaking.html\" rel=\"noreferrer\">py2app documentation</a>, I put together the following (partial contents of <code>setup.py</code> shown):</p>\n\n<pre><code>OPTIONS = {'argv_emulation': True,\n           'plist': {\n               'PyRuntimeLocations': [\n                '@executable_path/../Frameworks/libpython3.4m.dylib',\n                '/Applications/anaconda/lib/libpython3.4m.dylib'\n               ]\n           }}\n\nsetup(\n    app=APP,\n    data_files=DATA_FILES,\n    options={'py2app': OPTIONS},\n    setup_requires=['py2app'],\n)\n</code></pre>\n\n<p>The paths come from the generated <code>Info.plist</code>; I only modified the absolute path, reasoning that if I ever provide a local DLL at the relative path, it will have the default name.</p>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4588, "favorite_count": 3, "accepted_answer_id": 39392214, "answer_count": 1, "score": 4, "last_activity_date": 1591293212, "creation_date": 1473283148, "last_edit_date": 1495542749, "question_id": 39379155, "link": "https://stackoverflow.com/questions/39379155/how-do-i-use-py2app-with-anaconda-python", "title": "How do I use py2app with Anaconda python?", "body": "<p>I am using Python 3 from the Anaconda distribution, and trying to convert a simple python program into an OS X app (running on El Capitan). Following the instructions in <a href=\"https://pythonhosted.org/py2app/tutorial.html\" rel=\"nofollow noreferrer\">the tutorial</a>, I ran </p>\n\n<pre><code>py2applet --make-setup my-script.py\npython setup.py py2app -A\n</code></pre>\n\n<p>Everything ran fine with no errors, but when I try to launch the app, I get this error message:</p>\n\n<blockquote>\n  <p>my-script: A python runtime not could (sic) be located. You may need to install a framework build of Python, or edit the PyRuntimeLocations array in this applications Info.plist file. </p>\n</blockquote>\n\n<p>I understood this to mean I should add the path of Anaconda's python (which is  in my bash PATH, but is not known to the launcher). However, the app's automatically generated <code>Info.plist</code> already points to the Anaconda python binary:</p>\n\n\n\n<pre><code>&lt;key&gt;PythonInfoDict&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;PythonExecutable&lt;/key&gt;\n    &lt;string&gt;/Applications/Experimental/anaconda/bin/python&lt;/string&gt;\n    ...\n</code></pre>\n\n<p>I don't see what there is to fix here. I have read these related questions: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/26081258/699305\">How do I use py2app with a virtual environment?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10184974/py2app-is-not-copying-the-python-framework-to-the-new-app-while-using-virutalenv\">py2app is not copying the python framework to the new app while using virutalenv</a></li>\n</ul>\n\n<p>The first question involves the same error message, and is resolved by following the advice in the second question. But as I understand it, these questions describe the opposite situation: The OP was running a python distributed with the OS, and wanted to distribute their app; the solution is to use a separately installed python. I <em>am</em> using a non-system python, and I'm not yet trying to distribute anything. So what is causing the trouble here, and what is the solution?</p>\n"}, {"tags": ["python", "arrays", "numpy", "matrix"], "comments": [{"owner": {"reputation": 111, "user_id": 6806349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10a0523f45bdf573dc45839b75a60a39?s=128&d=identicon&r=PG&f=1", "display_name": "HarpMan", "link": "https://stackoverflow.com/users/6806349/harpman"}, "edited": false, "score": 0, "creation_date": 1473285244, "post_id": 39379147, "comment_id": 66087028, "body": "Thank gentlemen, all the proposed algorithms solved the problem elegantly."}], "answers": [{"tags": [], "owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "is_accepted": false, "score": 1, "last_activity_date": 1473283647, "creation_date": 1473283647, "answer_id": 39379263, "question_id": 39379147, "link": "https://stackoverflow.com/questions/39379147/fast-way-to-put-ones-beetween-ones-in-each-row-of-a-numpy-2d-array/39379263#39379263", "title": "fast way to put ones beetween ones in each row of a numpy 2d array", "body": "<p>The function below looks at a single row and fills 1s between other 1s if they exist.  It assumes that the array contains only 0s and 1s.</p>\n\n<pre><code>import numpy as np\n\ndef ones_row(row):\n    if np.sum(row) &gt;= 2:  # Otherwise, not enough 1s\n        inds = np.where(row == 1)[0]\n        row[inds[0]:inds[-1]] = 1\n    return row\n</code></pre>\n\n<p>Now you can process your entire array with </p>\n\n<pre><code>for jj in range(len(Q)):\n    Q[jj] = ones_row(Q[jj])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 2, "last_activity_date": 1473284138, "creation_date": 1473284138, "answer_id": 39379373, "question_id": 39379147, "link": "https://stackoverflow.com/questions/39379147/fast-way-to-put-ones-beetween-ones-in-each-row-of-a-numpy-2d-array/39379373#39379373", "title": "fast way to put ones beetween ones in each row of a numpy 2d array", "body": "<p>Another option with <code>np.apply_along_axis</code>:</p>\n\n<pre><code>import numpy as np\n\ndef minMax(A):\n    idx = np.where(A == 1)[0]\n    if len(idx) &gt; 1:\n        A[idx.min():idx.max()] = 1\n    return A\n\u200b\nnp.apply_along_axis(minMax, 1, mat)\n\n# array([[0, 0, 0, 1, 1, 1],\n#        [1, 0, 0, 0, 0, 0],\n#        [0, 0, 0, 0, 0, 0],\n#        [1, 1, 1, 1, 0, 0],\n#        [1, 1, 1, 1, 1, 1],\n#        [0, 1, 1, 1, 1, 1],\n#        [1, 1, 1, 1, 1, 0]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 5, "last_activity_date": 1473284722, "last_edit_date": 1473284722, "creation_date": 1473284150, "answer_id": 39379379, "question_id": 39379147, "link": "https://stackoverflow.com/questions/39379147/fast-way-to-put-ones-beetween-ones-in-each-row-of-a-numpy-2d-array/39379379#39379379", "title": "fast way to put ones beetween ones in each row of a numpy 2d array", "body": "<p>Here's a one-liner:</p>\n\n<pre><code>In [25]: Q\nOut[25]: \narray([[0, 0, 0, 1, 0, 1],\n       [1, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0],\n       [1, 1, 0, 1, 0, 0],\n       [1, 0, 0, 0, 0, 1],\n       [0, 1, 1, 0, 0, 1],\n       [1, 0, 1, 0, 1, 0]])\n\nIn [26]: np.maximum.accumulate(Q, axis=1) &amp; np.maximum.accumulate(Q[:,::-1], axis=1)[:,::-1]\nOut[26]: \narray([[0, 0, 0, 1, 1, 1],\n       [1, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0],\n       [1, 1, 1, 1, 0, 0],\n       [1, 1, 1, 1, 1, 1],\n       [0, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 0]])\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>In [36]: np.minimum(np.maximum.accumulate(Q, axis=1), np.maximum.accumulate(Q[:,::-1], axis=1)[:,::-1])\nOut[36]: \narray([[0, 0, 0, 1, 1, 1],\n       [1, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0],\n       [1, 1, 1, 1, 0, 0],\n       [1, 1, 1, 1, 1, 1],\n       [0, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 0]])\n</code></pre>\n\n<p>In either case, the two terms being combined are</p>\n\n<pre><code>In [37]: np.maximum.accumulate(Q, axis=1)\nOut[37]: \narray([[0, 0, 0, 1, 1, 1],\n       [1, 1, 1, 1, 1, 1],\n       [0, 0, 0, 0, 0, 0],\n       [1, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 1],\n       [0, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 1]])\n</code></pre>\n\n<p>and</p>\n\n<pre><code>In [38]: np.maximum.accumulate(Q[:,::-1], axis=1)[:,::-1]\nOut[38]: \narray([[1, 1, 1, 1, 1, 1],\n       [1, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0],\n       [1, 1, 1, 1, 0, 0],\n       [1, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 1],\n       [1, 1, 1, 1, 1, 0]])\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 6806349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10a0523f45bdf573dc45839b75a60a39?s=128&d=identicon&r=PG&f=1", "display_name": "HarpMan", "link": "https://stackoverflow.com/users/6806349/harpman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 39379379, "answer_count": 3, "score": 3, "last_activity_date": 1473284722, "creation_date": 1473283105, "question_id": 39379147, "link": "https://stackoverflow.com/questions/39379147/fast-way-to-put-ones-beetween-ones-in-each-row-of-a-numpy-2d-array", "title": "fast way to put ones beetween ones in each row of a numpy 2d array", "body": "<p>I have a 2d array (Q) consisting of just zeros and ones. I wish to fill with 1 each position between 1's of each line Q. Here's an example:</p>\n\n<p><strong>Original matrix:</strong></p>\n\n<pre><code>[0 0 0 1 0 1]\n[1 0 0 0 0 0]\n[0 0 0 0 0 0]\n[1 1 0 1 0 0]\n[1 0 0 0 0 1]\n[0 1 1 0 0 1]\n[1 0 1 0 1 0]\n</code></pre>\n\n<p><strong>The resulting matrix:</strong></p>\n\n<pre><code>[0 0 0 1 1 1]\n[1 0 0 0 0 0]\n[0 0 0 0 0 0]\n[1 1 1 1 0 0]\n[1 1 1 1 1 1]\n[0 1 1 1 1 1]\n[1 1 1 1 1 0]\n</code></pre>\n\n<p>I implement an algorithm, it works, but for large arrays it is not efficient.</p>\n\n<pre><code>def beetween(Q):\n    for client in range(len(Q)):\n        idStart = findIdStart(Q, client)\n        idEnd = findIdEnd(Q, client)\n        if idStart != idEnd and idStart &gt; -1 and idEnd &gt; -1:\n             for i in range(idStart, idEnd):\n                  Q[client][i] = 1\n     return Q\n\ndef findIdStart(Q, client):\n    if Q.ndim &gt; 1:\n        l, c = np.array(Q).shape\n        for product in range (0, c):\n            if Q[client][product] == 1:\n                return product\n    else:\n        idProduct = 1\n        Qtemp = Q[client]\n        if Qtemp[idProduct] == 1:\n            return idProduct\n    return -1\n\ndef findIdEnd(Q, client):\n    if Q.ndim &gt; 1:\n        l, c = np.array(Q).shape\n        Qtemp = Q[client]\n        for product in range(0,c):\n            idProduct = (c-1)-product\n            if Qtemp[idProduct]==1:\n                return idProduct\n    else:\n        idProduct = 1\n        Qtemp = Q[client]\n        if Qtemp[idProduct] == 1:\n            return idProduct\n    return -1\n</code></pre>\n\n<p>I'm trying to build a more optimized version, but I'm not having success:</p>\n\n<pre><code>def beetween(Q):\n    l, c = np.shape(Q)\n    minIndex = Q.argmax(axis=1)\n    maxIndex = c-(np.fliplr(Q).argmax(axis=1))\n    Q = np.zeros(shape=(l,c)).astype(np.int)\n    for i in range(l):\n        Q[i, minIndex[i]:maxIndex[i]] = 1\n    return Q\n</code></pre>\n\n<p><strong>Original matrix:</strong></p>\n\n<pre><code>[0 0 0 1 0 1]\n[1 0 0 0 0 0]\n[0 0 0 0 0 0]\n[1 1 0 1 0 0]\n[1 0 0 0 0 1]\n[0 1 1 0 0 1]\n[1 0 1 0 1 0]\n</code></pre>\n\n<p><strong>Wrong Result</strong></p>\n\n<pre><code>[0 0 0 1 1 1] # OK\n[1 0 0 0 0 0] # OK\n[1 1 1 1 1 1] # wrong\n[1 1 1 1 0 0] # OK\n[1 1 1 1 1 1] # OK\n[0 1 1 1 1 1] # OK\n[1 1 1 1 1 0] # OK\n</code></pre>\n\n<p>Can anybody suggest another simple solution to this problem?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1473283111, "post_id": 39379140, "comment_id": 66086245, "body": "Do you mean <code>except</code>?"}, {"owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1473283180, "post_id": 39379140, "comment_id": 66086282, "body": "I tried <code>except</code> but it does work either."}, {"owner": {"reputation": 1010, "user_id": 3520543, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2hiGO.jpg?s=128&g=1", "display_name": "A Magoon", "link": "https://stackoverflow.com/users/3520543/a-magoon"}, "edited": false, "score": 0, "creation_date": 1473283491, "post_id": 39379140, "comment_id": 66086398, "body": "What is the logic causing the <code>AttributeError</code>? Have you considered using the built in function <code>hasattr()</code>?"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473284312, "post_id": 39379140, "comment_id": 66086688, "body": "<a href=\"http://stackoverflow.com/questions/1276764/stripping-everything-but-alphanumeric-chars-from-a-string-in-python\">Just strip you string</a> before using <code>lower()</code>."}, {"owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473285927, "post_id": 39379140, "comment_id": 66087277, "body": "I tried stripping, seems like the column dtype=object instead of string, Can you suggest how do I work it out? and example of a tweet is <b>\ud83c\udfb5\ud83d\udd25CANCION! You &amp;amp</b>"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "edited": false, "score": 0, "creation_date": 1473286157, "post_id": 39379140, "comment_id": 66087349, "body": "Take a look at the answer I posted. It works with the tweet you gave."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473286771, "post_id": 39379551, "comment_id": 66087554, "body": "for me it says:- <b>text = &quot;\ud83c\udfb5\ud83d\udd25CANCION! You &amp;amp&quot; &lt;class &#39;xml.parsers.expat.ExpatError&#39;&gt;:reference to invalid character number: line 1, column 113</b>"}, {"owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473288725, "post_id": 39379551, "comment_id": 66088137, "body": "I tried but it still gives the same error. I am using Eclipse for python, do you think that can be the issue?"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "reply_to_user": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473288876, "post_id": 39379551, "comment_id": 66088173, "body": "Unlikely. Can you edit you question and add a full log of the error?"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "reply_to_user": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473307074, "post_id": 39379551, "comment_id": 66092114, "body": "You&#39;ve got a <code>TypeError</code> (last line in log). Make sure <code>text</code> and <code>word</code> is of type <code>string</code>. You can Try <code>print type(text)</code> and <code>print type(text)</code> before the <code>search()</code> line."}, {"owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473350352, "post_id": 39379551, "comment_id": 66117074, "body": "Thanks for your help. It shows the type as Unicode. I have added the <b>from <i>_future_</i> import unicode_literals</b>. As a way around I tried to strip the text of Unicode characters but it gives the following error <b>UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode characters in position 16-19: ordinal not in range(128)</b>.  Do you have any suggestions? I have all the tweets in a data frame using pandas"}, {"owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "reply_to_user": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "edited": false, "score": 0, "creation_date": 1473351326, "post_id": 39379551, "comment_id": 66117622, "body": "Not particularly, but I believe your answer is right <a href=\"http://stackoverflow.com/questions/9942594/unicodeencodeerror-ascii-codec-cant-encode-character-u-xa0-in-position-20\">here</a> or <a href=\"http://stackoverflow.com/questions/31137552/unicodeencodeerror-ascii-codec-cant-encode-character-at-special-name\">here</a>."}], "tags": [], "owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "is_accepted": false, "score": 0, "last_activity_date": 1473287444, "last_edit_date": 1495542767, "creation_date": 1473285065, "answer_id": 39379551, "question_id": 39379140, "link": "https://stackoverflow.com/questions/39379140/adding-exception-to-attributeerror-python/39379551#39379551", "title": "Adding exception to &quot;AttributeError&quot; python", "body": "<p>You can use <code>re.IGNORECASE</code> flag when you <code>search()</code>.<br>\nThat way you don't need to deal with <code>lower()</code> or exceptions.</p>\n\n<pre><code>def word_in_text(word, text):\n    print text\n    if re.search(word, text, re.IGNORECASE):\n        return True\n    else:\n        return False\n</code></pre>\n\n<hr>\n\n<p>As an example, if I run:</p>\n\n<pre><code>from __future__ import unicode_literals # see edit notes\nimport re\n\ntext = \"\ud83c\udfb5\ud83d\udd25CANCION! You &amp;amp\"\nword = \"you\"\n\ndef word_in_text(word, text):\n    print(text)\n    if re.search(word, text, re.IGNORECASE):\n        return True\n    else:\n        return False\n\nprint(word_in_text(word, text))\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>\ud83c\udfb5\ud83d\udd25CANCION! You &amp;amp\nTrue\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>For Python 2, you should add <code>from __future__ import unicode_literals</code> at the top of your script to make sure you encode everything to UTF-8.<br>\nYou can read more about it <a href=\"https://stackoverflow.com/questions/23370025/what-is-unicode-literals-used-for\">here</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 6784063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153307055639892/picture?type=large", "display_name": "Gagan Oberoi", "link": "https://stackoverflow.com/users/6784063/gagan-oberoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473291997, "creation_date": 1473283079, "last_edit_date": 1473291997, "question_id": 39379140, "link": "https://stackoverflow.com/questions/39379140/adding-exception-to-attributeerror-python", "title": "Adding exception to &quot;AttributeError&quot; python", "body": "<p>So, I have some tweets with some special characters and shapes. I am trying to find a word in those tweets by converting them to lower case. The function throws an \"AttributeError\" when it encounters those special characters and hence, I want to change my function in a way that it skips those records and processes others.</p>\n\n<p>Can I add exception to \"AttributeError\" in python. I want it to act more like an \"iferror resume next\"/Error handling statement.</p>\n\n<p>I am currently using:-</p>\n\n<pre><code>def word_in_text(word, text):\ntry:\n    print text\n    word = word.lower()\n    text = text.lower()\n    match = re.search(word, text)\n    if match:\n        return True\n    else:\n        return False\nexcept(AttributeError, Exception) as e:\n    continue\n</code></pre>\n\n<p>error post using @galah92 recommendations :-</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;input&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\core\\series.py\", line 2220, in apply\n    mapped = lib.map_infer(values, f, convert=convert_dtype)\n  File \"pandas\\src\\inference.pyx\", line 1088, in pandas.lib.map_infer (pandas\\lib.c:63043)\n  File \"&lt;input&gt;\", line 1, in &lt;lambda&gt;\n  File \"&lt;input&gt;\", line 3, in word_in_text\n  File \"C:\\Python27\\lib\\re.py\", line 146, in search\n    return _compile(pattern, flags).search(string)\nTypeError: expected string or buffer\n</code></pre>\n\n<p>I am new to Python and self learning it. Any help will be really appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1473315425, "post_id": 39379069, "comment_id": 66094621, "body": "What have you tried? Have you at least googled for e.g. <code>python http request token authentication</code>? A lot of results, many of them here on SO."}, {"owner": {"reputation": 797, "user_id": 5452513, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-vTNZAnHvlT4/AAAAAAAAAAI/AAAAAAAAUsI/_UZfVPwZQzk/photo.jpg?sz=128", "display_name": "Cumhur Ata", "link": "https://stackoverflow.com/users/5452513/cumhur-ata"}, "reply_to_user": {"reputation": 2788, "user_id": 3511123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b226e10967db044eb9bc3e7811c5fb9?s=128&d=identicon&r=PG", "display_name": "Jozef Chocholacek", "link": "https://stackoverflow.com/users/3511123/jozef-chocholacek"}, "edited": false, "score": 0, "creation_date": 1474225490, "post_id": 39379069, "comment_id": 66433686, "body": "The page is like that. I couldn&#39;t create a request even an error :(  it should be a http(s) request, souldn&#39;t it? I tried to what i have tried <a href=\"https://subdomain.domain.com.tr/folder/main.jsp?page=ID\" rel=\"nofollow noreferrer\">subdomain.domain.com.tr/folder/main.jsp?page=ID</a>   FIELDS:  Requested Cmdd TOKEN LANG"}], "owner": {"reputation": 797, "user_id": 5452513, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh5.googleusercontent.com/-vTNZAnHvlT4/AAAAAAAAAAI/AAAAAAAAUsI/_UZfVPwZQzk/photo.jpg?sz=128", "display_name": "Cumhur Ata", "link": "https://stackoverflow.com/users/5452513/cumhur-ata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1474226416, "creation_date": 1473282702, "last_edit_date": 1474226416, "question_id": 39379069, "link": "https://stackoverflow.com/questions/39379069/how-to-use-python-to-reach-an-external-web-page", "title": "How to use Python to reach an external web page", "body": "<p>I have external web page like www.3thpart.com/folder/test.jsp?page=IND</p>\n\n<p>This page uses \"TOKEN\" to authenticate there is no login(authentication) but for each different request web site creates a token. \nI use this page in my company by some users lots of time. To get easier and save time What I need to do is to collect result in backand then display the result in a HTML page in from of the users. \nI tried python with Visual studio. I am comfused. is it possible to give me advise that the way i have to follow. I mean I am trying to understand the logic of this situation.</p>\n\n<p>Thanks in advance\nC.A.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>import requests\n\nurl = 'https://subdomain.domain.com.tr/folder/main.jsp?page=ID'\npayload = {\n    'Requested': 'fieldValue',\n    'Cmdd ': 'fieldValue',\n    'TOKEN': '',\n    'LANG': 'tr',\n}\n\ns = requests.Session()\nresponse = s.post(url, data=payload)\noutfile =open( \"/Projects/Gib/test.txt\",\"w\")\nresponse.encoding = 'UTF-8'\noutfile.write(response.text)\n</code></pre>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1473282982, "post_id": 39379045, "comment_id": 66086197, "body": "You could try <a href=\"https://www.spdrs.com/contact/index.seam\" rel=\"nofollow noreferrer\">contacting the website owner</a> and asking them."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1473293511, "post_id": 39379045, "comment_id": 66089273, "body": "Have you tried removing each header, one at a time, to see which one might be causing the problem?"}, {"owner": {"reputation": 503, "user_id": 2852816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d96e2b7605cc948635f6abdb4a790a?s=128&d=identicon&r=PG", "display_name": "laviex", "link": "https://stackoverflow.com/users/2852816/laviex"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1473296573, "post_id": 39379045, "comment_id": 66089861, "body": "I found my mistake, see update. @Rob\u1d69, I emailed them. Now not necessary. Bryan, thanks for teaching me how to troubleshoot. Appreciate it!"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1473304439, "post_id": 39379045, "comment_id": 66091575, "body": "This underscores the importance of pasting an actual program that you&#39;ve actually run. Not sort-of like the one you ran, but precisely the one you ran. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information."}, {"owner": {"reputation": 503, "user_id": 2852816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d96e2b7605cc948635f6abdb4a790a?s=128&d=identicon&r=PG", "display_name": "laviex", "link": "https://stackoverflow.com/users/2852816/laviex"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1473355641, "post_id": 39379045, "comment_id": 66119777, "body": "@Rob\u1d69, thanks for the pointer. That is really a good guideline! Not only on how to ask question, but also could have systemically prevented/solved my mistake in the process."}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 2852816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d96e2b7605cc948635f6abdb4a790a?s=128&d=identicon&r=PG", "display_name": "laviex", "link": "https://stackoverflow.com/users/2852816/laviex"}, "edited": false, "score": 1, "creation_date": 1473296197, "post_id": 39380709, "comment_id": 66089786, "body": "I found my mistake. See my update. Not <code>hdr</code> problem. But thank you all very much for taking your time to answer my question. I really appreciate it."}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1473293248, "creation_date": 1473293248, "answer_id": 39380709, "question_id": 39379045, "link": "https://stackoverflow.com/questions/39379045/python-requests-declined-due-to-the-presence-of-characters-known-to-be-used-in/39380709#39380709", "title": "Python Requests declined: &quot;Due to the presence of characters known to be used in Cross Site Scripting attacks, access is forbidden.&quot;", "body": "<p>Drop the following key/value from your header:</p>\n\n<pre><code>'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',\n</code></pre>\n\n<p>It works for me after I did that.</p>\n"}], "owner": {"reputation": 503, "user_id": 2852816, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3d96e2b7605cc948635f6abdb4a790a?s=128&d=identicon&r=PG", "display_name": "laviex", "link": "https://stackoverflow.com/users/2852816/laviex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473296057, "creation_date": 1473282562, "last_edit_date": 1495541702, "question_id": 39379045, "link": "https://stackoverflow.com/questions/39379045/python-requests-declined-due-to-the-presence-of-characters-known-to-be-used-in", "title": "Python Requests declined: &quot;Due to the presence of characters known to be used in Cross Site Scripting attacks, access is forbidden.&quot;", "body": "<p>Dear fellow <code>requests</code> users,</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Sorry, guys. My error came from a mistake:</p>\n\n<p>My goal was to do this:</p>\n\n<pre><code>r = requests.get('http://www.spdrs.com/product/fund.seam?ticker=SPY', stream=True, headers=hdr)\n</code></pre>\n\n<p>I did this: </p>\n\n<pre><code>r = requests.get('http://www.spdrs.com/product/fund.seam?ticker={}'.format(['SPY']), stream=True, headers=hdr)\n</code></pre>\n\n<p>Which should be:</p>\n\n<pre><code>r = requests.get('http://www.spdrs.com/product/fund.seam?ticker={}'.format('SPY'), stream=True, headers=hdr)\n</code></pre>\n\n<p>The extra brackets <strong><code>[]</code></strong> were causing the error, apparently. Dumb mistake. Feel free to vote me down, if you wish.</p>\n\n<p><strong>Original question:</strong></p>\n\n<p>I am trying to scrape <code>spdrs.com</code> webpage using:</p>\n\n<pre><code>hdr = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11',\n   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n   'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',\n   'Accept-Encoding': 'none',\n   'Accept-Language': 'en-US,en;q=0.8',\n   'Connection': 'keep-alive'}    \nr = requests.get('http://www.spdrs.com/product/fund.seam?ticker=SPY', stream=True, headers=hdr)\n</code></pre>\n\n<p>But all I get is this:</p>\n\n<pre><code>Due to the presence of characters known to be used in Cross Site Scripting attacks, access is forbidden.\n</code></pre>\n\n<p>It's the same with <code>http</code> or <code>https</code>.</p>\n\n<p>If I remove <code>hdr</code>, I get a straight 403 decline.</p>\n\n<p>Is there any modification I can do to the <code>hdr</code> to show the website that I am a well-behaving script? I know, servers don't like scrapers.</p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/5249130/due-to-the-presence-of-characters-known-to-be-used-in-cross-site-scripting-attac\">thread on SO</a> shows a similar problem from webmaster's perspective.</p>\n\n<p>Thanks a lot!</p>\n\n<p>Yi</p>\n"}, {"tags": ["python", "neo4j"], "answers": [{"tags": [], "owner": {"reputation": 4250, "user_id": 823822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc3df1c732144084a706d768564bd4?s=128&d=identicon&r=PG", "display_name": "Nigel Small", "link": "https://stackoverflow.com/users/823822/nigel-small"}, "is_accepted": true, "score": 1, "last_activity_date": 1473285708, "creation_date": 1473285708, "answer_id": 39379675, "question_id": 39378987, "link": "https://stackoverflow.com/questions/39378987/when-running-neo4j-python-bolt-driver-example-errorimporterror-no-module-nam/39379675#39379675", "title": "When running Neo4j Python Bolt Driver Example, error:&quot;ImportError: No module named &#39;_backend&#39;&quot;", "body": "<p>There is no module called <code>neo4j.core</code> in the official driver. From where did you install this library?</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 3372041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2025befaa039e0a5c6de96e89471e7?s=128&d=identicon&r=PG", "display_name": "Reed Jessen", "link": "https://stackoverflow.com/users/3372041/reed-jessen"}, "is_accepted": false, "score": 0, "last_activity_date": 1473446591, "creation_date": 1473446591, "answer_id": 39417917, "question_id": 39378987, "link": "https://stackoverflow.com/questions/39378987/when-running-neo4j-python-bolt-driver-example-errorimporterror-no-module-nam/39417917#39417917", "title": "When running Neo4j Python Bolt Driver Example, error:&quot;ImportError: No module named &#39;_backend&#39;&quot;", "body": "<p>Just wanted to follow up with the answer so that it might benefit others coming across this in the future.</p>\n\n<p>With Nigel Small's help, I realized that I was not calling the correct package.  I believe this is another python package on my system from previous work named neo4j which my PyCharm IDE was calling to rather than neo4j-driver. </p>\n\n<p>Bottom line, this problem was my fault due to poor package management.  Nothing wrong with the library's source. Moral of the story is that VirtualEnv is your friend and you should use it for every new project. </p>\n"}], "owner": {"reputation": 135, "user_id": 3372041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2025befaa039e0a5c6de96e89471e7?s=128&d=identicon&r=PG", "display_name": "Reed Jessen", "link": "https://stackoverflow.com/users/3372041/reed-jessen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1729, "favorite_count": 1, "accepted_answer_id": 39379675, "answer_count": 2, "score": 2, "last_activity_date": 1473446591, "creation_date": 1473282296, "question_id": 39378987, "link": "https://stackoverflow.com/questions/39378987/when-running-neo4j-python-bolt-driver-example-errorimporterror-no-module-nam", "title": "When running Neo4j Python Bolt Driver Example, error:&quot;ImportError: No module named &#39;_backend&#39;&quot;", "body": "<p>I am trying to switch over from Py2Neo to the new Neo4j <a href=\"https://neo4j.com/docs/developer-manual/current/drivers/\" rel=\"nofollow\">Bolt Driver</a>. After installing neo4j-driver v1.0.2 and I run the example code found on their <a href=\"https://github.com/neo4j/neo4j-python-driver\" rel=\"nofollow\">Github ReadMe page</a>:</p>\n\n<pre><code>from neo4j.v1 import GraphDatabase, basic_auth\ndriver = GraphDatabase.driver(\"bolt://localhost\", auth=basic_auth(\"neo4j\", \"neo4j\"))\nsession = driver.session()\nsession.run(\"CREATE (a:Person {name:'Bob'})\")\nresult = session.run(\"MATCH (a:Person) RETURN a.name AS name\")\nfor record in result:\n    print(record[\"name\"])\nsession.close()\n</code></pre>\n\n<p>In response, I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/PythonApps/Neo4jBoltDriverTest/run.py\", line 1, in &lt;module&gt;\n    from neo4j.v1 import GraphDatabase, basic_auth\n  File \"C:\\Users\\username\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\neo4j\\__init__.py\", line 29, in &lt;module&gt;\n    from neo4j.core import GraphDatabase, Direction, NotFoundException, BOTH, ANY, INCOMING, OUTGOING\n  File \"C:\\Users\\username\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\neo4j\\core.py\", line 19, in &lt;module&gt;\n    from _backend import *\nImportError: No module named '_backend'\n</code></pre>\n\n<p>I have never seen an error with '_backend' before and it doesn't seem to be a library I can install. Any ideas what is causing this error?</p>\n\n<p>For more context, I am using Python 3.5 and have installed neo4j-driver v1.0.2. Looks like neo4j-driver only works up to Python 3.4, is that correct?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1473282954, "post_id": 39378971, "comment_id": 66086180, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2612548/extracting-an-attribute-value-with-beautifulsoup\">Extracting an attribute value with beautifulsoup</a>"}, {"owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "reply_to_user": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1473283330, "post_id": 39378971, "comment_id": 66086337, "body": "@DanielG I looked at the linked post and would not have been able to resolve this scenario using the information it contains.  The answer below from ewcz is very useful."}, {"owner": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1473283910, "post_id": 39378971, "comment_id": 66086537, "body": "<code>output = inputTag[value]</code> (where <code>inputTag=item_name.a</code>; and <code>value=&#39;href&#39;</code> in your case)  is very similar to what you were looking for, as described in the first answer of said post. But I&#39;m glad you found an answer and your problem is solved now."}, {"owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "reply_to_user": {"reputation": 8257, "user_id": 3568092, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/mlJHI.png?s=128&g=1", "display_name": "dangom", "link": "https://stackoverflow.com/users/3568092/dangom"}, "edited": false, "score": 0, "creation_date": 1473284066, "post_id": 39378971, "comment_id": 66086592, "body": "Thanks for explaining DanielG."}], "answers": [{"comments": [{"owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "edited": false, "score": 0, "creation_date": 1473282582, "post_id": 39379018, "comment_id": 66086023, "body": "Perfect, I will accept the answer when the system allows. thanks"}], "tags": [], "owner": {"reputation": 11364, "user_id": 5351549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5c11fbd301040b24865853a1d73c914?s=128&d=identicon&r=PG&f=1", "display_name": "ewcz", "link": "https://stackoverflow.com/users/5351549/ewcz"}, "is_accepted": true, "score": 3, "last_activity_date": 1473282604, "last_edit_date": 1473282604, "creation_date": 1473282426, "answer_id": 39379018, "question_id": 39378971, "link": "https://stackoverflow.com/questions/39378971/regex-required-or-can-beautifulsoup-refine-output/39379018#39379018", "title": "Regex required or can BeautifulSoup refine output", "body": "<p>you can use <code>print(item_name.a['href'])</code> and (if needed) prepend the prefix <code>https://www.residentadvisor.net</code> (since the links in the webpage are used in a form without explicit scheme and netloc part - for example, <code>/podcast-episode.aspx?id=528</code>)</p>\n"}], "owner": {"reputation": 3890, "user_id": 4981251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9ab8174b71c5ee8db4fb07adc43e512b?s=128&d=identicon&r=PG&f=1", "display_name": "nipy", "link": "https://stackoverflow.com/users/4981251/nipy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 39379018, "answer_count": 1, "score": 3, "last_activity_date": 1473282604, "creation_date": 1473282218, "question_id": 39378971, "link": "https://stackoverflow.com/questions/39378971/regex-required-or-can-beautifulsoup-refine-output", "title": "Regex required or can BeautifulSoup refine output", "body": "<p>If I use the following function I can grab the text and link I need from a website:</p>\n\n<pre><code>def get_url_text(url):\n    source = requests.get(url)\n    plain_text = source.text\n    soup = BeautifulSoup(plain_text)\n    for item_name in soup.findAll('li', {'class': 'ptb2'}):\n        print(item_name.string)\n        print (item_name.a)\n\nget_url_text('https://www.residentadvisor.net/podcast.aspx')\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>RA.532 Marquis Hawkes\n&lt;a href=\"/podcast-episode.aspx?id=532\"&gt;&lt;h1&gt;RA.532 Marquis Hawkes&lt;/h1&gt;&lt;/a&gt;\nRA.531 Evan Baggs\n&lt;a href=\"/podcast-episode.aspx?id=531\"&gt;&lt;h1&gt;RA.531 Evan Baggs&lt;/h1&gt;&lt;/a&gt;\nRA.530 MCDE vs Jeremy Underground\n</code></pre>\n\n<p>If I only want the href link instead of the tags etc surrounding it do I need to use a regex or is there another method within BeautifulSoup?</p>\n\n<p>Desired output is:</p>\n\n<pre><code>RA.532 Marquis Hawkes\nhttps://www.residentadvisor.net/podcast-episode.aspx?id=532\n</code></pre>\n\n<p>for each similar element.</p>\n"}, {"tags": ["python", "python-2.7", "loops", "import"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473282303, "post_id": 39378958, "comment_id": 66085877, "body": "What were you expecting <code>if pack not in name</code> to do? What did you think it would mean for <code>pack</code> to be <code>in name</code>?"}, {"owner": {"reputation": 275, "user_id": 6596100, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ca8b3362fc24a7c688c80a162ce8300e?s=128&d=identicon&r=PG&f=1", "display_name": "YoYoYo I&#39;m Awesome", "link": "https://stackoverflow.com/users/6596100/yoyoyo-im-awesome"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473282379, "post_id": 39378958, "comment_id": 66085917, "body": "@user2357112 Well the installed variable throws a string of installed packages, so I&#39;d expect it to see if the pack in the list is inside of that  string that&#39;s output"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1473282548, "post_id": 39378958, "comment_id": 66086007, "body": "You have misunderstood what&#39;s going on and how Python works in a lot of weird ways."}, {"owner": {"reputation": 275, "user_id": 6596100, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ca8b3362fc24a7c688c80a162ce8300e?s=128&d=identicon&r=PG&f=1", "display_name": "YoYoYo I&#39;m Awesome", "link": "https://stackoverflow.com/users/6596100/yoyoyo-im-awesome"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473282757, "post_id": 39378958, "comment_id": 66086101, "body": "@user2357112 I kinda figured I did, is there anyway to fix it?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473283640, "post_id": 39378958, "comment_id": 66086448, "body": "I&#39;m not sufficiently familiar with pip to say what the right way would be, but I can explain some of what&#39;s going wrong here. The <code>installed</code> variable doesn&#39;t throw anything - the word &quot;throw&quot; doesn&#39;t even make sense there - and it&#39;s not a string of installed packages. The word &quot;string&quot; doesn&#39;t make much sense there either. The <code>installed</code> variable holds a list of Distribution objects representing installed distributions. Calling <code>list</code> on this list is redundant, and trying to test whether something is <code>in</code> one of the contained <code>Distribution</code> objects doesn&#39;t make sense."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 6596100, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ca8b3362fc24a7c688c80a162ce8300e?s=128&d=identicon&r=PG&f=1", "display_name": "YoYoYo I&#39;m Awesome", "link": "https://stackoverflow.com/users/6596100/yoyoyo-im-awesome"}, "edited": false, "score": 0, "creation_date": 1473282421, "post_id": 39379001, "comment_id": 66085938, "body": "How would that help me with a list of packages?"}], "tags": [], "owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "is_accepted": false, "score": 0, "last_activity_date": 1473282854, "last_edit_date": 1495541778, "creation_date": 1473282356, "answer_id": 39379001, "question_id": 39378958, "link": "https://stackoverflow.com/questions/39378958/how-to-verify-that-a-package-installed-from-a-list-of-package-names/39379001#39379001", "title": "How to verify that a package installed from a list of package names", "body": "<p>Say <code>pack_list</code> is a list of string names of modules:</p>\n\n<pre><code>import importlib\n\ndef verify_packs(pack_list):\n    for pack in pack_list:\n        try:\n            importlib.import_module(pack)\n        except ImportError:\n            print(\"{} failed to install\".format(pack))\n</code></pre>\n\n<p>Note that this is not the preferable way to check if a module was installed and available.<br>\nTake a look <a href=\"https://stackoverflow.com/questions/14050281/how-to-check-if-a-python-module-exists-without-importing-it\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 6596100, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ca8b3362fc24a7c688c80a162ce8300e?s=128&d=identicon&r=PG&f=1", "display_name": "YoYoYo I&#39;m Awesome", "link": "https://stackoverflow.com/users/6596100/yoyoyo-im-awesome"}, "is_accepted": false, "score": 0, "last_activity_date": 1473283498, "creation_date": 1473283498, "answer_id": 39379233, "question_id": 39378958, "link": "https://stackoverflow.com/questions/39378958/how-to-verify-that-a-package-installed-from-a-list-of-package-names/39379233#39379233", "title": "How to verify that a package installed from a list of package names", "body": "<p>I figured out a way to check the installed packages:</p>\n\n<pre><code>def verify_installs(self):\n    for pack in self.packages:\n        import pip\n        items = pip.get_installed_distributions()\n        installed_packs = sorted([\"{}\".format(i.key) for i in items])\n        if pack not in installed_packs:\n            print \"Package {} was not installed\".format(pack)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>test = SetUpProgram([\"lxml\", \"test\", \"testing\"], None, None)\ntest.verify_installs()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Package test was not installed\nPackage testing was not installed\n</code></pre>\n\n<p>Now to explain it, this part <code>installed_packs = sorted([\"{}\".format(i.key) for i in items])</code> will create this:</p>\n\n<pre><code>['babelfish', 'backports.shutil-get-terminal-size', 'beautifulsoup', 'chardet',\n'cmd2', 'colorama', 'cycler', 'decorator', 'django', 'easyprocess', 'gooey', 'gu\nessit', 'hachoir-core', 'hachoir-metadata', 'hachoir-parser', 'ipython', 'ipytho\nn-genutils', 'lxml', 'matplotlib', 'mechanize', 'mypackage', 'nose', 'numpy', 'p\nathlib2', 'pickleshare', 'pillow', 'pip', 'prettytable', 'progressbar', 'prompt-\ntoolkit', 'pygments', 'pyinstaller', 'pyparsing', 'python-dateutil', 'python-geo\nip', 'python-geoip-geolite2', 'pytz', 'pyvirtualdisplay', 'rebulk', 'requests',\n'scapy', 'scrappy', 'selenium', 'setuptools', 'simplegeneric', 'six', 'tinydb',\n'traitlets', 'tvdb-api', 'twisted', 'wcwidth', 'win-unicode-console', 'zope.inte\nrface']\n</code></pre>\n\n<p>A list of all locally installed packages on the computer, from there:</p>\n\n<pre><code>if pack not in installed_packs:\n    print \"Package {} was not installed\".format(pack)\n</code></pre>\n\n<p>Will run through the packages and check if any of the packages in a given list correspond to any of the actual install packages.</p>\n"}], "owner": {"reputation": 275, "user_id": 6596100, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ca8b3362fc24a7c688c80a162ce8300e?s=128&d=identicon&r=PG&f=1", "display_name": "YoYoYo I&#39;m Awesome", "link": "https://stackoverflow.com/users/6596100/yoyoyo-im-awesome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1473283498, "creation_date": 1473282174, "last_edit_date": 1473282312, "question_id": 39378958, "link": "https://stackoverflow.com/questions/39378958/how-to-verify-that-a-package-installed-from-a-list-of-package-names", "title": "How to verify that a package installed from a list of package names", "body": "<p>I'm writing a program that will install certain packages from a <code>whl</code> file, however I need a way to verify that the packages where installed:</p>\n\n<pre><code>def verify_installs(self):\n    for pack in self.packages:\n        import pip\n\n        installed = pip.get_installed_distributions()\n\n        for name in list(installed):\n            if pack not in name:\n                print \"{} failed to install.\".format(pack)\n</code></pre>\n\n<p>This will throw the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"run_setup.py\", line 34, in &lt;module&gt;\n    test.verify_installs()\n  File \"run_setup.py\", line 29, in verify_installs\n    if pack not in name:\nTypeError: argument of type 'Distribution' is not iterable\n</code></pre>\n\n<p>If I attempt to to run a loop of the packages and use <code>import</code> like so:</p>\n\n<pre><code>def verify_installs(self):\n    for pack in self.packages:\n        import pack \n</code></pre>\n\n<p>I'll get the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"run_setup.py\", line 29, in &lt;module&gt;\n    test.verify_installs()\n  File \"run_setup.py\", line 24, in verify_installs\n    import pack\nImportError: No module named pack\n</code></pre>\n\n<p>Is there a way I can loop through a list of packages and then try to import them and catch the import exception? Something like:</p>\n\n<pre><code>def verify_packs(pack_list):\n    for pack in pack_list:\n        try:\n            import pack\n        except ImportError:\n            print \"{} failed to install\".format(pack)\n</code></pre>\n"}, {"tags": ["python", "unicode"], "comments": [{"owner": {"reputation": 3410, "user_id": 1740808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b21ae98241fa13af9c1dd108ebc9ac5?s=128&d=identicon&r=PG", "display_name": "SergeyS", "link": "https://stackoverflow.com/users/1740808/sergeys"}, "edited": false, "score": 0, "creation_date": 1473282202, "post_id": 39378933, "comment_id": 66085837, "body": "show your code please"}, {"owner": {"reputation": 53, "user_id": 6802662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ba6e0555581be968784a52376007bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Hua Wu", "link": "https://stackoverflow.com/users/6802662/ray-hua-wu"}, "reply_to_user": {"reputation": 3410, "user_id": 1740808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b21ae98241fa13af9c1dd108ebc9ac5?s=128&d=identicon&r=PG", "display_name": "SergeyS", "link": "https://stackoverflow.com/users/1740808/sergeys"}, "edited": false, "score": 0, "creation_date": 1473282442, "post_id": 39378933, "comment_id": 66085950, "body": "I mean that, for instance, if I try to write a list comprehension <code>[&#39;\\x&#39;+n for n in [hex(m)[2:] for m in range(201,230)]]</code>, there will be a syntax error for trying to parse <code>\\x</code> before the parts are combined."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1473283009, "post_id": 39379084, "comment_id": 66086204, "body": "or in Python 3, just <code>chr</code>"}], "tags": [], "owner": {"reputation": 3625, "user_id": 249552, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/kQlfx.png?s=128&g=1", "display_name": "jacob", "link": "https://stackoverflow.com/users/249552/jacob"}, "is_accepted": true, "score": 2, "last_activity_date": 1473282793, "creation_date": 1473282793, "answer_id": 39379084, "question_id": 39378933, "link": "https://stackoverflow.com/questions/39378933/print-a-run-of-unicode-characters-in-order/39379084#39379084", "title": "Print a run of unicode characters in order", "body": "<p>You can use <code>unichr</code> given an integer; and use it like so:</p>\n\n<pre><code>print(''.join([unichr(x) for x in range(201,230)]))\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6802662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ba6e0555581be968784a52376007bd9?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Hua Wu", "link": "https://stackoverflow.com/users/6802662/ray-hua-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1473311565, "accepted_answer_id": 39379084, "answer_count": 1, "score": 0, "last_activity_date": 1473283250, "creation_date": 1473282086, "question_id": 39378933, "link": "https://stackoverflow.com/questions/39378933/print-a-run-of-unicode-characters-in-order", "closed_reason": "Needs details or clarity", "title": "Print a run of unicode characters in order", "body": "<p>I'm trying to print a run of unicode characters in order, for instance, unicode 0xc9 to 0xe5. The problem is that I can't just iterate through hexadecimal representations of numbers because if I try to write <code>\\xe8</code> as <code>'\\x'+'e8'</code>, SyntaxError will be thrown before the recognition of the parts are combined, so I can't write, and thus I can't represent the second part of that expression using an iterating variable. What's a good way to get around this? </p>\n"}, {"tags": ["python", "pandas", "numpy", "multidimensional-array", "matplotlib"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3261338"}, "edited": false, "score": 0, "creation_date": 1473705682, "post_id": 39381333, "comment_id": 66234539, "body": "Hi James,  Thanks for your reply. I noticed <code>r</code> gets <code>results</code> and index by <code>Prob</code>. Good.  One question remains though, since my data set has more columns, how do I slice <code>r</code>?  I will update the question based on your code.  Thanks"}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": true, "score": 0, "last_activity_date": 1473298628, "creation_date": 1473298628, "answer_id": 39381333, "question_id": 39378902, "link": "https://stackoverflow.com/questions/39378902/plot-2d-array-with-pandas-matplotlib-and-numpy/39381333#39381333", "title": "Plot 2D array with Pandas, Matplotlib, and Numpy", "body": "<p>Ok, there is a lot going on here.  First, it is plotting 6 lines.  When your code calls</p>\n\n<pre><code>plt.plot(np.transpose(np.array(result)[0:3, 0:3]), label = 'p=0.3')\nplt.plot(np.transpose(np.array(result)[3:6, 0:3]), label = 'p=0.5')\n</code></pre>\n\n<p>it is calling <code>plt.plot</code> on a 3x3 array of data.  <code>plt.plot</code> interprets this input not as an x and y, but rather as 3 separate series of y-values (with 3 points each).  For the x values, it is imputing the values 0,1,2.  In other words it for the first <code>plot</code> call it is plotting the data:</p>\n\n<pre><code>x = [1,2,3]; y = [8.060291, 8.330889, 1.012147]\nx = [1,2,3]; y = [0.587227, 0.371387, 0.161975]\nx = [1,2,3]; y = [26.709371, 54.468836, 4.320447]\n</code></pre>\n\n<p>Based on your x-label, I think you want the values to be <code>x = [1,5,10]</code>.  Try this to see if it gets the plot you want.</p>\n\n<pre><code># iterate over the first dataframe index\nfor prob_index in result.index.levels[0]:\n    r = result.loc[prob_index]\n    labels = [col for col in r]\n    lines = plt.plot(r)\n    [line.set_label(str(prob_index)+\" \"+col) for col, line in zip(labels, lines)]\n    ax = plt.gca()\n    ax.legend()\n    ax.set_xticks(r.index)\n    ax.set_ylabel('Latency (s)')\n    ax.set_xlabel('Number of producer nodes')  \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3261338"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "accepted_answer_id": 39381333, "answer_count": 1, "score": 0, "last_activity_date": 1473711847, "creation_date": 1473281943, "last_edit_date": 1473711847, "question_id": 39378902, "link": "https://stackoverflow.com/questions/39378902/plot-2d-array-with-pandas-matplotlib-and-numpy", "title": "Plot 2D array with Pandas, Matplotlib, and Numpy", "body": "<p>As a result from simulations, I parsed the output using Pandas <code>groupby()</code>. I am having a bit of difficulty to plot the data the way I want. Here's the Pandas output file (suppressed for simplicity) that I'm trying to plot:</p>\n\n<pre><code>                 Avg-del   Min-del    Max-del Avg-retx  Min-retx    Max-retx\nProb Producers \n0.3  1           8.060291  0.587227  26.709371  42.931779  5.130041  136.216642  \n     5           8.330889  0.371387  54.468836  43.166326  3.340193  275.932170  \n     10          1.012147  0.161975   4.320447   6.336965  2.026241   19.177802  \n0.5  1           8.039639  0.776463  26.053635  43.160880  5.798276  133.090358  \n     5           4.729875  0.289472  26.717824  25.732373  2.909811  135.289244  \n     10          1.043738  0.160671   4.353993   6.461914  2.015735   19.595393\n</code></pre>\n\n<p>My y-axis is delay and my x-axis is the number of producers. I want to have errorbars for probability <code>p=0.3</code> and another one for <code>p=0.5</code>.\nMy python script is the following:</p>\n\n<pre><code>import sys\nimport time\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\npd.set_option('display.expand_frame_repr', False)\n\noutputFile = 'averages.txt'\nf_out = open(outputFile, 'w')\n\ndata = pd.read_csv(sys.argv[1], delimiter=\",\")\nresult = data.groupby([\"Prob\", \"Producers\"]).mean()\n\nprint \"Writing to output file: \" + outputFile\nresult_s = str(result)\nf_out.write(result_s)\nf_out.close()\n\n*** Update from James ***\nfor prob_index in result.index.levels[0]:\nr = result.loc[prob_index]  \nlabels = [col for col in r]\nlines = plt.plot(r)\n[line.set_label(str(prob_index)+\" \"+col) for col, line in zip(labels, lines)]\nax = plt.gca()\nax.legend()\nax.set_xticks(r.index)\nax.set_ylabel('Latency (s)')\nax.set_xlabel('Number of producer nodes')\n\nplt.show()\n</code></pre>\n\n<p>Now I have 4 sliced arrays, one for each probability. \nHow do I slice them again based on delay(del) and retx, and plot errorbars based on ave, min, max?</p>\n"}, {"tags": ["python", "ocr", "google-cloud-vision"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 5915157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebbee61ebb3c5741c0eeac38ba6a8053?s=128&d=identicon&r=PG&f=1", "display_name": "crld", "link": "https://stackoverflow.com/users/5915157/crld"}, "edited": false, "score": 0, "creation_date": 1473283448, "post_id": 39378944, "comment_id": 66086385, "body": "This makes sense given where it occurs; the text that doesn&#39;t have a y coordinate is at the top of the image (which could have a y of 0)."}], "tags": [], "owner": {"reputation": 9929, "user_id": 2125392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4fd030c5c39984fab1a4fb57d72a144?s=128&d=identicon&r=PG", "display_name": "CivFan", "link": "https://stackoverflow.com/users/2125392/civfan"}, "is_accepted": true, "score": 7, "last_activity_date": 1473284780, "last_edit_date": 1473284780, "creation_date": 1473282139, "answer_id": 39378944, "question_id": 39378862, "link": "https://stackoverflow.com/questions/39378862/incomplete-coordinate-values-for-google-vision-ocr/39378944#39378944", "title": "Incomplete coordinate values for Google Vision OCR", "body": "<p><a href=\"https://cloud.google.com/vision/reference/rest/v1/images/annotate\" rel=\"noreferrer\">From the docs</a>:</p>\n\n<blockquote>\n  <p>boundingPoly</p>\n  \n  <p>object(BoundingPoly)</p>\n  \n  <p>The bounding polygon around the face. The coordinates of the bounding box are in the original image's scale, as returned in ImageParams. The bounding box is computed to \"frame\" the face in accordance with human expectations. It is based on the landmarker results. <strong>Note that one or more x and/or y coordinates may not be generated in the BoundingPoly (the polygon will be unbounded) if only a partial face appears in the image to be annotated.</strong></p>\n</blockquote>\n\n<p>I believe this is implying that the <code>'y'</code> value in this case is <code>0</code>, or more generally, an edge value. In other words, it doesn't know where the bounded poly truly ends, as the text goes all the way to the edge of the image, and thus the image doesn't give enough info to know for sure that the text actually ends there. As far as the image provides, it ends at <code>'y'</code> of <code>0</code>.</p>\n"}], "owner": {"reputation": 357, "user_id": 5915157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebbee61ebb3c5741c0eeac38ba6a8053?s=128&d=identicon&r=PG&f=1", "display_name": "crld", "link": "https://stackoverflow.com/users/5915157/crld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1777, "favorite_count": 1, "accepted_answer_id": 39378944, "answer_count": 1, "score": 9, "last_activity_date": 1473284780, "creation_date": 1473281759, "question_id": 39378862, "link": "https://stackoverflow.com/questions/39378862/incomplete-coordinate-values-for-google-vision-ocr", "title": "Incomplete coordinate values for Google Vision OCR", "body": "<p>I have a script that is iterating through images of different forms. When parsing the Google Vision Text detection response, I use the XY coordinates in the 'boundingPoly' for each text item to specifically look for data in different parts of the form. </p>\n\n<p>The problem I'm having is that some of the responses come back with only an X coordinate. Example:</p>\n\n<pre><code>{u'description': u'sometext', u'boundingPoly': {u'vertices': [{u'x': 5595}, {u'x': 5717}, {u'y': 122, u'x': 5717}, {u'y': 122, u'x': 5595}\n</code></pre>\n\n<p>I've set a try/except (using python 2.7) to catch this issue, but it's always the same issue: <code>KeyError: 'y'</code>. I'm iterating through thousands of forms; so far it has happened to 10 rows out of 1000. </p>\n\n<p>Has anyone had this issue before? Is there a fix other than attempting to re-submit the request if it reaches this error? </p>\n"}, {"tags": ["python", "xml", "elementtree"], "comments": [{"owner": {"reputation": 11, "user_id": 6402080, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153536185586466/picture?type=large", "display_name": "Filip Kotian", "link": "https://stackoverflow.com/users/6402080/filip-kotian"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473281981, "post_id": 39378813, "comment_id": 66085743, "body": "not much, just beginning and end:  #import os.path #if not os.path.exists(&quot;/volume1/creActive/Prevod_skladu/opravene.xm&zwnj;&#8203;l&quot;):  from xml.etree import ElementTree as et tree = et.parse(&quot;/volume1/creActive/BUSINESS/Nakupne_ceny/zasoba.xm&zwnj;&#8203;l&quot;)  for node in tree.findall(\u201c.//Cena\u201d):              tree.write(&#39;/volume1/creActive/Prevod_skladu/opravene.xml&#39;,e&zwnj;&#8203;ncoding=&quot;windows-125&zwnj;&#8203;0&quot;)"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473282133, "post_id": 39378813, "comment_id": 66085807, "body": "i&#39;ll suggest you need to use <code>root = tree.getroot()</code>, then look for your tag by name as <code>node = root.find(your_element_tagname)</code>, then change the value by <code>node.text = &quot;...&quot;</code>"}, {"owner": {"reputation": 11, "user_id": 6402080, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153536185586466/picture?type=large", "display_name": "Filip Kotian", "link": "https://stackoverflow.com/users/6402080/filip-kotian"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473282395, "post_id": 39378813, "comment_id": 66085927, "body": "The problem is, that there is tag name &lt;Cena&gt;0.84&lt;/Cena&gt; used more than one time and I need the one wich is used in &lt;PC&gt; where &lt;Hladina&gt;&lt;Zkrat&gt;VOC&lt;/Zkrat&gt;. Hope you understand what I mean."}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473282496, "post_id": 39378813, "comment_id": 66085978, "body": "your can resolve by using relative path or if you use <code>lxml</code>, then xpath to achieve that easily"}, {"owner": {"reputation": 11, "user_id": 6402080, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153536185586466/picture?type=large", "display_name": "Filip Kotian", "link": "https://stackoverflow.com/users/6402080/filip-kotian"}, "reply_to_user": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473282740, "post_id": 39378813, "comment_id": 66086093, "body": "Ok, I am the very new one in this, not a programmer, could you maybe help me and write down and example how is should look like? I need to create this script to make easier one process in my company :)"}, {"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 1, "creation_date": 1473283984, "post_id": 39378813, "comment_id": 66086564, "body": "I&#39;m sorry although I can provide an answer but that doesn&#39;t fit the purpose of SO, you need to come up with your own solution and what doesn&#39;t work, and we provide insight and correct your mistake or confusion."}, {"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1473400450, "post_id": 39378813, "comment_id": 66134674, "body": "@FilipKotian: The XML file is pretty large and badly formatted for humans to read. Please try to trim it down as much as possible. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And what is &quot;Info string&quot;?"}], "owner": {"reputation": 11, "user_id": 6402080, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153536185586466/picture?type=large", "display_name": "Filip Kotian", "link": "https://stackoverflow.com/users/6402080/filip-kotian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473282018, "creation_date": 1473281564, "last_edit_date": 1473282018, "question_id": 39378813, "link": "https://stackoverflow.com/questions/39378813/python-xml-replace-value-from-one-string", "title": "Python xml replace value from one string", "body": "<p>I would like to do simple edit in xml with python.</p>\n\n<p>I have following xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"windows-1250\"?&gt;\n&lt;MoneyData ICAgendy=\"50232240\" KodAgendy=\"\" HospRokOd=\"2016-01-01\" HospRokDo=\"2016-12-31\" description=\"z\u00e1soby\" ExpZkratka=\"_ZAS\" ExpDate=\"2016-09-07\" ExpTime=\"22:42:00\" VyberZaznamu=\"0\"&gt;&lt;SeznamZasoba&gt;&lt;Zasoba&gt;&lt;konfigurace&gt;&lt;Druh_zas&gt;Z&lt;/Druh_zas&gt;&lt;SDPH_Nakup&gt;20&lt;/SDPH_Nakup&gt;&lt;SDPH_Prod&gt;20&lt;/SDPH_Prod&gt;&lt;Ev_Min&gt;0&lt;/Ev_Min&gt;&lt;Ev_Max&gt;0&lt;/Ev_Max&gt;&lt;Minimum&gt;0&lt;/Minimum&gt;&lt;Maximum&gt;0&lt;/Maximum&gt;&lt;/konfigurace&gt;&lt;StavZasoby&gt;&lt;Zasoba&gt;27&lt;/Zasoba&gt;&lt;Rezervace&gt;0&lt;/Rezervace&gt;\n&lt;Objednano&gt;0&lt;/Objednano&gt;&lt;/StavZasoby&gt;&lt;Nak_Cena&gt;0.5687&lt;/Nak_Cena&gt;&lt;Posl_N_Cen&gt;0.552&lt;/Posl_N_Cen&gt;&lt;Posl_Nak&gt;2016-08-17&lt;/Posl_Nak&gt;&lt;Posl_Prod&gt;2016-08-25&lt;/Posl_Prod&gt;&lt;SklUcet&gt;000000&lt;/SklUcet&gt;&lt;WWWPopis&gt;Vrecko je zhotoven\u00e9 zo 100% bavlny. Mo\u017eno ho \u010falej dekorova\u0165 farbami na textil, batikovan\u00edm, r\u00f4znymi aplik\u00e1ciami a pod.&lt;/WWWPopis&gt;&lt;Vyrobce&gt;Pentart&lt;/Vyrobce&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;Novinka&gt;0&lt;/Novinka&gt;&lt;Pripravuje&gt;0&lt;/Pripravuje&gt;&lt;Vyprodej&gt;0&lt;/Vyprodej&gt;&lt;ZakazProde&gt;0&lt;/ZakazProde&gt;&lt;VSleva&gt;0&lt;/VSleva&gt;&lt;VAkce&gt;0&lt;/VAkce&gt;\n&lt;VNovinka&gt;0&lt;/VNovinka&gt;&lt;PrvaStrana&gt;0&lt;/PrvaStrana&gt;&lt;UcPohyb&gt;&lt;UcProdejk&gt;000000&lt;/UcProdejk&gt;&lt;UcPrijemk&gt;000000&lt;/UcPrijemk&gt;&lt;UcVydejky&gt;000000&lt;/UcVydejky&gt;&lt;UcVyrobky&gt;000000&lt;/UcVyrobky&gt;&lt;UcVDodLst&gt;000000&lt;/UcVDodLst&gt;&lt;UcPDodLst&gt;000000&lt;/UcPDodLst&gt;&lt;UcManko&gt;000000&lt;/UcManko&gt;&lt;UcPreb&gt;000000&lt;/UcPreb&gt;&lt;/UcPohyb&gt;&lt;UcVyrobkV&gt;000000&lt;/UcVyrobkV&gt;&lt;MnInv&gt;0&lt;/MnInv&gt;&lt;eshop&gt;&lt;IN_Export&gt;6&lt;/IN_Export&gt;&lt;IN_Changed&gt;0&lt;/IN_Changed&gt;&lt;CisKarty&gt;1754&lt;/CisKarty&gt;&lt;CisSkladu&gt;2&lt;/CisSkladu&gt;&lt;eSkup&gt;&lt;ID&gt;131&lt;/ID&gt;&lt;Name&gt;Textiln\u00e9 v\u00fdrobky {030403}&lt;/Name&gt;&lt;Descript&gt;131_Textiln\u00e9 v\u00fdrobky {030403}&lt;/Descript&gt;&lt;Poznamka&gt;&lt;/Poznamka&gt;&lt;Changed&gt;0&lt;/Changed&gt;\n&lt;Public&gt;1&lt;/Public&gt;&lt;Parent&gt;&lt;ID&gt;104&lt;/ID&gt;&lt;Name&gt;Predmety na dekorovanie {030400}&lt;/Name&gt;&lt;Descript&gt;104_Predmety na dekorovanie {030400}&lt;/Descript&gt;&lt;Poznamka&gt;&lt;/Poznamka&gt;&lt;Changed&gt;0&lt;/Changed&gt;&lt;Parent&gt;&lt;ID&gt;60&lt;/ID&gt;&lt;Name&gt;Pom\u00f4cky{030000}&lt;/Name&gt;&lt;Descript&gt;60_Pom\u00f4cky{030000}&lt;/Descript&gt;&lt;Poznamka&gt;&lt;/Poznamka&gt;&lt;Changed&gt;0&lt;/Changed&gt;&lt;Parent&gt;&lt;ID&gt;10&lt;/ID&gt;&lt;Name&gt;V\u0161etky z\u00e1soby&lt;/Name&gt;&lt;Descript&gt;&lt;/Descript&gt;&lt;Poznamka&gt;&lt;/Poznamka&gt;&lt;Changed&gt;0&lt;/Changed&gt;&lt;/Parent&gt;&lt;/Parent&gt;&lt;/Parent&gt;&lt;/eSkup&gt;&lt;/eshop&gt;&lt;KmKarta&gt;&lt;Popis&gt;Vrecko so \u0161n\u00farkou, 24 x 30 cm&lt;/Popis&gt;&lt;Zkrat&gt;Mal\u00e9 vrecko so \u0161n\u00fark&lt;/Zkrat&gt;&lt;MJ&gt;ks&lt;/MJ&gt;&lt;GUID&gt;{AC0119E4-7248-453E-A16E-5576B8E71951}&lt;/GUID&gt;\n&lt;Katalog&gt;727&lt;/Katalog&gt;&lt;TypZarDoby&gt;N&lt;/TypZarDoby&gt;&lt;ZarDoba&gt;0&lt;/ZarDoba&gt;&lt;DesMist&gt;0&lt;/DesMist&gt;&lt;Obrazek&gt;P:\\DPT017.jpg&lt;/Obrazek&gt;&lt;Pozn1&gt;&amp;lt;p&amp;gt;Rozmery r\u00e1mu: 26,5 cm x 26 cm.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;Rozmery fotografie: 8,5 cm x 13,5 cm.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;Fotografia sa sklad\u00e1 medzi sklenen\u00e9 tabule z boku.&amp;lt;/p&amp;gt;&lt;/Pozn1&gt;&lt;Hmotnost&gt;0&lt;/Hmotnost&gt;&lt;Objem&gt;0&lt;/Objem&gt;&lt;TypKarty&gt;jednoducha&lt;/TypKarty&gt;&lt;/KmKarta&gt;&lt;Sklad&gt;&lt;Nazev&gt;Pentart&lt;/Nazev&gt;&lt;KodSkladu&gt;pentart&lt;/KodSkladu&gt;&lt;GUID&gt;{6B9261FD-A281-4F33-80FA-5C410283C788}&lt;/GUID&gt;&lt;CenikSklad&gt;0&lt;/CenikSklad&gt;&lt;/Sklad&gt;&lt;Skupina&gt;&lt;Zkratka&gt;NEZARADEN\u00c9&lt;/Zkratka&gt;&lt;Nazev&gt;Nezaraden\u00e9&lt;/Nazev&gt;&lt;/Skupina&gt;&lt;PC&gt;\n&lt;SDPH&gt;1&lt;/SDPH&gt;&lt;Zaok&gt;N&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;V&lt;/VypPrCeny&gt;&lt;VychA&gt;Z&lt;/VychA&gt;&lt;ZpusobZmA&gt;S&lt;/ZpusobZmA&gt;&lt;VychB&gt;1&lt;/VychB&gt;&lt;ZpusobZmB&gt;S&lt;/ZpusobZmB&gt;&lt;Cena1&gt;&lt;Cena&gt;1.34&lt;/Cena&gt;&lt;Sleva&gt;15&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;&lt;PC&gt;&lt;Hladina&gt;&lt;Zkrat&gt;VO&lt;/Zkrat&gt;&lt;/Hladina&gt;&lt;SDPH&gt;1&lt;/SDPH&gt;&lt;Zaok&gt;H&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;V&lt;/VypPrCeny&gt;&lt;VychA&gt;Z&lt;/VychA&gt;&lt;ZpusobZmA&gt;S&lt;/ZpusobZmA&gt;&lt;VychB&gt;1&lt;/VychB&gt;&lt;ZpusobZmB&gt;S&lt;/ZpusobZmB&gt;&lt;Cena1&gt;&lt;Cena&gt;1.25&lt;/Cena&gt;&lt;Sleva&gt;7&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;&lt;PC&gt;&lt;Hladina&gt;&lt;Zkrat&gt;VOP&lt;/Zkrat&gt;&lt;/Hladina&gt;&lt;SDPH&gt;1&lt;/SDPH&gt;&lt;Zaok&gt;H&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;V&lt;/VypPrCeny&gt;&lt;VychA&gt;Z&lt;/VychA&gt;&lt;ZpusobZmA&gt;S&lt;/ZpusobZmA&gt;&lt;VychB&gt;1&lt;/VychB&gt;&lt;ZpusobZmB&gt;S&lt;/ZpusobZmB&gt;&lt;Cena1&gt;&lt;Cena&gt;1.25&lt;/Cena&gt;&lt;Sleva&gt;7&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;&lt;PC&gt;&lt;Hladina&gt;&lt;Zkrat&gt;VOC&lt;/Zkrat&gt;&lt;/Hladina&gt;&lt;SDPH&gt;0&lt;/SDPH&gt;&lt;Zaok&gt;N&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;C&lt;/VypPrCeny&gt;&lt;VychA&gt;N&lt;/VychA&gt;&lt;ZpusobZmA&gt;M&lt;/ZpusobZmA&gt;&lt;VychB&gt;Z&lt;/VychB&gt;&lt;ZpusobZmB&gt;S&lt;/ZpusobZmB&gt;&lt;Cena1&gt;&lt;Cena&gt;0.84&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;&lt;PC&gt;&lt;Hladina&gt;&lt;Zkrat&gt;VOS&lt;/Zkrat&gt;&lt;/Hladina&gt;&lt;SDPH&gt;0&lt;/SDPH&gt;&lt;Zaok&gt;H&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;V&lt;/VypPrCeny&gt;&lt;VychA&gt;&lt;/VychA&gt;&lt;ZpusobZmA&gt;&lt;/ZpusobZmA&gt;&lt;VychB&gt;&lt;/VychB&gt;&lt;ZpusobZmB&gt;&lt;/ZpusobZmB&gt;&lt;Cena1&gt;&lt;Cena&gt;0.95&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;\n&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;&lt;/Zasoba&gt;&lt;/SeznamZasoba&gt;&lt;/MoneyData&gt;\n</code></pre>\n\n<p>And what I need is to copy and replace value e.g. 0.84 from: </p>\n\n<pre><code>&lt;PC&gt;&lt;Hladina&gt;&lt;Zkrat&gt;VOC&lt;/Zkrat&gt;&lt;/Hladina&gt;&lt;SDPH&gt;0&lt;/SDPH&gt;&lt;Zaok&gt;N&lt;/Zaok&gt;&lt;ZpusobZao&gt;M&lt;/ZpusobZao&gt;&lt;Mena&gt;&lt;Kod&gt;&lt;/Kod&gt;&lt;/Mena&gt;&lt;VypPrCeny&gt;C&lt;/VypPrCeny&gt;&lt;VychA&gt;N&lt;/VychA&gt;&lt;ZpusobZmA&gt;M&lt;/ZpusobZmA&gt;&lt;VychB&gt;Z&lt;/VychB&gt;&lt;ZpusobZmB&gt;S&lt;/ZpusobZmB&gt;\n&lt;Cena1&gt;&lt;Cena&gt;0.84&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena1&gt;&lt;Cena2&gt;&lt;Limit&gt;0&lt;/Limit&gt;\n&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena2&gt;&lt;Cena3&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;\n&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena3&gt;&lt;Cena4&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;\n&lt;/Cena4&gt;&lt;Cena5&gt;&lt;Limit&gt;0&lt;/Limit&gt;&lt;Cena&gt;0&lt;/Cena&gt;&lt;Sleva&gt;0&lt;/Sleva&gt;&lt;/Cena5&gt;&lt;/PC&gt;\n</code></pre>\n\n<p>Info string: <code>&lt;Nak_Cena&gt;0.5687&lt;/Nak_Cena&gt;</code></p>\n\n<p>Could you please help me how to do so?</p>\n\n<p>Thank you.</p>\n\n<p>PS: sorry if my question is not formatted correctly.</p>\n\n<p>Filip</p>\n"}, {"tags": ["python", "python-3.x", "user-interface", "tkinter"], "comments": [{"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 0, "creation_date": 1473281839, "post_id": 39378811, "comment_id": 66085683, "body": "This isn&#39;t a whole program - just two class declarations. If this is what you have then it isn&#39;t surprising it doesn&#39;t do anything."}, {"owner": {"reputation": 126, "user_id": 6453997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fafdf0f9e2bdd867e5b889035fbd132c?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Moffett", "link": "https://stackoverflow.com/users/6453997/kyle-moffett"}, "reply_to_user": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 0, "creation_date": 1473282060, "post_id": 39378811, "comment_id": 66085775, "body": "i&#39;m fully aware its not a whole program the program works fine apart from calling my function. I simply added the instances in which i have been trying to use this script."}, {"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 0, "creation_date": 1473282339, "post_id": 39378811, "comment_id": 66085894, "body": "It would be good to have a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct (Compilable), Example</a> so that others can try running the program to help them solve the problem."}], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 6453997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fafdf0f9e2bdd867e5b889035fbd132c?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Moffett", "link": "https://stackoverflow.com/users/6453997/kyle-moffett"}, "edited": false, "score": 0, "creation_date": 1473283262, "post_id": 39378939, "comment_id": 66086313, "body": "Thank you i hadn&#39;t done that! What will my button code be to run the scrip? I currently have    button2 = ttk.Button(self, text=&quot;Visit Graph page&quot;,command=lambda:controller.show_frame(PageThree))   to change between pages. Thanks"}, {"owner": {"reputation": 126, "user_id": 6453997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fafdf0f9e2bdd867e5b889035fbd132c?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Moffett", "link": "https://stackoverflow.com/users/6453997/kyle-moffett"}, "edited": false, "score": 0, "creation_date": 1473284361, "post_id": 39378939, "comment_id": 66086708, "body": "i now have my test as   def main():      if <b>name</b> == &quot;<b>main</b>&quot;:         print(&quot;Executing as main program&quot;)         print(&quot;Value of <b>name</b> is: &quot;, <b>name</b>)         main()  and my import as   import test2  and my button as   button3 = ttk.Button(self, text=&quot;execute test&quot;,command=lambda:test2.main)  when i hit the button i&#39;ve no error but nothing happens?   apologise for how hard that is to read not sure how to embed code in comments"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1473287105, "post_id": 39378939, "comment_id": 66087659, "body": "you don&#39;t need lambda if you run function without arguments (and without <code>()</code>). Put your code in question. In comment it is unreadable. I thing you use <code>if __name__</code> in wrong way - in wrong place - you have to use it outside of <code>main()</code>. If you import test2.py but you don&#39;t run <code>test2.py</code> directly then you don&#39;t need <code>if __name__</code> but you still have to keep code inside function."}, {"owner": {"reputation": 126, "user_id": 6453997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fafdf0f9e2bdd867e5b889035fbd132c?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Moffett", "link": "https://stackoverflow.com/users/6453997/kyle-moffett"}, "edited": false, "score": 0, "creation_date": 1473288778, "post_id": 39378939, "comment_id": 66088145, "body": "Just pasted code into the question, worked when i tried your code! Thanks For your help!"}], "tags": [], "owner": {"reputation": 2389, "user_id": 5151909, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/677946faa239045e9bb743ab5f9f8ca0?s=128&d=identicon&r=PG&f=1", "display_name": "galah92", "link": "https://stackoverflow.com/users/5151909/galah92"}, "is_accepted": false, "score": 0, "last_activity_date": 1473282117, "creation_date": 1473282117, "answer_id": 39378939, "question_id": 39378811, "link": "https://stackoverflow.com/questions/39378811/starting-another-script-using-a-button-in-tkinter/39378939#39378939", "title": "Starting another script using a button in tkinter", "body": "<p>Your first method is not recommended for that. If you have another python script you should definitely import it.</p>\n\n<p>About the second method:<br>\nMy guess is that the script <code>test2.py</code> is written without</p>\n\n<pre><code>if __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>And that's why it shoot you message when you import it.</p>\n"}], "owner": {"reputation": 126, "user_id": 6453997, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fafdf0f9e2bdd867e5b889035fbd132c?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Moffett", "link": "https://stackoverflow.com/users/6453997/kyle-moffett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1473288543, "creation_date": 1473281555, "last_edit_date": 1473288543, "question_id": 39378811, "link": "https://stackoverflow.com/questions/39378811/starting-another-script-using-a-button-in-tkinter", "title": "Starting another script using a button in tkinter", "body": "<p>I am trying to run another script within a script using a button in tkinter </p>\n\n<p>I have tried two methods one being</p>\n\n<pre><code>import os\n\nclass SeaofBTCapp(tk.Tk):\n    #initilization\n    def __init__(self, *args, **kwargs):      \n        tk.Tk.__init__(self, *args, **kwargs)\n        tk.Tk.wm_title(self, \"Battery Life Calculator\")\n        container = tk.Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n        self.frames = {}\n        for F in (StartPage, PageOne, PageTwo, PageThree):\n            frame = F(container, self)\n            self.frames[F] = frame\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n        self.show_frame(StartPage)\n\n\n#raise each page to the front\n    def show_frame(self, cont):\n        frame = self.frames[cont]\n        frame.tkraise()\n\n    def helloCallBack():\n        os.system('python test2.py')\n\n#the start page        \nclass StartPage(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = ttk.Label(self, text=\"Start Page\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n        button = ttk.Button(self, text=\"Visit Page         1\",command=lambda:controller.show_frame(PageOne))                  \n        button.pack()\n        button1 = ttk.Button(self, text=\"Visit Page 2\",command=lambda:controller.show_frame(PageTwo))                 \n        button1.pack()\n        button2 = ttk.Button(self, text=\"Visit Graph page\",command=lambda:controller.show_frame(PageThree))              \n        button2.pack()\n        button3 = ttk.Button(self, text=\"execute test\",command=lambda:controller.helloCallBack)               \n        button3.pack()\n</code></pre>\n\n<p>No errors are given but when I hit execute nothing happens</p>\n\n<p>The other method i tried was to</p>\n\n<pre><code>import test2\n</code></pre>\n\n<p>but it runs the script automatically and it prints \"i am a test\"</p>\n\n<p>I should note the script i am trying to call is simply a test and just prints \"i am a test\"</p>\n\n<p>any help is appreciated! </p>\n\n<p>thanks</p>\n\n<p>****edit****</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\n\nimport test2\n\n\n\n\n\n\n\nLARGE_FONT= (\"Verdana\", 12)\n\nclass SeaofBTCapp(tk.Tk):\n\n\n#initilization\n    def __init__(self, *args, **kwargs):      \n\n\n\n        tk.Tk.__init__(self, *args, **kwargs)\n\n        tk.Tk.wm_title(self, \"Battery Life Calculator\")\n\n\n        container = tk.Frame(self)\n        container.pack(side=\"top\", fill=\"both\", expand = True)\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n\n        self.frames = {}\n\n        for F in (StartPage, PageOne, PageTwo, PageThree):\n\n            frame = F(container, self)\n\n            self.frames[F] = frame\n\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n\n        self.show_frame(StartPage)\n\n\n\n#raise each page to the front\n    def show_frame(self, cont):\n\n        frame = self.frames[cont]\n        frame.tkraise()\n\n\n\n\n\n\n\n#the start page        \nclass StartPage(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = ttk.Label(self, text=\"Start Page\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n\n        button = ttk.Button(self, text=\"Visit Page 1\",command=lambda:controller.show_frame(PageOne))\n\n        button.pack()\n\n        button1 = ttk.Button(self, text=\"Visit Page 2\",command=lambda:controller.show_frame(PageTwo))\n\n        button1.pack()\n\n        button2 = ttk.Button(self, text=\"Visit Graph page\",command=lambda:controller.show_frame(PageThree))\n\n        button2.pack()\n\n        button3 = ttk.Button(self, text=\"execute test\",command=test2.main)\n\n        button3.pack()\n\n\n\n\n\n\n\n\n\n\n\nclass PageOne(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = ttk.Label(self, text=\"Page One\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n\n        button1 = ttk.Button(self, text=\"Back to start page\",command=lambda:controller.show_frame(StartPage))\n\n        button1.pack()\n\n        button1 = ttk.Button(self, text=\"Visit Page 2\",command=lambda:controller.show_frame(PageTwo))\n\n        button1.pack()\n\nclass PageTwo(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = ttk.Label(self, text=\"Page One\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n\n        button1 = ttk.Button(self, text=\"Back to Start Page\",command=lambda:controller.show_frame(StartPage))\n\n        button1.pack()\n\n        button1 = ttk.Button(self, text=\"Back to Page One\",command=lambda:controller.show_frame(PageOne))\n\n        button1.pack()\n\nclass PageThree(tk.Frame):\n\n    def __init__(self, parent, controller):\n        tk.Frame.__init__(self,parent)\n        label = ttk.Label(self, text=\"Graph Page\", font=LARGE_FONT)\n        label.pack(pady=10,padx=10)\n\n        button1 = ttk.Button(self, text=\"Back to Start Page\",command=lambda:controller.show_frame(StartPage))\n\n        button1.pack()\n\n\n\n\napp = SeaofBTCapp()\napp.mainloop()\n</code></pre>\n\n<p>test2.p is as follows</p>\n\n<pre><code>def main():\n\n    if __name__ == \"__main__\":\n        print(\"Executing as main program\")\n        print(\"Value of __name__ is: \", __name__)\n        main()\n</code></pre>\n"}, {"tags": ["python", "django", "sms"], "comments": [{"owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "edited": false, "score": 0, "creation_date": 1473281830, "post_id": 39378728, "comment_id": 66085677, "body": "twillio isn&#39;t mandatory but it will save you tons of time to start from scratch, and it&#39;s kind of proven by the usage from whatsapp or alike. you can of course start from scratch and build your own via SMPP protocol, it&#39;s your call."}, {"owner": {"reputation": 9384, "user_id": 5493302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bl41CqZhT5I/AAAAAAAAAAI/AAAAAAAAdzI/ALmG0mBJCSk/photo.jpg?sz=128", "display_name": "Tomasz Jakub Rup", "link": "https://stackoverflow.com/users/5493302/tomasz-jakub-rup"}, "edited": false, "score": 0, "creation_date": 1473284727, "post_id": 39378728, "comment_id": 66086834, "body": "You can use services like <a href=\"https://www.smsapi.com/\" rel=\"nofollow noreferrer\">smsapi.com</a>. They have nice API: <a href=\"https://pypi.python.org/pypi/smsapi-client/1.1.3\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/smsapi-client/1.1.3</a>"}, {"owner": {"reputation": 2174, "user_id": 1579883, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/5d54ceb42e783c4155faaedd4581b4be?s=128&d=identicon&r=PG", "display_name": "jesicadev18", "link": "https://stackoverflow.com/users/1579883/jesicadev18"}, "edited": false, "score": 0, "creation_date": 1473289964, "post_id": 39378728, "comment_id": 66088477, "body": "I have had a look at services like those, but are quite expensive, considering the ammount of sms I will be sending. The same applies to twilio."}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 3467079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ErrV8.jpg?s=128&g=1", "display_name": "Fermin Arellano", "link": "https://stackoverflow.com/users/3467079/fermin-arellano"}, "is_accepted": false, "score": 1, "last_activity_date": 1473287182, "creation_date": 1473287182, "answer_id": 39379920, "question_id": 39378728, "link": "https://stackoverflow.com/questions/39378728/sending-sms-from-django-app/39379920#39379920", "title": "Sending SMS from django app", "body": "<p>Using Twilio is not mandatory, but I do recommend it. Twilio does the heavy lifting, your Django App just needs to make the proper API Requests to Twilio, which has great documentation on it. </p>\n\n<p>Twilio has Webhooks as well which you can 'hook' to specific Django Views and process certain events. As for the 'programmable' aspect of your app you can use django-celery, django-cron, RabbitMQ or other task-queueing software.</p>\n"}], "owner": {"reputation": 2174, "user_id": 1579883, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/5d54ceb42e783c4155faaedd4581b4be?s=128&d=identicon&r=PG", "display_name": "jesicadev18", "link": "https://stackoverflow.com/users/1579883/jesicadev18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473287182, "creation_date": 1473281191, "question_id": 39378728, "link": "https://stackoverflow.com/questions/39378728/sending-sms-from-django-app", "title": "Sending SMS from django app", "body": "<p>I came to the requirement to send SMS from my django app. Its a dashboard from multiple clients, and each client will have the ability to send programable SMS. </p>\n\n<p>Is this achievable with django smsish? I have found some packages that aren't updated, and I sending email sms is not possible.</p>\n\n<p>All answers found are old and I have tried all approaches suggested.\nDo I have to use services like twilio mandatorily? Thanks </p>\n"}, {"tags": ["python", "python-2.7", "bioinformatics"], "comments": [{"owner": {"reputation": 9413, "user_id": 509840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe2f665ed8885b18fce5d641090a99e?s=128&d=identicon&r=PG", "display_name": "rajah9", "link": "https://stackoverflow.com/users/509840/rajah9"}, "edited": false, "score": 2, "creation_date": 1473281297, "post_id": 39378711, "comment_id": 66085429, "body": "Welcome to Stackoverflow. Would you post how your seek and split methods are being used? And did you write seek and split, or are they part of an existing API, (bioinformatics or otherwise)? (If the former, please post them. If the latter, please tell us the name of the library.)"}], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 6770704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sB120.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6770704/ian"}, "is_accepted": false, "score": 0, "last_activity_date": 1473282573, "creation_date": 1473282573, "answer_id": 39379049, "question_id": 39378711, "link": "https://stackoverflow.com/questions/39378711/searching-file-for-the-same-string-twice-and-printing-both-separately/39379049#39379049", "title": "Searching file for the same string twice and printing both separately", "body": "<p>How large is your file?  If it is not prohibitively long, you could use the naive approach:</p>\n\n<pre><code>file = open(\"filename.text\", r)\ngenome = file.read()\nfile.close()\ngenome_length = len(genome)\npattern = \"ATCT\" #or whatever your pattern is\npattern_length = len(pattern)\npattern_locations = []\nfor i in range(genome_length - pattern_length - 1):\n    if pattern == genome[i:i+pattern_length]:\n        pattern_locations.append(i)\nreturn pattern_locations\n</code></pre>\n\n<p>However, if the genome is long then it would require more sophisticated algorithms in order to search in a reasonable time (such as constructing a suffix tree)             </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6810076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d4dae0a12b2207c1b2b5bf742534e9?s=128&d=identicon&r=PG&f=1", "display_name": "E.M.", "link": "https://stackoverflow.com/users/6810076/e-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1473352007, "creation_date": 1473352007, "answer_id": 39396046, "question_id": 39378711, "link": "https://stackoverflow.com/questions/39378711/searching-file-for-the-same-string-twice-and-printing-both-separately/39396046#39396046", "title": "Searching file for the same string twice and printing both separately", "body": "<p>I read your problem as \"I am trying to find the locations of a DNA subsequence.\" Does the following example represent what you are trying to achieve? Let me know if I am oversimplifying your question and I can revise.</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; dna = 'AGTCTCCCGGATTTGGATTTAA' #super short, but just for proof of concept\n&gt;&gt;&gt; subseq = 'ATTT' #sequence you want to find within dna\n&gt;&gt;&gt; for location in re.finditer(subseq, dna):\n...     print 'start: %d end: %d' % (location.start(), location.end())\n\nstart: 10 end: 14\nstart: 16 end: 20\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6806342, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/86960becc3dc03c7e9334ebde7b78602?s=128&d=identicon&r=PG&f=1", "display_name": "dk09", "link": "https://stackoverflow.com/users/6806342/dk09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482946854, "creation_date": 1473281106, "last_edit_date": 1482946854, "question_id": 39378711, "link": "https://stackoverflow.com/questions/39378711/searching-file-for-the-same-string-twice-and-printing-both-separately", "title": "Searching file for the same string twice and printing both separately", "body": "<p>I am a beginner python programmer with a search question. I need to locate a string of DNA in a DNA file. The issue is that I do not know where the string appears in the file, it appears twice, and I need to know both locations. My current program can only find the first string and I am having difficulty having it continue the search to find the second.  My two ideas that I have have both failed but I think only because I do not understand how to use the functions. Here they are:</p>\n\n<ol>\n<li><p>use .seek() to find the first string of DNA I need and set that as the starting point for a second search. My problem is that I do not know exactly where the DNA strings are, so I tried to set my seek location to the DNA string.  This wont work however, as the data needs to be in bytes to find a location, not a string.  I tried to use .index() the location of the DNA string and setting that as a variable, but that also does not work.</p></li>\n<li><p>Use .split() to split the DNA text file after the first DNA string was found then running a second search on the right half of the break. I thought this would work, but I only end up with an error reading:</p>\n\n<p>IndexError: list index out of range</p></li>\n</ol>\n\n<p>specifically, I am writing .split('str')[1] to use the second half of the string.</p>\n\n<p>Assuming my logic is correct in the program, would these approaches work? Does anyone have a different idea they think I should try? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1473281040, "post_id": 39378656, "comment_id": 66085291, "body": "Are you expecting <code>ints.index(i)</code> to be the index of the particular occurrence of <code>i</code> you&#39;re working with? You want <code>enumerate</code> for that. <code>index</code> does something completely different."}, {"owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473281058, "post_id": 39378656, "comment_id": 66085304, "body": "This is not the final solution and I need to optimize for timeout and this information is independent of the problem I posed."}, {"owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473281130, "post_id": 39378656, "comment_id": 66085345, "body": "Hi @user2357112 thanks for the quick reply, I was not aware of this information. My understanding was that index(i) would return the index of the current item. I now understand what is going on. I do not know how to close the question and cannot mark up your answer since I do not have enough reputation. Thank you though!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473281825, "post_id": 39378656, "comment_id": 66085672, "body": "You should be able to delete your own question.  Is this not the case?  If you&#39;re trying to honourably retire it, we&#39;ll need @user2357112 to write up the answer -- it&#39;s only a comment right now."}, {"owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473344125, "post_id": 39378656, "comment_id": 66112670, "body": "OK that works, if this might help someone I do not want to delete it, also I would upvote @user2357112 &#39;s answer but I do not have the reputation to do so."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1473282207, "creation_date": 1473282207, "answer_id": 39378966, "question_id": 39378656, "link": "https://stackoverflow.com/questions/39378656/sum-of-pairs-codewars/39378966#39378966", "title": "Sum of Pairs: Codewars", "body": "<p><code>ints.index(i)</code> doesn't give you the index of the particular occurrence of <code>i</code> you're working with. If you want that, you want <code>enumerate</code>, not <code>index</code>.</p>\n\n<p><code>ints.index(i)</code> means \"go through <code>ints</code> and find the index of the <em>first</em> element of <code>ints</code> that equals <code>i</code>\". <code>i</code> holds no information about where in <code>ints</code> it came from, so there's no way for <code>index</code> to tell that you were thinking of any particular occurrence of <code>i</code>. <code>enumerate</code> avoids this problem by keeping its own counter and incrementing it every time it produces an element, so it always knows what index it's at.</p>\n"}], "owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1891, "favorite_count": 0, "accepted_answer_id": 39378966, "answer_count": 1, "score": 0, "last_activity_date": 1473282207, "creation_date": 1473280868, "question_id": 39378656, "link": "https://stackoverflow.com/questions/39378656/sum-of-pairs-codewars", "title": "Sum of Pairs: Codewars", "body": "<p>I recently solved a problem as stated below in Codewars(<strong>NOT</strong> asking for a solution, already solved it) and though it is not the optimized solution I came across a very interesting problem which I could not figure out an answer to.</p>\n\n<p><strong>I have NO intention to give out the solution, but just understand what happened that resulted in this anomaly</strong> </p>\n\n<p>The problem ran as - Given a list of integers and a single sum value, return the first two values (parse from the left please) in order of appearance that add up to form the sum.</p>\n\n<p>Pretty simple problem and a straightforward if not optimum solution that I came up with -</p>\n\n<pre><code>def sum_pairs(ints, s):\n    indices = []\n    for i in ints:\n        if (s-i) in ints[ints.index(i)+1:]:\n            print(ints.index(i))\n            print(ints[ints.index(i)+1:])\n            print(i,s-i)\n            indices.append([ints.index(i),ints[ints.index(i)+1:].index(s-i)+len(ints[:ints.index(i)])+1])\n    if(len(indices) == 0):\n        return None\n    print(indices)\n    indices.sort(key=lambda x: x[1])\n    print(indices)\n    return [ints[indices[0][0]], ints[indices[0][1]]]\n</code></pre>\n\n<p>I passed all the test-cases.</p>\n\n<p>I made use of the print statements for debugging and figuring out what was going on. Sample test cases and their output which stumped me are given below.</p>\n\n<pre><code>sum_pairs([1, 2, 3, 4, 1, 0], 2)\n\n0\n[2, 3, 4, 1, 0]\n(1, 1)\n1\n[3, 4, 1, 0]\n(2, 0)\n0\n[2, 3, 4, 1, 0]\n(1, 1)\n[[0, 4], [1, 5], [0, 4]]\n[[0, 4], [0, 4], [1, 5]]\n\nsum_pairs([10, 5, 2, 3, 7, 5])\n1\n[2, 3, 7, 5]\n(5, 5)\n3\n[7, 5]\n(3, 7)\n1\n[2, 3, 7, 5]\n(5, 5)\n[[1, 5], [3, 4], [1, 5]]\n[[3, 4], [1, 5], [1, 5]]\n</code></pre>\n\n<p>So now to the part that I could not figure out, observing the output one can see that in test case 1, 0 is printed twice and the ints[ints.index(i)+1:] is [2, 3, 4, 1, 0] for both 1's at position 0 and 4 and the entry [0,4] is appended twice.\nA similar pattern is observed in test case 2.\nThe if condition which says </p>\n\n<pre><code>if (s-i) in ints[ints.index(i)+1:]\n</code></pre>\n\n<p>should not be evaluated to true the second time as ints[ints.index(i)+1:] is there to ensure that the new list starts from the item next to the occurrence of i.</p>\n\n<p>It seems not that important as I got the solution but it would be great if someone can shed light on what actually happened.</p>\n\n<p><strong>NOTE</strong>: I have had 2 bad experiences where people downvoted my question without giving a reason to do so in a predefined ratio. It would be really useful if I could be given feedback for any such downvote, also would appreciate if anyone could check those questions and give feedback if any improvements can be made.</p>\n"}, {"tags": ["python", "translation"], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 6506482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAPKW.jpg?s=128&g=1", "display_name": "apteryx", "link": "https://stackoverflow.com/users/6506482/apteryx"}, "is_accepted": false, "score": -1, "last_activity_date": 1473281590, "last_edit_date": 1495541778, "creation_date": 1473281590, "answer_id": 39378819, "question_id": 39378636, "link": "https://stackoverflow.com/questions/39378636/translation-of-a-phrase-both-ways/39378819#39378819", "title": "Translation of a phrase both ways", "body": "<p><a href=\"https://stackoverflow.com/questions/483666/python-reverse-invert-a-mapping\">This</a> stack answer demonstrates how to quickly invert a simple dictionary. So, in your case, what you would do is:</p>\n\n<pre><code>Eng = {t[0]: [e] for t, e in Tuc.items()}\n</code></pre>\n\n<p>and use this dictionary the same way you've used the Tuc dictionary.</p>\n\n<p>It would be easier if your Tuc dictionary didn't have redundant lists as values:</p>\n\n<pre><code>Tuc = {'me': 'ye', 'love': 'wau', 'i': 'o', 'mine': 'yeme', 'are': 'sia', 'you': 'uo', 'my': 'yem'}\nEng = {t: e for t, e in Tuc.items()}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4928343, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Iy2OmXj0Fd8/AAAAAAAAAAI/AAAAAAAABUo/DEmGLd4KtKE/photo.jpg?sz=128", "display_name": "Tr&#233;DarkGrey", "link": "https://stackoverflow.com/users/4928343/tr%c3%a9darkgrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473281590, "creation_date": 1473280786, "last_edit_date": 1473281583, "question_id": 39378636, "link": "https://stackoverflow.com/questions/39378636/translation-of-a-phrase-both-ways", "title": "Translation of a phrase both ways", "body": "<p>I am having trouble with Tuccin to English.\nI can get it to translate in from English to Tuccin only.\nWhat I want is if word is English translate to Tuccin,\nIf word is Tuccin, translate to English full phrases.\nAnd finally if any input words are not stored I want it\nTo print that same word in its own place so show there was\nNothing to translate it to.</p>\n\n<pre><code>#Translator.py\nTuc={\"i\":[\"o\"],\"love\":[\"wau\"],\"you\":[\"uo\"],\"me\":[\"ye\"],\"my\":[\"yem\"],\n     \"mine\":[\"yeme\"],\"are\":[\"sia\"]}\nphrase=True\nreverseLookup = False\n\nwhile True:\n    reverseLookup = False\n    translation = str(raw_input(\"Enter content for translation.\\n\").lower())\n    input_list = translation.split()\n\n#English to Tuccin\nif phrase ==True:\n    print \"*English Detected!\"\n\n    for word in input_list:\n        if word in Tuc:\n            print (\"\".join(Tuc[word]))\n        else:\n            reverseLookup = True\n\n#Tuccin to english\nelif phrase == True and reverseLookup == True:\n    print \"*Tuccin Detected!\"\n    input_list = translation.split()\n    for k, v in Tuc.iteritems():\n        if translation in v:\n            print k\n\n        else:\n            print \"Word Not Stored!\"\n            reverseLookup = False\n            print word\n</code></pre>\n"}, {"tags": ["python", "random"], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 5916842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3312dab3a323aa75369b11c47f1d271a?s=128&d=identicon&r=PG&f=1", "display_name": "SimonInNYC", "link": "https://stackoverflow.com/users/5916842/simoninnyc"}, "edited": false, "score": 0, "creation_date": 1473282721, "post_id": 39378778, "comment_id": 66086080, "body": "Is there a way to change the value of the list <code>a</code> in the second example?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 361, "user_id": 5916842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3312dab3a323aa75369b11c47f1d271a?s=128&d=identicon&r=PG&f=1", "display_name": "SimonInNYC", "link": "https://stackoverflow.com/users/5916842/simoninnyc"}, "edited": false, "score": 1, "creation_date": 1473282885, "post_id": 39378778, "comment_id": 66086155, "body": "Sure, if you do <code>i = random.choice(list(range(len(a)))</code>, then you&#39;ll get an index. Then <code>a[i] = ...</code> will modify it."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 3, "last_activity_date": 1473281412, "last_edit_date": 1495535627, "creation_date": 1473281412, "answer_id": 39378778, "question_id": 39378598, "link": "https://stackoverflow.com/questions/39378598/reference-to-an-element-in-a-list/39378778#39378778", "title": "Reference to an element in a list", "body": "<p>Let's start with the second case. You write</p>\n\n<pre><code>c = random.choice(a)\n</code></pre>\n\n<p>so the name <code>c</code> gets bound to some element of a, then</p>\n\n<pre><code>c = b\n</code></pre>\n\n<p>so the name <code>c</code> gets bound to some other object (the one to which the name <code>b</code> is referring - the float 0.1).</p>\n\n<hr>\n\n<p>Now to the first case. You start with</p>\n\n<pre><code>c = random.choice(a)\n</code></pre>\n\n<p>So the name <code>c</code> gets bound to an object in <code>a</code>, which is a list itself. Then you write</p>\n\n<pre><code>c[:] = b\n</code></pre>\n\n<p>which means, replace all items in the list bound to by the name <code>c</code>, by some other list. In fact, this is called <a href=\"https://stackoverflow.com/questions/10623302/how-assignment-works-with-python-list-slice\">slice assignment</a>, and is basically syntactic sugar for calling a method of the object to which <code>c</code> is bound.</p>\n\n<hr>\n\n<p>The difference, then, is that in the first case, it doesn't just bind a name first to one object, then to another. It binds a name to a list, then uses this name to indirectly call a method of the list.</p>\n"}], "owner": {"reputation": 361, "user_id": 5916842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3312dab3a323aa75369b11c47f1d271a?s=128&d=identicon&r=PG&f=1", "display_name": "SimonInNYC", "link": "https://stackoverflow.com/users/5916842/simoninnyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 39378778, "answer_count": 1, "score": 4, "last_activity_date": 1473281412, "creation_date": 1473280648, "question_id": 39378598, "link": "https://stackoverflow.com/questions/39378598/reference-to-an-element-in-a-list", "title": "Reference to an element in a list", "body": "<p>I am a little confused about how python deal with reference to an element in a list, considering these two examples:</p>\n\n<p>First example:</p>\n\n<pre><code>import random\na = [[1,2],[3,4],[5,6],[7,8]]\nb = [0.1,0.2]\nc = random.choice(a)\nc[:] = b\nprint(a)\n</code></pre>\n\n<p>Second example:</p>\n\n<pre><code>import random\na = [1, 2, 3, 4, 5, 6, 7, 8]\nb = 0.1\nc = random.choice(a)\nc = b\nprint(a)\n</code></pre>\n\n<p>In first example, the content in list a is changed; while in the second example, the content of list a is not changed. Why is that? </p>\n"}, {"tags": ["python", "excel", "pandas", "dataframe", "filter"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1473281076, "creation_date": 1473281076, "answer_id": 39378702, "question_id": 39378552, "link": "https://stackoverflow.com/questions/39378552/remove-specific-rows-in-dataframe-with-pandas/39378702#39378702", "title": "remove specific rows in dataframe with pandas", "body": "<p>try this:</p>\n\n<pre><code>In [35]: df.eval('otc == 0 and tm == 0 and lease == 0 and maint == 0')\nOut[35]:\n0     True\n1    False\n2     True\n3    False\n4     True\n5     True\n6    False\n7     True\ndtype: bool\n\nIn [36]: df[~df.eval('otc == 0 and tm == 0 and lease == 0 and maint == 0')]\nOut[36]:\n   csr   id ac  otc  tm  lease  maint\n1    1  543  a    0   1      1      0\n3    2  123  w    1   1      1      1\n6    4  258  k    1   1      1      1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1473281222, "post_id": 39378716, "comment_id": 66085386, "body": "I&#39;d do it this way: <code>df[~(df[[&#39;otc&#39;,&#39;tm&#39;,&#39;lease&#39;,&#39;maint&#39;]] == 0).all(1)]</code> or <code>df[(df[[&#39;otc&#39;,&#39;tm&#39;,&#39;lease&#39;,&#39;maint&#39;]] != 0).any(1)]</code>"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1473281375, "post_id": 39378716, "comment_id": 66085463, "body": "@MaxU About to add the second option. Yeah, I guess it is a better option."}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 2, "last_activity_date": 1473281131, "creation_date": 1473281131, "answer_id": 39378716, "question_id": 39378552, "link": "https://stackoverflow.com/questions/39378552/remove-specific-rows-in-dataframe-with-pandas/39378716#39378716", "title": "remove specific rows in dataframe with pandas", "body": "<p>You can also extract the four columns that you are interested and count how many zeros it has for each row and create logical vector for indexing:</p>\n\n<pre><code>df[(df[['otc', 'tm', 'lease', 'maint']] == 0).sum(axis = 1) &lt; 4]\n\n#  csr   id  ac  otc    tm  lease   maint\n# 1  1  543   a    0     1      1       0\n# 3  2  123   w    1     1      1       1\n# 6  4  258   k    1     1      1       1\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 3981355, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/641886902/picture?type=large", "display_name": "Carlos Arronte Bello", "link": "https://stackoverflow.com/users/3981355/carlos-arronte-bello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "accepted_answer_id": 39378716, "answer_count": 2, "score": 1, "last_activity_date": 1473281131, "creation_date": 1473280425, "last_edit_date": 1473281109, "question_id": 39378552, "link": "https://stackoverflow.com/questions/39378552/remove-specific-rows-in-dataframe-with-pandas", "title": "remove specific rows in dataframe with pandas", "body": "<p>i need some help from all of you \nI'm working with a data form from excel, so basically now i have something like this. </p>\n\n<pre><code>csr   id   ac  otc  tm  lease  maint \n 1    456  b    0    0    0      0\n 1    543  a    0    1    1      0\n 1    435  e    0    0    0      0\n 2    123  w    1    1    1      1\n 2    123  g    0    0    0      0\n 3    987  j    0    0    0      0\n 4    258  k    1    1    1      1 \n 4    258  m    0    0    0      0\n</code></pre>\n\n<p>So i need to delete the rows with zero in 'otc' 'tm' 'lease' 'maint' columns. i do something like this </p>\n\n<pre><code>df = pd.read_excel(xlsx,'Sheet1')\ndf_zero = df[(df['OTC'] == 0) &amp; (df['TM'] == 0) &amp; (df['Lease'] == 0) &amp; (df['Maint'] == 0) &amp; (df['Support'] == 0) &amp; (df['Other']  == 0)]\n</code></pre>\n\n<p>In this way i open the file and save in df_zero all the rows that contain zero in the specific column. Then </p>\n\n<pre><code>df1 = df_zero.loc[:, 'CSR']\n</code></pre>\n\n<p>Basically this save in df1 the CSR number for the rows with zeros in the specific columns, like this </p>\n\n<pre><code>csr\n 1\n 1\n 2 \n 3\n 4\n</code></pre>\n\n<p>So i think ok i do this and problem resolved.</p>\n\n<pre><code>for n1 in df1:\n    df = df[df.CSR != n1]\n</code></pre>\n\n<p>But the problem here is, as you can see in the CSR 1, we have 3 different rows, if i run that 'for', i will delete the 3 of them, i just need to remove the ones that have zeros in the specific columns ('otc' 'tm' 'lease' 'maint'). </p>\n\n<p>I think in a 'for' for be moving in the CSR and another one to be moving in 'otc' if the value that i found is zero move to 'tm'(in the same row) check for zero, then to 'lease' and 'maint' in the same row, if any of this columns is not zero, jump to the next CSR. In this example. We will remove the CSR 1, because all of them ('otc' 'tm' 'lease' 'maint') are zero, then jump to the next CSR, again 1, but in this case we have zero in 'otc' but 1 in 'tm', so we have to jump to the next CSR is again 1 but all of the columns ('otc' 'tm' 'lease' 'maint') are in zero so we remove the row, and continue in this way until the last CSR...</p>\n\n<p>I think that could work but i'm having some problems to implement that, or maybe any of you have a better idea. Thanks and sorry for bad english</p>\n"}, {"tags": ["python", "regex", "python-2.7", "list"], "answers": [{"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1473281318, "post_id": 39378682, "comment_id": 66085434, "body": "How about <code>1&#47;1&#47;n11..1&#47;1&#47;n15</code>?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473281480, "post_id": 39378682, "comment_id": 66085520, "body": "It worked just fine.  It does not work when there&#39;s a &quot;carry&quot;, such as <b>n18..n22</b>, but that&#39;s not given in the problem description."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1473280982, "creation_date": 1473280982, "answer_id": 39378682, "question_id": 39378551, "link": "https://stackoverflow.com/questions/39378551/python-expanding-the-range-between-dot-dot-id1-id2/39378682#39378682", "title": "Python - expanding the range between dot dot (id1..id2)", "body": "<p>Here's the base code; I'll let you recombine it as desired, including list comprehensions that you already have.  Just split the range as you're already doing.  Instead of de-constructing the entire string, just take that last digit and run the range:</p>\n\n<pre><code>ports_list=['1/1/n1..1/1/n8']\n\nfor port in ports_list:\n    if \"..\" in port:\n        left, right = port.split(\"..\")\n        for i in range(int(left[-1]), int(right[-1])+1):\n            new_port = left[:-1] + str(i)\n            print new_port\n</code></pre>\n\n<p>The last line is there merely to demonstrate the proper response.</p>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1473281804, "last_edit_date": 1495541778, "creation_date": 1473281451, "answer_id": 39378792, "question_id": 39378551, "link": "https://stackoverflow.com/questions/39378551/python-expanding-the-range-between-dot-dot-id1-id2/39378792#39378792", "title": "Python - expanding the range between dot dot (id1..id2)", "body": "<p>Not sure it is more readable or better than your current approach, but we can use regular expressions to extract the common part and the range borders from a string:</p>\n\n<pre><code>import re\n\n\ndef expand(l):\n    result = []\n    pattern = re.compile(r\"^(.*?)(\\d+)$\")\n    for item in l:\n        # determine if it is a \"range\" item or not\n        is_range = '..' in item\n        if not is_range:\n            result.append(item)\n            continue\n\n        # get the borders and the common reusable part\n        borders = [pattern.match(border).groups() for border in item.split('..')]\n        (common_part, start), (_, end) = borders\n\n        for x in range(int(start), int(end) + 1):\n            result.append(\"%s%d\" % (common_part, x))\n\n    return result\n\nprint(expand(['1/1/n1..1/1/n8']))\nprint(expand(['1/1/n1..1/1/n5', '1/1/x1', '1/1/g1']))\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>['1/1/n1', '1/1/n2', '1/1/n3', '1/1/n4', '1/1/n5', '1/1/n6', '1/1/n7', '1/1/n8']\n['1/1/n1', '1/1/n2', '1/1/n3', '1/1/n4', '1/1/n5', '1/1/x1', '1/1/g1']\n</code></pre>\n\n<p>where in <code>^(.*?)(\\d+)$</code>:</p>\n\n<ul>\n<li><code>^</code> matches the beginning of a string (not actually needed in our case since we use <code>.match()</code> - it will start searching from the beginning of a string anyway - leaving it there just because \"Explicit is better than implicit\")</li>\n<li><code>(.*?)</code> is a capturing group that saves any characters any number of times in a <a href=\"https://stackoverflow.com/questions/2301285/what-do-lazy-and-greedy-mean-in-the-context-of-regular-expressions\">non-greedy fashion</a></li>\n<li><code>(\\d+)</code> is a capturing group that would save one or more consecutive digits</li>\n<li><code>$</code> matches the end of a string</li>\n</ul>\n"}], "owner": {"reputation": 201, "user_id": 5582349, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/312bc7d6f5cd54323756aeb7fe349ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/5582349/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 2, "accepted_answer_id": 39378792, "answer_count": 2, "score": 0, "last_activity_date": 1513140761, "creation_date": 1473280423, "last_edit_date": 1513140761, "question_id": 39378551, "link": "https://stackoverflow.com/questions/39378551/python-expanding-the-range-between-dot-dot-id1-id2", "title": "Python - expanding the range between dot dot (id1..id2)", "body": "<p>Suppose i have a list of ids like:  </p>\n\n<pre><code>ids= 1/1/n1..1/1/n5 , 1/1/x1 , 1/1/g1\n</code></pre>\n\n<p>Expected output: </p>\n\n<pre><code>1/1/n1 , 1/1/n2 , 1/1/n3 , 1/1/n4 , 1/1/n5 ,1/1/x1, 1/1/g1\n</code></pre>\n\n<p>Means wherever i finds 'ids..ids', i will fill the gap </p>\n\n<p>I have written a very basic code, but i am looking for more pythonic solution</p>\n\n<pre><code>import re\nports_list=['1/1/n1..1/1/n8']\n\nn = 2\nport_range=[]\nfor port in ports_list:\n    if '..' in port:\n        groups = port.split('..')     #gives  ['1/1/n1', '1/1/n8']\n        for item in groups:\n            port_split = item.split('/')\n            port_join='/'.join(port_split[:n]), '/'.join(port_split[n:])\n            port_join=port_join[0]+\"/\"\n            port_split=port_split[2]    # n1     n8\n            get_str=port_split[0][0]\n            num=re.findall(r'\\d+', port_split) # 1 8\n            port_range.append(num[0])\n        #remove port with '..\n        ports_list.remove(port)\n\nn1=port_range[0]\nn2=port_range[1]\nfinal_number_list=list(range(int(n1),int(n2)+1))\nmy_new_list = [ get_str + str(n) for n in final_number_list]\nfinal_list=[ port_join + str(n) for n in my_new_list]\nports_list=ports_list+final_list\nprint ports_list\n</code></pre>\n\n<p>Gives Expected Output:  </p>\n\n<pre><code>['1/1/n1', '1/1/n2', '1/1/n3', '1/1/n4', '1/1/n5', '1/1/n6', '1/1/n7', '1/1/n8']\n</code></pre>\n\n<p>But how it can be solved easily , without complex logic ? </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "edited": false, "score": 0, "creation_date": 1473358828, "post_id": 39378624, "comment_id": 66121430, "body": "Thanks. I don&#39;t anything about Categories nor Maps. I will have to do some reading and watch a video on it.  For the first solution with categories, how does [&#39;1&#39;, &#39;0&#39;] associate itself with strong and weak respectively.  Is it taking the first two values  under &#39;Mathscore&#39; and then just repeating this input for the rest of the values under &#39;Mathscore&#39;?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "edited": false, "score": 1, "creation_date": 1473362821, "post_id": 39378624, "comment_id": 66123506, "body": "@moondra, yes, you understood it correctly. <a href=\"http://pandas.pydata.org/pandas-docs/stable/categorical.html\" rel=\"nofollow noreferrer\">Here</a> you&#39;ll find well documented description with lots of examples..."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 3, "last_activity_date": 1473362839, "last_edit_date": 1473362839, "creation_date": 1473280732, "answer_id": 39378624, "question_id": 39378535, "link": "https://stackoverflow.com/questions/39378535/changing-data-in-a-dataframe-column-pandas-with-a-for-loop/39378624#39378624", "title": "Changing data in a DataFrame column (Pandas) with a For loop", "body": "<p>you can <a href=\"http://pandas.pydata.org/pandas-docs/stable/categorical.html\" rel=\"nofollow\">categorize</a> your data:</p>\n\n<pre><code>In [23]: df['Mathscore'] = df.Mathscore.astype('category').cat.rename_categories(['1','0'])\n\nIn [24]: df\nOut[24]:\n   Id_Student Mathscore\n0           1         1\n1           2         0\n2           3         0\n3           4         1\n4           5         1\n5           6         0\n6           7         1\n7           8         1\n8           9         0\n9          10         1\n\nIn [25]: df.dtypes\nOut[25]:\nId_Student       int64\nMathscore     category\ndtype: object\n</code></pre>\n\n<p>or map it:</p>\n\n<pre><code>In [27]: df\nOut[27]:\n   Id_Student Mathscore\n0           1    Strong\n1           2      Weak\n2           3      Weak\n3           4    Strong\n4           5    Strong\n5           6      Weak\n6           7    Strong\n7           8    Strong\n8           9      Weak\n9          10    Strong\n\nIn [28]: df.Mathscore.map(d)\nOut[28]:\n0    1\n1    0\n2    0\n3    1\n4    1\n5    0\n6    1\n7    1\n8    0\n9    1\nName: Mathscore, dtype: int64\n\nIn [29]: d\nOut[29]: {'Strong': 1, 'Weak': 0}\n\nIn [30]: df['Mathscore'] = df.Mathscore.map(d)\n\nIn [31]: df\nOut[31]:\n   Id_Student  Mathscore\n0           1          1\n1           2          0\n2           3          0\n3           4          1\n4           5          1\n5           6          0\n6           7          1\n7           8          1\n8           9          0\n9          10          1\n\nIn [32]: df.dtypes\nOut[32]:\nId_Student    int64\nMathscore     int64\ndtype: object\n</code></pre>\n\n<p>PS i prefer the first option as <code>categorical</code> dtype uses much less memory </p>\n"}, {"tags": [], "owner": {"reputation": 2447, "user_id": 3006366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xVcKL.png?s=128&g=1", "display_name": "ode2k", "link": "https://stackoverflow.com/users/3006366/ode2k"}, "is_accepted": false, "score": 1, "last_activity_date": 1473282477, "creation_date": 1473282477, "answer_id": 39379032, "question_id": 39378535, "link": "https://stackoverflow.com/questions/39378535/changing-data-in-a-dataframe-column-pandas-with-a-for-loop/39379032#39379032", "title": "Changing data in a DataFrame column (Pandas) with a For loop", "body": "<p>You could use:</p>\n\n<pre><code>df['Mathscore'] = df['Mathscore'].str.replace('Strong','1')\ndf['Mathscore'] = df['Mathscore'].str.replace('Weak','0')\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>In [1]: df\n\nOut[1]:\n\n   Id_Student Mathscore\n0           1         1\n1           2         0\n2           3         0\n3           4         1\n4           5         1\n5           6         0\n6           7         1\n7           8         1\n8           9         0\n9          10         1\n</code></pre>\n"}], "owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 39378624, "answer_count": 2, "score": 4, "last_activity_date": 1473362839, "creation_date": 1473280342, "question_id": 39378535, "link": "https://stackoverflow.com/questions/39378535/changing-data-in-a-dataframe-column-pandas-with-a-for-loop", "title": "Changing data in a DataFrame column (Pandas) with a For loop", "body": "<p>I'm trying to take the data from \"Mathscore\" and convert the values into numerical values, all under \"Mathscore.\"</p>\n\n<p>strong =1\nWeak = 0</p>\n\n<p>I tried doing this via the function below using For loop but I can't get the code to run.  Is the way I'm trying to assign data incorrect?</p>\n\n<p>Thanks! </p>\n\n<pre><code>import pandas as pd\n\ndata = {'Id_Student' : [1,2,3,4,5,6,7,8,9,10],'Mathscore' :['Strong','Weak','Weak','Strong','Strong','Weak','Strong','Strong','Weak','Strong']}\n\ndf = pd.DataFrame(data)\ndf\n\n# # Strong = 1 and Weak =0\n\n##def tran_mathscore(x): if x == 'Strong': return 1 if x == 'Weak': return 0\n##\n##df['Trans_MathScore'] = df['Mathscore'].apply(tran_mathscore)\n##df\n\n\n##df.Mathscore[0]=[\"Weak\"]\n\n##print(df.columns)\n##\n##\n##print(df.Mathscore)\n\ndef tran_mathscore():\n    for i in df.Mathscore:\n        if i == \"Strong\":\n        df.Mathscore[i]= ['1']\n\n    elif i == \"Weak\":\n        df.Mathscore[i]= ['0']\n\n\ntran_mathscore()\n</code></pre>\n"}, {"tags": ["python", "numpy", "pip", "upgrade"], "answers": [{"comments": [{"owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "edited": false, "score": 0, "creation_date": 1473281497, "post_id": 39378584, "comment_id": 66085529, "body": "I installed Homebrew and did <code>brew install python</code> and have successfully installed Python 2.7. And when I check <code>pip2 show numpy</code> it says version 1.11.1, which is what I want.  But when I actually run python and import numpy and check `np.version.version"}, {"owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "edited": false, "score": 0, "creation_date": 1473281562, "post_id": 39378584, "comment_id": 66085563, "body": "When I check <code>np.version.version</code> it still says <code>&#39;1.8.0rc1&#39;</code>. Do you know why it still loads the old version?"}], "tags": [], "owner": {"reputation": 8099, "user_id": 2797476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf9561473705b0e781edb4525bed2ac?s=128&d=identicon&r=PG", "display_name": "Christian Ternus", "link": "https://stackoverflow.com/users/2797476/christian-ternus"}, "is_accepted": false, "score": 1, "last_activity_date": 1473280584, "creation_date": 1473280584, "answer_id": 39378584, "question_id": 39378523, "link": "https://stackoverflow.com/questions/39378523/sudo-pip-install-upgrade-operation-not-permitted/39378584#39378584", "title": "Sudo pip install upgrade operation not permitted", "body": "<p>You're likely running into System Integrity Protection, the system introduced by Apple to prevent modification of system files (see <a href=\"https://apple.stackexchange.com/questions/209572/how-to-use-pip-after-the-os-x-el-capitan-upgrade\">this answer on Ask Different</a>). Your options are approximately:</p>\n\n<ul>\n<li>install your own version of Python (using Homebrew or another system, e.g. <code>brew install python</code>)</li>\n<li><a href=\"https://apple.stackexchange.com/questions/208478/how-do-i-disable-system-integrity-protection-sip-aka-rootless-on-os-x-10-11\">Disable System Integrity Protection</a> (not recommended unless you know what you're doing)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1041, "user_id": 3957071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TBVMc.jpg?s=128&g=1", "display_name": "CodenameDuchess", "link": "https://stackoverflow.com/users/3957071/codenameduchess"}, "is_accepted": false, "score": 1, "last_activity_date": 1513698105, "creation_date": 1513698105, "answer_id": 47890448, "question_id": 39378523, "link": "https://stackoverflow.com/questions/39378523/sudo-pip-install-upgrade-operation-not-permitted/47890448#47890448", "title": "Sudo pip install upgrade operation not permitted", "body": "<p>Seems the newer versions of Mac OS need the --user param... so try </p>\n\n<pre><code>sudo pip2 install --user --upgrade numpy\n</code></pre>\n"}], "owner": {"reputation": 1080, "user_id": 5196039, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/f5d10a65b4aa0e6281492ba26da873ee?s=128&d=identicon&r=PG&f=1", "display_name": "swagrov", "link": "https://stackoverflow.com/users/5196039/swagrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1573, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1513698105, "creation_date": 1473280310, "question_id": 39378523, "link": "https://stackoverflow.com/questions/39378523/sudo-pip-install-upgrade-operation-not-permitted", "title": "Sudo pip install upgrade operation not permitted", "body": "<p>I am trying to upgrade Numpy on Python 2.7 on Mac El Capitan, but I keep getting errors. I have Numpy v1.8.0rc1 and I need the latest one.</p>\n\n<p><code>sudo pip2 install --upgrade numpy</code></p>\n\n<p><code>...</code></p>\n\n<p><code>OSError: [Errno 1] Operation not permitted: '/tmp/pip-HUSiK5-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy-1.8.0rc1-py2.7.egg-info'</code></p>\n\n<p>If I do\n<code>which pip2</code>\nI get\n<code>/usr/local/bin/pip2</code></p>\n\n<p>And <code>which python</code> gives <code>/usr/bin/python</code></p>\n\n<p>Also, I installed Python 3.5, if that matters.</p>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "grid-search"], "answers": [{"comments": [{"owner": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "edited": false, "score": 0, "creation_date": 1473305492, "post_id": 39379186, "comment_id": 66091796, "body": "Were you able to get this to work? I got an error: IndexError: only integers, slices (<code>:</code>), ellipsis (<code>...</code>), numpy.newaxis (<code>None</code>) and integer or boolean arrays are valid indices"}, {"owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "reply_to_user": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "edited": false, "score": 0, "creation_date": 1473337760, "post_id": 39379186, "comment_id": 66107907, "body": "I&#39;ve edited a bit the code to correct a mistake  <code>arr[:,item[0]]</code> and swapped  arthmetic for bitwise operators and added example values so that it is copy/pastable. As it is now, it runs fine for me."}, {"owner": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "edited": false, "score": 0, "creation_date": 1473368727, "post_id": 39379186, "comment_id": 66126417, "body": "I think it only works for you b/c the columns of dosage_df and dict_of_dose_ranges has keys which are integers."}, {"owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "reply_to_user": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "edited": false, "score": 0, "creation_date": 1473405318, "post_id": 39379186, "comment_id": 66136904, "body": "@Afflatus I fixed it, it should work with all column names now."}], "tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": false, "score": 0, "last_activity_date": 1473405262, "last_edit_date": 1473405262, "creation_date": 1473283286, "answer_id": 39379186, "question_id": 39378510, "link": "https://stackoverflow.com/questions/39378510/iterating-across-multiple-columns-in-pandas-df-and-slicing-dynamically/39379186#39379186", "title": "Iterating across multiple columns in Pandas DF and slicing dynamically", "body": "<p>What about using the underlying numpy array and some boolean logic to build an array containing only the lines you want ?</p>\n\n<pre><code>dosage_df = pd.DataFrame((np.random.rand(40000,10)*100).astype(np.int))\ndict_of_dose_ranges={3:[10,11,12,13,15,20],4:[20,22,23,24]}\n\n#combined_doses will be bool array that will select all the lines that match the wanted combinations of doses\n\ncombined_doses=np.ones(dosage_df.shape[0]).astype(np.bool)\nfor item in dict_of_dose_ranges.items():\n    #item[0] is the kind of dose\n    #item[1] are the values of that kind of dose\n\n    next_dose=np.zeros(dosage_df.shape[0]).astype(np.bool)\n\n    #we then iterate over the wanted values\n    for value in item[1]:\n        # we select and \"logical or\" all lines matching the values\n        next_dose|=(dosage_df[item[0]] == value)\n    # we \"logical and\" all the kinds of dose\n    combined_doses&amp;=next_dose\n\nprint(dosage_df[combined_doses])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 2, "last_activity_date": 1473292069, "creation_date": 1473292069, "answer_id": 39380574, "question_id": 39378510, "link": "https://stackoverflow.com/questions/39378510/iterating-across-multiple-columns-in-pandas-df-and-slicing-dynamically/39380574#39380574", "title": "Iterating across multiple columns in Pandas DF and slicing dynamically", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow\"><code>itertools.product</code></a> to generate all possible dosage combinations, and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.query.html\" rel=\"nofollow\"><code>DataFrame.query</code></a> to do the selection:</p>\n\n<pre><code>from itertools import product\n\nfor dosage_comb in product(*dict_of_dose_ranges.values()):\n    dosage_items = zip(dict_of_dose_ranges.keys(), dosage_comb)\n    query_str = ' &amp; '.join('{} == {}'.format(*x) for x in dosage_items)\n    sub_df = dosage_df.query(query_str)\n\n    # Do Stuff...\n</code></pre>\n"}], "owner": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 39380574, "answer_count": 2, "score": 1, "last_activity_date": 1473801116, "creation_date": 1473280278, "last_edit_date": 1495535631, "question_id": 39378510, "link": "https://stackoverflow.com/questions/39378510/iterating-across-multiple-columns-in-pandas-df-and-slicing-dynamically", "title": "Iterating across multiple columns in Pandas DF and slicing dynamically", "body": "<p><strong>TLDR:</strong> How to iterate across all options of multiple columns in a pandas dataframe without specifying the columns or their values explicitly?</p>\n\n<p><strong>Long Version:</strong> I have a pandas dataframe that looks like this, only it has a lot more features or drug dose combinations than are listed here. Instead of just 3 types of features, it could have something like 70...:</p>\n\n<pre><code>&gt; dosage_df\n\nFirst Score Last Score  A_dose  B_dose  C_dose\n22          28          1       40      130\n55          11          2       40      130\n15          72          3       40      130\n42          67          1       90      130\n90          74          2       90      130\n87          89          3       90      130\n14          43          1       40      700\n12          61          2       40      700\n41          5           3       40      700\n</code></pre>\n\n<p>Along with my data frame, I also have a python dictionary with the relevant ranges for each feature. The keys are the feature names, and the different values which it can take are the keys:</p>\n\n<pre><code>&gt; dict_of_dose_ranges = {'A_dose': [1, 2, 3], 'B_dose': [40, 90], 'C_dose': [130,700]}\n</code></pre>\n\n<p>For my purposes, I need to generate a particular combination (say A_dose = 1, B_dose = 90, and C_dose = 700), and based on those settings take the relevant slice out of my dataframe, and do relevant calculations from that smaller subset, and save the results somewhere.</p>\n\n<p>I need to do this for ALL possible combinations of ALL of my features (far more than the 3 which are here, and which will be variable in the future). </p>\n\n<p>In this case, I could easily pop this into SkLearn's Parameter grid, generate the options:</p>\n\n<pre><code>&gt; from sklearn.grid_search import ParameterGrid\n&gt; all_options = list(ParameterGrid(dict_of_dose_ranges)) \n&gt; all_options\n</code></pre>\n\n<p>and get:</p>\n\n<pre><code>[{'A_dose': 1, 'B_dose': 40, 'C_dose': 130},\n {'A_dose': 1, 'B_dose': 40, 'C_dose': 700},\n {'A_dose': 1, 'B_dose': 90, 'C_dose': 130},\n {'A_dose': 1, 'B_dose': 90, 'C_dose': 700},\n {'A_dose': 2, 'B_dose': 40, 'C_dose': 130},\n {'A_dose': 2, 'B_dose': 40, 'C_dose': 700},\n {'A_dose': 2, 'B_dose': 90, 'C_dose': 130},\n {'A_dose': 2, 'B_dose': 90, 'C_dose': 700},\n {'A_dose': 3, 'B_dose': 40, 'C_dose': 130},\n {'A_dose': 3, 'B_dose': 40, 'C_dose': 700},\n {'A_dose': 3, 'B_dose': 90, 'C_dose': 130},\n {'A_dose': 3, 'B_dose': 90, 'C_dose': 700}]\n</code></pre>\n\n<p><strong>This is where I run into problems:</strong></p>\n\n<p><strong>Problem #1)</strong> I can now iterate across <code>all_options</code>, but I'm not sure how to now SELECT out of my <code>dosage_df</code> from each of the dictionary options (i.e. {'A_dose': 1, 'B_dose': 40, 'C_dose': 130}) WITHOUT doing it explicitly. </p>\n\n<p>In the past, I could do something like:</p>\n\n<pre><code>dosage_df[(dosage_df.A_dose == 1) &amp; (dosage_df.B_dose == 40) &amp; (dosage_df.C_dose == 130)]\n\nFirst Score Last Score  A_dose  B_dose  C_dose\n0           22          28      140     130\n</code></pre>\n\n<p>But now I'm not sure what to put inside the brackets to slice it dynamically...</p>\n\n<pre><code>dosage_df[?????]\n</code></pre>\n\n<p><strong>Problem #2)</strong> When I actually enter in my full dictionary of features with their respective ranges, I get an error because it deems it as having too many options... </p>\n\n<pre><code>from sklearn.grid_search import ParameterGrid\nall_options = list(ParameterGrid(dictionary_of_features_and_ranges)) \nall_options\n\n---------------------------------------------------------------------------\nOverflowError                             Traceback (most recent call last)\n&lt;ipython-input-138-7b73d5e248f5&gt; in &lt;module&gt;()\n      1 from sklearn.grid_search import ParameterGrid\n----&gt; 2 all_options = list(ParameterGrid(dictionary_of_features_and_ranges))\n      3 all_options\n\nOverflowError: long int too large to convert to int\n</code></pre>\n\n<p>I tried a number of alternate approaches including using double while loops, a <a href=\"https://stackoverflow.com/questions/23986892/python-recursive-iteration-exceeding-limit-for-tree-implementation\">tree / recursion method from here</a>, another <a href=\"https://stackoverflow.com/questions/13109274/python-recursion-permutations\">recursion method from here</a>, but it wasn't coming together.... Any help is much appreciated. </p>\n"}, {"tags": ["python", "linux", "strftime"], "owner": {"reputation": 1888, "user_id": 2168706, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/JB0GQ.jpg?s=128&g=1", "display_name": "Santosh Sahu", "link": "https://stackoverflow.com/users/2168706/santosh-sahu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1473280342, "creation_date": 1473280105, "last_edit_date": 1473280342, "question_id": 39378470, "link": "https://stackoverflow.com/questions/39378470/strftime-syntax-while-sending-command-with-sshclient-exec-command", "title": "strftime syntax while sending command with sshclient_exec_command", "body": "<p>I am getting the current time from system with datetime and storing it as string(timenow), but there is some behaviour difference when i send it to set in linux through sshclient_exec_command.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>timenow = datetime.datetime.utcnow().strftime(\"%Y-%m-%d %H:%M:%S\")\ncommand = 'date -s %s' %timenow\nstdin, stdout, stderr = self._sshclient.exec_command(command, timeout=10)\ntry:\n    command = 'date +\"%Y-%m-%d %H:%M:%S\"'\n    stdin, stdout, stderr = self._sshclient.exec_command(command, timeout=10)\n    ip_time_now = stdout.read().decode(encoding='UTF-8').rstrip('\\n')\n    self.logger.debug(\" ip=%s timenow=%s ip_time_now=%s\",ip, timenow,ip_time_now)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code> timenow=2016-09-07 20:15:26 ip_time_now=2016-09-07 21:06:24\n</code></pre>\n\n<p>Both timenow and ip_time_now are supposed to be same from the operations</p>\n\n<p>Here if I replace the timenow line with </p>\n\n<pre><code>timenow = datetime.datetime.utcnow().strftime(\"%H:%M:%S\")  #passes, but without \n                                                      setting the year and month\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>timenow=20:25:49 ip_time_now=2016-09-07 20:25:50 #1 sec diff is ok\n</code></pre>\n\n<p>Note: There is no exception in the output while executing the commands</p>\n\n<p>What would be possible solution for the strftime syntax?</p>\n"}, {"tags": ["python", "multithreading", "dictionary"], "comments": [{"owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1473281496, "post_id": 39378382, "comment_id": 66085528, "body": "sorry @martineau, just edited the question to better reflect what I meant to ask."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1473282826, "post_id": 39378382, "comment_id": 66086142, "body": "Sorry, your edit didn&#39;t help much...it&#39;s still unclear what you&#39;re trying to accomplish and the pseudo-code in your question doesn&#39;t clarify things enough, I&#39;m afraid. It would probably best if you provided a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> illustrating the problem."}, {"owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1473287127, "post_id": 39378382, "comment_id": 66087664, "body": "@martineau Any better?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1473290878, "post_id": 39378382, "comment_id": 66088687, "body": "It&#39;s better...and almost a MCVE, but the <code>ev_array</code> was undefined. If I add a <code>ev_array = []</code> statement at the top, it runs without error and produced the dictionary: <code>{&#39;aapl&#39;: 602658308096L, &#39;googl&#39;: 484659986432L, &#39;nvda&#39;: 30338199552L}</code>. What&#39;s wrong with the symbol/value pairings\u2014what should they be?"}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1473315502, "last_edit_date": 1473315502, "creation_date": 1473292542, "answer_id": 39380627, "question_id": 39378382, "link": "https://stackoverflow.com/questions/39378382/maintaining-dictionary-integrity-while-running-it-through-multithread-process/39380627#39380627", "title": "Maintaining Dictionary Integrity While Running it Through Multithread Process", "body": "<p>To make it easy to maintain the correspondence between input and output, the <code>ev_array</code> can be preallocated so it's the same size as the <code>ticker</code> array, and the <code>fetch_ev()</code> thread function can be given an extra argument specifying the index of the location in that array to store the value fetched.</p>\n\n<p>The maintain the integrity of the <code>ev_array</code>, a <code>threading.RLock</code> was added to prevent concurrent access to the shared resource which might otherwise be written to simultaneously by more than one thread. (Since its contents are now referenced directly through the index passed to <code>fetch_ev()</code>, this may not be strictly necessary.)</p>\n\n<p>I don't know the proper ticker \u2194 enterprise value concurrence to be able to verify the results that doing this produces:</p>\n\n<pre><code>{'aapl': 602658308096L, 'googl': 484659986432L, 'nvda': 30338199552L}\n</code></pre>\n\n<p>but at least they're now the same each time it's run.</p>\n\n<pre><code>import requests\nimport pprint\nimport threading\n\ndef fetch_ev(index, url):  # index parameter added\n    response = requests.get(url)\n    response.raise_for_status()\n    data = response.json()\n    ev_single = data['quoteSummary']['result'][0][\n                     'defaultKeyStatistics']['enterpriseValue']['raw']\n    with ev_array_lock:\n        ev_array[index] = ev_single  # store enterprise value obtained\n\ntickers = ['aapl', 'googl', 'nvda']\nev_array = [None] * len(tickers)  # preallocate to hold results\nev_array_lock = threading.RLock()  # to synchronize concurrent array access\nurls = ['https://query2.finance.yahoo.com/v10/finance/quoteSummary/{}'\n        '?formatted=true&amp;crumb=8ldhetOu7RJ&amp;lang=en-US&amp;region=US'\n        '&amp;modules=defaultKeyStatistics%2CfinancialData%2CcalendarEvents'\n        '&amp;corsDomain=finance.yahoo.com'.format(symbol)\n           for symbol in tickers]\nthreads = [threading.Thread(target=fetch_ev, args=(i, url))\n                for i, url in enumerate(urls)]  # activities to obtain ev's\n\nfor thread in threads:\n    thread.start()\nfor thread in threads:\n    thread.join()\npprint.pprint(dict(zip(tickers, ev_array)))\n</code></pre>\n"}], "owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 39380627, "answer_count": 1, "score": 2, "last_activity_date": 1473315502, "creation_date": 1473279681, "last_edit_date": 1473284494, "question_id": 39378382, "link": "https://stackoverflow.com/questions/39378382/maintaining-dictionary-integrity-while-running-it-through-multithread-process", "title": "Maintaining Dictionary Integrity While Running it Through Multithread Process", "body": "<p>I sped up a process by using a multithread function, however I need to maintain a relationship between the output and input. </p>\n\n<pre><code>import requests\nimport pprint\nimport threading\n\nticker = ['aapl', 'googl', 'nvda']\nurl_array = []\n\nfor i in ticker:\n    url = 'https://query2.finance.yahoo.com/v10/finance/quoteSummary/' + i + '?formatted=true&amp;crumb=8ldhetOu7RJ&amp;lang=en-US&amp;region=US&amp;modules=defaultKeyStatistics%2CfinancialData%2CcalendarEvents&amp;corsDomain=finance.yahoo.com'\n    url_array.append(url)\n\n\ndef fetch_ev(url):\n    urlHandler = requests.get(url)\n    data = urlHandler.json()\n    ev_single = data['quoteSummary']['result'][0]['defaultKeyStatistics']['enterpriseValue']['raw']\n    ev_array.append(ev_single)  # makes array of enterprise values\n\nthreads = [threading.Thread(target=fetch_ev, args=(url,)) for url in\n           url_array]  # calls multi thread that pulls enterprise value\n\n\nfor thread in threads:\n    thread.start()\nfor thread in threads:\n    thread.join()\n\npprint.pprint(dict(zip(ticker, ev_array)))\n</code></pre>\n\n<p>Sample output of the code: </p>\n\n<p>1) <code>{'aapl': '30.34B', 'googl': '484.66B', 'nvda': '602.66B'}</code></p>\n\n<p>2) <code>{'aapl': '484.66B', 'googl': '30.34B', 'nvda': '602.66B'}</code></p>\n\n<p>I need the value to be matched up with the correct ticker. </p>\n\n<p>Edit: I know dictionaries do not preserve order. Sorry, perhaps I was a little (very) unclear in my question. I have an array of ticker symbols, that matches the order of my url inputs.  After running <code>fetch_ev</code>, I want to combine these ticker symbols with the matching enterprise value or <code>ev_single</code>. The order that they are stored in does not matter, however the pairings (<em>k</em> <em>v</em> pairs) or which values are stored with which ticker is <em>very</em> important. </p>\n\n<p>Edit2 (MCVE) I changed the code to a simpler version of what I had- that shows the problem better. Sorry it's a little more complicated than I would have wanted complicated.</p>\n"}, {"tags": ["python", "numpy", "scipy", "sparse-matrix", "networkx"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1473281229, "post_id": 39378363, "comment_id": 66085391, "body": "A sparse matrix is not a dense array.  Look at <code>adj.data</code> and <code>adj.rows</code>.  For an <code>lil</code> matrix these are object arrays of list, one pair of sublists per row of the array."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1473282085, "post_id": 39378363, "comment_id": 66085790, "body": "<code>adj.A</code> or <code>adj.toarray()</code> produces an array"}, {"owner": {"reputation": 38, "user_id": 2952883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9a92bb309ac8b569f2eacf43272e28?s=128&d=identicon&r=PG&f=1", "display_name": "dmuhs", "link": "https://stackoverflow.com/users/2952883/dmuhs"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1473284756, "post_id": 39378363, "comment_id": 66086844, "body": "Thanks for your quick reply! I edited the question according to your proposed changes and my results. (I just changed the conversion line to <code>adj = adj.toarray()</code>)"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1473285947, "post_id": 39378363, "comment_id": 66087285, "body": "Is the whole row of <code>adj</code> NaN or just the nonzero values of the row?  A large sparse matrix may have thousands of columns, but only hundreds of non-zero entries per row.  Most values in a row will be 0 (and absent from the sparse data base)."}], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 2952883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9a92bb309ac8b569f2eacf43272e28?s=128&d=identicon&r=PG&f=1", "display_name": "dmuhs", "link": "https://stackoverflow.com/users/2952883/dmuhs"}, "edited": false, "score": 0, "creation_date": 1473368472, "post_id": 39379774, "comment_id": 66126294, "body": "This helped a lot! I have adapted my code accordingly. I also sliced with <code>adj = adj[ll,:][:,ll]</code> to keep the symmetry of the adjacency matrix. However either this or the <code>ll</code> list of indices seems to flood my RAM. Is there a more efficient way to get this done? The matrix has roughly 40k rows and columns."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 38, "user_id": 2952883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9a92bb309ac8b569f2eacf43272e28?s=128&d=identicon&r=PG&f=1", "display_name": "dmuhs", "link": "https://stackoverflow.com/users/2952883/dmuhs"}, "edited": false, "score": 0, "creation_date": 1473370321, "post_id": 39379774, "comment_id": 66127084, "body": "Indexing rows of a <code>lil</code> is efficient but removing columns will be messy, requiring changes to each subarray.  I&#39;d have to look at its code to see how does columns."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1473287094, "last_edit_date": 1473287094, "creation_date": 1473286278, "answer_id": 39379774, "question_id": 39378363, "link": "https://stackoverflow.com/questions/39378363/remove-nan-rows-in-a-scipy-sparse-matrix/39379774#39379774", "title": "Remove nan rows in a scipy sparse matrix", "body": "<p>If I make a sample array:</p>\n\n<pre><code>In [328]: A=np.array([[1,0,0,np.nan],[0,np.nan,np.nan,0],[1,0,1,0]])\nIn [329]: A\nOut[329]: \narray([[  1.,   0.,   0.,  nan],\n       [  0.,  nan,  nan,   0.],\n       [  1.,   0.,   1.,   0.]])\n\nIn [331]: M=sparse.lil_matrix(A)\n</code></pre>\n\n<p>This lil sparse matrix is stored in 2 arrays:</p>\n\n<pre><code>In [332]: M.data\nOut[332]: array([[1.0, nan], [nan, nan], [1.0, 1.0]], dtype=object)\nIn [333]: M.rows\nOut[333]: array([[0, 3], [1, 2], [0, 2]], dtype=object)\n</code></pre>\n\n<p>With your function, no rows will be removed, even though the middle row of the sparse matrix only contains <code>nan</code>.</p>\n\n<pre><code>In [334]: A[~np.all(np.isnan(A), axis=1)]\nOut[334]: \narray([[  1.,   0.,   0.,  nan],\n       [  0.,  nan,  nan,   0.],\n       [  1.,   0.,   1.,   0.]])\n</code></pre>\n\n<p>I could test the rows of <code>M</code> for <code>nan</code>, and identify the ones that only contain <code>nan</code> (besides 0s).  But it's probably easier to collect the ones that we want to keep. </p>\n\n<pre><code>In [346]: ll = [i for i,row in enumerate(M.data) if not np.all(np.isnan(row))]\nIn [347]: ll\nOut[347]: [0, 2]\nIn [348]: M[ll,:]\nOut[348]: \n&lt;2x4 sparse matrix of type '&lt;class 'numpy.float64'&gt;'\n    with 4 stored elements in LInked List format&gt;\nIn [349]: _.A\nOut[349]: \narray([[  1.,   0.,   0.,  nan],\n       [  1.,   0.,   1.,   0.]])\n</code></pre>\n\n<p>A row of <code>M</code> is a list, but <code>np.isnan(row)</code> will convert it to an array and do it's array test.</p>\n"}], "owner": {"reputation": 38, "user_id": 2952883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9a92bb309ac8b569f2eacf43272e28?s=128&d=identicon&r=PG&f=1", "display_name": "dmuhs", "link": "https://stackoverflow.com/users/2952883/dmuhs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3240, "favorite_count": 0, "accepted_answer_id": 39379774, "answer_count": 1, "score": 1, "last_activity_date": 1473287094, "creation_date": 1473279604, "last_edit_date": 1495542767, "question_id": 39378363, "link": "https://stackoverflow.com/questions/39378363/remove-nan-rows-in-a-scipy-sparse-matrix", "title": "Remove nan rows in a scipy sparse matrix", "body": "<p>I am given a (normalized) sparse adjacency matrix and a list of labels for the respective matrix rows. Because some nodes have been removed by another sanitization function, there are some rows containing NaNs in the matrix. I want to find these rows and remove them <em>as well as their respective labels</em>. Here is the function I wrote:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def sanitize_nan_rows(adj, labels):\n    # convert to numpy array and keep dimension\n    adj = np.array(adj, ndmin=2)\n\n    for i, row in enumerate(adj):\n        # check if row all nans\n        if np.all(np.isnan(row)):\n            # print(\"Removing nan row label in %s\" % i)\n            # remove row index from labels\n            del labels[i]\n    # remove all nan rows\n    adj = adj[~np.all(np.isnan(adj), axis=1)]\n    # return sanitized adj and labels_clean\n    return adj, labels\n</code></pre>\n\n<p><code>labels</code> is a simple Python list and <code>adj</code> has the type <code>&lt;class 'scipy.sparse.lil.lil_matrix'&gt;</code> (containing elements of type <code>&lt;class 'numpy.float64'&gt;</code>), which are both the result of</p>\n\n<pre><code>adj, labels = nx.attr_sparse_matrix(infected, normalized=True)\n</code></pre>\n\n<p>On execution I get the following error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-503-8a404b58eaa9&gt; in &lt;module&gt;()\n----&gt; 1 adj, labels = sanitize_nans(adj, labels)\n\n&lt;ipython-input-502-ead99efec677&gt; in sanitize_nans(adj, labels)\n      6     for i, row in enumerate(adj):\n      7         # check if row all nans\n----&gt; 8         if np.all(np.isnan(row)):\n      9             print(\"Removing nan row label in %s\" % i)\n     10             # remove row index from labels\n\nTypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\n</code></pre>\n\n<p>So I thought that SciPy NaNs were different from numpy NaNs. After that I tried to convert the sparse matrix into a numpy array (taking the risk of flooding my RAM, because the matrix has about 40k rows and columns). When running it, the error stays the same however. It seems that the <code>np.array()</code> call just wrapped the sparse matrix and didn't convert it, as <code>type(row)</code> inside the for loop still outputs <code>&lt;class 'scipy.sparse.lil.lil_matrix'&gt;</code></p>\n\n<p>So my question is how to resolve this issue and whether there is a better approach that gets the job done. I am fairly new to numpy and scipy (as used in networkx), so I'd appreciate an explanation. Thank you!</p>\n\n<p>EDIT: After changing the conversion to what <a href=\"https://stackoverflow.com/users/901925/hpaulj\">hpaulj</a> proposed, I'm getting a MemoryError:</p>\n\n<pre><code>---------------------------------------------------------------------------\nMemoryError                               Traceback (most recent call last)\n&lt;ipython-input-519-8a404b58eaa9&gt; in &lt;module&gt;()\n----&gt; 1 adj, labels = sanitize_nans(adj, labels)\n\n&lt;ipython-input-518-44201f4ff35c&gt; in sanitize_nans(adj, labels)\n      1 def sanitize_nans(adj, labels):\n----&gt; 2     adj = adj.toarray()\n      3 \n      4     for i, row in enumerate(adj):\n      5         # check if row all nans\n\n/usr/lib/python3/dist-packages/scipy/sparse/lil.py in toarray(self, order, out)\n    348     def toarray(self, order=None, out=None):\n    349         \"\"\"See the docstring for `spmatrix.toarray`.\"\"\"\n--&gt; 350         d = self._process_toarray_args(order, out)\n    351         for i, row in enumerate(self.rows):\n    352             for pos, j in enumerate(row):\n\n    /usr/lib/python3/dist-packages/scipy/sparse/base.py in_process_toarray_args(self, order, out)\n    697             return out\n    698         else:\n--&gt; 699             return np.zeros(self.shape, dtype=self.dtype, order=order)\n    700 \n    701 \n\nMemoryError: \n</code></pre>\n\n<p>So apparently I'll have to stick with the sparse matrix to save RAM.</p>\n"}, {"tags": ["python", "bottle"], "comments": [{"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "edited": false, "score": 1, "creation_date": 1473280234, "post_id": 39378332, "comment_id": 66084969, "body": "&#204;t seems that the indentation of your <code>temp_modification</code> function is strange. Could you check it?"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1473280256, "post_id": 39378332, "comment_id": 66084979, "body": "Is your table called <code>database</code>?"}, {"owner": {"reputation": 31, "user_id": 6626336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f44711a43586b48d19e0f20d3ba16f1?s=128&d=identicon&r=PG&f=1", "display_name": "Noobs101", "link": "https://stackoverflow.com/users/6626336/noobs101"}, "edited": false, "score": 0, "creation_date": 1473280411, "post_id": 39378332, "comment_id": 66085041, "body": "The indentation is good, upload problem i must correct that, and yes my table is called database"}], "answers": [{"comments": [{"owner": {"reputation": 7900, "user_id": 2259934, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/lqiMo.jpg?s=128&g=1", "display_name": "Paul Becotte", "link": "https://stackoverflow.com/users/2259934/paul-becotte"}, "edited": false, "score": 0, "creation_date": 1487257160, "post_id": 42276444, "comment_id": 71711097, "body": "the form is also set to make a GET request"}], "tags": [], "owner": {"reputation": 91, "user_id": 2787444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d880598f7a93e159702d3310aaa6a0dd?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Lutz", "link": "https://stackoverflow.com/users/2787444/jason-lutz"}, "is_accepted": false, "score": 0, "last_activity_date": 1487254541, "creation_date": 1487254541, "answer_id": 42276444, "question_id": 39378332, "link": "https://stackoverflow.com/questions/39378332/updating-database-bottle-sqlite/42276444#42276444", "title": "Updating database bottle sqlite", "body": "<p>Do you know if your code is actually being hit when the form is submitted? Your form action in the template is set to submit the form to \"/\", but your bottle code looks like it is set to \"/mtemp\". I wouldn't expect this code to work as is. You would need to change your form action to be \"/mtemp\".</p>\n"}], "owner": {"reputation": 31, "user_id": 6626336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f44711a43586b48d19e0f20d3ba16f1?s=128&d=identicon&r=PG&f=1", "display_name": "Noobs101", "link": "https://stackoverflow.com/users/6626336/noobs101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1487254541, "creation_date": 1473279466, "last_edit_date": 1473280480, "question_id": 39378332, "link": "https://stackoverflow.com/questions/39378332/updating-database-bottle-sqlite", "title": "Updating database bottle sqlite", "body": "<p>I'm trying to make a little web app to manage a greenhouse, but I can't update my database.</p>\n\n<p>I tried with a <code>GET</code> and a <code>POST</code> method but nothing happened.</p>\n\n<p>I don't have an error code or something, so I don't see where the problem is.</p>\n\n<p>Below you can see the static page where I try to enter a number and update the database</p>\n\n<p>Here is my Python app :</p>\n\n<pre><code>@route('/mtemp', method=['GET', 'POST'])\ndef temp_modification():\n\n\n        if request.GET.get('save'):\n              new_temp = request.GET.get('ntemp')\n              new_temp = int(new_temp)\n              conn = sqlite3.connect('database.db')\n              c = conn.cursor()\n              c.execute(\"UPDATE database SET temp = ?\", (new_temp))\n              conn.commit()\n\n              redirect(\"/\")\n       else:\n              conn = sqlite3.connect('database.db')\n              c = conn.cursor()\n              c.execute(\"SELECT temp FROM database\")\n              cur_data = c.fetchone()\n              cur_data = str(cur_data)\n              for char in b:\n                    cur_data = cur_data.replace(char, \"\")\n\n\nreturn template('modtemp', old=cur_data)\n\n\nrun(host = '0.0.0.0', port=8080, debug=True, reloader=True)\n</code></pre>\n\n<p>and my template :</p>\n\n<pre><code>&lt;p&gt;Nouvelle Temp\u00e9rature : &lt;/p&gt;\n&lt;form action=\"/\" method=\"GET\"&gt;\n&lt;input type=\"number\"  name=\"ntemp\" value=\"{{old}}\" &gt;\n&lt;input type=\"submit\" name\"save\" value=\"save\"&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1473279649, "creation_date": 1473279649, "answer_id": 39378372, "question_id": 39378331, "link": "https://stackoverflow.com/questions/39378331/convert-columns-from-a-data-frame-to-a-list-of-dicts-efficiently/39378372#39378372", "title": "Convert columns from a data frame to a list of dicts efficiently", "body": "<p>is that what you want?</p>\n\n<pre><code>In [9]: df.to_dict('r')\nOut[9]:\n[{'a': 1.3720225964856179,\n  'b': -1.1530341240730422,\n  'c': -0.18791193632296455},\n {'a': 1.3283240103713496, 'b': 3.6614598433626959, 'c': -0.46395170547460196},\n {'a': -1.4960282310010959,\n  'b': 0.25156344524211743,\n  'c': -1.3664311385849288},\n {'a': -0.11601714495988308,\n  'b': -0.73400546410732148,\n  'c': 0.9131316189984563},\n {'a': 0.27404065198912386,\n  'b': -3.1246509560345261,\n  'c': 0.67227710572588184},\n {'a': 1.3390654954886572, 'b': -0.80535280826120292, 'c': -1.78092490531724},\n {'a': -0.13911682611874573,\n  'b': 1.6846890792762916,\n  'c': 0.22985191293512194},\n {'a': -0.22058925847227495,\n  'b': -0.29342906413451442,\n  'c': -1.1181888670510167},\n {'a': 3.2190577575509951, 'b': 0.59152576294942738, 'c': -1.3474566325216308},\n {'a': -0.53486658456919434, 'b': 0.14390073779727405, 'c': 1.2214292373636}]\n</code></pre>\n\n<p>data:</p>\n\n<pre><code>In [10]: df\nOut[10]:\n          a         b         c\n0  1.372023 -1.153034 -0.187912\n1  1.328324  3.661460 -0.463952\n2 -1.496028  0.251563 -1.366431\n3 -0.116017 -0.734005  0.913132\n4  0.274041 -3.124651  0.672277\n5  1.339065 -0.805353 -1.780925\n6 -0.139117  1.684689  0.229852\n7 -0.220589 -0.293429 -1.118189\n8  3.219058  0.591526 -1.347457\n9 -0.534867  0.143901  1.221429\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 4830062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/efced4d31c32838f5fc6d99882ba77ef?s=128&d=identicon&r=PG&f=1", "display_name": "J_Heads", "link": "https://stackoverflow.com/users/4830062/j-heads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 39378372, "answer_count": 1, "score": 2, "last_activity_date": 1473280072, "creation_date": 1473279464, "last_edit_date": 1473280072, "question_id": 39378331, "link": "https://stackoverflow.com/questions/39378331/convert-columns-from-a-data-frame-to-a-list-of-dicts-efficiently", "title": "Convert columns from a data frame to a list of dicts efficiently", "body": "<p>I am converting columns of data frame to to a list of dictionaries, however, due to the number of columns and number of observations in my data frame I run out of memory using my current approach:</p>\n\n<pre><code>df = pd.DataFrame(np.random.randn(10, 3), columns=['a', 'b', 'c'])\ndf.T.to_dict().values()\n</code></pre>\n\n<p>Is there a more efficient way I can do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1473279757, "post_id": 39378313, "comment_id": 66084752, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your code and accurately describe the problem.   StackOverflow is not a coding or tutorial service."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1473279839, "post_id": 39378313, "comment_id": 66084792, "body": "Let me search the package for you ... <a href=\"https://pypi.python.org/pypi/DateTime/4.0.1\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/DateTime/4.0.1</a>"}, {"owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1473360684, "post_id": 39378313, "comment_id": 66122392, "body": "sorry I forgot to attach code. that. Will note it down. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "is_accepted": true, "score": 0, "last_activity_date": 1473360735, "creation_date": 1473360735, "answer_id": 39398238, "question_id": 39378313, "link": "https://stackoverflow.com/questions/39378313/how-to-convert-1245pm-0100pm-today-september-7-into-utc/39398238#39398238", "title": "How to convert &quot;12:45pm - 01:00pm Today, September 7&quot; into UTC", "body": "<pre><code>developed the script to achieve it.\n\n    def appointment_time_string(time_str):\n        import datetime\n        a = time_str.split()[0]\n\n        in_time = datetime.datetime.strptime(a,'%I:%M%p')\n\n        start_time = str(datetime.datetime.strftime(in_time, \"%H:%M:%S\")) + \"Z\"\n\n        if time_str.split()[3] == 'Today,':\n            start_date = datetime.datetime.utcnow().strftime(\"%Y-%m-%dT\")\n        elif time_str.split()[3] == 'Tomorrow,':\n            today = datetime.date.today( )\n            start_date = (today + datetime.timedelta(days=1)).strftime(\"%Y-%m-%dT\")\n\n        appointment_time = str(start_date) + str(start_time)\n\n        return appointment_time\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 1637154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hgPOB.jpg?s=128&g=1", "display_name": "born2Learn", "link": "https://stackoverflow.com/users/1637154/born2learn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 39398238, "answer_count": 1, "score": -1, "last_activity_date": 1473360735, "creation_date": 1473279388, "last_edit_date": 1473280965, "question_id": 39378313, "link": "https://stackoverflow.com/questions/39378313/how-to-convert-1245pm-0100pm-today-september-7-into-utc", "title": "How to convert &quot;12:45pm - 01:00pm Today, September 7&quot; into UTC", "body": "<p>I have the following time string </p>\n\n<pre><code>12:45pm - 01:00pm Today, September 7\n</code></pre>\n\n<p>and I want to convert this string into UTC datetime in the following format</p>\n\n<pre><code>2016-09-07T22:45:00Z\n</code></pre>\n\n<p>How can I achieve this in python?</p>\n"}, {"tags": ["python", "raspberry-pi", "pygame", "image-manipulation", "raspberry-pi2"], "comments": [{"owner": {"reputation": 427, "user_id": 3526142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9bc7ab613f9113941d240ad02eee43?s=128&d=identicon&r=PG&f=1", "display_name": "KSab", "link": "https://stackoverflow.com/users/3526142/ksab"}, "edited": false, "score": 3, "creation_date": 1473289958, "post_id": 39378309, "comment_id": 66088476, "body": "I would be interested to see if you got significantly improved load times by tiling all your images into one very large image and loading it all at once, and then use <code>Surface.subsurface</code> (along with some metadata from another file perhaps?) to split it up. If it is taking a long time to initialize something in the sd card drivers or something, but not the actual loading this might help. If it is the actual read times I can&#39;t see how doing anything but using lower res images (and then if you wanted <code>pygame.transform.smoothscale</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 8357167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsuFg.png?s=128&g=1", "display_name": "Omega0x013", "link": "https://stackoverflow.com/users/8357167/omega0x013"}, "is_accepted": false, "score": 0, "last_activity_date": 1531758227, "creation_date": 1531758227, "answer_id": 51366264, "question_id": 39378309, "link": "https://stackoverflow.com/questions/39378309/pygame-on-raspberry-pi-2-faster-loading-than-pygame-image-load-possible/51366264#51366264", "title": "PyGame on Raspberry Pi 2: Faster loading than pygame.image.load() possible?", "body": "<p>assuming that you are trying to avoid a wait between slides, you should pre-load all of your images in the loading phase before you begin attempting to show them, or make each slide last longer than the image loading time, so load the next image during that time where nothing else is happening.</p>\n"}], "owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1531758227, "creation_date": 1473279376, "last_edit_date": 1473317856, "question_id": 39378309, "link": "https://stackoverflow.com/questions/39378309/pygame-on-raspberry-pi-2-faster-loading-than-pygame-image-load-possible", "title": "PyGame on Raspberry Pi 2: Faster loading than pygame.image.load() possible?", "body": "<p>I started to play around a bit with PyGame and I wrote a slideshow for showing images fullscreen on my Raspberry Pi 2.</p>\n\n<p>Everything is working fine, except that loading files takes (in my opinion) far too long.</p>\n\n<p>The images I used for testing are locally stored on the RPi 2, <code>4608x3456</code> in dimension and about <code>3MB</code> in size.</p>\n\n<p>Following code (MCVE) is used for loading a file (only one is loaded at a time):</p>\n\n<pre><code>start_loading_time = time.time()\nimg = pygame.image.load(file)\nelapsed_loading_time = time.time() - start_loading_time\nprint(\"Image loading took {}s\".format(elapsed_loading_time))\n</code></pre>\n\n<p>which returns on average a loading time of 2.8 seconds.</p>\n\n<p>I know that the RPi 2 has to load everything from a SD card, but I think this is still a very long loading time for a <code>3MB</code> image.</p>\n\n<p>Is there anything I can do about the loading time except pre-processing the images with some tool to reduce their resoluting, resulting in smaller images?</p>\n"}, {"tags": ["python", "linux", "python-2.7", "python-3.x", "freebsd"], "comments": [{"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 2, "creation_date": 1473279352, "post_id": 39378288, "comment_id": 66084580, "body": "Are you getting some sort of error?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "edited": false, "score": 0, "creation_date": 1473283102, "post_id": 39378425, "comment_id": 66086241, "body": "FreeBSD cascade.toyon.corp 10.3-STABLE FreeBSD 10.3-STABLE #0 455d13d(9.10-STABLE): Sun Jun 26 22:47:03 PDT 2016     root@build.ixsystems.com:/tank/home/nightlies/build-freenas9&zwnj;&#8203;/_BE/objs/tank/home/&zwnj;&#8203;nightlies/build-free&zwnj;&#8203;nas9/_BE/trueos/sys/&zwnj;&#8203;FreeNAS.amd64  amd64"}, {"owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "edited": false, "score": 0, "creation_date": 1473283137, "post_id": 39378425, "comment_id": 66086262, "body": "cat: /etc/issue: No such file or directory"}, {"owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "edited": false, "score": 0, "creation_date": 1473283171, "post_id": 39378425, "comment_id": 66086276, "body": "cat: /proc/version: No such file or directory"}, {"owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "edited": false, "score": 0, "creation_date": 1473283187, "post_id": 39378425, "comment_id": 66086283, "body": "the outputs respectively"}, {"owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "edited": false, "score": 0, "creation_date": 1473283649, "post_id": 39378425, "comment_id": 66086452, "body": "apparently the freeBSD equivalent of apt-get is pkg when i run the command <code>sudo pkg install python3-3_3</code> it throws this:  <code>pkg: archive_read_open_filename(&#47;&#47;usr&#47;ports&#47;packages&#47;All&#47;python34&zwnj;&#8203;-3.4.4_3.txz): Failed to open &#39;&#47;&#47;usr&#47;ports&#47;packages&#47;All&#47;python34-3.4.4_3.txz&#39;</code>"}], "tags": [], "owner": {"reputation": 131, "user_id": 1592286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b12e662196a49c6f5f6b5e116d8c05?s=128&d=identicon&r=PG", "display_name": "akubot", "link": "https://stackoverflow.com/users/1592286/akubot"}, "is_accepted": false, "score": 1, "last_activity_date": 1473279875, "last_edit_date": 1492086165, "creation_date": 1473279875, "answer_id": 39378425, "question_id": 39378288, "link": "https://stackoverflow.com/questions/39378288/how-to-update-python-2-7-to-3-5-on-a-freenas-os/39378425#39378425", "title": "How to update python 2.7 to 3.5 on a freeNAS os", "body": "<p>Is your freeNAS server the kind that is built on Debian?</p>\n\n<p>If so you can try:</p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install python3.5\n</code></pre>\n\n<p>See:</p>\n\n<p><a href=\"https://askubuntu.com/questions/682869/how-do-i-install-newer-python-versions-using-apt-get\">https://askubuntu.com/questions/682869/how-do-i-install-newer-python-versions-using-apt-get</a></p>\n\n<p>If the above doesn't work, try posting here the output from these commands:</p>\n\n<pre><code>uname -a\ncat /etc/issue\ncat /proc/version\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6341965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b904317bac8f30209a0103d8cb3d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Nolan McCarthy", "link": "https://stackoverflow.com/users/6341965/nolan-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 0, "closed_date": 1473279980, "answer_count": 1, "score": 0, "last_activity_date": 1473284296, "creation_date": 1473279266, "last_edit_date": 1473284296, "question_id": 39378288, "link": "https://stackoverflow.com/questions/39378288/how-to-update-python-2-7-to-3-5-on-a-freenas-os", "closed_reason": "Not suitable for this site", "title": "How to update python 2.7 to 3.5 on a freeNAS os", "body": "<p>I have tried pip, easy_install, pkg update, pkg install, and building from source and all have failed. All I want to do is be able to have python 3.5 run and I am getting desperate at this point.</p>\n"}, {"tags": ["python", "django", "python-wheel"], "answers": [{"comments": [{"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1473456094, "post_id": 39417056, "comment_id": 66164845, "body": "Ok, got it! at first it didn&#39;t sound right having config stuff on wheels but thanks for the confirmation ;D"}], "tags": [], "owner": {"reputation": 2063, "user_id": 116042, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a464f1f39d9d840f9ca156e9abcfd4a9?s=128&d=identicon&r=PG", "display_name": "Pete", "link": "https://stackoverflow.com/users/116042/pete"}, "is_accepted": true, "score": 1, "last_activity_date": 1473442976, "last_edit_date": 1495535350, "creation_date": 1473442976, "answer_id": 39417056, "question_id": 39378247, "link": "https://stackoverflow.com/questions/39378247/absolute-path-error-when-building-wheel/39417056#39417056", "title": "Absolute path error when building wheel", "body": "<p>Wheels should be used for bundling Python code. It's not for configuration management (where Nginx configurations would typically be handled).</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/a/34204582/116042\">https://stackoverflow.com/a/34204582/116042</a></p>\n"}], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 39417056, "answer_count": 1, "score": 2, "last_activity_date": 1473442976, "creation_date": 1473279087, "question_id": 39378247, "link": "https://stackoverflow.com/questions/39378247/absolute-path-error-when-building-wheel", "title": "Absolute path error when building wheel", "body": "<p><strong>OVERVIEW</strong></p>\n\n<p>I'm trying to learn how to build wheels on my windows dev box so hopefully I'll have a nice way to deploy django websites on linux boxes. But right now I'm stuck with a little error.</p>\n\n<p>Here's my setup.py:</p>\n\n<pre><code>from setuptools import setup, find_packages\n\nsetup(name='pkg',\n      version=\"1.0\",\n      packages=find_packages(),\n      data_files=[('/etc/nginx/sites-available', ['foo.conf'])]\n      )\n</code></pre>\n\n<p>When i try to do <code>&gt;python setup.py bdist_wheel</code> I'm getting this error:</p>\n\n<pre><code>raise ValueError, \"path '%s' cannot be absolute\" % pathname\n</code></pre>\n\n<p>It seems the way I'm using data_files is not supported. </p>\n\n<p><strong>QUESTION</strong></p>\n\n<p>What's the right way to deploy config files using <a href=\"http://pythonwheels.com/\" rel=\"nofollow\">wheels</a> &amp; <a href=\"https://docs.python.org/2/distutils/setupscript.html\" rel=\"nofollow\">setup.py</a>?</p>\n"}, {"tags": ["python", "xml", "python-3.5"], "comments": [{"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 1, "creation_date": 1473278941, "post_id": 39378160, "comment_id": 66084399, "body": "If your <code>str_data</code> is in fact a string, have you tried simply doing a replace for the specific characters you don&#39;t want?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1473279363, "post_id": 39378160, "comment_id": 66084587, "body": "in Python 3 <code>read()</code> gives <code>bytes</code> and you have to use <code>decode()</code> to convert it to string/unicode - you can&#39;t use <code>str()</code>. Or better open file as <code>&#39;wb&#39;</code> and write data without <code>str()</code> - <code>f.write(str_data)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1473279877, "creation_date": 1473279877, "answer_id": 39378426, "question_id": 39378160, "link": "https://stackoverflow.com/questions/39378160/parsing-xml-from-websites-and-save-the-code/39378426#39378426", "title": "Parsing XML from websites and save the code?", "body": "<p><code>read()</code> returns data as <code>bytes</code> but you can save data without converting to <code>str()</code>. You have to open file in <code>byte</code> mode - <code>\"wb\"</code> - and write data.</p>\n\n<pre><code>import urllib.request\n\nweb_data = urllib.request.urlopen(\"http://ops.epo.org/3.1/rest-services/published-data/publication/docdb/EP1000000/biblio\")\ndata = web_data.read()\n\ntry:\n   f = open(\"file.xml\", \"wb\")\n   f.write(data)\n   print(\"SUCCESS\")\nexcept:\n   print(\"ERROR\")\n</code></pre>\n\n<p>BTW: To convert <code>bytes</code> to <code>string/unicode</code> you have to use ie. <code>decode('utf-8')</code> .\nIf you use <code>str()</code> then Python uses own method to create string and it adds <code>b\"</code> to inform you that you have <code>bytes</code> in your <code>data</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1473282059, "last_edit_date": 1473282059, "creation_date": 1473280205, "answer_id": 39378491, "question_id": 39378160, "link": "https://stackoverflow.com/questions/39378160/parsing-xml-from-websites-and-save-the-code/39378491#39378491", "title": "Parsing XML from websites and save the code?", "body": "<p>If you write the xml file in binary mode, you don't need to convert the data read into a string of characters first. Also, if you process the data a line at a time, that should get rid of <code>'\\n'</code> problem. The logic of your code could also be structured a little better IMO, as shown below:</p>\n\n<pre><code>import urllib.request\n\nweb_data = urllib.request.urlopen(\"http://ops.epo.org/3.1/rest-services\"\n                                  \"/published-data/publication\"\n                                  \"/docdb/EP1000000/biblio\")\ndata = web_data.read()\nwith open(\"file.xml\", \"wb\") as f:\n    for line in data:\n        try:\n            f.write(data)\n        except Exception as exc:\n            print('ERROR')\n            print(str(exc))\n            break\n    else:\n        print('SUCCESS')\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 6806277, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/14eb1dac635f4487670db61a49de459d?s=128&d=identicon&r=PG&f=1", "display_name": "JAYJKB", "link": "https://stackoverflow.com/users/6806277/jayjkb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473282059, "creation_date": 1473278634, "last_edit_date": 1473278976, "question_id": 39378160, "link": "https://stackoverflow.com/questions/39378160/parsing-xml-from-websites-and-save-the-code", "title": "Parsing XML from websites and save the code?", "body": "<p>I would like to parse the xml code from a website like \n<a href=\"http://ops.epo.org/3.1/rest-services/published-data/publication/docdb/EP1000000/biblio\" rel=\"nofollow\">http://ops.epo.org/3.1/rest-services/published-data/publication/docdb/EP1000000/biblio</a>\nand save it in another xml or csv file.</p>\n\n<p>I tried it with this:</p>\n\n<pre><code>import urllib.request \nweb_data = urllib.request.urlopen(\"http://ops.epo.org/3.1/rest-services/published-data/publication/docdb/EP1000000/biblio\")\nstr_data = web_data.read()\ntry:\n   f = open(\"file.xml\", \"w\")\n   f.write(str(str_data))\n   print(\"SUCCESS\")\nexcept:\n   print(\"ERROR\")\n</code></pre>\n\n<p>But in the saved XML data is between every element '\\n' and at the beginning ' b' '</p>\n\n<p>How can i save the XML data without all the 'n\\' and ' b' '?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1473278652, "post_id": 39378074, "comment_id": 66084246, "body": "It appears as though the url is allowing either a movie name or a movie id, but your view is expecting both. I imagine you could solve this issue by insisting that the url contain both id and name."}, {"owner": {"reputation": 47, "user_id": 4588774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0d24c5d03f7d4b2219fcaffc3e8a5d?s=128&d=identicon&r=PG", "display_name": "worm", "link": "https://stackoverflow.com/users/4588774/worm"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1473278780, "post_id": 39378074, "comment_id": 66084314, "body": "I&#39;ll try but I want have the possibility to chose which I want to insert, if the id or the name"}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 1, "creation_date": 1473278929, "post_id": 39378074, "comment_id": 66084391, "body": "Why not have one parameter called movie_name that can be any combination of alpha numeric and then in your view check if it&#39;s numeric then it&#39;s a movie id and if it&#39;s strictly alpha, it&#39;s a movie name."}, {"owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1473279130, "post_id": 39378074, "comment_id": 66084488, "body": "I deleted that comment and put one in that I think you&#39;ll find more helpful. Please see the one before yours."}, {"owner": {"reputation": 13890, "user_id": 3642398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Y6cZb.jpg?s=128&g=1", "display_name": "elethan", "link": "https://stackoverflow.com/users/3642398/elethan"}, "edited": false, "score": 0, "creation_date": 1473279149, "post_id": 39378074, "comment_id": 66084493, "body": "Maybe try changing your view definition to: <code>def view_movie(request, movie_id, movie_name=None):</code>"}, {"owner": {"reputation": 47, "user_id": 4588774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0d24c5d03f7d4b2219fcaffc3e8a5d?s=128&d=identicon&r=PG", "display_name": "worm", "link": "https://stackoverflow.com/users/4588774/worm"}, "reply_to_user": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "edited": false, "score": 0, "creation_date": 1473279250, "post_id": 39378074, "comment_id": 66084529, "body": "@MattCremeens give me a minute and I check"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4588774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0d24c5d03f7d4b2219fcaffc3e8a5d?s=128&d=identicon&r=PG", "display_name": "worm", "link": "https://stackoverflow.com/users/4588774/worm"}, "edited": false, "score": 0, "creation_date": 1473280001, "post_id": 39378334, "comment_id": 66084870, "body": "That worked. Thanks a lot, I think this is the fastest way to fix this."}], "tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": true, "score": 1, "last_activity_date": 1473279476, "creation_date": 1473279476, "answer_id": 39378334, "question_id": 39378074, "link": "https://stackoverflow.com/questions/39378074/django-error-noreversematch/39378334#39378334", "title": "Django error: NoReverseMatch", "body": "<p>Django's <code>reverse()</code> cannot handle disjunctive patterns (using a <code>|</code>) outside of a capturing group. It's one of those things you'd hope someone would've fixed somewhere in the past 10 or so years, but this limitation has been around <a href=\"https://github.com/django/django/blob/978a00e39fee25cfa99065285b0de88366710fad/django/utils/regex_helper.py#L97\" rel=\"nofollow\">since 1.0</a>.</p>\n\n<p>A workaround is to split up the pattern into two patterns:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^movie/(?P&lt;movie_id&gt;\\d+)/$', view_movie, name='movie-details'),\n    url(r'^movie/(?P&lt;movie_name&gt;[a-zA-Z\\ ]+)/$', view_movie, name='movie-details'),\n]\n</code></pre>\n\n<p>You'll need to add a default to both parameters:</p>\n\n<pre><code>def view_movie(request, movie_id=None, movie_name=None):\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1473279661, "post_id": 39378358, "comment_id": 66084701, "body": "Note that the regex will just send <code>None</code> for any defined capturing group that isn&#39;t matched in the string."}], "tags": [], "owner": {"reputation": 4621, "user_id": 1939638, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vu1kQ.jpg?s=128&g=1", "display_name": "Matt Cremeens", "link": "https://stackoverflow.com/users/1939638/matt-cremeens"}, "is_accepted": false, "score": 0, "last_activity_date": 1473279561, "creation_date": 1473279561, "answer_id": 39378358, "question_id": 39378074, "link": "https://stackoverflow.com/questions/39378074/django-error-noreversematch/39378358#39378358", "title": "Django error: NoReverseMatch", "body": "<p>You are only sending one parameter to your view, though it expects two. If you want to stick with one that can be interpreted as an id or a name, why not accept an alpha-numeric parameter </p>\n\n<pre><code>urlpatterns = [\nurl(r'^movie/(?P&lt;movie_id&gt;[A-z0-9]+)/$', view_movie, name = 'movie-details'),\n]\n</code></pre>\n\n<p>and then check in your view which one it is so you know if you should treat it as an id or a name</p>\n\n<pre><code>def view_movie(request, movie_id):\n     try: \n         int(movie_id)\n         movie_name = False\n    except:\n         movie_name = True\n\n    if not movie_name:\n        movie = get_object_or_404(Movie, pk = movie_id)\n    elif movie_name:\n\n    # etc.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 6558581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b0e42aa4d92cac9fa98e539a7c9adb?s=128&d=identicon&r=PG&f=1", "display_name": "Stonecold", "link": "https://stackoverflow.com/users/6558581/stonecold"}, "is_accepted": false, "score": 0, "last_activity_date": 1473280303, "creation_date": 1473280303, "answer_id": 39378517, "question_id": 39378074, "link": "https://stackoverflow.com/questions/39378074/django-error-noreversematch/39378517#39378517", "title": "Django error: NoReverseMatch", "body": "<p>You can add parentheses around capturing groups:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^movie/((?P&lt;movie_id&gt;\\d+)|(?P&lt;movie_name&gt;[a-zA-Z\\ ]+))/$', view_movie, name = 'movie-details'),\n]\n</code></pre>\n\n<p>and add defaults to view parameters:</p>\n\n<pre><code>def view_movie(request, movie_id=None, movie_name=None):\n    if movie_id:\n        return HttpResponse('1')\n    if movie_name:\n        return HttpResponse('2')\n</code></pre>\n\n<p>Idk why but i've tried this on my project and it works.</p>\n"}], "owner": {"reputation": 47, "user_id": 4588774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0d24c5d03f7d4b2219fcaffc3e8a5d?s=128&d=identicon&r=PG", "display_name": "worm", "link": "https://stackoverflow.com/users/4588774/worm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 39378334, "answer_count": 3, "score": 3, "last_activity_date": 1473280303, "creation_date": 1473278277, "question_id": 39378074, "link": "https://stackoverflow.com/questions/39378074/django-error-noreversematch", "title": "Django error: NoReverseMatch", "body": "<p>I'm using Django 1.10 and python 3.4</p>\n\n<p>The precise error is</p>\n\n<pre><code>NoReverseMatch at /movies/movie/Twilight/\nReverse for 'movie-details' with arguments '(8,)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['movies/movie/(?P&lt;movie_id&gt;\\\\d+)|(?P&lt;movie_name&gt;[a-zA-Z\\\\ ]+)/$']\n</code></pre>\n\n<p>The error is caused by this line: <code>{% url 'moviesrating:movie-details' movie.id %}</code> in template <em>moviesrating/select_movie.html</em></p>\n\n<p>In file <em>moviesrating/urls.py</em>, which is correctly included in the main urls file, there are those lines:</p>\n\n<pre><code>app_name = 'moviesrating'\n\nurlpatterns = [\n    url(r'^movie/(?P&lt;movie_id&gt;\\d+)|(?P&lt;movie_name&gt;[a-zA-Z\\ ]+)/$', view_movie, name = 'movie-details'),\n]\n</code></pre>\n\n<p>which refers to function <em>view_movie</em> in <em>moviesrating/views.py</em>:</p>\n\n<pre><code>def view_movie(request, movie_id, movie_name):\n    if movie_id:\n        movie = get_object_or_404(Movie, pk = movie_id)\n    elif movie_name:\n        try:\n            movie = get_object_or_404(Movie, name = movie_name)\n        except MultipleObjectsReturned: # There are two movies named 'Twilight'\n            movies = get_list_or_404(Movie, name = movie_name)\n            return render(request, \"moviesrating/select_movie.html\", {'movies': movies})\n    else:\n        movie = None\n    return render(request, \"moviesrating/movie.html\", {'movie': movie})\n</code></pre>\n\n<p>The purpose of the url <em>/movies/movie/...</em> is to show a movie found by name or by id, the specific url pattern comes from this need.</p>\n\n<p>The point is that the error shows that <strong>even if it doesn't find the reverse match it finds the right url pattern</strong> so I thought the pattern didn't match. Then I tried to change the line to:</p>\n\n<pre><code>{% url 'moviesrating:movie-details' movie.id %}\n{% url 'moviesrating:movie-details' movie_id=movie.id movie_name=None %}\n{% url 'moviesrating:movie-details' movie.id None %}\n{% url 'moviesrating.views.view_movie' movie.id %}\n{% url 'moviesrating.views.view_movie' movie_id=movie.id %}\n{% url 'moviesrating.views.view_movie' movie_id=movie.id movie_name=None %}\n</code></pre>\n\n<p>but none of them worked.</p>\n\n<p>Viewing the link in the browser (ex. <em>http://localhost:8081/movies/movie/8</em>) works, so it's not that page that causes the problem.</p>\n\n<p>At this point really I can't understand the problem, I've followed the passages explained in the <a href=\"https://docs.djangoproject.com/en/1.10/intro/tutorial03/#s-removing-hardcoded-urls-in-templates\" rel=\"nofollow\">django docs</a> and read a lot of questions already asked but none of them solved my problem.</p>\n\n<p>If something is unclear or more information is needed please let me know and I will edit the post. Thanks</p>\n\n<p>Here is the full stacktrace of the error:</p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://localhost:8081/movies/movie/Twilight/\n\nDjango Version: 1.10.1\nPython Version: 3.5.2\nInstalled Applications:\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'todolist.apps.TodolistConfig',\n 'moviesrating.apps.MoviesratingConfig']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n\n\nTemplate error:\nIn template C:\\Users\\fra\\Programmazione\\Python\\myserver\\moviesrating\\templates\\moviesrating\\select_movie.html, error at line 12\n   Reverse for 'movie-details' with arguments '(8,)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['movies/movie/(?P&lt;movie_id&gt;\\\\d+)|(?P&lt;movie_name&gt;[a-zA-Z\\\\ ]+)/$']   2 : &lt;html&gt;\n   3 : &lt;head&gt;\n   4 : &lt;meta charset=\"ISO-8859-1\"&gt;\n   5 : &lt;title&gt;Choice your movie&lt;/title&gt;\n   6 : &lt;/head&gt;\n   7 : &lt;body&gt;\n   8 : &lt;h2&gt;Choice of which movie named {{ movies.0.name }} would you see the details&lt;/h2&gt;\n   9 : \n   10 : &lt;ul&gt;\n   11 : {% for movie in movies %}\n   12 :     &lt;li&gt; {% url 'moviesrating:movie-details' movie.id %} &lt;/li&gt;\n   13 :     &lt;li&gt;&lt;a href=\"{{ movie_url }}\"&gt;{{ movie.name }} del {{ movie.year }} diretto da {{ movie.director }}&lt;/a&gt;&lt;/li&gt;\n   14 : {% endfor %}\n   15 : &lt;/ul&gt;\n   16 : &lt;/body&gt;\n   17 : &lt;/html&gt;\n   18 : \n\nTraceback:\n\nFile \"C:\\Users\\fra\\Programmazione\\Python\\myserver\\moviesrating\\views.py\" in view_movie\n  31.             movie = get_object_or_404(Movie, name = movie_name)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\shortcuts.py\" in get_object_or_404\n  85.         return queryset.get(*args, **kwargs)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\db\\models\\query.py\" in get\n  389.             (self.model._meta.object_name, num)\n\nDuring handling of the above exception (get() returned more than one Movie -- it returned 2!), another exception occurred:\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\core\\handlers\\exception.py\" in inner\n  39.             response = get_response(request)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  187.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\core\\handlers\\base.py\" in _get_response\n  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"C:\\Users\\fra\\Programmazione\\Python\\myserver\\moviesrating\\views.py\" in view_movie\n  34.             return render(request, \"moviesrating/select_movie.html\", {'movies': movies})\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\shortcuts.py\" in render\n  30.     content = loader.render_to_string(template_name, context, request, using=using)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\loader.py\" in render_to_string\n  68.     return template.render(context, request)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\backends\\django.py\" in render\n  66.             return self.template.render(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\base.py\" in render\n  208.                     return self._render(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\base.py\" in _render\n  199.         return self.nodelist.render(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\base.py\" in render\n  994.                 bit = node.render_annotated(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  961.             return self.render(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\defaulttags.py\" in render\n  209.                     nodelist.append(node.render_annotated(context))\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  961.             return self.render(context)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\template\\defaulttags.py\" in render\n  439.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\urls\\base.py\" in reverse\n  91.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))\n\nFile \"C:\\Program Files (x86)\\Python\\lib\\site-packages\\django\\urls\\resolvers.py\" in _reverse_with_prefix\n  392.             (lookup_view_s, args, kwargs, len(patterns), patterns)\n\nException Type: NoReverseMatch at /movies/movie/Twilight/\nException Value: Reverse for 'movie-details' with arguments '(8,)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['movies/movie/(?P&lt;movie_id&gt;\\\\d+)|(?P&lt;movie_name&gt;[a-zA-Z\\\\ ]+)/$']\n</code></pre>\n"}, {"tags": ["python", "performance", "set", "operators"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1473278248, "post_id": 39378043, "comment_id": 66084057, "body": "it&#39;s even slower in python 3 :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1473278320, "post_id": 39378043, "comment_id": 66084089, "body": "I suppose that the makers of python did not think of that because that&#39;s not supposed to happen too often in real life. Workaround: check set size before running the difference. But nice!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473278373, "post_id": 39378043, "comment_id": 66084115, "body": "Same goes for the most recent PyPy as well, by the way."}, {"owner": {"reputation": 243, "user_id": 3429032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkY4T.jpg?s=128&g=1", "display_name": "dafinguzman", "link": "https://stackoverflow.com/users/3429032/dafinguzman"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1473278428, "post_id": 39378043, "comment_id": 66084135, "body": "@Jean-Fran&#231;oisFabre Even for nonempty sets, if you find that you&#39;ve removed all of the first set&#39;s elements midway through the iteration, it makes sense to stop right away"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 5, "creation_date": 1473281189, "post_id": 39378043, "comment_id": 66085367, "body": "I&#39;m not sure this is a <i>good</i> reason, but the arguments to <code>set.difference</code> are arbitrary iterables, not just sets. The act of iterating over some may have side effects, and it may be more important to have the functions guarantee the same behavior for <i>all</i> cases rather than leaving the arguments &quot;unconsumed&quot; in just one case."}, {"owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473356249, "post_id": 39378043, "comment_id": 66120105, "body": "@chepner makes sense -- some operations have specialised implementations, but not all. Perhaps it&#39;s just one of those."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473356862, "post_id": 39378043, "comment_id": 66120396, "body": "@chepner comment is particularly important if you&#39;re thinking in terms of generators - consuming less or an unpredictable amount of items from a generator, for example."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473357580, "post_id": 39378043, "comment_id": 66120775, "body": "Why would they bother special-casing this? Sure, it&#39;d save time for set differences with the left side empty, but is that actually a common enough case with a big enough payoff to warrant the extra check when the left side isn&#39;t empty?"}, {"owner": {"reputation": 243, "user_id": 3429032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkY4T.jpg?s=128&g=1", "display_name": "dafinguzman", "link": "https://stackoverflow.com/users/3429032/dafinguzman"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473432422, "post_id": 39378043, "comment_id": 66152910, "body": "@user2357112: It&#39;s not just for this special case. For example, {1,2,3}.difference(range(0,10**4)) could stop after the fourth element of the range and return the empty set."}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1473357081, "post_id": 39397175, "comment_id": 66120507, "body": "special-cased <a href=\"https://github.com/python/cpython/blob/master/Objects/setobject.c#L1553-L1555\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "is_accepted": false, "score": 4, "last_activity_date": 1473357377, "last_edit_date": 1473357377, "creation_date": 1473356574, "answer_id": 39397175, "question_id": 39378043, "link": "https://stackoverflow.com/questions/39378043/why-does-pythons-set-difference-method-take-time-with-an-empty-set/39397175#39397175", "title": "Why does Python&#39;s set difference method take time with an empty set?", "body": "<p>IMO it's a matter of specialisation, consider:</p>\n\n<pre><code>In [18]: r = range(10 ** 4)\n\nIn [19]: s = set(range(10 ** 4))\n\nIn [20]: %time set().difference(r)\nCPU times: user 387 \u00b5s, sys: 0 ns, total: 387 \u00b5s\nWall time: 394 \u00b5s\nOut[20]: set()\n\nIn [21]: %time set().difference(s)\nCPU times: user 10 \u00b5s, sys: 8 \u00b5s, total: 18 \u00b5s\nWall time: 16.2 \u00b5s\nOut[21]: set()\n</code></pre>\n\n<p>Apparently difference has specialised implementation for <code>set - set</code>.</p>\n\n<p>Note that difference <em>operator</em> requires right hand argument to be a set, while difference allows any iterable.</p>\n\n<p>Per @wim implementation is at <a href=\"https://github.com/python/cpython/blob/master/Objects/setobject.c#L1553-L1555\" rel=\"nofollow\">https://github.com/python/cpython/blob/master/Objects/setobject.c#L1553-L1555</a></p>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 3, "last_activity_date": 1473657420, "last_edit_date": 1473657420, "creation_date": 1473546587, "answer_id": 39431151, "question_id": 39378043, "link": "https://stackoverflow.com/questions/39378043/why-does-pythons-set-difference-method-take-time-with-an-empty-set/39431151#39431151", "title": "Why does Python&#39;s set difference method take time with an empty set?", "body": "<p>When Python core developers add new features, the first priority is correct code with thorough test coverage.  That is hard enough in itself.  Speedups often come later as someone has the idea and inclination.  I opened a tracker issue <a href=\"https://bugs.python.org/issue28071\" rel=\"nofollow\">28071</a> summarizing the proposal and counter-reasons discussed here.  I will try to summarize its disposition here.</p>\n\n<p>UPDATE: An early-out for sets that start empty has been added for 3.6.0b1, due in about a day.</p>\n"}, {"comments": [{"owner": {"reputation": 243, "user_id": 3429032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkY4T.jpg?s=128&g=1", "display_name": "dafinguzman", "link": "https://stackoverflow.com/users/3429032/dafinguzman"}, "edited": false, "score": 0, "creation_date": 1473692372, "post_id": 39441283, "comment_id": 66227915, "body": "Nice! So, the empty set case is covered with the patch. What about the other one? For example, <code>s = set([1])</code>, <code>r = set(range(10**4))</code> ."}, {"owner": {"reputation": 243, "user_id": 3429032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkY4T.jpg?s=128&g=1", "display_name": "dafinguzman", "link": "https://stackoverflow.com/users/3429032/dafinguzman"}, "edited": false, "score": 0, "creation_date": 1473742092, "post_id": 39441283, "comment_id": 66245476, "body": "I did a simple test with <code>r</code> and <code>s</code> as in my last comment and apparently it does work very fast when both are sets, even if the first one is not empty."}, {"owner": {"reputation": 7578, "user_id": 3426606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKyql.jpg?s=128&g=1", "display_name": "Tony Suffolk 66", "link": "https://stackoverflow.com/users/3426606/tony-suffolk-66"}, "edited": false, "score": 0, "creation_date": 1474668205, "post_id": 39441283, "comment_id": 66641924, "body": "@RaymondHettinger will the new implementation guarantee that iterators are allways full consumed, or will that be left as undefined ?"}], "tags": [], "owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "is_accepted": true, "score": 5, "last_activity_date": 1473633139, "creation_date": 1473633139, "answer_id": 39441283, "question_id": 39378043, "link": "https://stackoverflow.com/questions/39378043/why-does-pythons-set-difference-method-take-time-with-an-empty-set/39441283#39441283", "title": "Why does Python&#39;s set difference method take time with an empty set?", "body": "<blockquote>\n  <p>Is there any good reason for this? </p>\n</blockquote>\n\n<p>Having a special path for the empty set had not come up before.</p>\n\n<blockquote>\n  <p>Even for nonempty sets, if you find that you've removed all of the first set's elements midway through the iteration, it makes sense to stop right away.</p>\n</blockquote>\n\n<p>This is a reasonable optimization request.  I've made a <a href=\"http://bugs.python.org/file44565/set_diff_early_out.diff\" rel=\"noreferrer\">patch</a> and will apply it shortly.  Here are the new timings with the patch applied:</p>\n\n<pre><code> $ py -m timeit -s \"r = range(10 ** 4); s = set()\" \"s.difference(r)\"\n10000000 loops, best of 3: 0.104 usec per loop\n $ py -m timeit -s \"r = set(range(10 ** 4)); s = set()\" \"s.difference(r)\"\n10000000 loops, best of 3: 0.105 usec per loop\n $ py -m timeit -s \"r = range(10 ** 4); s = set()\" \"s.difference_update(r)\"\n10000000 loops, best of 3: 0.0659 usec per loop\n $ py -m timeit -s \"r = set(range(10 ** 4)); s = set()\" \"s.difference_update(r)\"\n10000000 loops, best of 3: 0.0684 usec per loop\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 3429032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkY4T.jpg?s=128&g=1", "display_name": "dafinguzman", "link": "https://stackoverflow.com/users/3429032/dafinguzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 2, "accepted_answer_id": 39441283, "answer_count": 3, "score": 13, "last_activity_date": 1473657420, "creation_date": 1473278112, "last_edit_date": 1473278631, "question_id": 39378043, "link": "https://stackoverflow.com/questions/39378043/why-does-pythons-set-difference-method-take-time-with-an-empty-set", "title": "Why does Python&#39;s set difference method take time with an empty set?", "body": "<p>Here is what I mean:</p>\n\n<pre><code>&gt; python -m timeit \"set().difference(xrange(0,10))\"   \n1000000 loops, best of 3: 0.624 usec per loop\n\n&gt; python -m timeit \"set().difference(xrange(0,10**4))\"\n10000 loops, best of 3: 170 usec per loop\n</code></pre>\n\n<p>Apparently python iterates through the whole argument, even if the result is known to be the empty set beforehand. Is there any good reason for this? The code was run in python 2.7.6.</p>\n\n<p>(Even for nonempty sets, if you find that you've removed all of the first set's elements midway through the iteration, it makes sense to stop right away.)</p>\n"}, {"tags": ["python", "telegram"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 0, "creation_date": 1473427643, "post_id": 39378210, "comment_id": 66149652, "body": "When doing a subsequent login do I connect to the last DC or to the default, which is usually 2? If I connect to the default the auth_key will be invalid for that DC, right?"}, {"owner": {"reputation": 8975, "user_id": 44080, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5811c6bf32f462ea33690bba26eba749?s=128&d=identicon&r=PG", "display_name": "Charles Okwuagwu", "link": "https://stackoverflow.com/users/44080/charles-okwuagwu"}, "reply_to_user": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 1, "creation_date": 1473428131, "post_id": 39378210, "comment_id": 66149995, "body": "no. The idea is this you connect to the nearest DC which you had determined from your initial connection"}, {"owner": {"reputation": 8975, "user_id": 44080, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5811c6bf32f462ea33690bba26eba749?s=128&d=identicon&r=PG", "display_name": "Charles Okwuagwu", "link": "https://stackoverflow.com/users/44080/charles-okwuagwu"}, "reply_to_user": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 1, "creation_date": 1473428361, "post_id": 39378210, "comment_id": 66150134, "body": "You start off by creating your auth_key in dc 2, then run initconnection in that DC, while asking for your nearestDC. If your nearest DC is 2, that fine if it is different, then your best bet would be to create a new auth_in the new DC, and complete your Authorization in that DC. Store that DC as your main_DC and use it subsequently with your saved salt, session, and auth_key/auth_key_id that all correspond to that DC."}, {"owner": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 0, "creation_date": 1473795313, "post_id": 39378210, "comment_id": 66274664, "body": "Once I store the dc, auth_key, salt, etc and exit the client, then startup again, do I need to do initConnection again?"}, {"owner": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 0, "creation_date": 1473795489, "post_id": 39378210, "comment_id": 66274752, "body": "Also, do I need to reset the message sequence number or start with the one from the last session?"}, {"owner": {"reputation": 8975, "user_id": 44080, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5811c6bf32f462ea33690bba26eba749?s=128&d=identicon&r=PG", "display_name": "Charles Okwuagwu", "link": "https://stackoverflow.com/users/44080/charles-okwuagwu"}, "reply_to_user": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 2, "creation_date": 1473796983, "post_id": 39378210, "comment_id": 66275502, "body": "I always do an initConnection on start up"}, {"owner": {"reputation": 8975, "user_id": 44080, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5811c6bf32f462ea33690bba26eba749?s=128&d=identicon&r=PG", "display_name": "Charles Okwuagwu", "link": "https://stackoverflow.com/users/44080/charles-okwuagwu"}, "reply_to_user": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "edited": false, "score": 2, "creation_date": 1473797082, "post_id": 39378210, "comment_id": 66275541, "body": "If you create a new session, you need to start from seq_no =0, otherwise start from previous seq_no. I just find it more convenient to always start of afresh with session and seq_no"}], "tags": [], "owner": {"reputation": 8975, "user_id": 44080, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5811c6bf32f462ea33690bba26eba749?s=128&d=identicon&r=PG", "display_name": "Charles Okwuagwu", "link": "https://stackoverflow.com/users/44080/charles-okwuagwu"}, "is_accepted": true, "score": 2, "last_activity_date": 1473278935, "creation_date": 1473278935, "answer_id": 39378210, "question_id": 39377938, "link": "https://stackoverflow.com/questions/39377938/responding-to-new-session-created-messages-in-the-telegram-org-api/39378210#39378210", "title": "Responding to new_session_created messages in the telegram.org API", "body": "<p>Save and re-use this new salt you just received for your next requests in this session.</p>\n\n<p>To do a subsequest login all you need is the <code>session_id</code>, <code>recent_salt</code> and the <code>auth_key</code>.</p>\n\n<p><code>Auth_key_id</code> is computed from the <code>auth_key</code> so you may, or may not choose to store it</p>\n"}], "owner": {"reputation": 437, "user_id": 2864497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1486518604/picture?type=large", "display_name": "Kenny Cason", "link": "https://stackoverflow.com/users/2864497/kenny-cason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 1, "accepted_answer_id": 39378210, "answer_count": 1, "score": 2, "last_activity_date": 1473295040, "creation_date": 1473277587, "last_edit_date": 1473295040, "question_id": 39377938, "link": "https://stackoverflow.com/questions/39377938/responding-to-new-session-created-messages-in-the-telegram-org-api", "title": "Responding to new_session_created messages in the telegram.org API", "body": "<p>In my telegram client I go through the seemingly typical process of creating a valid session:</p>\n\n<ol>\n<li>Generate a random session_id</li>\n<li>Create an auth key</li>\n<li>Call <code>initConnection</code> with <code>getNearestDc</code></li>\n<li>Switch to the nearest DC, which involves a new random session_id and\nauth_key</li>\n<li>Attempt a <code>sendCode</code> command, which results in another switch to the\ncorrect DC</li>\n</ol>\n\n<p>At various points in this process I receive <code>MessageContainers</code> from the server indicating status and <code>MsgAcks</code>, etc. This is expected and I am now decoding them properly. Some of these messages are of type <code>new_session_created</code> and look like this:</p>\n\n<pre><code>{'msg': {u'new_session_created': {u'first_msg_id': 6327252208304908288L, u'unique_id': -4911750325772918873L, u'server_salt': 6799011375684265530L}}, 'seqno': 1, 'msg_id': 6327252210221112321L}\n</code></pre>\n\n<p>My current server_salt is different than that in this message. Do I need to switch to using the new salt? What about unique_id, is that my new session_id or do I just ignore these messages?</p>\n\n<p>After sorting all this out, what part of the session do I need to save for the next time the client starts up? The session_id, auth_key, auth_key_id?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1473278110, "post_id": 39377936, "comment_id": 66084005, "body": "Does your desired output care about the spacing? For example would  <code>32 e- 11 [7] 9.072 20.492 499.225 499.727 0.001</code> be too messy or can you split them with a comma?"}, {"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "reply_to_user": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1473296571, "post_id": 39377936, "comment_id": 66089860, "body": "That doesn&#39;t look too messy at all! I just want them all separated, either by space or by comma since I&#39;d like to input it into another program and read the specific columns."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473297098, "post_id": 39378360, "comment_id": 66089967, "body": "This looks like it should work. I&#39;ll give it a shot tomorrow when I&#39;m at my work station. Forgive the noobish question, but would this go before my final continue line while reading the file?"}, {"owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "reply_to_user": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473339306, "post_id": 39378360, "comment_id": 66109090, "body": "That loop would have to be outside your <code>for line in myfile:</code>. To use it just add a variable to store all the lines you want to merge during your main loop, then once you finish and exit that main loop, you launch the merging loop to merge the stored lines."}, {"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473362209, "post_id": 39378360, "comment_id": 66123188, "body": "So I&#39;m storing the lines with lines = [] and lines.append(line) within the loop, but every approach I try returns an index error out of range on the fields2 line. Any idea?"}, {"owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "reply_to_user": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473368589, "post_id": 39378360, "comment_id": 66126345, "body": "Check <code>lines</code> once you think it&#39;s complete to see if you have all the right lines, then check <code>len(lines)</code> to see if you have an even number of lines. Finaly try to see at what exact moment the error appears by printing <code>i</code> at the start of each loop."}], "tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": false, "score": 0, "last_activity_date": 1473279580, "creation_date": 1473279580, "answer_id": 39378360, "question_id": 39377936, "link": "https://stackoverflow.com/questions/39377936/combine-every-two-lines-while-reading-txt-file-in-python/39378360#39378360", "title": "Combine every two lines while reading .txt file in python", "body": "<p>A quick and dirty way of merging every other line:</p>\n\n<pre><code>for i in range(0,len(lines),2):\n\n    fields1 = lines[i].strip().split()\n    fields2 = lines[i+1].strip().split()\n    print(\"\\t\".join(fields1[:4]+fields2))\n</code></pre>\n\n<p>Note that I considered here that all the lines to be merged are extracted and put in a list called <code>lines</code> and that I simply hard coded the number (4) of elements that will be kept from every first line.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473296667, "post_id": 39378417, "comment_id": 66089881, "body": "Hmm this looks promising. I&#39;m not at my work station until tomorrow but I&#39;ll give this one a shot. Is there anything special to import the file as a giant string? I usually just open it with the read option. Also is there a way to keep only the first four entries of each line with this approach?"}, {"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "reply_to_user": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473297412, "post_id": 39378417, "comment_id": 66090032, "body": "Gotcha, made edits to the answer to answer your questions and state some assumptions."}, {"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473361669, "post_id": 39378417, "comment_id": 66122896, "body": "I&#39;m trying this and it works, but my only problem is that it is including all the entries in the lines without spaces and outputting a file with misaligned columns. It&#39;s not very useful for what I&#39;m working with."}, {"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "reply_to_user": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473364738, "post_id": 39378417, "comment_id": 66124476, "body": "Think i got what you were saying. Just a really simple formatting fix.  Added it to the answer."}, {"owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "edited": false, "score": 0, "creation_date": 1473368570, "post_id": 39378417, "comment_id": 66126339, "body": "This is actually perfect! Thank you for all the help."}], "tags": [], "owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "is_accepted": true, "score": 0, "last_activity_date": 1473364697, "last_edit_date": 1473364697, "creation_date": 1473279862, "answer_id": 39378417, "question_id": 39377936, "link": "https://stackoverflow.com/questions/39377936/combine-every-two-lines-while-reading-txt-file-in-python/39378417#39378417", "title": "Combine every two lines while reading .txt file in python", "body": "<p>as long as you know the exact lines that surround the section you want:</p>\n\n<pre><code>#split the large text into lines\nlines = large_text.split('\\n')\n#get the indexes of the beginning and end of your target section\nidx_start = lines.index(\"--- final:\")\nidx_finish= lines.index(\"------------------------------------------------------------------------------\")\n#iterate through the section in steps of 2, split on spaces, remove empty strings, print them as tab delimited\nfor idx in range( idx_start+1, idx_finish, 2):\n    out = list(filter(None,(lines[idx]+lines[idx+1]).split(\" \")))\n    print(\"\\t\".join(out))\n</code></pre>\n\n<p>Where <code>large_text</code> is the file imported as a giant string.</p>\n\n<p><strong>EDIT</strong>\nIn order to open the file `large_text.txt' as a string try this:</p>\n\n<pre><code>with open('large_text.txt','r') as f:\n    #split the large text into lines\n    lines = f.readlines()\n    #get the indexes of the beginning and end of your target section\n    idx_start = lines.index(\"--- final:\")\n    idx_finish= lines.index(\"------------------------------------------------------------------------------\")\n    #iterate through the section in steps of 2, split on spaces, remove empty strings, print them as tab delimited\n    for idx in range( idx_start+1, idx_finish, 2):\n        out = list(filter(None,(lines[idx]+lines[idx+1]).split(\" \")))\n        print(\"\\t\".join(out))\n</code></pre>\n\n<p><strong>Assumptions</strong></p>\n\n<ol>\n<li>You know the lines that seperate the section of interest (IE: \"--- final:\" )</li>\n<li>Your values are space not tab delimited. If not change <code>split(\" \")</code> to <code>split(\"\\t\")</code> </li>\n</ol>\n\n<p><strong>Should be the winner</strong>\nAdded that formatting fix to the one set of lines. Same assumptions hold true.</p>\n\n<pre><code>with open('./large_text.txt','r') as f:\n    #split the large text into lines\n    lines = f.read().split(\"\\n\")\n    #get the indexes of the beginning and end of your target section\n    idx_start = lines.index(\"--- final:\")\n    idx_finish= lines.index(\"------------------------------------------------------------------------------\")\n    #iterate through the section in steps of 2, split on spaces, remove empty strings, print them as tab delimited\n    for idx in range( idx_start+1, idx_finish, 2):\n        line_spaces = list(filter(None,lines[idx].split(\" \")))[0:4]\n        other_line = list(filter(None,(lines[idx+1]).split(\" \")))\n        out = line_spaces + other_line\n        print(\"\\t\".join(out))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1473281298, "last_edit_date": 1473281298, "creation_date": 1473280641, "answer_id": 39378595, "question_id": 39377936, "link": "https://stackoverflow.com/questions/39377936/combine-every-two-lines-while-reading-txt-file-in-python/39378595#39378595", "title": "Combine every two lines while reading .txt file in python", "body": "<p>You could solve your problem with the newer <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow\"><strong><code>regex</code></strong></a> module and some regular expressions:</p>\n\n<pre><code>import regex as re\n\nrx = re.compile(r'''(?V1)\n        (?:^---\\ final:[\\n\\r])|(?:\\G(?!\\A))\n        ^(\\ *\\d+.+?)\\ *$[\\n\\r]\n        ^\\ +(.+)$[\\n\\r]\n        ''', re.MULTILINE | re.VERBOSE)\n\njunky_string = your_string\n\nmatches = [\"    \".join(match.groups()) \n            for match in rx.finditer(junky_string)\n            if match.group(1) is not None]\nprint(matches)\n# [' 32        e-      11 [7]    9.072    20.492   499.225   499.727     0.001', \n#  ' 33        e+     -11 [6]    -11.317   -17.699  2632.568  2632.652     0.001',\n#  ' 12         s       3 [10] (91)  &gt;43 {+5}    2.946     0.315    94.111    94.159     0.500', \n#  ' 14         g      21 [11] (60,61)  34&gt;&gt;16 {+7,-6}    -0.728     3.329     5.932     6.907     0.950']\n</code></pre>\n\n<p>This looks for <code>--- final:</code> at the very beginning of the line or spaces, followed by digits <strong>after</strong> having matched <code>--- final:</code> (study the <a href=\"https://regex101.com/r/nY0uH4/1\" rel=\"nofollow\"><strong>explanation on regex101.com</strong></a> for more details).<br>\nThe matched items are joined with a tabulator afterwards.</p>\n"}], "owner": {"reputation": 25, "user_id": 6806126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db713850b725eddb849c501ab59191de?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Physics", "link": "https://stackoverflow.com/users/6806126/mr-physics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 0, "accepted_answer_id": 39378417, "answer_count": 3, "score": 2, "last_activity_date": 1473364697, "creation_date": 1473277585, "question_id": 39377936, "link": "https://stackoverflow.com/questions/39377936/combine-every-two-lines-while-reading-txt-file-in-python", "title": "Combine every two lines while reading .txt file in python", "body": "<p>I'm currently working with very large files in Python that look like</p>\n\n<pre><code>junk\njunk\njunk\n--- intermediate:\n1489       pi0     111 [686] (1491,1492)   \n                             0.534    -0.050    -0.468     0.724     0.135\n1499       pi0     111 [690] (1501,1502)   \n                            -1.131     0.503    12.751    12.812     0.135\n--- final:\n 32        e-      11 [7]    \n                             9.072    20.492   499.225   499.727     0.001\n 33        e+     -11 [6]    \n                           -11.317   -17.699  2632.568  2632.652     0.001\n 12         s       3 [10] (91)  &gt;43 {+5}\n                             2.946     0.315    94.111    94.159     0.500\n 14         g      21 [11] (60,61)  34&gt;&gt;16 {+7,-6}\n                            -0.728     3.329     5.932     6.907     0.950\n------------------------------------------------------------------------------\njunk\njunk\n--- intermediate:\nrepeat\n</code></pre>\n\n<p>I want to combine every two lines after the \"---final\" line until the \"----------------\" line. For example, I'd like an output file to read</p>\n\n<pre><code> 32        e-      11 [7]      9.072    20.492   499.225   499.727     0.001\n 33        e+     -11 [6]    -11.317   -17.699  2632.568  2632.652     0.001\n 12         s       3 [10]     2.946     0.315    94.111    94.159     0.500\n 14         g      21 [11]    -0.728     3.329     5.932     6.907     0.950\n</code></pre>\n\n<p>Notice how I'm omitting the extra entries in the lines without spaces. My current approach is</p>\n\n<pre><code>start = False\nfor line in myfile:\n    line = line.strip()\n    fields = line.split()\n    if len(fields)==0:\n        continue\n    if not start:\n        if fields[0] == \"----final:\":\n            start = True\n        continue\n</code></pre>\n\n<p>len(fields)==0 should end the script at the \"---------\" line and continue until it sees another \"----final\" line. What I currently don't know how do is combine the two lines together while omitting the extra information in the lines without spaces. Any suggestions? </p>\n"}, {"tags": ["python", "iteration", "xlsxwriter"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473277990, "post_id": 39377931, "comment_id": 66083954, "body": "Could you also post the code how do you write the lists into excel? Thanks."}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473278231, "post_id": 39377931, "comment_id": 66084051, "body": "@Alecxe was just about to! One minute."}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473278462, "post_id": 39377931, "comment_id": 66084162, "body": "@alecxe - Had started to wonder if enumerate isn&#39;t the write method in this case? Or with the object structure as it is, I&#39;m not listing enough arguments to it beforehand?"}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473285089, "post_id": 39377931, "comment_id": 66086963, "body": "@alecxe - Found the real issue and it&#39;s a duplicate! Marked it as such."}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473312640, "post_id": 39377931, "comment_id": 66093608, "body": "@alecxe - can I not mark my own question a dup? I went through with the request but it shows your as the marker."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473341017, "post_id": 39377931, "comment_id": 66110349, "body": "You should be able to do so, I can unduplicate it if you want, not a problem. Thanks."}, {"owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1473347805, "post_id": 39377931, "comment_id": 66115370, "body": "Ah no worries at all @alecxe, guessing your request just went through before mine. Cheers!"}], "owner": {"reputation": 307, "user_id": 2731086, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/72YZe.png?s=128&g=1", "display_name": "DGG", "link": "https://stackoverflow.com/users/2731086/dgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "closed_date": 1473286072, "answer_count": 0, "score": 4, "last_activity_date": 1473278412, "creation_date": 1473277562, "last_edit_date": 1473278412, "question_id": 39377931, "link": "https://stackoverflow.com/questions/39377931/xlsxwriter-is-only-writing-first-row-for-each-list-of-objects-passed", "closed_reason": "Duplicate", "title": "XlsxWriter is only writing first row for each list of objects passed", "body": "<p>I am working exporting a page report that gets broken down into 3 smaller subsets. However, the structure of each object inside each list makes the xlsxwriter <em>enumerate</em> function think this is the only item iterable, and only writes one row. </p>\n\n<p>Below is a structure of a single list of objects (passed to the writer), and one object itself.</p>\n\n<p>Almost certain it's the object structure that is breaking the desired output, but in case anyone sees something else don't hesitate!</p>\n\n<p>Thanks!</p>\n\n<p>List:</p>\n\n<pre><code>[&lt;Page: badges : Badges : me&gt;, &lt;Page: badges : Badges : me&gt;, &lt;Page: badges : Badges : me&gt;], [&lt;Page: badges : Badges : me&gt;, &lt;PageTracking: badges : Badges : me&gt;, &lt;Page: badges : Badges : me&gt;]\n</code></pre>\n\n<p>Single object in list:</p>\n\n<pre><code>&lt;Page: badges : Badges : me&gt;\n</code></pre>\n\n<p>Code to split list into group of 3 sublists:</p>\n\n<pre><code>all_pages = Page.objects.all()\npage_groups = [all_pages[x:x+2] for x in xrange(0, len(all_pages), 2)]\n</code></pre>\n\n<p>XlsxWriter code:</p>\n\n<pre><code>def WriteToExcel(page_chunk, workbook):\n\nif page_chunk is not None:\n    print \"WriteToExcel ----- triggered \\n\"\n    try:\n        # output = StringIO.StringIO()\n        workbook = workbook\n\n        worksheet_s = workbook.add_worksheet(\"Summary\")\n        title = workbook.add_format({\n            'bold': True,\n            'font_size': 14,\n            'align': 'center',\n            'valign': 'vcenter'\n        })\n        header = workbook.add_format({\n            'bg_color': '#F7F7F7',\n            'color': 'black',\n            'align': 'center',\n            'valign': 'top',\n            'border': 1\n        })\n        title_text = (\"Report For Page\")\n        worksheet_s.merge_range('B2:H2', title_text, title)\n        worksheet_s.set_column(0, 6, 12)\n        worksheet_s.write(4, 0, (\"#\"), header)\n        worksheet_s.write(4, 1, (\"ID\"), header)\n        worksheet_s.write(4, 2, (\"Page Type\"), header)\n        worksheet_s.write(4, 3, (\"Page Name\"), header)\n        worksheet_s.write(4, 4, (\"User Email\"), header)\n        worksheet_s.write(4, 5, (\"Date Visited\"), header)\n\n        for idx, data in enumerate(page_chunk):\n            print \"data ---------- %s\" %(data)\n            row = 5 + idx\n            worksheet_s.write_number(row, 0, idx + 1)\n            worksheet_s.write(row, 1, data.pk)\n            worksheet_s.write(row, 2, data.page_type)\n            worksheet_s.write(row, 3, data.page_name)\n            worksheet_s.write(row, 4, data.user_email)\n            worksheet_s.write(row, 5, data.date_visited)\n\n        workbook.close()\n    except:\n        log.debug(\"Worksheet write has failed --&gt; page_chunk handed to function %s\", page_chunk)\n        return False\n</code></pre>\n\n<p>Spreadsheet output:\n<a href=\"https://i.stack.imgur.com/7zbJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zbJX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "docker-compose", "shapely", "geos"], "answers": [{"comments": [{"owner": {"reputation": 19007, "user_id": 444646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996ae88559e4c401582326971c77c75a?s=128&d=identicon&r=PG", "display_name": "dnephin", "link": "https://stackoverflow.com/users/444646/dnephin"}, "edited": false, "score": 0, "creation_date": 1473429349, "post_id": 39399690, "comment_id": 66150721, "body": "This looks correct, but I think you could also build a wheel for the package and install that."}, {"owner": {"reputation": 1418, "user_id": 387191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31bb6d57fba392e9b4e757dcde624ba4?s=128&d=identicon&r=PG", "display_name": "lathomas64", "link": "https://stackoverflow.com/users/387191/lathomas64"}, "reply_to_user": {"reputation": 19007, "user_id": 444646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996ae88559e4c401582326971c77c75a?s=128&d=identicon&r=PG", "display_name": "dnephin", "link": "https://stackoverflow.com/users/444646/dnephin"}, "edited": false, "score": 0, "creation_date": 1473708508, "post_id": 39399690, "comment_id": 66236005, "body": "Stuff i found about wheel files when I initially looked into the problem suggested they were a windows specific thing, is this not true?"}, {"owner": {"reputation": 19007, "user_id": 444646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996ae88559e4c401582326971c77c75a?s=128&d=identicon&r=PG", "display_name": "dnephin", "link": "https://stackoverflow.com/users/444646/dnephin"}, "edited": false, "score": 0, "creation_date": 1473790156, "post_id": 39399690, "comment_id": 66272125, "body": "It is not true at all. They are more common on windows because it&#39;s often harder for windows users to compile things (they don&#39;t always have the same easy access to a compiler), and pypi only includes windows wheels I believe. You can build and use wheels on linux and osx, but you have to build them for your platform."}], "tags": [], "owner": {"reputation": 1418, "user_id": 387191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31bb6d57fba392e9b4e757dcde624ba4?s=128&d=identicon&r=PG", "display_name": "lathomas64", "link": "https://stackoverflow.com/users/387191/lathomas64"}, "is_accepted": true, "score": 3, "last_activity_date": 1473366636, "creation_date": 1473366636, "answer_id": 39399690, "question_id": 39377911, "link": "https://stackoverflow.com/questions/39377911/oserror-when-trying-to-pip-install-shapely-inside-docker-container/39399690#39399690", "title": "OSError when trying to pip install shapely inside docker container", "body": "<p>I found a solution from: <a href=\"https://github.com/calendar42/docker-python-geos/blob/master/Dockerfile\" rel=\"nofollow\">https://github.com/calendar42/docker-python-geos/blob/master/Dockerfile</a></p>\n\n<pre><code>ENV PYTHONUNBUFFERED 1\n\n#### Install GEOS ####\n# Inspired by: https://hub.docker.com/r/cactusbone/postgres-postgis-sfcgal/~/dockerfile/\n\nENV GEOS http://download.osgeo.org/geos/geos-3.5.0.tar.bz2\n\n#TODO make PROCESSOR_COUNT dynamic\n#built by docker.io, so reducing to 1. increase to match build server processor count as needed\nENV PROCESSOR_COUNT 1\n\nWORKDIR /install-postgis\n\nWORKDIR /install-postgis/geos\nADD $GEOS /install-postgis/geos.tar.bz2\nRUN tar xf /install-postgis/geos.tar.bz2 -C /install-postgis/geos --strip-components=1\nRUN ./configure &amp;&amp; make -j $PROCESSOR_COUNT &amp;&amp; make install\nRUN ldconfig\nWORKDIR /install-postgis\n</code></pre>\n\n<p>I copied this into my dockerfile before the line</p>\n\n<pre><code>pip install requirements.txt\n</code></pre>\n\n<p>and the shapely install worked.</p>\n\n<p>It stalls out doing the build occasionally but the main problem was solved.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 1588521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33733c018eb2325e346311e04274ad11?s=128&d=identicon&r=PG", "display_name": "Alex G", "link": "https://stackoverflow.com/users/1588521/alex-g"}, "edited": false, "score": 1, "creation_date": 1574299084, "post_id": 55236778, "comment_id": 104186578, "body": "This didn&#39;t work for me with the <code>python:3-alpine</code> docker image."}, {"owner": {"reputation": 452, "user_id": 4469240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7515b924d1d617095e51562da558965b?s=128&d=identicon&r=PG&f=1", "display_name": "Gil Hiram", "link": "https://stackoverflow.com/users/4469240/gil-hiram"}, "edited": false, "score": 0, "creation_date": 1613925715, "post_id": 55236778, "comment_id": 117220667, "body": "works with python:3.6-alpine. installing geos-dev resolves the missing dependancy during shapely installation. this is the correct solution"}], "tags": [], "owner": {"reputation": 339, "user_id": 8958254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6206ad1962cfb03c3da28a24428b0fe4?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Seth", "link": "https://stackoverflow.com/users/8958254/tushar-seth"}, "is_accepted": false, "score": 4, "last_activity_date": 1552985339, "creation_date": 1552985339, "answer_id": 55236778, "question_id": 39377911, "link": "https://stackoverflow.com/questions/39377911/oserror-when-trying-to-pip-install-shapely-inside-docker-container/55236778#55236778", "title": "OSError when trying to pip install shapely inside docker container", "body": "<p>For alpine, just run following Docker command:</p>\n\n<pre><code>RUN apk add --no-cache \\\ngcc \\\nlibc-dev \\\ngeos-dev \\\n&amp;&amp; pip install shapely\n</code></pre>\n\n<p>This will install shapely with all the proper dependencies for geo and C related dependencies for the shapely for alpine</p>\n"}], "owner": {"reputation": 1418, "user_id": 387191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/31bb6d57fba392e9b4e757dcde624ba4?s=128&d=identicon&r=PG", "display_name": "lathomas64", "link": "https://stackoverflow.com/users/387191/lathomas64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2830, "favorite_count": 0, "accepted_answer_id": 39399690, "answer_count": 2, "score": 3, "last_activity_date": 1552985339, "creation_date": 1473277481, "question_id": 39377911, "link": "https://stackoverflow.com/questions/39377911/oserror-when-trying-to-pip-install-shapely-inside-docker-container", "title": "OSError when trying to pip install shapely inside docker container", "body": "<p>Could not find library geos_c or load any of its variants ['libgeos_c.so.1', 'libgeos_c.so']</p>\n\n<p>using the python:3.5.1 image I am trying to run a container that includes among other things it installs in requirements.txt shapely. When the docker container tries to install shapely I get the above error.</p>\n\n<p>RUN apt-get install libgeos-dev</p>\n\n<p>was something I saw trying to search the issue but that returns unable to locate package libgeos-dev</p>\n\n<p>summary:</p>\n\n<p>expected conditions: including shapely in the requirements.txt file results ins shapely being installed when the docker container is built\nactual conditions: An error message is recieved during build  <code>Could not find library geos_c or load any of its variants ['libgeos_c.so.1', 'libgeos_c.so']</code></p>\n\n<p>Steps to reproduce:</p>\n\n<p>use docker-compose to build on</p>\n\n<p>Docker-compose.yml: </p>\n\n<pre><code>app:\n        build: ${APP_REPO}\n</code></pre>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM python:3.5.1-onbuild\n</code></pre>\n\n<p>Requirements.txt:</p>\n\n<pre><code>shapely\n</code></pre>\n\n<p>(Simplified to attempt to isolate issues.)</p>\n"}, {"tags": ["python", "c", "numpy"], "comments": [{"owner": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 2, "creation_date": 1473277563, "post_id": 39377866, "comment_id": 66083759, "body": "It appears as if it stores arrays of both dimensions and strides, however. In most implementations involving array operations, this is the information actually required rather than total number of items which does nothing to help you access them systematically."}, {"owner": {"reputation": 1091, "user_id": 5302241, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2b58e25a907ac8e47c48204ba7e7a45f?s=128&d=identicon&r=PG&f=1", "display_name": "rxu", "link": "https://stackoverflow.com/users/5302241/rxu"}, "reply_to_user": {"reputation": 8147, "user_id": 2149741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1374188e1ceb9d62123af4aece7c4ee4?s=128&d=identicon&r=PG", "display_name": "Jeremy West", "link": "https://stackoverflow.com/users/2149741/jeremy-west"}, "edited": false, "score": 0, "creation_date": 1473434099, "post_id": 39377866, "comment_id": 66153997, "body": "I guess I get this now. When the size of array is large, multiplying the dimensions to get the size would only take a tiny fraction of time for the whole calculation."}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1473277597, "creation_date": 1473277597, "answer_id": 39377943, "question_id": 39377866, "link": "https://stackoverflow.com/questions/39377866/does-numpy-internally-store-size-of-an-array/39377943#39377943", "title": "Does numpy internally store size of an array?", "body": "<p>Look at <code>PyArray_ArrayDescr *PyArray_Descr.subarray</code>:</p>\n\n<blockquote>\n  <p>If this is non- NULL, then this data-type descriptor is a C-style\n  contiguous array of another data-type descriptor. In other-words, each\n  element that this descriptor describes is actually an array of some\n  other base descriptor. This is most useful as the data-type descriptor\n  for a field in another data-type descriptor. The fields member should\n  be NULL if this is non- NULL (the fields member of the base descriptor\n  can be non- NULL however). The PyArray_ArrayDescr structure is defined\n  using</p>\n</blockquote>\n\n<pre><code>typedef struct {\n    PyArray_Descr *base;\n    PyObject *shape;      /* &lt;-------- */\n} PyArray_ArrayDescr;\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>PyObject *PyArray_ArrayDescr.shape\n</code></pre>\n\n<blockquote>\n  <p>The shape (always C-style contiguous) of the sub-array as a Python tuple.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 5, "last_activity_date": 1473279168, "last_edit_date": 1473279168, "creation_date": 1473278864, "answer_id": 39378201, "question_id": 39377866, "link": "https://stackoverflow.com/questions/39377866/does-numpy-internally-store-size-of-an-array/39378201#39378201", "title": "Does numpy internally store size of an array?", "body": "<p>The size (that is, the total number of elements in the array) is computed as the product of the values in the array <code>dimensions</code>.  The length of that array is <code>nd</code>.</p>\n\n<p>In the C code that implements the core of numpy, you'll find many uses of the macro <code>PyArray_SIZE(obj)</code>.  Here's the definition of that macro:</p>\n\n<pre><code>#define PyArray_SIZE(m) PyArray_MultiplyList(PyArray_DIMS(m), PyArray_NDIM(m))\n</code></pre>\n\n<p>The advantage of not storing it is, well, not storing redundant data.</p>\n"}], "owner": {"reputation": 1091, "user_id": 5302241, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2b58e25a907ac8e47c48204ba7e7a45f?s=128&d=identicon&r=PG&f=1", "display_name": "rxu", "link": "https://stackoverflow.com/users/5302241/rxu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 39378201, "answer_count": 2, "score": 3, "last_activity_date": 1473279168, "creation_date": 1473277273, "question_id": 39377866, "link": "https://stackoverflow.com/questions/39377866/does-numpy-internally-store-size-of-an-array", "title": "Does numpy internally store size of an array?", "body": "<p>From specification of a numpy array at <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/c-api.types-and-structures.html#c.PyArrayObject\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>typedef struct PyArrayObject {\n    PyObject_HEAD\n    char *data;\n    int nd;\n    npy_intp *dimensions;\n    npy_intp *strides;\n    PyObject *base;\n    PyArray_Descr *descr;\n    int flags;\n    PyObject *weakreflist;\n} PyArrayObject;\n</code></pre>\n\n<p>When I look at the specification of a numpy array, I don't see that it stores number of elements of the array. Is that really the case?</p>\n\n<p>What is the advantage of not storing that?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 0, "creation_date": 1473277703, "post_id": 39377862, "comment_id": 66083826, "body": "Is the comma after stringlist in <code>thread = threading.Thread(name=&#39;heartbeat&#39;, target=threadWorkLoad, args=(stringlist,))</code> intentional?  I expect it has something to do with your problem."}, {"owner": {"reputation": 860, "user_id": 2954317, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43697e12f5be93fc6beb8f67b485ece8?s=128&d=identicon&r=PG&f=1", "display_name": "Lighthat", "link": "https://stackoverflow.com/users/2954317/lighthat"}, "reply_to_user": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 0, "creation_date": 1473277792, "post_id": 39377862, "comment_id": 66083864, "body": "@ScottMermelstein Yes, I came across that in another question. Although I&#39;ve also tried replacing <code>args=(stringlist,)</code> with <code>args=[stringlist]</code> and I get the exact same error. In fact, I&#39;ve tried something else (i&#39;ll modify my OP to show you what) and that didn&#39;t work either, so I&#39;m quite sure that isn&#39;t the cause of the issue."}, {"owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 1, "creation_date": 1473278115, "post_id": 39377862, "comment_id": 66084009, "body": "One other thing to try: instead of <code>args=(stringlist,)</code> or <code>args=[stringlist]</code>, try <code>args=tuple(stringlist)</code>.  The problem is the way you&#39;re setting up the args.  It expects a tuple of arguments, while you&#39;re attempting to pass it a 1-tuple with a list as the only member of that tuple."}, {"owner": {"reputation": 860, "user_id": 2954317, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43697e12f5be93fc6beb8f67b485ece8?s=128&d=identicon&r=PG&f=1", "display_name": "Lighthat", "link": "https://stackoverflow.com/users/2954317/lighthat"}, "reply_to_user": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 0, "creation_date": 1473278329, "post_id": 39377862, "comment_id": 66084094, "body": "@ScottMermelstein That did it, along with a little change I made in the main loop when calling threadScheduler - I had to pass <code>*strlist</code> not just <code>strlist</code>"}, {"owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 1, "creation_date": 1473278459, "post_id": 39377862, "comment_id": 66084157, "body": "Cool, glad to solve the problem.  You might want to self-answer it, that way others will see an answer without having to read the comments. (I&#39;m too lazy to write it up, and I wasn&#39;t aware of the *strlist part, so it would be good for you to explain it.)"}], "answers": [{"tags": [], "owner": {"reputation": 860, "user_id": 2954317, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43697e12f5be93fc6beb8f67b485ece8?s=128&d=identicon&r=PG&f=1", "display_name": "Lighthat", "link": "https://stackoverflow.com/users/2954317/lighthat"}, "is_accepted": true, "score": 1, "last_activity_date": 1473278735, "creation_date": 1473278735, "answer_id": 39378176, "question_id": 39377862, "link": "https://stackoverflow.com/questions/39377862/how-to-pass-a-list-of-objects-to-a-thread-function/39378176#39378176", "title": "How to pass a list of objects to a thread function", "body": "<p>Two changes had to be made for this to work (thanks to Scott Mermelstein):</p>\n\n<p>In the main loop, <code>threadScheduler(strlist)</code> had to be changed to <code>threadScheduler(*strlist)</code>. I verified this by adding the following line to the <code>threadScheduler()</code> function:</p>\n\n<pre><code>print 'in scheduler', stringlist[0].f()\n</code></pre>\n\n<p>and was able to successfully call <code>f()</code> only after I added the asterisk. I'm unsure of why the argument had to be passed this way, though.</p>\n\n<p>Additionally, I had to change </p>\n\n<pre><code>thread = threading.Thread(name='heartbeat', target=threadWorkLoad, args=(stringlist,))\n</code></pre>\n\n<p>to</p>\n\n<pre><code>thread = threading.Thread(name='heartbeat', target=threadWorkLoad, args=tuple(stringlist))\n</code></pre>\n\n<p>Then I was able to successfully call <code>f()</code> for each object in the list in the <code>threadWorkLoad()</code> function.</p>\n"}], "owner": {"reputation": 860, "user_id": 2954317, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43697e12f5be93fc6beb8f67b485ece8?s=128&d=identicon&r=PG&f=1", "display_name": "Lighthat", "link": "https://stackoverflow.com/users/2954317/lighthat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1014, "favorite_count": 0, "accepted_answer_id": 39378176, "answer_count": 1, "score": 2, "last_activity_date": 1473278735, "creation_date": 1473277249, "last_edit_date": 1473277911, "question_id": 39377862, "link": "https://stackoverflow.com/questions/39377862/how-to-pass-a-list-of-objects-to-a-thread-function", "title": "How to pass a list of objects to a thread function", "body": "<p>I have to pass a list of objects to a function that executes in a thread in python. I need to be able to call functions of those objects, such as <code>animal.bite()</code>. I created a generic test class:</p>\n\n<pre><code>class test_class:    \n    def f(self):\n        print 'hello'\n</code></pre>\n\n<p>and created a list of these objects:</p>\n\n<pre><code>test_object = test_class()\nnew_object = test_class()\nstrlist = [test_object, new_object]\n</code></pre>\n\n<p>and have a function that creates a thread if one hasn't already been created:</p>\n\n<pre><code>def threadScheduler(*stringlist):\n    global lock #variable defined elsewhere, makeshift resource lock\n    if not lock:\n        print \"creating thread\"\n        lock = True\n        thread = threading.Thread(name='heartbeat', target=threadWorkLoad, args=(stringlist,))\n        thread.start()\n</code></pre>\n\n<p>This is the function <code>threadWorkLoad</code>:</p>\n\n<pre><code>def threadWorkLoad(*stringlist):\n    global lock\n    for item in stringlist:\n        print 'in thread', item.f()\n    time.sleep(2)\n    lock = False\n    return\n</code></pre>\n\n<p>and this is the main loop:</p>\n\n<pre><code>for x in range(0,10):\n    print 'in main thread', strlist[0].f()\n    threadScheduler(strlist)\n    time.sleep(1)\n</code></pre>\n\n<p>What I would like to do is to be able to call the function <code>f()</code> on the objects in the list in <code>threadWorkLoad</code>, but currently I get the error <code>AttributeError: 'tuple' object has no attribute 'f'</code></p>\n\n<p>If I replace those objects with strings, the code works the way I want it to. But I need to be able to do the same thing with objects. How do I do this in python?</p>\n\n<p>EDIT:</p>\n\n<p>Some other things I tried -</p>\n\n<p>I changed the creation of the thread in <code>threadScheduler</code> to <code>thread = threading.Thread(name='heartbeat', target=threadWorkLoad, args=[stringlist])</code> with no luck. </p>\n\n<p>I also tried to put in the following statement as the first line of <code>threadScheduler</code>:</p>\n\n<p><code>print 'in scheduler', stringlist[0].f()</code></p>\n\n<p>and I get the same error. It seems like the issue is related to passing a list objects as a function parameter.</p>\n\n<p>I should also clarify that we are using Python 2.5.2.</p>\n"}, {"tags": ["python", "multithreading", "web-services", "twisted", "klein-mvc"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "edited": false, "score": 0, "creation_date": 1473366346, "post_id": 39391548, "comment_id": 66125290, "body": "Are these extra processes can all being used to process the request targeting the same port? Or it always need to be use multiple port?"}, {"owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "reply_to_user": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "edited": false, "score": 0, "creation_date": 1473368370, "post_id": 39391548, "comment_id": 66126261, "body": "If it&#39;s on the same machine then it would need to be different ports (at least for my implementation)"}, {"owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "edited": false, "score": 0, "creation_date": 1473427395, "post_id": 39391548, "comment_id": 66149476, "body": "Ok Thanks for the answer. I might check this out later."}, {"owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "edited": false, "score": 0, "creation_date": 1474467118, "post_id": 39391548, "comment_id": 66544085, "body": "Tried this before, wonder is there a solution to this without the need of using multiple ports, otherwise need to change the api (which brings more problems)"}], "tags": [], "owner": {"reputation": 4101, "user_id": 2172464, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/e5wRv.jpg?s=128&g=1", "display_name": "notorious.no", "link": "https://stackoverflow.com/users/2172464/notorious-no"}, "is_accepted": true, "score": 2, "last_activity_date": 1473348098, "last_edit_date": 1495542763, "creation_date": 1473339310, "answer_id": 39391548, "question_id": 39377856, "link": "https://stackoverflow.com/questions/39377856/how-to-use-multiple-core-with-a-webservice-based-on-python-klein/39391548#39391548", "title": "How to use multiple core with a webservice based on Python Klein", "body": "<p>It's certainly possible to use <code>multiprocessing</code> and it sure as heck is easy to spin up processes.</p>\n\n<pre><code>from multiprocessing import Process\nfrom klein import Klein\n\ndef runserver(interface, port, logFile):\n    app = Klein()\n    @app.route('/')\n    def heyEarth(request):\n        return 'Hey Earth!'\n    app.run(interface, port, logFile)\n\nprocess_list = []\nfor x, port in enumerate([8000, 8001, 8002, 8003]):\n    logfilename = open('localhost' + str(port) + '.log', 'a')\n    process_list.append(Process(target=runserver, args=('localhost', port, logfilename)))\n    process_list[x].daemon = True\n    process_list[x].start()\n\nprocess_list.pop().join()\n</code></pre>\n\n<p>In an enterprise environment it's better and more reliable to run behind a dedicated load balancer like nginx. So the snippet above should only be used to start the web servers, then all your load balancing should be handled by a dedicated load balancer.</p>\n\n<p>Keep the multiprocess code to a bare minimum or else basic things like debugging and shared system files start to become an annoyance. And that's the \"normal\" stuff, there are TONS of ABNORMALITIES that can arise and no one will be able to help you because you don't know what's happening yourself. Just running this snippet, I noticed a few weird things with signals and Twisted. I think it could be fixed if I ran all <code>klein</code> imports in the <code>runserver()</code>.</p>\n\n<p>Get informed, learn from other's mistakes, heed the warnings of those who have been burned by <code>multiprocessing</code> and go make a kick ass app! Hope this helps :D</p>\n\n<h1>References</h1>\n\n<ul>\n<li><a href=\"http://www.tornadoweb.org/en/stable/guide/running.html#running-behind-a-load-balancer\" rel=\"nofollow noreferrer\">Tornado: Running and Deploying</a> - it's a Tornado doc, but it should still help</li>\n<li><a href=\"https://stackoverflow.com/a/10088578/2172464\">Multicore TwistedWeb</a> - This is the \"Twisted\" approach to multiprocesses by a core developer. Worth a read for anyone looking to run Twisted and spawn processes.</li>\n</ul>\n"}], "owner": {"reputation": 853, "user_id": 1294529, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/86f3c49bcdab97efcc8893a9eec26973?s=128&d=identicon&r=PG", "display_name": "JLTChiu", "link": "https://stackoverflow.com/users/1294529/jltchiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 39391548, "answer_count": 1, "score": 3, "last_activity_date": 1473348098, "creation_date": 1473277236, "question_id": 39377856, "link": "https://stackoverflow.com/questions/39377856/how-to-use-multiple-core-with-a-webservice-based-on-python-klein", "title": "How to use multiple core with a webservice based on Python Klein", "body": "<p>I am writing a web service based on Klein framework</p>\n\n<p><a href=\"https://klein.readthedocs.io/en/latest/index.html\" rel=\"nofollow\">https://klein.readthedocs.io/en/latest/index.html</a></p>\n\n<p>At this stage I am stress testing my service, it can handles about 70 requests per second on amazon t2.medium instance. But when I use top to  check the server, it only use 100% of CPU. I think amazon t2.medium instance should have 2 cpu, so I wonder is there a way to change in my web service code to use all of the possible cpus and hopefully handle more requests.</p>\n\n<p>I've read python documentations and found the <code>multiprocessing</code> module but I am not sure will that be the right solution to it. Right now the main function of my web service is</p>\n\n<pre><code>APP = Klein()\nif __name__ == \"__main__\":\n    APP.run(\"0.0.0.0\", SERVER_PORT)\n</code></pre>\n\n<p>Is there a straight forward fix to make this service being able to use multiple cpu to process the incoming requests? Thank you for reading the question. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1473277335, "post_id": 39377821, "comment_id": 66083667, "body": "How do you call the function? Do you actually <i>use</i> the result, e.g. bind it to some variables?"}, {"owner": {"reputation": 9929, "user_id": 2125392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4fd030c5c39984fab1a4fb57d72a144?s=128&d=identicon&r=PG", "display_name": "CivFan", "link": "https://stackoverflow.com/users/2125392/civfan"}, "edited": false, "score": 0, "creation_date": 1473277672, "post_id": 39377821, "comment_id": 66083810, "body": "Your <code>data</code> object doesn&#39;t have the <code>&#39;tick&#39;</code> key. Check your data object -- <code>print data</code>."}, {"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1473277675, "post_id": 39377821, "comment_id": 66083814, "body": "You probably don&#39;t have access to the <code>data</code> variable.  Check out python variable scoping <a href=\"http://python-textbok.readthedocs.io/en/latest/Variables_and_Scope.html\" rel=\"nofollow noreferrer\">python-textbok.readthedocs.io/en/latest/&hellip;</a>  I&#39;m willing to bet that the <code>stream()</code> method doesn&#39;t have access to the variable."}, {"owner": {"reputation": 9929, "user_id": 2125392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4fd030c5c39984fab1a4fb57d72a144?s=128&d=identicon&r=PG", "display_name": "CivFan", "link": "https://stackoverflow.com/users/2125392/civfan"}, "edited": false, "score": 1, "creation_date": 1473278824, "post_id": 39377821, "comment_id": 66084336, "body": "You&#39;re calling <code>stream()</code> without a parameter, when it expects one."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1473283867, "post_id": 39377821, "comment_id": 66086521, "body": "The code you&#39;ve shown would raise a different error. Please post code that you&#39;ve tested and the error it gave."}], "answers": [{"comments": [{"owner": {"reputation": 9929, "user_id": 2125392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4fd030c5c39984fab1a4fb57d72a144?s=128&d=identicon&r=PG", "display_name": "CivFan", "link": "https://stackoverflow.com/users/2125392/civfan"}, "edited": false, "score": 0, "creation_date": 1473277815, "post_id": 39377933, "comment_id": 66083876, "body": "The question is now updated to show the return is done inside a function."}], "tags": [], "owner": {"reputation": 31, "user_id": 6797668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd977200b1319dacdbf50c2c1f649564?s=128&d=identicon&r=PG&f=1", "display_name": "SuperRafek", "link": "https://stackoverflow.com/users/6797668/superrafek"}, "is_accepted": false, "score": -1, "last_activity_date": 1473277572, "creation_date": 1473277572, "answer_id": 39377933, "question_id": 39377821, "link": "https://stackoverflow.com/questions/39377821/can-print-multiple-values-but-can-not-return-them/39377933#39377933", "title": "Can Print Multiple Values, But Can Not Return Them", "body": "<p>The return has to be within a function as it does not work outside the function.</p>\n\n<p>See below which works as expected:</p>\n\n<pre><code>data = {\"tick\":{\"instrument\":\"AUD_CAD\",\"time\":\"2014-01-   30T20:47:08.066398Z\",\"bid\":0.98114,\"ask\":0.98139}}\n\ndef test(data):\n    bid = data['tick']['bid']\n    ask = data['tick']['ask']\n    return(bid, ask)\n\nprint test(data)\n</code></pre>\n\n<p>prints (0.98114, 0.98139)</p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 3659824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxE8Q.png?s=128&g=1", "display_name": "LaughU", "link": "https://stackoverflow.com/users/3659824/laughu"}, "is_accepted": false, "score": 1, "last_activity_date": 1473279320, "last_edit_date": 1473279320, "creation_date": 1473277672, "answer_id": 39377962, "question_id": 39377821, "link": "https://stackoverflow.com/questions/39377821/can-print-multiple-values-but-can-not-return-them/39377962#39377962", "title": "Can Print Multiple Values, But Can Not Return Them", "body": "<p>The question was updated so here is a new try: </p>\n\n<p>I tried to execute your code but got an error whit <code>bid, ask = stream()</code> . You have to call the function with an argument like this:  <code>bid, ask = stream(data)</code>\n which assign the values. I couldn't reproduce your error through. </p>\n\n<p>On a second thought: \nIf your Script with the function <code>stream</code> is called from another script, you have to take care, that the <code>data</code> variable is present in the script which calls the function. </p>\n"}], "owner": {"reputation": 1863, "user_id": 1615532, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/QJAyv.jpg?s=128&g=1", "display_name": "ng150716", "link": "https://stackoverflow.com/users/1615532/ng150716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1473283787, "answer_count": 2, "score": 0, "last_activity_date": 1473283621, "creation_date": 1473277119, "last_edit_date": 1473283621, "question_id": 39377821, "link": "https://stackoverflow.com/questions/39377821/can-print-multiple-values-but-can-not-return-them", "closed_reason": "Not suitable for this site", "title": "Can Print Multiple Values, But Can Not Return Them", "body": "<p>I am working with a REST API that streams data, and I would like to take the relevant bits and return it (to be manipulated in another script). Here is a sample of what the raw data looks like:</p>\n\n<pre><code>data = {\"tick\":{\"instrument\":\"AUD_CAD\",\"time\":\"2014-01-30T20:47:08.066398Z\",\"bid\":0.98114,\"ask\":0.98139}} \n</code></pre>\n\n<p>I would like to keep the bid and the ask, and return them. To accomplish this my code looks like this:</p>\n\n<pre><code>def stream(data):\n   bid = data['tick']['bid']\n   ask = data['tick']['ask']\n   return(bid, ask)\n\nbid, ask = stream()\n</code></pre>\n\n<p>which does not work. However if I replace return with print, it prints the data just fine. Here is the relevant bit of the error message:</p>\n\n<pre><code>bid = data['tick']['bid'] \nKeyError: 'tick'\n</code></pre>\n\n<p>Any ideas on what the issue is?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1473277168, "post_id": 39377790, "comment_id": 66083594, "body": "<code>if i == &quot;Cookie flavored water is yummy&quot;</code>. Here you loop on x but still test x not the string. can you be more specific? it means that <code>&quot;Cookie flavored water is yummy 6&quot;</code> wouldn&#39;t be acceptable then?"}], "answers": [{"tags": [], "owner": {"reputation": 576, "user_id": 5959905, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/227446de6d13d5e623ff06651ed36dad?s=128&d=identicon&r=PG", "display_name": "VlassisFo", "link": "https://stackoverflow.com/users/5959905/vlassisfo"}, "is_accepted": false, "score": 1, "last_activity_date": 1473277345, "creation_date": 1473277345, "answer_id": 39377889, "question_id": 39377790, "link": "https://stackoverflow.com/questions/39377790/how-to-recode-line-so-an-exact-sentence-must-be-in-the-list-for-it-to-match/39377889#39377889", "title": "How to recode line so an exact sentence must be in the list for it to match", "body": "<p>Well if the string is always the one you specified you could do this:</p>\n\n<pre><code>yourString = \"Cookie flavored water is yummy\"\nfor item in x:\n    if yourString in item:\n        print 'Yes'\n    else:\n        print 'No'\n</code></pre>\n\n<p>This check each list item for the specified string. In your example \"Cookie flavored water is yummy 6\" contains the substring \"Cookie flavored water is yummy\". So the script will print 'Yes'</p>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1473277407, "creation_date": 1473277407, "answer_id": 39377897, "question_id": 39377790, "link": "https://stackoverflow.com/questions/39377790/how-to-recode-line-so-an-exact-sentence-must-be-in-the-list-for-it-to-match/39377897#39377897", "title": "How to recode line so an exact sentence must be in the list for it to match", "body": "<p>you're iterating on <code>x</code> with <code>i</code> but you check if string belongs to the list, not the element, which is always false.</p>\n\n<p>to check if an element of x contains <code>\"Cookie flavored water is yummy\"</code></p>\n\n<pre><code>x = [\"Cookie flavored water is yummy 6\", \"Coding complicated 16\", \"Help 7\"]\n\nfor i in x:\n    print (\"Yes\" if \"Cookie flavored water is yummy\" in i else \"No\")\n</code></pre>\n\n<p>on the other hand, for exact string match simply use <code>in</code> without a loop, the loop being made on <code>x</code> by the <code>in</code> operator:</p>\n\n<pre><code>print (\"Yes\" if \"Cookie flavored water is yummy\" in x else \"No\")\n</code></pre>\n\n<p>If you need exact string match on a great number of elements, consider putting your elements in a <code>set</code> instead because lookup time is much smaller (hashing involved). The code remains the same apart from that.</p>\n"}, {"tags": [], "owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "is_accepted": false, "score": 0, "last_activity_date": 1473277805, "creation_date": 1473277805, "answer_id": 39377992, "question_id": 39377790, "link": "https://stackoverflow.com/questions/39377790/how-to-recode-line-so-an-exact-sentence-must-be-in-the-list-for-it-to-match/39377992#39377992", "title": "How to recode line so an exact sentence must be in the list for it to match", "body": "<p>What do you mean by \"acceptable?\" Additionally, when you say you don't want the number at the end of the items in the list to be included, do you mean for your comparison? I agree with the other answers, and if you happen to want to remove the numbers from the list:</p>\n\n<pre><code>x = [' '.join(i.split(' ')[:-1]) for i in x]\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4898329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5dd2752000b3d50045727a615d820efe?s=128&d=identicon&r=PG&f=1", "display_name": "HAMZAH AHMED", "link": "https://stackoverflow.com/users/4898329/hamzah-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39377897, "answer_count": 3, "score": 0, "last_activity_date": 1473277805, "creation_date": 1473276998, "question_id": 39377790, "link": "https://stackoverflow.com/questions/39377790/how-to-recode-line-so-an-exact-sentence-must-be-in-the-list-for-it-to-match", "title": "How to recode line so an exact sentence must be in the list for it to match", "body": "<pre><code>x = [\"Cookie flavored water is yummy 6\", \"Coding complicated 16\", \"Help 7\"]\n\nfor i in x:\n    if \"flavored\" in x:\n        print (\"Yes\")\n    else:\n        print (\"No\")\n</code></pre>\n\n<p>I want the exact string \"Cookie flavored water is yummy\" to be in the list for it to be acceptable but I don't want the 6 part included. I'm completely befuddled on how to accomplish this. Also the objective might change from the first element to a different element.</p>\n"}, {"tags": ["python", "database", "celery"], "comments": [{"owner": {"reputation": 1044, "user_id": 4117083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqLvf.jpg?s=128&g=1", "display_name": "creativeChips", "link": "https://stackoverflow.com/users/4117083/creativechips"}, "edited": false, "score": 0, "creation_date": 1473504226, "post_id": 39377751, "comment_id": 66174498, "body": "can you please explain what you mean by &quot;load background tasks from a database&quot;? or &quot;loading the database&quot;? it would help to provide the best approach to solve your needs. Generally, you dont get result from worker, worker is executing tasks and store the results in the backend... so from your terminology it is a bit hard to tell what you should do."}, {"owner": {"reputation": 494, "user_id": 6496818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/48920e8d6e7ea7c82d3cc8d6bb43a77c?s=128&d=identicon&r=PG&f=1", "display_name": "Kalimantan", "link": "https://stackoverflow.com/users/6496818/kalimantan"}, "reply_to_user": {"reputation": 1044, "user_id": 4117083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqLvf.jpg?s=128&g=1", "display_name": "creativeChips", "link": "https://stackoverflow.com/users/4117083/creativechips"}, "edited": false, "score": 0, "creation_date": 1473514975, "post_id": 39377751, "comment_id": 66177045, "body": "@creativeChips do you retrieve the results from redis server?"}, {"owner": {"reputation": 1044, "user_id": 4117083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqLvf.jpg?s=128&g=1", "display_name": "creativeChips", "link": "https://stackoverflow.com/users/4117083/creativechips"}, "edited": false, "score": 0, "creation_date": 1473540843, "post_id": 39377751, "comment_id": 66184325, "body": "I personally got mongo as backend, and I indeed query for the results directly from the mongo collection, when needed. I took a chance hoping I get your usecase, and posted an answer ..."}], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 4117083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqLvf.jpg?s=128&g=1", "display_name": "creativeChips", "link": "https://stackoverflow.com/users/4117083/creativechips"}, "is_accepted": true, "score": 10, "last_activity_date": 1473546899, "last_edit_date": 1473546899, "creation_date": 1473540647, "answer_id": 39430468, "question_id": 39377751, "link": "https://stackoverflow.com/questions/39377751/retrieving-result-from-celery-worker-constantly/39430468#39430468", "title": "Retrieving result from celery worker constantly", "body": "<p>The Celery <a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#tasks\">Task</a> is being executed by a Worker, and it's Result is being stored in the <a href=\"http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html#keeping-results\">Celery Backend</a>.</p>\n\n<p>If I get you correctly, then I think you got few options:</p>\n\n<ol>\n<li><a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#ignore-results-you-don-t-want\">Ignore the result</a> of the graph-loading-task, store what ever you need, as a side effect of the task, in your database. When needed, query for the most recent result in that database. If the DB is Redis, you may find <a href=\"http://redis.io/commands/ZADD\">ZADD</a> and <a href=\"http://redis.io/commands/ZRANGE\">ZRANGE</a> suitable. This way you'll get the new if available, or the previous if not.</li>\n<li><p>You can look for the <a href=\"http://docs.celeryproject.org/en/latest/reference/celery.result.html#celery.result.AsyncResult\">result of a task if you provide it's id</a>. You can do this when you want to find out the status, something like (where <code>celery</code> is the Celery app): <code>result = celery.AsyncResult(&lt;the task id&gt;)</code></p></li>\n<li><p>Use <a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#avoid-launching-synchronous-subtasks\">callback</a> to update farther when new result is ready.</p></li>\n<li>Let a background thread <a href=\"http://docs.celeryproject.org/en/latest/reference/celery.result.html#celery.result.AsyncResult.wait\">wait</a> for the AsyncResult, or <a href=\"http://docs.celeryproject.org/en/latest/reference/celery.result.html#celery.result.ResultSet.join_native\">native_join</a>, which is supported with Redis, and update accordingly (not recommended)</li>\n</ol>\n\n<p>I personally used option #1 in similar cases (using MongoDB) and found it to be very maintainable and flexible. But possibly, due the nature of your UI, option #3 will more suitable for you needs.</p>\n"}], "owner": {"reputation": 494, "user_id": 6496818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/48920e8d6e7ea7c82d3cc8d6bb43a77c?s=128&d=identicon&r=PG&f=1", "display_name": "Kalimantan", "link": "https://stackoverflow.com/users/6496818/kalimantan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1513, "favorite_count": 1, "accepted_answer_id": 39430468, "answer_count": 1, "score": 9, "last_activity_date": 1473546899, "creation_date": 1473276808, "last_edit_date": 1473514920, "question_id": 39377751, "link": "https://stackoverflow.com/questions/39377751/retrieving-result-from-celery-worker-constantly", "title": "Retrieving result from celery worker constantly", "body": "<p>I have an web app in which I am trying to use celery to load background tasks from a database. I am currently loading the database upon request, but would like to load the tasks on an hourly interval and have them work in the background. I am using flask and am coding in python.I have redis running as well. </p>\n\n<p>So far using celery I have gotten the worker to process the task and the beat to send the tasks to the worker on an interval. But I want to retrieve the results[a dataframe or query] from the worker and if the result is not ready then it should load the previous result of the worker. </p>\n\n<p>Any ideas on how to do this?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I am retrieving the results from a database using sqlalchemy and I am rendering the results in a webpage. I have my homepage which has all the various links which all lead to different graphs which I want to be loaded in the background so the user does not have to wait long loading times. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1473276910, "post_id": 39377743, "comment_id": 66083469, "body": "<code>age = int(input(&quot;...&quot;))</code>?"}, {"owner": {"reputation": 1167, "user_id": 1622858, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/546a8ffbb68c044b68b1e8ce99b0fe0b?s=128&d=identicon&r=PG", "display_name": "Michael Platt", "link": "https://stackoverflow.com/users/1622858/michael-platt"}, "edited": false, "score": 0, "creation_date": 1473276987, "post_id": 39377743, "comment_id": 66083501, "body": "Just a quick side note, if you don&#39;t covert a string to an int and use &quot;* 7&quot;, it will repeat it seven times.  Covert like the previous two comments said and it will work."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6806227, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dui4oDlC-sk/AAAAAAAAAAI/AAAAAAAAALI/gVJnj-0ouZE/photo.jpg?sz=128", "display_name": "SourLeemons", "link": "https://stackoverflow.com/users/6806227/sourleemons"}, "edited": false, "score": 0, "creation_date": 1473316728, "post_id": 39377795, "comment_id": 66095260, "body": "Can you please write out the full code?"}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "reply_to_user": {"reputation": 11, "user_id": 6806227, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dui4oDlC-sk/AAAAAAAAAAI/AAAAAAAAALI/gVJnj-0ouZE/photo.jpg?sz=128", "display_name": "SourLeemons", "link": "https://stackoverflow.com/users/6806227/sourleemons"}, "edited": false, "score": 0, "creation_date": 1473340883, "post_id": 39377795, "comment_id": 66110257, "body": "What was not clear in my answer, that needed a full code paste? I&#39;m curious for the next time I answer someone else."}], "tags": [], "owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "is_accepted": false, "score": 2, "last_activity_date": 1473340859, "last_edit_date": 1473340859, "creation_date": 1473277026, "answer_id": 39377795, "question_id": 39377743, "link": "https://stackoverflow.com/questions/39377743/int-to-str-on-python/39377795#39377795", "title": "Int to str on Python", "body": "<p>In python you can do this <code>str * 7</code> and as you can see it will repeat it 7 times.</p>\n\n<p>For what you want you want to cast age to int <code>int(age)</code> or cast your input to only accept ints <code>age = int(input(\"enter age\"))</code> Like in the comments say. </p>\n\n<p>For future reference you can test the type of a variable using <code>type(&lt;variable&gt;)</code></p>\n\n<p>Edit... </p>\n\n<pre><code>name = input(\"Please enter your name: \")\nage = int(input(\"Please enter your age: \"))\nprint (\"Hello, \" + name + \", you are \" , age * 7 , \" Years old in Dog years.\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1473277113, "creation_date": 1473277113, "answer_id": 39377818, "question_id": 39377743, "link": "https://stackoverflow.com/questions/39377743/int-to-str-on-python/39377818#39377818", "title": "Int to str on Python", "body": "<p>Multipling a string with a integer is repeating it multiple times. You have to convert <code>age</code> to a number before doing calculations:</p>\n\n<pre><code>print(\"Hello, {}, you are {} Years old in Dog years.\".format(name, int(age) * 7)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6806227, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dui4oDlC-sk/AAAAAAAAAAI/AAAAAAAAALI/gVJnj-0ouZE/photo.jpg?sz=128", "display_name": "SourLeemons", "link": "https://stackoverflow.com/users/6806227/sourleemons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1473277612, "answer_count": 2, "score": 0, "last_activity_date": 1473340859, "creation_date": 1473276782, "question_id": 39377743, "link": "https://stackoverflow.com/questions/39377743/int-to-str-on-python", "closed_reason": "Duplicate", "title": "Int to str on Python", "body": "<pre><code>name = input(\"Please enter your name: \")\nage = input(\"Please enter your age: \")\nprint (\"Hello, \" + name + \", you are \" + age * 7 + \" Years old in Dog years.\").\n</code></pre>\n\n<p>This is my code and this is what I get.</p>\n\n<pre><code>Please enter your name: paris\nPlease enter your age: 13\nHello, paris, you are 13131313131313 Years old in Dog years.\n</code></pre>\n\n<p>I want 13 x 7 not 13 7 times. Can someone please help me? thx</p>\n"}, {"tags": ["python", "python-2.7", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 4546, "user_id": 2781701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5745f276004f077454f27cde70858a1d?s=128&d=identicon&r=PG", "display_name": "Rafael Almeida", "link": "https://stackoverflow.com/users/2781701/rafael-almeida"}, "is_accepted": true, "score": 2, "last_activity_date": 1473287353, "creation_date": 1473287353, "answer_id": 39379944, "question_id": 39377671, "link": "https://stackoverflow.com/questions/39377671/data-from-2-pages-as-one-item/39379944#39379944", "title": "Data from 2 pages as one item", "body": "<p><a href=\"http://doc.scrapy.org/en/latest/topics/request-response.html#passing-additional-data-to-callback-functions\" rel=\"nofollow\">http://doc.scrapy.org/en/latest/topics/request-response.html#passing-additional-data-to-callback-functions</a></p>\n\n<pre><code>def parse_page1(self, response):\n    item = MyItem()\n    item['price_GBP'] = response.xpath(\"//foo/bar\").extract_first()\n    request = scrapy.Request(\"http://www.example.com/en-AU/\",\n                             callback=self.parse_page2)\n    request.meta['item'] = item\n    yield request\n\ndef parse_page2(self, response):\n    item = response.meta['item']\n    item['price_AUD'] = response.xpath(\"//foo/bar\").extract_first()\n    yield item\n</code></pre>\n"}], "owner": {"reputation": 975, "user_id": 631336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6186fb09a33d713c8b93e83af10a2821?s=128&d=identicon&r=PG", "display_name": "Louise McMahon", "link": "https://stackoverflow.com/users/631336/louise-mcmahon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 39379944, "answer_count": 1, "score": 2, "last_activity_date": 1473287353, "creation_date": 1473276432, "question_id": 39377671, "link": "https://stackoverflow.com/questions/39377671/data-from-2-pages-as-one-item", "title": "Data from 2 pages as one item", "body": "<p>I am crawling a site with products the currency that product's price is shown is it set via the url <code>/en-GB/</code> for GBP and <code>/en-AU/</code> for AUD my client wants both prices in one item.</p>\n\n<p>I would like to be able to use pipelines to put it into their DB so combining it afterwards is not viable. Is their anyway with scrapy to do this?</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 1, "creation_date": 1473276186, "post_id": 39377515, "comment_id": 66083127, "body": "You might be able to use HTML as the text, and set <code>style=&quot;font-size:10px;&quot;</code>"}, {"owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "reply_to_user": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 0, "creation_date": 1473276282, "post_id": 39377515, "comment_id": 66083166, "body": "That&#39;s a great idea! I will try it out. Nevertheless, I will keep the question open, because other tweaks (not related to font size) might need a handle to the <code>QInputDialog</code> object."}, {"owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "reply_to_user": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 0, "creation_date": 1473276487, "post_id": 39377515, "comment_id": 66083263, "body": "Hi @denvaar .Your approach works, but only for the displayed informative text. The input text field has still the default font."}, {"owner": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 0, "creation_date": 1473276711, "post_id": 39377515, "comment_id": 66083378, "body": "can you not just do something like <code>input_dialog = QInputDialog</code> then <code>input_dialog.setFont(font)</code> ?"}, {"owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "reply_to_user": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 0, "creation_date": 1473276833, "post_id": 39377515, "comment_id": 66083429, "body": "I don&#39;t know what parameters I should give to the constructor of <code>QInputDialog</code>. You know, there are several types of input dialogs.."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1473278325, "post_id": 39377515, "comment_id": 66084090, "body": "@K.Mulier. The documentation for <a href=\"http://doc.qt.io/qt-5/qinputdialog.html\" rel=\"nofollow noreferrer\">QInputDialog</a> seems quite clear, and is not greatly different from <a href=\"http://doc.qt.io/qt-5/qmessagebox.html\" rel=\"nofollow noreferrer\">QMessageBox</a>."}, {"owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "edited": false, "score": 0, "creation_date": 1473278514, "post_id": 39377515, "comment_id": 66084188, "body": "I&#39;m a bit puzzled by the fact that to show the <code>QInputDialog()</code>, one needs to invoke the <code>getText(..)</code> function (or <code>getInt(..)</code>, depending on what you need). The simple <code>QMessageBox()</code> can be constructed first, and shown with <code>exec_()</code> later on."}, {"owner": {"reputation": 1968, "user_id": 1718122, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/doEsD.jpg?s=128&g=1", "display_name": "denvaar", "link": "https://stackoverflow.com/users/1718122/denvaar"}, "edited": false, "score": 0, "creation_date": 1473279316, "post_id": 39377515, "comment_id": 66084561, "body": "@K.Mulier I&#39;m not sure if it&#39;s possible without having to make your own custom dialog. You can try <code>dlg = QInputDialog(self)</code> then <code>dlg.setFont(font)</code> or even <code>dlg.setStyleSheet(&quot;&quot;&quot; * { font-size: 14pt; } &quot;&quot;&quot;)</code> and then <code>dlg.getText(&#39;input dialog&#39;, &#39;Text here&#39;)</code> It didn&#39;t work for me, but didn&#39;t throw any errors. Not sure what to say."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1473288660, "post_id": 39377515, "comment_id": 66088116, "body": "@K.Mulier. No - those are static functions. You just need to call <code>exec_()</code>, same as any other dialog."}, {"owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1473351351, "post_id": 39377515, "comment_id": 66117636, "body": "@ekhumoro and denvaar, I have applied your suggestions, and added an answer with the results. Of course, all the credit goes to you guys. If you like to add an answer with the content of your comments, then I will upvote it and check it as the correct answer. It is only fair to say &quot;thank you&quot; for your help ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "is_accepted": true, "score": 2, "last_activity_date": 1473326218, "creation_date": 1473326218, "answer_id": 39387037, "question_id": 39377515, "link": "https://stackoverflow.com/questions/39377515/how-to-change-the-font-size-of-a-qinputdialog-in-pyqt/39387037#39387037", "title": "How to change the font size of a QInputDialog in PyQt?", "body": "<p>Thanks to the comments of @denvaar and @ekhumoro, I got the solution. Here it is:</p>\n\n<pre><code>    # Create a custom font\n    # ---------------------\n    font = QFont()\n    font.setFamily(\"Arial\")\n    font.setPointSize(10)\n\n    # Create and show the input dialog\n    # ---------------------------------\n    inputDialog = QInputDialog(None)\n    inputDialog.setInputMode(QInputDialog.TextInput)\n    inputDialog.setWindowTitle('Input')\n    inputDialog.setLabelText('Enter the name for this new file:')\n    inputDialog.setFont(font)\n    ok = inputDialog.exec_()\n    filename = inputDialog.textValue()\n    if(ok):\n        print('Name of file = ' + filename)\n    else:\n        print('Cancelled')\n</code></pre>\n"}], "owner": {"reputation": 6280, "user_id": 6178507, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5VkoH.jpg?s=128&g=1", "display_name": "K.Mulier", "link": "https://stackoverflow.com/users/6178507/k-mulier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3951, "favorite_count": 1, "accepted_answer_id": 39387037, "answer_count": 1, "score": 2, "last_activity_date": 1473326218, "creation_date": 1473275670, "last_edit_date": 1473276759, "question_id": 39377515, "link": "https://stackoverflow.com/questions/39377515/how-to-change-the-font-size-of-a-qinputdialog-in-pyqt", "title": "How to change the font size of a QInputDialog in PyQt?", "body": "<p><strong>The case of a simple message box</strong></p>\n\n<p>I have figured out how to change the font size in simple PyQt dialog windows. Take this example:</p>\n\n<pre><code>    # Create a custom font\n    # ---------------------\n    font = QFont()\n    font.setFamily(\"Arial\")\n    font.setPointSize(10)\n\n    # Show simple message box\n    # ------------------------\n    msg = QMessageBox()\n    msg.setIcon(QMessageBox.Question)\n    msg.setText(\"Are you sure you want to delete this file?\")\n    msg.setWindowTitle(\"Sure?\")\n    msg.setStandardButtons(QMessageBox.Ok | QMessageBox.Cancel)\n    msg.setFont(font)\n    retval = msg.exec_()\n    if retval == QMessageBox.Ok:\n        print('OK')\n    elif retval == QMessageBox.Cancel:\n        print('CANCEL')\n</code></pre>\n\n<p>The key to changing the font size is that you actually have a 'handle' to your message box. The variable <code>msg</code> is available to tweak the message box to your needs before showing it with <code>msg.exec_()</code>.</p>\n\n<p><strong>The case of a simple input dialog</strong></p>\n\n<p>The problem about the input dialog is that such handle is not present. Take this example:</p>\n\n<pre><code>    # Show simple input dialog\n    # -------------------------\n    filename, ok = QInputDialog.getText(None, 'Input Dialog', 'Enter the file name:')\n    if(ok):\n        print('Name of file = ' + filename)\n    else:\n        print('Cancelled')\n</code></pre>\n\n<p>The input dialog object is created on-the-fly. I have no way to tweak it to my needs (eg. apply a different font).</p>\n\n<p>Is there a way to get a handle to this <code>QInputDialog</code> object, before showing it?</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I was adviced in the comments to try it with an HTML snippet:</p>\n\n<pre><code>    filename, ok = QInputDialog.getText(None, 'Input Dialog', '&lt;html style=\"font-size:12pt;\"&gt;Enter the file name:&lt;/html&gt;')\n</code></pre>\n\n<p>The result is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BtzNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtzNI.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the text input field has still the small (unchanged) font size.</p>\n"}, {"tags": ["python", "smartsheet-api"], "comments": [{"owner": {"reputation": 11884, "user_id": 2781454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uFY7o.jpg?s=128&g=1", "display_name": "Kim Brandl", "link": "https://stackoverflow.com/users/2781454/kim-brandl"}, "edited": false, "score": 0, "creation_date": 1473295705, "post_id": 39377478, "comment_id": 66089691, "body": "Can you please update your question/post to include your code that is calling a function in the Python SDK and then trying to access the <b>created_by</b> attribute?   Seeing the code that&#39;s producing the error you&#39;ve described will allow folks to reproduce and troubleshoot the error."}, {"owner": {"reputation": 45, "user_id": 6806159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4842716665497b2aaf1e4735df68a2a?s=128&d=identicon&r=PG&f=1", "display_name": "JHWelch", "link": "https://stackoverflow.com/users/6806159/jhwelch"}, "reply_to_user": {"reputation": 11884, "user_id": 2781454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uFY7o.jpg?s=128&g=1", "display_name": "Kim Brandl", "link": "https://stackoverflow.com/users/2781454/kim-brandl"}, "edited": false, "score": 0, "creation_date": 1473337669, "post_id": 39377478, "comment_id": 66107835, "body": "I added a code sample. am I just using it incorrectly? Its in nothing complicated."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6806159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4842716665497b2aaf1e4735df68a2a?s=128&d=identicon&r=PG&f=1", "display_name": "JHWelch", "link": "https://stackoverflow.com/users/6806159/jhwelch"}, "edited": false, "score": 0, "creation_date": 1473434220, "post_id": 39395884, "comment_id": 66154077, "body": "Great thanks!  I looked in the row.py file and when I didn&#39;t see the created_by I thought I was missing something. I guess I&#39;ll have to write my own to fetch the created_by.  Odd they don&#39;t have it, it seems like it could be a useful piece of information when writing scripts."}], "tags": [], "owner": {"reputation": 11884, "user_id": 2781454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uFY7o.jpg?s=128&g=1", "display_name": "Kim Brandl", "link": "https://stackoverflow.com/users/2781454/kim-brandl"}, "is_accepted": true, "score": 0, "last_activity_date": 1473351481, "creation_date": 1473351481, "answer_id": 39395884, "question_id": 39377478, "link": "https://stackoverflow.com/questions/39377478/smart-sheet-row-calls-not-getting-information-or-working/39395884#39395884", "title": "Smart Sheet Row calls not getting information or working", "body": "<p>Via the API, if you want the <strong>Get Sheet</strong> response to include the <strong>createdBy</strong> attribute for each Row, you must specify the <strong>include</strong> parameter on the request with a value that includes the string <strong>rowWriterInfo</strong>. (See the <a href=\"http://smartsheet-platform.github.io/api-docs/?python#row-include-flags\" rel=\"nofollow\">Row Include Flags</a> section API docs for more info.) For example:</p>\n\n<pre><code>GET https://api.smartsheet.com/2.0/sheets/7359436428732292?include=rowWriterInfo\n</code></pre>\n\n<p>If I execute this request via Postman, I see that the response does indeed include the <strong>createdBy</strong> attribute for each Row object in the response.</p>\n\n<p>Via the SDK, I can execute this same request as follows:</p>\n\n<pre><code>sheet = smartsheet.Sheets.get_sheet(7359436428732292, include='rowWriterInfo')\n</code></pre>\n\n<p>So, the SDK seems to be sending the request properly. However, it doesn't look like the SDK currently supports accessing the <strong>created_by</strong> property of Row objects -- if you search the <em>Lib\\site-packages\\smartsheet\\models\\row.py</em> file for <em>created_by</em>, you'll come up empty. </p>\n\n<p>I'd suggest that you report this issue to Smartsheet by opening an issue in the <a href=\"https://github.com/smartsheet-platform/smartsheet-python-sdk/issues\" rel=\"nofollow\">corresponding GitHub repo</a>. In the meantime, you might consider updating your local copy of the Python SDK to add support for accessing the <strong>created_by</strong> property of Row objects. </p>\n"}], "owner": {"reputation": 45, "user_id": 6806159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4842716665497b2aaf1e4735df68a2a?s=128&d=identicon&r=PG&f=1", "display_name": "JHWelch", "link": "https://stackoverflow.com/users/6806159/jhwelch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 39395884, "answer_count": 1, "score": 2, "last_activity_date": 1473351481, "creation_date": 1473275534, "last_edit_date": 1473337640, "question_id": 39377478, "link": "https://stackoverflow.com/questions/39377478/smart-sheet-row-calls-not-getting-information-or-working", "title": "Smart Sheet Row calls not getting information or working", "body": "<p>I'm trying to use the row attribute created_by accessing it with the Python SDK and it keeps throwing an error. I'm not sure if I'm missing something.</p>\n\n<p>Every time I try to use it I get the error:</p>\n\n<pre><code>  File \"C:\\Python27\\lib\\site-packages\\smartsheet\\models\\row.py\", line 166, in __getattr__  raise AttributeError(key)\n  AttributeError: created_by\n</code></pre>\n\n<p>It also doesn't return anything when I run created_at, but at least it doesn't throw an error.</p>\n\n<p>Anyone else have this problem, or at least can point me to what I'm doing wrong?</p>\n\n<p>It happens ever time I call it. Here is a simple example</p>\n\n<pre><code>smartsheet = smartsheet.Smartsheet(SMARTSHEET_ACCESS_TOKEN)\nsheet = smartsheet.Sheets.get_sheet(IT_TRACKER_ID)\nrows = sheet.rows\ncolumns = sheet.columns\n\nprint rows[1].created_by\n</code></pre>\n"}, {"tags": ["python", "linux", "apache-spark", "io", "redhat"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1473275447, "post_id": 39377451, "comment_id": 66082752, "body": "Quote it:  <code>launch_the_spark_script ... features.py --label &quot;106466153-Gateway Arch&quot;</code>.  Most shells that I know of will then pass the quoted stuff as a singular argument to the underlying process (<code>python</code> in this case)"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1473275506, "post_id": 39377451, "comment_id": 66082780, "body": "Use a real working minimal example. Your code is invalid python as your <code>help</code> argument is non-terminated string."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1473275544, "post_id": 39377451, "comment_id": 66082800, "body": "<a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> would work just fine @Anthon, there is something with <a href=\"https://stackoverflow.com/questions/tagged/spark\">spark</a> that interferes. Updated"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1473275568, "post_id": 39377451, "comment_id": 66082812, "body": "If quoting doesn&#39;t work (as your edit implies), then you should provide us with how you&#39;re executing this (e.g. what shell?  What os?, etc.)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473275744, "post_id": 39377451, "comment_id": 66082903, "body": "Attempts 1, 2, and 4 should be equivalent and what you want. Attempt 3 would include a literal backslash before the space that you do not want."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473275837, "post_id": 39377451, "comment_id": 66082953, "body": "On progrss mgilson. @chepner agreed, but when nothing works..."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473275909, "post_id": 39377451, "comment_id": 66082992, "body": "What error or result <i>do</i> you get with 1, 2, or 4?"}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1473276502, "post_id": 39377451, "comment_id": 66083274, "body": "Same error @chepner. Anthon I updated with the exact code. Guys I know that it&#39;s like shooting in the dark, but you are <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> giants, so please fire! :) Or upvote, so that more can see it..."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1473283280, "post_id": 39377451, "comment_id": 66086320, "body": "@Anthon the code of my minimal example is pretty much the same as before. Anyway, I did use <code>nargs=&quot;+&quot;</code> and now can go along with it...Posted an answer, thanks everyone for the help! :)"}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 1, "creation_date": 1473285838, "post_id": 39377451, "comment_id": 66087242, "body": "This looks like a bug in the cluster deploy mode submission. Reproducible on Mesos as well. One way or another nothing we solve here."}, {"owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1473286498, "post_id": 39377451, "comment_id": 66087456, "body": "Thank you @zero323 for taking the time to reproduce and for the upvote. :)"}], "answers": [{"tags": [], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "is_accepted": true, "score": 0, "last_activity_date": 1473283149, "creation_date": 1473283149, "answer_id": 39379156, "question_id": 39377451, "link": "https://stackoverflow.com/questions/39377451/args-python-parser-a-whitespace-and-spark/39379156#39379156", "title": "args python parser, a whitespace and Spark", "body": "<p>Here is a nasty workaround:</p>\n\n<pre><code>from argparse import ArgumentParser\nparser = ArgumentParser()\nparser.add_argument('--label', dest='label', type=str, default=None, required=True, help='label', nargs=\"+\")\nargs = parser.parse_args()\nargs = ' '.join(args.label)\nprint args\n</code></pre>\n\n<p>where I am using <code>nargs=\"+\"</code> and then <code>join</code> the arguments. </p>\n\n<p>I execute like this:</p>\n\n<blockquote>\n  <p>spark-submit --master yarn --deploy-mode cluster foo.py --label \"106466153-Gateway Arch\"</p>\n</blockquote>\n\n<p>Also notice that this approach can work when no space exists, like this:</p>\n\n<blockquote>\n  <p>spark-submit --master yarn --deploy-mode cluster foo.py --label \"106466153-GatewayNoSpaceArch\"</p>\n</blockquote>\n"}], "owner": {"reputation": 66610, "user_id": 2411320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5kF5N.jpg?s=128&g=1", "display_name": "gsamaras", "link": "https://stackoverflow.com/users/2411320/gsamaras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 39379156, "answer_count": 1, "score": 2, "last_activity_date": 1473283149, "creation_date": 1473275406, "last_edit_date": 1473277051, "question_id": 39377451, "link": "https://stackoverflow.com/questions/39377451/args-python-parser-a-whitespace-and-spark", "title": "args python parser, a whitespace and Spark", "body": "<p>I have this code in <code>foo.py</code>:</p>\n\n<pre><code>from argparse import ArgumentParser\nparser = ArgumentParser()\nparser.add_argument('--label', dest='label', type=str, default=None, required=True, help='label')\nargs = parser.parse_args()\n</code></pre>\n\n<p>and when I execute:</p>\n\n<blockquote>\n  <p>spark-submit --master yarn --deploy-mode cluster foo.py --label 106466153-Gateway Arch</p>\n</blockquote>\n\n<p>I get this error at Stdout:</p>\n\n<pre><code>usage: foo.py [-h] --label LABEL\nfoo.py: error: unrecognized arguments: Arch\n</code></pre>\n\n<p>Any idea(s) please?</p>\n\n<hr>\n\n<p>Attempts:</p>\n\n<ol>\n<li><code>--label \"106466153-Gateway Arch\"</code></li>\n<li><code>--label 106466153-Gateway\\ Arch</code></li>\n<li><code>--label \"106466153-Gateway\\ Arch\"</code></li>\n<li><code>--label=\"106466153-Gateway Arch\"</code></li>\n<li><code>--label 106466153-Gateway\\\\\\ Arch</code></li>\n<li><code>--label 106466153-Gateway\\\\\\\\\\\\\\ Arch</code></li>\n</ol>\n\n<p>All attempts produce the same error.</p>\n\n<hr>\n\n<p>I am using Red Hat Enterprise Linux Server release 6.4 (Santiago).</p>\n"}, {"tags": ["python", "math", "compiler-errors"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275545, "post_id": 39377432, "comment_id": 66082801, "body": "Which line is line 12?"}, {"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275582, "post_id": 39377432, "comment_id": 66082819, "body": "@Code-Apprentice, line 12 is <code>sqr = math.sqrt(q4)</code>, line 19 is <code>quad_solve(a, b, c)</code>."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 3, "creation_date": 1473275677, "post_id": 39377432, "comment_id": 66082870, "body": "The algorithm is mathematically correct. However, you have failed to take into account the case where <code>q4</code> is negative. In math, what do you get when you take the square root of a negative number?"}], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 0, "creation_date": 1473275593, "post_id": 39377472, "comment_id": 66082824, "body": "@heather What is the square root of -25, for example?"}, {"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275628, "post_id": 39377472, "comment_id": 66082845, "body": "@Code-Apprentice, well, an imaginary number. Wait, so then I need to test if b^2 &gt; tan 4ac, and if it isn&#39;t, return that there are no zeros? Then, I guess I&#39;d want to know if I can have it handle imaginary numbers."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 2, "creation_date": 1473275724, "post_id": 39377472, "comment_id": 66082895, "body": "@heather Right, the <code>sqrt()</code> function in Python does not deal with imaginary numbers. It will just throw an error if you try to take the square root of a negative."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 1, "creation_date": 1473275755, "post_id": 39377472, "comment_id": 66082909, "body": "@heather So either you have to detect this case and avoid it, or you have to change your code to use imaginary numbers."}, {"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275755, "post_id": 39377472, "comment_id": 66082910, "body": "@Code-Apprentice, ah! Okay, then how do you take care of imaginary numbers?"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 1, "creation_date": 1473275825, "post_id": 39377472, "comment_id": 66082943, "body": "@heather I should say <code>math.sqrt()</code> doesn&#39;t do imaginary numbers. As Tom Pitts shows in his answer, you can use <code>cmath.sqrt()</code> instead."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275902, "post_id": 39377472, "comment_id": 66082986, "body": "@PabloIocco The OP clearly understands all of the mathematics involved here. She just didn&#39;t know about the nuances of Python and <code>math.sqrt()</code>."}, {"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1473275939, "post_id": 39377472, "comment_id": 66083005, "body": "@Code-Apprentice, yes, thank you. I do understand the mathematics. Good to know about <code>math.sqrt()</code>. I&#39;ll be updating my question. Thanks for your help!"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 1, "creation_date": 1473276039, "post_id": 39377472, "comment_id": 66083047, "body": "@heather As you continue to learn to program, you will find that correct mathematical reasoning will sometimes encounter the limitations of computers in ways similar to this. Good luck!"}], "tags": [], "owner": {"reputation": 21, "user_id": 6272273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1697577057183388/picture?type=large", "display_name": "Pablo Iocco", "link": "https://stackoverflow.com/users/6272273/pablo-iocco"}, "is_accepted": false, "score": 1, "last_activity_date": 1473275955, "last_edit_date": 1473275955, "creation_date": 1473275507, "answer_id": 39377472, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/39377472#39377472", "title": "Quadratic formula solver in python", "body": "<p>b^2 has to be greater than 4ac, So right now, that <code>sqrt()</code> function is getting a negative number. </p>\n"}, {"comments": [{"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1473280733, "post_id": 39377516, "comment_id": 66085156, "body": "Because it uses complex numbers.  Do you know what those are?  It would help a great deal if you&#39;d do the hand calculation for the constants you input to know what the answer should be before you begin.  You should be taking care of special cases (e.g. a = 0, b = 0, c = 0)."}], "tags": [], "owner": {"reputation": 560, "user_id": 3984496, "user_type": "registered", "accept_rate": 97, "profile_image": "https://graph.facebook.com/100004670621627/picture?type=large", "display_name": "Tom Pitts", "link": "https://stackoverflow.com/users/3984496/tom-pitts"}, "is_accepted": true, "score": 3, "last_activity_date": 1473286746, "last_edit_date": 1473286746, "creation_date": 1473275679, "answer_id": 39377516, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/39377516#39377516", "title": "Quadratic formula solver in python", "body": "<p>This is my version of the answer in the fewest lines of code:</p>\n\n<pre><code>import cmath\n\n#Your Variables\na = 5\nb = 5\nc = 5\n\n#The Discriminant\nd = (b**2) - (4*a*c)\n\n#The Solutions\nsolution1 = (-b-cmath.sqrt(d))/(2*a)\nsolution2 = (-b+cmath.sqrt(d))/(2*a)\nprint (solution1)\nprint (solution2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 1, "creation_date": 1473277877, "post_id": 39377991, "comment_id": 66083900, "body": "Thank you, but actually, I can calculate the result just fine, plus there&#39;s stuff like Wolfram Alpha. That&#39;s a good thing to know, but for now I&#39;d like to learn how to do it. Thanks again!"}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1473277805, "creation_date": 1473277805, "answer_id": 39377991, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/39377991#39377991", "title": "Quadratic formula solver in python", "body": "<p>If you're just interested in getting a result (and not in learning how to do this), you can use <a href=\"http://sympy.org\" rel=\"nofollow\">sympy</a>:</p>\n\n<pre><code>from sympy import var, solve\n\nx = var(\"x\")\nprint(solve(5*x**2 + 5*x + 5))\n# prints [-1/2 - sqrt(3)*I/2, -1/2 + sqrt(3)*I/2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1482146426, "post_id": 39378435, "comment_id": 69641394, "body": "Note that there&#39;s a single real solution when the discriminant (b&#178; - 4ac) equals zero. Technically, we say that there&#39;s a double root in that situation. Graphically, the graph of the function just touches the X-axis at the double root."}], "tags": [], "owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "is_accepted": false, "score": 0, "last_activity_date": 1473279938, "creation_date": 1473279938, "answer_id": 39378435, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/39378435#39378435", "title": "Quadratic formula solver in python", "body": "<p>There are two ways to do this (I figured this out thanks to the great hints given by Code-Apprentice, Pablo Iocco, and Tom Pitts).</p>\n\n<pre><code>import cmath\nimport math\n\na = 1\nb = 3\nc = 2\n\ndef quad_solve_exact(a, b, c):\n    d = (b*b)-(4*a*c)\n    solution1 = (-b-cmath.sqrt(d))/(2*a)\n    solution2 = (-b+cmath.sqrt(d))/(2*a)\n    print (solution1,solution2)\n\nquad_solve_exact(a, b, c)\n\ndef quad_solve(a, b, c):\n    if (b*b &gt; 4*a*c):\n        print \"There is a solution!\"\n        d = math.sqrt((b*b)-(4*a*c))\n        solution1 = (-b-math.sqrt(d))/(2*a)\n        solution2 = (-b+math.sqrt(d))/(2*a)\n        print (solution1,solution2)\n    else:\n        print \"No solutions, imaginary number\"\n\nquad_solve(a, b, c)\n</code></pre>\n\n<p>The first way is the more exact. The problem is the <code>sqrt</code> function used by the normal <code>math</code> package can't handle negative numbers. There is a package, <code>cmath</code>, however, that <em>can</em> handle negative numbers. So, you import both packages (the normal <code>math</code> package is used in the second example) and then define a, b, and c. Then, in your function you can combine the variables much more than I did, leading to shorter/clearer code. So, the variable <code>d</code> is used to denote what is under the square root. Then, for each solution, -b is added or subtracted to the square root of <code>d</code>, all of which is divided by 2a. Then, the solutions are printed.</p>\n\n<p>The second solution is less exact, but perfectly serviceable for my purposes. The new function also takes a, b, and c. Then, an if statement is used to make sure that the number being square rooted is not negative. If it is negative, then the else statement is ran, which prints that there is no solution. If the variables pass the if statement, it prints that there is indeed a solution, and basically uses the same code as before, except instead of <code>cmath.sqrt</code>, <code>math.sqrt</code> is used.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11239892, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b3939e723601300a4d02d3d4d6b308ab?s=128&d=identicon&r=PG", "display_name": "Phenominal", "link": "https://stackoverflow.com/users/11239892/phenominal"}, "is_accepted": false, "score": 0, "last_activity_date": 1553206057, "last_edit_date": 1553206057, "creation_date": 1553201693, "answer_id": 55289087, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/55289087#55289087", "title": "Quadratic formula solver in python", "body": "<p>Try this code:</p>\n\n<pre><code>import cmath\na=float(input(\"Enter a: \"))\nb=float(input(\"Enter b: \"))\nc=float(input(\"Enter c: \"))\nsol 1=(-b-cmath.sqrt(b**2)-(4*a*c)/(2*a))\nsol 2=(-b+cmath.sqrt(b**2)-(4*a*c)/(2*a))\nprint(\"x = {0}and{1}\".format (sol1,sol2))\n</code></pre>\n\n<p>Please give me a feedback on if it worked out</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13511186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d00332c99f7d2cc5014238bc0038936?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/13511186/sami"}, "is_accepted": false, "score": 0, "last_activity_date": 1589895795, "last_edit_date": 1589895795, "creation_date": 1589112549, "answer_id": 61711722, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python/61711722#61711722", "title": "Quadratic formula solver in python", "body": "<p>This is my initial try for a quadratic solver while trying to learn python.\nIt's very basic and doesn't check for imaginary solutions.\nIt will just fail if the solution is not real.</p>\n\n<pre><code># Second order quadratic solver: ax^2 + bx + c\n\n\nimport math\n\ndef testinput(userinput):\n    try:\n        val = float(userinput)\n    except ValueError:\n        print(\"\\n\\n\\nENTER REAL NUMBERS \\n\\n\\n\")\n\nprint(\"ax^2 + bx + c quadratic solver\")\n\n\n\na = input(\"Enter a:\")\ntestinput(a)\na = float(a)\n\nb = input(\"Enter b:\")\ntestinput(b)\nb = float(b)\n\nc = input(\"Enter c:\")\ntestinput(c)\nc = float(c)\n\nx1 = (-b+math.sqrt(b**2-4*a*c))/(2*a)\nx2 = (-b-math.sqrt(b**2-4*a*c))/(2*a)\n\nprint(\"\\n\\nInput: %.2fx^2 + %.2fx + %.2f\\n\" %(a,b,c))\nprint(\"\\nSolution: x1 = %.3f , x2 = %.3f\\n\\n\" %(x1,x2))\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4298, "favorite_count": 0, "accepted_answer_id": 39377516, "answer_count": 6, "score": 3, "last_activity_date": 1589895795, "creation_date": 1473275333, "last_edit_date": 1473280678, "question_id": 39377432, "link": "https://stackoverflow.com/questions/39377432/quadratic-formula-solver-in-python", "title": "Quadratic formula solver in python", "body": "<p>I'm somewhat new to python, but I'm trying my best to learn. My code is</p>\n\n<pre><code>import math\n\na = 5\nb = 5\nc = 5\n\ndef quad_solve(a, b, c):\n    q1 = b*b\n    q2 = 4*a*c\n    q3 = 2*a\n    q4 = q1-q2\n    sqr = math.sqrt(q4)\n    sol1p1 = b+sqr\n    sol1p2 = sol1p1/2\n    sol2p1 = b-sqr\n    sol2p2 = sol2p1/2\n    print (\"(\",sol1p2,\",\",sol2p2,\")\")\n\nquad_solve(a, b, c)\n</code></pre>\n\n<p>And when I run it it gives the error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 19, in &lt;module&gt;\n  File \"python\", line 12, in quad_solve\nValueError: math domain error\n</code></pre>\n\n<p>which I don't really understand. </p>\n\n<p>I'm trying to create a quadratic formula solver. I use the math module, and then define three variables, a, b, and c. Then, I define a function that takes in those variables (I call the function at the end). In the function, I define four quantities. <code>q1</code> is the b squared under the square root, <code>q2</code> is the 4ac also under the square root, <code>q3</code> is the denominator, and <code>q4</code> calculates the total under the square root (i.e., <code>q1</code> - <code>q2</code>). Then, I define a variable called <code>sqr</code> which is equal to the square root of <code>q4</code>. Then, I define four more variables, which calculate the solutions. <code>sol1p1</code> takes b + sqr, and <code>sol1p2</code> takes <code>sol1p1</code> and divides it by two. This gives the first solution. Then, <code>sol2p1</code> takes b - sqr, and <code>sol2p2</code> takes <code>sol2p1</code> and divides it by two. Finally, <code>sol1p2</code> and <code>sol2p2</code> are printed, in a set of parentheses with a comma between. I hope that makes sense; if any clarification is needed about the variable names, please let me know. </p>\n\n<p>I am using the online compiler repl.it (I don't know if there's anything special to consider with that).</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>I updated my code, per Code Apprentice's recommendations. I started by adding an if statement:</p>\n\n<pre><code>import math\n\na = 5\nb = 5\nc = 5\n\ndef quad_solve(a, b, c):\n    q1 = b*b\n    q2 = 4*a*c\n    q3 = 2*a\n    q4 = q1-q2\n    check = math.tan(q2)\n    if (q1 &gt; check):\n        sqr = math.sqrt(q4)\n        sol1p1 = b+sqr\n        sol1p2 = sol1p1/2\n        sol2p1 = b-sqr\n        sol2p2 = sol2p1/2\n        print (\"(\",sol1p2,\",\",sol2p2,\")\")\n    else:\n        print \"Imaginary number. There are no zeros.\"\n\n    quad_solve(a, b, c)\n</code></pre>\n\n<p>but it is continuing to return the error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"python\", line 23, in &lt;module&gt;\n  File \"python\", line 14, in quad_solve\nValueError: math domain error\n</code></pre>\n\n<p>I'm not sure why. </p>\n"}]