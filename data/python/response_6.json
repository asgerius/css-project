[{"tags": ["javascript", "python", "html", "web-scraping", "web-crawler"], "answers": [{"tags": [], "owner": {"reputation": 711, "user_id": 2464918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8761db37d71e1fddff61af66152de799?s=128&d=identicon&r=PG", "display_name": "Gil Cohen", "link": "https://stackoverflow.com/users/2464918/gil-cohen"}, "is_accepted": false, "score": 0, "last_activity_date": 1424304916, "last_edit_date": 1495535049, "creation_date": 1424304916, "answer_id": 28596489, "question_id": 28596309, "link": "https://stackoverflow.com/questions/28596309/programmatically-download-text-that-doesnt-appear-in-the-page-source/28596489#28596489", "title": "Programmatically download text that doesn&#39;t appear in the page source", "body": "<p>I'm not a python expert but any function such as urlopen only gets you the static HTML, not executing it. What you need is a browser engine of some kind to actually parse and execute the JavaScript.\nIt seems to be answered here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5738024/how-to-parse-java-script-containsdynamic-on-web-pagehtml-using-python\">How to Parse Java-script contains[dynamic] on web-page[html] using Python?</a></p>\n"}, {"comments": [{"owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "edited": false, "score": 1, "creation_date": 1424309615, "post_id": 28596498, "comment_id": 45500917, "body": "good answer.  I&#39;d add something about headless frameworks like phantomjs or casper.js also"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1424310369, "last_edit_date": 1495535049, "creation_date": 1424304959, "answer_id": 28596498, "question_id": 28596309, "link": "https://stackoverflow.com/questions/28596309/programmatically-download-text-that-doesnt-appear-in-the-page-source/28596498#28596498", "title": "Programmatically download text that doesn&#39;t appear in the page source", "body": "<p>The easiest option here would be to make a POST request to the URL responsible for the email search and parse the JSON results (mentioning @recursive since he suggested the idea first). Example using <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow noreferrer\"><code>requests</code></a> package:</p>\n\n<pre><code>import requests\n\ndata = {\n    'year': '1999',\n    'month': '05',\n    'day': '20',\n    'locale': 'en-us'\n}\nresponse = requests.post('http://jebbushemails.com/api/email.py', data=data)\n\nresults = response.json()\nfor email in results['emails']:\n    print email['dateCentral'], email['subject']\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>1999-05-20T00:48:23-05:00 Re: FW: The Reason Study of Rail Transportation in Hillsborough\n1999-05-20T04:07:26-05:00 Escambia County School Board\n1999-05-20T06:29:23-05:00 RE: Escambia County School Board\n...\n1999-05-20T22:56:16-05:00 RE: School Board\n1999-05-20T22:56:19-05:00 RE: Emergency Supplemental just passed 64-36\n1999-05-20T22:59:32-05:00 RE:\n1999-05-20T22:59:33-05:00 RE: (no subject)\n</code></pre>\n\n<hr>\n\n<p>A different approach here would be to let a real browser handle the dynamic javascript part of the page load with the help of <a href=\"http://selenium-python.readthedocs.org/\" rel=\"nofollow noreferrer\"><code>selenium</code></a> browser automation framework:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\n\ndriver = webdriver.Chrome()  # can also be, for example, webdriver.Firefox()\ndriver.get('http://jebbushemails.com/email/search')\n\n# click 1999-2000\nbutton = driver.find_element_by_xpath('//button[contains(., \"1999 \u2013 2000\")]')\nbutton.click()\n\n# click 20\ncell = driver.find_element_by_xpath('//table[@role=\"grid\"]//span[. = \"20\"]')\ncell.click()\n\n# click Submit\nsubmit = driver.find_element_by_xpath('//button[span[1]/text() = \"Submit\"]')\nsubmit.click()\n\n# wait for result to appear\nWebDriverWait(driver, 10).until(EC.presence_of_element_located((By.XPATH, \"//tr[@analytics-event]\")))\n\n# get the results\nfor row in driver.find_elements_by_xpath('//tr[@analytics-event]'):\n    date, subject = row.find_elements_by_tag_name('td')\n    print date.text, subject.text\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>6:24:27am Fw: Support Coordination\n6:26:18am Last nights meeting\n6:52:16am RE: Support Coordination\n7:09:54am St. Pete Times article\n8:05:35am semis on the interstate\n...\n6:07:25pm Re: Appointment\n6:18:07pm Re: Mayor Hood\n8:13:05pm Re: Support Coordination\n</code></pre>\n\n<p>Note that a browser here can also be <em>headless</em>, like <a href=\"http://phantomjs.org/\" rel=\"nofollow noreferrer\"><code>PhantomJS</code></a>. And, if there is no display for browser to work in - you can fire up a <em>virtual one</em>, see examples here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6183276/how-do-i-run-selenium-in-xvfb\">How do I run Selenium in Xvfb?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27942322/headless-browser-testing-with-download-functionality\">Headless browser testing with download functionality?</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": false, "score": 2, "last_activity_date": 1424305104, "creation_date": 1424305104, "answer_id": 28596527, "question_id": 28596309, "link": "https://stackoverflow.com/questions/28596309/programmatically-download-text-that-doesnt-appear-in-the-page-source/28596527#28596527", "title": "Programmatically download text that doesn&#39;t appear in the page source", "body": "<p>You can make a request to the actual ajax service, instead of trying to use the web interface.</p>\n\n<p>For example, a post request to <a href=\"http://jebbushemails.com/api/email.py\" rel=\"nofollow\">http://jebbushemails.com/api/email.py</a> with this form data will yield 80kb of easily parse-able json.</p>\n\n<pre><code>year:1999\nmonth:05\nday:20\nlocale:en-us\n</code></pre>\n"}], "owner": {"reputation": 1224, "user_id": 1801090, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c72df7868710625ba5fedf25dd30ba9b?s=128&d=identicon&r=PG", "display_name": "zvisofer", "link": "https://stackoverflow.com/users/1801090/zvisofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 28596498, "answer_count": 3, "score": 1, "last_activity_date": 1424310369, "creation_date": 1424303890, "last_edit_date": 1424305091, "question_id": 28596309, "link": "https://stackoverflow.com/questions/28596309/programmatically-download-text-that-doesnt-appear-in-the-page-source", "title": "Programmatically download text that doesn&#39;t appear in the page source", "body": "<p>I'm writing a crawler in Python.\nGiven a single web page, I extract it's <code>Html</code> content in the following manner:</p>\n\n<pre><code>import urllib2\nresponse = urllib2.urlopen('http://www.example.com/')\nhtml = response.read()\n</code></pre>\n\n<p>But some text components <strong>don't</strong> appear in the Html page source, for example in <a href=\"http://jebbushemails.com/email/results/19990106/1\" rel=\"nofollow\">this page</a> (redirected to the index, please access one of the dates and view a specific mail) if you view page source you will see that the mail text doesn't appear in the source but seems to be loaded by JS.</p>\n\n<p>How can I programmatically download this text?</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424324563, "post_id": 28599268, "comment_id": 45504808, "body": "Many leads could have the same User Agent but a single lead should only have 1 User Agent. I thought the purpose of the relationships in SQLAlchemy&#39;s ORM was to handle all this. However, I see what you are doing now. I was trying to set Agent with a string when it needed to be an instance of Agent per my relationship. As you were putting in your answer I was getting the classes to insert data but then ran into an error where the Lead, thru a relationship, was attempting to re-insert a value on a UNIQUE column. So now I&#39;m off to figure out how to do INSERT IGNORE."}, {"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424324604, "post_id": 28599268, "comment_id": 45504823, "body": "Your 2nd code with testAgent set is the correct way for my purposes. I like the setter and deleter but I have a lot of properties to create setters and deleter attributes for so I may look for something more generic. Thanks"}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424325267, "post_id": 28599268, "comment_id": 45505039, "body": "see update with association proxy, which also has the <code>find_or_create</code> routine (kind of INSERT IGNORE)."}, {"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424326430, "post_id": 28599268, "comment_id": 45505392, "body": "That association_proxy code worked like a charm. Thanks"}, {"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424473191, "post_id": 28599268, "comment_id": 45578617, "body": "So your solution works great so long as I only have 2 associations/relationships. As soon as I add a 3rd the loop I&#39;m using for entering the data in to the DB bombs. It always gives me an IntegrityError for one of the items being NULL that isn&#39;t allowed to be NULL. But it happens because the session.query from your find_and_create throws an error. SQLAlchemy then catches it and returns to the rest of the script where it then attempted to do the INSERT with most of the data missing. Oddly, everything works fine when I only have 2 associations/relationships but I have 12 so ..."}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424503291, "post_id": 28599268, "comment_id": 45584824, "body": "Post a <i>minimal</i> non-working solution with 3 tables (on gist or so) and seek help. Otherwise this is too abstract. I do not see a reason why many relationships should not work."}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 0, "last_activity_date": 1424325200, "last_edit_date": 1424325200, "creation_date": 1424324022, "answer_id": 28599268, "question_id": 28596296, "link": "https://stackoverflow.com/questions/28596296/creating-one-to-many-with-relationship-for-the-orm-in-sqlalchemy/28599268#28599268", "title": "Creating One-to-Many with Relationship for the ORM in SQLAlchemy", "body": "<p>You seem to be mixing the two sides of the <code>1-many</code> relationship: your code with test data works as if one <code>Lead</code> had many <code>Agents</code>, while the <code>relationship</code> definition is the opposite. Assuming the model is correct, the below should work:</p>\n\n<pre><code>testLead = Lead(ID='....', ...)\ntestAgent = Agent(UserAgent='...', leads=[testLead])\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>testAgent = Agent(UserAgent='...')\ntestLead = Lead(ID='....', ..., Agent=testAgent)\n</code></pre>\n\n<p>As for the second part of your question, you can achieve it with simple python:</p>\n\n<pre><code>class Lead(Base):\n    # ...\n\n    @property\n    def UserAgent(self):\n        return self.Agent and self.Agent.UserAgent\n\n    @UserAgent.setter\n    def UserAgent(self, value):\n        # @note: you might first want to search for agent with this UserAgent value, \n        # and create a new one only if one does not exist\n        # agent_obj = object_session(self).query(Agent).filter(Agent.UserAgent == value).one()\n        agent_obj = Agent(UserAgent=value)\n        self.Agent = agent_obj\n\n    @UserAgent.deleter\n    def UserAgent(self):\n        self.Agent = None\n</code></pre>\n\n<p>Or you can use <a href=\"http://docs.sqlalchemy.org/en/rel_0_9/orm/extensions/associationproxy.html\" rel=\"nofollow\"><code>Association Proxy</code></a> for the purpose:</p>\n\n<pre><code>def _agent_find_or_create(user_agent):\n    agent = session.query(Agent).filter(Agent.UserAgent==user_agent).first()\n    return agent or Agent(UserAgent=user_agent)\n\nclass Lead(Base):\n    # ...\n\n    Agent = relationship('Agent', backref = backref('leads', uselist = True))\n    UserAgent = association_proxy('Agent', 'UserAgent',\n                                  creator=_agent_find_or_create)\n</code></pre>\n"}], "owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 1, "accepted_answer_id": 28599268, "answer_count": 1, "score": 1, "last_activity_date": 1424325200, "creation_date": 1424303813, "question_id": 28596296, "link": "https://stackoverflow.com/questions/28596296/creating-one-to-many-with-relationship-for-the-orm-in-sqlalchemy", "title": "Creating One-to-Many with Relationship for the ORM in SQLAlchemy", "body": "<p>I am learning SQLAlchemy and I've read a lot on relationships today including more than a few posts on SO. However, none of the examples I've found quite answer this question even though I would think it would be one of the first to be answered when dealing with relationships.</p>\n\n<p>I have webpage form data and a lot of it is repetitive - like the the visitors Browser User Agent string, Domain the form was served on and Domain it was served from. I want to keep this data but obviously it makes more sense to store things like Agents in their own table and then keep an ID in the form data table. So I have an Agents class like this:</p>\n\n<pre><code>class Agent(Base):\n    __tablename__ = 'agents'\n    __table_args__ = {'mysql_engine': 'InnoDB'}\n\n    ID = Column(Integer, autoincrement = True, primary_key = True)\n    UserAgent = Column(VARCHAR(256), nullable = False, unique = True)\n\n    #UniqueConstraint('UserAgent')\n\n    def __repr__(self):\n        return \"&lt;Agent(UserAgent='%s')&gt;\" % (self.UserAgent)\n</code></pre>\n\n<p>Then I have a form data class:</p>\n\n<pre><code>class Lead(Base):\n    __tablename__ = 'leads'\n    __table_args__ = {'mysql_engine': 'InnoDB'}\n\n    ID = Column(String(32), primary_key = True)\n    AgentID = Column(Integer, ForeignKey('agents.ID'), nullable = False)\n    .... other non relational fields ....\n    IsPartial = Column(Boolean, nullable = False)\n\n    Agent = relationship('Agent', backref = backref('leads', uselist = True))\n\n    def __repr__(self):\n        return \"&lt;Lead(ID='%s')&gt;\" % (self.ID)\n</code></pre>\n\n<p>At this point, SQLAlchemy creates all the tables I ask it to and I can create a test Lead instance:</p>\n\n<pre><code>testLead = Lead(ID='....', ...)\n</code></pre>\n\n<p>and then create a test Agent instance:</p>\n\n<pre><code>testAgent = Agent(UserAgent='...', leads=testLead)\n</code></pre>\n\n<p>The testLead instantiates just fine. However, the Agent instantiation fails with:</p>\n\n<pre><code>TypeError: Incompatible collection type: Lead is not list-like\n</code></pre>\n\n<p>And using testLead.Agent = [...] results in:</p>\n\n<pre><code>AttributeError: 'list' object has no attribute '_sa_instance_state'\n</code></pre>\n\n<p>Ideally, I'd like to be able to instantiate the Lead object with the Agent string. Then when I use session.add and session.commit have the ORM add the Agent string to the agents table if missing. Likewise when I instantiate the Lead class I'd like to be able to do it with:</p>\n\n<pre><code>lead = Lead(ID='...')\n</code></pre>\n\n<p>Then if I use:</p>\n\n<pre><code>lead.Agent\n</code></pre>\n\n<p>The agent string should show up. If I've read the docs right this would require some for of Lazy Loading setting being added.</p>\n\n<p>Is there a way to do this? If not, how do I fix the errors above?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "multithreading", "garbage-collection"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1424303687, "post_id": 28596212, "comment_id": 45499039, "body": "please create an example that shows the problem with the minimum amount of code possible.  the answer to your question as it stands is simply <b>no</b> ... there is no way for the parent to kill the thread"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424303982, "post_id": 28596212, "comment_id": 45499121, "body": "what you mean parent? I use example from link above, exactly as it is"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424304688, "post_id": 28596212, "comment_id": 45499342, "body": "you can only exit the thread from inside the thread .... I can only assume you are not correctly exiting from your thread ...."}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424304985, "post_id": 28596212, "comment_id": 45499442, "body": "Can you provide the correct way?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424305099, "post_id": 28596212, "comment_id": 45499484, "body": "the way shown(linked by you in original question) shows several &quot;correct&quot; ways .... so its clearly an implementation issue ... so we circle back around to &quot;please create a minimal example that demonstrates this issue&quot;"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424306383, "post_id": 28596212, "comment_id": 45499939, "body": "you are getting closer ... there is still no myfun .... that is being called ... as it stands this should exit the thread no problem due to an error that myfun does not exist"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424306527, "post_id": 28596212, "comment_id": 45499990, "body": "myfun is external library. can&#39;t copy it here. assume that it works well, but sometimes works longer than desired, so needs to be interrupted."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424306621, "post_id": 28596212, "comment_id": 45500026, "body": "so you need to provide an example that does that ... as it stands i cant reproduce your problem ... (while your at it you should probably add debug print statements to prove that you have a memory leak )"}, {"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 1, "creation_date": 1424306669, "post_id": 28596212, "comment_id": 45500049, "body": "if <code>myfun</code> is external, then note the comment in the example you are copying: <code>As noted in the documentation, this is not a magic bullet because if the thread is busy outside the Python interpreter, it will not catch the interruption.</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1424306683, "post_id": 28596212, "comment_id": 45500054, "body": "@MarkTolonen .... dang you beat me too it ..."}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1424307038, "post_id": 28596212, "comment_id": 45500154, "body": "See update on output. I need to interrupt external function. Is there reliable way. Can&#39;t use signals, subprocesses because of multithreaded mod_wsgi."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424307185, "post_id": 28596212, "comment_id": 45500205, "body": "why does that explain why you cannot use subprocess or signals? (Im sure its obvious if you use mod_wsgi alot ...)"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1424307297, "post_id": 28596212, "comment_id": 45500248, "body": "Don&#39;t know. Just doesn&#39;t work (doesn&#39;t raise TimeoutException). Will inverstigate further."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424364640, "post_id": 28596212, "comment_id": 45527770, "body": "if you are using threads and it is doing something external to your loop for 12 minutes theres not alot you can do ... maybe edit <code>myfun</code> to check for conditions to exit at some point ... you wont check the exit condition of your loop until its next iteration ... you however dont even have a loop ... so there is no exit condition to check ... w"}], "answers": [{"comments": [{"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1424307030, "post_id": 28596834, "comment_id": 45500150, "body": "And you beat me to this :)  There is also a <code>.terminate()</code> method in multiprocessing."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1424307120, "post_id": 28596834, "comment_id": 45500182, "body": "(yeah I added an addendum :P)"}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1424342352, "post_id": 28596834, "comment_id": 45513130, "body": "I can not use multiprocessing, because I&#39;m under mod_wsgi."}, {"owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "edited": false, "score": 0, "creation_date": 1424438122, "post_id": 28596834, "comment_id": 45559868, "body": "Is there any way to use os.kill?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 4, "last_activity_date": 1424365411, "last_edit_date": 1592644375, "creation_date": 1424306874, "answer_id": 28596834, "question_id": 28596212, "link": "https://stackoverflow.com/questions/28596212/killing-thread-and-releasing-memory-in-python/28596834#28596834", "title": "Killing Thread and releasing memory in Python", "body": "<p>ok after all this garbage I think what you want is the multiprocessing module as I believe you can actually send a sigkill on that</p>\n<pre><code>class MyThread:\n    def __init__(self):\n        self.result = None\n        self.error = None\n    def start(self):\n        self.proc = multiprocessing.Process(target=self.run)\n        self.proc.start()\n    def stop(self):\n       self.proc.send_signal(multiprocessing.SIG_KILL)\n    def run(self):\n        try:\n            self.result = myfun(*args, **kw) #run external resource and the interrupt it\n        except Exception as e:\n            self.error = e\n</code></pre>\n<p>then you would call <code>c.stop()</code> in order to halt the thread with the sig_kill (of coarse the other thing should respond appropriately to this)</p>\n<p>you can probably even just use the builtin <code>subprocess.Process.kill()</code> (see the docs <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen.send_signal\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/subprocess.html#subprocess.Popen.send_signal</a>)</p>\n<h2><em>WRT YOUR QUESTION</em>##</h2>\n<p>(Id there any way to manually release resources? )</p>\n<pre><code> t = Thread(target=some_long_running_external_process)\n t.start()\n</code></pre>\n<p>there is no way to exit your thread (<code>t</code>) from outside of <code>some_long_running_external_process</code></p>\n"}], "owner": {"reputation": 2008, "user_id": 916945, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e9eba57c4fec016320a2376e511e0735?s=128&d=identicon&r=PG", "display_name": "Andrew Fount", "link": "https://stackoverflow.com/users/916945/andrew-fount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2852, "favorite_count": 0, "accepted_answer_id": 28596834, "answer_count": 1, "score": 2, "last_activity_date": 1424365411, "creation_date": 1424303395, "last_edit_date": 1495535418, "question_id": 28596212, "link": "https://stackoverflow.com/questions/28596212/killing-thread-and-releasing-memory-in-python", "title": "Killing Thread and releasing memory in Python", "body": "<p>I'm killing thread like shown here: <a href=\"https://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread-in-python\">Is there any way to kill a Thread in Python?</a></p>\n\n<p>But I noticed, that memory is not released (<code>gc.get_objects()</code> keeps growing and growing). In fact these objects are lists, dicts etc., not files.</p>\n\n<p>Id there any way to manually release resources?\nCode:</p>\n\n<pre><code>import ctypes\n\ndef terminate_thread(thread):\n    \"\"\"Terminates a python thread from another thread.\n\n    :param thread: a threading.Thread instance\n    \"\"\"\n    if not thread.isAlive():\n        return\n\n    exc = ctypes.py_object(SystemExit)\n    res = ctypes.pythonapi.PyThreadState_SetAsyncExc(\n        ctypes.c_long(thread.ident), exc)\n    if res == 0:\n        raise ValueError(\"nonexistent thread id\")\n    elif res &gt; 1:\n        # \"\"\"if it returns a number greater than one, you're in trouble,\n        # and you should call it again with exc=NULL to revert the effect\"\"\"\n        ctypes.pythonapi.PyThreadState_SetAsyncExc(thread.ident, None)\n        raise SystemError(\"PyThreadState_SetAsyncExc failed\")\n\nclass MyThread(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.result = None\n        self.error = None\n\n    def run(self):\n        try:\n            self.result = myfun(*args, **kw) #run external resource and the interrupt it\n        except Exception as e:\n            self.error = e\n\nc = MyThread()\nc.start()\nc.join(60) # wait a minute\ncounter = 0\nif c.isAlive():\n    while c.isAlive():\n        time.sleep(0.1)\n        try:\n            terminate_thread(c) # how to release resources?\n        except:\n            break\n        counter += 1\n        if counter &gt; 10: break\n    raise TimeoutException\n</code></pre>\n\n<p>Example of output of:</p>\n\n<pre><code>print('Controlled objects: %s' % len(gc.get_objects()))\nprint ('Unreachable: %s' % gc.collect())\n\nControlled objects: 85084 #request 1, no timeout\nUnreachable: 5640\n\nControlled objects: 171994 # request 2, timeout\nUnreachable: 7221\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "refactoring", "diff"], "answers": [{"tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": false, "score": 0, "last_activity_date": 1424312148, "creation_date": 1424312148, "answer_id": 28597623, "question_id": 28596003, "link": "https://stackoverflow.com/questions/28596003/how-to-ensure-no-logic-changes-when-editing-code-style-whitespace/28597623#28597623", "title": "How to ensure no logic changes when editing code style/whitespace?", "body": "<p>You could possibly make your own tree rather easily, I'd recommend reading if the equality operator on it has been overloaded for comparison, it it hasn't you'd have to manually compare them. </p>\n\n<p>Read about it <a href=\"https://docs.python.org/2/library/ast.html#ast.parse\" rel=\"nofollow\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "edited": false, "score": 0, "creation_date": 1424320722, "post_id": 28597654, "comment_id": 45503615, "body": "This is good but all content is in one line, <code>ast.dump(tree).split(&#39;, &#39;)</code> - gives a fairly good quick &amp; easy text file to diff against, indentation can be done but is more work. (the code for <code>ast.dump</code> is &lt;20 lines, so easy to make something with indentation)"}], "tags": [], "owner": {"reputation": 3213, "user_id": 1589147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a6dd23a26e57b25e2460cb19412c67?s=128&d=identicon&r=PG", "display_name": "erik-e", "link": "https://stackoverflow.com/users/1589147/erik-e"}, "is_accepted": true, "score": 2, "last_activity_date": 1424332702, "last_edit_date": 1424332702, "creation_date": 1424312370, "answer_id": 28597654, "question_id": 28596003, "link": "https://stackoverflow.com/questions/28596003/how-to-ensure-no-logic-changes-when-editing-code-style-whitespace/28597654#28597654", "title": "How to ensure no logic changes when editing code style/whitespace?", "body": "<p>Parsing the AST to check for logical diff is a great idea. Python makes working with <a href=\"https://docs.python.org/3/library/ast.html\" rel=\"nofollow\">its AST</a> incredibly easy.</p>\n\n<pre><code>import ast\n\noriginal_ast = ast.parse(\"\"\"\nimport sys\nfor a in range(0,10):\n    print(a)\nsys.exit(0)\"\"\")\n\naltered_ast = ast.parse(\"\"\"\nimport sys\nfor a in range(0,10):\n    print(a + 1)\nsys.exit(0)\"\"\")\n\nast.dump(original_ast) == ast.dump(altered_ast)\n</code></pre>\n\n<p>If you would like to see a diff then Python has another <a href=\"https://docs.python.org/3/library/difflib.html\" rel=\"nofollow\">built in diff library</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "edited": false, "score": 0, "creation_date": 1424320474, "post_id": 28598453, "comment_id": 45503547, "body": "While interesting, the question is tagged <code>Python3.x</code> and this tool only supports <code>Python2.x</code>"}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "reply_to_user": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "edited": false, "score": 0, "creation_date": 1598992019, "post_id": 28598453, "comment_id": 112633882, "body": "Times have changed.  Tools supports Python 3 now, and a wide variety of other languages and dialects."}, {"owner": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "edited": false, "score": 0, "creation_date": 1599002018, "post_id": 28598453, "comment_id": 112636647, "body": "<code>SmartDifferencer</code> web site still lists Python 2.6 as the supported version."}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "reply_to_user": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "edited": false, "score": 0, "creation_date": 1599010915, "post_id": 28598453, "comment_id": 112638340, "body": "Time to update the website.  (We make lots of tools. Sometimes the site gets behind). Thanks for the tip."}], "tags": [], "owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "is_accepted": false, "score": 0, "last_activity_date": 1598992106, "last_edit_date": 1598992106, "creation_date": 1424318869, "answer_id": 28598453, "question_id": 28596003, "link": "https://stackoverflow.com/questions/28596003/how-to-ensure-no-logic-changes-when-editing-code-style-whitespace/28598453#28598453", "title": "How to ensure no logic changes when editing code style/whitespace?", "body": "<p>Our <a href=\"http://www.semanticdesigns.com/Products/SmartDifferencer\" rel=\"nofollow noreferrer\">SmartDifferencer</a> parses source code into an AST, and computes a difference over the ASTs.  This ignores whitespace formatting, comments, number radix, escape sequences in strings.  SmartDifference works with Python as well as other languages.</p>\n<p>If the only change are whitespace differences, the AST difference is empty.  In this case the program is semantically identical.</p>\n<p>Any actual differences are reported in the form of plausible edits to the code structures, such as:  delete, insert, move, copy, replace identifier.  These kinds of deltas are much easier to understand than <em>diff</em>'s &quot;line deleted&quot;, &quot;line inserted&quot; deltas.</p>\n"}, {"tags": [], "owner": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "is_accepted": false, "score": 1, "last_activity_date": 1599002121, "last_edit_date": 1599002121, "creation_date": 1424322027, "answer_id": 28598913, "question_id": 28596003, "link": "https://stackoverflow.com/questions/28596003/how-to-ensure-no-logic-changes-when-editing-code-style-whitespace/28598913#28598913", "title": "How to ensure no logic changes when editing code style/whitespace?", "body": "<p>As @erik-e noted, you can simply use <code>ast.dump</code>, however this puts everything in a single line, heres a modified version of <code>ast.dump</code>, in a script that reads from the stdin and prints out the ast.</p>\n<p>eg:</p>\n<pre><code>py_to_ast &lt; my_script.py &gt; my_ast.txt\n</code></pre>\n<p>Other than newlines and indentation, output is the same as <code>ast.dump</code>.</p>\n<p>You can download the script from:\n<a href=\"https://bitbucket.org/ideasman42/dotfiles/src/master/bin/py_to_ast.py\" rel=\"nofollow noreferrer\">https://bitbucket.org/ideasman42/dotfiles/src/master/bin/py_to_ast.py</a></p>\n<p><a href=\"https://gist.github.com/ideasman42/efe531fc0dd4bc1686f0\" rel=\"nofollow noreferrer\">Example output</a> of this script run through its self</p>\n<pre><code>#!/usr/bin/env python3\n\nimport ast\n\n\ndef dump(node, annotate_fields=True, include_attributes=False):\n    &quot;&quot;&quot;\n    ast.dump from Python3.4 modified for pretty printing.\n    &quot;&quot;&quot;\n    from ast import AST, iter_fields\n\n    def _format(node, level):\n        level_next = level + 1\n        indent = level * '  '\n        indent_next = level_next * '  '\n        if isinstance(node, AST):\n            fields = [(a, _format(b, level_next)) for a, b in iter_fields(node)]\n            rv = '\\n' + indent + '%s(%s' % (node.__class__.__name__, (',\\n' + indent_next).join(\n                ('%s=%s' % field for field in fields)\n                if annotate_fields else\n                (b for a, b in fields)\n            ))\n\n            if include_attributes and node._attributes:\n                rv += fields and ', ' or ' '\n                rv += (',\\n' + indent_next).join('%s=%s' % (a, _format(getattr(node, a), level_next))\n                                                 for a in node._attributes)\n            return rv + ')'\n        elif isinstance(node, list):\n            return '[%s]' % (',\\n' + indent_next).join(_format(x, level_next) for x in node)\n        return repr(node)\n    if not isinstance(node, AST):\n        raise TypeError('expected AST, got %r' % node.__class__.__name__)\n    return _format(node, 0)\n\n\nimport sys\n\ndef main():\n    data = sys.stdin.read()\n    tree = ast.parse(data)\n    print(dump(tree))\n\nif __name__ == &quot;__main__&quot;:\n    main()\n</code></pre>\n"}], "owner": {"reputation": 29662, "user_id": 432509, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2vl0v.png?s=128&g=1", "display_name": "ideasman42", "link": "https://stackoverflow.com/users/432509/ideasman42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 28597654, "answer_count": 4, "score": 2, "last_activity_date": 1599002121, "creation_date": 1424302205, "last_edit_date": 1424409097, "question_id": 28596003, "link": "https://stackoverflow.com/questions/28596003/how-to-ensure-no-logic-changes-when-editing-code-style-whitespace", "title": "How to ensure no logic changes when editing code style/whitespace?", "body": "<p>When making superficial changes to a Python script (changing code-style/formatting/whitespace, for example), it's useful to be able to check if any logical changes were (accidentally) made to the code.</p>\n\n<p>For C/C++ I generate assembler and diff it <em>(not 100% fool proof with platform specific <code>ifdef's</code>, but still useful)</em>. While I could binary diff a <code>pyc</code> file, this isn't so helpful in seeing what exactly changed.</p>\n\n<p>Is there a convenient way to get some human-readable text output of the AST that can be checked for changes? </p>\n\n<p>This may of course raise some false positives (replacing <code>str % bar</code> with <code>str.format(bar)</code>, for example), but I am still interested to know if some convenient ways exist.</p>\n\n<hr>\n\n<p><strong>Background info</strong></p>\n\n<p>Since it was suggested to just <em>run tests</em>.\nHere is some background on why I ask this question.\nThis code has no tests and it's unlikely to ever have 100% test coverage since it happens to be build-system utility scripts. In theory, we could spend time to add a test suite and find ways to enable tests to run on different platforms (monkey patch <code>sys.platform</code> or run continuous integration on all supported platforms in a VM...) but we simply can't justify spending this kind of effort at the moment.</p>\n\n<p>Also, it's possible that you might want to clean up test code itself!</p>\n"}, {"tags": ["python", "opencv", "window", "scrollbars"], "comments": [{"owner": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "edited": false, "score": 0, "creation_date": 1424306747, "post_id": 28595958, "comment_id": 45500070, "body": "Can you please explain why you cannot put the image in a gui window?"}, {"owner": {"reputation": 143, "user_id": 3630201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bkL1t.jpg?s=128&g=1", "display_name": "jpxrc", "link": "https://stackoverflow.com/users/3630201/jpxrc"}, "reply_to_user": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "edited": false, "score": 0, "creation_date": 1424310420, "post_id": 28595958, "comment_id": 45501112, "body": "Because I am doing image processing on the image like getting pixel information and I will loose that ability if I encapsulate it in a widget or window provided by the GUI framework"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 3630201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bkL1t.jpg?s=128&g=1", "display_name": "jpxrc", "link": "https://stackoverflow.com/users/3630201/jpxrc"}, "edited": false, "score": 0, "creation_date": 1424315912, "post_id": 28597657, "comment_id": 45502446, "body": "Thanks for the input. I currently have the video feed of a camera being captured and processed using opencv and then I&#39;ve been converting it into a suitable form for pyqt like you have suggested. The problem is that I need to take a snapshot of the current frame, display the snapshot and click on pixels to retrieve their hsv values. I haven&#39;t tried keeping it in the same pyqt window; I&#39;ve just been creating a new opencv window. I&#39;m going to try and view the snapshot after its converted into a pyqt image and see if I can still get pixel info. If I can, then I will try and add scroll bars to it."}], "tags": [], "owner": {"reputation": 1218, "user_id": 3799589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/923410dc14addf105b3d6cecf91226bc?s=128&d=identicon&r=PG&f=1", "display_name": "IronManMark20", "link": "https://stackoverflow.com/users/3799589/ironmanmark20"}, "is_accepted": false, "score": 1, "last_activity_date": 1424317226, "last_edit_date": 1424317226, "creation_date": 1424312400, "answer_id": 28597657, "question_id": 28595958, "link": "https://stackoverflow.com/questions/28595958/creating-trackbars-to-scroll-large-image-in-opencv-python/28597657#28597657", "title": "Creating trackbars to scroll large image in OpenCV Python", "body": "<blockquote>\n  <p>Because I am doing image processing on the image like getting pixel information and I will loose that ability if I encapsulate it in a widget or window provided by the GUI framework</p>\n</blockquote>\n\n<p>That isn't true. You could always update the image after doing your processing. For example look <a href=\"https://matthewshotton.wordpress.com/2011/03/31/python-opencv-iplimage-to-pyqt-qimage/\" rel=\"nofollow\">here</a> and <a href=\"http://newscentral.exsees.com/item/410fdad00f49d9e3484e811ca8241e6b-90d24eca1d7159fac7e7acbc40e6d395\" rel=\"nofollow\">here especially</a>. <br>\nThese examples process images in OpenCv and put them in a PyQt gui frame. I am sure that you could do similar things with other Gui frameworks (I couldn't find anything for Tkinter). I think I have seen wxPython integrated in the past. </p>\n\n<p>When you are making your program, be sure to display a copy of the image. that way, the image object will continue to be changeable, and you can just update the image in the Gui. For example, here is some pseudo-code:</p>\n\n<pre><code>image=Image(\"myimage.png\")\nimage.resize(100,400)\nimg=QImage(image)#similar to how pyqt would work\nimg.show()\nimage.invert_colors()\nimg=QImage(image)\nimg.show()\n</code></pre>\n\n<p>Of course, this is not what you will actually be writing, it is an abstraction of the idea.</p>\n\n<p>EDIT: In this case I would render the video (see <a href=\"https://gist.github.com/saghul/1055161\" rel=\"nofollow\">this example</a> &amp; <a href=\"https://stackoverflow.com/questions/21169908/opencv-video-capture-with-pyqt4\">here</a>), then  take the image as a separate object, then render (again as a third object) with pyqt. To catch the location of the mouse click, look at <a href=\"https://stackoverflow.com/questions/19825650/python-pyqt4-how-to-detect-the-mouse-click-position-anywhere-in-the-window\">this question</a>, and finally, reference that point to the second object wich is the OpenCV image.</p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 5915157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebbee61ebb3c5741c0eeac38ba6a8053?s=128&d=identicon&r=PG&f=1", "display_name": "crld", "link": "https://stackoverflow.com/users/5915157/crld"}, "edited": false, "score": 1, "creation_date": 1475009441, "post_id": 33293804, "comment_id": 66766007, "body": "messing around with your code I realized that closing the window (not by q or ESC) left python and the script still running in the background. if you change your while loop to <code>while key != ord(&#39;q&#39;) and key != 27 and cv2.getWindowProperty(window.WINDOW_NAME, 0) &gt;= 0:</code> this issue is fixed."}, {"owner": {"reputation": 119, "user_id": 2643620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5736e5f24f2c6a4da53e047e0b607e1?s=128&d=identicon&r=PG", "display_name": "Masterfool", "link": "https://stackoverflow.com/users/2643620/masterfool"}, "edited": false, "score": 1, "creation_date": 1490210369, "post_id": 33293804, "comment_id": 73015857, "body": "This works in python3, once the print statements are fixed. Also, you can add colour image support by replacing <code>self.imShape = np.array(imShape)</code> with <code>self.imShape = np.array(imShape[0:2])</code>."}, {"owner": {"reputation": 4081, "user_id": 1068629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc4f203b924017e538e7c3c84e2e6df?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/1068629/luke"}, "reply_to_user": {"reputation": 119, "user_id": 2643620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5736e5f24f2c6a4da53e047e0b607e1?s=128&d=identicon&r=PG", "display_name": "Masterfool", "link": "https://stackoverflow.com/users/2643620/masterfool"}, "edited": false, "score": 0, "creation_date": 1490312502, "post_id": 33293804, "comment_id": 73069422, "body": "Thanks @Masterfool, I just edited to incorporate that."}, {"owner": {"reputation": 334, "user_id": 2472441, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/05a14d87ddfe9caa151c6e702ee6ada9?s=128&d=identicon&r=PG", "display_name": "Mr.Weathers", "link": "https://stackoverflow.com/users/2472441/mr-weathers"}, "edited": false, "score": 0, "creation_date": 1599092110, "post_id": 33293804, "comment_id": 112669226, "body": "After making modification <code>print</code> --&gt; <code>print()</code> and <code>&#47;</code> --&gt; <code>&#47;&#47;</code> for python3, this class works great in a jupyter notebook.  But there is an issue with capturing right clicks when I run from the command line.  The right button down event is captured, but the right button up is intercepted because a little context menu from opencv pops up.  Any idea how to work around this?"}, {"owner": {"reputation": 334, "user_id": 2472441, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/05a14d87ddfe9caa151c6e702ee6ada9?s=128&d=identicon&r=PG", "display_name": "Mr.Weathers", "link": "https://stackoverflow.com/users/2472441/mr-weathers"}, "edited": false, "score": 0, "creation_date": 1599158813, "post_id": 33293804, "comment_id": 112695371, "body": "Switching the control events from <code>RBUTTONDOWN</code> , <code>RBUTTONUP</code>   ---&gt; <code>MBUTTONDOWN</code> , <code>MBUTTONUP</code> is an easy workaround for this"}], "tags": [], "owner": {"reputation": 4081, "user_id": 1068629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc4f203b924017e538e7c3c84e2e6df?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/1068629/luke"}, "is_accepted": false, "score": 14, "last_activity_date": 1601685115, "last_edit_date": 1601685115, "creation_date": 1445566525, "answer_id": 33293804, "question_id": 28595958, "link": "https://stackoverflow.com/questions/28595958/creating-trackbars-to-scroll-large-image-in-opencv-python/33293804#33293804", "title": "Creating trackbars to scroll large image in OpenCV Python", "body": "<p>I had the same need, so today I created a class from scratch that handles mouse clicks, pan, and zoom on an OpenCV window. It works like this:</p>\n<ol>\n<li>right-drag up or down to zoom</li>\n<li>right-click to center the view on the mouse</li>\n<li>drag the x and y trackbars to scroll</li>\n<li>when you initialize it, you can optionally pass in a function that will be called when the user left-clicks on a pixel</li>\n</ol>\n<p>(As far as I can tell, OpenCV can't read the mouse wheel and can't create a vertical trackbar, so the user experience is a little non-intuitive but it works.)</p>\n<pre><code># -*- coding: utf-8 -*-\nimport cv2\nimport numpy as np\n\nclass PanZoomWindow(object):\n    &quot;&quot;&quot; Controls an OpenCV window. Registers a mouse listener so that:\n        1. right-dragging up/down zooms in/out\n        2. right-clicking re-centers\n        3. trackbars scroll vertically and horizontally \n    You can open multiple windows at once if you specify different window names.\n    You can pass in an onLeftClickFunction, and when the user left-clicks, this \n    will call onLeftClickFunction(y,x), with y,x in original image coordinates.&quot;&quot;&quot;\n    def __init__(self, img, windowName = 'PanZoomWindow', onLeftClickFunction = None):\n        self.WINDOW_NAME = windowName\n        self.H_TRACKBAR_NAME = 'x'\n        self.V_TRACKBAR_NAME = 'y'\n        self.img = img\n        self.onLeftClickFunction = onLeftClickFunction\n        self.TRACKBAR_TICKS = 1000\n        self.panAndZoomState = PanAndZoomState(img.shape, self)\n        self.lButtonDownLoc = None\n        self.mButtonDownLoc = None\n        self.rButtonDownLoc = None\n        cv2.namedWindow(self.WINDOW_NAME, cv2.WINDOW_NORMAL)\n        self.redrawImage()\n        cv2.setMouseCallback(self.WINDOW_NAME, self.onMouse)\n        cv2.createTrackbar(self.H_TRACKBAR_NAME, self.WINDOW_NAME, 0, self.TRACKBAR_TICKS, self.onHTrackbarMove)\n        cv2.createTrackbar(self.V_TRACKBAR_NAME, self.WINDOW_NAME, 0, self.TRACKBAR_TICKS, self.onVTrackbarMove)\n    def onMouse(self,event, x,y,_ignore1,_ignore2):\n        &quot;&quot;&quot; Responds to mouse events within the window. \n        The x and y are pixel coordinates in the image currently being displayed.\n        If the user has zoomed in, the image being displayed is a sub-region, so you'll need to\n        add self.panAndZoomState.ul to get the coordinates in the full image.&quot;&quot;&quot;\n        if event == cv2.EVENT_MOUSEMOVE:\n            return\n        elif event == cv2.EVENT_RBUTTONDOWN:\n            #record where the user started to right-drag\n            self.mButtonDownLoc = np.array([y,x])\n        elif event == cv2.EVENT_RBUTTONUP and self.mButtonDownLoc is not None:\n            #the user just finished right-dragging\n            dy = y - self.mButtonDownLoc[0]\n            pixelsPerDoubling = 0.2*self.panAndZoomState.shape[0] #lower = zoom more\n            changeFactor = (1.0+abs(dy)/pixelsPerDoubling)\n            changeFactor = min(max(1.0,changeFactor),5.0)\n            if changeFactor &lt; 1.05:\n                dy = 0 #this was a click, not a draw. So don't zoom, just re-center.\n            if dy &gt; 0: #moved down, so zoom out.\n                zoomInFactor = 1.0/changeFactor\n            else:\n                zoomInFactor = changeFactor\n#            print(&quot;zoomFactor: %s&quot;%zoomFactor)\n            self.panAndZoomState.zoom(self.mButtonDownLoc[0], self.mButtonDownLoc[1], zoomInFactor)\n        elif event == cv2.EVENT_LBUTTONDOWN:\n            #the user pressed the left button. \n            coordsInDisplayedImage = np.array([y,x])\n            if np.any(coordsInDisplayedImage &lt; 0) or np.any(coordsInDisplayedImage &gt; self.panAndZoomState.shape[:2]):\n                print(&quot;you clicked outside the image area&quot;)\n            else:\n                print(&quot;you clicked on %s within the zoomed rectangle&quot;%coordsInDisplayedImage)\n                coordsInFullImage = self.panAndZoomState.ul + coordsInDisplayedImage\n                print(&quot;this is %s in the actual image&quot;%coordsInFullImage)\n                print(&quot;this pixel holds %s, %s&quot;%(self.img[coordsInFullImage[0],coordsInFullImage[1]]))\n                if self.onLeftClickFunction is not None:\n                    self.onLeftClickFunction(coordsInFullImage[0],coordsInFullImage[1])\n        #you can handle other mouse click events here\n    def onVTrackbarMove(self,tickPosition):\n        self.panAndZoomState.setYFractionOffset(float(tickPosition)/self.TRACKBAR_TICKS)\n    def onHTrackbarMove(self,tickPosition):\n        self.panAndZoomState.setXFractionOffset(float(tickPosition)/self.TRACKBAR_TICKS)\n    def redrawImage(self):\n        pzs = self.panAndZoomState\n        cv2.imshow(self.WINDOW_NAME, self.img[pzs.ul[0]:pzs.ul[0]+pzs.shape[0], pzs.ul[1]:pzs.ul[1]+pzs.shape[1]])\n\nclass PanAndZoomState(object):\n    &quot;&quot;&quot; Tracks the currently-shown rectangle of the image.\n    Does the math to adjust this rectangle to pan and zoom.&quot;&quot;&quot;\n    MIN_SHAPE = np.array([50,50])\n    def __init__(self, imShape, parentWindow):\n        self.ul = np.array([0,0]) #upper left of the zoomed rectangle (expressed as y,x)\n        self.imShape = np.array(imShape[0:2])\n        self.shape = self.imShape #current dimensions of rectangle\n        self.parentWindow = parentWindow\n    def zoom(self,relativeCy,relativeCx,zoomInFactor):\n        self.shape = (self.shape.astype(np.float)/zoomInFactor).astype(np.int)\n        #expands the view to a square shape if possible. (I don't know how to get the actual window aspect ratio)\n        self.shape[:] = np.max(self.shape) \n        self.shape = np.maximum(PanAndZoomState.MIN_SHAPE,self.shape) #prevent zooming in too far\n        c = self.ul+np.array([relativeCy,relativeCx])\n        self.ul = (c-self.shape/2).astype(np.int)\n        self._fixBoundsAndDraw()\n    def _fixBoundsAndDraw(self):\n        &quot;&quot;&quot; Ensures we didn't scroll/zoom outside the image. \n        Then draws the currently-shown rectangle of the image.&quot;&quot;&quot;\n#        print(&quot;in self.ul: %s shape: %s&quot;%(self.ul,self.shape))\n        self.ul = np.maximum(0,np.minimum(self.ul, self.imShape-self.shape))\n        self.shape = np.minimum(np.maximum(PanAndZoomState.MIN_SHAPE,self.shape), self.imShape-self.ul)\n#        print(&quot;out self.ul: %s shape: %s&quot;%(self.ul,self.shape))\n        yFraction = float(self.ul[0])/max(1,self.imShape[0]-self.shape[0])\n        xFraction = float(self.ul[1])/max(1,self.imShape[1]-self.shape[1])\n        cv2.setTrackbarPos(self.parentWindow.H_TRACKBAR_NAME, self.parentWindow.WINDOW_NAME,int(xFraction*self.parentWindow.TRACKBAR_TICKS))\n        cv2.setTrackbarPos(self.parentWindow.V_TRACKBAR_NAME, self.parentWindow.WINDOW_NAME,int(yFraction*self.parentWindow.TRACKBAR_TICKS))\n        self.parentWindow.redrawImage()\n    def setYAbsoluteOffset(self,yPixel):\n        self.ul[0] = min(max(0,yPixel), self.imShape[0]-self.shape[0])\n        self._fixBoundsAndDraw()\n    def setXAbsoluteOffset(self,xPixel):\n        self.ul[1] = min(max(0,xPixel), self.imShape[1]-self.shape[1])\n        self._fixBoundsAndDraw()\n    def setYFractionOffset(self,fraction):\n        &quot;&quot;&quot; pans so the upper-left zoomed rectange is &quot;fraction&quot; of the way down the image.&quot;&quot;&quot;\n        self.ul[0] = int(round((self.imShape[0]-self.shape[0])*fraction))\n        self._fixBoundsAndDraw()\n    def setXFractionOffset(self,fraction):\n        &quot;&quot;&quot; pans so the upper-left zoomed rectange is &quot;fraction&quot; of the way right on the image.&quot;&quot;&quot;\n        self.ul[1] = int(round((self.imShape[1]-self.shape[1])*fraction))\n        self._fixBoundsAndDraw()\n\nif __name__ == &quot;__main__&quot;:\n    infile = &quot;./testImage.png&quot;\n    myImage = cv2.imread(infile,cv2.IMREAD_ANYCOLOR)\n    window = PanZoomWindow(myImage, &quot;test window&quot;)\n    key = -1\n    while key != ord('q') and key != 27: # 27 = escape key\n        #the OpenCV window won't display until you call cv2.waitKey()\n        key = cv2.waitKey(5) #User can press 'q' or ESC to exit.\n    cv2.destroyAllWindows()\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 3630201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bkL1t.jpg?s=128&g=1", "display_name": "jpxrc", "link": "https://stackoverflow.com/users/3630201/jpxrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10903, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1601685115, "creation_date": 1424301962, "question_id": 28595958, "link": "https://stackoverflow.com/questions/28595958/creating-trackbars-to-scroll-large-image-in-opencv-python", "title": "Creating trackbars to scroll large image in OpenCV Python", "body": "<p>I am trying to create scrollbars in a window created by OpenCv python. I know that I need to implement the code to handle the scrolling/panning process but I have no idea where to start and I've looked everywhere. It is essential that I create the scrollbars in the OpenCV window instead of using some other GUI window framework. Below is the code I am using to load an image and scale the image(which works). Any help is appreciated. And please don't refer me to the opencv documentation on creating trackbars, I've read it and it doesn't help at all. Thanks!</p>\n\n<pre><code>import cv2\nimport cv2.cv as cv\nimport numpy as np\n\ncv.NamedWindow('image', cv.CV_WINDOW_AUTOSIZE)\ncv.NamedWindow('Control Window', cv.CV_WINDOW_AUTOSIZE)\n\n\nprint \" Zoom In-Out demo \"\nprint \" Press u to zoom \"\nprint \" Press d to zoom \"\n\nimg = cv2.imread('picture.jpg')\n\n\nwhile(1):\n    h,w = img.shape[:2]\n\n    cv2.imshow('image',img)\n    k = cv2.waitKey(10)\n\n    if k==27 :\n        break\n\n    elif k == ord('u'):  # Zoom in, make image double size\n        img = cv2.pyrUp(img,dstsize = (2*w,2*h))\n\n    elif k == ord('d'):  # Zoom down, make image half the size\n        img = cv2.pyrDown(img,dstsize = (w/2,h/2))\n\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "regex", "capture"], "comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1424301990, "post_id": 28595919, "comment_id": 45498469, "body": "Comments like this, should be included in the question itself."}, {"owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "edited": false, "score": 2, "creation_date": 1424302051, "post_id": 28595919, "comment_id": 45498490, "body": "You need to use a non-<b>greedy</b> quantifier instead. <code>(.+?)</code>"}, {"owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "edited": false, "score": 0, "creation_date": 1424302224, "post_id": 28595919, "comment_id": 45498542, "body": "You might try json.loads()"}, {"owner": {"reputation": 151, "user_id": 1637231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6f47459596d07ef08f2f8398b058e861?s=128&d=identicon&r=PG", "display_name": "user1637231", "link": "https://stackoverflow.com/users/1637231/user1637231"}, "edited": false, "score": 0, "creation_date": 1424302313, "post_id": 28595919, "comment_id": 45498574, "body": "json.loads() fails if there is a number with a leading 0, which there can be"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1424302488, "creation_date": 1424302488, "answer_id": 28596052, "question_id": 28595919, "link": "https://stackoverflow.com/questions/28595919/python-capture-group-and-quote-it-with-regex/28596052#28596052", "title": "Python capture group and quote it with regex", "body": "<p>You need to either use a <em>non-greedy match</em> here (as @hwnd suggested in comments):</p>\n\n<pre><code>r'\"Postal Code\":(.+?),'\n</code></pre>\n\n<p>Or, since you know that this is a postal-code, match <em>one or more digits</em>:</p>\n\n<pre><code>r'\"Postal Code\":(\\d+),'\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; pattern = re.compile(r'\"Postal Code\":(\\d+),')\n&gt;&gt;&gt; source = '\"State\":\"NC\",\"Postal Code\":27605,\"Description\":null,'\n&gt;&gt;&gt; pattern.search(source).group(1)\n'27605'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65435, "user_id": 2206004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HCB1e.png?s=128&g=1", "display_name": "hwnd", "link": "https://stackoverflow.com/users/2206004/hwnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1457014124, "last_edit_date": 1457014124, "creation_date": 1424302587, "answer_id": 28596071, "question_id": 28595919, "link": "https://stackoverflow.com/questions/28595919/python-capture-group-and-quote-it-with-regex/28596071#28596071", "title": "Python capture group and quote it with regex", "body": "<p>The problem is the <code>+</code> <a href=\"http://www.rexegg.com/regex-greed.html\" rel=\"nofollow\"><strong>greedy</strong></a> operator. It will match as much as it can and still allow the remainder of the regular expression to match until it reaches the last comma in the line. </p>\n\n<p>Use <code>+?</code> for a non-greedy match meaning \"one or more \u2014 preferably as few as possible\".</p>\n\n<pre><code>pattern = r'\"Postal Code\":(.+?),'\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 1637231, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6f47459596d07ef08f2f8398b058e861?s=128&d=identicon&r=PG", "display_name": "user1637231", "link": "https://stackoverflow.com/users/1637231/user1637231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "accepted_answer_id": 28596052, "answer_count": 2, "score": 2, "last_activity_date": 1457014124, "creation_date": 1424301766, "last_edit_date": 1424302099, "question_id": 28595919, "link": "https://stackoverflow.com/questions/28595919/python-capture-group-and-quote-it-with-regex", "title": "Python capture group and quote it with regex", "body": "<p>I'm trying to use a regex to capture data from a file and quote it. I want to capture anything between \"Postal Code\": and a comma. When I replace that value, it shows like this \"whateverdata (with no quote on the end.) Why is that?</p>\n\n<p>Data will look something like this: <code>\"State\":\"NC\",\"Postal Code\":27605,\"Description\":null,</code></p>\n\n<p>My code:</p>\n\n<pre><code>pattern = r'\"Postal Code\":(.+),'\nreplacement = r'\"\\1\"'\njsonObj = re.sub(pattern, replacement, jsonObj)\n</code></pre>\n\n<p>Since this is json, is there a better way to go about this? Seems like it would be a common problem</p>\n"}, {"tags": ["python", "django", "django-views", "django-users"], "comments": [{"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "edited": false, "score": 0, "creation_date": 1424301756, "post_id": 28595893, "comment_id": 45498369, "body": "Have you tried changing the username parameter to something like &quot;user&quot; so that it doesn&#39;t clash when you define u?"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1424302233, "post_id": 28595893, "comment_id": 45498547, "body": "What does your <code>urls.py</code> look like? It looks like you&#39;re trying to use the <code>account_home</code> view in a context in which the username is missing or incorrect, probably as a result of redirecting to <code>&#47;</code> after logging out."}, {"owner": {"reputation": 307, "user_id": 4487355, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dde4153d9342b72d2926e5ed1a4f56a?s=128&d=identicon&r=PG&f=1", "display_name": "jph", "link": "https://stackoverflow.com/users/4487355/jph"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1424302433, "post_id": 28595893, "comment_id": 45498618, "body": "I am redirecting to &quot;/&quot; after logging out. Where should I have it redirected to? @PeterDeGlopper I added my urls.py as well"}], "answers": [{"tags": [], "owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "is_accepted": true, "score": 0, "last_activity_date": 1424302917, "creation_date": 1424302917, "answer_id": 28596128, "question_id": 28595893, "link": "https://stackoverflow.com/questions/28595893/error-myuser-matching-query-does-not-exist-django/28596128#28596128", "title": "Error: MyUser matching query does not exist - Django", "body": "<p>The problem is with your url matching regular expressions. Django uses the first matching pattern, and <code>/logout/</code> matches <code>r'^(?P&lt;username&gt;[\\w.@+-]+)/$'</code> - it's looking for a user named <code>logout</code>.</p>\n\n<p>You can either reorder your url patterns to put the username pattern at the end, or (a better solution) put something unambiguous in your pattern like <code>r'^/account/(?P&lt;username&gt;[\\w.@+-]+)/$'</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1424303188, "post_id": 28596135, "comment_id": 45498873, "body": "Obviously we agree on the cause, and <code>get_object_or_404</code> is a good practice - although in this case it would have left the user with a different problem."}], "tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": false, "score": 2, "last_activity_date": 1424302936, "creation_date": 1424302936, "answer_id": 28596135, "question_id": 28595893, "link": "https://stackoverflow.com/questions/28595893/error-myuser-matching-query-does-not-exist-django/28596135#28596135", "title": "Error: MyUser matching query does not exist - Django", "body": "<p>Django uses the first view that matches your query. As your <code>account_home</code> view is the first view in the list, and it matches <code>/logout/</code>, <code>/login/</code> and <code>/register/</code>, all these url's are directed at the <code>account_home</code> view. As you don't have a user with those names, you get that error.</p>\n\n<p>To fix it, the very least you need to do is move the <code>account_home</code> view to the end of the list. You probably also want to add some code that properly handles non-existent users, e.g. <a href=\"https://docs.djangoproject.com/en/1.7/topics/http/shortcuts/#get-object-or-404\" rel=\"nofollow\"><code>get_object_or_404</code></a></p>\n"}], "owner": {"reputation": 307, "user_id": 4487355, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dde4153d9342b72d2926e5ed1a4f56a?s=128&d=identicon&r=PG&f=1", "display_name": "jph", "link": "https://stackoverflow.com/users/4487355/jph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 28596128, "answer_count": 2, "score": 0, "last_activity_date": 1424302936, "creation_date": 1424301633, "last_edit_date": 1424302458, "question_id": 28595893, "link": "https://stackoverflow.com/questions/28595893/error-myuser-matching-query-does-not-exist-django", "title": "Error: MyUser matching query does not exist - Django", "body": "<p>I am trying to include the username in the url, but I can no longer logout without getting this error: </p>\n\n<p><img src=\"https://i.stack.imgur.com/I8aU3.png\" alt=\"enter image description here\"></p>\n\n<p>It traces back to this line in views.py:</p>\n\n<pre><code>u = MyUser.objects.get(username=username)\n</code></pre>\n\n<p>Any idea what I'm doing wrong?</p>\n\n<p>Here is my views.py:</p>\n\n<pre><code>@login_required\ndef account_home(request, username):\nu = MyUser.objects.get(username=username)\nreturn render(request, \"accounts/account_home.html\", {})\n\ndef auth_logout(request):\nlogout(request)\nreturn HttpResponseRedirect('/')\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>urlpatterns += patterns('accounts.views',\n# url(r'^account/$', 'account_home', name='account_home'),\nurl(r'^(?P&lt;username&gt;[\\w.@+-]+)/$', 'account_home', name='account_home'),\nurl(r'^logout/$', 'auth_logout', name='logout'),\nurl(r'^login/$', 'auth_login', name='login'),\nurl(r'^register/$', 'auth_register', name='register'),\n)\n</code></pre>\n\n<p>Thanks guys!</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "is_accepted": false, "score": 1, "last_activity_date": 1424301701, "creation_date": 1424301701, "answer_id": 28595904, "question_id": 28595879, "link": "https://stackoverflow.com/questions/28595879/python-how-to-determine-if-two-keys-found-belong-to-same-dict-from-list-of-dic/28595904#28595904", "title": "python - how to determine if two keys found belong to same dict from list of dicts", "body": "<p>Good first attempt, try this:</p>\n\n<pre><code>foo = [{'apples': 1, 'banana': 2}, {'people': 1, 'monkeys': 2}]\n\nfood = [('apples' in d and 'bannana' in d) for d in foo]\n</code></pre>\n\n<p>If I understand your verbal description, then the list \"foo\" will now contain items \"True\" or \"False\", indicating whether each dictionary contains both keys. To see this is true for any dictionary in the collection, use the \"any\" function, as before:</p>\n\n<pre><code>contained_and_in_same_dic = any(food)\n</code></pre>\n\n<p>To make use of lazy evaluation, we could switch from a list to a generator and write:</p>\n\n<pre><code>contained_and_in_same_dic = any( (('apples' in d and 'bannana' in d) for d in foo) )\n</code></pre>\n\n<p>The plus side here is that it can break out of evaluation as soon as it finds a match, though this will only be noticeable for very large lists</p>\n\n<p><strong>Note:</strong> your solution does not match your verbal description. The \"if == 1\" will raise an exception if the key is not found at all.</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1364, "user_id": 1532915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/861093c3dbb6328d6a33acec57e97454?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1532915/michael"}, "edited": false, "score": 0, "creation_date": 1424303715, "post_id": 28595949, "comment_id": 45499054, "body": "@Michael, no worries."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1424302264, "last_edit_date": 1424302264, "creation_date": 1424301914, "answer_id": 28595949, "question_id": 28595879, "link": "https://stackoverflow.com/questions/28595879/python-how-to-determine-if-two-keys-found-belong-to-same-dict-from-list-of-dic/28595949#28595949", "title": "python - how to determine if two keys found belong to same dict from list of dicts", "body": "<p>Just check both keys at once then there is no need for any other checks :</p>\n\n<pre><code>foo = [{'apples': 1, 'banana': 4}, {'people': 1, 'monkeys': 2}]\nprint(any(d.get('apples') == 1 and d.get('banana')== 2  for d in f))\n</code></pre>\n\n<p>So simply:</p>\n\n<pre><code> return any(d.get('apples') == 1 and d.get('banana')== 2  for d in f)\n</code></pre>\n\n<p>As it stands you would actually get a <code>keyError</code>, you should use <code>dict.get</code>   to catch when any of the keys are missing in each dict . </p>\n"}], "owner": {"reputation": 1364, "user_id": 1532915, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/861093c3dbb6328d6a33acec57e97454?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1532915/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 28595949, "answer_count": 2, "score": 2, "last_activity_date": 1424302264, "creation_date": 1424301545, "question_id": 28595879, "link": "https://stackoverflow.com/questions/28595879/python-how-to-determine-if-two-keys-found-belong-to-same-dict-from-list-of-dic", "title": "python - how to determine if two keys found belong to same dict from list of dicts", "body": "<p>I have a list of dicts where I'm trying to find two keys and if found make sure they belong to the same dictionary. What I have so far:</p>\n\n<pre><code>foo = [{'apples': 1, 'banana': 2}, {'people': 1, 'monkeys': 2}]\n\nfood = any(d['apples'] == 1 for d in foo)\nmammals = any(d['banana'] == 2 for d in foo)\n\nif food and mammals:\n    return True\n</code></pre>\n\n<p>But how do I verify they were both from the same dictionary?</p>\n"}, {"tags": ["python", "directory"], "comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1424301954, "post_id": 28595859, "comment_id": 45498455, "body": "Would you mind sharing some code of what you are doing?"}, {"owner": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "reply_to_user": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1424302038, "post_id": 28595859, "comment_id": 45498485, "body": "@ITellMyselfSecrets I currently have no code for finding other directories, but I will share the code for what I am doing now."}, {"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1424304325, "post_id": 28595859, "comment_id": 45499223, "body": "Are you trying to move the files from within the python program? Or move it outside and access from inside the program? Either way  the os module is what you need here. It gives you all the tools necessary to work with directory structure from within your python script."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424304548, "post_id": 28595859, "comment_id": 45499295, "body": "If you are writing a python package, you could place the images into a folder within the package, and then use the following code as your &quot;root&quot; directory. <code>os.path.join(os.path.dirname(os.path.abspath(__file__)), &quot;pictures&quot;)</code> This will locate the directory automatically to you, and will get you to the <code>pictures</code> folder in the base folder of a script that ran that code."}], "answers": [{"tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1424302476, "creation_date": 1424302476, "answer_id": 28596045, "question_id": 28595859, "link": "https://stackoverflow.com/questions/28595859/how-can-i-use-pictures-that-are-in-a-separate-folder-with-python-3-4/28596045#28596045", "title": "How can I use pictures that are in a separate folder with Python 3.4?", "body": "<p>If I understand your question right. I think the <a href=\"https://docs.python.org/3.1/library/os.html\" rel=\"nofollow\"><code>os</code></a> module can do what you need. Just declare the path of the new folder you just created then join the path of the folder with the name of the file.</p>\n\n<pre><code>import os\nnew_folder = \"Path/to/new/folder\"\ntext_file = open(os.path.join(new_folder,\"takingInventory.txt\"), \"r\")\ntakingInventoryInfo = text_file.read()\ntext_file.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424303852, "post_id": 28596107, "comment_id": 45499090, "body": "Okay, I&#39;ll try this. Also, the program may not always be in the same directory. The files may be moved around based on how the user installs the program. How can I make it find the text and picture files no matter where it is installed at?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424303899, "post_id": 28596107, "comment_id": 45499102, "body": "are you making a package to be distributed?"}, {"owner": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424303935, "post_id": 28596107, "comment_id": 45499109, "body": "Yes, I am making it available for users to download and run."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424303969, "post_id": 28596107, "comment_id": 45499119, "body": "Ok then I would recommend something like Pyinstaller. <a href=\"https://github.com/pyinstaller/pyinstaller/wiki\" rel=\"nofollow noreferrer\">github.com/pyinstaller/pyinstaller/wiki</a>. But If a user moves folders or renames etc.. there is no way for python to automatically know."}, {"owner": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424304408, "post_id": 28596107, "comment_id": 45499247, "body": "Okay, so would there be a way that I make the program detect if the files are not available. So I can make a popup that states that the program needs to be reinstalled."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "edited": false, "score": 0, "creation_date": 1424304474, "post_id": 28596107, "comment_id": 45499265, "body": "@AustinHargis, Yes , a simple try/except and the appropriate action when the exception happens will work"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1424305352, "last_edit_date": 1424305352, "creation_date": 1424302792, "answer_id": 28596107, "question_id": 28595859, "link": "https://stackoverflow.com/questions/28595859/how-can-i-use-pictures-that-are-in-a-separate-folder-with-python-3-4/28596107#28596107", "title": "How can I use pictures that are in a separate folder with Python 3.4?", "body": "<p>All you need is to supply the full path to the file:</p>\n\n<pre><code>with  open(\"full/path/to/takingInventory.txt\") as  text_file:\n        ....\n</code></pre>\n\n<p>If you are <a href=\"https://www.digitalocean.com/community/tutorials/how-to-package-and-distribute-python-applications\" rel=\"nofollow\">creating a python application for distribution</a> you can <a href=\"http://www.pythoncentral.io/how-to-create-a-python-package/\" rel=\"nofollow\">create a package</a> structure that enables python to find any file relative to the folders in your package but if a user moves or renames a file or folder then you are in trouble. Python has no way of knowing if a user has moved  or renamed any files.</p>\n\n<p>You can use a try/except to open the files and do whatever is needed in the case where the file is not available anymore:</p>\n\n<pre><code>try:\n    f = open(\"missing.file\")         \nexcept IOError as e:\n    print(e.errno)\n    # do whatever is relevant to warn the user here\n</code></pre>\n\n<p>There are specific error codes for different IOErrors, you can be more specific as to what action you take based on the <a href=\"https://docs.python.org/2/library/errno.html\" rel=\"nofollow\">errno</a> returned:</p>\n\n<pre><code>import errno\n\nprint(errno.errorcode)\n{1: 'EPERM', 2: 'ENOENT', 3: 'ESRCH', 4: 'EINTR', 5: 'EIO', 6: 'ENXIO', 7: 'E2BIG', 8: 'ENOEXEC', 9: 'EBADF', 10: 'ECHILD', 11: 'EAGAIN', 12: 'ENOMEM', 13: 'EACCES', 14: 'EFAULT', 15: 'ENOTBLK', 16: 'EBUSY', 17: 'EEXIST', 18: 'EXDEV', 19: 'ENODEV', 20: 'ENOTDIR', 21: 'EISDIR', 22: 'EINVAL', 23: 'ENFILE', 24: 'EMFILE', 25: 'ENOTTY', 26: 'ETXTBSY', 27: 'EFBIG', 28: 'ENOSPC', 29: 'ESPIPE', 30: 'EROFS', 31: 'EMLINK', 32: 'EPIPE', 33: 'EDOM', 34: 'ERANGE', 35: 'EDEADLOCK', 36: 'ENAMETOOLONG', 37: 'ENOLCK', 38: 'ENOSYS', 39: 'ENOTEMPTY', 40: 'ELOOP', 42: 'ENOMSG', 43: 'EIDRM', 44: 'ECHRNG', 45: 'EL2NSYNC', 46: 'EL3HLT', 47: 'EL3RST', 48: 'ELNRNG', 49: 'EUNATCH', 50: 'ENOCSI', 51: 'EL2HLT', 52: 'EBADE', 53: 'EBADR', 54: 'EXFULL', 55: 'ENOANO', 56: 'EBADRQC', 57: 'EBADSLT', 59: 'EBFONT', 60: 'ENOSTR', 61: 'ENODATA', 62: 'ETIME', 63: 'ENOSR', 64: 'ENONET', 65: 'ENOPKG', 66: 'EREMOTE', 67: 'ENOLINK', 68: 'EADV', 69: 'ESRMNT', 70: 'ECOMM', 71: 'EPROTO', 72: 'EMULTIHOP', 73: 'EDOTDOT', 74: 'EBADMSG', 75: 'EOVERFLOW', 76: 'ENOTUNIQ', 77: 'EBADFD', 78: 'EREMCHG', 79: 'ELIBACC', 80: 'ELIBBAD', 81: 'ELIBSCN', 82: 'ELIBMAX', 83: 'ELIBEXEC', 84: 'EILSEQ', 85: 'ERESTART', 86: 'ESTRPIPE', 87: 'EUSERS', 88: 'ENOTSOCK', 89: 'EDESTADDRREQ', 90: 'EMSGSIZE', 91: 'EPROTOTYPE', 92: 'ENOPROTOOPT', 93: 'EPROTONOSUPPORT', 94: 'ESOCKTNOSUPPORT', 95: 'ENOTSUP', 96: 'EPFNOSUPPORT', 97: 'EAFNOSUPPORT', 98: 'EADDRINUSE', 99: 'EADDRNOTAVAIL', 100: 'ENETDOWN', 101: 'ENETUNREACH', 102: 'ENETRESET', 103: 'ECONNABORTED', 104: 'ECONNRESET', 105: 'ENOBUFS', 106: 'EISCONN', 107: 'ENOTCONN', 108: 'ESHUTDOWN', 109: 'ETOOMANYREFS', 110: 'ETIMEDOUT', 111: 'ECONNREFUSED', 112: 'EHOSTDOWN', 113: 'EHOSTUNREACH', 114: 'EALREADY', 115: 'EINPROGRESS', 116: 'ESTALE', 117: 'EUCLEAN', 118: 'ENOTNAM', 119: 'ENAVAIL', 120: 'EISNAM', 121: 'EREMOTEIO', 122: 'EDQUOT', 123: 'ENOMEDIUM', 124: 'EMEDIUMTYPE', 125: 'ECANCELED', 126: 'ENOKEY', 127: 'EKEYEXPIRED', 128: 'EKEYREVOKED', 129: 'EKEYREJECTED', 130: 'EOWNERDEAD', 131: 'ENOTRECOVERABLE', 132: 'ERFKILL'}\n</code></pre>\n\n<p>Bottom line is even after creating a good package structure there is no magic way to know if a user deletes, moves, renames etc.. any of your package files.</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424305173, "post_id": 28596492, "comment_id": 45499512, "body": "If a user deletes or moves a file then it is all the same whatever structure you have"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424305337, "post_id": 28596492, "comment_id": 45499568, "body": "If you know the folder of where it is in, and you are concerned about whether some files are missing, you can use the <code>glob</code> module."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424305395, "post_id": 28596492, "comment_id": 45499588, "body": "what is it has been deleted, renamed on a separate partition?"}], "tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 0, "last_activity_date": 1424305358, "last_edit_date": 1424305358, "creation_date": 1424304929, "answer_id": 28596492, "question_id": 28595859, "link": "https://stackoverflow.com/questions/28595859/how-can-i-use-pictures-that-are-in-a-separate-folder-with-python-3-4/28596492#28596492", "title": "How can I use pictures that are in a separate folder with Python 3.4?", "body": "<p>If you are writing a python package to be distributed, and have a file structure like so:</p>\n\n<pre><code>base/\n    __init__.py\n    apples.py\n    bananas.py\n    cherries.py\n    main.py\n    pictures/\n        # a whole bunch of pictures\n</code></pre>\n\n<p>in your <code>__init__.py</code> file, you can have a variable listed called <code>base_directory</code>, like so:</p>\n\n<pre><code>base_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)))\n</code></pre>\n\n<p>When run, <code>base_dir</code> will be the entire path structure that <code>__init__.py</code> is in. For example, on my computer, if the init file were located on some random folder on my desktop, I can import base_dir into my other scripts and it would read:</p>\n\n<pre><code>&gt;&gt;&gt; base_dir\n'/users/zinedine/desktop/python/base'\n</code></pre>\n\n<p>I can then use <code>os.path.join</code> as needed like this (if going to the pictures folder):</p>\n\n<pre><code>pictures_dir = os.path.join(base_dir, \"pictures\")\n&gt;&gt;&gt; pictures_dir\n'/users/zinedine/desktop/python/base/pictures'\n</code></pre>\n\n<p>If you know the folder of where it is in, and you are concerned about whether some files are missing, you can use the <a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow\"><code>glob</code></a> module.</p>\n"}], "owner": {"reputation": 109, "user_id": 4375841, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-ohrcyv0n4Pw/AAAAAAAAAAI/AAAAAAAAAA8/Js-sIlYy19w/photo.jpg?sz=128", "display_name": "Austin Hargis", "link": "https://stackoverflow.com/users/4375841/austin-hargis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1152, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1424305358, "creation_date": 1424301454, "last_edit_date": 1424302175, "question_id": 28595859, "link": "https://stackoverflow.com/questions/28595859/how-can-i-use-pictures-that-are-in-a-separate-folder-with-python-3-4", "title": "How can I use pictures that are in a separate folder with Python 3.4?", "body": "<p>I have a program that has a lot of stuff in it. (Photos, text files and other things). I would like to be able to organize all those files by putting the files in a separate folder. I don't know how to do this. So my question is, how can I move the files but have Python still be able to find them. I have not been able to find other answers relating to this. Thanks. If you need to view some of the code, here it is:</p>\n\n<p>If I want to open my text files, I use this.</p>\n\n<pre><code>text_file = open(\"takingInventory.txt\", \"r\")\ntakingInventoryInfo = text_file.read()\ntext_file.close()\n</code></pre>\n\n<p>When I want to open a picture, I use this.</p>\n\n<pre><code>image = Image.open(\"pgraniteRecipe.png\")\n</code></pre>\n"}, {"tags": ["python", "multiprocessing", "scikit-learn"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1424304257, "post_id": 28595824, "comment_id": 45499207, "body": "Unless you&#39;re contemplating running <code>bb_func</code> multiple times, any &quot;using multiple cores&quot; would have to be part of the internals of <code>bb_func</code>, which you probably can&#39;t change, if you&#39;re treating it as a black box."}, {"owner": {"reputation": 571, "user_id": 4326848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-Kl1-5wXO7ZU/AAAAAAAAAAI/AAAAAAAAADk/L3wgf5rexfs/photo.jpg?sz=128", "display_name": "Gabriel L&#39;Heureux", "link": "https://stackoverflow.com/users/4326848/gabriel-lheureux"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1424721927, "post_id": 28595824, "comment_id": 45657717, "body": "That&#39;s what I thought. The problem is that the most demanding lines (inside the blackbox) are not &quot;splitable&quot;... unless I plan to dig into the packages!"}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 4326848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-Kl1-5wXO7ZU/AAAAAAAAAAI/AAAAAAAAADk/L3wgf5rexfs/photo.jpg?sz=128", "display_name": "Gabriel L&#39;Heureux", "link": "https://stackoverflow.com/users/4326848/gabriel-lheureux"}, "edited": false, "score": 0, "creation_date": 1424722258, "post_id": 28607056, "comment_id": 45657906, "body": "That&#39;s a great answer, but I do not need to run <code>bb_func()</code> multiple times. I only need to run it once, and that seems to be my problem when trying to use existing multiprocessing packages/concepts."}], "tags": [], "owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "is_accepted": false, "score": 2, "last_activity_date": 1424757539, "last_edit_date": 1424757539, "creation_date": 1424350692, "answer_id": 28607056, "question_id": 28595824, "link": "https://stackoverflow.com/questions/28595824/using-multiple-cores-with-blackbox-function/28607056#28607056", "title": "Using multiple cores with &quot;blackbox&quot; function", "body": "<p>The easiest way to run a black-box multiple times is to use a worker <code>Pool</code> with parallel <code>map</code> functions.  There are several python packages that have <code>map</code> functions.  <code>multiprocessing</code> is one of the most popular, and is built into the python standard library.  I use a package called <code>pathos</code>, which builds on the <code>multiprocessing</code> interface, and extends it to provide parallel maps over socket connections. <code>pathos</code> also provides a much more robust parallel <code>map</code> (which I'll discuss below).  Here we see several parallel maps, with different flavors (blocking, asynchronous, and iterative).</p>\n\n<pre><code>&gt;&gt;&gt; def bb_func(id):\n...   import random\n...   import time\n...   n = random.random()\n...   time.sleep(n)\n...   return int(10*n)\n... \n&gt;&gt;&gt; import pathos\n&gt;&gt;&gt; \n&gt;&gt;&gt; thpool = pathos.multiprocessing.ThreadingPool()\n&gt;&gt;&gt; mppool = pathos.multiprocessing.ProcessingPool()\n&gt;&gt;&gt; pppool = pathos.pp.ParallelPythonPool()\n&gt;&gt;&gt; \n&gt;&gt;&gt; # blocking map using multiple processes\n&gt;&gt;&gt; mppool.map(bb_func, range(10))\n[4, 5, 8, 7, 4, 2, 0, 0, 5, 3]\n&gt;&gt;&gt;\n&gt;&gt;&gt; # iterative map using multiple threads\n&gt;&gt;&gt; res = thpool.imap(bb_func, range(10))\n&gt;&gt;&gt; res.next()\n8\n&gt;&gt;&gt; res.next()\n4\n&gt;&gt;&gt; list(res)\n[8, 2, 5, 2, 4, 2, 3, 1]\n&gt;&gt;&gt;\n&gt;&gt;&gt; # asynchronous map able to work across sockets\n&gt;&gt;&gt; res = pppool.amap(bb_func, range(10))\n&gt;&gt;&gt; res.ready()\nTrue\n&gt;&gt;&gt; res.get()\n[1, 2, 8, 9, 6, 7, 0, 5, 8, 9]\n</code></pre>\n\n<p>With <code>pathos</code>, these maps can also be arranged to provide hierarchical parallelism.  Here we launch 5 multiprocessing maps in asynchronous parallel,\nwhere each multiprocessing map is calling <code>bb_func</code> on 10 items.</p>\n\n<pre><code>&gt;&gt;&gt; res = thpool.amap(mppool.map, [bb_func]*5, [range(10)]*5)\n&gt;&gt;&gt; res.get()\n[[7, 1, 4, 7, 8, 9, 2, 6, 0, 2], [9, 5, 1, 6, 9, 0, 5, 3, 4, 5], [4, 7, 2, 7, 3, 5, 8, 3, 3, 9], [4, 8, 8, 8, 3, 5, 0, 6, 1, 0], [8, 0, 6, 7, 7, 4, 1, 6, 2, 7]]\n</code></pre>\n\n<p><code>pathos</code> also provides the ability to make <code>ssh tunnel</code> connections, so if your socket connections need to be secure, you can establish a <code>ssh tunnel</code> and make sure the <code>map</code> sends the calls across the tunneled socket.  Also, there's a sister package called <code>pyina</code> that provides a similar interface for <code>map</code> functions using <code>MPI</code> as a backend.  I'll leave you to look at that, if you want to work with <code>MPI</code> and compute cluster schedulers instead of (or in harmony with) <code>pathos</code>. <code>pyina</code> uses <code>mpi4py</code> under the covers, and provides a more intuitive high-level interface for executing parallel batch calls that leverage <code>MPI</code>.</p>\n\n<p>There will be <strong>two critical issues</strong> for your <code>bb_func</code>.  First, <code>bb_func</code> will need to be serializable.  The <code>pathos</code> package (and <code>pyina</code>) use the <code>dill</code> serializer, because <code>dill</code> can serialize most python objects.  If you are importing <code>bb_func</code> instead of defining it yourself in the same file (or the interpreter), then it is much more likely to be serializable.  Second, <code>scikit-learn</code> can use a lot of memory, so running several <code>scikit-learn</code> calls in parallel often can eat up all your memory.  As to how to work around this memory limitation\u2026 you'll need to try to be smart about how you are coding, and possibly use tricks like working with memory mapped files, or disposing of large datasets (to files or garbage collection) immediately after they have been used. </p>\n\n<p>Get <code>pathos</code> (and <code>pyina</code> and <code>dill</code>) here: <a href=\"https://github.com/uqfoundation\" rel=\"nofollow\">https://github.com/uqfoundation</a></p>\n\n<p><strong>EDIT</strong>: I see from your edit that you are only running <code>bb_func</code> once, and it's a black-box.  So the answer in that case is easy\u2026 \"Nope, sorry.  You're stuck unless you want to dig into the black-box.\"</p>\n"}], "owner": {"reputation": 571, "user_id": 4326848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-Kl1-5wXO7ZU/AAAAAAAAAAI/AAAAAAAAADk/L3wgf5rexfs/photo.jpg?sz=128", "display_name": "Gabriel L&#39;Heureux", "link": "https://stackoverflow.com/users/4326848/gabriel-lheureux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424757539, "creation_date": 1424301296, "last_edit_date": 1424722381, "question_id": 28595824, "link": "https://stackoverflow.com/questions/28595824/using-multiple-cores-with-blackbox-function", "title": "Using multiple cores with &quot;blackbox&quot; function", "body": "<p>Let's say that I have a \"blackbox\" function with a setup looking like this:</p>\n\n<pre><code>def bb_func():\n    #Does lots of stuff\n    #Including lots of scikit-learn stuff\n\nif __name__ == '__main__':\n    bb_func()\n</code></pre>\n\n<p><code>bb_func()</code> is notably CPU intensive and would greatly benefit from using multiple cores. Edit: I only need to run <code>bb_func()</code> <strong>once</strong>.</p>\n\n<p>Since I am using <code>scikit-learn</code>, I would like to know if there's something available (not necessarily inside the package) to do this.</p>\n"}, {"tags": ["python", "slice"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1424301126, "post_id": 28595745, "comment_id": 45498137, "body": "Which version of Python? <code>first, second, *_, penultimate, last = range(10)</code> works in 3.x, but not 2.x. Alternatively, <code>[val for index, val in enumerate(row) if index in set_of_indices]</code>."}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 2, "creation_date": 1424301194, "post_id": 28595745, "comment_id": 45498162, "body": "Have you tried using the <code>csv</code> module if you&#39;re reading CSV data?"}, {"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1424301847, "post_id": 28595745, "comment_id": 45498409, "body": "@jonrsharpe, thx for your answer.  the answer for 3.x looks cool and exactly what I need.  unfortunately, i&#39;m erring on the side of caution and trying to write it in 2.x in case the server i need to deploy to doesn&#39;t have 3.x  =("}, {"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "reply_to_user": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1424301947, "post_id": 28595745, "comment_id": 45498451, "body": "@TomDalton, thx for the advice.  I&#39;ll look into it.  =)"}], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1424301228, "post_id": 28595788, "comment_id": 45498173, "body": "The downside of this is that you <code>rstrip</code> and <code>split</code> twice - I would factor that out."}, {"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1424301309, "post_id": 28595788, "comment_id": 45498208, "body": "sure...pretty easy to do"}], "tags": [], "owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "is_accepted": true, "score": 1, "last_activity_date": 1424301527, "last_edit_date": 1424301527, "creation_date": 1424301176, "answer_id": 28595788, "question_id": 28595745, "link": "https://stackoverflow.com/questions/28595745/how-to-take-multiple-slices-of-a-line-from-a-file-in-python/28595788#28595788", "title": "How to take multiple slices of a line from a file in python?", "body": "<p>You're on the right track...</p>\n\n<pre><code>for line in fileObj:\n   splitline = line.rstrip().split(',')\n   date, name, time, data1 = splitline[0:4]\n   data2, data3 = splitline[18:20] \n</code></pre>\n\n<p>or if you wanted to combine 2 lines:</p>\n\n<pre><code>for line in fileObj:\n       splitline = line.rstrip().split(',')\n       date, name, time, data1, data2, data3 = splitline[0:4] + splitline[18:20]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "is_accepted": false, "score": 2, "last_activity_date": 1424301487, "creation_date": 1424301487, "answer_id": 28595867, "question_id": 28595745, "link": "https://stackoverflow.com/questions/28595745/how-to-take-multiple-slices-of-a-line-from-a-file-in-python/28595867#28595867", "title": "How to take multiple slices of a line from a file in python?", "body": "<p>using the csv module:</p>\n\n<pre><code>import csv\n\nwith open(filename, 'r') as openfile:\n    reader = csv.reader(openfile)\n    for line in reader:\n        date, name, time, data1 = line[:4]\n        data2, data3 = line[-2:]\n</code></pre>\n\n<p>This unpacks the first four and last 2 columns</p>\n"}, {"tags": [], "owner": {"reputation": 1270, "user_id": 4529329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFxIG.jpg?s=128&g=1", "display_name": "Yuri Malheiros", "link": "https://stackoverflow.com/users/4529329/yuri-malheiros"}, "is_accepted": false, "score": 1, "last_activity_date": 1424301622, "creation_date": 1424301622, "answer_id": 28595889, "question_id": 28595745, "link": "https://stackoverflow.com/questions/28595745/how-to-take-multiple-slices-of-a-line-from-a-file-in-python/28595889#28595889", "title": "How to take multiple slices of a line from a file in python?", "body": "<p>Pandas is the best library to work with .csv files in Python. For example, using the file:</p>\n\n<pre><code>col1,col2,col3,col4,col5,col6\n1,1,1,1,1,1\n2,2,2,2,2,2\n3,3,3,3,3,3\n</code></pre>\n\n<p>To get the first 4 columns and the last 2, you just need:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('csvtest.csv')\nfirst_four_columns = df.ix[:,:4]\nlast_two_columns = df.ix[:,-2:]\n</code></pre>\n\n<p>I really recommend for you to take a look in pandas library:\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/10min.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/10min.html</a></p>\n"}], "owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 28595788, "answer_count": 3, "score": 0, "last_activity_date": 1424301622, "creation_date": 1424300994, "question_id": 28595745, "link": "https://stackoverflow.com/questions/28595745/how-to-take-multiple-slices-of-a-line-from-a-file-in-python", "title": "How to take multiple slices of a line from a file in python?", "body": "<p>Is there a way in python to specify multiple slices to read certain columns from a csv file?</p>\n\n<p>For example, the data file can look like this:</p>\n\n<pre><code>col1,col2,col3,...col20\n1,1,1,....,1\n2,2,2,....,2\n3,3,3,....,3\netc\n</code></pre>\n\n<p>Is it possible to have a command to grab the first 4 columns and last 2 columns?  I tried the following 2 ways but I was just taking stabs in the dark so didn't expect it to work.  One way gives me a ValueError, the other way gives me a TypeError.</p>\n\n<pre><code>for line in fileObj:\n   date, name, time, data1, data2, data3 = line.rstrip().split(',')[0:4][18:20]  # got ValueError\n\nfor line in fileObj:\n   date, name, time, data1, data2, data3 = line.rstrip().split(',')[0:4,18:20]   # got TypeError\n</code></pre>\n\n<p>If there isn't a simple way, can someone give me a hint to a possible direction to go to accomplish this?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 3, "creation_date": 1424300544, "post_id": 28595630, "comment_id": 45497906, "body": "What do you mean by &quot;only shows the names&quot;?"}, {"owner": {"reputation": 53, "user_id": 4502184, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/08e206bed8057577f019b6f91a71c510?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/4502184/eddie"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1424300653, "post_id": 28595630, "comment_id": 45497962, "body": "uh I mean so it returns the keys, ie &#39;Tom&#39;"}, {"owner": {"reputation": 17691, "user_id": 645270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7eVm1.png?s=128&g=1", "display_name": "keyser", "link": "https://stackoverflow.com/users/645270/keyser"}, "edited": false, "score": 3, "creation_date": 1424300873, "post_id": 28595630, "comment_id": 45498035, "body": "It&#39;s unclear if you actually want a dictionary or not. Is the goal to extract the names? That has little to do with switching to a dictionary."}, {"owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "edited": false, "score": 0, "creation_date": 1424300979, "post_id": 28595630, "comment_id": 45498072, "body": "are you saying you would like something like {&#39;Tom&#39;: &#39;3.5&#39;, &#39;Bob&#39;, &#39;3.9&#39;}?"}], "answers": [{"comments": [{"owner": {"reputation": 17691, "user_id": 645270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7eVm1.png?s=128&g=1", "display_name": "keyser", "link": "https://stackoverflow.com/users/645270/keyser"}, "edited": false, "score": 1, "creation_date": 1424300733, "post_id": 28595655, "comment_id": 45497987, "body": "or <code>[x[0] for x in pair_list]</code> or something like that to ignore the scores."}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 1, "creation_date": 1424301178, "post_id": 28595655, "comment_id": 45498153, "body": "I wouldn&#39;t call the new variable <code>dict</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424301444, "post_id": 28595655, "comment_id": 45498251, "body": "dang what a rookie move :P fixed :)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1424301429, "last_edit_date": 1424301429, "creation_date": 1424300600, "answer_id": 28595655, "question_id": 28595630, "link": "https://stackoverflow.com/questions/28595630/how-can-i-make-a-list-into-a-dictionarynew-to-python/28595655#28595655", "title": "How can I make a list into a dictionary?New to python", "body": "<pre><code>my_dict = dict(my_list_of_string_pairs)\nprint my_dict.keys()\n</code></pre>\n\n<p>or perhaps if you just want the names in a list</p>\n\n<pre><code>names,scores = zip(*my_list_of_string_pairs)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1424301186, "post_id": 28595770, "comment_id": 45498156, "body": "<code>li2 = [item[0] for item in li]</code> makes alot more sense than the range thing ... doing range in python is almost always not the ideal solution.  and the first example wont work since its a list of lists ... not a list of strings"}, {"owner": {"reputation": 17, "user_id": 4288756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d441209d509496b1146c5e7a4fde1d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/4288756/dominik"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424301468, "post_id": 28595770, "comment_id": 45498264, "body": "yes, its actually almost the same thing, both loops are iterating through list, but for beginners yours is easier to understand"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424301538, "post_id": 28595770, "comment_id": 45498287, "body": "lol for the whole world mine is easier to understand :P ... and im pretty sure its faster too"}, {"owner": {"reputation": 17, "user_id": 4288756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d441209d509496b1146c5e7a4fde1d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/4288756/dominik"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424301726, "post_id": 28595770, "comment_id": 45498362, "body": "xD okay you won, but dont know which one is faster cause python optimises code"}], "tags": [], "owner": {"reputation": 17, "user_id": 4288756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d441209d509496b1146c5e7a4fde1d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/4288756/dominik"}, "is_accepted": false, "score": 0, "last_activity_date": 1424301098, "creation_date": 1424301098, "answer_id": 28595770, "question_id": 28595630, "link": "https://stackoverflow.com/questions/28595630/how-can-i-make-a-list-into-a-dictionarynew-to-python/28595770#28595770", "title": "How can I make a list into a dictionary?New to python", "body": "<p>Not sure if I got you right, but for example if you have list named <code>li</code> you can use</p>\n\n<pre><code>''.join(li)\n</code></pre>\n\n<ul>\n<li>it creates string from list and puts after every word, except last one, the string which is inside of ''.</li>\n</ul>\n\n<p>But in your case if you want to have only names, you can do following:\nLets say your list is named <code>li</code></p>\n\n<pre><code>li2 = [li[i[0]] for i in range(len(li))]\nprint(li2)\n</code></pre>\n\n<ul>\n<li>it creates another list named <code>li2</code> which in your case has only names and then prints it</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1424301137, "creation_date": 1424301137, "answer_id": 28595778, "question_id": 28595630, "link": "https://stackoverflow.com/questions/28595630/how-can-i-make-a-list-into-a-dictionarynew-to-python/28595778#28595778", "title": "How can I make a list into a dictionary?New to python", "body": "<p>If you want a dictionary of names: numbers, you can just pass your list to the <code>dict</code> constructor: </p>\n\n<pre><code>my_list = [['Tom', '3.5'], ['Bob', '3.9'], ['Ed', '2.7'], ...]\ngrades = dict(my_list)\n</code></pre>\n\n<p>Now <code>grades.keys()</code> is the names, <code>grades.values()</code> is the numbers, and <code>grades.items()</code> is the original list (albeit with tuples inside instead of sub-lists). Note that the ordering of the names in the original list <em>will not</em> be preserved. </p>\n\n<p>If instead you just want the names from the original list, you can extract them with a simple list comprehension:</p>\n\n<pre><code>names = [name for name, number in my_list]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 2100534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9af4ba4e8071a69dcc107b9a68cdfb6?s=128&d=identicon&r=PG", "display_name": "Kyrubas", "link": "https://stackoverflow.com/users/2100534/kyrubas"}, "is_accepted": false, "score": 0, "last_activity_date": 1424305425, "creation_date": 1424305425, "answer_id": 28596581, "question_id": 28595630, "link": "https://stackoverflow.com/questions/28595630/how-can-i-make-a-list-into-a-dictionarynew-to-python/28596581#28596581", "title": "How can I make a list into a dictionary?New to python", "body": "<p>Using list comprehension in Python 3:</p>\n\n<pre><code>my_list = [['Tom', '3.5'], ['Bob', '3.9'], ['Ed', '2.7']]\nmy_dict = {x[0]: x[1] for x in my_list}\nprint(my_dict.keys())\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4502184, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/08e206bed8057577f019b6f91a71c510?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/4502184/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1424305425, "creation_date": 1424300490, "last_edit_date": 1424303014, "question_id": 28595630, "link": "https://stackoverflow.com/questions/28595630/how-can-i-make-a-list-into-a-dictionarynew-to-python", "title": "How can I make a list into a dictionary?New to python", "body": "<p>How can I make a list of strings like </p>\n\n<pre><code>[['Tom', '3.5'], ['Bob', '3.9'], ['Ed', '2.7'], ...]\n</code></pre>\n\n<p>into a dictionary so it only shows the names?</p>\n\n<pre><code>'Tom', 'Bob', 'Ed',\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 2138, "user_id": 1572630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f5cf7880f1643e0a37d9a3a4c3a8d?s=128&d=identicon&r=PG", "display_name": "JonathanV", "link": "https://stackoverflow.com/users/1572630/jonathanv"}, "edited": false, "score": 1, "creation_date": 1424300553, "post_id": 28595465, "comment_id": 45497911, "body": "I am curious where &#39;Microwaves&#39; comes from.  I don&#39;t see any reference to it in your code and you don&#39;t appear to be reading in from anywhere else.  In addition, it looks like numpy is trying to convert &#39;Microwave&#39; to float.  This may have to do with numpy arrays needing to be a single type."}, {"owner": {"reputation": 241, "user_id": 3850142, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d364d231b5d83337c714078527ebcdbf?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey West", "link": "https://stackoverflow.com/users/3850142/geoffrey-west"}, "reply_to_user": {"reputation": 2138, "user_id": 1572630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f5cf7880f1643e0a37d9a3a4c3a8d?s=128&d=identicon&r=PG", "display_name": "JonathanV", "link": "https://stackoverflow.com/users/1572630/jonathanv"}, "edited": false, "score": 1, "creation_date": 1424300597, "post_id": 28595465, "comment_id": 45497934, "body": "its the result of It&#39;s the result of ItemType."}], "answers": [{"tags": [], "owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "is_accepted": true, "score": 1, "last_activity_date": 1424303116, "last_edit_date": 1424303116, "creation_date": 1424301712, "answer_id": 28595908, "question_id": 28595465, "link": "https://stackoverflow.com/questions/28595465/valueerror-could-not-convert-string-to-float-numpy/28595908#28595908", "title": "ValueError: could not convert string to float, NumPy", "body": "<p>You have</p>\n\n<pre><code>keys = ['SRAddress','Longitude','Latitude','CommodityType','ItemType', 'ItemCount']\n</code></pre>\n\n<p>then the script is making a tuple of values from the dict <code>items</code> using these keys in that order:</p>\n\n<pre><code>a =  tuple([unicode(item[key]) for key in keys])\n</code></pre>\n\n<p>Then when you convert this tuple to an array</p>\n\n<pre><code>arr = np.array(a,dtype=dt)\n</code></pre>\n\n<p>it is trying to stuff the value associated with <code>ItemType</code> into the <code>longitude</code> field of the struct.  The <code>keys</code> list should be in the same order as the struct fields of your dtype.  Ideally you wouldn't even bother copying this information and instead use <code>dt.names</code>.  Then as long as the struct fields have the same names as the dict you're trying to convert it should take values in the correct order.</p>\n"}], "owner": {"reputation": 241, "user_id": 3850142, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/d364d231b5d83337c714078527ebcdbf?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey West", "link": "https://stackoverflow.com/users/3850142/geoffrey-west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2611, "favorite_count": 0, "accepted_answer_id": 28595908, "answer_count": 1, "score": 1, "last_activity_date": 1424303116, "creation_date": 1424299733, "question_id": 28595465, "link": "https://stackoverflow.com/questions/28595465/valueerror-could-not-convert-string-to-float-numpy", "title": "ValueError: could not convert string to float, NumPy", "body": "<p>I have a script where I am writing a JSON web-service to an Esri file geodatabase.  I am receiving the error ValueError: could not convert string to float: Microwaves </p>\n\n<p>I have used the exact same script before with U40 being the dtype for all strings. </p>\n\n<p>My script and results are below;</p>\n\n<pre><code>import json\nimport jsonpickle\nimport requests\nimport arcpy\nimport numpy\n\nfc = \"C:\\MYLATesting.gdb\\MYLA311\"\nif arcpy.Exists(fc):\n  arcpy.Delete_management(fc)\n\nf = open('C:\\Users\\Administrator\\Desktop\\myla311.json', 'r')\n\ndata = jsonpickle.encode( jsonpickle.decode(f.read()) )\n\nurl = \"myUrl\"\nheaders = {'Content-type': 'text/plain', 'Accept': '/'}\n\nr = requests.post(url, data=data, headers=headers)\nsr = arcpy.SpatialReference(4326)\n\ndecoded = json.loads(r.text)\n\nSRAddress = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['SRAddress']\nlatitude = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['Latitude']\nlongitude = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['Longitude']\n\nCommodityType = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][0]['Type']\nItemType = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][0]['ElectronicWestType']\nItemCount = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][0]['ItemCount']\n\n\nCommodityType1 = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][1]['Type']\nItemType1 = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][1]['ElectronicWestType']\nItemCount1 = decoded['Response']['ListOfServiceRequest']['ServiceRequest'][0]['ListOfLa311ElectronicWaste']['La311ElectronicWaste'][1]['ItemCount']\n\n\n\n\n\n\nprint SRAddress\nprint latitude\nprint longitude\n\nprint CommodityType\nprint ItemType\nprint ItemCount\n\n\n\n\n\n\nprint CommodityType1\nprint ItemType1\nprint ItemCount1\n\n\n\nitem ={'SRAddress': SRAddress, 'Longitude': longitude, 'Latitude': latitude, 'CommodityType': CommodityType, 'ItemType': ItemType, 'ItemCount': ItemCount}\nimport numpy as np     #NOTE THIS\nkeys = ['SRAddress','Longitude','Latitude','CommodityType','ItemType', 'ItemCount']\nk1,k2,k3, k4, k5, k6 = keys\ndata_line ={'SRAddress': SRAddress, 'Longitude': longitude, 'Latitude': latitude, 'CommodityType': CommodityType, 'ItemType': ItemType, 'ItemCount': ItemCount}\nfrmt = '\\nStraight dictionary output\\n Address: {} Long: {} Lat: {}'\nprint(frmt.format(item[k1],item[k2],item[k3], item[k4],item[k5], item[k6]))\nprint '\\noption 1:  List comprehension with unicode'\na =  tuple([unicode(item[key]) for key in keys])  # list comprehension with unicode\nprint('{}'.format(a))\ndt = np.dtype([('SRAddress','U40'),('CommodityType','U40'), ('ItemType','U40'), ('ItemCount','U40'),('longitude','&lt;f8'),('latitude','&lt;f8')])\narr = np.array(a,dtype=dt)\nprint'\\narray unicode\\n',arr\nprint'dtype',arr.dtype\nprint '\\noption 2:List comprehension without unicode'\nb = tuple([item[key] for key in keys])\nprint('{}'.format(b))\ndt = np.dtype([('SRAddress','U40'),('CommodityType','U40'), ('ItemType','U40'), ('ItemCount','U40'),('longitude','&lt;f8'),('latitude','&lt;f8')])\narr = np.array(b,dtype=dt)\nprint'\\narray without unicode\\n',arr\nprint'dtype',arr.dtype\n\narcpy.da.NumPyArrayToFeatureClass(arr, fc, ['longitude', 'latitude'], sr)\n</code></pre>\n\n<p>Results</p>\n\n<pre><code>C:\\Python27\\ArcGIS10.2\\python.exe C:/MYLAScripts/MYLAJson.py\nTraceback (most recent call last):\n5810 N WILLIS AVE, 91411\n  File \"C:/MYLAScripts/MYLAJson.py\", line 71, in &lt;module&gt;\n34.176277\n    arr = np.array(a,dtype=dt)\n-118.455249\nValueError: could not convert string to float: Microwaves\nElectronic Waste\nMicrowaves\n3\nElectronic Waste\nTelevisions (Any Size)\n6\n\nStraight dictionary output\n Address: 5810 N WILLIS AVE, 91411 Long: -118.455249 Lat: 34.176277\n\noption 1:  List comprehension with unicode\n(u'5810 N WILLIS AVE, 91411', u'-118.455249', u'34.176277', u'Electronic Waste', u'Microwaves', u'3')\n</code></pre>\n"}, {"tags": ["python", "unicode", "encoding"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300163, "post_id": 28595447, "comment_id": 45497727, "body": "I don&#39;t know how to help with the encoding, but I know that you can rename everything using <code>os.rename</code>"}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300207, "post_id": 28595447, "comment_id": 45497751, "body": "@Zizouz212 yeah I know that too, I&#39;m not new to python"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300257, "post_id": 28595447, "comment_id": 45497771, "body": "Have you tried it? Perhaps, if you were able to track down what was contained in the original file types, and renamed it to something, like numbers, and then rename them properly? Just an idea..."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300439, "post_id": 28595447, "comment_id": 45497862, "body": "@Zizouz212 what? What file types? rename it to what exactly, and from where would I get the correctly encoded name? You have no idea what you&#39;re talking about..."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300529, "post_id": 28595447, "comment_id": 45497895, "body": "Oh, my bad! Not file types, but the filenames... And the answer is here!"}], "answers": [{"comments": [{"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 0, "creation_date": 1424300588, "post_id": 28595635, "comment_id": 45497929, "body": "yeah, I tried that too. <code>mp3.decode(&#39;windows-1252&#39;).encode(&#39;utf-8&#39;)</code> results in <code>03-&#195;&#177;&#195;&#174;&#195;&#161;&#195;&#164;-&#195;&#161;&#195;&#184;&#195;&#162;&#195;&#172;-&#195;&#185;&#195;&#174;&#195;\u00a0&#195;&#172;.mp3.mp3</code>. It&#39;s a different gibberish, but still gibberish"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 0, "creation_date": 1424300624, "post_id": 28595635, "comment_id": 45497946, "body": "@yuvi I made it work on my system, just trying to translate those results so I can edit it into the answer."}, {"owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "edited": false, "score": 0, "creation_date": 1424300857, "post_id": 28595635, "comment_id": 45498030, "body": "yes!!! actually we need to first decode it to utf-8 (I have it as a variable <code>fname</code>, so I can&#39;t just add a little nice <code>u&#39;&#39;</code>). so we have:  <code>fname.decode(&#39;utf-8&#39;).encode(&#39;cp1252&#39;).decode(&#39;cp1255&#39;)</code>. sheesh, what a headache. Thank you very much =]"}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 2, "last_activity_date": 1424300515, "creation_date": 1424300515, "answer_id": 28595635, "question_id": 28595447, "link": "https://stackoverflow.com/questions/28595447/fixing-a-gibberish-filename-in-python/28595635#28595635", "title": "Fixing a gibberish filename in Python?", "body": "<p>You almost had it right, but the original encoding is <code>windows-1252</code>, not <code>utf-8</code>.</p>\n\n<pre><code>&gt;&gt;&gt; print u'03-\u00f1\u00ee\u00e1\u00e4-\u00e1\u00f8\u00e2\u00ec-\u00f9\u00ee\u00e0\u00ec.mp3'.encode('cp1252').decode('cp1255')\n03-\u05e1\u05de\u05d1\u05d4-\u05d1\u05e8\u05d2\u05dc-\u05e9\u05de\u05d0\u05dc.mp3\n</code></pre>\n"}], "owner": {"reputation": 17409, "user_id": 2387772, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/7qeew.jpg?s=128&g=1", "display_name": "yuvi", "link": "https://stackoverflow.com/users/2387772/yuvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 28595635, "answer_count": 1, "score": 1, "last_activity_date": 1424300515, "creation_date": 1424299667, "last_edit_date": 1424300005, "question_id": 28595447, "link": "https://stackoverflow.com/questions/28595447/fixing-a-gibberish-filename-in-python", "title": "Fixing a gibberish filename in Python?", "body": "<p>A friend has had trouble with a bunch of files that got renamed into gibberish. It lookes like this:</p>\n\n<pre><code>03-\u00f1\u00ee\u00e1\u00e4-\u00e1\u00f8\u00e2\u00ec-\u00f9\u00ee\u00e0\u00ec.mp3\n</code></pre>\n\n<p>when it should look like this:</p>\n\n<pre><code>03-\u05e1\u05de\u05d1\u05d4-\u05d1\u05e8\u05d2\u05dc-\u05e9\u05de\u05d0\u05dc.mp3\n</code></pre>\n\n<p>Now, the number of files is huge, so he asked if I could help with a python script. I started meddling, but it just won't budge. My assumption was that it was a CP-1255 (or <code>windows-1255</code>) presented as <code>utf-8</code>, so I tried:</p>\n\n<pre><code>fname.decode('utf-8').encode('windows-1255')\n</code></pre>\n\n<p>But I got the \"can't encode characters\" error. So I then tried switching them, and also tried <code>latin-1</code>, <code>windows-1252</code>, <code>cp862</code> and even <code>ISO-8859-8</code>. Nothing. </p>\n\n<p>What should I do? Encoding has always been confusing for me. How do I deal with this?</p>\n\n<p>I'm using python 2.7</p>\n"}, {"tags": ["python", "datetime", "pymongo", "bson"], "answers": [{"comments": [{"owner": {"reputation": 1117, "user_id": 1667156, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f6c59ac66c560652cbdcee3f09865caa?s=128&d=identicon&r=PG", "display_name": "estobbart", "link": "https://stackoverflow.com/users/1667156/estobbart"}, "edited": false, "score": 0, "creation_date": 1424313982, "post_id": 28596507, "comment_id": 45501992, "body": "I don&#39;t necessarily &quot;need&quot; anything, I&#39;d like to be able to encode; decode; compare == True;"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 1117, "user_id": 1667156, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f6c59ac66c560652cbdcee3f09865caa?s=128&d=identicon&r=PG", "display_name": "estobbart", "link": "https://stackoverflow.com/users/1667156/estobbart"}, "edited": false, "score": 0, "creation_date": 1424314550, "post_id": 28596507, "comment_id": 45502125, "body": "@estobbart: you could compare with the millisecond resolution <code>abs(a-b) &lt;= timedelta(microseconds=500)</code> or store microseconds as shown in the answer. It is up to you. Both are valid choices in different applications."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 1117, "user_id": 1667156, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f6c59ac66c560652cbdcee3f09865caa?s=128&d=identicon&r=PG", "display_name": "estobbart", "link": "https://stackoverflow.com/users/1667156/estobbart"}, "edited": false, "score": 1, "creation_date": 1432147076, "post_id": 28596507, "comment_id": 48807379, "body": "I don&#39;t mind the downvote but would appreciate an explanation"}], "tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1424307585, "last_edit_date": 1495539882, "creation_date": 1424304999, "answer_id": 28596507, "question_id": 28595338, "link": "https://stackoverflow.com/questions/28595338/bson-json-util-datetime-encode-and-decode-best-practice/28596507#28596507", "title": "bson.json_util datetime encode and decode best practice", "body": "<p>It seems <code>bson</code> rounds to milliseconds:</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; import bson # $ pip install bson\n&gt;&gt;&gt; d = datetime.utcnow(); d, abs(d - bson.loads(bson.dumps({'utcnow': d}))['utcnow'].replace(tzinfo=None))\n\n(datetime.datetime(2015, 2, 18, 23, 54, 47, 733092), datetime.timedelta(0, 0, 92))\n</code></pre>\n\n<p>It is a <a href=\"http://bsonspec.org/spec.html\" rel=\"nofollow noreferrer\">documented behavior</a>:</p>\n\n<blockquote>\n  <p>UTC datetime - The int64 is UTC milliseconds since the Unix epoch.</p>\n</blockquote>\n\n<p>If you need microseconds: you could store an integer number of microseconds since the Unix epoch instead:</p>\n\n<pre><code>from datetime import datetime\n\ntd = utc_dt - datetime(1970, 1, 1) \nmicros = td.microseconds + (td.seconds + td.days * 24 * 3600) * 10**6\n</code></pre>\n\n<p>To convert microseconds since the Unix epoch back into a naive datetime object that represents UTC time:</p>\n\n<pre><code>from datetime import datetime, timedelta\n\nutc_dt = datetime(1970, 1, 1) + timedelta(microseconds=micros)\n</code></pre>\n\n<p>int64 (<a href=\"http://bsonspec.org/spec.html\" rel=\"nofollow noreferrer\">\"\\x12\"</a>) is more than enough to represent the Unix time with the microsecond resolution (it exceeds <code>datetime</code> range anyway).</p>\n\n<p>Note: POSIX timestamp \"forgets\" leap seconds e.g.:</p>\n\n<pre><code>import time\n\ntt = time.strptime(\"2015-07-01 01:59:60\", \"%Y-%m-%d %H:%M:%S\")\nts_leap = time.mktime(tt)\ntt = time.strptime(\"2015-07-01 02:00:00\", \"%Y-%m-%d %H:%M:%S\")\nts_after = time.mktime(tt)\nassert ts_leap == ts_after # assuming \"right\" timezone is not used\n</code></pre>\n\n<p>If you care about microseconds; you should find out what your system does around leap seconds.</p>\n\n<p>Time (<a href=\"https://www.python.org/dev/peps/pep-0418/#hardware-clocks\" rel=\"nofollow noreferrer\">hardware clocks, software timers</a>) on an ordinary computer are not very accurate therefore the millisecond resolution should be enough in many cases e.g., if you use <code>ntp</code> to synchronize time between machine then <a href=\"https://stackoverflow.com/questions/97853/whats-the-best-way-to-synchronize-times-to-millisecond-accuracy-and-precision-b#comment1390694_97939\">NTP v3 is accurate to 1-2ms in a LAN and 10s of ms in WAN nets</a>.</p>\n\n<p>Though, sometimes, you want to preserve digits in the input even if they are not accurate.</p>\n"}], "owner": {"reputation": 1117, "user_id": 1667156, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f6c59ac66c560652cbdcee3f09865caa?s=128&d=identicon&r=PG", "display_name": "estobbart", "link": "https://stackoverflow.com/users/1667156/estobbart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2315, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1424307585, "creation_date": 1424298985, "question_id": 28595338, "link": "https://stackoverflow.com/questions/28595338/bson-json-util-datetime-encode-and-decode-best-practice", "title": "bson.json_util datetime encode and decode best practice", "body": "<p>I'm trying to encode &amp; decode python datetime object using pymongo's bson utils.\nWhat's best practice here?</p>\n\n<pre><code>&gt;&gt;&gt; from bson import json_util\n&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; utcnow = datetime.datetime.utcnow()\n&gt;&gt;&gt; x = json_util.dumps({'now': utcnow})\n&gt;&gt;&gt; json_util.loads(x)['now'] == utcnow\nFalse\n\n&gt;&gt;&gt; json_util.loads(x)['now'] - utcnow\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: can't subtract offset-naive and offset-aware datetimes\n\n&gt;&gt;&gt; json_util.loads(x)['now'].replace(tzinfo=None) - utcnow\ndatetime.timedelta(-1, 86399, 999088)\n\n&gt;&gt;&gt; datetime.datetime.utcfromtimestamp(1424297808578 / 1000) == json_util.loads(x)['now'].replace(tzinfo=None)\nTrue\n</code></pre>\n\n<p>^ Is this really the best way?\nOr write your own encode/decode and use the json lib?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 841, "user_id": 4241308, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9607cbffe12e1e19e86a2bb7ab38bb3d?s=128&d=identicon&r=PG", "display_name": "Jonathan Davies", "link": "https://stackoverflow.com/users/4241308/jonathan-davies"}, "edited": false, "score": 0, "creation_date": 1424299781, "post_id": 28595302, "comment_id": 45497582, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/9627686/plotting-dates-on-the-x-axis-with-pythons-matplotlib\">Plotting dates on the x-axis with Python&#39;s matplotlib</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1929, "user_id": 4450260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e72369cc0e80bf3a35393f8a0539731b?s=128&d=identicon&r=PG&f=1", "display_name": "gaurav gurnani", "link": "https://stackoverflow.com/users/4450260/gaurav-gurnani"}, "edited": false, "score": 0, "creation_date": 1424332621, "post_id": 28595508, "comment_id": 45507827, "body": "Hey, thanks for the reply. But this is not what i want... i want my line to be plotted using numbers... i have to pass this line to a mpld3 plugin and it should be JSON serializable. I want to plot the line using my array x but display dates on the x ticks instead.. can you think of something ?"}, {"owner": {"reputation": 1929, "user_id": 4450260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e72369cc0e80bf3a35393f8a0539731b?s=128&d=identicon&r=PG&f=1", "display_name": "gaurav gurnani", "link": "https://stackoverflow.com/users/4450260/gaurav-gurnani"}, "edited": false, "score": 0, "creation_date": 1424352925, "post_id": 28595508, "comment_id": 45519474, "body": "My apologies.. this code worked.. I wasn&#39;t thinking straight. thank you"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 2, "last_activity_date": 1424346640, "last_edit_date": 1424346640, "creation_date": 1424299937, "answer_id": 28595508, "question_id": 28595302, "link": "https://stackoverflow.com/questions/28595302/replace-numbers-on-x-axis-with-dates-when-using-line-plot-in-matplotlib/28595508#28595508", "title": "replace numbers on X axis with dates when using line plot in matplotlib", "body": "<p>You can control <a href=\"http://matplotlib.org/api/ticker_api.html#ticker\" rel=\"nofollow noreferrer\">the ticker format</a> of <em>any value</em> <a href=\"http://matplotlib.org/examples/pylab_examples/custom_ticker1.html\" rel=\"nofollow noreferrer\">using a <code>ticker.FuncFormatter</code></a>:</p>\n\n<pre><code>import matplotlib.ticker as ticker\ndef todate(x, pos, today=DT.date.today()):\n    return today+DT.timedelta(days=x)\nfmt = ticker.FuncFormatter(todate)\nax.xaxis.set_major_formatter(fmt)\n</code></pre>\n\n<p>and if the dates appear too crowded, you can rotate them:</p>\n\n<pre><code>fig.autofmt_xdate(rotation=45)  \n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import datetime as DT\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport matplotlib.ticker as ticker\n\nx = np.array([0,1,2,3,4,5,6,7,8,9,10])\n\nfig, ax = plt.subplots(figsize=(7, 4))\nax.plot(x, x**2*np.exp(-x))\ndef todate(x, pos, today=DT.date.today()):\n    return today+DT.timedelta(days=x)\nfmt = ticker.FuncFormatter(todate)\nax.xaxis.set_major_formatter(fmt)\nfig.autofmt_xdate(rotation=45)  \nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><img src=\"https://i.stack.imgur.com/XArxf.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 1929, "user_id": 4450260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e72369cc0e80bf3a35393f8a0539731b?s=128&d=identicon&r=PG&f=1", "display_name": "gaurav gurnani", "link": "https://stackoverflow.com/users/4450260/gaurav-gurnani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2174, "favorite_count": 0, "accepted_answer_id": 28595508, "answer_count": 1, "score": 2, "last_activity_date": 1424346640, "creation_date": 1424298832, "last_edit_date": 1424299556, "question_id": 28595302, "link": "https://stackoverflow.com/questions/28595302/replace-numbers-on-x-axis-with-dates-when-using-line-plot-in-matplotlib", "title": "replace numbers on X axis with dates when using line plot in matplotlib", "body": "<p>I am plotting a straight line plot with an array of numbers</p>\n\n<pre><code>fig, ax = plt.subplots()\nax.plot(x, 0 * x)\n</code></pre>\n\n<p>x is the  array:</p>\n\n<pre><code>array([  0,1,2,3,4,5,6,7,8,9,10 ])\n</code></pre>\n\n<p>The line is fine but I want to display dates on the x axis.. I want to associate\na date with each of the number and use those as my x ticks.</p>\n\n<p>Can anyone suggest something?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1424298970, "post_id": 28595257, "comment_id": 45497225, "body": "Add new data, check the size, if bigger than 3 remove the oldest. You probably want a queue, <a href=\"https://docs.python.org/2/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow noreferrer\">a list will do</a>."}, {"owner": {"reputation": 11, "user_id": 4415426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23bd3ef13ab64cf5037a315a30702b8?s=128&d=identicon&r=PG&f=1", "display_name": "lilboomer", "link": "https://stackoverflow.com/users/4415426/lilboomer"}, "edited": false, "score": 0, "creation_date": 1424534842, "post_id": 28595257, "comment_id": 45593290, "body": "Do you know how to do this? Im not really familiar with queues."}], "answers": [{"tags": [], "owner": {"reputation": 1569, "user_id": 4248511, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/F6iG6.jpg?s=128&g=1", "display_name": "Finn", "link": "https://stackoverflow.com/users/4248511/finn"}, "is_accepted": false, "score": 1, "last_activity_date": 1424299013, "creation_date": 1424299013, "answer_id": 28595343, "question_id": 28595257, "link": "https://stackoverflow.com/questions/28595257/python-how-to-store-a-certain-number-of-values/28595343#28595343", "title": "Python - How to store a certain number of values", "body": "<p>You can use a List like</p>\n\n<pre><code>scores = [1, 2, 3]\n\nscores.insert(0,'new')\nscores.pop()\n# scores is now ['new', 1, 2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3291, "user_id": 4087357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3GqlU.jpg?s=128&g=1", "display_name": "michaelpri", "link": "https://stackoverflow.com/users/4087357/michaelpri"}, "is_accepted": false, "score": 1, "last_activity_date": 1424299961, "creation_date": 1424299961, "answer_id": 28595514, "question_id": 28595257, "link": "https://stackoverflow.com/questions/28595257/python-how-to-store-a-certain-number-of-values/28595514#28595514", "title": "Python - How to store a certain number of values", "body": "<p>If you store the scores in a list, you can use indexing to get the last three scores</p>\n\n<pre><code>quiz_scores = [5,7,4,8,9,10]\nif len(quiz_scores) &lt; 3:\n    store_scores(quiz_scores) #not a real function, just whatever you want to do with the scores\nelse:\n    store_scores(quiz_scores[-3:]) \n</code></pre>\n\n<hr>\n\n<p><em><sup>Note: This will only work if you have the scores stored in order of time taken with the first score being the score the first time the quiz was taken and the last score being the score the last time the quiz was taken</sup></em></p>\n"}, {"tags": [], "owner": {"reputation": 739, "user_id": 1793915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Tomo.jpg?s=128&g=1", "display_name": "JamoBox", "link": "https://stackoverflow.com/users/1793915/jamobox"}, "is_accepted": false, "score": 0, "last_activity_date": 1424300401, "last_edit_date": 1424300401, "creation_date": 1424300051, "answer_id": 28595539, "question_id": 28595257, "link": "https://stackoverflow.com/questions/28595257/python-how-to-store-a-certain-number-of-values/28595539#28595539", "title": "Python - How to store a certain number of values", "body": "<p>Have a function that will handle your last three scores:</p>\n\n<pre><code>scores = [10, 24, 37]\ndef update_score(score):\n    if len(scores) &lt; 3:\n        scores.append(score)\n    else:\n        newscore = scores[1,2]\n        newscore.append(score)\n        scores = newscore\n</code></pre>\n\n<p>There's almost definitely a smarter way of doing this but it's late, I'm tired and writing this from my phone (no python interpreter at hand to test stuff), but you get the general idea.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4415426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23bd3ef13ab64cf5037a315a30702b8?s=128&d=identicon&r=PG&f=1", "display_name": "lilboomer", "link": "https://stackoverflow.com/users/4415426/lilboomer"}, "edited": false, "score": 0, "creation_date": 1424442448, "post_id": 28595543, "comment_id": 45562489, "body": "But the scores are in a text file? Surely this would not work?"}, {"owner": {"reputation": 11, "user_id": 4415426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23bd3ef13ab64cf5037a315a30702b8?s=128&d=identicon&r=PG&f=1", "display_name": "lilboomer", "link": "https://stackoverflow.com/users/4415426/lilboomer"}, "edited": false, "score": 0, "creation_date": 1424534767, "post_id": 28595543, "comment_id": 45593270, "body": "Also, i want it only to store there last 3 scores."}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "reply_to_user": {"reputation": 11, "user_id": 4415426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23bd3ef13ab64cf5037a315a30702b8?s=128&d=identicon&r=PG&f=1", "display_name": "lilboomer", "link": "https://stackoverflow.com/users/4415426/lilboomer"}, "edited": false, "score": 0, "creation_date": 1424544749, "post_id": 28595543, "comment_id": 45597108, "body": "You can create a function to essentially slice out the scores that are lower than 50."}], "tags": [], "owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "is_accepted": false, "score": 0, "last_activity_date": 1424300080, "creation_date": 1424300080, "answer_id": 28595543, "question_id": 28595257, "link": "https://stackoverflow.com/questions/28595257/python-how-to-store-a-certain-number-of-values/28595543#28595543", "title": "Python - How to store a certain number of values", "body": "<p>I would use a dictionary object, like this: <code>this_classes_scores = {}</code>. This would allow you to store things like who got which score. However, if you don't need those specifics, a list would be fine (you can then look at Finn's answer). </p>\n\n<pre><code>class_a = {\n    \"bob\": 75\n    \"joe\": 85\n    \"dan\": 99\n    \"mike\": 1\n    }\n</code></pre>\n\n<p>You can then access the information through indexing like <code>print class_a['bob']</code> or you can iterate through them by calling the dictionary's method <code>dict.itertools()</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 4415426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23bd3ef13ab64cf5037a315a30702b8?s=128&d=identicon&r=PG&f=1", "display_name": "lilboomer", "link": "https://stackoverflow.com/users/4415426/lilboomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1424534539, "creation_date": 1424298690, "last_edit_date": 1424534539, "question_id": 28595257, "link": "https://stackoverflow.com/questions/28595257/python-how-to-store-a-certain-number-of-values", "title": "Python - How to store a certain number of values", "body": "<p>I have a program, which is a quiz and it stores scores depending on their class, the program also asks the teacher on which class they want to view, and in which way they can view the results, e.g. alphabetical, ascending order and the average of the class. I want the program to only store the person's last 3 scores.I have no clue on how to do this. Any help would be appreciated.</p>\n\n<p>My code in writing the scores into the txt files looks like this:</p>\n\n<pre><code>count = str(count)\n\nif classno == 1:\n    abc = open(\"class1.txt\" , \"a\" ,)\n    abc.write(name)\n    abc.write(\",\")\n    abc.write(count)\n    abc.write(\"\\n\")\n    abc.close()\n</code></pre>\n\n<p>With count being the score they got, and there name, being there name.</p>\n\n<p>My data in the text file looks like:</p>\n\n<pre><code>Test,10\nTest,8\nTest,2\nTest,4\nGeoff,2\nGeoff,8\nGeoff,4\nGeoff,10\n#etc.\n</code></pre>\n\n<p>I want it so it will overwrite there oldest score with there latest score, so it will only store 3 of there scores. </p>\n"}, {"tags": ["python", "python-3.x", "multiprocessing", "python-multiprocessing"], "answers": [{"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 4, "last_activity_date": 1579636412, "last_edit_date": 1579636412, "creation_date": 1424304965, "answer_id": 28596500, "question_id": 28595234, "link": "https://stackoverflow.com/questions/28595234/python3-how-to-find-out-which-line-in-apply-async-target-function-caused-error-w/28596500#28596500", "title": "python3 how to find out which line in apply_async target function caused error when error_callback is applied", "body": "<p>The <code>traceback</code> functions you're calling are all expecting to get the exception info from <code>sys.exec_info</code>, which is where exception information is usually stored while an exception is being caught. However, since the actual exception in your case came from a child process, they're not finding any exception information when you call them in the parent process.</p>\n\n<p>You need to use extract the relevant information from the Exception object <code>e</code> that you received from the child process. Try using <code>traceback.print_exception</code> with appropriate arguments:</p>\n\n<pre><code>traceback.print_exception(type(e), e, e.__traceback__)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 613, "user_id": 1267259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5be6f4b710c06e34ece003582303653?s=128&d=identicon&r=PG", "display_name": "user1267259", "link": "https://stackoverflow.com/users/1267259/user1267259"}, "edited": false, "score": 0, "creation_date": 1424339690, "post_id": 28597271, "comment_id": 45511498, "body": "I didn&#39;t know about e.__cause__ <code>def error_callback(self,e):     print(&#39;error_callback()&#39;,e.__cause__)</code>  gives the same traceback as traceback.print_exception(type(e), e, e.__traceback__)!"}, {"owner": {"reputation": 613, "user_id": 1267259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5be6f4b710c06e34ece003582303653?s=128&d=identicon&r=PG", "display_name": "user1267259", "link": "https://stackoverflow.com/users/1267259/user1267259"}, "edited": false, "score": 0, "creation_date": 1424340934, "post_id": 28597271, "comment_id": 45512261, "body": "Regarding the purpose of error_callback. I&#39;m no expert so I&#39;m not sure I understand your question correctly or the purpose of error_callback, but if you don&#39;t have the error_callback and the error occurs outside of your try/except blocks in your target function then the error is never captured even if raised. In my case it results in my script seemingly freezing or continuing with weird behavior and have to be interrupted with ctrl+c. So I see error_callback as an &quot;except&quot; handler ie try: target function except error_callback as e: (handle e). That&#39;s how I see it/use it."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "reply_to_user": {"reputation": 613, "user_id": 1267259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5be6f4b710c06e34ece003582303653?s=128&d=identicon&r=PG", "display_name": "user1267259", "link": "https://stackoverflow.com/users/1267259/user1267259"}, "edited": false, "score": 0, "creation_date": 1424377757, "post_id": 28597271, "comment_id": 45535551, "body": "@user1267259,  <i>I see error_callback as an &quot;except&quot; handler</i>--but it doesn&#39;t work that way.  In my example, if I remove the try/except around <code>get()</code>, the error_callback does not catch the error."}, {"owner": {"reputation": 613, "user_id": 1267259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5be6f4b710c06e34ece003582303653?s=128&d=identicon&r=PG", "display_name": "user1267259", "link": "https://stackoverflow.com/users/1267259/user1267259"}, "edited": false, "score": 0, "creation_date": 1424382428, "post_id": 28597271, "comment_id": 45538168, "body": "As far as I can tell I don&#39;t have that problem. And the only difference from my code that I see in your code is, you use return values and later result_obj.get() them. Does it work for you if you run <code>for i in range(3): my_pool.apply_async(...)</code>? (instead of result = [list comp] and remove the try/except with the result_obj.get()"}], "tags": [], "owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "is_accepted": false, "score": 2, "last_activity_date": 1424325591, "last_edit_date": 1424325591, "creation_date": 1424309643, "answer_id": 28597271, "question_id": 28595234, "link": "https://stackoverflow.com/questions/28595234/python3-how-to-find-out-which-line-in-apply-async-target-function-caused-error-w/28597271#28597271", "title": "python3 how to find out which line in apply_async target function caused error when error_callback is applied", "body": "<blockquote>\n  <p>I can't figure out where the error in the target function occurs.</p>\n</blockquote>\n\n<p>Here is an example of what you can do:</p>\n\n<pre><code>import multiprocessing as mp\n\ndef do_stuff(num):\n    if False:\n        x = 10\n    else: \n        x = 20\n\n    result = 5/(2 - num)  #Line 9\n    return result \n\ndef success_handler(result):\n    print('success')\n\ndef error_handler(e):\n    print('error')\n    print(dir(e), \"\\n\")\n    print(\"--&gt;{}&lt;--\".format(e.__cause__))\n\nwith mp.Pool(2) as my_pool:\n    results =  [\n        my_pool.apply_async(\n            do_stuff, \n            args=(i,),\n            callback=success_handler, \n            error_callback=error_handler\n       ) \n       for i in range(3)\n    ]\n\n\n    try:\n        for result_obj in results:\n            print(\"result is: {}\".format(result_obj.get()))\n    except ZeroDivisionError as e:\n        print(\"Oh, boy.  This is the second time I've seen this error.\")\n\n\n--output:--\nsuccess\nsuccess\nresult is: 2.5\nresult is: 5.0\nerror\n['__cause__', '__class__', '__context__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__str__', '__subclasshook__', '__suppress_context__', '__traceback__', 'args', 'with_traceback'] \n\n--&gt;\n\"\"\"\nTraceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/multiprocessing/pool.py\", line 119, in worker\n    result = (True, func(*args, **kwds))\n  File \"1.py\", line 10, in do_stuff\n    result = 5/(2 - num)  #Line 9\nZeroDivisionError: division by zero\n\"\"\"&lt;--\nOh, boy.  This is the second time I've seen this error.\n</code></pre>\n\n<p>Note the line numbers of the target function in the error message.</p>\n\n<p>I don't really understand the purpose of the <code>error_callback</code> because after calling the error_callback, multiprocessing reraises the error, so you have to catch it anyway.  I guess the error_calback must be used for doing process specific cleanup.</p>\n"}], "owner": {"reputation": 613, "user_id": 1267259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5be6f4b710c06e34ece003582303653?s=128&d=identicon&r=PG", "display_name": "user1267259", "link": "https://stackoverflow.com/users/1267259/user1267259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 1, "accepted_answer_id": 28596500, "answer_count": 2, "score": 2, "last_activity_date": 1579636412, "creation_date": 1424298631, "question_id": 28595234, "link": "https://stackoverflow.com/questions/28595234/python3-how-to-find-out-which-line-in-apply-async-target-function-caused-error-w", "title": "python3 how to find out which line in apply_async target function caused error when error_callback is applied", "body": "<p>Using python 3.4</p>\n\n<p>I have a target function that fails and apply_async calls my error callback function instead of my callback function.</p>\n\n<p>The problem is that the exception captured and sent to the error_callback is not helpful and I can't figure out <em>where</em> the error in the target function occurs.</p>\n\n<p>My error callback</p>\n\n<pre><code>  def error_callback(self,e):\n    print('error_callback()',e)\n    # tested one of these at a time\n    traceback.print_exc()\n    traceback.print_last()\n    traceback.print_stack()\n</code></pre>\n\n<p>And the traceback outputs</p>\n\n<p>print_exc</p>\n\n<pre><code>  File \"/usr/lib/python3.4/traceback.py\", line 125, in _iter_chain\n    context = exc.__context__\n  AttributeError: 'NoneType' object has no attribute '__context__'\n</code></pre>\n\n<p>print_last</p>\n\n<pre><code>  File \"/usr/lib/python3.4/traceback.py\", line 262, in print_last\n    raise ValueError(\"no last exception\")\n  ValueError: no last exception\n</code></pre>\n\n<p>print_stack</p>\n\n<pre><code>  File \"./relative/path/to/my/script.py\", line 71, in traceback\n    traceback.print_stack()\n</code></pre>\n\n<p>I'd have to confess that I ain't really comfortable with the traceback library and how to use it but it seems to me that it's not possible to use traceback in this case?</p>\n\n<p>What should I do?</p>\n"}, {"tags": ["python", "python-2.7", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "is_accepted": false, "score": 3, "last_activity_date": 1424298894, "creation_date": 1424298894, "answer_id": 28595316, "question_id": 28595203, "link": "https://stackoverflow.com/questions/28595203/datetime-triggers-in-python/28595316#28595316", "title": "Datetime triggers in Python?", "body": "<p>If you want to do this asynchronously, you can use <a href=\"https://docs.python.org/2/library/threading.html#timer-objects\" rel=\"nofollow\" title=\"threading.Timer\">threading.Timer</a>:</p>\n\n<pre><code>t = threading.Timer(secondsUntilDesiredTime, myFunction)\nt.start()\n</code></pre>\n\n<p>However, the timer is not guaranteed to be exact.</p>\n"}, {"tags": [], "owner": {"reputation": 736, "user_id": 3594049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d3ccaf775cb67804b62994fa998cca?s=128&d=identicon&r=PG", "display_name": "Favo", "link": "https://stackoverflow.com/users/3594049/favo"}, "is_accepted": false, "score": 0, "last_activity_date": 1424298896, "creation_date": 1424298896, "answer_id": 28595318, "question_id": 28595203, "link": "https://stackoverflow.com/questions/28595203/datetime-triggers-in-python/28595318#28595318", "title": "Datetime triggers in Python?", "body": "<p>You can set a cronjob from python with the python-crontab module: <a href=\"https://pypi.python.org/pypi/python-crontab\" rel=\"nofollow\">python-crontab 1.9.2</a></p>\n\n<p>That way you can trigger an action at that specific time.</p>\n"}], "owner": {"reputation": 2693, "user_id": 2146492, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5631fffdf2dfe685d409fba75eec7364?s=128&d=identicon&r=PG", "display_name": "Johann Gomes", "link": "https://stackoverflow.com/users/2146492/johann-gomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 1, "closed_date": 1424302880, "answer_count": 2, "score": 1, "last_activity_date": 1424298896, "creation_date": 1424298516, "question_id": 28595203, "link": "https://stackoverflow.com/questions/28595203/datetime-triggers-in-python", "closed_reason": "Duplicate", "title": "Datetime triggers in Python?", "body": "<p>Here is an example of the problem:</p>\n\n<p><code>datetime.utcnow()</code> is currently: <code>2015-02-18 22:31:00</code></p>\n\n<p>There is way to make Python call a method or execute any action when <code>datetime.utcnow()</code> reaches <code>2015-02-18 22:35:00</code> ? I wanna do this without a loop to check if <code>datetime.utcnow()</code> reached <code>2015-02-18 22:35:00</code>, just like a trigger.</p>\n\n<p>Any suggestions?</p>\n\n<p>thanks,</p>\n"}, {"tags": ["python", "spyder"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4581604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0f4711a4f33e31f97b44fd40f36da33?s=128&d=identicon&r=PG&f=1", "display_name": "l2iisk", "link": "https://stackoverflow.com/users/4581604/l2iisk"}, "edited": false, "score": 0, "creation_date": 1424298625, "post_id": 28595185, "comment_id": 45497071, "body": "No I hadn&#39;t and it works just fine :) Thanks a lot, but l&#39;d prefer a way that I can do this without str(), any ideas?"}, {"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "reply_to_user": {"reputation": 21, "user_id": 4581604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0f4711a4f33e31f97b44fd40f36da33?s=128&d=identicon&r=PG&f=1", "display_name": "l2iisk", "link": "https://stackoverflow.com/users/4581604/l2iisk"}, "edited": false, "score": 0, "creation_date": 1424299014, "post_id": 28595185, "comment_id": 45497252, "body": "well...that&#39;s exactly what you said when you did &quot;<b>str__(self)&quot;  you are telling python that that is the string representation of your class.  &quot; You can also do as the user said above me and override &quot;__repr</b>&quot;."}], "tags": [], "owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "is_accepted": false, "score": 2, "last_activity_date": 1424299434, "last_edit_date": 1424299434, "creation_date": 1424298447, "answer_id": 28595185, "question_id": 28595143, "link": "https://stackoverflow.com/questions/28595143/console-output-of-an-instance/28595185#28595185", "title": "Console output of an instance", "body": "<p>Have you tried doing <code>str(R+I)</code>?</p>\n\n<pre><code>def __repr__(self):\n    return \"({0}, {1})\".format(self.base, self.error)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "edited": false, "score": 0, "creation_date": 1424299422, "post_id": 28595299, "comment_id": 45497435, "body": "did you redefine repr?"}, {"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "edited": false, "score": 0, "creation_date": 1424299454, "post_id": 28595299, "comment_id": 45497445, "body": "see my answer...that&#39;s what he meant"}, {"owner": {"reputation": 21, "user_id": 4581604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0f4711a4f33e31f97b44fd40f36da33?s=128&d=identicon&r=PG&f=1", "display_name": "l2iisk", "link": "https://stackoverflow.com/users/4581604/l2iisk"}, "edited": false, "score": 0, "creation_date": 1424299604, "post_id": 28595299, "comment_id": 45497500, "body": "Ohh I&#39;m sorry that did the job, I just had a typo Dx thanks so much for your fast support :))"}], "tags": [], "owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "is_accepted": true, "score": 1, "last_activity_date": 1424298825, "creation_date": 1424298825, "answer_id": 28595299, "question_id": 28595143, "link": "https://stackoverflow.com/questions/28595143/console-output-of-an-instance/28595299#28595299", "title": "Console output of an instance", "body": "<p>The <code>print</code> command (or function, if Python 3+), looks up and uses <code>__str__()</code>. The console generally uses <code>__repr__()</code>, which you're also free to define.</p>\n"}], "owner": {"reputation": 21, "user_id": 4581604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0f4711a4f33e31f97b44fd40f36da33?s=128&d=identicon&r=PG&f=1", "display_name": "l2iisk", "link": "https://stackoverflow.com/users/4581604/l2iisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 28595299, "answer_count": 2, "score": 1, "last_activity_date": 1424299434, "creation_date": 1424298279, "question_id": 28595143, "link": "https://stackoverflow.com/questions/28595143/console-output-of-an-instance", "title": "Console output of an instance", "body": "<p>I just started with object oriented programing in Python and I created a class, now i wrote this:</p>\n\n<pre><code>def __str__(self):\n    return \"({0}, {1})\".format(self.base, self.error)\n</code></pre>\n\n<p>which works fine if I calculate something in the code e.g.:</p>\n\n<pre><code>print R+I\n</code></pre>\n\n<p>the console output is (5.0, 1.0)</p>\n\n<p>I'm working in spyder btw</p>\n\n<p>Now if i type R+I into the console instead it returns \n&lt;<strong>main</strong>.errorCalc instance at 0x0000000009A54F08></p>\n\n<p>but I'd like it to be shown like this (5.0, 1.0)</p>\n\n<p>any help or ideas are appreciated :)</p>\n"}, {"tags": ["python", "node.js"], "comments": [{"owner": {"reputation": 22783, "user_id": 1113772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLSIj.png?s=128&g=1", "display_name": "Paul Sweatte", "link": "https://stackoverflow.com/users/1113772/paul-sweatte"}, "edited": false, "score": 0, "creation_date": 1435768480, "post_id": 28595134, "comment_id": 50341879, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/19849960/what-factors-cause-data-not-to-go-through-in-sockets-in-python-or-python-node-j\">What factors cause data not to go through in sockets in python (or python/node.js)?</a>"}], "owner": {"reputation": 11, "user_id": 4581453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ftOrAlC6nxg/AAAAAAAAAAI/AAAAAAAAAJw/_m31VRPv7ko/photo.jpg?sz=128", "display_name": "David Durand", "link": "https://stackoverflow.com/users/4581453/david-durand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1424298236, "creation_date": 1424298236, "question_id": 28595134, "link": "https://stackoverflow.com/questions/28595134/python-causing-econnreset-error-in-node-on-recv", "title": "Python causing ECONNRESET error in Node on recv", "body": "<p>Im working on a program that needs to parse JavaScript files. I'm using Node.js to host a JavaScript parser called Esprima. I'm using a TCP connection on localhost to connect to node. I have Node set up as the server and Python as the client. The Python script sends a js file to Node and Node sends the parse tree back to Python. When Python calls the sock.recv() to get the response from Node, Node recieves a ECONNRESET error.\nPython is here</p>\n\n<pre><code># Scancode.py\n\n# Import libraries\nimport json\nimport sys\nimport glob\nimport errno\nimport socket\nimport os\nimport time\nfrom xml.etree.ElementTree import Element, SubElement, Comment, tostring\n\n#Address that we will pass to the socket that we will use to talk to node\nTCP_IP = 'localhost'\n\n#The port number that we use to talk to node. It is nice and high so we don't accidentally use a common port.\nTCP_PORT = 8080\n\n#Size for the TCP buffer\nBUFFER_SIZE = 20000\n\n#acceptable number of command line arguments \nnum_args = 4\n\n#total number of possible command line options\nnum_optns = 1;\n\n#error message to indicate proper usage\nusage = \"Error: Scancode.py [-recursive] &lt;js-source&gt; &lt;xml-output&gt;\"\n\n#get the command line arguments\nargs = sys.argv\n\n#test number of arguments\nif len(args) &gt; num_args and len(args) &lt; num_args - num_optns:\n    print usage\n    sys.exit(0)\n\n#remember the name of the js path; should be the second argument\npath = args[len(args) - 2]\n\ndirs = os.listdir(path)\nos.chdir(path)\n\nmyjs = []\nfor file in dirs:\ntry:\n#file element in the XML\nfile1 = Element('file')\nfname = os.path.basename(file)\n    with open(file) as f:\n        myjs.append(f.read())\nexcept IOError as exc:\n    if exc.errno != errno.EISDIR:\n        raise\n\n#Create a new TCP socket using IPv4 protocol\nsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n#Attempt to connect to Esprima\nsock.connect((TCP_IP, TCP_PORT))\n\n#send js file over\nsock.send(myjs[0])\n\n#receive host responses\nresponse = sock.recv(BUFFER_SIZE)\n\n#print results in proper JSON format\nprint response\n\n#close the connection\nsock.send(\"end\")\nsock.close()\n</code></pre>\n\n<p>and Node is here </p>\n\n<pre><code>var net = require('net');\nvar esprima = require('esprima');\nvar server = net.createServer(function(c) { //'connection' listener\n  console.log('client connected');\n  c.on('end', function() {\n    console.log('client disconnected');\n  });\n  c.on('data', function(data) {\n    if(data.toString() == \"end\") {\n      c.end();\n    } else {\n      var response = JSON.stringify(esprima.parse(data, {loc: true}), null, 4);\n      c.write(response)\n    }   \n  });\n\n  c.on('error', function(ex) {\n    console.log(\"handled error\");\n    console.log(ex);\n  });\n});\nserver.listen(8080, function() { //'listening' listener\n  console.log('server bound');\n});\n</code></pre>\n\n<p>When I test with a file that is only a couple of lines everything works fine. But when I send a larger file Node gets a ECONNRESET error. Right now I have an error handler in Node but I don't know why the error is happening. </p>\n\n<p>I am running on a windows machine in the command prompt by starting the Node server with the command <code>node host</code>.\n And in another command prompt I run Python with the command <code>Scancode.py -recursive input anything</code> . </p>\n\n<p>With this execution the Python script expects a directory of files called input in the current working directory. My input directory contains four js files. Following are two of the files. The first one causes the error and the second one doesn't. </p>\n\n<p>File1:</p>\n\n<pre><code>function setUser(sName, uid, name) {\n    if (0 &lt; document.getElementsByName(\"UID_\"+sName).length) {\n        popField(\"UID_\" + sName, uid);\n    }\n\n    if (0 &lt; document.getElementsByName(\"NAME_\"+sName).length) {\n        popField(\"NAME_\" + sName, name);\n    }\n\n    if (0 &lt; document.getElementsByName(sName).length) {\n        popField(sName, uid);\n    }\n\n    hideElement(\"getUserFrame\");\n}\n\nfunction popField(fieldName, val) {\n    if (document.getElementsByName(fieldName)[0].tagName.toUpperCase() == \"INPUT\")\n        document.getElementsByName(fieldName)[0].value = val;\n    else\n        document.getElementsByName(fieldName)[0].innerHTML = val;\n}\nfunction getUser(sName) {\n    document.getElementById(\"getUserFrame\").src = \"/iTrust/util/getUser.jsp?s=\" + sName;\n    showElement(\"getUserFrame\");\n    centerElement(\"getUserFrame\");\n}\nfunction getUserClose() {\n    hideElement(\"getUserFrame\");\n}\n</code></pre>\n\n<p>File 2:</p>\n\n<pre><code>var answer = 42\n</code></pre>\n\n<p>If you want to test it just create a directory in the the directory that the Python script is in. And put these files in it.</p>\n\n<p>On line 64: <code>sock.send(myjs[0])</code>, changing the index from 0 to 1 will send the second file instead of the first one in the directory.</p>\n\n<p>I have the have Node modules esprima and net installed. </p>\n"}, {"tags": ["python", "qt", "user-interface", "pyqt", "qfiledialog"], "answers": [{"tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": true, "score": 0, "last_activity_date": 1424298683, "creation_date": 1424298683, "answer_id": 28595253, "question_id": 28595081, "link": "https://stackoverflow.com/questions/28595081/pyqt-file-browsing-setting-a-default-option/28595253#28595253", "title": "PyQt file browsing - setting a default option?", "body": "<p>If the cancel button is selected from the <code>QFileDialog</code> filenames variable will be a null <code>QString</code> so, you could:</p>\n\n<pre><code>filenames = QFileDialog.getOpenFileName()\nif (filenames.isNull()):\n    self.lineEdit.setText(_translate(\"ROIGUI\", filenames, None))\nelse:\n    # The alternative code. Set the default value here to the QLineEdit.\n</code></pre>\n\n<p>Reference: <a href=\"http://QFileDialog.getOpenFileName()\" rel=\"nofollow\">QFileDialog.getOpenFileName()</a></p>\n"}], "owner": {"reputation": 211, "user_id": 4560918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f0d61a5a0b93182941540fac01ff965?s=128&d=identicon&r=PG&f=1", "display_name": "Emily C", "link": "https://stackoverflow.com/users/4560918/emily-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 28595253, "answer_count": 1, "score": 0, "last_activity_date": 1424322432, "creation_date": 1424298064, "last_edit_date": 1424322432, "question_id": 28595081, "link": "https://stackoverflow.com/questions/28595081/pyqt-file-browsing-setting-a-default-option", "title": "PyQt file browsing - setting a default option?", "body": "<p>I've been trying to implement a file browsing widget in the GUI I'm designing. I am using the QFileDialog module, which works great - I can browse and save a file with the following line of code:</p>\n\n<pre><code>filenames = QFileDialog.getOpenFileName()\n</code></pre>\n\n<p>My widget is set up with a QLineEdit, which I would like to display the name of the file selected, and a QPushButton, which I would like to initiate the above line of code. However, I'd like to know if there's a way I can set a \"default\" option. If the browse push button is not clicked, I would like the file to be the following:</p>\n\n<pre><code>filenames = str(glob.glob('*.npy')[0])\n</code></pre>\n\n<p>Which would be saved as the filename in question and show up in my LineEdit. My problem is coming from trying to display a different file name in the LineEdit, depending on whether or not the browse push button has been clicked. If it has been clicked, I would like the LineEdit to show the user-selected file instead of the default option. Here are the applicable lines of code in my retranslate function:</p>\n\n<pre><code>def retranslateUi(self, ROIGUI):\n    self.lineEdit.setText(_translate(\"ROIGUI\", self.fileSelect(False), None))\n    self.Browse.setText(_translate(\"ROIGUI\", \"Browse...\", None))\n    self.Browse.clicked.connect(self.fileSelect(True))\n</code></pre>\n\n<p>Which link to the following function. As you can see, this is currently not working correctly because in the LineEdit, tripped is always False. Very silly. </p>\n\n<pre><code>def fileSelect(self,tripped):\n    filenames = str(glob.glob('*.npy')[0])\n    if tripped==True:\n        filenames = QFileDialog.getOpenFileName()\n        self.lineEdit.setText(_translate(\"ROIGUI\", filenames, None))\n    return filenames\n</code></pre>\n\n<p>I've been trying different ways of getting this to work, but everything I tried either (a) never updates my LineEdit after file browsing, or (b) runs file browsing immediately without ever using the default option. Thoughts? I'm sure there's a way of doing this that I'm just not seeing. </p>\n\n<p>Thank you in advance. </p>\n\n<p><strong><em>Edited To Add</em></strong></p>\n\n<p>I think I have fixed most of my problem - my Browse button is now connected via buttonGroup to an integer, so my fileSelect looks like this: </p>\n\n<pre><code>def fileSelect(self):\n    signal = self.buttonGroup2.checkedId()\n    if signal==-1:\n        filenames = str(glob.glob('*.npy')[0])\n    elif signal==1:\n        filenames = QFileDialog.getOpenFileName()\n        if (filenames.isNull()):\n            filenames = str(glob.glob('*.npy')[0])\n    return filenames\n</code></pre>\n\n<p>And my \"retranslate\" browse button and lineEdit look like this:</p>\n\n<pre><code>self.lineEdit.setText(_translate(\"ROIGUI\", str(self.fileSelect()), None))\n\nself.Browse.clicked.connect(self.fileSelect)\n</code></pre>\n\n<p>My only problem is getting the text of my lineEdit to update; although the file in use itself updates after it's selected with Browse, the text itself doesn't update. Help?</p>\n"}, {"tags": ["python", "tuples", "flatten", "pyspark"], "comments": [{"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1424298724, "post_id": 28595048, "comment_id": 45497110, "body": "For the general case, this flattener generator looks good to me: <a href=\"http://stackoverflow.com/a/2158532/2337736\">stackoverflow.com/a/2158532/2337736</a> It&#39;ll work over any iterable, and will return a generator which you can use to create a tuple - <code>tuple(flatten(some_iterable))</code>. For your specific question - in your example, you drop two values (2.4 and 45). Is that desired?"}, {"owner": {"reputation": 1643, "user_id": 3597974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33cebecba4301daa1b4c8bd0b4d7e749?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/3597974/michal"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1424299006, "post_id": 28595048, "comment_id": 45497248, "body": "@PeterDeGlopper I am only able to attain my desired structure when I have just the first value in the output. Otherwise, it prints as a tuple. Also, I tried the code you suggested and it doesn&#39;t work for my input."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1424299616, "post_id": 28595048, "comment_id": 45497510, "body": "You&#39;d have to do something like <code>x.map(lambda p: (p[0], tuple(flatten(p[1]))))</code> to keep the single level of nesting you want - that works on your test <code>p = (2324234534, ((&#39;23213&#39;,&#39;2013&#47;03&#47;02&#39;), 12.32, 32.4, 45))</code>. Or at least it flattens it to <code>(2324234534, (&#39;23213&#39;, &#39;2013&#47;03&#47;02&#39;, 12.32, 32.399999999999999, 45))</code>, I&#39;m not quite sure what you&#39;re looking for."}, {"owner": {"reputation": 1643, "user_id": 3597974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33cebecba4301daa1b4c8bd0b4d7e749?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/3597974/michal"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1424299850, "post_id": 28595048, "comment_id": 45497601, "body": "@PeterDeGlopper, the second suggestion worked fine after I imported collections."}], "answers": [{"tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 1, "last_activity_date": 1424300436, "creation_date": 1424300436, "answer_id": 28595617, "question_id": 28595048, "link": "https://stackoverflow.com/questions/28595048/flatten-a-tuple-of-unknown-length/28595617#28595617", "title": "Flatten a tuple of unknown length", "body": "<p>If I understand your goals correctly, I believe that this does what you want:</p>\n\n<pre><code>In [11]: a = (2324234534, (('23213','2013/03/02'), 12.32, 32.4, 45))\n\nIn [12]: a[:1] + (a[1][0] + a[1][1:],)\nOut[12]: (2324234534, ('23213', '2013/03/02', 12.32, 32.4, 45))\n</code></pre>\n"}], "owner": {"reputation": 1643, "user_id": 3597974, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/33cebecba4301daa1b4c8bd0b4d7e749?s=128&d=identicon&r=PG&f=1", "display_name": "Michal", "link": "https://stackoverflow.com/users/3597974/michal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 529, "favorite_count": 0, "accepted_answer_id": 28595617, "answer_count": 1, "score": 1, "last_activity_date": 1424300436, "creation_date": 1424297939, "last_edit_date": 1424299282, "question_id": 28595048, "link": "https://stackoverflow.com/questions/28595048/flatten-a-tuple-of-unknown-length", "title": "Flatten a tuple of unknown length", "body": "<p>I have a tuple generated by Spark after a join. It has a key, two columns in a tuple and then the rest of the columns from the second table. I don't necessarily know how many columns are in the second table.</p>\n\n<p>So, for example:</p>\n\n<pre><code>(2324234534, (('23213','2013/03/02'), 12.32, 32.4, 45))\n</code></pre>\n\n<p>I have been able to separate the tuple if there is one column after the zip, date tuple like this in PySpark:</p>\n\n<pre><code>x.map(lambda p: (p[0], (p[1][0][0], p[1][0][1], p[1][1])))\n</code></pre>\n\n<p>in Python:</p>\n\n<pre><code>map(lambda p: (p[0], (p[1][0][0], p[1][0][1], p[1][1])), x)\n</code></pre>\n\n<p>This produces the output I am looking for:</p>\n\n<pre><code>(2324234534, ('23213','2013/03/02', 12.32))\n</code></pre>\n\n<p>If I want more than one column after zip, date then I have this code:</p>\n\n<pre><code>x.map(lambda p: (p[0], (p[1][0][0], p[1][0][1], p[1][1:])))\n</code></pre>\n\n<p>However, it produces this output:</p>\n\n<pre><code>(2324234534, ('23213','2013/03/02', (12.32, 32.4, 45)))\n</code></pre>\n\n<p>Either way, my current method is hacky and doesn't produce the result I am looking for. I am interested, perhaps, in learning how to flatten tuples in general (the other threads I have found on this topic turn tuples into lists, which is not 100% what I'm looking for)</p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1424297834, "post_id": 28594994, "comment_id": 45496698, "body": "Is it always a 1-digit number followed by some string?"}, {"owner": {"reputation": 129, "user_id": 3029809, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8a53c4f144f3f40daed192d728f03062?s=128&d=identicon&r=PG&f=1", "display_name": "MisterPuggles", "link": "https://stackoverflow.com/users/3029809/misterpuggles"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1424297882, "post_id": 28594994, "comment_id": 45496714, "body": "Yes. It is always a 1-digit number, followed by a string of 3-5 letters."}, {"owner": {"reputation": 21714, "user_id": 1392132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QF6FZ.jpg?s=128&g=1", "display_name": "5gon12eder", "link": "https://stackoverflow.com/users/1392132/5gon12eder"}, "edited": false, "score": 1, "creation_date": 1424297953, "post_id": 28594994, "comment_id": 45496754, "body": "Use a dictionary that maps strings to frequencies."}], "answers": [{"tags": [], "owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "is_accepted": false, "score": 4, "last_activity_date": 1424298213, "creation_date": 1424298213, "answer_id": 28595126, "question_id": 28594994, "link": "https://stackoverflow.com/questions/28594994/sort-large-chunk-of-text-by-adding-together-like-terms-using-python/28595126#28595126", "title": "Sort large chunk of text by adding together like terms, using Python?", "body": "<p>I used a much smaller version of your original list because you didn't quote the strings, so I couldn't just copy and paste it, but you get the idea.</p>\n\n<pre><code>&gt;&gt;&gt; original_list\n['1med', '2obs', '3soc', '2hyp', '1inti', '3med', '4soc']\n&gt;&gt;&gt; counter = {}\n&gt;&gt;&gt; for item in original_list:\n...   try:\n...     counter[item[1:]] += int(item[0])\n...   except KeyError:\n...     counter[item[1:]] = int(item[0])\n... \n&gt;&gt;&gt; counter\n{'med': 4, 'obs': 2, 'hyp': 2, 'soc': 7, 'inti': 1}\n&gt;&gt;&gt; for k,v in counter.items():\n...   print('%s%s' % (v, k))\n... \n4med\n2obs\n2hyp\n7soc\n1inti\n</code></pre>\n\n<p>You split the string by slicing after the number (<code>item[1:]</code>) and then add the number to the count stored in the dict (<code>int(item[0])</code>), using it as the value instead if it isn't there already (<code>except KeyError</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1424299927, "post_id": 28595241, "comment_id": 45497631, "body": "This is indeed a good answer and the right way to do it if the string is not so well-behaved."}], "tags": [], "owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "is_accepted": false, "score": 1, "last_activity_date": 1424299788, "last_edit_date": 1424299788, "creation_date": 1424298656, "answer_id": 28595241, "question_id": 28594994, "link": "https://stackoverflow.com/questions/28594994/sort-large-chunk-of-text-by-adding-together-like-terms-using-python/28595241#28595241", "title": "Sort large chunk of text by adding together like terms, using Python?", "body": "<p>Using <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow\">regular expressions</a> you can detect the number and the letters. Then store their counts in a dict and combine it in the end. </p>\n\n<pre><code>my_str = \"1med,2obs,2obs,1med,5rhe\"\n\nimport re\n\ndata_as_lst = my_str.split(',')\n\nwords_dct = {}\nfor chunk in data_as_lst:    \n    word = re.findall(r'[a-zA-Z]+', chunk)[0]\n    num = int(re.findall(r'[0-9]+', chunk)[0])\n\n    if word not in words_dct:\n        words_dct.update({word: num})        \n    else:\n        words_dct[word] += num\n\nresults = []\nfor word in words_dct:\n    results.append(str(words_dct[word]) + word)\n\nprint(results)\n</code></pre>\n\n<p>Probably not as fast as slicing suggested by others (I missed the comments saying that first character is always a single digit), but it's suitable for any number of digits.</p>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 2100534, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9af4ba4e8071a69dcc107b9a68cdfb6?s=128&d=identicon&r=PG", "display_name": "Kyrubas", "link": "https://stackoverflow.com/users/2100534/kyrubas"}, "is_accepted": false, "score": 0, "last_activity_date": 1424304927, "last_edit_date": 1424304927, "creation_date": 1424302562, "answer_id": 28596065, "question_id": 28594994, "link": "https://stackoverflow.com/questions/28594994/sort-large-chunk-of-text-by-adding-together-like-terms-using-python/28596065#28596065", "title": "Sort large chunk of text by adding together like terms, using Python?", "body": "<pre><code>thelist = ['1med', '2obs', '3soc', '1sed', '3rhe', '2hyp', '1inti', '1tea', '1bod', '4sto', '1aur', '1med', '1sin', '1ded', '5obs', '1act', '4sed', '3per', '2inte', '2soc', '3dan', '1intel', '3lea', '1intel', '1inte', '3aur', '2soc', '2neg', '3log', '2sed', '5tea', '3her', '1medi', '1pla', '3rhe', '3rid', '3soc', '2swi', '3tea', '1wri', '3obs', '3hyp', '2aur', '1tac', '2per', '2med', '3pla', '4intel', '3dag', '3act', '2tac', '4obs', '1shi', '1aur', '1medi', '1ste', '1una', '1bra', '1hyp', '3act', '1dan', '3ded', '5intel', '1inte', '3inv', '1medi', '3obs', '2soc', '1spi', '2ste', '3rea', '3wri', '3mat', '1intel', '4obs']\nlist_dict = {x[1:]: x[0] for x in thelist}\n</code></pre>\n\n<p>A short dictionary comprehension can fix this up for you in 1 line so long as the prefix number is >0 and &lt;10.</p>\n\n<p>Then if you want to print all of that back out you can do a list comprehension to do so, though the dictionary may be nicer.</p>\n\n<pre><code>recombined = [str(list(list_dict.values())[y])+list(list_dict.keys())[y] for y in range(len(list(list_dict.values())))]\nfor each in recombined:\n    print(each)\n</code></pre>\n\n<p>To turn that into a list, instead of using Python I simply brute forced it with Notepad++. I did ctrl+h (find and replace), searched for the commas (,) and replaced with quote-comma-quote (','). </p>\n\n<p>If you need to do this on a regular basis consider reading the information in as a CSV file and adding the data to a list before doing the dictionary comprehension.</p>\n"}], "owner": {"reputation": 129, "user_id": 3029809, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8a53c4f144f3f40daed192d728f03062?s=128&d=identicon&r=PG&f=1", "display_name": "MisterPuggles", "link": "https://stackoverflow.com/users/3029809/misterpuggles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1424304927, "creation_date": 1424297701, "question_id": 28594994, "link": "https://stackoverflow.com/questions/28594994/sort-large-chunk-of-text-by-adding-together-like-terms-using-python", "title": "Sort large chunk of text by adding together like terms, using Python?", "body": "<p>Here is a sample chunk of data. </p>\n\n<pre><code>1med,2obs,3soc,1sed,3rhe,2hyp,1inti,1tea,1bod,4sto,1aur,1med,1sin,1ded,5obs\n1act,4sed,3per,2inte,2soc,3dan,1intel,3lea,1intel,1inte,3aur,2soc,2neg,3log\n2sed,5tea,3her,1medi,1pla,3rhe,3rid,3soc,2swi,3tea,1wri,3obs,3hyp,2aur,1tac\n2per,2med,3pla,4intel,3dag,3act,2tac,4obs,1shi,1aur,1medi,1ste,1una,1bra,1hyp\n3act,1dan,3ded,5intel,1inte,3inv,1medi,3obs,2soc,1spi,2ste,3rea,3wri,3mat\n1intel,4obs\n</code></pre>\n\n<p>With some research of my own, I have figured out how to sort in the obvious and common ways. I can sort alphabetically for instance, or I can sort by number, or a variety of other different sorting methods. </p>\n\n<p>However, I am wanting to combine like terms and sort. I can't find any reference to combining like terms. For instance, if the data consisted of:</p>\n\n<pre><code>1med,2obs,2obs,1med,5rhe\n</code></pre>\n\n<p>Then after the program processed the data, the output would display as such:</p>\n\n<pre><code>2med\n4obs\n5rhe\n</code></pre>\n\n<p>What am  I missing? </p>\n"}, {"tags": ["python", "python-2.7", "unicode", "python-requests"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1424303295, "post_id": 28594952, "comment_id": 45498912, "body": "It&#39;s assuming that your console is ASCII, thus it can&#39;t print any Unicode characters with a codepoint above 0x7f."}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 4581570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0691470b1186396cb33a842047cec63?s=128&d=identicon&r=PG&f=1", "display_name": "User", "link": "https://stackoverflow.com/users/4581570/user"}, "is_accepted": true, "score": 1, "last_activity_date": 1424385684, "creation_date": 1424385684, "answer_id": 28618447, "question_id": 28594952, "link": "https://stackoverflow.com/questions/28594952/ascii-codec-cant-encode-characters-in-position-2307-2309-ordinal-not-in-rang/28618447#28618447", "title": "&#39;ascii&#39; codec can&#39;t encode characters in position 2307-2309: ordinal not in range(128)", "body": "<p>This was due to sublime text not supporting utf-8 by default. I was able to get the output in python IDLE</p>\n"}], "owner": {"reputation": 453, "user_id": 4581570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0691470b1186396cb33a842047cec63?s=128&d=identicon&r=PG&f=1", "display_name": "User", "link": "https://stackoverflow.com/users/4581570/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1205, "favorite_count": 1, "closed_date": 1424406457, "accepted_answer_id": 28618447, "answer_count": 1, "score": 1, "last_activity_date": 1443942633, "creation_date": 1424297516, "last_edit_date": 1443942633, "question_id": 28594952, "link": "https://stackoverflow.com/questions/28594952/ascii-codec-cant-encode-characters-in-position-2307-2309-ordinal-not-in-rang", "closed_reason": "Duplicate", "title": "&#39;ascii&#39; codec can&#39;t encode characters in position 2307-2309: ordinal not in range(128)", "body": "<p>I am making a request using requests lib, as can be seen in the content the encoding for page is utf-8, also the default used by requests is utf-8 as seen in r.encoding, but why is this showing unicode error while reading text. </p>\n\n<pre><code>r = requests.get(url, auth=('username', 'password'))\n\nprint r.status_code\nprint r.encoding\nprint r.content\n\nprint r.text\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>200\nUTF-8\n&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Sign In&lt;/title&gt;&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7\"/&gt;&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"/&gt;.............\n\nTraceback (most recent call last):\n  File \"E:\\Python practise programms\\reuters.py\", line 18, in &lt;module&gt;\n    print r.text\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 2307-2309: ordinal not in range(128)\n</code></pre>\n"}, {"tags": ["python", "c", "automation", "automated-tests"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1424297665, "creation_date": 1424297665, "answer_id": 28594984, "question_id": 28594933, "link": "https://stackoverflow.com/questions/28594933/autograder-script-reading-keyboard-inputs-from-textfile/28594984#28594984", "title": "Autograder script - reading keyboard inputs from textfile", "body": "<p>You can use the <code>subprocess</code> module in Python to spawn other programs, retrieve their output and feed them arbitrary input. The relevant pieces will most likely be the <code>Popen.communicate()</code> method and/or the <code>.stdin</code> and <code>.stdout</code> file objects; ensure when you do this that you passed <code>PIPE</code> as the argument to the <code>stdin</code> and <code>stdout</code> keywords on creation.</p>\n"}], "owner": {"reputation": 1570, "user_id": 1172265, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/6905627f5ac47b04ac122da356da5f2a?s=128&d=identicon&r=PG", "display_name": "Batuhan B", "link": "https://stackoverflow.com/users/1172265/batuhan-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424297665, "creation_date": 1424297444, "question_id": 28594933, "link": "https://stackoverflow.com/questions/28594933/autograder-script-reading-keyboard-inputs-from-textfile", "title": "Autograder script - reading keyboard inputs from textfile", "body": "<p>I need to score my students c programming homeworks. I want to write an autograder script which automatically score the homeworks. I plan to write this script in python language.</p>\n\n<p>My question is, in the homework, in some parts students get some input from keyboard with <strong>scanf</strong>, how can i handle this problem if I try to write an autograder?  Is there any way to read from text file when the <strong>scanf</strong> line runs in homework ? </p>\n\n<p>Any idea is appreciated.</p>\n"}, {"tags": ["python", "list", "python-2.7", "count"], "answers": [{"comments": [{"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424315675, "post_id": 28596378, "comment_id": 45502381, "body": "You&#39;re welcome :-) If you like, you can <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235\">accept</a> either my or Mark Tolonen&#39;s answer to let future readers know that it solved your problem."}, {"owner": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424316685, "post_id": 28596378, "comment_id": 45502598, "body": "i dont have enough reputation to select the answer. i recently joined stackoverflow"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424317317, "post_id": 28596378, "comment_id": 45502756, "body": "You can&#39;t vote up yet, but you can accept (the check mark under the vote up/down buttons). The <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work/5235#5235\">link</a> I included in my previous comment explains more ..."}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424317417, "post_id": 28596378, "comment_id": 45502784, "body": "(by the way, I&#39;m not trying to be pushy, just informative :-) Of course you should only accept an answer you truly feel solves your issue)"}, {"owner": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424317570, "post_id": 28596378, "comment_id": 45502817, "body": "no you are not being pushy, since i am new its very good to know. thank you for that."}], "tags": [], "owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "is_accepted": true, "score": 4, "last_activity_date": 1424304349, "creation_date": 1424304349, "answer_id": 28596378, "question_id": 28594919, "link": "https://stackoverflow.com/questions/28594919/count-the-number-of-lists-containing-specific-element-in-a-nested-list/28596378#28596378", "title": "Count the number of lists containing specific element in a nested list", "body": "<p>When you find yourself saying \"I want to count how many ...\", there's a good chance <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow\"><code>Counter()</code></a>, from the <code>collections</code> module, can help.</p>\n\n<p>In this case, we want to count how many lists each letter occurs in. Since we don't want to count any letter more than once for each sublist, we'll convert them to <a href=\"https://docs.python.org/2/tutorial/datastructures.html#sets\" rel=\"nofollow\">sets</a>:</p>\n\n<pre><code>&gt;&gt;&gt; res = [['a', 'b', 'a'], ['a', 'b', 'c'], ['a']]\n&gt;&gt;&gt; [set(x) for x in res]\n[{'b', 'a'}, {'c', 'b', 'a'}, {'a'}]\n</code></pre>\n\n<p>The order gets mixed up, but that doesn't matter, as long as we only have one letter from each list.</p>\n\n<p>Now we want to join those sets of letters into one sequence, so we can count them all. We could do it like this:</p>\n\n<pre><code>&gt;&gt;&gt; [s for x in res for s in set(x)]\n['b', 'a', 'c', 'b', 'a', 'a']\n</code></pre>\n\n<p>... but that's a little hard to follow. Luckily there's a function in the <code>itertools</code> module called <a href=\"https://docs.python.org/2/library/itertools.html#itertools.chain\" rel=\"nofollow\"><code>chain()</code></a> that does the same thing and is a little easier to read. We want the <code>chain.from_iterable()</code> version:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import chain\n&gt;&gt;&gt; c = chain.from_iterable(set(x) for x in res)\n&gt;&gt;&gt; list(c)\n['b', 'a', 'c', 'b', 'a', 'a']\n</code></pre>\n\n<p>Don't worry about that <code>list(c)</code> too much - <code>chain()</code> returns an <a href=\"https://docs.python.org/2/glossary.html#term-iterator\" rel=\"nofollow\">iterator</a>, which means nothing gets calculated until we actually do something with the result (like make it into a list), so I did that to show what it produces.</p>\n\n<p>Anyway, all we need to do now is pass that sequence to <code>Counter()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt; Counter(chain.from_iterable(set(x) for x in res))\nCounter({'a': 3, 'b': 2, 'c': 1})\n</code></pre>\n\n<p>Here's the whole thing:</p>\n\n<pre><code>from collections import Counter\nfrom itertools import chain\n\nres = [['a', 'b', 'a'], ['a', 'b', 'c'], ['a']]\n\nletter_count = Counter(chain.from_iterable(set(x) for x in res))\n\nprint(letter_count['a'])  # prints 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424316846, "post_id": 28596478, "comment_id": 45502646, "body": "i tried this way, it says Typeerror: &#39;int&#39; object is not callable. i am new to python,so very hard to predict the behavior."}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424317835, "post_id": 28596478, "comment_id": 45502891, "body": "@sjain Mark&#39;s answer works for me \u2014 are you sure you typed it correctly?"}, {"owner": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424318004, "post_id": 28596478, "comment_id": 45502936, "body": "its showing me above mentioned error at sum(&#39;a&#39; in x for x in L) I did it the same way"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 0, "creation_date": 1424318097, "post_id": 28596478, "comment_id": 45502959, "body": "Ah, you must have created a variable called <code>sum</code> then. If you exit Python and start again (taking care not to create a <code>sum</code> variable), you should find that it works."}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "edited": false, "score": 0, "creation_date": 1424318297, "post_id": 28596478, "comment_id": 45503012, "body": "@sjain <a href=\"http://stackoverflow.com/questions/16523789/python-naming-conflict-with-built-in-function\">this question</a> might help you understand what happened there ..."}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": false, "score": 2, "last_activity_date": 1424304855, "creation_date": 1424304855, "answer_id": 28596478, "question_id": 28594919, "link": "https://stackoverflow.com/questions/28594919/count-the-number-of-lists-containing-specific-element-in-a-nested-list/28596478#28596478", "title": "Count the number of lists containing specific element in a nested list", "body": "<p>A simple list comprehension does the trick.</p>\n\n<pre><code>&gt;&gt;&gt; L=[['a', 'b', 'a'], ['a', 'b', 'c'], ['a']]\n&gt;&gt;&gt; ['a' in x for x in L]\n[True, True, True]\n&gt;&gt;&gt; ['b' in x for x in L]\n[True, True, False]\n</code></pre>\n\n<p>Using the knowledge that <code>True</code> is considered <code>1</code>:</p>\n\n<pre><code>&gt;&gt;&gt; sum('a' in x for x in L)\n3\n&gt;&gt;&gt; sum('b' in x for x in L)\n2\n&gt;&gt;&gt; sum('c' in x for x in L)\n1\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4576430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74279002ed04700935b041d5a61818?s=128&d=identicon&r=PG&f=1", "display_name": "sjain", "link": "https://stackoverflow.com/users/4576430/sjain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 28596378, "answer_count": 2, "score": 0, "last_activity_date": 1424304855, "creation_date": 1424297405, "last_edit_date": 1424304592, "question_id": 28594919, "link": "https://stackoverflow.com/questions/28594919/count-the-number-of-lists-containing-specific-element-in-a-nested-list", "title": "Count the number of lists containing specific element in a nested list", "body": "<p>I have a list, for example:</p>\n\n<pre><code>res = [['a', 'b', 'a'], ['a', 'b', 'c'], ['a']]\n</code></pre>\n\n<p>I want to count how many lists contains a specific letter. For instance, 'a' is contained in 3 lists, 'b' is contained in 2 lists and 'c' is contained in 1 list.</p>\n\n<p>The code below is what I have so far:</p>\n\n<pre><code>count=0\ndocs='a'\n\nlist1=[]\n\nfor c in range(len(res)):\n    for i in res[0]:\n        list1.append(i)\n        for i in list1:\n            if i == docs:\n                count=1\nprint count\n</code></pre>\n"}, {"tags": ["python", "utf-8"], "comments": [{"owner": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "edited": false, "score": 0, "creation_date": 1424297197, "post_id": 28594799, "comment_id": 45496348, "body": "are you sure that everything in input_1.json is encoded utf-8?"}, {"owner": {"reputation": 73, "user_id": 4511876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc80864c44f3a3d35b2eb935a0056c52?s=128&d=identicon&r=PG&f=1", "display_name": "degeneration", "link": "https://stackoverflow.com/users/4511876/degeneration"}, "reply_to_user": {"reputation": 1400, "user_id": 1030592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/890c54cfa80230239d633e742a6734bf?s=128&d=identicon&r=PG", "display_name": "deweyredman", "link": "https://stackoverflow.com/users/1030592/deweyredman"}, "edited": false, "score": 0, "creation_date": 1424297314, "post_id": 28594799, "comment_id": 45496401, "body": "Yes, I made sure. Opened all files in notepad++ and forced encoding to UTF-8 without BOM"}, {"owner": {"reputation": 520, "user_id": 628534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEaUA.png?s=128&g=1", "display_name": "diversemix", "link": "https://stackoverflow.com/users/628534/diversemix"}, "edited": false, "score": 0, "creation_date": 1424298174, "post_id": 28594799, "comment_id": 45496862, "body": "I&#39;ve spent the last 10 mins playing around with file formats of the files trying to get it to fail (in CentOS) and I can&#39;t :(  Even tried to induce this from the docs <code>&quot;a\\x81&quot;.decode(&quot;utf-8&quot;)</code> but that gave invalid json!"}, {"owner": {"reputation": 73, "user_id": 4511876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc80864c44f3a3d35b2eb935a0056c52?s=128&d=identicon&r=PG&f=1", "display_name": "degeneration", "link": "https://stackoverflow.com/users/4511876/degeneration"}, "edited": false, "score": 0, "creation_date": 1424298985, "post_id": 28594799, "comment_id": 45497236, "body": "Update: Characted causing the error is &#39;&#169;&#39;. Once removed, there is no error returned in any case. If the character is present, visual studio will execute the script without errors, and the error will appear if the script is executed alone."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1424302821, "post_id": 28594799, "comment_id": 45498743, "body": "Could you post your full traceback?"}], "owner": {"reputation": 73, "user_id": 4511876, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc80864c44f3a3d35b2eb935a0056c52?s=128&d=identicon&r=PG&f=1", "display_name": "degeneration", "link": "https://stackoverflow.com/users/4511876/degeneration"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424296914, "creation_date": 1424296914, "question_id": 28594799, "link": "https://stackoverflow.com/questions/28594799/python-utf-8-decoding-error-when-not-running-from-vs", "title": "Python &#39;utf-8&#39; decoding error when not running from VS", "body": "<p>I wrote a simple string for script comparison in python, and it works fine when run from Visual Studio (I use PTVS), but when I just execute script from command line or by just running it, there is an error \"utf8 codec can't decode byte\". I've looked for this error around the site, and it seems to be a common one, but none of the solutions helped.\nhere's the code:</p>\n\n<pre><code>import json\nimport sys\nimport codecs\n\njson_data=open('input_1.json')\ndata = json.load(json_data)\njson_data.close()\n\nnames = [line.strip().split(',')[0].strip() for line in open('input_2.txt')]\n\noutput = codecs.open('out.txt',\"w\",'utf-8')\nfor name in names:\n    x = [name + \" - \" + entry[\"look\"] for entry in data if entry['around'] in name]\n    if(len(x)&gt;0):\n        output.write(''.join(x)+'\\n')\n    else:\n        output.write(name + ' - wtf\\n')\n\noutput.close()\n</code></pre>\n"}, {"tags": ["python", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "is_accepted": true, "score": 9, "last_activity_date": 1424300733, "creation_date": 1424300733, "answer_id": 28595682, "question_id": 28594714, "link": "https://stackoverflow.com/questions/28594714/error-when-cancel-while-opening-a-file-in-pyqt4/28595682#28595682", "title": "Error when &quot;Cancel&quot; while opening a file in PyQt4", "body": "<p>Yes: simply check the return value from <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qfiledialog.html#getOpenFileName\" rel=\"noreferrer\"><code>getOpenFileName</code></a>.  This method returns an empty <code>QString</code> if the user clicks Cancel.  As empty <code>QString</code>s are considered false, you can check to see if the user chose a file instead of clicking Cancel by putting the last two lines of your <code>openFile</code> method in an <code>if openFileName:</code> statement:</p>\n\n<pre><code>    def openFile(self):\n        openFileName = QtGui.QFileDialog.getOpenFileName(None, \"Open File\",\"/some/dir/\",\"TXT(*.txt);;AllFiles(*.*)\")\n        if openFileName:\n            openFile = open(openFileName,'r').read()\n            self.plainTextEdit.appendPlainText(openFile)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 6792577, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TupmcH8FN_0/AAAAAAAAAAI/AAAAAAAAXBU/u9thz5twAhk/photo.jpg?sz=128", "display_name": "Danny Kaminski", "link": "https://stackoverflow.com/users/6792577/danny-kaminski"}, "is_accepted": false, "score": 2, "last_activity_date": 1540366114, "creation_date": 1540366114, "answer_id": 52963215, "question_id": 28594714, "link": "https://stackoverflow.com/questions/28594714/error-when-cancel-while-opening-a-file-in-pyqt4/52963215#52963215", "title": "Error when &quot;Cancel&quot; while opening a file in PyQt4", "body": "<p>as one above said, you should debug and check what kind of answer \"openFilename\" returns.</p>\n\n<p>in Pyqt5, when you press cancel or 'x' to close the window, it returns a tuple</p>\n\n<p>so to get around the issue:</p>\n\n<pre><code>openFileName = QFileDialog.getOpenFileName(self)\nif openFileName != ('', ''):\n    with open(openFileName [0], 'r') as f:\n        file_text = f.read()\n        self.text.setText(file_text)\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4001, "favorite_count": 1, "accepted_answer_id": 28595682, "answer_count": 2, "score": 5, "last_activity_date": 1540366114, "creation_date": 1424296580, "question_id": 28594714, "link": "https://stackoverflow.com/questions/28594714/error-when-cancel-while-opening-a-file-in-pyqt4", "title": "Error when &quot;Cancel&quot; while opening a file in PyQt4", "body": "<p>I have a simple PyQt4 GUI where I have the user open a txt file that will display in the GUI's QPlainTextEdit widget. \nHere's the pseudo code:</p>\n\n<pre><code>class mainWindow(QtGui.QWidget):\n    def __init__(self):\n        super(mainWindow, self).__init__()\n        self.layout = QtGui.QVBoxLayout()\n        self.plain = QtGui.QPlainTextEdit()\n        self.openButton = QtGui.QPushButton(\"OPEN\")\n        self.layout.addWidget(self.plain)\n        self.layout.addWidget(self.openButton)\n        self.openButton.clicked.connect(self.openFile)\n\n    def openFile(self):\n        openFileName = QtGui.QFileDialog.getOpenFileName(None, \"Open File\",\"/some/dir/\",\"TXT(*.txt);;AllFiles(*.*)\")\n        openFile = open(openFileName,'r').read()\n        self.plainTextEdit.appendPlainText(openFile)\n</code></pre>\n\n<p>So I click the \"OPEN\" button and the QFileDialog pops up, but if I hit the \"CANCEL\" button within the QFileDialog, I get this error:</p>\n\n<pre><code>IOError: [Errno 2] No such file or directory: PyQt4.QtCore.QString(u'')\n</code></pre>\n\n<p>I know as the programmer that this error can be easily ignored and does not impact the code's operation whatsoever, but the users do not know that. Is there a way to eliminate this error from printing in terminal?</p>\n"}, {"tags": ["python", "scikit-learn", "random-forest"], "comments": [{"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1424318321, "post_id": 28594655, "comment_id": 45503016, "body": "What exactly do you want to plot. The MSE on the training data? That is a single point, right?"}], "answers": [{"tags": [], "owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "is_accepted": true, "score": 3, "last_activity_date": 1424318828, "creation_date": 1424318828, "answer_id": 28598451, "question_id": 28594655, "link": "https://stackoverflow.com/questions/28594655/plot-sklearn-randomforestregressor-mse/28598451#28598451", "title": "Plot sklearn RandomForestRegressor MSE", "body": "<p>Like this:</p>\n\n<pre><code>from sklearn.metrics import mean_squared_error\n\nmean_squared_error(y, predictions)\n</code></pre>\n\n<p>or using numpy:</p>\n\n<pre><code>np.mean((y_test - est.predict(X_test))**2)\n</code></pre>\n"}], "owner": {"reputation": 1786, "user_id": 2643154, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yAmaU.png?s=128&g=1", "display_name": "Ellis Valentiner", "link": "https://stackoverflow.com/users/2643154/ellis-valentiner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2786, "favorite_count": 0, "accepted_answer_id": 28598451, "answer_count": 1, "score": 2, "last_activity_date": 1424318828, "creation_date": 1424296357, "question_id": 28594655, "link": "https://stackoverflow.com/questions/28594655/plot-sklearn-randomforestregressor-mse", "title": "Plot sklearn RandomForestRegressor MSE", "body": "<p>Does anyone know of a way to plot the MSE of the trees from the random forest regressor in sklearn?</p>\n\n<p>In R this is incredibly easy:</p>\n\n<pre><code>&gt; fit = randomForest(y ~ X)\n&gt; plot(fit)\n</code></pre>\n\n<p>but I haven't found of a way to do this in python.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1424296399, "post_id": 28594642, "comment_id": 45495930, "body": "How are you calling your <code>middle</code> function?"}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "reply_to_user": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1424296491, "post_id": 28594642, "comment_id": 45495973, "body": "not sure what you mean by &#39;calling&#39;..."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1424296534, "post_id": 28594642, "comment_id": 45496001, "body": "What are you expecting <code>input</code> to be?! The function parameter is called <code>t</code>."}, {"owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "edited": false, "score": 0, "creation_date": 1424296625, "post_id": 28594642, "comment_id": 45496042, "body": "the input should be a list"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1424303446, "post_id": 28594642, "comment_id": 45498963, "body": "No, I mean: what object do you expect the name <code>input</code> to be referencing when you assign it to <code>t</code>? And why would you want to reassign <code>t</code>, given that doing so makes it impossible to access the argument to the function?"}], "answers": [{"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": false, "score": 6, "last_activity_date": 1424296461, "creation_date": 1424296461, "answer_id": 28594684, "question_id": 28594642, "link": "https://stackoverflow.com/questions/28594642/typeerror-with-functions/28594684#28594684", "title": "TypeError with functions", "body": "<p><code>t=input</code> is assigning <code>t</code> to the function object <code>input</code>.  You can't slice a function.  <code>t[1:-1]</code> will return a new list with the first and last items removed.</p>\n"}, {"tags": [], "owner": {"reputation": 1903, "user_id": 2532708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad8e40287bc8ec9a4dbe8958cf7d574f?s=128&d=identicon&r=PG", "display_name": "Henry Crutcher", "link": "https://stackoverflow.com/users/2532708/henry-crutcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1424296478, "creation_date": 1424296478, "answer_id": 28594689, "question_id": 28594642, "link": "https://stackoverflow.com/questions/28594642/typeerror-with-functions/28594689#28594689", "title": "TypeError with functions", "body": "<p>If I were you, I'd go with something like </p>\n\n<pre><code>themiddlevalues = t[1:-1]\n</code></pre>\n\n<p>This works on any sort of sequence, and doesn't require a function.  It's probably worth learning about python slice notation, as slices are important to numpy, etc.  See <a href=\"http://codingbat.com/doc/python-strings.html\" rel=\"nofollow\">http://codingbat.com/doc/python-strings.html</a>, as slices work the same way across strings, lists, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": false, "score": 2, "last_activity_date": 1424296535, "creation_date": 1424296535, "answer_id": 28594704, "question_id": 28594642, "link": "https://stackoverflow.com/questions/28594642/typeerror-with-functions/28594704#28594704", "title": "TypeError with functions", "body": "<p>You should delete the <code>t = input</code> line; that's assigning t to the built-in function <code>input</code>, which isn't an array and isn't what you want. Once you do that, you can use:</p>\n\n<pre><code>l = [0, 1, 2, 3, 4]\nmiddle(l)\n</code></pre>\n\n<p>which will leave <code>l = [1, 2, 3]</code>.</p>\n\n<p>However, a better way of doing this is just to say</p>\n\n<pre><code>l = [0, 1, 2, 3, 4]\nl2 = l[1:-1]\n</code></pre>\n\n<p>This leaves l2 as <code>[1, 2, 3]</code>, as I assume you wanted.</p>\n"}], "owner": {"reputation": 253, "user_id": 4505245, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1230173622/picture?type=large", "display_name": "holaprofesor", "link": "https://stackoverflow.com/users/4505245/holaprofesor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1424296535, "creation_date": 1424296296, "last_edit_date": 1424296344, "question_id": 28594642, "link": "https://stackoverflow.com/questions/28594642/typeerror-with-functions", "title": "TypeError with functions", "body": "<p>I am trying to define a function that returns a list without the first and last items in that list.  However, I get this when I run the function: \"TypeError: 'builtin_function_or_method' object does not support item deletion\".</p>\n\n<p>This is my code so far: </p>\n\n<pre><code>def middle(t):\n    \"\"\"returns a copy of a list with the first and last items removed\n\n    list -&gt; list\"\"\"\n    t = input\n    del t[0]\n    del t[-1]\n    print(t)\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "python-2.7", "sympy"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4555363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/654c6b7b0d95670ac365f11298cf4540?s=128&d=identicon&r=PG&f=1", "display_name": "user4555363", "link": "https://stackoverflow.com/users/4555363/user4555363"}, "edited": false, "score": 1, "creation_date": 1424306188, "post_id": 28594708, "comment_id": 45499874, "body": "is there a way to increase the line width, because at about 80 line width it breaks the matrix apart?"}, {"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 2, "creation_date": 1424634602, "post_id": 28594708, "comment_id": 45619984, "body": "You can set <code>init_printing(num_columns=100)</code>, or <code>init_printing(wrap_line=False)</code>. See <code>help(init_printing)</code>."}], "tags": [], "owner": {"reputation": 19590, "user_id": 1099876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zMyTV.jpg?s=128&g=1", "display_name": "ndpu", "link": "https://stackoverflow.com/users/1099876/ndpu"}, "is_accepted": true, "score": 12, "last_activity_date": 1424297892, "last_edit_date": 1424297892, "creation_date": 1424296542, "answer_id": 28594708, "question_id": 28594618, "link": "https://stackoverflow.com/questions/28594618/python-sympy-pretty-output-of-matrix/28594708#28594708", "title": "Python Sympy Pretty Output of Matrix", "body": "<p>Try <code>pprint</code> from sympy:</p>\n\n<pre><code>&gt;&gt;&gt; from sympy import Integral, Matrix, pi, pprint\n&gt;&gt;&gt; from sympy.abc import x\n&gt;&gt;&gt; pprint(Integral(x**2, x))\n  /\n |\n |  2\n | x  dx\n |\n/\n\n&gt;&gt;&gt; pprint(Matrix([\n...   [1/(4*pi), 1],\n...   [1, f(x)]\n... ]))\n\u23a1 1       \u23a4\n\u23a2\u2500\u2500\u2500   1  \u23a5\n\u23a24\u22c5\u03c0      \u23a5\n\u23a2         \u23a5\n\u23a3 1   f(x)\u23a6\n</code></pre>\n\n<p>From docs(<a href=\"http://docs.sympy.org/latest/tutorial/printing.html\" rel=\"noreferrer\">http://docs.sympy.org/latest/tutorial/printing.html</a>):</p>\n\n<blockquote>\n  <p>If all you want is the best pretty printing, use the <code>init_printing()</code>\n  function. This will automatically enable the best printer available in\n  your environment.<br>\n  If you plan to work in an interactive calculator-type session, the\n  <code>init_session()</code> function will automatically import everything in SymPy,\n  create some common Symbols, setup plotting, and run <code>init_printing()</code>.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/uZIeA.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 157, "user_id": 4555363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/654c6b7b0d95670ac365f11298cf4540?s=128&d=identicon&r=PG&f=1", "display_name": "user4555363", "link": "https://stackoverflow.com/users/4555363/user4555363"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7852, "favorite_count": 1, "accepted_answer_id": 28594708, "answer_count": 1, "score": 9, "last_activity_date": 1424297892, "creation_date": 1424296219, "question_id": 28594618, "link": "https://stackoverflow.com/questions/28594618/python-sympy-pretty-output-of-matrix", "title": "Python Sympy Pretty Output of Matrix", "body": "<pre><code>Matrix([[607000, 907, 259, -2165, -1846, 185, -60, -1593, 1445, 1405], [-1000, -2, 0, -1, 0, 0, -1, 0, 0, -1], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [-4000, -7, -3, 5, 4, 1, -1, 4, -4, -2], [-317000, -469, -128, 1173, 1001, -105, 35, 862, -772, -771], [-70000, -105, -32, 246, 209, -19, 7, 180, -166, -157], [8000, 14, 6, -10, -9, -1, -1, -8, 9, 4], [-540000, -807, -230, 1925, 1642, -166, 56, 1418, -1284, -1249], [-328000, -488, -137, 1189, 1017, -104, 36, 872, -785, -776], [-70000, -105, -31, 246, 208, -21, 6, 179, -166, -157]])\n</code></pre>\n\n<p>I think the matrix is too big to be pretty printed to console. I had the same problem with numpy, too. I could fix it there with <code>np.set_printoptions(suppress=True,linewidth=10000)</code>. How can i fix this with sympy?</p>\n"}, {"tags": ["python", "sdl", "pysdl2"], "answers": [{"tags": [], "owner": {"reputation": 236, "user_id": 3725407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c9acdd1b03d052362e8b66f5e0ae555?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/3725407/marcus"}, "is_accepted": true, "score": 0, "last_activity_date": 1424692008, "creation_date": 1424692008, "answer_id": 28673087, "question_id": 28594587, "link": "https://stackoverflow.com/questions/28594587/pysdl2-drawing-order/28673087#28673087", "title": "PySDL2 drawing order", "body": "<p>The default implementation of the <code>TextureSpriteRenderSystem</code> uses the <code>depth</code> attribute of <code>Sprite</code> object to determine the drawing order. If all sprites feature the same depth, the drawing order of them is undetermined, which results in your unwanted behaviour.</p>\n\n<p>A <code>Sprite</code> with a depth value of 0 will be drawn below (or prior to) a <code>Sprite</code> with a higher depth value, e.g. 10. The default depth for each <code>Sprite</code> being created is 0. You could set your background's and rectangle's <code>depth</code> to a negative value in order to enforce the drawing order:</p>\n\n<pre><code>bg = factory.from_color(sdl2.ext.Color(0, 0, 0), size = (320,240))\nbg.depth = -99 # always below everything\nEntity(world, bg, 0, 0)\n\nc = factory.from_color(sdl2.ext.Color(255, 255, 255), size = (50,50))\nc.depth = -1\nEntity(world, c, 100, 100)\n</code></pre>\n\n<p>You can read more about it in the <a href=\"http://pysdl2.readthedocs.org/en/latest/modules/sdl2ext_sprite.html\" rel=\"nofollow\">PySDL2 sprite documentation</a>.</p>\n"}], "owner": {"reputation": 620, "user_id": 1217949, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/qKq9r.png?s=128&g=1", "display_name": "sonium", "link": "https://stackoverflow.com/users/1217949/sonium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 28673087, "answer_count": 1, "score": 1, "last_activity_date": 1424692008, "creation_date": 1424296089, "question_id": 28594587, "link": "https://stackoverflow.com/questions/28594587/pysdl2-drawing-order", "title": "PySDL2 drawing order", "body": "<p>The code below draws a black background, a white box and text. However it seems that the drawing order is not determined and I sometimes have the text or the rectangle covered by the background rectangle. I'm trying to understand what the appropriate way to manage this is?</p>\n\n<pre><code>import sdl2.ext\nimport sdl2.sdlttf\nfrom sdl2 import SDL_Color, SDL_Init\n\nWHITE = SDL_Color(255, 255, 255)\n\nclass Entity(sdl2.ext.Entity):\n    def __init__(self, world, sprite, posx=0, posy=0):\n        self.sprite = sprite\n        self.sprite.position = posx, posy\n\nsdl2.ext.init()\n\nwindow = sdl2.ext.Window(\"PySDL2\", size=(320, 240))\nwindow.show()\nworld = sdl2.ext.World()\n\ntexture_renderer = sdl2.ext.Renderer(window)\nspriterenderer = sdl2.ext.TextureSpriteRenderSystem(texture_renderer)\nfactory = sdl2.ext.SpriteFactory(sdl2.ext.TEXTURE, renderer=texture_renderer)\n\nworld.add_system(spriterenderer)\n\nsdl2.sdlttf.TTF_Init()\nfont = sdl2.sdlttf.TTF_OpenFont('resources/Helvetica.dfont',32)\ntext_surface = sdl2.sdlttf.TTF_RenderText_Blended(font, 'test', WHITE).contents\nsdl2.sdlttf.TTF_CloseFont(font)\n\nbg = factory.from_color(sdl2.ext.Color(0, 0, 0), size = (320,240))\nEntity(world, bg, 0, 0)\n\nc = factory.from_color(sdl2.ext.Color(255, 255, 255), size = (50,50))\nEntity(world, c, 100, 100)\n\ntext_sprite = factory.from_surface(text_surface)\ntext_entity = Entity(world, text_sprite, 50, 50)\n\ndef run():\n    running = True\n    while running:\n        events = sdl2.ext.get_events()\n        for event in events:\n            if event.type == sdl2.SDL_QUIT:\n                running = False\n                break\n        world.process()\nrun()\nsdl2.ext.quit()\n</code></pre>\n"}, {"tags": ["python", "django", "url", "django-views"], "answers": [{"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 9, "last_activity_date": 1424296110, "creation_date": 1424296110, "answer_id": 28594593, "question_id": 28594508, "link": "https://stackoverflow.com/questions/28594508/display-username-in-url-django/28594593#28594593", "title": "Display username in URL - Django", "body": "<p><strong>Short answer:</strong> The problem is with your template code. You are not passing the <code>username</code> parameter to your view. Instead of</p>\n\n<pre><code>&lt;a href=\"{% url 'account_home' %}\"&gt;Account&lt;a&gt;\n</code></pre>\n\n<p>try</p>\n\n<pre><code>&lt;a href=\"{% url 'account_home' user.username %}\"&gt;Account&lt;a&gt;\n</code></pre>\n\n<p><strong>Long answer</strong>: That being said, you could probably get rid of the <code>username</code> parameter by modifying your view instead. You already have the current user in the <code>request</code> object in your view:</p>\n\n<pre><code>@login_required\ndef account_home(request):\n    u = MyUser.objects.get(username=request.user.username)\n    return render(request, \"accounts/account_home.html\", {})\n</code></pre>\n\n<p>and remove it from the url definition:</p>\n\n<pre><code>url(r'^$', 'account_home', name='account_home'),\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 4487355, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dde4153d9342b72d2926e5ed1a4f56a?s=128&d=identicon&r=PG&f=1", "display_name": "jph", "link": "https://stackoverflow.com/users/4487355/jph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1996, "favorite_count": 0, "accepted_answer_id": 28594593, "answer_count": 1, "score": 2, "last_activity_date": 1424296110, "creation_date": 1424295796, "last_edit_date": 1424296014, "question_id": 28594508, "link": "https://stackoverflow.com/questions/28594508/display-username-in-url-django", "title": "Display username in URL - Django", "body": "<p>When I try to display the username in the URL, I get this error: </p>\n\n<p>Reverse for 'account_home' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['/(?P\\w+)/$'].</p>\n\n<p>Here is my views.py </p>\n\n<pre><code>@login_required\ndef account_home(request, username):\n    u = MyUser.objects.get(username=username)\n    return render(request, \"accounts/account_home.html\", {})\n</code></pre>\n\n<p>Here is my urls.py</p>\n\n<pre><code>urlpatterns += patterns('accounts.views',\n    # url(r'^account/$', 'account_home', name='account_home'),\n    url(r'^/(?P&lt;username&gt;\\w+)/$', 'account_home', name='account_home'),\n    url(r'^logout/$', 'auth_logout', name='logout'),\n    url(r'^login/$', 'auth_login', name='login'),\n    url(r'^register/$', 'auth_register', name='register'),\n)\n</code></pre>\n\n<p>This is the code it is trying to render, but can't.<img src=\"https://i.stack.imgur.com/nOgHs.png\" alt=\"enter image description here\"></p>\n\n<p>Thank you in advance for your help!</p>\n"}, {"tags": ["python", "loops", "numpy", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424299976, "post_id": 28595017, "comment_id": 45497652, "body": "Oh, I should have entered the rest of the code. I am using Pandas. My dataframe is from a read_csv. The equations are just examples."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424300227, "post_id": 28595017, "comment_id": 45497760, "body": "Eh, any sample data -- but do columnwise operations as above work for you, or do you need more complicated equations?"}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424440674, "post_id": 28595017, "comment_id": 45561354, "body": "Sorry, my browser was not displaying the page correctly and I could not post.   To be honest, I do not understand the syntax you are using. It looks like you are referencing columns by column name. There are no names for my columns, they are simply the default numbered index. That is one of the issues I have; Pandas documentation provides few examples that are applicable here in default index notation. They typically give examples with named indexes."}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424440774, "post_id": 28595017, "comment_id": 45561418, "body": "In the examples you have provided, are these operations being applied to each row in the array, or only a single row?"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424463323, "post_id": 28595017, "comment_id": 45574462, "body": "(1) I was hoping you could just copy the code and noodle around with it -- does it run in your browser?   (2) I altered the code to show adding column names; I find it makes the code easier to read; and  (3) Yes, the operations appy row-wise and the result is stored in a new column of the dataframe. (It doesn&#39;t have to be, you can keep the result as a Series, which is vectorish."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424464168, "post_id": 28595017, "comment_id": 45574882, "body": "Okay. Answer much edited so you should be able to paste the whole thing straight into an editor an noodle with it. Which you should always do! no better way to learn."}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424467223, "post_id": 28595017, "comment_id": 45576334, "body": "Thanks. Yes, the browser is now working. I will work with this."}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424731178, "post_id": 28595017, "comment_id": 45662574, "body": "I have attempted this and it actually gives the same result as the code I wrote in my first post. It is calculating a single value for each column. It is not calculating a different value for each column/row index. This would be so simple to write procedurally that I can&#39;t believe there isn&#39;t a Pythonic way to do this."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424739835, "post_id": 28595017, "comment_id": 45665548, "body": "Passing Series as arguments is better, but I&#39;m taken aback by your getting &quot;a single value for each column&quot; in this example, because I definitely don&#39;t: at the end of the script the DataFrame <code>test</code> has four columns, <code>S,Q,result,out2</code>, and the last two were calculated directly from the first two columns. What do you get? A syntax error?"}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424789372, "post_id": 28595017, "comment_id": 45687639, "body": "No, the code runs but places the same value in every row of the two columns. It must record the first or last result and insert it into each row.   There are hundreds of rows of data."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424801081, "post_id": 28595017, "comment_id": 45695909, "body": "Oh! You&#39;re talking about the effect this approach has on <i>your</i> data? But this tiny sample script does calculate the right values for each row? Can you post a line or two of your data or faked-up data?"}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424897357, "post_id": 28595017, "comment_id": 45744814, "body": "Yes. It may very well calculate the correct result but only one of those results is placed in every row. So, with your example, both the &#39;result&#39; and &#39;out2&#39; columns contain a single value for all their rows.   e.g.,  S     Q     result     out2"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "reply_to_user": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "edited": false, "score": 0, "creation_date": 1424898101, "post_id": 28595017, "comment_id": 45745236, "body": "... Can&#39;t see the values you got. At the end of the script, my <code>test</code> has different values in each row: `   S  Q  result  out2\\n0  1  2       3    -3\\n1  3  4      13   -13\\n2  5  6      31   -31` (those are values row-wise). No?"}], "tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": true, "score": 0, "last_activity_date": 1424765118, "last_edit_date": 1424765118, "creation_date": 1424297817, "answer_id": 28595017, "question_id": 28594461, "link": "https://stackoverflow.com/questions/28594461/reading-values-from-pandas-dataframe-rows-into-equations-and-entering-result-bac/28595017#28595017", "title": "Reading values from Pandas dataframe rows into equations and entering result back into dataframe", "body": "<pre><code># If your equations are simple enough, do operations column-wise in Pandas:\n\nimport pandas as pd\n\ntest = pd.DataFrame([[1,2],[3,4],[5,6]])\ntest # Default column names are 0, 1\ntest[0] # This is column 0 \ntest.icol(0) # This is COLUMN 0-indexed, returned as a Series \ntest.columns=(['S','Q']) # Column names are easier to use\ntest #Column names! Use them column-wise:\ntest['result'] = test.S**2 + test.Q\ntest # results stored in DataFrame\n\n# For more complicated stuff, try apply, as in Python pandas apply on more columns :\n\ndef toyfun(df):\n    return df[0]-df[1]**2\n\n\ntest['out2']=test[['S','Q']].apply(toyfun, axis=1)\n\n# You can also define the column names when you generate the DataFrame:\ntest2 = pd.DataFrame([[1,2],[3,4],[5,6]],columns = (list('AB')))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1424738710, "post_id": 28685600, "comment_id": 45665226, "body": "Is <code>df</code> here an array, or a pandas.core.frame.DataFrame? If the latter, you  don&#39;t even need intermediate variables A and B: you can pass the Series elements of <code>df</code> directly to the function f."}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1424789004, "post_id": 28685600, "comment_id": 45687344, "body": "Its a DataFrame. That could be a possibility; I&#39;ll see if I can set it up that way. The problem is that these equations are very long with nearly every permutation of A*B up to the 5th power and there are six of these equations.  Really appreciate your help with this."}, {"owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1424789669, "post_id": 28685600, "comment_id": 45687881, "body": "I guess I could set them up as a function definition."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1424801161, "post_id": 28685600, "comment_id": 45695955, "body": "I&#39;d set them up as a defined functions just to write test cases for them, personally."}], "tags": [], "owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "is_accepted": false, "score": 1, "last_activity_date": 1615601881, "last_edit_date": 1615601881, "creation_date": 1424734201, "answer_id": 28685600, "question_id": 28594461, "link": "https://stackoverflow.com/questions/28594461/reading-values-from-pandas-dataframe-rows-into-equations-and-entering-result-bac/28685600#28685600", "title": "Reading values from Pandas dataframe rows into equations and entering result back into dataframe", "body": "<p>Turns out that this is extremely easy. All that must be done is to define two variables and assign the desired columns to them. Then set &quot;the row to be replaced&quot; equivalent to the equation containing the variables.</p>\n<p>Pandas already knows that it must apply the equation to every row and return each value to its proper index. I didn't realize it would be this easy and was looking for more explicit code.</p>\n<p>e.g.,</p>\n<pre><code>import pandas as pd\n\ndf = pd.read_csv(&quot;...&quot;) # df is a large 2D array\n\nA = df[0]\nB = df[1]\n\nf(A,B) = ....\n\ndf[3] = f(A,B)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4320500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b171f9b6a72f369e3b7ee97d4c69a3c3?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/4320500/zachn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 1, "accepted_answer_id": 28595017, "answer_count": 2, "score": 0, "last_activity_date": 1615601881, "creation_date": 1424295590, "last_edit_date": 1424300047, "question_id": 28594461, "link": "https://stackoverflow.com/questions/28594461/reading-values-from-pandas-dataframe-rows-into-equations-and-entering-result-bac", "title": "Reading values from Pandas dataframe rows into equations and entering result back into dataframe", "body": "<p>I have a dataframe. For each row of the dataframe: I need to read values from two column indexes, pass these values to a set of equations, enter the result of each equation into its own column index in the same row, go to the next row and repeat. </p>\n\n<p>After reading the responses to similar questions I tried:</p>\n\n<pre><code>import pandas as pd\n\nDF = pd.read_csv(\"...\")\n\nEquation_1 = f(x, y)\nEquation_2 = g(x, y)\n\nfor index, row in DF.iterrows():\n    a = DF[m]\n    b = DF[n]\n\n    DF[p] = Equation_1(a, b)\n    DF[q] = Equation_2(a, b)\n</code></pre>\n\n<p>Rather than iterating over DF, reading and entering new values for each row, this codes iterates over DF and enters the same values for each row. I am not sure what I am doing wrong here. </p>\n\n<p>Also, from what I have read it is actually faster to treat the DF as a NumPy array and perform the calculation over the entire array at once rather than iterating. Not sure how I would go about this. </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 0, "creation_date": 1424296861, "post_id": 28594457, "comment_id": 45496177, "body": "What are the practical implications you are concerned about?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 1819149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f698b70b1ad3c7453e08673f07174e7c?s=128&d=identicon&r=PG", "display_name": "user1819149", "link": "https://stackoverflow.com/users/1819149/user1819149"}, "edited": false, "score": 0, "creation_date": 1424449982, "post_id": 28594589, "comment_id": 45567463, "body": "Thanks. This shed some light on this topic. More less I understand :-)"}, {"owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504558132, "post_id": 28594589, "comment_id": 79047806, "body": "So this is under the hood never a way to achieve the passing of paramters by reference, right?! Implicitly, even huge objects are still serialized and passed around by value?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 1, "creation_date": 1504560095, "post_id": 28594589, "comment_id": 79048382, "body": "@BaluJr.: exactly; they can&#39;t be passed to a subprocess otherwise. Note that globals created <i>before</i> you start a process pool (before the process is forked), are available to child processes too, but are independent from that point onwards. Creating large objects that don&#39;t need to be shared between processes this way can speed things up a little."}, {"owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504602595, "post_id": 28594589, "comment_id": 79061580, "body": "@MartijnPieters But as they are independent from this moment on, doesn&#39;t that also mean that there are again multiple copies of the files in memory? (One 2GB Array processed by 8 processes would still becomes 16GB)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504602647, "post_id": 28594589, "comment_id": 79061607, "body": "@BaluJr.: yes, you&#39;d still have copies. The memory is shared at first, but copy-on-write and Python&#39;s reference counting just about guarantees that you&#39;ll have a copy on first access."}, {"owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504602814, "post_id": 28594589, "comment_id": 79061706, "body": "@MartijnPieters: Sorry for the rereassuring. But only if I write!? If I will only read them, they are kept by reference?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504602926, "post_id": 28594589, "comment_id": 79061788, "body": "@BaluJr.: Python objects on the heap have a reference counter in the header; just accessing a name already causes that counter to be incremented (the object is added to the stack, so that&#39;s a reference). Writing the reference causes the memory page to be copied."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504602962, "post_id": 28594589, "comment_id": 79061812, "body": "@BaluJr.: put differently: you may not write to the object from Python code, but reference count bookkeeping requires writes anyway."}, {"owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504605716, "post_id": 28594589, "comment_id": 79063714, "body": "@MartijnPieters You are right. I just tested it. But this is a serious problem. If you cannot distribute work on huge objects over multiple cpu cores, Python is kind of useless for many Data Processing tasks."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504605747, "post_id": 28594589, "comment_id": 79063737, "body": "@BaluJr.: then don&#39;t load the whole thing into memory. Load data as needed in the subprocesses; use a database or other shared data layer."}, {"owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "edited": false, "score": 0, "creation_date": 1504606179, "post_id": 28594589, "comment_id": 79064033, "body": "@MartijnPieters Some things (incl. the metrics I want to calc) are not additive and its just not possible to chunk them. :/ ...so looks like I have to compute the metrics one after the other then to not blow my memory."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 1, "last_activity_date": 1424296097, "creation_date": 1424296097, "answer_id": 28594589, "question_id": 28594457, "link": "https://stackoverflow.com/questions/28594457/python-multiprocessing-copy-or-reference/28594589#28594589", "title": "Python multiprocessing copy or reference?", "body": "<p>The <code>multiprocessing</code> library either lets you use shared memory, or in the case your <code>Queue</code> class, using a manager service that coordinates communication between processes.</p>\n\n<p>See the <a href=\"https://docs.python.org/3/library/multiprocessing.html#sharing-state-between-processes\" rel=\"nofollow\"><em>Sharing state between processes</em></a> and <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing-managers\" rel=\"nofollow\"><em>Managers</em></a> sections in the documentation.</p>\n\n<p>Managers use <a href=\"https://docs.python.org/3/library/multiprocessing.html#proxy-objects\" rel=\"nofollow\"><em>Proxy objects</em></a> to represent state in a process. The <code>Queue</code> class is such a proxy. State is then shared via <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow\"><code>pickle</code>d states</a>:</p>\n\n<blockquote>\n  <p>An important feature of proxy objects is that they are picklable so they can be passed between processes. </p>\n</blockquote>\n"}], "owner": {"reputation": 41, "user_id": 1819149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f698b70b1ad3c7453e08673f07174e7c?s=128&d=identicon&r=PG", "display_name": "user1819149", "link": "https://stackoverflow.com/users/1819149/user1819149"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2223, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1424296097, "creation_date": 1424295572, "question_id": 28594457, "link": "https://stackoverflow.com/questions/28594457/python-multiprocessing-copy-or-reference", "title": "Python multiprocessing copy or reference?", "body": "<p>I have a problem with understanding how data is exchanged between processes (multiprocessing implementation). It behaves as parameters are passed as reference (or copy - depends whether it is mutable or imutable variable). If so, how it is achieved between processes?</p>\n\n<p>Below examplary code is understandable for me if it is executed within one process (ConsumerProcess is a thread not a process for instance) but how does it work if it is exercised within 2 separate processes?</p>\n\n<pre><code>tasks = Queue()\nconsumerProcess = ConsumerProcess(tasks)  # it is subprocess for main\ntasks.put(aTask)  # why does it behave as reference?\n</code></pre>\n"}, {"tags": ["python", "function", "class"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1424295612, "post_id": 28594437, "comment_id": 45495504, "body": "Make sure they have access to <code>sw1</code>."}, {"owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1424295729, "post_id": 28594437, "comment_id": 45495578, "body": "Well, that is pretty much what I am trying to figure out. Is there an easy way to test this?"}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424297981, "post_id": 28594519, "comment_id": 45496769, "body": "Thanks. I will look up more info on scope because this what is messing me up.    Would having doSomething(sw1) inside of main actually execute the doSomething function instance of sw1?  I don&#39;t want that to happen.  It would need to happen as part of the flow in the doSomething."}, {"owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424298407, "post_id": 28594519, "comment_id": 45496972, "body": "Right now the doSomething function is called by a button."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424299345, "post_id": 28594519, "comment_id": 45497405, "body": "If that&#39;s the case, then you should encapsulate <code>doSomething()</code> etc. inside another class, and make <code>sw1</code> a class member variable. It&#39;s kind of a bit outside the scope of this question though. You might want to ask a new question with the entire context of your problem to get a better answer."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424299474, "post_id": 28594519, "comment_id": 45497454, "body": "Having said that, you can always do <code>dsl = lambda : doSomething(sw1)</code>, and pass <code>dsl</code> as the callback binding for your button. But that&#39;s getting probably a lot more advanced then you want, and the class solution is better, the <code>labda</code> solution should only be used as a last resort."}, {"owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424314167, "post_id": 28594519, "comment_id": 45502041, "body": "Part of me wants to put it all in one class. I am  never going to create another instance of the StopWatch."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424314360, "post_id": 28594519, "comment_id": 45502087, "body": "Is this widget just a display for the stopwatch? then absolutely it would be appropriate to put it in a single class that defines a stopwatch widget."}, {"owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "edited": false, "score": 0, "creation_date": 1424314923, "post_id": 28594519, "comment_id": 45502207, "body": "The StopWatch class just creates everything on the screen and runs it. It make the labels for the stopwatch, has a start, stop, reset, and exit functions. The main has my buttons that make the call to the StopWatch class.  You can see the stopwatch code on this post prior to me adding my functions outside the class to do other tasks. Here is the link.... (<a href=\"http://stackoverflow.com/questions/28567530/python-stopwatch-example-starting-all-class-instances-at-the-same-time/28569304#28569304\" title=\"python stopwatch example starting all class instances at the same time\">stackoverflow.com/questions/28567530/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "is_accepted": false, "score": 3, "last_activity_date": 1424296154, "last_edit_date": 1495535052, "creation_date": 1424295841, "answer_id": 28594519, "question_id": 28594437, "link": "https://stackoverflow.com/questions/28594437/python-calling-a-class-instance-function-from-another-function/28594519#28594519", "title": "Python - Calling a class instance function from another function?", "body": "<p>It's pretty clear you don't yet have a handle on Python <a href=\"http://www.tutorialspoint.com/python/python_functions.htm\" rel=\"nofollow noreferrer\">functions</a> yet or the concept of <a href=\"https://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules\">Scope</a>. So I'll walk you through it, but please read some more tutorials too!</p>\n\n<p>You are defining the variable <code>sw1</code>, an instance of the <code>StopWatch</code> class, in the <em>scope</em> of <code>main()</code>. It won't be accessable anywhere outside of <code>main()</code>. Therefore, you need to <em>pass</em> the object between methods. That's done my making your <code>dosomething()</code> and <code>dosomethingelse()</code> methods take <em>arguments</em>, like so:</p>\n\n<pre><code> def doSomething(stopwatch):\n     # whatever comes first\n     stopwatch.start()\n\n\n def doSomethingElse(stopwatch):\n     # whatever comes first\n     stopwatch.stop()\n</code></pre>\n\n<p>And then you simply call those methods and pass them <code>sw1</code>, like so:</p>\n\n<pre><code>def main():\n    sw1 = StopWatch(root)\n    doSomething(sw1)\n    doSomethingElse(sw1)\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 2924156, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/668f5459aec891f37b172c12cbd4d903?s=128&d=identicon&r=PG", "display_name": "Husar", "link": "https://stackoverflow.com/users/2924156/husar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424296154, "creation_date": 1424295519, "question_id": 28594437, "link": "https://stackoverflow.com/questions/28594437/python-calling-a-class-instance-function-from-another-function", "title": "Python - Calling a class instance function from another function?", "body": "<p>Yea, I know even the Title of this question is confusing. Sorry but that is the best I can describe what I am trying to accomplish.</p>\n\n<p>So.... I am still learning to work with Python classes. Here is one that I need some help with.  Basically I have a single Class that I create a stopwatch with. Then I have a bunch of functions outside of that class that do other tasks and I have my Main function.  I need to be able to start and stop my stopwath class instance from one of the non-class functions. Here a slimmed down version so you can see my structure.</p>\n\n<pre><code>class StopWatch(Frame):\n     ...\n         def Start(self):\n              ...              \n         def Start(self):\n              ...\ndef dosomething():\n             # right here I want to call the sw1.Start function in StopWatch.  \ndef dosomethingelse();\n             # right here I want to call the sw1.Stop function in StopWatch.\ndef main():\n          sw1 = StopWatch(root)\n</code></pre>\n\n<p>I have tried to do something like this but it doesn't work.</p>\n\n<pre><code>class StopWatch(Frame):\n     ...\n         def Start(self):\n              ...              \n         def Start(self):\n              ...\ndef dosomething():\n             # right here I want to call the sw1.Start function in StopWatch.  \n             tmp = StopWatch\n             tmp.Start()   \ndef dosomethingelse();\n             # right here I want to call the sw1.Stop function in StopWatch.\n             tmp = StopWatch\n             tmp.Start() \ndef main():\n          sw1 = StopWatch(root)\n</code></pre>\n\n<p>I am sure this doesn't work because I it is not the sw1 instance of the StopWatch class.</p>\n\n<p>So how can I call the Start and Stop functions of the StopWatch class for instance sw1?</p>\n"}, {"tags": ["python", "python-3.x", "multiprocessing", "importerror", "python-3.4"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1424295426, "post_id": 28594311, "comment_id": 45495408, "body": "chance of bug/error on your end &gt;&gt; bug in Python"}], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 2719458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f5ffb8efdf68db944c98c9436abe5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan G.", "link": "https://stackoverflow.com/users/2719458/ryan-g"}, "edited": false, "score": 0, "creation_date": 1424295494, "post_id": 28594356, "comment_id": 45495446, "body": "You&#39;re right.  I was working in my scratch directory and, have indeed, an old queue that I wrote a long time ago.  I feel dumb now.  I&#39;ll accept your answer as soon as SO allows me to."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1424295165, "creation_date": 1424295165, "answer_id": 28594356, "question_id": 28594311, "link": "https://stackoverflow.com/questions/28594311/is-multiprocessing-in-python-3-4-broken/28594356#28594356", "title": "Is multiprocessing in Python 3.4 broken?", "body": "<p>You have a <em>local</em> module named <code>queue</code>; it interferes with the <a href=\"https://docs.python.org/3/library/queue.html\" rel=\"noreferrer\">standard library module</a>.</p>\n\n<p>Remove it or rename it and your code will work again:</p>\n\n<pre><code>stackoverflow-3.4 mj$ cat test.py \nfrom multiprocessing import Pool\n\ndef f(x):\n    return x*x\n\nif __name__ == '__main__':\n    with Pool(5) as p:\n        print(p.map(f, [1, 2, 3]))\n\nstackoverflow-3.4 mj$ touch queue.py\nstackoverflow-3.4 mj$ bin/python test.py \nTraceback (most recent call last):\n  File \"test.py\", line 7, in &lt;module&gt;\n    with Pool(5) as p:\n  File \"/.../python3.4/multiprocessing/context.py\", line 118, in Pool\n    context=self.get_context())\n  File \"/.../python3.4/multiprocessing/pool.py\", line 150, in __init__\n    self._setup_queues()\n  File \"/.../python3.4/multiprocessing/pool.py\", line 243, in _setup_queues\n    self._inqueue = self._ctx.SimpleQueue()\n  File \"/.../lib/python3.4/multiprocessing/context.py\", line 110, in SimpleQueue\n    from .queues import SimpleQueue\n  File \"/.../lib/python3.4/multiprocessing/queues.py\", line 20, in &lt;module&gt;\n    from queue import Empty, Full\nImportError: cannot import name 'Empty'\nstackoverflow-3.4 mj$ rm queue.py\nstackoverflow-3.4 mj$ bin/python test.py \n[1, 4, 9]\n</code></pre>\n\n<p>If you have trouble locating it, run <code>python3 -c 'import queue; print(queue.__file__)'</code>.</p>\n"}], "owner": {"reputation": 295, "user_id": 2719458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99f5ffb8efdf68db944c98c9436abe5a?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan G.", "link": "https://stackoverflow.com/users/2719458/ryan-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2631, "favorite_count": 0, "accepted_answer_id": 28594356, "answer_count": 1, "score": 1, "last_activity_date": 1424295165, "creation_date": 1424295009, "question_id": 28594311, "link": "https://stackoverflow.com/questions/28594311/is-multiprocessing-in-python-3-4-broken", "title": "Is multiprocessing in Python 3.4 broken?", "body": "<p>I'm trying to use the multiprocessing module in Python 3.  However, everytime I try to set up a Pool, I get the following traceback.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"testmp.py\", line 7, in &lt;module&gt;\n    with Pool(5) as p:\n  File \"/usr/lib/python3.4/multiprocessing/context.py\", line 118, in Pool\n    context=self.get_context())\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 150, in __init__\n    self._setup_queues()\n  File \"/usr/lib/python3.4/multiprocessing/pool.py\", line 243, in _setup_queues\n    self._inqueue = self._ctx.SimpleQueue()\n  File \"/usr/lib/python3.4/multiprocessing/context.py\", line 110, in SimpleQueue\n    from .queues import SimpleQueue\n  File \"/usr/lib/python3.4/multiprocessing/queues.py\", line 20, in &lt;module&gt;\n    from queue import Empty, Full\nImportError: cannot import name 'Empty'\n</code></pre>\n\n<p>The simplest code that can easily trigger this is the first example in the multiprocessing module documentation.</p>\n\n<pre><code>from multiprocessing import Pool\n\ndef f(x):\n    return x*x\n\nif __name__ == '__main__':\n    with Pool(5) as p:\n        print(p.map(f, [1, 2, 3]))\n</code></pre>\n\n<p>(source: <a href=\"https://docs.python.org/3.4/library/multiprocessing.html\" rel=\"nofollow\">https://docs.python.org/3.4/library/multiprocessing.html</a>)</p>\n\n<p>My question: Is this a bug in Python 3.4?  Or am I doing something wrong?  The equivalent code works in Python 2.7.</p>\n"}, {"tags": ["python", "controls", "break", "flow"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1424294580, "post_id": 28594148, "comment_id": 45494920, "body": "I would expect <code>eval(&#39;QUIT&#39;)</code> to give you a <code>NameError</code> - could you provide the full traceback?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1424294617, "post_id": 28594148, "comment_id": 45494944, "body": "The body of the function needs to be indented."}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 0, "creation_date": 1424294741, "post_id": 28594148, "comment_id": 45495015, "body": "If you were to type &#39;&quot;QUIT&quot;&#39; into it -- that is, on the input line, type double-quote Q U I T double-quote -- I&#39;d expect this version to work. The issue is that it&#39;s trying to treat the string &#39;QUIT&#39; as Python, which doesn&#39;t work."}, {"owner": {"reputation": 1569, "user_id": 4248511, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/F6iG6.jpg?s=128&g=1", "display_name": "Finn", "link": "https://stackoverflow.com/users/4248511/finn"}, "edited": false, "score": 0, "creation_date": 1424295015, "post_id": 28594148, "comment_id": 45495173, "body": "You could just use <code>quit()</code>. This should do the job"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4581398"}, "edited": false, "score": 0, "creation_date": 1424294926, "post_id": 28594235, "comment_id": 45495120, "body": "Thanks Scott. As I thought, the problem is triggered by the premature use of &quot;eval&quot;, correct?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1424296873, "post_id": 28594235, "comment_id": 45496180, "body": "Sounds like you&#39;ve already figured that out for yourself (as it should be)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4581398"}, "edited": false, "score": 0, "creation_date": 1424296995, "post_id": 28594235, "comment_id": 45496253, "body": "Thanks for the heads up Scott, much appreciated."}], "tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 2, "last_activity_date": 1424294732, "creation_date": 1424294732, "answer_id": 28594235, "question_id": 28594148, "link": "https://stackoverflow.com/questions/28594148/using-the-break-control-flow-in-python-3/28594235#28594235", "title": "Using the &quot;Break&quot; Control Flow in Python 3", "body": "<p>You should wait to use <code>eval</code> until you know that the user hasn't entered <code>QUIT</code>; something like this:</p>\n\n<pre><code>while True:\n    expr = input(...)\n    if expire == \"QUIT\":\n        break\n    expr = eval(expr)\n    print( ... )\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4581398"}, "edited": false, "score": 0, "creation_date": 1424295056, "post_id": 28594238, "comment_id": 45495193, "body": "Thanks paidhima. This is what I meant to say - find a way to break out of the loop and resume reading the rest of the code below. Appreciate the heads up and the help!"}], "tags": [], "owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "is_accepted": false, "score": 0, "last_activity_date": 1424294739, "creation_date": 1424294739, "answer_id": 28594238, "question_id": 28594148, "link": "https://stackoverflow.com/questions/28594148/using-the-break-control-flow-in-python-3/28594238#28594238", "title": "Using the &quot;Break&quot; Control Flow in Python 3", "body": "<p>The <code>break</code> control doesn't end a program, but rather it \"breaks out\" of whatever code level you're at:</p>\n\n<pre><code>i = 1\nwhile True:\n    i += 1\n    if i &gt; 10:\n        break\nprint('Hello!')\n</code></pre>\n\n<p>The <code>break</code> in the code above will end execution of the while loop.  It will not end the entire program, so you will still see <code>'Hello'</code> in the console.  If you want to end a procedure completely, use <code>return</code>.  If you are trying to exit the entire script, you can import <code>sys</code> and use <code>sys.exit()</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4581398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424297256, "creation_date": 1424294438, "last_edit_date": 1424297256, "question_id": 28594148, "link": "https://stackoverflow.com/questions/28594148/using-the-break-control-flow-in-python-3", "title": "Using the &quot;Break&quot; Control Flow in Python 3", "body": "<p>First time here. Thanks in advance for the help. I successfully met the requirements of the problem below. However, I am trying to learn to use the \"break\" statement to elegantly terminate the loop instead of having the program to crash. </p>\n\n<p>As simple as it might sound, I get returned an error when using the \"break\" statement. </p>\n\n<p>Perhaps it is because the \"eval\" mention, which is used to input numerical values and not strings such as \"QUIT\" to break the loop?  </p>\n\n<p>\"Write an interactive Python calculator program. The program should allow the user to type a math expression, and then print the value of the expression. Include a loop so that the user can perform many calculations. Note: To quit early, the user can make the program crash by typing a bad expression or simply closing the window that the program the calculator program is running in. You'll learn better ways of terminating interactive programs in later chapters.\" </p>\n\n<pre><code>def main():\n    print(\"This program allows you to get the result of a math expression!\")\n    while True:\n        expr = eval(input(\"Enter a mathematical expression: \"))\n        print (\"The result of the math expression is {}\".format(expr))\n        if expr == \"QUIT\":\n            break\nmain()\n</code></pre>\n\n<p>Thoughts?</p>\n\n<p><strong><em>UPDATE</em></strong></p>\n\n<p>As suggested by Scott Hunter below, I brought the following changes to the code and it worked flawlessly. The \"eval\" statement did not recognized the string \"QUIT\" as \"eval\" is used to evaluate numerical values. Thanks Scott. </p>\n\n<p>Here is the updated code:</p>\n\n<pre><code>def main():\n    print(\"This program allows you to get the result of a math expression!\")\n    while True:\n        expr =(input(\"Enter a mathematical expression: \"))\n        if expr == \"QUIT\":\n            break\n        else:\n            expr = eval(expr)\n        print (\"The result of the math expression is {}\".format(expr))\nmain()\n</code></pre>\n"}, {"tags": ["python", "for-loop", "time-series", "statsmodels", "autoregressive-models"], "comments": [{"owner": {"reputation": 1109, "user_id": 2917381, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zPMhM.jpg?s=128&g=1", "display_name": "andrewwowens", "link": "https://stackoverflow.com/users/2917381/andrewwowens"}, "edited": false, "score": 0, "creation_date": 1424379473, "post_id": 28594147, "comment_id": 45536546, "body": "which version of statsmodels are you using?"}, {"owner": {"reputation": 6927, "user_id": 535665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/272540e56a9b1b5c01fa5ef3c7a91edd?s=128&d=identicon&r=PG", "display_name": "jseabold", "link": "https://stackoverflow.com/users/535665/jseabold"}, "edited": false, "score": 0, "creation_date": 1424379618, "post_id": 28594147, "comment_id": 45536636, "body": "You probably want to follow suggestions in the answer, but if you <i>really</i> need fault safe ARMA estimation, you can see my solution to this <a href=\"https://github.com/statsmodels/statsmodels/blob/master/statsmodels/tsa/stattools.py#L935\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 79, "user_id": 4361234, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ApR5_GrIC6Q/AAAAAAAAAAI/AAAAAAAAAY0/kypVO58DmkM/photo.jpg?sz=128", "display_name": "Rajan S.", "link": "https://stackoverflow.com/users/4361234/rajan-s"}, "edited": false, "score": 0, "creation_date": 1424392172, "post_id": 28594147, "comment_id": 45542008, "body": "Hello Mr. jseabold.  Thanks, i have been following your posts through here.  I completely missed that function.  I will try it right away and see if it helps.  I still need to speed the iteration though...as it is taking roughly 15-20 minutes running both the fitting algorithms.  But, if i split the process in different cells and execute one by one, then it takes roughly 6 minutes each.  I will try to follow the suggestion in the answers"}], "answers": [{"comments": [{"owner": {"reputation": 6927, "user_id": 535665, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/272540e56a9b1b5c01fa5ef3c7a91edd?s=128&d=identicon&r=PG", "display_name": "jseabold", "link": "https://stackoverflow.com/users/535665/jseabold"}, "edited": false, "score": 2, "creation_date": 1424379578, "post_id": 28609257, "comment_id": 45536613, "body": "You can pass <code>method=&#39;css&#39;</code> to do ARMA estimation via OLS and still have the bells and whistles."}], "tags": [], "owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "is_accepted": false, "score": 2, "last_activity_date": 1424357156, "creation_date": 1424357156, "answer_id": 28609257, "question_id": 28594147, "link": "https://stackoverflow.com/questions/28594147/python-arma-fitting-running-too-slow/28609257#28609257", "title": "python arma fitting running too slow?", "body": "<p>Recursive loops for time series analysis in plain Python are slow.</p>\n\n<p>The easiest solution in this case for generating the sample is to use <code>scipy.signal.lfilter</code> or the wrapper for it in statsmodels <code>arma_generate_sample</code> <a href=\"http://statsmodels.sourceforge.net/devel/generated/statsmodels.tsa.arima_process.arma_generate_sample.html\" rel=\"nofollow\">http://statsmodels.sourceforge.net/devel/generated/statsmodels.tsa.arima_process.arma_generate_sample.html</a></p>\n\n<p>Another possibility to speed up the random number generation is to run it vectorized for many samples, e.g. run it over blocks of 100 processes. You still have the time loop, but you can reduce the number of replication loops at the cost of using more memory.</p>\n\n<p><code>sm.tsa.ARMA</code> uses a Kalman Filter written in cython and runs fast, but it is for a general ARMA process which does more work than is needed for estimating a AR model.\n<code>sm.ts.AR</code> estimates the parameters of a AR process by full maximum likelihood under stationarity assumption (by default).</p>\n\n<p>The simplest and fastest is to estimate the AR process by OLS, which doesn't require non-linear optimization, or use Yule-Walker statsmodels.sourceforge.net/devel/generated/statsmodels.regression.linear_model.yule_walker.html</p>\n\n<p>The last two can estimated the parameters conditional on the initial observations, but will not have the full post-estimation features, like forecasting, that the AR and ARMA models have.</p>\n"}], "owner": {"reputation": 79, "user_id": 4361234, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ApR5_GrIC6Q/AAAAAAAAAAI/AAAAAAAAAY0/kypVO58DmkM/photo.jpg?sz=128", "display_name": "Rajan S.", "link": "https://stackoverflow.com/users/4361234/rajan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2934, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1424357200, "creation_date": 1424294431, "last_edit_date": 1424357200, "question_id": 28594147, "link": "https://stackoverflow.com/questions/28594147/python-arma-fitting-running-too-slow", "title": "python arma fitting running too slow?", "body": "<p>I am doing this assignment where I am trying to run this program 5000 times and do an AR(1) and AR(2) fit to the model.  First I defined a function that generated a time series as follows:</p>\n\n<pre><code>def ts_gen_ar1(size,sigma,alpha1):\n    wt = np.random.normal(0,sigma**2,size=size)\n    x = np.zeros(size)\n    for i in np.arange(1,size):\n        x[i] = 0.2 + alpha1*x[i-1] + wt[i]\nreturn x\n</code></pre>\n\n<p>Then i executed the following statements thats taking extremely long time to work</p>\n\n<pre><code>sample_ar1 = []\nsample_ar2 = []\nfor i in range(0,5000):\n    rt = ts_gen_ar1(2500,1,0.8)\n    coeff_ar1 = sm.tsa.ARMA(rt,order=(1,0)).fit().params[1]\n    coeff_ar2 = sm.tsa.ARMA(rt,order=(2,0)).fit().params[1:]\n    sample_ar1.append(coeff_ar1)\n    sample_ar2.append(coeff_ar2)\n</code></pre>\n\n<p>can someone suggest how to speed this up?  I am also getting fitting errors where my program says MLE failed to converge for certain iterations.  </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "shell", "scripting"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1424294347, "post_id": 28594099, "comment_id": 45494783, "body": "Use a dictionary instead?"}, {"owner": {"reputation": 144, "user_id": 3786990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07d17a639f2d6860b48ba85d4ff3b212?s=128&d=identicon&r=PG&f=1", "display_name": "madchemist", "link": "https://stackoverflow.com/users/3786990/madchemist"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1424294471, "post_id": 28594099, "comment_id": 45494852, "body": "Okay, I think I oversimplified my problem. I would like to create a list with the variable ab. This is not possible with dictionary. I should edit my question, I guess."}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 4, "creation_date": 1424294505, "post_id": 28594099, "comment_id": 45494869, "body": "This is generally not something you want to do. It would be more useful to say what problem you want to solve, to get recommendations as to how those kinds of problems are usually approached in Python."}, {"owner": {"reputation": 1569, "user_id": 4248511, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/F6iG6.jpg?s=128&g=1", "display_name": "Finn", "link": "https://stackoverflow.com/users/4248511/finn"}, "edited": false, "score": 0, "creation_date": 1424294507, "post_id": 28594099, "comment_id": 45494870, "body": "<code>ab = &#39;newstring&#39;</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 3786990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07d17a639f2d6860b48ba85d4ff3b212?s=128&d=identicon&r=PG&f=1", "display_name": "madchemist", "link": "https://stackoverflow.com/users/3786990/madchemist"}, "edited": false, "score": 0, "creation_date": 1424295128, "post_id": 28594249, "comment_id": 45495234, "body": "Solves the problem. I didn&#39;t realize that lists can be used as values in a key:value pair in a dictionary. Thanks!"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 5, "last_activity_date": 1424295259, "last_edit_date": 1424295259, "creation_date": 1424294775, "answer_id": 28594249, "question_id": 28594099, "link": "https://stackoverflow.com/questions/28594099/assigning-value-to-concatenated-characters-python/28594249#28594249", "title": "Assigning value to concatenated characters python", "body": "<p>It is possible to do what you ask but it is not recommended.  Instead, use a dictionary to hold variables whose names you create on the fly:</p>\n\n<pre><code>mydict = {}\nchar1 = 'a'\nchar2 = 'b'\n\nmydict[char1+char2] = [1, 2]\nprint(mydict)\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>{'ab': [1, 2]}\n</code></pre>\n\n<p>As you can see, the dictionary now has a key <code>ab</code> with your value assigned.  When you want to access this variable, use <code>mydict['ab']</code>.</p>\n\n<h3>Yet another method</h3>\n\n<p>It is also possible to assign to class instances attributes with names created on the fly.  For example:</p>\n\n<pre><code>class A(object):\n    pass\n\na = A()\nsetattr(a, char1+char2, [3, 4])\nprint(a.ab)\n</code></pre>\n\n<p>This will print:</p>\n\n<pre><code>[3, 4]\n</code></pre>\n\n<p>Attributes can also be accessed by a name constructed on the fly:</p>\n\n<pre><code>print(getattr(a, char1+char2))\n</code></pre>\n\n<p>which prints:</p>\n\n<pre><code>[3, 4]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 520, "user_id": 628534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEaUA.png?s=128&g=1", "display_name": "diversemix", "link": "https://stackoverflow.com/users/628534/diversemix"}, "edited": false, "score": 0, "creation_date": 1424294935, "post_id": 28594282, "comment_id": 45495128, "body": "ooops ... sorry John1024 you beat me to it!"}], "tags": [], "owner": {"reputation": 520, "user_id": 628534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEaUA.png?s=128&g=1", "display_name": "diversemix", "link": "https://stackoverflow.com/users/628534/diversemix"}, "is_accepted": false, "score": 2, "last_activity_date": 1424294876, "creation_date": 1424294876, "answer_id": 28594282, "question_id": 28594099, "link": "https://stackoverflow.com/questions/28594099/assigning-value-to-concatenated-characters-python/28594282#28594282", "title": "Assigning value to concatenated characters python", "body": "<p>Here is one way I can see of doing it:</p>\n\n<pre><code>&gt;&gt;&gt; c1 = 'a'\n&gt;&gt;&gt; c2 = 'b'\n&gt;&gt;&gt; vars = {}\n&gt;&gt;&gt; vars[c1+c2] = [1,2,3,4]\n&gt;&gt;&gt; print vars['ab']\n[1, 2, 3, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 2237012, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OciCu.jpg?s=128&g=1", "display_name": "greenMamBa", "link": "https://stackoverflow.com/users/2237012/greenmamba"}, "is_accepted": false, "score": 1, "last_activity_date": 1424295068, "creation_date": 1424295068, "answer_id": 28594329, "question_id": 28594099, "link": "https://stackoverflow.com/questions/28594099/assigning-value-to-concatenated-characters-python/28594329#28594329", "title": "Assigning value to concatenated characters python", "body": "<p>It looks like you just have your logic flipped on the third variable. Build your list of variables, and then assign a new variable to concatenate that list.\nLike this:</p>\n\n<pre><code>char1 = ('a')\nchar2 = ('b')\n\nchar3 = char1 + char2\n\nprint char3\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 3786990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/07d17a639f2d6860b48ba85d4ff3b212?s=128&d=identicon&r=PG&f=1", "display_name": "madchemist", "link": "https://stackoverflow.com/users/3786990/madchemist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28594249, "answer_count": 3, "score": 0, "last_activity_date": 1424295742, "creation_date": 1424294277, "last_edit_date": 1424295742, "question_id": 28594099, "link": "https://stackoverflow.com/questions/28594099/assigning-value-to-concatenated-characters-python", "title": "Assigning value to concatenated characters python", "body": "<p>I am trying to work on a problem where it would be convenient to assign values to a variable , which itself would be the concatenation of two strings. Obviously, I am getting the error:</p>\n\n<pre><code>SyntaxError: can\\'t assign to operator\n</code></pre>\n\n<p>Part of the code I am trying to make it work:</p>\n\n<pre><code>char1 = 'a'\nchar2 = 'b'\n\nchar1+char2 = [element1,element2]\n</code></pre>\n\n<p>I am trying to assign a list to a new variable called ab . I apologize for my naivety. Suggestions please?</p>\n"}, {"tags": ["python", "matplotlib", "data-visualization", "graphviz"], "comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1424304150, "post_id": 28594094, "comment_id": 45499172, "body": "You just need to provide shapefiles."}, {"owner": {"reputation": 7456, "user_id": 987846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c0bd4793c1b752215191139c8213a131?s=128&d=identicon&r=PG", "display_name": "kakyo", "link": "https://stackoverflow.com/users/987846/kakyo"}, "reply_to_user": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1424305012, "post_id": 28594094, "comment_id": 45499453, "body": "@tcaswell , you mean providing shapeless to gvmap?"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1424305272, "post_id": 28594094, "comment_id": 45499547, "body": "No, to basemap. See <a href=\"https://github.com/matplotlib/basemap/tree/master/lib/mpl_toolkits/basemap/data\" rel=\"nofollow noreferrer\">github.com/matplotlib/basemap/tree/master/lib/mpl_toolkits/&hellip;</a> for the data that ships with base map.  You just need to provide your data in the same format and it will draw what ever shapes you want."}, {"owner": {"reputation": 7456, "user_id": 987846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c0bd4793c1b752215191139c8213a131?s=128&d=identicon&r=PG", "display_name": "kakyo", "link": "https://stackoverflow.com/users/987846/kakyo"}, "reply_to_user": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1424305460, "post_id": 28594094, "comment_id": 45499619, "body": "OK, that sounds like what I need. Thank you so much!"}], "owner": {"reputation": 7456, "user_id": 987846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c0bd4793c1b752215191139c8213a131?s=128&d=identicon&r=PG", "display_name": "kakyo", "link": "https://stackoverflow.com/users/987846/kakyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424294269, "creation_date": 1424294269, "question_id": 28594094, "link": "https://stackoverflow.com/questions/28594094/what-are-the-tools-to-draw-arbitrary-imagined-geographical-regions-similar-to", "title": "What are the tools to draw arbitrary (imagined) geographical regions similar to Matplotlib&#39;s Basemap toolkit?", "body": "<p>Matplotlib's Basemap is great for drawing the earth map, but I'd like to draw terrains, seas, islands completely made up. Maybe this is similar to <a href=\"http://www.graphviz.org/Gallery/undirected/gd_1994_2007.html\" rel=\"nofollow\">Graphviz's gvmap</a>, but I'd like something with more customizations, e.g., controllable texture rendering and colorization.</p>\n"}, {"tags": ["python", "amazon-web-services", "boto", "amazon-sns"], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 503052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35807e0839b58f8bbb06dbb81a222f94?s=128&d=identicon&r=PG", "display_name": "DavKa", "link": "https://stackoverflow.com/users/503052/davka"}, "edited": false, "score": 3, "creation_date": 1424351448, "post_id": 28595369, "comment_id": 45518535, "body": "Thanks, that actually made sense, after some more digging I understood that there is a difference between &quot;topic_arn&quot; and &quot;target_arn&quot; with regards to which endpoints that is possible send to. For mobile push you need to send with &quot;target_arn&quot; and with normal SNS topics you send with &quot;topic_arn&quot;. It also seems not possible to send to an mobile push application directly (to target all its devices)."}, {"owner": {"reputation": 504, "user_id": 3734557, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a928a0f7e6bb8785517daaf888c5d71b?s=128&d=identicon&r=PG&f=1", "display_name": "Zuop", "link": "https://stackoverflow.com/users/3734557/zuop"}, "edited": false, "score": 0, "creation_date": 1435260124, "post_id": 28595369, "comment_id": 50138920, "body": "thanks, I was struggling with the boto documentation for python too. Everything was correct but &quot;message=*, subject=*, target_arn=*&quot;.. didnt know it needs to be addressed like this.. thank you guys very much! :-)"}], "tags": [], "owner": {"reputation": 37599, "user_id": 653643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c68c82ba38c3f2cb3927e92f98f29ef?s=128&d=identicon&r=PG", "display_name": "garnaat", "link": "https://stackoverflow.com/users/653643/garnaat"}, "is_accepted": true, "score": 3, "last_activity_date": 1424299136, "creation_date": 1424299136, "answer_id": 28595369, "question_id": 28594071, "link": "https://stackoverflow.com/questions/28594071/aws-boto-sns-invalid-parameter-topic-name/28595369#28595369", "title": "AWS Boto SNS invalid parameter topic name", "body": "<p>I think the problem is that you are relying on the order of parameters to the <code>publish</code> method and they are not what you are expecting.</p>\n\n<p>Instead, try this:</p>\n\n<pre><code>c.publish(message=message, subject=subject, target_arn=device)\n</code></pre>\n\n<p>and see if you get better results.</p>\n"}], "owner": {"reputation": 188, "user_id": 503052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35807e0839b58f8bbb06dbb81a222f94?s=128&d=identicon&r=PG", "display_name": "DavKa", "link": "https://stackoverflow.com/users/503052/davka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2864, "favorite_count": 0, "accepted_answer_id": 28595369, "answer_count": 1, "score": 2, "last_activity_date": 1424299136, "creation_date": 1424294170, "question_id": 28594071, "link": "https://stackoverflow.com/questions/28594071/aws-boto-sns-invalid-parameter-topic-name", "title": "AWS Boto SNS invalid parameter topic name", "body": "<p>I am trying to send out push messages to iphones using SNS and Boto (python).</p>\n\n<p>The code works fine when I set a normal SNS topic to publish to (replacing the device='xxx' below) but when I replace the arn with that of an application or device registered in that application it complains with the following:</p>\n\n<pre><code>boto.exception.BotoServerError: BotoServerError: 400 Bad Request\n{\"Error\":{\"Code\":\"InvalidParameter\",\"Message\":\"Invalid parameter: Topic Name\",\"Type\":\"Sender\"},\"RequestId\":\"ee1fa01c-3b01-52be-9ca2-ed42c6748e40\"}\n</code></pre>\n\n<p>The problem is that I dont even have a parameter that is called Topic Name. The boto documentation at <a href=\"http://boto.readthedocs.org/en/latest/ref/sns.html\" rel=\"nofollow\">http://boto.readthedocs.org/en/latest/ref/sns.html</a> the section about publish is one of the worst documentations I have ever seen. Have anyone read it at all?</p>\n\n<p>The code looks like this:</p>\n\n<pre><code>from boto.sns import connect_to_region\n\nAWS_KEY = '--REMOVED--'\nAWS_SECRET = '--REMOVED--'\n\ndef push(subject, message, device = u'arn:aws:sns:eu-west-1:606448161548:app/APNS_SANDBOX/SkygdIphone'):\n    c = connect_to_region('eu-west-1', aws_access_key_id = AWS_KEY, aws_secret_access_key = AWS_SECRET)\n\n    c.publish(\n        device,\n        message,\n        subject)\n\npush('subject', 'message')\n</code></pre>\n\n<p>Any suggestions, I am banging my head against this one now for some time.</p>\n"}, {"tags": ["python", "coding-style", "pep8"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 8, "last_activity_date": 1424294576, "creation_date": 1424294576, "answer_id": 28594190, "question_id": 28594049, "link": "https://stackoverflow.com/questions/28594049/does-pep8-fail-to-recognize-noqa-in-some-instances/28594190#28594190", "title": "Does pep8 fail to recognize `# noqa` in some instances?", "body": "<p>The <code>pep8</code> script only lets you disable specific error codes with a <code># noqa</code> comment.</p>\n\n<p>See the <a href=\"http://pep8.readthedocs.org/en/latest/intro.html#error-codes\" rel=\"noreferrer\"><em>Error Codes</em> table</a>; only error codes marked with <code>(^)</code> can be silenced this way. E211 and E221 are not among them (none of the E2* codes are):</p>\n\n<blockquote>\n  <p><code>(^)</code> These checks can be disabled at the line level using the <code># noqa</code> special comment. This possibility should be reserved for special cases.</p>\n</blockquote>\n\n<p>Personally, I prefer using the <a href=\"http://flake8.readthedocs.org/en/latest/\" rel=\"noreferrer\"><code>flake8</code> tool</a>, which combines <code>pep8</code> with PyFlakes, and lets you use the <code># noqa</code> marker far more liberally.</p>\n"}, {"tags": [], "owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "is_accepted": false, "score": 5, "last_activity_date": 1424294639, "creation_date": 1424294639, "answer_id": 28594207, "question_id": 28594049, "link": "https://stackoverflow.com/questions/28594049/does-pep8-fail-to-recognize-noqa-in-some-instances/28594207#28594207", "title": "Does pep8 fail to recognize `# noqa` in some instances?", "body": "<p>This is a <a href=\"https://github.com/jcrocholl/pep8/issues/180\" rel=\"noreferrer\">known issue</a> (\"<em># noqa not honored for most Errors</em>\"), depending on who you ask.</p>\n\n<p>The tool does allow you to use <code># noqa</code> for some warnings but not for <code>E221</code> and <code>E211</code>.</p>\n"}], "owner": {"reputation": 1575, "user_id": 743730, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/mFnWB.jpg?s=128&g=1", "display_name": "mhucka", "link": "https://stackoverflow.com/users/743730/mhucka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5823, "favorite_count": 2, "accepted_answer_id": 28594190, "answer_count": 2, "score": 7, "last_activity_date": 1424294639, "creation_date": 1424294087, "last_edit_date": 1424294590, "question_id": 28594049, "link": "https://stackoverflow.com/questions/28594049/does-pep8-fail-to-recognize-noqa-in-some-instances", "title": "Does pep8 fail to recognize `# noqa` in some instances?", "body": "<p>For readability reasons, I prefer to align some types of statements, such as in the following case (this involves some PyParsing code, but that detail doesn't matter):</p>\n\n<pre><code>_otherwise_stmt = _OTHERWISE ('otherwise statement')\n_else_stmt      = _ELSE      ('else statement')\n_end_stmt       = _END       ('end statement')\n</code></pre>\n\n<p>For this, <code>pep8</code> complains about E221 (\"multiple spaces before operator\") and E211 (\"whitespace before '('\").  If I put <code># noqa</code> at the end of every one of the lines, <code>pep8</code> <em>still</em> complains about these lines.  However, for other constructs elsewhere in my file, the <code># noqa</code> works as expected.  I'm confused about why <code># noqa</code> does not make <code>pep8</code> work as expected for these particular constructs.</p>\n\n<p>Is this a bug in the <code>pep8</code> program, or am I doing something else wrong here?</p>\n"}, {"tags": ["python", "package"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 4577637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3332a06e6d416e6f601e551e9b66b28f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/4577637/alex-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1424294334, "creation_date": 1424294334, "answer_id": 28594113, "question_id": 28594000, "link": "https://stackoverflow.com/questions/28594000/importing-package-and-modules-from-another-directory-in-python/28594113#28594113", "title": "importing package and modules from another directory in python", "body": "<p>Just add the directory to your <code>sys.path</code>:  </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import sys\nsys.path.append( '/path/to/libs' )\n\nimport my_lib_in_another_dir\n</code></pre>\n"}], "owner": {"reputation": 8897, "user_id": 596691, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b5503df110a2855854e5656e4340abb6?s=128&d=identicon&r=PG", "display_name": "Yotam", "link": "https://stackoverflow.com/users/596691/yotam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424294334, "creation_date": 1424293935, "question_id": 28594000, "link": "https://stackoverflow.com/questions/28594000/importing-package-and-modules-from-another-directory-in-python", "title": "importing package and modules from another directory in python", "body": "<p>I have a bunch of python scripts in the path </p>\n\n<pre><code>/home/yotam/Applications/pyFoo\n</code></pre>\n\n<p>one of them is <code>__init__.py</code> which, to my understanding, turns the <code>pyFoo</code> folder into a package. The folder also has a <code>src</code> subfolder, which stores an <code>__init__.py</code> file of its own, as well as some other helpful scripts. </p>\n\n<p>I want to import one of the files (modules?), called <code>Bar.py</code>, that uses scripts from <code>/home/yotam/Applications/pyFoo/src</code>. If I try to load it from the python interpreter, while in the folder ''/home/yotam/Applications'' using</p>\n\n<pre><code>&gt;&gt;&gt; from pyFoo import Bar as B\n</code></pre>\n\n<p>everything is fine. If, however I want to run it from other folders, e.g. my home directory, I get the error </p>\n\n<pre><code>ValueError: Attempted relative import in non-package\n</code></pre>\n\n<p>How can I import <code>Bar.py</code> from anyplace on my machine?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4533374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cd4b92556309455e234571796154707?s=128&d=identicon&r=PG&f=1", "display_name": "sct_2015", "link": "https://stackoverflow.com/users/4533374/sct-2015"}, "edited": false, "score": 0, "creation_date": 1424294025, "post_id": 28593967, "comment_id": 45494616, "body": "Trying it now. This would blow my mind if it worked because I was getting a bunch of errors when I had an else statement attached. Looked up some Python syntax and it had no else statement.  So it worked, sort of. Instead of copying it into separate directories, it copied everything into the first directory (n = 1)."}, {"owner": {"reputation": 29, "user_id": 4533374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cd4b92556309455e234571796154707?s=128&d=identicon&r=PG&f=1", "display_name": "sct_2015", "link": "https://stackoverflow.com/users/4533374/sct-2015"}, "edited": false, "score": 0, "creation_date": 1424294378, "post_id": 28593967, "comment_id": 45494803, "body": "That fixed it mostly. I removed the if-then statement. Thanks for the tip on zfill. Still having all folders copied into each subdirectory, but I&#39;ll figure that one out. Thanks for your help!"}, {"owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "reply_to_user": {"reputation": 29, "user_id": 4533374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cd4b92556309455e234571796154707?s=128&d=identicon&r=PG&f=1", "display_name": "sct_2015", "link": "https://stackoverflow.com/users/4533374/sct-2015"}, "edited": false, "score": 0, "creation_date": 1424294491, "post_id": 28593967, "comment_id": 45494861, "body": "No problem.  Check to be sure you&#39;re still incrementing <code>n</code> in the right place.  Right now it&#39;s going to go through the range 1-30, then increment <code>n</code> and go through the range again."}, {"owner": {"reputation": 29, "user_id": 4533374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cd4b92556309455e234571796154707?s=128&d=identicon&r=PG&f=1", "display_name": "sct_2015", "link": "https://stackoverflow.com/users/4533374/sct-2015"}, "edited": false, "score": 0, "creation_date": 1424295129, "post_id": 28593967, "comment_id": 45495237, "body": "Fixed the indexing, too. Thanks for the hint =)"}], "tags": [], "owner": {"reputation": 2042, "user_id": 1591302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e263226d58575fe11998293a36a1061e?s=128&d=identicon&r=PG", "display_name": "paidhima", "link": "https://stackoverflow.com/users/1591302/paidhima"}, "is_accepted": true, "score": 0, "last_activity_date": 1424293807, "creation_date": 1424293807, "answer_id": 28593967, "question_id": 28593922, "link": "https://stackoverflow.com/questions/28593922/python-errno-2-no-such-file-leading-zeros/28593967#28593967", "title": "Python Errno 2 - No such file, leading zeros", "body": "<p>I think you need an else statement:</p>\n\n<pre><code>    if i &lt; 10:\n        chari = str(i).zfill(2)\n        charj = str(j).zfill(2)\n        shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n    chari = str(i)\n    charj = str(j).zfill(2)\n    shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n</code></pre>\n\n<p>Right now, your code will perform both of the bits of code above, whether the number is less than 10 or not.  It should be:</p>\n\n<pre><code>if i &lt; 10:\n    chari = str(i).zfill(2)\n    charj = str(j).zfill(2)\n    shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\nelse:\n    chari = str(i)\n    charj = str(j).zfill(2)\n    shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n</code></pre>\n\n<p>You don't actually need the second part at all, however.  After your <code>if i in range(1, 30):</code> just do:</p>\n\n<pre><code>chari = str(i).zfill(2)\ncharj = str(j).zfill(2)\nshutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n</code></pre>\n\n<p>The zfill will take care of adding leading zeroes if necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 919, "user_id": 2856379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746d93df047f23136bc2d864dc52ff1e?s=128&d=identicon&r=PG", "display_name": "nelfin", "link": "https://stackoverflow.com/users/2856379/nelfin"}, "is_accepted": false, "score": 1, "last_activity_date": 1424295377, "creation_date": 1424295377, "answer_id": 28594399, "question_id": 28593922, "link": "https://stackoverflow.com/questions/28593922/python-errno-2-no-such-file-leading-zeros/28594399#28594399", "title": "Python Errno 2 - No such file, leading zeros", "body": "<p>You can make the intention of your code clearer by utilising string formatting to do the zero-padding and the <code>product</code> method from <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow\">itertools</a> module in the Python standard library:</p>\n\n<pre><code>import itertools\nimport shutil\nimport os.path\n\nsrc = 'src'\ndst = 'dst'\nfor i, j in itertools.product(range(1, 9), range(1, 30)):\n    dirname = 'HS_BIN_I{0:02}_J{1:02}'.format(i, j)\n    destdir = '{prefix}{n}'.format(prefix=dst, n=i*j)\n    shutil.copytree(os.path.join(src, dirname),\n                    os.path.join(destdir, dirname))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "is_accepted": false, "score": 0, "last_activity_date": 1424296023, "creation_date": 1424296023, "answer_id": 28594563, "question_id": 28593922, "link": "https://stackoverflow.com/questions/28593922/python-errno-2-no-such-file-leading-zeros/28594563#28594563", "title": "Python Errno 2 - No such file, leading zeros", "body": "<p>You're looping a lot more than 233 times. You're iterating <code>n</code> 232 times, <code>j</code> 8 times, and <code>i</code> 29 times. 232 * 8 * 29 = 53824. So one of the things going on is that you are generating a lot more paths than you think you are.</p>\n\n<p>Second, it's entirely unclear what paths you're actually generating. The code is too complex to guess with ease. Instead of:</p>\n\n<pre><code>shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n</code></pre>\n\n<p>Consider:</p>\n\n<pre><code>src_path = src+'HS_BIN_I'+chari+'_J'+charj+'/'\ndst_path = dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/'\nshutil.copytree(src_path, dst_path)\n</code></pre>\n\n<p>It's easier to read, and it lets you insert an all-important print statement that will <em>show</em> you what results are occurring.</p>\n\n<pre><code>src_path = src+'HS_BIN_I'+chari+'_J'+charj+'/'\ndst_path = dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/'\nprint \"src_path:\", src_path, \"dst_path:\", dst_path\nshutil.copytree(src_path, dst_path)\n</code></pre>\n\n<p>That will demonstrate that you are generating paths that seem to be missing a key <code>\"/\"</code> separator: </p>\n\n<pre><code>src_path: 'srcHS_BIN_I10_J08/'  dst_path: 'dst232/HS_BIN_I10_J08/'\n</code></pre>\n\n<p>Even better, generate your path statements with higher-level formatting operations. You're doing a lot of manual conversions that the <code>format</code> method of strings does more cleanly. For example, </p>\n\n<pre><code>src_path = \"{src}/HS_BIN_I{i:02d}_J{j:02d}/'.format(**locals())\n</code></pre>\n\n<p>Does string interpolation of values (<code>src</code>, <code>i</code>, and <code>j</code>) from the local context (roughly, the function into which you should drop this code), and does so using format specifiers like <code>:02d</code> (\"two-digit integer with leading zeros, if needed\").</p>\n\n<p>Final code:</p>\n\n<pre><code>def copy_dirs(src, dst):\n    \"\"\"\n    Copy subfolders from `src` directory into `dst` directory,\n    if they are present.\n    \"\"\"\n    for n in range(1, 233):\n        for j in range(1, 9):\n            for i in range(1, 30):\n                src_path = \"{src}/HS_BIN_I{i:02d}_J{j:02d}/\".format(**locals())\n                dst_path = \"{dst}/{n}/HS_BIN_I{i:02d}_J{j:02d}/\".format(**locals())\n                # print \"src_path:\", src_path, \"dst_path:\", dst_path\n                if os.path.isdir(src_path):\n                    shutil.copytree(src_path, dst_path)\n</code></pre>\n\n<p>I still don't think you want to copy 50K+ directories...but maybe you do. If so, this is a cleaner, more bulletproofed way to do it.</p>\n"}], "owner": {"reputation": 29, "user_id": 4533374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cd4b92556309455e234571796154707?s=128&d=identicon&r=PG&f=1", "display_name": "sct_2015", "link": "https://stackoverflow.com/users/4533374/sct-2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 28593967, "answer_count": 3, "score": 0, "last_activity_date": 1424296023, "creation_date": 1424293619, "question_id": 28593922, "link": "https://stackoverflow.com/questions/28593922/python-errno-2-no-such-file-leading-zeros", "title": "Python Errno 2 - No such file, leading zeros", "body": "<p>Here's my program:</p>\n\n<pre><code>import numpy as np\nimport scipy as sp\nimport itertools\nimport os\nimport csv\nimport shutil\n\nsrc = 'src';\ndst = 'dst';\n\ndata = []\nn = 1\n\nwhile n &lt; 233:\n    charn = str(n)\n    for j in range(1,9): # This will represent each plug subdirectory\n        for i in range(1,30):\n            if i &lt; 10:\n                chari = str(i).zfill(2)\n                charj = str(j).zfill(2)\n                shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n            chari = str(i)\n            charj = str(j).zfill(2)\n            shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n    print chari\n    print charj\n    print charn\n    n = n + 1\n</code></pre>\n\n<p>So I'm copying folders from one directory to another (232 different folders), but some folders have leading zeros. For instance, it might look like this:</p>\n\n<p>HS_BIN_I01_J01</p>\n\n<p>While others look like this:</p>\n\n<p>HS_BIN_I12_J08 (J never goes beyond 08, while I goes up to 29).</p>\n\n<p>So naturally, I need to accommodate for these leading zeros when I write my script. Unfortunately, I get the following error when I execute it:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"cpfldr_232points.py\", line 34, in &lt;module&gt;\n    shutil.copytree(src+'HS_BIN_I'+chari+'_J'+charj+'/',dst+charn+'/'+'HS_BIN_I'+chari+'_J'+charj+'/')\n  File \"/usr/lib64/python2.6/shutil.py\", line 136, in copytree\n    names = os.listdir(src)\nOSError: [Errno 2] No such file or directory: '/src/HS_BIN_I1_J01/'\n</code></pre>\n\n<p>BUT! When I go into my destination directory, the folder has been copied correctly as:</p>\n\n<p>HS_BIN_I01_J01.</p>\n\n<p>So it says the folder doesn't exist, but then copies it correctly anyway and immediately stops (no other folders are copied).</p>\n\n<p>What's going on here?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 1, "creation_date": 1424293559, "post_id": 28593876, "comment_id": 45494357, "body": "In that specific implementation you don&#39;t need the <code>not in pairs</code> check. The the <code>set</code> will let add duplicate values and it will de-dupe them. No need to pay the lookup cost twice."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 2, "creation_date": 1424293619, "post_id": 28593876, "comment_id": 45494403, "body": "@aruisdante They are checking for (y, x) while inserting (x,y)."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1424293646, "post_id": 28593876, "comment_id": 45494420, "body": "Why is there no <code>(2,1)</code>?"}, {"owner": {"reputation": 298, "user_id": 2597468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f03e0d525e3e817fb00cf3e39e281f18?s=128&d=identicon&r=PG&f=1", "display_name": "CTKlein", "link": "https://stackoverflow.com/users/2597468/ctklein"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1424293670, "post_id": 28593876, "comment_id": 45494431, "body": "As @AshwiniChaudhary mentioned, I&#39;m checking for the reverse to make sure that if I encounter e.g. (1, 0) I don&#39;t add it if (0, 1) is already there."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424293806, "post_id": 28593876, "comment_id": 45494511, "body": "ah, ok, was unclear from the problem statement that <code>(1,0)</code> is considered the same as <code>(0,1)</code>, and not just a typo in your &#39;in&#39; check."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1424293877, "post_id": 28593876, "comment_id": 45494548, "body": "Please be more specific in the question then. This constraint is &quot;hidden&quot; in the code."}], "answers": [{"comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424293871, "post_id": 28593968, "comment_id": 45494546, "body": "Tuples of ints are perfectly valid to be added to <code>set</code>."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 2, "creation_date": 1424293964, "post_id": 28593968, "comment_id": 45494588, "body": "@aruisdante I know but OP wants to store only (1, 2) not (2, 1), so <code>frozenset</code>  will allow us to do that because we cannot use a normal set."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424294238, "post_id": 28593968, "comment_id": 45494729, "body": "@aruisdante You&#39;re missing the point: <code>{1, 2} == {2, 1}</code> is True for sets, so instead of storing a tuple and checking for its reverse every time why not use a set. But as we cannot store a set inside of a set, I used a frozenset."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424294239, "post_id": 28593968, "comment_id": 45494732, "body": "Oh I see, sorry I misread the set-expansion (I had read it as a frozenset containing a tuple, rather than a forzenset containing 2 elements). Pointing out the immutability buries the lead of why this works, it&#39;s the fact that <code>set([1,2]) == set([2,1])</code>."}], "tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": true, "score": 5, "last_activity_date": 1424294529, "last_edit_date": 1424294529, "creation_date": 1424293807, "answer_id": 28593968, "question_id": 28593876, "link": "https://stackoverflow.com/questions/28593876/heterogeneous-combinations-between-two-lists/28593968#28593968", "title": "Heterogeneous combinations between two lists", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/stdtypes.html#frozenset\" rel=\"nofollow\"><code>frozenset</code></a> instead of tuple, a frozenset is immmutable so can be stored in a set:</p>\n\n<pre><code>&gt;&gt;&gt; for x, y in prod:\n        if x != y:\n           pairs.add(frozenset((x, y)))\n\n&gt;&gt;&gt; pairs\nset([frozenset([1, 3]), frozenset([1, 2]), frozenset([2, 3])])\n</code></pre>\n\n<p>You can easily extend this to store more than just pairs, for example if we had triads then checking for all of the unique combinations of it in the set will be cumbersome, but frozenset makes it easy:</p>\n\n<pre><code>&gt;&gt;&gt; c = [7, 8, 9]\n&gt;&gt;&gt; prod = itertools.product(a, b, c)\n&gt;&gt;&gt; triplets = set()\n&gt;&gt;&gt; for p in prod:\n...     f = frozenset(p)\n...     if len(f) == 3:\n...         triplets.add(f)\n...         \n&gt;&gt;&gt; triplets\nset([frozenset([1, 3, 7]), frozenset([1, 2, 9]), frozenset([8, 1, 2]), frozenset([2, 3, 7]), frozenset([8, 1, 3]), frozenset([1, 2, 7]), frozenset([9, 2, 3]), frozenset([8, 2, 3]), frozenset([1, 3, 9])])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1424294501, "post_id": 28594077, "comment_id": 45494866, "body": "This seems to be (too) clever (for me). Could you explain how and especially why this works?"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "reply_to_user": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1424294747, "post_id": 28594077, "comment_id": 45495020, "body": "Well the documentation explains how the chain and combinations works. But I first create a set of the two lists provided then the <code>combinations</code> function returns subsequences of elements from the input. Elements are treated as unique based on their position, not on their value. So if the input elements are unique, there will be no repeat values in each combination."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424294758, "post_id": 28594077, "comment_id": 45495022, "body": "Read the doc for the methods for more, but essentially it&#39;s leveraging the fact that if you merge the two lists into a single list of unique numbers, then take the unique combinations formed from permutating that list with itself, you&#39;ll wind up with the output set."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 3, "creation_date": 1424294954, "post_id": 28594077, "comment_id": 45495139, "body": "Hah, I think I found a counterexample. With <code>a=[1,4]</code>, <code>b=[2,3]</code> you get <code>[...(1,4) ...]</code> as output, which is no element of the cartesian product (which OP seems to be looking for)."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "reply_to_user": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1424295178, "post_id": 28594077, "comment_id": 45495271, "body": "@Jasper you know what, you&#39;re right. I knew there was some information being lost here but I couldn&#39;t put my finger on it, and it&#39;s the restriction on parings coming from one element from one list to one element on the other, not just on unique pairings of numbers across both lists. The OP&#39;s example just happened to create a situation where that restriction was satisfied implicitly since one list was a subset of the other."}, {"owner": {"reputation": 298, "user_id": 2597468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f03e0d525e3e817fb00cf3e39e281f18?s=128&d=identicon&r=PG&f=1", "display_name": "CTKlein", "link": "https://stackoverflow.com/users/2597468/ctklein"}, "edited": false, "score": 0, "creation_date": 1424295260, "post_id": 28594077, "comment_id": 45495316, "body": "Hmm this answer looked really interesting. I&#39;ve updated the example to include this case."}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1424295280, "post_id": 28594077, "comment_id": 45495334, "body": "I did&#39;t see that on the question, but you are right. This solution would also  include (1,4)"}], "tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": false, "score": 2, "last_activity_date": 1424294224, "creation_date": 1424294224, "answer_id": 28594077, "question_id": 28593876, "link": "https://stackoverflow.com/questions/28593876/heterogeneous-combinations-between-two-lists/28594077#28594077", "title": "Heterogeneous combinations between two lists", "body": "<p>You can use the <a href=\"https://docs.python.org/2/library/itertools.html#itertools.combinations\" rel=\"nofollow\">itertools</a> chain and combinations functions</p>\n\n<pre><code>import itertools\na = [1, 2]  \nb = [1, 2, 3]  \nq = set(itertools.chain(a,b))\nw = list(itertools.combinations(q,2))\nprint w\n</code></pre>\n\n<p>which returns</p>\n\n<pre><code>[(1, 2), (1, 3), (2, 3)]\n</code></pre>\n"}], "owner": {"reputation": 298, "user_id": 2597468, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f03e0d525e3e817fb00cf3e39e281f18?s=128&d=identicon&r=PG&f=1", "display_name": "CTKlein", "link": "https://stackoverflow.com/users/2597468/ctklein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 1, "accepted_answer_id": 28593968, "answer_count": 2, "score": 0, "last_activity_date": 1424295319, "creation_date": 1424293449, "last_edit_date": 1424295319, "question_id": 28593876, "link": "https://stackoverflow.com/questions/28593876/heterogeneous-combinations-between-two-lists", "title": "Heterogeneous combinations between two lists", "body": "<p>What's a better way to generate unique <strong>combinations</strong> of pairs between two lists where pairs must also be heterogeneous (i.e. pair[0] != pair[1])? By combinations, I mean that I only want one copy of <code>(2, 1)</code> and <code>(1, 2)</code>. (is there a better way to express this?)</p>\n\n<p>For example:</p>\n\n<pre><code>a = [1, 4]  \nb = [1, 2, 3]  \nmagic_functions(a, b)  \n</code></pre>\n\n<p>should return:</p>\n\n<pre><code>[(1, 2), (4, 2), (1, 3), (4, 1), (4, 3)]\n</code></pre>\n\n<p>I can get there using the following but it seems a bit cumbersome:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>prod = itertools.product(a, b)\npairs = set()\nfor x, y in prod:\n    if x != y and (y, x) not in pairs:\n        pairs.add((x, y))\n</code></pre>\n"}, {"tags": ["c#", "python", "csv", "character-encoding"], "comments": [{"owner": {"reputation": 1682, "user_id": 955159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7158a0ca2b289674fdb56326e3b17540?s=128&d=identicon&r=PG", "display_name": "Day Davis Waterbury", "link": "https://stackoverflow.com/users/955159/day-davis-waterbury"}, "edited": false, "score": 1, "creation_date": 1424293570, "post_id": 28593814, "comment_id": 45494364, "body": "You may want to read this while you wait for an answer: <a href=\"http://stackoverflow.com/questions/191359/how-to-convert-a-file-to-utf-8-in-python\" title=\"how to convert a file to utf 8 in python\">stackoverflow.com/questions/191359/&hellip;</a>"}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "reply_to_user": {"reputation": 1682, "user_id": 955159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7158a0ca2b289674fdb56326e3b17540?s=128&d=identicon&r=PG", "display_name": "Day Davis Waterbury", "link": "https://stackoverflow.com/users/955159/day-davis-waterbury"}, "edited": false, "score": 0, "creation_date": 1424293726, "post_id": 28593814, "comment_id": 45494463, "body": "I appreciate your comment, however I already tried some encoding/decoding steps but they all produced unwanted results. I&#39;m asking this question to be able to avoid these steps and just open the textfile as is..."}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "reply_to_user": {"reputation": 1682, "user_id": 955159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7158a0ca2b289674fdb56326e3b17540?s=128&d=identicon&r=PG", "display_name": "Day Davis Waterbury", "link": "https://stackoverflow.com/users/955159/day-davis-waterbury"}, "edited": false, "score": 0, "creation_date": 1424294275, "post_id": 28593814, "comment_id": 45494747, "body": "The link you posted also involves creating an entirely new file. I want to use the file I deliver..."}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "reply_to_user": {"reputation": 1682, "user_id": 955159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7158a0ca2b289674fdb56326e3b17540?s=128&d=identicon&r=PG", "display_name": "Day Davis Waterbury", "link": "https://stackoverflow.com/users/955159/day-davis-waterbury"}, "edited": false, "score": 0, "creation_date": 1424294852, "post_id": 28593814, "comment_id": 45495069, "body": "Ok I managed to transcode the file from <code>ISO-8859-2</code> to <code>UTF8</code>. However then it breaks again over some other character... I then tried <code>ISO-8859-1</code>  as source encoding and that seems to work!. But how the h*ll am I supposed to know this without trial and error?"}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "reply_to_user": {"reputation": 1682, "user_id": 955159, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7158a0ca2b289674fdb56326e3b17540?s=128&d=identicon&r=PG", "display_name": "Day Davis Waterbury", "link": "https://stackoverflow.com/users/955159/day-davis-waterbury"}, "edited": false, "score": 0, "creation_date": 1424295049, "post_id": 28593814, "comment_id": 45495189, "body": "And now I&#39;m able to print the CSV to screen, but now Pandas can&#39;t read the file due to incorrect encoding... aarggg"}], "answers": [{"comments": [{"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424293576, "post_id": 28593883, "comment_id": 45494367, "body": "I think the encoding is <code>UTF-8</code> as does Notepad++. I only stated that &#39;chardet&#39; says it&#39;s <code>iso-8859-2</code> as I thought it might be of influence..."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1424293637, "post_id": 28593883, "comment_id": 45494410, "body": "Did you <b>try</b> ISO-8859-2? Why include that information in your question if you&#39;re not going to use it?"}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424293799, "post_id": 28593883, "comment_id": 45494508, "body": "Yes I tried it, along with some other encodings like <code>WINDOWS-1252</code> and <code>Unicode</code> (the latter didn&#39;t exist btw)"}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 1, "creation_date": 1424293818, "post_id": 28593883, "comment_id": 45494520, "body": "In any event, it seems the problem is with the input file, not with Python. It may be more productive to inquire into the C# code that produces it."}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424293895, "post_id": 28593883, "comment_id": 45494553, "body": "I posted the relevant C# code. It&#39;s just writing it as UTF8 and also Notepad++ identifies (and displays) the file as UTF8."}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": true, "score": 1, "last_activity_date": 1424293479, "creation_date": 1424293479, "answer_id": 28593883, "question_id": 28593814, "link": "https://stackoverflow.com/questions/28593814/cant-open-textfile-csv-in-python-3-3/28593883#28593883", "title": "Can&#39;t open textfile (CSV) in Python 3.3", "body": "<p>If the encoding is ISO-8859-2, try telling Python to open it with that. E.g. <code>open('filename', encoding='iso-8859-2')</code>.</p>\n"}], "owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 28593883, "answer_count": 1, "score": 0, "last_activity_date": 1424301991, "creation_date": 1424293211, "last_edit_date": 1495540610, "question_id": 28593814, "link": "https://stackoverflow.com/questions/28593814/cant-open-textfile-csv-in-python-3-3", "title": "Can&#39;t open textfile (CSV) in Python 3.3", "body": "<p>I'm stuck and I feel stupid. </p>\n\n<p>I've got a database with Tweets which I'm exporting to a .CSV using .NET. I'd like to analyze this data using Python using Pandas and NLTK. However I'm totally stuck on the first step, which is: 'reading the CSV in Python'. This led to this soup of problems: <a href=\"https://stackoverflow.com/questions/28592765/python-open-csv-file-with-supposedly-mixed-encodings\">Python open CSV file with supposedly mixed encodings?</a></p>\n\n<p>It can't be so hard to just open a file and print the text if I'm the one creating the textfile?</p>\n\n<p>I'm using the following <code>C#</code> code to generate the CSV file (supposedly in <code>UTF8</code>?)</p>\n\n<pre>\nusing (FileStream fs = new FileStream(fullFileName, FileMode.Append, FileAccess.Write))\nusing (StreamWriter sw = new StreamWriter(fs, Encoding.UTF8))\n</pre>\n\n<p>According to <strong><a href=\"https://pypi.python.org/pypi/chardet\" rel=\"nofollow noreferrer\">chardet</a></strong> the encoding is: <code>ISO-8859-2</code>.</p>\n\n<p>A little hint in the right direction would be greatly appreciated... </p>\n"}, {"tags": ["python", "list", "dictionary", "beautifulsoup", "missing-data"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1424293212, "post_id": 28593777, "comment_id": 45494146, "body": "Do you want to create your dictionary by <code>degree</code> and <code>major</code>?"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424293402, "post_id": 28593777, "comment_id": 45494263, "body": "Padraic, I would not know which value to replace ex-ante."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424293489, "post_id": 28593777, "comment_id": 45494320, "body": "Kasra, the dictionary will include the degree and major lists as values."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424293604, "post_id": 28593777, "comment_id": 45494391, "body": "Kasra, degree and major will feed the values of the dict (first value of degree with first value of major, and so on). When a value is missing the pair is incomplete."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1424293736, "post_id": 28593777, "comment_id": 45494468, "body": "@Diego so whats the keys of your dict?"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424296233, "post_id": 28593777, "comment_id": 45495840, "body": "Thank you Padraic, I am parsing a very long html document. Could you elaborate on what kind of code you would use?"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424543168, "post_id": 28593777, "comment_id": 45596512, "body": "@PadraicCunningham, thank you so much for the edition of the question."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424543470, "post_id": 28593777, "comment_id": 45596621, "body": "@PadraicCunningham since I am new to SO, I noticed that you downvoted  and unupvoted me, is there anything I did wrong? Thank you for clarifying this."}], "answers": [{"comments": [{"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "reply_to_user": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424296386, "post_id": 28593848, "comment_id": 45495923, "body": "I would need to see the structure of the source HTML; parsing code is always heavily dependent on that. Also, I assume that the desired mapping from degree to major is 1:1."}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": false, "score": 0, "last_activity_date": 1424293340, "creation_date": 1424293340, "answer_id": 28593848, "question_id": 28593777, "link": "https://stackoverflow.com/questions/28593777/how-to-fill-a-zip-uneven-length-lists/28593848#28593848", "title": "How to fill a zip uneven length lists?", "body": "<p>If the <code>degree</code> and <code>major</code> values are associated with each other in the source HTML, it's probably better to find the next highest DOM element that contains both for each iteration, then iterate over those and fill both at once in the same loop.</p>\n"}, {"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424293586, "post_id": 28593863, "comment_id": 45494379, "body": "@PadraicCunningham there is no need to match i suggest this based on OP&#39;s request"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424296005, "post_id": 28593863, "comment_id": 45495724, "body": "Thank you Kasra, it outputs major as key and degree as value. I would need both to be the values of a dict."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424306025, "post_id": 28593863, "comment_id": 45499807, "body": "Kasra, thanks for the input. Playing with itertools I found a solution (posted)."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424336195, "post_id": 28593863, "comment_id": 45509472, "body": "@Diego welcome so if you find this answer helpful you can tell this to community by voting!"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "edited": false, "score": 0, "creation_date": 1424354263, "post_id": 28593863, "comment_id": 45520324, "body": "I voted your answer and also posted the exact code that resolved my problem. Thanks again!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 0, "last_activity_date": 1424293398, "creation_date": 1424293398, "answer_id": 28593863, "question_id": 28593777, "link": "https://stackoverflow.com/questions/28593777/how-to-fill-a-zip-uneven-length-lists/28593863#28593863", "title": "How to fill a zip uneven length lists?", "body": "<p>You can use <code>itertools.izip_longest</code> for create your dictionary , for example :</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import izip_longest\n&gt;&gt;&gt; degree=[1,2,3]\n&gt;&gt;&gt; major=['a','b','c','d']\n&gt;&gt;&gt; dict(izip_longest(major,degree))\n{'a': 1, 'c': 3, 'b': 2, 'd': None}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424336931, "post_id": 28596477, "comment_id": 45509842, "body": "@Diego.you do realise that your data will have no relation and will be zipped in an arbitrary order?"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424605346, "post_id": 28596477, "comment_id": 45610859, "body": "@PadraicCunningham, the final code works in the desired order for me. I added institution as the key in the dictionary. Here it is so you can doublecheck it. Am I missing anything?  data = {x : [y, z] for x,y,z in zip( inst, degree, major)} for i in itertools.izip_longest(inst, degree, major): print i print data"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424605923, "post_id": 28596477, "comment_id": 45610988, "body": "My point is you say there is no relation between the elements  so I don&#39;t see how using set.difference fits into your question. If there are no common elements the difference would be the whole list"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424609544, "post_id": 28596477, "comment_id": 45611861, "body": "I understand your point which is absolutely correct. I am not using set.difference. My final code is the one posted in this answer (and seems to be working fine). Do you see anything wrong with it?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424610163, "post_id": 28596477, "comment_id": 45612048, "body": "so inst and major  have a relationship in the same order but degree and inst have no relationship is that correct?"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424612539, "post_id": 28596477, "comment_id": 45612739, "body": "There is a relationship between inst, degree and major. There is a tuple for each education experience. Please see the new updated code above and tell me what you think. Thanks @PadraicCunningham for your patience with me."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424614074, "post_id": 28596477, "comment_id": 45613168, "body": "@PadraicCunningham, since I am new to SO, I might not understand the etiquette very well. Should I click on this answer now as the correct one or leave it like it is? Thanks."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424614920, "post_id": 28596477, "comment_id": 45613435, "body": "yes you can accept your own answer. My point is that if there is a relationship then zipping and filling missing values with None will mean you don&#39;t necessarily zip the correct elements together, the None&#39;s get added to the end when you exhaust the shorter list. so if element 3 from one list has no match in the second list, from there on the values will not align.  The set.difference seemed like some attempt to align values. When you ask a question adding a small  input and expected output sample will help make your intent clear which will help others experiencing a similar problem"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424615086, "post_id": 28596477, "comment_id": 45613484, "body": "It would be very easy do all you want using just beautifulSoup in a single pass over the element that major and degree appear."}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424615668, "post_id": 28596477, "comment_id": 45613637, "body": "I understand your point now. I have been trying to find an esier and more succint solution but unfortunately I could not. Thanks a lot @PadraicCunningham !"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424615698, "post_id": 28596477, "comment_id": 45613649, "body": "if you can share the url I will show you how. If you just want to zip two  uneven length lists together and don&#39;t care about relationships you should probably edit your title to reflect this"}, {"owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424615851, "post_id": 28596477, "comment_id": 45613699, "body": "Thank you @PadraicCunningham for the orientation about adding a small input and expected output sample."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424615985, "post_id": 28596477, "comment_id": 45613740, "body": "No worries, as the saying goes <i>a picture paints a thousand words</i>, seeing exactly what is coming in and what it should look  like after processing often clears up a lot of ambiguity."}], "tags": [], "owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "is_accepted": true, "score": 0, "last_activity_date": 1498837707, "last_edit_date": 1498837707, "creation_date": 1424304852, "answer_id": 28596477, "question_id": 28593777, "link": "https://stackoverflow.com/questions/28593777/how-to-fill-a-zip-uneven-length-lists/28596477#28596477", "title": "How to fill a zip uneven length lists?", "body": "<p>Thank you all so much for your inputs and patience.\nBased on the suggestion made by Kasra (which I voted) I found this solution (I added institution as the key of the dictionary:</p>\n\n<pre><code>educ_list = []\ndata = {x : [y, z] for x,y,z in zip(inst, degree, major)}\nfor i in itertools.izip_longest(inst, degree, major):\n    educ_list.append(i)\nprint educ_list\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 4579980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/41eea43cded4dd1751ba5be586f817e4?s=128&d=identicon&r=PG&f=1", "display_name": "Diego", "link": "https://stackoverflow.com/users/4579980/diego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 28596477, "answer_count": 3, "score": 1, "last_activity_date": 1498837707, "creation_date": 1424293046, "last_edit_date": 1424617381, "question_id": 28593777, "link": "https://stackoverflow.com/questions/28593777/how-to-fill-a-zip-uneven-length-lists", "title": "How to fill a zip uneven length lists?", "body": "<p>I am parsing a file with Beautifulsoup and building 2 lists as  values in a dictionary.</p>\n\n<pre><code>degree = []\nfor h5 in soup.find_all(\"info\", \"degree\"):\n    degree.append(h5.text.encode(\"utf-8\"))\n\nprint degree\n\nmajor = []\nfor h5 in soup.find_all(\"info\", \"major\"):\n    major.append(h5.text.encode(\"utf-8\"))\n\nprint major\n</code></pre>\n\n<p>Sometimes the length of each list is different (a value is missing).\nHow do I make sure that I detect this before building my dictionary so I can add a <code>\"None\"</code> value?</p>\n\n<p>I tried using:</p>\n\n<pre><code>for k in set(major).difference(degree):\n    degree[k] = \"None\"\n</code></pre>\n\n<p>But it did not work ok.</p>\n\n<pre><code>TypeError: list indices must be integers, not str\n</code></pre>\n\n<p>I hope that my question is clear enough.\nThanks.</p>\n"}, {"tags": ["python", "sublimetext"], "comments": [{"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1424293018, "post_id": 28593711, "comment_id": 45494054, "body": "<code>ipython</code> makes a nice development environment and it will run the text editor of your choice."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1424293161, "post_id": 28593711, "comment_id": 45494122, "body": "You can run the code right in Sublime."}, {"owner": {"reputation": 191, "user_id": 2856783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73bf6880deb8b70c0331039c605057a9?s=128&d=identicon&r=PG", "display_name": "Kecoey", "link": "https://stackoverflow.com/users/2856783/kecoey"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1424293294, "post_id": 28593711, "comment_id": 45494193, "body": "@MalikBrahimi How do I do that?"}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1424293639, "post_id": 28593796, "comment_id": 45494413, "body": "I don&#39;t think IPython has support for native desktop apps when running in the browser, like a Pygame program for example."}], "tags": [], "owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "is_accepted": false, "score": 3, "last_activity_date": 1424293129, "creation_date": 1424293129, "answer_id": 28593796, "question_id": 28593711, "link": "https://stackoverflow.com/questions/28593711/using-python-shell-with-any-text-editor/28593796#28593796", "title": "Using Python Shell with any text editor", "body": "<p>I suggest you check out <a href=\"http://ipython.org/\" rel=\"nofollow\">IPython</a>. You can run it through your terminal or through an IPython Notebook in your browser.</p>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 628534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEaUA.png?s=128&g=1", "display_name": "diversemix", "link": "https://stackoverflow.com/users/628534/diversemix"}, "is_accepted": true, "score": 4, "last_activity_date": 1424293303, "creation_date": 1424293303, "answer_id": 28593838, "question_id": 28593711, "link": "https://stackoverflow.com/questions/28593711/using-python-shell-with-any-text-editor/28593838#28593838", "title": "Using Python Shell with any text editor", "body": "<p>You can use <code>ctrl-b</code> to run your python in sublime. If you want to use a different interpreter you can customise under <code>Tools</code> -> <code>Build System</code></p>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1424293403, "post_id": 28593841, "comment_id": 45494264, "body": "The OP is already asking about Sublime Text, so I&#39;m not sure how the &quot;Try sublime text&quot; fits. Otherwise, though, this is a good answer."}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1424293450, "post_id": 28593841, "comment_id": 45494291, "body": "Yeah, I copied this from a previous answer of mine."}, {"owner": {"reputation": 191, "user_id": 2856783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73bf6880deb8b70c0331039c605057a9?s=128&d=identicon&r=PG", "display_name": "Kecoey", "link": "https://stackoverflow.com/users/2856783/kecoey"}, "edited": false, "score": 0, "creation_date": 1424295282, "post_id": 28593841, "comment_id": 45495338, "body": "I got an error trying to use SublimeREPL so I&#39;m giving up. Thanks though"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 3, "last_activity_date": 1424293311, "creation_date": 1424293311, "answer_id": 28593841, "question_id": 28593711, "link": "https://stackoverflow.com/questions/28593711/using-python-shell-with-any-text-editor/28593841#28593841", "title": "Using Python Shell with any text editor", "body": "<p>Stick with Sublime text. It's a popular text editor with syntax highlighting for several different programming languages. Here's what you need to do:</p>\n\n<ol>\n<li>Press Ctrl + Shift + P to bring up command palette and enter \"python\".</li>\n<li>Choose the option that says something like \"Set syntax to Python\".</li>\n<li>Enter Python code then Ctrl + Shift + B to build the project.</li>\n<li>Code will run below in another view(you will probably be able to move it to the side).</li>\n</ol>\n\n<p>This is the standard procedure for a python setup in sublime text, but you may need to install\nSublimeREPL for python in order to get user input. Just give it a Google search.</p>\n"}], "owner": {"reputation": 191, "user_id": 2856783, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73bf6880deb8b70c0331039c605057a9?s=128&d=identicon&r=PG", "display_name": "Kecoey", "link": "https://stackoverflow.com/users/2856783/kecoey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 28593838, "answer_count": 3, "score": 1, "last_activity_date": 1424293311, "creation_date": 1424292819, "question_id": 28593711, "link": "https://stackoverflow.com/questions/28593711/using-python-shell-with-any-text-editor", "title": "Using Python Shell with any text editor", "body": "<p>I use Sublime Text and am using the terminal to run my code.</p>\n\n<p>I would prefer to use the Python Shell to run my code, as it has color and is not so hard to look at.</p>\n\n<p>Is there any easy way to do this other than saving then opening in IDLE?</p>\n"}, {"tags": ["python", "google-admin-sdk"], "answers": [{"tags": [], "owner": {"reputation": 12939, "user_id": 1503886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qbzlC.png?s=128&g=1", "display_name": "Jay Lee", "link": "https://stackoverflow.com/users/1503886/jay-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1424299624, "creation_date": 1424299624, "answer_id": 28595440, "question_id": 28593705, "link": "https://stackoverflow.com/questions/28593705/trying-to-change-a-username-in-python-google-admin-sdk/28595440#28595440", "title": "Trying to change a username in Python Google Admin SDK", "body": "<p>Add:</p>\n\n<pre><code>.execute()\n</code></pre>\n\n<p>To the end of the 2nd line to actually execute the api operation.</p>\n"}], "owner": {"reputation": 1, "user_id": 4581368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1498313471f61e3340dd9830418af07f?s=128&d=identicon&r=PG&f=1", "display_name": "tmgoerger", "link": "https://stackoverflow.com/users/4581368/tmgoerger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424299624, "creation_date": 1424292798, "last_edit_date": 1424294438, "question_id": 28593705, "link": "https://stackoverflow.com/questions/28593705/trying-to-change-a-username-in-python-google-admin-sdk", "title": "Trying to change a username in Python Google Admin SDK", "body": "<p>I'm trying to change a username using the Admin SDK. I'm trying the following code to update this, using a dict object to store the new info, and using patch to update:</p>\n\n<pre><code>userinfo['primaryEmail'] = D['new_user'] + '@' + D['domain']\n\nappsservice.users().patch(userKey = userEmail, body=userinfo)\n</code></pre>\n\n<p>It doesn't seem to be working, when I look at the admin console. The original username remains unchanged. I'm just wondering if I'm using the correct method. Should I be updating a different variable than <code>primaryEmail</code> or without using the domain affiliation? Seems like I'm just missing something rather obvious.</p>\n\n<p>Thanks,</p>\n\n<p>Tom</p>\n"}, {"tags": ["python", "scikit-learn", "svm", "prediction"], "comments": [{"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1424318278, "post_id": 28593684, "comment_id": 45503003, "body": "Have a look at this answer: <a href=\"http://stackoverflow.com/questions/28503932/calculating-decision-function-of-svm-manually?noredirect=1#comment45487831_28503932\" title=\"calculating decision function of svm manually\">stackoverflow.com/questions/28503932/&hellip;</a>"}, {"owner": {"reputation": 1116, "user_id": 3637833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43197f96aba28a5d1331c6bf68d1e4f3?s=128&d=identicon&r=PG&f=1", "display_name": "learn2day", "link": "https://stackoverflow.com/users/3637833/learn2day"}, "reply_to_user": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1424357349, "post_id": 28593684, "comment_id": 45522435, "body": "Thank you @AndreasMueller, but that post is about a Classifier, and I&#39;m talking about Regression here, is it the same calculation?"}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1424457491, "post_id": 28593684, "comment_id": 45571631, "body": "yes, it is. Only the loss is different."}, {"owner": {"reputation": 1116, "user_id": 3637833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43197f96aba28a5d1331c6bf68d1e4f3?s=128&d=identicon&r=PG&f=1", "display_name": "learn2day", "link": "https://stackoverflow.com/users/3637833/learn2day"}, "reply_to_user": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1425587379, "post_id": 28593684, "comment_id": 46035462, "body": "Hi, thank you @AndreasMueller again for your help. I copied the vectorized code in the post you told me and was able to replicate an example of Classification, but failed for Regression. (the same code in both but <code>clf = svm.SVR()</code> instead of <code>svm.SVC()</code>)  I&#39;m using the vectorized method from @user1182556 of the post you linked.   I would really appreciate help with this, thank you!!"}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1425596624, "post_id": 28593684, "comment_id": 46039996, "body": "What is the error / problem?"}, {"owner": {"reputation": 1116, "user_id": 3637833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43197f96aba28a5d1331c6bf68d1e4f3?s=128&d=identicon&r=PG&f=1", "display_name": "learn2day", "link": "https://stackoverflow.com/users/3637833/learn2day"}, "reply_to_user": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1425656657, "post_id": 28593684, "comment_id": 46063953, "body": "@AndreasMueller I&#39;m getting different results comparing <code>clf.decision_function(Xtest)</code> with <code>dec_func_vec</code>"}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1425850395, "post_id": 28593684, "comment_id": 46120010, "body": "Feel free to open an issue. There should be a test reproducing the predict function."}, {"owner": {"reputation": 801, "user_id": 4312519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e5bd3a08c59d8466cff67efa6a19595d?s=128&d=identicon&r=PG&f=1", "display_name": "Riley", "link": "https://stackoverflow.com/users/4312519/riley"}, "edited": false, "score": 0, "creation_date": 1534487504, "post_id": 28593684, "comment_id": 90730042, "body": "How do you know if sup_vecs and Xtest have the same dimensions?"}], "answers": [{"tags": [], "owner": {"reputation": 1116, "user_id": 3637833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43197f96aba28a5d1331c6bf68d1e4f3?s=128&d=identicon&r=PG&f=1", "display_name": "learn2day", "link": "https://stackoverflow.com/users/3637833/learn2day"}, "is_accepted": true, "score": 1, "last_activity_date": 1426517575, "creation_date": 1426517575, "answer_id": 29079893, "question_id": 28593684, "link": "https://stackoverflow.com/questions/28593684/replication-of-scikit-svm-srv-predictx/29079893#29079893", "title": "Replication of scikit.svm.SRV.predict(X)", "body": "<p>Thanks to the contribution of <a href=\"https://github.com/Barmaley-exe\" rel=\"nofollow\">B@rmaley.exe</a>, I found the way to replicate SVM manually. I had to replace</p>\n\n<pre><code>    dec_func_vec = -1 * (dual_coefs.dot(np.exp(-gamma*(norm2**2))) - intercept)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    dec_func_vec = (dual_coefs.dot(np.exp(-gamma*(norm2**2))) + intercept)\n</code></pre>\n\n<p>So, the full vectorized method is:</p>\n\n<pre><code>    # Vectorized method\n    norm2 = np.array([np.linalg.norm(diff[n, :]) for n in range(np.shape(sup_vecs)[0])])\n    dec_func_vec = -1 * (dual_coefs.dot(np.exp(-gamma*(norm2**2))) - intercept)\n</code></pre>\n"}], "owner": {"reputation": 1116, "user_id": 3637833, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43197f96aba28a5d1331c6bf68d1e4f3?s=128&d=identicon&r=PG&f=1", "display_name": "learn2day", "link": "https://stackoverflow.com/users/3637833/learn2day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 1, "accepted_answer_id": 29079893, "answer_count": 1, "score": 1, "last_activity_date": 1426517575, "creation_date": 1424292742, "last_edit_date": 1495542167, "question_id": 28593684, "link": "https://stackoverflow.com/questions/28593684/replication-of-scikit-svm-srv-predictx", "title": "Replication of scikit.svm.SRV.predict(X)", "body": "<p>I'm trying to replicate scikit-learn's svm.svr.predict(X) and don't know how to do it correctly.</p>\n\n<p>I want to do is, because after training the SVM with an RBF kernel I would like to implement the prediction on another programming language (Java) and I would need to be able to export the model's parameters to be able to perform predictions of unknown cases.</p>\n\n<p>On scikit's documentation page, I see that there are 'support_ and 'support_vectors_ attributes, but don't understand how to replicate the .predict(X) method.</p>\n\n<p>A solution of the form y_pred = f(X,svm.svr.support_, svm.svr.support_vectors_,etc,...) is what I am looking for.</p>\n\n<p>Thank you in advance!</p>\n\n<p><strong>Edit:</strong>\nIts SVM for REGRESSION, not CLASSIFICATION!</p>\n\n<p><strong>Edit:</strong>\nThis is the code I am trying now, from <a href=\"https://stackoverflow.com/questions/28503932/calculating-decision-function-of-svm-manually?noredirect=1#comment45487831_28503932\">Calculating decision function of SVM manually</a> with no success...</p>\n\n<pre><code>from sklearn import svm\nimport math\nimport numpy as np\n\nX = [[0, 0], [1, 1], [1,2], [1,2]]\ny = [0, 1, 1, 1]\nclf = svm.SVR(gamma=1e-3)\nclf.fit(X, y)\nXtest = [0,0]\nprint 'clf.decision_function:'\nprint clf.decision_function(Xtest)\n\nsup_vecs = clf.support_vectors_\ndual_coefs = clf.dual_coef_\ngamma = clf.gamma\nintercept = clf.intercept_\n\ndiff = sup_vecs - Xtest\n\n# Vectorized method\nnorm2 = np.array([np.linalg.norm(diff[n, :]) for n in range(np.shape(sup_vecs)[0])])\ndec_func_vec = -1 * (dual_coefs.dot(np.exp(-gamma*(norm2**2))) - intercept)\nprint 'decision_function replication:'\nprint dec_func_vec\n</code></pre>\n\n<p>The results I'm getting are different for both methods, WHY??</p>\n\n<pre><code>clf.decision_function:\n[[ 0.89500898]]\ndecision_function replication:\n[ 0.89900498]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424292831, "post_id": 28593638, "comment_id": 45493942, "body": "Is this your actual code? I&#39;d expect <code>result.append()</code> to crash with <code>TypeError: append() takes exactly one argument (0 given)</code>."}, {"owner": {"reputation": 599, "user_id": 2326132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396bad40c87c5fffe8ba3e522103d8?s=128&d=identicon&r=PG", "display_name": "Ryan O&#39;Donnell", "link": "https://stackoverflow.com/users/2326132/ryan-odonnell"}, "edited": false, "score": 0, "creation_date": 1424292836, "post_id": 28593638, "comment_id": 45493947, "body": "What&#39;s your end goal, or are you doing this just to try things out? f.readline() correctly reads one line of the file."}, {"owner": {"reputation": 129, "user_id": 4556761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c88b13976dc666fe33402ea7032ca15?s=128&d=identicon&r=PG&f=1", "display_name": "Hdez", "link": "https://stackoverflow.com/users/4556761/hdez"}, "edited": false, "score": 0, "creation_date": 1424293124, "post_id": 28593638, "comment_id": 45494098, "body": "I update the file. Thanks"}, {"owner": {"reputation": 129, "user_id": 4556761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c88b13976dc666fe33402ea7032ca15?s=128&d=identicon&r=PG&f=1", "display_name": "Hdez", "link": "https://stackoverflow.com/users/4556761/hdez"}, "reply_to_user": {"reputation": 599, "user_id": 2326132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396bad40c87c5fffe8ba3e522103d8?s=128&d=identicon&r=PG", "display_name": "Ryan O&#39;Donnell", "link": "https://stackoverflow.com/users/2326132/ryan-odonnell"}, "edited": false, "score": 0, "creation_date": 1424293175, "post_id": 28593638, "comment_id": 45494132, "body": "@RyanO&#39;Donnell my end goal is: take the values x, y, of the line 1 and use them in other function, when this function is done, return the line 2 and take other values for do it again, and stop when my lenght of my file is done."}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1424293303, "post_id": 28593638, "comment_id": 45494201, "body": "Just skip the <code>lst =</code> and go right to <code>for t in f.readlines():</code>"}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1424293359, "post_id": 28593638, "comment_id": 45494239, "body": "Loop directly on the file object, that won&#39;t read all the lines in memory."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 4556761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c88b13976dc666fe33402ea7032ca15?s=128&d=identicon&r=PG&f=1", "display_name": "Hdez", "link": "https://stackoverflow.com/users/4556761/hdez"}, "edited": false, "score": 0, "creation_date": 1424292967, "post_id": 28593690, "comment_id": 45494027, "body": "Thanks, this option print all the tuples without (), example tuple (1,1) of the line 1, see like this 1 1 . it&#39;s rigth, but print all the tuples of the file, so...I need just print one line for can use this values in a function, and then when the function is done, return to line 2 and do it again. Can you give me some spoor? please"}], "tags": [], "owner": {"reputation": 31116, "user_id": 2670792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jjhe7.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/2670792/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1424292762, "creation_date": 1424292762, "answer_id": 28593690, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python/28593690#28593690", "title": "How can I iterate tuples in this code python?", "body": "<p>You are close, but it seems that you got confused. If I understood the question, it would be:</p>\n\n<pre><code>for x, y in lst:\n   print x, y\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 628534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEaUA.png?s=128&g=1", "display_name": "diversemix", "link": "https://stackoverflow.com/users/628534/diversemix"}, "is_accepted": false, "score": 0, "last_activity_date": 1424292867, "creation_date": 1424292867, "answer_id": 28593723, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python/28593723#28593723", "title": "How can I iterate tuples in this code python?", "body": "<p>Your variable <code>lst</code> is an array so if you want line one you can just return lst[0].</p>\n\n<p>So the trick is to store <code>lst</code> and write a function to return lst[line-1]. Something like this:</p>\n\n<pre><code>def get_at_line(lst, line):\n   # do some validation here\n   return lst[line-1]\n\nx, y = get_at_line(lst, 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "is_accepted": false, "score": 0, "last_activity_date": 1424293411, "creation_date": 1424293411, "answer_id": 28593866, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python/28593866#28593866", "title": "How can I iterate tuples in this code python?", "body": "<p>Just replace</p>\n\n<pre><code>    lst = [ast.literal_eval(line) for line in f.readlines()]\n\n for t in lst:\n</code></pre>\n\n<p>with</p>\n\n<pre><code> for t in f.readlines():\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": false, "score": 1, "last_activity_date": 1424293537, "creation_date": 1424293537, "answer_id": 28593903, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python/28593903#28593903", "title": "How can I iterate tuples in this code python?", "body": "<blockquote>\n  <p>my end goal is: take the values x, y, of the line 1 and use them in other function, when this function is done, return the line 2 and take other values for do it again, and stop when my lenght of my file is done.</p>\n</blockquote>\n\n<p>Sounds like you want a function that iteratively <code>yield</code>s values from a file. Sample implementation:</p>\n\n<pre><code>import ast\n\ndef readfile():\n    with open('file.log', 'r') as f:\n        for line in f:\n            yield ast.literal_eval(line)\n\ndef do_something(a,b):\n    print \"I am doing something with {} and {}\".format(a,b)\n\nfor x,y in readfile():\n    do_something(x,y)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>I am doing something with 1 and 4\nI am doing something with 569 and 39\nI am doing something with 49 and 69\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1813, "user_id": 3011648, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/3xHwR.jpg?s=128&g=1", "display_name": "hello_there_andy", "link": "https://stackoverflow.com/users/3011648/hello-there-andy"}, "is_accepted": true, "score": 0, "last_activity_date": 1424315147, "last_edit_date": 1424315147, "creation_date": 1424293869, "answer_id": 28593980, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python/28593980#28593980", "title": "How can I iterate tuples in this code python?", "body": "<p>Here's a solution that buffers your file line-by-line. Buffering saves RAM; useful if the file is huge.</p>\n\n<p>I've adapted your script to:</p>\n\n<ol>\n<li>read line-by-line</li>\n<li>print one line ahead (you can remove that functionality if you wish),</li>\n<li>removed the need to import <code>ast</code>:</li>\n</ol>\n\n<p><strong>Output</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/0qdZi.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>#######################\n# define the function #\n#######################\n\ndef readfile():\n\n    \"\"\" Reads a file consisting of a list of tuples (x, y) line-by-line. Prints x and y of the current line and the next line as reading ensues. \"\"\"\n\n    file_in = open(\"./tuples.txt\",\"r\")  # read the file in, I assume the script is run in the same directory as the tuples list\n\n    result = []\n\n    while True:\n\n        line      = file_in.readline()  # read the file line-by-line\n        go_back   = file_in.tell()      # \"saves\" the current line so we can step back\n        next_line = file_in.readline()  # reads the line ahead\n\n        x,y  = str(line).replace(\"(\",\"\").replace(\")\",\"\").replace(\" \",\"\").rstrip().lstrip().split(\",\")\n\n        # Have we reached the end of the file?\n        try: \n            # No...\n            x_next, y_next = str(next_line).replace(\"(\",\"\").replace(\")\",\"\").replace(\" \",\"\").rstrip().lstrip().split(\",\")\n            result.append([float(x),float(y)])\n            print \"current line: \"+str(x)+\" \"+str(y)+\" ..next line: \"+str(x_next)+\" \"+str(y_next)\n\n        except ValueError:\n            # Yes...\n            print \"current line: \"+str(x)+\" \"+str(y)+\" ..next line: \"+\"NaN NaN\"\n            break # break once we read a \"next line\" that does not exist, i.e. number of lines in file + 1\n\n        line = file_in.seek(go_back) # go back to previous line\n\n    return result\n\n####################\n# run the function #\n####################\n\nresult = readfile()\n\nprint \"\\nresult: \"+str(result)\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 4556761, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5c88b13976dc666fe33402ea7032ca15?s=128&d=identicon&r=PG&f=1", "display_name": "Hdez", "link": "https://stackoverflow.com/users/4556761/hdez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 28593980, "answer_count": 5, "score": 1, "last_activity_date": 1424315147, "creation_date": 1424292586, "last_edit_date": 1424293106, "question_id": 28593638, "link": "https://stackoverflow.com/questions/28593638/how-can-i-iterate-tuples-in-this-code-python", "title": "How can I iterate tuples in this code python?", "body": "<p>I have a file with a list of tuples like this: </p>\n\n<p>(1, 4)</p>\n\n<p>(569, 39)</p>\n\n<p>(49, 69)</p>\n\n<p>.\n.\n.</p>\n\n<p>I have this CODE, but read it all the lines in the same time, I want read just only line, for example line 1, and have the values x,y for set them in a function, then, return line 2 and take the values x, y, and do it again, and stop when the lenght of my file is done. </p>\n\n<p>What can I change in the code for return the next line?</p>\n\n<pre><code>import ast\n\ndef readfile():\n     filename = open('file.log')\n     result=[]\n\n\n     with open('file.log', 'r') as f:\n          lst = [ast.literal_eval(line) for line in f.readlines()]\n\n     for t in lst:\n          x, y = t\n          for t in [(x,y) for x in t[0:] for y in t[:1]]:\n               print x, y\n               value = (x, y)\n\n               result.append(value)\n\n     return result[1:-1]\n\nprint readfile()\n</code></pre>\n"}, {"tags": ["python", "regex", "python-2.7", "parsing"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1424292404, "post_id": 28593502, "comment_id": 45493713, "body": "Please read <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1424292533, "post_id": 28593502, "comment_id": 45493785, "body": "Thanks for the feedback, I provide a baseline and an explanation... I dont get what is wrong."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1424293106, "post_id": 28593502, "comment_id": 45494089, "body": "What are the underscores?"}, {"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 2, "creation_date": 1424293640, "post_id": 28593502, "comment_id": 45494414, "body": "A <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a> is helpful because a small example is easier to read and understand. The example here is long and difficult to understand. In this case, the first 40 lines of the example string could be omitted along with lines between (I think) 70 and 110. You might also want to try <a href=\"https://www.debuggex.com/\" rel=\"nofollow noreferrer\">Debuggex</a>."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424295005, "post_id": 28593502, "comment_id": 45495165, "body": "@CommuSoft the underscores are free characters (the underscores are just strings I would not want to match) thanks."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424295067, "post_id": 28593502, "comment_id": 45495202, "body": "I edited guys. Thanks"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1424295098, "post_id": 28593502, "comment_id": 45495220, "body": "So you basically only want the word just before the <code>RN&#47;PP&#47;VM</code> stuff?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424295191, "post_id": 28593502, "comment_id": 45495278, "body": "@CommuSoft yes, but they need to be together one followed by one in this order: <code>RN&#47;PP&#47;VM</code>"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1424295225, "post_id": 28593502, "comment_id": 45495299, "body": "@newWithPython: is <code>ir VMM03S0</code> than a match?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424295505, "post_id": 28593502, "comment_id": 45495450, "body": "@CommuSoft yes VMM03S0 would match but it needs to be before a PP and this PP should be before a  RN. In this order <code>RN</code> <code>PP</code> <code>VM</code>"}, {"owner": {"reputation": 13596, "user_id": 551045, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d3cf04e39bcaab5592938990ea158d51?s=128&d=identicon&r=PG", "display_name": "RedX", "link": "https://stackoverflow.com/users/551045/redx"}, "edited": false, "score": 0, "creation_date": 1424296900, "post_id": 28593502, "comment_id": 45496198, "body": "Must you use a regex? A simple parser sounds easier to me..."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 13596, "user_id": 551045, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d3cf04e39bcaab5592938990ea158d51?s=128&d=identicon&r=PG", "display_name": "RedX", "link": "https://stackoverflow.com/users/551045/redx"}, "edited": false, "score": 0, "creation_date": 1424297006, "post_id": 28593502, "comment_id": 45496258, "body": "@RedX For this case yes...  thanks for the feedback"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424297584, "post_id": 28593502, "comment_id": 45496556, "body": "I edited guys, thanks!"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1424298211, "post_id": 28593502, "comment_id": 45496883, "body": "@newWithPython: Please try to be more specific next time. You can perhaps use google translate for the hard parts. But without specifications, it&#39;s extremely hard to understand what you mean."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424298283, "post_id": 28593502, "comment_id": 45496916, "body": "Sorry... I know that I&#39;ve tried to be very specific but this is a weird problem... I&#39;m stuck. thank you @CommuSoft I will take it in count!"}], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424295568, "post_id": 28594415, "comment_id": 45495483, "body": "thanks for the answer but the order is not preserved, the right output is this: <code>[(&#39;no&#39;, &#39;RN&#39;),(&#39;le&#39;,&#39;PP&#39;), (&#39;fallar&#39;, &#39;VM&#39;)]</code>"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424295599, "post_id": 28594415, "comment_id": 45495499, "body": "Since it preserve the <code>RN</code> <code>PP</code> <code>VM</code> order"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424295649, "post_id": 28594415, "comment_id": 45495521, "body": "@newWithPython: so you want to basically sort on the second tupple element?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424295785, "post_id": 28594415, "comment_id": 45495619, "body": "Thanks for helping me, I would like to extract in a list the second word from left to right and its id that holds this ids pattern: <code>RN_ _ _ _ _</code>,<code>PP_ _ _ _ _</code>,<code>VM_ _ _ _ _</code>, where  <code>_</code>are free characters of the id. This ids must be together. In adition I would like to return the full id"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424296007, "post_id": 28594415, "comment_id": 45495727, "body": "Well, the list is captured from left to right. If you look to the resulting tuples, you will see that all items are there in that order. A regex by default output from <i>start-to-end</i>. It&#39;s still unclear what you mean simply because according to your description, more strings match. The first element <code>(&#39;ir&#39;, &#39;VM&#39;)</code> originates for instance from the first line <code>Vaya ir VMM03S0 0.427083</code>"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424296684, "post_id": 28594415, "comment_id": 45496075, "body": "@newWithPython: finally got it I think, but the last is <code>ver VM</code> because that one comes first."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424296787, "post_id": 28594415, "comment_id": 45496134, "body": "It should start at a newline?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424296820, "post_id": 28594415, "comment_id": 45496157, "body": "What about this: <code>together__ = re.findall(r&#39;(?s)(\\w+\\s+RN)(?:(?!\\s(?:RN|PP|VM)).)*?(\\w+\\s+P&zwnj;&#8203;P\\w+)(?:(?!\\s(?:RN|P&zwnj;&#8203;P|VM)).)*?(\\w+\\s+VM\\&zwnj;&#8203;w+)&#39;, s)</code> the problem is that it doesnt preserve the given order, they must ocurre one followed by one in this order: RN PP VM thanks!"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424297015, "post_id": 28594415, "comment_id": 45496262, "body": "So what is the number of items as output you expect? Three or a lot more? Your specs are completely unclear... Can you please explain why <code>ver VM</code> located the line after <code>le PP</code> is not valid?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424297217, "post_id": 28594415, "comment_id": 45496357, "body": "this is the expected output: <code>[(no RN, le PP004DF, fallar VM0FD00])</code>. It is not the pattern i need. They are not one after another."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424297288, "post_id": 28594415, "comment_id": 45496387, "body": "@newWithPython: yes I know that by now, but one needs to know the <b>rules</b> to determine why the given output is not valid. Please provide an <b>argument/explenation/</b> so one can write a pattern that omits that line..."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424298047, "post_id": 28594415, "comment_id": 45496802, "body": "@newWithPython: I think I finally understood: you are looking for <b>consecutive</b> (consecutivo) lines."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424298055, "post_id": 28594415, "comment_id": 45496805, "body": "pretty close but I need to return the full id, like this: <code>[(&#39;no RN&#39;, &#39;le PP004DF&#39;, &#39;fallar VM0FD00&#39;)]</code>"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 1, "creation_date": 1424298149, "post_id": 28594415, "comment_id": 45496854, "body": "@newWithPython: final question: do lines have to start with a hash (<code>#</code>)?"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424298200, "post_id": 28594415, "comment_id": 45496881, "body": "no, sorry let me edit that!. This should be the right output:<code>[(&#39;no RN&#39;, &#39;le PP004DF&#39;, &#39;fallar VM0FD00&#39;)] </code>"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424298408, "post_id": 28594415, "comment_id": 45496973, "body": "Sure this is!. Sorry guys as I told you... this was a very weird task since I am extracting spanish patterns... sorry for the inconvenient!"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 2, "last_activity_date": 1424298132, "last_edit_date": 1424298132, "creation_date": 1424295443, "answer_id": 28594415, "question_id": 28593502, "link": "https://stackoverflow.com/questions/28593502/how-to-fix-this-regex-in-order-to-preserve-a-given-id-order/28594415#28594415", "title": "How to fix this regex in order to preserve a given id order?", "body": "<p>You better</p>\n\n<p>You can do this simply with:</p>\n\n<pre><code>list = re.findall(r'\\n?\\s*\\S+\\s+(\\w+\\W+RN\\w*)[^\\n]*[^\\n]*?\\n\\s*\\S+\\s+(\\w+\\W+PP\\w*)[^\\n]*[^\\n]*?\\n\\s*\\S+\\s+(\\w+\\W+VM\\w*)[^\\n]*', s)\n</code></pre>\n\n<p>Resulting in:</p>\n\n<pre><code>[('no RN', 'le PP004DF', 'fallar VM0FD00')]\n</code></pre>\n\n<p>because <code>ver VM</code> is first.</p>\n"}, {"comments": [{"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424296366, "post_id": 28594561, "comment_id": 45495913, "body": "Thanks for helping me. This is almost ok. This is the output of your regex: <code>[(&#39;no no RN&#39;, &#39;le PP004DF 0.390230&#39;, &#39;fallar VM0FD00 0.99033&#39;)]</code> the problem with this is that I would like to filter &#180;number&#180;and one <code>no</code>. So the correct output should be: <code>[(&#39;no RN&#39;, &#39;le PP004DF&#39;, &#39;fallar VM0FD00&#39;)]</code>"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424296503, "post_id": 28594561, "comment_id": 45495980, "body": "In the first item you only get one word as in the other items. I used this:<code>re.findall(r&#39;(?s)(\\w+\\s+RN)(?:(?!\\s(?:RN|PP|VM)).)*?(\\w&zwnj;&#8203;+\\s+PP\\w+)(?:(?!\\s(?&zwnj;&#8203;:RN|PP|VM)).)*?(\\w+\\&zwnj;&#8203;s+VM\\w+)&#39;, s)</code> the thing is I would like to preserve the <code>RN</code>, <code>PP</code>, <code>VM</code> order (they must ocurre consecutevely, one followed by the other.) thanks"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1424297320, "post_id": 28594561, "comment_id": 45496403, "body": "The reason is that your <code>[^\\n]</code> is non-greedy as well, and the priority is left to right."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424297749, "post_id": 28594561, "comment_id": 45496661, "body": "I see.. any idea of how to fix it @CommuSoft ? thanks!"}, {"owner": {"reputation": 965, "user_id": 2153555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc0a2558d69375b55b5d6bfff4285b2?s=128&d=identicon&r=PG", "display_name": "etna", "link": "https://stackoverflow.com/users/2153555/etna"}, "edited": false, "score": 1, "creation_date": 1424297752, "post_id": 28594561, "comment_id": 45496663, "body": "That may be right if you&#39;re sure you&#39;re only interested in words: <code>re.findall(r&#39;(\\w*?\\sRN[^\\n]*)\\n[^\\n]*?\\s(\\w*?\\sPP[^\\n]*)\\n[^&zwnj;&#8203;\\n]*?\\s(\\w*?\\sVM[^\\n&zwnj;&#8203;]*)\\n&#39;, s)</code> ... still some post processing left but that should be easy -_-"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1424297858, "post_id": 28594561, "comment_id": 45496705, "body": "@etna: simply but <code>[^\\n]*</code> outside the brackets."}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424297964, "post_id": 28594561, "comment_id": 45496760, "body": "@etna this is pretty close, this is the output: <code>[(&#39;no RN&#39;, &#39;le PP004DF 0.390230&#39;, &#39;fallar VM0FD00 0.99033&#39;)]</code>, the problem with this are the numbers, it should have no numbers, e.g. : <code>[(&#39;no RN&#39;, &#39;le PP004DF&#39;, &#39;fallar VM0FD00&#39;)]</code>"}, {"owner": {"reputation": 965, "user_id": 2153555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc0a2558d69375b55b5d6bfff4285b2?s=128&d=identicon&r=PG", "display_name": "etna", "link": "https://stackoverflow.com/users/2153555/etna"}, "edited": false, "score": 1, "creation_date": 1424297981, "post_id": 28594561, "comment_id": 45496768, "body": "CommuSoft is right... watching tv and lost track of what I did -_- Ok so <code>re.findall(r&#39;(\\w*?\\sRN)[^\\n]*\\n[^\\n]*?\\s(\\w*?\\sPP)[^\\n]*\\n[^&zwnj;&#8203;\\n]*?\\s(\\w*?\\sVM)[^\\&zwnj;&#8203;n]*\\n&#39;, s)</code>"}, {"owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "edited": false, "score": 0, "creation_date": 1424298134, "post_id": 28594561, "comment_id": 45496846, "body": "No, is not right, this is the right output:<code>[(&#39;no RN&#39;, &#39;le PP004DF&#39;, &#39;fallar VM0FD00&#39;)]</code>. This is wrong since I need to return the full id. Sorry guys!"}, {"owner": {"reputation": 965, "user_id": 2153555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc0a2558d69375b55b5d6bfff4285b2?s=128&d=identicon&r=PG", "display_name": "etna", "link": "https://stackoverflow.com/users/2153555/etna"}, "edited": false, "score": 0, "creation_date": 1424298434, "post_id": 28594561, "comment_id": 45496989, "body": "<code>re.findall(r&#39;(\\w*?\\sRN.*?)\\s?[^\\n]*\\n[^\\n]*?\\s(\\w*?\\sPP).*?\\&zwnj;&#8203;s[^\\n]*\\n[^\\n]*?\\s(\\&zwnj;&#8203;w*?\\sVM.*?)\\s[^\\n]*\\&zwnj;&#8203;n&#39;, s)</code> Ok I&#39;m late :)"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424298669, "post_id": 28594561, "comment_id": 45497094, "body": "or perhaps <code>\\w+</code> inside the brackets... Anyway, the problem was merely to understand the problem I think."}, {"owner": {"reputation": 965, "user_id": 2153555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc0a2558d69375b55b5d6bfff4285b2?s=128&d=identicon&r=PG", "display_name": "etna", "link": "https://stackoverflow.com/users/2153555/etna"}, "edited": false, "score": 0, "creation_date": 1424298930, "post_id": 28594561, "comment_id": 45497196, "body": "Yep, I left a typo after PP and can&#39;t fix it now... anyway, problem solved :)"}], "tags": [], "owner": {"reputation": 965, "user_id": 2153555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc0a2558d69375b55b5d6bfff4285b2?s=128&d=identicon&r=PG", "display_name": "etna", "link": "https://stackoverflow.com/users/2153555/etna"}, "is_accepted": false, "score": 2, "last_activity_date": 1424296019, "creation_date": 1424296019, "answer_id": 28594561, "question_id": 28593502, "link": "https://stackoverflow.com/questions/28593502/how-to-fix-this-regex-in-order-to-preserve-a-given-id-order/28594561#28594561", "title": "How to fix this regex in order to preserve a given id order?", "body": "<p>In case you don't get a decent answer soon enough, I think that I may be close to what you want with this:</p>\n\n<pre><code>re.findall(r'\\n[^\\n]*?\\s(.*?\\sRN[^\\n]*)\\n[^\\n]*?\\s(.*?\\sPP[^\\n]*)\\n[^\\n]*?\\s(.*?\\sVM[^\\n]*)\\n', s)\n</code></pre>\n\n<p>I don't know why I get both words in the first item... might be because of the \"#\" and I did not bother cutting after RN, PP and VM. I guess that if the first step works decently enough, the rest can be easily fixed in post-processing.</p>\n"}], "owner": {"reputation": 813, "user_id": 3638878, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dd9908baf606db56b7da0f1d3df2e79d?s=128&d=identicon&r=PG&f=1", "display_name": "newWithPython", "link": "https://stackoverflow.com/users/3638878/newwithpython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 28594415, "answer_count": 2, "score": -1, "last_activity_date": 1424298217, "creation_date": 1424292126, "last_edit_date": 1424298217, "question_id": 28593502, "link": "https://stackoverflow.com/questions/28593502/how-to-fix-this-regex-in-order-to-preserve-a-given-id-order", "title": "How to fix this regex in order to preserve a given id order?", "body": "<p>I have this large string:</p>\n\n<pre><code>s = '''Vaya ir VMM03S0 0.427083\nma\u00f1anita ma\u00f1ana RG 0.796611\n, , Fc 1\nbuscando buscar VMG0000 1\nla lo PP3FSA00 0.0277039\nencontramos encontrar VMIP1P0 0.65\n. . Fp 1\n\nPero pero CC 0.999764\nvamos ir VMIP1P0 0.655914\na a SPS00 0.996023\nlo el DA0NS0 0.457533\nque que PR0CN000 0.562517\ninteresa interesar VMIP3S0 0.994868\nLO_QUE_INTERESA_La lo_que_interesa_la NP00000 1\nlavadora lavador AQ0FS0 0.585262\ntiene tener VMIP3S0 1\nuna uno DI0FS0 0.951575\nclasificaci\u00f3n clasificaci\u00f3n NCFS000 1\nA+ a+ NP00000 1\n, , Fc 1\nde de SPS00 0.999984\nlas el DA0FP0 0.970954\nque que PR0CN000 0.562517\nahorran ahorrar VMIP3P0 1\nenerg\u00eda energ\u00eda NCFS000 1\n, , Fc 1\nsi si CS 0.99954\nme me PP1CS000 0.89124\nno no RN 0.998134\nequivoco equivocar VMIP1S0 1\n. . Fp 1\n\nLava lavar VMIP3S0 0.397388\nhasta hasta SPS00 0.957698\n7 7 Z 1\nkg kilogramo NCMN000 1\n, , Fc 1\nno no RN 0.998134\nest\u00e1 estar VAIP3S0 0.999201\n, , Fc 1\nse se P00CN000 0.465639\nle le PP3CSD00 1\nve\u00eda ver VMII3S0 0.62272\nun uno DI0MS0 0.987295\ngran gran AQ0CS0 1\ntambor tambor NCMS000 1\n( ( Fpa 1\nde de SPS00 0.999984\nacero acero NCMS000 0.973481\ninoxidable inoxidable AQ0CS0 1\n) ) Fpt 1\ny y CC 0.999962\nun uno DI0MS0 0.987295\nerror error NCFSD23 0.234930\nerror error VMDFG34 0.98763\nconsumo consumo NCMS000 0.948927\nm\u00e1ximo m\u00e1ximo AQ0MS0 0.986111\nde de SPS00 0.999984\n49 49 Z 1\nlitros litro NCMP000 1\nerror error DI0S3DF 1\nMandos mandos NP00000 1\nintuitivos intuitivo AQ0MP0 1\n, , Fc 1\ntodo todo PI0MS000 0.43165\nmuy muy RG 1\nbien bien RG 0.902728\nexplicado explicar VMP00SM 1\n, , Fc 1\njamas jamas RG 0.343443\nnada nada PI0CS000 0.850279\nque que PR0CN000 0.562517\nde de SPS00 0.999984\nnunca nunca RG 0.903\ncasa casa NCFS000 0.979058\nde de SPS00 0.999984\nmis mi DP1CPS 0.995868\nerror error VM9032 0.234323\nstring string VMWEOO 0.03444\npadres padre NCMP000 1\nAdem\u00e1s adem\u00e1s NP00000 1\nincluye incluir VMIP3S0 0.994868\nla el DA0FS0 0.972269\ntecnolog\u00eda tecnolog\u00eda NCFS000 1\nerror errpr RG2303 1\nTextileprotec textileprotec NP00000 1\nque que PR0CN000 0.562517\nprotege proteger VMIP3S0 0.994868\nnuestras nuestro DP1FPP 0.994186\nninguna ninguno DI0S3DF 0.345344\nfalla falla NCFSD23 1\nprendas prenda NCFP000 0.95625\nm\u00e1s m\u00e1s RG 1\npreciadas preciar VMP00PF 1\njamas jamas RG2303 1\nstring string VM9032 0.234323\nnunca nunca RG 0.293030\nstring string VM 0.902333\nno no RN\nle le PP004DF 0.390230\nfalla fallar VM0FD00 0.99033\n. . Fp 1'''\n</code></pre>\n\n<p>I would like to extract in a list the second word from left to right and its id that holds this ids pattern: <code>RN_ _ _ _ _</code>, <code>PP_ _ _ _ _</code>, <code>VM_ _ _ _ _</code>. This ids must be together. For example:</p>\n\n<pre><code>no no RN 0.90383\nle le PPSDF23 0.902339\nfalla fallar VM00DKE 0.9045\n</code></pre>\n\n<p>This is the pattern I would like to match, since they are together and the ids have the <code>RN_ _ _ _ _</code>, <code>PP_ _ _ _ _</code>, <code>VM_ _ _ _ _</code> order this should be the output given the <code>s</code> string:</p>\n\n<pre><code>   [('no RN', 'le PP004DF', 'fallar VM0FD00')]\n</code></pre>\n\n<p>This is what I tried:</p>\n\n<pre><code>together__ = re.findall(r'(?s)(\\w+\\s+RN)(?:(?!\\s(?:RN|PP|VM)).)*?(\\w+\\s+PP\\w+)(?:(?!\\s(?:RN|PP|VM)).)*?(\\w+\\s+VM\\w+)', s)\n</code></pre>\n\n<p>but I get this with the above regex:</p>\n\n<pre><code>print together__\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[('no RN', 'le PP3CSD00', 'ver VMII3S0'), ('no RN', 'le PP004DF', 'fallar VM0FD00')]\n</code></pre>\n\n<p>Which is wrong since the ids are not consecutevely in the string s (<code>RN, PP, VM</code>). How can I fix this regex?. Thanks in advance guys.</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 86959, "user_id": 1735406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IF9uS.png?s=128&g=1", "display_name": "Maroun", "link": "https://stackoverflow.com/users/1735406/maroun"}, "edited": false, "score": 0, "creation_date": 1424292032, "post_id": 28593438, "comment_id": 45493497, "body": "You should wait 400 seconds.. you&#39;re looping and sleeping on each iteration."}, {"owner": {"reputation": 1571, "user_id": 2273626, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yNFiB.jpg?s=128&g=1", "display_name": "DIGSUM", "link": "https://stackoverflow.com/users/2273626/digsum"}, "reply_to_user": {"reputation": 86959, "user_id": 1735406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/IF9uS.png?s=128&g=1", "display_name": "Maroun", "link": "https://stackoverflow.com/users/1735406/maroun"}, "edited": false, "score": 0, "creation_date": 1424292602, "post_id": 28593438, "comment_id": 45493818, "body": "Sorry, but could you tell me how that is done (in code)?"}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 2273626, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yNFiB.jpg?s=128&g=1", "display_name": "DIGSUM", "link": "https://stackoverflow.com/users/2273626/digsum"}, "edited": false, "score": 0, "creation_date": 1424297588, "post_id": 28594142, "comment_id": 45496559, "body": "Thank you so much for this, but somehow the first messier code actually scrolls down, while his cleaner one does not..."}, {"owner": {"reputation": 345, "user_id": 3490101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UOKqp.png?s=128&g=1", "display_name": "Cronax", "link": "https://stackoverflow.com/users/3490101/cronax"}, "reply_to_user": {"reputation": 1571, "user_id": 2273626, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yNFiB.jpg?s=128&g=1", "display_name": "DIGSUM", "link": "https://stackoverflow.com/users/2273626/digsum"}, "edited": false, "score": 1, "creation_date": 1424699357, "post_id": 28594142, "comment_id": 45643701, "body": "@textnet I can confirm that this answer works, are you using the latest version of Selenium?"}], "tags": [], "owner": {"reputation": 53073, "user_id": 16148, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XTzm1.jpg?s=128&g=1", "display_name": "Corey Goldberg", "link": "https://stackoverflow.com/users/16148/corey-goldberg"}, "is_accepted": false, "score": 11, "last_activity_date": 1424294420, "creation_date": 1424294420, "answer_id": 28594142, "question_id": 28593438, "link": "https://stackoverflow.com/questions/28593438/how-to-print-page-source-with-selenium/28594142#28594142", "title": "How to print page source with Selenium", "body": "<p>you have a lot of unused code and weird imports, but you are on the right track.</p>\n\n<p>Here is a simplified version, with comments explaining.</p>\n\n<pre><code>import time\nfrom selenium import webdriver\n\n\n# launch Firefox\ndriver = webdriver.Firefox()\n\n# load Twitter page\ndriver.get(\"https://twitter.com/search?q=storstrut&amp;src=typd\")\n\n# the following javascript scrolls down the entire page body.  Since Twitter\n# uses \"inifinite scrolling\", more content will be added to the bottom of the\n# DOM as you scroll... since it is in the loop, it will scroll down up to 100 \n# times.\nfor _ in range(100):\n    driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n\n# print all of the page source that was loaded\nprint driver.page_source.encode(\"utf-8\")\n\n# quit and close browser\ndriver.quit()\n</code></pre>\n"}], "owner": {"reputation": 1571, "user_id": 2273626, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/yNFiB.jpg?s=128&g=1", "display_name": "DIGSUM", "link": "https://stackoverflow.com/users/2273626/digsum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22611, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1424294420, "creation_date": 1424291879, "question_id": 28593438, "link": "https://stackoverflow.com/questions/28593438/how-to-print-page-source-with-selenium", "title": "How to print page source with Selenium", "body": "<p>I have the below code, which searches Twitter and scrolls through the infinite scrolling. The line 'print data' is not working for me though. Any ideas?</p>\n\n<pre><code># Import Selenium stuff\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui import Select\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.common.exceptions import TimeoutException\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import NoSuchElementException\nfrom selenium.common.exceptions import NoAlertPresentException\n\n# Import other needed packages\nimport sys\nimport unittest, time, re\n\n# Call up Firefox, do the Twitter search, click the \"All\" link and start paging\nclass Sel(unittest.TestCase):\ndef setUp(self):\n    self.driver = webdriver.Firefox()\n    self.driver.implicitly_wait(30)\n    self.base_url = \"https://twitter.com\"\n    self.verificationErrors = []\n    self.accept_next_alert = True\ndef test_sel(self):\n    driver = self.driver\n    delay = 3\n    driver.get(self.base_url + \"/search?q=storstrut&amp;src=typd\")\n    driver.find_element_by_link_text(\"All\").click()\n    for i in range(1,100):\n        self.driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight);\")\n        time.sleep(4)\n    html_source = driver.page_source\n    data = html_source.encode('utf-8')\n    print data\n\n\nif __name__ == \"__main__\":\n    unittest.main() \n</code></pre>\n"}, {"tags": ["python", "bottle"], "comments": [{"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1424358391, "post_id": 28593377, "comment_id": 45523158, "body": "Please define &quot;huge.&quot; How big is the file that doesn&#39;t work?"}, {"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "reply_to_user": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1424358466, "post_id": 28593377, "comment_id": 45523216, "body": "It&#39;s a 100MB file. 80MB works without any issues. Not sure if there is any response time within the Bottle framework or Apache server."}, {"owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "edited": false, "score": 0, "creation_date": 1424360187, "post_id": 28593377, "comment_id": 45524459, "body": "Okay -- try the upload with <code>curl -v</code> and see what HTTP status code is returned.  If 413, then you need to increase MEMFILE_MAX.  This will also help expose whether a timeout is the problem."}], "answers": [{"comments": [{"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1426179406, "post_id": 28609975, "comment_id": 46276213, "body": "Im using Python requests module to call the service that uploads the file...The file is uploaded by the webservice and the webservice return rc=200 but response page is blank.."}], "tags": [], "owner": {"reputation": 14447, "user_id": 593047, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZTl2D.jpg?s=128&g=1", "display_name": "ron rothman", "link": "https://stackoverflow.com/users/593047/ron-rothman"}, "is_accepted": false, "score": 0, "last_activity_date": 1424360099, "last_edit_date": 1495541574, "creation_date": 1424359075, "answer_id": 28609975, "question_id": 28593377, "link": "https://stackoverflow.com/questions/28593377/bottle-framework-blank-page-after-uploading/28609975#28609975", "title": "Bottle framework Blank page after uploading", "body": "<p>Have you tried increasing <code>MEMFILE_MAX</code>?</p>\n\n<pre><code>import bottle\nbottle.BaseRequest.MEMFILE_MAX = 1024 * 1024 * 200\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/16865997/python-bottle-module-causes-error-413-request-entity-too-large\">Python bottle module causes &quot;Error: 413 Request Entity Too Large&quot;</a></p>\n\n<hr>\n\n<p>Also: are you using a browser or a command-line client to upload the file?  If browser, then I'd suggest using <code>curl</code> to see exactly what (if anything) is returned from your server.</p>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424360099, "creation_date": 1424291637, "question_id": 28593377, "link": "https://stackoverflow.com/questions/28593377/bottle-framework-blank-page-after-uploading", "title": "Bottle framework Blank page after uploading", "body": "<p>Im using Python bottle framework to upload a file..The controller receives the file and transmits to another system using Java rest service..</p>\n\n<p>Everything works fine when the file is small but if the file is huge (it takes 5 mints) the application returns a blank page instead of a html page that its supposed to return.</p>\n\n<pre><code>@app.route('/DataLoads',method='GET')\ndef pptriv():\n    return template('dataload',\n                    footer_html=FOOTER_HTML,feedback_html=FEEDBACK_HTML)\n\n\n@app.route('/DataLoads',method='POST')\ndef pptriv():\n    username = request.forms.get('username')\n    password = request.forms.get('password')\n    uploadfile = request.files.get('File Upload')\n\n    ....\n    ..use Python requests module to transmit the files.....\n    ...\n    print 'r.status_code = ', r.status_code\n\n\n    return template('dataload',\n                    footer_html=FOOTER_HTML,feedback_html=FEEDBACK_HTML)\n</code></pre>\n\n<p>I see the print stmt r.status_code but the dataload html page, if its small file everything looks good..</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 2903, "user_id": 4340076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0b1bc392e1cc52cc64c0d207c6ed680?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4340076/andrew"}, "edited": false, "score": 0, "creation_date": 1424292579, "post_id": 28593363, "comment_id": 45493809, "body": "For future reference python offers a sum function.  So you could use <code>sum(range(x+1))</code> where x is your positive integer value."}], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 868947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HJDcE.jpg?s=128&g=1", "display_name": "Jimilian", "link": "https://stackoverflow.com/users/868947/jimilian"}, "edited": false, "score": 0, "creation_date": 1424292139, "post_id": 28593487, "comment_id": 45493569, "body": "What about exit from recursion? Now it will be forever cycle."}], "tags": [], "owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "is_accepted": false, "score": 3, "last_activity_date": 1424292390, "last_edit_date": 1424292390, "creation_date": 1424292058, "answer_id": 28593487, "question_id": 28593363, "link": "https://stackoverflow.com/questions/28593363/accumulator-using-for-loop-in-python/28593487#28593487", "title": "Accumulator using For Loop in Python", "body": "<p>How about implementing something like the following. There are a few problems with your program, <strong>most notably</strong>:<br><br><strong>1.</strong> The sum is being repeatedly printed for every value. <br><br> <strong>2.</strong> You are simply adding 1 to the sum instead of adding the integer <code>i</code>. <br><br> <strong>3.</strong> You are not returning on your function if your user does not enter a positive integer. <br><br> <strong>4.</strong>  You have no <code>if</code> statement for if the integer is greater than 0. </p>\n\n<pre><code>def intpicker():\n        x=int(input(\"Please pick a positive integer\"))\n        sum=0\n        if x &gt;= 0:\n            for i in range(1,x):\n                sum=sum+i\n            print(sum)\n        else:\n            return intpicker()\n</code></pre>\n\n<p>This code could be further abbreviated, but for all intents and purposes you should probably just try and understand this implementation as a start. </p>\n"}, {"tags": [], "owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "is_accepted": false, "score": 1, "last_activity_date": 1424292593, "creation_date": 1424292593, "answer_id": 28593641, "question_id": 28593363, "link": "https://stackoverflow.com/questions/28593363/accumulator-using-for-loop-in-python/28593641#28593641", "title": "Accumulator using For Loop in Python", "body": "<p>There are a few fatal flaws in your program. See below:</p>\n\n<pre><code>x=int(input(\"Please pick a positive integer\")) #what if the user inputs \"a\"\nsum=0\nfor i in range(1,x): # this will not include the number that they typed in\n    sum=sum+1 # you are adding 1, instead of the i\n    print(sum) \nelse:\n    x=int(input(\"Please pick a positive integer\")) # your script ends here without ever using the above variable x\n</code></pre>\n\n<p>This is what I might do:</p>\n\n<pre><code>while True: # enters loop so it keeps asking for a new integer\n    sum = 0\n    x = input(\"Please pick an integer (type q to exit) &gt; \")\n    if x == \"q\": # ends program if user enters q\n        break\n    else:\n        # try/except loop to see if what they entered is an integer\n        try:\n            x = int(x)\n        except:\n            print \"You entered {0}, that is not a positive integer.\".format(x)\n            continue\n        for i in range(1, x+1): # if the user enters 2, this will add 1 and 2, instead of 1.\n            sum += i \n        print sum\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4581296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d20e5f1d1f0e4e954090253c249422cb?s=128&d=identicon&r=PG&f=1", "display_name": "KnaveofSass", "link": "https://stackoverflow.com/users/4581296/knaveofsass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14557, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424292593, "creation_date": 1424291597, "question_id": 28593363, "link": "https://stackoverflow.com/questions/28593363/accumulator-using-for-loop-in-python", "title": "Accumulator using For Loop in Python", "body": "<p>My teacher wants a program to ask the user for a positive integer number value, which the program should loop to get the sum of all integers from 1 up to the numbered entered. In For Loop using Python.</p>\n\n<p>Here's what I came up with for the For Loop but it is not's not looping when I type in a negative number and it won't display an answer when I input a positive number after inputting a negative number.</p>\n\n<pre><code>x=int(input(\"Please pick a positive integer\"))\nsum=0\nfor i in range(1,x):\n    sum=sum+1\n    print(sum)\nelse:\n    x=int(input(\"Please pick a positive integer\"))\n</code></pre>\n\n<p>Help?</p>\n"}, {"tags": ["python", "r", "rpy2", "ssa"], "answers": [{"comments": [{"owner": {"reputation": 452, "user_id": 3653720, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fc93e94c730800a83f921686212a2d6?s=128&d=identicon&r=PG", "display_name": "Antonina", "link": "https://stackoverflow.com/users/3653720/antonina"}, "edited": false, "score": 0, "creation_date": 1426161483, "post_id": 28985206, "comment_id": 46263462, "body": "Thanks a lot, Anton. I will try to do in such way."}], "tags": [], "owner": {"reputation": 8022, "user_id": 164925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35f656cad1ff0d8797c598930dda7faa?s=128&d=identicon&r=PG", "display_name": "Anton Korobeynikov", "link": "https://stackoverflow.com/users/164925/anton-korobeynikov"}, "is_accepted": true, "score": 0, "last_activity_date": 1426072664, "creation_date": 1426072664, "answer_id": 28985206, "question_id": 28593302, "link": "https://stackoverflow.com/questions/28593302/r-packages-rssa-is-not-imported-to-python-with-rpy2-importr/28985206#28985206", "title": "R packages Rssa is not imported to python with rpy2 importr", "body": "<p>This was caused by bug in Rssa when it tries to take control over 'decompose' function (which is exported from 'stats' package). In particular, in the list of formals '...' is added twice and this is what rpy2 is complaining about.</p>\n\n<p>This will be fixed in the subsequent Rssa releases.</p>\n\n<p>The only workaround is to comment out in R/common.R the following line:</p>\n\n<pre><code>formals(decompose.default) &lt;- c(formals(decompose.default), alist(... = ))\n</code></pre>\n\n<p>And reinstall Rssa from source. This might be non-trivial on Windows, though R windows builder can help here.</p>\n"}], "owner": {"reputation": 452, "user_id": 3653720, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fc93e94c730800a83f921686212a2d6?s=128&d=identicon&r=PG", "display_name": "Antonina", "link": "https://stackoverflow.com/users/3653720/antonina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 28985206, "answer_count": 1, "score": 0, "last_activity_date": 1426072664, "creation_date": 1424291418, "question_id": 28593302, "link": "https://stackoverflow.com/questions/28593302/r-packages-rssa-is-not-imported-to-python-with-rpy2-importr", "title": "R packages Rssa is not imported to python with rpy2 importr", "body": "<p>When I executed in Python command </p>\n\n<pre><code>rssa = importr('Rssa')\n</code></pre>\n\n<p>I got eroor</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;pyshell#3&gt;\", line 1, in &lt;module&gt;\n    rssa = importr('Rssa')\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\packages.py\", line 412, in importr\n    version = version)\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\packages.py\", line 178, in __init__\n    self.__fill_rpy2r__(on_conflict = on_conflict)\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\packages.py\", line 280, in __fill_rpy2r__\n    super(SignatureTranslatedPackage, self).__fill_rpy2r__(on_conflict = on_conflict)\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\packages.py\", line 233, in __fill_rpy2r__\n    rpyobj = conversion.ri2ro(riobj)\n  File \"C:\\Python34\\lib\\functools.py\", line 707, in wrapper\n    return dispatch(args[0].__class__)(*args, **kw)\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\__init__.py\", line 101, in _\n    return SignatureTranslatedFunction(obj)\n  File \"C:\\Python34\\lib\\site-packages\\rpy2\\robjects\\functions.py\", line 150, in __init__\n    raise ValueError(\"Error: '%s' already in the translation table. This means that the signature of the R function contains the parameters '%s' and/or '%s' &lt;sigh&gt; in multiple copies.\" %(r_param, r_param, prm_translate[py_param]))\nValueError: Error: '...' already in the translation table. This means that the signature of the R function contains the parameters '...' and/or '...' &lt;sigh&gt; in multiple copies.\n</code></pre>\n\n<p>Other packages are imported without problem, as example</p>\n\n<pre><code>stats = importr('stats')\ntseries = importr('tseries')\nforecast = importr('forecast')\n</code></pre>\n\n<p>I was looking for such problem, but I could not find nothing close. Please, suggest some decision of this problem.</p>\n"}, {"tags": ["python", "python-ggplot"], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 4584522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vlTgUhBbKlE/AAAAAAAAAAI/AAAAAAAAAOs/SEV_EtmsVVM/photo.jpg?sz=128", "display_name": "kthouz", "link": "https://stackoverflow.com/users/4584522/kthouz"}, "is_accepted": true, "score": 1, "last_activity_date": 1424415308, "creation_date": 1424415308, "answer_id": 28623237, "question_id": 28593284, "link": "https://stackoverflow.com/questions/28593284/python-ggplot-legend-doesnt-show-up/28623237#28623237", "title": "python ggplot legend doesn&#39;t show up", "body": "<p>Check if you have the latest commit of ggplot</p>\n\n<pre><code>pip install git+git://github.com/yhat/ggplot.git\n</code></pre>\n\n<p>(And you may have to run that code with sudo in front). If it sill can't work, try to update matplotlib and ipython to the latest versions. I am using matplotlib 1.4.3 and ipython 2.4.1 It is working well for me.</p>\n"}], "owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 0, "accepted_answer_id": 28623237, "answer_count": 1, "score": 0, "last_activity_date": 1438287939, "creation_date": 1424291358, "last_edit_date": 1438287939, "question_id": 28593284, "link": "https://stackoverflow.com/questions/28593284/python-ggplot-legend-doesnt-show-up", "title": "python ggplot legend doesn&#39;t show up", "body": "<p>I am using python ggplot, but for some reason when the plot is done I don't see the legends</p>\n\n<pre><code>df = pd.DataFrame({\"at_k\": at_k, \"ndcg\": mean_ndcg, \"ndcg_non_bucket\": mean_ndcg_non_bucket, \"apk\": mean_apk})\ndf2 = pd.melt(df[['at_k', 'ndcg', 'ndcg_non_bucket', 'apk']], id_vars=['at_k'])\nprint ggplot(aes(x='at_k', y='value', group='variable', shape='variable', colour='variable'), data=df2) +\\\n    geom_line() + geom_point()\n</code></pre>\n\n<p>I thought by default it should show the legend. </p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 4, "creation_date": 1424291427, "post_id": 28593281, "comment_id": 45493144, "body": "Why are you importing the <code>csv</code> module then ignoring it? Did you see <a href=\"http://stackoverflow.com/q/14257373\">Skip the headers when editing a csv file using Python</a>? Skipping two rows is then as easy as using <code>next()</code> twice, or you can use <code>next(itertools.islice(reader, 2, 2), None)</code> to ignore 2 rows with one command."}, {"owner": {"reputation": 1, "user_id": 4538302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c5076178095973471d68dd855b4336?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan7863", "link": "https://stackoverflow.com/users/4538302/hassan7863"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1424291790, "post_id": 28593281, "comment_id": 45493361, "body": "Thanks, I&#39;m going to try that, I get confused quite easily about where to place and enter the code."}, {"owner": {"reputation": 1, "user_id": 4538302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c5076178095973471d68dd855b4336?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan7863", "link": "https://stackoverflow.com/users/4538302/hassan7863"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1424292087, "post_id": 28593281, "comment_id": 45493533, "body": "I tried that, but the data inside the CSV file gets deleted and there is nothing left in there"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1424293553, "post_id": 28593281, "comment_id": 45494354, "body": "Sounds like you are writing back an empty list then.."}], "answers": [{"tags": [], "owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "is_accepted": false, "score": 0, "last_activity_date": 1424292877, "creation_date": 1424292877, "answer_id": 28593728, "question_id": 28593281, "link": "https://stackoverflow.com/questions/28593281/how-do-i-skip-more-than-1-row-in-a-csv-file-using-python/28593728#28593728", "title": "How do I skip more than 1 row in a CSV file using Python", "body": "<p>Your current code is reading the entire file as a single thing, passing that single thing to <code>replace_all</code>, and then writing the returned single thing back to the original file (which is a huge mistake -- don't ever use the same filename for the output without at least making a copy of it somewhere).</p>\n\n<p>Some ideas:</p>\n\n<ul>\n<li><code>text = f.readlines()</code></li>\n<li><code>text = f.read(); text = text.split('\\n')</code></li>\n</ul>\n\n<p>then</p>\n\n<pre><code>new_text = []\nfor line in text:\n  new_text.append(replace_all(line))\n...\nw.write('\\n'.join(new_text))\n</code></pre>\n\n<p>A few pieces are still missing, but that should get you going.</p>\n"}], "owner": {"reputation": 1, "user_id": 4538302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c5076178095973471d68dd855b4336?s=128&d=identicon&r=PG&f=1", "display_name": "Hassan7863", "link": "https://stackoverflow.com/users/4538302/hassan7863"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424292877, "creation_date": 1424291345, "question_id": 28593281, "link": "https://stackoverflow.com/questions/28593281/how-do-i-skip-more-than-1-row-in-a-csv-file-using-python", "title": "How do I skip more than 1 row in a CSV file using Python", "body": "<p>Can someone give me the best way to skip the first 2 lines in the CSV file. I am trying to find and replace values inside the CSV file using the code, but I'd like it to ignore the first two rows and start from the 3rd one.</p>\n\n<p>Thank you!</p>\n\n<pre><code>import csv\n\nreps = {\n    '+' : 'Positive',\n    '++' : 'Strong Positive',\n    '-' : 'Negative',\n    '+/-' : 'Resonable'}\n\ndef replace_all(text, dic):\n    for i, j in reps.items():\n        text = text.replace(i, j)\n    return text\n\nwith open('apitest.csv','r') as f:\n    text=f.read()\n    text=replace_all(text,reps)\n\nwith open('apitest.csv','w') as w:\n    w.write(text)\n</code></pre>\n"}, {"tags": ["python", "openoffice-calc", "libreoffice-calc", "pyuno"], "answers": [{"tags": [], "owner": {"reputation": 2809, "user_id": 420385, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/273afdc8c4b6436cd8f98cb133a5c0d3?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/420385/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1430489751, "last_edit_date": 1430489751, "creation_date": 1424294823, "answer_id": 28594262, "question_id": 28593278, "link": "https://stackoverflow.com/questions/28593278/how-can-you-extract-the-currently-selected-range-of-cells-in-libreoffice-calc-vi/28594262#28594262", "title": "How can you extract the currently-selected range of cells in LibreOffice calc via pyuno?", "body": "<p>After a very painful time of trial and error (thanks to the scant documentation and examples on pyuno usage anywhere -- please correct me if I've overlooked something), I ended up with the following code that seems to do what I'm after:</p>\n\n<pre><code>import uno\ndoc = XSCRIPTCONTEXT.getDocument()\n\ndef mymodule():\n    ctrlr = doc.CurrentController\n    sel = ctrlr.getSelection()\n    x = sel.getDataArray()\n    # now the data is available as nested tuples in x, so do something with it\n    file('/tmp/out', 'w').write(repr(x))\n</code></pre>\n\n<p>This can be put into a python file, and stored (at least with Ubuntu 14.04) in the <code>~/.config/libreoffice/4/user/Scripts/python</code> directory, and then as long as the <code>libreoffice-script-provider-python</code> package is installed, it can be run from within LibreOffice Calc via the <em>Tools->Macros->Run Macro</em> menu option.  Or it can be bound to a keyboard shortcut using the <em>Tools->Customize->Keyboard</em> dialog.</p>\n\n<p>For a more complete example that allows one to load data from LibreOffice Calc into Octave for further analysis, see <a href=\"https://bitbucket.org/edgimar/pyuno-macros/src/tip/octave_actions.py\" rel=\"nofollow\">this pyuno script</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 16948, "user_id": 4637585, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2ff170e0cfa0be15efaabd3acef4df34?s=128&d=identicon&r=PG&f=1", "display_name": "Rolf of Saxony", "link": "https://stackoverflow.com/users/4637585/rolf-of-saxony"}, "is_accepted": false, "score": 0, "last_activity_date": 1425659629, "creation_date": 1425659629, "answer_id": 28903286, "question_id": 28593278, "link": "https://stackoverflow.com/questions/28593278/how-can-you-extract-the-currently-selected-range-of-cells-in-libreoffice-calc-vi/28903286#28903286", "title": "How can you extract the currently-selected range of cells in LibreOffice calc via pyuno?", "body": "<p>Or you could try something like this, which I think is more easily understood.</p>\n\n<pre><code>    desktop = XSCRIPTCONTEXT.getDesktop()\n    model = desktop.getCurrentComponent()\n    try:\n        sheets = model.getSheets()\n    except AttributeError:\n        raise Exception(\"This script is for Calc Spreadsheets only\")\n    #sheet = sheets.getByName('Sheet1')\n    sheet = model.CurrentController.getActiveSheet()\n    oSelection = model.getCurrentSelection()\n    oArea = oSelection.getRangeAddress()\n    first_row = oArea.StartRow\n    last_row = oArea.EndRow\n    first_col = oArea.StartColumn\n    last_col = oArea.EndColumn\n</code></pre>\n"}], "owner": {"reputation": 2809, "user_id": 420385, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/273afdc8c4b6436cd8f98cb133a5c0d3?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/420385/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2200, "favorite_count": 0, "accepted_answer_id": 28594262, "answer_count": 2, "score": 0, "last_activity_date": 1563329805, "creation_date": 1424291330, "last_edit_date": 1563329805, "question_id": 28593278, "link": "https://stackoverflow.com/questions/28593278/how-can-you-extract-the-currently-selected-range-of-cells-in-libreoffice-calc-vi", "title": "How can you extract the currently-selected range of cells in LibreOffice calc via pyuno?", "body": "<p>When using pyuno in a LibreOffice / OpenOffice calc python macro, I would like simply to be able to select a range of cells, and when the macro is run, for all of the cell data (e.g. as some iterable object) to be able to be retrieved within the python script, so that it can be manipulated.  I have found hardly any documentation on this, and would welcome some example code that demonstrates how to do this.</p>\n"}, {"tags": ["python", "macos", "bash", "shell", "anaconda"], "comments": [{"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 0, "creation_date": 1424364946, "post_id": 28593252, "comment_id": 45528002, "body": "Is there any reason you aren&#39;t using the GUI installer?"}, {"owner": {"reputation": 62908, "user_id": 567620, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/g8HIM.jpg?s=128&g=1", "display_name": "ely", "link": "https://stackoverflow.com/users/567620/ely"}, "edited": false, "score": 0, "creation_date": 1424395437, "post_id": 28593252, "comment_id": 45542854, "body": "One reason a person might prefer command-line installers to GUI installers is that they have self-respect and dignity."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 4171867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e9c634a274ee3994f924872fe9337369?s=128&d=identicon&r=PG&f=1", "display_name": "AtxTom", "link": "https://stackoverflow.com/users/4171867/atxtom"}, "edited": false, "score": 0, "creation_date": 1424385714, "post_id": 28612228, "comment_id": 45539828, "body": "Thanks asmeurer but  step by step instruction would be more helpful."}, {"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "reply_to_user": {"reputation": 119, "user_id": 4171867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e9c634a274ee3994f924872fe9337369?s=128&d=identicon&r=PG&f=1", "display_name": "AtxTom", "link": "https://stackoverflow.com/users/4171867/atxtom"}, "edited": false, "score": 1, "creation_date": 1424385852, "post_id": 28612228, "comment_id": 45539901, "body": "@AtxTom I highly recommend using the GUI installer on Mac unless you have a specific reason to use the bash installer. The instructions are at <a href=\"http://docs.continuum.io/anaconda/install.html#mac-install\" rel=\"nofollow noreferrer\">docs.continuum.io/anaconda/install.html#mac-install</a>."}, {"owner": {"reputation": 119, "user_id": 4171867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e9c634a274ee3994f924872fe9337369?s=128&d=identicon&r=PG&f=1", "display_name": "AtxTom", "link": "https://stackoverflow.com/users/4171867/atxtom"}, "edited": false, "score": 0, "creation_date": 1424395172, "post_id": 28612228, "comment_id": 45542785, "body": "Ok. It looks like I have to launch &quot;launcher&quot; and use the python-qtconsole and spyder.app to get going.  I was trying to do everything in Python interactive and run the programs."}, {"owner": {"reputation": 883, "user_id": 2608191, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a5000a8bd0f97ad641f2b8ad4581ac04?s=128&d=identicon&r=PG", "display_name": "Scott Davis", "link": "https://stackoverflow.com/users/2608191/scott-davis"}, "edited": false, "score": 0, "creation_date": 1444673009, "post_id": 28612228, "comment_id": 53991173, "body": "So the GUI installer on mac is an alternative for the command line?"}], "tags": [], "owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "is_accepted": true, "score": 1, "last_activity_date": 1424364974, "creation_date": 1424364974, "answer_id": 28612228, "question_id": 28593252, "link": "https://stackoverflow.com/questions/28593252/trying-to-get-anaconda3-running-on-mac/28612228#28612228", "title": "Trying to get Anaconda3 running on Mac", "body": "<p>You need to cd to the directory where the installer is first, typically <code>cd ~/Downloads</code>.</p>\n"}], "owner": {"reputation": 119, "user_id": 4171867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e9c634a274ee3994f924872fe9337369?s=128&d=identicon&r=PG&f=1", "display_name": "AtxTom", "link": "https://stackoverflow.com/users/4171867/atxtom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1374, "favorite_count": 0, "accepted_answer_id": 28612228, "answer_count": 1, "score": 2, "last_activity_date": 1463690859, "creation_date": 1424291230, "question_id": 28593252, "link": "https://stackoverflow.com/questions/28593252/trying-to-get-anaconda3-running-on-mac", "title": "Trying to get Anaconda3 running on Mac", "body": "<p>I am trying to get Anaconda3 for Python 3.4 running on my Mac. (OSX 10.9.5) In the instructions from the Continuum Analytics after the installation this is what needs to be done.</p>\n\n<p>I installed it on the home folder per instructions on this page:\n<a href=\"http://docs.continuum.io/anaconda/install.html#mac-install\" rel=\"nofollow\">http://docs.continuum.io/anaconda/install.html#mac-install</a></p>\n\n<p>Then after the installation this is what needs to be done.\nCOMMAND-LINE INSTALLS:\nAfter downloading the installer, in the shell execute:</p>\n\n<p>bash Anaconda3-2.1.0-MacOSX-x86_64.sh\nNote that you should type \"bash\", regardless of whether or not you are actually using the bash shell. </p>\n\n<p>See -> for more info. <a href=\"http://continuum.io/downloads#py34\" rel=\"nofollow\">http://continuum.io/downloads#py34</a></p>\n\n<p>What I get back in my terminal after is this:</p>\n\n<p>bash: Anaconda3-2.1.0-MacOSX-x86_64.sh: No such file or directory</p>\n\n<p>What went wrong? I have sent an email to Continuum Analytics and I'm waiting for their reply. \nThanks for any help.</p>\n"}, {"tags": ["python", "flask", "http-referer"], "answers": [{"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 28, "last_activity_date": 1589238906, "last_edit_date": 1589238906, "creation_date": 1424291454, "answer_id": 28593313, "question_id": 28593235, "link": "https://stackoverflow.com/questions/28593235/get-referring-url-for-flask-request/28593313#28593313", "title": "Get referring URL for Flask request", "body": "<p><a href=\"http://flask.pocoo.org/docs/api/#flask.Request.referrer\" rel=\"noreferrer\"><code>request.referrer</code></a> contains the URL the request came from, although it might not be sent by the client for various reasons.</p>\n\n<p>The attribute takes its value from the <code>Referer</code> (not a typo!) header:</p>\n\n<pre><code>referrer = request.headers.get(\"Referer\")\n</code></pre>\n\n<p>or, using the Flask shortcut:</p>\n\n<pre><code>referrer = request.referrer\n</code></pre>\n\n<p>See <a href=\"https://realpython.com/python-web-applications-with-flask-part-ii/#deriving-data-from-visitors\" rel=\"noreferrer\">this tutorial</a> for an example.</p>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 4130559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/322a308c010e33003bcc66fd5e9d73e8?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Guice", "link": "https://stackoverflow.com/users/4130559/robert-guice"}, "is_accepted": false, "score": 3, "last_activity_date": 1543512333, "last_edit_date": 1543512333, "creation_date": 1425194507, "answer_id": 28791144, "question_id": 28593235, "link": "https://stackoverflow.com/questions/28593235/get-referring-url-for-flask-request/28791144#28791144", "title": "Get referring URL for Flask request", "body": "<p>Thanks to the accepted answer, I set up my app to capture an external referrer and store it in the <code>session</code>. Then when the user signs up I save that value with the user.</p>\n\n<pre><code>from flask import request, g\nfrom werkzeug.urls import url_parse\n\ndef referral():\n    url = request.referrer\n\n    # if domain is not mine, save it in the session\n    if url and url_parse(url).host != \"example.com\":\n        session[\"url\"] = url\n\n    return session.get(\"url\")\n\n@app.before_request\ndef before_request():\n    g.user = current_user\n    g.url = referral()\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 4130559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/322a308c010e33003bcc66fd5e9d73e8?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Guice", "link": "https://stackoverflow.com/users/4130559/robert-guice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14672, "favorite_count": 3, "accepted_answer_id": 28593313, "answer_count": 2, "score": 20, "last_activity_date": 1589238906, "creation_date": 1424291161, "last_edit_date": 1543511746, "question_id": 28593235, "link": "https://stackoverflow.com/questions/28593235/get-referring-url-for-flask-request", "title": "Get referring URL for Flask request", "body": "<p>When a user visits our site and signs up, how can I capture which website they came from?</p>\n\n<p>Be it search, a PR website, etc. I don't care what page from our site they visited, I just want to know which marketing efforts are giving us the most signups.</p>\n\n<p>I know Google Analytics can probably do this but I'd like to have something internal for reference as well.</p>\n"}, {"tags": ["python", "queue", "multiprocessing", "python-multithreading", "python-multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 16470, "user_id": 179372, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7735d49d1b04ba5e18bbe107ad756b0d?s=128&d=identicon&r=PG", "display_name": "Tarantula", "link": "https://stackoverflow.com/users/179372/tarantula"}, "edited": false, "score": 0, "creation_date": 1424295193, "post_id": 28593316, "comment_id": 45495280, "body": "This is what I&#39;m doing now as a workaround, but I don&#39;t want extra copies just to make sure the serialization will actually take place at right moment."}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": false, "score": 4, "last_activity_date": 1424291466, "creation_date": 1424291466, "answer_id": 28593316, "question_id": 28593103, "link": "https://stackoverflow.com/questions/28593103/python-multiprocessing-queue-put-behavior/28593316#28593316", "title": "Python multiprocessing Queue put() behavior", "body": "<p>The best way is probably to make a copy of <code>data</code> before sending it. Try:</p>\n\n<pre><code>data = {'a': 1}\ndc = data.copy()\nqueue.put(dc)\ndata.clear()\n</code></pre>\n\n<p>Basically, you can't count on the send finishing before the dictionary is cleared, so you shouldn't try. <code>dc</code> will be garbage-collected when it goes out of scope or when the code is executed again.</p>\n"}, {"comments": [{"owner": {"reputation": 16470, "user_id": 179372, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7735d49d1b04ba5e18bbe107ad756b0d?s=128&d=identicon&r=PG", "display_name": "Tarantula", "link": "https://stackoverflow.com/users/179372/tarantula"}, "edited": false, "score": 1, "creation_date": 1424696646, "post_id": 28671390, "comment_id": 45642127, "body": "Thanks for the answer, the option 1 is absolutely the most elegant since the time to copy the data is by far greater than the time to create a new dictionary and let GC handle it."}, {"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1542803140, "post_id": 28671390, "comment_id": 93698657, "body": "This is literally a &quot;its not a bug, it&#39;s a feature!&quot; moment in python"}], "tags": [], "owner": {"reputation": 3706, "user_id": 1847419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4oKLO.jpg?s=128&g=1", "display_name": "fnl", "link": "https://stackoverflow.com/users/1847419/fnl"}, "is_accepted": true, "score": 11, "last_activity_date": 1424687405, "last_edit_date": 1424687405, "creation_date": 1424686602, "answer_id": 28671390, "question_id": 28593103, "link": "https://stackoverflow.com/questions/28593103/python-multiprocessing-queue-put-behavior/28671390#28671390", "title": "Python multiprocessing Queue put() behavior", "body": "<p>Actually, this is thought to be a feature, not a problem.\nThe queue immediately returns so your process continues while serialization happens and to avoid what is known as \"<a href=\"http://bugs.python.org/issue17025\" rel=\"noreferrer\">queue contention</a>\".</p>\n\n<p>The two options I suggest you have:</p>\n\n<ol>\n<li><p>Are you absolutely sure you need mutable dictionaries in the first place? Instead of making defensive copies of your data, which you correctly seem to dislike, why not just create a new dictionary instead of using <code>dict.clear()</code> and let the garbage collector worry about old dictionaries?</p></li>\n<li><p>Pickle the data yourself; That is: <code>a_queue.put(pickle.dumps(data))</code> and <code>pickle.loads(a_queue.get())</code>. Now, if you do <code>data.clear()</code> just after a <code>put</code>, the data has already been serialized \"by you\".</p></li>\n</ol>\n\n<p>From a parallel programming point of view the first approach (treat your data as if it were immutable) is the more viable and clean thing to do on the long term, but I am not sure if or why you must clear your dictionaries.</p>\n"}], "owner": {"reputation": 16470, "user_id": 179372, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7735d49d1b04ba5e18bbe107ad756b0d?s=128&d=identicon&r=PG", "display_name": "Tarantula", "link": "https://stackoverflow.com/users/179372/tarantula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6577, "favorite_count": 1, "accepted_answer_id": 28671390, "answer_count": 2, "score": 8, "last_activity_date": 1424687405, "creation_date": 1424290723, "question_id": 28593103, "link": "https://stackoverflow.com/questions/28593103/python-multiprocessing-queue-put-behavior", "title": "Python multiprocessing Queue put() behavior", "body": "<p>I'm doing something very simple using multiprocessing:</p>\n\n<pre><code>data = {'a': 1}\nqueue.put(data, True)\ndata.clear()\n</code></pre>\n\n<p>When I use the queue on another process (using <code>get()</code> method), I get an empty dictionary. If I remove <code>data.clear()</code> I get the keys as expected. Is there any way to wait for the <code>put()</code> to have finished the serialization ?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 25686, "user_id": 975097, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dbbc1b2bc18739858cfa3b7ddcba7362?s=128&d=identicon&r=PG", "display_name": "Anderson Green", "link": "https://stackoverflow.com/users/975097/anderson-green"}, "edited": false, "score": 1, "creation_date": 1424290628, "post_id": 28593039, "comment_id": 45492685, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14476415/reshape-an-array-in-numpy\">reshape an array in numpy</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1929, "user_id": 4450260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e72369cc0e80bf3a35393f8a0539731b?s=128&d=identicon&r=PG&f=1", "display_name": "gaurav gurnani", "link": "https://stackoverflow.com/users/4450260/gaurav-gurnani"}, "edited": false, "score": 0, "creation_date": 1424291358, "post_id": 28593157, "comment_id": 45493102, "body": "i am a lil confused.... what if my array is [[date1,num1],[date2,num2],[date3,num3],[date4,num4],[date5,&zwnj;&#8203;[num5],[date6],[num6&zwnj;&#8203;]].. what parameter should i change?"}], "tags": [], "owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "is_accepted": true, "score": 0, "last_activity_date": 1424290884, "creation_date": 1424290884, "answer_id": 28593157, "question_id": 28593039, "link": "https://stackoverflow.com/questions/28593039/reshaping-a-numpy-array/28593157#28593157", "title": "Reshaping a numpy array", "body": "<pre><code>a = np.array([['date1','num1'],['date2','num2'],['date3','num3'],['date4','num4']])\n\na.reshape((2,2,2))\narray([[['date1', 'num1'],\n    ['date2', 'num2']],\n\n   [['date3', 'num3'],\n    ['date4', 'num4']]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": false, "score": 0, "last_activity_date": 1424291315, "creation_date": 1424291315, "answer_id": 28593274, "question_id": 28593039, "link": "https://stackoverflow.com/questions/28593039/reshaping-a-numpy-array/28593274#28593274", "title": "Reshaping a numpy array", "body": "<p>You can use Numpy's <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.reshape.html\" rel=\"nofollow\">reshape</a> method and the <code>-1</code> argument to reshape arrays of arbitrary length between the two forms you specify. Like so:</p>\n\n<pre><code>import numpy as np\n\n#Generate an array of the form you specify of arbitrary length\narraylen = 10\na        = np.array([ ['date'+str(i),'num'+str(i)] for i in range(arraylen*2)])\n\n#Reshape the array per your specifications\na.reshape((-1,2,2))\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>array([[['date0', 'num0'],\n        ['date1', 'num1']],\n\n       [['date2', 'num2'],\n        ['date3', 'num3']],\n        ...\n</code></pre>\n"}], "owner": {"reputation": 1929, "user_id": 4450260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e72369cc0e80bf3a35393f8a0539731b?s=128&d=identicon&r=PG&f=1", "display_name": "gaurav gurnani", "link": "https://stackoverflow.com/users/4450260/gaurav-gurnani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 28593157, "answer_count": 2, "score": -1, "last_activity_date": 1424291315, "creation_date": 1424290493, "last_edit_date": 1424290540, "question_id": 28593039, "link": "https://stackoverflow.com/questions/28593039/reshaping-a-numpy-array", "title": "Reshaping a numpy array", "body": "<p>I have the following NumPy array,</p>\n\n<pre><code>[[date1,num1],[date2,num2],[date3,num3],[date4,num4]]\n</code></pre>\n\n<p>I want to divide it as follows:</p>\n\n<pre><code>[ [ [date1,num1],[date2,num2] ] , [ [date3,num3],[date4,num4] ] ]\n</code></pre>\n\n<p>Can anyone suggest something?</p>\n"}, {"tags": ["python", "tkinter", "integer", "python-3.4"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1424290598, "post_id": 28593037, "comment_id": 45492667, "body": "Why do you believe that <code>ans1 == int()</code> will do what you want?"}, {"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424300378, "post_id": 28593037, "comment_id": 45497832, "body": "You can go ahead and set new variables, particularly <code>IntVar()</code> in Tkinter. Use it if all you want is the string, and then work with the method <code>.get()</code> on <code>StringVar</code> and put them into conventional python variables."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4412755"}, "reply_to_user": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1424371625, "post_id": 28593037, "comment_id": 45532081, "body": "@Zizouz212 thank you that was really helpful"}], "answers": [{"comments": [{"owner": {"reputation": 1436, "user_id": 635148, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fadacf0501f7055f3419a485e1e69b6a?s=128&d=identicon&r=PG", "display_name": "Chris Arena", "link": "https://stackoverflow.com/users/635148/chris-arena"}, "edited": false, "score": 0, "creation_date": 1424290969, "post_id": 28593153, "comment_id": 45492877, "body": "Why use an else on a try/except when not necessary? Just throw that line after the cast."}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "reply_to_user": {"reputation": 1436, "user_id": 635148, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fadacf0501f7055f3419a485e1e69b6a?s=128&d=identicon&r=PG", "display_name": "Chris Arena", "link": "https://stackoverflow.com/users/635148/chris-arena"}, "edited": false, "score": 0, "creation_date": 1424291270, "post_id": 28593153, "comment_id": 45493041, "body": "The use of else is to avoid trying to use integer_result if it&#39;s not valid. If an exception happened, integer_result was never assigned to, and so can&#39;t be used."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 1436, "user_id": 635148, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fadacf0501f7055f3419a485e1e69b6a?s=128&d=identicon&r=PG", "display_name": "Chris Arena", "link": "https://stackoverflow.com/users/635148/chris-arena"}, "edited": false, "score": 0, "creation_date": 1424291301, "post_id": 28593153, "comment_id": 45493062, "body": "@ChrisArena Because this is how try/except/else looks in Python? It&#39;s very readable to me, and it seems unPythonic to guard the print statement just to <i>not</i> use else, even though it won&#39;t cause problems here."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4412755"}, "edited": false, "score": 0, "creation_date": 1424292778, "post_id": 28593153, "comment_id": 45493908, "body": "i keep getting this error :  local variable &#39;ans1&#39; referenced before assignment"}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": true, "score": 5, "last_activity_date": 1424290866, "creation_date": 1424290866, "answer_id": 28593153, "question_id": 28593037, "link": "https://stackoverflow.com/questions/28593037/checking-if-a-variable-is-an-integer-or-not-on-python/28593153#28593153", "title": "checking if a variable is an integer or not on python", "body": "<p>In order to check if a string is integer-convertible, just try converting it and check for exceptions.</p>\n\n<pre><code>try:\n    integer_result = int(string_result)\nexcept ValueError:\n    print(\"not a valid integer\")\nelse:\n    print(\"value is\", integer_result)\n</code></pre>\n\n<p>To do this in your case, you want to extract the values from <code>ans1</code> &amp;c. beforehand, then pass the raw strings to <code>int()</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4412755"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2692, "favorite_count": 0, "accepted_answer_id": 28593153, "answer_count": 1, "score": 0, "last_activity_date": 1424291031, "creation_date": 1424290490, "question_id": 28593037, "link": "https://stackoverflow.com/questions/28593037/checking-if-a-variable-is-an-integer-or-not-on-python", "title": "checking if a variable is an integer or not on python", "body": "<p>I am making a maths test using tkinter. I have 4 entries to allow the user to input the answers of questions. the answers must be in integer format if not it will give a long error. I wanted my program to check if the inputted value is an integer or not.and then if it is not an integer open up a message box telling the user to check the answers.</p>\n\n<p>here is my code: (it's a long code because I didn't know how to shorten it, I'm not a programmer)</p>\n\n<pre><code>from tkinter import*\nfrom tkinter import messagebox\nfrom random import*\n\n\n\n\nn1= randint(1,6)\nn2= randint(1,9)\nques1 = n1, \"x\", n2, \"=\"\nc1= n1*n2\n\nn1= randint(8,15)\nn2= randint(1,7)\nques2 = n1, \"-\", n2, \"=\"\nc2= n1-n2\n\nn1= randint(1,10)\nn2= randint(5,15)\nques3 = n1, \"+\", n2, \"=\"\nc3= n1+n2\n\nn1= randint(5,12)\nn2= randint(1,10)\nques4 = n1, \"x\", n2, \"=\"\nc4= n1*n2\n\n#window\nwindow = Tk()\nwindow.geometry(\"280x450\")\nwindow.title(\"quiz\")\nwindow.configure(background='yellow')\n\ndef checkthrough():\n    if ans1.get() == '':\n        messagebox.showinfo(\"error\", \"check again \")\n    elif ans2.get() == '':\n        messagebox.showinfo(\"error\", \"check again \")\n    elif ans3.get() == '':\n        messagebox.showinfo(\"error\", \"check again \")\n    elif ans4.get() == '':\n        messagebox.showinfo(\"error\", \"check again \")\n    else:\n        save()\n    #this is where i tried to check if it's an integer or not\n    try:\n        ans1 == int()\n    except:\n        messagebox.showinfo(\"error\", \"check again \")\n\n\ndef save():\n    score = 0\n    if c1==int(ans1.get()): \n        score= score + 1\n    if c2==int(ans2.get()):\n        score = score+1\n    if c3==int(ans3.get()):\n        score = score+1\n    if c4==int(ans4.get()):\n        score = score+1\n    fscore.set(score)\n\n\n\ndef savetofile():\n    result = result =\"\\n \"+ namestudent.get() + \"            \" + fscore.get()+\"/4\"\n    messagebox.showinfo(\"results\", \"your results been saved successfuly\")\n    if int(year.get())==1:\n        f = open('results C1.txt', 'a')\n        f.write(result)\n        f.close()\n    if int(year.get())==2:\n        f = open('results C2.txt', 'a')\n        f.write(result)\n        f.close()\n    if int(year.get())==3:\n        f = open('results C3.txt', 'a')\n        f.write(result)\n        f.close()\n\n\n#frame\nframe = Frame(window)\nframe.columnconfigure(0, weight=1)\nframe.rowconfigure(0, weight=1)\n\n\n#variables\nnamestudent = StringVar()\nans1 = StringVar()\nans2 = StringVar()\nans3 = StringVar()\nans4 = StringVar()\nfscore = StringVar()\nyear = StringVar()\n\n#labels\nname = Label(window, text = \"type your name:\")\nname.grid(row= 6, column = 0)\n\nyr = Label(window, text = \"type your class:\")\nyr.grid(row= 7, column = 0)\n\nq1 = Label(window,text = ques1, height = 3, bg = 'yellow')\nq1.grid(row = 1,column=0)\n\nq2 = Label(window,text = ques2, height = 3, bg = 'yellow')\nq2.grid(row = 2,column=0)\n\nq3 = Label(window,text = ques3, height = 3, bg = 'yellow')\nq3.grid(row = 3,column=0)\n\nq4 = Label(window,text = ques4, height = 3, bg = 'yellow')\nq4.grid(row = 4,column=0)\n\n#entrys\nname_entry= Entry(window, textvariable= namestudent)\nname_entry.grid(row = 6, column=1)\n\nyr_entry= Entry(window, textvariable= year)\nyr_entry.grid(row = 7, column=1)\n\nq1_entry = Entry(window, width = 6, textvariable = ans1)\nq1_entry.grid(row = 1,column=1)\n\nq2_entry = Entry(window, width = 6, textvariable = ans2)\nq2_entry.grid(row = 2,column=1)\n\nq3_entry = Entry(window, width = 6, textvariable = ans3)\nq3_entry.grid(row = 3,column=1)\n\nq4_entry = Entry(window, width = 6, textvariable = ans4)\nq4_entry.grid(row = 4,column=1)\n\n#buttons\n\nfinish = Button(window, width = 5, text = \"finish\",command= checkthrough)\nfinish.grid(row = 5,column=0)\n\nfinalS_label = Label(window, textvariable=fscore)\nfinalS_label.grid(row=5, column=1)\n\nsaving = Button(window, width = 5, text = \"save\", command= savetofile)\nsaving.grid(row= 8, column=0)\n\n\nwindow.mainloop()\n</code></pre>\n\n<p>I read some other post about the same question and I tried to use their answers in my code but still I'm getting the same error.</p>\n\n<p>thanks.</p>\n"}, {"tags": ["python", "mamp"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1424291231, "post_id": 28593031, "comment_id": 45493011, "body": "So you know that MAMP is for Apache and <b>P</b>HP?"}, {"owner": {"reputation": 517, "user_id": 1086156, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/98aa42bf1af79e3bfde74dfbeb2ea1bb?s=128&d=identicon&r=PG", "display_name": "basbebe", "link": "https://stackoverflow.com/users/1086156/basbebe"}, "reply_to_user": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1424331657, "post_id": 28593031, "comment_id": 45507409, "body": "@u_mulder yes but the information on their website suggests that python scripts should work as well. Am I totally getting things wrong?"}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 1086156, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/98aa42bf1af79e3bfde74dfbeb2ea1bb?s=128&d=identicon&r=PG", "display_name": "basbebe", "link": "https://stackoverflow.com/users/1086156/basbebe"}, "is_accepted": true, "score": 0, "last_activity_date": 1427184932, "creation_date": 1427184932, "answer_id": 29227734, "question_id": 28593031, "link": "https://stackoverflow.com/questions/28593031/python-with-mamp-not-working/29227734#29227734", "title": "Python with MAMP not working", "body": "<p>I realized that I did not completely understand the way Python and Webservers interact and why it wouldn't work with MAMP out of the box.</p>\n\n<p>I'm now using a lightweight web framework (bottle) which has a small development server built in.</p>\n\n<p>The website later will be deployed using NGINX and uWSGI.</p>\n"}], "owner": {"reputation": 517, "user_id": 1086156, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/98aa42bf1af79e3bfde74dfbeb2ea1bb?s=128&d=identicon&r=PG", "display_name": "basbebe", "link": "https://stackoverflow.com/users/1086156/basbebe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 1, "accepted_answer_id": 29227734, "answer_count": 1, "score": 0, "last_activity_date": 1427184932, "creation_date": 1424290459, "question_id": 28593031, "link": "https://stackoverflow.com/questions/28593031/python-with-mamp-not-working", "title": "Python with MAMP not working", "body": "<p>I'm in the process of switching from PHP over to Python.</p>\n\n<p>The web project I'm on is very very small (probably just two to three script files) so I would prefer to avoid any framework and just work with Python.</p>\n\n<p>I'm running MAMP (not the Pro version) on OS X Yosemite.</p>\n\n<p>My python test file works fine when executed in the terminal.\nBut when I open it in the browser, it just shows the text connect of the file, not the output.</p>\n\n<p><code>PyTest.py</code></p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\n# enable debugging\n\nimport cgitb\ncgitb.enable()\n\nprint 'Content-Type: text/plain'\nprint\nprint 'Hello, World!'\n</code></pre>\n\n<p>I'm really new to Python. What am I missing?\nThanks!</p>\n"}, {"tags": ["python", "python-2.7", "attributeerror"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1424289958, "post_id": 28592851, "comment_id": 45492312, "body": "God, that is a lot of code to look through. What is the output of <code>type(object)</code>? Why are you not using new-style classes?"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 1, "creation_date": 1424289990, "post_id": 28592851, "comment_id": 45492328, "body": "Can you be more specific and accurate"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424290427, "post_id": 28592851, "comment_id": 45492559, "body": "In your function <code>move_towards</code>, you do <code>use_door(object)</code>. This is the first time in your code that <code>object</code> appears. What is it supposed to refer to? Did you intend to fetch an object from <code>map</code>?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1424290442, "post_id": 28592851, "comment_id": 45492567, "body": "As an aside, things like <code>self.ai.owner = self</code> create circular references that can keep an object from being deleted. Check out weak references."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1424290944, "post_id": 28592851, "comment_id": 45492865, "body": "You initialize <code>objects = [player]</code> but never tell us what <code>player</code> is. My bet is that it doesn&#39;t inherit from <code>Object</code> and doesn&#39;t have a <code>name</code> attribute. Correct?"}, {"owner": {"reputation": 3, "user_id": 3560848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e6a811b7ca995de2b8119bd9f9109a?s=128&d=identicon&r=PG&f=1", "display_name": "VedVid", "link": "https://stackoverflow.com/users/3560848/vedvid"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1424463322, "post_id": 28592851, "comment_id": 45574461, "body": "@Two-BitAlchemist - I&#39;m using old-style classes, beacause programming is only hoby, not my job. I learnt old-style classes first and there is clearer for me. Everything is referred to type(object)."}, {"owner": {"reputation": 3, "user_id": 3560848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e6a811b7ca995de2b8119bd9f9109a?s=128&d=identicon&r=PG&f=1", "display_name": "VedVid", "link": "https://stackoverflow.com/users/3560848/vedvid"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424463527, "post_id": 28592851, "comment_id": 45574573, "body": "@Kevin yes, I intend to check for object from map. If object with &#39;closed&#39; is in range +/- 1 x/y from NPC and NPC move to &#39;closed&#39; object, this object should change their properties."}, {"owner": {"reputation": 3, "user_id": 3560848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e6a811b7ca995de2b8119bd9f9109a?s=128&d=identicon&r=PG&f=1", "display_name": "VedVid", "link": "https://stackoverflow.com/users/3560848/vedvid"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1424463765, "post_id": 28592851, "comment_id": 45574688, "body": "@tdelaney ok, I will check out weak references, but I don&#39;t think that there is a source of a problem.  Player is an object created at beginning and &#39;player&#39; has a name attribute.  <code>player = Object(0, 0, &#39;@&#39;, &#39;Player&#39;, libtcod.white, blocks=True, fighter=fighter_component, remember=remember_component)</code> ( <code>(self, x, y, char, name, color, blocks=False, always_visible=False, remember=None, fighter=None, ai=None, item=None, equipment=None)</code> )."}], "answers": [{"tags": [], "owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "is_accepted": true, "score": 1, "last_activity_date": 1424290785, "creation_date": 1424290785, "answer_id": 28593134, "question_id": 28592851, "link": "https://stackoverflow.com/questions/28592851/python-attributeerror-typeobject-object-has-no-attribute-name-but-i-decla/28593134#28593134", "title": "Python; AttributeError: typeObject &#39;Object&#39; has no attribute &#39;name&#39;, but I declared &#39;name&#39; attribute", "body": "<p>Inside your <code>move_towards</code> function:</p>\n\n<pre><code>        elif is_door(self.x + ddx, self.y + ddy):\n            if ddx != 0:\n                use_door(object)\n                return\n            elif ddy != 0:\n                use_door(object)\n                return\n</code></pre>\n\n<p>It looks like you intended for <code>use_door</code>'s argument to be the Object at coordinates <code>self.x + ddx, self.y + ddy</code>, but that's not what you're passing here. You're just passing the built-in <code>object</code> class, which has nothing to do with the <code>Object</code> class you defined. I can't tell from your code snippets whether this is possible, but try fetching the object from <code>map</code>.</p>\n\n<pre><code>        elif is_door(self.x + ddx, self.y + ddy):\n            if ddx != 0:\n                use_door(map[self.x + ddx][self.y + ddy])\n                return\n            elif ddy != 0:\n                use_door(map[self.x + ddx][self.y + ddy])\n                return\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3560848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e6a811b7ca995de2b8119bd9f9109a?s=128&d=identicon&r=PG&f=1", "display_name": "VedVid", "link": "https://stackoverflow.com/users/3560848/vedvid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1320, "favorite_count": 0, "accepted_answer_id": 28593134, "answer_count": 1, "score": -2, "last_activity_date": 1424290785, "creation_date": 1424289802, "question_id": 28592851, "link": "https://stackoverflow.com/questions/28592851/python-attributeerror-typeobject-object-has-no-attribute-name-but-i-decla", "title": "Python; AttributeError: typeObject &#39;Object&#39; has no attribute &#39;name&#39;, but I declared &#39;name&#39; attribute", "body": "<p>I (re)searched a lot about this problem, but I didn't manage to find proper answer/solution, although many subjects is about similar problem.</p>\n\n<p>I make roguelike game (with libtcodpy library) and I encountered a problem.</p>\n\n<p>I have class Object, classes that control opponents and function which opens the door.</p>\n\n<p>class Object:</p>\n\n<pre><code>class Object:\n    #obiekty\n    def __init__(self, x, y, char, name, color, blocks=False, always_visible=False, remember=None, fighter=None, ai=None, item=None, equipment=None):\n        self.x = x\n        self.y = y\n        self.char = char\n        self.name = name\n        self.color = color\n        self.blocks = blocks\n        self.always_visible = always_visible\n\n        self.remember = remember\n\n        if self.remember:\n            self.remember.owner = self\n\n        self.fighter = fighter\n        if self.fighter: \n            self.fighter.owner = self\n\n        self.ai = ai\n        if self.ai:\n            self.ai.owner = self\n\n        self.item = item\n        if self.item:\n            self.item.owner = self\n\n        self.equipment = equipment\n        if self.equipment:\n            self.equipment.owner = self\n\n        self.item = Item()\n            self.item.owner = self\n\n    def move(self, dx, dy):\n        #move if not blocked\n        if not is_blocked(self.x + dx, self.y + dy):\n            self.x += dx\n            self.y += dy    \n\n    def move_shop(self, dx, dy):\n        #move in shops\n        if not is_blocked(self.x + dx, self.y + dy) and is_object(self.x + dx, self.y + dy):\n            self.x += dx\n            self.y += dy\n\n    def move_towards(self, target_x, target_y):\n    #move to player\n        dx = target_x - self.x\n        dy = target_y - self.y\n        ddx = 0\n        ddy = 0\n        if dx &gt; 0:\n            ddx = 1\n        elif dx &lt; 0:\n            ddx = -1\n        if dy &gt; 0:\n            ddy = 1\n        elif dy &lt; 0:\n            ddy = -1\n        if not is_blocked(self.x + ddx, self.y + ddy):\n            self.move(ddx, ddy)\n        elif is_blocked(self.x + ddx, self.y + ddy):\n            if not is_door(self.x + ddx, self.y + ddy):\n                if ddx != 0:\n                    if not is_blocked(self.x + ddx, self.y):\n                        self.move(ddx, 0)\n                        return\n                if ddy != 0:\n                    if not is_blocked(self.x, self.y + ddy):\n                        self.move(0, ddy)\n                        return\n            elif is_door(self.x + ddx, self.y + ddy):\n                if ddx != 0:\n                    use_door(object)\n                    return\n                elif ddy != 0:\n                    use_door(object)\n                    return\n\ndef distance_to(self, other):\n    #return distance to object\n    dx = other.x - self.x\n    dy = other.y - self.y\n    return math.sqrt(dx ** 2 + dy ** 2)\n\ndef distance(self, x, y):\n    #return distance to coords\n    return math.sqrt((x - self.x) ** 2 + (y - self.y) ** 2)\n\ndef send_to_back(self):\n    #drawning objects\n    global objects\n    objects.remove(self)\n    objects.insert(0, self)\n\ndef draw(self):\n    if (libtcod.map_is_in_fov(fov_map, self.x, self.y) or\n            (self.always_visible and map[self.x][self.y].explored)):\n        libtcod.console_set_default_foreground(con, self.color)\n        libtcod.console_put_char(con, self.x, self.y, self.char, libtcod.BKGND_NONE)\n\ndef clear(self):\n    #erase\n    if libtcod.map_is_in_fov(fov_map, self.x, self.y):\n        libtcod.console_put_char_ex(con, self.x, self.y, '.', libtcod.darker_yellow, libtcod.black)\n</code></pre>\n\n<p>simple 'ai' class for unique npc:</p>\n\n<pre><code>class ImpNPC1_2:\n    global friendly_villages, hostile_villages, hostile_npc\n\n    memory_x = None\n    memory_y = None\n\n    def take_turn(self):\n        #monsters turn\n        monster = self.owner\n            if '2npc_1c' not in hostile_npc:\n                if '1st_city' in friendly_villages:\n                    if libtcod.map_is_in_fov(fov_map, monster.x, monster.y):\n                        self.owner.move_shop(libtcod.random_get_int(0, -1, 1), libtcod.random_get_int(0, -1, 1))\n                if '1st_city' in hostile_villages:\n                    if libtcod.map_is_in_fov(fov_map, monster.x, monster.y):\n                        self.memory_x = player.x\n                        self.memory_y = player.y\n                        if monster.distance_to(player) &gt;= 2:\n                            monster.move_towards(player.x, player.y)\n\n                        elif player.fighter.hp &gt; 0:\n                            monster.fighter.attack(player)\n                    elif self.memory_x != None and self.memory_y != None: #simple fake-memory\n                        monster.move_towards(self.memory_x, self.memory_y)\n                        if monster.x == self.memory_x and monster.y == self.memory_y or libtcod.random_get_int(0, 0, 100) &gt; AI_INTEREST:\n                            self.memory_x = None\n                            self.memory_y = None\n                    else:\n                        while True:\n                            x = libtcod.random_get_int(0, monster.x - 20, monster.x + 20)\n                            y = libtcod.random_get_int(0, monster.y - 20, monster.y + 20)\n                            if can_walk_between(monster.x, monster.y, x, y): break\n                        self.memory_x = x\n                        self.memory_y = y\n            if '2npc_1c' in hostile_npc:\n                if libtcod.map_is_in_fov(fov_map, monster.x, monster.y):\n                    self.memory_x = player.x\n                    self.memory_y = player.y\n                    if monster.distance_to(player) &gt;= 2:\n                        monster.move_towards(player.x, player.y)\n                    elif player.fighter.hp &gt; 0:\n                        monster.fighter.attack(player)\n                elif self.memory_x != None and self.memory_y != None:\n                    monster.move_towards(self.memory_x, self.memory_y)\n                    if monster.x == self.memory_x and monster.y == self.memory_y or libtcod.random_get_int(0, 0, 100) &gt; AI_INTEREST:\n                        self.memory_x = None\n                        self.memory_y = None\n                else:\n                    while True:\n                        x = libtcod.random_get_int(0, monster.x - 20, monster.x + 20)\n                        y = libtcod.random_get_int(0, monster.y - 20, monster.y + 20)\n                        if can_walk_between(monster.x, monster.y, x, y): break\n                    self.memory_x = x\n                    self.memory_y = y\n</code></pre>\n\n<p>(yup, I know this is repetitive, but I'm going to specify npc's behavior while in hostile_village).</p>\n\n<p>Function use_door:</p>\n\n<pre><code>#DRZWI\ndef use_door(object):\n    if 'locked' in object.name:\n        message('The door is locked.', libtcod.white)\n        return\n\n    if 'closed' in object.name:\n        map[object.x][object.y].blocked = False\n        map[object.x][object.y].block_sight = False\n        map[object.x][object.y].it_is_door = False\n        object.blocks = False\n        object.char = '/'\n        object.name = 'open door'\n        fov_recompute = True\n    for obj in objects:\n        if 'closed' in obj.name and obj.x == object.x + 1 and obj.y == object.y:\n            return\n        if 'closed' in obj.name and obj.x == object.x - 1 and obj.y == object.y:\n            return\n        if 'closed' in obj.name and obj.x == object.x and obj.y == object.y + 1:\n            return\n        if 'closed' in obj.name and obj.x == object.x and obj.y == object.y - 1:\n            return\n    initialize_fov()\n    return\n\n    if 'open' in object.name:\n        map[object.x][object.y].blocked = True\n        map[object.x][object.y].block_sight = True\n        map[object.x][object.y].it_is_door = True\n        object.blocks = True\n        object.char = '+'\n        object.name = 'closed door'\n        fov_recompute = True\n        for obj in objects:\n            if 'open' in obj.name and obj.x == object.x + 1 and obj.y == object.y:\n                return\n            if 'open' in obj.name and obj.x == object.x - 1 and obj.y == object.y:\n                return\n            if 'open' in obj.name and obj.x == object.x and obj.y == object.y + 1:\n                return\n            if 'open' in obj.name and obj.x == object.x and obj.y == object.y - 1:\n                return\n        initialize_fov()\n        return\n</code></pre>\n\n<p>Other code fragments (I think that this may be useful to locate problem):</p>\n\n<pre><code>def is_blocked(x, y):\n    #check blocktiles\n    if map[x][y].blocked:\n        return True\n\n    for object in objects:\n        if object.blocks and object.x == x and object.y == y:\n            return True\n\n    return False\n\ndef is_object(x, y):\n    #check objects\n    if map[x][y].it_is_object:\n        return True\n\n    for object in objects:\n        if object.blocks and object.x == x and object.y == y:\n            return True\n\n    return False\n\ndef is_door(x, y):\n    #check doors\n    if map[x][y].it_is_door:\n        return True\n\n    for object in objects:\n        if object.blocks and object.x == x and object.y == y:\n            return True\n\n    return False\n\n###ANOTHER_PIECE_OF_CODE\n\ndef make_1st_city():\n    global map\n    global objects\n    global village\n    global upstairs\n    global downstairs\n    objects = [player]\n    player.x = 3\n    player.y = 20\n    map = [ [ Tile(True) for y in range(MAP_HEIGHT) ] for x in range(MAP_WIDTH) ]\n    smap = ['################################################################################',\n            '#GGHHGGGHHGGGGHGGHGHGGGHGGHGGHHGGHGHGGHHGGHGGHGHGGGHGHHHGGHGGGHHGGGHHGGHGHGHGHG#',\n            '#G1111111111111111111111111111111111111111111111111111111111111111111111111111G#',\n            '#H1676767676767676767676111111111111111111111111111111122222222222221111111111G#',\n            '#G16767676767676767676761111111111111111111111111111111KJJJJJJJJJJJ21111111111H#',\n            '#G167676767676767676767611222222K2222222K222221111111113JJJJJJJJJJJ21111111111G#',\n            '#H1676767676767676767676112JJJJJJJJJJJJJJJJJJ2111111111KJJJJJJJJJJJ21111111111H#',\n            '#G1676767676767676767676112JJJJJJJJJJJJJJJJJJ211111111122222222222221111111111G#',\n            '#H167676767676767676767611KJJJJJJJJJJJJJJJJJJK11111111111111111111111111111111G#',\n            '#H1676767676767676767676112JJJJJJJJJJJJJJJJJJ211111111111111111111111111111111G#',\n            '#G16767676767676767676761122K2222K232K22222K2211111111111111111111111111111111H#',\n            '#G1111111111111111111111111111111111111111111111111111111111111111111111111111H#',\n            '#G1111111111111111111111111111111111111111111111111111111111111111111111111111G#',\n            '#H1111111111111111111111111111111111111111111111111111222222222222222211111111H#',\n            '#H11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#G11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G111111111112222K222K232K222K2222111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G111111111112JJJJJJJJJJJJJJJJJJJ2111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H11111111111KJJJJJJJJJJJJJJJJJJJK111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H111111111112JJJJJJJJJJJJJJJJJJJ2111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#H111111111112JJJJJJJJJJJJJJJJJJJ2111118181111111111113JJJJJJJJJJJJJJ211111111G#',\n            '#G111111111112JJJJJJJJJJJJJJJJJJJ2111111911111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#G11111111111KJJJJJJJJJJJJJJJJJJJK111118181111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#H111111111112JJJJJJJJJJJJJJJJJJJ2111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H11111111111222222222222222222222111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#H11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H11111111111111111111111111111111111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G11111111111232232232232232232211111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#G111111111112JJ2JJ2JJ2JJ2JJ2JJ211111111111111111111112JJJJJJJJJJJJJJ211111111G#',\n            '#H111111111112JJ2JJ2JJ2JJ2JJ2JJ211111111111111111111112JJJJJJJJJJJJJJ211111111H#',\n            '#G6776711111122222222222222222221111111111111111111111222222222222222211111111G#',\n            '#G6677666711111111111116676676766667111111111111111111116777676711111111111111H#',\n            '#54454667676777766766767745455444667667666761111166776677456676767611111111111H#',\n            '#41145544776745454544677451111144446667674466677677676745444545676676111111111H#',\n            '#41111114554541111114454511111111145664455444547776764541114444454676776711111G#',\n            '#51111111111111111111111111111111114444111111445544454411111144544567676767677H#',\n            '#41111111111111111111111111111111111111111111111111111111111111444445545666766H#',\n            '#41111111111111111111111111111111111111111111111111111111111111111555554545455G#',\n            '#GGGHHGHHHHHGGGGHGGHGHGGGHGHGGHGHGGHGHGGHGHGGGHGGGGHGHHGGGHGHGGHGHGHHGGHGHGGHGG#',\n            '################################################################################',]\n    MAP_HEIGHT1 = len(smap)\n    MAP_WIDTH1 = len(smap[0])\n    map = [ [ Tile(True) for y in range(MAP_HEIGHT) ] for x in range(MAP_WIDTH) ]\n    for y in range(MAP_HEIGHT1):\n        for x in range(MAP_WIDTH1):\n            if smap[y][x] != '#':\n                map[x][y] = Tile(False)\n            if smap[y][x] == '#':\n                map[x][y] = Tile(True)\n            if smap[y][x] == '1':\n                map[x][y] = Tile(False)\n            if smap[y][x] == '2':\n                wall = Object(x, y, '#', 'wall', libtcod.darker_gray, always_visible=True)\n                objects.append(wall)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '3':\n                door = Object(x, y, '+', 'closed door', libtcod.darkest_flame, always_visible=True)\n                objects.append(door)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = True\n            if smap[y][x] == '4':\n                mountain1 = Object(x, y, '^', 'mountain', libtcod.dark_gray, always_visible=True)\n                objects.append(mountain1)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '5':\n                mountain2 = Object(x, y, '^', 'mountain', libtcod.white, always_visible=True)\n                objects.append(mountain2)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '6':\n                long_grass1 = Object(x, y, ';', 'long grass', libtcod.desaturated_yellow, always_visible=True)\n                objects.append(long_grass1)\n                map[x][y].blocked = False\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '7':\n                long_grass2 = Object(x, y, ';', 'long grass', libtcod.desaturated_chartreuse, always_visible=True)\n                objects.append(long_grass2)\n                map[x][y].blocked = False\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '8':\n                tree = Object(x, y, 'T', 'tree', libtcod.dark_green, always_visible=True)\n                objects.append(tree)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == '9':\n                tree2 = Object(x, y, '\"', 'tree', libtcod.darker_orange, always_visible=True)\n                objects.append(tree2)\n                map[x][y].blocked = True\n                map[x][y].block_sight = False\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == 'G':\n                grass4 = Object(x, y, ',', 'grass', libtcod.darker_orange, always_visible=True)\n                objects.append(grass4)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == 'H':\n                grass6 = Object(x, y, ';', 'long grass', libtcod.darkest_orange, always_visible=True)\n                objects.append(grass6)\n                map[x][y].blocked = True\n                map[x][y].block_sight = True\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n            if smap[y][x] == 'J':\n                floor = Object(x, y, '.', 'floor', libtcod.darkest_orange, always_visible=True)\n                objects.append(floor)\n                map[x][y].blocked = False\n                map[x][y].block_sight = False\n                map[x][y].it_is_object = True\n                map[x][y].it_is_door = False\n            if smap[y][x] == 'K':\n                window = Object(x, y, '.', 'window', libtcod.lightest_sky, always_visible=True)\n                objects.append(window)\n                map[x][y].blocked = True\n                map[x][y].block_sight = False\n                map[x][y].it_is_object = False\n                map[x][y].it_is_door = False\n\n    npc = Object(32, 7, 't', '1st npc 1st city', libtcod.white, blocks=True, always_visible=False, ai=ImpNPC1_1())\n    objects.append(npc)\n    npc = Object(60, 4, 't', '2nd npc 1st city', libtcod.white, blocks=True, always_visible=False, ai=ImpNPC1_2())\n    objects.append(npc)\n    npc = Object(27, 22, 't', '3rd npc 1st city', libtcod.white, blocks=True, always_visible=False, ai=ImpNPC1_1())\n    objects.append(npc)\n    npc = Object(60, 22, 't', '4th npc 1st city', libtcod.white, blocks=True, always_visible=False, ai=ImpNPC1_1())\n    objects.append(npc)\n\n    upstairs = Object(3, 20, '&lt;', 'stairs', libtcod.white, always_visible=True)\n    objects.append(upstairs)\n    upstairs.send_to_back()\n\n    downstairs = Object(30, 41, '^', 'mountain', libtcod.white, always_visible=False)\n    objects.append(downstairs)\n</code></pre>\n\n<p>What's the problem? Player and the computer use the same mechanics of opening the door. Player can open doors, without problems, bugs and crashes. When computer try to open a door, application crash.</p>\n\n<p>Traceback:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 13441, in &lt;module&gt;\n    main_menu()\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 13422, in main_menu\n    play_game()\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 13404, in play_game\n    object.ai.take_turn()\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 633, in take_turn\n    monster.move_towards(player.x, player.y)\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 252, in move_towards\n    use_door(object)\n  File \"D:/progr/python/ide/pycharm/proj/humfall/#ASCII/hf_t2.py\", line 11272, in use_door\n    if 'locked' in object.name:\nAttributeError: type object 'object' has no attribute 'name'\n24 bits font.\nkey color : 0 0 0\n24bits greyscale font. converting to 32bits\n</code></pre>\n\n<p>I know that calling the class 'Object' is unfortunate, but if I change replace this by Thing, trackback is the same: only \"AttributeError: type object 'object' has no attribute 'name' \" changes to \"AttributeError: class Thing has no attribute 'name' \"</p>\n"}, {"tags": ["python", "csv", "encoding", "utf-8", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424291603, "post_id": 28593122, "comment_id": 45493247, "body": "<code>chardet</code> runs for ages on a 25mb file... Thanks for the lead though"}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424291913, "post_id": 28593122, "comment_id": 45493435, "body": "The encoding is <code>ISO-8859-2</code> according to <code>chardet</code>"}, {"owner": {"reputation": 64, "user_id": 1300071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/040bd274c4be347b47ba452c8659cda5?s=128&d=identicon&r=PG", "display_name": "vankovsky", "link": "https://stackoverflow.com/users/1300071/vankovsky"}, "reply_to_user": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424324101, "post_id": 28593122, "comment_id": 45504672, "body": "Did you try decode first, and than encode?  (.decode(&#39;iso-8859-2&#39;).encode(&#39;utf-8&#39;))"}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424353517, "post_id": 28593122, "comment_id": 45519873, "body": "Yes. I ended up copy/pasting the text in a new textfile. This was a workable solution for now."}], "tags": [], "owner": {"reputation": 64, "user_id": 1300071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/040bd274c4be347b47ba452c8659cda5?s=128&d=identicon&r=PG", "display_name": "vankovsky", "link": "https://stackoverflow.com/users/1300071/vankovsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1424290771, "creation_date": 1424290771, "answer_id": 28593122, "question_id": 28592765, "link": "https://stackoverflow.com/questions/28592765/python-open-csv-file-with-supposedly-mixed-encodings/28593122#28593122", "title": "Python open CSV file with supposedly mixed encodings?", "body": "<p>What is the version of your python?\nIf use the 2.x try to paste the import at the beginning of your script:</p>\n\n<pre><code>from __future__ import unicode_literals\n</code></pre>\n\n<p>than try:</p>\n\n<pre><code>print(open(path).read().encode('utf-8'))\n</code></pre>\n\n<p>There is also a great tool for charset detections: <a href=\"https://pypi.python.org/pypi/chardet\" rel=\"nofollow\">chardet</a>.\nI hope it'll help you.</p>\n"}, {"comments": [{"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424291698, "post_id": 28593347, "comment_id": 45493301, "body": "I know it says to ignore errors, but I&#39;m receiving the same error strangefully... &quot;cp850.py, line 19, in encode return codecs.charmap_encode(input,self.errors,encoding_map)[0] UnicodeEncodeError: &#39;charmap&#39; codec can&#39;t encode characters in position 62-63: character maps to&quot;"}, {"owner": {"reputation": 1270, "user_id": 4529329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFxIG.jpg?s=128&g=1", "display_name": "Yuri Malheiros", "link": "https://stackoverflow.com/users/4529329/yuri-malheiros"}, "reply_to_user": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424291781, "post_id": 28593347, "comment_id": 45493354, "body": "By the way, I tried to read a file with only this big dot character, and it worked well."}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424292020, "post_id": 28593347, "comment_id": 45493489, "body": "I think the last code in my post (after edit) throws an exception on a different character... (just doublechecked, and it&#39;s the same character) However according to <code>chardet</code> the encoding seems to be <code>ISO-8859-2</code>."}, {"owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "edited": false, "score": 0, "creation_date": 1424292110, "post_id": 28593347, "comment_id": 45493549, "body": "Maybe it&#39;s the character right after: <code>\u2022</code> (smaller dot)"}], "tags": [], "owner": {"reputation": 1270, "user_id": 4529329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CFxIG.jpg?s=128&g=1", "display_name": "Yuri Malheiros", "link": "https://stackoverflow.com/users/4529329/yuri-malheiros"}, "is_accepted": false, "score": 2, "last_activity_date": 1424291563, "creation_date": 1424291563, "answer_id": 28593347, "question_id": 28592765, "link": "https://stackoverflow.com/questions/28592765/python-open-csv-file-with-supposedly-mixed-encodings/28593347#28593347", "title": "Python open CSV file with supposedly mixed encodings?", "body": "<p>You can use the <strong>errors</strong> parameter in the open function. You can try one of the options below (I extracted the descriptions from python documentation):</p>\n\n<ul>\n<li>'ignore' ignores errors. Note that ignoring encoding errors can lead to data loss.</li>\n<li>'replace' causes a replacement marker (such as '?') to be inserted where there is malformed data.</li>\n<li>'surrogateescape' will represent any incorrect bytes as code points in the Unicode Private Use Area ranging from U+DC80 to U+DCFF. These private code points will then be turned back into the same bytes when the surrogateescape error handler is used when writing data. This is useful for processing files in an unknown encoding.</li>\n</ul>\n\n<p>So, you can use:</p>\n\n<pre><code>print(open(path, encoding=\"utf-8\", errors=\"ignore\").read())\n</code></pre>\n"}], "owner": {"reputation": 16628, "user_id": 45311, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8e2cf9e01c59c7b8bb94e92a22f66e8?s=128&d=identicon&r=PG", "display_name": "Ropstah", "link": "https://stackoverflow.com/users/45311/ropstah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2911, "favorite_count": 0, "accepted_answer_id": 28593122, "answer_count": 2, "score": 0, "last_activity_date": 1424292039, "creation_date": 1424289520, "last_edit_date": 1495542495, "question_id": 28592765, "link": "https://stackoverflow.com/questions/28592765/python-open-csv-file-with-supposedly-mixed-encodings", "title": "Python open CSV file with supposedly mixed encodings?", "body": "<p>I'm trying read a CSV textfile (<em>UTF-8 without BOM according to Notepad++</em>) using Python. However there seems to be a problem with encoding:</p>\n\n<pre>\nprint(open(path, encoding=\"utf-8\").read())\n</pre>\n\n<blockquote>\n  <p>Codec can't decode byte <strong>08xf</strong></p>\n</blockquote>\n\n<p>This little character seems to be the problem: <code>\u25cf</code> (full string: \"\u25cf\u2022 \u0e2d\u0e35\u0e40\u0e1b\u0e35\u0e22\u0e02\u0e35\u0e49\u0e1a\u0e48\u0e19 \u062a \u2022\u25cf\"), however I'm sure there will be more.</p>\n\n<p>If I try UTF-16, then there is a message:</p>\n\n<pre>\n#also tried with encode\nprint(open(path, encoding=\"utf-16\").read().encode('utf-8'))\n</pre>\n\n<blockquote>\n  <p>Illegal UTF-16 surrogate</p>\n</blockquote>\n\n<p>Even when I try opening it with an automatic codec finder I receive the error. </p>\n\n<pre>def csv_unireader(f, encoding=\"utf-8\"):\n    for row in csv.reader(codecs.iterencode(codecs.iterdecode(f, encoding), \"utf-8\")):\n        yield [e.decode(\"utf-8\") for e in row]\n</pre>\n\n<p><strong>What am I overlooking? The file contains Twitter texts which contain a lot of different characters that's for sure. But this can't be such difficult task in Python, just reading/printing a file?</strong></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Just tried using the code from this answer: <a href=\"https://stackoverflow.com/a/14786752/45311\">https://stackoverflow.com/a/14786752/45311</a></p>\n\n<pre>\nimport csv\n\nwith open('source.csv', newline='', encoding='utf-8') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print(row)\n</pre>\n\n<p>This at least prints some rows to the screen, but it also throws an error after some rows:</p>\n\n<blockquote>\n  <p><strong>cp850.py</strong>, line 19, in encode\n  return codecs.charmap_encode(input,self.errors,encoding_map)[0]\n  UnicodeEncodeError: 'charmap' codec can't encode characters in position 62-63:\n  character maps to </p>\n</blockquote>\n\n<p>It seems to automatically use <code>CP850</code> which is another encoding... I can't make sense out of all this....</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": true, "score": 1, "last_activity_date": 1424290206, "creation_date": 1424290206, "answer_id": 28592958, "question_id": 28592753, "link": "https://stackoverflow.com/questions/28592753/python-indexerror-index-7-out-of-range-0-index7-in-dimension-0/28592958#28592958", "title": "Python: IndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0", "body": "<p>If the index range is 0&lt;=index&lt;7, that means that the dimension for that range is 7, not 8. Check what the shape of your matrix actually is at that time, and make sure it wasn't mistakenly created too small.</p>\n"}, {"tags": [], "owner": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "is_accepted": false, "score": 0, "last_activity_date": 1424290272, "creation_date": 1424290272, "answer_id": 28592979, "question_id": 28592753, "link": "https://stackoverflow.com/questions/28592753/python-indexerror-index-7-out-of-range-0-index7-in-dimension-0/28592979#28592979", "title": "Python: IndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0", "body": "<p>Array starts with 0. So your first element 1 is array[0]. 8th element assume index out of bound. Because elem of 8 assume array[7] Sorry if this does not make sense. But array 7 element does not exists, the last element in array is merely array[6]...</p>\n"}, {"tags": [], "owner": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "is_accepted": false, "score": 0, "last_activity_date": 1424290327, "creation_date": 1424290327, "answer_id": 28593000, "question_id": 28592753, "link": "https://stackoverflow.com/questions/28592753/python-indexerror-index-7-out-of-range-0-index7-in-dimension-0/28593000#28593000", "title": "Python: IndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0", "body": "<p>The error is pretty self explanatory</p>\n\n<pre><code>IndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0\n</code></pre>\n\n<p>You asked for element 7, but the range is from 0 to 6.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 28592958, "answer_count": 3, "score": 0, "last_activity_date": 1424290327, "creation_date": 1424289488, "question_id": 28592753, "link": "https://stackoverflow.com/questions/28592753/python-indexerror-index-7-out-of-range-0-index7-in-dimension-0", "title": "Python: IndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0", "body": "<p>this problem probably has a simple cause, but I don't see it now, and maybe someone else will run into a similar problem.</p>\n\n<p>Once the program will be working, it will do american option pricing.\nHere is the puzzle:</p>\n\n<pre><code>option_price = numpy.zeros(shape = (time_steps, time_steps))\nstock_price = ... #computed earlier, as a matrix with the same dimensions as option_price\n    if (putcall =='Put'):\n        '''see if the option at that final price should have been executed or not'''\n        option_price[time_steps-1, time_steps-1] = max([ (strike - stock_price[time_steps-1, time_steps-1]), 0])\n        option_price[time_steps-1, time_steps-2] = max([ (strike - stock_price[time_steps-1, time_steps-2]), 0])\n        '''recursively determine if the option at that time and price should have been executed or not'''\n</code></pre>\n\n<p>and when I call this method with time_steps = 8, the error message that I get is:</p>\n\n<pre><code>option_price[time_steps-1, time_steps-1] = max([ (strike - stock_price[time_steps-1, time_steps-1]), 0])\nIndexError: index (7) out of range (0&lt;=index&lt;7) in dimension 0\n</code></pre>\n\n<p>After this message, I would try to fix the indexing - if I could see what is wrong with the current indexing. Is it forbidden to calculate entries of a matrix from a matrix with the same dimensions? Or is there some other problem which is only manifested this way?</p>\n\n<p>Thank you very much in advance! I would highly appreciate if, instead of downvoting, you could say specifically what you don't like about this problem.</p>\n"}, {"tags": ["python", "image"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1424289506, "post_id": 28592660, "comment_id": 45492006, "body": "At least part of your problem is, as written, your <code>do_GET</code> is defined inside your <code>do_HEAD</code> method and is not a method of the handler class.  That being the case your <code>do_GET</code> will never be called.  It&#39;s possible the HTML is being loaded from some other path."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424289756, "post_id": 28592660, "comment_id": 45492179, "body": "Where do you actually send your imge. You only seem to send the headers...."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 2, "creation_date": 1424289878, "post_id": 28592660, "comment_id": 45492256, "body": "Unrelatedly, assuming your indentation problems are just a transcription error, it looks like your <code>self.path == &#39;bg.jpg&#39;</code> clause does not actually send the file content at all."}, {"owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "edited": false, "score": 0, "creation_date": 1424291579, "post_id": 28592660, "comment_id": 45493227, "body": "Its just this weird stackoverflow codinf thing, idention is fine in my file."}, {"owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "edited": false, "score": 0, "creation_date": 1424291623, "post_id": 28592660, "comment_id": 45493255, "body": "I did t write anything in == &#39;bg.jpg&#39; because all my previous tries failds :("}], "answers": [{"comments": [{"owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "edited": false, "score": 0, "creation_date": 1424360027, "post_id": 28593212, "comment_id": 45524331, "body": "thank you for your help, but I do not exactly get what you mean with &#39;read a bytes&#39;, do you have an example? Thanks in advance!"}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": true, "score": 1, "last_activity_date": 1424291088, "creation_date": 1424291088, "answer_id": 28593212, "question_id": 28592660, "link": "https://stackoverflow.com/questions/28592660/write-image-to-webpage-with-python-3/28593212#28593212", "title": "Write image to webpage with python 3", "body": "<p>To send an image over HTTP, just write the image data directly to the socket, like for any other type of file. You can't use your <code>load()</code> function for this, since that encodes the text as UTF-8. Instead, you should open the file with mode <code>rb</code> or similar, read a <code>bytes</code> from that filehandle, then write it directly to <code>self.wfile</code> in the HTTP handler.</p>\n"}], "owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 28593212, "answer_count": 1, "score": 0, "last_activity_date": 1454592656, "creation_date": 1424289196, "last_edit_date": 1424289442, "question_id": 28592660, "link": "https://stackoverflow.com/questions/28592660/write-image-to-webpage-with-python-3", "title": "Write image to webpage with python 3", "body": "<p>I have currently got this code set up:</p>\n\n<pre><code>    import time\n    import http.server\n    import socketserver\n    import mimetypes\n    import os\n\n    HOST_NAME = 'localhost'\n    PORT = 8000\n\n\n    def load(self):\n        with open(self, 'r') as self:\n        self = self.read()\n        return self.encode('UTF-8')\n\n\n\n    class MyHandler(http.server.BaseHTTPRequestHandler):\n        def do_HEAD(self):\n            self.send_response(200)\n            self.send_header(\"Content-type\", \"text/html\")\n            self.end_headers()\n            def do_GET(self):\n                    if self.path == \"/\":\n                        self.send_response(200)\n                        self.send_header(\"Content-type\", \"text/html\")\n                        self.end_headers()\n                        self.wfile.write(load('index.html'))\n                    if self.path.endswith('.css'):\n                        self.send_response(200)\n                        self.send_header(\"Content-type\", \"text/css\")\n                        self.end_headers()\n                        dest = self.path.replace(\"/\", \"\")\n                        self.wfile.write(load(dest))\n                    if self.path == \"/bg.jpg\":\n                        self.send_response(200)\n                        self.send_header(\"Content-type\", \"image/jpeg\")\n                        self.end_headers()\n\n    if __name__ == '__main__':\n        httpd = socketserver.TCPServer((\"\", PORT), MyHandler)\n        print(time.asctime(), \"Server Starts - %s:%s\" % (\"\", PORT))\n        try:\n            httpd.serve_forever()\n        except KeyboardInterrupt:\n            pass\n        httpd.server_close()\n        print(time.asctime(), \"Server Stops - %s:%s\" % (\"\", PORT))\n</code></pre>\n\n<p>My webpage seems to be working and I get my index.html and css loaded when I open up my webpage, however the image is not coming through, has anyone got any idea why?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 2, "creation_date": 1424289601, "post_id": 28592646, "comment_id": 45492071, "body": "I&#39;m guessing by &quot;array hasn&#39;t been initial&quot;, you mean &quot;when I create a new instance of the class, <code>langs</code> retains values that were added by previous instances&quot;. If you want <code>langs</code> to be new every time, create it inside the <code>__init__</code> method of the class instead of creating it directly under the <code>class</code> line."}], "answers": [{"comments": [{"owner": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "edited": false, "score": 0, "creation_date": 1424290892, "post_id": 28592810, "comment_id": 45492835, "body": "your statement is right. I am incorrect to execute class variable. But your code is wrong."}, {"owner": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "edited": false, "score": 0, "creation_date": 1424291524, "post_id": 28592810, "comment_id": 45493190, "body": "I execute your code is error. it omits super(LangsList, self).__init__(*args, **kwargs), so it can&#39;t be initial successfully."}, {"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "reply_to_user": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "edited": false, "score": 1, "creation_date": 1424291760, "post_id": 28592810, "comment_id": 45493339, "body": "@TonyYang oops, fixed."}], "tags": [], "owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1424291232, "last_edit_date": 1424291232, "creation_date": 1424289657, "answer_id": 28592810, "question_id": 28592646, "link": "https://stackoverflow.com/questions/28592646/array-hasnt-been-initial/28592810#28592810", "title": "Array hasn&#39;t been initial", "body": "<p>Your <code>langs</code> is a class variable, not an <em>instance</em> variable, so it's linked to the class definition (and thus shared everywhere), not any particular instance of the class.</p>\n\n<p>You probably want something more like:</p>\n\n<pre><code>class LangsList(sgmllib.SGMLParser):\n    def __init__(self, *args, **kwargs):\n        super(LangsList, self).__init__(*args, **kwargs)\n        self.is_span = \"\"\n        self.langs = []\n</code></pre>\n\n<p>where you're creating the instance variables upon initialization.</p>\n"}], "owner": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1424289657, "accepted_answer_id": 28592810, "answer_count": 1, "score": 0, "last_activity_date": 1424291232, "creation_date": 1424289139, "question_id": 28592646, "link": "https://stackoverflow.com/questions/28592646/array-hasnt-been-initial", "closed_reason": "Duplicate", "title": "Array hasn&#39;t been initial", "body": "<p>This is my code:</p>\n\n<pre><code>class LangList(SGMLParser):\n    is_span = \"\"\n    langs = []\n    def start_span(self, attrs):\n        for key, value in attrs:\n            if key == 'class' and value == 'lang':\n                self.is_span = 1\n    def end_span(self):\n        self.is_span = \"\"\n    def handle_data(self, text):\n        if self.is_span:\n            self.langs.append(text)\n\n...\n\nfor key in my_repositories.repositories.keys():\n    print key\n\n    each_repository_content = urllib2.urlopen(my_repositories.repositories[key]).read()\n\n    my_repository = LangList()\n    my_repository.feed(each_repository_content)\n\n    print my_repository.langs\n</code></pre>\n\n<p>This is result:</p>\n\n<pre><code>forensic_tools\n['Python']\ngoogle\n['Python', 'Python']\nListServices\n['Python', 'Python', 'Java', 'Perl']\nwin32-assembly-projects\n['Python', 'Python', 'Java', 'Perl', 'C']\n...\n</code></pre>\n\n<p>I am coding a application that get information of repositories from github member.</p>\n\n<p>When I output array, I find array hasn't been initial and exists repeat element. How do I solve this problem? </p>\n"}, {"tags": ["python", "module", "nested-loops"], "comments": [{"owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "edited": false, "score": 0, "creation_date": 1424289256, "post_id": 28592582, "comment_id": 45491842, "body": "You indentation seems to be out of sorts...never mind, you fixed it."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1424289397, "post_id": 28592582, "comment_id": 45491927, "body": "What do you mean <i>&quot;cancel it&quot;</i>?!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1424289493, "post_id": 28592582, "comment_id": 45491998, "body": "It&#39;s unclear what you&#39;re asking but the problem with it not exiting the <code>while</code> might be because the condition is written wrong. Try changing it to <code>while(studentFound == False) and (index &lt;= len(s) - 1):</code> otherwise you&#39;re doing a bitwise <code>&amp;</code> operation not a logical AND. You also need to change the assignment statement to <code>studentFound = True</code>, not <code>==</code>."}, {"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424291936, "post_id": 28592582, "comment_id": 45493444, "body": "Sorry. I learned some Java last year and now I&#39;m taking a course with Python involved and I did not know if that worked. I also used to have a tendency to put all of my works into classes."}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 1, "creation_date": 1424292004, "post_id": 28592582, "comment_id": 45493472, "body": "It seems that what&#39;s meant by &#39;module&#39; is &#39;function&#39;, and what&#39;s meant by &#39;cancel&#39; is something like &#39;break&#39; or &#39;return&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424291306, "post_id": 28592732, "comment_id": 45493068, "body": "I am fairly new to Python and still learning my way around some things so I thought I&#39;d ask, what does the <code>for index, candidate in enumerate(s)</code> do? Thank you."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "reply_to_user": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424293502, "post_id": 28592732, "comment_id": 45494331, "body": "Do you know what <code>for candidate in s:</code> does? If not, the Python tutorial will show you: <a href=\"https://docs.python.org/2/tutorial/controlflow.html#for-statements\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/controlflow.html#for-statements</a> . <code>enumerate(s)</code> is a built in function that returns an iterable that gives you the index as well as the value from an input iterable, eg <code>enumerate([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</code> will yield <code>(0, &#39;a&#39;)</code>, then <code>(1, &#39;b&#39;)</code>, then <code>(2, &#39;c&#39;)</code>."}, {"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424377154, "post_id": 28592732, "comment_id": 45535183, "body": "I think I know what <code>for candidate in s:</code> does, but I will check out the tutorial anyways (thank you). You said <code>enumerate()</code> is a built-in function; can I use this only in lists, only in arrays, or both? So <code>enumerate()</code> will show the index number of an element, along with the element itself? Thank you for taking the time to respond in the first place. Have a great day!                                                                                With kind regards, Ghost_Programmer"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "reply_to_user": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424377445, "post_id": 28592732, "comment_id": 45535338, "body": "<code>enumerate()</code> can be called on any iterable (<a href=\"http://stackoverflow.com/a/9884259/2337736\">stackoverflow.com/a/9884259/2337736</a> for further definitions) - both built in lists and the <code>array.array</code> class from the standard library included. And, yes, it will show the index and the element - it&#39;s the standard way to step through an iterable when you might need the index in Python, rather than incrementing an index value as you might in C or Java."}, {"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424377554, "post_id": 28592732, "comment_id": 45535416, "body": "I think I understand. Thank you!"}], "tags": [], "owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "is_accepted": false, "score": 0, "last_activity_date": 1424289746, "last_edit_date": 1424289746, "creation_date": 1424289430, "answer_id": 28592732, "question_id": 28592582, "link": "https://stackoverflow.com/questions/28592582/python-module-cancelation/28592732#28592732", "title": "Python module cancelation", "body": "<p><code>studentFound == True</code> does not change the value of <code>studentFound</code>. Use a single <code>=</code> for assignment. Or just use <code>break</code> for a simple case like this.</p>\n\n<p>You usually don't use <code>while</code> loops to iterate over sequences in Python - instead, something like this would be better if you don't want to use the built-in <code>index</code> method:</p>\n\n<pre><code>for index, candidate in enumerate(s):\n    if candidate == searchValue:\n        print(\"Name\", searchValue, \"was found at index\", index)\n        break\n</code></pre>\n\n<p>But one problem at a time.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424291600, "post_id": 28592740, "comment_id": 45493241, "body": "Thank you for your help. This code made my program run perfectly. Have a great day!"}], "tags": [], "owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "is_accepted": true, "score": 1, "last_activity_date": 1424289454, "creation_date": 1424289454, "answer_id": 28592740, "question_id": 28592582, "link": "https://stackoverflow.com/questions/28592582/python-module-cancelation/28592740#28592740", "title": "Python module cancelation", "body": "<p>The correct way to implement your <code>byRank()</code> function is using the <code>list.index()</code> method made just for that purpose. Try something more like:</p>\n\n<pre><code>def byRank():\n    searchValue = input(\"Student to be found: \")\n    try:\n        index = s.index(searchValue)\n    except ValueError:\n        print(\"Name is not in the array.\")\n    else:\n        print(\"Name\", searchValue, \"was found at index\", index)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424290279, "post_id": 28592772, "comment_id": 45492494, "body": "Thank you all for your help. I was just making myself some lunch but I will try these solutions in the order in which they were posted. Thank you all again!"}, {"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424290602, "post_id": 28592772, "comment_id": 45492668, "body": "I will try the other answers (the ones that do not have the green check-mark) and see if they work as well. Thank you all for your help and have a wonderful day! With kind regards, Ghost_Programmer"}, {"owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "edited": false, "score": 0, "creation_date": 1424290767, "post_id": 28592772, "comment_id": 45492764, "body": "This is just something I am putting together for school, but I will most likely change up my coding style in the future. Thank you."}], "tags": [], "owner": {"reputation": 10100, "user_id": 590028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43c6ce77252e438b40b96f5c68cf3432?s=128&d=identicon&r=PG", "display_name": "user590028", "link": "https://stackoverflow.com/users/590028/user590028"}, "is_accepted": false, "score": 0, "last_activity_date": 1424289554, "creation_date": 1424289554, "answer_id": 28592772, "question_id": 28592582, "link": "https://stackoverflow.com/questions/28592582/python-module-cancelation/28592772#28592772", "title": "Python module cancelation", "body": "<p>You have several errors in your code. The biggest error is your while loop test.  Here are the fixes</p>\n\n<pre><code>def byRank():\n    studentFound = False\n    index = 0\n    searchValue = raw_input(\"Student to be found: \")\n    while not studentFound and index &lt; len(s):\n        if s[index] == searchValue:\n            studentFound = True\n            print(\"Name \", searchValue, \" was found at index \", index)\n        else:\n            index += 1\n            print(\"Name not found. Searching...\")\n    print(\"Name is not in the array.\")\n</code></pre>\n\n<p>FYI -- Tom Hunt's answer is the better way to write the code if you're willing to throw away your work.</p>\n"}], "owner": {"reputation": 45, "user_id": 4508342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86cfc50d2cdfdec115c26f9e4eec4745?s=128&d=identicon&r=PG&f=1", "display_name": "Ghost_Programmer", "link": "https://stackoverflow.com/users/4508342/ghost-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 28592740, "answer_count": 3, "score": 0, "last_activity_date": 1424289746, "creation_date": 1424288953, "last_edit_date": 1424289284, "question_id": 28592582, "link": "https://stackoverflow.com/questions/28592582/python-module-cancelation", "title": "Python module cancelation", "body": "<p>I am aware that you can call a Module in Python within itself, but can you also cancel it within itself? This code is supposed to only display that the name was found, one time. It continues to print until I interrupt the program with and get <code>KeyboardInterrupt</code> from the IDLE. Can I have some help on what I should put in or change? P.S.: I have Python 3.4.2</p>\n\n<pre><code>from array import *\ns = [\"Turner\", \"Philips\", \"Stevenson\", \"Jones\", \"Gonzalez\",\n\"Whitaker\", \"Bruner\", \"Webster\", \"Foster\", \"Anderson\",\n\"Klein\", \"Connors\", \"Rivers\", \"Wilson\", \"Duncan\"]\ng = [94, 82, 87, 78, 65,\n90, 85, 97, 70, 100,\n57, 88, 73, 92, 84]\n\ns.sort()\nfor i in range(15):\n    idx = int(i)\n\n    studentList = s[idx]\n    gradeList = g[idx]\n\n    print(studentList, gradeList)\n\nprint(\"\")\nprint(\"Student five: \", s[4], g[4])\nprint(\"Student ten: \", s[9], g[9])\nprint(\"Student fifteen: \", s[14], g[14])\n\ngradeAverage = (g[0] + g[1] + g[2] + g[3] + g[4] + g[5] + g[6] + g[7] + g[8]\n              + g[9] + g[10] + g[11] + g[12] + g[13] + g[14]) / 15\n\nprint(\"\")\nprint(\"The average of the list of the grades is: \", gradeAverage)\nprint(\"The median of the list of grades is: \", g[7])\nprint(\"\")\n\ndef byRank():\n    studentFound = False\n    index = 0\n    searchValue = input(\"Student to be found: \")\n    while(studentFound == False) &amp; (index &lt;= len(s) - 1):\n        if s[index] == searchValue:\n            studentFound == True\n            print(\"Name\", searchValue, \"was found at index\", index)\n        else:\n            index = index + 1\n            print(\"Name not found. Searching...\")\n    print(\"Name is not in the array.\")\n\nbyRank()\n</code></pre>\n"}, {"tags": ["python", "math", "average"], "comments": [{"owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1424289201, "post_id": 28592580, "comment_id": 45491815, "body": "python3 if that helps"}, {"owner": {"reputation": 10839, "user_id": 1126127, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ac5eb6a83c3e7d40a197e8cf32f26faf?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1126127/alexander"}, "edited": false, "score": 0, "creation_date": 1424289269, "post_id": 28592580, "comment_id": 45491854, "body": "The downvotes here remind me the &quot;Soup nazi&quot; episode ..."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "edited": false, "score": 0, "creation_date": 1424289381, "post_id": 28592623, "comment_id": 45491911, "body": "is numpy in python 3 and above because its saying on mine that it the module is not there"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "edited": false, "score": 0, "creation_date": 1424289431, "post_id": 28592623, "comment_id": 45491956, "body": "You have to install <code>numpy</code>, it does not ship with Python"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 1, "last_activity_date": 1424289076, "creation_date": 1424289076, "answer_id": 28592623, "question_id": 28592580, "link": "https://stackoverflow.com/questions/28592580/working-out-an-average-of-the-values-in-a-dictionary/28592623#28592623", "title": "working out an average of the values in a dictionary", "body": "<p>You can use <code>numpy.mean</code> in a generator expression to get the average for each student. You can use this paradigm in general to get other statistics.</p>\n\n<pre><code>&gt;&gt;&gt; from numpy import mean\n&gt;&gt;&gt; class_1 = {'Bob':[9,5,4,3,3,4], 'John':[5,5,7,3,6], 'Andy':[7,5,6,4,5], 'Harris':[3,4,2,3,2,3,2]}\n&gt;&gt;&gt; class_1_average = {name: mean(values) for name, values in class_1.items()}\n&gt;&gt;&gt; class_1_average\n{'John': 5.2000000000000002, 'Harris': 2.7142857142857144, 'Andy': 5.4000000000000004, 'Bob': 4.666666666666667}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "edited": false, "score": 0, "creation_date": 1424289621, "post_id": 28592650, "comment_id": 45492082, "body": "also how would i find the highest value from all the scores in the list"}, {"owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "edited": false, "score": 0, "creation_date": 1424290024, "post_id": 28592650, "comment_id": 45492349, "body": "no im trying to find the max for each seperate name"}, {"owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "edited": false, "score": 0, "creation_date": 1424290083, "post_id": 28592650, "comment_id": 45492387, "body": "So that i can have another dictionary with highscores and names"}], "tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": true, "score": 3, "last_activity_date": 1424290134, "last_edit_date": 1424290134, "creation_date": 1424289165, "answer_id": 28592650, "question_id": 28592580, "link": "https://stackoverflow.com/questions/28592580/working-out-an-average-of-the-values-in-a-dictionary/28592650#28592650", "title": "working out an average of the values in a dictionary", "body": "<p>try like this:</p>\n\n<pre><code>class_1_average = {key: sum(value)/len(value) for key, value in class_1.items()}\n</code></pre>\n\n<p>For max value: you can use max built-in function over the value  of dictionary</p>\n\n<pre><code>max_each = {key: max(value) for key, value in class_1.items()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "is_accepted": false, "score": 0, "last_activity_date": 1424289821, "last_edit_date": 1495542510, "creation_date": 1424289821, "answer_id": 28592855, "question_id": 28592580, "link": "https://stackoverflow.com/questions/28592580/working-out-an-average-of-the-values-in-a-dictionary/28592855#28592855", "title": "working out an average of the values in a dictionary", "body": "<p>One thing that comes to mind if you need to keep your <em>averages</em> updated \"in real time\" (although is probably <em>killing flies with nuclear weapons</em> and not really what you need) would be creating a custom class that inherits from the builtin <a href=\"https://docs.python.org/2/library/stdtypes.html#dict\" rel=\"nofollow noreferrer\">dict</a> type and extend it with an <code>averages</code> method:</p>\n\n<pre><code>import pprint\n\nclass MyDict(dict):\n    def averages(self):\n        averages = {}\n        for name, score_list in self.iteritems():\n            averages[name] = sum(score_list) / len(score_list)\n        return averages\n\nif __name__ == \"__main__\":\n    class_1 = MyDict({\n        'Bob': [9, 5, 4, 3, 3, 4],\n        'John': [5, 5, 7, 3, 6],\n        'Andy': [7, 5, 6, 4, 5],\n        'Harris': [3, 4, 2, 3, 2, 3, 2]\n    })\n\n    print \"class_1: %s\" % pprint.pformat(class_1)\n    print \"class_1_averages: %s\" % pprint.pformat(class_1.averages())\n    print \"Bob's average: %s\" % pprint.pformat(class_1.averages()['Bob'])\n    print \"Setting Bob's scores to [1, 1, 1]\"\n    class_1['Bob'] = [1, 1, 1]\n    print \"Bob's average: %s\" % pprint.pformat(class_1.averages()['Bob'])\n</code></pre>\n\n<p>That outputs:</p>\n\n<pre><code>class_1: {'Andy': [7, 5, 6, 4, 5],\n 'Bob': [9, 5, 4, 3, 3, 4],\n 'Harris': [3, 4, 2, 3, 2, 3, 2],\n 'John': [5, 5, 7, 3, 6]}\nclass_1_averages: {'Andy': 5, 'Bob': 4, 'Harris': 2, 'John': 5}\nBob's average: 4\nSetting Bob's scores to [1, 1, 1]\nBob's average: 1\n</code></pre>\n\n<p>Maybe you can use this as an idea of what Python allows you to do (which doesn't necessarily mean that you should be doing it this way) You're probably much better off with Hackaholic's <a href=\"https://stackoverflow.com/a/28592650/289011\">answer</a>.</p>\n"}], "owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 28592650, "answer_count": 3, "score": -1, "last_activity_date": 1424290134, "creation_date": 1424288947, "question_id": 28592580, "link": "https://stackoverflow.com/questions/28592580/working-out-an-average-of-the-values-in-a-dictionary", "title": "working out an average of the values in a dictionary", "body": "<p>My dictionary as of now is like this:</p>\n\n<pre><code>class_1 = {'Bob':[9,5,4,3,3,4], 'John':[5,5,7,3,6], 'Andy':[7,5,6,4,5], 'Harris':[3,4,2,3,2,3,2]}\n</code></pre>\n\n<p>What i am trying to make it look like is this:</p>\n\n<pre><code>class_1_average ={'Bob':[average of scores],'John':[average of scores].........\n</code></pre>\n\n<p>How can i do this so that even when the scores updates the average also updates with it. And is there also a way to find the highest score out of the scores</p>\n"}, {"tags": ["javascript", "python", "selenium", "webdriver"], "answers": [{"tags": [], "owner": {"reputation": 15014, "user_id": 3821981, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QKE9Z.jpg?s=128&g=1", "display_name": "Saifur", "link": "https://stackoverflow.com/users/3821981/saifur"}, "is_accepted": false, "score": 0, "last_activity_date": 1424289278, "last_edit_date": 1424289278, "creation_date": 1424289100, "answer_id": 28592634, "question_id": 28592558, "link": "https://stackoverflow.com/questions/28592558/how-do-i-use-python-variable-in-a-javascript/28592634#28592634", "title": "How do I use python variable in a javascript?", "body": "<p>If I am understanding the problem correctly you are trying to pass a <code>var</code>  instead of hard coded <code>XYZ</code></p>\n\n<pre><code>driver.execute_script(\"document.getElementById('text_field').value+='\" + var + \"'\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "is_accepted": false, "score": 1, "last_activity_date": 1424289186, "last_edit_date": 1424289186, "creation_date": 1424289111, "answer_id": 28592637, "question_id": 28592558, "link": "https://stackoverflow.com/questions/28592558/how-do-i-use-python-variable-in-a-javascript/28592637#28592637", "title": "How do I use python variable in a javascript?", "body": "<p>Unless I'm misisng something, one option is:</p>\n\n<pre><code>driver.execute_script(\"document.getElementById('text_field').value+='{0}'\".format(foo)) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 3396745, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/09d7295d68825c242dc5e4ab6d97bc02?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo Angelo", "link": "https://stackoverflow.com/users/3396745/carlo-angelo"}, "edited": false, "score": 0, "creation_date": 1424290558, "post_id": 28592656, "comment_id": 45492642, "body": "Perfect answer with enough information to give me the warm and fuzzy!"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 3, "last_activity_date": 1424294408, "last_edit_date": 1424294408, "creation_date": 1424289191, "answer_id": 28592656, "question_id": 28592558, "link": "https://stackoverflow.com/questions/28592558/how-do-i-use-python-variable-in-a-javascript/28592656#28592656", "title": "How do I use python variable in a javascript?", "body": "<p>You need to obtain a JavaScript string representation of your Python variable's value, and insert that into your JavaScript command. Fortunately, Python's <code>json</code> module will do this for you.</p>\n\n<pre><code>from json import dumps\n\ndriver.execute_script(\"document.getElementById('text_field').value+=\" +\n                      dumps(my_python_variable))\n</code></pre>\n\n<p>I would be wary of just inserting the value into the quote marks as other answers have shown. What if the value already has quote marks in it, or special characters that need escaping? What if it's not a string at all? <code>json.dumps</code> will handle all the necessary formatting and escaping for you, appropriate to the type of your variable.</p>\n"}, {"tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 8, "last_activity_date": 1424301147, "creation_date": 1424301147, "answer_id": 28595779, "question_id": 28592558, "link": "https://stackoverflow.com/questions/28592558/how-do-i-use-python-variable-in-a-javascript/28595779#28595779", "title": "How do I use python variable in a javascript?", "body": "<p>The normal way to pass variables to the JavaScript code you execute through Selenium is to just pass the variables to <code>execute_script</code>:</p>\n\n<pre><code>foo = \"something\"\ndriver.execute_script(\"\"\"\nvar foo = arguments[0];\ndocument.getElementById('text_field').value += foo;\n\"\"\", foo)\n</code></pre>\n\n<p>You retrieve the argument on the JavaScript side through the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\" rel=\"noreferrer\"><code>arguments</code> object</a>. You can do this because the code you pass to <code>execute_script</code> is wrapped in a function so what is executed is something like:</p>\n\n<pre><code>function () {\n    var foo = arguments[0];\n    document.getElementById('text_field').value += foo;\n}\n</code></pre>\n\n<p>and the function is called with the arguments that were passed to <code>execute_script</code>. The arguments are serialized automatically by Selenium.</p>\n\n<p>Interpolating with <code>.format</code> or concatenating strings are fragile ways to do it. For instance if you do <code>'var foo = \"' + foo + '\"'</code> this will break as soon as your <code>foo</code> variable has a double quote in it (same with <code>'var foo = \"{0}\"'.format(foo)</code>). Using <code>json.dumps</code> is going to avoid this and will work in most cases but it does not take care of something like this:</p>\n\n<pre><code>el = driver.find_element(\".something\")\n\n// Do stuff with el on the Python side.\n\ndriver.execute_script(\"\"\"\nvar el = arguments[0];\n// Do something with el on the JavaScript side.\n\"\"\")\n</code></pre>\n\n<p>Selenium knows how to convert the Python object it gives you when you find an object to a DOM object on the JavaScript side. <code>json.dumps</code> does not do this.</p>\n"}], "owner": {"reputation": 303, "user_id": 3396745, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/09d7295d68825c242dc5e4ab6d97bc02?s=128&d=identicon&r=PG&f=1", "display_name": "Carlo Angelo", "link": "https://stackoverflow.com/users/3396745/carlo-angelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6556, "favorite_count": 5, "answer_count": 4, "score": 7, "last_activity_date": 1424306190, "creation_date": 1424288871, "last_edit_date": 1424306190, "question_id": 28592558, "link": "https://stackoverflow.com/questions/28592558/how-do-i-use-python-variable-in-a-javascript", "title": "How do I use python variable in a javascript?", "body": "<p>I've been on a prowl looking for a way to access a non visible text field using selenium's webdriver. The only way i got it to work is using </p>\n\n<pre><code>driver.execute_script(\"document.getElementById('text_field').value+='XYZ'\")\n</code></pre>\n\n<p>However, instead of using <code>XYZ</code>, I want to use python variables. </p>\n"}, {"tags": ["python", "performance", "numpy", "vectorization", "sse"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1424289071, "post_id": 28592415, "comment_id": 45491739, "body": "You can gather information on how your numpy was compiled using <code>np.show_config()</code> and <code>import numpy.distutils.system_info as sysinfo; sysinfo.show_all()</code>. See <a href=\"http://stackoverflow.com/q/17109410/190597\">this SO question</a>."}, {"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1424289353, "post_id": 28592415, "comment_id": 45491894, "body": "@unutbu - I&#39;ve just run the <code>sysinfo.show_all()</code> - see <a href=\"http://pastebin.com/DRC49y0T\" rel=\"nofollow noreferrer\">output on pastebin</a> - it&#39;s mostly a list of things with &quot;NOT AVAILABLE&quot;."}, {"owner": {"reputation": 58707, "user_id": 110026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/dce2259ff9b547103d54acf1ea622314?s=128&d=identicon&r=PG", "display_name": "Jaime", "link": "https://stackoverflow.com/users/110026/jaime"}, "edited": false, "score": 1, "creation_date": 1424299691, "post_id": 28592415, "comment_id": 45497548, "body": "Your observations are spot on: as of this writing, only boolean and floating point operations use SIMD. This is done with explicit intrinsics calls, so it should have little dependence on the compilation setup. As with any other open source project, contributions are always welcome..."}, {"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "reply_to_user": {"reputation": 58707, "user_id": 110026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/dce2259ff9b547103d54acf1ea622314?s=128&d=identicon&r=PG", "display_name": "Jaime", "link": "https://stackoverflow.com/users/110026/jaime"}, "edited": false, "score": 0, "creation_date": 1424304811, "post_id": 28592415, "comment_id": 45499384, "body": "@Jaime - are you talking about this file: <code>numpy&#47;numpy&#47;core&#47;src&#47;umath&#47;simd.inc.src</code>.  I don&#39;t claim to have any idea of what it&#39;s doing, but I&#39;m surprised that there aren&#39;t opportunities for the compiler to auto vectorise loops, once all the broadcasting/stepping logic has been dealt with by the programmer.  Is there an existing issue/milestone that I can show interest in. If not would you consider creating one...I can&#39;t see myself hacking at the core of numpy any time soon."}], "answers": [{"comments": [{"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "edited": false, "score": 0, "creation_date": 1424297639, "post_id": 28594257, "comment_id": 45496585, "body": "The statement about cache is presumably not relevant here given that both sets of data have identical cache footprints: 10 thousand 32bit elements stored contiguously. Also, <code>%timeit%</code> should take care of warming up the cache before running the main loop, so they both start from an equal footing."}, {"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "edited": false, "score": 0, "creation_date": 1424297917, "post_id": 28594257, "comment_id": 45496732, "body": "Also, the lack of multicore utilization is not that surprising given that there is presumably a smallish sweet-spot where the data fits in cache, but isnt so small as to make multicore overkill...if the data doesnt fit in cache then there is no benefit in going multicore."}], "tags": [], "owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1424296577, "last_edit_date": 1495539810, "creation_date": 1424294813, "answer_id": 28594257, "question_id": 28592415, "link": "https://stackoverflow.com/questions/28592415/numpy-ufunc-arithmetic-performance-integer-not-using-sse/28594257#28594257", "title": "numpy ufunc/arithmetic performance - integer not using SSE?", "body": "<p>On a modern CPU there are a lot of factors that influence performance. Whether the data is integer or floating point is only one of them.</p>\n\n<p>Factors such as whether the data is in the cache or has to be fetched from RAM (or even worse from swap) will have a big impact.</p>\n\n<p>The compiler that was used to compile numpy will also have a big influence; how good is it at using the <a href=\"http://en.wikipedia.org/wiki/SIMD\" rel=\"nofollow noreferrer\">SIMD</a> instructions like <a href=\"http://en.wikipedia.org/wiki/Streaming_SIMD_Extensions\" rel=\"nofollow noreferrer\">SSE</a>? Those can speed up array operations significantly.</p>\n\n<p>The results for my system (Intel Core2 Quad Q9300);</p>\n\n<pre><code>In [1]: from numpy.random import randint\n\nIn [2]: from numpy import int32, float32, float64\n\nIn [3]: a, b = randint(255,size=10000).astype(int32), randint(255,size=10000).astype(int32)\n\nIn [4]: %timeit a+b\n100000 loops, best of 3: 12.9 \u00b5s per loop\n\nIn [5]: a, b = randint(255,size=10000).astype(float32), randint(255,size=10000).astype(float32)\n\nIn [6]: %timeit a+b\n100000 loops, best of 3: 8.25 \u00b5s per loop\n\nIn [7]: a, b = randint(255,size=10000).astype(float64), randint(255,size=10000).astype(float64)\n\nIn [8]: %timeit a+b\n100000 loops, best of 3: 13.9 \u00b5s per loop\n</code></pre>\n\n<p>So on this machine, there is no factor of five difference between <code>int32</code> and <code>float32</code>. And neither is there a factor of two between <code>float32</code> and <code>float64</code>.</p>\n\n<p>From processor utilization I can see that the <code>timeit</code> loops only use one of the four available cores.\nThis seems to confirm that these simple operations don't use BLAS routines since this numpy was built with a parallel openBLAS.</p>\n\n<p>The way numpy was compiled will also have significant influence.\nBased on the answers to <a href=\"https://stackoverflow.com/questions/17109410/how-can-i-check-if-my-installed-numpy-is-compiled-with-sse-sse2-instruction-set\">this question</a>, I could see using <code>objdump</code> that my <code>numpy</code> uses SSE2 instructions and the <code>xmm</code> registers.</p>\n\n<pre><code>In [9]: from numpy import show_config\n\nIn [10]: show_config()\natlas_threads_info:\n    library_dirs = ['/usr/local/lib']\n    language = f77\n    include_dirs = ['/usr/local/include']\n    define_macros = [('ATLAS_INFO', '\"\\\\\"None\\\\\"\"')]\n    libraries = ['alapack', 'ptf77blas', 'ptcblas', 'atlas']\nopenblas_lapack_info:\n  NOT AVAILABLE\nblas_opt_info:\n    library_dirs = ['/usr/local/lib']\n    language = f77\n    libraries = ['openblasp', 'openblasp']\nmkl_info:\n  NOT AVAILABLE\nlapack_mkl_info:\n  NOT AVAILABLE\nlapack_opt_info:\n    library_dirs = ['/usr/local/lib']\n    language = f77\n    include_dirs = ['/usr/local/include']\n    define_macros = [('ATLAS_INFO', '\"\\\\\"None\\\\\"\"')]\n    libraries = ['alapack', 'ptf77blas', 'ptcblas', 'atlas']\nopenblas_info:\n    library_dirs = ['/usr/local/lib']\n    language = f77\n    libraries = ['openblasp', 'openblasp']\nblas_mkl_info:\n  NOT AVAILABLE\n</code></pre>\n\n<p>If you want to see the effect of the BLAS that you use, run the following program with numpy compiled with different BLAS libraries.</p>\n\n<pre><code>from __future__ import print_function\nimport numpy\nimport sys\nimport timeit\n\ntry:\n    import numpy.core._dotblas\n    print('FAST BLAS')\nexcept ImportError:\n    print('slow blas')\n\nprint(\"version:\", numpy.__version__)\nprint(\"maxint:\", sys.maxsize)\nprint()\n\nsetup = \"import numpy; x = numpy.random.random((1000,1000))\"\ncount = 5\n\nt = timeit.Timer(\"numpy.dot(x, x.T)\", setup=setup)\nprint(\"dot:\", t.timeit(count)/count, \"sec\")\n</code></pre>\n\n<p>On my machine I get;</p>\n\n<pre><code>FAST BLAS\nversion: 1.9.1\nmaxint: 9223372036854775807\n\ndot: 0.06626860399264842 sec\n</code></pre>\n\n<p>Based on the results from this test I switched from ATLAS to OpenBLAS, because it was significantly faster on my machine.</p>\n"}, {"comments": [{"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "edited": false, "score": 0, "creation_date": 1424388697, "post_id": 28616037, "comment_id": 45541012, "body": "Brilliant news!  Is this true of all kinds of views/broadcasting requirements or is it limited to the simple example I gave above?"}, {"owner": {"reputation": 2059, "user_id": 1633169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0da24f75f763b6bac90b519064f30b3?s=128&d=identicon&r=PG", "display_name": "jtaylor", "link": "https://stackoverflow.com/users/1633169/jtaylor"}, "reply_to_user": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "edited": false, "score": 0, "creation_date": 1424389035, "post_id": 28616037, "comment_id": 45541121, "body": "all integer ufuncs should be covered, if something was missed please file a bug. Note that only contiguous operations (stride equal to elementsize) can be vectorized. Also the default 64bit integer does not often profit much from vectorizing."}, {"owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "edited": false, "score": 0, "creation_date": 1424391230, "post_id": 28616037, "comment_id": 45541750, "body": "surely in principle you can vectorise in some other cases, e.g. when the MMX register size is an integer multiple of or factor of elementsize*stride.  I imagine it&#39;s a fairly common usage case to have an nx2 array or a nd array with each axis a power of 2 in length.  (And I guess you could go further and find lowest common multiple of the two sizes etc...but I imagine that at some point you are only causing code bloat and get diminishing returns.)"}], "tags": [], "owner": {"reputation": 2059, "user_id": 1633169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0da24f75f763b6bac90b519064f30b3?s=128&d=identicon&r=PG", "display_name": "jtaylor", "link": "https://stackoverflow.com/users/1633169/jtaylor"}, "is_accepted": true, "score": 2, "last_activity_date": 1424377364, "last_edit_date": 1424377364, "creation_date": 1424376862, "answer_id": 28616037, "question_id": 28592415, "link": "https://stackoverflow.com/questions/28592415/numpy-ufunc-arithmetic-performance-integer-not-using-sse/28616037#28616037", "title": "numpy ufunc/arithmetic performance - integer not using SSE?", "body": "<p>the not yet released numpy 1.10 will also vectorize integer operations, if the compiler supports it.\nIt was added in this change:\n<a href=\"https://github.com/numpy/numpy/pull/5144\" rel=\"nofollow\">https://github.com/numpy/numpy/pull/5144</a></p>\n\n<p>E.g. your testcase with current git head compiled with gcc 4.8 results in the same speed for int and float and the code produced looks decent:</p>\n\n<pre><code>  0.04 \u250227b:   movdqu (%rdx,%rax,1),%xmm0\n 25.33 \u2502       add    $0x1,%r10\n       \u2502       movdqu (%r8,%rax,1),%xmm1\n       \u2502       paddd  %xmm1,%xmm0\n 23.17 \u2502       movups %xmm0,(%rcx,%rax,1)\n 34.72 \u2502       add    $0x10,%rax\n 16.05 \u2502       cmp    %r10,%rsi\n       \u2502     \u2191 ja     27b\n</code></pre>\n\n<p>additional speedups can be archived by using AVX2 if the cpu supports it (e.g. intel haswell), though currently that needs to be done by compiling with <code>OPT=\"-O3 -mavx2\"</code>, there is no runtime detection for this in numpy yet.</p>\n"}], "owner": {"reputation": 2497, "user_id": 2399799, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/gThQZ.jpg?s=128&g=1", "display_name": "dan-man", "link": "https://stackoverflow.com/users/2399799/dan-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 1, "accepted_answer_id": 28616037, "answer_count": 2, "score": 1, "last_activity_date": 1424377364, "creation_date": 1424288382, "last_edit_date": 1424363206, "question_id": 28592415, "link": "https://stackoverflow.com/questions/28592415/numpy-ufunc-arithmetic-performance-integer-not-using-sse", "title": "numpy ufunc/arithmetic performance - integer not using SSE?", "body": "<p>Consider the following iPython perf test, where we create a pair of 10,000 long 32-bit vectors and add them. Firstly using integer arithmetic and then using float arithmetic:</p>\n\n<pre><code>from numpy.random import randint\nfrom numpy import int32, float32\n\na, b = randint(255,size=10000).astype(int32), randint(255,size=10000).astype(int32)\n%timeit a+b  # int32 addition, gives 20.6\u00b5s per loop\n\na, b = randint(255,size=10000).astype(float32), randint(255,size=10000).astype(float32)\n%timeit a+b  # float32 addition, gives 3.91\u00b5s per loop\n</code></pre>\n\n<p>Why is the floating point version about 5x faster? </p>\n\n<p>If you do the same test with <code>float64</code> it takes twice as long as <code>float32</code>, which is what you'd expect if we are fully utilizing hardware. However the timing for the integer case seems to be constant for <code>int8</code> to <code>int64</code>.  This, together with the 5x slowdown make me suspect that it is completely failing to use SSE. </p>\n\n<p>For <code>int32</code>, I observe similar 20\u00b5s values when <code>a+b</code> is replaced by <code>a &amp; 0xff</code> or <code>a &gt;&gt; 2</code>, suggesting that the problem is not limited to addition.</p>\n\n<p>I'm using <code>numpy 1.9.1</code>, though unfortunately I can't remember whether I complied it locally or downloaded a binary. But either way, this performance observation was pretty shocking to me. How is it possible that the version I have is so hopeless at integer arithmetic?</p>\n\n<p><em>Edit:</em> I've also tested on a similar, but separate PC, running <code>numpy 1.8</code>, which I'm fairly sure was straight from a PythonXY binary.  I got the same results.</p>\n\n<p><strong>Question:</strong> Do other people see similar results, if not what can I do to be like them?</p>\n\n<p><strong>Update:</strong> I have created <a href=\"https://github.com/numpy/numpy/issues/5586\" rel=\"nofollow\">a new issue on numpy's github repo</a>.</p>\n"}, {"tags": ["python", "datetime"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1424288518, "post_id": 28592390, "comment_id": 45491389, "body": "if you add some of the relevant code it would help your cause"}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1424288560, "post_id": 28592390, "comment_id": 45491413, "body": "So, you want the x-axis to show number of hours from some reference datatime, correct?"}, {"owner": {"reputation": 11, "user_id": 4580929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5a7b6d9ee7efcf22ac131fbf894dbe?s=128&d=identicon&r=PG&f=1", "display_name": "chuckFURD56", "link": "https://stackoverflow.com/users/4580929/chuckfurd56"}, "edited": false, "score": 0, "creation_date": 1424291548, "post_id": 28592390, "comment_id": 45493207, "body": "Correct, I want the x-axis showing hour number from the original date and time."}], "answers": [{"comments": [{"owner": {"reputation": 2053, "user_id": 5403209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66af486aba77af58bb156dfe132186f9?s=128&d=identicon&r=PG", "display_name": "Alexander Belopolsky", "link": "https://stackoverflow.com/users/5403209/alexander-belopolsky"}, "edited": false, "score": 0, "creation_date": 1458937940, "post_id": 28592548, "comment_id": 60086241, "body": "<code>delta.total_seconds()</code> converts delta to seconds, not hours.  To convert to hours - use the division operator: <code>delta &#47; timedelta(hours=1)</code>."}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "reply_to_user": {"reputation": 2053, "user_id": 5403209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66af486aba77af58bb156dfe132186f9?s=128&d=identicon&r=PG", "display_name": "Alexander Belopolsky", "link": "https://stackoverflow.com/users/5403209/alexander-belopolsky"}, "edited": false, "score": 0, "creation_date": 1458938200, "post_id": 28592548, "comment_id": 60086369, "body": "Yep, I state that it converts to seconds, but your conversion to hours with <code>timedelta</code> is a good touch.  ***wow, I saw your that after two minutes?"}], "tags": [], "owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "is_accepted": false, "score": 0, "last_activity_date": 1424288833, "creation_date": 1424288833, "answer_id": 28592548, "question_id": 28592390, "link": "https://stackoverflow.com/questions/28592390/add-python-datetime-hours/28592548#28592548", "title": "Add python datetime hours", "body": "<p>You can perform arrhythmic with <code>datetime.datetime</code> instances.  If you subtract one <code>datetime.datetime</code> instance from another, you will get a <code>datetime.timedelta</code> object.  You can then use the resulting time differences as your axis labels.  You can get the total number of seconds via <code>datetime.timedelta.total_seconds()</code> and convert that to hours.</p>\n"}], "owner": {"reputation": 11, "user_id": 4580929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5a7b6d9ee7efcf22ac131fbf894dbe?s=128&d=identicon&r=PG&f=1", "display_name": "chuckFURD56", "link": "https://stackoverflow.com/users/4580929/chuckfurd56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1424288833, "creation_date": 1424288291, "question_id": 28592390, "link": "https://stackoverflow.com/questions/28592390/add-python-datetime-hours", "title": "Add python datetime hours", "body": "<p>I have a date and time data set (spanning roughly a year and a half) and I have converted this information into a python datetime object and plotted this on the x-axis (in months) versus some dependent data on the y-axis. My question involves taking the datetime data and converting this to cumulative hours, ie rather than plotting april, may, june, july, etc I want to take that datetime information and plot the associated hour number which will add as the months go forward on the x-axis (ie 0, 100, 200, 300, etc). I suppose I am looking for suggestions on pseudo-code as to how I might increment each hour in the time series after the first 12 hours, any and all help is appreciated, thank you. </p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "subprocess"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424288620, "post_id": 28592323, "comment_id": 45491445, "body": "<code>if retval</code> is sufficient to check for a non zero return status"}, {"owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424288905, "post_id": 28592323, "comment_id": 45491630, "body": "Agree. <code>if retval:</code> is sufficient to check return status. Any idea on the problem?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424288962, "post_id": 28592323, "comment_id": 45491675, "body": "what does the full command look like?"}, {"owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424289028, "post_id": 28592323, "comment_id": 45491716, "body": "here is the full command: <code>aws s3 cp filename.out s3:&#47;&#47;store-name&#47;tablename&#47;filename.out</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424289185, "post_id": 28592323, "comment_id": 45491804, "body": "you receive a 0 exit status?"}, {"owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424289314, "post_id": 28592323, "comment_id": 45491872, "body": "yes..unfortunately, i&#39;m getting 0 exit status..and when looked at the end of file, it writes incomplete line of data."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424310726, "post_id": 28592323, "comment_id": 45501194, "body": "unrelated: you don&#39;t need <code>shell=True</code> here: <code>check_call(&#39;aws s3 cp filename.out s3:&#47;&#47;store-name&#47;tablename&#47;filename.out&#39;.split())</code>. Your issue seems unrelated to Python."}], "owner": {"reputation": 228, "user_id": 3327034, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/334abda307f061a5ef47e05f8da32935?s=128&d=identicon&r=PG&f=1", "display_name": "user3327034", "link": "https://stackoverflow.com/users/3327034/user3327034"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 495, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424288054, "creation_date": 1424288054, "question_id": 28592323, "link": "https://stackoverflow.com/questions/28592323/subprocess-with-aws-s3-incomplete-file-copy", "title": "subprocess with aws s3 incomplete file copy", "body": "<p>I've a process to copy data from mysql to EMR instance and then from EMR to aws s3. The first step has no issues, whereas the copy from EMR to aws s3 is copying partial data (specially the last line is partial in the file).\nI'm using the <code>aws s3 cp</code> command to copy the data using python </p>\n\n<p><code>retval = sub.call(_cmd,shell=True)\nif retval != 0:\n    print \"error\"\n    sys.exit(1)</code></p>\n\n<p>I compare the sizes and see that the size on aws s3 &lt; emr.\nIf I manually run copy using <code>aws s3 cp..</code> is works without any issues.\nI'm not sure if <code>python subprocess</code> is attributing to this behavior.\nAny suggestions?</p>\n"}, {"tags": ["python", "django", "celery", "worker"], "answers": [{"tags": [], "owner": {"reputation": 50179, "user_id": 594589, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0f9d5953607841d6a50b843a1107e51e?s=128&d=identicon&r=PG", "display_name": "dm03514", "link": "https://stackoverflow.com/users/594589/dm03514"}, "is_accepted": false, "score": 2, "last_activity_date": 1424288225, "creation_date": 1424288225, "answer_id": 28592375, "question_id": 28592243, "link": "https://stackoverflow.com/questions/28592243/celery-tasks-functions-web-server-vs-remote-server/28592375#28592375", "title": "Celery tasks functions - web server vs remote server", "body": "<p>One way to manage this is to store your workers in your django project.  Django and celery play nice to each other allowing you to use parts of your django project in your celery app. <a href=\"http://celery.readthedocs.org/en/latest/django/first-steps-with-django.html\" rel=\"nofollow\">http://celery.readthedocs.org/en/latest/django/first-steps-with-django.html</a></p>\n\n<p>Deploying this would mean that your web application would not use the modules involved with your celery workers, and on your celery machine your django views and such would never be used.  This usually only results in a couple of megs of unused django application code...</p>\n"}, {"comments": [{"owner": {"reputation": 4345, "user_id": 931156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c4855961632635e313ced8253004558b?s=128&d=identicon&r=PG", "display_name": "lajarre", "link": "https://stackoverflow.com/users/931156/lajarre"}, "edited": false, "score": 0, "creation_date": 1424635261, "post_id": 28641185, "comment_id": 45620213, "body": "Indeed that&#39;s what I was looking for. Yet it would be nice to describe a good practice about how to share the &quot;task names&quot; (dotted paths to tasks functions)"}, {"owner": {"reputation": 3804, "user_id": 4019898, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b834e29342ee642c3065ede9c4ae7d69?s=128&d=identicon&r=PG&f=1", "display_name": "ant31", "link": "https://stackoverflow.com/users/4019898/ant31"}, "reply_to_user": {"reputation": 4345, "user_id": 931156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c4855961632635e313ced8253004558b?s=128&d=identicon&r=PG", "display_name": "lajarre", "link": "https://stackoverflow.com/users/931156/lajarre"}, "edited": false, "score": 0, "creation_date": 1424710908, "post_id": 28641185, "comment_id": 45651283, "body": "yes by default the task name is the full python module path: &quot;myproject.jobs.my_task&quot;. You can rename it using the decorator but I personnaly prefere default."}], "tags": [], "owner": {"reputation": 3804, "user_id": 4019898, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b834e29342ee642c3065ede9c4ae7d69?s=128&d=identicon&r=PG&f=1", "display_name": "ant31", "link": "https://stackoverflow.com/users/4019898/ant31"}, "is_accepted": false, "score": 1, "last_activity_date": 1424483869, "creation_date": 1424483869, "answer_id": 28641185, "question_id": 28592243, "link": "https://stackoverflow.com/questions/28592243/celery-tasks-functions-web-server-vs-remote-server/28641185#28641185", "title": "Celery tasks functions - web server vs remote server", "body": "<p>You can use <code>send_task</code>. It takes same parameters than apply_async but you only have to give the task name. Without loading the module in django you can send tasks:</p>\n\n<pre><code>app.send_task('tasks.add', args=[2, 2], kwargs={})\n</code></pre>\n\n<p><a href=\"http://celery.readthedocs.org/en/latest/reference/celery.html#celery.Celery.send_task\" rel=\"nofollow\">http://celery.readthedocs.org/en/latest/reference/celery.html#celery.Celery.send_task</a></p>\n"}], "owner": {"reputation": 4345, "user_id": 931156, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c4855961632635e313ced8253004558b?s=128&d=identicon&r=PG", "display_name": "lajarre", "link": "https://stackoverflow.com/users/931156/lajarre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1424635397, "creation_date": 1424287802, "last_edit_date": 1424635397, "question_id": 28592243, "link": "https://stackoverflow.com/questions/28592243/celery-tasks-functions-web-server-vs-remote-server", "title": "Celery tasks functions - web server vs remote server", "body": "<p>I'm willing to send tasks from a web server (running Django) to a remote machine that is holding a Rabbitmq server and some workers that I implemented with Celery.</p>\n\n<p>If I follow the Celery way to go, it seems I have to share the code between both machines, which means replicating the workers logic code in the web app code.</p>\n\n<p>So:</p>\n\n<ul>\n<li>Is there a best practice to do that? Since code is redundant, I am thinking about using a git submodule (=> replicated in the web app code repo, and in the workers code repo)</li>\n<li>Should I better use something else than Celery then?</li>\n<li>Am I missing something?</li>\n</ul>\n"}, {"tags": ["python", "list", "sorting"], "comments": [{"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "edited": false, "score": 3, "creation_date": 1424287786, "post_id": 28592229, "comment_id": 45490937, "body": "Have you tried anything?"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1424287915, "post_id": 28592229, "comment_id": 45491004, "body": "Is that your actual code? You might be surprised to find that A,B,C, and D aren&#39;t lists. They&#39;re tuples, each containing one element."}, {"owner": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424288030, "post_id": 28592229, "comment_id": 45491071, "body": "This is not my code, however I was just using this as an example. Please consider that I am new to coding."}, {"owner": {"reputation": 5565, "user_id": 1695507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1f7f9576a6f6486bf26e4a8dbbf09868?s=128&d=identicon&r=PG", "display_name": "thumbtackthief", "link": "https://stackoverflow.com/users/1695507/thumbtackthief"}, "edited": false, "score": 1, "creation_date": 1424288265, "post_id": 28592229, "comment_id": 45491207, "body": "Hey Steve--Welcome to SO and coding!  Helpful hint, both for your own development and for getting good answers:  Make sure your posts contain a description of the problem, what you&#39;ve tried, what you expected to get, and what you got instead (sometimes you&#39;ll find just by writing a good question, you&#39;ll figure out the answer yourself!)."}, {"owner": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424288361, "post_id": 28592229, "comment_id": 45491282, "body": "Oh, okay, thanks very much for the welcome. I&#39;ll do as you say in the future."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424288566, "post_id": 28592322, "comment_id": 45491422, "body": "It says that basestring is not defined, why is that?"}, {"owner": {"reputation": 1903, "user_id": 2532708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad8e40287bc8ec9a4dbe8958cf7d574f?s=128&d=identicon&r=PG", "display_name": "Henry Crutcher", "link": "https://stackoverflow.com/users/2532708/henry-crutcher"}, "reply_to_user": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424288694, "post_id": 28592322, "comment_id": 45491492, "body": "basestring and print as a statement are both python2 constructs.  They&#39;ve been edited out..."}, {"owner": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424288781, "post_id": 28592322, "comment_id": 45491548, "body": "This looks really good! It&#39;s in ascending order, how do I get it to go in descending order? Is it key=reverse?"}, {"owner": {"reputation": 1903, "user_id": 2532708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad8e40287bc8ec9a4dbe8958cf7d574f?s=128&d=identicon&r=PG", "display_name": "Henry Crutcher", "link": "https://stackoverflow.com/users/2532708/henry-crutcher"}, "reply_to_user": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "edited": false, "score": 0, "creation_date": 1424289013, "post_id": 28592322, "comment_id": 45491704, "body": "edited the answer -- what are you planning to do with this code?"}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1424290798, "post_id": 28592322, "comment_id": 45492784, "body": "The post appeared in the Low Quality Posts review line. Probably because it is code only without explanation. I didn&#39;t downvote, but I guess to prevent further downvotes you could add a bit of textual explanation what the code does."}, {"owner": {"reputation": 1903, "user_id": 2532708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad8e40287bc8ec9a4dbe8958cf7d574f?s=128&d=identicon&r=PG", "display_name": "Henry Crutcher", "link": "https://stackoverflow.com/users/2532708/henry-crutcher"}, "edited": false, "score": 0, "creation_date": 1424295882, "post_id": 28592322, "comment_id": 45495667, "body": "Thanks!  Is it still there?  I added some explanatory text..."}], "tags": [], "owner": {"reputation": 1903, "user_id": 2532708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad8e40287bc8ec9a4dbe8958cf7d574f?s=128&d=identicon&r=PG", "display_name": "Henry Crutcher", "link": "https://stackoverflow.com/users/2532708/henry-crutcher"}, "is_accepted": false, "score": -1, "last_activity_date": 1424295484, "last_edit_date": 1424295484, "creation_date": 1424288051, "answer_id": 28592322, "question_id": 28592229, "link": "https://stackoverflow.com/questions/28592229/sorting-numbers-in-a-list-python/28592322#28592322", "title": "Sorting numbers in a list - Python", "body": "<p>Try:</p>\n\n<pre><code>a=['gg', 10, 1, 100, 55]\ndef myKey(x):\n   if isinstance(x,str):\n       return -99999999\n   else:\n       return x #or -1 * key if you want the numbers in reverse order\na.sort(key=myKey)\nreversed(a) #will give you a in reversed order -- string at the end\n</code></pre>\n\n<p>The key argument specifies a function that will be used to 'transform' each element into the key to be sorted.  The reversed iterator simply gives the elements in reverse order....</p>\n"}, {"tags": [], "owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "is_accepted": true, "score": 0, "last_activity_date": 1424289387, "last_edit_date": 1424289387, "creation_date": 1424289024, "answer_id": 28592610, "question_id": 28592229, "link": "https://stackoverflow.com/questions/28592229/sorting-numbers-in-a-list-python/28592610#28592610", "title": "Sorting numbers in a list - Python", "body": "<p>For descending order; <em>(texts will come first)</em></p>\n\n<pre><code>&gt;&gt;&gt; import numbers\n&gt;&gt;&gt; import sys\n\n&gt;&gt;&gt; A = [\"LA\", 10, 3, 4]\n&gt;&gt;&gt; print sorted(A, key=lambda n: n if isinstance(n, numbers.Number) else sys.float_info.max, reverse=True)\n['LA', 10, 4, 3]\n</code></pre>\n\n<p>For ascending order; <em>(texts will come first)</em></p>\n\n<pre><code>&gt;&gt;&gt; print sorted(A, key=lambda n: n if isinstance(n, numbers.Number) else sys.float_info.min, reverse=False)\n['LA', 3, 4, 10]\n</code></pre>\n\n<p>For descending order; <em>(texts will come last)</em></p>\n\n<pre><code>&gt;&gt;&gt; print sorted(A, key=lambda n: n if isinstance(n, numbers.Number) else sys.float_info.min, reverse=True)\n[10, 4, 3, 'LA']\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4581097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sfpT1HWxwI/AAAAAAAAAAI/AAAAAAAAABI/ENkP25FOwGo/photo.jpg?sz=128", "display_name": "Steve Urkel", "link": "https://stackoverflow.com/users/4581097/steve-urkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "closed_date": 1425323147, "accepted_answer_id": 28592610, "answer_count": 2, "score": 1, "last_activity_date": 1424295484, "creation_date": 1424287766, "last_edit_date": 1424288510, "question_id": 28592229, "link": "https://stackoverflow.com/questions/28592229/sorting-numbers-in-a-list-python", "closed_reason": "Needs more focus", "title": "Sorting numbers in a list - Python", "body": "<p>Say I had lists that I wanted to sort - numbers from highest to lowest - that contained both names and numbers, for example:</p>\n\n<pre><code>A = [\"LA\" , 10 , 3 , 4]  #lists ending with a comma after the closing bracket are interpreted as tuples containing a list\nB = [\"NY\" , 4 , 2 , 2] #need quotes around the AK, etc\nC = [\"AK\" , 1 , 4 , 6] ,\nD = [\"WA\" , 7 , 9 , 2] ,\n</code></pre>\n\n<p>How would I sort these lists to make the numbers go in a descending order (highest to lowest)?</p>\n"}, {"tags": ["python", "3d", "importerror", "vpython"], "comments": [{"owner": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "edited": false, "score": 4, "creation_date": 1424288687, "post_id": 28592211, "comment_id": 45491488, "body": "have you run <code>sudo apt-get install python-visual</code> to install Visual Python?"}, {"owner": {"reputation": 953, "user_id": 4509106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7cd0c19a74b2201299538cfc4a772b7f?s=128&d=identicon&r=PG&f=1", "display_name": "Irfan Ghaffar7", "link": "https://stackoverflow.com/users/4509106/irfan-ghaffar7"}, "reply_to_user": {"reputation": 1099, "user_id": 4480227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b671436c833082e28764000495c0518?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Timberlake", "link": "https://stackoverflow.com/users/4480227/daniel-timberlake"}, "edited": false, "score": 0, "creation_date": 1424295118, "post_id": 28592211, "comment_id": 45495229, "body": "its start working thank you.... but very slow"}], "answers": [{"tags": [], "owner": {"reputation": 6465, "user_id": 1459669, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WW5ah.jpg?s=128&g=1", "display_name": "no\u0265\u0287\u028e\u0500\u028ez\u0250\u0279\u0186", "link": "https://stackoverflow.com/users/1459669/no%c9%a5%ca%87%ca%8e%d4%80%ca%8ez%c9%90%c9%b9%c6%86"}, "is_accepted": false, "score": 5, "last_activity_date": 1424288821, "creation_date": 1424288821, "answer_id": 28592547, "question_id": 28592211, "link": "https://stackoverflow.com/questions/28592211/importerror-no-module-named-visual/28592547#28592547", "title": "ImportError: No module named visual", "body": "<p>The script requires Vpython to be installed. </p>\n\n<p>Then, make sure it is actually installed. Alternatively, move the library into your local folder. If it still doesn't work, check for an <code>__init__</code> file.</p>\n"}, {"comments": [{"owner": {"reputation": 254, "user_id": 5194677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7124d4c3a519451480e2bac12485c4f7?s=128&d=identicon&r=PG&f=1", "display_name": "The Hagen", "link": "https://stackoverflow.com/users/5194677/the-hagen"}, "edited": false, "score": 0, "creation_date": 1516141008, "post_id": 47813846, "comment_id": 83566474, "body": "vpython requires Python 3.5 or later. Is there a way to get a version of the visual module that is backwards compatible with Python 2?"}, {"owner": {"reputation": 7726, "user_id": 2348704, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/U9j8h.gif?s=128&g=1", "display_name": "bhaskarc", "link": "https://stackoverflow.com/users/2348704/bhaskarc"}, "reply_to_user": {"reputation": 254, "user_id": 5194677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7124d4c3a519451480e2bac12485c4f7?s=128&d=identicon&r=PG&f=1", "display_name": "The Hagen", "link": "https://stackoverflow.com/users/5194677/the-hagen"}, "edited": false, "score": 3, "creation_date": 1516195085, "post_id": 47813846, "comment_id": 83588671, "body": "@TheHagen  - older versions of vpython are available here <a href=\"http://vpython.org/contents/download/\" rel=\"nofollow noreferrer\">vpython.org/contents/download</a>"}], "tags": [], "owner": {"reputation": 7726, "user_id": 2348704, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/U9j8h.gif?s=128&g=1", "display_name": "bhaskarc", "link": "https://stackoverflow.com/users/2348704/bhaskarc"}, "is_accepted": false, "score": 14, "last_activity_date": 1513255860, "creation_date": 1513255860, "answer_id": 47813846, "question_id": 28592211, "link": "https://stackoverflow.com/questions/28592211/importerror-no-module-named-visual/47813846#47813846", "title": "ImportError: No module named visual", "body": "<p><code>visual</code> module has been renamed to <code>vpython</code> lately.</p>\n\n<p>So to run this now, you first install <code>vpython</code> like:</p>\n\n<pre><code>sudo pip3 install vpython \n</code></pre>\n\n<p>then replace the line:</p>\n\n<pre><code>from visual import *\n</code></pre>\n\n<p>with</p>\n\n<pre><code>from vpython import *\n</code></pre>\n\n<p>That worked for me.</p>\n"}, {"comments": [{"owner": {"reputation": 11937, "user_id": 1497139, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/3FVKA.png?s=128&g=1", "display_name": "Wolfgang Fahl", "link": "https://stackoverflow.com/users/1497139/wolfgang-fahl"}, "edited": false, "score": 0, "creation_date": 1563942903, "post_id": 53863560, "comment_id": 100862745, "body": "That link is for a specific version and for windows only. see above for the <a href=\"http://vpython.org/contents/download/\" rel=\"nofollow noreferrer\">vpython.org/contents/download</a> link that does not have this restriction."}], "tags": [], "owner": {"reputation": 31, "user_id": 2494727, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Gjt65.jpg?s=128&g=1", "display_name": "InterestingGuy", "link": "https://stackoverflow.com/users/2494727/interestingguy"}, "is_accepted": false, "score": -1, "last_activity_date": 1545287806, "creation_date": 1545287806, "answer_id": 53863560, "question_id": 28592211, "link": "https://stackoverflow.com/questions/28592211/importerror-no-module-named-visual/53863560#53863560", "title": "ImportError: No module named visual", "body": "<p>You can download a Python27 compatible version of vpython <a href=\"http://vpython.org/contents/download/VPython-Win-Py2.7-5.74.exe\" rel=\"nofollow noreferrer\">here (direct link)</a>.</p>\n\n<p>To use vpython, you should run your code through VIDLE which should've also been installed. Through VIDLE, the syntax \"visual\" should be accepted. This worked for me.</p>\n"}], "owner": {"reputation": 953, "user_id": 4509106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7cd0c19a74b2201299538cfc4a772b7f?s=128&d=identicon&r=PG&f=1", "display_name": "Irfan Ghaffar7", "link": "https://stackoverflow.com/users/4509106/irfan-ghaffar7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25323, "favorite_count": 1, "answer_count": 3, "score": 9, "last_activity_date": 1545287806, "creation_date": 1424287715, "last_edit_date": 1424985704, "question_id": 28592211, "link": "https://stackoverflow.com/questions/28592211/importerror-no-module-named-visual", "title": "ImportError: No module named visual", "body": "<p>I am trying to run <a href=\"http://vpython.org/contents/contributed/chessboard.py\" rel=\"noreferrer\">this</a> Python Program on Ubuntu but I am getting an error that says </p>\n\n<pre><code>ImportError: No module named visual\n</code></pre>\n\n<p>Can you guys please guide me on how can I resolve this issue?</p>\n"}, {"tags": ["python", "session-variables", "web.py"], "answers": [{"comments": [{"owner": {"reputation": 52, "user_id": 3531276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0831551ca2def9f228504fde085a0e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Camilleri", "link": "https://stackoverflow.com/users/3531276/daniel-camilleri"}, "edited": false, "score": 0, "creation_date": 1424354746, "post_id": 28604559, "comment_id": 45520615, "body": "its still giving me &#39;ThreadedDict&#39; object has no attribute &#39;logged&#39;. I have bypassed this issue and am using cookies to serve the purpose"}, {"owner": {"reputation": 4335, "user_id": 1898534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XKxNa.jpg?s=128&g=1", "display_name": "PlagTag", "link": "https://stackoverflow.com/users/1898534/plagtag"}, "reply_to_user": {"reputation": 52, "user_id": 3531276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0831551ca2def9f228504fde085a0e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Camilleri", "link": "https://stackoverflow.com/users/3531276/daniel-camilleri"}, "edited": false, "score": 0, "creation_date": 1424360247, "post_id": 28604559, "comment_id": 45524507, "body": "could you post more code? So it would be easier to run it and see the error"}], "tags": [], "owner": {"reputation": 4335, "user_id": 1898534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XKxNa.jpg?s=128&g=1", "display_name": "PlagTag", "link": "https://stackoverflow.com/users/1898534/plagtag"}, "is_accepted": false, "score": 0, "last_activity_date": 1424343508, "creation_date": 1424343508, "answer_id": 28604559, "question_id": 28592149, "link": "https://stackoverflow.com/questions/28592149/python-web-py-sessions/28604559#28604559", "title": "Python web.py sessions", "body": "<p>i think you forgot to store the session obect in the configuration like describeed <a href=\"http://webpy.org/cookbook/session_with_reloader\" rel=\"nofollow\">here</a>:</p>\n\n<pre><code>if web.config.get('_session') is None:\n    session = web.session.Session(app, web.session.DiskStore('sessions'), {'count': 0})\n    web.config._session = session\nelse:\n    session = web.config._session\n</code></pre>\n"}], "owner": {"reputation": 52, "user_id": 3531276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0831551ca2def9f228504fde085a0e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Camilleri", "link": "https://stackoverflow.com/users/3531276/daniel-camilleri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 498, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424343508, "creation_date": 1424287509, "question_id": 28592149, "link": "https://stackoverflow.com/questions/28592149/python-web-py-sessions", "title": "Python web.py sessions", "body": "<p>I am using web.py and trying to get the login working. I want to use a the session for when I login so that on next page reload I could display profile information.\nThe following code is for trying to set the session in the login ajax call</p>\n\n<pre><code>result = db.query(\"SELECT ...';\")\n\nsession.client = result[0]\nsession.logged = True\nreturn session.client\n</code></pre>\n\n<p>I am using diskStore with the following code</p>\n\n<pre><code>session = web.session.Session(app, web.session.DiskStore('sessions'), initializer={'count': 0})\n</code></pre>\n\n<p>Afterwards on page load I am trying to get the client from the session and send it to the template but its giving me 'ThreadedDict' object has no attribute 'logged' for the following code:</p>\n\n<pre><code>if session.logged == True:\n    client = session.get('client')\nreturn self.render.loginPage(\"Profile\", client)\n</code></pre>\n\n<p>What is wrong please?</p>\n"}, {"tags": ["python", "raspberry-pi", "raspbian"], "comments": [{"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1424289655, "post_id": 28592145, "comment_id": 45492103, "body": "A very good <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2011/02/10/10127054.aspx\" rel=\"nofollow noreferrer\">rule of thumb</a> is that it&#39;s always your code, in almost any situation. Doubly so if only a single process freezes. Why don&#39;t you examine the process to tell what&#39;s going on?"}, {"owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "reply_to_user": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1424382132, "post_id": 28592145, "comment_id": 45538008, "body": "Thanks phihag. Since I just started learning python a while ago, I am not sure how to &#39;examine the process&#39;. I mean, there&#39;s no error message or log data for me to review. Could you please suggest something?"}, {"owner": {"reputation": 13800, "user_id": 1569064, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ea7b0a1fad5b57f75e4c137764f0403c?s=128&d=identicon&r=PG", "display_name": "AGS", "link": "https://stackoverflow.com/users/1569064/ags"}, "edited": false, "score": 0, "creation_date": 1424390368, "post_id": 28592145, "comment_id": 45541516, "body": "<a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "reply_to_user": {"reputation": 13800, "user_id": 1569064, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ea7b0a1fad5b57f75e4c137764f0403c?s=128&d=identicon&r=PG", "display_name": "AGS", "link": "https://stackoverflow.com/users/1569064/ags"}, "edited": false, "score": 0, "creation_date": 1424400878, "post_id": 28592145, "comment_id": 45544114, "body": "I&#39;ve written an answer with a couple of avenues. As @AGS said, we cannot help you trace a problem in your program without actual verifiable code."}], "answers": [{"tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": true, "score": 5, "last_activity_date": 1424441114, "last_edit_date": 1495539975, "creation_date": 1424400727, "answer_id": 28620907, "question_id": 28592145, "link": "https://stackoverflow.com/questions/28592145/why-does-scraping-freeze/28620907#28620907", "title": "Why does scraping freeze?", "body": "<p>A <a href=\"http://blogs.msdn.com/b/oldnewthing/archive/2011/02/10/10127054.aspx\" rel=\"nofollow noreferrer\">very good rule of thumb</a> is that the fault is always in your own code and not in the system. In particular, if the rest of the system is running (i.e. you can use another console), then it is almost certainly the fault of your program for hanging.</p>\n\n<p>In the shell that is running your process, try pressing <kbd>Ctrl</kbd>+<kbd>C</kbd> to ask your process to stop, or <kbd>Ctrl</kbd>+<kbd>\\</kbd> to just quit it alltogether. You should get an error message that shows where your program were when you terminated it. Let's assume your program is</p>\n\n<pre><code>x = 0\ndef bar():\n    return x * 2\ndef foo():\n    x = 11\n    while bar() &lt; 100:\n        x += 1\n\nfoo()\n</code></pre>\n\n<p>(Can you spot the error already?) I'm now running it with <code>python program.py</code>, but it hangs and does not terminate. Pressing <kbd>Ctrl</kbd>+<kbd>C</kbd> yields:</p>\n\n<pre><code>^CTraceback (most recent call last):\n  File \"python.py\", line 9, in &lt;module&gt;\n    foo()\n  File \"python.py\", line 6, in foo\n    while bar() &lt; 100:\n  File \"python.py\", line 3, in bar\n    return x * 2\nKeyboardInterrupt\n</code></pre>\n\n<p>The <code>^C</code> is a visual representation of <kbd>Ctrl</kbd>+<kbd>C</kbd> and can be ignored. The rest is a <a href=\"https://en.wikipedia.org/wiki/Stack_trace\" rel=\"nofollow noreferrer\">stack trace</a> which shows what the program did when we were running it. For good effect, interrupt your program multiple times and compare the stack traces to see what it usually is doing when \"hanging\".</p>\n\n<p>Additionally, extend your program with more debugging output (possibly toggled by a new switch) so that you don't need to interrupt it in the first place. A good idea is to always output something before and after you are connecting to the network.</p>\n\n<p>Since you are on a network, the other side may also just die silently and your program may wait some time to confirm that that's what's happened (as opposed to just a slow-down because of bad reception or high congestion in the network). You can call <a href=\"https://docs.python.org/dev/library/socket.html#socket.setdefaulttimeout\" rel=\"nofollow noreferrer\"><code>socket.setdefaulttimeout</code></a> with a low value to make your program exit early instead of waiting for the other side to say something.</p>\n\n<p>You can also use various tools to aid debugging. For example, type <code>htop</code> (<code>sudo apt-get install -y htop</code> once to install it if you haven't already, alternatively <code>top</code> works too) to see how your program is progressing. Have a look at the CPU load factor (in the very top) and where your program is listed.</p>\n\n<p>Say it looks like this:</p>\n\n<p><img src=\"https://phihag.de/2015/so/htop-nocpu.png\" alt=\"CPU |||             8.0%\"></p>\n\n<p>Despite sorting by CPU (press <kbd>F6</kbd> to sort), our program does not even show up here, and htop is the only program using much of the CPU anyways. This means that our program (if it's running) is stuck in a <a href=\"https://en.wikipedia.org/wiki/System_call\" rel=\"nofollow noreferrer\">system call</a>, i.e. has yielded control to the operating system. But since the operating system isn't using much CPU either (its CPU usage is mapped in red), it looks like we're waiting for something!</p>\n\n<p>On the other hand, the htop output my look like:</p>\n\n<p><img src=\"https://phihag.de/2015/so/htop-cpu.png\" alt=\"CPU ||||||||||||||| 100%\"></p>\n\n<p>You'll notice that <code>program.py</code> features prominently. It's also not because our program stresses the operating system in any way, since the bar is basically all green!</p>\n\n<p>Then you may want to investigate the current state of the program a little bit better than just looking at aggregate values or killing it. There are numerous tools, but lets look at two:</p>\n\n<p>The <strong>strace</strong> utility (again, install once with <code>sudo apt-get install -y strace</code>) can show what system calls a program makes. That works for <em>every</em> program, not only Python programs. Running it on our simple example program yields:</p>\n\n<pre><code>$ strace -o log python program.py \nexecve(\"/usr/bin/python\", [\"python\", \"program.py\"], [/* 47 vars */]) = 0\nbrk(0)                                  = 0x218f000\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nmmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fbb72742000\naccess(\"/etc/ld.so.preload\", R_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/etc/ld.so.cache\", O_RDONLY|O_CLOEXEC) = 3\n* snip about 1000 lines*\nread(3, \"x = 0\\ndef bar():\\n    return x * \"..., 4096) = 101\nlseek(3, 101, SEEK_SET)                 = 101\nbrk(0x291d000)                          = 0x291d000\nread(3, \"\", 4096)                       = 0\nbrk(0x2914000)                          = 0x2914000\nclose(3)                                = 0\nmunmap(0x7f7b9d294000, 4096)            = 0\n</code></pre>\n\n<p>If you want, you can also run it as <code>strace -o logfile python program.py</code> to write the output into <code>./logfile</code> so that you can examine it in another shell, for example with a text editor.</p>\n\n<p>We're seeing here that Python takes <em>a lot</em> of system calls to even just start, but our program makes no system calls at all! We see that because the last system calls is Python reading in the source code file. With a different program, the output may look like</p>\n\n<pre><code>socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 3\nconnect(3, {sa_family=AF_INET, sin_port=htons(80), sin_addr=inet_addr(\"93.184.216.34\")}, 16) = 0\nrecvfrom(3, \n</code></pre>\n\n<p>The important part is the last line, which is unfinished, showing that the operating system is in control at the moment. What is the operating system doing? Well, it's working on a call to <a href=\"http://linux.die.net/man/2/recvfrom\" rel=\"nofollow noreferrer\"><code>recvfrom</code></a>, or waiting for data. Since it's just waiting and not actually doing much, htop will show only negligible red bars. If there was a bug in the operating system, htop would show lots of red now.</p>\n\n<p>Now, how do we do know what system call came from which Python statement? For that, we need a Python debugger. Your IDE may have one integrated, but in a pinch, the built-in <a href=\"https://docs.python.org/dev/library/pdb.html#debugger-commands\" rel=\"nofollow noreferrer\">pdb</a> works. Lets run it on our (new) program:</p>\n\n<pre><code>$ pdb program2.py \n&gt; /home/phihag/tmp/stackoverflow/program2.py(1)&lt;module&gt;()\n-&gt; import socket\n(Pdb) next\n&gt; /home/phihag/tmp/stackoverflow/program2.py(3)&lt;module&gt;()\n-&gt; c = socket.create_connection(('example.net', 80))\n(Pdb) n\n&gt; /home/phihag/tmp/stackoverflow/program2.py(4)&lt;module&gt;()\n-&gt; while True:\n(Pdb) n\n&gt; /home/phihag/tmp/stackoverflow/program2.py(5)&lt;module&gt;()\n-&gt; print(c.recv(1024))\n(Pdb) n\n</code></pre>\n\n<p>Use <code>next</code> and <code>step</code> (or short <code>n</code> and <code>s</code>) to step through the program (for large programs, you most likely want <code>continue</code> and a breakpoint). Type <code>help pdb</code> to see the pdb help information. In this case, we see the line the program currently hangs on is line 5 (<code>print(c.recv(1024))</code>).</p>\n\n<p>Now, if you don't understand <em>why</em> your program is hanging, the above debugging tools should give you plenty of information to create a <a href=\"https://stackoverflow.com/help/mcve\"><strong>minimal, complete, verifiable example</strong></a>.</p>\n\n<p>Once you have confirmed that <em>that</em> is hanging as well, feel free to <a href=\"https://stackoverflow.com/questions/ask\">ask a stackoverflow question</a> about it.</p>\n"}], "owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1820, "favorite_count": 0, "accepted_answer_id": 28620907, "answer_count": 1, "score": 1, "last_activity_date": 1613173281, "creation_date": 1424287497, "last_edit_date": 1613173281, "question_id": 28592145, "link": "https://stackoverflow.com/questions/28592145/why-does-scraping-freeze", "title": "Why does scraping freeze?", "body": "<p>I am running a python code to do some web scraping, which means the code will occasionally write (append) data to a text file. Sometimes the code will just freeze up but no error message would show up in Shell.\nI would like to know if this is more likely because the raspbian system is not reliable or it is because my code has some hidden issues.</p>\n"}, {"tags": ["python", "matplotlib", "pandas"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 1, "creation_date": 1424301464, "post_id": 28592095, "comment_id": 45498263, "body": "Check out this question and its variety of answers (they&#39;re all interesting):  <a href=\"http://stackoverflow.com/questions/8500700/how-to-plot-a-gradient-color-line-in-matplotlib\" title=\"how to plot a gradient color line in matplotlib\">stackoverflow.com/questions/8500700/&hellip;</a>      Line style can generally be defined where you define line color."}], "owner": {"reputation": 9004, "user_id": 4077912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc64252865700f1bf9ff46eb76b399d?s=128&d=identicon&r=PG&f=1", "display_name": "Primer", "link": "https://stackoverflow.com/users/4077912/primer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 890, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1424287330, "creation_date": 1424287330, "question_id": 28592095, "link": "https://stackoverflow.com/questions/28592095/using-matplotlib-to-plot-dataframe-column-with-different-line-style-depending-on", "title": "Using matplotlib to plot DataFrame column with different line style depending on a variable in another column", "body": "<p>I am trying to plot lines from a GroupbyDataFrame with properties dependant on other column value.\nSo far the task is being solved using conditions and loops on every pair of y-axis values.</p>\n\n<p>Reproducible example:</p>\n\n<pre><code>import pandas as pd\nfrom itertools import cycle\nimport seaborn as sns\n\n# Setup DataFrame and Groupby object\ndf = pd.DataFrame({'week': range(1,11)*2,\n                   'object':['a']*10 + ['b']*10,\n                   'param': [100, 95, 90, 100, 110, 90, 90, 110, 110, 120,\n                             110, 110, 110, 100, 100, 110, 110, 100, 100, 110],\n                   'event': [0,    0,  1,   0,   0,   1,   1,   0,   0,   0,\n                             0,    0,  0,   1,   1,   0,   0,   1,   1,   0]}, index=range(1,21))\n\nprint df.head()\n\ngroups = df.groupby('object')\n\n# Setup Figure, ax and line properties\ncolor = cycle(sns.color_palette('Set1'))\nfig, ax = plt.subplots(figsize=(10,6))\nbase_line={'ls':'--', 'lw':3}\nevent_line={'ls':'-', 'lw':2}\n\n# Process each group separately:\nfor name, g in groups:\n    # Assign color for the object:\n    label_set = False\n    props = {'c':next(color)}\n    # Set X axis values:\n    x = g['week']\n\n    # Process each pair of points to select desired properties:\n    for i in range(g.shape[0]):\n        # Make pair of Y values\n        y = g.iloc[i:i+2].loc[:,'param'].reindex(g.index).values\n\n        # Select properties of the pair of dots based on value of 'event' column:\n        if g.iloc[i:i+2].loc[:,'event'].sum() &gt;= 1:\n            props.update(event_line)\n            # Set properties for the legend if it has not been set before:\n            if not label_set:\n                props.update({'label':name})\n                label_set = True\n            else:\n                # Remove label property if legend is already set:\n                if props.has_key('label'):\n                    props.pop('label')\n        else:\n            props.update(base_line)\n        ax.plot(x, y, **props)\n\n_ = ax.set_ylim(bottom=round(ax.get_yaxis().get_data_interval().min() * .9, -1), \n                top=round(ax.get_yaxis().get_data_interval().max() * 1.1, -1))\n\nplt.legend(bbox_to_anchor=(1.15, 0.5), fontsize='x-large')\nfor l in ax.get_xticklabels() + ax.get_yticklabels():\n    l.set_fontsize('x-large')\n\nplt.show()\n</code></pre>\n\n<p>This produces desired output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wGhE3.png\" alt=\"MultiColored Plot\"></p>\n\n<p>But I am hoping there is a <code>matplotlib</code> way to achieve the same result, \nwhich will also allow to easily manipulate legend for a line as whole (currently it is quite cumbersome).</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1424467238, "post_id": 28592079, "comment_id": 45576341, "body": "This could match something like &quot;X-Original-Host&quot; if it was there, thus, the <code>re.M</code> along with <code>^</code> could be a good idea"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1424523170, "post_id": 28592079, "comment_id": 45589703, "body": "@AnttiHaapala Sorry for the late reply, had gone to sleep. But is there any field in HTTP header like &quot;Original-Host&quot;? If yes, then <code>^</code> will be a necessity!"}, {"owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1424523510, "post_id": 28592079, "comment_id": 45589790, "body": "@AnttiHaapala Edited. Thanks"}], "tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": true, "score": 5, "last_activity_date": 1424523497, "last_edit_date": 1495539985, "creation_date": 1424287280, "answer_id": 28592079, "question_id": 28592048, "link": "https://stackoverflow.com/questions/28592048/python-regular-expression-for-host-header/28592079#28592079", "title": "Python Regular Expression For Host Header", "body": "<p>You could use this Regex to match</p>\n\n<pre><code>&gt;&gt;&gt; a = 'GET /dsadda HTTP/1.1\\r\\nUser-Agent: curl/7.26.0\\r\\nHost: www.youtube.com\\r\\nAccept: */*\\r\\n\\r\\n'\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.search(r\"Host: (.+)\\r\\n\",a).group(1)\n'www.youtube.com'\n</code></pre>\n\n<p><em>Small Note</em> - It is better to use <code>re.MULTILINE</code> flag as the input string contains <code>\\n</code>, though it is not required in this particular case. \n<em>Additionally</em>, As <a href=\"https://stackoverflow.com/questions/28592048/python-regular-expression-for-host-header/28592079?noredirect=1#comment45576341_28592079\">Antti Haapala</a> mentions, using the <code>^</code> to match the start of the string is also a better option, as there may be Header fields with the name <code>Host</code>. Thus the final regex would be something like <code>re.search(r\"^Host: (.+)\\r\\n\",a,re.M).group(1)</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "is_accepted": false, "score": 1, "last_activity_date": 1424287786, "creation_date": 1424287786, "answer_id": 28592239, "question_id": 28592048, "link": "https://stackoverflow.com/questions/28592048/python-regular-expression-for-host-header/28592239#28592239", "title": "Python Regular Expression For Host Header", "body": "<p>using positive look behind and positive look ahead</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; a = 'GET /dsadda HTTP/1.1\\r\\nUser-Agent: curl/7.26.0\\r\\nHost: www.youtube.com\\r\\nAccept: */*\\r\\n\\r\\n' \n&gt;&gt;&gt; re.search(r\"(?&lt;=Host: )(\\S+)(?=\\r\\n)\", a).group(1)\n'www.youtube.com'\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 2843702, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3432c5f8c38805040af63f63af98c8e?s=128&d=identicon&r=PG&f=1", "display_name": "Preston Connors", "link": "https://stackoverflow.com/users/2843702/preston-connors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 28592079, "answer_count": 2, "score": 1, "last_activity_date": 1424523497, "creation_date": 1424287173, "last_edit_date": 1424287326, "question_id": 28592048, "link": "https://stackoverflow.com/questions/28592048/python-regular-expression-for-host-header", "title": "Python Regular Expression For Host Header", "body": "<p>Given this string:</p>\n\n<pre><code>GET /dsadda HTTP/1.1\\r\\nUser-Agent: curl/7.26.0\\r\\nHost: www.youtube.com\\r\\nAccept: */*\\r\\n\\r\\n\n</code></pre>\n\n<p>How would I obtain everything in a Python regex group between <code>Host:</code> and <code>\\r\\n</code>?</p>\n\n<p>In this example, I would like <code>re.match.group(1)</code> to return <code>www.youtube.com</code></p>\n"}, {"tags": ["python", "multithreading", "user-interface", "pyqt4", "freeze"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424287011, "post_id": 28591828, "comment_id": 45490465, "body": "Not sure if you know this or not, but just inheriting from <code>Thread</code> isn&#39;t enough to make a piece of code multithreaded. For example, for threads inheriting from <a href=\"https://docs.python.org/2/library/threading.html#thread-objects\" rel=\"nofollow noreferrer\"><code>threading.thread</code></a>, you need to put the desired code in its <code>run</code> method, and then call <code>start</code> at some point. Code that appears inside, say, the <code>__init__</code> method, will still run in the main thread."}, {"owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424288159, "post_id": 28591828, "comment_id": 45491140, "body": "Thanks for responding. It&#39;s a bit more complicated. I have updated my question to answer your comment. First I make a list of threads in my Program class function. I then send this list to a thread class which starts and joins threads so I can find out when all of them are finished. And when these threads are started (myThread class) they call some function again in the Program class where I want to update my GUI from."}, {"owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424291168, "post_id": 28591828, "comment_id": 45492977, "body": "Perhaps I&#39;m incorrectly calling Program() functions from Thread() functions? I struggled because at first I tried to call them by simply Program.some_function(arguments).. but kept getting an error about program instance not being passed. So I had to come up with a dirty (?) fix by declaring &quot;ex&quot; as a global variable and passing it as a Program() instance argument. Is that correct way to do it?"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424291563, "post_id": 28591828, "comment_id": 45493219, "body": "The &quot;official&quot; way to get the program instance to your threads is to add a parameter to the threads&#39; <code>run</code> definition and start the threads like <code>thread.start(args = (my_program_instance,))</code>, but a global variable ought to work too. In general, your <code>spawnAndWaitThreadsThread</code> looks OK to me. I think the next place I&#39;d look for problems is inside <code>myThread</code>"}, {"owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1424292174, "post_id": 28591828, "comment_id": 45493590, "body": "So if one goes through hundreds and hundreds of files (os.path.listdir), filters them by some extensions, pulls out their timestamps, concatenates the results to a string and then tries to write one by one these hundreds of strings on the fly to multiple QListWidgets it shouldn&#39;t freeze the program, right?"}], "answers": [{"comments": [{"owner": {"reputation": 868, "user_id": 218768, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ehu5G.jpg?s=128&g=1", "display_name": "nish", "link": "https://stackoverflow.com/users/218768/nish"}, "edited": false, "score": 0, "creation_date": 1593501864, "post_id": 28603550, "comment_id": 110795848, "body": "did not get. please elaborate with an example if you cannot put your actual code"}], "tags": [], "owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "is_accepted": false, "score": 0, "last_activity_date": 1424340498, "creation_date": 1424340498, "answer_id": 28603550, "question_id": 28591828, "link": "https://stackoverflow.com/questions/28591828/pyqt-gui-freezes-until-threads-are-finished-while-multithreading-in-python/28603550#28603550", "title": "PyQt GUI freezes until threads are finished while multithreading in Python", "body": "<p>I resolved this issue by adding a very simple function in the main Program() class which has only one job - to start a very simple thread which in turn goes back to Program() class and calls a function there which then starts constructing my threads list, sending them to another thread class, etc.</p>\n\n<p>As a result GUI is not freezing anymore.</p>\n"}], "owner": {"reputation": 253, "user_id": 3243483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d11058fa0d703d02ae59c555f50ce59b?s=128&d=identicon&r=PG&f=1", "display_name": "Onedot618", "link": "https://stackoverflow.com/users/3243483/onedot618"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1502, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1424340498, "creation_date": 1424286380, "last_edit_date": 1424288019, "question_id": 28591828, "link": "https://stackoverflow.com/questions/28591828/pyqt-gui-freezes-until-threads-are-finished-while-multithreading-in-python", "title": "PyQt GUI freezes until threads are finished while multithreading in Python", "body": "<p>The code is pretty heavy so I will just post some snippets.</p>\n\n<pre><code>class Program(QtGui.QWidget):\n    def __init__(self, parent=None):\n        super(Program, self).__init__(parent)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>def main():   \n    app = QtGui.QApplication(sys.argv)\n    global ex\n    ex = Program()\n    sys.exit(app.exec_())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>And in between I have a bunch of labels, text fields, buttons and 4 QListWidgets inside sublayouts, these sublayouts are added to the grid.</p>\n\n<p>I'm launching variable number of threads depending on input. Normally 4 threads. They are launched in own class:</p>\n\n<pre><code>class myThread(Thread):\n    def __init__(self, arguments, more_arguments):\n        threading.Thread.__init__(self)\n\n    def work_it(self, argument, more_arguments):\n        Program.some_function_in_Program_class(ex, arguments)\n</code></pre>\n\n<p>And from there I call functions inside the Program() class to do the actual changes to the GUI.</p>\n\n<pre><code>Program.generate_results(ex, arguments, arguments2, more_arguments)\n</code></pre>\n\n<p>In the end it comes down to a list I iterate over and whether I print each element or I use:</p>\n\n<pre><code>my_listbox.addItem(item)\n</code></pre>\n\n<p>It freezes the GUI until all 4 threads are finished going through the list. Then all the results appear together instead of appearing one by one.</p>\n\n<p>I have done this in Tkinter and I could see one by one list item appear in the ListBox widgets dynamically, without freezing the GUI.</p>\n\n<p>As for managing threads what I'm doing is I'm iterating over a list and according to its length I make a number of threads:</p>\n\n<pre><code>threadlist = []\nfor i in self.results:\n    sub_thread = myThread(i, self.results[i])\n    self.threadlist.append(sub_thread)\nswapAndWaitThread = spawnAndWaitThreadsThread(self.threadlist)\nswapAndWaitThread.start()\n</code></pre>\n\n<p>I do this to be able to manage these 4 threads and be able to tell when they are finished.</p>\n\n<pre><code>class spawnAndWaitThreadsThread(Thread):\n    def __init__(self, threadlist):\n        threading.Thread.__init__(self)\n        self.threadlist = threadlist\n\n    def run(self):\n        for thread in self.threadlist:\n            thread.start()\n\n        for thread in self.threadlist:\n            thread.join()\n\n    print \"threads finished.. do something\"\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "django", "django-csrf"], "comments": [{"owner": {"reputation": 1172, "user_id": 4428377, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9295caadce48c5971dda44581c72181a?s=128&d=identicon&r=PG&f=1", "display_name": "aquaman", "link": "https://stackoverflow.com/users/4428377/aquaman"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424327171, "post_id": 28591690, "comment_id": 45505698, "body": "plz also tell what changes i hav to make in my code....when i m just writing @csrf_excempt it is giving error - &#39;name &#39;csrf_excempt&#39; is not defined&#39;..help me once again plz..:)"}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "is_accepted": false, "score": 0, "last_activity_date": 1424296800, "creation_date": 1424296800, "answer_id": 28594771, "question_id": 28591690, "link": "https://stackoverflow.com/questions/28591690/why-am-i-getting-a-403-error-csrf-token-missing-with-django/28594771#28594771", "title": "Why am I getting a 403 error \u201cCSRF token missing\u201d with Django?", "body": "<p>It is because you aren't passing the CSRF Token through with <code>rest-easy</code>. You can either do as @Selcuk suggested and wrap your view function with <code>@csrf_exempt</code> while testing, or you can find the CSRF Token and POST that with <code>rest-easy</code></p>\n"}, {"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1424334739, "creation_date": 1424334739, "answer_id": 28601654, "question_id": 28591690, "link": "https://stackoverflow.com/questions/28591690/why-am-i-getting-a-403-error-csrf-token-missing-with-django/28601654#28601654", "title": "Why am I getting a 403 error \u201cCSRF token missing\u201d with Django?", "body": "<p>You can disable the CSRF token requirement by putting <code>@csrf_exempt</code> before your view:</p>\n\n<p>First import the decorator at the top of your views.py:</p>\n\n<pre><code>from django.views.decorators.csrf import csrf_exempt\n</code></pre>\n\n<p>Then decorate your view like:</p>\n\n<pre><code>@csrf_exempt\ndef home(request): \n</code></pre>\n\n<p>Warning: This will make your view vulnerable to cross site request forgery attacks. See <a href=\"https://docs.djangoproject.com/en/1.7/ref/contrib/csrf/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/ref/contrib/csrf/</a> for details.</p>\n"}], "owner": {"reputation": 1172, "user_id": 4428377, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9295caadce48c5971dda44581c72181a?s=128&d=identicon&r=PG&f=1", "display_name": "aquaman", "link": "https://stackoverflow.com/users/4428377/aquaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 28601654, "answer_count": 2, "score": 1, "last_activity_date": 1424334739, "creation_date": 1424285882, "last_edit_date": 1424286421, "question_id": 28591690, "link": "https://stackoverflow.com/questions/28591690/why-am-i-getting-a-403-error-csrf-token-missing-with-django", "title": "Why am I getting a 403 error \u201cCSRF token missing\u201d with Django?", "body": "<p>I\u2019m using <a href=\"https://addons.mozilla.org/en-us/firefox/addon/rest-easy/\" rel=\"nofollow\">REST Easy</a> in Firefox to make a POST request to a simple form in Django, but it\u2019s giving me a 403 error \u201c2295 CSRF token missing or incorrect\u201d.</p>\n\n<p>This is my <code>views.py</code> (since I\u2019m using the net behind a proxy):</p>\n\n<pre><code>from django.shortcuts import render\nimport urllib2\n\ndef home(request):\n    if request.method == 'POST':\n        post = request.POST\n        if 'passkey' in post:\n            if post['passkey'] == '123':\n                proxy = urllib2.ProxyHandler({'http': 'http://070.13095070:pujakumari123@10.1.1.19:80'})\n                auth = urllib2.HTTPBasicAuthHandler()\n                opener = urllib2.build_opener(proxy, auth, urllib2.HTTPHandler)\n                urllib2.install_opener(opener)\n                j = urllib2.urlopen(post['url'])\n                j_obj = json.load(j) \n                return HttpResponse(j_obj)\n    else:\n        return render(request, 'packyourbag/home_page.html')\n</code></pre>\n\n<p>and my template file:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;body&gt;  \n        &lt;form id=\"form\" method=\"post\"&gt;\n            {% csrf_token %}\n            url:&lt;input type=\"text\" name=\"url\"/&gt;\n            Pass Key:&lt;input type=\"text\" name=\"passkey\"/&gt;\n            &lt;button type=\"submit\" name=\"url_post\"&gt;\n                Post\n            &lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I\u2019m passing a URL and passkey, and I don't know how to pass a CSRF token (I don\u2019t even know if I have to pass this or not).</p>\n"}, {"tags": ["python", "django", "django-csrf"], "comments": [{"owner": {"reputation": 7478, "user_id": 2658173, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a53cc204289b776e5e12dc9d43d2cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "C.B.", "link": "https://stackoverflow.com/users/2658173/c-b"}, "edited": false, "score": 0, "creation_date": 1424287332, "post_id": 28591685, "comment_id": 45490655, "body": "We will probably need to see more code and the stacktrace."}, {"owner": {"reputation": 161, "user_id": 4015036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def47408de3d8040df7e8bbf52600b9f?s=128&d=identicon&r=PG&f=1", "display_name": "Leticia", "link": "https://stackoverflow.com/users/4015036/leticia"}, "edited": false, "score": 0, "creation_date": 1424287398, "post_id": 28591685, "comment_id": 45490702, "body": "What are you trying to do? Where is your form and how do you submit it?"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1424287643, "post_id": 28591685, "comment_id": 45490855, "body": "Is the <code>csrf_token</code> inside a <code>form</code> tag? Is this a regular HTML <code>form</code> submit (are you using some kind of AJAX)?"}, {"owner": {"reputation": 125, "user_id": 4358737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5d504d19149b42df7b46a8fbf1d424?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah", "link": "https://stackoverflow.com/users/4358737/abdullah"}, "edited": false, "score": 0, "creation_date": 1424288459, "post_id": 28591685, "comment_id": 45491347, "body": "yes i am using AJAX so,  csrf_token is not inside an HTML form"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424291116, "post_id": 28591685, "comment_id": 45492945, "body": "Where is your AJAX post code?"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1424294683, "post_id": 28591685, "comment_id": 45494982, "body": "take a look here <a href=\"https://docs.djangoproject.com/en/1.7/ref/contrib/csrf/#ajax\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.7/ref/contrib/csrf/#ajax</a>"}, {"owner": {"reputation": 125, "user_id": 4358737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5d504d19149b42df7b46a8fbf1d424?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah", "link": "https://stackoverflow.com/users/4358737/abdullah"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424327682, "post_id": 28591685, "comment_id": 45505873, "body": "my relevant  ajax code is:    $.ajax ( { \t\t\ttype: &quot;POST&quot;, \t\t\turl: &quot;/articles/search/&quot;, \t\t\tdata: { \t\t\t\t&#39;search_text&#39; : $(&#39;#search&#39;).val(), \t\t\t\t&#39;csrfmiddlewaretokken&#39;: $(&quot;input[name=csrfmiddlewaretokken]&quot;).val() \t\t\t}, \t\t\tsuccess: searchSuccess, \t\t\tdatatype: &#39;html&#39; \t\t\t \t\t});   @Selcuk"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": false, "score": 0, "last_activity_date": 1424298682, "creation_date": 1424298682, "answer_id": 28595251, "question_id": 28591685, "link": "https://stackoverflow.com/questions/28591685/why-is-my-csrf-token-failing-in-django/28595251#28595251", "title": "Why is my CSRF token failing in Django?", "body": "<p>The <code>csrf_token</code> is just the string that is required, you need to do something with it. For starters, capturing it within your template in script takes will mean javascript is \"aware\" of it.</p>\n\n<pre><code>{# Place this somewhere in your template #}\n&lt;script type=\"text/javascript\"&gt;\n    var csrf_token = \"{{ csrf_token }}\";\n&lt;/script&gt;\n</code></pre>\n\n<p>After this, how you submit the AJAX request is up to you, but you can now use this as part of your POST submission.</p>\n"}, {"tags": [], "owner": {"reputation": 11967, "user_id": 4936905, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh6.googleusercontent.com/-o5GQJ0wL1CU/AAAAAAAAAAI/AAAAAAAAA8A/2vXPq8k1xf4/photo.jpg?sz=128", "display_name": "Hassan Baig", "link": "https://stackoverflow.com/users/4936905/hassan-baig"}, "is_accepted": false, "score": 0, "last_activity_date": 1437441000, "creation_date": 1437441000, "answer_id": 31528774, "question_id": 28591685, "link": "https://stackoverflow.com/questions/28591685/why-is-my-csrf-token-failing-in-django/31528774#31528774", "title": "Why is my CSRF token failing in Django?", "body": "<p>You'll need to pass the csrf token value in every POST request made. </p>\n"}], "owner": {"reputation": 125, "user_id": 4358737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5d504d19149b42df7b46a8fbf1d424?s=128&d=identicon&r=PG&f=1", "display_name": "abdullah", "link": "https://stackoverflow.com/users/4358737/abdullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437441000, "creation_date": 1424285871, "last_edit_date": 1424287248, "question_id": 28591685, "link": "https://stackoverflow.com/questions/28591685/why-is-my-csrf-token-failing-in-django", "title": "Why is my CSRF token failing in Django?", "body": "<p>I've provided CSRF in <code>views.py</code> and included <code>csrf_token</code> in templates, but still search is not working due to \u201ccsrf_token failure\u201d. </p>\n\n<p>My <code>views.py</code> code is: </p>\n\n<pre><code>args = {}\nargs.update(csrf(request))\nargs['articles']= Article.objects.all()\nargs['lang'] = language\nargs['session_language']=session_language\nreturn render_to_response('articles.html', args)\n</code></pre>\n\n<p>and template code is</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h3&gt;Search&lt;/h3&gt;\n{% csrf_token %}\n&lt;input type='text' id='search' name='search' /&gt;\n</code></pre>\n"}, {"tags": ["python", "sql", "ms-access"], "comments": [{"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1424296354, "post_id": 28591632, "comment_id": 45495907, "body": "In your last (troublesome) query, are <code>date</code> and <code>time</code> the names of actual fields in the table, or should your WHERE clause really be referring to <code>Date_</code> and <code>Time_</code>? (BTW, your usage of <code>datetime.time()</code> should work fine.)"}, {"owner": {"reputation": 478, "user_id": 3253628, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d83035b8e68815a309224a922a9525fc?s=128&d=identicon&r=PG&f=1", "display_name": "s666", "link": "https://stackoverflow.com/users/3253628/s666"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1424297183, "post_id": 28591632, "comment_id": 45496337, "body": "Ah that was the nudge in the right direction I needed, I changed it to query= &#39;&#39;&#39;SELECT Date_,Time_, Close_ FROM Intraday_values WHERE (Date_ = ? and Time_ &gt;= ?) or (Date_ = ? and Time_ &lt;= ?)&#39;&#39;&#39; which now works. It seems so simple now with help...but had me stumped. Again, your help is greatly appreciated!!"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1424313931, "post_id": 28591632, "comment_id": 45501982, "body": "I would have used <a href=\"https://docs.python.org/3.3/library/string.html\" rel=\"nofollow noreferrer\">str.format()</a> in the query string, passing the date and time values rather than using cursor parameters. Less reliant on the database (Jet) but more processing on the client (Python). But just a preference -to each his own!"}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 3253628, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d83035b8e68815a309224a922a9525fc?s=128&d=identicon&r=PG&f=1", "display_name": "s666", "link": "https://stackoverflow.com/users/3253628/s666"}, "is_accepted": true, "score": 2, "last_activity_date": 1428498505, "last_edit_date": 1428498505, "creation_date": 1424297310, "answer_id": 28594887, "question_id": 28591632, "link": "https://stackoverflow.com/questions/28591632/python-sql-database-query-giving-too-few-parameters-error/28594887#28594887", "title": "Python SQL database query giving &quot;Too few parameters&quot; error", "body": "<p>Works after changing the query \nto</p>\n\n<pre><code>query= '''SELECT Date_,Time_, Close_\n          FROM Intraday_values\n          WHERE (Date_ = ? and Time_ &gt;= ?)\n                OR (Date_ = ? and Time_ &lt;= ?)'''\n</code></pre>\n"}], "owner": {"reputation": 478, "user_id": 3253628, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d83035b8e68815a309224a922a9525fc?s=128&d=identicon&r=PG&f=1", "display_name": "s666", "link": "https://stackoverflow.com/users/3253628/s666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1463, "favorite_count": 0, "accepted_answer_id": 28594887, "answer_count": 1, "score": 2, "last_activity_date": 1428498505, "creation_date": 1424285707, "last_edit_date": 1424291084, "question_id": 28591632, "link": "https://stackoverflow.com/questions/28591632/python-sql-database-query-giving-too-few-parameters-error", "title": "Python SQL database query giving &quot;Too few parameters&quot; error", "body": "<p>I have the following code which is attempting to pull several SQL queries from an Access database</p>\n\n<pre><code>import pyodbc\nimport datetime\n\nconx = pyodbc.connect(\"Driver={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=C:\\\\Users\\\\Stuart\\\\PycharmProjects\\\\untitled\\\\Databases\\\\SandP.accdb;\")\n\ncursor=conx.cursor()\n\nquery=\"\"\" SELECT DISTINCT Date_ FROM Closing_prices\n     WHERE Date_ &gt;= ? AND Date_ &lt; ?\"\"\"\n\nparams1 = (datetime.date(2011, 8, 10), datetime.date(2014, 4, 30))\ncursor.execute(query, params1)\n\ndates = list()\nfor date in cursor:\n    dates.append(date[0])\n\nfor date in dates:\n    params2 = date\n    cursor = conx.cursor()\n\n    query= '''SELECT Volatility,Last_price FROM Volatility v,Closing_prices c WHERE c.Date_= ? and v.Date_=c.Date_'''\n    cursor.execute(query,params2)\n\n    for (vol,price) in cursor:\n        volatility=float(vol)\n        closing_price=float(price)\n    cursor.close()\n\n    cursor = conx.cursor()\n    if (date.weekday()==4):\n        nextDay=(date + datetime.timedelta(days=3))\n    else:\n        nextDay=(date + datetime.timedelta(days=1))\n\n    query= '''SELECT Date_,Time_, Close_ FROM Intraday_values WHERE (date = ? and time &gt;= ?) or (date = ? and time &lt;= ?)'''\n\n    params3 = (date,datetime.time(15, 30),nextDay,datetime.time(15, 14))\n    cursor.execute(query,params3)\n</code></pre>\n\n<p>This last bit is throwing up the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:/Users/Stuart/PycharmProjects/untitled/Apache - Copy.py\", line 67, in &lt;module&gt;\ncursor.execute(query,params3)\npyodbc.Error: ('07002', '[07002] [Microsoft][ODBC Microsoft Access Driver] Too few parameters. Expected 6. (-3010) (SQLExecDirectW)')\n</code></pre>\n\n<p>The request is attempting to pull out the Date_, Time_ and Close_ items from the table, for the dates passed to the request as it iterates through the list of dates created previously, along with cut off times of \"after 15:30 for \"date\" and \"before 15:14\" for \"date+1\".</p>\n\n<p>Firstly, why would this be expecting 6 parameters when there are only 4 question marks (?) in the SQL request - have I not formed this properly?</p>\n\n<p>Also, I took a stab at the parameter creation for a datetime.time. Is this incorrectly formed also?</p>\n\n<p>I'm a bit out of my depth!</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 3, "creation_date": 1424286411, "post_id": 28591599, "comment_id": 45490093, "body": "did you by any chance try something yourself?"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 0, "creation_date": 1424286443, "post_id": 28591599, "comment_id": 45490115, "body": "What happens to <code>[(a3,a4), (b3,b4), ...]</code>?"}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1424290403, "post_id": 28591599, "comment_id": 45492545, "body": "I think the question is now clear enough (also demonstrated by three answers who seem to have understood it right) and can be reopened."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1424290955, "post_id": 28591599, "comment_id": 45492869, "body": "@Trilarion, I voted to close as it was too broad and the fact the OP supplied  no code showing any effort did not help either"}], "answers": [{"comments": [{"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1424285929, "post_id": 28591672, "comment_id": 45489791, "body": "I don&#39;t like the <code>for i in xrange(...len(tups)...)</code>.  I&#39;d rather use something like <code>for tup1, tup2 in zip(tups[::2], tups[1::2])</code>"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 1, "creation_date": 1424285944, "post_id": 28591672, "comment_id": 45489802, "body": "@Kevin: which creates <i>new list objects</i>."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1424285966, "post_id": 28591672, "comment_id": 45489816, "body": "Then use <code>itertools.islice()</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1424286018, "post_id": 28591672, "comment_id": 45489848, "body": "@Kevin: you may as well use the <code>itertools</code> <i><code>grouper()</code></i> recipe in that case (see the linked question I link to from my answer). But the <code>xrange()</code> option is just as faster if the input is a sequence. <code>itertools</code> is wonderful if the input is an iterable instead."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 2, "last_activity_date": 1424289088, "last_edit_date": 1495540693, "creation_date": 1424285837, "answer_id": 28591672, "question_id": 28591599, "link": "https://stackoverflow.com/questions/28591599/converting-a-list-of-tuples-by-combining-neighbored-elements-and-cutting-the-len/28591672#28591672", "title": "Converting a list of tuples by combining neighbored elements and cutting the length of the elements", "body": "<p><a href=\"https://stackoverflow.com/questions/434287/what-is-the-most-pythonic-way-to-iterate-over-a-list-in-chunks\">Iterate over the list in pairs</a> and produce new tuples:</p>\n\n<pre><code>[tups[i][:2] + tups[i + 1][:2] for i in xrange(0, len(tups), 2)]\n</code></pre>\n\n<p>where <code>tups</code> is your input list; use <code>range()</code> if you are using Python 3.</p>\n\n<p>If <code>tups</code> is an iterable and not a sequence (so if you cannot use indexing for fast access), you can also use the <code>itertools</code> <code>grouper</code> recipe (adjusted for your usecase and adapted to work on Python 2 and 3):</p>\n\n<pre><code>try:\n    # Python 2\n    from future_builtins import zip\nexcept ImportError:\n    pass  # Python 3\n\ndef grouper(iterable, n):\n    args = [iter(iterable)] * n\n    return zip(*args)\n\n[t1[:2] + t2[:2] for t1, t2 in grouper(tups, 2)]\n</code></pre>\n\n<p>but this somewhat overkill if <code>tups</code> is a list.</p>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; tups = [('a1', 'a2', 'a3', 'a4'), ('b1', 'b2', 'b3', 'b4'), ('c1', 'c2', 'c3', 'c4'), ('d1', 'd2', 'd3', 'd4')]  \n&gt;&gt;&gt; [tups[i][:2] + tups[i + 1][:2] for i in xrange(0, len(tups), 2)]\n[('a1', 'a2', 'b1', 'b2'), ('c1', 'c2', 'd1', 'd2')]\n</code></pre>\n\n<p>Even so, the <code>grouper</code> option is the faster choice (which surprised me a little):</p>\n\n<pre><code>In [1]: tups = [('a', 'a', 'a', 'a')] * 1000\n\nIn [2]: from future_builtins import zip\n\nIn [3]: def grouper(iterable, n):\n   ...:         args = [iter(iterable)] * n\n   ...:         return zip(*args)\n   ...: \n\nIn [4]: %timeit [tups[i][:2] + tups[i + 1][:2] for i in xrange(0, len(tups), 2)]\n10000 loops, best of 3: 112 \u00b5s per loop\n\nIn [5]: %timeit [t1[:2] + t2[:2] for t1, t2 in grouper(tups, 2)]\n10000 loops, best of 3: 90.6 \u00b5s per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1424286428, "post_id": 28591699, "comment_id": 45490101, "body": "It must be noted that in Python 2, this creates 2 new list objects; the two slices and the <code>zip()</code> return value, and discards all three again. That&#39;s not as efficient as it could be."}, {"owner": {"reputation": 3231, "user_id": 2348587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438775d2759253a1ac650e11ab237070?s=128&d=identicon&r=PG", "display_name": "Darrick Herwehe", "link": "https://stackoverflow.com/users/2348587/darrick-herwehe"}, "edited": false, "score": 2, "creation_date": 1424286453, "post_id": 28591699, "comment_id": 45490127, "body": "@AnttiHaapala Probably because it&#39;s a code only answer"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 3231, "user_id": 2348587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438775d2759253a1ac650e11ab237070?s=128&d=identicon&r=PG", "display_name": "Darrick Herwehe", "link": "https://stackoverflow.com/users/2348587/darrick-herwehe"}, "edited": false, "score": 0, "creation_date": 1424286545, "post_id": 28591699, "comment_id": 45490182, "body": "@DarrickHerwehe: hrm, bit harsh right after posting though."}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 3, "last_activity_date": 1424331494, "last_edit_date": 1424331494, "creation_date": 1424285920, "answer_id": 28591699, "question_id": 28591599, "link": "https://stackoverflow.com/questions/28591599/converting-a-list-of-tuples-by-combining-neighbored-elements-and-cutting-the-len/28591699#28591699", "title": "Converting a list of tuples by combining neighbored elements and cutting the length of the elements", "body": "<p>I pondered on the question of <em>what is the Pythonic way</em>, and came to the conclusion that <em>if you do not need a sequence, then accept any iterator</em> would be the Pythonic one. Martijn's xrange method is not the most pythonic in this sense, and indeed the Martijn's grouper method</p>\n\n<pre><code>result = [ i[:2] + j[:2] for i, j in izip(*[iter(l)] * 2) ]    \n</code></pre>\n\n<p>is the most pythonic in that it accepts any kind of iterable.</p>\n\n<p>The <code>[iter(l)] * 2</code> makes a 2-sized list with the <strong>same</strong> iterator in both elements. The reason why this is faster than my attempt with <code>next</code> above, though I didn't think so before, is that the call to <code>next()</code> is costly (all function calls and attribute/name resolves are slow on CPython relative to use of inline operators and construction of tuples).</p>\n\n<hr>\n\n<p>This is the quick obvious solution, that I find the most Pythonic with strictly lists:</p>\n\n<pre><code>l = [('a1', 'a2', 'a3', 'a4'), ('b1', 'b2', 'b3', 'b4'), ('c1', 'c2', 'c3', 'c4'), ('d1', 'd2', 'd3', 'd4')]\ny = [ i[:2] + j[:2] for i, j in zip(l[::2], l[1::2]) ]\nprint y\n</code></pre>\n\n<p>which prints</p>\n\n<pre><code>[('a1', 'a2', 'b1', 'b2'), ('c1', 'c2', 'd1', 'd2')]\n</code></pre>\n\n<p>However it is not the most efficient, as <code>zip</code> and the slices will create temporary lists on Python 2, thus to speed this up, one can use the <code>itertools.izip</code> with <code>islice</code> to make a generative solution.</p>\n\n<hr>\n\n<p>But, actually one can abuse an iterator here to make quite <strong>efficient</strong> code, albeit not very Pythonic</p>\n\n<pre><code>i = iter(l)\nn = i.next\nresult = [ j[:2] + n()[:2] for j in i ]\nprint result\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>[('a1', 'a2', 'b1', 'b2'), ('c1', 'c2', 'd1', 'd2')]\n</code></pre>\n\n<p>The <code>for</code> in list comprehension implicitly calls <code>next()</code> on the iterator <code>i</code> and assigns the result to <code>j</code>; within the list comprehension body we explicitly advance the same iterator to get the next tuple. Then with tuple slicing we take the 2 first elements of the even numbered tuple (0-based) and concatenate the 2 first elements of the next tuple to it. This code however will result in <code>StopIteration</code> exception if the number of elements in the original list is not even, unlike the slice'n'zip solutions which would just silently discard the last odd tuple.</p>\n"}], "owner": {"reputation": 225, "user_id": 4529970, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2518d8eeda003ebf023e3fe6085582fd?s=128&d=identicon&r=PG&f=1", "display_name": "RoyEsh", "link": "https://stackoverflow.com/users/4529970/royesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1424331494, "creation_date": 1424285603, "last_edit_date": 1424290445, "question_id": 28591599, "link": "https://stackoverflow.com/questions/28591599/converting-a-list-of-tuples-by-combining-neighbored-elements-and-cutting-the-len", "title": "Converting a list of tuples by combining neighbored elements and cutting the length of the elements", "body": "<p>I have a list of tuples, in even length <em>x</em>:  </p>\n\n<pre><code>[(a1,a2,a3,a4),(b1,b2,b3,b4),(c1,c2,c3,c4),(d1,d2,d3,d4), ... ,(x1,x2,x3,x4)]  \n</code></pre>\n\n<p>I wish to create a new list of tuples as following:  </p>\n\n<pre><code>[(a1,a2,b1,b2),(c1,c2,d1,d2),(e1,e2,f1,f2), ... ,((x-1)1,(x-1)2,x1,x2)]  \n</code></pre>\n\n<p>As you can see, all the third and fourth elements of the sublists are gone and neighbored sublists have been merged.  </p>\n\n<p>I can do it with few loops, but I'm looking for the elegant Python'ish way to do it.</p>\n"}, {"tags": ["python", "python-2.7", "memory", "python-multiprocessing"], "comments": [{"owner": {"reputation": 2362, "user_id": 1472416, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7b29bdd4037fe62aa667a5ed517d9790?s=128&d=identicon&r=PG", "display_name": "jgr208", "link": "https://stackoverflow.com/users/1472416/jgr208"}, "edited": false, "score": 0, "creation_date": 1424285847, "post_id": 28591571, "comment_id": 45489734, "body": "well if it cant reallocate memory what can you really do? you should use some defensive programming to avoid this error and if the error happens, catch it and then do some stuff to handle it. what that stuff is i dont know."}, {"owner": {"reputation": 783, "user_id": 1757800, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kWPWg.png?s=128&g=1", "display_name": "Sveltely", "link": "https://stackoverflow.com/users/1757800/sveltely"}, "reply_to_user": {"reputation": 2362, "user_id": 1472416, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7b29bdd4037fe62aa667a5ed517d9790?s=128&d=identicon&r=PG", "display_name": "jgr208", "link": "https://stackoverflow.com/users/1472416/jgr208"}, "edited": false, "score": 0, "creation_date": 1424286334, "post_id": 28591571, "comment_id": 45490055, "body": "yes... I&#39;m not sure how to catch it, as it seems to come from a thread managed by the python multiprocessing module."}, {"owner": {"reputation": 2362, "user_id": 1472416, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7b29bdd4037fe62aa667a5ed517d9790?s=128&d=identicon&r=PG", "display_name": "jgr208", "link": "https://stackoverflow.com/users/1472416/jgr208"}, "edited": false, "score": 0, "creation_date": 1424286411, "post_id": 28591571, "comment_id": 45490092, "body": "you might have to look into the documentation then with what is getting thrown from what class. So as of now then it seems like the best approach is defensive programming to avoid the memory allocation error."}], "answers": [{"comments": [{"owner": {"reputation": 3979, "user_id": 1517076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f852f03840802a42345ed027874d39df?s=128&d=identicon&r=PG", "display_name": "Mastergalen", "link": "https://stackoverflow.com/users/1517076/mastergalen"}, "edited": false, "score": 0, "creation_date": 1574266488, "post_id": 29089276, "comment_id": 104173008, "body": "Still not fixed in Python 3.6. I instead used <code>concurrent.Futures.ProcessPoolExecutor</code> instead of <code>multiprocessing.Pool</code> and it will raise <code>BrokenProcessPool</code> exception."}], "tags": [], "owner": {"reputation": 783, "user_id": 1757800, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kWPWg.png?s=128&g=1", "display_name": "Sveltely", "link": "https://stackoverflow.com/users/1757800/sveltely"}, "is_accepted": true, "score": 2, "last_activity_date": 1426551681, "creation_date": 1426551681, "answer_id": 29089276, "question_id": 28591571, "link": "https://stackoverflow.com/questions/28591571/how-can-i-catch-a-memory-error-in-a-spawned-thread/29089276#29089276", "title": "How can I catch a memory error in a spawned thread?", "body": "<p>This is actually a <a href=\"http://bugs.python.org/issue9205\" rel=\"nofollow\">known bug in python's multiprocessing module</a>, fixed in python 3 (<a href=\"https://nelsonslog.wordpress.com/2015/01/20/multiprocessing-worker-processes-dying/\" rel=\"nofollow\">here's a summarizing blog post I found</a>). There's a patch attached to <a href=\"http://bugs.python.org/issue22393\" rel=\"nofollow\">python issue 22393</a>, but that hasn't been officially applied.</p>\n\n<p>Basically, if one of a multiprocess pool's sub-processes die unexpectedly (out of memory, killed externally, etc.), the pool will wait indefinitely.</p>\n"}], "owner": {"reputation": 783, "user_id": 1757800, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kWPWg.png?s=128&g=1", "display_name": "Sveltely", "link": "https://stackoverflow.com/users/1757800/sveltely"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "accepted_answer_id": 29089276, "answer_count": 1, "score": 3, "last_activity_date": 1426551681, "creation_date": 1424285529, "last_edit_date": 1424287029, "question_id": 28591571, "link": "https://stackoverflow.com/questions/28591571/how-can-i-catch-a-memory-error-in-a-spawned-thread", "title": "How can I catch a memory error in a spawned thread?", "body": "<p>I've never used the multiprocessing library before, so all advice is welcome..</p>\n\n<p>I've got a python program that uses the multiprocessing library to do some memory-intensive tasks in multiple processes, which occasionally runs out of memory (I'm working on optimizations, but that's not what this question is about). Sometimes, an out-of-memory error gets thrown in a way that I can't seem to catch (output below), and then the program hangs on <code>pool.join()</code> (I'm using <code>multiprocessing.Pool</code>. How can I make the program do something other than indefinitely wait when this problem occurs?</p>\n\n<p>Ideally, The memory error is propagated back to the main process which then dies.</p>\n\n<p>Here's the memory error:</p>\n\n<pre><code>Exception in thread Thread-1:\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/threading.py\", line 811, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib64/python2.7/threading.py\", line 764, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/lib64/python2.7/multiprocessing/pool.py\", line 325, in _handle_workers\n    pool._maintain_pool()\n  File \"/usr/lib64/python2.7/multiprocessing/pool.py\", line 229, in _maintain_pool\n    self._repopulate_pool()\n  File \"/usr/lib64/python2.7/multiprocessing/pool.py\", line 222, in _repopulate_pool\n    w.start()\n  File \"/usr/lib64/python2.7/multiprocessing/process.py\", line 130, in start\n    self._popen = Popen(self)\n  File \"/usr/lib64/python2.7/multiprocessing/forking.py\", line 121, in __init__\n    self.pid = os.fork()\nOSError: [Errno 12] Cannot allocate memory \n</code></pre>\n\n<p>And here's where i manage multiprocessing:</p>\n\n<pre><code>mp_pool = mp.Pool(processes=num_processes)\nmp_results = list()\nfor datum in input_data:\n    data_args = {\n         'value': 0 // actually some other simple dict key/values\n    }\n    mp_results.append(mp_pool.apply_async(_process_data, args=(common_args, data_args)))\nframe_pool.close()\nframe_pool.join()  // hangs here when that thread dies..\nfor result_async in mp_results:\n    result = result_async.get()\n    // do stuff to collect results\n// rest of the code\n</code></pre>\n\n<p>When I interrupt the hanging program, I get:</p>\n\n<pre><code>Process process_003:\nTraceback (most recent call last):\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/multiprocessing/process.py\", line 258, in _bootstrap\n    self.run()\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/multiprocessing/process.py\", line 114, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/multiprocessing/pool.py\", line 102, in worker\n    task = get()\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/multiprocessing/queues.py\", line 374, in get\n    return recv()\n    racquire()\nKeyboardInterrupt\n</code></pre>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424285820, "post_id": 28591549, "comment_id": 45489718, "body": "This should help: <a href=\"http://stackoverflow.com/questions/10896841/find-a-3x3-sliding-window-over-an-image?answertab=active#tab-top\" title=\"find a 3x3 sliding window over an image\">stackoverflow.com/questions/10896841/&hellip;</a>"}, {"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424289214, "post_id": 28591549, "comment_id": 45491822, "body": "@runDOSrun This does help thanks :) but when I insert my code into the for loop suggested by &#39;fraxel&#39; I now get no output? Do I need to do something to &#39;final&#39; to be able to parse it through the cv2.mean() function?"}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1424289766, "post_id": 28591549, "comment_id": 45492185, "body": "what about cv2.filter2D with a kernel of 1/9 ?"}, {"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424290209, "post_id": 28591549, "comment_id": 45492452, "body": "@runDOSrun I did use print statements, take a look at the edit to my post above can you see anything blaringly obvious that i&#39;ve missed?"}, {"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424290341, "post_id": 28591549, "comment_id": 45492519, "body": "not sure how this would help <a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_imgproc/py_filtering/py_filtering.html#d-convolution-image-filtering\" rel=\"nofollow noreferrer\">cv2.filter2D</a>?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424290696, "post_id": 28591549, "comment_id": 45492726, "body": "You&#39;re not calling your function"}, {"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "reply_to_user": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1424292470, "post_id": 28591549, "comment_id": 45493743, "body": "@runDOSrun Im not using any cv methods for the window just to find the mean rgb values. Is there something wrong with the sliding window function I am using? Also when i call my function <code>mean = cv2.mean(new)</code> I get <code>TypeError: src is not a numpy array, neither a scalar.</code> If at all possible could you provide an answer to the question. Thanks for all the help, really appreciate it."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424292024, "post_id": 28593434, "comment_id": 45493490, "body": "Im NOT trying to blur the image by averaging the pixels and changing the centre pixel value though, I just want to output the average rgb values for each 3x3 window."}, {"owner": {"reputation": 9838, "user_id": 1435240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esfoN.jpg?s=128&g=1", "display_name": "Francesco Callari", "link": "https://stackoverflow.com/users/1435240/francesco-callari"}, "reply_to_user": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424313673, "post_id": 28593434, "comment_id": 45501928, "body": "And isn&#39;t that the same as making a copy of the original image and blurring it as described? (modulo the usual border issues, for which you&#39;ll need to choose your favorite convolution mode)"}], "tags": [], "owner": {"reputation": 9838, "user_id": 1435240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esfoN.jpg?s=128&g=1", "display_name": "Francesco Callari", "link": "https://stackoverflow.com/users/1435240/francesco-callari"}, "is_accepted": false, "score": 1, "last_activity_date": 1424291851, "creation_date": 1424291851, "answer_id": 28593434, "question_id": 28591549, "link": "https://stackoverflow.com/questions/28591549/sliding-window-over-an-image-opencv/28593434#28593434", "title": "Sliding window over an image OpenCV", "body": "<p>Filter with a kernel of shape equal to your window, and values all equal to 1/window_areas. The result is local average you seek (also known as a \"box blur\" operation).</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424293749, "post_id": 28593831, "comment_id": 45494477, "body": "Thaks for the reply :) I don&#39;t want to crop the image though, as my next step is to do this on a video sequence and I feel that this will complicate things using your method."}, {"owner": {"reputation": 60, "user_id": 3303805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1f4d7b469294ae8fd4cc03977da82ab?s=128&d=identicon&r=PG&f=1", "display_name": "talha", "link": "https://stackoverflow.com/users/3303805/talha"}, "reply_to_user": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424296030, "post_id": 28593831, "comment_id": 45495737, "body": "I edited the answer, please look at it again. I suppose this is what you want to get."}, {"owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424696131, "post_id": 28593831, "comment_id": 45641853, "body": "Thanks for the reply. How would I change the amount of regions the image is split into say I wanted 6*6?"}, {"owner": {"reputation": 60, "user_id": 3303805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1f4d7b469294ae8fd4cc03977da82ab?s=128&d=identicon&r=PG&f=1", "display_name": "talha", "link": "https://stackoverflow.com/users/3303805/talha"}, "reply_to_user": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "edited": false, "score": 0, "creation_date": 1424729326, "post_id": 28593831, "comment_id": 45661704, "body": "scale parameter is for that purpose. ie if you want to divide 6 by 6, you should change &#39;  scale=6  &#39; . If you want to print the matrix, use &#39;mean_values.reshape(3,scale,scale)&#39;"}], "tags": [], "owner": {"reputation": 60, "user_id": 3303805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a1f4d7b469294ae8fd4cc03977da82ab?s=128&d=identicon&r=PG&f=1", "display_name": "talha", "link": "https://stackoverflow.com/users/3303805/talha"}, "is_accepted": true, "score": 2, "last_activity_date": 1424295969, "last_edit_date": 1424295969, "creation_date": 1424293272, "answer_id": 28593831, "question_id": 28591549, "link": "https://stackoverflow.com/questions/28591549/sliding-window-over-an-image-opencv/28593831#28593831", "title": "Sliding window over an image OpenCV", "body": "<p>I wrote a script similar to the given links. It basically divides your img to 3*3 parts and then computes mean (and standard deviation) of each part. With a little array optimization I think you can use it real time/on video.</p>\n\n<p>PS: Divisions should be integer division </p>\n\n<p>EDIT: now the script gives 9 outputs each represent a mean of its own region.</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nimg=cv2.imread('aerial_me.jpg')\nscale=3\ny_len,x_len,_=img.shape\n\nmean_values=[]\nfor y in range(scale):\nfor x in range(scale):\n    cropped_image=img[(y*y_len)/scale:((y+1)*y_len)/scale,\n                        (x*x_len)/scale:((x+1)*x_len)/scale]\n\n    mean_val,std_dev=cv2.meanStdDev(cropped_image)\n    mean_val=mean_val[:3]\n\n    mean_values.append([mean_val])\nmean_values=np.asarray(mean_values)\nprint mean_values.reshape(3,3,3)\n</code></pre>\n\n<p>The output is bgr mean values of each window:</p>\n\n<pre><code>[[[  69.63661573   66.75843063   65.02066449]\n  [ 118.39233345  114.72655391  116.14441964]\n  [ 159.26887164  143.40760348  144.63208436]]\n\n [[  75.50831044  107.45708276  103.0781851 ]\n  [ 108.46450034  141.52005495  139.84878949]\n  [ 122.67583265  154.86071992  153.67907072]]\n\n [[  83.67678571  131.45284169  128.27706902]\n  [  86.57919815  129.09968235  128.64439389]\n  [  90.1102402   135.33173999  132.86622807]]]\n[Finished in 0.5s]\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 4546303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6479b55cc96afd6621d6d4649b91c18c?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Vicker", "link": "https://stackoverflow.com/users/4546303/neil-vicker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5800, "favorite_count": 3, "accepted_answer_id": 28593831, "answer_count": 2, "score": 1, "last_activity_date": 1424295969, "creation_date": 1424285443, "last_edit_date": 1424289642, "question_id": 28591549, "link": "https://stackoverflow.com/questions/28591549/sliding-window-over-an-image-opencv", "title": "Sliding window over an image OpenCV", "body": "<p>I am trying to define a window that scans across an image, I want to  find the average RGB values in each window and output them.</p>\n\n<p>I have managed to get the average RGB values for the entire image like this:</p>\n\n<pre><code>img = cv2.imread('images/0021.jpg')\n\nmean = cv2.mean(img)\n\nprint mean[0]\nprint mean[1]\nprint mean[2]\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>#Output\n51.0028081597\n63.1069849537\n123.663025174\n</code></pre>\n\n<p>How could I apply this mean function to a moving window and output the values for each window?</p>\n\n<p>EDIT:</p>\n\n<p>Here is what I have now:</p>\n\n<pre><code>img = cv2.imread('images/0021.jpg')\n\ndef new(img):\n    rows,cols = img.shape\n    final = np.zeros((rows, cols, 3, 3))\n    for x in (0,1,2):\n        for y in (0,1,2):\n            img1 = np.vstack((img[x:],img[:x]))\n            img1 = np.column_stack((img1[:,y:],img1[:,:y]))\n            final[x::3,y::3] = np.swapaxes(img1.reshape(rows/3,3,cols/3,-1),1,2)\n            b,g,r = cv2.split(final)\n            rgb_img = cv2.merge([r,g,b])\n            mean = cv2.mean(rgb_img)\n            print mean[0]\n            print mean[1]\n            print mean[2]\n</code></pre>\n\n<p>But now I am getting zero output. </p>\n"}, {"tags": ["python", "list", "python-3.x", "indexing", "append"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1424285471, "post_id": 28591542, "comment_id": 45489487, "body": "Do you have a question?"}, {"owner": {"reputation": 9, "user_id": 3703782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c215d730a33b6e775f95b70eacda25e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3703782", "link": "https://stackoverflow.com/users/3703782/user3703782"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 1, "creation_date": 1424285733, "post_id": 28591542, "comment_id": 45489659, "body": "@61612 I have edited my question :) hope its more clear now..."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3703782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c215d730a33b6e775f95b70eacda25e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3703782", "link": "https://stackoverflow.com/users/3703782/user3703782"}, "edited": false, "score": 0, "creation_date": 1424286345, "post_id": 28591669, "comment_id": 45490059, "body": "Is there any possibility use lists for the purpose? as I need to use the output in pygal. It would be better to use a list instead...."}, {"owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "reply_to_user": {"reputation": 9, "user_id": 3703782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c215d730a33b6e775f95b70eacda25e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3703782", "link": "https://stackoverflow.com/users/3703782/user3703782"}, "edited": false, "score": 0, "creation_date": 1424286451, "post_id": 28591669, "comment_id": 45490124, "body": "its just a dictionary with key values"}, {"owner": {"reputation": 9, "user_id": 3703782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c215d730a33b6e775f95b70eacda25e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3703782", "link": "https://stackoverflow.com/users/3703782/user3703782"}, "edited": false, "score": 0, "creation_date": 1424287597, "post_id": 28591669, "comment_id": 45490821, "body": "I get an error <code>AttributeError: &#39;builtin_function_or_method&#39; object has no attribute &#39;split&#39;</code> as well as the issue is I need a list, because I can use only a list as input in pygal module to create a chart, thats why in my question I have specifically asked for a <code>list</code> to be created dynamically I can&#39;t add a dict value to pygal module...."}], "tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": true, "score": 0, "last_activity_date": 1424287727, "last_edit_date": 1424287727, "creation_date": 1424285832, "answer_id": 28591669, "question_id": 28591542, "link": "https://stackoverflow.com/questions/28591542/create-a-list-dynamically-and-store-all-the-values-matching-with-current-value-i/28591669#28591669", "title": "Create a list dynamically and store all the values matching with current value in python 3.x", "body": "<p>you can use <code>collections.defaultdict</code>:</p>\n\n<pre><code>import collections\nmy_dict = collection.defaultdict(list)\nwith open('your_file') as f:\n    for x in f:\n        x = x.strip().split()\n        my_dict[x[1][:-1]].append(x[0])\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>defaultdict(&lt;type 'list'&gt;, { '00': [\"1000\", \"1010\"],\n'-10':[\"2000\", \"6000\"],\n'-15': [\"3500\"],\n'-05': [\"1250\", \"1000\", \"2000\"]})\n</code></pre>\n\n<p>for your desired output:</p>\n\n<pre><code>for x,y in my_dict.items():\n    print \"{} = {}\".format(x,y)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 3703782, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c215d730a33b6e775f95b70eacda25e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3703782", "link": "https://stackoverflow.com/users/3703782/user3703782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 28591669, "answer_count": 1, "score": 0, "last_activity_date": 1424287915, "creation_date": 1424285424, "last_edit_date": 1424287915, "question_id": 28591542, "link": "https://stackoverflow.com/questions/28591542/create-a-list-dynamically-and-store-all-the-values-matching-with-current-value-i", "title": "Create a list dynamically and store all the values matching with current value in python 3.x", "body": "<p>I have a text file which has data created dynamically like </p>\n\n<pre><code>1000L 00V\n2000L -10V\n3500L -15V\n1250L -05V\n1000L -05V\n2000L -05V\n6000L -10V\n1010L 00V\n</code></pre>\n\n<p>and so on...</p>\n\n<p>The numbers before V could vary from <code>-160 to +160</code></p>\n\n<p>I want to create a list (not using dictionary) dynamically and store the values in a list according to the matching numbers before <code>V</code></p>\n\n<p>In this case I want to create sets of list as follows</p>\n\n<pre><code> 00 = [\"1000\", \"1010\"]\n-10 = [\"2000\", \"6000\"]\n-15 = [\"3500\"]\n-05 = [\"1250\", \"1000\", \"2000\"]\n</code></pre>\n\n<p>Tried code:</p>\n\n<pre><code>if name.split()[1] != \"\":\n    gain_value = name.split()[1]\n    gain_value = int(gain_value.replace(\"V\", \"\"))\n    if gain_value not in gain_list:\n        gain_list.append(gain_value)\n        gain_length = len(gain_list)\n        print(gain_length)\n        g['gain_{0}'.format(gain_length)] = []\n        'gain_{0}'.format(gain_length).append(L_value)\n    else:\n        index_value = gain_list.index(gain_value)\n        g[index_value].append(L_value)\n\nfor x in range(0, len(gain_list)):\n    print(str(gain_list[x]) + \"=\" + 'gain_{0}'.format(x))\n</code></pre>\n\n<p>But the above code doesn't work as I get an error while appending <code>'gain_{0}'.format(gain_length).append(L_value)</code> and I am unsure how to print the list dynamically after its created as mentioned in my required output. </p>\n\n<p>I can't use dictionary for the above method because I want to give the lists dynamically as input to <strong>pygal module</strong> as below:</p>\n\n<p>as I need the output for pygal module as input like :</p>\n\n<pre><code>for x in range(0, gain_length):\n    bar_chart.x_labels = k_list\n    bar_chart.add(str(gain_length[x]),'gain_{0}'.format(x))\n</code></pre>\n\n<p>Here I can add the values only from a list not from a dictionary </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1424285732, "post_id": 28591529, "comment_id": 45489656, "body": "1. Don&#39;t do this.  2. Don&#39;t ever do this.  3. This breaks introspection and messes with human parsing of python code so it should not be done.  4. Don&#39;t.  5. If you absolutely have to do this, you can, as demonstrated by @knbk&#39;s link."}, {"owner": {"reputation": 566, "user_id": 2327495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ebf30806385b31a8fe4d3acba4b4096?s=128&d=identicon&r=PG", "display_name": "Jose Luis de la Rosa", "link": "https://stackoverflow.com/users/2327495/jose-luis-de-la-rosa"}, "edited": false, "score": 0, "creation_date": 1424285762, "post_id": 28591529, "comment_id": 45489687, "body": "It is not the same question, I am asking how to add the method, in a Django Model, I mean, the class, not the object."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1424287188, "post_id": 28591529, "comment_id": 45490558, "body": "@JoseLuisdelaRosa That&#39;s exactly what the link answers, unless I misunderstand what you&#39;re actually asking. One question - are you actually running the code in <code>custom.py</code>?"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "edited": false, "score": 0, "creation_date": 1424287615, "post_id": 28591529, "comment_id": 45490833, "body": "@astex What kind of introspection doesn&#39;t pick up the new methods? The <code>inspect</code> module seems to work fine. Tbh I think it&#39;s sometimes unavoidable with Django models. You can&#39;t simply subclass third-party models without side effects."}, {"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "edited": false, "score": 0, "creation_date": 1424290515, "post_id": 28591529, "comment_id": 45492619, "body": "<code>inspect</code> picks them up, but they don&#39;t come from anywhere in the <code>mro()</code>.  Some python libraries (e.g flask-classy or my own [private] project foodtoeat.com) use a convoluted system involving iterating through the mro() and grabbing the argspecs of methods to correctly route to a method within the class.  In these cases, the monkey-patched method would be missed entirely."}, {"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "edited": false, "score": 0, "creation_date": 1424290666, "post_id": 28591529, "comment_id": 45492715, "body": "While it&#39;s true that you cannot subclass third-party models in a django application (due to the use of meta classes), you <i>can</i> add another layer of metaclasses and a <a href=\"http://code.activestate.com/recipes/496741-object-proxying/\" rel=\"nofollow noreferrer\">proxy class</a> to do this in a more reasonable-looking way.  I&#39;m not sure if it would actually simplify the implementation at all or if it would just help organize the code.  Probably better to just use functions that take the object as an argument."}, {"owner": {"reputation": 1817, "user_id": 3124256, "user_type": "registered", "profile_image": "https://graph.facebook.com/835500466/picture?type=large", "display_name": "DylanYoung", "link": "https://stackoverflow.com/users/3124256/dylanyoung"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1472230947, "post_id": 28591529, "comment_id": 65685059, "body": "It&#39;s worth noting that in addition to the steps linked by @knbk, you should use the wraps decorator to maintain metadata: <code>MyOperation.my_method = wraps(MyOperation.my_method)(op_custom)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1132, "user_id": 2043298, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/454df3f534da101b6a7f0ad2bec9fc1e?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2043298/tim"}, "edited": false, "score": 0, "creation_date": 1424339461, "post_id": 28591736, "comment_id": 45511391, "body": "Shouldn&#39;t the model&#39;s inheritance be reversed, e.g. the MyMixIn should come before he models.Model? <code>class MyOperation(MyMixIn, models.Model)</code>"}, {"owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "reply_to_user": {"reputation": 1132, "user_id": 2043298, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/454df3f534da101b6a7f0ad2bec9fc1e?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/2043298/tim"}, "edited": false, "score": 0, "creation_date": 1424376156, "post_id": 28591736, "comment_id": 45534606, "body": "@TimSchneider It depends on the intended use.  If the mixin should override methods from the <code>Model</code> class, then yes.  However, some cases will require the opposite.  For example, the mixin could be used to &#39;spoof&#39; the model class by writing custom <code>save()</code>, ... methods while providing additional functionality that can be used with a real model by inheriting in the way above."}, {"owner": {"reputation": 1817, "user_id": 3124256, "user_type": "registered", "profile_image": "https://graph.facebook.com/835500466/picture?type=large", "display_name": "DylanYoung", "link": "https://stackoverflow.com/users/3124256/dylanyoung"}, "edited": false, "score": 0, "creation_date": 1472234966, "post_id": 28591736, "comment_id": 65686933, "body": "This neither answers the question nor serves the same purpose. Adding the Mixin to the <code>__bases__</code> of the original instance might improve the answer."}], "tags": [], "owner": {"reputation": 1007, "user_id": 1787139, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/93075298d5051c6cc43fecd292e5d263?s=128&d=identicon&r=PG", "display_name": "astex", "link": "https://stackoverflow.com/users/1787139/astex"}, "is_accepted": true, "score": 4, "last_activity_date": 1424286034, "last_edit_date": 1495540297, "creation_date": 1424286034, "answer_id": 28591736, "question_id": 28591529, "link": "https://stackoverflow.com/questions/28591529/how-to-add-new-method-to-django-class-from-other-modules/28591736#28591736", "title": "How to add new method to Django class from other modules?", "body": "<p>The Right Way\u2122 to do this is via a mixin:</p>\n\n<pre><code>class MyMixIn(object):\n    def op_custom(self):\n        print(\"foo\")\n\nclass MyOperation(models.Model, MyMixIn):\n    def op_normal(self):\n        print(\"bar\")\n</code></pre>\n\n<p>This has several advantages over monkey-patching in another method:</p>\n\n<ul>\n<li>The mixin is in the class' <a href=\"https://stackoverflow.com/questions/2010692/what-does-mro-do-in-python\">method resolution order</a>, so introspection works perfectly.</li>\n<li>It is guaranteed to be defined on every instance of the class regardless of where it is instantiated since the class itself inherits from the mixin.  Otherwise, you may end up with instances from before the monkey patch is applied where this method isn't there.</li>\n<li>It provides an obvious place to add such methods in the future.</li>\n</ul>\n"}], "owner": {"reputation": 566, "user_id": 2327495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ebf30806385b31a8fe4d3acba4b4096?s=128&d=identicon&r=PG", "display_name": "Jose Luis de la Rosa", "link": "https://stackoverflow.com/users/2327495/jose-luis-de-la-rosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "closed_date": 1472258544, "accepted_answer_id": 28591736, "answer_count": 1, "score": 0, "last_activity_date": 1424286034, "creation_date": 1424285390, "question_id": 28591529, "link": "https://stackoverflow.com/questions/28591529/how-to-add-new-method-to-django-class-from-other-modules", "closed_reason": "Duplicate", "title": "How to add new method to Django class from other modules?", "body": "<p>I have a Django model say:</p>\n\n<pre><code>class MyOperation(models.Model):\n    name = models.CharField(max_length=100)\n\n    def my_method(self):\n        pass\n</code></pre>\n\n<p>I want to be able to add, from a different Django app, a new method to this class. </p>\n\n<p>I tried to do this from a different app module called custom.py:</p>\n\n<pre><code>from operations.models import MyOperation\n\ndef op_custom(test):\n    print \"testing custom methods\"\n\nMyOperation.op_custom = op_custom\n</code></pre>\n\n<p>However this does not seems to work, in runtime the method does not exists.</p>\n\n<p>Is this the way to modify the definition of a class from a different django application? Is there a better way to do it?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex", "replace", "plone", "zope"], "comments": [{"owner": {"reputation": 18, "user_id": 1574341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjwjR.png?s=128&g=1", "display_name": "BradV", "link": "https://stackoverflow.com/users/1574341/bradv"}, "edited": false, "score": 0, "creation_date": 1424290928, "post_id": 28591423, "comment_id": 45492854, "body": "We are looking into indexing the Dexterity Content Types. One question that never popped up in our results may help us in finding the solution.  <a href=\"http://stackoverflow.com/questions/8852132/how-do-i-add-keywords-to-searchabletext-for-a-dexterity-content-type\" title=\"how do i add keywords to searchabletext for a dexterity content type\">stackoverflow.com/questions/8852132/&hellip;</a>"}, {"owner": {"reputation": 3401, "user_id": 408951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82eda1711eeafd65c59205a5454458e?s=128&d=identicon&r=PG", "display_name": "Thiago Curvelo", "link": "https://stackoverflow.com/users/408951/thiago-curvelo"}, "edited": false, "score": 1, "creation_date": 1424312842, "post_id": 28591423, "comment_id": 45501712, "body": "There&#39;s a similar question <a href=\"http://stackoverflow.com/questions/28521918/automation-tool-for-plone-edition/28535763\">here</a>. Check if it helps you. ;)"}, {"owner": {"reputation": 324, "user_id": 1062998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0fc6b90a7aa6b9663c75ce417184101?s=128&d=identicon&r=PG", "display_name": "polyester", "link": "https://stackoverflow.com/users/1062998/polyester"}, "edited": false, "score": 2, "creation_date": 1424335049, "post_id": 28591423, "comment_id": 45508856, "body": "Just checking: did you add your Dexterity content type as a new handler, as documented in <a href=\"https://pypi.python.org/pypi/rt.bulkmodify/0.4.1#extending-handled-types\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/rt.bulkmodify/&hellip;</a> ? That is definitely needed before rt.bulkmodify will work on your content type."}, {"owner": {"reputation": 18, "user_id": 1574341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjwjR.png?s=128&g=1", "display_name": "BradV", "link": "https://stackoverflow.com/users/1574341/bradv"}, "edited": false, "score": 0, "creation_date": 1424359525, "post_id": 28591423, "comment_id": 45523955, "body": "@tcuvelo Thank you! We will take a look at this."}, {"owner": {"reputation": 18, "user_id": 1574341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjwjR.png?s=128&g=1", "display_name": "BradV", "link": "https://stackoverflow.com/users/1574341/bradv"}, "reply_to_user": {"reputation": 324, "user_id": 1062998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0fc6b90a7aa6b9663c75ce417184101?s=128&d=identicon&r=PG", "display_name": "polyester", "link": "https://stackoverflow.com/users/1062998/polyester"}, "edited": false, "score": 0, "creation_date": 1424359555, "post_id": 28591423, "comment_id": 45523977, "body": "@polyester I will have to check our Plone administrator. He is the one who set this up. The looks of it from the answer I chose, it does not look like we can continue the way we wanted to. Thank you for your help!"}], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 1574341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjwjR.png?s=128&g=1", "display_name": "BradV", "link": "https://stackoverflow.com/users/1574341/bradv"}, "edited": false, "score": 0, "creation_date": 1424359317, "post_id": 28603164, "comment_id": 45523818, "body": "Thanks! We will attempt to get this to work. Knowing that it isn&#39;t supported currently allows us to move on to other ideas we have. We will try this method and see if it helps us."}], "tags": [], "owner": {"reputation": 6880, "user_id": 681548, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1010c8a32ba6615297b1904fca57b6de?s=128&d=identicon&r=PG", "display_name": "keul", "link": "https://stackoverflow.com/users/681548/keul"}, "is_accepted": true, "score": 2, "last_activity_date": 1424345304, "last_edit_date": 1424345304, "creation_date": 1424339362, "answer_id": 28603164, "question_id": 28591423, "link": "https://stackoverflow.com/questions/28591423/how-to-search-and-replace-dexterity-content-in-plone-using-rt-bulkmodify/28603164#28603164", "title": "How to search and replace dexterity content in Plone using rt.bulkmodify", "body": "<p>Sorry, rt.bulkmodify doesn't support Dexterity right now. You must provide a proper <code>IBulkModifyContentChanger</code> adapter.</p>\n\n<p>Here the unreleased version we are developing for plone.app.contenttypes/Plone 5 compatibility (not really tested due to impossibility to make this really work on Plone 5 right now). Should work also for pure dexterity custom types on Plone 4:</p>\n\n<pre><code>from ..interfaces import IBulkModifyContentChanger\nfrom zope.interface import implements\n\n\nclass TextContentAdapters(object):\n    \"\"\"This is OK for every know plone.app.contenttypes dexterity item\"\"\"\n\n    implements(IBulkModifyContentChanger)\n\n    def __init__(self, context):\n        self.context = context\n\n    def _get_text(self):\n        return self._get_utext().encode('utf-8')\n\n    def _set_text(self, text):\n        raise NotImplementedError(\"%s doesn't implements setter for 8-bit string\" % self.context.portal_type)\n\n    def _get_utext(self):\n        text_data = getattr(self.context, 'text', None)\n        if text_data:\n            return text_data.raw\n\n    def _set_utext(self, text):\n        self.context.text = text\n        self.context.reindexObject(idxs=['SearchableText'])\n\n    text = property(_get_text, _set_text)\n    utext = property(_get_utext, _set_utext)\n</code></pre>\n"}], "owner": {"reputation": 18, "user_id": 1574341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjwjR.png?s=128&g=1", "display_name": "BradV", "link": "https://stackoverflow.com/users/1574341/bradv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 28603164, "answer_count": 1, "score": 0, "last_activity_date": 1430115631, "creation_date": 1424285067, "last_edit_date": 1430115631, "question_id": 28591423, "link": "https://stackoverflow.com/questions/28591423/how-to-search-and-replace-dexterity-content-in-plone-using-rt-bulkmodify", "title": "How to search and replace dexterity content in Plone using rt.bulkmodify", "body": "<p>We are migrating from an old existing static site to Plone 4.3. We have imported several HTML pages from the old site and are now facing 8000+ hard coded links that need to be updated in our Plone system to match our new url standard. These pages are built using a custom dexterity types. We do not want to edit these by hand.</p>\n\n<p>We want to use a bulk modify tool within Plone. We are attempting to use it to replace all of our links using regular expressions. Unfortunately no matter what we search within Plone using this tool it cannot find a single result.</p>\n\n<p>I feel like we are missing a step or are going about this the wrong way.</p>\n\n<p>Is there a procedure we are missing or is there a better way to search &amp; replace our hard coded links in our dexterity type content? We think we may need to somehow index the dexterity content so it can be searchable. </p>\n\n<p>We cannot seem to find documentation on this if it is true.</p>\n\n<p>Here are the references we used to try to get this working:</p>\n\n<p><a href=\"https://plone.org/products/rt.bulkmodify\" rel=\"nofollow\">Plone.org - rt.bulkmodify</a></p>\n\n<p><a href=\"https://pypi.python.org/pypi/rt.bulkmodify/0.4.1\" rel=\"nofollow\">Python - rt.bulkmodify</a></p>\n\n<p><a href=\"http://docs.plone.org/external/plone.app.dexterity/docs/advanced/catalog-indexing-strategies.html\" rel=\"nofollow\">Plone.org - catalog-indexing-strategies</a></p>\n"}, {"tags": ["python", "scrapy", "response", "python-requests"], "comments": [{"owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "edited": false, "score": 0, "creation_date": 1424285238, "post_id": 28591399, "comment_id": 45489327, "body": "try <code>mechanize</code>, or <code>selenium</code> if javascript is required."}, {"owner": {"reputation": 574, "user_id": 4580942, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/04db2e5a951d4ed41cd3d1bdeeda3073?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar Samanta", "link": "https://stackoverflow.com/users/4580942/shekhar-samanta"}, "reply_to_user": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "edited": false, "score": 0, "creation_date": 1424713219, "post_id": 28591399, "comment_id": 45652624, "body": "I found a way to do it using selenium - Thanks Fabricator"}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 4580942, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/04db2e5a951d4ed41cd3d1bdeeda3073?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar Samanta", "link": "https://stackoverflow.com/users/4580942/shekhar-samanta"}, "is_accepted": true, "score": 1, "last_activity_date": 1425808337, "creation_date": 1425808337, "answer_id": 28925140, "question_id": 28591399, "link": "https://stackoverflow.com/questions/28591399/web-scrape-aspx-website-using-python/28925140#28925140", "title": "Web scrape aspx website using python", "body": "<p>I am able to achieve what i was looking for Using Selenium.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.by import By\nfrom scrapy import Selector\nfrom selenium.webdriver.support.ui import Select, WebDriverWait\nimport csv\nimport time\nimport requests\nfrom scrapy import Selector as s\n\ndriver = webdriver.Firefox()\nLinks = ['','','','','']\nfor each in links:\n    driver.get(each)\n    time.sleep(02)\n    driver.find_element_by_id(\"showAll\").click()\n    time.sleep(04)\n    source = driver.page_source\n    sel = s(text=source,type=\"html\")\n    apartment_listing = sel.xpath('//section[@class=\"placardHeader\"]//a[@class=\"placardTitle\"]//@href').extract()\n    with open(\"C:\\Users\\ssamant\\Desktop\\Client\\Anida\\Phase_II\\Apartments\\\\apartment_listing.csv\",\"ab\")as export:\n        for each1 in apartment_listing:\n            export.write('{}\\n'.format(each1))\n    #New_link = driver.current_url\n    i = 0\n    while (i)&lt;21:\n        driver.find_element_by_class_name('next').click()\n        time.sleep(02)\n        source1 = driver.page_source\n        sel1 = s(text=source1,type=\"html\")\n        apartment_listing1 = sel.xpath('//section[@class=\"placardHeader\"]//a[@class=\"placardTitle\"]//@href').extract()\n        with open(\"C:\\Users\\ssamant\\Desktop\\Client\\Anida\\Phase_II\\Apartments\\\\apartment_listing.csv\",\"ab\")as export:\n            for each2 in apartment_listing1:\n                export.write('{}\\n'.format(each2))\n        i = i+1\n</code></pre>\n"}], "owner": {"reputation": 574, "user_id": 4580942, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/04db2e5a951d4ed41cd3d1bdeeda3073?s=128&d=identicon&r=PG&f=1", "display_name": "Shekhar Samanta", "link": "https://stackoverflow.com/users/4580942/shekhar-samanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 1, "accepted_answer_id": 28925140, "answer_count": 1, "score": -1, "last_activity_date": 1425808337, "creation_date": 1424284973, "question_id": 28591399, "link": "https://stackoverflow.com/questions/28591399/web-scrape-aspx-website-using-python", "title": "Web scrape aspx website using python", "body": "<p>I able to get the HTTP headers &amp; params but unable to generate response object. The site is - <a href=\"https://www.sacmembership.ca/Search/Search.aspx\" rel=\"nofollow\">https://www.sacmembership.ca/Search/Search.aspx</a> &amp; i am looking to scrape details for each practitioners . here is the code i reached so far :-</p>\n\n<pre><code>import cookielib\nimport socket\nimport urllib\nimport urllib2\n\nurl = 'https://www.sacmembership.ca/Search/Search.aspx'\nhttp_header = {\n                #\"POST\" : \"https://www.sacmembership.ca/Search/Results.aspx HTTP/1.1\",\n                \"Host\" : \"www.sacmembership.ca\",\n                \"Connection\" : \"keep-alive\",\n                \"Content-Length\" : \"16581\",\n                \"Cache-Control\" :\"max-age=0\",\n                \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n                \"Origin\": \"https://www.sacmembership.ca\",\n                \"User-Agent\" : \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.111 Safari/537.36\",\n                \"Content-Type\" : \"application/x-www-form-urlencoded\",\n                \"Referer\" : \"https://www.sacmembership.ca/Search/Search.aspx\",\n                \"Accept-Encoding\" : \"gzip, deflate\",\n                \"Accept-Language\" : \"en-US,en;q=0.8\"\n                }\n\nparams = {\n    'ctl00$ContentPlaceHolder1$ddlProfession' : \"\",\n    'ctl00$ContentPlaceHolder1$ddlFacility' : \"\",\n    'ctl00$ContentPlaceHolder1$txtCity' : \"\",\n    'ctl00$ContentPlaceHolder1$ddlProvince' : \"\",\n    'ctl00$ContentPlaceHolder1$ddlSortBy' : \"LastName\",\n    'ctl00$ContentPlaceHolder1$ddlLanguageOfPractice' : \"\",\n    'ctl00$ContentPlaceHolder1$txtEmployerCompanyName' : \"\",\n    'ctl00$ContentPlaceHolder1$txtFirstName' : \"\",\n    'ctl00$ContentPlaceHolder1$txtLastName' : \"\",\n    'ctl00$ContentPlaceHolder1$btnSearch' : \"Search\"\n    }\n\ncookie_jar = cookielib.LWPCookieJar()\ncookie = urllib2.HTTPCookieProcessor(cookie_jar)\n\nopener = urllib2.build_opener(cookie)\n\n\nreq = urllib2.Request(url, urllib.urlencode(params), http_header)\n\n\nres = opener.open(req)\nhtml = res.read()\nprint html\n\"\"\"\nopen(\"tmp.html\", \"w\").write(html)\nbody = html\n\"\"\"\n</code></pre>\n\n<p>Please help me on this</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "edited": false, "score": 0, "creation_date": 1424284613, "post_id": 28591257, "comment_id": 45488994, "body": "you want to use print to store it to variable instead of displaying it to console???"}, {"owner": {"reputation": 18344, "user_id": 119326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b29825e83c1da695da0e22b4198a0105?s=128&d=identicon&r=PG", "display_name": "Cfreak", "link": "https://stackoverflow.com/users/119326/cfreak"}, "edited": false, "score": 1, "creation_date": 1424284613, "post_id": 28591257, "comment_id": 45488995, "body": "You want to redirect <code>stdout</code>. See this post <a href=\"http://stackoverflow.com/questions/1218933/can-i-redirect-the-stdout-in-python-into-some-sort-of-string-buffer\" title=\"can i redirect the stdout in python into some sort of string buffer\">stackoverflow.com/questions/1218933/&hellip;</a>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424287801, "post_id": 28591257, "comment_id": 45490948, "body": "you can also just use a normal file and seek before printing without needing an import"}], "answers": [{"tags": [], "owner": {"reputation": 5415, "user_id": 461834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9e800e3632f33ed805d741b578dfa1f3?s=128&d=identicon&r=PG", "display_name": "jtpereyda", "link": "https://stackoverflow.com/users/461834/jtpereyda"}, "is_accepted": false, "score": 0, "last_activity_date": 1424284842, "creation_date": 1424284842, "answer_id": 28591373, "question_id": 28591257, "link": "https://stackoverflow.com/questions/28591257/python-internally-buffered-output/28591373#28591373", "title": "Python Internally Buffered Output", "body": "<p><code>StringIO</code> acts like a virtual file and can be used for this purpose, but you must be careful to get the behavior you described:</p>\n\n<pre><code>&gt;&gt;&gt; import io\n&gt;&gt;&gt; a = io.StringIO('')\n&gt;&gt;&gt; print(\"output 1\", file=a)\n&gt;&gt;&gt; print(\"output 2\", file=a)\n&gt;&gt;&gt; print(a.getvalue())  # notice the extra new line at the end...\noutput 1\noutput 2\n\n&gt;&gt;&gt; print(a.getvalue(), end='')  # use end='' to suppress extra new line\noutput 1\noutput 2\n&gt;&gt;&gt; print(a)  # print(a) will not yield the same results\n&lt;_io.StringIO object at 0x7fe3a23568b8&gt;\n&gt;&gt;&gt; print(\"output 3\", a)  # make sure to use \"file=\", or it will print str(a)!\noutput 3 &lt;_io.StringIO object at 0x7fe3a23568b8&gt;\n&gt;&gt;&gt; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5415, "user_id": 461834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9e800e3632f33ed805d741b578dfa1f3?s=128&d=identicon&r=PG", "display_name": "jtpereyda", "link": "https://stackoverflow.com/users/461834/jtpereyda"}, "edited": false, "score": 0, "creation_date": 1424285086, "post_id": 28591380, "comment_id": 45489249, "body": "I missed the &quot;answer your own question&quot; checkbox, my bad."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424288406, "post_id": 28591380, "comment_id": 45491315, "body": "printing <code>a</code> would print <code>StringIO.StringIO instance at ...</code>"}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 1, "last_activity_date": 1424288341, "last_edit_date": 1424288341, "creation_date": 1424284874, "answer_id": 28591380, "question_id": 28591257, "link": "https://stackoverflow.com/questions/28591257/python-internally-buffered-output/28591380#28591380", "title": "Python Internally Buffered Output", "body": "<p>What you are looking for is the <a href=\"https://docs.python.org/2/library/stringio.html\" rel=\"nofollow\">StringIO</a> module.</p>\n\n<p>You simply use it that way :</p>\n\n<pre><code>import StringIO\n\na= StringIO.StringIO()\na.write('output 1\\n')\nprint &gt;&gt;a, 'output 2'\n\n# Retrieve file contents -- this will be\n# 'output 1\\noutput 2\\n'\ncontents = a.getvalue()\n\n# Close object and discard memory buffer --\n# .getvalue() will now raise an exception.\na.close()\n\n# will output 'output 1\\noutput 2\\n'\nprint contents\n</code></pre>\n\n<p>EDIT : I had not seen Josh's answer before posting mine. His syntax is for python 3 mine is for older python 2.x</p>\n"}, {"tags": [], "owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "is_accepted": false, "score": 0, "last_activity_date": 1424284960, "creation_date": 1424284960, "answer_id": 28591396, "question_id": 28591257, "link": "https://stackoverflow.com/questions/28591257/python-internally-buffered-output/28591396#28591396", "title": "Python Internally Buffered Output", "body": "<p>In general, the <a href=\"https://docs.python.org/2/library/functions.html#print\" rel=\"nofollow\"><code>print()</code></a> method takes a seldom-used parameter, <code>file</code>, which simply has to be a 'file-like' (it defaults to stdout). From the doc:</p>\n\n<blockquote>\n  <p>The file argument must be an object with a <code>write(string)</code> method; if it is not present or None, sys.stdout will be used. Output buffering is determined by file. Use <code>file.flush()</code> to ensure, for instance, immediate appearance on a screen.</p>\n</blockquote>\n\n<p>You could provide your own buffering implementation or use <a href=\"https://docs.python.org/2/library/stringio.html\" rel=\"nofollow\"><code>StringIO</code></a> as the file-like if you wanted to maintain the <code>print</code> syntax.</p>\n"}], "owner": {"reputation": 5415, "user_id": 461834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9e800e3632f33ed805d741b578dfa1f3?s=128&d=identicon&r=PG", "display_name": "jtpereyda", "link": "https://stackoverflow.com/users/461834/jtpereyda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1424288341, "creation_date": 1424284490, "last_edit_date": 1424285037, "question_id": 28591257, "link": "https://stackoverflow.com/questions/28591257/python-internally-buffered-output", "title": "Python Internally Buffered Output", "body": "<p>I would like some way to <code>print()</code> to a string or internal buffer rather than stdout in Python.</p>\n\n<p>Ideally, I could print to this and later dump the string to the console just as if it had been printed to stdout to begin with. Something like:</p>\n\n<pre><code>&gt;&gt;&gt; print(\"output 1\", a)\n&gt;&gt;&gt; print(\"output 2\", a)\n&gt;&gt;&gt; print(a)\noutput 1\noutput 2\n</code></pre>\n\n<p>If you're wondering, I'm doing this for the sake of quick refactoring on code that previously printed directly to the console.</p>\n"}, {"tags": ["python", "mysql", "sql-insert", "unique-constraint", "peewee"], "comments": [{"owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "edited": false, "score": 0, "creation_date": 1424285457, "post_id": 28591246, "comment_id": 45489478, "body": "If it&#39;s not possible in peewee, I&#39;d also like to know."}, {"owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "edited": false, "score": 0, "creation_date": 1424296974, "post_id": 28591246, "comment_id": 45496239, "body": "I&#39;ve implemented this for SQLite (which uses INSERT OR REPLACE INTO), so adding just plain old &quot;REPLACE&quot; might be straightforward. Feel free to open a github ticket at <a href=\"https://github.com/coleifer/peewee/issues/new\" rel=\"nofollow noreferrer\">github.com/coleifer/peewee/issues/new</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "is_accepted": false, "score": 0, "last_activity_date": 1424295498, "last_edit_date": 1495541354, "creation_date": 1424295498, "answer_id": 28594434, "question_id": 28591246, "link": "https://stackoverflow.com/questions/28591246/how-can-i-insert-multiple-rows-with-insert-replace-in-peewee/28594434#28594434", "title": "How can I insert multiple rows with INSERT REPLACE in peewee?", "body": "<p>I haven't been able to find a solution in peewee, but here's one that I wrote for SQLAlchemy. </p>\n\n<pre><code>from sqlalchemy import Table, Column, Integer, String, MetaData, ForeignKey\nfrom sqlalchemy import create_engine\n\n#Make the table\nmetadata = MetaData()\nimage = Table('image', metadata,\n              Column('url', String(250), primary_key=True))\n\ndb = create_engine('mysql://root:researchServer@localhost/test3')\nmetadata.create_all(db)\n\nconn = engine.connect()\n\n#Insert the first set of rows\nimages = [{'url': 'one'}, {'url': 'two'}]\ninserter = db.image.insert()\nconn.execute(inserter, images)\n\n#Insert the second set of rows with some duplicates\nimages = [{'url': 'three'}, {'url': 'one'}, {'url':'four'}]\ntry:\n    inserter = db.image.insert().prefix_with(\"IGNORE\")\n    conn.execute(inserter, images)\nexcept:\n    print 'error'\n</code></pre>\n\n<p>The key is using the 'prefix_with' method to add the 'ignore' to the SQL expression. I was greatly helped by <a href=\"https://stackoverflow.com/questions/2218304/sqlalchemy-insert-ignore\">SQLAlchemy INSERT IGNORE</a></p>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 1403083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/763af32cbb4a9e0cb23a735b6b5b0b57?s=128&d=identicon&r=PG", "display_name": "Opossum", "link": "https://stackoverflow.com/users/1403083/opossum"}, "is_accepted": true, "score": 2, "last_activity_date": 1486031171, "last_edit_date": 1486031171, "creation_date": 1483899257, "answer_id": 41536091, "question_id": 28591246, "link": "https://stackoverflow.com/questions/28591246/how-can-i-insert-multiple-rows-with-insert-replace-in-peewee/41536091#41536091", "title": "How can I insert multiple rows with INSERT REPLACE in peewee?", "body": "<p>You can use <a href=\"http://docs.peewee-orm.com/en/latest/peewee/api.html#InsertQuery.on_conflict\" rel=\"nofollow noreferrer\"><code>on_conflict()</code></a> or <a href=\"http://docs.peewee-orm.com/en/latest/peewee/api.html#InsertQuery.upsert\" rel=\"nofollow noreferrer\"><code>upsert()</code></a> on your <code>InsertQuery</code>.</p>\n\n<p><code>on_conflict()</code> will add an SQL <code>ON CONFLICT</code> clause with the given argument but only works with SQLite. <code>upsert()</code> basically turns the query into a <code>REPLACE INTO</code> on MySQL. You still need to call <code>execute()</code> after.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 8460123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dpJfnOBBybg/AAAAAAAAAAI/AAAAAAAAAA4/wkI-xbV7LDs/photo.jpg?sz=128", "display_name": "enomine", "link": "https://stackoverflow.com/users/8460123/enomine"}, "is_accepted": false, "score": 0, "last_activity_date": 1502682224, "creation_date": 1502682224, "answer_id": 45667152, "question_id": 28591246, "link": "https://stackoverflow.com/questions/28591246/how-can-i-insert-multiple-rows-with-insert-replace-in-peewee/45667152#45667152", "title": "How can I insert multiple rows with INSERT REPLACE in peewee?", "body": "<pre><code>Image.insert_many(images).upsert(True).execute()\n</code></pre>\n\n<p><a href=\"http://docs.peewee-orm.com/en/latest/peewee/api.html#InsertQuery.upsert\" rel=\"nofollow noreferrer\">peewee doc upsert</a></p>\n"}], "owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3156, "favorite_count": 0, "accepted_answer_id": 41536091, "answer_count": 3, "score": 1, "last_activity_date": 1502682224, "creation_date": 1424284466, "question_id": 28591246, "link": "https://stackoverflow.com/questions/28591246/how-can-i-insert-multiple-rows-with-insert-replace-in-peewee", "title": "How can I insert multiple rows with INSERT REPLACE in peewee?", "body": "<p>I'm retrieving a json file from online that I want to insert into my database using peewee. The problem is that some of the rows may already exist in my database. The solution should be to either ignore or replace the duplicate rows. </p>\n\n<p>The <a href=\"http://peewee.readthedocs.org/en/latest/peewee/api.html\" rel=\"nofollow\"><code>InsertQuery</code></a> function supports adding multiple rows, but I cannot figure out how to either suppress errors that the instance already exists or to replace the existing instance. </p>\n\n<p>Starting with an empty database test, I run the following code</p>\n\n<pre><code>from peewee import *\nfrom peewee import InsertQuery\n\ndatabase = MySQLDatabase('test', **{'password': 'researchServer', 'user': 'root'})\n\nclass BaseModel(Model):\n    class Meta:\n        database = database\n\nclass Image(BaseModel):\n    url = CharField(unique=True)\n\ndatabase.connect()\ndatabase.create_tables([Image])\nimages= [{'url': 'one'}, {'url':'two'}]\ntry:\n    image_entry = InsertQuery(Image, rows=images)\n    image_entry.execute()\nexcept:\n    print 'error'\n</code></pre>\n\n<p>This produces no errors and successfully adds 'one' and 'two' to my table. </p>\n\n<p>If I then run,</p>\n\n<pre><code>images= [{'url':'three'}, {'url': 'one'}, {'url':'four'}]\ntry:\n    image_entry = InsertQuery(Image, rows=images)\n    image_entry.execute()\nexcept:\n    print 'error'\n</code></pre>\n\n<p>The execute function throws an error and neither 'three' or 'four' get added to the database.</p>\n\n<p>I suppose one solution would be to check each row before adding it to the database, but this seems like it would be more inefficient.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 553, "user_id": 917617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkjjs.png?s=128&g=1", "display_name": "steppo", "link": "https://stackoverflow.com/users/917617/steppo"}, "is_accepted": false, "score": 0, "last_activity_date": 1424986458, "creation_date": 1424986458, "answer_id": 28753184, "question_id": 28591176, "link": "https://stackoverflow.com/questions/28591176/serializing-django-model-and-including-further-information-for-foreignkeyfield/28753184#28753184", "title": "Serializing Django Model and including further information for ForeignKeyField + OneToOneField", "body": "<p>It looks you haven't implemented all the code needed to serialize the <code>UserProfile</code> with a natural key.</p>\n\n<p>Actually the <code>get_by_natural_key</code> method is called when deserializing an object. If you want it to be serialized with a natural key instead of <code>pk</code> you should provide the <code>natural_key</code> method to the model.</p>\n\n<p>Something like:</p>\n\n<pre><code>class UserProfileManager(models.Manager):\n    def get_by_natural_key(self, user, company):\n        return self.get(user__user__username=user, company=company)\n\nclass UserProfile(models.Model):\n    objects = UserProfileManager()\n\n    user = models.OneToOneField(User)\n    company = models.CharField(max_length=255)\n\n    def natural_key(self):\n        return (self.user.name, self.company)\n</code></pre>\n\n<p>Now, if you serialize a <code>Topic</code> instance:</p>\n\n<pre><code>import django.core.serializers\n\nobj = serializers.serialize('json', Topic.objects.all(), indent=2, use_natural_foreign_keys=True, use_natural_primary_keys=True)\n</code></pre>\n\n<p>you should get an output similar to:</p>\n\n<pre><code>{\n  \"fields\": {\n    \"building\": 1,\n    \"title\": \"Foobar\",\n    \"created\": \"2015-02-13T16:14:47Z\",\n    \"creator\": [\n      \"dummy\",\n      \"ACME Inc.\"\n    ]\n  }, \n  \"model\": \"bb.topic\", \"pk\": 2\n}\n</code></pre>\n\n<p>supposing a <em>dummy</em> user exist with a company named <em>ACME Inc.</em> in its user profile.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1338, "user_id": 3407994, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/vHAwE.jpg?s=128&g=1", "display_name": "kuanb", "link": "https://stackoverflow.com/users/3407994/kuanb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424986458, "creation_date": 1424284219, "last_edit_date": 1424285340, "question_id": 28591176, "link": "https://stackoverflow.com/questions/28591176/serializing-django-model-and-including-further-information-for-foreignkeyfield", "title": "Serializing Django Model and including further information for ForeignKeyField + OneToOneField", "body": "<p>Using Django 1.7.</p>\n\n<p>I have a model class <code>Topic</code> that I want to serialize. <code>Topic</code> has an attribute <code>Creator</code> that is a ForeignKey to a class <code>UserProfile</code>. The output from serialization gives me the following string:</p>\n\n<pre><code>'{\"fields\": {\"building\": 1, \"title\": \"Foobar\", \"created\": \"2015-02-13T16:14:47Z\", \"creator\": 1}, \"model\": \"bb.topic\", \"pk\": 2}'\n</code></pre>\n\n<p>I want <code>key</code> \"creator\" to say the username of associated with <code>UserProfile</code> (as opposed to right now, where it is giving me the pk value associated with <code>UserProfile</code>. The username is held within a OneToOneField with <code>django.contrib.auth.models</code> class <code>User</code>.</p>\n\n<p>I tried to implement a UserProfileManager, but either I have done it incorrectly or the following is not an appropriate strategy:</p>\n\n<pre><code>def get_by_natural_key(self, user, picture, company):\n    return self.get(user_id=user.id, user_pk=user.pk, username=user.get_username, picture=picture, company=company)\n</code></pre>\n\n<p>Finally, I looked around SO and found pointers to this: <a href=\"https://code.google.com/p/wadofstuff/wiki/DjangoFullSerializers\" rel=\"nofollow\">https://code.google.com/p/wadofstuff/wiki/DjangoFullSerializers</a> but it says it was last updated in 2011 so I am assuming there is something else out there. </p>\n\n<p>Thanks. Any help is much appreciated.</p>\n"}, {"tags": ["python", "serial-port", "pyserial"], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 0, "creation_date": 1424430150, "post_id": 28591180, "comment_id": 45555292, "body": "Thank you for your answer! I tried without .decode but it still doesn&#39;t work. My thought is that the port is not opened properly. For example when I test with getCTS() getDSR() and getCD() I get False in everything. Maybe this means that the pins are not configured properly. I cannot see how to implement the scheme from page 4 of the instructions."}, {"owner": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 0, "creation_date": 1424874220, "post_id": 28591180, "comment_id": 45729558, "body": "I cannot understand the expression CS_BYTE = chr((ord(ADDR_BYTE) + ord(FN_CMD))&amp;0xFF). I understand the the CS_BYTE should be the sum of ADDR_BYTE and the FN_CMD in hex but what this expression gives me is not that."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 1, "creation_date": 1424883169, "post_id": 28591180, "comment_id": 45736298, "body": "it should be ... the and 0xFF just ensures it is only one byte ... and then <code>chr</code> converts it from an int back into a byte that is ready to be transmitted"}, {"owner": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 0, "creation_date": 1424949653, "post_id": 28591180, "comment_id": 45765401, "body": "Ok it works! Thanks a lot! If it is not much of a trouble could you please explain how this &amp;0xFF operation ensures that I send one byte? Or put a reference so I can understand it? Thank you again."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 0, "creation_date": 1424968471, "post_id": 28591180, "comment_id": 45777683, "body": "its just a binary and ... 0xff is the maximum value allowed for a single byte ..."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "edited": false, "score": 1, "creation_date": 1424968713, "post_id": 28591180, "comment_id": 45777835, "body": "consider for example <code>0xfe + 0xf3</code>, which is 493 which is the same as 0x1ed, which requires 2 bytes to encode so if we take it as binary <code>111110001</code> and we <code>and</code> it with 0xff (<code>11111111</code> in binary) that truncates the 1 farthest to the left and we get <code>11110001</code> which is 241( or 0xf1 in hex) which can be encoded in a single byte of <code>&quot;\\xf1&quot;</code>"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1424284915, "last_edit_date": 1424284915, "creation_date": 1424284256, "answer_id": 28591180, "question_id": 28591138, "link": "https://stackoverflow.com/questions/28591138/communicating-with-air-conditioner-controller-using-pyserial/28591180#28591180", "title": "Communicating with air-conditioner controller using pyserial", "body": "<p>dont use <code>command = command.decode(\"hex\")</code></p>\n\n<p>just </p>\n\n<pre><code>command = \"\\x10\\xFF\\x29\\x2C\\x16\"\nser.write(command)\n</code></pre>\n\n<p>should work i am sure it expects bytes like this</p>\n\n<p>to put it differently</p>\n\n<pre><code>START_BYTE = \"\\x10\"\nADDR_BYTE = \"\\xff\"\nFN_BYTE = \"\\x29\"\nCS_BYTE = \"\\x2C\" # We assume you have calculated this right\nEND_BYTE = \"\\x16\"\n\nmsg = START_BYTE+ADDR_BYTE+FN_BYTE+CS_BYTE+END_BYTE\nser.write(msg)\n</code></pre>\n\n<p>you can abstract this out since start and end and address are always the same</p>\n\n<pre><code>def send_fn(ser,FN_CMD):\n    START_BYTE = \"\\x10\"\n    ADDR_BYTE = \"\\xff\"   \n    END_BYTE = \"\\x16\"\n    CS_BYTE = chr((ord(ADDR_BYTE) + ord(FN_CMD))&amp;0xFF)\n    msg = START_BYTE+ADDR_BYTE+FN_CMD+CS_BYTE+END_BYTE\n    ser.write(msg)\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 3169567, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36971d1ee0af35768e712c1f04777421?s=128&d=identicon&r=PG&f=1", "display_name": "iasonas", "link": "https://stackoverflow.com/users/3169567/iasonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 28591180, "answer_count": 1, "score": 0, "last_activity_date": 1424862217, "creation_date": 1424284105, "last_edit_date": 1424862217, "question_id": 28591138, "link": "https://stackoverflow.com/questions/28591138/communicating-with-air-conditioner-controller-using-pyserial", "title": "Communicating with air-conditioner controller using pyserial", "body": "<p>I am trying to the first time to send and receive information through serial port. The manual for the device with which I am trying to talk can be found <a href=\"http://www.gossenmetrawatt.com/resources/re/r2900/sb_gb.pdf\" rel=\"nofollow\">here</a>. I am trying for a start to send a set of hexadecimals to ask about the condition of the system and my purpose is to ask in real time about the temperature and store it. Until now my code is this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import serial\r\nimport time\r\n\r\n#import serial.tools.list_ports\r\n#ports = list(serial.tools.list_ports.comports())\r\n#for p in ports:\r\n#    print p\r\n\r\nser = serial.Serial(port= '/dev/ttyUSB0',\r\nbaudrate=9600,\r\nparity=serial.PARITY_EVEN,\r\nstopbits=serial.STOPBITS_ONE,\r\nbytesize=serial.EIGHTBITS, timeout=0, xonxoff=1, rtscts=1, dsrdtr=1)    \r\n\r\ncommand = \"\\x10\\xFF\\x29\\x2C\\x16\"\r\ncommand = command.decode(\"hex\")\r\nser.write(command)\r\nprint command\r\n#time.sleep(10)\r\nReceivedData = \"\\n nothing\"\r\nwhile ser.inWaiting() &gt; 0:\r\n    ReceivedData = ser.read()\r\nprint ReceivedData</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The problem is that I cannot get any response.</p>\n\n<p><strong>EDIT:</strong>\nSo I solved the communication problem. It turned out I was using an extension cable so the T and R channels were not correctly connected. Now The response that I receive is \"\\x00\\x10\\xFF\\x29\\x2C\\x16\" which is the same that I put in only with a \\x00 in the front. Does this mean it is an error message? How do I calculate the 4th bit? Until now I am using an example from the manual.</p>\n"}]