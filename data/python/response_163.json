[{"tags": ["python", "string", "numpy", "format"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 3, "creation_date": 1519257579, "post_id": 48917460, "comment_id": 84841476, "body": "&quot;Unfortunately, this is an unacceptable format for my purposes.&quot; May I ask what your purposes are to require a strict string formatting for numeric data?"}, {"owner": {"reputation": 103, "user_id": 8422648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102e5b6cae6f7568d9de1959599fef35?s=128&d=identicon&r=PG&f=1", "display_name": "Ollie", "link": "https://stackoverflow.com/users/8422648/ollie"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1519258291, "post_id": 48917460, "comment_id": 84841664, "body": "A process down the line and out of my hands takes only this format. The array is the end result of quite a lot of linear algebra done in numpy, so I am left at the end with an array in the wrong format."}], "answers": [{"comments": [{"owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "edited": false, "score": 0, "creation_date": 1519260115, "post_id": 48917532, "comment_id": 84842137, "body": "try adding some explanations to the OP (and others with similar questions) about why this works"}], "tags": [], "owner": {"reputation": 13812, "user_id": 381709, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mL3Ul.jpg?s=128&g=1", "display_name": "Neverever", "link": "https://stackoverflow.com/users/381709/neverever"}, "is_accepted": false, "score": 0, "last_activity_date": 1519257706, "creation_date": 1519257706, "answer_id": 48917532, "question_id": 48917460, "link": "https://stackoverflow.com/questions/48917460/how-to-print-a-numpy-array-as-a-string-of-the-format-1-2-3-4-5-6/48917532#48917532", "title": "How to print a numpy array as a string of the format (1 2) (3 4) (5 6)?", "body": "<p>try this </p>\n\n<pre><code>' '.join(map(lambda row : '(' + ' '.join(map(str, row)) + ')', my_arr))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1519257840, "creation_date": 1519257840, "answer_id": 48917558, "question_id": 48917460, "link": "https://stackoverflow.com/questions/48917460/how-to-print-a-numpy-array-as-a-string-of-the-format-1-2-3-4-5-6/48917558#48917558", "title": "How to print a numpy array as a string of the format (1 2) (3 4) (5 6)?", "body": "<p>One solution. But you should consider whether you really need to perform this kind of manipulation of numeric data.</p>\n\n<pre><code>import numpy as np\n\narr = np.array([[181,  2],\n                [  3, 45],\n                [  5,  6]])\n\nprint(''.join('('+' '.join(map(str, i))+') ' for i in arr))\n\n# (181 2) (3 45) (5 6) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1519259303, "last_edit_date": 1519259303, "creation_date": 1519258846, "answer_id": 48917688, "question_id": 48917460, "link": "https://stackoverflow.com/questions/48917460/how-to-print-a-numpy-array-as-a-string-of-the-format-1-2-3-4-5-6/48917688#48917688", "title": "How to print a numpy array as a string of the format (1 2) (3 4) (5 6)?", "body": "<p>One more for the collection:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import starmap\n&gt;&gt;&gt; a = np.arange(6).reshape(3, 2)\n&gt;&gt;&gt; ' '.join(starmap(' '.join(a.shape[1] * ['{}']).join('()').format, a))\n'(0 1) (2 3) (4 5)'\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 8422648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102e5b6cae6f7568d9de1959599fef35?s=128&d=identicon&r=PG&f=1", "display_name": "Ollie", "link": "https://stackoverflow.com/users/8422648/ollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 48917558, "answer_count": 3, "score": -2, "last_activity_date": 1519259303, "creation_date": 1519257235, "last_edit_date": 1519257564, "question_id": 48917460, "link": "https://stackoverflow.com/questions/48917460/how-to-print-a-numpy-array-as-a-string-of-the-format-1-2-3-4-5-6", "title": "How to print a numpy array as a string of the format (1 2) (3 4) (5 6)?", "body": "<p>I have a numpy array such as follows:</p>\n\n<pre><code>[[181  2]\n [  3 45]\n [  5  6]]\n</code></pre>\n\n<p>However, I'm required to print it as this new format:</p>\n\n<pre><code>(181 2) (3 45) (5 6)\n</code></pre>\n\n<p>I have tried:</p>\n\n<pre><code>' '.join(map(str, my_arr)).replace('[','(').replace(']',')')\n</code></pre>\n\n<p>However, due to the whitespace in the original numpy array, the map includes this whitespace so that my result is:</p>\n\n<pre><code>(181  2) (  3 45) (  5  6)\n</code></pre>\n\n<p>Which includes the original whitespace. Unfortunately, this is an unacceptable format for my purposes, but I cannot figure out a solution.</p>\n\n<p>I have also tried flattening the array first and then converting it to a string of numbers of the following format:</p>\n\n<pre><code>181 2 3 45 5 6\n</code></pre>\n\n<p>But, from here I wouldn't know how to insert ( and ) characters for every pair of numbers to get the required format above?</p>\n"}, {"tags": ["python", "python-3.x", "typeerror", "gensim"], "answers": [{"tags": [], "owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "is_accepted": true, "score": 1, "last_activity_date": 1519258153, "last_edit_date": 1519258153, "creation_date": 1519257565, "answer_id": 48917515, "question_id": 48917449, "link": "https://stackoverflow.com/questions/48917449/typeerror-a-bytes-like-object-is-required-not-str-when-converting-gensim-to/48917515#48917515", "title": "TypeError: a bytes-like object is required, not &#39;str&#39; when converting gensim to tensorboard", "body": "<p>You can just convert your string back to bytes:</p>\n\n<pre><code>file_vector.write(vector_row.encode() + b'\\n')\n</code></pre>\n\n<p>However your code already reads the file as bytes and then you explicitly convert to str with this (i guess): <code>'\\t'.join(str(x) for x in model[word])</code></p>\n\n<p>So you might want to clean up and use bytes everywhere instead of going back and forth :)</p>\n"}], "owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 48917515, "answer_count": 1, "score": 0, "last_activity_date": 1519258153, "creation_date": 1519257140, "question_id": 48917449, "link": "https://stackoverflow.com/questions/48917449/typeerror-a-bytes-like-object-is-required-not-str-when-converting-gensim-to", "title": "TypeError: a bytes-like object is required, not &#39;str&#39; when converting gensim to tensorboard", "body": "<p>I am converting a <code>gensim</code> w2v file to a <code>Tensorboard</code> tsv file with this code:</p>\n\n<pre><code>with open(outfiletsv, 'w+b') as file_vector:\n    with open(outfiletsvmeta, 'w+b') as file_metadata:\n        for word in model.index2word:\n            file_metadata.write(gensim.utils.to_utf8(word) + gensim.utils.to_utf8('\\n'))\n            vector_row = '\\t'.join(str(x) for x in model[word])\n            file_vector.write(vector_row + '\\n')\n</code></pre>\n\n<p>It results in this error:</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n~\\_repos\\special\\word2vec2tensor.py in &lt;module&gt;()\n     79 \n     80     logger.info(\"running %s\", ' '.join(sys.argv))\n---&gt; 81     word2vec2tensor(args.input, args.output, args.binary)\n     82     logger.info(\"finished running %s\", os.path.basename(sys.argv[0]))\n\n~\\_repos\\special\\word2vec2tensor.py in word2vec2tensor(word2vec_model_path, tensor_filename, binary)\n     61                 file_metadata.write(gensim.utils.to_utf8(word) + gensim.utils.to_utf8('\\n'))\n     62                 vector_row = '\\t'.join(str(x) for x in model[word])\n---&gt; 63                 file_vector.write(vector_row + '\\n')\n     64 \n     65     logger.info(\"2D tensor file saved to %s\", outfiletsv)\n\nTypeError: a bytes-like object is required, not 'str'\n</code></pre>\n\n<p>I added <code>b</code> to the original <code>w+</code> in the open file pieces to counteract the opposite issue (<code>TypeError: write() argument must be str, not bytes</code>). </p>\n\n<p>I tried adding `vector_row = vector_row.encode('UTF-8'), but this did not work. </p>\n\n<p>How do I remedy this <code>TypeError</code>?</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "deep-learning", "object-detection"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7248640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/md2eM.png?s=128&g=1", "display_name": "15Step", "link": "https://stackoverflow.com/users/7248640/15step"}, "edited": false, "score": 1, "creation_date": 1564662718, "post_id": 49995860, "comment_id": 101110568, "body": "instead of editing the &#39;vis_util.visualize_boxes_and_labels_on_image_array&#39; in the source it&#39;s probably easier to just add the <code>min_score_thresh=0.1</code> argument when calling the function in the <code>object_detection_tutorial.py</code> script itself"}], "tags": [], "owner": {"reputation": 86, "user_id": 9479442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spl0it92", "link": "https://stackoverflow.com/users/9479442/spl0it92"}, "is_accepted": true, "score": 6, "last_activity_date": 1524555257, "creation_date": 1524555257, "answer_id": 49995860, "question_id": 48917447, "link": "https://stackoverflow.com/questions/48917447/tensorflow-object-detection-api-output-boxes-for-probability-less-than-50/49995860#49995860", "title": "Tensorflow object detection API: output boxes for probability less than 50%", "body": "<p>Should be quite easy. </p>\n\n<p>As you can see, this tutorial calls the function 'vis_util.visualize_boxes_and_labels_on_image_array' whose arguments are:</p>\n\n<pre><code>image\nboxes\nclasses\nscores\ncategory_index\nuse_normalized_coordinates\nline_thickness\n</code></pre>\n\n<p>If search inside the file: 'research/object_detection/utilis/visualization_utils.py' you can find that function and see that there are other arguments that you can set.</p>\n\n<p>Among these you can find: <code>min_score_tresh</code> that is setted to <code>.5</code></p>\n\n<p>If you set:</p>\n\n<pre><code>min_score_tresh=.1\n</code></pre>\n\n<p>should obtain the desired result. </p>\n\n<p>Be careful, cause will be sh</p>\n"}, {"tags": [], "owner": {"reputation": 3061, "user_id": 1408615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/eb3291f2827a007e95c14722911f0f0b?s=128&d=identicon&r=PG", "display_name": "kennyut", "link": "https://stackoverflow.com/users/1408615/kennyut"}, "is_accepted": false, "score": 0, "last_activity_date": 1612059072, "creation_date": 1612059072, "answer_id": 65975123, "question_id": 48917447, "link": "https://stackoverflow.com/questions/48917447/tensorflow-object-detection-api-output-boxes-for-probability-less-than-50/65975123#65975123", "title": "Tensorflow object detection API: output boxes for probability less than 50%", "body": "<p>The simple way is to add &quot;min_score_thresh&quot; in &quot;vis_util.visualize_boxes_and_labels_on_image_array&quot; to set the detection threshold:</p>\n<pre class=\"lang-py prettyprint-override\"><code>      # Visualization of the results of a detection.\n      vis_util.visualize_boxes_and_labels_on_image_array(\n          image_np,\n          np.squeeze(boxes),\n          np.squeeze(classes).astype(np.int32),\n          np.squeeze(scores),\n          category_index,\n          use_normalized_coordinates=True,\n          line_thickness=8,\n          min_score_thresh=.1) # &lt;&lt;======== Add this line for threshold\n\n          \n</code></pre>\n"}], "owner": {"reputation": 1469, "user_id": 4663377, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd20d0f6d0dc5f26cce14ea1287164d7?s=128&d=identicon&r=PG&f=1", "display_name": "Ajinkya", "link": "https://stackoverflow.com/users/4663377/ajinkya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2250, "favorite_count": 1, "accepted_answer_id": 49995860, "answer_count": 2, "score": 1, "last_activity_date": 1612059072, "creation_date": 1519257132, "question_id": 48917447, "link": "https://stackoverflow.com/questions/48917447/tensorflow-object-detection-api-output-boxes-for-probability-less-than-50", "title": "Tensorflow object detection API: output boxes for probability less than 50%", "body": "<p>I am referring to Tensorflow Object Detection API (<a href=\"https://github.com/tensorflow/models/tree/master/research/object_detection\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/models/tree/master/research/object_detection</a>): Heres the IPython notebook for the detection code I am using (<a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/object_detection_tutorial.ipynb\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/models/blob/master/research/object_detection/object_detection_tutorial.ipynb</a>). In this file the output values are set to draw boxes for probability greater than 50%\nDetection code: </p>\n\n<pre><code>with detection_graph.as_default():\n  with tf.Session(graph=detection_graph) as sess:\n    # Definite input and output Tensors for detection_graph\n    image_tensor = detection_graph.get_tensor_by_name('image_tensor:0')\n    # Each box represents a part of the image where a particular object was detected.\n    detection_boxes = detection_graph.get_tensor_by_name('detection_boxes:0')\n    # Each score represent how level of confidence for each of the objects.\n    # Score is shown on the result image, together with the class label.\n    detection_scores = detection_graph.get_tensor_by_name('detection_scores:0')\n    detection_classes = detection_graph.get_tensor_by_name('detection_classes:0')\n    num_detections = detection_graph.get_tensor_by_name('num_detections:0')\n\n    #myFile = open('example2.csv', 'w')\n    i=0\n    #boxeslist=[]\n    new_boxes = []\n    for image_path in TEST_IMAGE_PATHS:\n      image = Image.open(image_path)\n      # the array based representation of the image will be used later in order to prepare the\n      # result image with boxes and labels on it.\n      image_np = load_image_into_numpy_array(image)\n      # Expand dimensions since the model expects images to have shape: [1, None, None, 3]\n      image_np_expanded = np.expand_dims(image_np, axis=0)\n      # Actual detection.\n      (boxes, scores, classes, num) = sess.run(\n          [detection_boxes, detection_scores, detection_classes, num_detections],\n          feed_dict={image_tensor: image_np_expanded})\n      # Visualization of the results of a detection.\n      vis_util.visualize_boxes_and_labels_on_image_array(\n          image_np,\n          np.squeeze(boxes),\n          np.squeeze(classes).astype(np.int32),\n          np.squeeze(scores),\n          category_index,\n          use_normalized_coordinates=True,\n          line_thickness=8)\n\n      plt.figure(figsize=IMAGE_SIZE)\n      plt.imshow(image_np)\n</code></pre>\n\n<p>How do I change the code so that it outputs boxes around object for > 10% probability</p>\n"}, {"tags": ["python", "pyspark", "apache-spark-ml"], "answers": [{"comments": [{"owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "edited": false, "score": 0, "creation_date": 1584369814, "post_id": 48936379, "comment_id": 107409126, "body": "Why did you have to do it before saving? Surely you could just do <code>pipeline.fit(train)</code> and save that result? And then perform the <code>transform()</code> when you read it back in? Or does it not work like that?"}], "tags": [], "owner": {"reputation": 83, "user_id": 1507416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad51d237ec2fb32c2583019f76cd0b65?s=128&d=identicon&r=PG", "display_name": "Anand Hemmige", "link": "https://stackoverflow.com/users/1507416/anand-hemmige"}, "is_accepted": true, "score": 0, "last_activity_date": 1519330356, "creation_date": 1519330356, "answer_id": 48936379, "question_id": 48917438, "link": "https://stackoverflow.com/questions/48917438/pyspark-ml-pipeline-load-results-throws-java-lang-unsupportedoperationexception/48936379#48936379", "title": "PySpark ML Pipeline.load results throws java.lang.UnsupportedOperationException: empty collection", "body": "<p>I had to do a <code>pipeline.transform</code> in order for the pipeline to actually apply transforms on the dataframe before saving. \nAfter doing that, loading the model back brings the model instance back and then we can apply <code>transform</code> again on a dataframe . </p>\n"}], "owner": {"reputation": 83, "user_id": 1507416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad51d237ec2fb32c2583019f76cd0b65?s=128&d=identicon&r=PG", "display_name": "Anand Hemmige", "link": "https://stackoverflow.com/users/1507416/anand-hemmige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 48936379, "answer_count": 1, "score": 3, "last_activity_date": 1519330356, "creation_date": 1519257050, "last_edit_date": 1519276984, "question_id": 48917438, "link": "https://stackoverflow.com/questions/48917438/pyspark-ml-pipeline-load-results-throws-java-lang-unsupportedoperationexception", "title": "PySpark ML Pipeline.load results throws java.lang.UnsupportedOperationException: empty collection", "body": "<p>I have a PySpark fitted pipeline  that I am saving to disk for later use.</p>\n\n<p>Here is my pipeline code : </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>model  = Pipeline(stages=[segment_indexer, model_name_indexer, make_name_indexer, engine_type_indexer, segment_encoder, model_name_incoder, make_name_incoder, engine_type_incoder, x_assembler, estimator]).fit(trainingData)\nmodel.save('file:/opt/app/fitted-model' )\n</code></pre>\n\n<p>This saves the model to disk. </p>\n\n<p>I am trying to load the model back like so </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>model2 = pyspark.ml.pipeline.PipelineModel.load(\"file:/tmp/mymodels/fitted-model\")\n</code></pre>\n\n<p>which throws</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/spark/python/pyspark/ml/util.py\", line 257, in load\n    return cls.read().load(path)\n  File \"/usr/lib/spark/python/pyspark/ml/util.py\", line 197, in load\n    java_obj = self._jread.load(path)\n  File \"/usr/lib/spark/python/lib/py4j-0.10.4-src.zip/py4j/java_gateway.py\", line 1133, in __call__\n  File \"/usr/lib/spark/python/pyspark/sql/utils.py\", line 63, in deco\n    return f(*a, **kw)\n  File \"/usr/lib/spark/python/lib/py4j-0.10.4-src.zip/py4j/protocol.py\", line 319, in get_return_value\npy4j.protocol.Py4JJavaError: An error occurred while calling o2760.load.\n: java.lang.UnsupportedOperationException: empty collection\n    at org.apache.spark.rdd.RDD$$anonfun$first$1.apply(RDD.scala:1370)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:362)\n    at org.apache.spark.rdd.RDD.first(RDD.scala:1367)\n    at org.apache.spark.ml.util.DefaultParamsReader$.loadMetadata(ReadWrite.scala:382)\n    at org.apache.spark.ml.Pipeline$SharedReadWrite$.load(Pipeline.scala:266)\n    at org.apache.spark.ml.PipelineModel$PipelineModelReader.load(Pipeline.scala:347)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:280)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:214)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>What am i doing wrong ?  </p>\n\n<p>`</p>\n"}, {"tags": ["python", "python-3.x", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1519257959, "post_id": 48917472, "comment_id": 84841575, "body": "Slicing a list produces a shallow copy, but indexing does something even shallower, sometimes referred to as a &quot;reference copy&quot; or &quot;not a copy&quot;."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1519278715, "post_id": 48917472, "comment_id": 84847291, "body": "@user2357112 You are right. Improved my answer accordingly."}, {"owner": {"reputation": 183, "user_id": 4382630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/100006683070087/picture?type=large", "display_name": "Lockon2000", "link": "https://stackoverflow.com/users/4382630/lockon2000"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1519293228, "post_id": 48917472, "comment_id": 84854863, "body": "@user2357112 could you please elaborate on that a little more. As I understand this, a reference copy is some kind of a shallow copy (a shallow copy that can and will change the actual object if changed, i.e. not a lazy copy). So why do you make it sound like they are two different things? Am I missing something?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 183, "user_id": 4382630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/100006683070087/picture?type=large", "display_name": "Lockon2000", "link": "https://stackoverflow.com/users/4382630/lockon2000"}, "edited": false, "score": 1, "creation_date": 1519352937, "post_id": 48917472, "comment_id": 84887519, "body": "@Lockon2000: Slicing a list produces a new list object with references to the same elements the original list had references to. Indexing a list doesn&#39;t produce any new objects at all; it just gives you a reference to the object the corresponding list cell had a reference to."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 3, "last_activity_date": 1519278411, "last_edit_date": 1519278411, "creation_date": 1519257306, "answer_id": 48917472, "question_id": 48917414, "link": "https://stackoverflow.com/questions/48917414/different-behavior-between-the-normal-python-list-and-the-numpy-array-object/48917472#48917472", "title": "Different behavior between the normal python list and the numpy array object", "body": "<p>The list of lists are nested objects. The NumPy array is not nested but 2D. There is no notion of 2D with lists. So you have a list in a list. Whereas in NumPy it is just one object. </p>\n\n<p>NumPy always returns a view when indexing and the result of indexing is another array. You need to make explicit copies:</p>\n\n<pre><code>tmp = a[1].copy()\na[1] = b[1].copy()\nb[1] = tmp\n</code></pre>\n\n<p>to get it swapped:</p>\n\n<pre><code>&gt;&gt;&gt; a\narray([[ 1,  2,  3],\n       [10, 11, 12]])\n&gt;&gt;&gt; b\narray([[7, 8, 9],\n       [4, 5, 6]])\n</code></pre>\n\n<p>Rule of thumb:</p>\n\n<ol>\n<li>Indexing of list in list == reference to sub-list</li>\n<li>Indexing of NumPy 2D array along first dimension == view, i.e. shared data</li>\n</ol>\n"}], "owner": {"reputation": 183, "user_id": 4382630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/100006683070087/picture?type=large", "display_name": "Lockon2000", "link": "https://stackoverflow.com/users/4382630/lockon2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 48917472, "answer_count": 1, "score": 0, "last_activity_date": 1519278411, "creation_date": 1519256909, "last_edit_date": 1519257575, "question_id": 48917414, "link": "https://stackoverflow.com/questions/48917414/different-behavior-between-the-normal-python-list-and-the-numpy-array-object", "title": "Different behavior between the normal python list and the numpy array object", "body": "<p>Straight to the point. The next statements have the effect of swapping the contents of the two list elements of the python 2D-list:</p>\n\n<pre><code>a = [[1,2,3],\n     [4,5,6]]\nb = [[7,8,9],\n     [10,11,12]]\n\ntmp = a[1]\na[1] = b[1]\nb[1] = tmp\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>a = [[1,2,3],\n     [10,11,12]]\n\nb = [[7,8,9],\n     [4,5,6]]\n</code></pre>\n\n<p>For the numpy array type this would not have happened.</p>\n\n<pre><code>a = np.array([[1,2,3],\n              [4,5,6]])\nb = np.array([[7,8,9],\n              [10,11,12]])\n\ntmp = a[1]\na[1] = b[1]\nb[1] = tmp\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>a = array([[ 1,  2,  3],\n           [10, 11, 12]])\n\nb = array([[ 7,  8,  9],\n           [10, 11, 12]])\n</code></pre>\n\n<p>Why is that so?</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1519256989, "post_id": 48917405, "comment_id": 84841301, "body": "What do you mean &quot;the first substring&quot;?"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 0, "creation_date": 1519257000, "post_id": 48917405, "comment_id": 84841306, "body": "@heemayl I have tried googling for it, or just how to check for substrings without having to do anything to the string. But other than that, no. Mainly because I do not know what to try or how to approach this"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1519257054, "post_id": 48917405, "comment_id": 84841320, "body": "@kindall if the string were split by <code>&#39; &#39; </code> then the first element of the list is what I mean by the first substring"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1519257112, "post_id": 48917405, "comment_id": 84841343, "body": "When you split the string, it creates a new list, it does not mutate the string to a list if that is what you fear. Why do you want to avoid split?"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1519257239, "post_id": 48917405, "comment_id": 84841375, "body": "@Olivier it is not what I fear. I am trying to find a way to do this without using lists"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1519257277, "post_id": 48917405, "comment_id": 84841387, "body": "Why, why do you not want to use list?"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519257328, "post_id": 48917405, "comment_id": 84841403, "body": "@juanpa.arrivillaga I am trying to minimize the amount of variables I use and I thought that removing the use of lists would be plausible"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 3, "creation_date": 1519257513, "post_id": 48917405, "comment_id": 84841461, "body": "Why are you trying to minimize the number of variables you use? Can you show an example of some code that you think has too many variables?"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1519257659, "post_id": 48917405, "comment_id": 84841500, "body": "@DanielPryden it&#39;s not what I have but is what I am going to have. There will be a lot of variables involved and the list (if i do you it) would contain a huge number of substrings. And to not lose spead even at the slightest, I would want to avoid it"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1519257852, "post_id": 48917405, "comment_id": 84841544, "body": "That doesn&#39;t make any sense. If you have too many local variables, that&#39;s not a <i>problem</i>, that&#39;s a <i>symptom</i>: it probably means that you aren&#39;t using enough functions. And &quot;lose spead even at the slightest&quot; is completely incomprehensible to me. Show your <i>actual</i> problem, and that will allow us to help you find an actual solution."}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 1, "creation_date": 1519258014, "post_id": 48917405, "comment_id": 84841592, "body": "This question is an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X-Y problem</a> if I&#39;ve ever seen one!"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1519258264, "post_id": 48917405, "comment_id": 84841655, "body": "@DanielPryden I get where your going by it being an X-Y problem, but all I need was for a way to not use lists and to be able to get sub strings without creating lists. The reason for why I am doing this shouldn&#39;t affect the answers given (at least for me it doesn&#39;t). Many people already gave me answers which thoroughly answered my question"}, {"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1519258493, "post_id": 48917405, "comment_id": 84841706, "body": "But the point of Stack Overflow isn&#39;t for <i>you</i> to get what you need, it&#39;s to build a repository of knowledge that is useful to others. This question as it stands is not useful to others. I&#39;m not even convinced that it is in fact useful to you: I think reworking your approach is likely to be <i>much more</i> useful to you (in terms of readability, performance, and correctness), but if you&#39;re dead set on not getting help then I guess there&#39;s nothing I can do to help you!"}, {"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1519258960, "post_id": 48917405, "comment_id": 84841836, "body": "@DanielPryden I am trying hard to understand your concern, but I always thought that creating a question with an example that isnt just targeted for me is most helpful for everyone else. I am not using a definite string, I am not needing a solution that can only work with certain code, but all I am asking is for a solution that just works. I am deeply sorry if I am frustrating you, I truly am. But there is nothing I am really trying to hide"}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 1, "creation_date": 1519259119, "post_id": 48917405, "comment_id": 84841881, "body": "@DanielPryden Op is right with his/her concern about processing the whole string if he needs the first three letters in a million letter string (if that&#39;s the only concern). I couldn&#39;t speak for the rest of the problem of course, which I don&#39;t know."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1519261314, "post_id": 48917405, "comment_id": 84842444, "body": "The first substring is of course <code>&#39;&#39;</code>. Always."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "edited": false, "score": 0, "creation_date": 1519257200, "post_id": 48917429, "comment_id": 84841362, "body": "Is there a way to do this so that It isn&#39;t necessary for me to know the size of the string to pin point what I need. Because the strings will be different and wont use the same positions for characters"}, {"owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "reply_to_user": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "edited": false, "score": 0, "creation_date": 1519257357, "post_id": 48917429, "comment_id": 84841413, "body": "Could you please provide an example input and the desired output? Because there are many ways to do that and your question is not clear enough. Please edit."}], "tags": [], "owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1519257472, "last_edit_date": 1519257472, "creation_date": 1519257017, "answer_id": 48917429, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917429#48917429", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>You can use slicing: </p>\n\n<pre><code>In [1]: s = \"fox is bright orange\"\n\nIn [2]: s[4:7]\nOut[2]: 'is '\n\nIn [3]: s[4:13]\nOut[3]: 'is bright'\n\nIn [4]: s[4:]\nOut[4]: 'is bright orange'\n\nIn [6]: s[:6]\nOut[6]: 'fox is'\n</code></pre>\n\n<p>In lower level languages (like C) you could have pointers on the original string with arbitraty offests. So you could replicate this behaviour using slices. However please note that python will always return a copy anyways, because python string are immutable.</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "edited": false, "score": 0, "creation_date": 1519257431, "post_id": 48917481, "comment_id": 84841437, "body": "could you explain how the regex one works? I am a bit confused"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "edited": false, "score": 1, "creation_date": 1519257489, "post_id": 48917481, "comment_id": 84841453, "body": "@exemplarary Added explanation."}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 4, "last_activity_date": 1519257474, "last_edit_date": 1519257474, "creation_date": 1519257367, "answer_id": 48917481, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917481#48917481", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>So you want to get <code>fox</code> from <code>fox is bright orange</code>:</p>\n\n<ol>\n<li><p>Regex; <code>^\\w+</code> gets one or more alphanumerics from start:</p>\n\n<pre><code>In [61]: re.search(r'^\\w+', random_string).group()\nOut[61]: 'fox'\n</code></pre></li>\n<li><p><code>str.partition</code> (which produces a tuple) and getting the first element</p>\n\n<pre><code>In [62]: random_string.partition(' ')[0]\nOut[62]: 'fox'\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1519259122, "post_id": 48917496, "comment_id": 84841882, "body": "I suppose if the string happens to be the Encyclopedia Britannica a case could be made for avoiding the list."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1519271059, "post_id": 48917496, "comment_id": 84844838, "body": "I don&#39;t see any problem with loading a 4gb string in memory and then making a list of out of it."}], "tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": false, "score": 1, "last_activity_date": 1519258395, "last_edit_date": 1519258395, "creation_date": 1519257444, "answer_id": 48917496, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917496#48917496", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>The correct way to do what you want in Python is exactly what you are trying to avoid. There is no real reason to do this.</p>\n\n<p>But... if you absolutely want to avoid using a list, you can do this.</p>\n\n<pre><code>sub_string = random_string[:random_string.index(' ')]\n</code></pre>\n\n<p>Note that this will raise an exception if there is no space in your string.</p>\n"}, {"comments": [{"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 1, "creation_date": 1519258053, "post_id": 48917536, "comment_id": 84841602, "body": "Please note that, if someone wants to do this without error handling (for whatever reason), this should work <code>random_string[:(random_string + &quot; &quot;).index(&quot; &quot;)]</code> (Adding a space to the end in the search)."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 0, "creation_date": 1519258781, "post_id": 48917536, "comment_id": 84841784, "body": "I was trying to avoid creating new strings, as this seems important, but you&#39;re right, I&#39;ve often used that very approach."}, {"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 0, "creation_date": 1519258945, "post_id": 48917536, "comment_id": 84841832, "body": "You are right of course, as creating new strings is expensive. This method is for people more like &quot;I like small, clever Python one-liners&quot;. Which is still legit for some cases :)"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1519257712, "creation_date": 1519257712, "answer_id": 48917536, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917536#48917536", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>Do you want to check whether a given string begins with a certain word?</p>\n\n<pre><code>random_string = \"fox is bright orange\"\nprint(random_string.startswith(\"fox \")   # True\n</code></pre>\n\n<p>Do you want to get the length of the first word?</p>\n\n<pre><code>random_string = \"fox is bright orange\"\nprint(random_string.index(\" \"))           # 3\n</code></pre>\n\n<p>Do you want to get the first word, but not split anything else?</p>\n\n<pre><code>random_string = \"fox is bright orange\"\nprint(random_string[:random_string.index(\" \")])    # fox\n</code></pre>\n\n<p>Note that <code>str.index()</code> raises <code>ValueError</code> when the specified substring isn't found, i.e. when there's only one word in the string, so if you use one of the last two solutions, you should catch that error and do something appropriate (such as using the whole string).</p>\n\n<pre><code>random_string = \"fox is bright orange\"\ntry:\n    print(random_string[:random_string.index(\" \")])\nexcept ValueError:\n    print(random_string)\n</code></pre>\n\n<p>Or you could use <code>str.find()</code> instead. This returns -1 when the substring isn't found, which you would have to handle a little differently.</p>\n"}, {"tags": [], "owner": {"reputation": 796, "user_id": 4828285, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/085605e3e7cc452c4a06accb5504e0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Matt. Stroh", "link": "https://stackoverflow.com/users/4828285/matt-stroh"}, "is_accepted": false, "score": 0, "last_activity_date": 1519257823, "creation_date": 1519257823, "answer_id": 48917549, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917549#48917549", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>If you don't want to use re, how about simple iteration over the <code>random_string</code>?</p>\n\n<pre><code>def get_first_word(long_string):\n    offset = 0\n    while long_string[offset] !=\" \":\n        offset+=1\n\n    return long_string[0:offset]\n</code></pre>\n\n<p>So running this code:</p>\n\n<pre><code>random_string = \"fox is bright orange\"\nprint(get_first_word(random_string))\n</code></pre>\n\n<p>will print - <code>fox</code></p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1519257863, "creation_date": 1519257863, "answer_id": 48917560, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari/48917560#48917560", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>This</p>\n\n<pre><code>''.join(iter(iter(s).__next__, ' '))\n</code></pre>\n\n<p>will work regardless of whether there actually is a <code>' '</code> in your string or not.</p>\n"}], "owner": {"reputation": 83, "user_id": 9313928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfTQr.jpg?s=128&g=1", "display_name": "exemplarary", "link": "https://stackoverflow.com/users/9313928/exemplarary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 48917481, "answer_count": 6, "score": 3, "last_activity_date": 1519331175, "creation_date": 1519256855, "last_edit_date": 1519331175, "question_id": 48917405, "link": "https://stackoverflow.com/questions/48917405/is-it-possible-to-use-substrings-without-having-to-store-them-in-a-seperate-vari", "title": "Is it possible to use substrings without having to store them in a seperate variable", "body": "<p>I want to be able to check what the first substring in the string: <code>random_string = \"fox is bright orange\"</code> is without needing to split the string and then read from the list, or store it some other variable. Is it possible to do this? </p>\n\n<p>the string I am using here is just an example, so there is not a designated string being used. I want to be able to figure out the substring (if it were split by <code>' '</code>) of <strong>any</strong> string without having to use a list</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1519257486, "post_id": 48917403, "comment_id": 84841450, "body": "As a general rule of thumb you should never call any tkinter functions (such as <code>var.get()</code> and <code>var.set()</code>) from any thread except the main thread. If the threads need to communicate, you need to set up a queue."}, {"owner": {"reputation": 225, "user_id": 4758057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cefea0480f74fd07afb86141dc739753?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewK", "link": "https://stackoverflow.com/users/4758057/andrewk"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1519257916, "post_id": 48917403, "comment_id": 84841560, "body": "Cheers. How would I run this function &#39;fun()&#39; from the main thread? When I use &#39;root.after(2000, fun)&#39; before I call &#39;root.mainloop()&#39; my GUI window does not run properly."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1519258013, "post_id": 48917403, "comment_id": 84841590, "body": "You shouldn&#39;t run it from the main loop if it&#39;s calling sleep, because that&#39;s exactly what will happen to your app - it will go to sleep."}, {"owner": {"reputation": 225, "user_id": 4758057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cefea0480f74fd07afb86141dc739753?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewK", "link": "https://stackoverflow.com/users/4758057/andrewk"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1519258193, "post_id": 48917403, "comment_id": 84841632, "body": "That makes sense as to why I was I couldn&#39;t use the &#39;.after&#39;."}, {"owner": {"reputation": 225, "user_id": 4758057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cefea0480f74fd07afb86141dc739753?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewK", "link": "https://stackoverflow.com/users/4758057/andrewk"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1519261545, "post_id": 48917403, "comment_id": 84842494, "body": "@BryanOakley If you know of any could you please refer me to somewhere that could help me implement queues to fix my code? I haven&#39;t been able to find anything yet."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1519263545, "post_id": 48917403, "comment_id": 84843000, "body": "I could show you how to make this specific code work, but that probably wouldn&#39;t help you make your real code work. Plus, you don&#39;t need threads if all you&#39;re doing is incrementing a variable. Threading with tkinter can be difficult, and it really depends on what you&#39;re needing to do in the other thread. There are already other questions and answers on this site related to writing threaded code, I doubt I could improve on them."}, {"owner": {"reputation": 225, "user_id": 4758057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cefea0480f74fd07afb86141dc739753?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewK", "link": "https://stackoverflow.com/users/4758057/andrewk"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1519332428, "post_id": 48917403, "comment_id": 84880590, "body": "@BryanOakley I&#39;ve been trying for a few days now. My &#39;fun()&#39; I am working with is just receiving streaming data from a websocket connection and I just want to change the label when I receive new data. What would be the best method in this case? Thanks for your help btw."}], "owner": {"reputation": 225, "user_id": 4758057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cefea0480f74fd07afb86141dc739753?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewK", "link": "https://stackoverflow.com/users/4758057/andrewk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519256848, "creation_date": 1519256848, "question_id": 48917403, "link": "https://stackoverflow.com/questions/48917403/python-error-in-thread-when-closing-tkinter-gui-window", "title": "Python - Error in thread when closing tkinter GUI window", "body": "<p>I am running a function that changes a label value in a thread while my tkinter is running. This code works unless I close the window before my thread stops. I have attached the error below.</p>\n\n<p>How can I fix this problem? Is there a better way to set up these threads when using tkinter?</p>\n\n<p>Code (works unless I close GUI window early):</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nimport threading\nimport time\n\ndef fun():\n    for i in range(10):\n        var.set(var.get() + 1)\n        print(var.get())\n        time.sleep(.5)\n\nt = threading.Thread(target=fun)\n\nroot = Tk()\n\nvar = IntVar()\nvar.set(0)\n\nmainframe = ttk.Frame(root)\nmainframe.grid(column = 0, row = 0)\nlabel = ttk.Label(mainframe, textvariable=var)\nlabel.grid(column = 0, row = 0)\n\nt.start()\nroot.mainloop()\nt.join()\nprint('Done')\n</code></pre>\n\n<p>Error when I close GUI window before <code>fun()</code> has finished running:</p>\n\n<pre><code>Exception in thread Thread-1:\nDone\nTraceback (most recent call last):\n  File \"C:\\Users\\PC-User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\threading.py\", line 916, in _bootstrap_inner\n    self.run()\n  File \"C:\\Users\\PC-User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\threading.py\", line 864, in run\n    self._target(*self._args, **self._kwargs)\n  File \"C:/Users/PC-User/PycharmProjects/Arb/example.py\", line 8, in fun\n    var.set(var.get() + 1)\n  File \"C:\\Users\\PC-User\\AppData\\Local\\Programs\\Python\\Python36-32\\Lib\\tkinter\\__init__.py\", line 503, in get\n    value = self._tk.globalgetvar(self._name)\nRuntimeError: main thread is not in main loop\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1519256987, "post_id": 48917393, "comment_id": 84841298, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4542352/import-from-sibling-directory\">Import from sibling directory</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1519257271, "post_id": 48917416, "comment_id": 84841385, "body": "Yeah but that would mean moving <code>b.py</code> to the parent directory which Im trying to avoid."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1519257465, "post_id": 48917416, "comment_id": 84841445, "body": "@guppythegod You can use the directory structure from your original question. Are you running <code>b.py</code> directly or is it imported from another script file?"}, {"owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1519257835, "post_id": 48917416, "comment_id": 84841542, "body": "it eventually will be run from another file, but right now Im running the file by itself (for testing) and doing something like <code>from Folder A.Folder C import c</code> doesnt work"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1519257895, "post_id": 48917416, "comment_id": 84841555, "body": "How do you run <code>b.py</code>?"}, {"owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "edited": false, "score": 0, "creation_date": 1519257970, "post_id": 48917416, "comment_id": 84841581, "body": "<code>python b.py</code> from its directory"}], "tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1519256910, "creation_date": 1519256910, "answer_id": 48917416, "question_id": 48917393, "link": "https://stackoverflow.com/questions/48917393/how-to-call-files-from-other-folders-in-python/48917416#48917416", "title": "How to call files from other folders in Python", "body": "<p>I assume this is part of a larger project. You should run <code>python &lt;script name&gt;</code> from the parent directory of <code>Folder A</code>. Then you can do</p>\n\n<pre><code>import A.C.c\n</code></pre>\n\n<p>or</p>\n\n<pre><code>from A.C import c\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8994323, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1917d22a53185dad26ed809ccb79e65?s=128&d=identicon&r=PG", "display_name": "guppythegod", "link": "https://stackoverflow.com/users/8994323/guppythegod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519256910, "creation_date": 1519256793, "question_id": 48917393, "link": "https://stackoverflow.com/questions/48917393/how-to-call-files-from-other-folders-in-python", "title": "How to call files from other folders in Python", "body": "<p>I have a project structured like this:</p>\n\n<pre><code>Folder A\n    Folder B\n        b.py\n        __init__.py\n    Folder C\n        c.py\n        __init__.py\n__init__.py\n</code></pre>\n\n<p>I want to import <code>c.py</code> from <code>b.py</code>, is there any way I can do this without:</p>\n\n<ul>\n<li>Moving any of the files</li>\n<li>Using absolute paths (\"C\\Users...c.py\")</li>\n</ul>\n\n<p>Thank you so much.</p>\n"}, {"tags": ["php", "python", "image-processing"], "comments": [{"owner": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 0, "creation_date": 1519257309, "post_id": 48917381, "comment_id": 84841400, "body": "See if this helps. <a href=\"https://stackoverflow.com/questions/19695249/load-just-part-of-an-image-in-python/19772446\" title=\"load just part of an image in python\">stackoverflow.com/questions/19695249/&hellip;</a>"}, {"owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "reply_to_user": {"reputation": 2620, "user_id": 5335649, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/9650fd24c7432056ab9e7c892bc38523?s=128&d=identicon&r=PG&f=1", "display_name": "Rockybilly", "link": "https://stackoverflow.com/users/5335649/rockybilly"}, "edited": false, "score": 0, "creation_date": 1519257868, "post_id": 48917381, "comment_id": 84841548, "body": "That method requires images in an uncompressed BMP format.  My images are jpeg compressed and fully extracting them is a daunting task.  Knowing what little I know of compression, I am afraid someone will tell me I must uncompress the entire image to work with it."}, {"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "edited": false, "score": 0, "creation_date": 1519264457, "post_id": 48917381, "comment_id": 84843199, "body": "On average you&#39;re going probably to be uncompressing 50% of the image each time, assuming you find a way to do the thing you&#39;re thinking of. It&#39;s probably more efficient, both in terms of resource usage and time spent coding, to make an uncompressed BMP copy and use simple file operations to extract the portions you&#39;re interested in."}, {"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "edited": false, "score": 0, "creation_date": 1519264508, "post_id": 48917381, "comment_id": 84843208, "body": "Better yet, break the image down into a number of uncompressed tiles, and when you get a request for an image portion load in and reassemble the necessary tiles, trim, and export. Sort of a bastardized version of how google maps loads its data. Bear in mind that disk space is far cheaper than RAM and CPU."}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1519269364, "post_id": 48917381, "comment_id": 84844424, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48281086/extracting-a-region-of-interest-from-an-image-file-without-reading-the-entire-im\">Extracting a region of interest from an image file without reading the entire image</a>"}, {"owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "reply_to_user": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1519275451, "post_id": 48917381, "comment_id": 84846147, "body": "@CrisLuengo That answer does not provide a solution in PHP nor Python. Thanks though."}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1519281809, "post_id": 48917381, "comment_id": 84848530, "body": "@Kenneth: I linked the question because I think that it explains very clearly what you need to do: store your images as tiled TIFF. Python has functionality to read individual tiles from a TIFF file, and I&#39;m sure PHP does too. That part is trivial. Any other image file type that I know of will require to read the whole thing in memory (or most of it anyway) to extract a small region. You really want to store your data in the right way first."}, {"owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "edited": false, "score": 0, "creation_date": 1519486113, "post_id": 48917381, "comment_id": 84934677, "body": "@Kenneth the solution Cris linked works in both Python and PHP -- there&#39;s a Python example near the bottom of the accepted answer. I&#39;ll add a PHP version here."}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 0, "creation_date": 1519257914, "post_id": 48917557, "comment_id": 84841558, "body": "Sounds promising. I will investigate!"}], "tags": [], "owner": {"reputation": 985, "user_id": 1015143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pEBlC.jpg?s=128&g=1", "display_name": "Timothy Johns", "link": "https://stackoverflow.com/users/1015143/timothy-johns"}, "is_accepted": false, "score": 2, "last_activity_date": 1519257836, "creation_date": 1519257836, "answer_id": 48917557, "question_id": 48917381, "link": "https://stackoverflow.com/questions/48917381/how-to-efficiently-sample-a-600-mp-image/48917557#48917557", "title": "How to efficiently sample a 600 MP image", "body": "<p>You may want to take a look at ImageMagick, which I have used from Java with great success to do something very similar.</p>\n\n<p>There is a bit of a learning curve, but it's tremendously powerful, and I believe the command line example at \"Selecting an Image Region\" on <a href=\"https://www.imagemagick.org/script/command-line-processing.php\" rel=\"nofollow noreferrer\">https://www.imagemagick.org/script/command-line-processing.php</a> illustrates what you're describing (extracting a small known AoI from within a much larger image).</p>\n"}, {"comments": [{"owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 0, "creation_date": 1519697874, "post_id": 48964573, "comment_id": 85005398, "body": "I had a heck of a time trying to get the Vips package to work with Python in Windows. I gave up!  Do you know of any resources to help with getting it to work with PHP in Windows?"}, {"owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "reply_to_user": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 1, "creation_date": 1519716972, "post_id": 48964573, "comment_id": 85011201, "body": "Oh dear, it should be easy. Open an issue on the pyvips tracker and I&#39;ll help there: <a href=\"https://github.com/jcupitt/pyvips/issues\" rel=\"nofollow noreferrer\">github.com/jcupitt/pyvips/issues</a> ... it&#39;s supposed to be: download the shared library, download a 64-bit Python (32-bit will not work), set your PATH to include the shared library DLL folder, <code>pip install pyvips</code>."}, {"owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "reply_to_user": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 1, "creation_date": 1519717313, "post_id": 48964573, "comment_id": 85011385, "body": "For PHP on Windows, it&#39;s a native extension, so you&#39;ll need a working compiler. pyvips on Windows is easier: it&#39;s pure Python and will work without a compiler, though it&#39;s slower."}, {"owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "reply_to_user": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 1, "creation_date": 1519717459, "post_id": 48964573, "comment_id": 85011476, "body": "You could also just use the vips command-line and invoke it from python/php. <code>vips crop huge.tif small.jpg 10 10 100 100</code> will very quickly crop a 100x100 pixel area at left/top 10x10 from <code>huge.tif</code> and write it to <code>small.jpg</code>."}, {"owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 0, "creation_date": 1519922525, "post_id": 48964573, "comment_id": 85113723, "body": "@user894736 I have been working with PHP for about 15 years, but never dove into extentions or compiling anything. I found this resource <a href=\"https://wiki.php.net/internals/windows/stepbystepbuild\" rel=\"nofollow noreferrer\">wiki.php.net/internals/windows/stepbystepbuild</a> about setting up a compiler (I have used VS for c++ projects before).  As I understand it, because it&#39;s a native extension, it must be compiled into PHP?  Is this the only way to add this type of functionality into php?  I am using WAMP server, so I&#39;m sure adding a custom build of PHP would get quite complicated..."}, {"owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "reply_to_user": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "edited": false, "score": 0, "creation_date": 1519923479, "post_id": 48964573, "comment_id": 85114328, "body": "It&#39;s one of those things that&#39;s easy on linux, but tricky on Windows, because there&#39;s no standard C compiler. Yes, native extensions are the only way you can call into external libraries from PHP (there&#39;s no FFI system). If you are not a compiler guru, I would just use shell_exec() to run the vips command-line. You&#39;ll need to make sure the vips bin directory is on your PATH."}], "tags": [], "owner": {"reputation": 7702, "user_id": 894763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d013c9681666f0a68a6c1c00ff4d603?s=128&d=identicon&r=PG", "display_name": "jcupitt", "link": "https://stackoverflow.com/users/894763/jcupitt"}, "is_accepted": true, "score": 1, "last_activity_date": 1519487486, "last_edit_date": 1519487486, "creation_date": 1519487061, "answer_id": 48964573, "question_id": 48917381, "link": "https://stackoverflow.com/questions/48917381/how-to-efficiently-sample-a-600-mp-image/48964573#48964573", "title": "How to efficiently sample a 600 MP image", "body": "<p><a href=\"https://github.com/jcupitt/php-vips\" rel=\"nofollow noreferrer\">php-vips</a> will read just the part you need, when it can. It's typically 3x to 5x faster than imagemagick and needs much less memory. </p>\n\n<p>Many image formats do not allow random access. JPEG, PNG, GIF and many others will force you to decompress at least the pixels before the pixels you want which, for huge images of the sort you are handling, will be very slow.</p>\n\n<p>One solution would be to switch to JPEG-compressed tiled TIFF. This format breaks the image into (by default) 256x256 pixel tiles and compresses each one separately. The tiles are stored in a TIFF file with an index, so you can pull out individual tiles very quickly.</p>\n\n<p>For example, you can convert a huge JPEG image to a JPEG-compressed tiled tiff with libvips like this:</p>\n\n<pre><code>$ time vips copy wac_nearside.jpg wac_nearside.tif[tile,compression=jpeg]\nreal    0m3.891s\nuser    0m6.332s\nsys     0m0.198s\npeak RES 40mb\n</code></pre>\n\n<p>The index makes the image a little larger, but it's not too bad:</p>\n\n<pre><code>$ ls -l wac_nearside.* \n-rw-r--r-- 1 john john 74661771 May  7  2015 wac_nearside.jpg\n-rw-r--r-- 1 john john 76049323 Feb 24 15:39 wac_nearside.tif\n$ vipsheader wac_nearside.jpg wac_nearside.jpg: 24000x24000 uchar, 1 band, b-w, jpegload\n</code></pre>\n\n<p>You can read out random regions from it in PHP like this:</p>\n\n<pre><code>#!/usr/bin/env php\n&lt;?php\n\nrequire __DIR__ . '/vendor/autoload.php';\n\nuse Jcupitt\\Vips;\n\n$image = Vips\\Image::newFromFile($argv[1]);\n\n$region_width = 100;\n$region_height = 100;\n\nfor ($i = 0; $i &lt; 100; $i++) {\n    $left = rand(0, $image-&gt;width - $region_width - 1);\n    $top = rand(0, $image-&gt;height - $region_height - 1);\n    $region = $image-&gt;crop($left, $top, $region_width, $region_height);\n    $region-&gt;writeToFile($i . \".jpg\");\n}\n</code></pre>\n\n<p>I can run that program like this:</p>\n\n<pre><code>$ time ./crop.php ~/pics/wac_nearside.tif \nreal    0m0.207s\nuser    0m0.181s\nsys     0m0.042s\npeak RES 36mb\n</code></pre>\n\n<p>So on this elderly laptop it's reading out (and creating) 100 JPEG files in just over 0.2s.</p>\n"}], "owner": {"reputation": 550, "user_id": 692331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63ae8ccee0b3fd9f7a326b2bc82e9608?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/692331/kenneth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 48964573, "answer_count": 2, "score": 4, "last_activity_date": 1519487486, "creation_date": 1519256671, "last_edit_date": 1519275408, "question_id": 48917381, "link": "https://stackoverflow.com/questions/48917381/how-to-efficiently-sample-a-600-mp-image", "title": "How to efficiently sample a 600 MP image", "body": "<p>I have a process producing very high resolution 600+ MP images.  These images are about 2GB when loaded into RAM (40MB highly compressed).  I am indexing them and making them available via a PHP web app.</p>\n\n<p>I have data that tells me areas of interested in units of pixels, so I am curious whether there is a method where I could read a particular area of the image without loading the entire thing into memory.  Sort of like moving through a file pointer, but choosing when to read.  The goal would be to create a small picture of the area of interest.</p>\n\n<p>I know there are a few image processing libraries in PHP, and more than a few for Python, but I don't really know what is the correct question to be asking with regard to the libraries.</p>\n\n<p><strong>I am really looking for a solution in PHP or Python specifically</strong></p>\n"}, {"tags": ["python", "bash", "scrapy", "ubuntu-16.04"], "answers": [{"comments": [{"owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "edited": false, "score": 0, "creation_date": 1519260101, "post_id": 48917570, "comment_id": 84842132, "body": "The first solution seems to be little bit hacky but it does make sense and I will use it at least temporary. Maybe you could elaborate the second solution little bit. Thanks"}, {"owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "reply_to_user": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "edited": false, "score": 0, "creation_date": 1519284660, "post_id": 48917570, "comment_id": 84849975, "body": "Nah it&#39;s not hacky, it&#39;s actually quite reliable and widely used. For the lock directly from pythonit&#39;s the same idea you need a shared resource: like a directory, a file (watch out for race conditions), or a DB with exclusive transaction lock."}], "tags": [], "owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "is_accepted": false, "score": 1, "last_activity_date": 1519257965, "creation_date": 1519257965, "answer_id": 48917570, "question_id": 48917312, "link": "https://stackoverflow.com/questions/48917312/scrapy-how-to-check-if-spider-is-running/48917570#48917570", "title": "Scrapy - how to check if spider is running", "body": "<p>You need some sort of locking mechanism. </p>\n\n<p>The best way to achieve an atomic lock from bash is to use mkdir and check the result code to know if you acquired the lock or not.</p>\n\n<p>Here's a more in depth explanation: <a href=\"http://wiki.bash-hackers.org/howto/mutex\" rel=\"nofollow noreferrer\">http://wiki.bash-hackers.org/howto/mutex</a></p>\n\n<p>Of course you could always go for dirtier methods like a grep on process names or stuff like that.</p>\n\n<p>You could also have a lock in scrapy itself, add a simple middleware check for a shared resource... Plenty of ways to do it :)</p>\n"}], "owner": {"reputation": 13493, "user_id": 2607447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd6c05db10236c0b175d26db1b0ce8e?s=128&d=identicon&r=PG", "display_name": "Milano", "link": "https://stackoverflow.com/users/2607447/milano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1519257965, "creation_date": 1519256301, "last_edit_date": 1519256654, "question_id": 48917312, "link": "https://stackoverflow.com/questions/48917312/scrapy-how-to-check-if-spider-is-running", "title": "Scrapy - how to check if spider is running", "body": "<p>I have a <code>Scrapy</code> spider which I run every hour using <code>bash</code> script and <code>crontab</code>.</p>\n\n<p>The running time of the spider is about 50 minutes but can be more than hour. </p>\n\n<p>What I want is to check whether the spider is running and only if not, start new crawling.</p>\n\n<p><strong>BASH SCRIPT</strong></p>\n\n<pre><code>#!/usr/bin/env bash\n\nsource /home/milano/.virtualenvs/keywords_search/bin/activate\ncd /home/milano/PycharmProjects/keywords_search/bot\n\n# HERE I WANT TO CHECK, WHETHER THE PREVIOUS CRAWLING ALREADY STOPPED, IF NOT, DO NOTHING\n\nscrapy crawl main_spider\n</code></pre>\n\n<p>The only thing which comes to my mind is to  use <code>telnet</code>.</p>\n\n<p>If it can connect - <code>telnet localhost 6023</code>, it means that spider is still running otherwise I can run spider.</p>\n"}, {"tags": ["python", "flask", "proxy"], "comments": [{"owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "edited": false, "score": 0, "creation_date": 1519258369, "post_id": 48917310, "comment_id": 84841684, "body": "Hmm wait, you need to clarify. So flask is running on a remote server, correct? And you want to access it from your local machine? Is the proxy server, the same as the one running the flask app?"}, {"owner": {"reputation": 1444, "user_id": 2060205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7956be17c8a5f0be1dca0dbe1c0624de?s=128&d=identicon&r=PG", "display_name": "spadarian", "link": "https://stackoverflow.com/users/2060205/spadarian"}, "edited": false, "score": 0, "creation_date": 1519258622, "post_id": 48917310, "comment_id": 84841743, "body": "Are the comments the urls that you&#39;ve tried?"}, {"owner": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "reply_to_user": {"reputation": 1444, "user_id": 2060205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7956be17c8a5f0be1dca0dbe1c0624de?s=128&d=identicon&r=PG", "display_name": "spadarian", "link": "https://stackoverflow.com/users/2060205/spadarian"}, "edited": false, "score": 0, "creation_date": 1519306506, "post_id": 48917310, "comment_id": 84863855, "body": "@spadarian The comments are indeed the urls I am trying."}, {"owner": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "reply_to_user": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "edited": false, "score": 0, "creation_date": 1519306622, "post_id": 48917310, "comment_id": 84863935, "body": "@Maresh I am running all this on my desktop, so the proxy server is not running the app, just my browser connection, and there&#39;s no remote server (if I understand this correctly). I am also using the proxy IPs with the requests module."}, {"owner": {"reputation": 1444, "user_id": 2060205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7956be17c8a5f0be1dca0dbe1c0624de?s=128&d=identicon&r=PG", "display_name": "spadarian", "link": "https://stackoverflow.com/users/2060205/spadarian"}, "edited": false, "score": 0, "creation_date": 1519339710, "post_id": 48917310, "comment_id": 84883908, "body": "Why does the Flask app need to use the proxy? The problem is that  &quot;Bypass proxy for local addresses&quot; is unchecked. You are asking the proxy server to resolve &quot;localhost&quot; (or 0.0.0.0, or 127.0.0.1) but there is nothing running on those ports in that server."}, {"owner": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "reply_to_user": {"reputation": 1444, "user_id": 2060205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7956be17c8a5f0be1dca0dbe1c0624de?s=128&d=identicon&r=PG", "display_name": "spadarian", "link": "https://stackoverflow.com/users/2060205/spadarian"}, "edited": false, "score": 0, "creation_date": 1519392895, "post_id": 48917310, "comment_id": 84904238, "body": "@spadarian It&#39;s a web scraper that needs proxy IP rotation to work. I think I understand, my desired approach would require running the server on the proxies IP, which is not possible."}], "answers": [{"comments": [{"owner": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "edited": false, "score": 0, "creation_date": 1519392766, "post_id": 48947164, "comment_id": 84904157, "body": "Thanks, that is what I had already. I think what I was hoping to do  is not possible, so the correct answer is to do it your way i.e. default settings."}, {"owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "reply_to_user": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "edited": false, "score": 0, "creation_date": 1519657080, "post_id": 48947164, "comment_id": 84987347, "body": "I think i finally understand what you wanted. I&#39;ll edit."}], "tags": [], "owner": {"reputation": 4216, "user_id": 1447525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f2195fa2db341d08ccdd99736e4867?s=128&d=identicon&r=PG", "display_name": "Maresh", "link": "https://stackoverflow.com/users/1447525/maresh"}, "is_accepted": true, "score": 2, "last_activity_date": 1519657396, "last_edit_date": 1519657396, "creation_date": 1519386415, "answer_id": 48947164, "question_id": 48917310, "link": "https://stackoverflow.com/questions/48917310/connect-to-flask-localhost-server-through-proxy-ip/48947164#48947164", "title": "Connect to Flask localhost server through proxy IP", "body": "<p>You need to configure flask to run on <code>127.0.0.1</code> and in your proxy settings you need to enable: \"bypass proxy for local address\" otherwise you are trying to access localhost on the proxy and not on your local machine.</p>\n\n<p>If you want to access your flask instance via a proxy that is outside of you local network you need to:\n - Run flask on 0.0.0.0:8888 (or another port)\n - From your home router, forward port 8888 to the machine running flask\n - From your browser use your external IP address (google \"what is my ip\") + the 8888 port to access your flask app</p>\n\n<p>IMPORTANT NOTE: Doing it like described in the second solution is opening your application to the world, so be careful.</p>\n"}], "owner": {"reputation": 639, "user_id": 3073826, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc174ecb66ff631797f7324a2025907b?s=128&d=identicon&r=PG&f=1", "display_name": "ssast", "link": "https://stackoverflow.com/users/3073826/ssast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2233, "favorite_count": 0, "accepted_answer_id": 48947164, "answer_count": 1, "score": 2, "last_activity_date": 1519657396, "creation_date": 1519256294, "question_id": 48917310, "link": "https://stackoverflow.com/questions/48917310/connect-to-flask-localhost-server-through-proxy-ip", "title": "Connect to Flask localhost server through proxy IP", "body": "<p>I am new to Flask and web development and stuck trying to access the localhost development server through my browser, which is running through a proxy IP.</p>\n\n<p>The proxy IP I have set manually from the Google Chrome advanced settings (see <a href=\"https://customers.trustedproxies.com/knowledgebase.php?action=displayarticle&amp;id=10\" rel=\"nofollow noreferrer\">https://customers.trustedproxies.com/knowledgebase.php?action=displayarticle&amp;id=10</a>). \"Bypass proxy for local addresses\" is unchecked, as I do not want to do this here - the Flask server needs to use the proxy. For general browsing, setting the proxy is fine. Also, I am using socketio to run the app.</p>\n\n<p>With the proxy set in this way, I have tried these options without success:</p>\n\n<pre><code>socketio.run(app) # url http://127.0.0.1:5000/ or localhost:5000\n\nsocketio.run(app, host='0.0.0.0', port=8080) # url http://127.0.0.1:8080/ or localhost:8080\n\nsocketio.run(app, host='0.0.0.0') # url http://0.0.0.0:5000/ or localhost:5000\n\nsocketio.run(app, host='0.0.0.0', port=8080) # url http://0.0.0.0:8080/ or localhost:8080\n\nsocketio.run(app, host=proxyip) # url http://proxyip:5000/ or localhost:5000\n</code></pre>\n\n<p>I either get an \"invalid address\" error in the Python console, or a 502 error in my browser. Are there any other ways I can run the development server that may work here?</p>\n"}, {"tags": ["python", "pipenv"], "answers": [{"tags": [], "owner": {"reputation": 1421, "user_id": 7299505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLVAy.jpg?s=128&g=1", "display_name": "cosinepenguin", "link": "https://stackoverflow.com/users/7299505/cosinepenguin"}, "is_accepted": true, "score": 3, "last_activity_date": 1519256357, "last_edit_date": 1592644375, "creation_date": 1519256357, "answer_id": 48917323, "question_id": 48917290, "link": "https://stackoverflow.com/questions/48917290/pipenv-can-not-load-a-module/48917323#48917323", "title": "Pipenv can not load a module", "body": "<p>According to this <a href=\"https://github.com/facebook/facebook-python-ads-sdk/issues/345\" rel=\"nofollow noreferrer\">GitHub thread,</a> it seems <code>AdUser</code> has been renamed <code>AdAccountUser</code>. You could try the import statement</p>\n<p><code>from facebookads.adobjects.adaccountuser import AdAccountUser</code></p>\n<p>to fix your issue.</p>\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 2104, "user_id": 7608946, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YaW24.jpg?s=128&g=1", "display_name": "Sean D", "link": "https://stackoverflow.com/users/7608946/sean-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 48917323, "answer_count": 1, "score": 1, "last_activity_date": 1519256357, "creation_date": 1519256134, "question_id": 48917290, "link": "https://stackoverflow.com/questions/48917290/pipenv-can-not-load-a-module", "title": "Pipenv can not load a module", "body": "<p>I used pipenv to install facebookads, but it is having trouble resolving the AdUser module.</p>\n\n<pre><code>import facebookads\nfrom facebookads.adobjects.adaccount import AdAccount \nfrom facebookads.adobjects.adsinsights import AdsInsights \nfrom facebookads.api import FacebookAdsApi\nfrom facebookads import adobjects \nfrom facebookads.adobjects import AdUser\n\naccess_token = 'removed from code sample'\nad_account_id = 'removed from code sample'\napp_secret = 'removed from code sample'\napp_id = 'removed from code sample'\nFacebookAdsApi.init(app_id, app_secret, access_token)\n\n# Add after FacebookAdsApi.init\nme = AdUser(fbid='me')\nmy_account = me.get_ad_accounts()[0]\nprint(my_account)\n</code></pre>\n\n<p>Pycharm shows an error: Unresolved reference: 'AdUser'</p>\n\n<p>The console shows the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"F:/cp/python-scripts/tests-facebook.py\", line 11, in &lt;module&gt;\n    from facebookads.adobjects import AdUser\nImportError: cannot import name 'AdUser'\n</code></pre>\n\n<p>I've tried an uninstall and reinstall of facebookads SDK. It has not helped.</p>\n\n<p>Another developer suggested a possible problem with the virtual environment.</p>\n\n<p>Any insights on how to fix this would help, thank you.</p>\n"}, {"tags": ["python", "image", "musicbrainz", "binary-image"], "comments": [{"owner": {"reputation": 513, "user_id": 8293226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccfWx.png?s=128&g=1", "display_name": "mustachioed", "link": "https://stackoverflow.com/users/8293226/mustachioed"}, "edited": false, "score": 0, "creation_date": 1519256444, "post_id": 48917250, "comment_id": 84841146, "body": "From looking at the code for musicbranzngs things are really vague as to how you should tell what was returned by the api. In its most simple form it makes an HTTP request to an API and then gives you the raw data that was returned. I assume you can write this to a dummy file descriptor of some sort."}, {"owner": {"reputation": 129, "user_id": 8519063, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10155669062546468/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/8519063/will"}, "reply_to_user": {"reputation": 513, "user_id": 8293226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccfWx.png?s=128&g=1", "display_name": "mustachioed", "link": "https://stackoverflow.com/users/8293226/mustachioed"}, "edited": false, "score": 0, "creation_date": 1519256900, "post_id": 48917250, "comment_id": 84841274, "body": "Agreed. Was hoping I could use the lib, but you&#39;re right. Easiest way is just work around this method and call the API directly. I&#39;ll go ahead and do that.  As for UTF-8, my understanding is that that&#39;s only for txt files, not images."}, {"owner": {"reputation": 513, "user_id": 8293226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccfWx.png?s=128&g=1", "display_name": "mustachioed", "link": "https://stackoverflow.com/users/8293226/mustachioed"}, "edited": false, "score": 0, "creation_date": 1519256998, "post_id": 48917250, "comment_id": 84841303, "body": "Yes, that&#39;s what I was thinking. That or rewrite the <code>get_image</code> code to return the response object and then work from there."}, {"owner": {"reputation": 2093, "user_id": 7695039, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7630a58c1bb8abc718c3458ff1d08af4?s=128&d=identicon&r=PG&f=1", "display_name": "johnashu", "link": "https://stackoverflow.com/users/7695039/johnashu"}, "edited": false, "score": 0, "creation_date": 1519257065, "post_id": 48917250, "comment_id": 84841325, "body": "import base64....base64.decodestring(image_str)... have a read of this short tutorial.. maybe it will help..<a href=\"https://code.tutsplus.com/tutorials/base64-encoding-and-decoding-using-python--cms-25588\" rel=\"nofollow noreferrer\">code.tutsplus.com/tutorials/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 544, "user_id": 8137043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rmu73.jpg?s=128&g=1", "display_name": "G&#252;nther Eberl", "link": "https://stackoverflow.com/users/8137043/g%c3%bcnther-eberl"}, "is_accepted": false, "score": 1, "last_activity_date": 1523388187, "creation_date": 1523388187, "answer_id": 49761450, "question_id": 48917250, "link": "https://stackoverflow.com/questions/48917250/convert-binary-image-data-to-image-and-display-in-html/49761450#49761450", "title": "Convert binary image data to image and display in HTML", "body": "<p>Really looks like the API doesn't populate this info.</p>\n\n<h1>Alternative 1</h1>\n\n<p>Just take the binary data as it is and write it to a file (in binary mode). Then use <strong>magic</strong> (a libmagic wrapper) to determine the mime type. And rename it accordingly.</p>\n\n<pre><code>#! /usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport musicbrainzngs as mb\nimport magic\nimport os\n\nrelease_group_ID = '5c14fd50-a2f1-3672-9537-b0dad91bea2f'\nartwork = mb.get_release_group_image_front(release_group_ID)\n\nresult_file = 'result_file'\n\nwith open(result_file, 'wb') as file_handler:\n    file_handler.write(artwork)\n\nmime = magic.Magic(mime=True)\nmime_type = mime.from_file(result_file)\n\nif mime_type == 'image/jpeg':\n    os.rename(result_file, result_file + '.jpg')\nelif mime_type == 'image/png':\n    os.rename(result_file, result_file + '.png')\nelif mime_type == 'image/gif':\n    os.rename(result_file, result_file + '.gif')\nelif mime_type == 'image/bmp':\n    os.rename(result_file, result_file + '.bmp')\nelif mime_type == 'image/tiff':\n    os.rename(result_file, result_file + '.tiff')\nelse:\n    print('Not an image? %s' % mime_type)\n</code></pre>\n\n<h1>Alternative 2</h1>\n\n<p>Again just take the binary data as it is and write it to a file (in binary mode). Now open it with <strong>PIL</strong> and save it in the format you actually want (PIL doesn't care about the format of the input image and about 80 different ones are supported). Then delete the original file.</p>\n\n<pre><code>#! /usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport musicbrainzngs as mb\nfrom PIL import Image\nimport os\n\nrelease_group_ID = '5c14fd50-a2f1-3672-9537-b0dad91bea2f'\nartwork = mb.get_release_group_image_front(release_group_ID)\n\nresult_file = 'result_file'\n\nwith open(result_file, 'wb') as file_handler:\n    file_handler.write(artwork)\n\nImage.open(result_file).save(result_file + '.png', 'PNG')\n\nos.remove(result_file)\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 8519063, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10155669062546468/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/8519063/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6737, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1523388187, "creation_date": 1519255839, "question_id": 48917250, "link": "https://stackoverflow.com/questions/48917250/convert-binary-image-data-to-image-and-display-in-html", "title": "Convert binary image data to image and display in HTML", "body": "<p>I'm working with Musicbrainsngs - the Python lib for Musicbrainz API. Making a request for some album artwork. </p>\n\n<pre><code>import musicbrainzngs as mb\n\nrelease_group_ID = '5c14fd50-a2f1-3672-9537-b0dad91bea2f'\nartwork = mb.get_release_group_image_front(release_group_ID)\nprint(artwork)\n</code></pre>\n\n<p>The <a href=\"http://python-musicbrainzngs.readthedocs.io/en/v0.6/api/#musicbrainzngs.get_image\" rel=\"nofollow noreferrer\">documentation</a> says it'll return \"The binary image data\" in a string. </p>\n\n<p>My questions for you:\nWhat type of data is this- (Base 64 encoded PNG? How do I tell?)</p>\n\n<p>But more importantly - What do I do with this? How do I save this as an image, or display it as an image with HTML?</p>\n\n<p>The image data is 1mm characters- here's a short sample of the beginning: </p>\n\n<pre><code>b'x16\\x00\\xe0}\\xc1\\x17\\xfb_U{R\\xd43uL\\xbf\\xe33\\xec3e(,\\xa7p\\x00\\xa2+\\x02   \\x9c\\x92\\xb6\\x0b\\x00\\x07\\xf9x\\xeaa\\xd5\\x99 i\\xab$\\xe2\\x92\\xa3Co\\xb9`\\xb9\\x1cd\\x911\\x01[\\x0c\\xd0\\x9c\\xaa\\x81\\x08Q|\\x13\\xe4\\xd9:c\\xa47\\xfe\\xca*q\\xf5\\xd4O\\xea\\x0fi\\x9c\\xcc\\xf8u\\x88\\x0b\\x16\\x11m?#F\\x9d\\x9a\\xe8}I&amp;\\xfe\\xb5]t\\xcf\\xf0\\x1f\\xeb\\xce\\x9d\\xa4iy^\\x8b\\xf7;2cde\\xac\\xd0\\xc9\\x12\\x7f&lt;I$)\\rI\\x90\\xe3j\\xc2!D\\xdbg\\xfe&amp;\\xf2:\"rl;)\\x98\\n\\x80\\x9e \\x1fS\\x8e\\x87\\xce\\xaa\\xe0\\x8a\\xc2\\x9b\\'\n</code></pre>\n"}, {"tags": ["python", "pandas", "duplicates"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 2, "creation_date": 1519255541, "post_id": 48917186, "comment_id": 84840887, "body": "Is this what you want? df.loc[df.Jan == df.Jan.shift(), &#39;Jan&#39;] = &#39;&#39;"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519255550, "post_id": 48917186, "comment_id": 84840890, "body": "&quot;then delete just the cell value&quot; but you have to leave something... <code>nan</code>?"}, {"owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1519255639, "post_id": 48917186, "comment_id": 84840914, "body": "@Vaishali it seems to be working....could you explain the logic..thanks"}, {"owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519255677, "post_id": 48917186, "comment_id": 84840924, "body": "@roganjosh na is okay"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1519255803, "post_id": 48917186, "comment_id": 84840963, "body": "For column Jan, you check if the value in current row(df.Jan) is same as value in previous row (df.Jan.shift()). If yes, change the value to empty string"}], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1519259142, "post_id": 48917534, "comment_id": 84841887, "body": "I think you meant <code>df.Jan.mask(df.Jan.eq(df.Jan.shift()), &#39;&#39;)</code>"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1519259619, "last_edit_date": 1519259619, "creation_date": 1519257707, "answer_id": 48917534, "question_id": 48917186, "link": "https://stackoverflow.com/questions/48917186/pandas-drop-duplicates-from-a-single-column-while-keeping-remaining-row-intact/48917534#48917534", "title": "pandas drop duplicates from a single column while keeping remaining row intact", "body": "<p>First, determine what consecutive values repeat, and then use <code>pd.Series.mask</code> to hide them. Thanks to piR for the improvement:</p>\n\n<pre><code>df.Jan.mask(df.Jan.eq(df.Jan.shift()), '')\n\n    0      try\n    1         \n    2    bbbbb\n    Name: Jan, dtype: object\n</code></pre>\n\n<p>You can assign this back to <code>df.Jan</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 7488685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aaa59df918f306e1fa7efc7e433c0bf?s=128&d=identicon&r=PG&f=1", "display_name": "Wojciech K", "link": "https://stackoverflow.com/users/7488685/wojciech-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1519258637, "creation_date": 1519258637, "answer_id": 48917658, "question_id": 48917186, "link": "https://stackoverflow.com/questions/48917186/pandas-drop-duplicates-from-a-single-column-while-keeping-remaining-row-intact/48917658#48917658", "title": "pandas drop duplicates from a single column while keeping remaining row intact", "body": "<p>To replace it with <code>np.nan</code> you can use the following</p>\n\n<pre><code>df.loc[df.Jan == df.Jan.shift(), \"Jan\"] = np.nan\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li><code>df.Jan.shift()</code> shifts the values in <code>Jan</code> cell by one up:</li>\n</ul>\n\n<p></p>\n\n<pre><code>0    NaN\n1    try\n2    try\nName: Jan, dtype: object\n</code></pre>\n\n<ul>\n<li><p><code>df.Jan == df.Jan.shift()</code> returns <code>True</code> for each row that has the same value in column <code>Jan</code> as in the previous row </p></li>\n<li><p><code>df.loc[df.Jan == df.Jan.shift(), \"Jan\"]</code> first index select rows to modify, second column <code>Jan</code></p></li>\n</ul>\n\n<hr>\n\n<p>If you'd want to remove the first row instead of second, then in <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.shift.html\" rel=\"nofollow noreferrer\">pandas.DataFrame.shift()</a> method you should specify <code>periods</code> value as -1.</p>\n"}], "owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 48917534, "answer_count": 2, "score": 1, "last_activity_date": 1519259619, "creation_date": 1519255417, "last_edit_date": 1519255549, "question_id": 48917186, "link": "https://stackoverflow.com/questions/48917186/pandas-drop-duplicates-from-a-single-column-while-keeping-remaining-row-intact", "title": "pandas drop duplicates from a single column while keeping remaining row intact", "body": "<p>I have a dataframe like below. I would like to remove duplicates from only one column while keeping the rest of the row intact. </p>\n\n<p>The logic that i want is -</p>\n\n<p>For the column <code>Jan</code>, start from the last row</p>\n\n<p>for the last cell, if the value in the second last row is same as the current value then delete just the cell value (don't delete row).</p>\n\n<p>and continue till you reach the first row</p>\n\n<pre><code>sales = [{'account': '3', 'Jan': 'try', 'Feb': '200 .jones', 'URL': 'ea2018-001.pdf try bbbbb why try'},\n             {'account': '1',  'Jan': 'try', 'Feb': '210', 'URL': 'try '},\n             {'account': '2',  'Jan': 'bbbbb',  'Feb': '90',  'URL': 'ea2017-104.pdf bb cc for why' }]\ndf = pd.DataFrame(sales)\ndf\n\ndf\nOut[105]: \n          Feb    Jan                               URL account\n0  200 .jones    try  ea2018-001.pdf try bbbbb why try       3\n1         210    try                              try        1\n2          90  bbbbb      ea2017-104.pdf bb cc for why       2\n</code></pre>\n\n<p>Output that i want is as below</p>\n\n<pre><code>          Feb    Jan                               URL account\n0  200 .jones    try  ea2018-001.pdf try bbbbb why try       3\n1         210                                      try        1\n2          90  bbbbb      ea2017-104.pdf bb cc for why       2\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1519255767, "creation_date": 1519255767, "answer_id": 48917241, "question_id": 48917141, "link": "https://stackoverflow.com/questions/48917141/create-pandas-dataframe-from-dictionary-with-list-tuple-or-dict-as-a-single-ent/48917241#48917241", "title": "Create Pandas DataFrame from dictionary with list, tuple or dict as a single entry value", "body": "<p>You cannot apply one transformation to lists/tuples and dictionaries. They have very different properties. You can flatten all dictionaries and then create a <code>pd.Series</code> out of the updated dictionary.</p>\n\n<pre><code>for key in data:\n    if isinstance(data[key],dict):\n        data[key] = list(data[key].keys())+list(data[key].values())\npd.Series(data)\n#w    [1, 3, 2, 4]\n#x               1\n#y       [1, 2, 3]\n#z       (4, 5, 6)\n#dtype: object\n</code></pre>\n\n<p>Convert it further into a DataFrame, if you want:</p>\n\n<pre><code>df = pd.DataFrame(pd.Series(data)).T\n#              w  x          y          z\n#0  [1, 3, 2, 4]  1  [1, 2, 3]  (4, 5, 6)\n</code></pre>\n\n<p>You can handle lists in the same spirit (convert them to tuples).</p>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1519256627, "last_edit_date": 1519256627, "creation_date": 1519256021, "answer_id": 48917274, "question_id": 48917141, "link": "https://stackoverflow.com/questions/48917141/create-pandas-dataframe-from-dictionary-with-list-tuple-or-dict-as-a-single-ent/48917274#48917274", "title": "Create Pandas DataFrame from dictionary with list, tuple or dict as a single entry value", "body": "<p>This is one way.</p>\n\n<pre><code>def transformer(data):\n    for k, v in data.items():\n        if isinstance(v, list):\n            data[k] = [tuple(v)]\n        elif isinstance(v, dict):\n            data[k] = [tuple(chain(*(v.items())))]\n        else:\n            data[k] = [v]\n    return data\n\ndf = pd.DataFrame(transformer(data), index=['a'])\n\n#               w  x          y          z\n# a  (1, 2, 3, 4)  1  (1, 2, 3)  (4, 5, 6)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1519259191, "creation_date": 1519259191, "answer_id": 48917732, "question_id": 48917141, "link": "https://stackoverflow.com/questions/48917141/create-pandas-dataframe-from-dictionary-with-list-tuple-or-dict-as-a-single-ent/48917732#48917732", "title": "Create Pandas DataFrame from dictionary with list, tuple or dict as a single entry value", "body": "<p>You can use set_value to assign those elements to the df and then transform dict and list to tuples.</p>\n\n<pre><code>df=pd.DataFrame(columns=data.keys())\n[df.set_value(0,k,v) for k,v in data.items()]\ndf = df.applymap(lambda x: sum([[k,v] for k,v in x.items()],[]) if isinstance(x,dict) else x)\ndf = df.applymap(lambda x: tuple(x) if isinstance(x,list) else x)\nOut[716]: \n   x          y          z             w\n0  1  (1, 2, 3)  (4, 5, 6)  (1, 2, 3, 4)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 8624538, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ed12631d92aa6e386fd69811b7c99b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Humi", "link": "https://stackoverflow.com/users/8624538/humi"}, "is_accepted": true, "score": 1, "last_activity_date": 1519272503, "creation_date": 1519272503, "answer_id": 48919516, "question_id": 48917141, "link": "https://stackoverflow.com/questions/48917141/create-pandas-dataframe-from-dictionary-with-list-tuple-or-dict-as-a-single-ent/48919516#48919516", "title": "Create Pandas DataFrame from dictionary with list, tuple or dict as a single entry value", "body": "<p>without going down the exact data structure, I think the easiest way to achieve what you want is:</p>\n\n<pre><code>      data={k:str(v) for k,v in data}\n</code></pre>\n\n<p>Above statement will make all values as string type. Now you can convert the data dictionary to a dataframe by using below line:</p>\n\n<pre><code>    df=pd.DataFrame(data, index=[0])\n</code></pre>\n\n<p>This will get you the output in below form:</p>\n\n<pre><code>           w        x          y          z\n    0 {1: 2, 3: 4}  1      [1, 2, 3]  (4, 5, 6)\n</code></pre>\n\n<p>Now  for your desired output: (you can use other efficent methods as well for string replacement in dataframe)</p>\n\n<pre><code>      for acol in df.columns:\n            a[acol]=a[acol].values[0].strip('[{()}]')\n            a[acol]=a[acol].values[0].replace(':', ',')\n</code></pre>\n\n<p>Output looks like</p>\n\n<pre><code>                 w         x        y          z\n\n            1, 2, 3, 4     1    1, 2, 3     4, 5, 6\n</code></pre>\n"}], "owner": {"reputation": 3991, "user_id": 291877, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fed330de1d82c824dce22767d56a5fb5?s=128&d=identicon&r=PG", "display_name": "Zhang18", "link": "https://stackoverflow.com/users/291877/zhang18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "accepted_answer_id": 48919516, "answer_count": 4, "score": 1, "last_activity_date": 1519272503, "creation_date": 1519255064, "question_id": 48917141, "link": "https://stackoverflow.com/questions/48917141/create-pandas-dataframe-from-dictionary-with-list-tuple-or-dict-as-a-single-ent", "title": "Create Pandas DataFrame from dictionary with list, tuple or dict as a single entry value", "body": "<p>I have a dictionary </p>\n\n<pre><code>data = { 'x' : 1,\n         'y' : [1,2,3],\n         'z' : (4,5,6),\n         'w' : {1:2, 3:4}\n       }\n</code></pre>\n\n<p>I'd like to construct a Pandas DataFrame such that the list and tuple do not get broadcasted:</p>\n\n<pre><code>df = pd.DataFrame(some_transformation(data), index=['a'])\n</code></pre>\n\n<p>to get </p>\n\n<pre><code>df = \n      x         y         z          w\na     1   (1,2,3)   (4,5,6)  (1,2,3,4)\n</code></pre>\n\n<p>Or some sort of flattening and/or string-fy of the list/tuple/dict. What is the easiest / most efficient way of doing so, without having to go down the exact data structure of each dictionary entry?</p>\n"}, {"tags": ["python", "python-2.7", "import", "python-import", "python-importlib"], "comments": [{"owner": {"reputation": 6021, "user_id": 3688648, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/migGL.jpg?s=128&g=1", "display_name": "Felk", "link": "https://stackoverflow.com/users/3688648/felk"}, "edited": false, "score": 0, "creation_date": 1519256262, "post_id": 48917140, "comment_id": 84841101, "body": "Have you tried it? Seems easy to verify that way"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519256293, "post_id": 48917140, "comment_id": 84841109, "body": "&quot;Still, normally when you import a module, a .pyc will be generated so other calls won&#39;t take as much time to execute (as they won&#39;t have to be compiled again).&quot; What do you mean? AFAIK, they bytecode is compiled into memory, <code>pyc</code> files are so you don&#39;t have to re-compile each time your run your program, so it will affect start-up time, but not runtime after that"}, {"owner": {"reputation": 3159, "user_id": 3680874, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/g0nsG.png?s=128&g=1", "display_name": "David Gourde", "link": "https://stackoverflow.com/users/3680874/david-gourde"}, "edited": false, "score": 0, "creation_date": 1519256549, "post_id": 48917140, "comment_id": 84841172, "body": "So having <code>importlib.import_module()</code> is ok (will not affect performance) even if that module is called often? So I could simply have it imported and used (as if already imported, the import will be skipped)?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1519256887, "post_id": 48917140, "comment_id": 84841269, "body": "According to the <a href=\"https://docs.python.org/3/library/importlib.html#importlib.__import__\" rel=\"nofollow noreferrer\">docs</a> 1) &quot;The __import__() function The import statement is syntactic sugar for this function.&quot; 2) &quot;The import_module() function acts as a simplifying wrapper around importlib.__import__(). This means all semantics of the function are derived from importlib.__import__().&quot;"}], "owner": {"reputation": 3159, "user_id": 3680874, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/g0nsG.png?s=128&g=1", "display_name": "David Gourde", "link": "https://stackoverflow.com/users/3680874/david-gourde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519255054, "creation_date": 1519255054, "question_id": 48917140, "link": "https://stackoverflow.com/questions/48917140/does-a-python-dynamic-import-of-module-generates-pyc", "title": "Does a python dynamic import of module generates .pyc?", "body": "<p>I would like to have dotted name strings that I can evaluate. Those dotted names could point to functions from new files the project do not know about (to quickly add a new functionality to the project without being part of the development team).</p>\n\n<p>Right now, I resolve and compile the dotted names using a library (pyramid) then I save the compiled function object somewhere to be able to use it later.</p>\n\n<p>I've seen that <code>importlib</code> let us import a module and it works perfectly fine, like so:</p>\n\n<pre><code>importlib.import_module('my_library')\n</code></pre>\n\n<p>Still, normally when you import a module, a <code>.pyc</code> will be generated so other calls won't take as much time to execute (as they won't have to be compiled again).</p>\n\n<p><strong>Do imports using <code>importlib</code> create <code>.pyc</code> files?</strong></p>\n\n<p>If not, would adding it to <code>locals()</code> change anything? (Adding it to <code>globals()</code> did not seem to work for me) Like so:</p>\n\n<pre><code>locals()['my_library'] = importlib.import_module('my_library')\n</code></pre>\n"}, {"tags": ["python", "csv", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7787399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70857b8ad8b230a9132977a2899cfe58?s=128&d=identicon&r=PG&f=1", "display_name": "Shane Heupel", "link": "https://stackoverflow.com/users/7787399/shane-heupel"}, "edited": false, "score": 0, "creation_date": 1519256944, "post_id": 48917273, "comment_id": 84841284, "body": "Works perfect.  Thank you."}], "tags": [], "owner": {"reputation": 122, "user_id": 3412226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdca9ab393836a6fb9bc0d05cfe4889f?s=128&d=identicon&r=PG&f=1", "display_name": "cmtm", "link": "https://stackoverflow.com/users/3412226/cmtm"}, "is_accepted": true, "score": 0, "last_activity_date": 1519256020, "creation_date": 1519256020, "answer_id": 48917273, "question_id": 48917135, "link": "https://stackoverflow.com/questions/48917135/writing-values-from-dictionary-to-csv-file/48917273#48917273", "title": "Writing values from dictionary to csv file", "body": "<p>You need to \"unpack\" the tuple so that you're adding the tuple's contents to the list instead of the tuple itself. You can use the unpack operator (*) to accomplish this.</p>\n\n<pre><code>csv_output.writerow(cols + [*d_csv2[cols[6]]])\n</code></pre>\n\n<p>Notice the added <code>*</code> before <code>d_csv2[cols[6]]</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 7787399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70857b8ad8b230a9132977a2899cfe58?s=128&d=identicon&r=PG&f=1", "display_name": "Shane Heupel", "link": "https://stackoverflow.com/users/7787399/shane-heupel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 48917273, "answer_count": 1, "score": 2, "last_activity_date": 1519256020, "creation_date": 1519255025, "question_id": 48917135, "link": "https://stackoverflow.com/questions/48917135/writing-values-from-dictionary-to-csv-file", "title": "Writing values from dictionary to csv file", "body": "<p>I have two csv files that I need to compare and write to a new output file.  I have this part working with one exception.  I converted the first csv file to a dictionary then compare a column from the second csv file to the dictionary key to look for a match.  The problem I'm having is my dictionary has a single key with multiple values.  When I write the values to the new csv file, I get the tuple in a single column but I need them to be in separate columns.</p>\n\n<p>My code is below.</p>\n\n<pre><code>d_csv2 = {}\n\nwith open('subscriber_info 02212018.csv', 'r') as f_csv2:\n    csv_2 = csv.reader(f_csv2)\n    for cols in csv_2:\n        d_csv2[cols[1]] = cols[0], cols[2]\n\n\nwith open('subscribersWithMultipleDevices.csv', 'r') as f_csv1, open('output.csv', 'w', newline='') as f_output:\n    csv_1 = csv.reader(f_csv1)\n    csv_output = csv.writer(f_output)\n    csv_output.writerow(['Customer', 'Email', 'First Name', 'Last Name', 'Serial Number', 'WAN MAC', 'IP ADD', 'Model',\n                        'Last Contact', 'Circuit ID', '\\n'])\n\n    for cols in csv_1:\n        try:\n            if cols[6] in d_csv2:\n                csv_output.writerow(cols + [d_csv2[cols[6]]])\n        except KeyError:\n            print('key error')\n</code></pre>\n"}, {"tags": ["python", "numpy", "matplotlib", "classification", "data-analysis"], "answers": [{"tags": [], "owner": {"reputation": 6899, "user_id": 6510497, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/3go0E.png?s=128&g=1", "display_name": "Aguy", "link": "https://stackoverflow.com/users/6510497/aguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1519277138, "last_edit_date": 1519277138, "creation_date": 1519276300, "answer_id": 48920064, "question_id": 48917122, "link": "https://stackoverflow.com/questions/48917122/how-to-plot-multiple-three-dimensional-surface-plots-with-matplotlib-in-the-same/48920064#48920064", "title": "How to plot multiple three-dimensional surface plots with matplotlib in the same plane", "body": "<p>You can play with alpha:</p>\n\n<pre><code>ax1.plot_surface(X, Y, Z1, rstride=3, cstride=3, linewidth=1,\nantialiased=True,cmap=cm.inferno, alpha = 0.5)\nax1.plot_surface(X, Y, Z2, rstride=3, cstride=3, linewidth=1,\nantialiased=True,cmap=cm.inferno, alpha = 1)\ncset = ax1.contourf(X, Y, Z1, zdir='z', offset=-0.15, cmap=cm.inferno, alpha=1)\ncset = ax1.contourf(X, Y, Z2, zdir='z', offset=-0.15, cmap=cm.inferno, alpha=0.5)\n</code></pre>\n\n<p>But in some cases you can get the same results by just summing your pdf's</p>\n\n<pre><code>ax1.plot_surface(X, Y, Z1 + Z2, rstride=3, cstride=3, linewidth=1, antialiased=True,cmap=cm.inferno)\ncset = ax1.contourf(X, Y, Z1 + Z2, zdir='z', offset=-0.15, cmap=cm.inferno)\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8155321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2cd7c57868cd5f1cf49895e34ca8e1?s=128&d=identicon&r=PG&f=1", "display_name": "Sibs", "link": "https://stackoverflow.com/users/8155321/sibs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1319, "favorite_count": 0, "accepted_answer_id": 48920064, "answer_count": 1, "score": 0, "last_activity_date": 1519277138, "creation_date": 1519254937, "last_edit_date": 1519262506, "question_id": 48917122, "link": "https://stackoverflow.com/questions/48917122/how-to-plot-multiple-three-dimensional-surface-plots-with-matplotlib-in-the-same", "title": "How to plot multiple three-dimensional surface plots with matplotlib in the same plane", "body": "<p>My goal is to plot the probability distribution functions (pdfs) of two classes. Each class has Gaussian likelihood and equivalent covariance matrices, but different mean vectors. I want both pdfs on the same plane in the z-axis, with the x and y axes containing the projections of the pdfs.\nThe following code (mostly borrowed from <a href=\"https://scipython.com/blog/visualizing-the-bivariate-gaussian-distribution/\" rel=\"nofollow noreferrer\">here</a>) plots one of the pdfs:</p>\n\n<pre><code># Our 2-dimensional distribution will be over variables X and Y\nN = 100\nX = np.linspace(-10, 15, N)\nY = np.linspace(-10, 15, N)\nX, Y = np.meshgrid(X, Y)\n\n# Mean vector and covariance matrix\nmu1 = np.array([8, 2])\nmu2 = np.array([2,8])\nSigma1 = Sigma2 = np.array([[4.1,0],[0,2.8]])\n\n\n# Pack X and Y into a single 3-dimensional array\npos = np.empty(X.shape + (2,))\npos[:, :, 0] = X\npos[:, :, 1] = Y\n\nF1 = multivariate_normal(mu1, Sigma1)\nF2 = multivariate_normal(mu2, Sigma2)\nZ1 = F1.pdf(pos)\nZ2 = F2.pdf(pos)\n# Create a surface plot and projected filled contour plot under it.\nfig1 = plt.figure(figsize=[10,10])\n\nax1 = fig1.gca(projection='3d')\n\nax1.plot_surface(X, Y, Z1, rstride=3, cstride=3, linewidth=1, \nantialiased=True,cmap=cm.inferno)\n\ncset = ax1.contourf(X, Y, Z1, zdir='z', offset=-0.15, cmap=cm.inferno)\n\n# Adjust the limits, ticks and view angle\nax1.set_zlim(-0.15,0.2)\nax1.set_zticks(np.linspace(0,0.2,5))\nax1.view_init(27, -21)\n\n\n plt.show()\n</code></pre>\n\n<p>This is the plot that results from the above code: <a href=\"https://i.stack.imgur.com/yxUkT.png\" rel=\"nofollow noreferrer\">plot_surfaces for plotting bivariate pdf</a>. However, I need to plot both Z1 and Z2 on the same plane. If I try creating two plots, they overlap and the Z2 pdf cannot be seen. Tweaking the code slightly, I get roughly what I want:</p>\n\n<pre><code>ax1 = fig1.gca(projection='3d')\nax2 = fig1.gca(projection='3d')\nax1.plot_wireframe(X, Y, Z1, rstride=3, cstride=3, linewidth=1, \nantialiased=True,cmap=cm.inferno)\n\nax2.plot_wireframe(X,Y,Z2,rstride=3, cstride=3, linewidth=1, \nantialiased=True,cmap=cm.inferno)\n</code></pre>\n\n<p>the resulting plot of which can be found here: <a href=\"https://i.stack.imgur.com/2Nehn.png\" rel=\"nofollow noreferrer\">wireframe method to plot 2 bivariate pdfs</a>. But these plots are still overlapping. How can I get around this issue? I want the result to be styled as the first plot, with the surface_plot method and projections on the x-y plane.</p>\n"}, {"tags": ["python", "string", "split"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1519254987, "post_id": 48917121, "comment_id": 84840680, "body": "Split by 2 spaces? - actually this is a suggestion. But I&#39;d split ti on one space anr rejoin items 1 and 2."}, {"owner": {"reputation": 49, "user_id": 7794841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d4ec67e7d33e2c6d943771a1fb8f22c7?s=128&d=identicon&r=PG&f=1", "display_name": "PCRevolt", "link": "https://stackoverflow.com/users/7794841/pcrevolt"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1519255010, "post_id": 48917121, "comment_id": 84840691, "body": "2 <i>or more</i> spaces"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1519255073, "post_id": 48917121, "comment_id": 84840715, "body": "Use regex; <code>re.split</code> on <code>r&#39;\\s{2,}&#39;</code> (two or more whitespace characters)."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1519255104, "post_id": 48917121, "comment_id": 84840728, "body": "What do you expect as a result?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1519255202, "post_id": 48917121, "comment_id": 84840766, "body": "<b>Recommended reading:</b> <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">Falsehoods Programmers Believe About Names</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1519255255, "post_id": 48917121, "comment_id": 84840786, "body": "also <a href=\"https://www.reddit.com/r/programming/comments/jzpo5/when_your_program_asks_for_a_first_name_or_last/\" rel=\"nofollow noreferrer\">reddit.com/r/programming/comments/jzpo5/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 7, "last_activity_date": 1519255077, "last_edit_date": 1519255077, "creation_date": 1519255034, "answer_id": 48917137, "question_id": 48917121, "link": "https://stackoverflow.com/questions/48917121/split-on-more-than-one-space/48917137#48917137", "title": "Split on more than one space?", "body": "<p>If you want to split by <em>any</em> whitespace, you can use <code>str.split</code>:</p>\n\n<pre><code>mystr.split()\n\n# ['IDNumber', 'Firstname', 'Lastname', 'GPA', 'Credits']\n</code></pre>\n\n<p>For <em>two or more</em> spaces:</p>\n\n<pre><code>list(filter(None, mystr.split('  ')))\n\n# ['IDNumber', 'Firstname Lastname', 'GPA', 'Credits']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 10, "last_activity_date": 1519255493, "last_edit_date": 1519255493, "creation_date": 1519255165, "answer_id": 48917156, "question_id": 48917121, "link": "https://stackoverflow.com/questions/48917121/split-on-more-than-one-space/48917156#48917156", "title": "Split on more than one space?", "body": "<p>Use regex to split on <em>two or more spaces</em>:</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r\" {2,}\", s)\n['IDNumber', 'Firstname Lastname', 'GPA', 'Credits']\n</code></pre>\n\n<p>If you want to split on two or more <em>white-space characters generally</em>, then use:</p>\n\n<pre><code>re.split(r\"\\s{2,}\", s)\n</code></pre>\n\n<p>e.g.:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"hello, world\\t\\tgoodbye cruel world\"\n&gt;&gt;&gt; print(s)\nhello, world        goodbye cruel world\n&gt;&gt;&gt; re.split(r\"\\s{2,}\", s)\n['hello, world', 'goodbye cruel world']\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7794841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d4ec67e7d33e2c6d943771a1fb8f22c7?s=128&d=identicon&r=PG&f=1", "display_name": "PCRevolt", "link": "https://stackoverflow.com/users/7794841/pcrevolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4783, "favorite_count": 0, "accepted_answer_id": 48917137, "answer_count": 2, "score": 3, "last_activity_date": 1566769836, "creation_date": 1519254933, "last_edit_date": 1566769836, "question_id": 48917121, "link": "https://stackoverflow.com/questions/48917121/split-on-more-than-one-space", "title": "Split on more than one space?", "body": "<p>I have a program that needs to split lines that are of the format:</p>\n\n<pre><code>IDNumber      Firstname Lastname    GPA      Credits\n</code></pre>\n\n<p>but I want to keep <code>Firstname</code> and <code>Lastname</code> in the same string.  </p>\n\n<p>Is there any easy way to do this (other than just splitting into five strings instead of four) and somehow have the split method only split when there is more than one space?</p>\n"}, {"tags": ["python", "mysql", "python-2.7", "fuse"], "owner": {"reputation": 681, "user_id": 2672227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/715307710/picture?type=large", "display_name": "Gemma Morriss", "link": "https://stackoverflow.com/users/2672227/gemma-morriss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1519254653, "creation_date": 1519254653, "question_id": 48917077, "link": "https://stackoverflow.com/questions/48917077/calling-mysql-stored-procedure-from-fuse-doesnt-work", "title": "Calling MySQL Stored Procedure from FUSE doesn&#39;t work", "body": "<p>I have a python class that inherits from fuse.Fuse that instantiates my MySQL wrapper (which has been separately unit tested and works).  </p>\n\n<p>I have implemented the fuse mkdir so that it calls a MySQL stored procedure to record the directories, the execution occurs and reports correctly but when I check the database nothing has occurred.</p>\n\n<pre><code>@logcall\ndef mkdir(self, path, mode):\n    resultsSet, msg = self.__dbConn.CallStoredProcedure('AddDirectory', (path,))\n    bklog.debug(\"AddDirectory param : {0}\".format(path))\n    bklog.debug(\"AddDirectory gave status of '{0}'\".format(resultsSet[0]['Status']))\n</code></pre>\n\n<p>I am correctly getting the 'Directory successfully added' status in the logger showing the stored procedure has been executed:</p>\n\n<pre><code>DEBUG:bk_logging:AddDirectory param : /trial04\nDEBUG:bk_logging:AddDirectory gave status of 'Directory successfully added'\nDEBUG:mkdir:Called: mkdir(*(&lt;FilesystemWrapper.FilesystemWrapper object at 0x10f479910&gt;, '/trial04', 16877), **{}) on FilesystemWrapper() -&gt; None\n</code></pre>\n\n<p>CallStoredProcedure() simply calls callproc() and it's value:</p>\n\n<pre><code>self.__mySQLCursor.callproc(procedureName, params)\nresultsSet = ResultsSet()\nresults = self.__mySQLCursor.stored_results()\n</code></pre>\n\n<p>The initial creation for the mySQL wrapper is in the fuse.Fuse class member function fsinit().  As I have said, the wrapper outside of fuse works and has been for a long while, do I need to set a specific option/parameter to get this to work please?</p>\n"}, {"tags": ["python", "unit-testing", "session", "flask", "mocking"], "comments": [{"owner": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1519255725, "post_id": 48917056, "comment_id": 84840941, "body": "this can be a silly question, but does purge know about sess object?"}], "answers": [{"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 0, "last_activity_date": 1519267490, "creation_date": 1519267490, "answer_id": 48918822, "question_id": 48917056, "link": "https://stackoverflow.com/questions/48917056/how-to-unit-test-removal-of-flask-session-attributes/48918822#48918822", "title": "How to unit test removal of Flask.session attributes", "body": "<p>Let modify your <code>flask_session.py</code> to show how to test</p>\n\n<pre><code>session = {}\n\n\ndef set_session(sess):\n    session = sess\n\n\ndef purge_first_name():\n    session.pop('first_name', None)\n</code></pre>\n\n<p>in your <code>test_flask_session.py</code></p>\n\n<pre><code>def test_purge_first_name_from_session(self):\n    with self.app.test_client() as c:\n            with c.session_transaction() as sess:\n                sess['first_name'] = 'Test'\n\n                with self.app.test_request_context():\n\n                    self.assertEqual(sess['first_name'], 'Test')\n                    # set the module session to be sess\n                    flask_session.set_session(sess)\n                    flask_session.purge_first_name()\n                    self.assertIsNone(flask_session.session.get('first_name', None))\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 6419873, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9507c10c04ff90b61b50a96b23067e9a?s=128&d=identicon&r=PG&f=1", "display_name": "pyguy", "link": "https://stackoverflow.com/users/6419873/pyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519267490, "creation_date": 1519254529, "last_edit_date": 1519254708, "question_id": 48917056, "link": "https://stackoverflow.com/questions/48917056/how-to-unit-test-removal-of-flask-session-attributes", "title": "How to unit test removal of Flask.session attributes", "body": "<p>I am trying to write a unit test to test a method inside my session module that purges an attribute called first_name from the session.</p>\n\n<pre><code>def purge_first_name():\n    session.pop('first_name', None)\n</code></pre>\n\n<p>Here is my unit test class. It is failing on <code>assertIsNone</code>.</p>\n\n<pre><code>class SessionTests(unittest.TestCase):\n\n    def setUp(self):\n        self.app = Flask(__name__)\n        self.app.config['SECRET_KEY'] = 'testsecret'\n\n    def test_purge_first_name_from_session(self):\n        with self.app.test_client() as c:\n                with c.session_transaction() as sess:\n                    sess['first_name'] = 'Test'\n\n                    with self.app.test_request_context():\n\n                        self.assertEqual(sess['first_name'], 'Test')\n\n                        purge_first_name()\n\n                        self.assertIsNone(sess['first_name'])\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "merge"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1519254675, "post_id": 48917052, "comment_id": 84840573, "body": "pd.concat is the way"}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 1, "creation_date": 1519264195, "post_id": 48917052, "comment_id": 84843144, "body": "you probably have different dtypes in your two indexes, e.g. year is a string in one and integer in the other"}, {"owner": {"reputation": 21, "user_id": 7281906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df0vo.jpg?s=128&g=1", "display_name": "aMlkv", "link": "https://stackoverflow.com/users/7281906/amlkv"}, "reply_to_user": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1519331267, "post_id": 48917052, "comment_id": 84879968, "body": "@root thank you, that was it. One index had years stored as int64 and the other as a string. I converted the strings to int64 and the merge operation worked! I should have thought about that."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7281906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df0vo.jpg?s=128&g=1", "display_name": "aMlkv", "link": "https://stackoverflow.com/users/7281906/amlkv"}, "edited": false, "score": 0, "creation_date": 1519331327, "post_id": 48917112, "comment_id": 84880003, "body": "Thank you jpp. As noted in the comments, the syntax I was using was correct, except the Year part of the MultiIndex was stored as a string for one, and as a int64 for the other dataframe. Converting to have both as int64 allowed the merge operation to work correctly."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1519254859, "creation_date": 1519254859, "answer_id": 48917112, "question_id": 48917052, "link": "https://stackoverflow.com/questions/48917052/multiindex-merge-returns-empty-df-but-join-should-be-valid/48917112#48917112", "title": "Multiindex Merge returns empty df but join should be valid", "body": "<p>Looks like you need an inner merge:</p>\n\n<pre><code>import pandas as pd\n\nmed = pd.DataFrame([['ITA', 1960, 88],    \n                    ['ITA', 1964, 50],\n                    ['ITA', 1968, 32],\n                    ['ITA', 1972, 25],\n                    ['ITA', 1976, 31]],\n                   columns=['Cty', 'Year', 'Medals'])\n\npop = pd.DataFrame([['ITA', 1960, 50199700],    \n                    ['ITA', 1961, 50536350],\n                    ['ITA', 1962, 50879450],\n                    ['ITA', 1963, 51252000],\n                    ['ITA', 1964, 51675350]],\n                   columns=['Cty', 'Year', 'Population'])\n\nmed = med.set_index(['Cty', 'Year'])\npop = pop.set_index(['Cty', 'Year'])\n\npd.merge(med, pop, how='inner', left_index=True, right_index=True)\n\n#           Medals  Population\n# Cty Year                    \n# ITA 1960      88    50199700\n#     1964      50    51675350\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7281906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df0vo.jpg?s=128&g=1", "display_name": "aMlkv", "link": "https://stackoverflow.com/users/7281906/amlkv"}, "edited": false, "score": 0, "creation_date": 1519331336, "post_id": 48917228, "comment_id": 84880008, "body": "Thank you Wen. As noted in the comments, the syntax I was using was correct, except the Year part of the MultiIndex was stored as a string for one, and as a int64 for the other dataframe. Converting to have both as int64 allowed the merge operation to work correctly."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1519255696, "creation_date": 1519255696, "answer_id": 48917228, "question_id": 48917052, "link": "https://stackoverflow.com/questions/48917052/multiindex-merge-returns-empty-df-but-join-should-be-valid/48917228#48917228", "title": "Multiindex Merge returns empty df but join should be valid", "body": "<p>Data from jpp</p>\n\n<pre><code>pd.concat([pop,med],1).dropna()\nOut[1496]: \n          Population  Medals\nCty Year                    \nITA 1960  50199700.0    88.0\n    1964  51675350.0    50.0\n</code></pre>\n\n<p>Or just set <code>inner</code> inside <code>concat</code></p>\n\n<pre><code>pd.concat([pop,med],axis=1, join='inner')\nOut[1497]: \n          Population  Medals\nCty Year                    \nITA 1960    50199700      88\n    1964    51675350      50\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7281906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df0vo.jpg?s=128&g=1", "display_name": "aMlkv", "link": "https://stackoverflow.com/users/7281906/amlkv"}, "is_accepted": false, "score": 1, "last_activity_date": 1519331435, "creation_date": 1519331435, "answer_id": 48936651, "question_id": 48917052, "link": "https://stackoverflow.com/questions/48917052/multiindex-merge-returns-empty-df-but-join-should-be-valid/48936651#48936651", "title": "Multiindex Merge returns empty df but join should be valid", "body": "<p>Turns out the issue wasn't with my syntax for merge or concat, but rather the fact that in the Multiindex one dataframe had the Year stored as str, the other as int64.</p>\n\n<p>I used the following code to make the str one into int64 and the merge operator worked as expected afterwards:</p>\n\n<pre><code>pop.index = pop.index.set_levels([pop.index.levels[0], pop.index.levels[1].astype(int)])\n</code></pre>\n\n<p>Only reason why I'm posting this as an answer to my own post is to evidence the comment where I thank root for the hint, in case other people have similar issues.</p>\n"}], "owner": {"reputation": 21, "user_id": 7281906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df0vo.jpg?s=128&g=1", "display_name": "aMlkv", "link": "https://stackoverflow.com/users/7281906/amlkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1519331435, "creation_date": 1519254510, "question_id": 48917052, "link": "https://stackoverflow.com/questions/48917052/multiindex-merge-returns-empty-df-but-join-should-be-valid", "title": "Multiindex Merge returns empty df but join should be valid", "body": "<p>I'm trying to join two dataframes which include, respectively, total olympic medals by country code and year and country population by country code and year. Each is a dataframe of one column with identical multiindex (country, population).</p>\n\n<p>The dataframes may not necessarily include the same Countries and Years, for example Olympic years are not as many as general years, and some country codes are missing from the population estimate dataset. A couple of extracts to illustrate the datastructure, for ITA and a bunch of years that partially overlap:</p>\n\n<p>med:</p>\n\n<pre><code>          Medals\nCty Year        \nITA 1960      88\n    1964      50\n    1968      32\n    1972      25\n    1976      31\n</code></pre>\n\n<p>pop:</p>\n\n<pre><code>          Population\nCty Year            \nITA 1960  50199700.0\n    1961  50536350.0\n    1962  50879450.0\n    1963  51252000.0\n    1964  51675350.0\n</code></pre>\n\n<p>When I use this command, I get an empty dataframe.</p>\n\n<pre><code>[In] df = pd.merge(med, pop, left_index=True, right_index=True)\n[In] df\n[Out] Empty DataFrame\nColumns: [Medals, Population]\nIndex: []\n</code></pre>\n\n<p>I've also tried by using reset_index on each dataframe and then passing this:</p>\n\n<pre><code>[In] df = pd.merge(med, pop, on=['Cty','Year'])\n[In] df\n[Out] Empty DataFrame\nColumns: [Cty, Year, Population, Medals]\nIndex: []\n</code></pre>\n\n<p>It seems to have created the dataframe with expected column names, but for some reason it's not managing to merge even the combination of Cty and Year indexes that exist in both (which would be my aim with this inner join).</p>\n\n<p>Based on the two subsets of data I've posted earlier on, an expected output should look like this:</p>\n\n<pre><code>          Medals  Population\nCty Year        \nITA 1960      88  50199700.0\n    1964      50  51675350.0\n</code></pre>\n\n<p>I've searched thoroughly this website and others and I can't wrap my head around it! Any help will be greatly appreciated!</p>\n"}, {"tags": ["python", "json", "api", "curl"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1519254513, "post_id": 48917035, "comment_id": 84840519, "body": "It means there was an error decoding the JSON because there was extra data the parser didn&#39;t know how to deal with. Presumably the API doesn&#39;t return a single valid JSON object, but you&#39;d have to look at what actually gets downloaded to determine that."}, {"owner": {"reputation": 341, "user_id": 2800865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4166c3049508ec9e5ae242e040ea1a?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/2800865/sam"}, "edited": false, "score": 1, "creation_date": 1519254806, "post_id": 48917035, "comment_id": 84840616, "body": "what is the output of the <code>os.popen(&#39; ... &#39;).read()</code> call? like Jon said, I suspect it&#39;s not JSON"}, {"owner": {"reputation": 347, "user_id": 8546104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d33f56c42c6594e69a0d6e8a83e5b91b?s=128&d=identicon&r=PG&f=1", "display_name": "codeDojo", "link": "https://stackoverflow.com/users/8546104/codedojo"}, "reply_to_user": {"reputation": 341, "user_id": 2800865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4166c3049508ec9e5ae242e040ea1a?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/2800865/sam"}, "edited": false, "score": 0, "creation_date": 1519256574, "post_id": 48917035, "comment_id": 84841178, "body": "Thanks everyone. @sam I added the output for os.popen(..).read()"}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 8546104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d33f56c42c6594e69a0d6e8a83e5b91b?s=128&d=identicon&r=PG&f=1", "display_name": "codeDojo", "link": "https://stackoverflow.com/users/8546104/codedojo"}, "edited": false, "score": 0, "creation_date": 1519260609, "post_id": 48917464, "comment_id": 84842270, "body": "Thank you so much. To my understanding I can use requests where I do not have to provide api key and other entries. Moreover, in the api docs mentioned use &#39;curl&#39; to get the results. But still i tried to use requests and the result is &lt;Response [404]&gt; which is not found. Appreciate your suggestions!"}, {"owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "reply_to_user": {"reputation": 347, "user_id": 8546104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d33f56c42c6594e69a0d6e8a83e5b91b?s=128&d=identicon&r=PG&f=1", "display_name": "codeDojo", "link": "https://stackoverflow.com/users/8546104/codedojo"}, "edited": false, "score": 0, "creation_date": 1519319588, "post_id": 48917464, "comment_id": 84873495, "body": "No worries, can you post your requests code sample (redacted of course)? Will try to help out."}, {"owner": {"reputation": 347, "user_id": 8546104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d33f56c42c6594e69a0d6e8a83e5b91b?s=128&d=identicon&r=PG&f=1", "display_name": "codeDojo", "link": "https://stackoverflow.com/users/8546104/codedojo"}, "edited": false, "score": 0, "creation_date": 1519414339, "post_id": 48917464, "comment_id": 84916654, "body": "Thanks man, that is appreciated! I added everything you may need."}], "tags": [], "owner": {"reputation": 1857, "user_id": 1366989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c67512f4b6b2137fa70111e66ceb76a?s=128&d=identicon&r=PG", "display_name": "MrName", "link": "https://stackoverflow.com/users/1366989/mrname"}, "is_accepted": false, "score": 1, "last_activity_date": 1519257259, "creation_date": 1519257259, "answer_id": 48917464, "question_id": 48917035, "link": "https://stackoverflow.com/questions/48917035/what-is-json-decoder-jsondecodeerror-expecting-value-line-1-column-1-char-0/48917464#48917464", "title": "What is json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)", "body": "<p>The curl command is malformed, and as such, you are getting the error <code>Could not resolve host: api_key=myKey</code> instead of valid JSON return data.</p>\n\n<p>However, (not to derail from your question), may I suggest that you use something like <code>requests</code> (or <code>urllib2</code> if you must use a standard python library) to send the HTTP request. Invoking curl the way that you are will produce unexpected results such as what you are dealing with right now.</p>\n\n<p>Furthermore, <code>requests</code> actually has a very handy <code>json()</code> method for response objects. This will make your code cleaner and easier to troubleshoot. Here is an example from the docs:</p>\n\n<p><a href=\"http://docs.python-requests.org/en/master/user/quickstart/#json-response-content\" rel=\"nofollow noreferrer\">http://docs.python-requests.org/en/master/user/quickstart/#json-response-content</a></p>\n"}], "owner": {"reputation": 347, "user_id": 8546104, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d33f56c42c6594e69a0d6e8a83e5b91b?s=128&d=identicon&r=PG&f=1", "display_name": "codeDojo", "link": "https://stackoverflow.com/users/8546104/codedojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519414299, "creation_date": 1519254397, "last_edit_date": 1519414299, "question_id": 48917035, "link": "https://stackoverflow.com/questions/48917035/what-is-json-decoder-jsondecodeerror-expecting-value-line-1-column-1-char-0", "title": "What is json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)", "body": "<p>I am requesting a face comparing API. Where you send 2 pictures and it return if they are the same person or not Here is the link:\n<a href=\"https://www.faceplusplus.com/face-comparing/#demo\" rel=\"nofollow noreferrer\">Face++ API</a></p>\n\n<p>In the documentation, they mentioned you can request it like this:</p>\n\n<pre><code>curl -X POST \"https://api-us.faceplusplus.com/facepp/v3/compare\" \\\n-F \"api_key=&lt;api_key&gt;\" \\\n-F \"api_secret=&lt;api_secret&gt;\" \\\n-F \"face_token1=c2fc0ad7c8da3af5a34b9c70ff764da0\" \\\n-F \"face_token2=ad248a809408b6320485ab4de13fe6a9\"\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>result = json.loads(os.popen('curl -X POST \"https://api-us.faceplusplus.com/facepp/v3/compare/api_key=myKey/api_secret=mySecret/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic33.jpg/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic39.jpg\"').read())\n</code></pre>\n\n<p>But when I run it, I am getting this:</p>\n\n<pre><code>% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\nTraceback (most recent call last):\n  File \"/Users/max/Desktop/Programming/Face/venv/face.py\", line 15, in &lt;module&gt;\n    result = json.loads(os.popen('curl -X POST \"https://api-us.faceplusplus.com/facepp/v3/compare/api_key=myKey/api_secret=mySecret/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic33.jpg/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic39.jpg\"').read())\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py\", line 354, in loads\n    return _default_decoder.decode(s)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py\", line 339, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py\", line 357, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n</code></pre>\n\n<p>I tried to do in another way, using requests:</p>\n\n<pre><code>result = requests.get( \"https://api-us.faceplusplus.com/facepp/v3/compare/api_key=myKey/api_secret=mySecret/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic33.jpg/https://us-mc-prod-asset.oss-us-west-1.aliyuncs.com/mc-official/scripts/demoScript/images/demo-pic39.jpg\")\n</code></pre>\n\n<p>But, I am getting this:</p>\n\n<pre><code>&lt;Response [404]&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "validation", "cerberus"], "comments": [{"owner": {"reputation": 2801, "user_id": 2489914, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/jJ44e.png?s=128&g=1", "display_name": "funky-future", "link": "https://stackoverflow.com/users/2489914/funky-future"}, "edited": false, "score": 0, "creation_date": 1519740826, "post_id": 48916970, "comment_id": 85025890, "body": "There&#39;s no type <code>object</code> in Cerberus and it would hardkly make sense. Is Oleg aware you&#39;re using his user account?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9377278"}, "edited": false, "score": 0, "creation_date": 1519258608, "post_id": 48917583, "comment_id": 84841739, "body": "Excellent, will try your solve, are you sure it works?"}, {"owner": {"reputation": 553, "user_id": 7295475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282dac8e010f66baa9dcc1c107193c0b?s=128&d=identicon&r=PG", "display_name": "Kyrylo", "link": "https://stackoverflow.com/users/7295475/kyrylo"}, "edited": false, "score": 0, "creation_date": 1519293895, "post_id": 48917583, "comment_id": 84855295, "body": "For me it works. I used <code>validate</code> method, so for different inputs it gave me different results. Try to change the type of any value in document variable ( let gender be <b>M</b> instead of <b>1</b> ) and the output of the validate function will be <code>False</code>, because gender should be integer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9377278"}, "edited": false, "score": 0, "creation_date": 1519319235, "post_id": 48917583, "comment_id": 84873286, "body": "Bu where object ` &#39;parameters&#39;: {}`?"}, {"owner": {"reputation": 553, "user_id": 7295475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282dac8e010f66baa9dcc1c107193c0b?s=128&d=identicon&r=PG", "display_name": "Kyrylo", "link": "https://stackoverflow.com/users/7295475/kyrylo"}, "edited": false, "score": 0, "creation_date": 1519319717, "post_id": 48917583, "comment_id": 84873584, "body": "@Amely I have solved it for the lower case. You can just add parameters values to the dictionary and it should work. I will try to do this as well in hour."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9377278"}, "edited": false, "score": 0, "creation_date": 1519321199, "post_id": 48917583, "comment_id": 84874498, "body": "Man I get an error: <code>is not a document, must be a dict&quot;</code>"}, {"owner": {"reputation": 553, "user_id": 7295475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282dac8e010f66baa9dcc1c107193c0b?s=128&d=identicon&r=PG", "display_name": "Kyrylo", "link": "https://stackoverflow.com/users/7295475/kyrylo"}, "edited": false, "score": 0, "creation_date": 1519321508, "post_id": 48917583, "comment_id": 84874653, "body": "I will update the solution with added parameters values."}, {"owner": {"reputation": 553, "user_id": 7295475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282dac8e010f66baa9dcc1c107193c0b?s=128&d=identicon&r=PG", "display_name": "Kyrylo", "link": "https://stackoverflow.com/users/7295475/kyrylo"}, "edited": false, "score": 0, "creation_date": 1519321635, "post_id": 48917583, "comment_id": 84874726, "body": "@Amely Check if you have the same output."}], "tags": [], "owner": {"reputation": 553, "user_id": 7295475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282dac8e010f66baa9dcc1c107193c0b?s=128&d=identicon&r=PG", "display_name": "Kyrylo", "link": "https://stackoverflow.com/users/7295475/kyrylo"}, "is_accepted": true, "score": 6, "last_activity_date": 1519321586, "last_edit_date": 1519321586, "creation_date": 1519258032, "answer_id": 48917583, "question_id": 48916970, "link": "https://stackoverflow.com/questions/48916970/how-to-validate-nested-objects-in-cerberus/48917583#48917583", "title": "How to validate nested objects in cerberus?", "body": "<p>You need to specify <code>type</code> as <code>dict</code>.</p>\n\n<p>The following should work:</p>\n\n<pre><code>from cerberus import Validator\n\nschema = {\n    'person': {\n        'type': 'dict',\n        'schema': {\n            'name': {'type': 'string', 'required': True, 'minlength': 2},\n            'gender': {'type': 'integer', 'required': True},\n            'weight': {'type': 'integer', 'required': True},\n            'age': {'type': 'integer', 'required': True, 'min': 5}\n        }\n    },\n    'parameters': {\n        'type': 'dict',\n        'schema':{\n            'ps': {'type': 'float', 'required': True},\n            'pp': {'type': 'float', 'required': True},\n            'ls': {'type': 'float', 'required': True},\n            'lp': {'type': 'float', 'required': True},\n            'ab': {'type': 'float', 'required': True}\n        },\n    }\n}\ndocument = {\n    'person':{\n        'name':'John',\n        'gender': 1,\n        'weight': 180,\n        'age': 27\n    }\n}\n\nv = Validator()\nv.schema = schema\nprint(v.schema)\nprint(v.validate(document, schema))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'person': {'type': 'dict', 'schema': {'name': {'type': 'string', 'required': True, 'minlength': 2}, 'gender': {'type': 'integer', 'required': True}, 'weight': {'type': 'integer', 'required': True}, 'age': {'type': 'integer', 'required': True, 'min': 5}}}, 'parameters': {'type': 'dict', 'schema': {'ps': {'type': 'float', 'required': True}, 'pp': {'type': 'float', 'required': True}, 'ls': {'type': 'float', 'required': True}, 'lp': {'type': 'float', 'required': True}, 'ab': {'type': 'float', 'required': True}}}}\nTrue\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9377278"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3880, "favorite_count": 1, "accepted_answer_id": 48917583, "answer_count": 1, "score": 4, "last_activity_date": 1544493101, "creation_date": 1519253970, "last_edit_date": 1544493101, "question_id": 48916970, "link": "https://stackoverflow.com/questions/48916970/how-to-validate-nested-objects-in-cerberus", "title": "How to validate nested objects in cerberus?", "body": "<p>I have the following schema:</p>\n\n<pre><code>schema = {\n    'person': {\n        'name': {'type': 'string', 'required': True, 'minlength': 2},\n        'gender': {'type': 'integer', 'required': True},\n        'weight': {'type': 'integer', 'required': True},\n        'age': {'type': 'integer', 'required': True, 'min': 5}\n    },\n    'parameters': {\n        'ps': {'type': 'float', 'required': True},\n        'pp': {'type': 'float', 'required': True},\n        'ls': {'type': 'float', 'required': True},\n        'lp': {'type': 'float', 'required': True},\n        'ab': {'type': 'float', 'required': True}\n    },\n    'indicators': {\n        'atmospheric_pressure': {'type': 'integer', 'required': True},\n        'puls': {'type': 'integer', 'required': True},\n        'respiration_rate': {'type': 'integer', 'required': True}\n    }\n}\n</code></pre>\n\n<p>When I run validation:</p>\n\n<pre><code>v = Validator(schema)\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"index.py\", line 53, in &lt;module&gt;\n    v = Validator(schema)\n  File \"C:\\Users\\Oleg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\cerberus\\validator.py\", line 143, in __init__\n    self.schema = kwargs.get('schema', None)\n  File \"C:\\Users\\Oleg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\cerberus\\validator.py\", line 472, in schema\n    self._schema = DefinitionSchema(self, schema)\n  File \"C:\\Users\\Oleg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\cerberus\\schema.py\", line 56, in __init__\n    self.validate(schema)\n  File \"C:\\Users\\Oleg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\cerberus\\schema.py\", line 181, in validate\n    self._validate(schema)\n  File \"C:\\Users\\Oleg\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\cerberus\\schema.py\", line 203, in _validate\n    raise SchemaError(self.schema_validator.errors)\ncerberus.schema.SchemaError: {'indicators': [{'atmospheric_pressure': ['unknown rule'], 'puls': ['unknown rule'], 'respiration_rate': ['unknown rule']}], 'parameters': [{'ab': ['unknown rule'], 'lp': ['unknown rule'], 'ls': ['unknown rule'], 'pp': ['unknown rule'], 'ps': ['unknown rule']}], 'person': [{'age': ['unknown rule'], 'gender': ['unknown rule'], 'name': ['unknown rule'], 'weight': ['unknown rule']}]}\n</code></pre>\n\n<p>Also i tried to specify type:</p>\n\n<pre><code>schema = {\n    'person': {\n        'type': 'object',\n        'schema': {\n            'name': {'type': 'string', 'required': True, 'minlength': 2},\n            'gender': {'type': 'integer', 'required': True},\n            'weight': {'type': 'integer', 'required': True},\n            'age': {'type': 'integer', 'required': True, 'min': 5}\n        }\n    },\n</code></pre>\n"}, {"tags": ["python", "pandas", "pandas-groupby", "multi-index", "sample-data"], "comments": [{"owner": {"reputation": 463, "user_id": 1810970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0bd2e423cc2c057e4f2bd0c1bbb8e36?s=128&d=identicon&r=PG", "display_name": "Keith Dowd", "link": "https://stackoverflow.com/users/1810970/keith-dowd"}, "edited": false, "score": 0, "creation_date": 1519264718, "post_id": 48916912, "comment_id": 84843258, "body": "HI friend. I don&#39;t fully follow your question. What do the columns <code>A</code>, <code>B</code>, and <code>C</code> refer to? What do the cell values (e.g., <code>a1</code>, <code>b2</code>, etc.) refer to? How do the columns and values relate to the sample dataset your shared in your question?"}, {"owner": {"reputation": 1547, "user_id": 1531637, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c20fe0c775af7924867bda25632c928b?s=128&d=identicon&r=PG", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1531637/plasma"}, "edited": false, "score": 0, "creation_date": 1519294899, "post_id": 48916912, "comment_id": 84855961, "body": "Please refrain from posting input data as an image. Provide a sample of your input data in your question (as text), and what you want your output data to look like (again, as text)."}], "answers": [{"tags": [], "owner": {"reputation": 1091, "user_id": 9497687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54b9d1d94a58d81bd43a7ae50b567d6?s=128&d=identicon&r=PG&f=1", "display_name": "jeschwar", "link": "https://stackoverflow.com/users/9497687/jeschwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1521734866, "creation_date": 1521734866, "answer_id": 49433390, "question_id": 48916912, "link": "https://stackoverflow.com/questions/48916912/how-to-make-a-sample-for-a-grouped-dataframe-in-pandas/49433390#49433390", "title": "how to make a sample for a grouped dataframe in pandas", "body": "<p>Assuming you have a <code>MultiIndex</code> then consider using <code>df.reindex()</code> as shown below:</p>\n\n<pre><code># your original dataframe\ndf = pd.read_json('{\"bikeid\": {\"0\":0,\"1\":0,\"2\":0,\"3\":1,\"4\":1,\"5\":2,\"6\":2,\"7\":3,\"8\":3},\"tripid\": {\"0\":1,\"1\":2,\"2\":3,\"3\":4,\"4\":5,\"5\":6,\"6\":7,\"7\":8,\"8\":9},\"A\":{\"0\":\"a1\",\"1\":\"a2\",\"2\":\"a3\",\"3\":\"a4\",\"4\":\"a5\",\"5\":\"a6\",\"6\":\"a7\",\"7\":\"a8\",\"8\":\"a9\"},\"B\":{\"0\":\"b1\",\"1\":\"b2\",\"2\":\"b3\",\"3\":\"b4\",\"4\":\"b5\",\"5\":\"b6\",\"6\":\"b7\",\"7\":\"b8\",\"8\":\"b9\"},\"C\":{\"0\":\"c1\",\"1\":\"c2\",\"2\":\"c3\",\"3\":\"c4\",\"4\":\"c5\",\"5\":\"c6\",\"6\":\"c7\",\"7\":\"c8\",\"8\":\"c9\"}}')\n\ndf.set_index(['bikeid', 'tripid'], inplace=True)\n\n# df looks like the following\n                A   B   C\nbikeid tripid            \n0      1       a1  b1  c1\n       2       a2  b2  c2\n       3       a3  b3  c3\n1      4       a4  b4  c4\n       5       a5  b5  c5\n2      6       a6  b6  c6\n       7       a7  b7  c7\n3      8       a8  b8  c8\n       9       a9  b9  c9\n\n# define the labels you want to get out of your indexing operation\nindex_labels = np.arange(0, 100, 3)\n\n# do the indexing\ndf.reindex(index_labels, level='bikeid')\n\n# returns the following\n                A   B   C\nbikeid tripid            \n0      1       a1  b1  c1\n       2       a2  b2  c2\n       3       a3  b3  c3\n3      8       a8  b8  c8\n       9       a9  b9  c9\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9393027, "user_type": "registered", "profile_image": "https://graph.facebook.com/1640894055972979/picture?type=large", "display_name": "Vincent Cui", "link": "https://stackoverflow.com/users/9393027/vincent-cui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521734866, "creation_date": 1519253677, "last_edit_date": 1519334708, "question_id": 48916912, "link": "https://stackoverflow.com/questions/48916912/how-to-make-a-sample-for-a-grouped-dataframe-in-pandas", "title": "how to make a sample for a grouped dataframe in pandas", "body": "<p>my question is to make a sample for a grouped dataframe in pandas. I just grouped a dataset using pd.groupby, and the grouped dataset is like this, each bikeid has several trips:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> bikeid  tripid     A     B     C\r\n    0     1       a1    b1    c1\r\n          2       a2    b2    c2\r\n          3       a3    b3    c3\r\n    1     4       a4    b4    c4\r\n          5       a5    b5    c5\r\n    2     6      ..............\r\n          7      ..............\r\n    3     8      ..............\r\n          9      ..............</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What I want to do is just build a sample pick up one bikeid from every 3 bikeids. Should be like:</p>\n\n<pre><code>bikeid  tripid  A     B     C\n0        1     a1    b1    c1\n         2     a2    b2    c2\n         3     a3    b3    c3\n3        8     a8    b8    c8\n         9     a9    b9    c9\n6        ..............\n         ..............\n9\n...\n</code></pre>\n\n<p>However I tried to use <code>grouped_new = grouped.sample(frac=0.3)</code>\nit comes out a sample based on each single trip but not base on bikeid.</p>\n\n<p>Can anyone help me out with this? Thank you so much!!!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1519327607, "post_id": 48916789, "comment_id": 84877973, "body": "What should happen after the user pressed the associated answer button for the question? Do you want to highlight the selected answer or somehow give feedback to the user to confirm which answer they selected? would the answer get saved in the app somewhere before moving on to the next question? This seems very doable, but not sure how you want to do it. any further details would be helpful."}, {"owner": {"reputation": 11, "user_id": 9393491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IpBAgsISjc0/AAAAAAAAAAI/AAAAAAAAAHc/NUl8sf-VuZI/photo.jpg?sz=128", "display_name": "SapphireMan", "link": "https://stackoverflow.com/users/9393491/sapphireman"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1519684794, "post_id": 48916789, "comment_id": 85001947, "body": "davedwards, I want it to displayh the correct answer and move on to the next question"}], "owner": {"reputation": 11, "user_id": 9393491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IpBAgsISjc0/AAAAAAAAAAI/AAAAAAAAAHc/NUl8sf-VuZI/photo.jpg?sz=128", "display_name": "SapphireMan", "link": "https://stackoverflow.com/users/9393491/sapphireman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1519253156, "creation_date": 1519253020, "last_edit_date": 1519253156, "question_id": 48916789, "link": "https://stackoverflow.com/questions/48916789/how-do-i-link-buttons-to-a-text-box-in-qtgui", "title": "How do I link buttons to a text box in QtGui?", "body": "<p>I am making a multiple choice quiz. I have made the buttons and a text box with the questions and a text box with the possible answers. How would I connect the buttons to the answer as to move on to the next question?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from PySide import QtCore, QtGui\n\nclass  Ui_MainWindow(object):\n\n\n       def setupUi(self, MainWindow):\n        MainWindow.setObjectName(\"MainWindow\")\n        MainWindow.resize(400, 300)\n\n        self.centralWidget = QtGui.QWidget(MainWindow)\n        self.centralWidget.setObjectName(\"centralWidget\")\n\n        MainWindow.setCentralWidget(self.centralWidget)\n\n        #Text Display Window\n        self.textDisp = QtGui.QTextEdit(self.centralWidget)\n        self.textDisp.setGeometry(QtCore.QRect(10, 10, 381, 71))\n        self.textDisp.setReadOnly(True)\n        self.textDisp.setObjectName(\"textDisp\")\n        self.textDisp.append('Question 1:')\n        self.textDisp.append('What is ... ?')\n\n        self.horizontalLayoutWidget = QtGui.QWidget(self.centralWidget)\n        self.horizontalLayoutWidget.setGeometry(QtCore.QRect(10, 90, 171, 80))\n        self.horizontalLayoutWidget.setObjectName(\"horizontalLayoutWidget\")\n\n        self.horizontalLayoutWidget = QtGui.QHBoxLayout(self.horizontalLayoutWidget)\n        self.horizontalLayoutWidget.setContentsMargins(0, 0, 0, 0)\n        self.horizontalLayoutWidget.setObjectName(\"horizontalLayout\")\n\n        self.textDisp2 = QtGui.QTextEdit(self.centralWidget)\n        self.textDisp2.setGeometry(QtCore.QRect(10, 100, 381, 71))\n        self.textDisp2.setReadOnly(True)\n        self.textDisp2.setObjectName(\"textDisp2\")\n        self.textDisp2.append('A: ...')\n        self.textDisp2.append('B: ...')\n        self.textDisp2.append('C: ...')\n        self.textDisp2.append('D: ...')\n\n        self.horizontalLayoutWidget = QtGui.QWidget(self.centralWidget)\n        self.horizontalLayoutWidget.setGeometry(QtCore.QRect(10, 90, 171, 80))\n        self.horizontalLayoutWidget.setObjectName(\"horizontalLayoutWidget\")\n\n        self.horizontalLayoutWidget = QtGui.QHBoxLayout(self.horizontalLayoutWidget)\n        self.horizontalLayoutWidget.setContentsMargins(0, 0, 0, 0)\n        self.horizontalLayoutWidget.setObjectName(\"horizontalLayout\")\n##\n##        self.verticalLayoutWidget = QtGui.QWidget(self.centralWidget)\n##        self.verticalLayoutWidget.setGeometry(QtCore.QRect(10, 90, 171, 80))\n##        self.verticalLayoutWidget.setObjectName(\"verticalLayoutWidget\")\n##\n##        self.verticalLayoutWidget = QtGui.QHBoxLayout(self.verticalLayoutWidget)\n##        self.verticalLayoutWidget.setContentsMargins(0, 0, 0, 0)\n##        self.verticalLayoutWidget.setObjectName(\"verticalLayout\")\n\n##        #Label for Answer 1\n##        self.ans1 = QtGui.QLabel()\n##        self.ans1.setObjectName(\"answer1\")\n##        self.horizontalLayoutWidget.addWidget(self.ans1)\n##\n##        #Input for Answer 1\n##        self.ans1Input = QtGui.QLineEdit()\n##        self.ans1Input.setObjectName(\"answer1Input\")\n##        self.horizontalLayoutWidget.addWidget(self.ans1Input)\n\n        self.horizontalLayoutWidget_2 = QtGui.QWidget(self.centralWidget)\n        self.horizontalLayoutWidget_2.setGeometry(QtCore.QRect(219, 90, 171, 80))\n        self.horizontalLayoutWidget_2.setObjectName(\"horizontalLayoutWidget_2\")\n        self.horizontalLayoutWidget_2 = QtGui.QHBoxLayout(self.horizontalLayoutWidget_2)\n        self.horizontalLayoutWidget_2.setContentsMargins(0, 0, 0, 0)\n        self.horizontalLayoutWidget_2.setObjectName(\"horizontalLayout_2\")\n\n##        #Label for Answer 2\n##        self.answer2 = QtGui.QLabel()\n##        self.answer2.setObjectName(\"number2\")\n##        self.horizontalLayoutWidget_2.addWidget(self.answer2)\n##\n##        #Input for Answer 2\n##        self.ans2Input = QtGui.QLineEdit()\n##        self.ans2Input.setObjectName(\"numb2Input\")\n##        self.horizontalLayoutWidget_2.addWidget(self.ans2Input)\n\n        self.gridLayoutWidget = QtGui.QWidget(self.centralWidget)\n        self.gridLayoutWidget.setGeometry(QtCore.QRect(9, 180, 381, 80))\n        self.gridLayoutWidget.setObjectName(\"gridLayoutWidget\")\n        self.gridLayout = QtGui.QGridLayout(self.gridLayoutWidget)\n        self.gridLayout.setContentsMargins(0, 0, 0, 0)\n        self.gridLayout.setObjectName(\"gridLayout\")\n\n        #Button for Option A\n        self.abtn = QtGui.QPushButton(self.gridLayoutWidget)\n        self.abtn.setObjectName(\"abtn\")\n        self.gridLayout.addWidget(self.abtn, 0, 0, 1, 1)\n        self.abtn.setText(\"A\")\n\n##        self.abtn.clicked.connect(self.)\n\n        #Button for Option B\n        self.bbtn = QtGui.QPushButton(self.gridLayoutWidget)\n        self.bbtn.setObjectName(\"bbtn\")\n        self.gridLayout.addWidget(self.bbtn, 1, 0, 1, 1)\n        self.bbtn.setText(\"B\")\n\n##        self.bbtn.clicked.connect(self.)\n\n        #Button for Option C\n        self.cbtn = QtGui.QPushButton(self.gridLayoutWidget)\n        self.cbtn.setObjectName(\"cbtn\")\n        self.gridLayout.addWidget(self.cbtn, 0, 1, 1, 1)\n        self.cbtn.setText(\"C\")\n\n##        self.cbtn.clicked.connect(self.)\n\n        #Button for Option D\n        self.dbtn = QtGui.QPushButton(self.gridLayoutWidget)\n        self.dbtn.setObjectName(\"dbtn\")\n        self.gridLayout.addWidget(self.dbtn, 1, 1, 1, 1)\n        self.dbtn.setText(\"D\")\n\n##        self.dbtn.clicked.connect(self.)\n\n\n\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtGui.QApplication(sys.argv)\n    MainWindow = QtGui.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(MainWindow)\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1633, "user_id": 8791722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98WuV.png?s=128&g=1", "display_name": "PixelEinstein", "link": "https://stackoverflow.com/users/8791722/pixeleinstein"}, "edited": false, "score": 0, "creation_date": 1519263795, "post_id": 48916783, "comment_id": 84843054, "body": "Usually the <code>timeout</code> occurs when you are trying to navigate to a page and the page does not respond within the allowed time. Please share your <b>code</b> and the <b>HTML</b> or <b>URL</b> of the page you are scraping so someone can answer with confidence. I am a little confused as to what you are trying to achieve when this <code>timeout</code> occurs."}, {"owner": {"reputation": 161, "user_id": 5100454, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b2a197173e5c02ad90a9dec19d6930d0?s=128&d=identicon&r=PG&f=1", "display_name": "Neue1987", "link": "https://stackoverflow.com/users/5100454/neue1987"}, "reply_to_user": {"reputation": 1633, "user_id": 8791722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98WuV.png?s=128&g=1", "display_name": "PixelEinstein", "link": "https://stackoverflow.com/users/8791722/pixeleinstein"}, "edited": false, "score": 0, "creation_date": 1519277904, "post_id": 48916783, "comment_id": 84846987, "body": "I&#39;m guessing that <code>driver.set_page_load_timeout(121)</code> is the way to do it."}, {"owner": {"reputation": 325, "user_id": 1016905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6fb8eff68e7f4be986ab71ea3935e83?s=128&d=identicon&r=PG", "display_name": "Aphid", "link": "https://stackoverflow.com/users/1016905/aphid"}, "edited": false, "score": 0, "creation_date": 1519419263, "post_id": 48916783, "comment_id": 84918950, "body": "Does this require JS calls, or can you just grab what you want via HTTP requests? If so, they will save you ungodly amounts of time."}], "answers": [{"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 2, "last_activity_date": 1558954736, "last_edit_date": 1558954736, "creation_date": 1519280435, "answer_id": 48920865, "question_id": 48916783, "link": "https://stackoverflow.com/questions/48916783/python-selenium-chromedriver-timeoutexception/48920865#48920865", "title": "python/selenium/chromedriver TimeoutException", "body": "<p>This error message...</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 127, in &lt;module&gt;\nFile \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 323, in get self.execute(Command.GET, {'url': url})\n.\nselenium.common.exceptions.TimeoutException: Message: timeout\n(Session info: chrome=63.0.3239.84)\n(Driver info: chromedriver=2.33.506092 \n(733a02544d189eeb751fe0d7ddca79a0ee28cce4),platform=Linux 4.10.0-40-generic x86_64)\n</code></pre>\n\n<p>...implies that the <em>webdriver</em> instance cannot establish a connection with the <strong>site</strong> <code>url</code> and <em>timeout</em> occurs.</p>\n\n<p>Your main issue is the <strong>version compatibility</strong> between the binaries you are using as follows :</p>\n\n<ul>\n<li>You are using <strong>ChromeDriver v2.33</strong></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.33/notes.txt\" rel=\"nofollow noreferrer\"><strong>ChromeDriver v2.33</strong></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p><strong>Supports Chrome v60-62</strong></p>\n</blockquote>\n\n<ul>\n<li>You are using <strong>chrome=63.0</strong></li>\n<li><strong>Selenium Version</strong> is unknown to us.</li>\n</ul>\n\n<p>So there is a clear mismatch between the <strong>ChromeDriver v2.33</strong> and the <strong>Chrome Browser v63.0</strong> you are using. Hence <strong>ChromeDriver</strong> is unable to spawn the new <em>Chrome Browser</em> process.</p>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Update <em>ChromeDriver</em> to recent  <strong>v2.35</strong> level.</li>\n<li>Upgrade <em>Chrome</em> to  stable <strong>Chrome v64.x</strong> levels. (<a href=\"https://chromedriver.storage.googleapis.com/2.35/notes.txt\" rel=\"nofollow noreferrer\">as per ChromeDriver v2.35 release notes</a>)</li>\n<li>Upgrade <em>Selenium</em> to  current levels <strong>Version 3.9.1</strong>.</li>\n<li><em>Clean</em> and <em>Re-Build</em> your project through your <em>IDE</em>.</li>\n<li>Clear the <em>Browser Cache</em>.</li>\n<li>Run <a href=\"http://www.piriform.com/ccleaner\" rel=\"nofollow noreferrer\">CCleaner</a> tool to wipe off all the OS chores before and after execution of your <em>Test Suite</em>.</li>\n<li>If your <em>Web Browser</em> base version is too old, uninstall the <em>Web Browser</em> through <a href=\"https://www.revouninstaller.com/revo_uninstaller_free_download.html\" rel=\"nofollow noreferrer\">Revo Uninstaller</a> with <em>Moderate Scan</em> and install a recent <strong>GA Released</strong> version of the <em>Web Browser</em>.</li>\n<li>Execute your <em>Tests</em>.</li>\n</ul>\n"}], "owner": {"reputation": 161, "user_id": 5100454, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b2a197173e5c02ad90a9dec19d6930d0?s=128&d=identicon&r=PG&f=1", "display_name": "Neue1987", "link": "https://stackoverflow.com/users/5100454/neue1987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2068, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558954736, "creation_date": 1519252981, "last_edit_date": 1519279443, "question_id": 48916783, "link": "https://stackoverflow.com/questions/48916783/python-selenium-chromedriver-timeoutexception", "title": "python/selenium/chromedriver TimeoutException", "body": "<p>I'm in the process of scraping pdfs from a website using selenium and chrome webdriver. I use the following, pulling the <code>site</code> from a list:</p>\n\n<pre><code>driver.get(site) \nsource = driver.page_source\n...\n...\ndriver.quit()\n</code></pre>\n\n<p>But I keep getting the following error, about 6,000 observations down my <code>site</code> list:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 127, in &lt;module&gt;\nFile \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 323, in get self.execute(Command.GET, {'url': url})\nFile \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 311, in execute self.error_handler.check_response(response)\nFile \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/errorhandler.py\", line 237, in check_response raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.TimeoutException: Message: timeout\n(Session info: chrome=63.0.3239.84)\n(Driver info: chromedriver=2.33.506092 \n(733a02544d189eeb751fe0d7ddca79a0ee28cce4),platform=Linux 4.10.0-40-generic x86_64)\n</code></pre>\n\n<p>I've tried refreshing the source page at shorter intervals (every 200 searches, but should I go shorter?).</p>\n\n<p>How do I extend selenium's 120sec timeout limit?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1519253836, "post_id": 48916759, "comment_id": 84840271, "body": "You have to keep a reference to the image somewhere for as long as the widget displaying it exists, perhaps as an attribute of that widget - <code>panel.photo = thermostat</code> for example.  With only a local variable referencing the image, it will be garbage-collected as soon as that variable goes out of scope (Python cannot tell that Tk is still using the image)."}], "answers": [{"tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": true, "score": 0, "last_activity_date": 1519292268, "creation_date": 1519292268, "answer_id": 48923969, "question_id": 48916759, "link": "https://stackoverflow.com/questions/48916759/looping-through-images-in-tkinter/48923969#48923969", "title": "Looping through images in tkinter", "body": "<p>Replace:</p>\n\n<pre><code>...\nthermostat = ImageTk.PhotoImage(...)\npanel.configure(image = thermostat)\n...\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>...\npanel.img = ImageTk.PhotoImage(...)\npanel.configure(image = panel.img)\n...\n</code></pre>\n\n<p>In order to keep the reference of the image object wherever <code>panel</code> exists, thus have a consistent image display like suggested in the comment <a href=\"https://stackoverflow.com/questions/48916759/looping-through-images-in-tkinter#comment84840271_48916759\">here</a>.</p>\n"}], "owner": {"reputation": 113, "user_id": 7238559, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fd639a30f08a5db20e2e956e428eb20b?s=128&d=identicon&r=PG&f=1", "display_name": "daveyjones", "link": "https://stackoverflow.com/users/7238559/daveyjones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 48923969, "answer_count": 1, "score": 0, "last_activity_date": 1519292268, "creation_date": 1519252872, "question_id": 48916759, "link": "https://stackoverflow.com/questions/48916759/looping-through-images-in-tkinter", "title": "Looping through images in tkinter", "body": "<p>I have a small tkinter GUI, which just contains an image of a thermostat. I have an image for each temperature to make a little animation of the temperature increasing. I have got this working to the point where it loops through all the images succesfully, however after the last image is displayed it just disappears. Here is my code so far</p>\n\n<pre><code>#!/usr/bin/python3\n\n\nimport tkinter as tk\nfrom PIL import ImageTk, Image\nimport time\n\nroot = tk.Tk()\nroot.geometry(\"1280x720\")\nroot.configure(background='white')\n\ndef loopTemp(maxTemp):\n    for x in range(0, maxTemp + 1):\n        if x &lt; 22:\n            thermostat = ImageTk.PhotoImage(Image.open(\"thermo_\"+str(x)+\".png\"))\n            panel.configure(image = thermostat)\n\n        panel.configure(text = str(x))      \n\n        root.update_idletasks()\n        time.sleep(0.07)\n\nlight = ImageTk.PhotoImage(Image.open(\"light-on.png\"))\nthermostat = ImageTk.PhotoImage(Image.open(\"thermo_0.png\"))\n\n\nB = tk.Button(root, text =\"Start\", command= lambda: loopTemp(21))\n\npanel = tk.Label(root, image = thermostat, text=\"0\", compound=tk.CENTER, font=(\"Helvetica\", 60), fg=\"white\")\n\npanel.configure(background='white')\n\nB.pack()\npanel.pack(side=tk.LEFT, fill = \"both\", expand = \"yes\")\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "for-loop", "while-loop", "scrapy"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1519253102, "post_id": 48916745, "comment_id": 84840014, "body": "<code>self.offset += 50</code> is outside of the class, as is <code>new_request....</code>, as is <code>def parse()</code>. This will behave as though everything is hard-coded. The class ends after <code>offset = 0</code>; indentation is important..."}, {"owner": {"reputation": 435, "user_id": 7892695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10211022544973172/picture?type=large", "display_name": "Keenan Burke-Pitts", "link": "https://stackoverflow.com/users/7892695/keenan-burke-pitts"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519253282, "post_id": 48916745, "comment_id": 84840079, "body": "yeah..sorry about that, indentations got messed up when I pasted to stackoverflow. they are fixed now."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519253411, "post_id": 48916745, "comment_id": 84840128, "body": "Mmm ok, then it looks like you&#39;re missing some kind of loop to make the <code>offset</code> increment more than once. But I can&#39;t see why you&#39;re using a class for this at all (it&#39;s introducing more difficulties and no benefit as-is). EDIT: I forgot about <code>scrapy.Spider</code> so I guess you have to, but something looks very wrong with this approach to subclassing."}, {"owner": {"reputation": 1850, "user_id": 552621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c20d79c6ba506fbed052ef164ffa225?s=128&d=identicon&r=PG", "display_name": "Nour Wolf", "link": "https://stackoverflow.com/users/552621/nour-wolf"}, "edited": false, "score": 0, "creation_date": 1519253787, "post_id": 48916745, "comment_id": 84840253, "body": "the execution is terminated here <code>new_request.url</code> because <code>new_request</code> is a string. Therefore, you are not reaching the point where you yield the new request."}, {"owner": {"reputation": 1850, "user_id": 552621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c20d79c6ba506fbed052ef164ffa225?s=128&d=identicon&r=PG", "display_name": "Nour Wolf", "link": "https://stackoverflow.com/users/552621/nour-wolf"}, "edited": false, "score": 0, "creation_date": 1519253846, "post_id": 48916745, "comment_id": 84840278, "body": "try removing <code>.url</code> from the print statement and see how it goes."}, {"owner": {"reputation": 435, "user_id": 7892695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10211022544973172/picture?type=large", "display_name": "Keenan Burke-Pitts", "link": "https://stackoverflow.com/users/7892695/keenan-burke-pitts"}, "edited": false, "score": 0, "creation_date": 1519254425, "post_id": 48916745, "comment_id": 84840487, "body": "thanks.  I made that adjustment but it appears to still be just scraping the first url over and over.."}], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 7892695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10211022544973172/picture?type=large", "display_name": "Keenan Burke-Pitts", "link": "https://stackoverflow.com/users/7892695/keenan-burke-pitts"}, "edited": false, "score": 0, "creation_date": 1519403024, "post_id": 48917431, "comment_id": 84910987, "body": "Thanks.  I adjusted my code and found a solution yesterday but this was a helpful solution as well."}], "tags": [], "owner": {"reputation": 1850, "user_id": 552621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c20d79c6ba506fbed052ef164ffa225?s=128&d=identicon&r=PG", "display_name": "Nour Wolf", "link": "https://stackoverflow.com/users/552621/nour-wolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1519257025, "creation_date": 1519257025, "answer_id": 48917431, "question_id": 48916745, "link": "https://stackoverflow.com/questions/48916745/unexpected-behavior-when-scraping-pages-with-scrapy/48917431#48917431", "title": "Unexpected Behavior When Scraping Pages with Scrapy", "body": "<p>Try running this code. I have only cleaned it a bit.</p>\n\n<pre><code>import json\nimport re\n\nimport scrapy\n\n\nclass LetgoSpider(scrapy.Spider):\n    name = 'letgo'\n    allowed_domains = ['letgo.com/en', 'search-products-pwa.letgo.com']\n    search_url = 'https://search-products-pwa.letgo.com/api/products' \\\n                 '?country_code=US' \\\n                 '&amp;offset={offset}' \\\n                 '&amp;quadkey=0320030123201' \\\n                 '&amp;num_results={num_results}' \\\n                 '&amp;distance_radius=50' \\\n                 '&amp;distance_type=mi'\n    offset = 0\n    num_results = 5\n    max_pages = 3\n    start_urls = [\n        search_url.format(offset=offset, num_results=num_results)\n    ]\n    custom_settings = {\n        'USER_AGENT': 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1',\n        'LOG_LEVEL': 'INFO',\n    }\n\n    def parse(self, response):\n        data = json.loads(response.text)\n        for used_item in data:\n            try:\n                title = used_item['name'] or used_item['image_information']\n                id_number = used_item['id']\n                price = used_item['price']\n                description = used_item['description']\n                date = used_item['updated_at']\n                images = [img['url'] for img in used_item['images']]\n                latitude = used_item['geo']['lat']\n                longitude = used_item['geo']['lng']\n                link = 'https://us.letgo.com/en/i/' + re.sub(r'\\W+', '-', title) + '_' + id_number\n                location = used_item['geo']['city']\n            except KeyError:\n                pass\n            else:\n                item = {\n                    'Title': title,\n                    'Url': link,\n                    'Price': price,\n                    'Description': description,\n                    'Date': date,\n                    'Images': images,\n                    'Latitude': latitude,\n                    'Longitude': longitude,\n                    'Location': location,\n                }\n                print(item)\n                yield item\n\n        self.offset += self.num_results\n        if self.offset &gt; self.num_results * self.max_pages:\n            return\n\n        next_page_url = self.search_url.format(offset=self.offset, num_results=self.num_results)\n        yield scrapy.Request(url=next_page_url, callback=self.parse)\n</code></pre>\n\n<p>Here are the logs when running it</p>\n\n<pre><code>/Volumes/Dev/miniconda3/envs/scm/bin/python -m scrapy runspider sc.py\n2018-02-22 00:46:23 [scrapy.utils.log] INFO: Scrapy 1.5.0 started (bot: scrapybot)\n2018-02-22 00:46:23 [scrapy.utils.log] INFO: Versions: lxml 4.1.1.0, libxml2 2.9.7, cssselect 1.0.3, parsel 1.4.0, w3lib 1.19.0, Twisted 17.9.0, Python 3.6.2 |Continuum Analytics, Inc.| (default, Jul 20 2017, 13:14:59) - [GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)], pyOpenSSL 17.5.0 (OpenSSL 1.1.0g  2 Nov 2017), cryptography 2.1.4, Platform Darwin-17.4.0-x86_64-i386-64bit\n2018-02-22 00:46:23 [scrapy.crawler] INFO: Overridden settings: {'LOG_LEVEL': 'INFO', 'SPIDER_LOADER_WARN_ONLY': True, 'USER_AGENT': 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1'}\n2018-02-22 00:46:23 [scrapy.middleware] INFO: Enabled extensions:\n['scrapy.extensions.corestats.CoreStats',\n 'scrapy.extensions.telnet.TelnetConsole',\n 'scrapy.extensions.memusage.MemoryUsage',\n 'scrapy.extensions.logstats.LogStats']\n2018-02-22 00:46:23 [scrapy.middleware] INFO: Enabled downloader middlewares:\n['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',\n 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',\n 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',\n 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',\n 'scrapy.downloadermiddlewares.retry.RetryMiddleware',\n 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',\n 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',\n 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',\n 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',\n 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',\n 'scrapy.downloadermiddlewares.stats.DownloaderStats']\n2018-02-22 00:46:23 [scrapy.middleware] INFO: Enabled spider middlewares:\n['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',\n 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',\n 'scrapy.spidermiddlewares.referer.RefererMiddleware',\n 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',\n 'scrapy.spidermiddlewares.depth.DepthMiddleware']\n2018-02-22 00:46:23 [scrapy.middleware] INFO: Enabled item pipelines:\n[]\n2018-02-22 00:46:23 [scrapy.core.engine] INFO: Spider opened\n2018-02-22 00:46:23 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n{'Title': '54 Inch Light Bar', 'Url': 'https://us.letgo.com/en/i/54-Inch-Light-Bar_fbe7f2b2-29b4-4a39-a1c6-77e8fde56ab5', 'Price': 80, 'Description': '54 Inch Light Bar...New never been installed...Call or Text  [TL_HIDDEN] ', 'Date': '2018-02-21T23:38:46+00:00', 'Images': ['https://img.letgo.com/images/72/94/6c/90/72946c90a739a4710ca709af1e87ffca.jpeg'], 'Latitude': 35.5362217, 'Longitude': -82.8092321, 'Location': 'Canton'}\n{'Title': 'Jr Tour Golf Clubs', 'Url': 'https://us.letgo.com/en/i/Jr-Tour-Golf-Clubs_40324f63-3b18-401a-bdad-900d58fa9be1', 'Price': 40, 'Description': 'Right handed golf clubs ', 'Date': '2018-02-21T23:38:20+00:00', 'Images': ['https://img.letgo.com/images/33/8a/cf/6f/338acf6fc7959626683fbe857480e9a9.jpeg', 'https://img.letgo.com/images/60/7d/37/b1/607d37b1281fce2b48a045398d49ff4c.jpeg', 'https://img.letgo.com/images/ae/de/60/b1/aede60b1260124bfdbacbc7a9aaf25c8.jpeg', 'https://img.letgo.com/images/f0/3e/2c/03/f03e2c031e1976986e25f9f12b1ddd20.jpeg'], 'Latitude': 35.657392629984, 'Longitude': -82.705151547089, 'Location': 'Leicester'}\n{'Title': 'Glass vase', 'Url': 'https://us.letgo.com/en/i/Glass-vase_ebaad5f6-afc0-42cb-99b2-aae9ce0cec31', 'Price': 80, 'Description': '', 'Date': '2018-02-21T23:37:20+00:00', 'Images': ['https://img.letgo.com/images/97/fa/68/82/97fa6882b38be80a6084ffa605a94fae.jpeg', 'https://img.letgo.com/images/68/35/a5/d6/6835a5d65f8443abe12e1afa69eb75cd.jpeg'], 'Latitude': 35.580766432121, 'Longitude': -82.622580964386, 'Location': 'Asheville'}\n{'Title': \"women's pink and black polka-dot long-sleeved top\", 'Url': 'https://us.letgo.com/en/i/women-s-pink-and-black-polka-dot-long-sleeved-top_d33d05a3-a362-487d-af3c-10f70c1edc54', 'Price': 2, 'Description': '18 months ', 'Date': '2018-02-21T23:37:01+00:00', 'Images': ['https://img.letgo.com/images/87/e4/44/21/87e44421d0bae79bce09424b39ad9bd8.jpeg'], 'Latitude': 35.5135800231, 'Longitude': -82.68708409485, 'Location': 'Candler'}\n{'Title': 'yellow and black DeWalt power tool kit set', 'Url': 'https://us.letgo.com/en/i/yellow-and-black-DeWalt-power-tool-kit-set_45a070fc-8d45-479d-8453-0d52e899423a', 'Price': 115, 'Description': '110-115. I have a bag to fit it all for a I total of 130', 'Date': '2018-02-21T23:36:12+00:00', 'Images': ['https://img.letgo.com/images/bc/2f/69/71/bc2f6971e2891e9bb80205ba03d6c209.jpeg', 'https://img.letgo.com/images/0d/4c/0c/f2/0d4c0cf2536c29320fdd7fffa05cb242.jpeg', 'https://img.letgo.com/images/53/0e/97/78/530e9778c5e5266eaad92afa6ccb0405.jpeg', 'https://img.letgo.com/images/58/93/62/05/58936205711631e148bd5a17cf5d8d14.jpeg'], 'Latitude': 35.580774319984, 'Longitude': -82.62263189396, 'Location': 'Asheville'}\n{'Title': \"girl's gray and white Calvin Klein sweater\", 'Url': 'https://us.letgo.com/en/i/girl-s-gray-and-white-Calvin-Klein-sweater_2ee6a5dd-bec7-4a0b-a575-38ceacebc193', 'Price': 3, 'Description': '12 months ', 'Date': '2018-02-21T23:36:11+00:00', 'Images': ['https://img.letgo.com/images/19/a4/83/0d/19a4830dc0fcc598218ba2ad49566dcf.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': \"toddler's blue, pink, and white floral embellished denim bib overalls\", 'Url': 'https://us.letgo.com/en/i/toddler-s-blue-pink-and-white-floral-embellished-denim-bib-overalls_6551c032-0de2-4b25-b4d6-29e39860d0cc', 'Price': 5, 'Description': '18 months ', 'Date': '2018-02-21T23:35:38+00:00', 'Images': ['https://img.letgo.com/images/2d/d3/84/3a/2dd3843a82031d3c88f96822d5dbff3c.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': 'red and black dog print pajama set', 'Url': 'https://us.letgo.com/en/i/red-and-black-dog-print-pajama-set_8020d458-b135-4d3e-a057-bb559a85156a', 'Price': 5, 'Description': '18 months ', 'Date': '2018-02-21T23:35:10+00:00', 'Images': ['https://img.letgo.com/images/14/ee/c5/c3/14eec5c3b94337050766c5dd4932b2cb.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': 'black, pink, and green floral dress', 'Url': 'https://us.letgo.com/en/i/black-pink-and-green-floral-dress_ea495806-20ff-4ee8-accb-d29e437f93af', 'Price': 3, 'Description': '12-18 months ', 'Date': '2018-02-21T23:34:45+00:00', 'Images': ['https://img.letgo.com/images/22/6f/7b/28/226f7b28e93213c9de571da0d58c1483.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': \"girl's black and white Minnie Mouse polka-dot crew-neck dress\", 'Url': 'https://us.letgo.com/en/i/girl-s-black-and-white-Minnie-Mouse-polka-dot-crew-neck-dress_c3affc21-ab01-434c-9252-327c77b0f014', 'Price': 4, 'Description': '12 months ', 'Date': '2018-02-21T23:34:10+00:00', 'Images': ['https://img.letgo.com/images/d8/56/92/51/d85692518e3d3e7b7dcb9200688c9ba4.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': \"girl's purple and pink floral spaghetti strap dress\", 'Url': 'https://us.letgo.com/en/i/girl-s-purple-and-pink-floral-spaghetti-strap-dress_cada630f-b600-4e6a-be38-9d4f2c9d9407', 'Price': 4, 'Description': '6-12 months ', 'Date': '2018-02-21T23:33:41+00:00', 'Images': ['https://img.letgo.com/images/a9/b2/3c/c1/a9b23cc1dc6de8c5443a163da54b5424.jpeg'], 'Latitude': 35.513783889312, 'Longitude': -82.686794813796, 'Location': 'Candler'}\n{'Title': 'copper coil pendant necklace', 'Url': 'https://us.letgo.com/en/i/copper-coil-pendant-necklace_6e56e1f9-986c-4da6-ada0-71bf3a4ea077', 'Price': 65, 'Description': None, 'Date': '2018-02-21T23:33:21+00:00', 'Images': ['https://img.letgo.com/images/56/a5/c6/d0/56a5c6d063879645bdefa40c45a85e4a.jpeg'], 'Latitude': 35.569333, 'Longitude': -82.580862, 'Location': 'Asheville'}\n{'Title': 'black and green corded hammer drill', 'Url': 'https://us.letgo.com/en/i/black-and-green-corded-hammer-drill_d6dccdce-99d1-4cbc-be01-31761ecae0e7', 'Price': 499.95, 'Description': None, 'Date': '2018-02-21T23:32:46+00:00', 'Images': ['https://img.letgo.com/images/69/df/c8/9f/69dfc89f00f514ab630646678c5f02fc.jpeg'], 'Latitude': 35.5861382, 'Longitude': -82.5974746, 'Location': 'Asheville'}\n{'Title': 'Ihip Bluetooth headphones', 'Url': 'https://us.letgo.com/en/i/Ihip-Bluetooth-headphones_77493587-2400-425b-ab8d-802dec641abf', 'Price': 25, 'Description': 'Their brand new and work great none of that having to plug them into your phone they see completely wireless hust turn on your Bluetooth and listen to music or talk on the phone with the built in speaker and volume control!!\\nMeet at Marshall ingles... \\nFor more great stuff visit... \\n', 'Date': '2018-02-21T23:30:55+00:00', 'Images': ['https://img.letgo.com/images/3d/c1/a8/93/3dc1a8936b2fded2017ef8c93ba31c9a.jpeg'], 'Latitude': 35.820196, 'Longitude': -82.629765, 'Location': 'Marshall'}\n{'Title': 'Lot of 2 Pampers size 6', 'Url': 'https://us.letgo.com/en/i/Lot-of-2-Pampers-size-6_a29dcee0-ec88-4a56-8832-b14a2c300ddf', 'Price': 40, 'Description': None, 'Date': '2018-02-21T23:31:32+00:00', 'Images': ['https://img.letgo.com/images/37/31/39/02/37313902874a116c6acdcb1b1ff3a710.jpeg'], 'Latitude': 35.597118, 'Longitude': -82.516648, 'Location': 'Asheville'}\n{'Title': 'Vintage candy dish', 'Url': 'https://us.letgo.com/en/i/Vintage-candy-dish_1321bf48-500b-4fcd-9704-e1466e04a51b', 'Price': 20, 'Description': 'Amber tiara pedestal candy dish. Perfect condition.', 'Date': '2018-02-21T23:29:46+00:00', 'Images': ['https://img.letgo.com/images/1c/00/13/03/1c00130383113f1e20cc1d0306b0e452.jpeg'], 'Latitude': 35.4645648, 'Longitude': -83.0014414, 'Location': 'Waynesville'}\n{'Title': 'Blue and White Suzuki 400, yr 2005', 'Url': 'https://us.letgo.com/en/i/Blue-and-White-Suzuki-400-yr-2005_62dadb29-ec18-4a5d-baa7-378ce7796822', 'Price': 3700, 'Description': None, 'Date': '2018-02-21T23:29:12+00:00', 'Images': ['https://img.letgo.com/images/aa/71/34/27/aa713427b1e8af67f276febb5f1ae17a.jpeg'], 'Latitude': 35.4671172, 'Longitude': -83.0026703, 'Location': 'Waynesville'}\n{'Title': 'Handmade Hemp Bracelets &amp; Key chains', 'Url': 'https://us.letgo.com/en/i/Handmade-Hemp-Bracelets-Key-chains_d374e086-729c-4240-8e99-2699c3275ec3', 'Price': 6, 'Description': None, 'Date': '2018-02-21T23:27:42+00:00', 'Images': ['https://img.letgo.com/images/0d/32/ea/27/0d32ea2715095357e9cda3cda6598415.jpeg'], 'Latitude': 35.4833764, 'Longitude': -82.4578764, 'Location': 'Fletcher'}\n{'Title': 'Handmade Hemp Necklaces', 'Url': 'https://us.letgo.com/en/i/Handmade-Hemp-Necklaces_d3c22d76-4d4d-43f7-a613-ef4d5a4e53bd', 'Price': 8, 'Description': None, 'Date': '2018-02-21T23:25:58+00:00', 'Images': ['https://img.letgo.com/images/b6/e0/8d/0a/b6e08d0a79f57215f5fc5417451fbd04.jpeg'], 'Latitude': 35.4833764, 'Longitude': -82.4578764, 'Location': 'Fletcher'}\n{'Title': 'Luvs and Huggies disposable diaper packs', 'Url': 'https://us.letgo.com/en/i/Luvs-and-Huggies-disposable-diaper-packs_75204ed1-ed11-484e-81e6-cc923b923292', 'Price': 13, 'Description': None, 'Date': '2018-02-21T23:23:55+00:00', 'Images': ['https://img.letgo.com/images/3a/ce/16/a1/3ace16a18b398de6e0c8d4b56d1fa8c9.jpeg'], 'Latitude': 35.597118, 'Longitude': -82.516648, 'Location': 'Asheville'}\n2018-02-22 00:46:24 [scrapy.core.engine] INFO: Closing spider (finished)\n2018-02-22 00:46:24 [scrapy.statscollectors] INFO: Dumping Scrapy stats:\n{'downloader/request_bytes': 1977,\n 'downloader/request_count': 4,\n 'downloader/request_method_count/GET': 4,\n 'downloader/response_bytes': 7625,\n 'downloader/response_count': 4,\n 'downloader/response_status_count/200': 4,\n 'finish_reason': 'finished',\n 'finish_time': datetime.datetime(2018, 2, 21, 23, 46, 24, 468717),\n 'item_scraped_count': 20,\n 'log_count/INFO': 7,\n 'memusage/max': 50208768,\n 'memusage/startup': 50208768,\n 'request_depth_max': 3,\n 'response_received_count': 4,\n 'scheduler/dequeued': 4,\n 'scheduler/dequeued/memory': 4,\n 'scheduler/enqueued': 4,\n 'scheduler/enqueued/memory': 4,\n 'start_time': datetime.datetime(2018, 2, 21, 23, 46, 23, 770175)}\n2018-02-22 00:46:24 [scrapy.core.engine] INFO: Spider closed (finished)\n\nProcess finished with exit code 0\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 7892695, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10211022544973172/picture?type=large", "display_name": "Keenan Burke-Pitts", "link": "https://stackoverflow.com/users/7892695/keenan-burke-pitts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519257025, "creation_date": 1519252784, "last_edit_date": 1519256640, "question_id": 48916745, "link": "https://stackoverflow.com/questions/48916745/unexpected-behavior-when-scraping-pages-with-scrapy", "title": "Unexpected Behavior When Scraping Pages with Scrapy", "body": "<p>I am struggling to get my code to extract out data from each json object of the current request call and then once it goes through each json object, move on to the next request for the next batch of json objects.  It appears that my script just scrapes the first request call over and over.  Can someone assist me what I'm missing in my for loop and/or while loop?  Thanks in advance!!</p>\n\n<pre><code>import scrapy\nimport json\nimport requests\nimport re\nfrom time import sleep\nimport sys\n\nclass LetgoSpider(scrapy.Spider):\n    name = 'letgo'\n    allowed_domains = ['letgo.com/en', 'search-products-pwa.letgo.com']\n    start_urls = ['https://search-products-pwa.letgo.com/api/products?country_code=US&amp;offset=0&amp;quadkey=0320030123201&amp;num_results=50&amp;distance_radius=50&amp;distance_type=mi']\n    offset = 0\n\n    def parse(self, response):\n      data = json.loads(response.text)\n      if len(data) == 0:\n        sys.exit()\n      else:\n        for used_item in data:\n              try:\n                  if used_item['name'] == None:\n                      title = used_item['image_information']\n                  else:\n                      title = used_item['name']\n                  id_number = used_item['id']\n                  price = used_item['price']\n                  description = used_item['description']\n                  date = used_item['updated_at']\n                  images = [img['url'] for img in used_item['images']]\n                  latitude = used_item['geo']['lat']\n                  longitude = used_item['geo']['lng']\n                  link = 'https://us.letgo.com/en/i/' + re.sub(r'\\W+', '-', title) + '_' + id_number\n                  location = used_item['geo']['city']\n              except:\n                  pass\n\n              yield {'Title': title,\n                      'Url': link,\n                      'Price': price,\n                      'Description': description,\n                      'Date': date,\n                      'Images': images,\n                      'Latitude': latitude,\n                      'Longitude': longitude,\n                      'Location': location,\n                      }    \n\n      self.offset += 50\n      new_request = 'https://search-products-pwa.letgo.com/api/products?country_code=US&amp;offset=' + str(self.offset) + \\\n                      '&amp;quadkey=0320030123201&amp;num_results=50&amp;distance_radius=50&amp;distance_type=mi'\n      print('new request is: ' + new_request)\n      sleep(1)\n      yield scrapy.Request(new_request, callback=self.parse)\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-3.x", "numpy", "replace"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519252256, "post_id": 48916582, "comment_id": 84839702, "body": "Can you elaborate on exactly what &quot;Now I want to replace idx_1 rows and columns of A by B&quot; would look like? Like, the actual output of that step"}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1519252833, "post_id": 48916582, "comment_id": 84839913, "body": "<code>A[[idx_1] * 4, [idx_1] * 4] = B</code>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1519252932, "post_id": 48916582, "comment_id": 84839953, "body": "You can&#39;t use a cascaded indexing because the first creates a copy.  You have to use one indexing expression, <code>A[...] = B</code>, indexing on both rows and columns at the same time."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1519260239, "last_edit_date": 1519260239, "creation_date": 1519253848, "answer_id": 48916942, "question_id": 48916582, "link": "https://stackoverflow.com/questions/48916582/replacing-part-of-numpy-2d-array-using-list-in-both-rows-and-columns/48916942#48916942", "title": "Replacing part of Numpy 2D Array using list in both rows and columns", "body": "<pre><code>In [99]: A = np.identity(10).astype(int)\nIn [100]: A\nOut[100]: \narray([[1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n       [0, 0, 0, 1, 0, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0, 1, 0, 0, 0],\n       [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],\n       [0, 0, 0, 0, 0, 0, 0, 0, 1, 0],\n       [0, 0, 0, 0, 0, 0, 0, 0, 0, 1]])\nIn [101]: idx_1 = [1, 2, 4, 7]\n</code></pre>\n\n<p>I can select a set of diagonal values with:</p>\n\n<pre><code>In [102]: A[idx_1, idx_1]\nOut[102]: array([1, 1, 1, 1])\nIn [103]: A[idx_1, idx_1] = [10,20,30,40]\nIn [104]: A\nOut[104]: \narray([[ 1,  0,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0, 10,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0,  0, 20,  0,  0,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  1,  0,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  0, 30,  0,  0,  0,  0,  0],\n       [ 0,  0,  0,  0,  0,  1,  0,  0,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  1,  0,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  0, 40,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  0,  0,  1,  0],\n       [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  1]])\n</code></pre>\n\n<p>But it looks like you want to replace a (4,4) block of values.  We have to  construct a pair on indices that together <code>broadcast</code> to the shape, that is (4,1) array with a (1,4) array.</p>\n\n<pre><code>In [105]: np.ix_(idx_1, idx_1)\nOut[105]: \n(array([[1],\n        [2],\n        [4],\n        [7]]), array([[1, 2, 4, 7]]))\n\nIn [106]: A[np.ix_(idx_1, idx_1)]\nOut[106]: \narray([[10,  0,  0,  0],\n       [ 0, 20,  0,  0],\n       [ 0,  0, 30,  0],\n       [ 0,  0,  0, 40]])\nIn [107]: A[np.ix_(idx_1, idx_1)] += 1\nIn [108]: A\nOut[108]: \narray([[ 1,  0,  0,  0,  0,  0,  0,  0,  0,  0],\n       [ 0, 11,  1,  0,  1,  0,  0,  1,  0,  0],\n       [ 0,  1, 21,  0,  1,  0,  0,  1,  0,  0],\n       [ 0,  0,  0,  1,  0,  0,  0,  0,  0,  0],\n       [ 0,  1,  1,  0, 31,  0,  0,  1,  0,  0],\n       [ 0,  0,  0,  0,  0,  1,  0,  0,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  1,  0,  0,  0],\n       [ 0,  1,  1,  0,  1,  0,  0, 41,  0,  0],\n       [ 0,  0,  0,  0,  0,  0,  0,  0,  1,  0],\n       [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  1]])\n</code></pre>\n\n<p>The equivalent indexing with nested lists is:</p>\n\n<pre><code>In [109]: A[[[1],[2],[4],[7]],[[1,2,4,7]]]\nOut[109]: \narray([[11,  1,  1,  1],\n       [ 1, 21,  1,  1],\n       [ 1,  1, 31,  1],\n       [ 1,  1,  1, 41]])\n</code></pre>\n\n<hr>\n\n<p>Regarding your indexing attempt:</p>\n\n<pre><code>In [110]: A[idx_1]   # A[idx_1,:]\nOut[110]: \narray([[ 0, 11,  1,  0,  1,  0,  0,  1,  0,  0],\n       [ 0,  1, 21,  0,  1,  0,  0,  1,  0,  0],\n       [ 0,  1,  1,  0, 31,  0,  0,  1,  0,  0],\n       [ 0,  1,  1,  0,  1,  0,  0, 41,  0,  0]])\nIn [111]: A[idx_1][:,idx_1]\nOut[111]: \narray([[11,  1,  1,  1],\n       [ 1, 21,  1,  1],\n       [ 1,  1, 31,  1],\n       [ 1,  1,  1, 41]])\n</code></pre>\n\n<p><code>In[111]</code> is evaluated in 2 steps; first rows are selected, and then columns.  </p>\n\n<p>In</p>\n\n<pre><code>A[idx_1][:,idx_1] = B\n</code></pre>\n\n<p>the values of <code>B</code> will replace columns in <code>Out[110]</code>.  But that's a copy of values from <code>A</code>, not a <code>view</code>.  So a good grasp of the difference between view and copy, and between basic and advanced indexing is important when working with <code>numpy</code>.</p>\n"}], "owner": {"reputation": 3499, "user_id": 1987629, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-vvDcPxiTqEY/AAAAAAAAAAI/AAAAAAAADE0/Gq3LhZzPdak/photo.jpg?sz=128", "display_name": "TheRimalaya", "link": "https://stackoverflow.com/users/1987629/therimalaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 48916942, "answer_count": 1, "score": -2, "last_activity_date": 1519260239, "creation_date": 1519252015, "last_edit_date": 1519253227, "question_id": 48916582, "link": "https://stackoverflow.com/questions/48916582/replacing-part-of-numpy-2d-array-using-list-in-both-rows-and-columns", "title": "Replacing part of Numpy 2D Array using list in both rows and columns", "body": "<p>Let's import <code>numpy</code> first,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n</code></pre>\n\n<p>For example, I have a matrix A as,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>A = np.identity(10)\n</code></pre>\n\n<p>I have two other matrices as,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>B = np.random.sample((4, 4))\nC = np.random.sample((6, 6))\n</code></pre>\n\n<p>In addition, I have two lists of indices as,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>idx_1 = [1, 2, 4, 7]\nidx_2 = [0, 3, 5, 6, 8, 9]\n</code></pre>\n\n<p>Now I want to replace <code>idx_1</code> rows and columns of A by B and <code>idx_2</code> rows and columns of A by C. The final A matrix will be a block diagonal matrix.</p>\n\n<p>What is the efficient way to achieve this?</p>\n\n<p>I tried as follows but I did not change A, I don't know why, but I did not get any error as well.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>A[idx_1][:,idx_1] = B\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1519253470, "creation_date": 1519253470, "answer_id": 48916873, "question_id": 48916579, "link": "https://stackoverflow.com/questions/48916579/moving-collections-between-axes/48916873#48916873", "title": "Moving Collections between axes", "body": "<p>The scatter has an IdentityTransform as master transform. The data transform is the internal offset transform. One would hence need to treat the scatter separately. </p>\n\n<pre><code>from matplotlib.collections import PathCollection\nfrom matplotlib.transforms import IdentityTransform\n\n# ...\n\nif type(artist) == PathCollection:\n    artist.set_transform(IdentityTransform())\n    artist._transOffset = ax.transData\nelse:\n    artist.set_transform(ax.transData) \n</code></pre>\n\n<p>Unfortunately, there is no <code>set_offset_transform</code> method, such that one needs to replace the <a href=\"https://github.com/matplotlib/matplotlib/blob/9b48fd82a6e66df6fce9c99e56e9e75def5afe9a/lib/matplotlib/collections.py#L167\" rel=\"nofollow noreferrer\"><code>._transOffset</code></a> attribute to set the offset transform.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jtrMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtrMT.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 48916873, "answer_count": 1, "score": 5, "last_activity_date": 1519253981, "creation_date": 1519251995, "last_edit_date": 1519253981, "question_id": 48916579, "link": "https://stackoverflow.com/questions/48916579/moving-collections-between-axes", "title": "Moving Collections between axes", "body": "<p>While playing with <a href=\"https://stackoverflow.com/a/48915069/190597\">ImportanceOfBeingErnest's code</a> to move artists between axes, I thought it would easy to extend it to collections (such as <code>PathCollections</code> generated by <code>plt.scatter</code>) as well. No such luck:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport pickle\n\nx = np.linspace(-3, 3, 100)\ny = np.exp(-x**2/2)/np.sqrt(2*np.pi)\na = np.random.normal(size=10000)\n\nfig, ax = plt.subplots()\nax.scatter(x, y)\n\npickle.dump(fig, open(\"/tmp/figA.pickle\", \"wb\"))\n# plt.show()\n\nfig, ax = plt.subplots()\nax.hist(a, bins=20, density=True, ec=\"k\")\n\npickle.dump(fig, open(\"/tmp/figB.pickle\", \"wb\"))\n# plt.show()\n\nplt.close(\"all\")\n\n# Now unpickle the figures and create a new figure\n#    then add artists to this new figure\n\nfigA = pickle.load(open(\"/tmp/figA.pickle\", \"rb\"))\nfigB = pickle.load(open(\"/tmp/figB.pickle\", \"rb\"))\n\nfig, ax = plt.subplots()\n\nfor figO in [figA, figB]:\n    lists = [figO.axes[0].lines, figO.axes[0].patches, figO.axes[0].collections]\n    addfunc = [ax.add_line, ax.add_patch, ax.add_collection]\n    for lis, func in zip(lists, addfunc):\n        for artist in lis[:]:\n            artist.remove()\n            artist.axes = ax\n            # artist.set_transform(ax.transData) \n            artist.figure = fig\n            func(artist)\n\nax.relim()\nax.autoscale_view()\n\nplt.close(figA)\nplt.close(figB)\nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><a href=\"https://i.stack.imgur.com/OuETT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OuETT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Removing <code>artist.set_transform(ax.transData)</code> (at least when calling <code>ax.add_collection</code>) seems to help a little, but notice that the y-offset is still off:\n<a href=\"https://i.stack.imgur.com/emGL5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/emGL5.png\" alt=\"enter image description here\"></a>\nHow does one properly move collections from one axes to another?</p>\n"}, {"tags": ["python", "ocr"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5406492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a39c63fc7a3173ebc7425ac4b225cdd?s=128&d=identicon&r=PG&f=1", "display_name": "sayamkanwar", "link": "https://stackoverflow.com/users/5406492/sayamkanwar"}, "edited": false, "score": 0, "creation_date": 1519252803, "post_id": 48916604, "comment_id": 84839905, "body": "This is the output: Traceback (most recent call last):   File &quot;img.py&quot;, line 33, in &lt;module&gt;     ocr_space_file(filename=&#39;sample.png&#39;, language=&#39;eng&#39;)   File &quot;img.py&quot;, line 29, in ocr_space_file     print jsonstr[0][&quot;ParsedResults&quot;][&quot;ParsedText&quot;] KeyError: 0"}, {"owner": {"reputation": 39, "user_id": 5406492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a39c63fc7a3173ebc7425ac4b225cdd?s=128&d=identicon&r=PG&f=1", "display_name": "sayamkanwar", "link": "https://stackoverflow.com/users/5406492/sayamkanwar"}, "edited": false, "score": 1, "creation_date": 1519253023, "post_id": 48916604, "comment_id": 84839985, "body": "Oh anyways I figured out, I did this: print jsonstr[&quot;ParsedResults&quot;][0][&quot;ParsedText&quot;]"}, {"owner": {"reputation": 902, "user_id": 3351984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ff8d1e84f332bc841f3b115b8162d2?s=128&d=identicon&r=PG&f=1", "display_name": "ddg", "link": "https://stackoverflow.com/users/3351984/ddg"}, "reply_to_user": {"reputation": 39, "user_id": 5406492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a39c63fc7a3173ebc7425ac4b225cdd?s=128&d=identicon&r=PG&f=1", "display_name": "sayamkanwar", "link": "https://stackoverflow.com/users/5406492/sayamkanwar"}, "edited": false, "score": 0, "creation_date": 1519253137, "post_id": 48916604, "comment_id": 84840031, "body": "Sorry about that, will change my answer to match."}], "tags": [], "owner": {"reputation": 902, "user_id": 3351984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ff8d1e84f332bc841f3b115b8162d2?s=128&d=identicon&r=PG&f=1", "display_name": "ddg", "link": "https://stackoverflow.com/users/3351984/ddg"}, "is_accepted": true, "score": 0, "last_activity_date": 1519254828, "last_edit_date": 1519254828, "creation_date": 1519252091, "answer_id": 48916604, "question_id": 48916572, "link": "https://stackoverflow.com/questions/48916572/ocr-space-api-python/48916604#48916604", "title": "OCR Space API Python", "body": "<p>Your <code>jsonstr[\"ParsedResults\"]</code> is a single dictionary in an array.</p>\n\n<pre><code>[{u'ParsedText': u'Python is a great language.', ... }]\n</code></pre>\n\n<p>Do <code>jsonstr[\"ParsedResults\"][0]</code> to get the dictionary out, eg:</p>\n\n<p><code>jsonstr[\"ParsedResults\"][0][\"ParsedText\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9611927, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/dbc23a464885aa5d9ea90a25aef52f27?s=128&d=identicon&r=PG", "display_name": "rmk", "link": "https://stackoverflow.com/users/9611927/rmk"}, "is_accepted": false, "score": 0, "last_activity_date": 1523117476, "last_edit_date": 1523117476, "creation_date": 1523111351, "answer_id": 49708404, "question_id": 48916572, "link": "https://stackoverflow.com/questions/48916572/ocr-space-api-python/49708404#49708404", "title": "OCR Space API Python", "body": "<p>Use something like this:</p>\n\n<pre><code>print jsonstr[\"ParsedResults\"][0][\"ParsedText\"]\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5406492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a39c63fc7a3173ebc7425ac4b225cdd?s=128&d=identicon&r=PG&f=1", "display_name": "sayamkanwar", "link": "https://stackoverflow.com/users/5406492/sayamkanwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1314, "favorite_count": 0, "accepted_answer_id": 48916604, "answer_count": 2, "score": 0, "last_activity_date": 1527107768, "creation_date": 1519251981, "question_id": 48916572, "link": "https://stackoverflow.com/questions/48916572/ocr-space-api-python", "title": "OCR Space API Python", "body": "<p>I'm using OCR Space API for extracting text from an image. I want the 'ParsedText' separately in a string.</p>\n\n<pre><code>import requests\nimport json\n\ndef ocr_space_file(filename, overlay=False, api_key=API_KEY, language='eng'):\n    \"\"\" OCR.space API request with local file.\n        Python3.5 - not tested on 2.7\n    :param filename: Your file path &amp; name.\n    :param overlay: Is OCR.space overlay required in your response.\n                    Defaults to False.\n    :param api_key: OCR.space API key.\n                    Defaults to 'helloworld'.\n    :param language: Language code to be used in OCR.\n                    List of available language codes can be found on https://ocr.space/OCRAPI\n                    Defaults to 'en'.\n    :return: Result in JSON format.\n    \"\"\"\n\n    payload = {'isOverlayRequired': overlay,\n               'apikey': api_key,\n               'language': language,\n               }\n    with open(filename, 'rb') as f:\n        r = requests.post('https://api.ocr.space/parse/image',\n                          files={filename: f},\n                          data=payload,\n                          )\n    m = r.content.decode()\n    jsonstr = json.loads(m)\n    print jsonstr[\"ParsedResults\"]\n\nocr_space_file(filename='sample.png', language='eng')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{u'ParsedText': u'Python is a great language.', u'FileParseExitCode': 1, u'ErrorMessage': u'', u'TextOverlay': {u'HasOverlay': False, u'Lines': [], u'Message': u'Text overlay is not provided as it is not requested'}, u'ErrorDetails': u''}]\n</code></pre>\n\n<p>I tried doing</p>\n\n<pre><code>print jsonstr[\"ParsedResults\"][\"ParsedText\"]\n</code></pre>\n\n<p>But it gives an error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"img.py\", line 33, in &lt;module&gt;\n    ocr_space_file(filename='sample.png', language='eng')\n  File \"img.py\", line 29, in ocr_space_file\n    print jsonstr[\"ParsedResults\"][\"ParsedText\"]\nTypeError: list indices must be integers, not str\n</code></pre>\n\n<p>Please help me out here.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 1, "creation_date": 1519252100, "post_id": 48916541, "comment_id": 84839623, "body": "What does your expected output look like?"}, {"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1519252173, "post_id": 48916541, "comment_id": 84839652, "body": "What&#39;s your expected output?"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1479664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f007796b9eff5e0e06d2199f8abb3e2?s=128&d=identicon&r=PG", "display_name": "Thedudeabides", "link": "https://stackoverflow.com/users/1479664/thedudeabides"}, "edited": false, "score": 0, "creation_date": 1519253556, "post_id": 48916837, "comment_id": 84840180, "body": "This is close but only focuses on one pair per sector, I want to have multiple pairs per Sector. For each sector Top TCKR/Bottom TCKR,  Second from top TCKR / Second from Bottom TCKR, Third from Top TCKR/ Third from Bottom TCKR etc"}], "tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 1, "last_activity_date": 1519253299, "creation_date": 1519253299, "answer_id": 48916837, "question_id": 48916541, "link": "https://stackoverflow.com/questions/48916541/top-bottom-pairings-based-on-column-values-in-a-pandas-dataframe/48916837#48916837", "title": "Top Bottom pairings based on column values in a pandas dataframe", "body": "<p>Is this what you are after?</p>\n\n<pre><code>(\n    df.groupby('Sector')\n    .apply(lambda x: [df.Ticker.iloc[x.Score.idxmin()],\n                      df.Ticker.iloc[x.Score.idxmax()],\n                      x.Score.idxmin(), x.Score.idxmax()])\n    .apply(pd.Series)\n    .set_axis(['Low Ticker', 'High Ticker', 'Low', 'High'],\n              axis=1, inplace=False)\n    .assign(Diff = lambda x: x.High-x.Low)\n)\n\nOut[653]: \n          Low Ticker High Ticker  Low  High  Diff\nSector                                           \nEnergy           ABC         JKL    0     4     4\nUtilities        MNP         RDB    3     6     3\n</code></pre>\n\n<p>Then you can retain those pairs within each sector where the pair-difference is greater than a certain threshold by filtering the Diff column.</p>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 1479664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f007796b9eff5e0e06d2199f8abb3e2?s=128&d=identicon&r=PG", "display_name": "Thedudeabides", "link": "https://stackoverflow.com/users/1479664/thedudeabides"}, "edited": false, "score": 0, "creation_date": 1519254971, "post_id": 48917042, "comment_id": 84840672, "body": "Yes! great almost there, is there a way to add another column with score differential for each pairing? Thank you"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 0, "last_activity_date": 1519255327, "last_edit_date": 1519255327, "creation_date": 1519254433, "answer_id": 48917042, "question_id": 48916541, "link": "https://stackoverflow.com/questions/48916541/top-bottom-pairings-based-on-column-values-in-a-pandas-dataframe/48917042#48917042", "title": "Top Bottom pairings based on column values in a pandas dataframe", "body": "<p>This is what I will do </p>\n\n<pre><code>df=df.sort_values('Score')\ndf=df.assign(New=df.groupby('Sector').cumcount()%2)\n\ndf=df.assign(New2=(df.groupby('Sector').New.apply(lambda x :x.cumsum().replace(0,len(x)/2))))\n\n\ndf.groupby(['Sector','New2']).Ticker.apply(list)\nOut[1464]:\nSector     New2\nEnergy     1       [XYZ, BCA]\n           2       [ABC, JKL]\nUtilities  1       [JMP, PQR]\n           2       [MNP, RDB]\nName: Ticker, dtype: object\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>df['Result']=(df.Score==df.groupby(['Sector','New2']).Score.transform('max')).astype(int)\ndf.sort_index()\nOut[1471]: \n  Ticker     Sector  Score  New  New2  Result\n0    ABC     Energy    3.5    0     2       0\n1    XYZ     Energy    4.5    1     1       0\n2    PQR  Utilities    5.5    0     1       1\n3    MNP  Utilities    1.5    0     2       0\n4    JKL     Energy   10.5    1     2       1\n5    BCA     Energy    8.5    0     1       1\n6    RDB  Utilities    6.5    1     2       1\n7    JMP  Utilities    2.5    1     1       0\n</code></pre>\n\n<p>Edit : As per op adding the <code>diff</code></p>\n\n<pre><code>df['DIFF']=df.groupby(['Sector','New2']).Score.apply(lambda x : x.diff().bfill())\ndf.sort_index()\nOut[1479]: \n  Ticker     Sector  Score  New  New2  Result  DIFF\n0    ABC     Energy    3.5    0     2       0   7.0\n1    XYZ     Energy    4.5    1     1       0   4.0\n2    PQR  Utilities    5.5    0     1       1   3.0\n3    MNP  Utilities    1.5    0     2       0   5.0\n4    JKL     Energy   10.5    1     2       1   7.0\n5    BCA     Energy    8.5    0     1       1   4.0\n6    RDB  Utilities    6.5    1     2       1   5.0\n7    JMP  Utilities    2.5    1     1       0   3.0\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1479664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f007796b9eff5e0e06d2199f8abb3e2?s=128&d=identicon&r=PG", "display_name": "Thedudeabides", "link": "https://stackoverflow.com/users/1479664/thedudeabides"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 48917042, "answer_count": 2, "score": 2, "last_activity_date": 1519255327, "creation_date": 1519251878, "last_edit_date": 1519253212, "question_id": 48916541, "link": "https://stackoverflow.com/questions/48916541/top-bottom-pairings-based-on-column-values-in-a-pandas-dataframe", "title": "Top Bottom pairings based on column values in a pandas dataframe", "body": "<p>I would like to generate Sector/Group wise pairs from a DataFrame based on the values in it's Score column. </p>\n\n<pre><code>+---------+-------------------+---------+\n|  Ticker |      Sector       |   Score |   \n+---------+-------------------+---------+\n|   ABC   |    Energy         |    3.5  |     \n|   XYZ   |    Energy         |    4.5  |     \n|   PQR   |    Tech           |    5.5  |     \n|   MNP   |    Tech           |    1.5  |     \n|   JKL   |    Energy         |   10.5  |     \n|   BCA   |    Energy         |    8.5  |     \n|   RDB   |    Tech           |    6.5  |\n|   JMP   |    Tech           |    2.5  |\n+---------+-------------------+---------+\n</code></pre>\n\n<p>From above example in sector Energy JKL/ABC would be one such pairing as JKL is highest and ABC is lowest scorer in that sector.Similarly next pairing within Energy  would be BCA/XYZ as BCA is second highest and XYZ is the second lowest within that sector.</p>\n\n<p>As a next step I would like to retain those pairs within each sector where the pair-difference is greater than a certain threshold.</p>\n\n<p>Thank you for your help.</p>\n\n<p>Output can be </p>\n\n<pre><code>+---------+-------------------+---------+\n|  Ticker |      Sector       |  Result |   \n+---------+-------------------+---------+\n|   ABC   |    Energy         |    0    |     \n|   XYZ   |    Energy         |    0    |     \n|   PQR   |    Tech           |    1    |     \n|   MNP   |    Tech           |    0    |     \n|   JKL   |    Energy         |    1    |     \n|   BCA   |    Energy         |    1    |     \n|   RDB   |    Tech           |    1    |\n|   JMP   |    Tech           |    0    |\n+---------+-------------------+---------+\n</code></pre>\n"}, {"tags": ["python", "html", "hyperlink", "beautifulsoup"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252107, "post_id": 48916514, "comment_id": 84839628, "body": "What date do you want to put there? A fixed date / the current date of the code running / other? (You say that it&#39;s updated &quot;weekly&quot; but you also have <code>current_time = time.strftime(&quot;_%m%d%Y&quot;) #date</code>)."}, {"owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252524, "post_id": 48916514, "comment_id": 84839800, "body": "I want to put the current date on it. Because the file in the zip folder will be updated weekly with the corresponding date, the name of the zip will be have to be changed in the HTML too."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252641, "post_id": 48916514, "comment_id": 84839841, "body": "But that means that <code>time.strftime(&quot;_%m%d%Y&quot;)</code> gives you an invalid file name 6 days out of 7 for the week?"}, {"owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519312530, "post_id": 48916514, "comment_id": 84868420, "body": "@roganjosh I&#39;m not sure why that would be. It works as it should. Every time it&#39;s ran the current date is given to it."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "edited": false, "score": 0, "creation_date": 1519312373, "post_id": 48916686, "comment_id": 84868308, "body": "Thanks. It ran with no errors but the output was wrong. It didn&#39;t change the line: <code>&lt;p&gt;&lt;a href=&quot;WillCounty_AddressPoint_02212018.zip&quot;&gt;Address Points&lt;&#47;a&gt; (updated weekly)&lt;&#47;p&gt;</code> (line 87)  What it did was add an additional line (to line 25) of the same href attribute. It also altered the whole HTML a bit. Ideally, i need this script to simply change the existing line."}, {"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "reply_to_user": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "edited": false, "score": 0, "creation_date": 1519312619, "post_id": 48916686, "comment_id": 84868494, "body": "Can you post a link to your whole html file?"}, {"owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "edited": false, "score": 0, "creation_date": 1519313167, "post_id": 48916686, "comment_id": 84868899, "body": "Edit: it&#39;s in a zip so you can open with a proper viewer. <a href=\"http://www.willcogis.org/website2014/gis/Data/data.zip\" rel=\"nofollow noreferrer\">willcogis.org/website2014/gis/Data/data.zip</a>"}, {"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "reply_to_user": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "edited": false, "score": 0, "creation_date": 1519324655, "post_id": 48916686, "comment_id": 84876347, "body": "Updated answer in response to posted HTML file."}], "tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1519324521, "last_edit_date": 1519324521, "creation_date": 1519252504, "answer_id": 48916686, "question_id": 48916514, "link": "https://stackoverflow.com/questions/48916514/python-change-data-hyperlink-in-html-file/48916686#48916686", "title": "python: change data hyperlink in HTML file", "body": "<p>This is how you could use BeautifulSoup to replace the href attribute.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport time\ndata = r'data.html' #html file location\n#load the file\ncurrent_time = time.strftime(\"_%m%d%Y\")\nwith open(data) as inf:\n     txt = inf.read()\nsoup = BeautifulSoup(txt, 'html.parser')\na = soup.find('a')\na['href'] = (\"WillCounty_AddressPoint%s.zip\" % current_time)\nprint (soup)\n\n#save the file again\nwith open (data, \"w\") as outf:\n    outf.write(str(soup))\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>&lt;p&gt;&lt;a href=\"WillCounty_AddressPoint_02212018.zip\"&gt;Address Points&lt;/a&gt; (updated weekly)&lt;/p&gt;\n</code></pre>\n\n<p>And writes to the file</p>\n\n<p><strong>UPDATED</strong> to use data from supplied file.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport time\ndata = r'data.html' #html file location\n#load the file\ncurrent_time = time.strftime(\"_%m%d%Y\")\nwith open(data) as inf:\n     txt = inf.read()\nsoup = BeautifulSoup(txt, 'html.parser')\n# Find the a element you want to change by finding it's text and selecting parent.\na = soup.find(text=\"Address Points\").parent\na['href'] = (\"WillCounty_AddressPoint%s.zip\" % current_time)\nprint (soup)\n#save the file again\nwith open (data, \"w\") as outf:\n    outf.write(str(soup))\n</code></pre>\n\n<p>It will however, take out blank lines but otherwise leave your HTML code exactly as it was.</p>\n\n<p>Using a diff tool to see differences in the original and modified files:</p>\n\n<pre><code>diff data\\ \\(copy\\).html data.html \n77c77\n&lt; &lt;p&gt;&lt;a href=\"Data/WillCounty_AddressPoint.zip\"&gt;Address Points&lt;/a&gt; (updated weekly)&lt;/p&gt;\n---\n&gt; &lt;p&gt;&lt;a href=\"WillCounty_AddressPoint_02222018.zip\"&gt;Address Points&lt;/a&gt; (updated weekly)&lt;/p&gt;\n116,120d115\n&lt; \n&lt; \n&lt; \n&lt; \n&lt; \n154d148\n&lt; \n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 7221994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERTYn.jpg?s=128&g=1", "display_name": "Pfalbaum", "link": "https://stackoverflow.com/users/7221994/pfalbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 0, "accepted_answer_id": 48916686, "answer_count": 1, "score": 0, "last_activity_date": 1519324521, "creation_date": 1519251722, "last_edit_date": 1519252113, "question_id": 48916514, "link": "https://stackoverflow.com/questions/48916514/python-change-data-hyperlink-in-html-file", "title": "python: change data hyperlink in HTML file", "body": "<p>There's a link on our website that leads to a zip folder. The line in the HTML file for it is shown thus: \n<code>&lt;p&gt;&lt;a href=\"Data/WillCounty_AddressPoint.zip\"&gt;Address Points&lt;/a&gt; (updated weekly)&lt;/p&gt;</code></p>\n\n<p>The zip folder's name will soon be changed using the current date so that it looks like this:\n<code>WillCounty_AddressPoint_02212018.zip</code></p>\n\n<p>How do I change the corresponding line in the HTML?</p>\n\n<p>Using <a href=\"https://stackoverflow.com/questions/35355225/edit-and-create-html-file-using-python\">this</a> answer I have a script. It runs with no errors but does not change anything in the HTML file.</p>\n\n<pre><code>import bs4\nfrom bs4 import BeautifulSoup\nimport re\nimport time\n\ndata = r'\\\\gisfile\\GISstaff\\Jared\\data.html' #html file location\ncurrent_time = time.strftime(\"_%m%d%Y\") #date\n\n#load the file\nwith open(data) as inf:\n    txt = inf.read()\n    soup = bs4.BeautifulSoup(txt)\n\n#create new link\nnew_link = soup.new_tag('link', href=\"Data/WillCounty_AddressPoint_%m%d%Y.zip\")\n#insert it into the document\nsoup.head.append(new_link)\n\n#save the file again\nwith open (data, \"w\") as outf:\n    outf.write(str(soup))\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 763, "user_id": 2351027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06043828fe6c14c215de4b7d7586a332?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2351027/steve"}, "edited": false, "score": 0, "creation_date": 1519251773, "post_id": 48916494, "comment_id": 84839480, "body": "Not a strict answer to your question but if you use a library like python&#39;s json, it&#39;ll take care of the escaping for you"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 3, "creation_date": 1519251778, "post_id": 48916494, "comment_id": 84839482, "body": "Any <b>valid</b> string can be put in a <i>json</i>. What&#39;s the real question?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1519251971, "post_id": 48916494, "comment_id": 84839565, "body": "It&#39;s <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">right there in the standard library</a>, included with the Python interpreter out-of-the-box."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1519252036, "post_id": 48916494, "comment_id": 84839596, "body": "That said, insofar as you <i>are</i> asking for people to suggest a library to you -- note <a href=\"https://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>, particularly the &quot;some questions are still off-topic&quot; list, particularly entry #4 (<i>&quot;Questions asking us to recommend or find a book, tool, <b>software library,</b> tutorial or other off-site resource...&quot;</i>)"}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1519252074, "post_id": 48916557, "comment_id": 84839610, "body": "Note <a href=\"https://stackoverflow.com/help/how-to-answer\">How to Answer</a>, particularly the section &quot;Answer Well-Asked Questions&quot;, particularly the bullet regarding questions which <i>&quot;are not about programming as defined in the help center&quot;</i> -- linking to a page that explicitly says that library recommendation requests are off-topic."}, {"owner": {"reputation": 316, "user_id": 6058228, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-jO9Ukn4bDlI/AAAAAAAAAAI/AAAAAAAAAKo/CGxhXcEmqcw/photo.jpg?sz=128", "display_name": "Wayne Workman", "link": "https://stackoverflow.com/users/6058228/wayne-workman"}, "edited": false, "score": 0, "creation_date": 1519252580, "post_id": 48916557, "comment_id": 84839819, "body": "Exactly what I was looking for."}], "tags": [], "owner": {"reputation": 763, "user_id": 2351027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06043828fe6c14c215de4b7d7586a332?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2351027/steve"}, "is_accepted": true, "score": 2, "last_activity_date": 1519327262, "last_edit_date": 1519327262, "creation_date": 1519251920, "answer_id": 48916557, "question_id": 48916494, "link": "https://stackoverflow.com/questions/48916494/python-json-escaping/48916557#48916557", "title": "Python JSON escaping", "body": "<p>You can use python's standard json library</p>\n\n<pre><code>import json\njson.dumps(myString)\n</code></pre>\n"}], "owner": {"reputation": 316, "user_id": 6058228, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-jO9Ukn4bDlI/AAAAAAAAAAI/AAAAAAAAAKo/CGxhXcEmqcw/photo.jpg?sz=128", "display_name": "Wayne Workman", "link": "https://stackoverflow.com/users/6058228/wayne-workman"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4067, "favorite_count": 0, "closed_date": 1519255059, "accepted_answer_id": 48916557, "answer_count": 1, "score": -3, "last_activity_date": 1519328132, "creation_date": 1519251644, "last_edit_date": 1519328132, "question_id": 48916494, "link": "https://stackoverflow.com/questions/48916494/python-json-escaping", "closed_reason": "Not suitable for this site", "title": "Python JSON escaping", "body": "<p>How can I escape a string for usage within a json document?</p>\n\n<p>Something like:</p>\n\n<pre><code>notEscaped = '\"/\\\"\"\\\\'\nescaped = jsonEscape(notEscaped)\nnewNotEscaped = jsonUnEscape(escaped)\n</code></pre>\n\n<p>Here are some of the references I've looked at:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/983451/where-can-i-find-a-list-of-escape-characters-required-for-my-json-ajax-return-ty\">Where can I find a list of escape characters required for my JSON ajax return type?</a></li>\n<li><a href=\"http://json.org/\" rel=\"nofollow noreferrer\">http://json.org/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18935754/how-to-escape-special-characters-of-a-string-with-single-backslashes\">How to escape special characters of a string with single backslashes</a></li>\n</ul>\n"}, {"tags": ["python", "jenkins", "github"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252243, "post_id": 48916479, "comment_id": 84839688, "body": "Maybe you should stick to one question at a time? You seem to be in the early stages of figuring out Jenkins, which makes it likely you&#39;ll ask questions that don&#39;t make much sense. Again, why do you just want to print stuff in your build? Also: upgrade to Python 3.x."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252687, "post_id": 48916479, "comment_id": 84839857, "body": "Want to print stuff in order to learn what is happening and later build more complicated builds. Python 2 is used by a team so can not just decide myself to change to 3."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252850, "post_id": 48916479, "comment_id": 84839919, "body": "Note that you&#39;ve already had this question closed once: <a href=\"https://stackoverflow.com/q/48832916/3001761\">stackoverflow.com/q/48832916/3001761</a>. Please don&#39;t ask duplicates."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519329336, "post_id": 48916479, "comment_id": 84878922, "body": "Was it answered?"}], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519252195, "creation_date": 1519251562, "last_edit_date": 1519252195, "question_id": 48916479, "link": "https://stackoverflow.com/questions/48916479/how-to-run-a-jenkins-build-based-python-code-from-github", "title": "How to run a Jenkins build based Python code from GitHub?", "body": "<p>I have simple Python code inside a GitHub repo:</p>\n\n<pre><code>print \"hello world\"\n</code></pre>\n\n<p>How to create a Jenkins build to run this Python code directly from a GitHub?</p>\n"}, {"tags": ["python", "linear-algebra"], "comments": [{"owner": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 0, "creation_date": 1519251581, "post_id": 48916464, "comment_id": 84839390, "body": "you can use &quot;try&quot; and &quot;except&quot; for error handling; they must be used in pairs"}, {"owner": {"reputation": 13, "user_id": 8879099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4032f61cec9b33c01240f75ad11449d?s=128&d=identicon&r=PG&f=1", "display_name": "SomeKnow", "link": "https://stackoverflow.com/users/8879099/someknow"}, "reply_to_user": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 0, "creation_date": 1519251674, "post_id": 48916464, "comment_id": 84839433, "body": "Thank you. Where would I place &quot;try&quot; and &quot;except&quot; relative to error/code?"}, {"owner": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 0, "creation_date": 1519251828, "post_id": 48916464, "comment_id": 84839504, "body": "<a href=\"https://pastebin.com/hM7BdgdP\" rel=\"nofollow noreferrer\">pastebin.com/hM7BdgdP</a>; put your code to attempt to do a thing in the &quot;try&quot;, and if that results in a normal python error, then the code will execute the &quot;except&quot; part, assuming that that will not result in en error either."}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 1, "creation_date": 1519251893, "post_id": 48916464, "comment_id": 84839528, "body": "I would really recommend you to go through some basic tutorial, like <a href=\"https://docs.python.org/3.6/tutorial/\" rel=\"nofollow noreferrer\">docs.python.org/3.6/tutorial</a>"}, {"owner": {"reputation": 13, "user_id": 8879099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4032f61cec9b33c01240f75ad11449d?s=128&d=identicon&r=PG&f=1", "display_name": "SomeKnow", "link": "https://stackoverflow.com/users/8879099/someknow"}, "edited": false, "score": 0, "creation_date": 1519251941, "post_id": 48916464, "comment_id": 84839552, "body": "it&#39;s that bad. lol. ok, thank you."}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "reply_to_user": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 2, "creation_date": 1519252014, "post_id": 48916464, "comment_id": 84839583, "body": "@crazicrafter1 You can not catch syntax errors."}, {"owner": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 0, "creation_date": 1519252158, "post_id": 48916464, "comment_id": 84839648, "body": "@Th... That&#39;s why you correct any syntax before executing the code, otherwise python will yell at you."}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 9044814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-YysiG216MEM/AAAAAAAAAAI/AAAAAAAAAMY/Be0MtU87gfc/photo.jpg?sz=128", "display_name": "crazicrafter1", "link": "https://stackoverflow.com/users/9044814/crazicrafter1"}, "edited": false, "score": 1, "creation_date": 1519252280, "post_id": 48916625, "comment_id": 84839714, "body": "yeah i was gonna say something seemed off the rocker with 5 variables referring to 1 input, and with the remaining code"}, {"owner": {"reputation": 141, "user_id": 6446146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/222226293323165b15c4721961265f4b?s=128&d=identicon&r=PG&f=1", "display_name": "yeger", "link": "https://stackoverflow.com/users/6446146/yeger"}, "edited": false, "score": 1, "creation_date": 1519253169, "post_id": 48916625, "comment_id": 84840038, "body": "You should put <code>if (a*d - b*c == 0):</code> before <code>x = (e*d-b*f)&#47;(a*d-b*c)</code>, or you&#39;ll get <code>ZeroDivisionError</code> exception"}], "tags": [], "owner": {"reputation": 231, "user_id": 6757975, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153920626140748/picture?type=large", "display_name": "Alex Dubrovsky", "link": "https://stackoverflow.com/users/6757975/alex-dubrovsky"}, "is_accepted": true, "score": 0, "last_activity_date": 1519285511, "last_edit_date": 1519285511, "creation_date": 1519252182, "answer_id": 48916625, "question_id": 48916464, "link": "https://stackoverflow.com/questions/48916464/python-linear-equation-with-cramers-rule/48916625#48916625", "title": "python linear equation with Cramer&#39;s rule", "body": "<p>Basically, your code was one giant syntax error. Please read some basic tutorial, as was suggested in the comments. Hopefully this will help in the learning process (I didn't go through the actual math formulas):</p>\n\n<pre><code>a = float(input(\"Enter a: \"))\nb = float(input(\"Enter b: \"))\nc = float(input(\"Enter c: \"))\nd = float(input(\"Enter d: \"))\ne = float(input(\"Enter e: \"))\nf = float(input(\"Enter f: \"))\n\n##a*x + by = e\n##cx + dy = f\n\nif (a*d - b*c == 0):\n    print(\"The equation has no solution\")\nelse:\n    x = (e*d-b*f)/(a*d-b*c)\n    y = (a*f-e*d)/(a*d-b*c)\n\n    print (\"x=%s\" % x, \"y=%s\" % y)\n</code></pre>\n\n<p>You have to put <code>*</code> between the numbers you want to multiply. You had one parenthesis missing from your input statement. The equations themselves are commented out, because otherwise Python takes them as a code (incorrectly written one). You have to enclose the denominator in parentheses because math. You have to end the <code>if</code>, <code>else</code>, <code>elif</code>, <code>for</code>, <code>while</code> and such with <code>:</code>. Indentation is VERY important in Python.</p>\n"}], "owner": {"reputation": 13, "user_id": 8879099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4032f61cec9b33c01240f75ad11449d?s=128&d=identicon&r=PG&f=1", "display_name": "SomeKnow", "link": "https://stackoverflow.com/users/8879099/someknow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4096, "favorite_count": 0, "accepted_answer_id": 48916625, "answer_count": 1, "score": -1, "last_activity_date": 1519285511, "creation_date": 1519251480, "question_id": 48916464, "link": "https://stackoverflow.com/questions/48916464/python-linear-equation-with-cramers-rule", "title": "python linear equation with Cramer&#39;s rule", "body": "<p>I'm new to python and attempting to write a linear equation using Cramer's Rule. I've entered the formula and have code prompting user to enter a,b,c,d,e and f but my code is getting a syntax error. I'd like to fix the code and also have a system for researching and correcting future errors. </p>\n\n<pre><code>a,b,c,d,e,f = float(input(\"Enter amount: \")\n\na*x + by = e\ncx + dy = f\nx = ed-bf/ad-bc\ny=af-ed/ad-bc\n\nif (ad - bc == 0)print(\"The equation has no solution\")\n\nelse print (\"x=\" x, \"y=\" y,)\n</code></pre>\n"}, {"tags": ["python", "pandas", "group-by", "pivot"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 3, "creation_date": 1519250892, "post_id": 48916311, "comment_id": 84839067, "body": "Instead of posting a picture, can you post output from <code>df.head(10).to_dict()</code>. This will help us test solutions."}], "answers": [{"comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1519252260, "post_id": 48916339, "comment_id": 84839704, "body": "I think you&#39;ll need to set the index on the <code>&#39;ID&#39;</code> column first"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1519252756, "post_id": 48916339, "comment_id": 84839885, "body": "you&#39;ll need to &quot;categorize&quot; the remaining column to them to sort properly"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1519252790, "post_id": 48916339, "comment_id": 84839899, "body": "OP states that order is not important."}, {"owner": {"reputation": 883, "user_id": 8901144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10213582154335791/picture?type=large", "display_name": "Marco Miglionico", "link": "https://stackoverflow.com/users/8901144/marco-miglionico"}, "edited": false, "score": 0, "creation_date": 1519252816, "post_id": 48916339, "comment_id": 84839909, "body": "Ok i understood the first part, but  didn&#39;t understand  the part in which i have to convert from a wide dataframe to a long. Because after the stack i obtain a Series"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 883, "user_id": 8901144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10213582154335791/picture?type=large", "display_name": "Marco Miglionico", "link": "https://stackoverflow.com/users/8901144/marco-miglionico"}, "edited": false, "score": 0, "creation_date": 1519252860, "post_id": 48916339, "comment_id": 84839922, "body": "@MarcoMiglionico that was just the way the dataframe looks.  it was just a statement.  Not import to the solution."}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1519252906, "post_id": 48916339, "comment_id": 84839940, "body": "If order of month is important this see this <a href=\"https://stackoverflow.com/a/48916148/6361531\">SO post</a>"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1519252927, "post_id": 48916339, "comment_id": 84839948, "body": "@ScottBoston oh yes i see that. oops."}, {"owner": {"reputation": 883, "user_id": 8901144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10213582154335791/picture?type=large", "display_name": "Marco Miglionico", "link": "https://stackoverflow.com/users/8901144/marco-miglionico"}, "edited": false, "score": 0, "creation_date": 1519253915, "post_id": 48916339, "comment_id": 84840309, "body": "@ScottBoston I used df.melt() after the stack to have the dataset exactly as in the code i posted. Thank you!"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1519253979, "post_id": 48916339, "comment_id": 84840329, "body": "Yes, melt is a great method also.  Probably faster.  You&#39;re welcome.  Happy coding!"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1519252314, "last_edit_date": 1519252314, "creation_date": 1519250940, "answer_id": 48916339, "question_id": 48916311, "link": "https://stackoverflow.com/questions/48916311/how-to-modify-the-following-dataframe-using-groupby-pivot/48916339#48916339", "title": "How to modify the following dataframe using groupby/pivot?", "body": "<p>Try <code>stack</code> with <code>dropna</code>parameter set to False:</p>\n\n<pre><code>df.set_index('ID').stack(dropna=False)\n</code></pre>\n\n<p>@PaulH is correct in his observations from the comments below.</p>\n\n<p>To move that column index to row index converting from a wide dataframe to a long dataframe.</p>\n"}], "owner": {"reputation": 883, "user_id": 8901144, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10213582154335791/picture?type=large", "display_name": "Marco Miglionico", "link": "https://stackoverflow.com/users/8901144/marco-miglionico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 48916339, "answer_count": 1, "score": 0, "last_activity_date": 1519252314, "creation_date": 1519250802, "question_id": 48916311, "link": "https://stackoverflow.com/questions/48916311/how-to-modify-the-following-dataframe-using-groupby-pivot", "title": "How to modify the following dataframe using groupby/pivot?", "body": "<p>I have the following pandas dataframe:\n<a href=\"https://i.stack.imgur.com/EGVNH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGVNH.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to change this dataframe in the following way:\nI want to have the ID column as index and the month for each index in a column named month, and then all the values as follow:</p>\n\n<pre><code>ID    MONTH  VAL\n1     Jan    nan\n1     Feb    nan\n1     Mar    nan\n1     Apr    nan\n1     May    nan\n1     Jun    nan\n1     Jul    nan\n1     Aug    94.0000\n1     Sep    113.0000\n1     Oct    21.0000\n1     Nov    nan\n2     Jan    107.00000\n.\n.\n.\n7     Nov    nan\n</code></pre>\n\n<p>The order of the month is not important. Is there an easy way to do it?</p>\n"}, {"tags": ["python", "image", "rotation", "cv2"], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "is_accepted": true, "score": 1, "last_activity_date": 1519251834, "creation_date": 1519251834, "answer_id": 48916534, "question_id": 48916296, "link": "https://stackoverflow.com/questions/48916296/incorrect-image-orientation-when-drawing-a-line-with-cv2-line/48916534#48916534", "title": "Incorrect image orientation when drawing a line with cv2.line", "body": "<p>This happens because while NumPy indexes arrays based on a row-first principle (i.e. your shape is (rows, columns)), cv2 indexes based on (x, y) co-ordinates, meaning the axes are flipped. This can be annoying to deal with, but this should fix your issue:</p>\n\n<p>Try changing:</p>\n\n<pre><code>cv2.line(image_1, (0,0), image_1.shape, 255, 1, 16)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>cv2.line(image_1, (0,0), image_1.shape[::-1], 255, 1, 16)\n</code></pre>\n\n<p>The <code>[::-1]</code> flips the tuple to become <code>(248, 203)</code>, and your line should look fine now.</p>\n"}], "owner": {"reputation": 35, "user_id": 9376318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LGIa0.jpg?s=128&g=1", "display_name": "KorwinNaSloniu", "link": "https://stackoverflow.com/users/9376318/korwinnasloniu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 48916534, "answer_count": 1, "score": 1, "last_activity_date": 1519260940, "creation_date": 1519250753, "last_edit_date": 1519260940, "question_id": 48916296, "link": "https://stackoverflow.com/questions/48916296/incorrect-image-orientation-when-drawing-a-line-with-cv2-line", "title": "Incorrect image orientation when drawing a line with cv2.line", "body": "<p>I want to draw a line from top left corner to the bottom right corner on an image.<br>\nThe image is horizontal and:</p>\n\n<pre><code>print(size)\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>(203, 248)\n</code></pre>\n\n<p>With my code I am expecting a diagonal line from pixel (0,0) to pixel (203, 248). However I am getting diagonal line from pixel (0,0) to pixel (248, 203) which is outside the image boundary (sic!).\nI suppose the cv2.line method rotates the image somehow, can anyone advise?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import cv2\n\nimage_1 = cv2.imread('profilowe.jpeg',0)\nsize = image_1.shape\nprint(size)\ncv2.line(image_1,(0,0),image_1.shape,255,1,16)\n\ncv2.imshow('image',image_1)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PrbSA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PrbSA.png\" alt=\"Image with line incorrectly drawn on top\"></a></p>\n"}, {"tags": ["python", "api", "web-scraping", "get-request"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1519250783, "post_id": 48916262, "comment_id": 84839017, "body": "<code>listing_df = pd.DataFrame(inv[&#39;listing&#39;])</code> is outside of the <code>for</code> loop. All iterations of <code>for eventid in eventid_list:</code> complete (and get thrown away), and then when it finishes, you collect the very last result. You need some container <i>inside</i> the <code>for</code> loop to collect every result of <code>inv = inventory.json()</code>. Simply indenting <code>listing_df = pd.DataFrame(inv[&#39;listing&#39;])</code> won&#39;t fix it though."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1519250813, "post_id": 48916262, "comment_id": 84839031, "body": "Can you print <code>inv</code> and update your question with it?"}, {"owner": {"reputation": 103, "user_id": 6942235, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10154648575994380/picture?type=large", "display_name": "Yukino Kondo", "link": "https://stackoverflow.com/users/6942235/yukino-kondo"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1519251176, "post_id": 48916262, "comment_id": 84839196, "body": "@PauloScardine I&#39;ve just updated my question!"}, {"owner": {"reputation": 103, "user_id": 6942235, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10154648575994380/picture?type=large", "display_name": "Yukino Kondo", "link": "https://stackoverflow.com/users/6942235/yukino-kondo"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519251214, "post_id": 48916262, "comment_id": 84839215, "body": "@roganjosh how would I do that?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1519251239, "post_id": 48916262, "comment_id": 84839229, "body": "To re-interpret the suggestion of @PauloScardine, they were asking for some kind of representative output. Is it a dictionary/list/other? I said &quot;some container&quot;, maybe you could just append all your results to a list within the <code>for</code> loop, but we don&#39;t really know what you&#39;re working with."}, {"owner": {"reputation": 103, "user_id": 6942235, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10154648575994380/picture?type=large", "display_name": "Yukino Kondo", "link": "https://stackoverflow.com/users/6942235/yukino-kondo"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519251326, "post_id": 48916262, "comment_id": 84839267, "body": "@roganjosh the inv output is a dictionary."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1519251463, "post_id": 48916262, "comment_id": 84839336, "body": "Domo arigato, Yukino, we just wanted to see an example of that output."}], "answers": [{"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519251638, "post_id": 48916445, "comment_id": 84839414, "body": "It&#39;s a dictionary apparently, which complicates things in terms of the final DataFrame :("}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252179, "post_id": 48916445, "comment_id": 84839660, "body": "Looks like it is a list of dicts."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252275, "post_id": 48916445, "comment_id": 84839711, "body": "it seems so, but the translation of that to a meaningful DF is not always straightforward."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519252366, "post_id": 48916445, "comment_id": 84839749, "body": "Indeed, OP may have to return a coherent structure from get_event."}, {"owner": {"reputation": 103, "user_id": 6942235, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10154648575994380/picture?type=large", "display_name": "Yukino Kondo", "link": "https://stackoverflow.com/users/6942235/yukino-kondo"}, "edited": false, "score": 0, "creation_date": 1519255028, "post_id": 48916445, "comment_id": 84840700, "body": "@PauloScardine Thank you so much for this. This is a great starting point. I keep getting this, though. <code>AttributeError: module &#39;itertools&#39; has no attribute &#39;flatten&#39;</code>. Can I use the attribute &#39;chain&#39; instead?"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1519285323, "post_id": 48916445, "comment_id": 84850267, "body": "Sorry, I probably got it mixed up something from clojure, in Python it is <code>itertools.chain</code> indeed."}], "tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": false, "score": 0, "last_activity_date": 1519252955, "last_edit_date": 1519252955, "creation_date": 1519251420, "answer_id": 48916445, "question_id": 48916262, "link": "https://stackoverflow.com/questions/48916262/looping-through-get-request-in-python/48916445#48916445", "title": "Looping through Get Request in Python", "body": "<p>I'm guessing <code>inventory.json()['listing']</code> is a list of events. If so, you can try this:</p>\n\n<pre><code>inventory_url = 'https://api.stubhub.com/search/inventory/v2'\n\ndef get_event(eventid):\n    \"\"\"Given an event id returns inventory['listing']\"\"\"\n    data = {'eventid': eventid, 'rows':500}\n    inventory = requests.get(inventory_url, headers=headers, params=data)\n    return inventory.json().get('listing', [])\n\n# Concatenate output of all events\nevents = itertools.flatten(get_event(eventid) for eventid in eventid_list)\n\nlisting_df = pd.DataFrame(list(events))\n</code></pre>\n\n<p>This is just a starting point, you will have to deal with cases where <code>inventory.statos_code != 200</code>. The result probably is not very useful, so you may have to flat some of the attributes for the listing items line <code>currentPrice</code> and <code>listingPrice</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xGfpK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGfpK.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 103, "user_id": 6942235, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10154648575994380/picture?type=large", "display_name": "Yukino Kondo", "link": "https://stackoverflow.com/users/6942235/yukino-kondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 876, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519252955, "creation_date": 1519250606, "last_edit_date": 1519252142, "question_id": 48916262, "link": "https://stackoverflow.com/questions/48916262/looping-through-get-request-in-python", "title": "Looping through Get Request in Python", "body": "<p>I am trying to scrape some ticketing inventory info using Stubhub's API, but I cannot seem to figure out how to loop through the get request. </p>\n\n<p>I basically want to loop through multiple events. The eventid_list is a list of eventids. The code I have is below:</p>\n\n<pre><code>inventory_url = 'https://api.stubhub.com/search/inventory/v2'\n\nfor eventid in eventid_list:\n    data = {'eventid': eventid, 'rows':500}\n    inventory = requests.get(inventory_url, headers=headers, params=data)\n    inv = inventory.json()\n    print(inv)\n\nlisting_df = pd.DataFrame(inv['listing'])\n</code></pre>\n\n<p>When I run this, the dataframe only returns results for one event, instead of multiple. What am I doing wrong?</p>\n\n<p>EDIT: print(inv) outputs something like this:</p>\n\n<pre><code>{\n    'eventId': 102994860, \n    'totalListings': 82, \n    'totalTickets': 236, \n    'minQuantity': 1, \n    'maxQuantity': 6, \n    'listing': [\n        {\n            'listingId': 1297697413, \n            'currentPrice': {'amount': 108.58, 'currency': 'USD'}, \n            'listingPrice': {'amount': 88.4, 'currency': 'USD'}, \n            'sectionId': 1638686, \n            'row': 'E', \n            'quantity': 6, \n            'sellerSectionName': 'FRONT MEZZANINE RIGHT', \n            'sectionName': 'Front Mezzanine Sides', \n            'seatNumbers': '2,4,6,8,10,12', \n            'zoneId': 240236, \n            'zoneName': 'Front Mezzanine', \n            'deliveryTypeList': [5], \n            'deliveryMethodList': [23, 24, 25], \n            'isGA': 0, \n            'dirtyTicketInd': False, \n            'splitOption': '2', \n            'ticketSplit': '1', \n            'splitVector': [1, 2, 3, 4, 6], \n            'sellerOwnInd': 0, \n            'score': 0.0\n        }, \n        ...\n        {\n            'listingId': 1297697417, \n            'currentPrice': {'amount': 108.58, 'currency': 'USD'}, \n            'listingPrice': {'amount': 88.4, 'currency': 'USD'}, \n            'sectionId': 1638686, \n            'row': 'D', \n            'quantity': 3, \n            'sellerSectionName': 'FRONT MEZZANINE RIGHT', \n            'sectionName': 'Front Mezzanine Sides', \n            'seatNumbers': '2,4,6', \n            'zoneId': 240236, \n            'zoneName': 'Front Mezzanine', \n            'deliveryTypeList': [5], \n            'deliveryMethodList': [23, 24, 25], \n            'isGA': 0, \n            'dirtyTicketInd': False, \n            'splitOption': '2', \n            'ticketSplit': '1', \n            'splitVector': [1, 3], \n            'sellerOwnInd': 0, \n            'score': 0.0\n        },\n    ]\n}\n</code></pre>\n"}, {"tags": ["python", "jenkins", "parameters"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519250640, "post_id": 48916255, "comment_id": 84838942, "body": "<code>node</code> in that script isn&#39;t NodeJS, you realise? It&#39;s part of Jenkins&#39; own declarative DSL (which is written in Groovy, not JavaScript). If you want to provide parameters to the build, see e.g. <a href=\"https://jenkins.io/doc/book/pipeline/syntax/#parameters\" rel=\"nofollow noreferrer\">jenkins.io/doc/book/pipeline/syntax/#parameters</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519250943, "post_id": 48916255, "comment_id": 84839088, "body": "I&#39;ll take that as a <i>&quot;no I didn&#39;t realise&quot;</i>! What do you mean <i>&quot;pass parameter from another GitHub link&quot;</i>? Check out a separate repo into the workspace, or create a parameterised build (see previous comment), or ...?"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519251264, "post_id": 48916255, "comment_id": 84839240, "body": "Thanks for pointing out. I have 1 github Jenkins file and have another file in the same repo that holds a variable (parameter) value. How to load parameter from that github file during Jenkins build (and just print it out)?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519251498, "post_id": 48916255, "comment_id": 84839349, "body": "What exactly do you mean by <i>&quot;GitHub file&quot;</i>? Do you just mean some other file in the same repo? In that case it&#39;s accessible in the workspace like every other file, assuming you <code>checkout scm</code> or similar. It&#39;s not at all clear from your question what the specific problem you&#39;re trying to solve is, so it&#39;s all but unanswerable as posted."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519251621, "post_id": 48916255, "comment_id": 84839407, "body": "Yes - some other file inside the same repo. e.g. &#39;file1&#39; that holds value &#39;variable1&#39;."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519251669, "post_id": 48916255, "comment_id": 84839431, "body": "<code>sh &#39;cat location&#47;of&#47;file1&#39;</code>? Again (and partictularly given that printing stuff is generally not a useful task to set a Jenkins build to) it&#39;s not clear what you&#39;re <i>actually trying to achieve</i>. Maybe check out e.g. <a href=\"https://jenkins.io/doc/pipeline/steps/\" rel=\"nofollow noreferrer\">jenkins.io/doc/pipeline/steps</a>"}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519251928, "post_id": 48916255, "comment_id": 84839547, "body": "I am brand new to Jenkins so trying to learn how to pass parameters to a build. e.g. want to run a simple script that will display e.g. date and load variable from another file in github (in the same repo) and print value of that. Not sure if CAT can get a value from a github file (since file is not on a server machine where jenkins will execute - or is it jenkins cloning the whole repo during the build so that CAT can be executed?)."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252091, "post_id": 48916255, "comment_id": 84839620, "body": "Saying <i>&quot;a github file&quot;</i> has no real meaning, it seems like you&#39;re just referring to a file in the repo. Passing parameters to a build can be done when you kick it off (start from e.g. <a href=\"https://github.com/jenkinsci/pipeline-model-definition-plugin/wiki/Parametrized-pipelines\" rel=\"nofollow noreferrer\">github.com/jenkinsci/pipeline-model-definition-plugin/wiki/&hellip;</a>&zwnj;&#8203;), separately from the files in the repo it&#39;s building. If you don&#39;t actually have a build task to perform, probably Jenkins isn&#39;t the right tool."}, {"owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252612, "post_id": 48916255, "comment_id": 84839831, "body": "Jenkins is needed and trying to learn steps - if you can help - please do. How do you call a file that is in a github repo? (e.g. parameter file) Can the value of it be loaded during a jenkins build? I am trying to build a more complicated build later but this is needed step."}], "answers": [{"tags": [], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "is_accepted": false, "score": 2, "last_activity_date": 1519329774, "creation_date": 1519329774, "answer_id": 48936239, "question_id": 48916255, "link": "https://stackoverflow.com/questions/48916255/how-to-pass-parameter-to-jenkins/48936239#48936239", "title": "How to pass parameter to Jenkins", "body": "<p>I was exploring different ways to do it and here is one way:<br></p>\n\n<p>Inside a Jenkins file - you can set to execute a 'shell' script. One of the commands from a shell script can be 'curl'. With a curl command - value from a GitHub repository (from a specific file in it) can be printed to a screen, it can be saved into a file or stored in temporary variable. In that way - build can be parametrized via github by storing specific values in separate files (in github repository) and content of a file can be read during a build. <br></p>\n\n<p>Another way is to use a jenkins hook inside github which will trigger a build every time code is committed. During that build - whole github repository (where code is committed) will be fetched and stored inside temporary directory on a server where Jenkins is running. From that (local) folder - any file from a (cloned) repository can be read into a variable and in that way parameterization can be achieved as well.</p>\n"}], "owner": {"reputation": 8627, "user_id": 5285068, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8967c033e617a2fb6f7d8fd7b5a12eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5285068/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519329774, "creation_date": 1519250576, "last_edit_date": 1519251773, "question_id": 48916255, "link": "https://stackoverflow.com/questions/48916255/how-to-pass-parameter-to-jenkins", "title": "How to pass parameter to Jenkins", "body": "<p>I am able to trigger a new Jenkins build every time code is committed into GitHub.</p>\n\n<p>Example of a Jenkinsfile in GitHub:</p>\n\n<pre><code>node ('aws-slaves') {\n    stage ('Gate 1: Checkout Code') {\n        wrap([$class: 'TimestamperBuildWrapper']) {\n            echo \"Deleting dir\"\n            deleteDir()\n        }\n    }\n}\n</code></pre>\n\n<p>How do I pass parameter from another GitHub file (that is in the same repo) and print parameter value?</p>\n"}, {"tags": ["python", "windows", "hadoop", "mapreduce", "hadoop-streaming"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1519254242, "post_id": 48916243, "comment_id": 84840424, "body": "You are running an old version of Hadoop. You might want to try upgrading to at least 2.7. Not sure if it&#39;ll help, though"}, {"owner": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 1, "creation_date": 1519254292, "post_id": 48916243, "comment_id": 84840450, "body": "I&#39;m pretty sure shebang only works in UNIX/Linux so your first line of &quot;D:\\digit\\wordcount-reducer.py&quot; being &quot;#!/usr/bin/python3&quot; will not invoke python."}, {"owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1519310775, "post_id": 48916243, "comment_id": 84867056, "body": "Thank you @cricket_007 , I gonna test it on Hadoop version 2.7.2 and 2.8.2, I will share my result here. But another question is that: Can I use same configuration for each version?"}, {"owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "reply_to_user": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 0, "creation_date": 1519311622, "post_id": 48916243, "comment_id": 84867740, "body": "Thank you @tk421 for answer, yes my problem is to call python. Indeed I run ( import sys, print(sys.executable) ) on python in order to achieve  &quot;#!/usr/bin/python3&quot;. So the problem is invoke python from windows cmd via Hadoop."}, {"owner": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 1, "creation_date": 1519323060, "post_id": 48916243, "comment_id": 84875479, "body": "Based on <a href=\"https://stackoverflow.com/questions/16217265/hadoop-streaming-with-python-on-windows\" title=\"hadoop streaming with python on windows\">stackoverflow.com/questions/16217265/&hellip;</a>, I would try: <code>-mapper &quot;python mapper.py&quot; -reducer &quot;python reduce.py&quot;</code>."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 0, "creation_date": 1519326309, "post_id": 48916243, "comment_id": 84877261, "body": "I think you are right @tk421 . In Linux, for example, the python script itself needs to be an executable. In windows, the python executable needs specifically called."}, {"owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "reply_to_user": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 0, "creation_date": 1519342413, "post_id": 48916243, "comment_id": 84884901, "body": "You @tk421 meant that I should remove &quot;#!/usr/bin/python3&quot; and apply python direct on my command? But when I do it I got another error which says there are undefined two words (python and mapper file), I try to test it via upper version of Hadoop or finally I have to execute it on Linux."}, {"owner": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 0, "creation_date": 1519410768, "post_id": 48916243, "comment_id": 84914955, "body": "Since it&#39;s Windows, maybe it should be <code>&quot;python3.exe mapper.py&quot;</code> or whatever you use to run mapper.py from your command prompt."}, {"owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "reply_to_user": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "edited": false, "score": 0, "creation_date": 1519498769, "post_id": 48916243, "comment_id": 84938625, "body": "Thank you @tk421 I removed &quot;#!/usr/bin/python3&quot; and add just &quot;python mapper.py&quot; on cmd windows."}, {"owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1519498814, "post_id": 48916243, "comment_id": 84938643, "body": "Thank you @cricket_007 I used upper version 2.7.2 and I got answer, I used same conf xml."}], "answers": [{"tags": [], "owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "is_accepted": true, "score": 7, "last_activity_date": 1519499248, "last_edit_date": 1519499248, "creation_date": 1519498613, "answer_id": 48966499, "question_id": 48916243, "link": "https://stackoverflow.com/questions/48916243/python-hadoop-streaming-on-windows-script-not-a-valid-win32-application/48966499#48966499", "title": "Python Hadoop streaming on windows, Script not a valid Win32 application", "body": "<p>Solution:</p>\n\n<ol>\n<li>I used Hadoop version 2.7.2 with almost same configuration for *.xml.</li>\n<li>I removed <code>#!/usr/bin/python3</code> from top of my python code.</li>\n</ol>\n\n<p>I changed my command as:</p>\n\n<pre><code>D:\\hadoop\\bin\\hadoop jar\nD:\\hadoop\\share\\hadoop\\tools\\lib\\hadoop-streaming-2.7.2.jar\n-file /in/wordcount-mapper.py -mapper \"python wordcount-mapper.py\"\n-file /in/wordcount-reducer.py -reducer \"python wordcount-reducer.py\"\n-input /in/mahsa.txt -output /output\n</code></pre>\n\n<p>Therefore I could get result.</p>\n\n<pre><code>hadoop fs -cat /output/part-00000\n</code></pre>\n"}], "owner": {"reputation": 1650, "user_id": 2292767, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LzOAD.jpg?s=128&g=1", "display_name": "Mahsa Hassankashi", "link": "https://stackoverflow.com/users/2292767/mahsa-hassankashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 3, "accepted_answer_id": 48966499, "answer_count": 1, "score": 5, "last_activity_date": 1519499248, "creation_date": 1519250535, "last_edit_date": 1519254031, "question_id": 48916243, "link": "https://stackoverflow.com/questions/48916243/python-hadoop-streaming-on-windows-script-not-a-valid-win32-application", "title": "Python Hadoop streaming on windows, Script not a valid Win32 application", "body": "<p>I have a problem to execute mapreduce python files on Hadoop by using Hadoop streaming.jar.</p>\n\n<p>I use:\nWindows 10 64bit\nPython 3.6 and my IDE is spyder 3.2.6,\nHadoop 2.3.0\njdk1.8.0_161</p>\n\n<p>I can get answer while my maperducec code is written on java language, but my problem is when I want to mingle python libraries such as tensorflow or other useful machine learning libs on my data.</p>\n\n<p>Installing hadoop 2.3.0:\n1. hadoop-env\n     export JAVA_HOME=C:\\Java\\jdk1.8.0_161\n2. I created data -> dfs in hadoop folder</p>\n\n<ol start=\"3\">\n<li><p>For environment\nUser Variable</p>\n\n<p>Hadoop_Home = D:\\hadoop\nJava_Home = C:\\Java\\jdk1.8.0_161\nM2_HOME = C:\\apache-maven-3.5.2\\apache-maven-3.5.2-bin\\Maven-3.5.2\nPlatform = x64</p></li>\n</ol>\n\n<p>System Varibales:\nEdit Path as:</p>\n\n<pre><code>D:\\hadoop\\bin\nC:\\java\\jdk1.8.0_161\\bin\nC:\\ProgramData\\Anaconda3\n</code></pre>\n\n<p>My MapReduce Python code:\nD:\\digit\\wordcount-mapper.py</p>\n\n<pre><code>#!/usr/bin/python3\nimport sys\nfor line in sys.stdin:    \n    line = line.strip()    # remove leading and trailing whitespace\n    words = line.split()   # split the line into words\n    for word in words:   \n        print( '%s\\t%s' % (word, 1))\n</code></pre>\n\n<p>D:\\digit\\wordcount-reducer.py</p>\n\n<pre><code>#!/usr/bin/python3\nfrom operator import itemgetter\nimport sys\ncurrent_word = None\ncurrent_count = 0\nword = None\nfor line in sys.stdin:    \n    line = line.strip()   \n    word, count = line.split('\\t', 1)  \n    try:    \n        count = int(count)   \n    except ValueError:\n        continue       \n    if current_word == word:    \n        current_count += count\n    else:\n        if current_word:\n            print( '%s\\t%s' % (current_word, current_count))\n        current_count = count\n        current_word = word\nif current_word == word:    \n    print( '%s\\t%s' % (current_word, current_count))\n</code></pre>\n\n<p>When I run my command prompt as administrator:</p>\n\n<pre><code>D:\\hadoop\\bin&gt; hadoop namenode -format\nD:\\hadoop\\sbin&gt;start-dfs.cmd\nD:\\hadoop\\sbin&gt;start-yarn.cmd\n</code></pre>\n\n<p>I checked : localhost:8088/ and <a href=\"http://localhost:50070\" rel=\"noreferrer\">http://localhost:50070</a>\nall is ok.</p>\n\n<p>Then when I enter:</p>\n\n<pre><code>D:\\hadoop\\sbin&gt;hadoop fs -mkdir -p /input\nD:\\hadoop\\sbin&gt;hadoop fs -copyFromLocal D:\\digit\\mahsa.txt /input\nD:\\hadoop\\sbin&gt;D:\\hadoop\\bin\\hadoop jar D:\\hadoop\\share\\hadoop\\tools\\lib\\hadoop-streaming-2.3.0.jar -file D:\\digit\\wordcount-mapper.py -mapper D:\\digit\\wordcount-mapper.py -file D:\\digit\\wordcount-reducer.py -reducer D:\\digit\\wordcount-reducer.py -input /input/mahsa.txt/ -output /output/\n</code></pre>\n\n<p>I have this error:</p>\n\n<pre><code>18/02/21 21:49:24 WARN streaming.StreamJob: -file option is deprecated, please use generic option -files instead.\npackageJobJar: [D:\\digit\\wordcount-mapper.py, D:\\digit\\wordcount-reducer.py, /D:/tmp/hadoop-Mahsa/hadoop-unjar7054071292684552905/] [] C:\\Users\\Mahsa\\AppData\\Local\\Temp\\streamjob2327207111481875361.jar tmpDir=null\n18/02/21 21:49:25 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n18/02/21 21:49:25 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n18/02/21 21:49:28 INFO mapred.FileInputFormat: Total input paths to process : 1\n18/02/21 21:49:28 INFO mapreduce.JobSubmitter: number of splits:2\n18/02/21 21:49:29 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1519235874088_0003\n18/02/21 21:49:29 INFO impl.YarnClientImpl: Submitted application application_1519235874088_0003\n18/02/21 21:49:29 INFO mapreduce.Job: The url to track the job: http://Mahsa:8088/proxy/application_1519235874088_0003/\n18/02/21 21:49:29 INFO mapreduce.Job: Running job: job_1519235874088_0003\n18/02/21 21:49:42 INFO mapreduce.Job: Job job_1519235874088_0003 running in uber mode : false\n18/02/21 21:49:42 INFO mapreduce.Job:  map 0% reduce 0%\n18/02/21 21:49:52 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000001_0, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000003\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:49:52 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000000_0, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000002\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:50:02 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000001_1, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000004\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:50:03 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000000_1, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000005\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:50:13 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000001_2, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000007\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:50:14 INFO mapreduce.Job: Task Id : attempt_1519235874088_0003_m_000000_2, Status : FAILED\nError: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:426)\n        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)\n        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:422)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)\n        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 9 more\nCaused by: java.lang.RuntimeException: Error in configuring object\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:109)\n        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:75)\n        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:133)\n        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:38)\n        ... 14 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:106)\n        ... 17 more\nCaused by: java.lang.RuntimeException: configuration exception\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:222)\n        at org.apache.hadoop.streaming.PipeMapper.configure(PipeMapper.java:66)\n        ... 22 more\nCaused by: java.io.IOException: Cannot run program \"D:\\tmp\\hadoop-Mahsa\\nm-local-dir\\usercache\\Mahsa\\appcache\\application_1519235874088_0003\\container_1519235874088_0003_01_000008\\.\\wordcount-mapper.py\": CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\n        at org.apache.hadoop.streaming.PipeMapRed.configure(PipeMapRed.java:209)\n        ... 23 more\nCaused by: java.io.IOException: CreateProcess error=193, %1 is not a valid Win32 application\n        at java.lang.ProcessImpl.create(Native Method)\n        at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)\n        at java.lang.ProcessImpl.start(ProcessImpl.java:137)\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n        ... 24 more\n\n18/02/21 21:50:24 INFO mapreduce.Job:  map 100% reduce 100%\n18/02/21 21:50:34 INFO mapreduce.Job: Job job_1519235874088_0003 failed with state FAILED due to: Task failed task_1519235874088_0003_m_000001\nJob failed as tasks failed. failedMaps:1 failedReduces:0\n\n18/02/21 21:50:34 INFO mapreduce.Job: Counters: 13\n        Job Counters\n                Failed map tasks=7\n                Killed map tasks=1\n                Launched map tasks=8\n                Other local map tasks=6\n                Data-local map tasks=2\n                Total time spent by all maps in occupied slots (ms)=66573\n                Total time spent by all reduces in occupied slots (ms)=0\n                Total time spent by all map tasks (ms)=66573\n                Total vcore-seconds taken by all map tasks=66573\n                Total megabyte-seconds taken by all map tasks=68170752\n        Map-Reduce Framework\n                CPU time spent (ms)=0\n                Physical memory (bytes) snapshot=0\n                Virtual memory (bytes) snapshot=0\n18/02/21 21:50:34 ERROR streaming.StreamJob: Job not Successful!\nStreaming Command Failed!\n</code></pre>\n\n<p>I really donot know what is problem it tool my time a lot.\nThank you in advanced for your help or any idea?</p>\n"}, {"tags": ["python", "image", "matplotlib", "image-processing", "scikit-image"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1519250812, "post_id": 48916237, "comment_id": 84839030, "body": "It looks like if the image was rotated by 180 degrees then the centre would be correct."}, {"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1519251707, "post_id": 48916237, "comment_id": 84839449, "body": "On that note, <code>im.shape[0]</code> returns image height, not width, so you perhaps are meaning to assign it to <code>Y</code> instead of <code>X</code>."}, {"owner": {"reputation": 1596, "user_id": 6494707, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a5a0386bef704f985d4eef036075b3fa?s=128&d=identicon&r=PG&f=1", "display_name": "S.EB", "link": "https://stackoverflow.com/users/6494707/s-eb"}, "reply_to_user": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1519307593, "post_id": 48916237, "comment_id": 84864705, "body": "@101 it does not make any changes."}], "answers": [{"comments": [{"owner": {"reputation": 1596, "user_id": 6494707, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a5a0386bef704f985d4eef036075b3fa?s=128&d=identicon&r=PG&f=1", "display_name": "S.EB", "link": "https://stackoverflow.com/users/6494707/s-eb"}, "edited": false, "score": 0, "creation_date": 1519593862, "post_id": 48933107, "comment_id": 84962215, "body": "Thank you very much for your help, this is working very well and it is very efficient :)"}], "tags": [], "owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "is_accepted": true, "score": 3, "last_activity_date": 1519318614, "creation_date": 1519318614, "answer_id": 48933107, "question_id": 48916237, "link": "https://stackoverflow.com/questions/48916237/finding-object-center-showing-wrong-coordinate-outside-of-the-target-object/48933107#48933107", "title": "Finding object center: showing wrong coordinate outside of the target object", "body": "<p>I think the function <code>find_center</code> is computing the center coordinates correctly. There is a much more elegant and efficient way to perform this calculation though (see the snippet below).</p>\n\n<p>The problem is that you are passing <code>xy1</code>, i.e. <code>[cx, cy]</code> to <code>plt.annotate</code>, but you need to pass <code>[cy, cx]</code>. If you change your code to <code>xy1 = find_center(img)[::-1]</code> the issue should be fixed.</p>\n\n<p>Give this code a try:</p>\n\n<pre><code>import numpy as np\nfrom skimage import io\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Circle\n\ntriskele = io.imread('https://i.stack.imgur.com/fczjh.png')\nimg = triskele &gt; 0\n\n[cx, cy] = np.transpose(np.nonzero(img)).mean(axis=0)\n\nfig, ax = plt.subplots(1)\nax.imshow(img, cmap=plt.cm.gray)\nax.axis('off')\nax.add_patch(Circle((cy, cx), radius=12, color='red'))\nplt.show(fig)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0G6i9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0G6i9.png\" alt=\"Center position\"></a></p>\n"}], "owner": {"reputation": 1596, "user_id": 6494707, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/a5a0386bef704f985d4eef036075b3fa?s=128&d=identicon&r=PG&f=1", "display_name": "S.EB", "link": "https://stackoverflow.com/users/6494707/s-eb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 48933107, "answer_count": 1, "score": 1, "last_activity_date": 1519319563, "creation_date": 1519250523, "last_edit_date": 1592644375, "question_id": 48916237, "link": "https://stackoverflow.com/questions/48916237/finding-object-center-showing-wrong-coordinate-outside-of-the-target-object", "title": "Finding object center: showing wrong coordinate outside of the target object", "body": "<p>I followed the code in <a href=\"https://stackoverflow.com/questions/37519238/python-find-center-of-object-in-an-image\">this link</a> to find the object center for my graylevel image,</p>\n<pre><code>def find_center(im):\n    immat = im\n    (X, Y) = [im.shape[0],im.shape[1]]\n    m = np.zeros((X, Y))\n\n    for x in range(X):\n        for y in range(Y):\n            m[x, y] = immat[(x, y)] != 0\n    m = m / np.sum(np.sum(m))\n\n\n    # marginal distributions\n    dx = np.sum(m, 1)\n    dy = np.sum(m, 0)\n\n    # expected values\n    cx = np.sum(dx * np.arange(X))\n    cy = np.sum(dy * np.arange(Y))\n    return [cx,cy]\n\nxy1=find_center(img)  #img is a binary image, object has value==1 and back ground value of 0\nprint xy1\nplt.imshow(img)\nplt.annotate('center', xy1, xycoords='data',\n             xytext=(0.5, 0.5), textcoords='figure fraction',\n             arrowprops=dict(arrowstyle=&quot;-&gt;&quot;))\nplt.show()\n</code></pre>\n<p>However, I am not getting the right answer (the center is not inside the object), the following image shows the output:</p>\n<p><a href=\"https://i.stack.imgur.com/XpxB6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XpxB6.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 442, "user_id": 7199399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0COOtspu6UM/AAAAAAAAAAI/AAAAAAAAABQ/igiiwfWg75k/photo.jpg?sz=128", "display_name": "Dawit Abate", "link": "https://stackoverflow.com/users/7199399/dawit-abate"}, "edited": false, "score": 0, "creation_date": 1519250627, "post_id": 48916226, "comment_id": 84838932, "body": "so do you want the first elements on every line?"}, {"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1519250631, "post_id": 48916226, "comment_id": 84838934, "body": "so you just want the first instance in each string?"}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1519250683, "post_id": 48916226, "comment_id": 84838960, "body": "@C8H10N4O2 Yes.."}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 442, "user_id": 7199399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0COOtspu6UM/AAAAAAAAAAI/AAAAAAAAABQ/igiiwfWg75k/photo.jpg?sz=128", "display_name": "Dawit Abate", "link": "https://stackoverflow.com/users/7199399/dawit-abate"}, "edited": false, "score": 0, "creation_date": 1519250951, "post_id": 48916226, "comment_id": 84839093, "body": "@DawitAbate Ah.. I see the source of confusion.. Actually its not each line.. but rather a blob that I get.."}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1519250974, "post_id": 48916226, "comment_id": 84839103, "body": "@C8H10N4O2 Ah.. I see the source of confusion.. Actually its not each line.. but rather a blob that I get. I edited the input to reflect that"}, {"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 1, "creation_date": 1519251154, "post_id": 48916226, "comment_id": 84839187, "body": "so you want text nested in curly braces that <b>isn&#39;t</b> nested in parentheses?  can you explain the requirement completely?"}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1519251364, "post_id": 48916226, "comment_id": 84839280, "body": "@C8H10N4O2 I want the output of above to be abc and memo... which are like the &quot;first&quot; instances in each numbered list.. I was thinking like regex to match <code>{</code> on left and &#39;} (&#39; on right to do this.. as this will capture abc and memo.. but unable to come up with regex"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1519251609, "post_id": 48916226, "comment_id": 84839401, "body": "This is quite tricky to do with a regex and fairly easy to do with a stateful parser.  I recommend to ditch the regex approach."}], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 1, "last_activity_date": 1519251395, "creation_date": 1519251395, "answer_id": 48916441, "question_id": 48916226, "link": "https://stackoverflow.com/questions/48916226/extracting-text-between-curly-braces-in-python/48916441#48916441", "title": "Extracting text between curly braces in python", "body": "<p>You can do:</p>\n\n<pre><code>\\d+\\.[^{]*{\\s+([^}]+)\\s+}\n</code></pre>\n\n<p>and get the captured groups.</p>\n\n<ul>\n<li><p><code>\\d+\\.</code> matches one or more digits, followed by a <code>.</code></p></li>\n<li><p><code>[^{]*</code> matches upto the next <code>{</code>, <code>{\\s+</code> matches <code>{</code>, followed by one or more whitespaces</p></li>\n<li><p>the captured group, <code>([^}]+)</code> matches upto next <code>}</code></p></li>\n<li><p><code>\\s+}</code> matches one or more whitespaces, followed by <code>}</code></p></li>\n</ul>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [48]: blob = '1. Foobar { abc } ( Explanation - Foo { cde } - Count - 5301435 ) 2. Foobaz { memo } ( Explanation - baz {bleh } - Count - 13946664 )'\n\nIn [49]: re.findall(r'\\d+\\.[^{]*{\\s+([^}]+)\\s+}', blob)\nOut[49]: ['abc', 'memo']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 1, "last_activity_date": 1519251637, "creation_date": 1519251637, "answer_id": 48916492, "question_id": 48916226, "link": "https://stackoverflow.com/questions/48916226/extracting-text-between-curly-braces-in-python/48916492#48916492", "title": "Extracting text between curly braces in python", "body": "<p>Simple <code>re.findall()</code> approach:</p>\n\n<pre><code>import re\n\ns = '1. Foobar { abc } ( Explanation - Foo { cde } - Count - 5301435 ) 2. Foobaz { memo } ( Explanation - baz {bleh } - Count - 13946664 )'\nresult = re.findall(r'\\{ ([^{}]+) \\} (?=\\()', s)\n\nprint(result)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>['abc', 'memo']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "is_accepted": false, "score": 3, "last_activity_date": 1519251675, "creation_date": 1519251675, "answer_id": 48916501, "question_id": 48916226, "link": "https://stackoverflow.com/questions/48916226/extracting-text-between-curly-braces-in-python/48916501#48916501", "title": "Extracting text between curly braces in python", "body": "<p>I would keep it simple.</p>\n\n<pre><code>import re\n\ns = '1. Foobar { abc } ( Explanation - Foo { cde } - Count - 5301435 ) 2. Foobaz { memo } ( Explanation - baz {bleh } - Count - 13946664 )'\n\ns_without_parens = re.sub('\\(.+?\\)','',s)\n\ntext_in_brackets = re.findall('{(.+?)}',s_without_parens)\n\ntext_in_brackets\n\n[' abc ', ' memo ']\n</code></pre>\n\n<p>So you can nest that as <code>re.findall('{(.+?)}',re.sub('\\(.+?\\)','',s))</code>, but I find it helpful to break it into logical steps.</p>\n"}], "owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3364, "favorite_count": 0, "accepted_answer_id": 48916441, "answer_count": 3, "score": 0, "last_activity_date": 1519251863, "creation_date": 1519250459, "last_edit_date": 1519251863, "question_id": 48916226, "link": "https://stackoverflow.com/questions/48916226/extracting-text-between-curly-braces-in-python", "title": "Extracting text between curly braces in python", "body": "<p>I have a string of text like following</p>\n\n<p><code>1. Foobar { abc } ( Explanation - Foo { cde } - Count - 5301435 ) 2. Foobaz { memo } ( Explanation - baz {bleh } - Count - 13946664 )</code></p>\n\n<p>And I want to extract\n<code>abc</code> and <code>memo</code> in the above string.\nI have the regex as follows [link <a href=\"https://pythex.org/?regex=%7B(%3F%3A%5B%5E%7B%7D%5D)*%7D&amp;test_string=1.%20Foobar%20%7B%20abc%20%7D%20(%20Explanation%20-%20Foo%7B%20cde%20%7D%20-%20Count%20-%205301435%20)%0A2.%20Foobaz%20%7B%20memo%20%7D%20(%20Explanation%20-%20baz%7Bbleh%20%7D%20-%20Count%20-%2013946664%20)&amp;ignorecase=0&amp;multiline=0&amp;dotall=0&amp;verbose=0\" rel=\"nofollow noreferrer\">here]\n</a>\nessentially <code>{(?:[^{}])*}</code>\nBut it captures everything <code>(returns abc, cde, memo, bleh)</code></p>\n"}, {"tags": ["python", "pyqt5"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1519250442, "post_id": 48916199, "comment_id": 84838849, "body": "There&#39;s a small mountain of code here and no actual problem to solve as far as I can tell, just a wish list of things you&#39;d like to have happen."}, {"owner": {"reputation": 333, "user_id": 9302040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f56d69ddb224a3532d5719b9eb9be74?s=128&d=identicon&r=PG&f=1", "display_name": "GreenCoder90", "link": "https://stackoverflow.com/users/9302040/greencoder90"}, "edited": false, "score": 0, "creation_date": 1519251636, "post_id": 48916199, "comment_id": 84839412, "body": "I have tried to implement it but Its not correct. The attempt is in the edited code above."}], "answers": [{"tags": [], "owner": {"reputation": 383, "user_id": 9003672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5e43c6f67cda30cca8076c03debe68?s=128&d=identicon&r=PG&f=1", "display_name": "Binit Amin", "link": "https://stackoverflow.com/users/9003672/binit-amin"}, "is_accepted": false, "score": 0, "last_activity_date": 1519279997, "creation_date": 1519279997, "answer_id": 48920764, "question_id": 48916199, "link": "https://stackoverflow.com/questions/48916199/username-password-implementation/48920764#48920764", "title": "Username &amp; Password Implementation", "body": "<p>We can't write a complete code for you, but you can do like this. Try to implement in this way. This might not be the best way to implement, but this will solve your purpose.</p>\n\n<pre><code># main class import statement. \n\nclass mainwindow()  \n    def __init__():\n    # do your main class activity.\n\nif __name__ == \"__main__\": \n    app = QtGui.QApplication(sys.argv)\n    loginObj = login.login()  # login class object import it into your main class code\n    loginObj.setModal(True)  # Model window, use model window, \"QDialog\"\n    if not loginObj.succ_login_flag:  # set this flag TRUE after success login attempt\n        sys.exit(0)  # exit main class\n\n    MainWindow = mainWindow()\n    MainWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 9302040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0f56d69ddb224a3532d5719b9eb9be74?s=128&d=identicon&r=PG&f=1", "display_name": "GreenCoder90", "link": "https://stackoverflow.com/users/9302040/greencoder90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1519279997, "creation_date": 1519250308, "last_edit_date": 1519252034, "question_id": 48916199, "link": "https://stackoverflow.com/questions/48916199/username-password-implementation", "title": "Username &amp; Password Implementation", "body": "<p>I have a login window that I have coded in Python and I would like for the user to enter a username and password into this form in order to bring up the main window. What is the best way to implement this functionality? </p>\n\n<p>I am not sure how to go about it. I am using PyQt5. Here is my Login class. I want the main class to appear as soon as the correct username and password has been entered into the login form. I have made an attempt at this but I cannot seem to get it to work.</p>\n\n<p>Login Class</p>\n\n<pre><code>    # Import Statements\nfrom PyQt5 import QtCore, QtGui, QtWidgets\nfrom MainGuiWindow import Ui_MainWindow\n\n# Main Class that holds User Interface Objects\nclass Ui_loginWindow(object):\n\n    # Function for Opening Main GUI window from login window by clicking login button\n    def openMainWindow(self):\n        self.window = QtWidgets.QMainWindow()\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self.window)\n        loginWindow.hide()\n        self.window.show()\n\n    def setupUi(self, loginWindow):\n        loginWindow.setObjectName(\"loginWindow\")\n        loginWindow.setFixedSize(393, 183)\n        self.centralwidget = QtWidgets.QWidget(loginWindow)\n        self.centralwidget.setObjectName(\"centralwidget\")\n\n        # username label\n        self.usernameLabel = QtWidgets.QLabel(self.centralwidget)\n        self.usernameLabel.setGeometry(QtCore.QRect(10, 20, 84, 19))\n        font = QtGui.QFont()\n        font.setFamily(\"Arial\")\n        font.setPointSize(12)\n        font.setBold(True)\n        font.setWeight(75)\n        self.usernameLabel.setFont(font)\n        self.usernameLabel.setObjectName(\"usernameLabel\")\n\n        # password label\n        self.passwordLabel = QtWidgets.QLabel(self.centralwidget)\n        self.passwordLabel.setGeometry(QtCore.QRect(10, 70, 83, 19))\n        font = QtGui.QFont()\n        font.setFamily(\"Arial\")\n        font.setPointSize(12)\n        font.setBold(True)\n        font.setWeight(75)\n        self.passwordLabel.setFont(font)\n        self.passwordLabel.setObjectName(\"passwordLabel\")\n\n        # login button\n        self.loginButton = QtWidgets.QPushButton(self.centralwidget)\n        self.loginButton.setGeometry(QtCore.QRect(280, 110, 101, 27))\n        font = QtGui.QFont()\n        font.setFamily(\"Arial\")\n        font.setPointSize(12)\n        font.setBold(True)\n        font.setWeight(75)\n        self.loginButton.setFont(font)\n        self.loginButton.setObjectName(\"loginButton\")\n\n        # username TF\n        self.lineEdit = QtWidgets.QLineEdit(self.centralwidget)\n        self.lineEdit.setGeometry(QtCore.QRect(100, 20, 141, 20))\n        self.lineEdit.setObjectName(\"usernameTF\")\n\n        # passwordTF\n        self.lineEdit_2 = QtWidgets.QLineEdit(self.centralwidget)\n        self.lineEdit_2.setGeometry(QtCore.QRect(100, 70, 141, 20))\n        self.lineEdit_2.setObjectName(\"passwordTF\")\n        loginWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtWidgets.QMenuBar(loginWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 393, 21))\n        self.menubar.setObjectName(\"menubar\")\n        loginWindow.setMenuBar(self.menubar)\n        self.statusbar = QtWidgets.QStatusBar(loginWindow)\n        self.statusbar.setObjectName(\"statusbar\")\n        loginWindow.setStatusBar(self.statusbar)\n\n        self.retranslateUi(loginWindow)\n        QtCore.QMetaObject.connectSlotsByName(loginWindow)\n\n    # Function that sets the text on all the UI Buttons\n    def retranslateUi(self, loginWindow):\n        _translate = QtCore.QCoreApplication.translate\n        loginWindow.setWindowTitle(_translate(\"loginWindow\", \"Android SQLite DB Parser Login\"))\n        self.usernameLabel.setText(_translate(\"loginWindow\", \"Username:\"))\n        self.passwordLabel.setText(_translate(\"loginWindow\", \"Password:\"))\n        self.loginButton.setText(_translate(\"loginWindow\", \"Login\"))\n\n    # login functionality to login to MainGUuiWindow\n    username = \"admin\"\n    password = \"password\"\n    def doLogin(self):\n            username = str(self.ui.lineEdit.text())\n            password = str(self.ui.lineEdit2.text())\n            if username == \"admin\" and password == \"password\":\n                self.loginButton.clicked.connect(self.openMainWindow)\n            else:\n                QtGui.QMessageBox.warning(self,\"Bad username or password\", QtGui.QMessageBox.Ok)\n\n\n    # Event Handling Code Section\n\n        # Event Handling to open Main GUI Window\n            self.loginButton.clicked.connect(self.openMainWindow)\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    loginWindow = QtWidgets.QMainWindow()\n    ui = Ui_loginWindow()\n    ui.setupUi(loginWindow)\n    loginWindow.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 763, "user_id": 2351027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06043828fe6c14c215de4b7d7586a332?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2351027/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1519251091, "creation_date": 1519251091, "answer_id": 48916379, "question_id": 48916181, "link": "https://stackoverflow.com/questions/48916181/import-file-from-top-of-hierarchy-folder/48916379#48916379", "title": "Import file from top of hierarchy folder", "body": "<p>Give this a try instead</p>\n\n<pre><code># file dataBase\nfrom sqlalchemy.ext.declarative import declarative_base\n\nBase = declarative_base()\n\nclass MY_OBJECT(Base):\n  # your mappings here\n\n# other file looking for base\nimport dataBase\nbase = dataBase.Base # access your base like this\n</code></pre>\n\n<p>works well for me</p>\n"}, {"tags": [], "owner": {"reputation": 2992, "user_id": 7401159, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bJEJG.png?s=128&g=1", "display_name": "Wright", "link": "https://stackoverflow.com/users/7401159/wright"}, "is_accepted": false, "score": 0, "last_activity_date": 1519252153, "last_edit_date": 1519252153, "creation_date": 1519251563, "answer_id": 48916480, "question_id": 48916181, "link": "https://stackoverflow.com/questions/48916181/import-file-from-top-of-hierarchy-folder/48916480#48916480", "title": "Import file from top of hierarchy folder", "body": "<p>Put the full path to the directory the file is under into <code>sys.path.insert</code>. For example, If the full path to <code>dataBase</code> were <code>C:/Users/Me/RentalApp/dataBase</code>. You can do:</p>\n\n<pre><code>import sys\nsys.path.insert(0, 'C:/Users/Me/RentalApp')\n\nfrom dataBase import Base\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3284303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427b260952e4be5a1b142bdd65ec1637?s=128&d=identicon&r=PG&f=1", "display_name": "user3284303", "link": "https://stackoverflow.com/users/3284303/user3284303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519255891, "creation_date": 1519250238, "last_edit_date": 1519252269, "question_id": 48916181, "link": "https://stackoverflow.com/questions/48916181/import-file-from-top-of-hierarchy-folder", "title": "Import file from top of hierarchy folder", "body": "<p>I can't import variable \"Base\" from file (dataBase.py) of top of hierarchy structure like this:\n<a href=\"https://i.stack.imgur.com/DYK24.png\" rel=\"nofollow noreferrer\">Structure and file dataBase.py</a></p>\n\n<p>Content of Store.py:\n</p>\n\n<pre><code>from sqlalchemy import Column, String, Integer\nfrom dataBase import Base\n\n\nclass Store(Base):\n    __tablename__ = 'stores'\n\n    id = Column(Integer, primary_key=True)\n    name = Column(String(50))\n\n    def __init__(self, name):\n        self.name = name\n</code></pre>\n\n<p>line: \"from dataBase import Base\" doesn't work - I'm getting:   </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>File \"Store/Store.py\", line 2, in &lt;module&gt;\n    from dataBase import Base\nImportError: No module named 'dataBase'\n</code></pre>\n\n<p>I tried to add to all folders a file:\n</p>\n\n<pre><code>__init__.py\n</code></pre>\n\n<p>but the error is still the same like before.</p>\n"}, {"tags": ["python", "python-3.x", "list", "for-loop", "append"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 3, "creation_date": 1519250241, "post_id": 48916154, "comment_id": 84838773, "body": "This script fails with an error. If you can&#39;t see the error you should run it differently (e.g. from commandline)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1519250246, "post_id": 48916154, "comment_id": 84838777, "body": "Why not just <code>ppst = [adjusted_exc_pass_numbers[index] for index in processed_start_times]</code>? Iterating over <code>range(len(thing))</code> is generally unidiomatic in Python."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 2, "creation_date": 1519250349, "post_id": 48916154, "comment_id": 84838812, "body": "You get an error because the last element of <code>adjusted_exc_pass_numbers</code> is 48 and <code>processed_start_times</code> only has 44 elements. Hence in the loop Python can&#39;t get the 48th element of <code>processed_start_times</code> and IndexErrors."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1519250818, "post_id": 48916154, "comment_id": 84839033, "body": "Also you shouldn&#39;t use a loop, as <code>jonrsharpe</code> mentioned. also try: <code>list(map(processed_start_times.__getitem__, adjusted_exc_pass_numbers))</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1519250875, "post_id": 48916154, "comment_id": 84839059, "body": "Avoid <code>for element in range(len(x)):</code>, just use <code>for element in x:</code>"}, {"owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252305, "post_id": 48916154, "comment_id": 84839724, "body": "@jonrsharpe I tried your method but it doesn&#39;t work for me. Again no error is reported in IDLE. I will change the range thing though."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519252340, "post_id": 48916154, "comment_id": 84839742, "body": "It should absolutely report an error: as everyone else has pointed out, you&#39;re trying to access an index beyond the end of the list. My suggestion didn&#39;t change that problem, it&#39;s just a neater way to express the same logic."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1519252746, "post_id": 48916154, "comment_id": 84839882, "body": "Which Python version on which OS do you use?"}, {"owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1519253292, "post_id": 48916154, "comment_id": 84840086, "body": "@jonrsharpe I understand. Thank you for the suggestion."}, {"owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1519253317, "post_id": 48916154, "comment_id": 84840093, "body": "@MichaelButscher I am using 3.6.4 on Windows 10."}, {"owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "edited": false, "score": 0, "creation_date": 1519253965, "post_id": 48916154, "comment_id": 84840320, "body": "Also, I&#39;m sorry but I have changed the length of the 44 element list so that it is the full 52 elements long and I am still having the same issue."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1519254379, "post_id": 48916154, "comment_id": 84840475, "body": "If you use IDLE to run the code, try to run some simple test code like <code>bla</code>. If you don&#39;t get a traceback with <code>NameError</code> as response it makes no sense to fix a particular error in your code because you won&#39;t be able to see any further errors (which will occur)."}, {"owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1519254473, "post_id": 48916154, "comment_id": 84840503, "body": "@MichaelButscher I understand and I&#39;ll give it a go. Thank you for your help."}], "answers": [{"tags": [], "owner": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "is_accepted": true, "score": 0, "last_activity_date": 1519250473, "creation_date": 1519250473, "answer_id": 48916230, "question_id": 48916154, "link": "https://stackoverflow.com/questions/48916154/append-function-not-working-in-for-loop-python-3/48916230#48916230", "title": "append function not working in for loop Python 3", "body": "<p>When I run this code I get an IndexError at the line</p>\n\n<pre><code>ppst.append(processed_start_times[int(adjusted_exc_pass_numbers[element])])\n</code></pre>\n\n<p>The reason for this is because as you are iterating, element will be 0,1,2,3..., <code>adjusted_exc_pass_numbers[element]</code> will be 0,6,9,16,..., and eventually you will be trying to get index 48 from <code>processed_start_times</code>, a list which only has 44 entries. Not sure why you are completing the loop without any errors but this is the problem as far as I can tell.</p>\n"}], "owner": {"reputation": 137, "user_id": 9264948, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1811392678902754/picture?type=large", "display_name": "Lorcan Kelleher", "link": "https://stackoverflow.com/users/9264948/lorcan-kelleher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 48916230, "answer_count": 1, "score": -1, "last_activity_date": 1519250473, "creation_date": 1519250125, "question_id": 48916154, "link": "https://stackoverflow.com/questions/48916154/append-function-not-working-in-for-loop-python-3", "title": "append function not working in for loop Python 3", "body": "<p>I have a for loop running that creates a new list of select Unix times from elements of another list containing multiple Unix times, the index of those elements is in turn given by another list. My problem is that within this for loop the append function is not working and I have no idea why as I get no errors. The print function is simply ignored after the for loop. I'm not sure what I'm doing wrong. Could someone help me out?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>adjusted_exc_pass_numbers = [0, 6, 9, 16, 19, 22, 25, 32, 35, 41, 48]\nprocessed_start_times = [1519275660, 1519287600, 1519325040, 1519336920, 1519360080, 1519365900, 1519371900, 1519409400, 1519415340, 1519421280, 1519450260, 1519456200, 1519499700, 1519534680, 1519540560, 1519546620, 1519584060, 1519596000, 1519619160, 1519624920, 1519630920, 1519668420, 1519674360, 1519680360, 1519709340, 1519715220, 1519758720, 1519793760, 1519799580, 1519805700, 1519843080, 1519855020, 1519878180, 1519884000, 1519890000, 1519927500, 1519939380, 1519968360, 1519974300, 1520017800, 1520052780, 1520058660, 1520064720, 1520102160]\nppst = []\nfor element in range(len(adjusted_exc_pass_numbers)):\n    ppst.append(processed_start_times[int(adjusted_exc_pass_numbers[element])])\nprint(ppst)\n</code></pre>\n\n<p>When I run this, print is ignored and the rest of the code executes as if the statement was not there. I don't understand why it is not appending or printing.</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["python", "pandas", "google-finance"], "answers": [{"tags": [], "owner": {"reputation": 2425, "user_id": 7891828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVvYo.png?s=128&g=1", "display_name": "AS Mackay", "link": "https://stackoverflow.com/users/7891828/as-mackay"}, "is_accepted": true, "score": 1, "last_activity_date": 1519298243, "creation_date": 1519298243, "answer_id": 48926106, "question_id": 48916089, "link": "https://stackoverflow.com/questions/48916089/downloading-stock-prices-from-google-finance/48926106#48926106", "title": "Downloading stock prices from Google Finance", "body": "<p>Well, for some reason, Google don't seem to have the day-series price data for Lockheed Martin for 2017 (the ticker symbol your query failed on.)</p>\n\n<p>Also, Google don't like automated queries on financial data: if I run your code I regularly get a response including the text \"We're sorry... but your computer or network may be sending automated queries. To protect our users, we can't process your request right now.\"</p>\n\n<p>If you just want the price data, one simple answer is to use Yahoo instead. Here's a test program (based on your code) that I ran on Yahoo, to check for how many of your symbols it could supply price data:</p>\n\n<pre><code>import pandas as pd\nimport requests\nfrom bs4 import BeautifulSoup\nfrom datetime import datetime\nimport pandas_datareader.data as web\n\ndata_source = 'yahoo'\nstart='2017-01-01'\nend = '2018-01-01'\n\ntickers = ['MMM', 'ABT', 'ABBV', 'ACN', 'ATVI', 'AYI', 'ADBE', 'AMD', 'AAP', 'AES', 'AET', 'AMG', 'AFL', 'A', 'APD', 'AKAM', 'ALK', 'ALB', 'ARE', 'ALXN', 'ALGN', 'ALLE', 'AGN', 'ADS', 'LNT', 'ALL', 'GOOGL', 'GOOG', 'MO', 'AMZN', 'AEE', 'AAL', 'AEP', 'AXP', 'AIG', 'AMT', 'AWK', 'AMP', 'ABC', 'AME', 'AMGN', 'APH', 'APC', 'ADI', 'ANDV', 'ANSS', 'ANTM', 'AON', 'AOS', 'APA', 'AIV', 'AAPL', 'AMAT', 'APTV', 'ADM', 'ARNC', 'AJG', 'AIZ', 'T', 'ADSK', 'ADP', 'AZO', 'AVB', 'AVY', 'BHGE', 'BLL', 'BAC', 'BK', 'BAX', 'BBT', 'BDX', 'BRK.B', 'BBY', 'BIIB', 'BLK', 'HRB', 'BA', 'BWA', 'BXP', 'BSX', 'BHF', 'BMY', 'AVGO', 'BF.B', 'CHRW', 'CA', 'COG', 'CDNS', 'CPB', 'COF', 'CAH', 'CBOE', 'KMX', 'CCL', 'CAT', 'CBG', 'CBS', 'CELG', 'CNC', 'CNP', 'CTL', 'CERN', 'CF', 'SCHW', 'CHTR', 'CHK', 'CVX', 'CMG', 'CB', 'CHD', 'CI', 'XEC', 'CINF', 'CTAS', 'CSCO', 'C', 'CFG', 'CTXS', 'CLX', 'CME', 'CMS', 'KO', 'CTSH', 'CL', 'CMCSA', 'CMA', 'CAG', 'CXO', 'COP', 'ED', 'STZ', 'COO', 'GLW', 'COST', 'COTY', 'CCI', 'CSRA', 'CSX', 'CMI', 'CVS', 'DHI', 'DHR', 'DRI', 'DVA', 'DE', 'DAL', 'XRAY', 'DVN', 'DLR', 'DFS', 'DISCA', 'DISCK', 'DISH', 'DG', 'DLTR', 'D', 'DOV', 'DWDP', 'DPS', 'DTE', 'DRE', 'DUK', 'DXC', 'ETFC', 'EMN', 'ETN', 'EBAY', 'ECL', 'EIX', 'EW', 'EA', 'EMR', 'ETR', 'EVHC', 'EOG', 'EQT', 'EFX', 'EQIX', 'EQR', 'ESS', 'EL', 'ES', 'RE', 'EXC', 'EXPE', 'EXPD', 'ESRX', 'EXR', 'XOM', 'FFIV', 'FB', 'FAST', 'FRT', 'FDX', 'FIS', 'FITB', 'FE', 'FISV', 'FLIR', 'FLS', 'FLR', 'FMC', 'FL', 'F', 'FTV', 'FBHS', 'BEN', 'FCX', 'GPS', 'GRMN', 'IT', 'GD', 'GE', 'GGP', 'GIS', 'GM', 'GPC', 'GILD', 'GPN', 'GS', 'GT', 'GWW', 'HAL', 'HBI', 'HOG', 'HRS', 'HIG', 'HAS', 'HCA', 'HCP', 'HP', 'HSIC', 'HSY', 'HES', 'HPE', 'HLT', 'HOLX', 'HD', 'HON', 'HRL', 'HST', 'HPQ', 'HUM', 'HBAN', 'HII', 'IDXX', 'INFO', 'ITW', 'ILMN', 'IR', 'INTC', 'ICE', 'IBM', 'INCY', 'IP', 'IPG', 'IFF', 'INTU', 'ISRG', 'IVZ', 'IQV', 'IRM', 'JEC', 'JBHT', 'SJM', 'JNJ', 'JCI', 'JPM', 'JNPR', 'KSU', 'K', 'KEY', 'KMB', 'KIM', 'KMI', 'KLAC', 'KSS', 'KHC', 'KR', 'LB', 'LLL', 'LH', 'LRCX', 'LEG', 'LEN', 'LUK', 'LLY', 'LNC', 'LKQ', 'LMT', 'L', 'LOW', 'LYB', 'MTB', 'MAC', 'M', 'MRO', 'MPC', 'MAR', 'MMC', 'MLM', 'MAS', 'MA', 'MAT', 'MKC', 'MCD', 'MCK', 'MDT', 'MRK', 'MET', 'MTD', 'MGM', 'KORS', 'MCHP', 'MU', 'MSFT', 'MAA', 'MHK', 'TAP', 'MDLZ', 'MON', 'MNST', 'MCO', 'MS', 'MOS', 'MSI', 'MYL', 'NDAQ', 'NOV', 'NAVI', 'NTAP', 'NFLX', 'NWL', 'NFX', 'NEM', 'NWSA', 'NWS', 'NEE', 'NLSN', 'NKE', 'NI', 'NBL', 'JWN', 'NSC', 'NTRS', 'NOC', 'NCLH', 'NRG', 'NUE', 'NVDA', 'ORLY', 'OXY', 'OMC', 'OKE', 'ORCL', 'PCAR', 'PKG', 'PH', 'PDCO', 'PAYX', 'PYPL', 'PNR', 'PBCT', 'PEP', 'PKI', 'PRGO', 'PFE', 'PCG', 'PM', 'PSX', 'PNW', 'PXD', 'PNC', 'RL', 'PPG', 'PPL', 'PX', 'PCLN', 'PFG', 'PG', 'PGR', 'PLD', 'PRU', 'PEG', 'PSA', 'PHM', 'PVH', 'QRVO', 'PWR', 'QCOM', 'DGX', 'RRC', 'RJF', 'RTN', 'O', 'RHT', 'REG', 'REGN', 'RF', 'RSG', 'RMD', 'RHI', 'ROK', 'COL', 'ROP', 'ROST', 'RCL', 'CRM', 'SBAC', 'SCG', 'SLB', 'SNI', 'STX', 'SEE', 'SRE', 'SHW', 'SIG', 'SPG', 'SWKS', 'SLG', 'SNA', 'SO', 'LUV', 'SPGI', 'SWK', 'SBUX', 'STT', 'SRCL', 'SYK', 'STI', 'SYMC', 'SYF', 'SNPS', 'SYY', 'TROW', 'TPR', 'TGT', 'TEL', 'FTI', 'TXN', 'TXT', 'TMO', 'TIF', 'TWX', 'TJX', 'TMK', 'TSS', 'TSCO', 'TDG', 'TRV', 'TRIP', 'FOXA', 'FOX', 'TSN', 'UDR', 'ULTA', 'USB', 'UAA', 'UA', 'UNP', 'UAL', 'UNH', 'UPS', 'URI', 'UTX', 'UHS', 'UNM', 'VFC', 'VLO', 'VAR', 'VTR', 'VRSN', 'VRSK', 'VZ', 'VRTX', 'VIAB', 'V', 'VNO', 'VMC', 'WMT', 'WBA', 'DIS', 'WM', 'WAT', 'WEC', 'WFC', 'HCN', 'WDC', 'WU', 'WRK', 'WY', 'WHR', 'WMB', 'WLTW', 'WYN', 'WYNN', 'XEL', 'XRX', 'XLNX', 'XL', 'XYL', 'YUM', 'ZBH', 'ZION', 'ZTS']\nfail_count = 0\nok_count = 0\n\nfor ticker in tickers:\n    try:\n        result = web.DataReader('MMM', data_source, start, end)\n        print (\"got data for \" + ticker + \" \" + repr(result.shape))\n        ok_count += 1\n    except:\n        print (\"did not get data for \" + ticker)\n        fail_count += 1\n\nprint repr(ok_count) + \" loads, \" + repr(fail_count) + \" failures\"\n</code></pre>\n\n<p>... and the answer is, all of them:</p>\n\n<pre><code>...\ngot data for XRX (251, 6)\ngot data for XLNX (251, 6)\ngot data for XL (251, 6)\ngot data for XYL (251, 6)\ngot data for YUM (251, 6)\ngot data for ZBH (251, 6)\ngot data for ZION (251, 6)\ngot data for ZTS (251, 6)\n505 loads, 0 failures\n</code></pre>\n\n<p>Hope this may help.</p>\n"}], "owner": {"reputation": 674, "user_id": 8644706, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1677447062326774/picture?type=large", "display_name": "Kevin Choi", "link": "https://stackoverflow.com/users/8644706/kevin-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8826, "favorite_count": 2, "accepted_answer_id": 48926106, "answer_count": 1, "score": 0, "last_activity_date": 1535954186, "creation_date": 1519249854, "question_id": 48916089, "link": "https://stackoverflow.com/questions/48916089/downloading-stock-prices-from-google-finance", "title": "Downloading stock prices from Google Finance", "body": "<pre><code>import pandas as pd\nimport requests\n\nfrom bs4 import BeautifulSoup\nfrom datetime import datetime\nimport pandas_datareader.data as web\n\ntickers\n['MMM', 'ABT', 'ABBV', 'ACN', 'ATVI', 'AYI', 'ADBE', 'AMD', 'AAP', 'AES', 'AET', 'AMG', 'AFL', 'A', 'APD', 'AKAM', 'ALK', 'ALB', 'ARE', 'ALXN', 'ALGN', 'ALLE', 'AGN', 'ADS', 'LNT', 'ALL', 'GOOGL', 'GOOG', 'MO', 'AMZN', 'AEE', 'AAL', 'AEP', 'AXP', 'AIG', 'AMT', 'AWK', 'AMP', 'ABC', 'AME', 'AMGN', 'APH', 'APC', 'ADI', 'ANDV', 'ANSS', 'ANTM', 'AON', 'AOS', 'APA', 'AIV', 'AAPL', 'AMAT', 'APTV', 'ADM', 'ARNC', 'AJG', 'AIZ', 'T', 'ADSK', 'ADP', 'AZO', 'AVB', 'AVY', 'BHGE', 'BLL', 'BAC', 'BK', 'BAX', 'BBT', 'BDX', 'BRK.B', 'BBY', 'BIIB', 'BLK', 'HRB', 'BA', 'BWA', 'BXP', 'BSX', 'BHF', 'BMY', 'AVGO', 'BF.B', 'CHRW', 'CA', 'COG', 'CDNS', 'CPB', 'COF', 'CAH', 'CBOE', 'KMX', 'CCL', 'CAT', 'CBG', 'CBS', 'CELG', 'CNC', 'CNP', 'CTL', 'CERN', 'CF', 'SCHW', 'CHTR', 'CHK', 'CVX', 'CMG', 'CB', 'CHD', 'CI', 'XEC', 'CINF', 'CTAS', 'CSCO', 'C', 'CFG', 'CTXS', 'CLX', 'CME', 'CMS', 'KO', 'CTSH', 'CL', 'CMCSA', 'CMA', 'CAG', 'CXO', 'COP', 'ED', 'STZ', 'COO', 'GLW', 'COST', 'COTY', 'CCI', 'CSRA', 'CSX', 'CMI', 'CVS', 'DHI', 'DHR', 'DRI', 'DVA', 'DE', 'DAL', 'XRAY', 'DVN', 'DLR', 'DFS', 'DISCA', 'DISCK', 'DISH', 'DG', 'DLTR', 'D', 'DOV', 'DWDP', 'DPS', 'DTE', 'DRE', 'DUK', 'DXC', 'ETFC', 'EMN', 'ETN', 'EBAY', 'ECL', 'EIX', 'EW', 'EA', 'EMR', 'ETR', 'EVHC', 'EOG', 'EQT', 'EFX', 'EQIX', 'EQR', 'ESS', 'EL', 'ES', 'RE', 'EXC', 'EXPE', 'EXPD', 'ESRX', 'EXR', 'XOM', 'FFIV', 'FB', 'FAST', 'FRT', 'FDX', 'FIS', 'FITB', 'FE', 'FISV', 'FLIR', 'FLS', 'FLR', 'FMC', 'FL', 'F', 'FTV', 'FBHS', 'BEN', 'FCX', 'GPS', 'GRMN', 'IT', 'GD', 'GE', 'GGP', 'GIS', 'GM', 'GPC', 'GILD', 'GPN', 'GS', 'GT', 'GWW', 'HAL', 'HBI', 'HOG', 'HRS', 'HIG', 'HAS', 'HCA', 'HCP', 'HP', 'HSIC', 'HSY', 'HES', 'HPE', 'HLT', 'HOLX', 'HD', 'HON', 'HRL', 'HST', 'HPQ', 'HUM', 'HBAN', 'HII', 'IDXX', 'INFO', 'ITW', 'ILMN', 'IR', 'INTC', 'ICE', 'IBM', 'INCY', 'IP', 'IPG', 'IFF', 'INTU', 'ISRG', 'IVZ', 'IQV', 'IRM', 'JEC', 'JBHT', 'SJM', 'JNJ', 'JCI', 'JPM', 'JNPR', 'KSU', 'K', 'KEY', 'KMB', 'KIM', 'KMI', 'KLAC', 'KSS', 'KHC', 'KR', 'LB', 'LLL', 'LH', 'LRCX', 'LEG', 'LEN', 'LUK', 'LLY', 'LNC', 'LKQ', 'LMT', 'L', 'LOW', 'LYB', 'MTB', 'MAC', 'M', 'MRO', 'MPC', 'MAR', 'MMC', 'MLM', 'MAS', 'MA', 'MAT', 'MKC', 'MCD', 'MCK', 'MDT', 'MRK', 'MET', 'MTD', 'MGM', 'KORS', 'MCHP', 'MU', 'MSFT', 'MAA', 'MHK', 'TAP', 'MDLZ', 'MON', 'MNST', 'MCO', 'MS', 'MOS', 'MSI', 'MYL', 'NDAQ', 'NOV', 'NAVI', 'NTAP', 'NFLX', 'NWL', 'NFX', 'NEM', 'NWSA', 'NWS', 'NEE', 'NLSN', 'NKE', 'NI', 'NBL', 'JWN', 'NSC', 'NTRS', 'NOC', 'NCLH', 'NRG', 'NUE', 'NVDA', 'ORLY', 'OXY', 'OMC', 'OKE', 'ORCL', 'PCAR', 'PKG', 'PH', 'PDCO', 'PAYX', 'PYPL', 'PNR', 'PBCT', 'PEP', 'PKI', 'PRGO', 'PFE', 'PCG', 'PM', 'PSX', 'PNW', 'PXD', 'PNC', 'RL', 'PPG', 'PPL', 'PX', 'PCLN', 'PFG', 'PG', 'PGR', 'PLD', 'PRU', 'PEG', 'PSA', 'PHM', 'PVH', 'QRVO', 'PWR', 'QCOM', 'DGX', 'RRC', 'RJF', 'RTN', 'O', 'RHT', 'REG', 'REGN', 'RF', 'RSG', 'RMD', 'RHI', 'ROK', 'COL', 'ROP', 'ROST', 'RCL', 'CRM', 'SBAC', 'SCG', 'SLB', 'SNI', 'STX', 'SEE', 'SRE', 'SHW', 'SIG', 'SPG', 'SWKS', 'SLG', 'SNA', 'SO', 'LUV', 'SPGI', 'SWK', 'SBUX', 'STT', 'SRCL', 'SYK', 'STI', 'SYMC', 'SYF', 'SNPS', 'SYY', 'TROW', 'TPR', 'TGT', 'TEL', 'FTI', 'TXN', 'TXT', 'TMO', 'TIF', 'TWX', 'TJX', 'TMK', 'TSS', 'TSCO', 'TDG', 'TRV', 'TRIP', 'FOXA', 'FOX', 'TSN', 'UDR', 'ULTA', 'USB', 'UAA', 'UA', 'UNP', 'UAL', 'UNH', 'UPS', 'URI', 'UTX', 'UHS', 'UNM', 'VFC', 'VLO', 'VAR', 'VTR', 'VRSN', 'VRSK', 'VZ', 'VRTX', 'VIAB', 'V', 'VNO', 'VMC', 'WMT', 'WBA', 'DIS', 'WM', 'WAT', 'WEC', 'WFC', 'HCN', 'WDC', 'WU', 'WRK', 'WY', 'WHR', 'WMB', 'WLTW', 'WYN', 'WYNN', 'XEL', 'XRX', 'XLNX', 'XL', 'XYL', 'YUM', 'ZBH', 'ZION', 'ZTS']\n\ndata_source = 'google'\nstart='2017-01-01'\nend = '2018-01-01'\n\nfor i in tickers:\n    web.DataReader(i, data_source, start, end).to_csv(i+'.csv')\n</code></pre>\n\n<p>I am trying to download stock prices from Google Finance, and it kinda work and not in same time. (only 289 stocks out of 505 tickers are downloaded)</p>\n\n<p>it says:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\python36\\mana.py\", line 26, in &lt;module&gt;\n    web.DataReader(i, data_source, start, end).to_csv(i+'.csv')\n  File \"C:\\python36\\lib\\site-packages\\pandas_datareader\\data.py\", line 315, in DataReader\n    session=session).read()\n  File \"C:\\python36\\lib\\site-packages\\pandas_datareader\\base.py\", line 206, in read\n    params=self._get_params(self.symbols))\n  File \"C:\\python36\\lib\\site-packages\\pandas_datareader\\base.py\", line 84, in _read_one_data\n    out = self._read_url_as_StringIO(url, params=params)\n  File \"C:\\python36\\lib\\site-packages\\pandas_datareader\\base.py\", line 95, in _read_url_as_StringIO\n    response = self._get_response(url, params=params)\n  File \"C:\\python36\\lib\\site-packages\\pandas_datareader\\base.py\", line 155, in _get_response\n    raise RemoteDataError(msg)\npandas_datareader._utils.RemoteDataError: Unable to read URL: https://finance.google.com/finance/historical?q=LMT&amp;startdate=Jan+01%2C+2017&amp;enddate=Jan+01%2C+2018&amp;output=csv\nResponse Text:\nb'&lt;!DOCTYPE html&gt;&lt;html lang=en&gt;&lt;meta charset=utf-8&gt;&lt;meta name=viewport content=\"initial-scale=1, minimum-scale=1, width=device-width\"&gt;&lt;title&gt;Error 400 (Not Found)!!1&lt;/title&gt;&lt;style&gt;*{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{color:#222;text-align:unset;margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px;}* &gt; body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}pre{white-space:pre-wrap;}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}&lt;/style&gt;&lt;div id=\"af-error-container\"&gt;&lt;a href=//www.google.com&gt;&lt;span id=logo aria-label=Google&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;400.&lt;/b&gt; &lt;ins&gt;That\\xe2\\x80\\x99s an error.&lt;/ins&gt;&lt;p&gt;The requested URL was not found on this server. &lt;ins&gt;That\\xe2\\x80\\x99s all we know.&lt;/ins&gt;&lt;/div&gt;'\n</code></pre>\n\n<p>Why am I having this issue, and how can I download rest 200+ data? </p>\n\n<p>Thank you! </p>\n"}, {"tags": ["python", "python-3.x", "sorting", "word-count"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1519249875, "post_id": 48916076, "comment_id": 84838623, "body": "Like the underlying dictionary, <code>Counter</code> is <b>not</b> an ordered data structure. If order matters, see e.g. <a href=\"https://stackoverflow.com/questions/35446015/creating-an-ordered-counter\" title=\"creating an ordered counter\">stackoverflow.com/questions/35446015/&hellip;</a>. Or consider sorting by <code>text.index</code> of the key along with the value."}], "answers": [{"tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": true, "score": 0, "last_activity_date": 1519250601, "creation_date": 1519250601, "answer_id": 48916260, "question_id": 48916076, "link": "https://stackoverflow.com/questions/48916076/sorting-the-keys-and-values-in-counter/48916260#48916260", "title": "Sorting the keys and values in counter", "body": "<p>Use a sorting function that returns a tuple.  The first item in the tuple is the inverse of the count (the value in your dictionary) and the second is the string (the key in your dictionary).  You can do this by removing the variable <code>freq</code>, removing the keyword <code>reverse</code> in the call to sorted, and supplying a little lambda function that returns (-value, key) for each item in the dictionary.  The last few lines of the program are: </p>\n\n<pre><code>print(cnt)\nfor k, v in sorted(cnt.items(), key=lambda item: (-item[1], item[0])):\n    print(\"%3d  %s\" % (v, k))\n</code></pre>\n\n<p>The reason for the - sign in the lambda function is to get the correct sort order, since the default sort order is lowest to highest.</p>\n"}], "owner": {"reputation": 13, "user_id": 8840775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4463ea0ae701288cdd904d93a6435334?s=128&d=identicon&r=PG&f=1", "display_name": "monty", "link": "https://stackoverflow.com/users/8840775/monty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 48916260, "answer_count": 1, "score": -1, "last_activity_date": 1519250601, "creation_date": 1519249780, "last_edit_date": 1519249946, "question_id": 48916076, "link": "https://stackoverflow.com/questions/48916076/sorting-the-keys-and-values-in-counter", "title": "Sorting the keys and values in counter", "body": "<p>This is the code am working on and I want the output as the count in descending and if the count is same then order by name.</p>\n\n<pre><code>from collections import Counter\nimport re\nfrom nltk.corpus import stopwords\nimport operator\ntext = \"The quick brown fox jumped over the lazy dogs bowl. The dog was angry with the fox considering him lazy.\"\ndef tokenize(text):\n    tokens = re.findall(r\"\\w+|\\S\", text.lower())\n    #print(tokens)\n    tokens1 = []\n    for i in tokens:\n        x = re.findall(r\"\\w+|\\S\", i, re.ASCII)\n        for j in x:\n            tokens1.append(j)\n\n    return tokens\ntok = tokenize(text)\n\npunctuations = ['(',')',';',':','[',']',',', '...', '.', '&amp;']\n\nkeywords = [word for word in tok if not word in punctuations]\n\ncnt = Counter()\nd= {}\nfor word in keywords:\n    cnt[word] += 1 \nprint(cnt)\nfreq = operator.itemgetter(1)\n\nfor k, v in sorted(cnt.items(), reverse=True, key=freq):\n    print(\"%3d  %s\" % (v, k))\n</code></pre>\n\n<p>Current output:</p>\n\n<pre><code>  4  the\n  2  fox\n  2  lazy\n  1  quick\n  1  brown\n  1  jumped\n  1  over\n  1  dogs\n  1  bowl\n  1  dog\n  1  was\n  1  angry\n  1  with\n  1  considering\n  1  him\n</code></pre>\n\n<p>Required output:</p>\n\n<pre><code>  4  the\n  2  fox\n  2  lazy\n  1  angry\n  1  bowl\n  1  brown\n  1  considering\n  1  dog\n  1  dogs\n</code></pre>\n\n<p>etc.</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 754, "user_id": 9388050, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oXK-kmCt5bU/AAAAAAAAAAI/AAAAAAAAAtE/1ykdzHTITk0/photo.jpg?sz=128", "display_name": "Orhan Solak", "link": "https://stackoverflow.com/users/9388050/orhan-solak"}, "is_accepted": false, "score": 1, "last_activity_date": 1519255804, "last_edit_date": 1519255804, "creation_date": 1519254629, "answer_id": 48917071, "question_id": 48916043, "link": "https://stackoverflow.com/questions/48916043/how-to-grab-spot-price-from-yahoo-finance-using-beautifulsoup/48917071#48917071", "title": "How to grab spot price from yahoo finance using BeautifulSoup", "body": "<p>I recommend to you use scrapy, requests modules</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nfrom scrapy.selector import Selector\n\najanlar = [\n'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Windows NT 6.4; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)']\nurl = \"https://finance.yahoo.com/quote/SPY/options\"\n\nheaders = {\"User-Agent\":random.choice(ajanlar)}\nresponse = requests.get(url,headers=headers,proxies=None)\nsoup = BeautifulSoup(response.text, 'lxml')\n\nxpath1 = \"normalize-space(//div[@class='Mt(6px) smartphone_Mt(15px)'])\"\nxpath2 = \"normalize-space(//div[@class='D(ib) Maw(65%) Maw(70%)--tab768 Ov(h)'])\"\nxpath3 = \"normalize-space(//div[@class='D(ib) Mend(20px)'])\"\n\nvar1 = Selector(text=response.text).xpath(xpath1).extract()[0]\nvar2 = Selector(text=response.text).xpath(xpath2).extract()[0]\nvar3 = Selector(text=response.text).xpath(xpath3).extract()[0]\n\nprint(var1)\nprint(var2)\nprint(var3)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>269.97-1.43 (-0.53%)At close: 4:00PM EST269.61 -0.44 (-0.16%)After hours: 6:08PM ESTPeople also watchDIAIWMQQQXLFGLD\n269.97-1.43 (-0.53%)At close: 4:00PM EST269.61 -0.44 (-0.16%)After hours: 6:08PM EST\n269.97-1.43 (-0.53%)At close: 4:00PM EST\n</code></pre>\n\n<p>After than, you could apply regex</p>\n"}, {"tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 0, "last_activity_date": 1519255749, "last_edit_date": 1519255749, "creation_date": 1519255023, "answer_id": 48917134, "question_id": 48916043, "link": "https://stackoverflow.com/questions/48916043/how-to-grab-spot-price-from-yahoo-finance-using-beautifulsoup/48917134#48917134", "title": "How to grab spot price from yahoo finance using BeautifulSoup", "body": "<p>If you just want the price:</p>\n\n<pre><code>import urllib.request\nfrom bs4 import BeautifulSoup, Comment\n\npage = urllib.request.urlopen(\"https://finance.yahoo.com/quote/SPY?p=SPY\")\ncontent = page.read().decode('utf-8')\nsoup = BeautifulSoup(content, 'html.parser')\ncomments = soup.findAll(text=lambda text:isinstance(text, Comment))\n[comment.extract() for comment in comments]\nprice = soup.find(\"span\", {\"data-reactid\": \"14\", \"class\" : \"Trsdu(0.3s) \"}).text\nprint(price)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>271.40\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9393075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b227cd4cc83643bdbec4f5d30e68ea7e?s=128&d=identicon&r=PG&f=1", "display_name": "cmillion", "link": "https://stackoverflow.com/users/9393075/cmillion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 48917134, "answer_count": 2, "score": 0, "last_activity_date": 1519255804, "creation_date": 1519249668, "question_id": 48916043, "link": "https://stackoverflow.com/questions/48916043/how-to-grab-spot-price-from-yahoo-finance-using-beautifulsoup", "title": "How to grab spot price from yahoo finance using BeautifulSoup", "body": "<p>I'm trying to grab the spot price of the SPY ETF: <a href=\"https://finance.yahoo.com/quote/SPY/options\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/SPY/options</a></p>\n\n<p>I've mostly tried using soup.find_all, using the nested 'div' tags: </p>\n\n<pre><code>    from bs4 import BeautifulSoup\n    import urllib.request\n\n    url = 'https://finance.yahoo.com/quote/SPY/options/'\n    source = urllib.request.urlopen(url).read()\n    soup = BeautifulSoup(source,'lxml')\n\n    for div in soup.find_all('div', class_ = \"My(6px) smartphone_Mt(15px)\"):\n        print(div.text)\n\n    for div in soup.find_all('div', class_ = \"D(ib) Maw(65%) Ov(h)\"):\n        print(div.text)\n\n    for div in soup.find_all('div', class_ = \"D(ib) Mend(20px)\"):\n        print(div.text)\n</code></pre>\n\n<p>Nothing is printed. I also tried the following: </p>\n\n<pre><code>    print(soup.find('span', attrs = {'data-reactid':\"35\"}).text)\n</code></pre>\n\n<p>which results in 'Last Price' being printed. Now obviously I want the last price, rather than the words 'last price', but this is closer. </p>\n\n<p>Nested in that span tag is some html which includes the number I want. I'm guessing the correct answer has to do with the 'react text: 36' stuff within the span tag (can't type it without stackoverflow thinking I'm trying to actually implement the html into this question).</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 7867, "user_id": 5032941, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6VGGH.jpg?s=128&g=1", "display_name": "anon01", "link": "https://stackoverflow.com/users/5032941/anon01"}, "edited": false, "score": 0, "creation_date": 1521258106, "post_id": 48916040, "comment_id": 85666494, "body": "can you edit your code?  It does not run when I copy/paste"}], "answers": [{"tags": [], "owner": {"reputation": 37399, "user_id": 441387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf2c39b5cc1cb9db06cecb16dc8e665c?s=128&d=identicon&r=PG", "display_name": "Henrik Andersson", "link": "https://stackoverflow.com/users/441387/henrik-andersson"}, "is_accepted": false, "score": 1, "last_activity_date": 1519261364, "creation_date": 1519261364, "answer_id": 48918007, "question_id": 48916040, "link": "https://stackoverflow.com/questions/48916040/django-column-user-id-cannot-be-null/48918007#48918007", "title": "Django &#39;Column &#39;user_id&#39; cannot be null&#39;", "body": "<p>You're not setting a user to the ImageFieldForm - which is a <code>ModelForm</code> that has <code>Profile</code> as model in its <code>Meta</code> class.</p>\n\n<pre><code>image_field_form.save(commit=False)\nimage_field_form.user = user\nimage_field_form.save()\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 9351634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84009324d6f9a80c2bb619411334a681?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Azi", "link": "https://stackoverflow.com/users/9351634/denis-azi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1519261364, "creation_date": 1519249643, "last_edit_date": 1519261082, "question_id": 48916040, "link": "https://stackoverflow.com/questions/48916040/django-column-user-id-cannot-be-null", "title": "Django &#39;Column &#39;user_id&#39; cannot be null&#39;", "body": "<p>Please help me resolve this issue. I'm starting to learn Django. Please tell me where the error. I was looking for similar problems, but I did not find a solution. Thanks</p>\n\n<p>views</p>\n\n<pre><code>def register(request):\nargs = {}\nargs['forms'] = SignUpForm()\nargs['form1'] = ImagefieldForm()\nif request.POST:\n    newuser_form = SignUpForm(request.POST)\n    image_field_form = ImagefieldForm(request.POST, request.FILES)\n    if newuser_form.is_valid() and image_field_form.is_valid():\n        user = newuser_form.save(commit=False)\n        user.is_active = False\n        user.save()\n        print ('User saved')\n        image_field_form.save()\n        current_site = get_current_site(request)\n        mail_subject = 'Welcome to site'\n        message = render_to_string('login_app/please_active_email.html', {\n            'user': user,\n            'domain': current_site.domain,\n            'uid': urlsafe_base64_encode(force_bytes(user.pk)).decode(),\n            'token': account_activation_token.make_token(user),\n        })\n        to_email = newuser_form.cleaned_data.get('username')\n        email = EmailMessage(\n            mail_subject, message, to=[to_email])\n        email.send()\n        return HttpResponse('Please check your email')\n\n    else:\n        args['forms'] = newuser_form\nreturn render(request, 'login_app/registration.html', args)\n</code></pre>\n\n<p>forms</p>\n\n<pre><code>class ImagefieldForm(forms.ModelForm):\navatar = forms.ImageField(required=True)\n\nclass Meta:\n    model = Profile\n    fields = ('avatar', )\n</code></pre>\n\n<p>models</p>\n\n<pre><code>class Profile(models.Model):\n    user = models.OneToOneField(User, on_delete=models.CASCADE)\n    avatar = models.ImageField(upload_to='images/users', blank=False)\n</code></pre>\n\n<p>This is the stack trace from the problem. You can see where the problem occurs.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mysql/connector/django/base.py\", line 176, in _execute_wrapper\n    return method(query, args)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mysql/connector/cursor.py\", line 561, in execute\n    self._handle_result(self._connection.cmd_query(stmt))\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mysql/connector/connection.py\", line 525, in cmd_query\n    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/mysql/connector/connection.py\", line 427, in _handle_result\n    raise errors.get_exception(packet)\nmysql.connector.errors.IntegrityError: 1048 (23000): Column 'user_id' cannot be null\n</code></pre>\n\n<p>From <a href=\"https://ideone.com/oWnIqH\" rel=\"nofollow noreferrer\">https://ideone.com/oWnIqH</a>.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "replace", "data-manipulation"], "comments": [{"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1519248999, "post_id": 48915838, "comment_id": 84838218, "body": "where do the numbers come from? I see that <code>Avg</code> turns into 3? but I don&#39;t see <code>Avg</code> in your replace"}, {"owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "reply_to_user": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1519252316, "post_id": 48915838, "comment_id": 84839729, "body": "Sorry, I need to edit that. Avg is actually TA. It&#39;s a set of variables ranking quality for various attributes using the same scale. I&#39;m converting to numeric to see if it improves model accuracy."}], "owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "closed_date": 1519249329, "answer_count": 0, "score": 1, "last_activity_date": 1519310587, "creation_date": 1519248782, "last_edit_date": 1519310587, "question_id": 48915838, "link": "https://stackoverflow.com/questions/48915838/pandas-convert-categorical-values-to-number-scale-and-create-new-column-with-r", "closed_reason": "Duplicate", "title": "Pandas - Convert categorical values to number scale and create new column with replacements (not labelencode)", "body": "<p>I have a data frame where I want to replace the strings with values, but want to create a new column when doing so. Note: this is a small example, I have 81 columns and many are numerical.</p>\n\n<pre><code>       A    B     C     D\n0     .5   Ex    Ex    Po\n1     35   Gd    TA    Gd\n2     52   TA    Fa    Ex\n3     47   Bd    Po    Gd\n</code></pre>\n\n<p>I'm new to python so I can only do this into a new data frame using:</p>\n\n<pre><code>df_train_scaled = df_train.replace(['Ex','Gd','TA','Fa','Po'], [5, 4, 3, 2, 1])\n</code></pre>\n\n<p>This outputs the values in place of the string for the same column, but I want to create a new column with the replaced values like below ('original_col_name' + '_scl':</p>\n\n<pre><code>      A    B   B_scl   C   C_scl   D   D_scl\n0     .5   Ex    5     Ex    5     Po    1\n1     35   Gd    4     TA    3     Gd    4\n2     52   TA    3     Gd    4     Ex    5\n3     47   Bd    2     Po    1     Gd    4\n</code></pre>\n\n<p>Ultimately, I would like to select the columns that include the ordinal variables (Ex, Gd, etc.) above, replace them with the scale values (1, 2, 3, etc.), then create new columns to use for modeling. It would also be helpful so that I can run on the validation data set or be prepared to run in production.</p>\n\n<p>EDIT: This doesn't seem like a duplicate because I'm not simply trying to convert categorical data to numerical. I read the label encoder documentation and it just replaces a categorical value with a number. This is an ordinal set where each string represents a rank, which I'm converting to numbers.</p>\n\n<pre><code>Ex - Excellent = 5\nGd - Good = 4\nTA - Average = 3\netc.\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "text", "copy-paste"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519248820, "post_id": 48915822, "comment_id": 84838123, "body": "Better ask on superuser.com. Which OS ? If linux, which WM ?  I know how to do this for linux"}, {"owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519248899, "post_id": 48915822, "comment_id": 84838163, "body": "This would hopefully be cross-platform, but Windows is what I&#39;d like to end up running it on."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519248923, "post_id": 48915822, "comment_id": 84838177, "body": "So i&#39;m not your guy here"}, {"owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519248964, "post_id": 48915822, "comment_id": 84838195, "body": "Well how would you do it in linux? using python? i might be able to just transfer it"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519249036, "post_id": 48915822, "comment_id": 84838231, "body": "With <code>xdotool</code> and the preferences of the window manager (trigger the command on a keyboard shortcut). kde, gnome and xfce4 at least can trigger this kind of events"}, {"owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1519249107, "post_id": 48915822, "comment_id": 84838266, "body": "ah, interesting. i am looking to do this in python though, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "edited": false, "score": 0, "creation_date": 1519253293, "post_id": 48916500, "comment_id": 84840087, "body": "Thank you! i&#39;ll read up on keyboard library, however does the key definition need to match any rules? like would &#39;alt+x&#39; be recognized?"}, {"owner": {"reputation": 1990, "user_id": 7713497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1438300256237395/picture?type=large", "display_name": "Pratik Kumar", "link": "https://stackoverflow.com/users/7713497/pratik-kumar"}, "reply_to_user": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "edited": false, "score": 0, "creation_date": 1519253561, "post_id": 48916500, "comment_id": 84840183, "body": "@nateph, yes &#39;alt+x&#39; is recognized. Try for yourself. I just went through the example provided in the GitHub library and by intuition used &#39;alt+x&#39;"}, {"owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "edited": false, "score": 0, "creation_date": 1519254491, "post_id": 48916500, "comment_id": 84840514, "body": "So this prints to the terminal, is there a way to do so that it pastes in another application while this runs in the background? also, what is the write_to_textfield function?"}, {"owner": {"reputation": 1990, "user_id": 7713497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1438300256237395/picture?type=large", "display_name": "Pratik Kumar", "link": "https://stackoverflow.com/users/7713497/pratik-kumar"}, "reply_to_user": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "edited": false, "score": 0, "creation_date": 1519254999, "post_id": 48916500, "comment_id": 84840688, "body": "@nateph that is the function you are supposed to define to <b>paste</b> to your text field wherever you want(textbox, textfile etc). And you can include this program snippet in your other programs since it runs as a separate thread in the background so it won&#39;t interfere with your those programs"}], "tags": [], "owner": {"reputation": 1990, "user_id": 7713497, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1438300256237395/picture?type=large", "display_name": "Pratik Kumar", "link": "https://stackoverflow.com/users/7713497/pratik-kumar"}, "is_accepted": true, "score": 5, "last_activity_date": 1519252680, "last_edit_date": 1519252680, "creation_date": 1519251671, "answer_id": 48916500, "question_id": 48915822, "link": "https://stackoverflow.com/questions/48915822/creating-a-hotkey-to-enter-text-using-python-running-in-background-waiting-for/48916500#48916500", "title": "Creating a hotkey to enter text using python, running in background waiting for key-press", "body": "<p>Try <a href=\"https://github.com/boppreh/keyboard\" rel=\"nofollow noreferrer\">keyboard</a> library :</p>\n\n<pre><code>import keyboard\n\ntext_to_print='default_predefined_text'\nshortcut = 'alt+x' #define your hot-key\nprint('Hotkey set as:', shortcut)\n\ndef on_triggered(): #define your function to be executed on hot-key press\n    print(text_to_print)\n    #write_to_textfield(text_to_print) #&lt;-- your function\nkeyboard.add_hotkey(shortcut, on_triggered) #&lt;-- attach the function to hot-key\n\nprint(\"Press ESC to stop.\")\nkeyboard.wait('esc')\n</code></pre>\n\n<p>the above will print a predefined text into the terminal.</p>\n\n<p>execute the script with <code>sudo</code> i.e. <code>sudo python program_name.py</code></p>\n\n<p>installation :</p>\n\n<blockquote>\n  <p>sudo pip install keyboard</p>\n</blockquote>\n\n<p><strong>Note</strong> : According to documentation '<strong>Works with Windows and Linux (requires sudo), with experimental OS X support</strong>'</p>\n"}], "owner": {"reputation": 733, "user_id": 9393315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6154fcbc632dc737da4da5f58512f554?s=128&d=identicon&r=PG&f=1", "display_name": "nateph", "link": "https://stackoverflow.com/users/9393315/nateph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8230, "favorite_count": 2, "accepted_answer_id": 48916500, "answer_count": 1, "score": 4, "last_activity_date": 1519256628, "creation_date": 1519248695, "last_edit_date": 1519256628, "question_id": 48915822, "link": "https://stackoverflow.com/questions/48915822/creating-a-hotkey-to-enter-text-using-python-running-in-background-waiting-for", "title": "Creating a hotkey to enter text using python, running in background waiting for key-press", "body": "<p>I'm trying to emulate the copy/paste functionality of my OS using a python application.</p>\n\n<p>What I want to have happen is that when I press the keys, say, \"Alt-X\", it would paste predefined text into the currently occupied text field. Basically copy and paste but creating my own. </p>\n\n<p>I've tried using pyautogui and other frameworks but I can't seem to figure out how get it to wait for key-press in the background, and then enter the text after that.</p>\n\n<p>Any ideas? Thanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1519249343, "post_id": 48915819, "comment_id": 84838383, "body": "This looks like a homework problem.  Have you studied recursion, stacks, and/or graph searching?  How did you generate the expected results?  Think about how you did that, be precise about it, and then try to write it in code."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7135083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOpAB.jpg?s=128&g=1", "display_name": "WildfootW", "link": "https://stackoverflow.com/users/7135083/wildfootw"}, "is_accepted": false, "score": 0, "last_activity_date": 1519252008, "creation_date": 1519252008, "answer_id": 48916581, "question_id": 48915819, "link": "https://stackoverflow.com/questions/48915819/generate-strings-using-translations-of-several-characters-mapped-to-several-oth/48916581#48916581", "title": "Generate strings using translations of several characters, mapped to several others", "body": "<pre><code>def magicfunction(ret, text, alphabet_location, translations):\n    if len(alphabet_location) == 0:\n        ret.append(text)\n        return ret\n    index = alphabet_location.pop()\n    for w in translations[text[index]]:\n        ret = magicfunction(ret, text[:index] + w + text[index + 1:], alphabet_location, translations)\n    alphabet_location.append(index)\n    return ret\n\ndef magicfunctionHere(text, translations):\n    alphabet_location = []\n    for key in translations.keys():\n        alphabet_location.append(text.find(key))\n        translations[key].append(key)\n    ret = []\n    ret = magicfunction(ret, text, alphabet_location, translations)\n    ret.pop()\n    return ret\n\ntext = \"hi there\"\ntranslations = {\"i\":[\"b\", \"c\"], \"r\":[\"e\",\"f\"]}\nresult = magicfunctionHere(text,translations)\nprint(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7306, "user_id": 6261921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EbGEI.png?s=128&g=1", "display_name": "Poiz", "link": "https://stackoverflow.com/users/6261921/poiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1519374783, "last_edit_date": 1519374783, "creation_date": 1519294510, "answer_id": 48924793, "question_id": 48915819, "link": "https://stackoverflow.com/questions/48915819/generate-strings-using-translations-of-several-characters-mapped-to-several-oth/48924793#48924793", "title": "Generate strings using translations of several characters, mapped to several others", "body": "<p>One crude way to go would be to use a <code>Nested Loop Construct</code>in 2 steps <em>(Functions)</em> as depicted in the Snippet below:</p>\n\n<pre><code>def rearrange_characters(str_text, dict_translations):\n    tmp_result = []\n    for key, value in dict_translations.items():\n        if key in str_text:\n            for replacer in value:\n                str_temp = str_text.replace(key, replacer, 1)\n                if str_temp not in tmp_result:\n                    tmp_result.append(str_temp)\n    return tmp_result\n\n\ndef get_rearranged_characters(str_text, dict_translations):\n    lst_result = rearrange_characters(str_text, dict_translations)\n    str_joined = ','.join(lst_result)\n    for str_part in lst_result:\n        str_joined = \"{},{}\".format(str_joined, ','.join(rearrange_characters(str_part, dict_translations)))\n    return set(str_joined.split(sep=\",\"))\n\n\ntext            = \"hi there\"\ntranslations    = {\"i\": [\"b\", \"c\"], \"r\":[\"e\",\"f\"]}\nresult          = get_rearranged_characters(text, translations)\nprint(result)\n## YIELDS: {\n            'hb theee', \n            'hc thefe', \n            'hc there', \n            'hi thefe', \n            'hb thefe', \n            'hi theee', \n            'hc theee', \n            'hb there'\n            }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QIgvT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIgvT.png\" alt=\"enter image description here\"></a></p>\n\n<p>See also: <a href=\"https://eval.in/960803\" rel=\"nofollow noreferrer\">https://eval.in/960803</a>\n<br />\n<br />\nAnother equally convoluted approach would be to use a single function with nested loops like so:</p>\n\n<pre><code>def process_char_replacement(str_text, dict_translations):\n    tmp_result = []\n    for key, value in dict_translations.items():\n        if key in str_text:\n            for replacer in value:\n                str_temp = str_text.replace(key, replacer, 1)\n                if str_temp not in tmp_result:\n                    tmp_result.append(str_temp)\n\n    str_joined = ','.join(tmp_result)\n    for str_part in tmp_result:\n        tmp_result_2 = []\n        for key, value in dict_translations.items():\n            if key in str_part:\n                for replacer in value:\n                    str_temp = str_part.replace(key, replacer, 1)\n                    if str_temp not in tmp_result_2:\n                        tmp_result_2.append(str_temp)\n        str_joined = \"{},{}\".format(str_joined, ','.join(tmp_result_2))\n    return set(str_joined.split(sep=\",\"))\n\n\ntext            = \"hi there\"\ntranslations    = {\"i\": [\"b\", \"c\"], \"r\":[\"e\",\"f\"]}      \nresult          = process_char_replacement(text, translations)\nprint(result)\n## YIELDS: {\n            'hb theee', \n            'hc thefe', \n            'hc there', \n            'hi thefe', \n            'hb thefe', \n            'hi theee', \n            'hc theee', \n            'hb there'\n            }\n</code></pre>\n\n<p>Refer to: <a href=\"https://eval.in/961602\" rel=\"nofollow noreferrer\">https://eval.in/961602</a></p>\n"}], "owner": {"reputation": 53, "user_id": 8587481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dfc7d2fd07c0c19358b5ec778517774?s=128&d=identicon&r=PG&f=1", "display_name": "Almandin", "link": "https://stackoverflow.com/users/8587481/almandin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519374783, "creation_date": 1519248689, "question_id": 48915819, "link": "https://stackoverflow.com/questions/48915819/generate-strings-using-translations-of-several-characters-mapped-to-several-oth", "title": "Generate strings using translations of several characters, mapped to several others", "body": "<p>I'm facing quite a tricky problem in my python code. I looked around and was not able to find anyone with a similar problem.</p>\n\n<p>I'd like to generate strings translating some characters into several, different ones.</p>\n\n<p>I'd like that original characters, meant to be replaced (translated), to be replaced by several different ones.\nWhat I'm looking to do is something like this :</p>\n\n<pre><code>text = \"hi there\"\ntranslations = {\"i\":[\"b\", \"c\"], \"r\":[\"e\",\"f\"]}\nresult = magicfunctionHere(text,translations)\nprint(result)\n&gt; [\n    \"hb there\",\n    \"hc there\",\n    \"hi theee\",\n    \"hi thefe\",\n    \"hb theee\",\n    \"hb thefe\",\n    \"hc theee\",\n    \"hc thefe\"\n]\n</code></pre>\n\n<p>The result contains any combination of the original text with 'i' and 'r' replaced respectively by 'b' and 'c', and 'e' and 'f'.</p>\n\n<p>I don't see how to do that, using itertools and functions like permutations, product etc...</p>\n\n<p>I hope I'm clear enough, it is quite a specific problem !\nThank you for your help !</p>\n"}, {"tags": ["python", "pandas", "dataframe", "iteration", "conditional-statements"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9386145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NeuroLogik", "link": "https://stackoverflow.com/users/9386145/neurologik"}, "edited": false, "score": 0, "creation_date": 1519253810, "post_id": 48915906, "comment_id": 84840266, "body": "Wow very clean ! Thanks very much :)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1519249057, "creation_date": 1519249057, "answer_id": 48915906, "question_id": 48915816, "link": "https://stackoverflow.com/questions/48915816/iterate-through-the-rows-of-a-pandas-df-to-generate-new-df-depending-on-conditi/48915906#48915906", "title": "iterate through the rows of a pandas df to generate new df (depending on conditions)", "body": "<p>You just need <code>diff</code>(If you need convert it back try <code>cumsum</code>)</p>\n\n<pre><code>df.diff(axis=1).fillna(0).astype(int)\nOut[1382]: \n   1  2  3  4  5  6  7\n0  0  0  1  0  1  1  1\n1  0  1  1  1  0  1  0\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9386145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NeuroLogik", "link": "https://stackoverflow.com/users/9386145/neurologik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 48915906, "answer_count": 1, "score": 0, "last_activity_date": 1519249057, "creation_date": 1519248674, "question_id": 48915816, "link": "https://stackoverflow.com/questions/48915816/iterate-through-the-rows-of-a-pandas-df-to-generate-new-df-depending-on-conditi", "title": "iterate through the rows of a pandas df to generate new df (depending on conditions)", "body": "<p>I have a df with badminton scores. Each sets of a games for a team are on rows and the score at each point on the columns like so:</p>\n\n<p>0 0 1 1 2 3 4</p>\n\n<p>0 1 2 3 3 4 4</p>\n\n<p>I want to obtain only O and 1 when a point is scored, like so: (to analyse if there any pattern in the points): </p>\n\n<p>0 0 1 0 1 1 1</p>\n\n<p>0 1 1 1 0 1 0</p>\n\n<p>I was thinking of using df.itertuples() and iloc and conditions to attribute 1 to new dataframe if next score = score+1 or 0 if next score = score + 1</p>\n\n<p>But I dont know how to iterate through the generated tuples and how to generate my new df with the 0 and 1 at the good locations.</p>\n\n<p>Hope that is clear thanks for your help.\nOh also, any suggestions to analyse the patterns after that ? </p>\n"}, {"tags": ["python", "memory", "pytorch", "contiguous"], "comments": [{"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1560891262, "post_id": 48915810, "comment_id": 99883736, "body": "cross-posted: <a href=\"https://www.quora.com/unanswered/Why-do-we-need-to-call-contiguous-in-Pytorch\" rel=\"nofollow noreferrer\">quora.com/unanswered/&hellip;</a>"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1586801845, "post_id": 48915810, "comment_id": 108256176, "body": "An answer from the forum: <a href=\"https://discuss.pytorch.org/t/contigious-vs-non-contigious-tensor/30107/2\" rel=\"nofollow noreferrer\">discuss.pytorch.org/t/contigious-vs-non-contigious-tensor/30&zwnj;&#8203;107/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 1, "creation_date": 1519290605, "post_id": 48922607, "comment_id": 84853120, "body": "Thank you for your answer! Can you tell me why/when I need the data to be contiguous? Is it just performance, or some other reason? Does PyTorch require contiguous data for some operations? Why does targets need to be contiguous and inputs not?"}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "reply_to_user": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 3, "creation_date": 1519373808, "post_id": 48922607, "comment_id": 84893966, "body": "So apparently pytorch requires the targets in the loss to be continguous in memory, but the inputs of neuralnet don&#39;t need to satisfy this requirement."}, {"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 2, "creation_date": 1519380567, "post_id": 48922607, "comment_id": 84897271, "body": "Great thank you! I think this makes sense to me, I&#39;ve noticed that contiguous() is also applied to the output data (which was of course formerly the input) in the forward function, so both outputs and targets are contiguous when computing the loss. Thanks a lot!"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1560552712, "post_id": 48922607, "comment_id": 99787998, "body": "when is the data not in contiguous blocks? Why would it matter how its stored?"}, {"owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1561053371, "post_id": 48922607, "comment_id": 99948379, "body": "@CharlieParker I have no idea."}], "tags": [], "owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "is_accepted": false, "score": 34, "last_activity_date": 1617969687, "last_edit_date": 1617969687, "creation_date": 1519287771, "answer_id": 48922607, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/48922607#48922607", "title": "PyTorch - What does contiguous() do?", "body": "<p>From the <a href=\"http://pytorch.org/docs/master/tensors.html\" rel=\"nofollow noreferrer\">pytorch documentation</a>:</p>\n<blockquote>\n<p><code>contiguous() \u2192 Tensor</code><br />\nReturns a contiguous tensor containing the same data as self\ntensor. If self tensor is contiguous, this function returns the self\ntensor.</p>\n</blockquote>\n<p>Where <code>contiguous</code> here means not only contiguous in memory, but also in the same order in memory as the indices order: for example doing a transposition doesn't change the data in memory, it simply changes the map from indices to memory pointers, if you then apply <code>contiguous()</code> it will change the data in memory so that the map from indices to memory location is the canonical one.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7568418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a42234d5a16608fa45753cb907ee41a3?s=128&d=identicon&r=PG&f=1", "display_name": "p. vignesh", "link": "https://stackoverflow.com/users/7568418/p-vignesh"}, "is_accepted": false, "score": 11, "last_activity_date": 1535522205, "creation_date": 1535522205, "answer_id": 52070381, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/52070381#52070381", "title": "PyTorch - What does contiguous() do?", "body": "<p>As in the previous answer contigous() allocates <strong>contigous memory chunks</strong>, it'll be helpful when we're <strong>passing tensor to c or c++ backend code</strong> where tensors are <strong>passed as pointers</strong></p>\n"}, {"comments": [{"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 0, "creation_date": 1542130554, "post_id": 52229694, "comment_id": 93455293, "body": "I just came across this again. Your explanation is very good! I just wonder: If the blocks in memory are not widely spread, what is the problem with a memory layout that is <i>&quot;different than a tensor of same shape made from scratch&quot;</i>? Why is being contiguous only requirement for some operations?"}, {"owner": {"reputation": 46757, "user_id": 207661, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CFPkp.jpg?s=128&g=1", "display_name": "Shital Shah", "link": "https://stackoverflow.com/users/207661/shital-shah"}, "reply_to_user": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "edited": false, "score": 4, "creation_date": 1542366926, "post_id": 52229694, "comment_id": 93552207, "body": "I can&#39;t definitively answer this but my guess is that some of the PyTorch code uses high performance vectorized implementation of the operations implemented in C++ and this code cannot use arbitrary offset/strides specified in Tensor&#39;s meta information. This is just a guess though."}, {"owner": {"reputation": 1404, "user_id": 6395770, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a1dd74e2bc23bea3918a139070114d23?s=128&d=identicon&r=PG&f=1", "display_name": "information_interchange", "link": "https://stackoverflow.com/users/6395770/information-interchange"}, "edited": false, "score": 1, "creation_date": 1550957143, "post_id": 52229694, "comment_id": 96465506, "body": "Why couldn&#39;t the callee simply call <code>contiguous()</code> by itself?"}, {"owner": {"reputation": 100, "user_id": 7391472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E40X9.png?s=128&g=1", "display_name": "shivam13juna", "link": "https://stackoverflow.com/users/7391472/shivam13juna"}, "edited": false, "score": 0, "creation_date": 1560776337, "post_id": 52229694, "comment_id": 99835441, "body": "quite possibly, because you don&#39;t want it in a contiguous way, and it is always nice to have control over what you do."}, {"owner": {"reputation": 811, "user_id": 334346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd5e49524dd6df50e0940a9a5e3b531?s=128&d=identicon&r=PG", "display_name": "Oleg", "link": "https://stackoverflow.com/users/334346/oleg"}, "edited": false, "score": 2, "creation_date": 1574061510, "post_id": 52229694, "comment_id": 104081469, "body": "Another popular tensor operation is <code>permute</code>, which also may return non-&quot;contiguous&quot; tensor."}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1586801306, "post_id": 52229694, "comment_id": 108255892, "body": "Let me see if I got this right. Pytorch uses an incorrect &amp; misleading term for meaning only that the memory of the tensor is NOT of what is advertised by print statements or querying its meta-data?"}, {"owner": {"reputation": 1940, "user_id": 7766024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/380b6f3a74c842769369d618fa27b451?s=128&d=identicon&r=PG&f=1", "display_name": "Seankala", "link": "https://stackoverflow.com/users/7766024/seankala"}, "edited": false, "score": 0, "creation_date": 1588398146, "post_id": 52229694, "comment_id": 108884502, "body": "Thanks for the answer. Would it be appropriate if I understood <code>contiguous</code> to being analogous to deep copying?"}, {"owner": {"reputation": 378, "user_id": 12234753, "user_type": "registered", "profile_image": "https://graph.facebook.com/1189915861208204/picture?type=large", "display_name": "Saib\u014d", "link": "https://stackoverflow.com/users/12234753/saib%c5%8d"}, "edited": false, "score": 0, "creation_date": 1616754656, "post_id": 52229694, "comment_id": 118107783, "body": "Attention, use contiguous wil slow down the operation on tensors as it will require to allocate new space on ram: <code>In [132]: %timeit x.T.contiguous()                                                                                                      4.73 &#181;s &#177; 36.2 ns per loop (mean &#177; std. dev. of 7 runs, 100000 loops each)  In [133]: %timeit x.T                                                                                                                   1.88 &#181;s &#177; 46.3 ns per loop (mean &#177; std. dev. of 7 runs, 1000000 loops each) </code>"}], "tags": [], "owner": {"reputation": 46757, "user_id": 207661, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/CFPkp.jpg?s=128&g=1", "display_name": "Shital Shah", "link": "https://stackoverflow.com/users/207661/shital-shah"}, "is_accepted": true, "score": 222, "last_activity_date": 1618485277, "last_edit_date": 1618485277, "creation_date": 1536354835, "answer_id": 52229694, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/52229694#52229694", "title": "PyTorch - What does contiguous() do?", "body": "<p>There are a few operations on Tensors in PyTorch that do not change the contents of a tensor, but change the way the data is organized. These operations include:</p>\n<blockquote>\n<p><code>narrow()</code>, <code>view()</code>, <code>expand()</code> and <code>transpose()</code></p>\n</blockquote>\n<p><em>For example:</em> when you call <code>transpose()</code>, PyTorch doesn't generate a new tensor with a new layout, it just modifies meta information in the Tensor object so that the offset and stride describe the desired new shape. In this example, the transposed tensor and original tensor share the same memory:</p>\n<pre class=\"lang-py prettyprint-override\"><code>x = torch.randn(3,2)\ny = torch.transpose(x, 0, 1)\nx[0, 0] = 42\nprint(y[0,0])\n# prints 42\n</code></pre>\n<p>This is where the concept of <em>contiguous</em> comes in. In the example above, <code>x</code> is contiguous but <code>y</code> is not because its memory layout is different to that of a tensor of same shape made from scratch. Note that the word <em>&quot;contiguous&quot;</em> is a bit misleading because it's not that the content of the tensor is spread out around disconnected blocks of memory. Here bytes are still allocated in one block of memory but the order of the elements is different!</p>\n<p>When you call <code>contiguous()</code>, it actually makes a copy of the tensor such that the order of its elements in memory is the same as if it had been created from scratch with the same data.</p>\n<p>Normally you don't need to worry about this. You're generally safe to assume everything will work, and wait until you get a <code>RuntimeError: input is not contiguous</code> where PyTorch expects a contiguous tensor to add a call to <code>contiguous()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 11998352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDJk6NNjbywKMLhJl50uWM5GdXA3lVMsS_HyRPg=k-s128", "display_name": "avatar", "link": "https://stackoverflow.com/users/11998352/avatar"}, "is_accepted": false, "score": 15, "last_activity_date": 1597472448, "last_edit_date": 1597472448, "creation_date": 1567154171, "answer_id": 57723311, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/57723311#57723311", "title": "PyTorch - What does contiguous() do?", "body": "<p>tensor.contiguous() will create a copy of the tensor, and the element in the copy will be stored in the memory in a contiguous way.\nThe contiguous() function is usually required when we first transpose() a tensor and then reshape (view) it. First, let's create a contiguous tensor:</p>\n<pre><code>aaa = torch.Tensor( [[1,2,3],[4,5,6]] )\nprint(aaa.stride())\nprint(aaa.is_contiguous())\n#(3,1)\n#True\n</code></pre>\n<p>The stride() return (3,1) means that: when moving along the first dimension by each step (row by row), we need to move 3 steps in the memory. When moving along the second dimension (column by column), we need to move 1 step in the memory. This indicates that the elements in the tensor are stored contiguously.</p>\n<p>Now we try apply come functions to the tensor:</p>\n<pre><code>bbb = aaa.transpose(0,1)\nprint(bbb.stride())\nprint(bbb.is_contiguous())\n\n#(1, 3)\n#False\n\n\nccc = aaa.narrow(1,1,2)   ## equivalent to matrix slicing aaa[:,1:3]\nprint(ccc.stride())\nprint(ccc.is_contiguous())\n\n#(3, 1)\n#False\n\n\nddd = aaa.repeat(2,1)   # The first dimension repeat once, the second dimension repeat twice\nprint(ddd.stride())\nprint(ddd.is_contiguous())\n\n#(3, 1)\n#True\n\n\n## expand is different from repeat.\n## if a tensor has a shape [d1,d2,1], it can only be expanded using &quot;expand(d1,d2,d3)&quot;, which\n## means the singleton dimension is repeated d3 times\neee = aaa.unsqueeze(2).expand(2,3,3)\nprint(eee.stride())\nprint(eee.is_contiguous())\n\n#(3, 1, 0)\n#False\n\n\nfff = aaa.unsqueeze(2).repeat(1,1,8).view(2,-1,2)\nprint(fff.stride())\nprint(fff.is_contiguous())\n\n#(24, 2, 1)\n#True\n</code></pre>\n<p>Ok, we can find that <strong>transpose(), narrow() and tensor slicing, and expand()</strong> will make the generated tensor not contiguous. Interestingly, repeat() and view() does not make it discontiguous. So now the question is: <strong>what happens if I use a discontiguous tensor?</strong></p>\n<p>The answer is it the view() function cannot be applied to a discontiguous tensor. This is probably because view() requires that the tensor to be contiguously stored so that it can do fast reshape in memory. e.g:</p>\n<pre><code>bbb.view(-1,3)\n</code></pre>\n<p>we will get the error:</p>\n<pre><code>---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-63-eec5319b0ac5&gt; in &lt;module&gt;()\n----&gt; 1 bbb.view(-1,3)\n\nRuntimeError: invalid argument 2: view size is not compatible with input tensor's size and stride (at least one dimension spans across two contiguous subspaces). Call .contiguous() before .view(). at /pytorch/aten/src/TH/generic/THTensor.cpp:203\n</code></pre>\n<p>To solve this, simply add contiguous() to a discontiguous tensor, to create contiguous copy and then apply view()</p>\n<pre><code>bbb.contiguous().view(-1,3)\n#tensor([[1., 4., 2.],\n        [5., 3., 6.]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "is_accepted": false, "score": 0, "last_activity_date": 1586801991, "creation_date": 1586801991, "answer_id": 61194130, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/61194130#61194130", "title": "PyTorch - What does contiguous() do?", "body": "<p>From what I understand this a more summarized answer:</p>\n\n<blockquote>\n  <p>Contiguous is the term used to indicate that the memory layout of a tensor does not align with its advertised meta-data or shape information.</p>\n</blockquote>\n\n<p>In my opinion the word contiguous is a confusing/misleading term since in normal contexts it means when memory is not spread around in disconnected blocks (i.e. its \"contiguous/connected/continuous\").</p>\n\n<p>Some operations might need this contiguous property for some reason (most likely efficiency in gpu etc).</p>\n\n<p>Note that <code>.view</code> is another operation that might cause this issue. Look at the following code I fixed by simply calling contiguous (instead of the typical transpose issue causing it here is an example that is cause when an RNN is not happy with its input):</p>\n\n<pre><code>        # normal lstm([loss, grad_prep, train_err]) = lstm(xn)\n        n_learner_params = xn_lstm.size(1)\n        (lstmh, lstmc) = hs[0] # previous hx from first (standard) lstm i.e. lstm_hx = (lstmh, lstmc) = hs[0]\n        if lstmh.size(1) != xn_lstm.size(1): # only true when prev lstm_hx is equal to decoder/controllers hx\n            # make sure that h, c from decoder/controller has the right size to go into the meta-optimizer\n            expand_size = torch.Size([1,n_learner_params,self.lstm.hidden_size])\n            lstmh, lstmc = lstmh.squeeze(0).expand(expand_size).contiguous(), lstmc.squeeze(0).expand(expand_size).contiguous()\n        lstm_out, (lstmh, lstmc) = self.lstm(input=xn_lstm, hx=(lstmh, lstmc))\n</code></pre>\n\n<p>Error I used to get:</p>\n\n<pre><code>RuntimeError: rnn: hx is not contiguous\n\n</code></pre>\n\n<hr>\n\n<p>Sources/Resource: </p>\n\n<ul>\n<li><a href=\"https://discuss.pytorch.org/t/contigious-vs-non-contigious-tensor/30107/7\" rel=\"nofollow noreferrer\">https://discuss.pytorch.org/t/contigious-vs-non-contigious-tensor/30107/7</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48915810/pytorch-contiguous\">PyTorch - contiguous()</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 12234753, "user_type": "registered", "profile_image": "https://graph.facebook.com/1189915861208204/picture?type=large", "display_name": "Saib\u014d", "link": "https://stackoverflow.com/users/12234753/saib%c5%8d"}, "edited": false, "score": 0, "creation_date": 1616753262, "post_id": 64019069, "comment_id": 118107160, "body": "return from torch.narrow is not always contiguous. It depends on dimension  <code>In [145]: x = torch.tensor([[1, 2, 3], [4, 5, 6], [7, 8, 9]])                                                                            In [146]: torch.narrow(x, 1, 1, 2).is_contiguous()                                                                                      Out[146]: False</code>"}, {"owner": {"reputation": 26154, "user_id": 5884955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/J55wI.jpg?s=128&g=1", "display_name": "prosti", "link": "https://stackoverflow.com/users/5884955/prosti"}, "reply_to_user": {"reputation": 378, "user_id": 12234753, "user_type": "registered", "profile_image": "https://graph.facebook.com/1189915861208204/picture?type=large", "display_name": "Saib\u014d", "link": "https://stackoverflow.com/users/12234753/saib%c5%8d"}, "edited": false, "score": 0, "creation_date": 1616754133, "post_id": 64019069, "comment_id": 118107564, "body": "@Saib\u014d, feel free to update with this tip."}], "tags": [], "owner": {"reputation": 26154, "user_id": 5884955, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/J55wI.jpg?s=128&g=1", "display_name": "prosti", "link": "https://stackoverflow.com/users/5884955/prosti"}, "is_accepted": false, "score": 6, "last_activity_date": 1600818048, "creation_date": 1600818048, "answer_id": 64019069, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/64019069#64019069", "title": "PyTorch - What does contiguous() do?", "body": "<p>The accepted answers was so great, and I tried to dupe <code>transpose()</code> function effect. I created the two functions that can check the <code>samestorage()</code> and the <code>contiguous</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def samestorage(x,y):\n    if x.storage().data_ptr()==y.storage().data_ptr():\n        print(&quot;same storage&quot;)\n    else:\n        print(&quot;different storage&quot;)\ndef contiguous(y):\n    if True==y.is_contiguous():\n        print(&quot;contiguous&quot;)\n    else:\n        print(&quot;non contiguous&quot;)\n</code></pre>\n<p>I checked and got this result as a table:</p>\n<p><a href=\"https://i.stack.imgur.com/6rpMl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6rpMl.png\" alt=\"functions\" /></a></p>\n<p>You can review the checker code down below, but let's give one example when the tensor is <em>non contiguous</em>. We cannot simple call <code>view()</code> on that tensor, we would need to <code>reshape()</code> it or we could also call <code>.contiguous().view()</code>.</p>\n<pre><code>x = torch.randn(3,2)\ny = x.transpose(0, 1)\ny.view(6) # RuntimeError: view size is not compatible with input tensor's size and stride (at least one dimension spans across two contiguous subspaces). Use .reshape(...) instead.\n  \nx = torch.randn(3,2)\ny = x.transpose(0, 1)\ny.reshape(6)\n\nx = torch.randn(3,2)\ny = x.transpose(0, 1)\ny.contiguous().view(6)\n</code></pre>\n<p>Further to note there are methods that create <em>contiguous</em> and <em>non contiguous</em> tensors in the end. There are methods that can operate on a <em>same storage</em>, and some methods as <code>flip()</code> that will create a <em>new storage</em> (read: clone the tensor) before return.</p>\n<p>The checker code:</p>\n<pre><code>import torch\nx = torch.randn(3,2)\ny = x.transpose(0, 1) # flips two axes\nprint(&quot;\\ntranspose&quot;)\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\nnarrow&quot;)\nx = torch.randn(3,2)\ny = x.narrow(0, 1, 2) #dim, start, len  \nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\npermute&quot;)\nx = torch.randn(3,2)\ny = x.permute(1, 0) # sets the axis order\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\nview&quot;)\nx = torch.randn(3,2)\ny=x.view(2,3)\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\nreshape&quot;)\nx = torch.randn(3,2)\ny = x.reshape(6,1)\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\nflip&quot;)\nx = torch.randn(3,2)\ny = x.flip(0)\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y)\n\nprint(&quot;\\nexpand&quot;)\nx = torch.randn(3,2)\ny = x.expand(2,-1,-1)\nprint(x)\nprint(y)\ncontiguous(y)\nsamestorage(x,y) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6485, "user_id": 9067615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vkgqA.jpg?s=128&g=1", "display_name": "iacob", "link": "https://stackoverflow.com/users/9067615/iacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1618468968, "last_edit_date": 1618468968, "creation_date": 1617970925, "answer_id": 67021086, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do/67021086#67021086", "title": "PyTorch - What does contiguous() do?", "body": "<blockquote>\n<p><strong>A tensor whose values are laid out in the storage starting from the rightmost dimension onward (that is, moving along rows for a 2D tensor) is defined as <code>contiguous</code>.</strong> Contiguous tensors are convenient because we can visit them efficiently in order without jumping around in the storage (improving data locality improves performance because of the way memory access works on modern CPUs). This advantage of course depends on the way algorithms visit.</p>\n<p>Some tensor operations in PyTorch only work on contiguous tensors, such as <code>view</code>, [...]. In that case, PyTorch will throw an informative exception and require us to call contiguous explicitly. It\u2019s worth noting that calling <code>contiguous</code> will do nothing (and will not hurt performance) if the tensor is already contiguous.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://pytorch.org/assets/deep-learning/Deep-Learning-with-PyTorch.pdf\" rel=\"nofollow noreferrer\">Deep Learning with PyTorch</a></li>\n</ul>\n<p>Note this is a more specific meaning than the general use of the word &quot;contiguous&quot; in computer science (i.e. contiguous <em>and ordered</em>).</p>\n<p>e.g given a tensor:</p>\n<pre class=\"lang-py prettyprint-override\"><code>[[1, 2]\n [3, 4]]\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Storage in memory</th>\n<th>PyTorch <code>contiguous</code>?</th>\n<th>Generally &quot;contiguous&quot; in memory-space?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>1 2 3 4 0 0 0</code></td>\n<td>\u2705</td>\n<td>\u2705</td>\n</tr>\n<tr>\n<td><code>1 3 2 4 0 0 0</code></td>\n<td>\u274c</td>\n<td>\u2705</td>\n</tr>\n<tr>\n<td><code>1 0 2 0 3 0 4</code></td>\n<td>\u274c</td>\n<td>\u274c</td>\n</tr>\n</tbody>\n</table>\n</div>"}], "owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70596, "favorite_count": 45, "accepted_answer_id": 52229694, "answer_count": 7, "score": 110, "last_activity_date": 1618485277, "creation_date": 1519248657, "last_edit_date": 1617969510, "question_id": 48915810, "link": "https://stackoverflow.com/questions/48915810/pytorch-what-does-contiguous-do", "title": "PyTorch - What does contiguous() do?", "body": "<p>I was going through this example of a LSTM language model on github <a href=\"https://github.com/yunjey/pytorch-tutorial/blob/master/tutorials/02-intermediate/language_model/main.py\" rel=\"noreferrer\">(link)</a>.\nWhat it does in general is pretty clear to me. But I'm still struggling to understand what calling <code>contiguous()</code> does, which occurs several times in the code.</p>\n<p>For example in line 74/75 of the code input and target sequences of the LSTM are created.\nData (stored in <code>ids</code>) is 2-dimensional where first dimension is the batch size.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>for i in range(0, ids.size(1) - seq_length, seq_length):\n    # Get batch inputs and targets\n    inputs = Variable(ids[:, i:i+seq_length])\n    targets = Variable(ids[:, (i+1):(i+1)+seq_length].contiguous())\n</code></pre>\n<p>So as a simple example, when using batch size 1 and <code>seq_length</code> 10 <code>inputs</code> and <code>targets</code> looks like this:</p>\n<pre class=\"lang-python prettyprint-override\"><code>inputs Variable containing:\n0     1     2     3     4     5     6     7     8     9\n[torch.LongTensor of size 1x10]\n\ntargets Variable containing:\n1     2     3     4     5     6     7     8     9    10\n[torch.LongTensor of size 1x10]\n</code></pre>\n<p>So in general my question is, what does <code>contiguous()</code> do and why do I need it?</p>\n<p>Further I don't understand why the method is called for the target sequence and but not the input sequence as both variables are comprised of the same data.</p>\n<p>How could <code>targets</code> be non-contiguous and <code>inputs</code> still be contiguous?</p>\n<hr />\n<p><strong>EDIT:</strong></p>\n<p><em>I tried to leave out calling <code>contiguous()</code>, but this leads to an  error message when computing the loss.</em></p>\n<pre class=\"lang-python prettyprint-override\"><code>RuntimeError: invalid argument 1: input is not contiguous at .../src/torch/lib/TH/generic/THTensor.c:231\n</code></pre>\n<p><em>So obviously calling <code>contiguous()</code> in this example is necessary.</em></p>\n"}, {"tags": ["python", "pandas", "search", "text"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "edited": false, "score": 0, "creation_date": 1519255447, "post_id": 48917054, "comment_id": 84840853, "body": "thanks...it is working...let me do a bit more testing"}, {"owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "edited": false, "score": 0, "creation_date": 1519359757, "post_id": 48917054, "comment_id": 84889077, "body": "i get an error <code>&#39;must be str, not NoneType&#39;</code> if a cell in column <code>Jan</code> is empty...how could i modify the apply function such that it just skips row when the value in the cell is empty?"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 2, "last_activity_date": 1519254527, "creation_date": 1519254527, "answer_id": 48917054, "question_id": 48915796, "link": "https://stackoverflow.com/questions/48915796/finding-a-string-in-pandas-dataframe-column-and-cell/48917054#48917054", "title": "finding a string in pandas dataframe column and cell", "body": "<p>Here is one way.</p>\n\n<pre><code>df['found_inCell'] = df.apply(lambda row: row['URL'].count(row['Jan']), axis=1)\ndf['found_in_column'] = df['Jan'].apply(lambda x: ''.join(df['URL'].tolist()).count(x))\ndf['distinct_finds'] = df['Jan'].apply(lambda x: sum(df['URL'].str.contains(x)))\n\n#           Feb    Jan                           URL account  found_inCell  \\\n# 0  200 .jones    try  ea2018-001.pdf try bbbbb why       3             1   \n# 1         210    why                          try        1             0   \n# 2          90  bbbbb  ea2017-104.pdf bb cc for why       2             0   \n\n#    found_in_column  distinct_finds  \n# 0                2               2  \n# 1                2               2  \n# 2                1               1  \n</code></pre>\n"}], "owner": {"reputation": 277, "user_id": 9237237, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c42895a2f14fa1b58cba35003d7ecca6?s=128&d=identicon&r=PG&f=1", "display_name": "Ni_Tempe", "link": "https://stackoverflow.com/users/9237237/ni-tempe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1506, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519361005, "creation_date": 1519248610, "last_edit_date": 1519361005, "question_id": 48915796, "link": "https://stackoverflow.com/questions/48915796/finding-a-string-in-pandas-dataframe-column-and-cell", "title": "finding a string in pandas dataframe column and cell", "body": "<p>I have a dataframe as below and I want to find how many times value from the column <code>Jan</code> occurs in the column <code>URL</code> and corresponding cell of the column <code>URL</code>. </p>\n\n<p>I want to create 3 columns - <code>found in cell</code> and <code>found in column</code> and <code>distinct finds</code> \nFor example when we search for value <code>try</code> from the first cell of the column <code>Jan</code>, it should return 1 in <code>found in cell</code> and 2 in 'found in column<code>and 2 in</code>distinct finds<code>because the word was found in 2 rows\nwhen we search for value</code>why<code>from the second cell of the column</code>Jan<code>, it should return 0 in</code>found in cell<code>and 2 in 'found in column</code> and 2 in <code>distinct finds</code> because the word was found in 2 rows</p>\n\n<p>i know how to search within a string. But how could i search within a cell and within a column?</p>\n\n<pre><code>s=\"ea2017-104.pdf bb cc for why\"\ns.lower().count(\"why\")#to find text within string\n\nsales = [{'account': '3', 'Jan': 'try', 'Feb': '200 .jones', 'URL': 'ea2018-001.pdf try bbbbb why try'},\n             {'account': '1',  'Jan': 'why', 'Feb': '210', 'URL': 'try '},\n             {'account': '2',  'Jan': 'bbbbb',  'Feb': '90',  'URL': 'ea2017-104.pdf bb cc for why' }]\ndf = pd.DataFrame(sales)\ndf\n\ndf['column_find']=df['URL'].str.lower().count('why')\n</code></pre>\n\n<p>final output\nwill have 3 additional columns as below</p>\n\n<pre><code>found_inCell    found_in_column           distinct_finds\n2                3                   2\n0                2                   2\n0                1                   1\n</code></pre>\n\n<h1>update</h1>\n\n<p>I get an error when i try to run code  when one of the cells in empty/np.nan</p>\n\n<pre><code>sales = [{'account': '3', 'Jan': np.nan, 'Feb': '200 .jones', 'URL': 'ea2018-001.pdf try bbbbb why try'},\n             {'account': '1',  'Jan': 'try', 'Feb': '210', 'URL': 'try '},\n             {'account': '2',  'Jan': 'bbbbb',  'Feb': '90',  'URL': 'ea2017-104.pdf bb cc for why' }]\ndf = pd.DataFrame(sales)\ndf\n\ndf['found_inCell'] = df.apply(lambda row: row['URL'].count(row['Jan']), axis=1)\ndf['found_in_column'] = df['Jan'].apply(lambda x: ''.join(df['URL'].tolist()).count(x))\ndf['distinct_finds'] = df['Jan'].apply(lambda x: sum(df['URL'].str.contains(x)))\n</code></pre>\n"}, {"tags": ["python", "scipy", "scikit-learn", "anaconda", "jupyter-notebook"], "comments": [{"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1519248568, "post_id": 48915751, "comment_id": 84837989, "body": "Do you have another python version other than the conda installation?"}, {"owner": {"reputation": 1186, "user_id": 1882397, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/kX5cT.png?s=128&g=1", "display_name": "kszl", "link": "https://stackoverflow.com/users/1882397/kszl"}, "edited": false, "score": 0, "creation_date": 1519252014, "post_id": 48915751, "comment_id": 84839580, "body": "Paste the code, not a screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 746, "user_id": 6053728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Eat0GDUMlEk/AAAAAAAAAAI/AAAAAAAABD0/GfdYKB5T-uE/photo.jpg?sz=128", "display_name": "Sakhri Houssem", "link": "https://stackoverflow.com/users/6053728/sakhri-houssem"}, "is_accepted": true, "score": 1, "last_activity_date": 1520943056, "creation_date": 1520943056, "answer_id": 49255870, "question_id": 48915751, "link": "https://stackoverflow.com/questions/48915751/importerror-cannot-import-name-ccallback-c/49255870#49255870", "title": "ImportError cannot import name &#39;_ccallback_c&#39;", "body": "<ol>\n<li>uninstall scipy using <code>pip uninstall scipy</code>      </li>\n<li>re-install scipy using <code>pip install scipy</code></li>\n</ol>\n"}], "owner": {"reputation": 23, "user_id": 9393276, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P88OAKm4tnw/AAAAAAAAAAI/AAAAAAAAAaQ/1C3k8MG-8xA/photo.jpg?sz=128", "display_name": "Hursh Desai", "link": "https://stackoverflow.com/users/9393276/hursh-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2048, "favorite_count": 0, "accepted_answer_id": 49255870, "answer_count": 1, "score": 2, "last_activity_date": 1520943056, "creation_date": 1519248368, "last_edit_date": 1519262359, "question_id": 48915751, "link": "https://stackoverflow.com/questions/48915751/importerror-cannot-import-name-ccallback-c", "title": "ImportError cannot import name &#39;_ccallback_c&#39;", "body": "<p>I'm trying to do this problem that I saw in a YouTube video and I get this error every time I try to import scikit-learn. I'm using Jupyter Notebook and I installed scikit-learn through Anaconda. </p>\n\n<p>This is the error message I get.</p>\n\n<p><img src=\"https://i.stack.imgur.com/0mgPD.jpg\" alt=\"This is the error message I get\"></p>\n\n<p>I've already uninstalled and installed sckit-learn and scipy using conda isn't all multiple times but I always get the same result.</p>\n\n<p>Please, help.</p>\n"}, {"tags": ["python", "sql", "oracle", "pandas", "cx-oracle"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519248730, "post_id": 48915732, "comment_id": 84838078, "body": "Why can&#39;t you just chunk the list of ID&#39;s into lists of 500 and run your IN query on those lists, concatenate the results?"}, {"owner": {"reputation": 1, "user_id": 3716538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a061fba001935d94a8561b7cf2fb546?s=128&d=identicon&r=PG&f=1", "display_name": "gabeschw", "link": "https://stackoverflow.com/users/3716538/gabeschw"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519248980, "post_id": 48915732, "comment_id": 84838206, "body": "@roganjosh That is the one option I thought of, and probably the way I would go if I can&#39;t come up with anything else. I guess I was hoping there was something a little cleaner. But maybe not!"}], "answers": [{"tags": [], "owner": {"reputation": 6639, "user_id": 7367293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9tLcE.jpg?s=128&g=1", "display_name": "Connor McDonald", "link": "https://stackoverflow.com/users/7367293/connor-mcdonald"}, "is_accepted": false, "score": 0, "last_activity_date": 1519266068, "creation_date": 1519266068, "answer_id": 48918612, "question_id": 48915732, "link": "https://stackoverflow.com/questions/48915732/what-are-my-options-for-pulling-a-subset-of-records-from-a-large-database-table/48918612#48918612", "title": "What are my options for pulling a subset of records from a large database table based on information in a local file?", "body": "<p>Without being able to transfer the data to the database, anything will be a kludgy solution.  But you can pass more than 1000 elements via a nested table, and still reference those rows within an SQL statement using the TABLE() operator, eg</p>\n\n<pre><code>SQL&gt;     set serverout on\nSQL&gt; declare\n  2    s sys.odcinumberlist := sys.odcinumberlist(1,2,3,4);\n  3\n  4  begin\n  5    for i in\n  6      ( select * from table(s) )\n  7    loop\n  8      dbms_output.put_line(i.column_value);\n  9    end loop;\n 10  end;\n 11  /\n1\n2\n3\n4\n\nPL/SQL procedure successfully completed.\n\nSQL&gt;\nSQL&gt;\nSQL&gt;\nSQL&gt; declare\n  2    s sys.odcinumberlist := sys.odcinumberlist(1,2,3,4);\n  3    c int;\n  4  begin\n  5    for i in 1 .. dbms_random.value(6000,8000) loop\n  6      s.extend;\n  7      s(s.count) := i;\n  8    end loop;\n  9\n 10    select count(*) into c from table(s);\n 11    dbms_output.put_line('Still fine with '||c||' elements');\n 12  end;\n 13  /\nStill fine with 7429 elements\n\nPL/SQL procedure successfully completed.\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3716538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a061fba001935d94a8561b7cf2fb546?s=128&d=identicon&r=PG&f=1", "display_name": "gabeschw", "link": "https://stackoverflow.com/users/3716538/gabeschw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519266068, "creation_date": 1519248305, "question_id": 48915732, "link": "https://stackoverflow.com/questions/48915732/what-are-my-options-for-pulling-a-subset-of-records-from-a-large-database-table", "title": "What are my options for pulling a subset of records from a large database table based on information in a local file?", "body": "<p>I am attempting to pull a subset (a few thousand) records from a large Oracle database table, where the IDs of those records are specified in (and already extracted from) a local file.</p>\n\n<p>Since the data set with the IDs is local, there is no way to do this through a join, and I do not have permissions to create any temporary tables in the database. The number of records I need (again, a few thousand, and increasing over time) seems too large to pass into the query through an IN clause.</p>\n\n<p>Are there any suggestions on a method I could use to do this without pulling in the entire table?</p>\n\n<p>Although the question is phrased more generically, if the specifics matter, I am using the cx-Oracle library in Python to query the database, and mostly working with Pandas DataFrames to work with the data afterwards.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1519248416, "post_id": 48915724, "comment_id": 84837912, "body": "Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that explains the <i>problem</i> with your current code. Also note that docstrings aren&#39;t the same as comments and comments that just repeat what the code said are asking for problems."}, {"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "edited": false, "score": 1, "creation_date": 1519249002, "post_id": 48915724, "comment_id": 84838221, "body": "Is it mandatory to achieve the desired result using <code>regex</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": -1, "last_activity_date": 1519248844, "creation_date": 1519248844, "answer_id": 48915858, "question_id": 48915724, "link": "https://stackoverflow.com/questions/48915724/combining-lines-using-reg-ex-in-python/48915858#48915858", "title": "Combining lines using reg ex in python", "body": "<p>There is no need for a regex in your case. Regular expressions are used to deconstruct strings, not to combine them. If you do not mind using pandas, the solution takes two lines:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_table(\"data.txt\", sep='\\s+', header=None)\n\ndf.sum().values.tolist()\n#[9428.840000000422, -13, 'xyzxyz']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1519250090, "creation_date": 1519250090, "answer_id": 48916142, "question_id": 48915724, "link": "https://stackoverflow.com/questions/48915724/combining-lines-using-reg-ex-in-python/48916142#48916142", "title": "Combining lines using reg ex in python", "body": "<p>You can do this by <code>zipping</code> the contents of the file so that all number of the first column are on first list, all number of the second column on second list and finally all characters on the third list. Then all you do is simply <code>sum</code> the first two lists and <code>join</code> the third list that contains the characters:</p>\n\n<pre><code>sum1 = 0\nsum2 = 0\nfinalStr = \"\"\n\nwith open(\"data.txt\", \"r\") as infile:\n\n   lines = list(zip(*[line.split() for line in list(infile)]))\n\n   sum1 = sum(map(float,lines[0]))\n   sum2 = sum(map(float,lines[1]))\n   finalStr = \"\".join(lines[2])\n\n   # Some formatting for float numbers\n   print(\"{:.2f}\".format(sum1), end=\" \") \n   print(\"{:.0f}\".format(sum2), end=\" \")\n\n   print(finalStr)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>9428.84 -13 xyzxyz\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9393264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "David Richmond", "link": "https://stackoverflow.com/users/9393264/david-richmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1519250090, "creation_date": 1519248269, "last_edit_date": 1519248339, "question_id": 48915724, "link": "https://stackoverflow.com/questions/48915724/combining-lines-using-reg-ex-in-python", "title": "Combining lines using reg ex in python", "body": "<p>If wanted to combine six lines (each containing 3 elements) so that the final outcome is a single line with three elements so that the first is the addition of all the first elements, the second is the addition of all the second elements and the third is the concatenation of all the third elements. </p>\n\n<p>For example, </p>\n\n<p>We have, </p>\n\n<pre><code>12.34  -79   x\n-3.5    23      y\n32.2E2   2   z\n4.23e-10   +45  x\n62E+2    -4     y\n0.0    0        z\n</code></pre>\n\n<p>and we need </p>\n\n<pre><code>9428.84 -13 xyzxyz\n</code></pre>\n\n<p>Here is my current code: </p>\n\n<pre><code>f = open('data.txt', 'r')\n\"\"\" opens the file \"\"\"\nimport re\n\"\"\" Imports the regular expressions module\"\"\"\n# lines = f.readlines ()\nlines = list(f)\n\"\"\" Reads all the lines of the file \"\"\"\n\n\np = re.compile(r'\\s*^([-]?([1-9]\\d|\\d)[E|e]?[+\\d]?(.)(\\d+(E|e)[-]?\\d+|\\d+))\\s*([-,+]?([1-9]\\d+|\\d))\\s*([x|y|z])$')\n\nfor x in lines:\n       m = p.match(x)\n       if m:\n           print (x)\n</code></pre>\n"}, {"tags": ["python", "dictionary", "beautifulsoup", "python-3.6"], "answers": [{"tags": [], "owner": {"reputation": 1408, "user_id": 8869277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ijyzD.jpg?s=128&g=1", "display_name": "Jared Forth", "link": "https://stackoverflow.com/users/8869277/jared-forth"}, "is_accepted": false, "score": 0, "last_activity_date": 1519249881, "creation_date": 1519249881, "answer_id": 48916095, "question_id": 48915708, "link": "https://stackoverflow.com/questions/48915708/how-do-i-assign-data-obtained-using-beatifulsoup4-to-a-variable-as-a-float-or-in/48916095#48916095", "title": "How do I assign data obtained using BeatifulSoup4 to a variable as a float or integer?", "body": "<p>I'm not sure if this is what you're looking for, but: </p>\n\n<pre><code>aapl = dict([('Cash &amp; Cash Equivalents 2017', cash_and_equivalents2017),\n         ('Cash &amp; Cash Equivalents 2016', cash_and_equivalents2016),\n         ('Receivables 2017', receivables2017),\n         ('Receivables 2016', receivables2016)])\n\nprint(aapl)\n</code></pre>\n\n<p>Worked for me to return: </p>\n\n<pre><code>{'Cash &amp; Cash Equivalents 2016': '67,155', 'Receivables 2016': '29,299', 'Cash &amp; Cash Equivalents 2017': '74,181', 'Receivables 2017': '35,673'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 8597389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef694dda1135f4f3173759ffccb5f3a0?s=128&d=identicon&r=PG&f=1", "display_name": "hokedo", "link": "https://stackoverflow.com/users/8597389/hokedo"}, "is_accepted": false, "score": 2, "last_activity_date": 1519250118, "creation_date": 1519250118, "answer_id": 48916153, "question_id": 48915708, "link": "https://stackoverflow.com/questions/48915708/how-do-i-assign-data-obtained-using-beatifulsoup4-to-a-variable-as-a-float-or-in/48916153#48916153", "title": "How do I assign data obtained using BeatifulSoup4 to a variable as a float or integer?", "body": "<p>You don't need the <code>for</code> loop to assign the values to variables:</p>\n\n<pre><code>for receivables2016 in soup.find_all('td')[40]:\n    print(receivables2016.string)\n</code></pre>\n\n<p>Can be shortened to:</p>\n\n<pre><code>receivables2016 = soup.find_all('td')[40].string\n</code></pre>\n\n<p>If you try to iterate over the soup's element, it indeed yields one object even if it contains just one element. That's how it was designed to work. But it's actually an element containing some data and not necessarily an iterable (list, tuple etc).\nYou should take a look at python's iterators and generators:\n<a href=\"https://anandology.com/python-practice-book/iterators.html#the-iteration-protocol\" rel=\"nofollow noreferrer\">https://anandology.com/python-practice-book/iterators.html#the-iteration-protocol</a></p>\n\n<p>If you don't want a block of code to do anything, just use <code>pass</code></p>\n\n<pre><code>for i in range(10):\n    pass # will iterate 10 times but won't don anything\n</code></pre>\n\n<p>Or if you defined a function but haven't decided on the implementation yet:</p>\n\n<pre><code>def my_funct():\n    pass\n</code></pre>\n\n<p>If <code>my_funct</code> is called it will return by default <code>None</code> since no return value is declared.</p>\n\n<p>I see that the values you want to have in your dict have the decimal point as <code>,</code>. If it's a string you could easily just replace the comma with a dot and convert it to a float afterwards:</p>\n\n<pre><code>aapl = {'Cash &amp; Cash Equivalents':\n            {'2017': float(cash_and_equivalents2017.replace(\",\", \".\")),\n             '2016': float(cash_and_equivalents2016.replace(\",\", \".\"))},\n        'Receivables':\n            {'2017': float(receivables2017.replace(\",\", \".\")),\n             '2016': float(receivables2016.replace(\",\", \".\"))}\n        }\n</code></pre>\n\n<p>Using python's built-in <code>int()</code> function you can turn numerical strings into integers. Keep in mind that they have to be valid integers even if string format. This won't work and will throw an <code>ValueError</code>:</p>\n\n<pre><code>int(receivables2016.replace(\",\", \".\"))\n</code></pre>\n\n<p>In this case you'll have to convert the string to float and to an integer afterwards:</p>\n\n<pre><code>int(float(receivables2016.replace(\",\", \".\")))\n</code></pre>\n"}], "owner": {"reputation": 977, "user_id": 9364931, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "michael0196", "link": "https://stackoverflow.com/users/9364931/michael0196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519250118, "creation_date": 1519248197, "question_id": 48915708, "link": "https://stackoverflow.com/questions/48915708/how-do-i-assign-data-obtained-using-beatifulsoup4-to-a-variable-as-a-float-or-in", "title": "How do I assign data obtained using BeatifulSoup4 to a variable as a float or integer?", "body": "<p>I am new to Python, sorry for such a noob question but I have two problems with the following code:</p>\n\n<p>1) I'm trying to scrape data from a website and I'm having problems getting the data through anything other than the <code>for</code> loop and therefore I need to continue the loop with <code>print</code> in order to be able to assign the value to a variable in the following command:</p>\n\n<pre><code>receivables2017 = receivables2017.string\n</code></pre>\n\n<p>2) Next I'm trying to assign the specific values (for example <code>Receivables2017</code>) to the <code>aapl</code> dictionary but I am unable to get the value in the dictionary in the form of a <code>float</code> or <code>int</code> which is needed to later be applied to equations.</p>\n\n<p>Help will be much appreciated, thank you!</p>\n\n<pre><code>import bs4 as bs\nimport urllib.request\n\n\nsauce = urllib.request.urlopen('https://www.zacks.com/stock/quote/AAPL/balance-sheet')\nsoup = bs.BeautifulSoup(sauce,'lxml')\n\n#Cash &amp; Cash Equivalents\nfor cash_and_equivalents2017 in soup.find_all('td')[33]:\n    print(cash_and_equivalents2017.string)\n\ncash_and_equivalents2017 = cash_and_equivalents2017.string\n\nfor cash_and_equivalents2016 in soup.find_all('td')[34]:\nprint(cash_and_equivalents2016.string)\n\ncash_and_equivalents2016 = cash_and_equivalents2016.string\n\n#Receivables\nfor receivables2017 in soup.find_all('td')[39]:\n    print(receivables2017.string)\n\nreceivables2017 = receivables2017.string\n\nfor receivables2016 in soup.find_all('td')[40]:\n    print(receivables2016.string)\n\nreceivables2016 = receivables2016.string\n\n\n\naapl = {'Cash &amp; Cash Equivalents':\n            {'2017': cash_and_equivalents2017,\n             '2016': cash_and_equivalents2016},\n        'Receivables':\n            {'2017': receivables2017,\n             '2016': receivables2016}\n        {\n\nprint(aapl)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 4378, "user_id": 6694255, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206786178165174/picture?type=large", "display_name": "Marcus V.", "link": "https://stackoverflow.com/users/6694255/marcus-v"}, "edited": false, "score": 0, "creation_date": 1519285043, "post_id": 48918914, "comment_id": 84850138, "body": "Just a note: as of today <a href=\"http://scikit-learn.org/dev/modules/generated/sklearn.preprocessing.CategoricalEncoder.html\" rel=\"nofollow noreferrer\">CategoricalEncoder</a> is only available in the dev version of sklearn, but will be coming with the new release."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 4378, "user_id": 6694255, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206786178165174/picture?type=large", "display_name": "Marcus V.", "link": "https://stackoverflow.com/users/6694255/marcus-v"}, "edited": false, "score": 0, "creation_date": 1519285773, "post_id": 48918914, "comment_id": 84850492, "body": "@MarcusV. Yes. I was intending to edit the answer to add more details. Thanks"}], "tags": [], "owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1519285746, "last_edit_date": 1519285746, "creation_date": 1519268100, "answer_id": 48918914, "question_id": 48915693, "link": "https://stackoverflow.com/questions/48915693/inconsistent-labelbinarizer-behaviour-breaks-pipeline/48918914#48918914", "title": "Inconsistent LabelBinarizer Behaviour breaks Pipeline", "body": "<p>Its <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.LabelBinarizer.html#sklearn.preprocessing.LabelBinarizer.fit_transform\" rel=\"nofollow noreferrer\">documented here</a> that binary data will only contain 1 column. </p>\n\n<blockquote>\n  <p>Returns:   Y : \n                 array or CSR matrix of shape [n_samples, n_classes]. \n                 Shape will be [n_samples, 1] for binary problems.</p>\n</blockquote>\n\n<p>If you need one-column per category, you can try the following methods:</p>\n\n<p>1) <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.get_dummies.html\" rel=\"nofollow noreferrer\"><code>pd.get_dummies()</code></a> </p>\n\n<pre><code>train_animals = pd.DataFrame({'animal': ['cat', 'dog', 'dog']})\npd.get_dummies(train_animals).values\n\narray([[1, 0],\n       [0, 1],\n       [0, 1]])\n</code></pre>\n\n<p>But the caveat of this approach is that you need to transform the data before splitting into train and test. Not just on train data. Because on test data it will generate different number of columns.</p>\n\n<p>2) <a href=\"http://scikit-learn.org/dev/modules/generated/sklearn.preprocessing.CategoricalEncoder.html\" rel=\"nofollow noreferrer\"><code>CategoricalEncoder()</code></a></p>\n\n<pre><code>from sklearn.preprocessing import CategoricalEncoder\nenc = CategoricalEncoder()\ntrain_animals = pd.DataFrame({'animal': ['cat', 'dog', 'dog']})\nenc.fit_tranform(train_animals[['animals']])\n\narray([[1, 0],\n       [0, 1],\n       [0, 1]])\n</code></pre>\n\n<p>Now, the CategoricalEncoder is still in development branch, so may not be easy to use. </p>\n\n<p>3) Instead of CategoricalEncoder, you can use the combination of LabelEncoder and OneHotEncoder. See my other answer for more details on usage:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48079345/3374996\">https://stackoverflow.com/a/48079345/3374996</a></li>\n</ul>\n\n<p>But for points 2 and 3, you need to make sure that all the possible values in the 'animals' column are present in train. If test set contains unseen values it will throw error, because the ML model cant do anything on test data which it hasn't seen.</p>\n"}, {"tags": [], "owner": {"reputation": 6972, "user_id": 3731467, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ba1b20a3d2de4a97b893058a4673510a?s=128&d=identicon&r=PG&f=1", "display_name": "emehex", "link": "https://stackoverflow.com/users/3731467/emehex"}, "is_accepted": true, "score": 1, "last_activity_date": 1519311207, "creation_date": 1519311207, "answer_id": 48930435, "question_id": 48915693, "link": "https://stackoverflow.com/questions/48915693/inconsistent-labelbinarizer-behaviour-breaks-pipeline/48930435#48930435", "title": "Inconsistent LabelBinarizer Behaviour breaks Pipeline", "body": "<p>I think I've come up with a solution that hacks the internal <code>label_binarize</code> function and that works with <code>DataFrameMapper</code></p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import label_binarize, LabelBinarizer\nfrom sklearn.base import TransformerMixin\nfrom sklearn_pandas import DataFrameMapper\n\nclass SafeLabelBinarizer(TransformerMixin):\n\n    def __init__(self):\n        self.lb = LabelBinarizer()\n\n    def fit(self, X):\n        X = np.array(X)\n        self.lb.fit(X)\n        self.classes_ = self.lb.classes_\n\n    def transform(self, X):\n        K = np.append(self.classes_, ['__FAKE__'])\n        X = label_binarize(X, K, pos_label=1, neg_label=0)\n        X = np.delete(X, np.s_[-1], axis=1)\n        return X\n\n    def fit_transform(self, X):\n        self.fit(X)\n        return self.transform(X)\n</code></pre>\n\n<p>Training data:</p>\n\n<pre><code>train_animals = pd.DataFrame({'animal': ['cat', 'dog', 'dog']})\n\nmapper = DataFrameMapper([\n    ('animal', SafeLabelBinarizer())], df_out=True)\n\nmapper.fit_transform(train_animals)\n</code></pre>\n\n<p>>>></p>\n\n<pre><code>    animal_cat  animal_dog\n0   1   0\n1   0   1\n2   0   1\n</code></pre>\n\n<p>Unseen data:</p>\n\n<pre><code>test_animals = pd.DataFrame({'animal': ['cat', 'cat', 'duck', 'fish']})\nmapper.transform(test_animals)\n</code></pre>\n\n<p>>>></p>\n\n<pre><code>    animal_cat  animal_dog\n0   1   0\n1   1   0\n2   0   0\n3   0   0\n</code></pre>\n\n<p>\ud83c\udf89</p>\n"}], "owner": {"reputation": 6972, "user_id": 3731467, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ba1b20a3d2de4a97b893058a4673510a?s=128&d=identicon&r=PG&f=1", "display_name": "emehex", "link": "https://stackoverflow.com/users/3731467/emehex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 2, "accepted_answer_id": 48930435, "answer_count": 2, "score": 0, "last_activity_date": 1522866326, "creation_date": 1519248131, "question_id": 48915693, "link": "https://stackoverflow.com/questions/48915693/inconsistent-labelbinarizer-behaviour-breaks-pipeline", "title": "Inconsistent LabelBinarizer Behaviour breaks Pipeline", "body": "<p>My pipeline looks like this:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import LabelBinarizer\n\ntrain_animals = pd.DataFrame({'animal': ['cat', 'dog', 'dog']})\n\nlb = LabelBinarizer()\nlb.fit_transform(train_animals.animal)\n</code></pre>\n\n<p>Which generates:</p>\n\n<pre><code>array([[0],\n       [1],\n       [1]])\n</code></pre>\n\n<p>However, when I apply my pipeline on unseen data:</p>\n\n<pre><code>test_animals = pd.DataFrame({'animal': ['cat', 'cat', 'duck', 'fish']})\nlb.transform(test_animals)\n</code></pre>\n\n<p>It will spit out:</p>\n\n<pre><code>array([[1, 0],\n       [1, 0],\n       [0, 0],\n       [0, 0]])\n</code></pre>\n\n<p>Which breaks everything.</p>\n\n<p>I need LabelBinarizer to ALWAYS onehotencode and never generate a single column. So:</p>\n\n<pre><code>lb = LabelBinarizer()\nlb.fit_transform(train_animals.animal)\n</code></pre>\n\n<p>Will ideally generate:</p>\n\n<pre><code>array([[1, 0],\n       [0, 1],\n       [0, 1]])\n</code></pre>\n"}, {"tags": ["python", "bluetooth", "arduino", "hex", "byte"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519247799, "post_id": 48915590, "comment_id": 84837609, "body": "&quot;in hex representation&quot;? What? <i>what bytes exactly do you want sent over the socket</i>?"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519247856, "post_id": 48915590, "comment_id": 84837644, "body": "I need the char array built to consist of 01 41 55 54 48 10"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519247936, "post_id": 48915590, "comment_id": 84837684, "body": "What is that, exactly? Are those the <i>bytes</i> <code>1, 41, 55...</code>?"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519248046, "post_id": 48915590, "comment_id": 84837734, "body": "Its the hex representation of a starting byte 01 the word AUTH and the message end byte 10"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519248074, "post_id": 48915590, "comment_id": 84837748, "body": "@juanpa.arrivillaga yess those are the bytes"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1519248079, "post_id": 48915590, "comment_id": 84837753, "body": "Then <i>that&#39;s what your char array has</i>"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519248127, "post_id": 48915590, "comment_id": 84837768, "body": "Yes what the char array should contain when I sent the AUTH command"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1519248357, "post_id": 48915590, "comment_id": 84837881, "body": "I think you fundamentally misunderstand what python <code>bytes</code> objects are, and what the <code>char</code> data-type in C represents."}, {"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 1, "creation_date": 1519248396, "post_id": 48915590, "comment_id": 84837901, "body": "<code>{1, 65, 85, 84, 72, 16}</code> is exactly the same thing as <code>{0x01, 0x41, 0x55, 0x54, 0x48, 0x10}</code> or <code>{&#39;\\x01&#39;, &#39;A&#39;, &#39;U&#39;, &#39;T&#39;, &#39;H&#39;, &#39;\\x10&#39;}</code>."}, {"owner": {"reputation": 820, "user_id": 1237256, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d743934f5ccd696644b69495e942d860?s=128&d=identicon&r=PG", "display_name": "gout", "link": "https://stackoverflow.com/users/1237256/gout"}, "edited": false, "score": 0, "creation_date": 1519248479, "post_id": 48915590, "comment_id": 84837949, "body": "Have you checked binascii, <a href=\"https://docs.python.org/2/library/binascii.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/binascii.html</a>"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1519248606, "post_id": 48915590, "comment_id": 84838015, "body": "@gre_gor yes but I dont understand why the comparison in the code above does not become true"}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519248704, "post_id": 48915590, "comment_id": 84838059, "body": "@juanpa.arrivillaga very possible - would you mind explaining it?"}, {"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1519248736, "post_id": 48915590, "comment_id": 84838087, "body": "Which comparison? <code>data == 10</code>? Because you are sending 16 (or 0x10) at the end not 10."}, {"owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "edited": false, "score": 0, "creation_date": 1519248827, "post_id": 48915590, "comment_id": 84838127, "body": "yes but why? I am sending byte 10 - why is it 16?"}, {"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 3, "creation_date": 1519248967, "post_id": 48915590, "comment_id": 84838196, "body": "<code>&quot;\\x10&quot;</code> is not a byte with the value 10 it&#39;s 16. That <code>x</code> indicates it&#39;s in hexadecimal."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519252082, "post_id": 48915590, "comment_id": 84839614, "body": "I think fundamentally you need to keep separate the actual bytes and the numbers they represent, which themselves can be thought of (and written in) decimal or hexadecimal."}], "answers": [{"comments": [{"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1519251610, "post_id": 48916314, "comment_id": 84839402, "body": "If you read the comments, that&#39;s not really what he wants. He is misunderstanding the representation of numbers."}], "tags": [], "owner": {"reputation": 156, "user_id": 8597389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef694dda1135f4f3173759ffccb5f3a0?s=128&d=identicon&r=PG&f=1", "display_name": "hokedo", "link": "https://stackoverflow.com/users/8597389/hokedo"}, "is_accepted": false, "score": 0, "last_activity_date": 1519250814, "creation_date": 1519250814, "answer_id": 48916314, "question_id": 48915590, "link": "https://stackoverflow.com/questions/48915590/python-3-convert-string-to-hex-bytes/48916314#48916314", "title": "Python 3 Convert String to Hex Bytes", "body": "<p>Yeah, in the first array you sent the ascii values.\nTo get the hex values in python3:</p>\n\n<pre><code>&gt;&gt;&gt; import codecs\n&gt;&gt;&gt; codecs.encode(message.encode(\"ascii\"), \"hex\")\nb'41555448'\n</code></pre>\n"}], "owner": {"reputation": 853, "user_id": 6228450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b68f4daab93c6c862f563845f8bca540?s=128&d=identicon&r=PG&f=1", "display_name": "Curunir", "link": "https://stackoverflow.com/users/6228450/curunir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2502, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1519250814, "creation_date": 1519247637, "last_edit_date": 1519248557, "question_id": 48915590, "link": "https://stackoverflow.com/questions/48915590/python-3-convert-string-to-hex-bytes", "title": "Python 3 Convert String to Hex Bytes", "body": "<p>I need to convert a simple string to a byte array which uses hex representation, just like that site: \n<a href=\"http://string-functions.com/string-hex.aspx\" rel=\"nofollow noreferrer\">http://string-functions.com/string-hex.aspx</a></p>\n\n<p>This string then gets send via bluetooth using python and the arduino reads the individual bytes like this:</p>\n\n<pre><code> char buff[1000];\n int i =0;\n int typeByte = serial-&gt;read();\n int data = serial-&gt;read();\n while (true) {\n   if (data == -1) continue;\n   if (data == 254 || data == 10) break;  \n   buff[i++] = data;\n   data = serial-&gt;read();\n   delay(10);\n }\n String buffer(buff);\n if(buffer.startsWith(\"AUTH\")){\n        dostuff();\n }\n</code></pre>\n\n<p>Those are then stored in a char[] array and used for comparison with a command name.</p>\n\n<p>This is the code I am using in the Python Project (message is a string for example \"AUTH\")</p>\n\n<pre><code>self.bluetooth_socket.send(b\"\\x01\" + message.encode('ascii') + b\"\\x10\")\n</code></pre>\n\n<p>This is what the arduino receives:</p>\n\n<pre><code>01 65 85 84 72 16\n</code></pre>\n\n<p>But it should look like that:</p>\n\n<pre><code>01 41 55 54 48 10\n</code></pre>\n\n<p>I know that the second byte array is basically the first one just in hex representation - how would I achieve that?</p>\n"}, {"tags": ["python", "sockets", "server", "client", "telnet"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1519248995, "post_id": 48915581, "comment_id": 84838213, "body": "Please fix your indentation."}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1519261076, "post_id": 48915581, "comment_id": 84842373, "body": "TCP is a stream-oriented transport, not message-oriented. There is no 1:1 relationship between <code>send()</code> and <code>recv()</code>. For what you are attempting to do, you need to ensure that the sender always sends a line break after each message, and the receiver reads until it encounters the line break, before then processing the sent data. You are not handling that correctly on either end. Also, this is NOT a Telnet client/server, as the <a href=\"https://tools.ietf.org/html/rfc854\" rel=\"nofollow noreferrer\">actual Telnet protocol</a> is not being implemented. All you are doing is writing a wrapper for the system console. That is not Telnet."}, {"owner": {"reputation": 1, "user_id": 9393204, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660122414103126/picture?type=large", "display_name": "Nickolas Daniel", "link": "https://stackoverflow.com/users/9393204/nickolas-daniel"}, "edited": false, "score": 0, "creation_date": 1519670874, "post_id": 48915581, "comment_id": 84995565, "body": "i worked it out, thank you!"}], "owner": {"reputation": 1, "user_id": 9393204, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660122414103126/picture?type=large", "display_name": "Nickolas Daniel", "link": "https://stackoverflow.com/users/9393204/nickolas-daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1216, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519257723, "creation_date": 1519247613, "last_edit_date": 1519257723, "question_id": 48915581, "link": "https://stackoverflow.com/questions/48915581/simple-telnet-server", "title": "Simple TELNET Server", "body": "<p>I have written a telnet server and client, but I don't receive a response from the server and I don't know where the problem is.</p>\n\n<p><strong>SERVER</strong></p>\n\n<pre><code>import socket\nimport subprocess\n\ndef handle_client(client_socket):\n\nMAX_RECV_BUFFER = 1024\n\nallowed_commands = [\"ls, cd, ls -l\"]\n\nrecv_size = 1\nwhile recv_size:\n\n    data_buffer = client_socket.recv(MAX_RECV_BUFFER)\n    command = data_buffer.decode(\"utf-8\")\n\n    if not data_buffer:\n        print(\"Client just disconected\")\n        break\n\n    recv_size = len(data_buffer)\n\n    if command in allowed_commands:\n        response = run_command(commad)\n        client_socket.send(response.encode(\"utf-8\"))\n    data_buffer = \"\"\n\ndef init_server(server_address, reuseAddr=True):\n\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\ntry:\n    server_socket.bind(server_address)\nexcept socket.error as serr:\n    print(str(serr))\n\nserver_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\nif hasattr(socket, \"SO_REUSEPORT\"):\n    server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEPORT, 1)\n\nserver_socket.listen(5)\n\nprint(\"Server listen at {}:{}\".format(server_address[0], server_address[1]))\n\ntry:\n    while True:\n        client_socket, client_address = server_socket.accept()\n\n        print(\"Client has connected {}:{}\".format(client_address[0], client_address[1]))\n\n        handle_client(client_socket)\n\nexcept KeyboardInterrupt as kerr:\n    print(\"Server is closing...\")\n    client_socket.close()\n    server_socket.close()\n\ndef run_command(commad):\ntry:\n    output = subprocess.check_output(commad, stderr=subprocess.STDOUT, \nshell=True)\nexcept OSError as oserr:\n    return output\n\n\nif __name__ == \"__main__\":\n    init_server((\"127.0.0.1\",8080))\n</code></pre>\n\n<p><strong>CLIENT</strong></p>\n\n<pre><code>import socket\n\ndef init_client(server_address):\nconnected = True\nclient_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nprint('Connecting {} to server ...'.format(server_address))\nclient_socket.connect(server_address)\n\nwhile connected:\n    # allowed__commands = ['ls, cd, ls-l']\n    try:\n        if server_address[0] == '127.0.0.1':\n            message = input('\\nlocalhost@localhost' + '&gt;&gt; ')\n        else:\n            message = input(server_address[0] + '@' + server_address[1] + \n'&gt;&gt; \\n')\n        print('Sending message: {}'.format(message))\n        client_socket.sendall(message.encode('utf-8'))\n\n        recv_data(client_socket)\n\n    except IOError as e:\n        print('Error: {}'.format(e))\n\n    except Exception as e:\n        print('Other error: {}'.format(e))\n\n    except KeyboardInterrupt:\n            connected = False\ndef recv_data(client_socket):\nrecv_size = 1\nMAX_RECV_BUFFER = 1024\nwhile recv_size:\n    data_buffer = client_socket.recv(MAX_RECV_BUFFER)\n    message = data_buffer.decode('utf-8')\n    print('Received data: '.format(message))\n\n    if not data_buffer:\n        break\n    recv_size += len(data_buffer)\n\ndata_buffer = ''\nclient_socket.close()\n\nif __name__ == '__main__':\ninit_client(('127.0.0.1', 8080))\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 8190922, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1257458624361570/picture?type=large", "display_name": "Aron Tesfay", "link": "https://stackoverflow.com/users/8190922/aron-tesfay"}, "edited": false, "score": 0, "creation_date": 1519256448, "post_id": 48915633, "comment_id": 84841148, "body": "Thanks Yunkai! I thought the print was for both the string and function."}], "tags": [], "owner": {"reputation": 181, "user_id": 5167527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89de841b8e3587bbb458c69409e4fabe?s=128&d=identicon&r=PG&f=1", "display_name": "Yunkai Xiao", "link": "https://stackoverflow.com/users/5167527/yunkai-xiao"}, "is_accepted": true, "score": 0, "last_activity_date": 1519360615, "last_edit_date": 1519360615, "creation_date": 1519247844, "answer_id": 48915633, "question_id": 48915579, "link": "https://stackoverflow.com/questions/48915579/caesar-substituion-function-not-returning-results/48915633#48915633", "title": "Caesar substituion -function not returning results", "body": "<p>Because you didn't ask your main function to print it.</p>\n\n<p><code>print(caesarBreak(secretmsg))</code></p>\n\n<p>it did return the result, if you find a place to store it then later you could print it out or do whatever you want with it.</p>\n\n<pre><code>result = caesarBreak(secretmsg)\nprint(result)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 8190922, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1257458624361570/picture?type=large", "display_name": "Aron Tesfay", "link": "https://stackoverflow.com/users/8190922/aron-tesfay"}, "edited": false, "score": 0, "creation_date": 1519256395, "post_id": 48915733, "comment_id": 84841137, "body": "Geez how could I not notice that?! Lol! Thanks!"}], "tags": [], "owner": {"reputation": 1, "user_id": 9274172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-75Vx35sFK6E/AAAAAAAAAAI/AAAAAAAAAAw/ubBDlWn55mU/photo.jpg?sz=128", "display_name": "ChiaHui Liu", "link": "https://stackoverflow.com/users/9274172/chiahui-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1519248306, "creation_date": 1519248306, "answer_id": 48915733, "question_id": 48915579, "link": "https://stackoverflow.com/questions/48915579/caesar-substituion-function-not-returning-results/48915733#48915733", "title": "Caesar substituion -function not returning results", "body": "<p>Agree with Yunkai Xiao, you have to use print() to print out your result.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>print(#your function here)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, there might be other error for you to check just a fyi.</p>\n"}], "owner": {"reputation": 163, "user_id": 8190922, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1257458624361570/picture?type=large", "display_name": "Aron Tesfay", "link": "https://stackoverflow.com/users/8190922/aron-tesfay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 48915633, "answer_count": 2, "score": 0, "last_activity_date": 1519360615, "creation_date": 1519247601, "question_id": 48915579, "link": "https://stackoverflow.com/questions/48915579/caesar-substituion-function-not-returning-results", "title": "Caesar substituion -function not returning results", "body": "<p>I have the following python code which is supposed to use brute force to decrypt secret message. The encryption technique is Ceasarean subsitution i.e. every letter in the alphabet is moved by a certain number of places. My main function is supposed to return the decrypted message with the letters moved by all 26 possible number of places (I hope it makes sense but its basically like ROT13 but we don't know the number. It could be ROT13, ROT5, ROT20 etc.)</p>\n\n<p>The problem is my main function doesn't print out the result from the caesarBreak function.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>import sys\n\ndef caesarBreak(cipheredMsg):\n    alphabet = \"abcdefghijklmnopqrstuvwxyz \"\n    shift = 1\n    plainText = \"\"\n\n    for ch in cipheredMsg:\n        idx = alphabet.find(ch) - shift\n        plainText = plainText + alphabet[idx]\n        shift = shift + 1\n    return plainText\n\ndef main():\n\n print(\"We will now try to break the msg: 'we ovugpzghugpu lylz pungwyvnyhttpungshunahnl'\\n\\n\")\n    secretmsg = 'we ovugpzghugpu lylz pungwyvnyhttpungshunahnl'\n    caesarBreak(secretmsg)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "replace", "colors", "imagemagick", "wand"], "comments": [{"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1519262062, "post_id": 48915533, "comment_id": 84842629, "body": "You could try PythonMagick from the developers of ImageMagick."}, {"owner": {"reputation": 23, "user_id": 610394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7cdb865d4c58342aa2733b7a63d8fe?s=128&d=identicon&r=PG", "display_name": "Belasco", "link": "https://stackoverflow.com/users/610394/belasco"}, "reply_to_user": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1519385174, "post_id": 48915533, "comment_id": 84899878, "body": "I&#39;ll try and look at PythonMagick. <a href=\"https://stackoverflow.com/questions/2445985/where-can-i-find-pythonmagick-documentation\">Seems you have to look to the C++ documentation</a> to understand it though. To tell the truth, I&#39;m a little confused about what module to go with to manipulate images in python."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 610394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7cdb865d4c58342aa2733b7a63d8fe?s=128&d=identicon&r=PG", "display_name": "Belasco", "link": "https://stackoverflow.com/users/610394/belasco"}, "edited": false, "score": 0, "creation_date": 1519386112, "post_id": 48929500, "comment_id": 84900417, "body": "Thanks @emcconville, that absolutely works. I&#39;m curious to know what resources you used to craft that answer so that I might be able to do that for myself one day ;)"}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "reply_to_user": {"reputation": 23, "user_id": 610394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7cdb865d4c58342aa2733b7a63d8fe?s=128&d=identicon&r=PG", "display_name": "Belasco", "link": "https://stackoverflow.com/users/610394/belasco"}, "edited": false, "score": 0, "creation_date": 1519394970, "post_id": 48929500, "comment_id": 84905663, "body": "Happy to help. If this answered your original question, please mark this as &quot;Accepted&quot; so other readers know your problem was solved. As for resources to help understand: That&#39;s the beauty of OpenSource, there&#39;s nothing stoping you from reading the source code, and once you have a basic understanding of the authors intended design, all ported language bindings become perfectly clear."}], "tags": [], "owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "is_accepted": true, "score": 1, "last_activity_date": 1519308608, "creation_date": 1519308608, "answer_id": 48929500, "question_id": 48915533, "link": "https://stackoverflow.com/questions/48915533/replace-a-color-using-python-wand-but-coordinates-unknown/48929500#48929500", "title": "Replace a color using python Wand but coordinates unknown", "body": "<p>If you want to match <code>-opaque</code> functionality, then you'll need to implement the <code>MagickOpaquePaintImage</code> C method.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import ctypes\nfrom wand.api import library\nfrom wand.image import Image\nfrom wand.color import Color\nfrom wand.compat import nested\n\n# Map C-API to Python\nlibrary.MagickOpaquePaintImage.argtypes = (ctypes.c_void_p,  # Wand\n                                           ctypes.c_void_p,  # target\n                                           ctypes.c_void_p,  # fill\n                                           ctypes.c_double,  # fuzz\n                                           ctypes.c_bool)    # invert\n\nwith Image(filename='rose:') as img:\n    with nested(Color('#E93A43'), Color('ORANGE')) as (target, fill):\n        library.MagickOpaquePaintImage(img.wand,\n                                       target.resource,\n                                       fill.resource,\n                                       img.quantum_range * 0.10, # -fuzz 10%\n                                       False)\n    img.save(filename='output.png')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HAN3T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HAN3T.png\" alt=\"output.png\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1482, "user_id": 3146564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61d0723dd4b3ba55847934d410bc5b3?s=128&d=identicon&r=PG&f=1", "display_name": "vokimon", "link": "https://stackoverflow.com/users/3146564/vokimon"}, "is_accepted": false, "score": 1, "last_activity_date": 1569693713, "last_edit_date": 1569693713, "creation_date": 1569687394, "answer_id": 58148159, "question_id": 48915533, "link": "https://stackoverflow.com/questions/48915533/replace-a-color-using-python-wand-but-coordinates-unknown/58148159#58148159", "title": "Replace a color using python Wand but coordinates unknown", "body": "<p>Since wand 0.5.4 the method <code>opaque_paint</code> is <a href=\"http://docs.wand-py.org/en/0.5.7/wand/image.html#wand.image.BaseImage.opaque_paint\" rel=\"nofollow noreferrer\">available</a> so the clever hack @emcconville proposed is not required anymore. You can do just:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from wand.image import Image\nwith Image(filename='rose:') as im:\n  im.opaque_paint(target='#E93A43', fill='Orange', fuzz=0.10)\n  im.save(filename='output.png')\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 610394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7cdb865d4c58342aa2733b7a63d8fe?s=128&d=identicon&r=PG", "display_name": "Belasco", "link": "https://stackoverflow.com/users/610394/belasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 48929500, "answer_count": 2, "score": 2, "last_activity_date": 1569693713, "creation_date": 1519247420, "question_id": 48915533, "link": "https://stackoverflow.com/questions/48915533/replace-a-color-using-python-wand-but-coordinates-unknown", "title": "Replace a color using python Wand but coordinates unknown", "body": "<p>I am aware of <a href=\"https://stackoverflow.com/questions/33966455/replace-a-color-using-wand\">Replace a color using Wand</a> and <a href=\"https://stackoverflow.com/questions/33915785/change-color-of-specific-pixels-wand\">Change color of specific pixels [Wand]</a> but both of these use a line like</p>\n\n<pre><code>    draw.color(192,84,'replace')\n</code></pre>\n\n<p>In which you need to pass the location of a pixel of the relevant color. What if you know the color you want to replace but not its location? I want to replace the color of pixels in an image without passing a reference to the location of a pixel of that color. Do you really have to scan the entire image looking for something you already know is there?</p>\n\n<p>The imagemagick equivalent would be</p>\n\n<pre><code>convert balloon.gif -fill white -opaque blue balloon_white.gif\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "user-agent"], "comments": [{"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 2, "creation_date": 1519248693, "post_id": 48915457, "comment_id": 84838052, "body": "You set <code>User-Agent</code> in the HTTP request header, BS has nothing to do with it."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1519263178, "post_id": 48915457, "comment_id": 84842911, "body": "As stated, BeautifulSoup does not interact at all with the HTTP requests. What (I believe) you really want to know is how to do this with <i>urllib2</i>. I edited your question to reflect this."}], "answers": [{"comments": [{"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 1, "creation_date": 1519263295, "post_id": 48916894, "comment_id": 84842943, "body": "The asker has expressed that they have seen answers using <code>requests</code>, but they are looking for a different solution."}], "tags": [], "owner": {"reputation": 754, "user_id": 9388050, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oXK-kmCt5bU/AAAAAAAAAAI/AAAAAAAAAtE/1ykdzHTITk0/photo.jpg?sz=128", "display_name": "Orhan Solak", "link": "https://stackoverflow.com/users/9388050/orhan-solak"}, "is_accepted": false, "score": 1, "last_activity_date": 1519255600, "last_edit_date": 1519255600, "creation_date": 1519253583, "answer_id": 48916894, "question_id": 48915457, "link": "https://stackoverflow.com/questions/48915457/how-to-change-user-agent-urllib2/48916894#48916894", "title": "How to change user agent urllib2", "body": "<p>You could try this.</p>\n\n<pre><code>import random\nimport requests, bs4\n\n\nagents= [\n'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)',\n'Mozilla/5.0 (Windows NT 6.4; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)']\n\nheaders = {\"User-Agent\":random.choice(agents)}\nresponse = requests.get(full_url,headers=headers)\nsoup = BeautifulSoup(response.text, 'lxml')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2039, "user_id": 8306850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Jgmm.jpg?s=128&g=1", "display_name": "Evyatar Meged", "link": "https://stackoverflow.com/users/8306850/evyatar-meged"}, "is_accepted": false, "score": 1, "last_activity_date": 1519263260, "last_edit_date": 1519263260, "creation_date": 1519255377, "answer_id": 48917181, "question_id": 48915457, "link": "https://stackoverflow.com/questions/48915457/how-to-change-user-agent-urllib2/48917181#48917181", "title": "How to change user agent urllib2", "body": "<p>Changing the header doesn't have anything to do with <code>BeautifulSoup</code>. It is meant for HTML parsing only. You need to change it in your urllib request like so:<br></p>\n\n<p>Python3<br></p>\n\n<pre><code>import urllib.request\n\nreq = urllib.request.build_opener()\nreq.addheaders = [('User-Agent', 'Some user agent')]\nresponse = req.open('http://www.stackoverflow.com')\n</code></pre>\n\n<p>Python2.7<br></p>\n\n<pre><code>import urllib2\n\nreq = urllib2.build_opener()\nreq.addheaders = [('User-Agent', 'Some user agent')]\nresponse = req.open('http://www.stackoverflow.com')\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9392623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4fab93745fd9c7b377da9991ad0b38?s=128&d=identicon&r=PG&f=1", "display_name": "J.doe", "link": "https://stackoverflow.com/users/9392623/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1519263260, "creation_date": 1519247140, "last_edit_date": 1519263053, "question_id": 48915457, "link": "https://stackoverflow.com/questions/48915457/how-to-change-user-agent-urllib2", "title": "How to change user agent urllib2", "body": "<p>I'm trying to access a page using the following </p>\n\n<pre><code>page = urllib2.urlopen(full_url)\nsoup = BeautifulSoup(page, 'html.parser')\n\nli_post_id = \"post-\" + str(post_id)\nli_soup = soup.find('li', attrs={'id':li_post_id})\n</code></pre>\n\n<p>This works fine on my ubuntu machine, but when running it on my Windows server I get 403 Forbidden error, so I assume the issue is with the user agent.</p>\n\n<p>How do I change this, say, to Firefox? I have only seen tutorials to change the user agent using requests, but I don't want to change all of my code to this.</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 1, "creation_date": 1519247310, "post_id": 48915456, "comment_id": 84837373, "body": "Are you wanting to give the dictionary the numerical value and get the letter key back? It would be a lot easier to make your keys the number you&#39;re giving it and the letter the value, so that <code>alpha_dict[0]</code> gives you <code>&#39;a&#39;</code>, etc."}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1519247494, "post_id": 48915456, "comment_id": 84837458, "body": "Note that you can use <code>index</code> to find the index of an item in your original list.  <code>num_list = [alphabet.index(letter) for letter in letter_list]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15668, "user_id": 149076, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZHnYp.jpg?s=128&g=1", "display_name": "Jim Dennis", "link": "https://stackoverflow.com/users/149076/jim-dennis"}, "edited": false, "score": 0, "creation_date": 1519247628, "post_id": 48915535, "comment_id": 84837519, "body": "Yes, this is a dictionary generator expression."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1519248423, "post_id": 48915535, "comment_id": 84837915, "body": "You do not need to convert <code>alphabet</code> to a list. Strings are iterable, so you can pass it directly to <code>enumerate</code>."}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1519248549, "post_id": 48915535, "comment_id": 84837984, "body": "@ekhumoro Cool! Thanks for pointing that out, I&#39;ve edited my answer to take that into account."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 4, "last_activity_date": 1519250348, "last_edit_date": 1519250348, "creation_date": 1519247426, "answer_id": 48915535, "question_id": 48915456, "link": "https://stackoverflow.com/questions/48915456/using-a-dict-to-translate-numbers-to-letters-in-python/48915535#48915535", "title": "Using a dict to translate numbers to letters in python", "body": "<p>Simply iterate through your <code>alphabet</code> string, and use a dictionary comprehension to create your dictionary</p>\n\n<pre><code># Use a dictionary comprehension to create your dictionary\nalpha_dict = {letter:idx for idx, letter in enumerate(alphabet)}\n</code></pre>\n\n<p>You can then retrieve the corresponding number to any letter using <code>alpha_dict[letter]</code>, changing <code>letter</code> to be to whichever letter you want.</p>\n\n<p>Then, if you want a list of letters corresponding to your <code>num_list</code>, you can do this:</p>\n\n<pre><code>[letter for letter, num in alpha_dict.items() if num in num_list]\n</code></pre>\n\n<p>which essentially says: for each key-value pair in my dictionary, put the key (i.e. the letter) in a list if the value (i.e. the number) is in <code>num_list</code></p>\n\n<p>This would return <code>['b', 'd', 'f']</code> for the <code>num_list</code> you provided</p>\n"}, {"tags": [], "owner": {"reputation": 22954, "user_id": 5238915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fncqh.jpg?s=128&g=1", "display_name": "RoadRunner", "link": "https://stackoverflow.com/users/5238915/roadrunner"}, "is_accepted": false, "score": 2, "last_activity_date": 1519247855, "last_edit_date": 1519247855, "creation_date": 1519247641, "answer_id": 48915593, "question_id": 48915456, "link": "https://stackoverflow.com/questions/48915456/using-a-dict-to-translate-numbers-to-letters-in-python/48915593#48915593", "title": "Using a dict to translate numbers to letters in python", "body": "<p>You could also invert <code>alpha_dict</code> to do this:</p>\n\n<pre><code>&gt;&gt;&gt; import string\n&gt;&gt;&gt; alpha_dict = dict(enumerate(string.ascii_lowercase))\n&gt;&gt;&gt; alpha_dict\n{0: 'a', 1: 'b', 2: 'c', 3: 'd', 4: 'e', 5: 'f', 6: 'g', 7: 'h', 8: 'i', 9: 'j', 10: 'k', 11: 'l', 12: 'm', 13: 'n', 14: 'o', 15: 'p', 16: 'q', 17: 'r', 18: 's', 19: 't', 20: 'u', 21: 'v', 22: 'w', 23: 'x', 24: 'y', 25: 'z'}\n&gt;&gt;&gt; numbers = [5, 3, 1]\n&gt;&gt;&gt; [alpha_dict[x] for x in numbers]\n['f', 'd', 'b']\n</code></pre>\n\n<p>This way your dictionary maps numbers to letters, instead of letters to numbers. </p>\n"}, {"tags": [], "owner": {"reputation": 831, "user_id": 2930436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2de76dd0decfef8e0181db7a059e44d2?s=128&d=identicon&r=PG&f=1", "display_name": "MVanOrder", "link": "https://stackoverflow.com/users/2930436/mvanorder"}, "is_accepted": false, "score": 0, "last_activity_date": 1519248098, "creation_date": 1519248098, "answer_id": 48915686, "question_id": 48915456, "link": "https://stackoverflow.com/questions/48915456/using-a-dict-to-translate-numbers-to-letters-in-python/48915686#48915686", "title": "Using a dict to translate numbers to letters in python", "body": "<p>You can build a dict of letter/numbers as such:</p>\n\n<pre><code>import string\n\nalpha_dict = {\n    i: string.ascii_lowercase[i]\n        for i in list(range(0, len(string.ascii_lowercase)))\n}\n\nnum_list = [5,3,1]\nletter_list = [alpha_dict.get(a) for a in num_list]\n</code></pre>\n\n<p>However it would be easier just to use the list like this:</p>\n\n<pre><code>import string\n\nnum_list = [5,3,1]\nletter_list = [string.ascii_lowercase[a] for a in num_list]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "is_accepted": false, "score": 0, "last_activity_date": 1519248843, "creation_date": 1519248843, "answer_id": 48915855, "question_id": 48915456, "link": "https://stackoverflow.com/questions/48915456/using-a-dict-to-translate-numbers-to-letters-in-python/48915855#48915855", "title": "Using a dict to translate numbers to letters in python", "body": "<p>I think -- like the other answers -- that a list should be used (to utilize the handy index calling) but dictionaries should NOT be used, period. SO... </p>\n\n<pre><code>    from string import ascii_lowercase # ONLY import ascii_lowercase\n    numList = [numbers, in, your, list] # like you said in your question\n    translation = \"\".join ([ascii_lowercase[num] for num in numList])\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6510891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2590, "favorite_count": 0, "accepted_answer_id": 48915535, "answer_count": 4, "score": 1, "last_activity_date": 1519250348, "creation_date": 1519247139, "question_id": 48915456, "link": "https://stackoverflow.com/questions/48915456/using-a-dict-to-translate-numbers-to-letters-in-python", "title": "Using a dict to translate numbers to letters in python", "body": "<p>I have a string 'alphabet' with all the letters in the alphabet and a list of ints corresponding to those those letters (0-25).</p>\n\n<p>Ex: </p>\n\n<pre><code>num_list = [5,3,1] would translate into letter_list = ['f','d','b']\n</code></pre>\n\n<p>I currently can translate with:</p>\n\n<pre><code>letter_list = [alphabet[a] for a in num_list]\n</code></pre>\n\n<p>However, I would like to use a dict for the same thing, retrieve 'letter' keys from dict with 'number' values.</p>\n\n<pre><code>alpha_dict = {'a':0,'b':1,'c':2}... etc\n</code></pre>\n\n<p>How do I change my statement to do this?</p>\n"}, {"tags": ["python", "image-processing", "tesseract", "python-tesseract"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 9243973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e297cc5dd22854f3cefff410dabe5f?s=128&d=identicon&r=PG&f=1", "display_name": "stackoverflow1234", "link": "https://stackoverflow.com/users/9243973/stackoverflow1234"}, "edited": false, "score": 0, "creation_date": 1519484237, "post_id": 48924262, "comment_id": 84934075, "body": "Your Edit is the solution to my problem"}], "tags": [], "owner": {"reputation": 2089, "user_id": 4766168, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xrRVf1o5oQk/AAAAAAAAAAI/AAAAAAAAAEk/Uu9PgLhfHwA/photo.jpg?sz=128", "display_name": "Dmitrii Z.", "link": "https://stackoverflow.com/users/4766168/dmitrii-z"}, "is_accepted": true, "score": 4, "last_activity_date": 1519293381, "last_edit_date": 1519293381, "creation_date": 1519293051, "answer_id": 48924262, "question_id": 48915449, "link": "https://stackoverflow.com/questions/48915449/turning-off-english-dictionary-word-for-pytessaract-for-an-alpr-system/48924262#48924262", "title": "Turning off English dictionary word for pytessaract (for an alpr system)", "body": "<p>Add config file with disabled system and frequent DAWG</p>\n\n<pre><code>load_system_dawg     F\nload_freq_dawg       F\n</code></pre>\n\n<p>Config files should be placed in <code>tessdata/configs</code> directory (ex: <code>tessdata/configs/config</code>) and passed to tesseract during <code>Init</code> procedure.<br>\nI am not 100% confident how it is done with <code>pytesseract</code> but I believe you can elaborate here.</p>\n\n<p>init() function signature is something like that: </p>\n\n<pre><code>const char *    datapath,\nconst char *    language,\nOcrEngineMode   oem,\nchar **     configs,\nint     configs_size,\nconst GenericVector&lt; STRING &gt; *     vars_vec,\nconst GenericVector&lt; STRING &gt; *     vars_values,\nbool    set_only_non_debug_params\n</code></pre>\n\n<p>So you need to set <code>configs</code> to pointer to pointer to <strong><em><code>\"config\"</code></em></strong> and <code>configs_size</code> to 1</p>\n\n<p>So probably something like that, you can elaborate to make this working:</p>\n\n<pre><code>api = tesseract.TessBaseAPI()\napi.Init(\".\",\"eng\",tesseract.OEM_TESSERACT_ONLY, POINTER(ctypes.c_char_p(\"config\")), 1, None, None, False)\n</code></pre>\n\n<p>EDIT:<br>\nAlso note that disabling DAWG might not solve your issue. If I were you - I would simply iterate over results' alternatives and take the letter with highest confidence (if DAWG search is on - default letters would not always be the ones with highest confidence) &amp; work more on improving input image quality as described <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/ImproveQuality\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 175, "user_id": 9243973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e297cc5dd22854f3cefff410dabe5f?s=128&d=identicon&r=PG&f=1", "display_name": "stackoverflow1234", "link": "https://stackoverflow.com/users/9243973/stackoverflow1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1589, "favorite_count": 0, "accepted_answer_id": 48924262, "answer_count": 1, "score": 2, "last_activity_date": 1519293381, "creation_date": 1519247100, "question_id": 48915449, "link": "https://stackoverflow.com/questions/48915449/turning-off-english-dictionary-word-for-pytessaract-for-an-alpr-system", "title": "Turning off English dictionary word for pytessaract (for an alpr system)", "body": "<p>I am using pytessaract to do an image to text conversion of a numberplate for something like this </p>\n\n<p><img src=\"https://i.imgur.com/jSdTwVP.jpg\" alt=\"number plate\"></p>\n\n<pre><code>tools = pyocr.get_available_tools()\nif len(tools) == 0:\n    print(\"No OCR tool found\")\n    exit(1)\n\n# The tools are returned in the recommended order of usage\ntool = tools[0]\nprint(\"Will use tool '%s'\" % (tool.get_name()))\n# Ex: Will use tool 'libtesseract'\n\nlangs = tool.get_available_languages()\nprint(\"Available languages: %s\" % \", \".join(langs))\nlang = langs[0]\nprint(\"Will use lang '%s'\" % (lang))\n</code></pre>\n\n<p>This is how i read it I whitelist all the characters that it could be </p>\n\n<pre><code>text = pytesseract.image_to_string(Image.open('images/text.jpg'), config= \"-c tessedit_char_whitelist=0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\")\n</code></pre>\n\n<p>Right now pytessaract is reading this as if it was looking for a dictionary word\nand this is giving less than desirable result\nThere is a way to turn of dictionary words but i cannot figure out how to do it in python That is my question \nThanks</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2891, "user_id": 7233155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97ca17a34b5f7b188c1bcb230a4701e2?s=128&d=identicon&r=PG&f=1", "display_name": "Attack68", "link": "https://stackoverflow.com/users/7233155/attack68"}, "edited": false, "score": 0, "creation_date": 1519248584, "post_id": 48915447, "comment_id": 84838003, "body": "The reason that this is slow is becuase you have many python nested for loops, not only in your dataframe control flow but the distance function itself. To speed it up you would want to try and vectorise all of these. Applymap doesn&#39;t do that it just applies element wise anyway. Personally, to really optimise it I&#39;d look at taking advantage of some inherent structure of the words if they were ordered in the index in a clever way. You might even be able to use estimates and considerably reduce the section of scope you are trying to detect."}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "edited": false, "score": 0, "creation_date": 1519253510, "post_id": 48915895, "comment_id": 84840168, "body": "Thanks, but this seemed to have produced the wrong values for each cell, and three of the cells as NaN even though the pairwise <code>edit_distance</code> between them is an integer."}, {"owner": {"reputation": 461, "user_id": 9311480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLJyE.jpg?s=128&g=1", "display_name": "onepan", "link": "https://stackoverflow.com/users/9311480/onepan"}, "reply_to_user": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "edited": false, "score": 0, "creation_date": 1519258584, "post_id": 48915895, "comment_id": 84841737, "body": "added output that I get. It matches when I test it - do you have a specific example where it fails? Note I made a typo and corrected the dict comprehension just now"}, {"owner": {"reputation": 461, "user_id": 9311480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLJyE.jpg?s=128&g=1", "display_name": "onepan", "link": "https://stackoverflow.com/users/9311480/onepan"}, "reply_to_user": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "edited": false, "score": 0, "creation_date": 1519258748, "post_id": 48915895, "comment_id": 84841771, "body": "actually, I misread your example output. Are you trying to run <code>edit_distance</code> on <code>(index, index)</code> or <code>(index, column)</code>?"}, {"owner": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "edited": false, "score": 0, "creation_date": 1519509207, "post_id": 48915895, "comment_id": 84941552, "body": "Thanks, your code works correctly now. I also updated my OQ fixing a typo in the df. Do you mind me asking, why use a dictionary comprehension instead of list comprehension? It took me a while to parse your code and I&#39;m not sure I can conceptually replicate it next time."}, {"owner": {"reputation": 461, "user_id": 9311480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLJyE.jpg?s=128&g=1", "display_name": "onepan", "link": "https://stackoverflow.com/users/9311480/onepan"}, "reply_to_user": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "edited": false, "score": 0, "creation_date": 1519608372, "post_id": 48915895, "comment_id": 84965574, "body": "you can do it with list comps too, but using a dict saves you the step of naming indeces and columns. The dict in my code is an index associated with the labelled outputs of edit_distance (e.g. <code>{&#39;ade&#39;: {&#39;azde&#39;: 2}}</code>)"}], "tags": [], "owner": {"reputation": 461, "user_id": 9311480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLJyE.jpg?s=128&g=1", "display_name": "onepan", "link": "https://stackoverflow.com/users/9311480/onepan"}, "is_accepted": false, "score": 1, "last_activity_date": 1519608587, "last_edit_date": 1519608587, "creation_date": 1519249017, "answer_id": 48915895, "question_id": 48915447, "link": "https://stackoverflow.com/questions/48915447/fill-in-entire-dataframe-cell-by-cell-based-on-index-and-column-names/48915895#48915895", "title": "fill in entire dataframe cell by cell based on index AND column names?", "body": "<p>you could use comprehensions, which speeds it up ~4.5x on my pc</p>\n\n<pre><code>first = ['afghijklde', 'afghijklmde', 'ade', 'afghilmde', 'amde']\nsecond = ['ae', 'azde', 'afgle', 'arlde', 'afghijklbcmde']\npd.DataFrame.from_dict({f:{s:edit_distance(f, s) for s in second} for f in first}, orient='index')\n\n# output\n#              ae  azde  afgle arlde  afghijklbcmde\n# ade          1   2     2     2      2\n# afghijklde   1   3     4     4      9\n# afghijklmde  1   3     4     4      10\n# afghilmde    1   3     4     4      8\n# amde         1   3     3     3      3\n\n# this matches to edit_distance('ae', 'afghijklde') == 8, e.g.\n</code></pre>\n\n<p>note I used this code for edit_distance (first response in your link):</p>\n\n<pre><code>def edit_distance(s1, s2):\n    if len(s1) &gt; len(s2):\n        s1, s2 = s2, s1\n\n    distances = range(len(s1) + 1)\n    for i2, c2 in enumerate(s2):\n        distances_ = [i2+1]\n        for i1, c1 in enumerate(s1):\n            if c1 == c2:\n                distances_.append(distances[i1])\n            else:\n                distances_.append(1 + min((distances[i1], distances[i1 + 1], distances_[-1])))\n        distances = distances_\n    return distances[-1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "is_accepted": true, "score": 6, "last_activity_date": 1522007387, "creation_date": 1522007387, "answer_id": 49480238, "question_id": 48915447, "link": "https://stackoverflow.com/questions/48915447/fill-in-entire-dataframe-cell-by-cell-based-on-index-and-column-names/49480238#49480238", "title": "fill in entire dataframe cell by cell based on index AND column names?", "body": "<p>Turns out there's an even better way to do this. onepan's dictionary comprehension answer above is good but returns the df index and columns in random order. Using a nested <code>.apply()</code> accomplishes the same thing at about the same speed and doesn't change the row/column order. The key is to not get hung up on naming the df's rows and columns first and filling in the values second. Instead, do it the other way around, initially treating the future index and columns as standalone pandas Series.</p>\n\n<pre><code>series_rows = pd.Series(['afghijklde', 'afghijklmde', 'ade', 'afghilmde', 'amde'])\nseries_cols = pd.Series(['ae', 'azde', 'afgle', 'arlde', 'afghijklbcmde'])\n\ndf = pd.DataFrame(series_rows.apply(lambda x: series_cols.apply(lambda y: edit_distance(x, y))))\ndf.index = series_rows\ndf.columns = series_cols\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 5505461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f87da337100246264d8c4b2125678c45?s=128&d=identicon&r=PG&f=1", "display_name": "gnotnek", "link": "https://stackoverflow.com/users/5505461/gnotnek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3157, "favorite_count": 0, "accepted_answer_id": 49480238, "answer_count": 2, "score": 3, "last_activity_date": 1522007387, "creation_date": 1519247083, "last_edit_date": 1519509305, "question_id": 48915447, "link": "https://stackoverflow.com/questions/48915447/fill-in-entire-dataframe-cell-by-cell-based-on-index-and-column-names", "title": "fill in entire dataframe cell by cell based on index AND column names?", "body": "<p>I have a dataframe where the row indices and column headings should determine the content of each cell. I'm working with a much larger version of the following df:</p>\n\n<pre><code>df = pd.DataFrame(index = ['afghijklde', 'afghijklmde', 'ade', 'afghilmde', 'amde'], \n                  columns = ['ae', 'azde', 'afgle', 'arlde', 'afghijklbcmde'])\n</code></pre>\n\n<p>Specifically, I want to apply the custom function <code>edit_distance()</code> or equivalent (see <a href=\"https://stackoverflow.com/questions/2460177/edit-distance-in-python\">here</a> for function code) which calculates a difference score between two strings. The two inputs are the row and column names. The following works but is extremely slow:</p>\n\n<pre><code>for seq in df.index:\n    for seq2 in df.columns:\n        df.loc[seq, seq2] = edit_distance(seq, seq2) \n</code></pre>\n\n<p>This produces the result I want:</p>\n\n<pre><code>            ae  azde    afgle   arlde   afghijklbcmde\nafghijklde  8    7        5       6          3\nafghijklmde 9    8        6       7          2\nade         1    1        3       2          10\nafghilmde   7    6        4       5          4\namde        2    1        3       2          9\n</code></pre>\n\n<p>What is a better way to do this, perhaps using <code>applymap()</code> ?. Everything I've tried with <code>applymap()</code> or <code>apply</code> or <code>df.iterrows()</code> has returned errors of the kind <code>AttributeError: \"'float' object has no attribute 'index'\"</code> . Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "python-multiprocessing", "circular-dependency"], "comments": [{"owner": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "edited": false, "score": 0, "creation_date": 1519247278, "post_id": 48915440, "comment_id": 84837360, "body": "Interesting, I can&#39;t reproduce this error on my machine, it runs just fine. How are you building and running this code? IDE?"}, {"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "reply_to_user": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "edited": false, "score": 0, "creation_date": 1519247480, "post_id": 48915440, "comment_id": 84837452, "body": "a jupyter notebook - think that&#39;s affecting it?"}, {"owner": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "edited": false, "score": 0, "creation_date": 1519247806, "post_id": 48915440, "comment_id": 84837616, "body": "Are all these functions in one cell? Or split across multiple cells? If they are split then sometimes when you run code in one it doesn&#39;t update with the state of the others. It runs fine for me in one cell in a Jupyter notebook."}, {"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "reply_to_user": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "edited": false, "score": 0, "creation_date": 1519247941, "post_id": 48915440, "comment_id": 84837687, "body": "they are all in one...but i did just figure out a solution. putting <code>test_func</code> and the function it relies on into a separate file then importing that file works like a charm"}, {"owner": {"reputation": 3054, "user_id": 3824723, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f9452c148ef11e6ab447ef9c261a21b3?s=128&d=identicon&r=PG&f=1", "display_name": "CoMartel", "link": "https://stackoverflow.com/users/3824723/comartel"}, "edited": false, "score": 0, "creation_date": 1519993348, "post_id": 48915440, "comment_id": 85142945, "body": "I already encountered a similar situation with jupyter notebook and multiprocessing : you have indeed to put your functions in a separate file and import them to be able to use the multiprocess. Not sure about the real reason though..."}], "owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 898, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519247041, "creation_date": 1519247041, "question_id": 48915440, "link": "https://stackoverflow.com/questions/48915440/pandas-multiprocessing-cant-get-attribute-function-on-main", "title": "Pandas Multiprocessing Can&#39;t Get Attribute &#39;function&#39; on &#39;__main__&#39;", "body": "<p>I am attempting to use <code>Multiprocessing</code> to speed up <code>pandas</code> <code>apply()</code>. </p>\n\n<pre><code>import multiprocessing\nimport pandas as pd\nimport numpy as np\nfrom multiprocessing import Pool\nnum_partitions = 5\nnum_cores = multiprocessing.cpu_count()\n\ndef parallelize_dataframe(df, func):\n    a,b,c,d,e = np.array_split(df, num_partitions)\n    pool = Pool(num_cores)\n    df = pd.concat(pool.map(func, [a,b,c,d,e]))\n    pool.close()\n    pool.join()\n    return df\n\ndef square(x):\n    return x**2\n\ndef test_func(data):\n    print(\"Process working on: \",data)\n    data[\"square\"] = data[\"col\"].apply(square)\n    return data\n\ndf = pd.DataFrame({'col': [0,1,2,3,4,5,6,7,8,9]})\n\nif __name__ == '__main__':\n    test = parallelize_dataframe(df, test_func)\n    print(test)\n</code></pre>\n\n<p>It is resulting in this error: <code>Can't Get Attribute 'test_func' on &lt;module '__main__' (built-in)&gt;</code>. I understand this is potentially the result of a circular import somehow, but I'm not sure what to alter in my code. Why is this error occurring?</p>\n"}, {"tags": ["python", "amazon-web-services", "boto3", "aws-glue"], "answers": [{"comments": [{"owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "edited": false, "score": 0, "creation_date": 1519407731, "post_id": 48953047, "comment_id": 84913610, "body": "Let me know if you need any help on setting up local Zeppelin notebook for development."}, {"owner": {"reputation": 849, "user_id": 2633197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16159be0374a7e2a1505e9bd4ec967d8?s=128&d=identicon&r=PG", "display_name": "Alexey Bakulin", "link": "https://stackoverflow.com/users/2633197/alexey-bakulin"}, "edited": false, "score": 0, "creation_date": 1519409895, "post_id": 48953047, "comment_id": 84914579, "body": "How do you get data from Glue Catalog locally?"}, {"owner": {"reputation": 1638, "user_id": 7518561, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6361386e37f3f0da75f732f5c0d84458?s=128&d=identicon&r=PG&f=1", "display_name": "CodeHunter", "link": "https://stackoverflow.com/users/7518561/codehunter"}, "edited": false, "score": 0, "creation_date": 1519412671, "post_id": 48953047, "comment_id": 84915856, "body": "thanks @YuvaKumar. I also figured out that <code>awsglue</code> imports works via Zeppelin using the primary <code>ssh</code> key login. So that fixes first part of the code fix. The second part of code was really a proxy issue from my side which were not configurable while trying to do <code>aws configure</code> which I later did and then the client side scripts worked. Let me edit your answer with that information as well and mark it as accepted. Thanks again for your answer."}, {"owner": {"reputation": 1638, "user_id": 7518561, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6361386e37f3f0da75f732f5c0d84458?s=128&d=identicon&r=PG&f=1", "display_name": "CodeHunter", "link": "https://stackoverflow.com/users/7518561/codehunter"}, "reply_to_user": {"reputation": 849, "user_id": 2633197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16159be0374a7e2a1505e9bd4ec967d8?s=128&d=identicon&r=PG", "display_name": "Alexey Bakulin", "link": "https://stackoverflow.com/users/2633197/alexey-bakulin"}, "edited": false, "score": 1, "creation_date": 1519412923, "post_id": 48953047, "comment_id": 84915979, "body": "@AlexeyBakulin: To get data from Glue catalog, check out the <code>boto3</code> documentation for available services for AWS Glue. They have many client side methods available there. For this example, I am getting my data by specifying my <code>S3</code> bucket path while creating crwaler in AWS Glue and also providing <code>db details</code> there. Hope this helps."}], "tags": [], "owner": {"reputation": 1774, "user_id": 4470126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/30c5924d5c914cc8d98254c8c9cea597?s=128&d=identicon&r=PG&f=1", "display_name": "Yuva", "link": "https://stackoverflow.com/users/4470126/yuva"}, "is_accepted": true, "score": 3, "last_activity_date": 1519453624, "last_edit_date": 1519453624, "creation_date": 1519406113, "answer_id": 48953047, "question_id": 48915369, "link": "https://stackoverflow.com/questions/48915369/how-to-execute-aws-glue-scripts-using-python-2-7-from-local-machine/48953047#48953047", "title": "How to execute aws glue scripts using python 2.7 from local machine?", "body": "<p>The following code works for me, and am using locally setup Zeppelin notebook, as a dev end point.  The printschema reads the schema from the data catalog.</p>\n\n<p>Hope you have enabled the ssh tunnelling as well.</p>\n\n<pre><code>%pyspark\nimport sys\nfrom pyspark.context import SparkContext\nfrom awsglue.context import GlueContext\nfrom awsglue.transforms import *\nfrom pyspark.sql.functions import udf\nfrom pyspark.sql.types import StringType\n\n# Create a Glue context\nglueContext = GlueContext(SparkContext.getOrCreate())\n\n# Create a DynamicFrame using the 'persons_json' table\nmedicare_dynamicframe = glueContext.create_dynamic_frame.from_catalog(database=\"payments\", table_name=\"medicaremedicare_hospital_provider_csv\")\n\n# Print out information about this data\nprint \"Count:  \", medicare_dynamicframe.count()\nmedicare_dynamicframe.printSchema()\n</code></pre>\n\n<p>Also you may need to make some changes for Spark interpreter, (tick on the <strong>Connect to existing process</strong> option available in the top, and host(localhost), port number (9007).</p>\n\n<p><strong>For second part</strong> You need to to do <code>aws configure</code> and then create glue client after installing <code>boto3</code> client. After this, check your proxy settings for hiding behind a firewall or company network. </p>\n\n<p>To be clear, <code>boto3</code> client is helpful for all AWS related client side api and for server side, Zeppelin way is the best.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1638, "user_id": 7518561, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6361386e37f3f0da75f732f5c0d84458?s=128&d=identicon&r=PG&f=1", "display_name": "CodeHunter", "link": "https://stackoverflow.com/users/7518561/codehunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5858, "favorite_count": 0, "accepted_answer_id": 48953047, "answer_count": 1, "score": 6, "last_activity_date": 1559756901, "creation_date": 1519246796, "question_id": 48915369, "link": "https://stackoverflow.com/questions/48915369/how-to-execute-aws-glue-scripts-using-python-2-7-from-local-machine", "title": "How to execute aws glue scripts using python 2.7 from local machine?", "body": "<p>I have <code>aws cli</code> and <code>boto3</code> installed in my <code>python 2.7</code> environment. I want to do various operations like get schema information, get database details of all the tables present in AWS Glue console. I tried below samples of scripts:</p>\n\n<pre><code>import sys\nfrom awsglue.transforms import *\nfrom awsglue.utils import getResolvedOptions\nfrom pyspark.context import SparkContext\nfrom awsglue.context import GlueContext\nfrom awsglue.job import Job\n\nglueContext = GlueContext(SparkContext.getOrCreate())\npersons = glueContext.create_dynamic_frame.from_catalog(\n             database=\"records\",\n             table_name=\"recordsrecords_converted_json\")\nprint \"Count: \", persons.count()\npersons.printSchema()\n</code></pre>\n\n<p>I got error <code>ImportError: No module named awsglue.transforms</code> which should be correct as there is no such package present in boto3 as I identified using the command <code>dir(boto3)</code>. I found that <code>boto3</code> offers various client calls through <code>awscli</code> and we can access them by using <code>client=boto3.client('glue')</code>. So, for getting schema information as above, I tried below sample code:</p>\n\n<pre><code>import sys\nimport boto3\nclient=boto3.client('glue')\nresponse = client.get_databases(\n    CatalogId='string',\n    NextToken='string',\n    MaxResults=123\n)\nprint client\n</code></pre>\n\n<p>But then I get this error:\n<code>AccessDeniedException: An error occurred (AccessDeniedException) when calling the GetDatabases operation: Cross account access is not allowed.</code></p>\n\n<p>I am pretty sure that either one of them or probably both of them are correct approaches to get what I am trying to get but something doesn't fall into correct slots here. Any ideas to get the details about the schema and database tables from AWS Glue using python 2.7 locally like I tried above?</p>\n"}, {"tags": ["python", "syntax"], "comments": [{"owner": {"reputation": 35, "user_id": 3570980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a0febcee7c614fcb3c1c00d6b76e17?s=128&d=identicon&r=PG&f=1", "display_name": "user3570980", "link": "https://stackoverflow.com/users/3570980/user3570980"}, "edited": false, "score": 0, "creation_date": 1519246810, "post_id": 48915333, "comment_id": 84837122, "body": "I am using MacOS with Python2 pre-installed. Python3 was installed later."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519247010, "post_id": 48915333, "comment_id": 84837224, "body": "It looks like you&#39;ve made a mess with installing different interpreters and packages linked to incorrect interpreters. <code>def append(self, value: object) -&gt; object</code> should never work in Python 2."}, {"owner": {"reputation": 35, "user_id": 3570980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a0febcee7c614fcb3c1c00d6b76e17?s=128&d=identicon&r=PG&f=1", "display_name": "user3570980", "link": "https://stackoverflow.com/users/3570980/user3570980"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519247119, "post_id": 48915333, "comment_id": 84837281, "body": "If that is the case, should I uninstall both python versions and re-install them?"}, {"owner": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519248409, "post_id": 48915333, "comment_id": 84837908, "body": "Very weird, it seems that <code>: object</code> has been appended to a bunch of places. I would indeed recommend reinstalling Python."}, {"owner": {"reputation": 35, "user_id": 3570980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a0febcee7c614fcb3c1c00d6b76e17?s=128&d=identicon&r=PG&f=1", "display_name": "user3570980", "link": "https://stackoverflow.com/users/3570980/user3570980"}, "edited": false, "score": 0, "creation_date": 1519257006, "post_id": 48915333, "comment_id": 84841309, "body": "thanks for the suggestion. When I run these within virtual env. with python3, the scripts are working fine. I will uninstall my python outside of the virtual env."}], "owner": {"reputation": 35, "user_id": 3570980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a0febcee7c614fcb3c1c00d6b76e17?s=128&d=identicon&r=PG&f=1", "display_name": "user3570980", "link": "https://stackoverflow.com/users/3570980/user3570980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519246694, "creation_date": 1519246694, "question_id": 48915333, "link": "https://stackoverflow.com/questions/48915333/recent-syntax-error-using-python2-vs-python3", "title": "Recent syntax error using Python2 vs. Python3", "body": "<p>I have a script using openpyxl to add rows to an existing xlsx spreadsheet. It was running fine a couple of weeks ago: however, when I run it now, it starts to give me different syntax error in Python2 and Python3.</p>\n\n<p>The problem I have is that the syntax error is pointing to the import packages rather than somewhere in code.</p>\n\n<p>Any suggestion on how to fix these syntax issues?</p>\n\n<p>Error with Python2</p>\n\n<pre><code>IDA-Data host$ python2 add_name_excel_dirs.py\n    Traceback (most recent call last):\n      File \"/usr/local/Cellar/python/2.7.14/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site.py\", line 62, in &lt;module&gt;\n        import os\n      File \"/usr/local/Cellar/python/2.7.14/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py\", line 400, in &lt;module&gt;\n        import UserDict\n      File \"/usr/local/Cellar/python/2.7.14/Frameworks/Python.framework/Versions/2.7/lib/python2.7/UserDict.py\", line 116, in &lt;module&gt;\n        import _abcoll\n      File \"/usr/local/Cellar/python/2.7.14/Frameworks/Python.framework/Versions/2.7/lib/python2.7/_abcoll.py\", line 662\n        def append(self, value: object) -&gt; object:\n                              ^\n    SyntaxError: invalid syntax\n</code></pre>\n\n<p>Error with Python3 when running the same script:</p>\n\n<pre><code>IDA-Data host$ python3 add_name_excel_dirs.py\nTraceback (most recent call last):\n  File \"add_name_excel_dirs.py\", line 5, in &lt;module&gt;\n    from openpyxl import load_workbook\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/openpyxl/__init__.py\", line 26, in &lt;module&gt;\n    from openpyxl.compat.numbers import NUMPY, PANDAS\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/openpyxl/compat/__init__.py\", line 5, in &lt;module&gt;\n    from .strings import (\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/openpyxl/compat/strings.py\", line 9, in &lt;module&gt;\n    from .numbers import NUMERIC_TYPES\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/openpyxl/compat/numbers.py\", line 28, in &lt;module&gt;\n    import pandas\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pandas/__init__.py\", line 58, in &lt;module&gt;\n    from pandas.io.api import *\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pandas/io/api.py\", line 10, in &lt;module&gt;\n    from pandas.io.pytables import HDFStore, get_store, read_hdf\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pandas/io/pytables.py\", line 918\n    def append(self, key: object, value: object, format: object = None, append: object = True, columns: object = None,\n              ^\nSyntaxError: non-default argument follows default argument\n</code></pre>\n"}, {"tags": ["python", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519247197, "post_id": 48915307, "comment_id": 84837310, "body": "In your html the id is <code>sysparm_search</code> and in your code snippet you have <code>spysparm_search</code>. Is that the issue?"}, {"owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "reply_to_user": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519247468, "post_id": 48915307, "comment_id": 84837447, "body": "ohhhh shit just a sec i&#39;ll check"}, {"owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "reply_to_user": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519247723, "post_id": 48915307, "comment_id": 84837564, "body": "Thnx for correcting it but the issue is still there...."}, {"owner": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519248009, "post_id": 48915307, "comment_id": 84837717, "body": "Does the error occur on the line where you search for the <code>sysparm_search</code> or on the line where you switch to <code>gsft_main</code>?"}, {"owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "reply_to_user": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519248206, "post_id": 48915307, "comment_id": 84837802, "body": "when I&#39;m searching for the sysparm_search"}, {"owner": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519248710, "post_id": 48915307, "comment_id": 84838064, "body": "Oh wait, I now see that <code>gsft_main</code> is a form element. That is not a <code>&lt;frame&gt;</code> that you would need to switch to. Though I do find it weird that it doesn&#39;t throw an exception about that... Is there a <code>&lt;frame&gt;</code> element on the page?"}, {"owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "reply_to_user": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 0, "creation_date": 1519248915, "post_id": 48915307, "comment_id": 84838173, "body": "There is an iframe with the id gsft_main.but the element does not belongs to it so i tried removing this wait command still I&#39;m getting the error"}, {"owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "reply_to_user": {"reputation": 504, "user_id": 5555167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ftb6R.png?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/5555167/bob"}, "edited": false, "score": 1, "creation_date": 1519249831, "post_id": 48915307, "comment_id": 84838600, "body": "@Bob thnx for you efforts man......Appreciate it"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "is_accepted": false, "score": 1, "last_activity_date": 1519249798, "creation_date": 1519249798, "answer_id": 48916079, "question_id": 48915307, "link": "https://stackoverflow.com/questions/48915307/unable-to-locate-element-in-selenium-python-not-able-to-find-frame-for-the-elem/48916079#48916079", "title": "Unable to locate element in Selenium Python (not able to find frame for the element)", "body": "<p>I was searching and here is what i got.<br>\nThe element is there but the main problem was that as after login i was been redirected to this page. The script went on. so i was not able to find it.</p>\n\n<p>The workarond i used was i made the script wait untill i found the element by this command.</p>\n\n<pre><code>wait(driver, 10).until(EC.presence_of_element_located((By.ID, \"sysparm_search\")))\n</code></pre>\n\n<p>Hope it helps someone.....</p>\n"}], "owner": {"reputation": 67, "user_id": 9389052, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2cad303c7e67a793aadc8e75dc4aa032?s=128&d=identicon&r=PG&f=1", "display_name": "ronaldo", "link": "https://stackoverflow.com/users/9389052/ronaldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519249798, "creation_date": 1519246604, "last_edit_date": 1519247832, "question_id": 48915307, "link": "https://stackoverflow.com/questions/48915307/unable-to-locate-element-in-selenium-python-not-able-to-find-frame-for-the-elem", "title": "Unable to locate element in Selenium Python (not able to find frame for the element)", "body": "<p>I am unable to locate the element using selenium.<br>\nI have searched and found that there are frames and by changing frame i can get the element.<br>\nBut in my case I'm unable to find the frame.<br>\nI have searched the whole html but was unable to find the frame only could locate the form.</p>\n\n<p>Here is the code snippet which i have edited to get a rough idea :-  </p>\n\n<pre><code>&lt;div class=\"collapse navbar-collapse\"&gt; ==$0\n      &lt;div class=\"nav nabar-right\"&gt;==$0\n             &lt;div class=\"navpage-header-content\"&gt;\n                        &lt;form target=\"gsft_main\" role=\"search\" action=\"text_search_exact_match.do\" aria-label=\"Global Search\" class=\"form-inline navpage-global-search ng-non-bindable\" method=\"GET\"&gt;\n                          &lt;div class=\"input-group-transparent\"&gt;\n                          &lt;input id=\"sysparm_search\" placeholder=\"Search\" class=\"form-control form-control-search\" type=\"search\"name=\"sysparm_search\"&gt;\n                          &lt;label for=\"sysparm_search\" title=\"Search\" data-original-title=\"Search\"&gt;\n                           &lt;span class=\"input-group-addon-transparent icon- search sysparm-search-icon\"&gt;&lt;/span&gt;\n                           &lt;/label&gt;\n                           &lt;/div&gt;\n                           &lt;/form&gt;\n                 &lt;/div&gt;\n</code></pre>\n\n<p>My element id is sysparm_search.<br>\nIt's same as the search bar of stack overflow and located in the same area.</p>\n\n<p>i have tried with  </p>\n\n<pre><code>wait(driver, 10).until(EC.frame_to_be_available_and_switch_to_it(\"gsft_main\"))  \nelement3=driver.find_element_by_id(\"sysparm_search\")  \n</code></pre>\n\n<p>but not getting the element:<br>\nThe error is:- Unable to locate element:</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1519246655, "post_id": 48915297, "comment_id": 84837043, "body": "... what about <code>x = t_obj(); x.get(1)</code>? Anyway, you could use a flag in your object, like <code>self.called = False</code> that is set to <code>True</code> in <code>__call__</code>, and then in <code>get</code> you can check <code>if not self.called: raised NotCalledException</code>"}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1519246773, "post_id": 48915297, "comment_id": 84837103, "body": "@juanpa.arrivillaga you just blew my mind - need to think on that. However won&#39;t self.called always be set to True going forward?"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "edited": false, "score": 0, "creation_date": 1519248036, "post_id": 48915297, "comment_id": 84837727, "body": "It sounds like what you want is your object to be a class and you only want to access values after you instantiated an object from it, is that it?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1519254615, "post_id": 48915297, "comment_id": 84840554, "body": "@user3166881 sure... you can set it back to <code>False</code> though. I really don&#39;t know what you are trying to accomplish here. I don&#39;t think there is any particularly elegant way, except maybe returning a proxy-object, as suggested in a now-deleted answer. I suspect this is the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X-Y problem</a>. What are you <i>actually trying to accomplish</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519248686, "post_id": 48915767, "comment_id": 84838050, "body": "Got any ideas on how to enforce this?"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519248743, "post_id": 48915767, "comment_id": 84838091, "body": "What do you mean? It is enforced here."}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519248892, "post_id": 48915767, "comment_id": 84838159, "body": "I added a precision stating why this is precisely the behaviour you want."}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519249118, "post_id": 48915767, "comment_id": 84838271, "body": "sorry, let me be more specific. There&#39;s nothing stopping a user from invoking a Test instance is what I meant"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519249308, "post_id": 48915767, "comment_id": 84838366, "body": "If you remove <code>__call__</code>, your user can no longer call the instance. It can only update <code>x</code> directly which is the proper way to do this. Do you have a problem in mind that specifically needs you to call objects?"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519249397, "post_id": 48915767, "comment_id": 84838402, "body": "In other words, what extra behaviour do you need in your context, because that does exactly what you need."}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519249538, "post_id": 48915767, "comment_id": 84838468, "body": "Honestly, it spurred from another discussion - this is mostly a what if exercise"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 1, "creation_date": 1519249844, "post_id": 48915767, "comment_id": 84838607, "body": "I see. My recommendation would be to follow the above example. Relying on a kind of &quot;lock until this was called&quot; is bad practice because it can be very hard to debug, it would be kind of a hack. On the other end, making the first call an instantiation and the subsequent ones attribute setting (<code>obj.x = 2</code>) is not only  the proper way to do, it will also let your user know explicitly at what stage of your process they are at, while with <code>__call__</code>, it is not obvious if the object was called already"}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519249979, "post_id": 48915767, "comment_id": 84838671, "body": "Point noted - Thank you Olivier"}, {"owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "reply_to_user": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519250459, "post_id": 48915767, "comment_id": 84838861, "body": "Although, for the sake of the thought experiment, I added how I would hack my way around it."}, {"owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "edited": false, "score": 0, "creation_date": 1519260982, "post_id": 48915767, "comment_id": 84842362, "body": "when you said &quot;hack&quot; you weren&#39;t kidding"}], "tags": [], "owner": {"reputation": 19004, "user_id": 5079316, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e325c060deb5b55ee6ac0941af4dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier Melan&#231;on", "link": "https://stackoverflow.com/users/5079316/olivier-melan%c3%a7on"}, "is_accepted": false, "score": 0, "last_activity_date": 1519268456, "last_edit_date": 1519268456, "creation_date": 1519248431, "answer_id": 48915767, "question_id": 48915297, "link": "https://stackoverflow.com/questions/48915297/force-user-to-call-object-call/48915767#48915767", "title": "Force user to call Object :__call__", "body": "<h3>Right way to do it</h3>\n\n<p>It seems to me that what you want is for <code>t_obj</code> to actually be the class and not an instance of <code>Test</code>. It then gives the exact behavior you showed in your example.</p>\n\n<pre><code>class Test:\n    def __init__(self, x=1):\n        self.x = x\n\n    def get(self, y):\n        return (self.x * y)\n\nt_obj = Test # not an object, actually a class\n\nt_obj(2).get(1) # 2\nt_obj.get(1) # Raises exception\nt_obj().get(2) # 2\n</code></pre>\n\n<p>In particular, the exception states that <code>method get() must be called with Test instance</code>, i.e. you had to call <code>t_obj</code> to instantiate an object before being able to call <code>get()</code>, which is exactly what you want.</p>\n\n<h3>Fun way to do it</h3>\n\n<p>Although, suppose you really need your objects to be callable, here is a hacky way to get this working. It replaces the <code>get</code> method of your object when called, replacing a placeholder which only purpose is to raise.</p>\n\n<pre><code>class Test:\n    def __init__(self, x=1):\n        self.x = x\n\n    def __call__(self, x):\n        self.x = x\n        self.get = lambda y: self.x * y\n        return self\n\n    def get(self, y):\n        raise AttributeError('call object first')\n\nt_obj = Test()\n\nt_obj.get(1) # Raises exception\nt_obj(2)\nt_obj.get(1) # 2\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 3166881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b04357749d4f401c3f28378858d7c340?s=128&d=identicon&r=PG&f=1", "display_name": "user3166881", "link": "https://stackoverflow.com/users/3166881/user3166881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519268456, "creation_date": 1519246579, "last_edit_date": 1519247255, "question_id": 48915297, "link": "https://stackoverflow.com/questions/48915297/force-user-to-call-object-call", "title": "Force user to call Object :__call__", "body": "<p>Is it possible to only allow a user invoke any/all object methods when the object itself is called?</p>\n\n<p>Looking for different examples on how to do this</p>\n\n<p>Some example code</p>\n\n<pre><code>class Test:\n    def __init__(self, x=1):\n        self.x = x\n    def __call__(self, x=1):\n        self.x = x\n        return self\n    def get(self, y):\n        return (self.x * y)\n\nt_obj = Test()\n\nt_obj(2).get(1) # Acceptable case\nt_obj.get(1) # Raises exception\nt_obj().get(2) # Acceptable case\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1519247644, "post_id": 48915279, "comment_id": 84837529, "body": "You say you cannot use tensorflow ops for the adjacency list functions. Why is that?"}, {"owner": {"reputation": 1178, "user_id": 6880404, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kH1yh.png?s=128&g=1", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6880404/alnitak"}, "reply_to_user": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1519248370, "post_id": 48915279, "comment_id": 84837885, "body": "@mikkola: The adjacency list functions call on <code>sklearn.neighbors</code> functions. These are high level functions that wrap highly optimized (cython) nearest neighbor searches and distance metric functions. With low dimensional toy data, TF ops can probably be used, but I often run into memory issues with pairwise distance functions, since a single data sample has approximately 32^3 points. Efficiently implementing these functions in TF would require an entire suite of supporting functions, and probably require the concerted effort of a group. I am a mere mortal."}, {"owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 3, "creation_date": 1519248474, "post_id": 48915279, "comment_id": 84837946, "body": "Did you consider wrapping these functions using <a href=\"https://www.tensorflow.org/api_docs/python/tf/py_func\" rel=\"nofollow noreferrer\"><code>tf.py_func</code></a>?"}, {"owner": {"reputation": 1178, "user_id": 6880404, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kH1yh.png?s=128&g=1", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6880404/alnitak"}, "reply_to_user": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1519248615, "post_id": 48915279, "comment_id": 84838021, "body": "No, I did not know about <code>tf.py_func</code>, but it looks promising. I am new to tensorflow; thank you for sharing that!"}], "answers": [{"tags": [], "owner": {"reputation": 1178, "user_id": 6880404, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kH1yh.png?s=128&g=1", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6880404/alnitak"}, "is_accepted": true, "score": 0, "last_activity_date": 1519374334, "last_edit_date": 1519374334, "creation_date": 1519355538, "answer_id": 48940528, "question_id": 48915279, "link": "https://stackoverflow.com/questions/48915279/tensorflow-how-to-efficiently-train-a-network-where-each-layer-needs-feeding/48940528#48940528", "title": "TensorFlow: how to efficiently train a network where each layer needs feeding?", "body": "<p><a href=\"https://stackoverflow.com/users/5471520/mikkola\">@mikkola</a>'s suggestion to wrap the functions with <a href=\"https://www.tensorflow.org/api_docs/python/tf/py_func\" rel=\"nofollow noreferrer\" title=\"`tf.py_func`\"><code>tf.py_func</code></a> worked for me.</p>\n\n<p>How I used <code>tf.py_func</code>:</p>\n\n<pre><code># &lt;initialize all child network variables&gt;\n\n# make adjacency list function interface for tf.py_func\ndef alist_func(h_in):\n    \"\"\" Given constraints on the input to the func arg in tf.py_func,\n        you may need to interface the numpy function if it's signature\n        has other args or kwargs\n    \"\"\"\n    return numpy_ops.get_adjacency_list(h_in, K)\n\n# direct graph\ndata_in_shape = (11, None, num_points, D)\nX_input = tf.placeholder(tf.float32, shape=data_in_shape, name='X_input')\nX_pred, loss = tensor_ops.multi_func_model_fwd(X_input, var_scopes, alist_func)\n\n# optimizer\ntrain = tf.train.AdamOptimizer(learning_rate).minimize(loss)\n\n# train\nfor step in range(num_steps):\n    x_batch = numpy_ops.next_minibatch(X_train, mb_size) # list of data inputs\n    train.run(feed_dict={X_input: x_batch})\n\n\n\n# in tensor_ops script, this is how I use tf.py_func\ndef meta_model_fwd(x_in, var_scopes, alist_fn, *args, **kwargs):\n    alist = tf.py_func(alist_fn, [x_in[0]], tf.int32) # inp is float32, out is int32\n    h = model_fwd(x_in[0], alist, var_scopes[0], *args, **kwargs)\n    loss = loss_fn(h, x_in[1])\n    for idx, vscope in enumerate(var_scopes[1:]):\n        alist = tf.py_func(alist_fn, [h], tf.int32)\n        h = model_fwd(h, alist, vscope, *args, **kwargs)\n        loss += loss_fn(h, x_in[idx+1])\n    return h, loss\n</code></pre>\n\n<p>Thanks again mikkola!</p>\n"}], "owner": {"reputation": 1178, "user_id": 6880404, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/kH1yh.png?s=128&g=1", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6880404/alnitak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 48940528, "answer_count": 1, "score": 3, "last_activity_date": 1519374334, "creation_date": 1519246510, "question_id": 48915279, "link": "https://stackoverflow.com/questions/48915279/tensorflow-how-to-efficiently-train-a-network-where-each-layer-needs-feeding", "title": "TensorFlow: how to efficiently train a network where each layer needs feeding?", "body": "<p>Typically, the only feeding for a standard network implementation is for the inputs/labels. You have the input and label/truth as placeholders, and pass the concrete data to the <code>feed_dict</code> for training loops.</p>\n\n<p>My model is composed of multiple networks, like a network where each layer is itself a network. Each layer-network in the model accepts two inputs: a data input and an adjacency list for graph convolutions.</p>\n\n<p>If the only input needed was the data inputs, I would not be having issues with using placeholders, since there is no need for feeding between the model's layer-networks. However, the adjacency lists are created by <code>numpy</code> and <code>sklearn</code> functions that need true data inputs (as in, numpy arrays) instead of placeholder tensors.</p>\n\n<p>My network looks something like this:</p>\n\n<pre><code># &lt;make X* and alist* inputs placeholders&gt;\n\n# forwad through the layer-networks\nH1 = network_fwd(X0, alist0, var_scope=SCOPE.format(0)) # params_0/*\nH2 = network_fwd(H1, alist1, var_scope=SCOPE.format(1)) # params_1/*\nH3 = network_fwd(H2, alist2, var_scope=SCOPE.format(2))\n# ...\nH10 = network_fwd(H9, alist9, var_scope=SCOPE.format(9))\n\n# optimize on sum network error\nerror = loss_fn(H1, X1)\nerror += loss_fn(H2, X2)\nerror += loss_fn(H3, X3)\n#...\nerror += loss_fn(H10, X10)\n\ntrain = tf.train.AdamOptimizer(learning_rate).minimize(error)\n\n# train\nfor step in range(num_steps):\n    x_batch = numpy_ops.next_minibatch(X_train, mb_size) # list of data inputs\n\n    # fill placeholders for true inputs X0, X1, ..., X10\n    fdict = {placeholder_name: x for placeholder_name, x in zip(pnames, x_batch)}\n\n    # layer-network predictions and adj lists\n    adj_list0 = numpy_ops.get_adjacency_list(x_batch[0], K)\n    fdict[alist0] = adj_list0\n    #=====================================\n    h1 = sess.run(H1, feed_dict=fdict)\n    fdict[alist1] = numpy_ops.get_adjacency_list(h1, K)\n    #=====================================\n    h2 = sess.run(H2, feed_dict=fdict)\n    fdict[alist2] = numpy_ops.get_adjacency_list(h2, K)\n    # ...\n\n    # and finally the actual training pass\n    train.run(feed_dict=fdict)\n</code></pre>\n\n<p>I've made things explicit in my example code with hardcoded lines, so I don't need cleanup tips on that. The problem is that each <code>network_fwd</code> requires feeding for <code>alist</code>, so each previous prediction/output is recomputed for every subsequent layer-network to get the next layer's adjacency list on the previous layers output. </p>\n\n<p>It's horribly inefficient, but I cannot use tensorflow ops for the adjacency list functions. Is there any way to do a single pass through the model's networks (computing each <code>H*</code> only once)?</p>\n\n<p>In runtime autodiff frameworks like Chainer, this would not be an issue since you can just do the adjacency list function or whatever other non-framework data processing functions during forward execution, but I'm really stumped with how to do this in TF.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 5, "creation_date": 1519246471, "post_id": 48915248, "comment_id": 84836956, "body": "There are no built-ins that do this. Striving to use one-liners is ... a bad heuristic."}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1519246507, "post_id": 48915248, "comment_id": 84836969, "body": "Only adjacent ones?"}, {"owner": {"reputation": 75362, "user_id": 625403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/786eed7da67079cb5d63a49d469af25b?s=128&d=identicon&r=PG", "display_name": "amalloy", "link": "https://stackoverflow.com/users/625403/amalloy"}, "edited": false, "score": 7, "creation_date": 1519246615, "post_id": 48915248, "comment_id": 84837016, "body": "This isn&#39;t really a &quot;tuple&quot; question or a &quot;list&quot; question. It&#39;s a graph problem: you&#39;re trying to find <a href=\"https://en.wikipedia.org/wiki/Connected_component_(graph_theory)\" rel=\"nofollow noreferrer\">connected components of an undirected graph</a>. There are many published algorithms for doing this."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "reply_to_user": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1519246623, "post_id": 48915248, "comment_id": 84837024, "body": "@JoeIddon Adjacent in which way? The position of elements in a tuple/list shouldn&#39;t matter."}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1519246685, "post_id": 48915248, "comment_id": 84837058, "body": "@Spen Sorry, I was mistaken, I get it now"}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "reply_to_user": {"reputation": 75362, "user_id": 625403, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/786eed7da67079cb5d63a49d469af25b?s=128&d=identicon&r=PG", "display_name": "amalloy", "link": "https://stackoverflow.com/users/625403/amalloy"}, "edited": false, "score": 0, "creation_date": 1519246687, "post_id": 48915248, "comment_id": 84837060, "body": "@amalloy For example? Are there any that are already implemented and useable in python?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519246882, "post_id": 48915248, "comment_id": 84837159, "body": "@Spen not in the standard library, as far as I know."}, {"owner": {"reputation": 705, "user_id": 1762073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30e58e5fca2b1b253dd9edb7f32159db?s=128&d=identicon&r=PG", "display_name": "PrasadK", "link": "https://stackoverflow.com/users/1762073/prasadk"}, "edited": false, "score": 0, "creation_date": 1519246963, "post_id": 48915248, "comment_id": 84837198, "body": "You should look at Union-Find algorithm. <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Disjoint-set_data_structure</a>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1519247554, "post_id": 48915248, "comment_id": 84837481, "body": "There are many existing algorithms for finding components of a graph."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "edited": false, "score": 0, "creation_date": 1519247813, "post_id": 48915248, "comment_id": 84837619, "body": "In the end I need a algorithm that creates a forest of spanning trees. But I can&#39;t find an existing implementation in a package that I could use with my given list. I guess something like Kruskal or Chazelle would help, but again I can&#39;t find an existing package implementation."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "edited": false, "score": 0, "creation_date": 1519247995, "post_id": 48915248, "comment_id": 84837707, "body": "A problem is, that I need a really efficient algorithm. A simple breadth search or depth search doesn&#39;t cut it."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 2, "creation_date": 1519248503, "post_id": 48915248, "comment_id": 84837964, "body": "@Spen: there are already lots of set consolidation/connected component questions on SO, and while library requests are off-topic, library implementations are very common (both scipy and networkx have them, e.g. <code>list(nx.connected_components(nx.from_edgelist(lst)))</code> should work.)  It&#39;s not clear to me what you&#39;re asking which is both (1) on-topic and (2) not a duplicate."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1519248859, "post_id": 48915248, "comment_id": 84838143, "body": "@DSM Yes, this is the answer I was looking for. If you write it as answer to this question (preferable including the networkx and scipy solution) I will except it as answer. The networkx solution worked great!"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1519249011, "post_id": 48915248, "comment_id": 84838224, "body": "@Spen: again, to quote the rules, &quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam.&quot;  If that&#39;s what you&#39;re looking for, this question is definitely off-topic."}, {"owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1519249308, "post_id": 48915248, "comment_id": 84838365, "body": "@DSM My question isn&#39;t opinion based since there is only one sort of correct answer to my question. The one you just gave. I was searching for a build-in method to solve the graph problem I described. I don&#39;t care if it is python nativ or from any common package as long as I don&#39;t have to write a algorithm for it and as long as it is efficient. The solution you provided seems to check both marks. It&#39;s not that you are the creator of these packages or advertising for them. You even provided two alternatives. I don&#39;t see anything wrong with that."}], "owner": {"reputation": 4869, "user_id": 2230045, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XyCc2.jpg?s=128&g=1", "display_name": "Spenhouet", "link": "https://stackoverflow.com/users/2230045/spenhouet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519250336, "creation_date": 1519246399, "last_edit_date": 1519247057, "question_id": 48915248, "link": "https://stackoverflow.com/questions/48915248/how-to-reduce-list-of-tuples-lists-with-equal-elements-to-sub-graphs", "title": "How to reduce list of tuples/lists with equal elements to sub graphs?", "body": "<p>Given I have a list of tuples like this:</p>\n\n<pre><code>[('a', 'c'), ('b', 'c'), ('f', 'g'), ('e', 'f'), ('b', 'd')]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[['a', 'c'], ['b', 'c'], ['f', 'g'], ['e', 'f'], ['b', 'd']]\n</code></pre>\n\n<p>I want to merge every tuple/list that has one matching element (the position doesn't matter).</p>\n\n<p>The above should result in (order doesn't matter):</p>\n\n<pre><code>[['a', 'c', 'b', 'd'], ['f', 'g', 'e']] \n</code></pre>\n\n<p>For sure I could write a recursive function merging every tuple/list until there is no more merge able tuple/list.</p>\n\n<p>But I'm looking for a existing function / function in python or in a package that can do this preferably in a one liner.</p>\n"}, {"tags": ["python", "pandas", "lambda", "apply"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1519246531, "post_id": 48915233, "comment_id": 84836979, "body": "Try: df[&#39;genres&#39;] = df[&#39;genres&#39;].str.lstrip(). Or wait.. is it a list?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 1, "creation_date": 1519246809, "post_id": 48915233, "comment_id": 84837120, "body": "Likely a function of your data being separated by <code>&#39;, &#39;</code> or comma spaces.  You&#39;ll want to split on <code>&#39;, &#39;</code> or do what @AntonvBR suggested."}, {"owner": {"reputation": 441, "user_id": 6632640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efe71095223f92721e65631c39bd54c9?s=128&d=identicon&r=PG&f=1", "display_name": "handavidbang", "link": "https://stackoverflow.com/users/6632640/handavidbang"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1519247167, "post_id": 48915233, "comment_id": 84837301, "body": "@piRSquared what a novel idea! I fixed my function to Anton&#39;s method and it works."}, {"owner": {"reputation": 2891, "user_id": 7233155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97ca17a34b5f7b188c1bcb230a4701e2?s=128&d=identicon&r=PG&f=1", "display_name": "Attack68", "link": "https://stackoverflow.com/users/7233155/attack68"}, "edited": false, "score": 0, "creation_date": 1519247634, "post_id": 48915233, "comment_id": 84837523, "body": "df[&#39;genres&#39;].where(df[&#39;genres&#39;].str.slice(0,1)!=&#39; &#39;,df[&#39;genres&#39;].str.slice(1))"}], "answers": [{"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 2, "last_activity_date": 1519247065, "creation_date": 1519247065, "answer_id": 48915445, "question_id": 48915233, "link": "https://stackoverflow.com/questions/48915233/my-function-wont-work-on-a-column-in-the-dataframe-but-works-in-an-isolated-se/48915445#48915445", "title": "My function won&#39;t work on a column in the dataframe, but works in an isolated setting", "body": "<p>If you have arrays, e.g.:</p>\n\n<pre><code>                    genres\n0  [David, Bob, Catherine]\n</code></pre>\n\n<p>Do:</p>\n\n<pre><code>import pandas as pd  \ndata = {'genres':[[\"David\", \" Bob\", \" Catherine\"]]}\ndf = pd.DataFrame(data)\n\ndf.genres = df.genres.apply(lambda x: [i.lstrip() for i in x])\n\nprint(df.values)\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>[[list(['David', 'Bob', 'Catherine'])]] # leading space is removed\n</code></pre>\n\n<hr>\n\n<p><strong>And</strong> if you have strings, e.g.:</p>\n\n<pre><code>       genres\n0       David\n1         Bob\n2   Catherine\n</code></pre>\n\n<p>Do: </p>\n\n<pre><code>import pandas as pd\ndata = {'genres':[\"David\", \" Bob\", \" Catherine\"]}\ndf = pd.DataFrame(data)\n\ndf.genres = df.genres.str.lstrip()\n\nprint(df.values) # leading space is removed\n</code></pre>\n\n<p>Returns: </p>\n\n<pre><code>[['David']\n ['Bob']\n ['Catherine']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 668, "user_id": 2004343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7df5130097502eef3eabc2ec9de96ad?s=128&d=identicon&r=PG", "display_name": "Sevy", "link": "https://stackoverflow.com/users/2004343/sevy"}, "is_accepted": false, "score": 0, "last_activity_date": 1519247110, "creation_date": 1519247110, "answer_id": 48915452, "question_id": 48915233, "link": "https://stackoverflow.com/questions/48915233/my-function-wont-work-on-a-column-in-the-dataframe-but-works-in-an-isolated-se/48915452#48915452", "title": "My function won&#39;t work on a column in the dataframe, but works in an isolated setting", "body": "<p>The problem you're facing here is that the apply function will pass the arguments one-by-one, not as an array. Your function is designed to take in an array, so it treats each string like an array and breaks it up into characters. You just need to rewrite the remove_leaving_space function to take a single word, not an array, then you can use it as you suggest here.</p>\n\n<p>As an aside, you don't need to use lambda to reference your function - you can pass the function directly to apply and it will work just fine</p>\n\n<pre><code>def remove_leading_space(word):\n    if (word[0] == \" \"):\n        word = word[1:]\n    return word\n\ndf['genres'] = df['genres'].apply(remove_leading_space)\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 6632640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efe71095223f92721e65631c39bd54c9?s=128&d=identicon&r=PG&f=1", "display_name": "handavidbang", "link": "https://stackoverflow.com/users/6632640/handavidbang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 48915445, "answer_count": 2, "score": 0, "last_activity_date": 1519247281, "creation_date": 1519246317, "last_edit_date": 1519247281, "question_id": 48915233, "link": "https://stackoverflow.com/questions/48915233/my-function-wont-work-on-a-column-in-the-dataframe-but-works-in-an-isolated-se", "title": "My function won&#39;t work on a column in the dataframe, but works in an isolated setting", "body": "<p>I successfully converted the column 'genres' into a list or array of strings. However, there is a \" \" in position 0 for each word after a comma. </p>\n\n<p>Example: \n<strong>[\"David\", \" Bob\", \" Catherine\"]</strong></p>\n\n<p>I then created the function below to deal with this issue. </p>\n\n<pre><code>def remove_leading_space(array):\n  new_arr = []\n  for word in array:\n    if (word[0] == \" \"):\n        word = word[1:]\n    new_arr.append(word)\n  return new_arr\n</code></pre>\n\n<p>This function works for the example above as well as designated cells like so. </p>\n\n<pre><code>print(remove_leading_space(df['genres'][1])\n</code></pre>\n\n<p>But, when I do the following code: </p>\n\n<pre><code>#Remove the leading spaces \ndf['genres'] = df['genres'].apply(lambda x: remove_leading_space(x))\n</code></pre>\n\n<p>I get an error stating <strong>string index out of range</strong> , and points towards <strong>word[0]</strong>. Once again, this code works for any </p>\n\n<pre><code>df['genres'][x].\n</code></pre>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p>I followed Anton's advice and rewrote my function to the following: </p>\n\n<pre><code>def remove_leading_space(array):\nnew_arr = []\nfor word in array:\n    new_arr.append(word.lstrip(\" \"))\nreturn new_arr\n</code></pre>\n\n<p>It works. Thanks Anton. Also @piRSquared made a novel suggestion I'll use in the future. </p>\n"}, {"tags": ["python", "python-3.x", "import", "python-import", "importerror"], "comments": [{"owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "edited": false, "score": 3, "creation_date": 1519246380, "post_id": 48915230, "comment_id": 84836919, "body": "I would define clsC in another file which they both import. Recursive imports aren&#39;t very good practice"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519246596, "post_id": 48915230, "comment_id": 84837008, "body": "You are trying to use circular imports. This is bad. Just re-organize your module structure to avoidthis."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ae220219f4aa7244bcbfa39cf28b7f?s=128&d=identicon&r=PG&f=1", "display_name": "Mason", "link": "https://stackoverflow.com/users/7465715/mason"}, "edited": false, "score": 0, "creation_date": 1519334204, "post_id": 48935187, "comment_id": 84881505, "body": "Thank you. I figured that imports were causing some sort of problem like this, but couldn&#39;t find a proper explanation of what was going on. I have made the edits suggested and fixed it."}], "tags": [], "owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "is_accepted": true, "score": 0, "last_activity_date": 1519325622, "creation_date": 1519325622, "answer_id": 48935187, "question_id": 48915230, "link": "https://stackoverflow.com/questions/48915230/importerror-when-importing-backwards/48935187#48935187", "title": "ImportError when importing backwards", "body": "<p>Notice how <code>modB</code> imports <code>modC</code>. This causes infinite imports, which is of course, a bad thing. You're clearly trying to use class inheritance, but the way it's set up, classes are inheriting from themselves. You might want to reconsider the flow of everything, and possibly merging the scripts into one file</p>\n"}], "owner": {"reputation": 5, "user_id": 7465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ae220219f4aa7244bcbfa39cf28b7f?s=128&d=identicon&r=PG&f=1", "display_name": "Mason", "link": "https://stackoverflow.com/users/7465715/mason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 48935187, "answer_count": 1, "score": 0, "last_activity_date": 1519325622, "creation_date": 1519246304, "question_id": 48915230, "link": "https://stackoverflow.com/questions/48915230/importerror-when-importing-backwards", "title": "ImportError when importing backwards", "body": "<p>When I try to import backward (example coming), I get an ImportError.</p>\n\n<p>Let's say I have 3 python files: modA.py, modB.py, and modC.py</p>\n\n<pre><code>dir/\n    modA.py\n    modB.py\n    modC.py\n</code></pre>\n\n<p>modA.py:</p>\n\n<pre><code>import modB\n\ninstB = modB.clsB()\n\nprint(\"Successful\")\n</code></pre>\n\n<p>modB.py:</p>\n\n<pre><code>import modC\n\nlist = [modC.clsC]\n\nclass clsB:\n    def __init__(self):\n        pass\n</code></pre>\n\n<p>modC.py</p>\n\n<pre><code>from modB import clsB\n\ninstB = clsB()\n\nclass clsC(clsB):\n    def __init__(self):\n        pass\n</code></pre>\n\n<p>I can import each individually, but when modC trys to import modB, it gives an error for some reason. Is there any way around this error, or is it not possible to backward import (or whatever the correct term is)?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 1, "creation_date": 1519249186, "post_id": 48915218, "comment_id": 84838315, "body": "Is your time column a string type or pandas DateTime type?"}, {"owner": {"reputation": 21, "user_id": 9393015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b223b7ce56a066c9f8c33429c764efeb?s=128&d=identicon&r=PG&f=1", "display_name": "EvR020", "link": "https://stackoverflow.com/users/9393015/evr020"}, "reply_to_user": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 0, "creation_date": 1519306727, "post_id": 48915218, "comment_id": 84864003, "body": "In the debugger I see: dtype: object"}, {"owner": {"reputation": 21, "user_id": 9393015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b223b7ce56a066c9f8c33429c764efeb?s=128&d=identicon&r=PG&f=1", "display_name": "EvR020", "link": "https://stackoverflow.com/users/9393015/evr020"}, "reply_to_user": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 0, "creation_date": 1519306874, "post_id": 48915218, "comment_id": 84864123, "body": "I use read_csv to retrieve the data. In the csv file time is denoted as, 11:50:00, 12:00:00 and so on. I guess, as you suggested, I have to convert time to string or datetime to apply the proposed solutions."}, {"owner": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 0, "creation_date": 1519321773, "post_id": 48915218, "comment_id": 84874793, "body": "To check data type of one of those items, I would suggest doing this on the first element: <code>type(df.loc[215, &#39;Time&#39;])</code> and see what type they are individually. After that, you can decide whether to change them to string or datetime."}, {"owner": {"reputation": 21, "user_id": 9393015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b223b7ce56a066c9f8c33429c764efeb?s=128&d=identicon&r=PG&f=1", "display_name": "EvR020", "link": "https://stackoverflow.com/users/9393015/evr020"}, "reply_to_user": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 0, "creation_date": 1519325461, "post_id": 48915218, "comment_id": 84876801, "body": "In[21]: type(df9.loc[215, &#39;Time&#39;]) Out[21]: str"}, {"owner": {"reputation": 21, "user_id": 9393015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b223b7ce56a066c9f8c33429c764efeb?s=128&d=identicon&r=PG&f=1", "display_name": "EvR020", "link": "https://stackoverflow.com/users/9393015/evr020"}, "reply_to_user": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "edited": false, "score": 0, "creation_date": 1519325606, "post_id": 48915218, "comment_id": 84876889, "body": "df[&#39;Time&#39;].str[:-3] does the job. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 3722, "user_id": 2613064, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/REz9h.jpg?s=128&g=1", "display_name": "oxtay", "link": "https://stackoverflow.com/users/2613064/oxtay"}, "is_accepted": false, "score": 0, "last_activity_date": 1519258215, "last_edit_date": 1519258215, "creation_date": 1519249288, "answer_id": 48915953, "question_id": 48915218, "link": "https://stackoverflow.com/questions/48915218/how-to-remove-part-of-an-entry-for-several-entries-in-python-pandas-dataframe/48915953#48915953", "title": "How to remove part of an entry (for several entries) in Python-Pandas DataFrame object", "body": "<p>If your <code>Time</code> column is of type <code>string</code>, you can remove the seconds in your time using:</p>\n\n<pre><code>df['Time'] = df['Time'].str[:-2]\n</code></pre>\n\n<p>if it's datetime, the following will set seconds to zero but will still show the seconds:</p>\n\n<pre><code>df['Time'] = df['Time'].map(lambda x: x.replace(second=0))\n</code></pre>\n\n<p>So you can first change it to string and then  crop the seconds from it. </p>\n"}], "owner": {"reputation": 21, "user_id": 9393015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b223b7ce56a066c9f8c33429c764efeb?s=128&d=identicon&r=PG&f=1", "display_name": "EvR020", "link": "https://stackoverflow.com/users/9393015/evr020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519258215, "creation_date": 1519246252, "last_edit_date": 1519248946, "question_id": 48915218, "link": "https://stackoverflow.com/questions/48915218/how-to-remove-part-of-an-entry-for-several-entries-in-python-pandas-dataframe", "title": "How to remove part of an entry (for several entries) in Python-Pandas DataFrame object", "body": "<p>The goal of my project is to retrieve wind data from an open source and plot it. I want to plot Time (X-axis) vs Measure (Y-axis) from the Pandas DataFrame object below. However, I would like to remove from the Time column the last part, ':00' before using plot functions from Matplotlib. So 11:50:00 should be become 11:50 and so on. </p>\n\n<p>What's the best way to do this? </p>\n\n<pre><code>     Time      Date          Measure\n\n215  11:50:00  13/02/2018    17.67\n\n216  12:00:00  13/02/2018    18.19\n\n217  12:10:00  13/02/2018    19.52\n</code></pre>\n\n<p></p>\n"}, {"tags": ["python", "pandas", "dictionary", "nested", "valueerror"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "edited": false, "score": 0, "creation_date": 1519306233, "post_id": 48916866, "comment_id": 84863634, "body": "Thank you, this is helpful. But how would I implement this into my code? The amount of Systems is dependent on the users file, so it can range from 4 to 50. When I try modifying your code to fit, I receive this error: TypeError: can&#39;t multiply sequence by non-int of type &#39;float&#39;"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "edited": false, "score": 0, "creation_date": 1519306751, "post_id": 48916866, "comment_id": 84864025, "body": "Do you have no way to get the names of your Systems before running your code?"}, {"owner": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "edited": false, "score": 0, "creation_date": 1519307037, "post_id": 48916866, "comment_id": 84864254, "body": "Correct, SystemsList is where I put the names into a list format. Would I have to turn my df1 dataframe into a list to make this work?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "edited": false, "score": 0, "creation_date": 1519307114, "post_id": 48916866, "comment_id": 84864316, "body": "So just use this: <code>d = {i: list(filter(None, df[i]*df[&#39;Email&#39;])) for i lst}</code>, where <code>lst</code> is your list of Systems"}, {"owner": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "edited": false, "score": 0, "creation_date": 1519307449, "post_id": 48916866, "comment_id": 84864584, "body": "Now I am receiving this error, ValueError: array is too big; <code>arr.size * arr.dtype.itemsize</code> is larger than the maximum possible size."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1519253437, "creation_date": 1519253437, "answer_id": 48916866, "question_id": 48915207, "link": "https://stackoverflow.com/questions/48915207/nested-dictionary-errors-python-pandas/48916866#48916866", "title": "Nested Dictionary Errors -- Python Pandas", "body": "<p>Here's one way.</p>\n\n<pre><code>import pandas as pd\n\nlst = [['test1@test.com', 0, 1, 0, 1, 2],\n       ['test2@test.com', 1, 0, 0, 1, 2],\n       ['test3@test.com', 1, 1, 0, 1, 3],\n       ['test4@test.com', 1, 0, 1, 0, 1]]\n\ndf = pd.DataFrame(lst, columns=['Email', 'System 1', 'System 2',\n                                'System 3', 'System 4', 'Count'])\n\nd = {'System'+str(i): list(filter(None, df['System '+str(i)]*df['Email'])) \\\n                      for i in range(1, 5)}\n\n# {'System1': ['test2@test.com', 'test3@test.com', 'test4@test.com'],\n#  'System2': ['test1@test.com', 'test3@test.com'],\n#  'System3': ['test4@test.com'],\n#  'System4': ['test1@test.com', 'test2@test.com', 'test3@test.com']}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 9200498, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/azP4R.jpg?s=128&g=1", "display_name": "BeMuRR187", "link": "https://stackoverflow.com/users/9200498/bemurr187"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519253437, "creation_date": 1519246206, "question_id": 48915207, "link": "https://stackoverflow.com/questions/48915207/nested-dictionary-errors-python-pandas", "title": "Nested Dictionary Errors -- Python Pandas", "body": "<p>I have the following code:</p>\n\n<pre><code>import os\nimport pandas as pd \nfrom pandas import ExcelWriter\nfrom pandas import ExcelFile\n\nfileName= input(\"Enter file name here (Case Sensitve) &gt; \")\ndf = pd.read_excel(fileName +'.xlsx', sheetname=None, ignore_index=True)\nxl = pd.ExcelFile(fileName +'.xlsx')\nSystemCount= len(xl.sheet_names)\ndf1 = pd.DataFrame([])\n\nfor y in range(1, int(SystemCount)+ 1): \n    df = pd.read_excel(xl,'System ' + str(y))  #reads each sheet\n    df['System {0}'.format(y)] = \"1\"  #adds a column for each system, sets the column = 1\n    df1 = df1.append(df)  #appends all sheets together into a new df\n\n\ndf1 = df1.sort_values(['Email']) #sorts by email\ndf = df1['Email'].value_counts() #counts the amount each email shows\ndf1['Count'] = df1.groupby('Email')['Email'].transform('count') #adds the count to the end\n\n\ndf1 = df1.apply(lambda x : pd.to_numeric(x,errors='ignore')) #turns ints to floats\nd = dict(zip(df1.columns[1:],['sum']*df1.columns[1:].str.contains('System').sum()+['first'])) #adds up each row\ndf1 = df1.fillna(0).groupby('Email').agg(d) #turns NAN into 0 and groups everything together\ndf1 = df1.reset_index() #email column was turned into an index with above line, this turns it back to a df column\n\n\nSystemsList = []#creates empty list\nfor count in range(1, int(SystemCount)+1): #counts up to the system amount\n    SystemsList.append(['System {0}'.format(count)]) #creates list of systems\n\nSystemDict = {}\nfor item in SystemsList:\n    SystemDict[item]=df1[df1[item]== 1][\"Email\"]\n</code></pre>\n\n<p>Which outputs something along the lines of (small snippet of output):</p>\n\n<pre><code> Email          System 1  System 2 System 3 System 4 Count\n    test1@test.com    0     1       0        1           2\n    test2@test.com    1     0       0        1           2\n    test3@test.com    1     1       0        1           3\n    test4@test.com    1     0       1        0           2\n</code></pre>\n\n<p>I am trying to make a nested dictionary for each system, that places the email everywhere it says 1, with this section of code: </p>\n\n<pre><code>SystemDict = {}\n    for item in SystemsList:\n        SystemDict[item]=df1[df1[item]== 1][\"Email\"]\n</code></pre>\n\n<p>But I am receiving the following error -  ValueError: Boolean array expected for the condition, not float64. Any ideas on how to fix this? </p>\n"}, {"tags": ["python", "django", "amazon-web-services", "amazon-s3"], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1519247085, "post_id": 48915403, "comment_id": 84837263, "body": "Yes that&#39;s what it should be but i don&#39;t directly write the <code>src</code>, it&#39;s generated by <code>src={% static &#39;images&#47;settingsIcon.png&#39; %}</code>"}, {"owner": {"reputation": 138108, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1519257595, "post_id": 48915403, "comment_id": 84841485, "body": "@Zorgan you appear to be trying to do this as a workaround to <a href=\"https://stackoverflow.com/q/48901990/1695906\">your real problem</a>.  It would be advisable not to try to solve this by making the image public, and it isn&#39;t going to work with a public image if the credentials are somehow causing the problem."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 138108, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1519261612, "post_id": 48915403, "comment_id": 84842512, "body": "@Michael-sqlbot Making the image public is meant to be the solution to my other question. Unless there is another way?"}, {"owner": {"reputation": 138108, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1519267297, "post_id": 48915403, "comment_id": 84843881, "body": "I believe you got some bad advice on the other question.  The reason for the Signature and other parameters is so that you do <i>not</i> need to make the bucket or the objects public."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1519286220, "post_id": 48915403, "comment_id": 84850738, "body": "Right. Any idea how I can fix it?"}], "tags": [], "owner": {"reputation": 41919, "user_id": 53686, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c857228f59474aa4130f12a1de2b69b0?s=128&d=identicon&r=PG", "display_name": "E.J. Brennan", "link": "https://stackoverflow.com/users/53686/e-j-brennan"}, "is_accepted": false, "score": 1, "last_activity_date": 1519289580, "last_edit_date": 1519289580, "creation_date": 1519246912, "answer_id": 48915403, "question_id": 48915163, "link": "https://stackoverflow.com/questions/48915163/clicking-make-public-on-my-s3-bucket-doesnt-do-anything/48915403#48915403", "title": "Clicking &#39;Make public&#39; on my S3 Bucket doesn&#39;t do anything", "body": "<p>You are making it too complicated - since you made it public, the src should be</p>\n\n<p><a href=\"https://postr-bucket.s3.amazonaws.com/static/images/settingsIcon.png\" rel=\"nofollow noreferrer\">https://postr-bucket.s3.amazonaws.com/static/images/settingsIcon.png</a></p>\n\n<p>you can forget the rest of the parameters, they are probably causing it too fail - if you click the link I gave you, you will see your image - I know I can.</p>\n\n<p>Edit: see this link: <a href=\"https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html\" rel=\"nofollow noreferrer\">https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html</a></p>\n\n<pre><code>    AWS_QUERYSTRING_AUTH (optional; default is True)\n    Setting AWS_QUERYSTRING_AUTH to False to remove query parameter authentication from generated URLs. \n    This can be useful if your S3 buckets are public.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 8705066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a5488df1050ec372db6e17aabf3f48?s=128&d=identicon&r=PG&f=1", "display_name": "smallwat3r", "link": "https://stackoverflow.com/users/8705066/smallwat3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1519247025, "creation_date": 1519247025, "answer_id": 48915438, "question_id": 48915163, "link": "https://stackoverflow.com/questions/48915163/clicking-make-public-on-my-s3-bucket-doesnt-do-anything/48915438#48915438", "title": "Clicking &#39;Make public&#39; on my S3 Bucket doesn&#39;t do anything", "body": "<p>Have you try making your file public via API with <code>.set_canned_acl('public-read')</code>?</p>\n\n<pre><code>    import boto\n    import boto.s3.connection\n    from boto.s3.key import Key \n\n    conn = boto.connect_s3(\n        aws_access_key_id = &lt;access_key&gt;,\n        aws_secret_access_key = &lt;secret_key&gt;,\n        host = &lt;host&gt;,\n        calling_format = boto.s3.connection.OrdinaryCallingFormat(),\n    )\n\n    bucket = conn.get_bucket(&lt;bucket name&gt;, validate=False)\n    k = Key(bucket)\n    k.key = &lt;filename&gt;\n    k.set_contents_from_filename(&lt;filename&gt;)\n\n    hello_key = bucket.get_key(&lt;filename&gt;)\n    hello_key.set_canned_acl('public-read')\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519289580, "creation_date": 1519246039, "question_id": 48915163, "link": "https://stackoverflow.com/questions/48915163/clicking-make-public-on-my-s3-bucket-doesnt-do-anything", "title": "Clicking &#39;Make public&#39; on my S3 Bucket doesn&#39;t do anything", "body": "<p>Here is the image of me clicking 'Make Public' on one of my images in my bucket: </p>\n\n<p><a href=\"https://i.stack.imgur.com/5m0sY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5m0sY.png\" alt=\"enter image description here\"></a></p>\n\n<p>and then subsequently clicking 'Make public' on the pop-up window: </p>\n\n<p><a href=\"https://i.stack.imgur.com/b7OLo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b7OLo.png\" alt=\"enter image description here\"></a></p>\n\n<p>It says it completed successfully - however when I refresh the page it still gives me the option to 'Make public' so it appears it didn't work. When I go to my website the image still doesn't show up, further showing the image is still not public. This is the <code>src</code> the <code>img</code> uses on my website:</p>\n\n<pre><code>https://postr-bucket.s3.amazonaws.com/static/images/settingsIcon.png?Expires=1519249290&amp;Signature=9eixuWMxLknf%2BAnDB1XIS30ntO8%3D&amp;AWSAccessKeyId=AKIAIDO3PF5Y7SMSOHHA\n</code></pre>\n\n<p>I don't think the access key should be in that <code>src</code>, but I'm not sure how to change it. My settings for AWS are normal:</p>\n\n<pre><code>from decouple import config\nimport datetime\nAWS_ACCESS_KEY_ID = config(\"AWS_ACCESS_KEY_ID\")\nAWS_SECRET_ACCESS_KEY = config(\"AWS_SECRET_ACCESS_KEY\")\nAWS_FILE_EXPIRE = 200\nAWS_PRELOAD_METADATA = True\nAWS_QUERYSTRING_AUTH = True\n\nDEFAULT_FILE_STORAGE = 'draft1.aws.utils.MediaRootS3BotoStorage'\nSTATICFILES_STORAGE = 'draft1.aws.utils.StaticRootS3BotoStorage'\nAWS_STORAGE_BUCKET_NAME = 'postr-bucket'\nS3DIRECT_REGION = 'us-west-2'\nS3_URL = '//%s.s3.amazonaws.com/' % AWS_STORAGE_BUCKET_NAME\nMEDIA_URL = '//%s.s3.amazonaws.com/media/' % AWS_STORAGE_BUCKET_NAME\nMEDIA_ROOT = MEDIA_URL\nSTATIC_URL = S3_URL + 'static/'\nADMIN_MEDIA_PREFIX = STATIC_URL + 'admin/'\n\ntwo_months = datetime.timedelta(days=61)\ndate_two_months_later = datetime.date.today() + two_months\nexpires = date_two_months_later.strftime(\"%A, %d %B %Y 20:00:00 GMT\")\n\nAWS_HEADERS = { \n    'Expires': expires,\n    'Cache-Control': 'max-age=%d' % (int(two_months.total_seconds()), ),\n}\n</code></pre>\n\n<p>I've also tried the same 'Make public' option for the whole bucket, however it has the same result (says success but it doesn't make it public). </p>\n\n<p>Any idea why this is?</p>\n\n<p><a href=\"https://i.stack.imgur.com/fGo4G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGo4G.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "model", "celery", "scheduled-tasks"], "comments": [{"owner": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519252669, "post_id": 48915146, "comment_id": 84839851, "body": "In your beat schedule do you need to do something to some rows from Notes table? Will the subset of rows depend on time of task execution? Remember that it is celery that will call your beat task, not you so everything must be known to that task at the time it is called. You can pass some parameters with <code>args=</code> but those will be same each time celery beat calls your task."}, {"owner": {"reputation": 1698, "user_id": 2894123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f1cc2f45f10ffaa52a64b08f7cbd814b?s=128&d=identicon&r=PG&f=1", "display_name": "Mazel Tov", "link": "https://stackoverflow.com/users/2894123/mazel-tov"}, "edited": false, "score": 0, "creation_date": 1519287942, "post_id": 48915146, "comment_id": 84851633, "body": "you probably want to create celery task in Djnago signal <code>post_save</code> and you can pass the time to celery task there. Models are loaded after settings.py in django so waht you want is not feasible at all i think."}, {"owner": {"reputation": 133, "user_id": 9357277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9045db255daaf1449895aab0366f9?s=128&d=identicon&r=PG&f=1", "display_name": "user9357277", "link": "https://stackoverflow.com/users/9357277/user9357277"}, "reply_to_user": {"reputation": 1698, "user_id": 2894123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f1cc2f45f10ffaa52a64b08f7cbd814b?s=128&d=identicon&r=PG&f=1", "display_name": "Mazel Tov", "link": "https://stackoverflow.com/users/2894123/mazel-tov"}, "edited": false, "score": 0, "creation_date": 1519331790, "post_id": 48915146, "comment_id": 84880248, "body": "@MazelTov and Gre0ry, I want to monitor all models, if an hour is defined in a given model, then I want to do the task. Is such monitoring possible?"}, {"owner": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519423679, "post_id": 48915146, "comment_id": 84920730, "body": "If you want to, say, fetch rows from your database on regular basis (i.e. every hour/minute etc.) and then based on your logic to update those rows then sure, you can do that and celery beat seems a good choice for that. What I struggle to understand is what do you mean &quot;how can I pass the time from the model object&quot; - if your model object has got a column (i.e. time stamp) then everything you have to do is to fetch your data from the database (i.e. run select) and then do something with it and as a result (possibly) update your database. You have to read from database to see what changed."}, {"owner": {"reputation": 133, "user_id": 9357277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9045db255daaf1449895aab0366f9?s=128&d=identicon&r=PG&f=1", "display_name": "user9357277", "link": "https://stackoverflow.com/users/9357277/user9357277"}, "reply_to_user": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519478075, "post_id": 48915146, "comment_id": 84932290, "body": "@Greg0ry Thank you for your answer. What I want to do is create an object (an email to send in the future), for this I need to pass from the model the date to the beat celery. In order not to run the tasks every second, so as not to load the server."}, {"owner": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519560072, "post_id": 48915146, "comment_id": 84951264, "body": "The idea of celery beat is that you run tasks every certain amount of time (it can be every second too if you want or whatever else you want). By the sound of your explanation I am not entirely sure what is it really you want to do. When you say &quot;pass from the model the date to the beat celery&quot; - I&#39;m guessing you have something like <code>django</code> or <code>flask</code> where your users can change some data and you want a task executed when that change happens? If that&#39;s what you want then I would not use celery beat for that, I would fire async task at the time of user interaction and pass required data to it."}, {"owner": {"reputation": 133, "user_id": 9357277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9045db255daaf1449895aab0366f9?s=128&d=identicon&r=PG&f=1", "display_name": "user9357277", "link": "https://stackoverflow.com/users/9357277/user9357277"}, "reply_to_user": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519593950, "post_id": 48915146, "comment_id": 84962247, "body": "@Greg0ry Yes, this is an application in django. The thing is that the Email object has a date in the future - when an email will be sent. The user is only supposed to create an email object with a date, for example 05/05/2018 12:00 and an email will be sent on that day. I think that you just need to use a celery beat."}, {"owner": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519674387, "post_id": 48915146, "comment_id": 84997272, "body": "Ok, so you want to collect emails that are due for sending and then fire them all at certain time of a day? In such case beat will do this for you but you will have to fetch emails from the database within the beat task (this is what you refer as <code>passing the model</code>)."}, {"owner": {"reputation": 133, "user_id": 9357277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9045db255daaf1449895aab0366f9?s=128&d=identicon&r=PG&f=1", "display_name": "user9357277", "link": "https://stackoverflow.com/users/9357277/user9357277"}, "reply_to_user": {"reputation": 646, "user_id": 2177312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3a639e2cd256dc91dd3b687946fbbfd?s=128&d=identicon&r=PG", "display_name": "Greg0ry", "link": "https://stackoverflow.com/users/2177312/greg0ry"}, "edited": false, "score": 0, "creation_date": 1519769050, "post_id": 48915146, "comment_id": 85042583, "body": "Exactly, I wanted this solution. thank you very much @Greg0ry +10"}], "owner": {"reputation": 133, "user_id": 9357277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d9045db255daaf1449895aab0366f9?s=128&d=identicon&r=PG&f=1", "display_name": "user9357277", "link": "https://stackoverflow.com/users/9357277/user9357277"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519247570, "creation_date": 1519245987, "last_edit_date": 1519247570, "question_id": 48915146, "link": "https://stackoverflow.com/questions/48915146/time-passed-to-celery-beat-schedule-from-model-object", "title": "Time passed to celery beat schedule from model object", "body": "<p>I wonder how can I pass the time from the model object to the celery beat schedule in settings.py?</p>\n\n<p>Do I need to import the model in settings.py and iterate over all objects?</p>\n\n<p>model.py</p>\n\n<pre><code>class Note(models.Model):\n    user = models.ForeignKey(User, related_name='notes')\n    status = models.TextField(max_length=500)\n    publish_time = models.DateTimeField()\n    is_publish = models.BooleanField(default=False)\n</code></pre>\n\n<p>Task in my app:</p>\n\n<pre><code>@task()\ndef task_number_one():\n    // do something\n    return something\n</code></pre>\n\n<p>celery part in settings.py</p>\n\n<pre><code>CELERY_BROKER_URL = 'amqp://localhost'\n\nfrom celery.schedules import crontab\n\nCELERY_BEAT_SCHEDULE = {\n    'task-number-one': {\n        'task': 'noteapp.tasks.task_number_one',\n        'schedule': '', # crontab(minute=put here min from model, hour=put here hour from model),\n    },\n}\n</code></pre>\n"}, {"tags": ["python", "pandas", "select"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 2, "creation_date": 1519245992, "post_id": 48915075, "comment_id": 84836705, "body": "It&#39;s unclear what you are asking. What is it tricky? Are you looking for something like this? <code>df[(df[&#39;col1&#39;].isin(list1)) &amp; (df[&#39;col2&#39;].isin(list2))]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 2, "creation_date": 1519246047, "post_id": 48915148, "comment_id": 84836738, "body": "It&#39;s like you <a href=\"https://stackoverflow.com/questions/48915075/how-to-select-rows-where-items-of-two-columns-match-with-items-of-two-lists-sam#comment84836705_48915075\">read my mind</a>."}, {"owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 1, "creation_date": 1519246085, "post_id": 48915148, "comment_id": 84836760, "body": "Wasn&#39;t 100% sure my implementation would work though, so glad you could confirm :P"}, {"owner": {"reputation": 821, "user_id": 4383027, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eda855fa49dee7a20216ee3a3763bcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon Vimal", "link": "https://stackoverflow.com/users/4383027/solomon-vimal"}, "edited": false, "score": 0, "creation_date": 1519246471, "post_id": 48915148, "comment_id": 84836957, "body": "I&#39;m marking this as the answer. But thanks to both of you!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5451396"}, "edited": false, "score": 0, "creation_date": 1519246992, "post_id": 48915148, "comment_id": 84837214, "body": "What&#39;s the difference between <code>&amp;</code> and <code>AND</code>? You make it sound like they&#39;re interchangeable."}, {"owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "edited": false, "score": 1, "creation_date": 1519247713, "post_id": 48915148, "comment_id": 84837555, "body": "@Steve <code>&amp;</code> <i>means</i> <code>bitwise AND</code>, see <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bitwise_operation</a>. It is not the same as python&#39;s <code>and</code> operator, which tries to return a single <code>True</code> or <code>False</code> (and in this case should throw an error). Put simply, <code>&amp;</code> is the same as calling <code>and</code> on each individual pair of elements and creating a new array out of that."}, {"owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "reply_to_user": {"reputation": 821, "user_id": 4383027, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eda855fa49dee7a20216ee3a3763bcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon Vimal", "link": "https://stackoverflow.com/users/4383027/solomon-vimal"}, "edited": false, "score": 1, "creation_date": 1519247776, "post_id": 48915148, "comment_id": 84837598, "body": "@solonome I think you might have forgotten to mark the answer :)"}, {"owner": {"reputation": 821, "user_id": 4383027, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eda855fa49dee7a20216ee3a3763bcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon Vimal", "link": "https://stackoverflow.com/users/4383027/solomon-vimal"}, "edited": false, "score": 0, "creation_date": 1519343858, "post_id": 48915148, "comment_id": 84885351, "body": "@mxbi Actually this doesn&#39;t seem to work. I basically have two lists of latitude and longitude and a dataframe with lat and lon. The only partially overlap. I want to select the dataframe rows that match the lat,lon pair from the list. But I think this solution you suggest looks for all combinations of lat and lon from my two lists. Is this possible or is something else that I am missing?"}], "tags": [], "owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "is_accepted": true, "score": 3, "last_activity_date": 1519245991, "creation_date": 1519245991, "answer_id": 48915148, "question_id": 48915075, "link": "https://stackoverflow.com/questions/48915075/how-to-select-rows-where-items-of-two-columns-match-with-items-of-two-lists-sam/48915148#48915148", "title": "How to select rows where items of two columns match with items of two lists (same index), using Pandas?", "body": "<p>You could do:</p>\n\n<pre><code>df[df['col1'].isin(list1) &amp; df['col2'].isin(list2)]\n</code></pre>\n\n<p>This will return the rows of <code>df</code> where the value of <code>col1</code> exists in <code>list1</code> and the value of <code>col2</code> exists in <code>list2</code>.</p>\n\n<p><code>&amp;</code> is the bitwise AND operator, and will return True on the indices where both the operands are True.</p>\n"}, {"tags": [], "owner": {"reputation": 821, "user_id": 4383027, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eda855fa49dee7a20216ee3a3763bcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon Vimal", "link": "https://stackoverflow.com/users/4383027/solomon-vimal"}, "is_accepted": false, "score": 0, "last_activity_date": 1519346168, "creation_date": 1519346168, "answer_id": 48939434, "question_id": 48915075, "link": "https://stackoverflow.com/questions/48915075/how-to-select-rows-where-items-of-two-columns-match-with-items-of-two-lists-sam/48939434#48939434", "title": "How to select rows where items of two columns match with items of two lists (same index), using Pandas?", "body": "<p>What worked in the end is something like this:</p>\n\n<pre><code>df4=pd.DataFrame(columns=df.keys())\nfor i, lat in enumerate(list1): \n    lon = list2[i]\n    df2 = df[df[\"Lat\"]==lat]\n    df3 = df2[df2[\"Lon\"]==lon]\n    df4 = pd.concat([df4, df3],ignore_index=True)\n</code></pre>\n\n<p>Maybe not the most efficient way.</p>\n"}], "owner": {"reputation": 821, "user_id": 4383027, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eda855fa49dee7a20216ee3a3763bcaf?s=128&d=identicon&r=PG&f=1", "display_name": "Solomon Vimal", "link": "https://stackoverflow.com/users/4383027/solomon-vimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2538, "favorite_count": 1, "accepted_answer_id": 48915148, "answer_count": 2, "score": 1, "last_activity_date": 1519346411, "creation_date": 1519245731, "last_edit_date": 1519346411, "question_id": 48915075, "link": "https://stackoverflow.com/questions/48915075/how-to-select-rows-where-items-of-two-columns-match-with-items-of-two-lists-sam", "title": "How to select rows where items of two columns match with items of two lists (same index), using Pandas?", "body": "<p>The question is the same as the one answered <a href=\"https://stackoverflow.com/questions/12065885/filter-dataframe-rows-if-value-in-column-is-in-a-set-list-of-values\">here</a> but extended to two conditionals. This may be tricky because the Pandas method 'isin' cannot be used as that would result in looking at combinations of items in my two lists, while what I want is to compare (and select) the dataframe items corresponding to list items of identical index (e.g. pairs of xn,yn from lists of X=[x1,x2,...xn], Y=[y1,y2,..yn]). The lists can be converted to a dataframe if needed.</p>\n\n<p>Is there a way to generalize this to multiple (more than two) conditionals in Pandas?</p>\n"}, {"tags": ["python", "cisco"], "comments": [{"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1519247445, "post_id": 48915073, "comment_id": 84837434, "body": "look at the message. you are trying to perform <code>rstrip()</code> on a list. <a href=\"http://python-reference.readthedocs.io/en/latest/docs/str/rstrip.html\" rel=\"nofollow noreferrer\"><code>rstrip()</code></a> takes a string, not a list. You must take each element in the list and apply <code>rstrip</code> to it. you should look at how to loop through that list"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519257240, "post_id": 48916402, "comment_id": 84841376, "body": "Hello Lohmar ASHAR,"}, {"owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519257820, "post_id": 48916402, "comment_id": 84841541, "body": "The divice is a Cisco Switch Layer 2. It just can perform ping &quot;X.X.X.X&quot;, and not ping &quot;X.X.X.X&quot; repeat &quot;XXX&quot; size &quot;XXX&quot; like Layer 3 switch. The only way is make the command &quot;ping&quot; and press enter for more options&quot;. (Just like as I posted first). I&#39;ve a SSH connection Stablished and I need to send a remote command to perform this steps to finaly print it. (I mean print command). Many thanks!"}, {"owner": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "reply_to_user": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519286041, "post_id": 48916402, "comment_id": 84850650, "body": "Yes, I know the behavior can vary between devices. I&#39;ve taken a look at the library you are using and added some new idea/info that you could try."}, {"owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519395308, "post_id": 48916402, "comment_id": 84905902, "body": "Hello Lohmar, Thanks for your time. The error appear is: Traceback (most recent call last):   File &quot;Extended.py&quot;, line 19, in &lt;module&gt;     net_connect.send_command(cmd, expect_string=&#39;&#93; ?: ?&#39;)   File &quot;/home/claudio/.local/lib/python2.7/site-packages/netmiko/ba&zwnj;&#8203;se_connection.py&quot;, line 967, in send_command     search_pattern)) IOError: Search pattern never detected in send_command_expect: &#93; ?: ?"}, {"owner": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "reply_to_user": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519407083, "post_id": 48916402, "comment_id": 84913293, "body": "Oh, it&#39;s the ip address line, it doesn&#39;t have a &quot;]&quot; in it... Change to expect_string=&#39;&#93;? ?: ?&#39;, the &quot;?&quot; after the &quot;]&quot; makes it optional."}, {"owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519410907, "post_id": 48916402, "comment_id": 84915038, "body": "Hello Lohmar, It works now but a normal ping. (be like ping X.X.X.X with normal answar &quot;!!!!!&quot;. on each object on string &quot;cmd&quot; (like &quot;ping&quot;, &quot;ip&quot; and so on). It&#39;s necesary apply enter to continue the next parameter. I upload a image with the entire code: (<a href=\"https://imageshack.com/a/img924/746/tDiUL7.png\" rel=\"nofollow noreferrer\">imageshack.com/a/img924/746/tDiUL7.png</a>)"}, {"owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "edited": false, "score": 0, "creation_date": 1519823090, "post_id": 48916402, "comment_id": 85064811, "body": "Hello Lohmar, I solved the issue and I posted like answer. Thanks a lot for your time and help!"}], "tags": [], "owner": {"reputation": 1442, "user_id": 4020610, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LdgzYsM5kJw/AAAAAAAAAAI/AAAAAAAAH4E/Qase_JE27jE/photo.jpg?sz=128", "display_name": "Lohmar ASHAR", "link": "https://stackoverflow.com/users/4020610/lohmar-ashar"}, "is_accepted": false, "score": 0, "last_activity_date": 1519287886, "last_edit_date": 1519287886, "creation_date": 1519251189, "answer_id": 48916402, "question_id": 48915073, "link": "https://stackoverflow.com/questions/48915073/extended-ping-on-cisco-device/48916402#48916402", "title": "Extended ping on Cisco Device", "body": "<p>I haven't used that library, so I'm not sure how it works, I'm using paramiko or telnetlib, depending on the available service on the device.<br>\nMy ping command on Cisco looks something like this:</p>\n\n<pre><code>def ping(dest, count=5, size=None, interval=None, timeout=None, source=None):\n    # ignore the \"interval\" it's there in order to have the same signature \n    # on all devices, Cisco doesn't accept interval parameter \n    cmd = \"ping %s repeat %s\" % (dest, count)\n    for x in [(\"size\", size), (\"timeout\", timeout), (\"source\", source)]:\n        if x[1]:\n            cmd += \" %s %s\" % x\n    cmd += \" validate\"\n    # the \"validate\" seemed to be required in order to get extra statistics \n    # run the command, get the output, parse it\n</code></pre>\n\n<p>For example by calling <code>ping(\"8.8.8.8\", 3, 128, 1, 2, \"86.68.86.68\")</code> will end up running <code>ping 8.8.8.8 repeat 3 size 128 timeout 2 source  86.68.86.68 validate</code> on the device.</p>\n\n<p><em>Side note</em>: instead of calling ping with no arguments and wait for the prompts, try adding \"?\" at end of the line (<code>ping ?</code>) in order to discover the available options, pretty much as the bash-completion works with <kbd>Tab</kbd>. I mean, from what I've seen on the devices I've worked with, you don't have to follow the flow, you should be able to execute the ping with one single command invocation.</p>\n\n<p>I've taken look at the library you are using, I've noticed that the <code>send_command</code> accepts an argument <code>expect_string</code> you could use it to detect the new/different prompt, I think that your code should be something like this:</p>\n\n<pre><code>cmds = ['ping', 'ip', 'X.X.X.X','1000','1500','2','n','n' ]\nfor cmd in cmd[:-1] : \n    net_connect.send_command(cmd, expect_string='\\] ?: ?')\noutput = net_connect.send_command(cmds[-1])\n</code></pre>\n\n<p>I've added all the defaults to the list of commands to send. If you don't want to send them, replace them with \"\" (empty strings). </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "is_accepted": false, "score": 0, "last_activity_date": 1519823407, "creation_date": 1519823407, "answer_id": 49030391, "question_id": 48915073, "link": "https://stackoverflow.com/questions/48915073/extended-ping-on-cisco-device/49030391#49030391", "title": "Extended ping on Cisco Device", "body": "<p>I solved the issue and I share with you.</p>\n\n<pre><code>   output = [net_connect.send_command(\"ping\", expect_string='#?'),\n             net_connect.send_command(\"ip\", expect_string=':?'),\n             net_connect.send_command(\"192.168.1.254\", expect_string=':?'),\n             net_connect.send_command(\"1000\", expect_string=':?'),\n             net_connect.send_command(\"1500\", expect_string=':?'),\n             net_connect.send_command(\"2\", expect_string=':?'),\n             net_connect.send_command(\"n\", expect_string=':?'),\n             net_connect.send_command(\"n\", expect_string=':?', delay_factor=140)]\n\nprint output[-1]\n</code></pre>\n\n<p>Best regards</p>\n"}], "owner": {"reputation": 11, "user_id": 9393013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718416818448c55bd44cba936f488905?s=128&d=identicon&r=PG&f=1", "display_name": "ClauNav", "link": "https://stackoverflow.com/users/9393013/claunav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 919, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1519823407, "creation_date": 1519245729, "question_id": 48915073, "link": "https://stackoverflow.com/questions/48915073/extended-ping-on-cisco-device", "title": "Extended ping on Cisco Device", "body": "<p>I'm newbie in Python. I try make a script to perform automatic \"extended ping\".</p>\n\n<p>The manual cisco flow is:</p>\n\n<pre><code>    switch#**ping**\n    Protocol [ip]:\n    Target IP address: **X.X.X.X**\n    Repeat count [5]: **1000**\n    Datagram size [100]: **1500**\n    Timeout in seconds [2]:\n    Extended commands [n]:\n    Sweep range of sizes [n]:\n    ####################Command Start####################\n</code></pre>\n\n<p>I try to use the command: \"net_connect.send_command\" from Netmiko and doesn't work.</p>\n\n<pre><code>    Ping_Extended = [ 'ping','\\n','X.X.X.X','1000','1500','\\n','\\n','\\n' ]\n\n    Ping_TASA = net_connect.send_command(Ping_Extended)\n\n    Error: Traceback (most recent call last):\n    File \"VLAN1.py\", line 124, in &lt;module&gt;\n    Ping_Extended = Ping_Extended.rstrip()\n    AttributeError: 'list' object has no attribute 'rstrip'\n</code></pre>\n\n<p>can Someone help me?. if another method exist please shared me.</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["python", "unit-testing", "nose2"], "comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1519256007, "post_id": 48915033, "comment_id": 84841034, "body": "how about add <code>tests&#47;__init__.py</code>?"}, {"owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1519257177, "post_id": 48915033, "comment_id": 84841358, "body": "I&#39;ve tried that...same error"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1519257748, "post_id": 48915033, "comment_id": 84841524, "body": "<code>nose</code> by default will load files name starts with <code>test_</code>, or none executable, how about change <code>base.py</code> to <code>test_base.py</code>?"}], "owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519245537, "creation_date": 1519245537, "question_id": 48915033, "link": "https://stackoverflow.com/questions/48915033/nose2-cant-locate-base-test-script", "title": "nose2 can&#39;t locate base test script", "body": "<p>I have a test suite for my python app that I run with <a href=\"http://nose2.readthedocs.io/en/latest/usage.html\" rel=\"nofollow noreferrer\">nose2</a>.</p>\n\n<p>I used to have all of the tests in a single file; however, that file was getting over 1500 lines long so I've broken it up into multiple separate files.</p>\n\n<p>The suite used to look like this:</p>\n\n<pre><code>tests/\n    test_all.py\n</code></pre>\n\n<p>And I would run a single test with the following command from just outside the <code>tests</code> directory:</p>\n\n<pre><code>nose2 tests.test_all.MyTestCase.test_something\n</code></pre>\n\n<p>Now my suite looks something like this:</p>\n\n<pre><code>tests/\n    base.py\n    test_inputs.py\n    test_outputs.py\n    test_reports.py\n</code></pre>\n\n<p>Testing <code>base.py</code> (which simply sets up the test class and has no tests itself) works fine:</p>\n\n<pre><code>nose2 tests.base\n</code></pre>\n\n<p>But when I run the following command I get an <code>AttributeError: 'module' object has no attribute 'test_output'</code>:</p>\n\n<pre><code>nose2 tests.test_output\n</code></pre>\n\n<p>Further up the traceback I see the following error: <code>ImportError: No Module named 'base'</code>. How can I tell <code>nose2</code> to use <code>base.py</code>?</p>\n"}, {"tags": ["python", "html", "django", "pycharm"], "comments": [{"owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "edited": false, "score": 0, "creation_date": 1519245657, "post_id": 48915008, "comment_id": 84836522, "body": "Just {% url &#39;edit&#39; todo.id %} in form action, or leave it blank"}], "answers": [{"tags": [], "owner": {"reputation": 6952, "user_id": 5644965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9KaA.jpg?s=128&g=1", "display_name": "Lemayzeur", "link": "https://stackoverflow.com/users/5644965/lemayzeur"}, "is_accepted": true, "score": 0, "last_activity_date": 1519246406, "last_edit_date": 1519246406, "creation_date": 1519245978, "answer_id": 48915141, "question_id": 48915008, "link": "https://stackoverflow.com/questions/48915008/django-url-parameters-in-html-code/48915141#48915141", "title": "Django url parameters in html code", "body": "<p>The problem is there:, do not use \"<strong>request</strong>\", the object sent through context is \"<strong>todo</strong>\":</p>\n\n<pre><code>&lt;form action=\"{% url 'edit' todo.id %}\" method=\"post\"&gt;{% csrf_token %}\n</code></pre>\n\n<p>Or you may leave it blank. Blank means the current displayed views</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\"&gt;{% csrf_token %}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7805631, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a32dedbf7dadc6a28d1368073ce16c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Zelda", "link": "https://stackoverflow.com/users/7805631/zelda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 48915141, "answer_count": 1, "score": 0, "last_activity_date": 1519249229, "creation_date": 1519245409, "last_edit_date": 1519249229, "question_id": 48915008, "link": "https://stackoverflow.com/questions/48915008/django-url-parameters-in-html-code", "title": "Django url parameters in html code", "body": "<p>I am trying to pass the id of a todolist item to my html code so that everything works when I am editing the todolist item and I click submit. </p>\n\n<p><strong>In views.py:</strong></p>\n\n<pre><code>def edit(request, id):\n    todo = Todo.objects.get(id=id)\n    context = {\n        'todo': todo\n    }\n\n    if(request.method == 'POST'):\n        title = request.POST['title']\n        text = request.POST['text']\n\n        todo.title = title\n\n\n        todo.text = text\n\n        todo.save()\n\n        return redirect('/todos')\n\n    else:\n        return render(request, 'edit.html', context)\n</code></pre>\n\n<p><strong>In urls.py:</strong></p>\n\n<pre><code>url(r'^details/(?P&lt;id&gt;\\w{0,50})/edit/$', views.edit, name='edit')\n</code></pre>\n\n<p><strong>In HTML:</strong></p>\n\n<pre><code>&lt;h2&gt;Edit Todo- {{ todo.title }}&lt;/h2&gt;\n\n&lt;form action=\"{% url 'edit' request.todo.id %}\" method=\"post\"&gt;\n{% csrf_token %}\n&lt;label for=\"title\"&gt;Title&lt;/label&gt; &lt;br/&gt;\n\n&lt;input type=\"text\" name=\"title\" id=\"title\"/&gt;\n&lt;br&gt;\n\n&lt;label for=\"text\"&gt;Text&lt;/label&gt; &lt;br/&gt;\n&lt;textarea type=\"text\" name=\"text\" id=\"text\"&gt;&lt;/textarea&gt;\n&lt;br&gt;&lt;br&gt;\n\n&lt;input type=\"submit\" value=\"Submit\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I think the problem is in my url in the html code. I can't figure out how to pass my todolist item's id parameter.</p>\n\n<p>The error I keep getting is </p>\n\n<pre><code>invalid literal for int() with base 10: ''\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["python", "tensorflow", "bounding-box", "object-detection-api"], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 9393009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mandy", "link": "https://stackoverflow.com/users/9393009/mandy"}, "edited": false, "score": 1, "creation_date": 1519270968, "post_id": 48915493, "comment_id": 84844818, "body": "Okay. It seems that output_dict[&#39;detection_boxes&#39;] contains all the overlapping boxes, and that&#39;s why there are so many arrays.Thank you!"}, {"owner": {"reputation": 5359, "user_id": 582917, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/98a347823cd1db90af884b227a29c29e?s=128&d=identicon&r=PG", "display_name": "CMCDragonkai", "link": "https://stackoverflow.com/users/582917/cmcdragonkai"}, "edited": false, "score": 1, "creation_date": 1520464512, "post_id": 48915493, "comment_id": 85331337, "body": "What determines how many overlapping boxes there are? And also why are there so many overlapping boxes, why is this passed to the visualisation layer to merge?"}, {"owner": {"reputation": 1048, "user_id": 10490334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KThPV.png?s=128&g=1", "display_name": "Hensler Software", "link": "https://stackoverflow.com/users/10490334/hensler-software"}, "edited": false, "score": 0, "creation_date": 1556907536, "post_id": 48915493, "comment_id": 98601062, "body": "I know this is an old question, but I thought this may help somebody. You can limit the number of overlapping boxes if you increase the <code>min_score_thresh</code> within the <code>visualize_boxes_and_labels_on_image_array</code> function input variables. By default it is set to <code>0.5</code>, for my project for example, I have had to increase this to <code>0.8</code>."}], "tags": [], "owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "is_accepted": true, "score": 19, "last_activity_date": 1519247280, "creation_date": 1519247280, "answer_id": 48915493, "question_id": 48915003, "link": "https://stackoverflow.com/questions/48915003/get-the-bounding-box-coordinates-in-the-tensorflow-object-detection-api-tutorial/48915493#48915493", "title": "Get the bounding box coordinates in the TensorFlow object detection API tutorial", "body": "<blockquote>\n  <p>I tried printing output_dict['detection_boxes'] but I am not sure what\n  the numbers mean</p>\n</blockquote>\n\n<p>You can check out the code for yourself.  <code>visualize_boxes_and_labels_on_image_array</code> is defined <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/utils/visualization_utils.py\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note that you are passing <code>use_normalized_coordinates=True</code>.  If you trace the function calls, you will see your numbers <code>[ 0.56213236,  0.2780568 ,  0.91445708,  0.69120586]</code> etc. are the values <code>[ymin, xmin, ymax, xmax]</code> where the image coordinates: </p>\n\n<pre><code>(left, right, top, bottom) = (xmin * im_width, xmax * im_width, \n                              ymin * im_height, ymax * im_height)\n</code></pre>\n\n<p>are computed by the function:</p>\n\n<pre><code>def draw_bounding_box_on_image(image,\n                           ymin,\n                           xmin,\n                           ymax,\n                           xmax,\n                           color='red',\n                           thickness=4,\n                           display_str_list=(),\n                           use_normalized_coordinates=True):\n  \"\"\"Adds a bounding box to an image.\n  Bounding box coordinates can be specified in either absolute (pixel) or\n  normalized coordinates by setting the use_normalized_coordinates argument.\n  Each string in display_str_list is displayed on a separate line above the\n  bounding box in black text on a rectangle filled with the input 'color'.\n  If the top of the bounding box extends to the edge of the image, the strings\n  are displayed below the bounding box.\n  Args:\n    image: a PIL.Image object.\n    ymin: ymin of bounding box.\n    xmin: xmin of bounding box.\n    ymax: ymax of bounding box.\n    xmax: xmax of bounding box.\n    color: color to draw bounding box. Default is red.\n    thickness: line thickness. Default value is 4.\n    display_str_list: list of strings to display in box\n                      (each to be shown on its own line).\n    use_normalized_coordinates: If True (default), treat coordinates\n      ymin, xmin, ymax, xmax as relative to the image.  Otherwise treat\n      coordinates as absolute.\n  \"\"\"\n  draw = ImageDraw.Draw(image)\n  im_width, im_height = image.size\n  if use_normalized_coordinates:\n    (left, right, top, bottom) = (xmin * im_width, xmax * im_width,\n                                  ymin * im_height, ymax * im_height)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1003, "user_id": 1693021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc3c95371ee0c141d5e41f656be3cbcb?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/1693021/vadim"}, "is_accepted": false, "score": 7, "last_activity_date": 1560921786, "creation_date": 1560921786, "answer_id": 56660514, "question_id": 48915003, "link": "https://stackoverflow.com/questions/48915003/get-the-bounding-box-coordinates-in-the-tensorflow-object-detection-api-tutorial/56660514#56660514", "title": "Get the bounding box coordinates in the TensorFlow object detection API tutorial", "body": "<p>I've got exactly the same story. Got an array with roughly hundred boxes (<code>output_dict['detection_boxes']</code>)  when only one was displayed on an image. Digging deeper into code which is drawing a rectangle was able to extract that and use in my <code>inference.py</code>:</p>\n\n<pre><code>#so detection has happened and you've got output_dict as a\n# result of your inference\n\n# then assume you've got this in your inference.py in order to draw rectangles\nvis_util.visualize_boxes_and_labels_on_image_array(\n    image_np,\n    output_dict['detection_boxes'],\n    output_dict['detection_classes'],\n    output_dict['detection_scores'],\n    category_index,\n    instance_masks=output_dict.get('detection_masks'),\n    use_normalized_coordinates=True,\n    line_thickness=8)\n\n# This is the way I'm getting my coordinates\nboxes = output_dict['detection_boxes']\n# get all boxes from an array\nmax_boxes_to_draw = boxes.shape[0]\n# get scores to get a threshold\nscores = output_dict['detection_scores']\n# this is set as a default but feel free to adjust it to your needs\nmin_score_thresh=.5\n# iterate over all objects found\nfor i in range(min(max_boxes_to_draw, boxes.shape[0])):\n    # \n    if scores is None or scores[i] &gt; min_score_thresh:\n        # boxes[i] is the box which will be drawn\n        class_name = category_index[output_dict['detection_classes'][i]]['name']\n        print (\"This box is gonna get used\", boxes[i], output_dict['detection_classes'][i])\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 9393009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mandy", "link": "https://stackoverflow.com/users/9393009/mandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33806, "favorite_count": 11, "accepted_answer_id": 48915493, "answer_count": 2, "score": 23, "last_activity_date": 1560921786, "creation_date": 1519245383, "question_id": 48915003, "link": "https://stackoverflow.com/questions/48915003/get-the-bounding-box-coordinates-in-the-tensorflow-object-detection-api-tutorial", "title": "Get the bounding box coordinates in the TensorFlow object detection API tutorial", "body": "<p>I am new to both python and Tensorflow. I am trying to run the object_detection_tutorial file from the <a href=\"https://github.com/tensorflow/models/tree/master/research/object_detection\" rel=\"noreferrer\">Tensorflow Object Detection API</a>,\nbut I cannot find where I can get the coordinates of the bounding boxes when objects are detected.</p>\n\n<p>Relevant code:</p>\n\n<pre><code> # The following processing is only for single image\n        detection_boxes = tf.squeeze(tensor_dict['detection_boxes'], [0])\n        detection_masks = tf.squeeze(tensor_dict['detection_masks'], [0])\n</code></pre>\n\n<p>...</p>\n\n<p>The place where I assume bounding boxes are drawn is like this:</p>\n\n<pre><code> # Visualization of the results of a detection.\n  vis_util.visualize_boxes_and_labels_on_image_array(\n      image_np,\n      output_dict['detection_boxes'],\n      output_dict['detection_classes'],\n      output_dict['detection_scores'],\n      category_index,\n      instance_masks=output_dict.get('detection_masks'),\n      use_normalized_coordinates=True,\n      line_thickness=8)\n  plt.figure(figsize=IMAGE_SIZE)\n  plt.imshow(image_np)\n</code></pre>\n\n<p>I tried printing output_dict['detection_boxes'] but I am not sure what the numbers mean. There are a lot.</p>\n\n<pre><code>array([[ 0.56213236,  0.2780568 ,  0.91445708,  0.69120586],\n       [ 0.56261235,  0.86368728,  0.59286624,  0.8893863 ],\n       [ 0.57073039,  0.87096912,  0.61292225,  0.90354401],\n       [ 0.51422435,  0.78449738,  0.53994244,  0.79437423],\n</code></pre>\n\n<p>......</p>\n\n<pre><code>   [ 0.32784131,  0.5461576 ,  0.36972913,  0.56903434],\n   [ 0.03005961,  0.02714229,  0.47211722,  0.44683522],\n   [ 0.43143299, 0.09211366,  0.58121657,  0.3509962 ]], dtype=float32)\n</code></pre>\n\n<p>I found answers for similar questions, but I don't have a variable called boxes as they do. How can I get the coordinates? Thank you!</p>\n"}, {"tags": ["python", "pyqt", "pyqt5"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519245849, "post_id": 48915001, "comment_id": 84836619, "body": "Where do you want to send status?"}, {"owner": {"reputation": 21, "user_id": 9393010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0b2fc1f2af1f8fe5d0c8bdc86e5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Keln", "link": "https://stackoverflow.com/users/9393010/keln"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519246370, "post_id": 48915001, "comment_id": 84836915, "body": "I thought that it does not really matter. At least simple print() it."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519246412, "post_id": 48915001, "comment_id": 84836936, "body": "But where do you want to print it?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1519246687, "post_id": 48915001, "comment_id": 84837061, "body": "Define the signal in <code>MyClass</code> (which will also need to inherit <code>QObject</code>). Then you can do <code>self.mysignal.emit(i)</code>. And note that the syntax for defining the signal should be like this: <code>mysignal = QtCore.pyqtSignal(int)</code>."}, {"owner": {"reputation": 21, "user_id": 9393010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0b2fc1f2af1f8fe5d0c8bdc86e5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Keln", "link": "https://stackoverflow.com/users/9393010/keln"}, "edited": false, "score": 0, "creation_date": 1519247123, "post_id": 48915001, "comment_id": 84837282, "body": "Thanks. Is there any way to make it without define that signal to MyClass?"}], "owner": {"reputation": 21, "user_id": 9393010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0b2fc1f2af1f8fe5d0c8bdc86e5e8c?s=128&d=identicon&r=PG&f=1", "display_name": "Keln", "link": "https://stackoverflow.com/users/9393010/keln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519246678, "creation_date": 1519245380, "last_edit_date": 1519246678, "question_id": 48915001, "link": "https://stackoverflow.com/questions/48915001/emit-signals-from-another-working-class-pyqt5", "title": "Emit signals from another working class PyQt5", "body": "<p>Here is my thread class:</p>\n\n<pre><code>import PyQt5\n\nclass WorkThread(QtCore.QThread):\n\n    mysignal = QtCore.pyqtSignal\n\n    def __init__(self, data):\n        QtCore.QThread.__init__(self)\n        self.session = MyClass(data)\n\n    def __del__(self):\n        self.wait()\n\n    def run(self):\n        self.session.worker()\n</code></pre>\n\n<p>My worker class:</p>\n\n<pre><code>class MyClass():\n\n    def __init__(self, data):\n        self.session = data\n        self.status = ''\n\n    def worker(self):\n        i = 0\n        while True:\n            self.status = i\n            i = i + 1\n            time.sleep(1)\n</code></pre>\n\n<p>Is there any way to emit <code>self.status</code> from <code>MyClass</code> while <code>worker</code> is running? Emit it many times? I have researched a lot of information about signals in PyQt5, but I have not found a solution. </p>\n"}, {"tags": ["python", "image-processing", "ocr"], "comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1519246272, "post_id": 48914995, "comment_id": 84836855, "body": "There are many questions about this topic... what have you tried and didn&#39;t work... and explain why it didn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "is_accepted": true, "score": 2, "last_activity_date": 1519245559, "creation_date": 1519245559, "answer_id": 48915039, "question_id": 48914995, "link": "https://stackoverflow.com/questions/48914995/filenotfounderror-errno-2-no-such-file-or-directory-tesseract/48915039#48915039", "title": "FileNotFoundError: [Errno 2] No such file or directory: &#39;tesseract&#39;", "body": "<p>I believe PyTesseract requires you to have the tesseract library installed on your system - PyTesseract is trying to run the command-line interface but it can't find it presumably because you have only installed the python bindings. </p>\n\n<p>If you are on an Ubuntu/Debian-based system, you can try:</p>\n\n<p><code>sudo apt-get install tesseract-ocr</code></p>\n\n<p>You can check the Tesseract installation docs for more info: <a href=\"https://github.com/tesseract-ocr/tesseract/wiki\" rel=\"nofollow noreferrer\">https://github.com/tesseract-ocr/tesseract/wiki</a></p>\n"}], "owner": {"reputation": 33, "user_id": 7631291, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1UKSrF-KNU0/AAAAAAAAAAI/AAAAAAAABF0/lU3pE5DuV0M/photo.jpg?sz=128", "display_name": "HASAN LATIF", "link": "https://stackoverflow.com/users/7631291/hasan-latif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 48915039, "answer_count": 1, "score": 2, "last_activity_date": 1519245559, "creation_date": 1519245337, "question_id": 48914995, "link": "https://stackoverflow.com/questions/48914995/filenotfounderror-errno-2-no-such-file-or-directory-tesseract", "title": "FileNotFoundError: [Errno 2] No such file or directory: &#39;tesseract&#39;", "body": "<p>i have installed the tasseract using</p>\n\n<pre><code>pip install pytesseract\n</code></pre>\n\n<p>whenever i tried to run this piece of code</p>\n\n<pre><code>from PIL import Image\nimport pytesseract\nim = Image.open('hasan1.jpg')\nprint (pytesseract.image_to_string(im))\n</code></pre>\n\n<p>I got these errors.</p>\n\n<pre><code> Traceback (most recent call last):\n File \"ocr.py\", line 34, in &lt;module&gt;\n text = pytesseract.image_to_string(Image.open(filename))\n File \"/home/hasans/.virtualenvs/cv/local/lib/python3.5/site-\n packages/pytesseract/pytesseract.py\", line 193, in image_to_string\n return run_and_get_output(image, 'txt', lang, config, nice)\n File \"/home/hasans/.virtualenvs/cv/local/lib/python3.5/site-\n packages/pytesseract/pytesseract.py\", line 140, in run_and_get_output\n run_tesseract(**kwargs)\n File \"/home/hasans/.virtualenvs/cv/local/lib/python3.5/site-\n packages/pytesseract/pytesseract.py\", line 111, in run_tesseract\n proc = subprocess.Popen(command, stderr=subprocess.PIPE)\n File \"/usr/lib/python3.5/subprocess.py\", line 947, in __init__\n restore_signals, start_new_session)\n File \"/usr/lib/python3.5/subprocess.py\", line 1551, in _execute_child\n raise child_exception_type(errno_num, err_msg)\n FileNotFoundError: [Errno 2] No such file or directory: 'tesseract'\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "dataset"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8846388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a1562e093505ab907a01494a32be13d?s=128&d=identicon&r=PG", "display_name": "Yan Facai \u989c\u53d1\u624d", "link": "https://stackoverflow.com/users/8846388/yan-facai-%e9%a2%9c%e5%8f%91%e6%89%8d"}, "is_accepted": true, "score": 1, "last_activity_date": 1519258429, "creation_date": 1519258429, "answer_id": 48917633, "question_id": 48914952, "link": "https://stackoverflow.com/questions/48914952/num-buckets-as-a-parameter-in-a-tensorflow-feature-column/48917633#48917633", "title": "num_buckets as a parameter in a tensorflow feature column", "body": "<p>If <code>list_of_unique_values_in_the_column</code> is known, you can save them in one file and read by <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/tf/feature_column/categorical_column_with_vocabulary_file\" rel=\"nofollow noreferrer\"> tf.feature_column.categorical_column_with_vocabulary_file</a>. If unknown, you can use <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/tf/feature_column/categorical_column_with_hash_bucket\" rel=\"nofollow noreferrer\"> tf.feature_column.categorical_column_with_hash_bucket </a> with a large enough size.</p>\n"}], "owner": {"reputation": 1880, "user_id": 2175173, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/qvytE.jpg?s=128&g=1", "display_name": "Vincent Teyssier", "link": "https://stackoverflow.com/users/2175173/vincent-teyssier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 48917633, "answer_count": 1, "score": 0, "last_activity_date": 1519258429, "creation_date": 1519245111, "question_id": 48914952, "link": "https://stackoverflow.com/questions/48914952/num-buckets-as-a-parameter-in-a-tensorflow-feature-column", "title": "num_buckets as a parameter in a tensorflow feature column", "body": "<p>Currently Tensorflow documentation define a categorical vocabulary column this way:</p>\n\n<pre><code>vocabulary_feature_column =\ntf.feature_column.categorical_column_with_vocabulary_list(\n    key=\"feature_name_from_input_fn\",\n    vocabulary_list=[\"kitchenware\", \"electronics\", \"sports\"]) \n</code></pre>\n\n<p>However this suppose that we input manually the vocabulary list.\nIn case of large dataset with many columns and many unique values I would like to automate the process this way:</p>\n\n<pre><code>for k in categorical_feature_names:\n    vocabulary_feature_column =\n        tf.feature_column.categorical_column_with_vocabulary_list(\n        key=\"feature_name_from_input_fn\",\n        vocabulary_list=list_of_unique_values_in_the_column) \n</code></pre>\n\n<p>To do so I need to retrieve the parameter <code>list_of_unique_values_in_the_column</code>.\nIs there anyway to do that with Tensorflow? </p>\n\n<p>I know there is tf.unique that could return unique values in a tensor but I don't get how I could feed the column to it so it returns the right vocabulary list.</p>\n"}, {"tags": ["python", "web-scraping"], "comments": [{"owner": {"reputation": 667, "user_id": 5128131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e58e001616a832afa296ca4bb40b8707?s=128&d=identicon&r=PG&f=1", "display_name": "mxbi", "link": "https://stackoverflow.com/users/5128131/mxbi"}, "edited": false, "score": 0, "creation_date": 1519245381, "post_id": 48914936, "comment_id": 84836385, "body": "I would try <code>tag[&#39;result&#39;][&#39;url&#39;]</code>"}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1519245990, "post_id": 48914936, "comment_id": 84836704, "body": "It is in the link not the parent <code>h3</code> tag, isn&#39;t it?"}, {"owner": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "edited": false, "score": 0, "creation_date": 1519246353, "post_id": 48914936, "comment_id": 84836904, "body": "I have added a picture now"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1519246511, "post_id": 48914936, "comment_id": 84836971, "body": "Please do not post pictures and screenshots of code. Also, show what have you tried, and what is the problem you&#39;re facing."}, {"owner": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "edited": false, "score": 0, "creation_date": 1519246770, "post_id": 48914936, "comment_id": 84837100, "body": "Okay, I will add my code and output , thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "edited": false, "score": 0, "creation_date": 1519248445, "post_id": 48915424, "comment_id": 84837929, "body": "Thanks for your response Todor, for this line of code - data-hydro = g_data[0][&#39;data-hydro-click&#39;] , I get following error: can&#39;t assign to operator"}, {"owner": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "edited": false, "score": 1, "creation_date": 1519253105, "post_id": 48915424, "comment_id": 84840017, "body": "follwoing code worked:                                                                      datahydro = g_data[0][&#39;data-hydro-click&#39;] datahydro = json.loads(datahydro) print(datahydro[&#39;payload&#39;][&#39;result&#39;][&#39;url&#39;])"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "reply_to_user": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "edited": false, "score": 0, "creation_date": 1519273228, "post_id": 48915424, "comment_id": 84845487, "body": "My mistake, used an illegal character in the variable name; thanks for pointing it out."}], "tags": [], "owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "is_accepted": true, "score": 1, "last_activity_date": 1519273259, "last_edit_date": 1519273259, "creation_date": 1519246978, "answer_id": 48915424, "question_id": 48914936, "link": "https://stackoverflow.com/questions/48914936/extracting-url-using-beautifulsoup/48915424#48915424", "title": "extracting url using beautifulsoup", "body": "<p>Get the value of the attribute, <code>json.loads()</code> it and work with it as a regular python dict:</p>\n\n<pre><code>import json\n# your other code, up to setting the g_data\n\ndata_hydro = g_data[0]['data-hydro-click']\ndata_hydro = json.loads(data_hydro)\nprint(data_hydro['payload']['result']['url'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 9311480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLJyE.jpg?s=128&g=1", "display_name": "onepan", "link": "https://stackoverflow.com/users/9311480/onepan"}, "is_accepted": false, "score": 1, "last_activity_date": 1519247003, "creation_date": 1519247003, "answer_id": 48915433, "question_id": 48914936, "link": "https://stackoverflow.com/questions/48914936/extracting-url-using-beautifulsoup/48915433#48915433", "title": "extracting url using beautifulsoup", "body": "<p>It's inside a json string, that's why it's hard to get at</p>\n\n<pre><code>html = \"\"\"\n&lt;h3&gt;\n&lt;a href=\"/freeCodeCamp/freeCodeCamp\" class=\"v-align-middle\"data-hydro-click=\"{&amp;quot;event_type&amp;quot;:&amp;quot;search_result.click&amp;quot;,&amp;quot;payload&amp;quot;:{&amp;quot;page_number&amp;quot;:1,&amp;quot;query&amp;quot;:&amp;quot;stars:&gt;1&amp;quot;,&amp;quot;result_position&amp;quot;:1,&amp;quot;click_id&amp;quot;:28457823,&amp;quot;result&amp;quot;:{&amp;quot;id&amp;quot;:28457823,&amp;quot;global_relay_id&amp;quot;:&amp;quot;MDEwOlJlcG9zaXRvcnkyODQ1NzgyMw==&amp;quot;,&amp;quot;model_name&amp;quot;:&amp;quot;Repository&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;https://github.com/freeCodeCamp/freeCodeCamp&amp;quot;},&amp;quot;originating_request_id&amp;quot;:&amp;quot;EB94:4DE3:1D61C50:2AEAFBA:5A8D8E31&amp;quot;}}\" data-hydro-hmac=\"2b170325f8ff481731dd5f65d85e7e94a356f75bdafce1f9c5cc60d112cbc2f8\"&gt;freeCodeCamp/freeCodeCamp&lt;/a&gt;\n&lt;/h3&gt;\n\"\"\"\nsoup = BeautifulSoup(html, 'lxml')\nparsed_json = json.loads(soup.a.get('data-hydro-click'))\nparsed_json['payload']['result']['url']\n# returns 'https://github.com/freeCodeCamp/freeCodeCamp'\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9393100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fMUdsI3OKhE/AAAAAAAAAAI/AAAAAAAAARg/ySGK_4XDrsA/photo.jpg?sz=128", "display_name": "Vivek Mishal", "link": "https://stackoverflow.com/users/9393100/vivek-mishal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 48915424, "answer_count": 2, "score": 1, "last_activity_date": 1519273539, "creation_date": 1519245064, "last_edit_date": 1519273539, "question_id": 48914936, "link": "https://stackoverflow.com/questions/48914936/extracting-url-using-beautifulsoup", "title": "extracting url using beautifulsoup", "body": "<p>With this code:</p>\n\n<pre><code>url = \"https://github.com/searcho=desc&amp;p=1&amp;q=stars%3A%3E1&amp;s=stars&amp;type=Repositoris\"\nwith urllib.request.urlopen(url) as response:\n\nhtml = response.read()\nhtml = html.decode('utf-8')\n\nwith open('page_content.html', 'w', encoding='utf-8') as new_file:\n\n    new_file.write(html)\n\nsoup = BeautifulSoup(html,'lxml')\n\ng_data= soup.findAll(\"a\", {\"class\":\"v-align-middle\"})\n\nprint(g_data[0])\n</code></pre>\n\n<p>The output is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a class=\"v-align-middle\" data-hydro-click='{\"event_type\":\"search_result.click\",\"payload\":{\"page_number\":1,\"query\":\"stars:&amp;gt;1\",\"result_position\":1,\"click_id\":28457823,\"result\":{\"id\":28457823,\"global_relay_id\":\"MDEwOlJlcG9zaXRvcnkyODQ1NzgyMw==\",\"model_name\":\"Repository\",\"url\":\"https://github.com/freeCodeCamp/freeCodeCamp\"},\"originating_request_id\":\"ECC6:1DF24:CE9C0F:1667572:5A8DDD6F\"}}' data-hydro-hmac=\"42c4e038b86cefc302d5637e870e6d746ee7fa95eadf2b26930cb893c6a3bc53\" href=\"/freeCodeCamp/freeCodeCamp\"&gt;freeCodeCamp/freeCodeCamp&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How do I extract below url from the output:\n<a href=\"https://github.com/freeCodeCamp/freeCodeCamp\" rel=\"nofollow noreferrer\">https://github.com/freeCodeCamp/freeCodeCamp</a> </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "class", "methods", "count"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519244965, "post_id": 48914862, "comment_id": 84836162, "body": "You can make your <code>Facility</code> objects iterable directly, but you can just iterate over <code>my_facility_object.records</code> as well"}], "answers": [{"tags": [], "owner": {"reputation": 898, "user_id": 545237, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/tyoag.jpg?s=128&g=1", "display_name": "BrokenRobot", "link": "https://stackoverflow.com/users/545237/brokenrobot"}, "is_accepted": false, "score": 0, "last_activity_date": 1519247438, "last_edit_date": 1519247438, "creation_date": 1519245604, "answer_id": 48915043, "question_id": 48914862, "link": "https://stackoverflow.com/questions/48914862/trying-to-iterate-over-a-list-attached-to-an-object-under-a-variable-class/48915043#48915043", "title": "Trying to iterate over a list attached to an object under a variable class(?)", "body": "<blockquote>\n  <p>[Facility 00312 US Aggregates Inc 4]</p>\n  \n  <p>The issue I'm having is understanding how to iterate over the\n  Facilities to count the records of the water sources appended to each\n  Facilities object.</p>\n</blockquote>\n\n<p>From my understanding, simply add a method and return a count of the objects or straight up count the records using <strong>len</strong> unless there is something more to what you are asking for?</p>\n\n<pre><code>class Facilities:\n  def __init__(self, regno, name, mwu):  ##creates facility attributes\n      self.regno = regno\n      self.name = name\n      self.mwu = mwu\n      self.records = []\n\n  def add_record(self,record):\n      self.records.append(record)\n\n  def __repr__(self):\n      '''Makes a string representation'''\n      return 'Facility {0} {1} {2} {3}'.format(self.regno, self.name, self.mwu , len(self.records))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6837272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97cd715951ff168ace7a2243d2091bba?s=128&d=identicon&r=PG&f=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/6837272/alicia"}, "edited": false, "score": 0, "creation_date": 1519253463, "post_id": 48915219, "comment_id": 84840146, "body": "Thanks!  This worked great.  I guess I just didn&#39;t think about being able to ask for the len(facility.records).  I appreciate your help!  Also the dict items method link was really helpful as well!"}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 0, "last_activity_date": 1519247764, "last_edit_date": 1519247764, "creation_date": 1519246257, "answer_id": 48915219, "question_id": 48914862, "link": "https://stackoverflow.com/questions/48914862/trying-to-iterate-over-a-list-attached-to-an-object-under-a-variable-class/48915219#48915219", "title": "Trying to iterate over a list attached to an object under a variable class(?)", "body": "<p>All of your Facilities are stored as values in the dictionary <code>data</code> using the facility's <em>RegNo</em> for the keys.  You can iterate over all the data using the <a href=\"https://docs.python.org/3/library/stdtypes.html#dict.items\" rel=\"nofollow noreferrer\">dictionary items method</a>.  The length of each facility's <code>records</code> attribute is the number of water sources.  You can build a format string to use the information you need.</p>\n\n<pre><code>for reg_no, facility in data.items():\n    no_of_sources = len(facility.records)\n    print(f'Facility {facility.regno} {facility.name} {no_of_sources}')    #Python v3.6+\n    #print('Facility {} {} {}'.format(facility.regno, facility.name, no_of_sources))    #Python versions &lt;3.6\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6837272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97cd715951ff168ace7a2243d2091bba?s=128&d=identicon&r=PG&f=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/6837272/alicia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519247764, "creation_date": 1519244796, "last_edit_date": 1519245364, "question_id": 48914862, "link": "https://stackoverflow.com/questions/48914862/trying-to-iterate-over-a-list-attached-to-an-object-under-a-variable-class", "title": "Trying to iterate over a list attached to an object under a variable class(?)", "body": "<p>Full code is at the end.</p>\n\n<p>I've written a program that reads in data from a csv file.  It creates a class of variable called \"Facility\".  Each facility can have multiple water sources, so there is another class called \"WaterSource\" which appends a list of attributes for an individual water source to each Facility.  If I call :\n<code>data['00312']</code> </p>\n\n<p>I get output:</p>\n\n<pre><code>Facility 00312 US Aggregates Inc IN\n</code></pre>\n\n<p>If I ask for <code>data['00312'].records</code>:</p>\n\n<pre><code>[ WaterSource 00312 WELL Willshire 80  683175 4511625,\nWaterSource 00312 WELL Willshire 80  682550 4511750,\nWaterSource 00312 INTAKE Willshire 1200 Unnamed Quarry 683225 4512075,\nWaterSource 00312 INTAKE Willshire 1200 Unnamed Quarry 683225 4512050]\n</code></pre>\n\n<p>I need to create a report that iterates over every variable in the class and returns a list of Facilities that have multiple water sources.  Thus the final output would a list of [RegNo, Facility Name, No. of WaterSources] such as:</p>\n\n<p>[Facility 00312 US Aggregates Inc 4]</p>\n\n<p>The issue I'm having is understanding how to iterate over the Facilities to count the records of the water sources appended to each Facilities object.  I think I could add a method into the class somewhere, but I can't quite figure out where.  I'm a python beginner, so please forgive me if this isn't quite  the right vocabulary.  I'm not even sure where to start, so any suggestions you could offer would be helpful.</p>\n\n<pre><code>class Facilities:\n\n    def __init__(self, regno, name, mwu):  ##creates facility attributes\n        self.regno = regno\n        self.name = name\n        self.mwu = mwu\n        self.records = []\n\n    def add_record(self,record):\n        self.records.append(record)\n\n    def __repr__(self):\n        '''Makes a string representation'''\n        return 'Facility {0} {1} {2}'.format(self.regno, self.name, self.mwu)\n\nclass WaterSource(Facility):\n    '''holds info about the water source'''\n    def __init__(self, regno, source, quad, cap, body, utmE, utmN):  ##creates water source attributes \n        self.regno = regno\n        self.source = source\n        self.quad = quad\n        self.cap = cap\n        self.body = body\n        self.utmE = utmE\n        self.utmN = utmN\n        self.records = []\n\n    def source_data(self):\n        regnos = []\n        sources = []\n        quads = []\n        caps = [] \n        bodies = []\n        utmEs = []\n        utmNs = []\n        for record in self.records:\n            regnos.append(record.regno)\n            sources.append(record.source)\n            quads.append(record.quad)\n            caps.append(record.cap)\n            bodies.append(record.body)\n            utmEs.append(record.utmE)\n            utmNs.append(record.utmN)\n        return (regnos,sources,quads,caps,bodies,utmEs,utmNs)\n\n    def __repr__(self):\n        return ' WaterSource {0} {1} {2} {3} {4} {5} {6}'.format(self.regno, \\\n                                        self.source, self.quad, self.cap, self.body, self.utmE, self.utmN)\n\ndef read_data(filename):\n    rv = {}\n    for r in csv.DictReader(open(filename, 'r', encoding='UTF-8')):\n        regno = r['RegNo']\n        if r['RegNo'] not in rv:\n            rv[regno] = Facilities(r['RegNo'],r['Facility'], r['MWU Code'])\n        rv[regno].add_record(WaterSource(regno, r['Source Code'], r['Quadrangle'], \\\n                                    r['Capacity (GPM)'], r['Water Body Name'], r['UTM East'], r['UTM North']))\n\n    return rv\ndata = read_data('Fac-2013-2016.csv')\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 2, "creation_date": 1519244808, "post_id": 48914851, "comment_id": 84836088, "body": "Add lazy quantifier <code>.*?</code> or use a negated character class <code>[^;]*</code>. Also, if you&#39;re only looking for the value only, you can use <code>(?&lt;=gene=)</code> instead of <code>gene=</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519245762, "post_id": 48914851, "comment_id": 84836576, "body": "the <code>+</code> and <code>*</code> quantifiers are by default greedy, to make them lazy, use <code>?</code>, so something like: <code>re.search(r&quot;gene=.+?;&quot;, s)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": false, "score": 1, "last_activity_date": 1519244883, "creation_date": 1519244883, "answer_id": 48914890, "question_id": 48914851, "link": "https://stackoverflow.com/questions/48914851/python-regular-expression-for-gene-name-extraction/48914890#48914890", "title": "Python Regular Expression for Gene Name Extraction", "body": "<p><strong>Using zero-width lookarounds:</strong></p>\n\n<pre><code>(?&lt;=;)gene=[^;]+(?=;)\n</code></pre>\n\n<ul>\n<li><p>Positive lookbehind, <code>(?&lt;=;)</code>, matches the <code>;</code> before <code>gene=...</code></p></li>\n<li><p><code>gene=[^;]+</code> matches the desired portion starting from <code>gene=</code> upto next <code>;</code></p></li>\n<li><p>Zero width positive lookahead, <code>(?=;)</code>, makes sure the match is followed by <code>;</code></p></li>\n</ul>\n\n<p><strong>Without lookarounds, with captured grouping:</strong></p>\n\n<pre><code>;(gene=[^;]+);\n</code></pre>\n\n<p>Now, you need to get the first (only) captured group.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>In [4]: str_ = r'Chr1 0  100 gene49 Gnomon gene  ID=gene49;Name=LOC101947233;Dbxref=GeneID:101947233;gbkey=Gene;gene=LOC444342;part=1%2F1'\n\nIn [5]: re.search(r'(?&lt;=;)gene=[^;]+(?=;)', str_).group()\nOut[5]: 'gene=LOC444342'\n\nIn [6]: re.search(r';(gene=[^;]+);', str_).group(1)\nOut[6]: 'gene=LOC444342'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 0, "creation_date": 1519245069, "post_id": 48914914, "comment_id": 84836222, "body": "As per OP, <code>gene=</code> needs to be selected too i think. See my answer."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "reply_to_user": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 1, "creation_date": 1519245135, "post_id": 48914914, "comment_id": 84836264, "body": "@heemayl my answer includes an option to have <code>gene=</code> included in the match. I&#39;ve made it more apparent."}], "tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": true, "score": 3, "last_activity_date": 1519245449, "last_edit_date": 1519245449, "creation_date": 1519244995, "answer_id": 48914914, "question_id": 48914851, "link": "https://stackoverflow.com/questions/48914851/python-regular-expression-for-gene-name-extraction/48914914#48914914", "title": "Python Regular Expression for Gene Name Extraction", "body": "<p>Your current regex is <strong>greedy</strong> (<code>.*</code>), so it's matching as much as possible (everything after <code>gene=</code> and up to the <em>last occurrence</em> of <code>;</code>). You can make your <code>.*</code> lazy by adding the lazy quantifier <code>?</code> as such: <code>.*?</code>. There exists, however, better options (reducing the number of steps until a match is found) since lazy quantifiers backtrack.</p>\n\n<p><strong>Option 1</strong></p>\n\n<p><a href=\"https://regex101.com/r/4cPl1V/1\" rel=\"nofollow noreferrer\">See regex in use here</a></p>\n\n<pre><code>(?&lt;=gene=)[^;]+\n</code></pre>\n\n<ul>\n<li><code>(?&lt;=gene=)</code> Positive lookbehind ensuring what precedes matches <code>gene=</code> literally</li>\n<li><code>[^;]+</code> Match any character except <code>;</code> one or more times</li>\n</ul>\n\n<p>Result: <code>LOC444342</code></p>\n\n<p><strong>Option 2</strong></p>\n\n<p>Including <code>gene=</code> and <code>;</code> in the match, you can use the following as <a href=\"https://regex101.com/r/4cPl1V/2\" rel=\"nofollow noreferrer\">seen in use here</a></p>\n\n<pre><code>gene=[^;]*;\n</code></pre>\n\n<p>Result: <code>gene=LOC444342;</code></p>\n"}], "owner": {"reputation": 401, "user_id": 8521888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/141657dc5abd5858003e5e313f379bba?s=128&d=identicon&r=PG&f=1", "display_name": "Steveman30290", "link": "https://stackoverflow.com/users/8521888/steveman30290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 48914914, "answer_count": 2, "score": 0, "last_activity_date": 1519245449, "creation_date": 1519244729, "question_id": 48914851, "link": "https://stackoverflow.com/questions/48914851/python-regular-expression-for-gene-name-extraction", "title": "Python Regular Expression for Gene Name Extraction", "body": "<p>I have a text file: </p>\n\n<pre><code>Chr1 0  100 gene49 Gnomon gene  ID=gene49;Name=LOC101947233;Dbxref=GeneID:101947233;gbkey=Gene;gene=LOC444342;part=1%2F1\n</code></pre>\n\n<p>I am trying to extract only the gene name from each line (so I want to extract gene=LOC444342, and that's it.) </p>\n\n<p>I've been using the following regular expression:</p>\n\n<pre><code> gene=.*;\n</code></pre>\n\n<p>However, it keeps extracting the following:</p>\n\n<pre><code>gene=LOC444342;part=1%2F1\n</code></pre>\n\n<p>Obviously I dont want anything after the ;.</p>\n\n<p>Any help? </p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "multiprocessing", "winsound"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1519245195, "post_id": 48914833, "comment_id": 84836294, "body": "The <code>multiprocessing</code> module on Windows absolutely requires that there be NO top-level code in your script outside of an <code>if __name__ == &quot;__main__&quot;:</code> block."}, {"owner": {"reputation": 1037, "user_id": 7496549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f18728cabadb34408b51d9109243f195?s=128&d=identicon&r=PG&f=1", "display_name": "Minion Jim", "link": "https://stackoverflow.com/users/7496549/minion-jim"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1519245376, "post_id": 48914833, "comment_id": 84836380, "body": "I added this as recommended but it still didn&#39;t run my <code>actualPlaySound</code> method"}], "owner": {"reputation": 1037, "user_id": 7496549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f18728cabadb34408b51d9109243f195?s=128&d=identicon&r=PG&f=1", "display_name": "Minion Jim", "link": "https://stackoverflow.com/users/7496549/minion-jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519244651, "creation_date": 1519244651, "question_id": 48914833, "link": "https://stackoverflow.com/questions/48914833/threading-tkinter-and-winsound", "title": "Threading, tkinter and winsound", "body": "<p>I am trying to create a program that plays sound and shows the wave. However, when I try to call the <code>multiprocessing.Process</code> method so that I can cancel the playback if the user clicks the play button before the sound has finished. However, instead of calling my <code>actualPlaySound</code> method, it seems to recall my code and another <code>tkinter</code> window opens. Please help!</p>\n\n<pre><code>from tkinter import *\nimport math, time, threading, winsound, os, multiprocessing\ndef update ():\n    global modded\n    if not modded:\n        modded = True\n        stringAmplitude.set (str (amplitude.get ()))\n        stringFrequency.set (str (frequency.get ()))\n        modded = False\n    c.delete (ALL)\n    width, height = c.winfo_width (), c.winfo_height () / 2\n    freq = frequency.get ()\n    c.create_line (0, 25, width, 25)\n    c.create_polygon (15, 10, 0, 25, 15, 40)\n    c.create_polygon (width - 15, 10, width, 25, width - 15, 40)\n    if freq &lt;= 100: c.create_text (width / 2, 15, text = \"1 second\")\n    elif freq &lt;= 1000:\n        c.create_text (width / 2, 15, text = \"10 milliseconds\")\n        freq = freq / 100\n    else:\n        c.create_text (width / 2, 15, text = \"1 millisecond\")\n        freq = freq / 1000\n    ampl, freq = amplitude.get () ** 0.5, freq * math.pi * 2\n    for x in range (width):\n        c.create_line (x, math.sin (x * freq / width) * ampl * (height - 30 if height &gt; 30 else 0) / 10 + (height if height &gt; 35 else 35), x + 1, math.sin ((x + 1) * freq / width) * ampl * (height - 30 if height &gt; 30 else 0) / 10 + (height if height &gt; 35 else 35))\ndef stringUpdate ():\n    global modded\n    if not modded:\n        modded = True\n        try: amplitude.set (float (stringAmplitude.get ()))\n        except: pass\n        try: frequency.set (float (stringFrequency.get ()))\n        except: pass\n        modded = False\ndef playSound ():\n    global p\n    if not p or not p.is_alive ():\n        p = multiprocessing.Process (target = actualPlaySound)\n        p.start ()\n    else: p.terminate ()\ndef actualPlaySound ():\n    freq = int (frequency.get ())\n    if freq &lt; 37:\n        l.config (text = \"Too low!\")\n    elif freq &gt; 32767:\n        l.config (text = \"Too high!\")\n    else:\n        l.config (text = \"Playing...\")\n        winsound.Beep (freq, 5000)\n        l.config (text = \"Played!\")\nmodded, p = False, None\nroot = Tk ()\nroot.title (\"Waves\")\namplitude, frequency, stringAmplitude, stringFrequency = DoubleVar (), DoubleVar (), StringVar (), StringVar ()\namplitude.set (50)\nfrequency.set (1000)\nstringAmplitude.set (\"50\")\nstringFrequency.set (\"1000\")\namplitude.trace (\"w\", lambda a, b, c: update ())\nfrequency.trace (\"w\", lambda a, b, c: update ())\nstringAmplitude.trace (\"w\", lambda a, b, c: stringUpdate ())\nstringFrequency.trace (\"w\", lambda a, b, c: stringUpdate ())\nroot.bind (\"&lt;Configure&gt;\", lambda event: update ())\nLabel (root, text = \"Frequency\").grid (row = 0, column = 0)\nScale (root, from_ = 50, to = 32000, orient = \"horizontal\", variable = frequency).grid (row = 1, column = 0)\nEntry (root, textvariable = stringFrequency).grid (row = 2, column = 0)\nFrame (root, height = 50).grid (row = 3, column = 0)\nLabel (root, text = \"Amplitude (this doesn't\\nchange playback volume)\").grid (row = 4, column = 0)\nScale (root, orient = \"horizontal\", variable = amplitude).grid (row = 5, column = 0)\nEntry (root, textvariable = stringAmplitude).grid (row = 6, column = 0)\nl = Label (root, text = \"Ready to go!\")\nl.grid (row = 7, column = 0)\nButton (root, text = \"Play\", command = lambda: threading.Thread (target = playSound).start ()).grid (row = 8, column = 0)\nc = Canvas (root, bg = \"white\", width = 500, height = 400)\nc.grid (row = 0, column = 1, rowspan = 20, sticky = \"nsew\")\nGrid.columnconfigure (root, 1, weight = 1)\nfor y in range (20): Grid.rowconfigure (root, y, weight = 1)\nupdate ()\nroot.mainloop ()\nos._exit (0)\n</code></pre>\n"}, {"tags": ["python", "regex", "escaping"], "comments": [{"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 3, "creation_date": 1519244262, "post_id": 48914705, "comment_id": 84835773, "body": "Just use string functions and replace <code>&#39;\\|&#39;</code>. No need for regex here. See it in use <a href=\"https://tio.run/##K6gsycjPM/r/v1jBVkHJUKFGwSimBoSArLTM1JwUBWMlroKizLwShWK9otSCnMTkVA2lmBolHQUlBSXN//8B\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 368, "user_id": 9362902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kIZTn.jpg?s=128&g=1", "display_name": "Tim Lee", "link": "https://stackoverflow.com/users/9362902/tim-lee"}, "edited": false, "score": 3, "creation_date": 1519244300, "post_id": 48914705, "comment_id": 84835787, "body": "line.replace(&quot;\\|&quot;, &quot; &quot;)"}, {"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "edited": false, "score": 0, "creation_date": 1519244585, "post_id": 48914705, "comment_id": 84835961, "body": "using line = re.sub(r&quot;\\|&quot;,&quot; &quot;,line) returned  Field 1 2 2 2 Field 3 the regular field delimiter were removed as well."}, {"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "edited": false, "score": 0, "creation_date": 1519245055, "post_id": 48914705, "comment_id": 84836216, "body": "using line.replace(&quot;\\|&quot;, &quot; &quot;) removes the additional backslash but leave the addtional pipe symbol, where it it. instead of the expted 3 field I&#39;m getting five. Like  Field 1 | 2 | 2 | 2 | Field 3"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1519245229, "post_id": 48914705, "comment_id": 84836313, "body": "@Leo65 to use <code>re.sub</code> you would need <code>re.sub(r&quot;\\\\\\|&quot;,&quot; &quot;, line)</code>, note, I&#39;m <i>escaping</i> <b>both</b> the backslash to get an acual backslash, i.e. \\\\-&gt; \\ as well as the pipe, because the pipe is also an alternation operator in regex: <code>\\|</code> -&gt; <code>|</code>. However, what you <b>really</b> should use is simply <code>line.replace(&#39;\\|&#39;,&#39; &#39;)</code> as others have pointed out"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1519245297, "post_id": 48914705, "comment_id": 84836345, "body": "@Leo65 no, it does not. <code>line.replace(&#39;\\|&#39;,&#39; &#39;)</code> gives me <code>&#39;1 | 2 2 2 | field 3&#39;</code>"}, {"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519245740, "post_id": 48914705, "comment_id": 84836570, "body": "@juanpa.arrivillaga thanks for your response as all the others. i agree line.replace would be the better function. Unfortunately within my python 2.6 environment it just removes the back slash and leave the additional pipe in the line."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519245975, "post_id": 48914705, "comment_id": 84836697, "body": "@Leo65 it does not, I just tested it in Python 2.6 (which is 10 year old,by the way). Regardeless, I showed you a way it <i>would</i> work with <code>re.sub</code>, but I suspect that the problem is you aren&#39;t adequately reproducing your input. Since <code>line.replace</code> should work on all Python 2 or 3 versions in that way."}, {"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519246058, "post_id": 48914705, "comment_id": 84836743, "body": "@juanpa.arrivillaga sound promissing, I&#39;ve to check my script how the assignment works when it&#39;s used a second time."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1519246195, "post_id": 48914705, "comment_id": 84836813, "body": "@Leo65 what do you mean?"}, {"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "edited": false, "score": 0, "creation_date": 1519246289, "post_id": 48914705, "comment_id": 84836867, "body": "That my starting point  line = inputfilehandle.readline()             if line:                 if line.count(&quot;|&quot;) == actual_field:                    drline = line else:    line.replace(&#39;\\|&#39;,&#39; &#39;) if line.count(&quot;|&quot;) == actual_field: The number of fields is still bigger than the expected numbers"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "edited": false, "score": 0, "creation_date": 1519248261, "post_id": 48915103, "comment_id": 84837831, "body": "in my environment using python 2.6 only  line = re.sub(r&quot;\\\\\\|&quot;, &quot; &quot;, line)  worked for me. r three back slashed and one pipe symbol.  Thanks for the construtive feedbacks."}], "tags": [], "owner": {"reputation": 13, "user_id": 6552390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f9374c6a0ae6c49e8dab6415f3c660?s=128&d=identicon&r=PG&f=1", "display_name": "elrazia", "link": "https://stackoverflow.com/users/6552390/elrazia"}, "is_accepted": false, "score": 0, "last_activity_date": 1519245852, "creation_date": 1519245852, "answer_id": 48915103, "question_id": 48914705, "link": "https://stackoverflow.com/questions/48914705/python-search-for-and-replace-with/48915103#48915103", "title": "python search for &quot;\\|&quot; and replace with &quot; &quot;", "body": "<pre><code>line.replace('\\|',' ')\n</code></pre>\n\n<p>The string method <strong>replace</strong> will work here. If you can avoid using regex, you will save yourself a headache. See <a href=\"https://docs.python.org/2/library/string.html#string.replace\" rel=\"nofollow noreferrer\">the documentation</a> for more information.</p>\n"}], "owner": {"reputation": 21, "user_id": 9393014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9684a9d1274106be5ad6845812cd09f6?s=128&d=identicon&r=PG&f=1", "display_name": "Leo65", "link": "https://stackoverflow.com/users/9393014/leo65"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519245852, "creation_date": 1519244192, "last_edit_date": 1519245473, "question_id": 48914705, "link": "https://stackoverflow.com/questions/48914705/python-search-for-and-replace-with", "title": "python search for &quot;\\|&quot; and replace with &quot; &quot;", "body": "<p>I'm getting data with the field delimiter \"|\"</p>\n\n<pre><code>field 1 | field 2 | field 3 \n</code></pre>\n\n<p>are the regular line i get. </p>\n\n<p>The exception looks like</p>\n\n<pre><code>field 1 | 2\\|2\\|2 | field 3\n</code></pre>\n\n<p>my python program should return</p>\n\n<pre><code>field 1 | 2 2 2 | field 3\n</code></pre>\n\n<p>I'm looking for the python 2.6 regular expression to replace the <code>\\|</code> with a blank <code></code>.\nI've made many tries but have mainly replaced the regular field delimiter as well.\nThe latest try was</p>\n\n<pre><code>line = re.sub(\"\\\\\\\\\\|\", \" \", line)\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "annotations", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 7481, "user_id": 2666270, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b08ff3f628c4d11f81fe113c6eda6b9?s=128&d=identicon&r=PG", "display_name": "pceccon", "link": "https://stackoverflow.com/users/2666270/pceccon"}, "edited": false, "score": 0, "creation_date": 1519327942, "post_id": 48914946, "comment_id": 84878126, "body": "Thank you. Do you know how I can get the maximum_y_value in the measure used by the plots? I mean, maximum_y_value = r1[&#39;TAXA_ATUAL_DOWN&#39;].max() do not produce the desired output since I&#39;m plotting a distribution."}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 7481, "user_id": 2666270, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b08ff3f628c4d11f81fe113c6eda6b9?s=128&d=identicon&r=PG", "display_name": "pceccon", "link": "https://stackoverflow.com/users/2666270/pceccon"}, "edited": false, "score": 0, "creation_date": 1519328581, "post_id": 48914946, "comment_id": 84878470, "body": "From <a href=\"https://stackoverflow.com/questions/37374983/get-data-points-from-seaborn-distplot\">this</a> answer, I believe you would be able to get it like this: <code>max([h.get_height() for h in sns.distplot(r1[r1[&#39;REMOTO&#39;] == 1][&#39;TAXA_ATUAL_DOWN&#39;].dropna().patches])</code>, or figure out a nicer mathematical way of doing it. FYI, my way would be an approximation, but it should be accurate enough for what you&#39;re doing with it."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 2, "last_activity_date": 1519426875, "last_edit_date": 1519426875, "creation_date": 1519245098, "answer_id": 48914946, "question_id": 48914691, "link": "https://stackoverflow.com/questions/48914691/annotation-changing-the-plot/48914946#48914946", "title": "Annotation changing the plot?", "body": "<p>Try replacing </p>\n\n<pre><code>plt.annotate('{0:.2f}'.format(h), xy=(h, 0.02), fontsize=12)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>plt.annotate('{0:.2f}'.format(h), xy=(h+100, 0.00012), fontsize=12)\n</code></pre>\n\n<p>I believe what is happening is that you are trying to annotate at the same <code>xy</code> coordinates as in your old plot, but the axis scales are drastically different. So when you annotate at <code>xy=(h,0.02)</code>, 0.02 is significantly above the maximum of your y axis, and your figure is being re-scaled accordingly. </p>\n\n<p>Looking at your new plot, it looks like it would make more sense to put your text at somewhere like <code>xy=(h+100, 0.00012)</code>, or somewhere thereabouts. If that works, you can fine-tune your location according to where you want it (or, more programmatically, put your y coordinate at something like <code>0.75 * maximum_y_value</code>, where <code>maximum_y_value</code> is the highest point on your y axis).</p>\n\n<p>A hacky but effective way to do this would be to use </p>\n\n<pre><code>y_max = max([h.get_height() for h in sns.distplot(r1[r1['REMOTO'] == 1]['TAXA_ATUAL_DOWN'].dropna()).patches])\n\nplt.annotate('{0:.2f}'.format(h), xy=(h, 0.75*y_max), fontsize=12)\n</code></pre>\n\n<p>What this actually does is get the values of the histogram that would be plotted by default in <code>sns.distplot</code> (which you have disabled), and finds the max of that. </p>\n"}], "owner": {"reputation": 7481, "user_id": 2666270, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8b08ff3f628c4d11f81fe113c6eda6b9?s=128&d=identicon&r=PG", "display_name": "pceccon", "link": "https://stackoverflow.com/users/2666270/pceccon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 48914946, "answer_count": 1, "score": 2, "last_activity_date": 1519426875, "creation_date": 1519244151, "question_id": 48914691, "link": "https://stackoverflow.com/questions/48914691/annotation-changing-the-plot", "title": "Annotation changing the plot?", "body": "<p>Usually when I plot some distribution I like to insert auxiliar lines to show extra information, such as mean:</p>\n\n<pre><code>plt.figure(figsize=(15, 5))\nh = r1['TAXA_ATUAL_UP'].mean()\nplt.axvline(h, color='k', linestyle='dashed', linewidth=2)\nprint(h) # 692.6621026418171\nplt.annotate('{0:.2f}'.format(h), xy=(h+100, 0.02), fontsize=12)\n\nsns.distplot(r1['TAXA_ATUAL_UP'].dropna())\nsns.distplot(r1[r1['REMOTO'] == 1]['TAXA_ATUAL_UP'].dropna(), hist=False, label='Y = 1')\nsns.distplot(r1[r1['REMOTO'] == 0]['TAXA_ATUAL_UP'].dropna(), hist=False, label='Y = 0')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/frTxS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frTxS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Recently, using the same code to plot other data, I got a weird result. Basically, what I notice is that the <code>h</code> value is big and the result is that the plot is reduced drastically:</p>\n\n<pre><code>plt.figure(figsize=(15, 5))\nh = r1['TAXA_ATUAL_DOWN'].mean()\nplt.axvline(h, color='k', linestyle='dashed', linewidth=2)\nprint(h) # 8777.987291627895\nplt.annotate('{0:.2f}'.format(h), xy=(h, 0.02), fontsize=12)\n\nsns.distplot(r1['TAXA_ATUAL_DOWN'].dropna())\nsns.distplot(r1[r1['REMOTO'] == 1]['TAXA_ATUAL_DOWN'].dropna(), hist=False, label='Y = 1')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nplRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nplRF.png\" alt=\"enter image description here\"></a></p>\n\n<p>I wonder what causes this I how I should get the annotation to work properly, or fix whaterver I'm doing wrong.</p>\n"}, {"tags": ["python", "animation", "events", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1519246810, "post_id": 48914685, "comment_id": 84837121, "body": "The example runs fine as it is. There is no clue is given as to what could cause this the figure window to hang. But you would rather want to try and solve that problem instead of working around it."}, {"owner": {"reputation": 7966, "user_id": 2454357, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8daa3f3fb97961ac7cb5dd716f494bae?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas K&#252;hn", "link": "https://stackoverflow.com/users/2454357/thomas-k%c3%bchn"}, "edited": false, "score": 0, "creation_date": 1519282363, "post_id": 48914685, "comment_id": 84848786, "body": "Try changing the backend (e.g., to <code>TKAgg</code>) and see if you have the same problems then. There seem to be a lot of problems of this kind with the default <code>MacOSX</code> backend."}], "owner": {"reputation": 721, "user_id": 3307405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98a9efab2e5a7c8324cb765a7b5b4e0?s=128&d=identicon&r=PG", "display_name": "Prof Huster", "link": "https://stackoverflow.com/users/3307405/prof-huster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519244132, "creation_date": 1519244132, "question_id": 48914685, "link": "https://stackoverflow.com/questions/48914685/key-press-event-not-working-in-python-matplotlib-funcanimation", "title": "`key_press_event` not working in python matplotlib FuncAnimation", "body": "<p>I can't get a <code>FuncAnimation</code> to end gracefully. I am running in a mac OS X environment with anaconda 2.7 python. At the end of the animation, the program just hangs, even with a ^C. I have to close the matplotlib window.</p>\n\n<p>So, I decided to try catching a key press, but the same thing happens even with the matplotlib example below. </p>\n\n<p>Two questions: 1) How can I end <code>FuncAnimation</code> gracefully, and 2) How can I get the key_press_event to work? I have included the matplotlib example that also hangs.</p>\n\n<pre><code>\"\"\"\nShow how to connect to keypress events\n\"\"\"\nfrom __future__ import print_function\nimport sys\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\ndef press(event):\n    print('press', event.key)\n    sys.stdout.flush()\n    if event.key == 'x':\n        visible = xl.get_visible()\n        xl.set_visible(not visible)\n        fig.canvas.draw()\n\nfig, ax = plt.subplots()\n\nfig.canvas.mpl_connect('key_press_event', press)\n\nax.plot(np.random.rand(12), np.random.rand(12), 'go')\nxl = ax.set_xlabel('easy come, easy go')\nax.set_title('Press a key')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "database", "sqlite"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1519245362, "post_id": 48914609, "comment_id": 84836374, "body": "You mention threads and it&#39;s clear you&#39;re using SQLite: see <a href=\"https://stackoverflow.com/questions/22739590/how-to-share-single-sqlite-connection-in-multi-threaded-python-application\">How to share single SQLite connection in multi-threaded Python application</a> for some potential issues"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5098407, "user_type": "registered", "profile_image": "https://graph.facebook.com/529209393897045/picture?type=large", "display_name": "Talvinder Bains", "link": "https://stackoverflow.com/users/5098407/talvinder-bains"}, "is_accepted": true, "score": 0, "last_activity_date": 1519686844, "creation_date": 1519686844, "answer_id": 48998628, "question_id": 48914609, "link": "https://stackoverflow.com/questions/48914609/is-it-okay-to-use-only-one-cursor-to-execute-all-operations-with-database/48998628#48998628", "title": "Is it okay to use only one cursor to execute all operations with database?", "body": "<p>I have sqlite3 working in classes and I don't need it to be self-ed. Ive got it like...</p>\n\n<pre><code>connection = sqlite3.connect(\"some_db.db\")\nc = connection.cursor()\n</code></pre>\n\n<p>Yeah I think its fine, until you need multiple databases where all you need to do is name you connection and cursors something different like...</p>\n\n<pre><code>connection2 = sqlite3.connect(\"another_db.db\")\nc2 = connection2.cursor()\n</code></pre>\n\n<p>You can have them running at the same time too. Just remember to commit and close when you don't need them anymore. </p>\n"}], "owner": {"reputation": 363, "user_id": 7752659, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hzkAu0lMAVI/AAAAAAAAAAI/AAAAAAAAAPw/DYH04TIw8Ck/photo.jpg?sz=128", "display_name": "Shoshin Nikita", "link": "https://stackoverflow.com/users/7752659/shoshin-nikita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48998628, "answer_count": 1, "score": 1, "last_activity_date": 1519686844, "creation_date": 1519243841, "question_id": 48914609, "link": "https://stackoverflow.com/questions/48914609/is-it-okay-to-use-only-one-cursor-to-execute-all-operations-with-database", "title": "Is it okay to use only one cursor to execute all operations with database?", "body": "<p>I have a program, which must work with database (and it can work in few threads). I wrote a special class, which starts from:</p>\n\n<pre><code>class DataBase:\n    def __init__(self):\n         self.connection = sqlite3.connect(\"some_db.db\", check_same_thread=False)\n         self.cursor = self.connection.cursor()\n</code></pre>\n\n<p>Is it okay to use such class? Or I should go another way and use few cursors? My program works fine now and I didn't notice any problems, but I'm not sure can it lead to big problems in future</p>\n"}, {"tags": ["python", "qml", "python-3.5", "pyside2", "qt5.9"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519244448, "post_id": 48914590, "comment_id": 84835878, "body": "Maybe it&#39;s a silly question, but I see that it prints file.name and file.sheetnames, but I do not see at what time it loaded any value to File."}, {"owner": {"reputation": 831, "user_id": 2930436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2de76dd0decfef8e0181db7a059e44d2?s=128&d=identicon&r=PG&f=1", "display_name": "MVanOrder", "link": "https://stackoverflow.com/users/2930436/mvanorder"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519245468, "post_id": 48914590, "comment_id": 84836431, "body": "The file.load() function loads the file opened with the FileDialog using openpyxl.load_workbook() then sets it&#39;s protected variables __filename and __sheetnames which the properties access."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519245601, "post_id": 48914590, "comment_id": 84836493, "body": "my question is oriented to ask where you use file.load()?"}, {"owner": {"reputation": 831, "user_id": 2930436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2de76dd0decfef8e0181db7a059e44d2?s=128&d=identicon&r=PG&f=1", "display_name": "MVanOrder", "link": "https://stackoverflow.com/users/2930436/mvanorder"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1519246316, "post_id": 48914590, "comment_id": 84836886, "body": "While removing disabled lines from my post I removed one too many.  I&#39;ve re-added it to the QML code block."}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 4, "last_activity_date": 1526241114, "last_edit_date": 1526241114, "creation_date": 1519251315, "answer_id": 48916427, "question_id": 48914590, "link": "https://stackoverflow.com/questions/48914590/registering-a-python-list-property-to-qml-in-pyside2/48916427#48916427", "title": "Registering a Python list property to QML in pyside2", "body": "<p>You have to use <code>QVariantList</code> instead of list, besides the use of regular expressions may fail, in my case I use Linux and I generate problems, so the correct thing to do is to use <code>QUrl</code>:</p>\n\n<pre><code>class File(QtCore.QObject):\n    filenameChanged = QtCore.Signal()\n    sheetnamesChanged = QtCore.Signal()\n\n    def __init__(self, *args, **kwargs):\n        super(File, self).__init__(*args, **kwargs)\n        self.__filename = \"\"\n        self.__sheetnames = list()\n\n    @QtCore.Slot(str)\n    def load(self, filename):\n        self.__filename = QtCore.QUrl(filename).toLocalFile()\n        # Load the worksheet using openpyxl.\n        try:\n            workbook = openpyxl.load_workbook(filename=self.__filename)\n        except openpyxl.utils.exceptions.InvalidFileException as exception:\n            # Todo: write code to pass error to the user.\n            print('Invalid File')\n            return\n\n        self.__sheetnames = workbook.sheetnames\n        print(workbook.sheetnames)\n\n    @QtCore.Property(str, notify=filenameChanged)\n    def filename(self):\n        return self.__filename\n\n    @filename.setter\n    def get_filename(self, name):\n        if name == self.__filename:\n            return\n        self.__filename = name\n        self.filenameChanged.emit()\n\n    @QtCore.Property('QVariantList', notify=sheetnamesChanged)\n    def sheetnames(self):\n        return self.__sheetnames\n\n    @sheetnames.setter\n    def set_sheetnames(self, names):\n        if names == self.__sheetnames:\n            return\n        self.__sheetnames = names[:]\n        self.sheetnamesChanged.emit()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['Periodic Table']\nqml: /home/eyllanesc/Downloads/Ultimate Periodic Table1.xlsx\nqml: [Periodic Table]\n</code></pre>\n"}], "owner": {"reputation": 831, "user_id": 2930436, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2de76dd0decfef8e0181db7a059e44d2?s=128&d=identicon&r=PG&f=1", "display_name": "MVanOrder", "link": "https://stackoverflow.com/users/2930436/mvanorder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2189, "favorite_count": 2, "accepted_answer_id": 48916427, "answer_count": 1, "score": 2, "last_activity_date": 1526241551, "creation_date": 1519243784, "last_edit_date": 1526241551, "question_id": 48914590, "link": "https://stackoverflow.com/questions/48914590/registering-a-python-list-property-to-qml-in-pyside2", "title": "Registering a Python list property to QML in pyside2", "body": "<p>I'm trying to load a spreadsheet and pass a list of the worksheets back to my QML interface.  But I'm unable to find a way to provide a list(and later a dictionary) back to the QML script.</p>\n\n<p>Here's my QML:</p>\n\n<pre><code>FileDialog {\n    id: openDialog\n    title: \"Open spreadsheet\"\n    nameFilters: [ \"Excel files (*.xls *.xlsx)\", \"All files (*)\" ]\n    selectedNameFilter: \"Excel files (*.xls *.xlsx)\"\n    onAccepted: {\n        file.load(fileUrl)\n        console.log(file.name)\n        console.log(file.sheetnames)\n    }\n    onRejected: {\n        console.log(\"Rejected\")\n    }\n}\n</code></pre>\n\n<p>Here's the my python class:</p>\n\n<pre><code>class File(QtCore.QObject):\n\n    def __init__(self, *args, **kwargs):\n        super(File, self).__init__(*args, **kwargs)\n        self.__filename = \"\"\n        self.__sheetnames = list()\n\n    @QtCore.Slot(str)\n    def load(self, filename):\n        self.__filename = re.sub(r'^[a-zA-Z]+:/+', '', filename)\n\n        # Load the worksheet using openpyxl.\n        try:\n            workbook = openpyxl.load_workbook(filename=self.__filename)\n        except openpyxl.utils.exceptions.InvalidFileException as exception:\n            # Todo: write code to pass error to the user.\n            print('Invalid File')\n            return\n\n        self.__sheetnames = workbook.sheetnames\n        print(workbook.sheetnames)\n\n    def set_filename(self):\n        return self.__filename\n\n    def get_filename(self, name):\n        self.__filename = name\n\n    def get_sheetnames(self):\n        return self.__sheetnames\n\n    def set_sheetnames(self, names):\n        self.__sheetnames = names\n\n    name = QtCore.Property(str, set_filename, get_filename)\n    sheetnames = QtCore.Property(list, get_sheetnames, set_sheetnames)\n</code></pre>\n\n<p>When I open a spreadsheet, the output is:</p>\n\n<pre><code>['Sheet1']\nqml: C:/path/to/my/spreadsheet.xlsx\nqml: QVariant(PySide::PyObjectWrapper)\n</code></pre>\n\n<p>The first line shows that python has the list correct, in the second my script in the QML is successfully getting a string property, but the third isn't getting the list property properly.</p>\n"}]