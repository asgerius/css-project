[{"tags": ["python", "python-3.x", "datetime"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1481155388, "post_id": 41029529, "comment_id": 69266687, "body": "so ... What&#39;s the problem?  Maybe I&#39;m dense, but I&#39;m not seeing the issue here..."}, {"owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "edited": false, "score": 0, "creation_date": 1481155751, "post_id": 41029529, "comment_id": 69266803, "body": "original = 2016/12/07 17:45 after convert ordinal and reconvert from ordinal: 2016-12-07 00:00:00"}, {"owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "edited": false, "score": 0, "creation_date": 1481155799, "post_id": 41029529, "comment_id": 69266822, "body": "Uriel can you explain me please?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1481155928, "post_id": 41029529, "comment_id": 69266863, "body": "You&#39;re using <code>date()</code> which only grabs the date. <code>datetime.strptime(date, &#39;%Y&#47;%m&#47;%d %H:%M&#39;)</code> without <code>date()</code> at the end gives you the right thing"}, {"owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "edited": false, "score": 0, "creation_date": 1481156160, "post_id": 41029529, "comment_id": 69266930, "body": "Replace it and still does not work"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "edited": false, "score": 0, "creation_date": 1481157531, "post_id": 41029714, "comment_id": 69267352, "body": "Thanks a lot, the solution is convert to timestamp"}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": true, "score": 1, "last_activity_date": 1481156879, "last_edit_date": 1495542631, "creation_date": 1481156565, "answer_id": 41029714, "question_id": 41029529, "link": "https://stackoverflow.com/questions/41029529/convert-datetime-to-ordinal-in-python-fails/41029714#41029714", "title": "Convert datetime to ordinal in python fails", "body": "<p>Because <a href=\"https://docs.python.org/2/library/datetime.html#datetime.date.toordinal\" rel=\"nofollow noreferrer\"><code>ordinal</code></a> stores just the date. the ordinal cannot contain the time:</p>\n\n<blockquote>\n  <p>the proleptic Gregorian ordinal of the date, where January 1 of year 1 has ordinal 1. For any date object d, date.fromordinal(d.toordinal()) == d.</p>\n</blockquote>\n\n<p>If you want to convert to/from timestamps instead of ordinals, try this <a href=\"https://stackoverflow.com/a/8778548/3579910\">so answer</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "edited": false, "score": 0, "creation_date": 1481157602, "post_id": 41029725, "comment_id": 69267369, "body": "thanks i think the best way is convert the datetime in timestamp"}], "tags": [], "owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "is_accepted": false, "score": 0, "last_activity_date": 1481157119, "last_edit_date": 1481157119, "creation_date": 1481156655, "answer_id": 41029725, "question_id": 41029529, "link": "https://stackoverflow.com/questions/41029529/convert-datetime-to-ordinal-in-python-fails/41029725#41029725", "title": "Convert datetime to ordinal in python fails", "body": "<p><a href=\"https://docs.python.org/2/library/datetime.html?highlight=toordinal#datetime.datetime.date\" rel=\"nofollow noreferrer\"><code>datetime.date()</code></a> returns <code>date</code> object with same year, month and day, but not the hour, minute and second, i.e <strong>day resolution</strong>. It can be easily seen below.</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; s = \"2016/12/07 17:45\"\n&gt;&gt;&gt; d = datetime.strptime(s, '%Y/%m/%d %H:%M').date()\n&gt;&gt;&gt; type(d)\n&lt;type 'datetime.date'&gt;\n</code></pre>\n\n<p>Notice that <a href=\"https://docs.python.org/2/library/datetime.html?highlight=toordinal#datetime.datetime.toordinal\" rel=\"nofollow noreferrer\"><code>datetime.toordinal</code></a> is the same as <code>self.date().toordinal()</code>.</p>\n\n<pre><code>&gt;&gt;&gt; from datetime import datetime\n&gt;&gt;&gt; dt = datetime.strptime('2016/12/07 17:45', '%Y/%m/%d %H:%M')\n&gt;&gt;&gt; dt.toordinal() == dt.date().toordinal()\nTrue\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 7176741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a11bff4ff2c37a9f3115cc021659455?s=128&d=identicon&r=PG&f=1", "display_name": "Samael Olascoaga", "link": "https://stackoverflow.com/users/7176741/samael-olascoaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1914, "favorite_count": 0, "accepted_answer_id": 41029714, "answer_count": 2, "score": 1, "last_activity_date": 1597513371, "creation_date": 1481155167, "last_edit_date": 1481155875, "question_id": 41029529, "link": "https://stackoverflow.com/questions/41029529/convert-datetime-to-ordinal-in-python-fails", "title": "Convert datetime to ordinal in python fails", "body": "<p>i been had worked with dates. I want to convert datetimes to ordinal but my script fails.</p>\n\n<pre><code>from datetime import datetime\n\ndate = \"2016/12/07 17:45\"\ndate_strip = datetime.strptime(date, '%Y/%m/%d %H:%M').date()\nordinal = date_strip.toordinal()\n# ordinal = 736305\nnormal_date = datetime.fromordinal(ordinal)\n# normal_date = 2016-12-07 00:00:00 not 2016-12-07 17:45:00\n</code></pre>\n\n<p>whats wrong? ca they help me please?</p>\n"}, {"tags": ["python", "xml", "file"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1481155310, "post_id": 41029510, "comment_id": 69266661, "body": "I would recommend using an XML parser rather than just dumping <code>str.split</code>s everywhere. As for what you&#39;re trying to achieve, Google &quot;python string interpolation&quot;, you have several options and this is a really basic thing covered in any halfway-decent tutorial"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 3558196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INsYY.png?s=128&g=1", "display_name": "Dilmer", "link": "https://stackoverflow.com/users/3558196/dilmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1481155666, "creation_date": 1481155666, "answer_id": 41029590, "question_id": 41029510, "link": "https://stackoverflow.com/questions/41029510/how-to-get-info-from-file-into-a-string-on-python/41029590#41029590", "title": "How to get info from file into a string on Python?", "body": "<p>I think the easy way to do this would be to use an XML parser just like johnsharpe said so your code would be something like:</p>\n\n<pre><code>from xml.etree.ElementTree import ElementTree\ntree = ElementTree()\ntree.parse(\"Pro.txt\")\nweights = tree.find(\"weight\") \n</code></pre>\n\n<p>Then once you have the weights variable set just loop through and show your string format however you want to display it.</p>\n"}, {"tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1481155740, "creation_date": 1481155740, "answer_id": 41029600, "question_id": 41029510, "link": "https://stackoverflow.com/questions/41029510/how-to-get-info-from-file-into-a-string-on-python/41029600#41029600", "title": "How to get info from file into a string on Python?", "body": "<p>First of all I would reccommend you use an XML parser such as <a href=\"http://docs.python.org/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">ElementTree</a>.</p>\n\n<p>However in regards to your code you are taking a positional argument <code>filename</code> in <code>summarizeData</code> but not using it... Try something like this: </p>\n\n<pre><code>def summarizeData(filename):\n    with open(filename,\"r\") as fo:\n        for rec in fo:\n            weight_of_player = rec.split('&gt;')[1].split('&lt;')[0]\n            print(\"The weight of this player is %s pounds.\" % (weight_of_player))\n\nsummarizeData(\"Pro.txt\")\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 6896928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66404cb18c0f216cdf0bd5371cd733a4?s=128&d=identicon&r=PG&f=1", "display_name": "hawk student", "link": "https://stackoverflow.com/users/6896928/hawk-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481155740, "creation_date": 1481155040, "question_id": 41029510, "link": "https://stackoverflow.com/questions/41029510/how-to-get-info-from-file-into-a-string-on-python", "title": "How to get info from file into a string on Python?", "body": "<p>I have opened a file on Python. The file is loaded with information following this format:</p>\n\n<pre><code>    &lt;weight&gt;220&lt;/weight&gt;\n</code></pre>\n\n<p>I have used the split function so I only get 220, which is what I wanted. Now I am trying to get each line of information put into their own string. For example, since this weight info is the 6th line, I want it to say </p>\n\n<pre><code>    \"The weight of this player is 220 pounds.\"\n</code></pre>\n\n<p>This is what I have so far, but I'm not sure where to even start. Would anyone be able to push me in the right direction?? Thank you!</p>\n\n<pre><code>    def summarizeData(filename):\n        with open(\"Pro.txt\",\"r\") as fo:\n             for rec in fo:\n                 print (rec.split('&gt;')[1].split('&lt;')[0])\n</code></pre>\n"}, {"tags": ["python", "sys"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1481155129, "post_id": 41029501, "comment_id": 69266601, "body": "<i>Where</i> have you seen that? Is in in something using <code>_</code> for i18n (see <a href=\"http://stackoverflow.com/a/5893946/3001761\">stackoverflow.com/a/5893946/3001761</a>, #2)? Have you read <a href=\"https://docs.python.org/3/library/sys.html#sys.exit\" rel=\"nofollow noreferrer\">docs.python.org/3/library/sys.html#sys.exit</a>?"}, {"owner": {"reputation": 27, "user_id": 3212255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X1B3L.jpg?s=128&g=1", "display_name": "shwsun", "link": "https://stackoverflow.com/users/3212255/shwsun"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481245359, "post_id": 41029501, "comment_id": 69310401, "body": "I have read the official doc, the stackoverflow post is useful, thx."}], "answers": [{"comments": [{"owner": {"reputation": 76876, "user_id": 287586, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tB5AG.png?s=128&g=1", "display_name": "dan04", "link": "https://stackoverflow.com/users/287586/dan04"}, "edited": false, "score": 0, "creation_date": 1481156625, "post_id": 41029656, "comment_id": 69267068, "body": "If you pass a string (or anything other than an <code>int</code> or <code>None</code>), then <code>sys.exit</code> will set the system exit status to 1 (failure).  So you wouldn&#39;t use it to show \u201ca nice message\u201d, but you could use it to display an error message explaining why you&#39;re exiting the program."}, {"owner": {"reputation": 159, "user_id": 3558196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INsYY.png?s=128&g=1", "display_name": "Dilmer", "link": "https://stackoverflow.com/users/3558196/dilmer"}, "reply_to_user": {"reputation": 76876, "user_id": 287586, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tB5AG.png?s=128&g=1", "display_name": "dan04", "link": "https://stackoverflow.com/users/287586/dan04"}, "edited": false, "score": 0, "creation_date": 1481157625, "post_id": 41029656, "comment_id": 69267374, "body": "if you pass the value of 0 which is an integer then is considered \u201csuccessful termination\u201d so you can show a nice message, and yes anything other than that will be a failure."}], "tags": [], "owner": {"reputation": 159, "user_id": 3558196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INsYY.png?s=128&g=1", "display_name": "Dilmer", "link": "https://stackoverflow.com/users/3558196/dilmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1481156165, "creation_date": 1481156165, "answer_id": 41029656, "question_id": 41029501, "link": "https://stackoverflow.com/questions/41029501/it-there-difference-between-sys-exit-and-sys-exit/41029656#41029656", "title": "It there difference between `sys.exit()` and `sys.exit(_())`", "body": "<p>One would be use to exit out and display a message on the console, so if you are for example running a game and let's say you have a menu:</p>\n\n<p>Option 1 - Play\nOption 2 - Options\nOption 3 - Exit </p>\n\n<p>If the user selects option 3 you could then call sys.exit() but what if you wanted to show a nice message to engage them say sys.exit('Thank you for playing I hope you come back soon') basically that will be displayed after the player selects option 3.</p>\n"}], "owner": {"reputation": 27, "user_id": 3212255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X1B3L.jpg?s=128&g=1", "display_name": "shwsun", "link": "https://stackoverflow.com/users/3212255/shwsun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481156165, "creation_date": 1481154990, "question_id": 41029501, "link": "https://stackoverflow.com/questions/41029501/it-there-difference-between-sys-exit-and-sys-exit", "title": "It there difference between `sys.exit()` and `sys.exit(_())`", "body": "<p>I am aware of some facts about <code>sys.exit()</code>. However, I have seen some usage of <code>sys.exit(_(\"some error msg blablabla\"))</code>, is there any differences between them?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 6332918, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef34cf2184b908e7006462294b2c73a2?s=128&d=identicon&r=PG", "display_name": "Nathan Smith", "link": "https://stackoverflow.com/users/6332918/nathan-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1481154829, "creation_date": 1481154829, "answer_id": 41029480, "question_id": 41029440, "link": "https://stackoverflow.com/questions/41029440/how-to-combine-2-django-projects/41029480#41029480", "title": "How to combine 2 django projects", "body": "<p>This is a very specialized question that depends heavily on the code contained within them. Assuming they are set up as two separate forms in their own views, you may be able to put two separate forms on the same page but without seeing the code, screenshots, design plans or anything of the like, this is a very difficult question to answer.</p>\n\n<p>I would like to have commented this instead, but I don't have the rep. Sorry for not actually answer the question.</p>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 3558196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INsYY.png?s=128&g=1", "display_name": "Dilmer", "link": "https://stackoverflow.com/users/3558196/dilmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1481154944, "creation_date": 1481154944, "answer_id": 41029498, "question_id": 41029440, "link": "https://stackoverflow.com/questions/41029440/how-to-combine-2-django-projects/41029498#41029498", "title": "How to combine 2 django projects", "body": "<p>There are many ways to do this and it would all depend on how your project is setup. Normally when you create a project in django you are forced to create an app, this is for modularity, the idea is to be able to have the apps be self contained entities, so in your case, you may want to move the app itself (not the project) from the upload system to your main login &amp; register app, so just move / copy the \"app\" folder over to your other project, then you will also need to copy the settings and move them over. You also need to update the urls.py in your main app to include the urls from your second app.</p>\n\n<p>Anyways this should give you some hints on how you could do this.</p>\n"}], "owner": {"reputation": 57, "user_id": 7222688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfe0289b16ae43f3cd7fb3c2006c2316?s=128&d=identicon&r=PG&f=1", "display_name": "102254563", "link": "https://stackoverflow.com/users/7222688/102254563"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 41029480, "answer_count": 2, "score": -1, "last_activity_date": 1481154944, "creation_date": 1481154540, "question_id": 41029440, "link": "https://stackoverflow.com/questions/41029440/how-to-combine-2-django-projects", "title": "How to combine 2 django projects", "body": "<p>I have 2 apps which i would like to combine, the first one is a login &amp; register system and the next one is a file upload system how would i go by combining them? </p>\n"}, {"tags": ["python", "list", "dictionary", "type-conversion"], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1481154755, "creation_date": 1481154755, "answer_id": 41029466, "question_id": 41029406, "link": "https://stackoverflow.com/questions/41029406/convert-list-of-lists-to-dictionary-of-dictionaries/41029466#41029466", "title": "Convert list of lists to dictionary of dictionaries", "body": "<p>You can use <code>collections.defaultdict()</code>:</p>\n\n<pre><code>In [54]: lst = [ ['001', 'A', '100'], ['001', 'B', '94'], ['002', 'A', '87'], ['002', 'B', '85'] ]\n\nIn [55]: from collections import defaultdict\n\nIn [56]: d = defaultdict(dict)\n\nIn [57]: for i, j, k in lst:\n   ....:     d[i].update({j:k})\n   ....:     \n\nIn [58]: d\nOut[58]: defaultdict(&lt;class 'dict'&gt;, {'001': {'A': '100', 'B': '94'}, '002': {'A': '87', 'B': '85'}})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 2, "last_activity_date": 1481154757, "creation_date": 1481154757, "answer_id": 41029467, "question_id": 41029406, "link": "https://stackoverflow.com/questions/41029406/convert-list-of-lists-to-dictionary-of-dictionaries/41029467#41029467", "title": "Convert list of lists to dictionary of dictionaries", "body": "<p>Probably the best way is a defaultdict using a dict as factory:</p>\n\n<pre><code>from collections import defaultdict\n\ndictofdicts = defaultdict(dict)\n\nstart = [ ['001', 'A', '100'], ['001', 'B', '94'], ['002', 'A', '87'], ['002', 'B', '85'] ]\n\nfor outerkey, innerkey, value in start:\n    dictofdicts[outerkey][innerkey] = value\n</code></pre>\n\n<p>and this gives you the solution you wanted:</p>\n\n<pre><code>&gt;&gt;&gt; dictofdicts\ndefaultdict(dict,\n            {'001': {'A': '100', 'B': '94'}, '002': {'A': '87', 'B': '85'}})\n</code></pre>\n\n<p>The defaultdict can be used like a normal dictionary but you can also convert it to a plain dictionary afterwards:</p>\n\n<pre><code>&gt;&gt;&gt; dict(dictofdicts)\n{'001': {'A': '100', 'B': '94'}, '002': {'A': '87', 'B': '85'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "is_accepted": false, "score": 0, "last_activity_date": 1481154940, "creation_date": 1481154940, "answer_id": 41029497, "question_id": 41029406, "link": "https://stackoverflow.com/questions/41029406/convert-list-of-lists-to-dictionary-of-dictionaries/41029497#41029497", "title": "Convert list of lists to dictionary of dictionaries", "body": "<p>In a dictionary comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; l = [ ['001', 'A', '100'], ['001', 'B', '94'], ['002', 'A', '87'], ['002', 'B', '85'] ]\n&gt;&gt;&gt; {l[i][0]:{k:v for (k, v) in zip(l[i][1:], l[i+1][1:])} for i in range(0, len(l), 2)}\n{'002': {'A': 'B', '87': '85'}, '001': {'100': '94', 'A': 'B'}}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 783042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b19b584fb0d3876f23a02a2c662b5de6?s=128&d=identicon&r=PG", "display_name": "tann81", "link": "https://stackoverflow.com/users/783042/tann81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 1, "accepted_answer_id": 41029467, "answer_count": 3, "score": 2, "last_activity_date": 1481154940, "creation_date": 1481154365, "last_edit_date": 1481154795, "question_id": 41029406, "link": "https://stackoverflow.com/questions/41029406/convert-list-of-lists-to-dictionary-of-dictionaries", "title": "Convert list of lists to dictionary of dictionaries", "body": "<p>I have a Python list which holds key/values </p>\n\n<pre><code>[ [001, 'A', '100'], [001, 'B', '94'], [002, 'A', '87'], [002, 'B', '85'] ]\n</code></pre>\n\n<p>but the first 2 columns make a unique key. I want to convert the list into a dictionary, where multiple values per key would be aggregated into a dictionary of dictionaries for easy value lookups</p>\n\n<pre><code>{'001': {'A':'100','B':'94'}, '002': {'A':'87','B':'85'} }\n</code></pre>\n\n<p>What would be the elegant Python way of doing this? Thanks.</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481154449, "post_id": 41029386, "comment_id": 69266367, "body": "<code>for line in output: reportFile.write(str(line))</code>?!"}, {"owner": {"reputation": 1, "user_id": 5646734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569f52adefa62db7f0ea7e75c27d4f22?s=128&d=identicon&r=PG&f=1", "display_name": "wewtwewt", "link": "https://stackoverflow.com/users/5646734/wewtwewt"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481155229, "post_id": 41029386, "comment_id": 69266634, "body": "Didn&#39;t work. That just removed the square brackets."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481155518, "post_id": 41029386, "comment_id": 69266729, "body": "Then <code>str(line) + &#39;\\n&#39;</code>. The point is you need to iterate over the list and write each item separately."}, {"owner": {"reputation": 1, "user_id": 5646734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569f52adefa62db7f0ea7e75c27d4f22?s=128&d=identicon&r=PG&f=1", "display_name": "wewtwewt", "link": "https://stackoverflow.com/users/5646734/wewtwewt"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481156244, "post_id": 41029386, "comment_id": 69266959, "body": "<code>for line in output:</code>         <code>reportFile.write(str(line) + &quot;\\n&quot;)</code>  gives me the same output without line breaks."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481156333, "post_id": 41029386, "comment_id": 69266987, "body": "Works fine for me. Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 1, "user_id": 5646734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569f52adefa62db7f0ea7e75c27d4f22?s=128&d=identicon&r=PG&f=1", "display_name": "wewtwewt", "link": "https://stackoverflow.com/users/5646734/wewtwewt"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481156942, "post_id": 41029386, "comment_id": 69267156, "body": "ok, it works if I remove <code>newline=&#39;\\n&#39;</code> from line 4 of the function"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1481228992, "last_edit_date": 1481228992, "creation_date": 1481228450, "answer_id": 41048142, "question_id": 41029386, "link": "https://stackoverflow.com/questions/41029386/python-sqlite-query-to-file-with-line-breaks/41048142#41048142", "title": "Python sqlite query to file with line breaks", "body": "<p>For readable reports for a regular end user, I might use <a href=\"https://pypi.python.org/pypi/PrettyTable\" rel=\"nofollow noreferrer\"><code>prettytable</code></a>, as in the following example:</p>\n\n<pre><code>import sqlite3\nimport prettytable\n\ndef reportAll(conn):\n    cursor = conn.execute(\"SELECT * FROM STUDENTS\")\n    output = prettytable.from_db_cursor(cursor)\n    output.set_style(prettytable.PLAIN_COLUMNS)\n    output.align = \"l\"\n    with open(\"All Students.txt\", \"w\") as reportFile:\n        reportFile.write(output.get_string())\n    print(\"Report saved into 'All Students.txt'\")\n    print(\"**********\")\n\ndef setup(conn):\n    data = [(6, 'Pass', 'Data', 60),\n            (7, 'name7', 'name7', 75),\n            (8, 'name8', 'name8', 99),\n            (9, 'name9', 'name9', 15)]\n    conn.execute(\n        '''create table STUDENTS (\n               ID integer,\n               FIRSTNAME text,\n               LASTNAME text,\n               SCORE integer);''')\n    conn.executemany('insert into STUDENTS values (?, ?, ?, ?);', data)\n    conn.commit()\n\n\ndef main():\n    conn = sqlite3.connect(\":memory:\")\n    setup(conn)\n    reportAll(conn)\n\nmain()\n</code></pre>\n\n<p>Result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID        FIRSTNAME        LASTNAME        SCORE\n6         Pass             Data            60\n7         name7            name7           75\n8         name8            name8           99\n9         name9            name9           15      \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5646734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569f52adefa62db7f0ea7e75c27d4f22?s=128&d=identicon&r=PG&f=1", "display_name": "wewtwewt", "link": "https://stackoverflow.com/users/5646734/wewtwewt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 704, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1481228992, "creation_date": 1481154279, "question_id": 41029386, "link": "https://stackoverflow.com/questions/41029386/python-sqlite-query-to-file-with-line-breaks", "title": "Python sqlite query to file with line breaks", "body": "<p>I'm trying to write an sqlite query to a text file as a readable report(not a csv) for a regular end user. I'm able to write to the file, but I can't get it to have line breaks within the report.</p>\n\n<p>The text file looks like this:</p>\n\n<pre><code>[(6, 'Pass', 'Data', 60), (7, 'name7', 'name7', 75), (8, 'name8', 'name8', 99), (9, 'name9', 'name9', 15)]\n</code></pre>\n\n<p>Here's my function:</p>\n\n<pre><code>def reportAll():\ncursor = conn.execute(\"SELECT * FROM STUDENTS\") #this line might not be needed\noutput = cursor.fetchall()\nreportFile = open(\"All Students.txt\", \"w\", newline='\\n')\nreportFile.write(str(output))\nreportFile.close()\nprint(\"Report saved into 'All Students.txt'\")\nprint(\"**********\")\n</code></pre>\n\n<p>I'm tried hacking in a \"\\n\" into various places with no luck. Any ideas?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "svm"], "comments": [{"owner": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 2, "creation_date": 1481156134, "post_id": 41029373, "comment_id": 69266922, "body": "As an R-only &quot;speaker/thinker&quot; I find it odd that this complaint about Python would have an R tag. I also find it annoying even when people with questions about howto-in-R post code that is in another computer language (but no clear natural language description) and expect us monolingual R-users to offer advice. It&#39;s also likely that SVM&#39;s are non-deterministic so just offering output of a single run on a small dataset with binomial predictions is unlikely to be convincing evidence of a &quot;true difference&quot;."}, {"owner": {"reputation": 772, "user_id": 5392289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10156139088900014/picture?type=large", "display_name": "Oliver Angelil", "link": "https://stackoverflow.com/users/5392289/oliver-angelil"}, "reply_to_user": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1481157858, "post_id": 41029373, "comment_id": 69267453, "body": "Mr Grumpy Face: I made some effort to write this post in and concise and clear way. I hoped it would be about the details of tuning SVMs for maximum skill. SVMs are may not be deterministic, but you can certainly tune them to improve skill (the best.svm function in R does this). The data posted is smoothed from data 20 times larger, so there should not be much noise."}, {"owner": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1481158226, "post_id": 41029373, "comment_id": 69267558, "body": "So... Do you really think an R tag is useful for people trying to find information in the future about how to do SVM&#39;s with Python in the future? If the &quot;value&quot;&#39;s are comparable then don&#39;t you think it would have added something to the question to say that they were constructed with data that was significantly larger than what appears?"}, {"owner": {"reputation": 772, "user_id": 5392289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10156139088900014/picture?type=large", "display_name": "Oliver Angelil", "link": "https://stackoverflow.com/users/5392289/oliver-angelil"}, "reply_to_user": {"reputation": 239591, "user_id": 1855677, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5ufQP.png?s=128&g=1", "display_name": "IRTFM", "link": "https://stackoverflow.com/users/1855677/irtfm"}, "edited": false, "score": 0, "creation_date": 1481158515, "post_id": 41029373, "comment_id": 69267641, "body": "Good point, I&#39;ll add that bit into the question. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 772, "user_id": 5392289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10156139088900014/picture?type=large", "display_name": "Oliver Angelil", "link": "https://stackoverflow.com/users/5392289/oliver-angelil"}, "edited": false, "score": 0, "creation_date": 1481167239, "post_id": 41030133, "comment_id": 69269924, "body": "That&#39;s the vital bit of information I was looking for."}], "tags": [], "owner": {"reputation": 681, "user_id": 3429422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedd0c4620adba8f68437f3ae32d9a43?s=128&d=identicon&r=PG&f=1", "display_name": "KevinD", "link": "https://stackoverflow.com/users/3429422/kevind"}, "is_accepted": true, "score": 2, "last_activity_date": 1481159465, "creation_date": 1481159465, "answer_id": 41030133, "question_id": 41029373, "link": "https://stackoverflow.com/questions/41029373/poor-skill-of-support-vector-machine-in-python-compared-to-r/41030133#41030133", "title": "Poor Skill of Support Vector Machine in Python compared to R", "body": "<p>This observed difference might come from the fact that in R, svm() scales the data by default (<a href=\"ftp://cran.r-project.org/pub/R/web/packages/e1071/vignettes/svmdoc.pdf\" rel=\"nofollow noreferrer\">see documentation, page 6</a>).</p>\n\n<p>If you use scikit-learn's StandardScaler, you end up with a result pretty close from the one you obtained with R : </p>\n\n<pre><code>import numpy as np\nfrom sklearn.svm import SVC\nfrom sklearn.preprocessing import StandardScaler\n\nscaler = StandardScaler()\nData = np.array([-108.604150711185, -131.880188127745,-18.3017441809734, 32.011639982337, -71.6651360870381, -107.587087751331, 21.316311739316, -36.015324564807, 138.22302265079, 47.9322592065447, -129.007749732555, -150.41808326425, -141.00589707504, -105.912063885407, 76.2956568174239, 141.457541434218, -20.6676395937811, -226.505644333494, -151.229861588686, -160.18717733968, -107.01667849677, -7.52794131287047, -93.1147621027003, 5.59630172385392, 38.741091785708, -32.9061390503546, -78.5031246062325, -9.64080356337477, -54.1430873201472, -108.127067430103, -12.2589074567133, 129.212940940854, 132.670728015743, 107.075153550768, 167.176831103164, -20.6839530330714, 102.677911281291, -109.423698849103, -154.454318421757, 140.52342226202, 110.184351332211, -16.6842057565239, -11.1688984829787, 178.441845032635, 37.0689292040101, 166.610506783818, -79.2764182099804, 99.1136693164655, 82.0929274697289, 15.1752041486536, 178.489001782771, 145.332200036106, -185.977800430997, -90.5440753976243, 78.0459300120412, 144.297553387967, 99.5945824957091, 110.803195137024, 81.3094331750562,-396.825240330405, -166.038928089807, -78.863983688682, 138.309908804212, -148.647304302406, -2.23135233624276, 129.411511929621, -111.664324254549, -96.4151180340831, 129.219227225386, 90.7050615157428, 141.986869866474, 93.0147970463941, 142.807435791073, -75.8426755946232, 122.537973092667, 117.078515092191, 134.166968023265, 90.8512172789568, 146.367129646428, 125.539182526718, -70.485058023267, -46.967575223949, 116.210349687502, -91.2992704167832, 104.052231138142, -114.580693287221, -82.9991067628608, -111.649187979413])\nData = scaler.fit_transform(Data)\nClass = np.array([0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0])\ndf_training = np.array([Data, Class])\n\nData = np.array([133.75999742845, 22.9386702890105, -126.959902277009, -116.317935595297, -33.9418594804197, -49.0102540773413, -159.266630498512, -8.92296705690401, 114.328300224712, 66.0706175847251, -154.385344188283, 70.7868284982941, -28.334490887314, 118.755307949047, 154.362286178401, 101.331675190569, 96.2196681290104, 99.5694296232446, 210.160787371823, 65.8474210711036, -125.475676456606, 66.7541385125748, -161.001356357477, -40.1416817172267, 38.6877489907967, -7.12706914419719, -10.3967176519225, -80.6831091111636, 128.604227270616, 75.4219966516171, 184.951786958864, 90.9170782990185, 66.7190886024699, 81.377280661573, -82.4053965286415, -65.6718687269108, 61.1679518726262, 190.532649096311, 199.917670153196, 104.558442558929, 113.747065157369, 106.640501329133,80.593201532054, 75.0176280888154, 155.538654396817, 30.0548798029353, 116.900219512636, 131.431417509576, 33.3308447581156, -121.191534016935, -80.4203785670198, 157.737407847885, 66.5956228628815, 50.8340706561446, -113.713450848071, -18.7787225270887, 113.832326071127, -45.5884280143408, 221.782395098832, 70.1660982367319, 235.005982636939, 80.8180320055801, -74.7107276814795, 133.925782624001, 97.9261686360971, -127.954532027281, 58.9295075974962, 96.1702797891484, -49.6048543914143, -42.1842037639683, -235.694708213157, 13.4862841916787, 126.396462591781, 214.297316240176, 125.148658464391, 84.8887673204376, 78.2717096234718, 139.677936314095, -168.649300541479, 103.40253638232, 69.2727189156141, 153.017155534869, -238.07168745534, -166.929968475244, 113.414489211719,85.5520123243496, 120.582346886614, -214.850084749638, 96.8090523924549])\nData = scaler.fit_transform(Data)\nClass = np.array([1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1])\ndf_test = np.array([Data, Class])\n\n# train model                                                                                                                                                 \nclf = SVC(verbose=True, gamma=0.01, kernel='rbf', C=1)                                                     \n\n# make predictions\nclf.fit(df_training[0].reshape(88,1), df_training[1].reshape(88,1))\nTrainingPredictions = clf.predict(df_training[0].reshape(88,1))\nTestPredictions = clf.predict(df_test[0].reshape(89,1))\nSkill = np.sum(TestPredictions==df_test[1])/float(len(TestPredictions))\nprint(\"Skill: \"+str(Skill)) #value is 0.84\n</code></pre>\n"}], "owner": {"reputation": 772, "user_id": 5392289, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10156139088900014/picture?type=large", "display_name": "Oliver Angelil", "link": "https://stackoverflow.com/users/5392289/oliver-angelil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 41030133, "answer_count": 1, "score": 0, "last_activity_date": 1481179755, "creation_date": 1481154236, "last_edit_date": 1481179755, "question_id": 41029373, "link": "https://stackoverflow.com/questions/41029373/poor-skill-of-support-vector-machine-in-python-compared-to-r", "title": "Poor Skill of Support Vector Machine in Python compared to R", "body": "<p>I am trying to <em>roughly</em> reproduce C-classification SVM cross-validation skill in R (<a href=\"https://cran.r-project.org/web/packages/e1071/e1071.pdf\" rel=\"nofollow noreferrer\">e1071 package</a>) using Python (<a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.svm.SVC.html\" rel=\"nofollow noreferrer\">scikit-learn</a>), but am getting nowhere near R's prediction skill. Given the below training and test data (which have been smoothed from datasets much larger in length), R prediction skill is 0.87 (where 1 is perfect), and Python skill is 0.55 which is not much better than guessing. Note that I am not at all trying to get identical results, I am just hopeful that if R can do reasonably well then so could Python on the same dataset. I have split my data 50-50 (training and test), and am trying to predict binomial results from floats. R and Python code are given below. All the default SVM arguments that I checked were the same between both R and Python (gamma, C(cost), shrinking, tol, etc).</p>\n\n<p>R code:</p>\n\n<pre><code>library(\"e1071\")\n\ndata &lt;- c(-108.604150711185, -131.880188127745, -18.3017441809734, 32.011639982337, -71.6651360870381, -107.587087751331, 21.316311739316, -36.015324564807, 138.22302265079, 47.9322592065447, -129.007749732555, -150.41808326425, -141.00589707504, -105.912063885407, 76.2956568174239, 141.457541434218, -20.6676395937811, -226.505644333494, -151.229861588686, -160.18717733968, -107.01667849677, -7.52794131287047, -93.1147621027003, 5.59630172385392, 38.741091785708, -32.9061390503546, -78.5031246062325, -9.64080356337477, -54.1430873201472, -108.127067430103, -12.2589074567133, 129.212940940854, 132.670728015743, 107.075153550768, 167.176831103164, -20.6839530330714, 102.677911281291, -109.423698849103, -154.454318421757, 140.52342226202, 110.184351332211, -16.6842057565239, -11.1688984829787, 178.441845032635, 37.0689292040101, 166.610506783818, -79.2764182099804, 99.1136693164655, 82.0929274697289, 15.1752041486536, 178.489001782771, 145.332200036106, -185.977800430997, -90.5440753976243, 78.0459300120412, 144.297553387967, 99.5945824957091, 110.803195137024, 81.3094331750562, -396.825240330405, -166.038928089807, -78.863983688682, 138.309908804212, -148.647304302406, -2.23135233624276, 129.411511929621, -111.664324254549, -96.4151180340831, 129.219227225386, 90.7050615157428, 141.986869866474, 93.0147970463941, 142.807435791073, -75.8426755946232, 122.537973092667, 117.078515092191, 134.166968023265, 90.8512172789568, 146.367129646428, 125.539182526718, -70.485058023267, -46.967575223949, 116.210349687502, -91.2992704167832, 104.052231138142, -114.580693287221, -82.9991067628608, -111.649187979413)\nclass &lt;- as.factor(c(0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0))\ndf_training &lt;- data.frame(data, class)\n\ndata &lt;- c(133.75999742845, 22.9386702890105, -126.959902277009, -116.317935595297, -33.9418594804197, -49.0102540773413, -159.266630498512, -8.92296705690401, 114.328300224712, 66.0706175847251, -154.385344188283, 70.7868284982941, -28.334490887314, 118.755307949047, 154.362286178401, 101.331675190569, 96.2196681290104, 99.5694296232446, 210.160787371823, 65.8474210711036, -125.475676456606, 66.7541385125748, -161.001356357477, -40.1416817172267, 38.6877489907967, -7.12706914419719, -10.3967176519225, -80.6831091111636, 128.604227270616, 75.4219966516171, 184.951786958864, 90.9170782990185, 66.7190886024699, 81.377280661573, -82.4053965286415, -65.6718687269108, 61.1679518726262, 190.532649096311, 199.917670153196, 104.558442558929, 113.747065157369, 106.640501329133, 80.593201532054, 75.0176280888154, 155.538654396817, 30.0548798029353, 116.900219512636, 131.431417509576, 33.3308447581156, -121.191534016935, -80.4203785670198, 157.737407847885, 66.5956228628815, 50.8340706561446, -113.713450848071, -18.7787225270887, 113.832326071127, -45.5884280143408, 221.782395098832, 70.1660982367319, 235.005982636939, 80.8180320055801, -74.7107276814795, 133.925782624001, 97.9261686360971, -127.954532027281, 58.9295075974962, 96.1702797891484, -49.6048543914143, -42.1842037639683, -235.694708213157, 13.4862841916787, 126.396462591781, 214.297316240176, 125.148658464391, 84.8887673204376, 78.2717096234718, 139.677936314095, -168.649300541479, 103.40253638232, 69.2727189156141, 153.017155534869, -238.07168745534, -166.929968475244, 113.414489211719, 85.5520123243496, 120.582346886614, -214.850084749638, 96.8090523924549)\nclass &lt;- as.factor(c(1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1))\ndf_test &lt;- data.frame(data, class)\n\n#train model\nbest.svm &lt;- best.tune(svm,\n                      class~data,\n                      data=df_training,kernel = 'radial',cost = 1, gamma = 0.01,\n                      type = \"C-classification\")\n\n#make predictions\nTrainingPredictions&lt;-predict(best.svm,df_training,type=\"class\")\nTestPredictions &lt;- predict(best.svm,df_test,type=\"class\")\n\nSkill = sum(TestPredictions==df_test[[c('class')]])/length(TestPredictions)\nprint(Skill) #value is 0.87\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>import numpy as np\nfrom sklearn.svm import SVC\n\nData = np.array([-108.604150711185, -131.880188127745,-18.3017441809734, 32.011639982337, -71.6651360870381, -107.587087751331, 21.316311739316, -36.015324564807, 138.22302265079, 47.9322592065447, -129.007749732555, -150.41808326425, -141.00589707504, -105.912063885407, 76.2956568174239, 141.457541434218, -20.6676395937811, -226.505644333494, -151.229861588686, -160.18717733968, -107.01667849677, -7.52794131287047, -93.1147621027003, 5.59630172385392, 38.741091785708, -32.9061390503546, -78.5031246062325, -9.64080356337477, -54.1430873201472, -108.127067430103, -12.2589074567133, 129.212940940854, 132.670728015743, 107.075153550768, 167.176831103164, -20.6839530330714, 102.677911281291, -109.423698849103, -154.454318421757, 140.52342226202, 110.184351332211, -16.6842057565239, -11.1688984829787, 178.441845032635, 37.0689292040101, 166.610506783818, -79.2764182099804, 99.1136693164655, 82.0929274697289, 15.1752041486536, 178.489001782771, 145.332200036106, -185.977800430997, -90.5440753976243, 78.0459300120412, 144.297553387967, 99.5945824957091, 110.803195137024, 81.3094331750562,-396.825240330405, -166.038928089807, -78.863983688682, 138.309908804212, -148.647304302406, -2.23135233624276, 129.411511929621, -111.664324254549, -96.4151180340831, 129.219227225386, 90.7050615157428, 141.986869866474, 93.0147970463941, 142.807435791073, -75.8426755946232, 122.537973092667, 117.078515092191, 134.166968023265, 90.8512172789568, 146.367129646428, 125.539182526718, -70.485058023267, -46.967575223949, 116.210349687502, -91.2992704167832, 104.052231138142, -114.580693287221, -82.9991067628608, -111.649187979413])\nClass = np.array([0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0])\ndf_training = np.array([Data, Class])\n\nData = np.array([133.75999742845, 22.9386702890105, -126.959902277009, -116.317935595297, -33.9418594804197, -49.0102540773413, -159.266630498512, -8.92296705690401, 114.328300224712, 66.0706175847251, -154.385344188283, 70.7868284982941, -28.334490887314, 118.755307949047, 154.362286178401, 101.331675190569, 96.2196681290104, 99.5694296232446, 210.160787371823, 65.8474210711036, -125.475676456606, 66.7541385125748, -161.001356357477, -40.1416817172267, 38.6877489907967, -7.12706914419719, -10.3967176519225, -80.6831091111636, 128.604227270616, 75.4219966516171, 184.951786958864, 90.9170782990185, 66.7190886024699, 81.377280661573, -82.4053965286415, -65.6718687269108, 61.1679518726262, 190.532649096311, 199.917670153196, 104.558442558929, 113.747065157369, 106.640501329133,80.593201532054, 75.0176280888154, 155.538654396817, 30.0548798029353, 116.900219512636, 131.431417509576, 33.3308447581156, -121.191534016935, -80.4203785670198, 157.737407847885, 66.5956228628815, 50.8340706561446, -113.713450848071, -18.7787225270887, 113.832326071127, -45.5884280143408, 221.782395098832, 70.1660982367319, 235.005982636939, 80.8180320055801, -74.7107276814795, 133.925782624001, 97.9261686360971, -127.954532027281, 58.9295075974962, 96.1702797891484, -49.6048543914143, -42.1842037639683, -235.694708213157, 13.4862841916787, 126.396462591781, 214.297316240176, 125.148658464391, 84.8887673204376, 78.2717096234718, 139.677936314095, -168.649300541479, 103.40253638232, 69.2727189156141, 153.017155534869, -238.07168745534, -166.929968475244, 113.414489211719,85.5520123243496, 120.582346886614, -214.850084749638, 96.8090523924549])\nClass = np.array([1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1])\ndf_test = np.array([Data, Class])\n\n# train model                                                                                                                                                 \nclf = SVC(verbose=True, gamma=0.01, kernel='rbf', C=1)                                                     \n\n# make predictions\nclf.fit(df_training[0].reshape(88,1), df_training[1].reshape(88,1))\nTrainingPredictions = clf.predict(df_training[0].reshape(88,1))\nTestPredictions = clf.predict(df_test[0].reshape(89,1))\nSkill = np.sum(TestPredictions==df_test[1])/float(len(TestPredictions))\nprint Skill #value is 0.55\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1481153799, "post_id": 41029289, "comment_id": 69266154, "body": "&quot;Does Python build a list of local variables (something like <code>__slots__</code> for a class) as it is compiling the function?&quot; - yup."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1481154008, "post_id": 41029289, "comment_id": 69266228, "body": "The fact that it is a builtin is a red-herring. Try that with any variable that is in the global scope and the same thing will happen."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481167045, "post_id": 41029289, "comment_id": 69269878, "body": "@juanpa.arrivillaga I figured it applied to any global name. <code>min</code> was just the first thing that came to mind for a minimal example. My question is purely about why it happens."}], "answers": [{"tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": false, "score": 3, "last_activity_date": 1481154497, "last_edit_date": 1481154497, "creation_date": 1481153863, "answer_id": 41029312, "question_id": 41029289, "link": "https://stackoverflow.com/questions/41029289/using-builtin-name-as-local-variable-but-also-as-builtin/41029312#41029312", "title": "Using builtin name as local variable but also as builtin", "body": "<p>Yes, specifically, if you take a look at the byte code generated, you'll see that Python tries to load it as a local with <code>LOAD_FAST</code>:</p>\n\n<pre><code>&gt;&gt;&gt; dis(x)\n  2           0 LOAD_GLOBAL              0 (print)\n              3 LOAD_FAST                0 (min)\n              6 LOAD_CONST               1 (0)\n              9 LOAD_CONST               2 (1)\n             12 CALL_FUNCTION            2 (2 positional, 0 keyword pair)\n             15 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n</code></pre>\n\n<p>During compilation of the function object (I'm pretty sure it is during the construction of the symbol table), an assignment to <code>min</code> is detected and any look-ups for that name will be resolved in the local scope.</p>\n\n<p>You can actually peek at the symbol table constructed and see how the symbol (name) <code>min</code> is classified:</p>\n\n<pre><code>&gt;&gt;&gt; import symtable\n&gt;&gt;&gt; s=\"\"\"\n... def x():\n...     print(min(0, 1))\n...     min = 7\n...     print(min)\n... \"\"\"\n&gt;&gt;&gt; t = symtable.symtable(s, '', compile_type='exec')\n&gt;&gt;&gt; i = t.get_children()[0].get_symbols()[0]\n&gt;&gt;&gt; print(i)\n&lt;symbol 'min'&gt;\n&gt;&gt;&gt; i.is_local()\nTrue\n</code></pre>\n\n<p>Haven't taken a good look into the symtable internals but there just might be some overriding here. Afterwards, during execution, this will flat out fail due to the fact that the assignment happens after the reference and no value can be found.</p>\n"}, {"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1481154220, "post_id": 41029320, "comment_id": 69266289, "body": "That&#39;s called the <a href=\"https://www.embrangler.com/2011/01/python-scoping-understading-legb/\" rel=\"nofollow noreferrer\"><code>LEGB</code></a> manner."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 2, "creation_date": 1481154351, "post_id": 41029320, "comment_id": 69266338, "body": "@Kasramvd: LEGB defines the order of lookup, but it&#39;s not, in itself, describing the fact that &quot;local&quot; is for the entire block, not just from point of definition onward."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1481154500, "post_id": 41029320, "comment_id": 69266390, "body": "Indeed, but my comment has nothing to do with <i>definition onward</i>, once python encounters the <code>min</code>  variable within its local namespace it doesn&#39;t continue the lookup."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 3, "creation_date": 1481154748, "post_id": 41029320, "comment_id": 69266488, "body": "@Kasramvd: True, but that&#39;s kind of subtle in itself. If a global that shadows a builtin name is defined at top level on line 2, and you use that name at top level on line 1 and line 3, you get the builtin on line 1 and the shadowing name on line 3. The fact that locals don&#39;t work that way while globals do makes references to LEGB less than useful here. Nested scope is even weirder, where calling the nested function in the outer function before locals in the outer scope have been defined and having the inner function print gets a value like <code>&lt;function foo.&lt;locals&gt;.bar at 0x7f5887930d08&gt;</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1481157431, "post_id": 41029320, "comment_id": 69267320, "body": "@ShadowRanger: I think you just screwed up your test with nested scopes, probably by <a href=\"http://ideone.com/Vhvhuo\" rel=\"nofollow noreferrer\">printing the nested <code>bar</code> function itself</a> instead of printing the unbound closure variable. If you try to access a closure variable before a value is assigned to it, <a href=\"http://ideone.com/h6Qwnw\" rel=\"nofollow noreferrer\">you get a NameError</a>."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1481159316, "post_id": 41029320, "comment_id": 69267861, "body": "@user2357112: Yeah, you&#39;re right. My fault for trying to finish test and comment in a rush before I had to go help with kiddo bedtime rituals. So nested scopes are more like local scopes, while global scope is different. Either way, LEGB is not particularly helpful for understanding it."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 7, "last_activity_date": 1481154481, "last_edit_date": 1481154481, "creation_date": 1481153907, "answer_id": 41029320, "question_id": 41029289, "link": "https://stackoverflow.com/questions/41029289/using-builtin-name-as-local-variable-but-also-as-builtin/41029320#41029320", "title": "Using builtin name as local variable but also as builtin", "body": "<p>The compile phase for Python identifies all names that are assigned to within the scope of a function, and marks those names as locals (they're assigned an index in a local variable array in CPython, so using them doesn't involve dictionary lookups at all).</p>\n\n<p>Being a local is all or nothing, for the entire scope of the method. You can't treat a variable as local for part of the method, and global/built-in for the rest. Per <a href=\"https://docs.python.org/3/reference/executionmodel.html#naming-and-binding\" rel=\"nofollow noreferrer\">the language reference on naming and binding</a>:</p>\n\n<blockquote>\n  <p>A scope defines the visibility of a name within a block. If a local variable is defined in a block, its scope includes that block.</p>\n</blockquote>\n\n<p>Like most language standards, that's rather dry, but the important point is that defining a local variable within the block makes it local for the (implied) whole block, not from point of definition.</p>\n\n<p>If you need to do something like this, you can make a local from <a href=\"https://docs.python.org/3/library/builtins.html#module-builtins\" rel=\"nofollow noreferrer\">the qualified name of the builtin</a> initially, then change it later, e.g.:</p>\n\n<pre><code>import builtins  # On Python 2, __builtin__\n\ndef x():\n    min = builtins.min\n    print(min(0, 1))\n    min = 7\n    print(min)\n</code></pre>\n\n<p>Or you can use a cheesy hack based on compile-time default value caching for the same purpose:</p>\n\n<pre><code>def x(min=min): # Caches builtin function as a default value for local min\n    print(min(0, 1))\n    min = 7\n    print(min)\n</code></pre>\n\n<p>If you're on Python 3, you'd want to do <code>def x(*, min=min):</code> to make it a keyword only argument, so it can't be overridden by the caller if they accidentally pass too many arguments positionally.</p>\n"}], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 2, "accepted_answer_id": 41029320, "answer_count": 2, "score": -1, "last_activity_date": 1481154904, "creation_date": 1481153730, "last_edit_date": 1481154904, "question_id": 41029289, "link": "https://stackoverflow.com/questions/41029289/using-builtin-name-as-local-variable-but-also-as-builtin", "title": "Using builtin name as local variable but also as builtin", "body": "<p>I have the following function:</p>\n\n<pre><code>def x():\n    print(min(0, 1))\n    min = 7\n    print(min)\n</code></pre>\n\n<p>On the face of it (naively), it should print <code>0</code>, then <code>7</code>. In fact it raises an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 2, in x\nUnboundLocalError: local variable 'min' referenced before assignment\n</code></pre>\n\n<p>How does defining <code>min</code> as a local variable in <code>min = 7</code> prevent it from being used as the builtin before hand? Does Python build a list of local variables (something like <code>__slots__</code> for a class) as it is compiling the function?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 1, "creation_date": 1481153769, "post_id": 41029279, "comment_id": 69266138, "body": "&quot;I keep getting an error&quot; \u2013 care to share?"}, {"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1481153769, "post_id": 41029279, "comment_id": 69266139, "body": "what error do you get?"}, {"owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "edited": false, "score": 4, "creation_date": 1481153882, "post_id": 41029279, "comment_id": 69266190, "body": "Change <code>S = open(&quot;filename&quot;,&quot;r&quot;)</code> to <code>S = open(filename,&quot;r&quot;)</code> Your are trying to open a file called <code>filename</code> rather than the variable which contains the users input."}], "answers": [{"tags": [], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "is_accepted": false, "score": 0, "last_activity_date": 1481154272, "creation_date": 1481154272, "answer_id": 41029381, "question_id": 41029279, "link": "https://stackoverflow.com/questions/41029279/utilizing-readlines-correctly/41029381#41029381", "title": "Utilizing readlines() correctly", "body": "<p>Change the line:</p>\n\n<pre><code>S = open(\"filename\",\"r\")\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>S = open(filename, \"r\")\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 6902080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18c5030f776efd8c1d45c21afc1a4dfc?s=128&d=identicon&r=PG&f=1", "display_name": "TriskelionKal", "link": "https://stackoverflow.com/users/6902080/triskelionkal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1481154272, "creation_date": 1481153665, "question_id": 41029279, "link": "https://stackoverflow.com/questions/41029279/utilizing-readlines-correctly", "title": "Utilizing readlines() correctly", "body": "<p>I am attempting to use readlines in my program but I keep getting an error when I utilize it. I am not sure why, can anyone help?</p>\n\n<pre><code>try:\n    filename = input(\"Please enter the name of the file you would like to examine: \")\n    S = open(\"filename\",\"r\")\nexcept:\n    print(\"Cannot open \" + filename + \"!\")\n\nSlines = S.readlines()\nli = len(Slines)\nwords = 0\nchars = 0\nfor item in Slines:\n    splitem = item.split()\n    words += (len(splitem) - 2)\n    chars += (len(item) - 2)\n\n\nprint(\"In \" + filename + \"There were:\")\nprint(str(li) + \" lines\")\nprint(str(words) + \" words\")\nprint(str(chars) + \" characters\")\nS.close()\n</code></pre>\n"}, {"tags": ["python", "html", "beautifulsoup"], "comments": [{"owner": {"reputation": 4407, "user_id": 402197, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/QxO5x.jpg?s=128&g=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/402197/shane"}, "edited": false, "score": 0, "creation_date": 1481181886, "post_id": 41029259, "comment_id": 69275165, "body": "<a href=\"http://stackoverflow.com/a/22633963/402197\">stackoverflow.com/a/22633963/402197</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5299, "user_id": 2961662, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/OEFyx.jpg?s=128&g=1", "display_name": "Pav Sidhu", "link": "https://stackoverflow.com/users/2961662/pav-sidhu"}, "edited": false, "score": 0, "creation_date": 1481154208, "post_id": 41029304, "comment_id": 69266284, "body": "Thanks for the feedback, unfortunately I don&#39;t think I was clear enough, I just updated the question to reflect what I&#39;m trying to get."}], "tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1481153796, "creation_date": 1481153796, "answer_id": 41029304, "question_id": 41029259, "link": "https://stackoverflow.com/questions/41029259/adding-missing-html-elements-using-python/41029304#41029304", "title": "Adding missing HTML elements using Python", "body": "<p>From what I understand, what you need is something like this:</p>\n\n<pre><code>lis = \"\"\"\n&lt;li&gt;List Item 1&lt;/li&gt;\n&lt;li&gt;List Item 2&lt;/li&gt;\n&lt;li&gt;List Item 3&lt;/li&gt;\"\"\"\n\nul = '&lt;ul&gt;{}&lt;/ul&gt;'.format(lis)\n</code></pre>\n\n<p>To remove <code>\\n</code> from your <code>li</code> elements, you can use:</p>\n\n<pre><code>ul = '&lt;ul&gt;{}&lt;/ul&gt;'.format(''.join(li.strip('\\n') for li in lis))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt;&gt;&gt; ul\n'&lt;ul&gt;&lt;li&gt;List Item 1&lt;/li&gt;&lt;li&gt;List Item 2&lt;/li&gt;&lt;li&gt;List Item 3&lt;/li&gt;&lt;/ul&gt;'\n</code></pre>\n"}], "owner": {"reputation": 5299, "user_id": 2961662, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/OEFyx.jpg?s=128&g=1", "display_name": "Pav Sidhu", "link": "https://stackoverflow.com/users/2961662/pav-sidhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481154154, "creation_date": 1481153517, "last_edit_date": 1481154154, "question_id": 41029259, "link": "https://stackoverflow.com/questions/41029259/adding-missing-html-elements-using-python", "title": "Adding missing HTML elements using Python", "body": "<p>If I was given a string with the following HTML tags</p>\n\n<pre><code>&lt;li&gt;List Item 1&lt;/li&gt;\n&lt;li&gt;List Item 2&lt;/li&gt;\n&lt;li&gt;List Item 3&lt;/li&gt;\n</code></pre>\n\n<p>How would I go about adding <code>&lt;ul&gt;</code> tags around the list items so that the HTML is valid.</p>\n\n<p>I'm aware of libraries such as BeautifulSoup however from looking at the documentation, there doesn't appear to be any sort of solution. I'm aware I could use Regex however I'm not 100% how I would implement this since the number of <code>&lt;li&gt;</code> tags can be infinite and can contain children.</p>\n\n<p>Any ideas? Thanks.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The HTML given isn't only:</p>\n\n<pre><code>&lt;li&gt;List Item 1&lt;/li&gt;\n&lt;li&gt;List Item 2&lt;/li&gt;\n&lt;li&gt;List Item 3&lt;/li&gt;\n</code></pre>\n\n<p>but contains other tags, that bit above is only a fragment of what the HTML string will look like. The string will not be the same either, it's based on user input meaning it could be anything that contains <code>&lt;li&gt;</code> without a correct <code>&lt;ul&gt;</code> element as the list item's parent.</p>\n"}, {"tags": ["python", "scrapy"], "comments": [{"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1481196569, "post_id": 41029207, "comment_id": 69284014, "body": "Do you have a more complete stacktrace to share? more console logs? Is that the whole script?"}, {"owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "reply_to_user": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1481216185, "post_id": 41029207, "comment_id": 69297214, "body": "I added the whole script and stacktrace, working on the logs"}, {"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1481277316, "post_id": 41029207, "comment_id": 69321808, "body": "Are you able to run this (very simplistic) example? <a href=\"https://gist.github.com/redapple/00cb5700bb928c19e0d9cbe3faa62a2f\" rel=\"nofollow noreferrer\">gist.github.com/redapple/00cb5700bb928c19e0d9cbe3faa62a2f</a>"}], "owner": {"reputation": 71, "user_id": 6557618, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8a122c2016675342662cb3186d304830?s=128&d=identicon&r=PG&f=1", "display_name": "pproctor", "link": "https://stackoverflow.com/users/6557618/pproctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 824, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1481216062, "creation_date": 1481153252, "last_edit_date": 1481216062, "question_id": 41029207, "link": "https://stackoverflow.com/questions/41029207/scrapy-reactor-not-restartable-error", "title": "Scrapy Reactor not restartable error", "body": "<p>I've created a spider that I want to crawl a website and return the results. When I run this script below, it produces the error:</p>\n\n<pre><code>traceback (most recent call last):\n\nFile \"&lt;ipython-input-1-e4ca99c5d3a6&gt;\", line 1, in &lt;module&gt;\nrunfile('/Users/xxxx/PythonScripts_conda/Scrapers/venmo_scraper/venmo_scraper/spiders/venmo_scrapy.py', wdir='/Users/pproctor/PythonScripts_conda/Scrapers/venmo_scraper/venmo_scraper/spiders')\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/spyder/utils/site/sitecustomize.py\", line 866, in runfile\nexecfile(filename, namespace)\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/spyder/utils/site/sitecustomize.py\", line 102, in execfile\nexec(compile(f.read(), filename, 'exec'), namespace)\n\nFile \"/Users/xxxx/PythonScripts_conda/Scrapers/venmo_scraper/venmo_scraper/spiders/venmo_scrapy.py\", line 58, in &lt;module&gt;\nprocess.start()\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/scrapy/crawler.py\", line 280, in start\nreactor.run(installSignalHandlers=False)  # blocking call\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/twisted/internet/base.py\", line 1198, in run\nself.startRunning(installSignalHandlers=installSignalHandlers)\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/twisted/internet/base.py\", line 1178, in startRunning\nReactorBase.startRunning(self)\n\nFile \"/Users/xxxx/anaconda/lib/python3.5/site-packages/twisted/internet/base.py\", line 687, in startRunning\nraise error.ReactorNotRestartable()\n\nReactorNotRestartable\n</code></pre>\n\n<hr>\n\n<pre><code>import scrapy\nfrom scrapy.crawler import CrawlerProcess\nfrom scrapy.utils.project import get_project_settings\n\n\nclass VenmoSpider(scrapy.Spider):\n    name = \"zasa\"\n\n    def start_requests(self):\n        url = 'https://www.xxasd.html'\n\n        yield scrapy.Request(url=url, callback=self.parse)\n\n    def parse(self, response):\n        page = response.url.split(\"/\")[-2]\n        filename = 'venmo-%s.html' % page\n        with open(filename, 'wb') as f:\n          f.write(response.body)\n          self.log('Saved file %s' % filename)\n\n        for ele in response.css('div'): \n            yield {\n             'participant': ele.css('a::text').extract_first(),\n             'tags': ele.css('div.tags a.tag::text').extract()\n             }\n\nprocess = CrawlerProcess(get_project_settings())\nprocess.crawl(VenmoSpider)\nprocess.start()\n</code></pre>\n\n<p>I've followed the documentation on <a href=\"https://doc.scrapy.org/en/latest/topics/practices.html#run-scrapy-from-a-script\" rel=\"nofollow noreferrer\">scrapy</a> but have not found a clear solution. When I remove the process.start() call, it runs but doesn't crawl the url. </p>\n"}, {"tags": ["python", "sockets", "websocket"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481153338, "post_id": 41029178, "comment_id": 69265977, "body": "<i>&quot;To receive messages, the web server would have to start a connection&quot;</i> - no, the web server just needs to listen for the client to make a connection with it. The client does so exactly as you show in your example. Once they have the connection, you can send messages either way, both ways or not at all."}, {"owner": {"reputation": 18323, "user_id": 795319, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5b759d810e5691383ca0b4723a0ba595?s=128&d=identicon&r=PG", "display_name": "dangerChihuahua007", "link": "https://stackoverflow.com/users/795319/dangerchihuahua007"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481153653, "post_id": 41029178, "comment_id": 69266100, "body": "Thanks, but how can the server use the websockets API to listen for client connections without having to connect with anything itself?  Thank you for the edits. :)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481153747, "post_id": 41029178, "comment_id": 69266132, "body": "How does a web server listen for <i>any</i> connection? The library you link to is explicitly a <i>client</i> implementation."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481154601, "post_id": 41029178, "comment_id": 69266429, "body": "Post-edit: again, that&#39;s a <b>client library</b>. You also need WS support on whatever server you&#39;re using."}], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 3897125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd88edbc10bf1d18cbb9c5a66df389f?s=128&d=identicon&r=PG&f=1", "display_name": "koper89", "link": "https://stackoverflow.com/users/3897125/koper89"}, "is_accepted": false, "score": 1, "last_activity_date": 1481153749, "creation_date": 1481153749, "answer_id": 41029294, "question_id": 41029178, "link": "https://stackoverflow.com/questions/41029178/one-way-web-socket-communication/41029294#41029294", "title": "One way web socket communication?", "body": "<p>If you would want one way connection to the server, you could just listen on plain socket or use UDP or use HTTP requests ore any other TCP protocol.</p>\n"}], "owner": {"reputation": 18323, "user_id": 795319, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5b759d810e5691383ca0b4723a0ba595?s=128&d=identicon&r=PG", "display_name": "dangerChihuahua007", "link": "https://stackoverflow.com/users/795319/dangerchihuahua007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481153822, "creation_date": 1481153050, "last_edit_date": 1481153822, "question_id": 41029178, "link": "https://stackoverflow.com/questions/41029178/one-way-web-socket-communication", "title": "One way web socket communication?", "body": "<p>I was reading about the <a href=\"https://pypi.python.org/pypi/websocket-client/\" rel=\"nofollow noreferrer\">Python <code>websocket-client</code> library</a> and realized that, to receive data, we have to start a connection:</p>\n\n<pre><code>from websocket import create_connection\nws = create_connection(\"ws://echo.websocket.org/\")\nprint \"Received \" + ws.recv() + \"...\"\n</code></pre>\n\n<p>What if I just need a one-way connection? Say a Python script is running on my laptop, and it periodically sends messages to a local web server.</p>\n\n<p>To receive messages, the web server would have to start a connection, but starting a connection requires a URL to connect to. My Python script is not a web server, so it lacks a URL. How could the web server receive messages from the script?</p>\n\n<p>I tried to let the server listen for clients to connect with it via</p>\n\n<pre><code>ws = websocket.WebSocket()\nwhile 1:\n  print 'received \"' + ws.recv()\n</code></pre>\n\n<p>However, I get an error.</p>\n\n<pre><code>in _recv\n    bytes = self.io_sock.recv(bufsize)\nerror: [Errno 107] Transport endpoint is not connected\n</code></pre>\n\n<p>That error output leads me to believe that the server needs to connect in order to receive.</p>\n"}, {"tags": ["python", "html"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 0, "creation_date": 1481153154, "post_id": 41029171, "comment_id": 69265913, "body": "What is <code>....&#47;</code> in the path there?"}, {"owner": {"reputation": 131, "user_id": 5208921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/927efbac3979ebdffe108b1ccf60f511?s=128&d=identicon&r=PG", "display_name": "O. Barinov", "link": "https://stackoverflow.com/users/5208921/o-barinov"}, "reply_to_user": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 0, "creation_date": 1481153526, "post_id": 41029171, "comment_id": 69266049, "body": "@Dekel Thank you for your response. This is the path to my directory on the server, I have replaced it with dots to hide personal data"}], "owner": {"reputation": 131, "user_id": 5208921, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/927efbac3979ebdffe108b1ccf60f511?s=128&d=identicon&r=PG", "display_name": "O. Barinov", "link": "https://stackoverflow.com/users/5208921/o-barinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481153016, "creation_date": 1481153016, "question_id": 41029171, "link": "https://stackoverflow.com/questions/41029171/filter-html-table-data-in-python", "title": "Filter HTML table data in python", "body": "<p>I have a HTML table with multiple rows. I want to implement a possibility to filter table data by inserting filter criteria. This has to be done on server side on python. I need to avoid use of BeautifulSoup. Since my table is simplified I want to achieve this using regular expressions only. </p>\n\n<p>Basically, once user clicks on a button on table page script only should show matching table rows.  </p>\n\n<p>Table is: </p>\n\n<pre><code>&lt;tr&gt;\n    &lt;td valign=\"top\"&gt;test67&lt;/td&gt; //username\n    &lt;td valign=\"top\"&gt;24-11-2016, 02:20&lt;/td&gt; //date\n    &lt;td valign=\"top\"&gt;1&lt;/td&gt; //number\n    &lt;td valign=\"top\"&gt;0&lt;/td&gt; // number\n    &lt;td valign=\"top\"&gt;Player win&lt;/td&gt; // result\n    &lt;td valign=\"top\"&gt;1&lt;/td&gt; // time\n&lt;/tr&gt;\n</code></pre>\n\n<p>Python side:</p>\n\n<pre><code>#!/usr/bin/python\nimport re\nimport cgi\ndata = cgi.FieldStorage()\nfilter = data.getvalue('request')\nf = open('..../stats.html', 'r+')\nhtml = f.read()\nmatches = re.findall(filter, html)\nf.write(matches)\nf.close()\n</code></pre>\n\n<p>This is my version so far which does not parse a thing. I know it is currently wrong as <code>write</code> would only insert exact matches but could you please point out why it inserts nothing at all and also assist if there is a possibility to define gaps where <code>findall</code> will search for matches? </p>\n"}, {"tags": ["python", "tuples", "list-comprehension", "args", "iterable-unpacking"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 1, "creation_date": 1481153052, "post_id": 41029158, "comment_id": 69265869, "body": "Not so clear what you want to do. Can you give an example (or two) with the input/output you want?"}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1481153111, "post_id": 41029158, "comment_id": 69265900, "body": "Unclear ... what is <code>my_dict</code> in this ... a list of dictionaries?  Are you wanting to get a different field from each element of <code>my_dict</code>?"}, {"owner": {"reputation": 2867, "user_id": 1768843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8fr9.jpg?s=128&g=1", "display_name": "pagep", "link": "https://stackoverflow.com/users/1768843/pagep"}, "edited": false, "score": 0, "creation_date": 1481153121, "post_id": 41029158, "comment_id": 69265901, "body": "Like what exactly are you asking? Creating tuples from function arguments? So you want function which will return tuple ?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1481153513, "post_id": 41029158, "comment_id": 69266045, "body": "<code>*args</code> <b>already creates a tuple</b> - <code>args</code>, inside the function, would be <code>(&#39;field1&#39;, &#39;field2&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1481153282, "creation_date": 1481153282, "answer_id": 41029217, "question_id": 41029158, "link": "https://stackoverflow.com/questions/41029158/creating-a-tuple-out-of-args/41029217#41029217", "title": "Creating a tuple out of *args", "body": "<p>Simply refer to those arguments as normal:</p>\n\n<pre><code>def f(d, a, b):\n    return [(x[a], x[b]) for x in d]\n\nresult = f(my_dict, 'field1', 'field2')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 5322229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KpQoNlXhhwo/AAAAAAAAAAI/AAAAAAAAACo/Pc2usxx7LAE/photo.jpg?sz=128", "display_name": "Ivan", "link": "https://stackoverflow.com/users/5322229/ivan"}, "edited": false, "score": 0, "creation_date": 1481154234, "post_id": 41029252, "comment_id": 69266296, "body": "It&#39;s ok, in fact the function is more complex, and includes the dictionary. I made it simpler so the question is clearer. Thanks again!"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1481153486, "creation_date": 1481153486, "answer_id": 41029252, "question_id": 41029158, "link": "https://stackoverflow.com/questions/41029158/creating-a-tuple-out-of-args/41029252#41029252", "title": "Creating a tuple out of *args", "body": "<p>You can create a <code>tuple</code> by doing another comprehension over the <code>args</code>:</p>\n\n<pre><code>def my_func(*args):\n    return [tuple(x[arg] for arg in args) for x in my_dict]\n</code></pre>\n\n<p>However this assumes that your <code>my_dict</code> is a global variable. But now you can call it like you specified with <code>my_func('field1', 'field2')</code>.</p>\n\n<p>I would advise to add the dictionary to the function definition:</p>\n\n<pre><code>def my_func(my_dict, *args):\n    return [tuple(x[arg] for arg in args) for x in my_dict]\n</code></pre>\n\n<p>and call it as <code>my_func(my_dict, 'field1', 'field2')</code></p>\n"}], "owner": {"reputation": 41, "user_id": 5322229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KpQoNlXhhwo/AAAAAAAAAAI/AAAAAAAAACo/Pc2usxx7LAE/photo.jpg?sz=128", "display_name": "Ivan", "link": "https://stackoverflow.com/users/5322229/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 41029252, "answer_count": 2, "score": -2, "last_activity_date": 1481153578, "creation_date": 1481152932, "last_edit_date": 1481153578, "question_id": 41029158, "link": "https://stackoverflow.com/questions/41029158/creating-a-tuple-out-of-args", "title": "Creating a tuple out of *args", "body": "<p>I've tried, but I can't figure this out so far.\nI want to create a list of tuples, each one built out of dictionary values:</p>\n\n<pre><code>my_list = [(x['field1'], x['field2']) for x in my_dict]\n</code></pre>\n\n<p>But the issue is that I want to do this inside a function, passing the fields I want to get to *args:</p>\n\n<pre><code>my_func('field1', 'field2')\n</code></pre>\n\n<p>How can I build the first list comprehension out of the *args list?</p>\n\n<p>Thanks!</p>\n\n<p>I'll try to clarify:</p>\n\n<p>Briefly, what I want to do is map this:</p>\n\n<pre><code>my_func('field1', 'field2')\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>tuple(x['field1'], x['field2'])\n</code></pre>\n\n<p>Which will be a statement inside my_func(*args)</p>\n"}, {"tags": ["python", "string", "integer"], "comments": [{"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152311, "post_id": 41029033, "comment_id": 69265598, "body": "You want a function to convert <code>&quot;foo&quot;</code> to <code>10</code>?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1481152343, "post_id": 41029033, "comment_id": 69265611, "body": "<code>foo = &#39;foo&#39;</code> followed by <code>foo = 10</code> is pointless as that assigns <code>foo</code> to 10."}, {"owner": {"reputation": 1387, "user_id": 4616611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90099c6ce97d206fcac50806bf8c74da?s=128&d=identicon&r=PG&f=1", "display_name": "Teodorico Levoff", "link": "https://stackoverflow.com/users/4616611/teodorico-levoff"}, "edited": false, "score": 2, "creation_date": 1481152351, "post_id": 41029033, "comment_id": 69265615, "body": "You want to convert a string to an int that is easier than <code>int(&#39;1&#39;)</code>? What kind of shorthand are you looking for because <code>int(&#39;1&#39;)</code> I think is very short already."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152358, "post_id": 41029033, "comment_id": 69265618, "body": "@Mushy0364 What would the result be for <code>&quot;bar&quot;</code>?"}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152402, "post_id": 41029033, "comment_id": 69265629, "body": "@Mushy0364 Why do you want to do this? What is the program that this is a part of? Your question doesn&#39;t really make sense as-is"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 3, "creation_date": 1481152465, "post_id": 41029033, "comment_id": 69265654, "body": "Please do clarify the question. I detect <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>"}, {"owner": {"reputation": 147, "user_id": 7033598, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P1fdSUH1YlA/AAAAAAAAAAI/AAAAAAAAADk/nH-57GFIWys/photo.jpg?sz=128", "display_name": "Mushy0364", "link": "https://stackoverflow.com/users/7033598/mushy0364"}, "reply_to_user": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152497, "post_id": 41029033, "comment_id": 69265665, "body": "@qxz Say I am trying to make cards such as a Jack equivalent to the value of 10."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1481152609, "post_id": 41029033, "comment_id": 69265704, "body": "@Mushy0364: You may want to create a dict mapping cards to their values."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152616, "post_id": 41029033, "comment_id": 69265711, "body": "@Mushy0364 What format is the card name in, specifically? Give us sample inputs/outputs. Something like <code>&quot;jack&quot; -&gt; 10</code>?"}, {"owner": {"reputation": 147, "user_id": 7033598, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P1fdSUH1YlA/AAAAAAAAAAI/AAAAAAAAADk/nH-57GFIWys/photo.jpg?sz=128", "display_name": "Mushy0364", "link": "https://stackoverflow.com/users/7033598/mushy0364"}, "reply_to_user": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152775, "post_id": 41029033, "comment_id": 69265771, "body": "@qxz It&#39;s found in a list of cards, where the computer randomly selects a card, with values such as [&#39;Ace&#39;,&#39;Jack&#39;,&#39;Queen&#39;,etc.]"}, {"owner": {"reputation": 147, "user_id": 7033598, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P1fdSUH1YlA/AAAAAAAAAAI/AAAAAAAAADk/nH-57GFIWys/photo.jpg?sz=128", "display_name": "Mushy0364", "link": "https://stackoverflow.com/users/7033598/mushy0364"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1481152797, "post_id": 41029033, "comment_id": 69265779, "body": "@user2357112 Thank you for the suggestion, I may look into that."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152831, "post_id": 41029033, "comment_id": 69265794, "body": "@Mushy0364 Please edit your question to include as much detail specific to your problem as possible."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1481152832, "post_id": 41029033, "comment_id": 69265795, "body": "You&#39;re not converting strings to integers, in this case. You&#39;re looking up a mapping of string values to integer values. A dictionary is the canonical implementation."}], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1481152591, "post_id": 41029074, "comment_id": 69265697, "body": "There is no &quot;casting&quot; of any kind involved here. A <code>str</code> object containing <code>&quot;foo&quot;</code> is bound to the name <code>foo</code>, then <code>foo</code> is rebound to an <code>int</code> object containing <code>10</code>. Nothing is changing type, <code>foo</code> is just being pointed at a completely different object."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152650, "post_id": 41029074, "comment_id": 69265726, "body": "This question isn&#39;t really answerable yet."}], "tags": [], "owner": {"reputation": 3, "user_id": 7258111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34817ac168d5fd6b09bd66898cf784ba?s=128&d=identicon&r=PG&f=1", "display_name": "D. Ross", "link": "https://stackoverflow.com/users/7258111/d-ross"}, "is_accepted": false, "score": -3, "last_activity_date": 1481152411, "creation_date": 1481152411, "answer_id": 41029074, "question_id": 41029033, "link": "https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python/41029074#41029074", "title": "How to convert string into integers python", "body": "<p>Unfortunately that's the only way that you can declare a variable type in Python 3. What you are doing is casting the string to an integer. The way that you are doing it is the best way.</p>\n"}, {"tags": [], "owner": {"reputation": 815, "user_id": 7243142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cZc7H8fbkUo/AAAAAAAAAAI/AAAAAAAAhA0/AzJ54NAuceo/photo.jpg?sz=128", "display_name": "Kevin Schellenberg", "link": "https://stackoverflow.com/users/7243142/kevin-schellenberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152813, "creation_date": 1481152813, "answer_id": 41029139, "question_id": 41029033, "link": "https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python/41029139#41029139", "title": "How to convert string into integers python", "body": "<p>Based on your latest comment I think you may be looking to assign an integer value to a string key.  For that, you can use a dictionary.  Declare:</p>\n\n<pre><code>&gt;&gt;&gt; cards = {\"jack\": 10, \"queen\": 10}\n&gt;&gt;&gt; print(cards[\"jack\"])\n10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1481153334, "last_edit_date": 1481153334, "creation_date": 1481152862, "answer_id": 41029144, "question_id": 41029033, "link": "https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python/41029144#41029144", "title": "How to convert string into integers python", "body": "<p>Since <a href=\"https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python/41029144#comment69265665_41029033\">your goal is to map specific cards</a> (as in a game of blackjack) to their values, make a <code>dict</code> for lookup up front:</p>\n\n<pre><code># 2-10\nname_to_value = {str(num): num for num in range(2, 11)}\n# Face cards\nname_to_value.update(dict.fromkeys(('Jack', 'Queen', 'King'), 10))\n# Ace is special\nname_to_value['Ace'] = 11  # If it's blackjack, you might want to special case Ace\n</code></pre>\n\n<p>Then use it to convert later, e.g.:</p>\n\n<pre><code>&gt;&gt;&gt; name_to_value['Jack']\n10\n&gt;&gt;&gt; name_to_value['9']\n9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 0, "last_activity_date": 1481153170, "last_edit_date": 1481153170, "creation_date": 1481153006, "answer_id": 41029169, "question_id": 41029033, "link": "https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python/41029169#41029169", "title": "How to convert string into integers python", "body": "<blockquote>\n  <p>I am trying to turn the value of a card, such as a Jack, equivalent to 10 in a card game</p>\n</blockquote>\n\n<p>You need to check the string - if digit, then convert, else get the corresponding value. </p>\n\n<pre><code>def get_card_value(s):\n  if s.isdigit() and (1 &lt; int(s) &lt; 10):\n    return int(s)\n  elif s.lower() == 'jack':\n    return 10\n  elif s.lower() == 'queen':\n    return 11\n  elif s.lower() == 'king':\n    return 12\n  else:\n    return -1  # Unknown\n</code></pre>\n\n<p>Modify accordingly for different values and aces</p>\n"}], "owner": {"reputation": 147, "user_id": 7033598, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P1fdSUH1YlA/AAAAAAAAAAI/AAAAAAAAADk/nH-57GFIWys/photo.jpg?sz=128", "display_name": "Mushy0364", "link": "https://stackoverflow.com/users/7033598/mushy0364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 41029169, "answer_count": 4, "score": -3, "last_activity_date": 1481153334, "creation_date": 1481152220, "last_edit_date": 1481152537, "question_id": 41029033, "link": "https://stackoverflow.com/questions/41029033/how-to-convert-string-into-integers-python", "title": "How to convert string into integers python", "body": "<p>I am fairly new to the python language, but had stumbled across something I found troubling. Is there a way to turn a string into an integer? </p>\n\n<p>No, I do not mean how to convert a string that is a number like this:</p>\n\n<pre><code>int('1')\n</code></pre>\n\n<p>I am positive I can do something like this:</p>\n\n<pre><code>foo = 'foo'\nfoo = 10\nint(foo)\n</code></pre>\n\n<p>But is there an easier way to do this, rather than having to type it like that?</p>\n\n<p>In the context that I a trying to put it in, I am trying to turn the value of a card, such as a Jack, equivalent to 10 in a card game.</p>\n"}, {"tags": ["python", "windows", "virtualenv", "pyramid"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1481152818, "post_id": 41029001, "comment_id": 69265789, "body": "You forgot to ask a question."}, {"owner": {"reputation": 3953, "user_id": 992887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeKNr.jpg?s=128&g=1", "display_name": "RichVel", "link": "https://stackoverflow.com/users/992887/richvel"}, "edited": false, "score": 1, "creation_date": 1481262598, "post_id": 41029001, "comment_id": 69314948, "body": "Please include exact code or command line you are using to run pserve.  This looks like Python is trying to run the .exe as if it was a Python script."}, {"owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "reply_to_user": {"reputation": 3953, "user_id": 992887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeKNr.jpg?s=128&g=1", "display_name": "RichVel", "link": "https://stackoverflow.com/users/992887/richvel"}, "edited": false, "score": 0, "creation_date": 1481581514, "post_id": 41029001, "comment_id": 69425878, "body": "@RichVel, Added in the question."}, {"owner": {"reputation": 5310, "user_id": 2134538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1a0901a20851db89f15ddc3f38aa67?s=128&d=identicon&r=PG&f=1", "display_name": "MarmiK", "link": "https://stackoverflow.com/users/2134538/marmik"}, "edited": false, "score": 0, "creation_date": 1483352298, "post_id": 41029001, "comment_id": 70055160, "body": "Refer [Old Post] (<a href=\"http://stackoverflow.com/questions/6289474/working-with-utf-8-encoding-in-python-source\" title=\"working with utf 8 encoding in python source\">stackoverflow.com/questions/6289474/&hellip;</a>) that should help you"}, {"owner": {"reputation": 15310, "user_id": 13986, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9de7d27799eccd891d898b9b2b3c2949?s=128&d=identicon&r=PG", "display_name": "X-Istence", "link": "https://stackoverflow.com/users/13986/x-istence"}, "edited": false, "score": 1, "creation_date": 1483411902, "post_id": 41029001, "comment_id": 70077417, "body": "<a href=\"http://stackoverflow.com/a/41435691/13986\">stackoverflow.com/a/41435691/13986</a>  I&#39;ve answered the same question in that SO question. Pyramid 1.8 should work much better, please give it a shot."}, {"owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "reply_to_user": {"reputation": 15310, "user_id": 13986, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9de7d27799eccd891d898b9b2b3c2949?s=128&d=identicon&r=PG", "display_name": "X-Istence", "link": "https://stackoverflow.com/users/13986/x-istence"}, "edited": false, "score": 0, "creation_date": 1500292540, "post_id": 41029001, "comment_id": 77255857, "body": "@X-Istence, the problem is that we have to pin the versions. What worked to me whas really uninstall and install again (I was dumb to not try this at the first)."}], "answers": [{"comments": [{"owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "edited": false, "score": 0, "creation_date": 1482157332, "post_id": 41114729, "comment_id": 69647874, "body": "I already use bash for windows, but i want to integrate pycharm or vscode with the virtualenv (python utility) on Windows. i&#39;m using WSL too to execute my scripts, but there is no clean way to do the integration with WSL (remote linking is not clean. i&#39;ve searched about). Used VMs in the past too, but is not what i&#39;m searching for. Besides this pserve should REALLY work without problems with the virtualenv."}, {"owner": {"reputation": 3953, "user_id": 992887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeKNr.jpg?s=128&g=1", "display_name": "RichVel", "link": "https://stackoverflow.com/users/992887/richvel"}, "reply_to_user": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "edited": false, "score": 0, "creation_date": 1482161696, "post_id": 41114729, "comment_id": 69650841, "body": "Assuming &#39;pserve&#39; is really a Python script, try <code>python pserve development.ini --reload</code> - if this works, put it in a <code>run-pserve.bat</code> file.  To check if your virtualenv setup is correct you can also use <code>&#47;path&#47;to&#47;my&#47;venv&#47;bin&#47;python pserve development.ini --reload</code> which forces use of the virtualenv even if env vars etc are not right."}, {"owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "edited": false, "score": 0, "creation_date": 1482167322, "post_id": 41114729, "comment_id": 69654162, "body": "I&#39;ve tried full path too, @RichVel. Edited the question to reflect this. Also, pserve-script.py is just a wrapper to call pserve.exe. Tried both absolute and relative call to both files (exe and py)."}], "tags": [], "owner": {"reputation": 3953, "user_id": 992887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeKNr.jpg?s=128&g=1", "display_name": "RichVel", "link": "https://stackoverflow.com/users/992887/richvel"}, "is_accepted": false, "score": 0, "last_activity_date": 1482161478, "last_edit_date": 1495542333, "creation_date": 1481609722, "answer_id": 41114729, "question_id": 41029001, "link": "https://stackoverflow.com/questions/41029001/non-ascii-character-x90-executing-pserve-on-windows-inside-virtualenv/41114729#41114729", "title": "Non-ASCII character &#39;\\x90&#39; executing pserve on windows inside virtualenv", "body": "<p>I don't really have an answer here as I don't use either Pyramid or Windows.  However, this has been seen before by a few people and may be due to <code>python.exe</code> being used to execute <code>pserve.exe</code>, which won't work as that's an executable not a Python program.</p>\n\n<p>Here are some links that might move this forward - recommend you join the Google Group as it has more concentrated Pyramid expertise:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/39675750/pyramid-pserve-exe-syntax-error\">Pyramid pserve.exe syntax error</a></p></li>\n<li><p><a href=\"https://groups.google.com/forum/#!msg/pylons-devel/wGmEPBNpxPk/R69rvfAuDgAJ\" rel=\"nofollow noreferrer\">Google Groups thread</a></p></li>\n<li><p><a href=\"https://www.google.co.uk/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=exe+pserve+pyramid+windows+x90\" rel=\"nofollow noreferrer\">Google search</a></p></li>\n</ul>\n\n<p>One specific idea is to ensure you have a <code>pserve.py</code> file not <code>pserve.exe</code> and that you use <code>python pserve.py</code> to run it.    If the calling script has limitations, create a <code>run-pserve.bat</code> batch file to call Python and test it outside the calling script.</p>\n\n<p>Alternatively, you might want to use a pre-configured Linux VM on Windows.  Or on Windows 10 there is a good 'Bash for Windows' aka <a href=\"http://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/\" rel=\"nofollow noreferrer\">Windows Subsystem for Linux</a> that's really a full Ubuntu Linux.  Either of these would make it much easy for development than Windows, I would think.</p>\n"}, {"tags": [], "owner": {"reputation": 7884, "user_id": 475763, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2f5f5dfd64ba150c56272417c6cd0250?s=128&d=identicon&r=PG", "display_name": "julx", "link": "https://stackoverflow.com/users/475763/julx"}, "is_accepted": false, "score": 0, "last_activity_date": 1499994063, "creation_date": 1499994063, "answer_id": 45093035, "question_id": 41029001, "link": "https://stackoverflow.com/questions/41029001/non-ascii-character-x90-executing-pserve-on-windows-inside-virtualenv/45093035#45093035", "title": "Non-ASCII character &#39;\\x90&#39; executing pserve on windows inside virtualenv", "body": "<p>Assuming your <code>virtualenv</code> sits in <code>venv</code> directory</p>\n\n<p>Use this:</p>\n\n<pre><code>python venv/Lib/site-packages/pyramid/scripts/pserve.py some-ini-config.ini --reload\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "edited": false, "score": 0, "creation_date": 1570214223, "post_id": 58207820, "comment_id": 102855533, "body": "Agree with you about the suggestion to interpreter encoding, but this do not apply for the pyramid bundle, because we&#39;d have to rewrite the package on each installation. Reinstall it is more simple, easier to replicate and less error prone. Change the interpreter encoding is very useful in the files you&#39;re editing, not as solution to third-party libs."}], "tags": [], "owner": {"reputation": 9, "user_id": 12155652, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4a473bb6dd99339b81e0d3d57d290c91?s=128&d=identicon&r=PG", "display_name": "Sovello", "link": "https://stackoverflow.com/users/12155652/sovello"}, "is_accepted": false, "score": 0, "last_activity_date": 1570042929, "creation_date": 1570042929, "answer_id": 58207820, "question_id": 41029001, "link": "https://stackoverflow.com/questions/41029001/non-ascii-character-x90-executing-pserve-on-windows-inside-virtualenv/58207820#58207820", "title": "Non-ASCII character &#39;\\x90&#39; executing pserve on windows inside virtualenv", "body": "<p>This error message comes with a suggestion and it reads</p>\n\n<p><em>SyntaxError: Non-ASCII character '\\x90' in file <code>/path/to/file</code> on line <code>#lineno</code>, but no encoding declared; <strong>see <a href=\"http://python.org/dev/peps/pep-0263/\" rel=\"nofollow noreferrer\">http://python.org/dev/peps/pep-0263/</a> for details</em></strong></p>\n\n<p>The bold part is where the suggestion is. This PEP is very straight forward and the solution is just to define an encoding for your source file.\nYou will most likely to have</p>\n\n<pre><code>#!/usr/bin/env python\n# coding=utf-8\n</code></pre>\n\n<p>The interpreter line is optional, but the coding can be defined second if you have interpreter line or first if you dont</p>\n\n<p>Set the encoding depending on your character sets. utf-8 should work for most cases, or you may need other encodings.</p>\n"}], "owner": {"reputation": 1187, "user_id": 2423584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuTmH.jpg?s=128&g=1", "display_name": "Diogo Paschoal", "link": "https://stackoverflow.com/users/2423584/diogo-paschoal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5692, "favorite_count": 3, "answer_count": 3, "score": 7, "last_activity_date": 1570042929, "creation_date": 1481152065, "last_edit_date": 1500292604, "question_id": 41029001, "link": "https://stackoverflow.com/questions/41029001/non-ascii-character-x90-executing-pserve-on-windows-inside-virtualenv", "title": "Non-ASCII character &#39;\\x90&#39; executing pserve on windows inside virtualenv", "body": "<p><strong>Question:</strong> How can i solve no-ascii character error executing pserve on virtualenv in windows?</p>\n\n<p><strong>Description:</strong> I'm trying to execute pserve (pyllons/pyramid development web server) inside a virtualenv on windows. It's a fresh install, so maybe it is related to versions.</p>\n\n<p><strong>Problem:</strong> With the virtualenv activated, execute <code>pserve config.ini</code> throw error: <code>SyntaxError: Non-ASCII character '\\x90' in file C:\\PATH_TO_MY_ENV_HOME\\env\\Scripts\\pserve.exe on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details</code>.</p>\n\n<p><strong>Command line:</strong></p>\n\n<pre><code>pserve development.ini --reload\n</code></pre>\n\n<p><strong>Notes:</strong> </p>\n\n<ol>\n<li>this error happen when you have a file with characters that doesn't match the current file encoding, so you can add a instruction to set the right enconde at the beging of the python script.</li>\n<li>it can happen if the called target have an exe extension in some cases and the script that call it add an exe to the end. So, python runtime throws this error cause an exe file must not be called as an script, but just called without sufix adding.</li>\n<li>The path to executable does't contains special characters.</li>\n</ol>\n\n<p><strong>Tests done:</strong></p>\n\n<ol>\n<li>Remove exe extension from pserve. Didn't worked: not recognized command message.</li>\n<li>Call pserve-script.py instead pserve (full path tried too). Didn't worked: do nothing and returns nothing.</li>\n<li>Added \"-*- encoding: utf-8\" at the start of pserve-script.py. Same message.</li>\n<li>Remove exe extenstion from python.exe (full path tried too). Didn't worked: \"failed to create process\".</li>\n</ol>\n\n<p><strong>Environment:</strong></p>\n\n<ul>\n<li>Windows 10 1607 build 14393.447</li>\n<li>Python version: Anaconda2, Python 2.7.11</li>\n<li>Pyramid version: pyramid 1.7.3</li>\n<li>Virtual env: 15.1.0</li>\n</ul>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>Uninstall and install again solved the problem to me.</p>\n"}, {"tags": ["python", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 1482, "user_id": 6696049, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/795be62fd4225fe5cf2622cd0916f832?s=128&d=identicon&r=PG&f=1", "display_name": "edo", "link": "https://stackoverflow.com/users/6696049/edo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481206035, "creation_date": 1481206035, "answer_id": 41041415, "question_id": 41028992, "link": "https://stackoverflow.com/questions/41028992/fix-an-ordering-of-the-edges-in-an-undirected-networkx-graph/41041415#41041415", "title": "fix an ordering of the edges in an undirected networkx graph", "body": "<p>I'm not sure what you want since in the title you ask for ordered edges but in your example you ask for ordered nodes in the edges. In my examples I show ordering for both. Note that I use list comprehension to create new lists of edges -- the original list of edges (<code>some_edges</code>) is unchanged.</p>\n\n<p>First how to sort individual tuples of nodes in a list of edges. That is, edges are in the same order but the nodes in them are sorted.</p>\n\n<pre><code>import networkx as nx\ng = nx.Graph()\ng.add_edges_from([\n    (5, 2),\n    (2, 1),\n    (3, 2),\n    (4, 2)\n])\nsome_edges = g.edges(2)\nprint(\"Not sorted:  \", some_edges)\n\nprint(\"SORTED\")\n# sort nodes in edges\nsome_edges_1 = [tuple(sorted(edge)) for edge in some_edges]\nprint(\"Sorted nodes:\", some_edges_1)\n</code></pre>\n\n<p>And now how to sort edges in a list of edges.</p>\n\n<pre><code># sort edges in list of edges\nsome_edges_2 = sorted(some_edges_1)\nprint(\"Sorted edges:\", some_edges_2)\n</code></pre>\n\n<p>Output for both blocks of code above:</p>\n\n<pre><code>Not sorted:   [(2, 1), (2, 3), (2, 4), (2, 5)]\nSORTED\nSorted nodes: [(1, 2), (2, 3), (2, 4), (2, 5)]\nSorted edges: [(1, 2), (2, 3), (2, 4), (2, 5)]\n</code></pre>\n\n<p>Here's also an example of reverse sorting where you can actually see the difference between sorting individual edges and sorting a list of edges.</p>\n\n<pre><code>print(\"Not sorted:  \", some_edges)\nprint(\"SORTED REVERSE\")\n# sort nodes in edges\nsome_edges_1 = [tuple(sorted(edge, reverse=True)) for edge in some_edges]\nprint(\"Sorted nodes:\", some_edges_1)\n# sort edges in list of edges\nsome_edges_2 = sorted(some_edges_1, reverse=True)\nprint(\"Sorted edges:\", some_edges_2)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Not sorted:   [(2, 1), (2, 3), (2, 4), (2, 5)]\nSORTED REVERSE\nSorted nodes: [(2, 1), (3, 2), (4, 2), (5, 2)]\nSorted edges: [(5, 2), (4, 2), (3, 2), (2, 1)]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7264876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d714151054c045de6915c8ebfeeb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Vitei", "link": "https://stackoverflow.com/users/7264876/vitei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1009, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1481206035, "creation_date": 1481152045, "question_id": 41028992, "link": "https://stackoverflow.com/questions/41028992/fix-an-ordering-of-the-edges-in-an-undirected-networkx-graph", "title": "fix an ordering of the edges in an undirected networkx graph", "body": "<p>In an undirected NetworkX graph edges are represented as Python tuples. their ordering depends on the way you ask for them. Here is a small example what I'm referring to:</p>\n\n<pre><code>import networkx as nx\ng = nx.complete_bipartite_graph(2,2)\nprint(g.edges())\nprint(g.edges(2))\n</code></pre>\n\n<p>The output is</p>\n\n<pre><code>[(0, 2), (0, 3), (1, 2), (1, 3)]\n[(2, 0), (2, 1)]\n</code></pre>\n\n<p>Is there a way (not involving manual sorting) to avoid having different representation for an edge?</p>\n"}, {"tags": ["python", "python-3.x", "for-loop", "tkinter"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481151944, "post_id": 41028961, "comment_id": 69265446, "body": "Use a <i>container</i> to keep your <code>buttons</code> and <i>loop through the container</i>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1481152252, "post_id": 41028961, "comment_id": 69265574, "body": "Any time you find yourself creating variables with numeric suffixes like that, you should be using a list or array."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481152899, "post_id": 41029132, "comment_id": 69265818, "body": "Your list contains only one item. Can you edit to show how to create more items?"}, {"owner": {"reputation": 13, "user_id": 7122891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c920b39fc0728619e84b01ae9c2b3df?s=128&d=identicon&r=PG&f=1", "display_name": "Yuval Tiano", "link": "https://stackoverflow.com/users/7122891/yuval-tiano"}, "edited": false, "score": 0, "creation_date": 1481208878, "post_id": 41029132, "comment_id": 69292050, "body": "Alright, today I create a list with all the buttons inside it and call them by they index number, it&#39;s work great! Thank you"}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1481152920, "last_edit_date": 1481152920, "creation_date": 1481152752, "answer_id": 41029132, "question_id": 41028961, "link": "https://stackoverflow.com/questions/41028961/execute-a-method-on-multiply-variables-with-for-loop/41029132#41029132", "title": "Execute a method on multiply variables with for loop", "body": "<p>You could simply loop over your buttons (as already pointed out in the comments):</p>\n\n<pre><code>def reset():\n    for button in [button1, button2, ..., button9]:\n        button.config(text=\"\")\n</code></pre>\n\n<p>If you can you may want to create the buttons directly as part of a list. That may or may not be possible. What I mean is something like:</p>\n\n<pre><code>buttons = [ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\"),\n           ttk.Button(root, text=\"bla\")]\n\ndef reset():\n    for button in buttons:\n        button.config(text=\"\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7122891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c920b39fc0728619e84b01ae9c2b3df?s=128&d=identicon&r=PG&f=1", "display_name": "Yuval Tiano", "link": "https://stackoverflow.com/users/7122891/yuval-tiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 41029132, "answer_count": 1, "score": 1, "last_activity_date": 1481977653, "creation_date": 1481151879, "last_edit_date": 1481977653, "question_id": 41028961, "link": "https://stackoverflow.com/questions/41028961/execute-a-method-on-multiply-variables-with-for-loop", "title": "Execute a method on multiply variables with for loop", "body": "<p>I have a multiply variables with similar names (button1, button2, button3 ... etc)\nI trying to make a button that every time that the user hit him the text from all the buttons (and on other cases of specific part of them) will be wiped.</p>\n\n<p>My code is look like that:</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\n\nroot = Tk()\n\ndef reset():\n   pass\n\nbutton1 = ttk.Button(root, text=\"bla\")\nbutton2 = ttk.Button(root, text=\"bla\")\nbutton3 = ttk.Button(root, text=\"bla\")\nbutton4 = ttk.Button(root, text=\"bla\")\nbutton5 = ttk.Button(root, text=\"bla\")\nbutton6 = ttk.Button(root, text=\"bla\")\nbutton7 = ttk.Button(root, text=\"bla\")\nbutton8 = ttk.Button(root, text=\"bla\")\nbutton9 = ttk.Button(root, text=\"bla\")\n\nreset_button = ttk.Button(root, text=\"Restart\", command=lambda: reset())\n\nroot.mainloop()\n</code></pre>\n\n<p>Now I tried to create a generator that create a multi line to execute with <strong>for</strong> loop without any success.\nI know that I can do something like that:</p>\n\n<pre><code>def reset():\n    button1.config(text=\"\")\n    button2.config(text=\"\")\n    button3.config(text=\"\")\n    button4.config(text=\"\")\n    ...\n</code></pre>\n\n<p>but it seem really unpythonic way to do that + on other part of the code I need a dynamic buttonX.config...</p>\n\n<p>Someone have an idea how can I do this?</p>\n"}, {"tags": ["python", "pandas", "merge"], "answers": [{"comments": [{"owner": {"reputation": 4457, "user_id": 3590067, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100003877435114/picture?type=large", "display_name": "emax", "link": "https://stackoverflow.com/users/3590067/emax"}, "edited": false, "score": 0, "creation_date": 1481161332, "post_id": 41029271, "comment_id": 69268380, "body": "I got an error <code>AttributeError: &#39;numpy.ndarray&#39; object has no attribute &#39;vstack</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1481153582, "creation_date": 1481153582, "answer_id": 41029271, "question_id": 41028931, "link": "https://stackoverflow.com/questions/41028931/python-how-to-map-values-between-a-matrix-and-a-dataframe/41029271#41029271", "title": "Python: how to map values between a matrix and a dataframe?", "body": "<p>group <code>M</code> by floor division of 1.  Then use that to query and sample</p>\n\n<pre><code>g = M.stack().index.to_series().groupby(M.stack() // 1)\nnet.d.apply(lambda x: pd.Series(g.get_group(x // 1).sample(1).iloc[0], list('AB')))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JiVcG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JiVcG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4457, "user_id": 3590067, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100003877435114/picture?type=large", "display_name": "emax", "link": "https://stackoverflow.com/users/3590067/emax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481153582, "creation_date": 1481151725, "question_id": 41028931, "link": "https://stackoverflow.com/questions/41028931/python-how-to-map-values-between-a-matrix-and-a-dataframe", "title": "Python: how to map values between a matrix and a dataframe?", "body": "<p>I have a dataframe <code>net</code> that contains the distance <code>d</code> between two locations <code>A</code> and <code>B</code>.</p>\n\n<pre><code>net =\n        A  B   d\n    0   5  3  3.5 \n    1   2  0  2.3\n    2   3  2  1.2 \n    3   4  5  2.2   \n    4   0  1  3.2\n    5   0  3  4.5\n</code></pre>\n\n<p>Then I have a symmetric matrix <code>M</code> that contains all the possible distances between two pairs, so:</p>\n\n<pre><code>M =\n    0    1    2    3    4    5\n0   0   3.2  2.3  4.5  1.7  5.2 \n1  3.2   0   2.1  0.7  3.9  3.8 \n2  2.3  2.1   0   1.2  1.5  4.7 \n3  4.5  0.7  1.2   0   3.2  3.5     \n4  1.7  3.9  1.5  3.2   0   2.2\n5  5.2  3.8  4.7  3.5  2.2   0\n</code></pre>\n\n<p>I want to generate a new dataframe <code>df1</code> that contains two random different locations <code>A</code> and <code>B</code> in the same distance interval <code>ds &gt; np.floor(d) &amp; ds &lt; np.floor(d)+1</code>.</p>\n\n<p>This is what I am doing</p>\n\n<pre><code>H = []\nW = []\nfor i in net.index:\n    tmp = net['d'][i]\n    ds = np.where( (M &gt;  np.floor(tmp)) &amp; (M &lt; np.floor(tmp)+1) )\n    size = len(ds[0])\n    ind = randint(size) ## find two random locations with distance ds\n    h = ds[0][ind]\n    w = ds[1][ind]\n    H.append(h)\n    W.append(w)\ndf1 = pd.DataFrame()\ndf1['A'] = H\ndf1['B'] = W\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 2847, "user_id": 6786718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/l8z29.png?s=128&g=1", "display_name": "Kev1n91", "link": "https://stackoverflow.com/users/6786718/kev1n91"}, "edited": false, "score": 1, "creation_date": 1481151997, "post_id": 41028920, "comment_id": 69265466, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17627531/sort-list-of-date-strings\">Sort list of date strings</a>"}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481152768, "post_id": 41028920, "comment_id": 69265766, "body": "<code>item1</code> doesn&#39;t look like a date or time... how do you want that sorted?"}, {"owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "edited": false, "score": 0, "creation_date": 1481153381, "post_id": 41028920, "comment_id": 69265991, "body": "It appears from your <code>myList</code> that you probably have a list of lists. Python sort is stable. Sort twice, first by time then by date."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7264889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1023d0b42ad49b2ee6fafd3c0fcd7b15?s=128&d=identicon&r=PG&f=1", "display_name": "E.T.", "link": "https://stackoverflow.com/users/7264889/e-t"}, "edited": false, "score": 0, "creation_date": 1481225502, "post_id": 41044393, "comment_id": 69302257, "body": "Receiving the following error, guessing its due to run an old version of Python, 2.4.3."}, {"owner": {"reputation": 11, "user_id": 7264889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1023d0b42ad49b2ee6fafd3c0fcd7b15?s=128&d=identicon&r=PG&f=1", "display_name": "E.T.", "link": "https://stackoverflow.com/users/7264889/e-t"}, "edited": false, "score": 0, "creation_date": 1481225519, "post_id": 41044393, "comment_id": 69302267, "body": "date1 = datetime.datetime.strptime(c, &#39;%m/%d/%y %I:%M%p&#39;) AttributeError: type object &#39;datetime.datetime&#39; has no attribute &#39;strptime&#39;"}, {"owner": {"reputation": 11, "user_id": 7264889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1023d0b42ad49b2ee6fafd3c0fcd7b15?s=128&d=identicon&r=PG&f=1", "display_name": "E.T.", "link": "https://stackoverflow.com/users/7264889/e-t"}, "edited": false, "score": 0, "creation_date": 1481233450, "post_id": 41044393, "comment_id": 69306311, "body": "format = &#39;%m/%d/%y %I:%M%p&#39; date1 = time.strptime(c, format)[0:6] date2 = time.strptime(d, format)[0:6]"}], "tags": [], "owner": {"reputation": 2709, "user_id": 360913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URPxE.jpg?s=128&g=1", "display_name": "Marichyasana", "link": "https://stackoverflow.com/users/360913/marichyasana"}, "is_accepted": false, "score": 0, "last_activity_date": 1481214899, "creation_date": 1481214899, "answer_id": 41044393, "question_id": 41028920, "link": "https://stackoverflow.com/questions/41028920/sort-a-list-containing-date-and-time-string-elements/41044393#41044393", "title": "Sort a List containing date and time string elements", "body": "<p>You need to have your data in a list of list which I think you probably do. I changed pageList to do this with each inner list having a different time. Now we can use python's sort() but we have to provide our own compare function. So here we have pageList.sort(mySort) The sort() passes two list items for comparison. Here each item is an inner list. We need to combine elements 6 and 7 to form a single date time string; then convert this to a python datetime so we can compare them.  </p>\n\n<p>Since the tuples are long I only print out the date and time values from the inner list after the sort to show it works.</p>\n\n<pre><code>import datetime\n\npageList =[['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:56PM', '2', 'http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle'],\n           ['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:46PM', '2', 'http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle'],\n           ['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:56PM', '2', 'http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle'],\n           ['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:16PM', '2', 'http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle'],\n           ['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:36PM', '2', 'http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle']]\n\ndef mySort(a,b):\n    c = a[6] + ' ' + a[7]\n    d = b[6] + ' ' + b[7]\n    date1 = datetime.datetime.strptime(c, '%m/%d/%y %I:%M%p')\n    date2 = datetime.datetime.strptime(d, '%m/%d/%y %I:%M%p')\n    return cmp(date1, date2)\n\nif __name__ == '__main__':\n    pageList.sort(mySort)\n    for i in range(len(pageList)):\n        print i,pageList[i][6],' ',pageList[i][7]  \n</code></pre>\n\n<p>Output:<br>\n0 1/7/16   1:16PM<br>\n1 1/7/16   1:36PM<br>\n2 1/7/16   1:46PM<br>\n3 1/7/16   1:56PM<br>\n4 1/7/16   1:56PM  </p>\n"}], "owner": {"reputation": 11, "user_id": 7264889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1023d0b42ad49b2ee6fafd3c0fcd7b15?s=128&d=identicon&r=PG&f=1", "display_name": "E.T.", "link": "https://stackoverflow.com/users/7264889/e-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481214899, "creation_date": 1481151671, "last_edit_date": 1481206887, "question_id": 41028920, "link": "https://stackoverflow.com/questions/41028920/sort-a-list-containing-date-and-time-string-elements", "title": "Sort a List containing date and time string elements", "body": "<p>I need assistance in sorting a list by date and time, both date and time are string fields within my list.</p>\n\n<pre><code>myList = ['item1', 'item2', 'mm/dd/yy', 'hh:mmAM', 'item3'] \n</code></pre>\n\n<p>I'm using Python 2.4.3.</p>\n\n<p>I'm using the Bob Swift CLI to pull page info from Atlassian's Confluence and place into a list so it can then be sorted to showing the oldest pages first.</p>\n\n<p>Sample Data:</p>\n\n<p>pageList = \"['Page Title', '383551192', '298288254', 'dt206xxx', '1/7/16 1:05 PM', 'dt206xxx', '1/7/16', '1:16PM', '2', '<a href=\"http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle\" rel=\"nofollow noreferrer\">http://xx.xxx.xx.xx:8xxx/display/mine/PageTitle</a>']\"</p>\n\n<p>I need to sort on the last modified date at element 6 and time at 7.</p>\n"}, {"tags": ["python", "memory", "tensorflow", "config"], "answers": [{"tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152338, "creation_date": 1481152338, "answer_id": 41029056, "question_id": 41028919, "link": "https://stackoverflow.com/questions/41028919/how-to-implement-tensorflow-session-configuration/41029056#41029056", "title": "how to implement tensorflow session configuration", "body": "<p>You can pass the session configuration, a <code>tf.ConfigProto</code> in the <code>tf.Session()</code> initializer in the <code>with</code> statement:</p>\n\n<pre><code>deep_graph = tf.Graph()\nwith deep_graph.as_default():\n    ### graph definition here\n    ### graph definition here\n\nconfig = tf.ConfigProto(gpu_options=...)\n\nwith tf.Session(graph=deep_graph, config=config) as sess:\n    tf.initialize_all_variables().run()\n    ### more computations here\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40934, "user_id": 121687, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/359b919642638c5b67555a1bc89dfd3e?s=128&d=identicon&r=PG", "display_name": "fabrizioM", "link": "https://stackoverflow.com/users/121687/fabriziom"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152344, "creation_date": 1481152344, "answer_id": 41029059, "question_id": 41028919, "link": "https://stackoverflow.com/questions/41028919/how-to-implement-tensorflow-session-configuration/41029059#41029059", "title": "how to implement tensorflow session configuration", "body": "<pre><code>deep_grap = tf.Graph()\nwith deep_grap.as_default():\n    ### graph definition here\n    ### graph definition here\n    init = tf.initialize_all_variables()\n\ngpu_options = tf.GPUOptions(per_process_gpu_memory_fraction=0.333)\ncfg = tf.ConfigProto(gpu_options=gpu_options)\nwith tf.Session(graph=deep_grap, config=cfg) as sess:\n    sess.run(init)\n\n    ### more computations here\n</code></pre>\n"}], "owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2836, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1481152344, "creation_date": 1481151667, "last_edit_date": 1495539958, "question_id": 41028919, "link": "https://stackoverflow.com/questions/41028919/how-to-implement-tensorflow-session-configuration", "title": "how to implement tensorflow session configuration", "body": "<p>I want to set the gpu limitation as instructed in <a href=\"https://stackoverflow.com/questions/34199233/how-to-prevent-tensorflow-from-allocating-the-totality-of-a-gpu-memory\">this topic</a>.</p>\n\n<p>But my code goes like this:</p>\n\n<pre><code>deep_grap = tf.Graph()\nwith deep_grap.as_default():\n    ### graph definition here\n    ### graph definition here\n\nwith tf.Session(graph=deep_grap) as sess:\n    tf.initialize_all_variables().run()\n    ### more computations here\n</code></pre>\n\n<p>In this case, how do I set the configuration in my code?\nI don't have a direct <code>sess = tf.Session(config=tf.ConfigProto(gpu_options=gpu_options))</code>line here. Thanks!</p>\n"}, {"tags": ["python", "animation", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "edited": false, "score": 0, "creation_date": 1481158030, "post_id": 41029198, "comment_id": 69267503, "body": "Hmm strange it&#39;s working inside a python script but not inside the jupyter notebook. Do you know why this might be?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "edited": false, "score": 0, "creation_date": 1481182468, "post_id": 41029198, "comment_id": 69275443, "body": "Are animations supposed to run inside jupyter at all? I&#39;m really not an expert on jupyter so it may well be. On the other hand, there are some more or less complicated hacks around to make animations work in jupyter (see <a href=\"http://jakevdp.github.io/blog/2013/05/12/embedding-matplotlib-animations/\" rel=\"nofollow noreferrer\">here</a>, or  <a href=\"http://louistiao.me/posts/notebooks/embedding-matplotlib-animations-in-jupyter-notebooks/\" rel=\"nofollow noreferrer\">here</a> which were obsolete if it was working out of the box."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "edited": false, "score": 0, "creation_date": 1481182772, "post_id": 41029198, "comment_id": 69275608, "body": "<a href=\"http://nbviewer.jupyter.org/github/gregnordin/PythonShare/blob/master/matplotlib/matplotlib_backends_summary.ipynb\" rel=\"nofollow noreferrer\">This site</a> should be of great help to you. It seems animations work with some backends and not with others, also depending on the operating system. That said I just became aware that the above code solved a problem that you haven&#39;t actually been aware of existing at all. :-)"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1481184152, "last_edit_date": 1481184152, "creation_date": 1481153182, "answer_id": 41029198, "question_id": 41028884, "link": "https://stackoverflow.com/questions/41028884/matplotlib-animation-remains-static/41029198#41029198", "title": "Matplotlib animation remains static", "body": "<p><em>Disclaimer: This answer solves the problems in the code itself and allows to run it as python script. It does <strong>not solve the problem of animating it in a jupyter notebook</strong>. (see comments)</em> </p>\n\n<p>Two things: </p>\n\n<ol>\n<li>You need to set some data to the image in the init function.</li>\n<li>The return of <code>init()</code> as well as <code>update()</code> must be a tuple, if you want to use <code>blit=True</code> (otherwise you don't even need a return). Since you only want to blit the image itself, you can use <code>return im,</code> with the comma. </li>\n</ol>\n\n<p>Complete running code:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\n\nmat = np.random.random((1000, 50, 50))\nprint mat[0].shape\ndef quick_play(dT = 10):\n    fig, ax = plt.subplots()\n    im = ax.imshow(mat[0], cmap = \"gray\")\n\n    def init():\n        im.set_data(mat[0])\n        return im,\n\n    def animate(i):\n        im.set_data(mat[i])\n        return im,\n\n    ani = animation.FuncAnimation(fig, animate, frames = 100, init_func = init, interval = dT, blit = True)\n    plt.show()\n\nquick_play()\n</code></pre>\n"}], "owner": {"reputation": 2946, "user_id": 4359986, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7e06667eb789ed0f6e469490a5e8ee83?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4359986/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "accepted_answer_id": 41029198, "answer_count": 1, "score": 0, "last_activity_date": 1481184152, "creation_date": 1481151485, "question_id": 41028884, "link": "https://stackoverflow.com/questions/41028884/matplotlib-animation-remains-static", "title": "Matplotlib animation remains static", "body": "<p>The following code, which is run in the jupyter notebook, is giving me a static image:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n%matplotlib nbagg\n\nmat = np.random.random((1000, 50, 50))\n\ndef quick_play(dT = 10):\n    fig, ax = plt.subplots()\n    im = ax.imshow(mat[0], cmap = \"gray\")\n\n    def init():\n        im.set_data([])\n        return im\n\n    def animate(i):\n        im.set_data(mat[i])\n        return im\n\n    ani = animation.FuncAnimation(fig, animate, frames = 100, init_func = init, interval = dT, blit = True)\n    plt.show()\n\nquick_play()\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qt4k3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qt4k3.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is this occuring? Furthermore, when I remove the \"%matplotlib nbagg\", I get an error message:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-1-728862430f94&gt; in &lt;module&gt;()\n     20     plt.show()\n     21 \n---&gt; 22 quick_play()\n\n&lt;ipython-input-1-728862430f94&gt; in quick_play(dT)\n     17         return im\n     18 \n---&gt; 19     ani = animation.FuncAnimation(fig, animate, frames = 100, init_func = init, interval = dT, blit = True)\n     20     plt.show()\n     21 \n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in __init__(self, fig, func, frames, init_func, fargs, save_count, **kwargs)\n   1191         self._save_seq = []\n   1192 \n-&gt; 1193         TimedAnimation.__init__(self, fig, **kwargs)\n   1194 \n   1195         # Need to reset the saved seq, since right now it will contain data\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in __init__(self, fig, interval, repeat_delay, repeat, event_source, *args, **kwargs)\n   1035 \n   1036         Animation.__init__(self, fig, event_source=event_source,\n-&gt; 1037                            *args, **kwargs)\n   1038 \n   1039     def _step(self, *args):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in __init__(self, fig, event_source, blit)\n    647                                                       self._stop)\n    648         if self._blit:\n--&gt; 649             self._setup_blit()\n    650 \n    651     def _start(self, *args):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in _setup_blit(self)\n    933         self._resize_id = self._fig.canvas.mpl_connect('resize_event',\n    934                                                        self._handle_resize)\n--&gt; 935         self._post_draw(None, self._blit)\n    936 \n    937     def _handle_resize(self, *args):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in _post_draw(self, framedata, blit)\n    898             self._blit_draw(self._drawn_artists, self._blit_cache)\n    899         else:\n--&gt; 900             self._fig.canvas.draw_idle()\n    901 \n    902     # The rest of the code in this class is to facilitate easy blitting\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\backend_bases.py in draw_idle(self, *args, **kwargs)\n   2024         if not self._is_idle_drawing:\n   2025             with self._idle_draw_cntx():\n-&gt; 2026                 self.draw(*args, **kwargs)\n   2027 \n   2028     def draw_cursor(self, event):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py in draw(self)\n    472 \n    473         try:\n--&gt; 474             self.figure.draw(self.renderer)\n    475         finally:\n    476             RendererAgg.lock.release()\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\artist.py in draw_wrapper(artist, renderer, *args, **kwargs)\n     60     def draw_wrapper(artist, renderer, *args, **kwargs):\n     61         before(artist, renderer)\n---&gt; 62         draw(artist, renderer, *args, **kwargs)\n     63         after(artist, renderer)\n     64 \n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\figure.py in draw(self, renderer)\n   1163 \n   1164         self._cachedRenderer = renderer\n-&gt; 1165         self.canvas.draw_event(renderer)\n   1166 \n   1167     def draw_artist(self, a):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\backend_bases.py in draw_event(self, renderer)\n   1807         s = 'draw_event'\n   1808         event = DrawEvent(s, self, renderer)\n-&gt; 1809         self.callbacks.process(s, event)\n   1810 \n   1811     def resize_event(self):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\cbook.py in process(self, s, *args, **kwargs)\n    561             for cid, proxy in list(six.iteritems(self.callbacks[s])):\n    562                 try:\n--&gt; 563                     proxy(*args, **kwargs)\n    564                 except ReferenceError:\n    565                     self._remove_proxy(proxy)\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\cbook.py in __call__(self, *args, **kwargs)\n    428             mtd = self.func\n    429         # invoke the callable and return the result\n--&gt; 430         return mtd(*args, **kwargs)\n    431 \n    432     def __eq__(self, other):\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in _start(self, *args)\n    659 \n    660         # Now do any initial draw\n--&gt; 661         self._init_draw()\n    662 \n    663         # Add our callback for stepping the animation and\n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\animation.py in _init_draw(self)\n   1222 \n   1223         else:\n-&gt; 1224             self._drawn_artists = self._init_func()\n   1225             if self._blit:\n   1226                 if self._drawn_artists is None:\n\n&lt;ipython-input-1-728862430f94&gt; in init()\n     10 \n     11     def init():\n---&gt; 12         im.set_data([])\n     13         return im\n     14 \n\nC:\\Users\\Alexander\\Anaconda3\\lib\\site-packages\\matplotlib\\image.py in set_data(self, A)\n    451         if (self._A.ndim not in (2, 3) or\n    452                 (self._A.ndim == 3 and self._A.shape[-1] not in (3, 4))):\n--&gt; 453             raise TypeError(\"Invalid dimensions for image data\")\n    454 \n    455         self._imcache = None\n\nTypeError: Invalid dimensions for image data\n</code></pre>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 1, "creation_date": 1481151523, "post_id": 41028871, "comment_id": 69265260, "body": "How is your template rendered in the view?"}, {"owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "reply_to_user": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1481151699, "post_id": 41028871, "comment_id": 69265337, "body": "I assume you mean the view itself - it is just pain text (its actually just json content). The view has no css associated when it loads. - added the actual template above."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1481151789, "post_id": 41028871, "comment_id": 69265381, "body": "You haven&#39;t shown anything that is not working. Where is your view? What is your template? What url are you using? What problem are you having?"}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1481152027, "post_id": 41028871, "comment_id": 69265478, "body": "Also, I see that you have this <code>TEMPLATE_DIRS</code> in your config, why? you have already <code>TEMPLATES = [{...}]</code>"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481152085, "post_id": 41028871, "comment_id": 69265504, "body": "You still haven&#39;t said what is not working. Your views don&#39;t even use any templates."}, {"owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481152156, "post_id": 41028871, "comment_id": 69265530, "body": "@DanielRoseman the template does not load. The URL routing seems to be correct because the page itself loads (I&#39;ve updated above without) but without the desired template / styling."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481152214, "post_id": 41028871, "comment_id": 69265551, "body": "<b>What</b> template? Your views don&#39;t <i>use</i> any template."}, {"owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "reply_to_user": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1481152228, "post_id": 41028871, "comment_id": 69265559, "body": "@ettanany it was suggested in the tutorial to use TEMPLATE_DIRS which seems right as per the docs. The TEMPLATES = [{...}] was pre-existing and so I updated both. I also tried with and without both but with the same result."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481152340, "post_id": 41028871, "comment_id": 69265609, "body": "I can&#39;t understand what you&#39;re asking at all. You return a raw http response containing a dict. There is no template involved anywhere."}, {"owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481152430, "post_id": 41028871, "comment_id": 69265642, "body": "@DanielRoseman makes sense - seems it is not in the tutorial. I assumed the association was based on the method / view name. I need to return / render to view."}], "answers": [{"tags": [], "owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152448, "creation_date": 1481152448, "answer_id": 41029085, "question_id": 41028871, "link": "https://stackoverflow.com/questions/41028871/templates-not-loading-in-django/41029085#41029085", "title": "Templates not loading in Django", "body": "<p>Need to return render to view e.g.     return render(request, 'app/profile.html', {'data': parsedData})</p>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": true, "score": 4, "last_activity_date": 1481153061, "last_edit_date": 1481153061, "creation_date": 1481152456, "answer_id": 41029086, "question_id": 41028871, "link": "https://stackoverflow.com/questions/41028871/templates-not-loading-in-django/41029086#41029086", "title": "Templates not loading in Django", "body": "<p>If your <code>templates</code> folder is in your project root folder and you have <code>profile.html</code> like this:\n<code>templates/app/profile.html</code> then your view should be something like:</p>\n\n<pre><code>def some_view(request)\n    # some code\n    return render(request, 'app/profile.html')\n</code></pre>\n\n<p>Your profile view could be:</p>\n\n<pre><code>def profile(request)\n    # your code\n    return render(request, 'app/profile.html', {'data': userData})\n</code></pre>\n\n<p>Now, in your template <code>profile.html</code>, you can access the object <code>data</code></p>\n"}], "owner": {"reputation": 223, "user_id": 5519972, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vs0K2.png?s=128&g=1", "display_name": "mutantChickenHer0", "link": "https://stackoverflow.com/users/5519972/mutantchickenher0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3626, "favorite_count": 0, "accepted_answer_id": 41029086, "answer_count": 2, "score": 1, "last_activity_date": 1481153061, "creation_date": 1481151411, "last_edit_date": 1481152830, "question_id": 41028871, "link": "https://stackoverflow.com/questions/41028871/templates-not-loading-in-django", "title": "Templates not loading in Django", "body": "<p>Problem: template not loading with view ....</p>\n\n<p>I've been following a django tutorial, hoping to get some templates working that I created. It looks like this. </p>\n\n<pre><code>app/templates\n\u2514\u2500\u2500 app\n    \u2514\u2500\u2500 profile.html\n</code></pre>\n\n<p>Settings file looks like this:</p>\n\n<pre><code>\"\"\"\nDjango settings for demonstration project.\n\nGenerated by 'django-admin startproject' using Django 1.10.3.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.10/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.10/ref/settings/\n\"\"\"\n\nimport os\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\nTEMPLATE_DIRS = [os.path.join(BASE_DIR, 'templates')]\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.10/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'SOME_KEY_NON_PROD_TESTING_LOCALLY'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'app',\n]\n\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\n\nROOT_URLCONF = 'demonstration.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'demonstration.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/1.10/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n\n\n# Password validation\n# https://docs.djangoproject.com/en/1.10/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.10/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.10/howto/static-files/\n\nSTATIC_URL = '/static/'\n</code></pre>\n\n<p>The tutorial mentioned defining a template dir so I defined: </p>\n\n<pre><code>TEMPLATE_DIRS = [os.path.join(BASE_DIR, 'templates')]\n</code></pre>\n\n<p>However, that didn't work so I also saw the DIRs option in the template stanza to I set that to the same value as TEMPLATE_DIRS that I added above. </p>\n\n<p>I still don't see any change here. I am obviously missing something about the config that should point to the template but I'm stumped as to what that is at the moment. </p>\n\n<p>The view: </p>\n\n<pre><code>from django.shortcuts import render, HttpResponse\nimport requests\nimport json\n\n# Create your views here.\n\ndef index(request):\n    return HttpResponse('Hello World!')\n\ndef second_view(request):\n    return HttpResponse('This is the second view!')\n\ndef profile(request):\n    jsonList = []\n    req = requests.get('https://api.github.com/users/&lt;username_here&gt;')\n    jsonList.append(json.loads(req.content.decode()))\n    parsedData = []\n    userData = {}\n    for data in jsonList:\n        userData['name'] = data['name']\n        userData['email'] = data['email']\n        userData['public_gists'] = data['public_gists']\n        userData['public_repos'] = data['public_repos']\n        userData['avatar_url'] = data['avatar_url']\n        userData['followers'] = data['followers']\n        userData['following'] = data['following']\n    parsedData.append(userData)\n    return HttpResponse(parsedData)\n</code></pre>\n\n<p>The page source of localhost:8000/app/profile </p>\n\n<pre><code>{'followers': 1, 'public_repos': 5, 'avatar_url': 'https://avatars.githubusercontent.com/u/XXXXX', 'email': None, 'following': 4, 'name': None, 'public_gists': 1}\n</code></pre>\n"}, {"tags": ["python", "excel", "csv"], "comments": [{"owner": {"reputation": 1161, "user_id": 3633696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4d12ec3ab32aaa93f9c1438856dd72e0?s=128&d=identicon&r=PG&f=1", "display_name": "logicOnAbstractions", "link": "https://stackoverflow.com/users/3633696/logiconabstractions"}, "edited": false, "score": 0, "creation_date": 1481151688, "post_id": 41028867, "comment_id": 69265328, "body": "Is your delimiter a space? Why not use comma or ; or tab? Also how do you import it in Excel afterward? If you just double-lick it&#39;s unlikely to word. If you import it through &quot;data&quot; tab, then &quot;from text&quot; and mark &quot; &quot; (a space) as your delimiter it should owrk."}, {"owner": {"reputation": 75043, "user_id": 84270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG", "display_name": "John Machin", "link": "https://stackoverflow.com/users/84270/john-machin"}, "edited": false, "score": 0, "creation_date": 1481153542, "post_id": 41028867, "comment_id": 69266055, "body": "You say: &quot;my code keeps taking all the words in the string and puts them in one cell&quot; ... how do you know that? Have you tried opening the output file in a text editor?"}, {"owner": {"reputation": 1, "user_id": 3102350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c045020ee1177b9e90bd433885391d12?s=128&d=identicon&r=PG&f=1", "display_name": "user3102350", "link": "https://stackoverflow.com/users/3102350/user3102350"}, "edited": false, "score": 0, "creation_date": 1481155873, "post_id": 41028867, "comment_id": 69266842, "body": "Hi, yes, in Excel, or a text editor it shows up as one line like this: \u2c41\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c&zwnj;&#8203;\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c&zwnj;&#8203;\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c&zwnj;&#8203;\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u2c2c\u0a0d (Even imported through the data tab in Excel.)"}], "answers": [{"comments": [{"owner": {"reputation": 75043, "user_id": 84270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG", "display_name": "John Machin", "link": "https://stackoverflow.com/users/84270/john-machin"}, "edited": false, "score": 0, "creation_date": 1481152898, "post_id": 41028938, "comment_id": 69265817, "body": "You don&#39;t need to specify a string to break on. Docs: If sep is not specified or is None, a different splitting algorithm is applied: runs of consecutive whitespace are regarded as a single separator"}, {"owner": {"reputation": 815, "user_id": 7243142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cZc7H8fbkUo/AAAAAAAAAAI/AAAAAAAAhA0/AzJ54NAuceo/photo.jpg?sz=128", "display_name": "Kevin Schellenberg", "link": "https://stackoverflow.com/users/7243142/kevin-schellenberg"}, "reply_to_user": {"reputation": 75043, "user_id": 84270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG", "display_name": "John Machin", "link": "https://stackoverflow.com/users/84270/john-machin"}, "edited": false, "score": 0, "creation_date": 1481153186, "post_id": 41028938, "comment_id": 69265925, "body": "Thanks.  Did not know that.  Updated my answer."}], "tags": [], "owner": {"reputation": 815, "user_id": 7243142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cZc7H8fbkUo/AAAAAAAAAAI/AAAAAAAAhA0/AzJ54NAuceo/photo.jpg?sz=128", "display_name": "Kevin Schellenberg", "link": "https://stackoverflow.com/users/7243142/kevin-schellenberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1481153137, "last_edit_date": 1481153137, "creation_date": 1481151780, "answer_id": 41028938, "question_id": 41028867, "link": "https://stackoverflow.com/questions/41028867/writing-individual-words-per-excel-cell-using-csv-in-python/41028938#41028938", "title": "Writing individual words per Excel cell using csv in Python?", "body": "<p>Remove the delimiter parameter from your call to csv.writer.</p>\n\n<pre><code>writer = csv.writer(WordsFromText, dialect='excel')\n</code></pre>\n\n<p>You don't need one when a dialect is specified.</p>\n"}, {"comments": [{"owner": {"reputation": 815, "user_id": 7243142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cZc7H8fbkUo/AAAAAAAAAAI/AAAAAAAAhA0/AzJ54NAuceo/photo.jpg?sz=128", "display_name": "Kevin Schellenberg", "link": "https://stackoverflow.com/users/7243142/kevin-schellenberg"}, "edited": false, "score": 0, "creation_date": 1481152984, "post_id": 41028958, "comment_id": 69265842, "body": "Actually I don&#39;t think you need to specify delimiter if you specify a dialect."}], "tags": [], "owner": {"reputation": 21, "user_id": 7243300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hz3Y0.jpg?s=128&g=1", "display_name": "Lexy Kassan", "link": "https://stackoverflow.com/users/7243300/lexy-kassan"}, "is_accepted": false, "score": 1, "last_activity_date": 1481151875, "creation_date": 1481151875, "answer_id": 41028958, "question_id": 41028867, "link": "https://stackoverflow.com/questions/41028867/writing-individual-words-per-excel-cell-using-csv-in-python/41028958#41028958", "title": "Writing individual words per Excel cell using csv in Python?", "body": "<p>Excel defaults to comma or tab delimited when opening from CSV regardless of what your delimiter was set to during the export from Python. Try using a delimiter of ',' if you are trying to put these words into a separate cell in the same row.</p>\n"}], "owner": {"reputation": 1, "user_id": 3102350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c045020ee1177b9e90bd433885391d12?s=128&d=identicon&r=PG&f=1", "display_name": "user3102350", "link": "https://stackoverflow.com/users/3102350/user3102350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481153137, "creation_date": 1481151398, "question_id": 41028867, "link": "https://stackoverflow.com/questions/41028867/writing-individual-words-per-excel-cell-using-csv-in-python", "title": "Writing individual words per Excel cell using csv in Python?", "body": "<p>I have a plain .txt document that I'm splitting up into individual words, appending them into a list, and then I'm trying to write that list into an Excel file so that each word is a new cell in the file. No matter what I do though, my code keeps taking all the words in the string and puts them in one cell, instead of splitting it by word like I'd intended. If you can help, could you also help explain why your solution works or why mine was wrong? Thanks!</p>\n\n<p>Here's what my code looks like right now:</p>\n\n<pre><code>import csv\n\nlist_of_words = []\n\nwith open('ExampleText.txt', 'r') as ExampleText:\n    for line in ExampleText:\n        for word in line.split():\n            print(word)\n            list_of_words.append(word)\n            print(\"Done!\")\n    print(\"Also done!\")\n\nwith open('Gazete.csv', 'wb') as WordsFromText:\n    writer = csv.writer(WordsFromText, delimiter=' ', dialect='excel')\n    writer.writerow(list_of_words)\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "regression", "curve-fitting"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481153921, "post_id": 41028846, "comment_id": 69266209, "body": "Did ODR converge? What is <code>output.reason</code>?"}, {"owner": {"reputation": 6970, "user_id": 1421907, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/706df37b134846b622fdcb29bf879316?s=128&d=identicon&r=PG", "display_name": "Ger", "link": "https://stackoverflow.com/users/1421907/ger"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481154373, "post_id": 41028846, "comment_id": 69266346, "body": "attribute <code>output.stopreason</code> is &#39;Iteration limit reached&#39;. I did explicit odr with <code>fit_type=0</code>. The fit looks like good but maybe the number of iteration is not enough ! <code>output.info</code> is 4."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481156511, "post_id": 41028846, "comment_id": 69267034, "body": "I don&#39;t think you can trust <code>cov_beta</code> and <code>sd_beta</code> if ODR hasn&#39;t converged on a solution. Try setting <code>maxiter</code> to something large, or check <code>output.stopreason</code> and call <code>output = odr.reset(&lt;more steps&gt;)</code> if ODR hasn&#39;t converged yet."}, {"owner": {"reputation": 6970, "user_id": 1421907, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/706df37b134846b622fdcb29bf879316?s=128&d=identicon&r=PG", "display_name": "Ger", "link": "https://stackoverflow.com/users/1421907/ger"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481188830, "post_id": 41028846, "comment_id": 69278788, "body": "Yes, without convergence you can talk nonsense. I run odr until it reaches convergence. I edit the question with the notebook example. With the least square approach <code>sd_beta</code> et <code>cov_beta</code> are closed each other. But with explicit ODR there  are strong differences."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481228910, "post_id": 41028846, "comment_id": 69304014, "body": "Interesting. It seems that sqrt(diag(sd_cov)) is a scalar multiple of sd_beta (in your example the scaling parameter is 0.01575519)."}, {"owner": {"reputation": 6970, "user_id": 1421907, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/706df37b134846b622fdcb29bf879316?s=128&d=identicon&r=PG", "display_name": "Ger", "link": "https://stackoverflow.com/users/1421907/ger"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1481231107, "post_id": 41028846, "comment_id": 69305127, "body": "Yes, I look at two other examples on more &quot;real&quot; data and again <code>sb_beta</code> and <code>sqrt(diag(sb_cov))</code> are proportional. But the coefficient is not always the same, I got 0.6981417 or 0.737385"}], "answers": [{"comments": [{"owner": {"reputation": 6970, "user_id": 1421907, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/706df37b134846b622fdcb29bf879316?s=128&d=identicon&r=PG", "display_name": "Ger", "link": "https://stackoverflow.com/users/1421907/ger"}, "edited": false, "score": 0, "creation_date": 1481291033, "post_id": 41049117, "comment_id": 69330237, "body": "Looking at the doc of matlab, the standard error (stdx) seems to be equivalent to the sd_beta of scipy.odr : <a href=\"https://fr.mathworks.com/help/matlab/ref/lscov.html\" rel=\"nofollow noreferrer\">fr.mathworks.com/help/matlab/ref/lscov.html</a> Matlab does multiply by the error."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1498072931, "post_id": 41049117, "comment_id": 76353339, "body": "The line <code>np.sqrt(np.diag(output.cov_beta * output.res_var))</code> indeed returns the same value as <code>output.sd_beta</code>, but what&#39;s not clear to me is: which of these two outputs is the proper standard deviation for the fitted parameters? (Asked here: <a href=\"https://stackoverflow.com/questions/44638882/estimate-the-standard-deviation-of-fitted-parameters-in-scipy-odr\" title=\"estimate the standard deviation of fitted parameters in scipy odr\">stackoverflow.com/questions/44638882/&hellip;</a>)"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1498151294, "post_id": 41049117, "comment_id": 76393978, "body": "ali_m shouldn&#39;t it be the other way around? I.e.: &quot;<i><code>cov_beta</code> is scaled by the residual variance, whereas <code>sd_beta</code> isn&#39;t</i>&quot;."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 2, "creation_date": 1498156282, "post_id": 41049117, "comment_id": 76396696, "body": "@Gabriel No, <code>output.cov_beta</code> <i>ought</i> to be scaled by the residual variance, but it isn&#39;t by default (hence why you need to multiply it by <code>output.res_var</code>)."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 11, "last_activity_date": 1481234956, "last_edit_date": 1481234956, "creation_date": 1481232515, "answer_id": 41049117, "question_id": 41028846, "link": "https://stackoverflow.com/questions/41028846/how-to-compute-standard-error-from-odr-results/41049117#41049117", "title": "How to compute standard error from ODR results?", "body": "<p>The reason for the discrepancy is that <code>sd_beta</code> is scaled by the residual variance, whereas <code>cov_beta</code> isn't.</p>\n\n<p><code>scipy.odr</code> is an interface for the ODRPACK FORTRAN library, which is thinly wrapped in <code>__odrpack.c</code>. <code>sd_beta</code> and <code>cov_beta</code> are recovered by indexing into the <code>work</code> vector that's used internally by the FORTRAN routine. The indices of their first elements in <code>work</code> are variables named <code>sd</code> and <code>vcv</code> (see <a href=\"https://github.com/scipy/scipy/blob/2526df72e5d4ca8bad6e2f4b3cbdfbc33e805865/scipy/odr/__odrpack.c#L361\" rel=\"noreferrer\">here</a>).</p>\n\n<p>From the <a href=\"https://docs.scipy.org/doc/external/odrpack_guide.pdf\" rel=\"noreferrer\">ODRPACK documentation</a> (p.85):</p>\n\n<blockquote>\n  <p><strong><code>WORK(SDI)</code></strong> is the first element of a <code>p \u00d7 1</code> array <code>SD</code> containing\n  the standard deviations <code>\u0302\u03c3\u03b2K</code> of the function parameters <code>\u03b2</code>, i.e., the\n  square roots of the diagonal entries of the covariance matrix, where</p>\n\n<pre><code>WORK(SDI-1+K) = SD(K) = \u0302V 1/2 \u03b2 (K, K) = \u0302\u03c3\u03b2K\n</code></pre>\n  \n  <p>for <code>K = 1,... ,p</code>.</p>\n  \n  <p><strong><code>WORK(VCVI)</code></strong> is the first element of a <code>p \u00d7 p</code> array <code>VCV</code> containing\n  the values of the covariance matrix of the parameters <code>\u03b2</code> <strong><em>prior to\n  scaling by the residual variance</em></strong>, where</p>\n\n<pre><code>WORK(VCVI-1+I+(J-1)*(NP)) = VCV(I,J) = \u0302\u03c3\u207b\u00b2V \u03b2(I, J)\n</code></pre>\n  \n  <p>for <code>I = 1,... ,p</code> and <code>J = 1,... ,p</code>.</p>\n</blockquote>\n\n<p>In other words, <code>np.sqrt(np.diag(output.cov_beta * output.res_var))</code> will give you the same result as <code>output.sd_beta</code>.</p>\n\n<p>I've opened a bug report <a href=\"https://github.com/scipy/scipy/issues/6842\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 6970, "user_id": 1421907, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/706df37b134846b622fdcb29bf879316?s=128&d=identicon&r=PG", "display_name": "Ger", "link": "https://stackoverflow.com/users/1421907/ger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2584, "favorite_count": 4, "accepted_answer_id": 41049117, "answer_count": 1, "score": 9, "last_activity_date": 1481235201, "creation_date": 1481151255, "last_edit_date": 1495540447, "question_id": 41028846, "link": "https://stackoverflow.com/questions/41028846/how-to-compute-standard-error-from-odr-results", "title": "How to compute standard error from ODR results?", "body": "<p>I use <code>scipy.odr</code> in order to make a fit with uncertainties on both x and y following this question <a href=\"https://stackoverflow.com/questions/26058792/correct-fitting-with-scipy-curve-fit-including-errors-in-x/26085136#26085136\">Correct fitting with scipy curve_fit including errors in x?</a></p>\n\n<p>After the fit I would like to compute the uncertainties on the parameters. Thus I look at the square root of the diagonal elements of the covariance matrix. I get :</p>\n\n<pre><code>&gt;&gt;&gt; print(np.sqrt(np.diag(output.cov_beta)))\n[ 0.17516591  0.33020487  0.27856021]\n</code></pre>\n\n<p>But in the <code>Output</code> there is also <code>output.sd_beta</code> which is, according to the <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.odr.Output.html#scipy.odr.Output\" rel=\"noreferrer\">doc on odr</a> </p>\n\n<blockquote>\n  <p>Standard errors of the estimated parameters, of shape (p,).</p>\n</blockquote>\n\n<p>But, it does not give me the same results : </p>\n\n<pre><code>&gt;&gt;&gt; print(output.sd_beta)\n[ 0.19705029  0.37145907  0.31336217]\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is an example on a notebook : <a href=\"https://nbviewer.jupyter.org/github/gvallverdu/cookbook/blob/master/fit_odr.ipynb\" rel=\"noreferrer\">https://nbviewer.jupyter.org/github/gvallverdu/cookbook/blob/master/fit_odr.ipynb</a></p>\n\n<p>With least square</p>\n\n<pre><code>stop reason: ['Sum of squares convergence']\n        params: [ -1.94792946  11.03369235  -5.43265555]\n          info: 1\n       sd_beta: [ 0.26176284  0.49877962  0.35510071]\nsqrt(diag(cov): [ 0.25066236  0.47762805  0.34004208]\n</code></pre>\n\n<p>With ODR</p>\n\n<pre><code>stop reason: ['Sum of squares convergence']\n        params: [-1.93538595  6.141885   -3.80784384]\n          info: 1\n       sd_beta: [ 0.6941821   0.88909997  0.17292514]\nsqrt(diag(cov): [ 0.01093697  0.01400794  0.00272447]\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1481151265, "post_id": 41028818, "comment_id": 69265168, "body": "Because <code>turn_2 != turn2</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "is_accepted": true, "score": 0, "last_activity_date": 1481151357, "creation_date": 1481151357, "answer_id": 41028861, "question_id": 41028818, "link": "https://stackoverflow.com/questions/41028818/nameerror-name-is-not-defined-3/41028861#41028861", "title": "NameError: Name is not defined 3", "body": "<p>The problem is your variable naming and calling are different. You named the variable <code>turn2</code> but used it in the condition as <code>turn_2</code>. Change your condition to <code>if turn2 == \"cell1\":</code>. (Your second condition also needs to be changed).</p>\n"}], "owner": {"reputation": 111, "user_id": 7264836, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/84ed42e1b85d63ca9ada11660e83a390?s=128&d=identicon&r=PG&f=1", "display_name": "SamtheMan", "link": "https://stackoverflow.com/users/7264836/samtheman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 41028861, "answer_count": 1, "score": -1, "last_activity_date": 1481151357, "creation_date": 1481151116, "last_edit_date": 1481151272, "question_id": 41028818, "link": "https://stackoverflow.com/questions/41028818/nameerror-name-is-not-defined-3", "title": "NameError: Name is not defined 3", "body": "<p>I've made a piece of code (a tic tac toe game) and when I run it python always return with:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:/Users/#####/Desktop/python stuff/tic tac toe.py\", line 30, in  &lt;module&gt;\n if turn_2 == \"cell1\":\n NameError: name 'turn_2' is not defined\n</code></pre>\n\n<p>Or something of the sort. (You all know what errors look like).\nThis is the code creating problems:</p>\n\n<pre><code>   turn2 = input(\"Enter what cell you want to play on: \")\n   if turn_2 == \"cell1\":\n        print(\"Put an X on cell 1.\")\n        cell1 = \"x\"\n   elif turn_2 == \"cell2\":\n        print(\"Put an X on cell 2\")\n        cell2 = \"x\"\n   elif turn2 == \"cell3\":\n        print(\"Put an X on cell 3\")\n        cell3 = \"x\"\n</code></pre>\n\n<p>I apologize in advance if this looks like trash, it's my first time asking a question on the site. Any answers are much appreciated.\nThanks</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "edited": false, "score": 0, "creation_date": 1481152602, "post_id": 41028900, "comment_id": 69265701, "body": "Thanks, this gives me lots of new tools to work with!"}], "tags": [], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "is_accepted": true, "score": 0, "last_activity_date": 1481152030, "last_edit_date": 1481152030, "creation_date": 1481151576, "answer_id": 41028900, "question_id": 41028785, "link": "https://stackoverflow.com/questions/41028785/how-to-calculate-pandas-df-values-based-on-grouped-column/41028900#41028900", "title": "How to calculate pandas DF values based on grouped column", "body": "<p>Try this out:</p>\n\n<pre><code>percentage = {}\nfor type in df.type.unique():\n    numerator = df[(df.type == type) &amp; (df.group == 'fake')].amount.sum()\n    denominator = df[(df.type == type)].amount.sum()\n    percentage[type] = numerator / denominator * 100\n\ndf['percentage'] = list(df.type.map(percentage))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1481158491, "post_id": 41029369, "comment_id": 69267632, "body": "This answer assumes that there is only one fake group per type"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "edited": false, "score": 0, "creation_date": 1481159416, "post_id": 41029369, "comment_id": 69267883, "body": "@TedPetrou yes it does"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1481169652, "last_edit_date": 1481169652, "creation_date": 1481154194, "answer_id": 41029369, "question_id": 41028785, "link": "https://stackoverflow.com/questions/41028785/how-to-calculate-pandas-df-values-based-on-grouped-column/41029369#41029369", "title": "How to calculate pandas DF values based on grouped column", "body": "<pre><code>df['percentage'] = df.amount \\\n                 / df.groupby(['type']) \\\n                     .amount.transform('sum').loc[df.group.eq('fake')]).fillna('')\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UiRfo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UiRfo.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>If handling multiple <code>fake</code> in <code>group</code> per <code>type</code>.  We can be a bit more careful.  I'll set the index to preserve the <code>type</code> and <code>group</code> columns while I transform.</p>\n\n<pre><code>c = ['type', 'group']\nd1 = df.set_index(c, append=True)\nd1.amount /= d1.groupby(level=['type']).amount.transform('sum')\n\nd1.reset_index(c)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gWlsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWlsO.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>From here, you can choose to leave that alone or consolidate the <code>group</code> column.</p>\n\n<pre><code>d1.groupby(level=c).sum().reset_index()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RjU4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RjU4Y.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "is_accepted": false, "score": 0, "last_activity_date": 1481160192, "creation_date": 1481160192, "answer_id": 41030251, "question_id": 41028785, "link": "https://stackoverflow.com/questions/41028785/how-to-calculate-pandas-df-values-based-on-grouped-column/41030251#41030251", "title": "How to calculate pandas DF values based on grouped column", "body": "<p>If you wanted to make sure you accounted for multiple fake groups per type you can do the following</p>\n\n<pre><code>type_group_total = df.groupby(['type', 'group']).transform('sum')\ntype_total = df.groupby('type')[['amount']].transform('sum')\ndf['percentage'] = type_group_total / type_total\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>  type group  amount  percentage\n0    A  real      55    0.820896\n1    A  fake      12    0.179104\n2    B  real     610    0.899705\n3    B  fake      23    0.100295\n4    B  fake      45    0.100295\n</code></pre>\n"}], "owner": {"reputation": 2845, "user_id": 5421745, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c95c95e7098f89ad77f886fc086fe01e?s=128&d=identicon&r=PG&f=1", "display_name": "wanaryytel", "link": "https://stackoverflow.com/users/5421745/wanaryytel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 41028900, "answer_count": 3, "score": 1, "last_activity_date": 1481169652, "creation_date": 1481150917, "question_id": 41028785, "link": "https://stackoverflow.com/questions/41028785/how-to-calculate-pandas-df-values-based-on-grouped-column", "title": "How to calculate pandas DF values based on grouped column", "body": "<p>I'm relatively new to Pandas dataframes and I have to do simple calculation, but so far I haven't found a good way to go about it.<br>\nBasically what I have is:  </p>\n\n<pre><code>       type   group     amount\n1       A     real        55\n2       A     fake        12\n3       B     real       610\n4       B     fake        23\n5       B     real        45\n</code></pre>\n\n<p>Now, I have to add a new column that would show the percentage of fakes in type total. So the simple formula for this table would be for A <code>12 / (55 + 12) * 100</code> and for B <code>23 / (610 + 23 + 45) * 100</code> and the table should look something like this:  </p>\n\n<pre><code>       type   group     amount    percentage\n1       A     real        55          \n2       A     fake        12         17.91\n3       B     real       610\n4       B     fake        23\n5       B     real        45          3.39\n</code></pre>\n\n<p>I know about <code>groupby</code> statements and basically all the components I need for this (I guess...), but can't figure out how to combine to get this result.</p>\n"}, {"tags": ["python", "mysql", "python-2.7", "twitter", "mysql-python"], "comments": [{"owner": {"reputation": 807, "user_id": 70142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0abcd146e7a8f4b7e27f38b93c854f95?s=128&d=identicon&r=PG&f=1", "display_name": "Wheat", "link": "https://stackoverflow.com/users/70142/wheat"}, "edited": false, "score": 0, "creation_date": 1481151183, "post_id": 41028774, "comment_id": 69265136, "body": "See the answers to the question <a href=\"http://stackoverflow.com/questions/3617052/escape-string-python-for-mysql\">Escape string Python for MySQL</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "is_accepted": true, "score": 2, "last_activity_date": 1481153468, "creation_date": 1481153468, "answer_id": 41029245, "question_id": 41028774, "link": "https://stackoverflow.com/questions/41028774/python-mysql-mysql-exceptions-programmingerror-1064-you-have-an-error-in-y/41029245#41029245", "title": "Python, MySQL _mysql_exceptions.ProgrammingError: (1064, &#39;You have an error in your SQL syntax", "body": "<p>You should bind the variables instead of formatting the sql string.</p>\n\n<pre><code>sql = \"INSERT INTO tweet VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s)\"\nvalues = (tweetId, userId, text, day, month, year, hour, minute, placeId)\ncursor.execute(sql, values)\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 6531255, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/StHrV.jpg?s=128&g=1", "display_name": "salty_coffee", "link": "https://stackoverflow.com/users/6531255/salty-coffee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3296, "favorite_count": 0, "accepted_answer_id": 41029245, "answer_count": 1, "score": 1, "last_activity_date": 1481153468, "creation_date": 1481150883, "question_id": 41028774, "link": "https://stackoverflow.com/questions/41028774/python-mysql-mysql-exceptions-programmingerror-1064-you-have-an-error-in-y", "title": "Python, MySQL _mysql_exceptions.ProgrammingError: (1064, &#39;You have an error in your SQL syntax", "body": "<p>Im currently sending a twitter stream to a local MySQL db and I have run into an issue. Whenever a user creates a tweet with \" located within it, I will get a syntax error because it messes with the Insert statement.</p>\n\n<p>Im curious of the best way to fix this so a persons tweet will not effect the insert statement.</p>\n\n<p>example variables:</p>\n\n<pre><code>tweetId = 98757629\nuserId = 07gos870sg\ntext = \"this is \"what \" is messing up my sql\"\nday = 04\nmonth = 'dec'\nyear = 2016\nhour = 23\nminute = 45\nplaceId = 'kj4h5b899'\n\n\nc.execute('INSERT INTO tweet VALUES(\"%s\", \"%s\", \"%s\", \"%s\", \"%s\", \n           \"%s\", \"%s\", \"%s\", \"%s\")' % \\\n           (tweetId, userId, text, day, month, year, hour, minute, placeId))\n</code></pre>\n\n<p>Iv thought of just taking any of the characters (\" ` ') that would mess with he insert statement out before they are sent to the code, however; I dont want to edit any user submitted data.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1481151076, "post_id": 41028756, "comment_id": 69265085, "body": "Try <a href=\"https://regex101.com/r/5F2sBj/1\" rel=\"nofollow noreferrer\"><code>r&#39;\\s(&#47;.*?&#47;file-\\d+\\.txt)\\s&#39;</code></a> with <code>re.findall</code>"}], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 4254936, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PpUdU.jpg?s=128&g=1", "display_name": "Sivaswami Jeganathan", "link": "https://stackoverflow.com/users/4254936/sivaswami-jeganathan"}, "edited": false, "score": 0, "creation_date": 1481151247, "post_id": 41028799, "comment_id": 69265161, "body": "But the path can contain spaces, digits, etc. As it is a file, sometimes the path could be absolute/relative or can contain variables like $HOME/path/file-1.txt"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 553, "user_id": 4254936, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PpUdU.jpg?s=128&g=1", "display_name": "Sivaswami Jeganathan", "link": "https://stackoverflow.com/users/4254936/sivaswami-jeganathan"}, "edited": false, "score": 0, "creation_date": 1481151371, "post_id": 41028799, "comment_id": 69265206, "body": "@KarthikJeganathan Indeed, I&#39;m just trying to show you the door, but you&#39;re the one that has to walk through it ;-)"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1481151293, "last_edit_date": 1481151293, "creation_date": 1481151015, "answer_id": 41028799, "question_id": 41028756, "link": "https://stackoverflow.com/questions/41028756/extract-path-from-lines-in-a-file-using-python/41028799#41028799", "title": "Extract path from lines in a file using python", "body": "<p>You don't need <code>.*</code> just use character classes properly:</p>\n\n<pre><code>r'[\\/\\w]+file-[^.]+\\.txt'\n</code></pre>\n\n<p><code>[\\/\\w]+</code> will match any combinations of word characters and <code>/</code>. And <code>[^.]+</code> will match any combination of characters except dot.</p>\n\n<p>Demo:</p>\n\n<p><a href=\"https://regex101.com/r/ytsZ0D/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/ytsZ0D/1</a> </p>\n\n<p>Note that this regex might be kind of general, In that case, if you want to exclude some cases you can use <code>^</code> within character class or another proper pattern, based on your need.</p>\n"}, {"tags": [], "owner": {"reputation": 8201, "user_id": 3690024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2d5067f52318f0ed4db9eca0b2cda1?s=128&d=identicon&r=PG", "display_name": "AJNeufeld", "link": "https://stackoverflow.com/users/3690024/ajneufeld"}, "is_accepted": false, "score": 0, "last_activity_date": 1481151088, "creation_date": 1481151088, "answer_id": 41028810, "question_id": 41028756, "link": "https://stackoverflow.com/questions/41028756/extract-path-from-lines-in-a-file-using-python/41028810#41028810", "title": "Extract path from lines in a file using python", "body": "<p>Assuming your filenames are white-space separated ...</p>\n\n<pre><code>\\\\s(\\\\S+/file-\\\\d+\\\\.txt)\\\\s\n</code></pre>\n\n<ul>\n<li><code>\\\\s</code> - match a white-space character</li>\n<li><code>\\\\S+</code> - matches one or more non-whitespace characters</li>\n<li><code>\\\\d+</code> - matches one or more digits</li>\n<li><code>\\\\.</code> - turns the <code>.</code> into a non-interesting period, instead of a match any character</li>\n</ul>\n\n<p>You can avoid the double backslashes using r'' strings:</p>\n\n<pre><code>r'\\s(\\S+/file-\\d+\\.txt)\\s'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 0, "last_activity_date": 1481151154, "creation_date": 1481151154, "answer_id": 41028824, "question_id": 41028756, "link": "https://stackoverflow.com/questions/41028756/extract-path-from-lines-in-a-file-using-python/41028824#41028824", "title": "Extract path from lines in a file using python", "body": "<p>Try this:</p>\n\n<pre><code>import re\n\nre.findall('/.+\\.txt', s)\n# Output: ['/net/super/file-1.txt', '/sample/random/folder/folder2/file-2.txt', '/otherfile/other-3.txt']\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; \n&gt;&gt;&gt; s = \"\"\"contentsaasdf /net/super/file-1.txt othercontents...\n... data is in /sample/random/folder/folder2/file-2.txt  otherdata...\n... filename  /otherfile/other-3.txt somewording\"\"\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; re.findall('/.+\\.txt', s)\n['/net/super/file-1.txt', '/sample/random/folder/folder2/file-2.txt', '/otherfile/other-3.txt']\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 4254936, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/PpUdU.jpg?s=128&g=1", "display_name": "Sivaswami Jeganathan", "link": "https://stackoverflow.com/users/4254936/sivaswami-jeganathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 41028799, "answer_count": 3, "score": 0, "last_activity_date": 1481151293, "creation_date": 1481150796, "question_id": 41028756, "link": "https://stackoverflow.com/questions/41028756/extract-path-from-lines-in-a-file-using-python", "title": "Extract path from lines in a file using python", "body": "<p>I am trying to extract path from a given file which meet some criteria:\nExample:\nI have a small file with contents something like : </p>\n\n<pre><code>contentsaasdf /net/super/file-1.txt othercontents...\ndata is in /sample/random/folder/folder2/file-2.txt  otherdata...\nfilename  /otherfile/other-3.txt somewording\n</code></pre>\n\n<p>I want to extract the path's from file which contain <strong>file-*.txt</strong> in it.</p>\n\n<p>In above example, I need the below path's as output</p>\n\n<pre><code>/net/super/file-1.txt\n/sample/random/folder/folder2/file-2.txt\n</code></pre>\n\n<p>Any suggestions with Python code ?\nI am trying regex. But facing issues with multiple folder's, etc. Something like:</p>\n\n<pre><code> FileRegEx = re.compile('.*(file-\\\\d.txt).*', re.IGNORECASE|re.DOTALL)\n</code></pre>\n"}, {"tags": ["python", "regex", "parsing", "text"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 7258111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34817ac168d5fd6b09bd66898cf784ba?s=128&d=identicon&r=PG&f=1", "display_name": "D. Ross", "link": "https://stackoverflow.com/users/7258111/d-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1481151291, "creation_date": 1481151291, "answer_id": 41028850, "question_id": 41028737, "link": "https://stackoverflow.com/questions/41028737/parsing-text-file-using-python-for-list-of-ids/41028850#41028850", "title": "Parsing text file using python for list of ID&#39;s", "body": "<p>You have to parse through each line in the file. You must create a for-each loop:</p>\n\n<p><code>for each line in file:</code></p>\n\n<p>This will divide the file up by the line and should loop through the ID's without y terms. Keep in mind that this will also split up the top portion of the file (non y terms).</p>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 6586667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1bf742203257342ade6fb501476d02?s=128&d=identicon&r=PG&f=1", "display_name": "JCA", "link": "https://stackoverflow.com/users/6586667/jca"}, "is_accepted": true, "score": 0, "last_activity_date": 1481152302, "creation_date": 1481152302, "answer_id": 41029047, "question_id": 41028737, "link": "https://stackoverflow.com/questions/41028737/parsing-text-file-using-python-for-list-of-ids/41029047#41029047", "title": "Parsing text file using python for list of ID&#39;s", "body": "<pre><code>path_file = '...'\nf = open(path_file, 'r').read()\nids_string = f.split(\"Without y terms:\")[1].split(\"ID's:\")[1].split()\nids_integer = [int(e) for e in ids_string]\nprint (ids_integer)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7264826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e98529cbd085a37fe22a2e6f07f96a82?s=128&d=identicon&r=PG&f=1", "display_name": "Hiya", "link": "https://stackoverflow.com/users/7264826/hiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 41029047, "answer_count": 2, "score": -2, "last_activity_date": 1481152302, "creation_date": 1481150711, "question_id": 41028737, "link": "https://stackoverflow.com/questions/41028737/parsing-text-file-using-python-for-list-of-ids", "title": "Parsing text file using python for list of ID&#39;s", "body": "<p>I have downloaded a large amount of data and stored it in text files. I also have an overview document. An example can be seen here:</p>\n\n<pre><code>Without x terms:0\nID's: \n\nWithout y terms: 15\nID's: 10362383\n10390455\n10658293\n10658295\n10868884\n10947144\n11015024\n11430394\n11674903\n11773985\n7762512\n7934452\n8879328\n9186393\n9812933\n</code></pre>\n\n<p>I need to loop through the ID's without y terms, however I am unsure how to parse the text file to get those ID's. So far I have written this, but am unsure how to proceed. </p>\n\n<pre><code>file = '...'\nfile_object = open(file, 'r')\ntext = file_object.read()\nprint (text)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "class", "recursion"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 2, "creation_date": 1481150714, "post_id": 41028693, "comment_id": 69264924, "body": "It should be <code>self.input()</code>, not <code>input(self)</code>."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1481151939, "post_id": 41028693, "comment_id": 69265442, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\">Asking the user for input until they give a valid response</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 7264823, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ce467077d408eea2e66e12b09168465e?s=128&d=identicon&r=PG&f=1", "display_name": "mikecal7", "link": "https://stackoverflow.com/users/7264823/mikecal7"}, "edited": false, "score": 0, "creation_date": 1481151321, "post_id": 41028768, "comment_id": 69265188, "body": "Thank you very much for your help Jim!"}], "tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": false, "score": 0, "last_activity_date": 1481151510, "last_edit_date": 1481151510, "creation_date": 1481150834, "answer_id": 41028768, "question_id": 41028693, "link": "https://stackoverflow.com/questions/41028693/implementing-recursion-into-python3-class-method/41028768#41028768", "title": "Implementing recursion into python3 class method", "body": "<p>A couple of things:</p>\n\n<ol>\n<li>First off, these aren't class methods, that term has a specific meaning that you shouldn't confuse. You're dealing with plain methods here.</li>\n<li><p>(obsolete) Both <code>input</code> calls are missing closing parentheses:</p>\n\n<pre><code>self.probabilityX = int(input(\"Enter probability of x:\")\nself.probabilityY = int(input(\"Enter probability of y:\")\n</code></pre>\n\n<p>should instead be:</p>\n\n<pre><code>self.probabilityX = int(input(\"Enter probability of x:\"))\nself.probabilityY = int(input(\"Enter probability of y:\"))\n</code></pre>\n\n<p>I'm guessing they are typos when you posted the question :-)</p></li>\n<li><p>Calling <code>input(self)</code> doesn't do what you think. <code>input</code> is a built-in function, you're invoking that  with <code>self</code> as the prompt. You should be using <code>self.input()</code> again (and maybe renaming it to <code>input_probabilities</code> to evade confusion.</p></li>\n<li><p>(obsolete) <code>purs.getProbabilityP</code> is mis-spelled, it is <code>purs.getProbability()</code>.</p></li>\n<li><p>Your <code>__init__</code> doesn't make much sense:</p>\n\n<pre><code>def __init__(self, probabilityX = 0, probabilityY = 0):\n    self.probabilityX = \"\"\n    self.probabilityY = \"\"\n</code></pre>\n\n<p>I'm not sure why you provide default arguments for <code>probability(X|Y)</code> and then not assigning those to the corresponding instance attributes. You should do that:</p>\n\n<pre><code>def __init__(self, probabilityX = 0, probabilityY = 0):\n    self.probabilityX = probabilityX\n    self.probabilityY = probabilityY\n</code></pre></li>\n</ol>\n\n<p>As a final point, I'd suggest not using recursion; a <code>while</code> loop does the trick effectively.</p>\n"}], "owner": {"reputation": 95, "user_id": 7264823, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ce467077d408eea2e66e12b09168465e?s=128&d=identicon&r=PG&f=1", "display_name": "mikecal7", "link": "https://stackoverflow.com/users/7264823/mikecal7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1481151510, "creation_date": 1481150538, "last_edit_date": 1481151169, "question_id": 41028693, "link": "https://stackoverflow.com/questions/41028693/implementing-recursion-into-python3-class-method", "title": "Implementing recursion into python3 class method", "body": "<p>I need to use recursion in order for the input to keep calling itself if the sum of the two inputs don't equal to 100, but every time I try, I keep ending up with it asking for the input once, and then once it has been entered, it returns a hexadecimal value.</p>\n\n<pre><code>class Z:\n    def __init__(self, probabilityX = 0, probabilityY = 0):\n        self.probabilityX = \"\"\n        self.probabilityY = \"\"\n    def getProbability(self):\n        print(self.probabilityX, self.probabilityY)\n    def input(self):\n        self.probabilityX = int(input(\"Enter probability of x:\"))\n        self.probabilityY = int(input(\"Enter probability of y:\"))\n        if self.probabilityX + self.probabilityY != 100:\n            input(self)\n\ndef main():\n    purs = Z()\n    purs.input()\n    purs.getProbability()\nmain()\n</code></pre>\n\n<p>Any help is greatly appreciated!\nEdit: Fixed typing errors</p>\n"}, {"tags": ["python", "raspberry-pi"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1481150517, "post_id": 41028666, "comment_id": 69264841, "body": "when does the loop <i>break</i>?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1481150561, "post_id": 41028666, "comment_id": 69264862, "body": "@JimFasarakis-Hilliard Looks like OP is triggering on a GPIO pin. Process can run forever"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1481151023, "post_id": 41028666, "comment_id": 69265062, "body": "How does the hardware (or the user) tell you when what you&#39;ve gotten is &quot;final&quot;?"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1481151720, "post_id": 41028666, "comment_id": 69265349, "body": "@cricket_007 doesn&#39;t that contradict the concept of a &quot;final&quot; value?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1481152096, "post_id": 41028666, "comment_id": 69265509, "body": "@JimFasarakis-Hilliard I can&#39;t speak for what OP thinks the code should be doing"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 3332475, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000432266701/picture?type=large", "display_name": "user3332475", "link": "https://stackoverflow.com/users/3332475/user3332475"}, "edited": false, "score": 0, "creation_date": 1481151480, "post_id": 41028760, "comment_id": 69265248, "body": "I don&#39;t need to close the program, i need to show the final value that i put and await for more coins, did you understand me?"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1481151664, "post_id": 41028760, "comment_id": 69265321, "body": "If you wait for more coins how do you know what the final value is?"}], "tags": [], "owner": {"reputation": 5922, "user_id": 293612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1da0d4ecb4ecc1139aa35985dd44abe7?s=128&d=identicon&r=PG&f=1", "display_name": "dwerner", "link": "https://stackoverflow.com/users/293612/dwerner"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150800, "last_edit_date": 1495542631, "creation_date": 1481150800, "answer_id": 41028760, "question_id": 41028666, "link": "https://stackoverflow.com/questions/41028666/why-i-can-show-the-final-value-of-variable/41028760#41028760", "title": "Why i can show the final value of variable?", "body": "<p>If you're terminating the program with a signal, like CTRL-C (SIGINT), you'll need to write a handler to catch that signal. Otherwise, you can't capture the value you're after.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/1112343/how-do-i-capture-sigint-in-python\">How do I capture SIGINT in Python?</a></p>\n"}], "owner": {"reputation": 55, "user_id": 3332475, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000432266701/picture?type=large", "display_name": "user3332475", "link": "https://stackoverflow.com/users/3332475/user3332475"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481150800, "creation_date": 1481150407, "last_edit_date": 1481150475, "question_id": 41028666, "link": "https://stackoverflow.com/questions/41028666/why-i-can-show-the-final-value-of-variable", "title": "Why i can show the final value of variable?", "body": "<p>I have this code that read the Raspberry Pi RPIO pin number 24, that is connected to coin acceptor and the datasheet of it is:</p>\n\n<pre><code>0,05\u20ac - 1 pulse\n0,10\u20ac - 2 pulse each pulse in 0,025ms\n0,20\u20ac - 4 pulse each pulse in 0,025ms\n0,50\u20ac - 10 pulse each pulse in 0,025ms\n1\u20ac    - 20 pulse each pulse in 0,025ms\n2\u20ac    - 40 pulse each pulse in 0,025ms\n</code></pre>\n\n<p>And i have this code:</p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport time\n\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(24,GPIO.IN)\n\ncount = 0\neuroCoin = 0\n\ndef coin(value):\n  euro = value * 5\n  return euro\n\nwhile True:\n   inputValue = GPIO.input(24)\n   if (inputValue == True):\n    count = count + 1\n    euroCount = coin(count)\n    print (\"Euro \"+str(euroCount)+\".\")\n   time.sleep(.025)\n</code></pre>\n\n<p>That show, for example, for 0,20\u20ac coin show:</p>\n\n<pre><code>0,05\n0,10\n0,15\n0,20\n</code></pre>\n\n<p>I only need to show the final value, how i do that?\nThanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1481150326, "post_id": 41028622, "comment_id": 69264764, "body": "Why not just <code>if result &gt; 2</code>?"}, {"owner": {"reputation": 19, "user_id": 7150946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372cb6476f32d77e1a141140a24dc25f?s=128&d=identicon&r=PG&f=1", "display_name": "Magical Man", "link": "https://stackoverflow.com/users/7150946/magical-man"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1481151367, "post_id": 41028622, "comment_id": 69265205, "body": "I&#39;ll try that, thanks"}], "owner": {"reputation": 19, "user_id": 7150946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372cb6476f32d77e1a141140a24dc25f?s=128&d=identicon&r=PG&f=1", "display_name": "Magical Man", "link": "https://stackoverflow.com/users/7150946/magical-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1481150242, "answer_count": 0, "score": 0, "last_activity_date": 1481150183, "creation_date": 1481150183, "question_id": 41028622, "link": "https://stackoverflow.com/questions/41028622/issues-with-random-choice", "closed_reason": "Duplicate", "title": "Issues with random.choice()", "body": "<p>So I am working on a little text based Python game to work on learning the language, and in one of the scenarios, I am trying to do a random draw. </p>\n\n<pre><code>import random\nchance = [1, 2, 3, 4, 5]\nresult = random.choice(chance)\n\nif result == 1 or 2:\n    print(\"Better luck next time!)\n\nelif result == 3 or 4 or 5:\n    print(\"Congrats! You made it through\")\n</code></pre>\n\n<p>And for some reason whenever I run the code, I always get the the if result, and never the elif. I know this could be random, but I figured I would check here just to be sure. Also, I do have an else statement I just didn't feel it was relevant for me to have to type it.</p>\n"}, {"tags": ["python", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 1, "creation_date": 1481150382, "post_id": 41028628, "comment_id": 69264795, "body": "great catch, I would recommend mentioning this as an issue in the <a href=\"https://github.com/scrapy/scrapy/issues\" rel=\"nofollow noreferrer\">repository</a>"}], "tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": true, "score": 4, "last_activity_date": 1481150203, "creation_date": 1481150203, "answer_id": 41028628, "question_id": 41028605, "link": "https://stackoverflow.com/questions/41028605/importerror-no-module-named-spiders/41028628#41028628", "title": "ImportError: No module named &#39;spiders&#39;", "body": "<p>This error was caused by my <code>settings.py</code> file, where the I had the following:</p>\n\n<pre><code>SPIDER_MODULES = ['spiders']\n</code></pre>\n\n<p>While it is in the default project provided by <code>scrapy</code>, I had moved that module. Values in that list need to be fully qualified module names: even trivial executions of <code>scrapy</code> will load the settings file, and thus try to import modules from your project. If it can find a settings file, it will need to be correct.</p>\n"}], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4025, "favorite_count": 0, "accepted_answer_id": 41028628, "answer_count": 1, "score": 5, "last_activity_date": 1481150274, "creation_date": 1481150093, "last_edit_date": 1481150274, "question_id": 41028605, "link": "https://stackoverflow.com/questions/41028605/importerror-no-module-named-spiders", "title": "ImportError: No module named &#39;spiders&#39;", "body": "<p>On the command line I'm executing the following simple attempt to invoke scrapy:</p>\n\n<pre><code>scrapy version\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>$ scrapy version\nTraceback (most recent call last):\n  File \"/Users/nathanielford/virtualenvironments/crawler/bin/scrapy\", line 11, in &lt;module&gt;\n    sys.exit(execute())\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/cmdline.py\", line 141, in execute\n    cmd.crawler_process = CrawlerProcess(settings)\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/crawler.py\", line 238, in __init__\n    super(CrawlerProcess, self).__init__(settings)\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/crawler.py\", line 129, in __init__\n    self.spider_loader = _get_spider_loader(settings)\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/crawler.py\", line 325, in _get_spider_loader\n    return loader_cls.from_settings(settings.frozencopy())\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/spiderloader.py\", line 33, in from_settings\n    return cls(settings)\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/spiderloader.py\", line 20, in __init__\n    self._load_all_spiders()\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/spiderloader.py\", line 28, in _load_all_spiders\n    for module in walk_modules(name):\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/site-packages/scrapy/utils/misc.py\", line 63, in walk_modules\n    mod = import_module(path)\n  File \"/Users/nathanielford/virtualenvironments/crawler/lib/python3.5/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 956, in _find_and_load_unlocked\nImportError: No module named 'spiders'\n</code></pre>\n\n<p>If I leave my project directory, the error no longer occurs:</p>\n\n<pre><code>$ scrapy version\nScrapy 1.2.2\n</code></pre>\n\n<p>What is causing the <code>ImportError: No module named 'spiders'</code>?</p>\n"}, {"tags": ["javascript", "python", "json"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1481150091, "post_id": 41028588, "comment_id": 69264668, "body": "Can you show what you do get?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1481150123, "post_id": 41028588, "comment_id": 69264680, "body": "So how are you dumping and loading? Without code and output you do get, there is nothing we can tell you other than <i>use <code>json.dumps()</code> and <code>JSON.parse</code></i>."}, {"owner": {"reputation": 69, "user_id": 7243310, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/469102083283072/picture?type=large", "display_name": "MLE", "link": "https://stackoverflow.com/users/7243310/mle"}, "edited": false, "score": 0, "creation_date": 1481150428, "post_id": 41028588, "comment_id": 69264814, "body": "Added more information!"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1481150572, "post_id": 41028588, "comment_id": 69264870, "body": "First of all, you pass in the data as <code>board</code>, but the JS loads <code>test</code> fed by a template variable <code>test</code>, that doesn&#39;t match. You are escaping the data to be HTML safe, and without quotes, here: <code>test = {{test}}</code>.  If this is Flask, don&#39;t dump to JSON in the view, use <code>test = &quot;{{test|tojson|safe}}&quot;</code> instead."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1481150605, "post_id": 41028588, "comment_id": 69264880, "body": "See <a href=\"http://flask.pocoo.org/docs/0.11/templating/#standard-filters\" rel=\"nofollow noreferrer\">the relevant documentation</a>."}, {"owner": {"reputation": 69, "user_id": 7243310, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/469102083283072/picture?type=large", "display_name": "MLE", "link": "https://stackoverflow.com/users/7243310/mle"}, "edited": false, "score": 0, "creation_date": 1481151288, "post_id": 41028588, "comment_id": 69265179, "body": "I corrected the discrepancy between board/test but the tojson is still not working. (See above.) The resulting array does not have strings in it."}, {"owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 0, "creation_date": 1481203867, "post_id": 41028588, "comment_id": 69288636, "body": "You only get the attribute (which is a string), you never parse it into an array. So board[0] is just the first character of the string."}], "answers": [{"tags": [], "owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "is_accepted": false, "score": 0, "last_activity_date": 1481204026, "creation_date": 1481204026, "answer_id": 41040772, "question_id": 41028588, "link": "https://stackoverflow.com/questions/41028588/jsonify-a-list-of-lists/41040772#41040772", "title": "JSONify a list of lists", "body": "<p>You only get the attribute (which is a string), you never parse it into an array. So board[0] is just the first character of the string. Use JSON.parse,</p>\n\n<pre><code> var board = JSON.parse(document.currentScript.getAttribute('test'));\n</code></pre>\n\n<p>However, there is another problem: you use the <code>|safe</code> template filter to turn off auto escaping. But JSON <em>is not safe</em>, for instance it contains <code>\"</code> characters. If your HTML reads <code>test=\"[[\"blue1\"],</code> et cetera, the value of the test attribute is <code>\"[[\"</code>. So you need to remove that filter too so that Django can escape those quotes for you.</p>\n"}], "owner": {"reputation": 69, "user_id": 7243310, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/469102083283072/picture?type=large", "display_name": "MLE", "link": "https://stackoverflow.com/users/7243310/mle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481204026, "creation_date": 1481149989, "last_edit_date": 1481151213, "question_id": 41028588, "link": "https://stackoverflow.com/questions/41028588/jsonify-a-list-of-lists", "title": "JSONify a list of lists", "body": "<p>I have a list of lists in python:</p>\n\n<pre><code>[[\"blue1\", \"blue2\", \"blue3\", \"blue4\"], [\"blue5\", \"blue6\", \"blue7\", \"blue8\"], [\"blue9\", \"blue10\", \"blue11\", \"blue12\"], [\"blue13\", \"blue14\", \"red\", \"blue15\"]]\n</code></pre>\n\n<p>When I call json.dump on this list and then JSON.parse it in javascript, I do not get the equivalent list in in javascript. Any suggestions?</p>\n\n<p>In python I have the dumps statement:</p>\n\n<pre><code>test = [[\"blue1\", \"blue2\", \"blue3\", \"blue4\"],[\"blue5\", \"blue6\", \"blue7\", \"blue8\"],[\"blue9\", \"blue10\", \"blue11\", \"blue12\"],[\"blue13\", \"blue14\", \"red\", \"blue15\"]]\n        return render_template(\"game.html\", test = test);\n</code></pre>\n\n<p>In html I have:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;style&gt;\n#container {\n  width: 400px;\n  height: 400px;\n  position: relative;\n}\n\n&lt;/style&gt;\n&lt;body&gt;\n\n&lt;div id =\"container\"&gt;\n&lt;/div&gt;\n\n&lt;script src=\"https://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"{{ url_for('static', filename='script.js') }}\" test = \"{{test|tojson|safe}}\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>In script.js I have:</p>\n\n<pre><code>var board = document.currentScript.getAttribute('test');\nconsole.log(board[0][0]);\nconsole.log(board[0][1]);\nconsole.log(board[0][2]);\nconsole.log(board[0][3]);\n</code></pre>\n\n<p>Console returns a [, then three undefineds</p>\n"}, {"tags": ["python", "python-2.7", "temporary-files", "temp"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 1, "creation_date": 1481150760, "post_id": 41028556, "comment_id": 69264947, "body": "Cannot reproduce.  Do you perhaps have a file named <code>tempfile.py</code> in the same directory as your script?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1481151398, "post_id": 41028556, "comment_id": 69265216, "body": "cannot reproduce on mac, but I get similar results on windows"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 6833134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2178af5e71159b703bf9082dce901fd0?s=128&d=identicon&r=PG&f=1", "display_name": "AlexDotis", "link": "https://stackoverflow.com/users/6833134/alexdotis"}, "edited": false, "score": 0, "creation_date": 1481212530, "post_id": 41029021, "comment_id": 69294768, "body": "if I do this in code then displays an error : <code>IOError: File not open for reading</code>.. There is something i dont understand?"}], "tags": [], "owner": {"reputation": 815, "user_id": 7243142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cZc7H8fbkUo/AAAAAAAAAAI/AAAAAAAAhA0/AzJ54NAuceo/photo.jpg?sz=128", "display_name": "Kevin Schellenberg", "link": "https://stackoverflow.com/users/7243142/kevin-schellenberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1481152153, "creation_date": 1481152153, "answer_id": 41029021, "question_id": 41028556, "link": "https://stackoverflow.com/questions/41028556/python2-7-reading-from-tempfile/41029021#41029021", "title": "Python2.7 - reading from tempfile", "body": "<p>You are writing string to a file opened in bytes mode.  Add the mode parameter to your call to NamedTemporaryFile:</p>\n\n<pre><code>f = tempfile.NamedTemporaryFile(\"w\")\n</code></pre>\n\n<p>See <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow noreferrer\">https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files</a></p>\n"}], "owner": {"reputation": 315, "user_id": 6833134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2178af5e71159b703bf9082dce901fd0?s=128&d=identicon&r=PG&f=1", "display_name": "AlexDotis", "link": "https://stackoverflow.com/users/6833134/alexdotis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481152153, "creation_date": 1481149855, "question_id": 41028556, "link": "https://stackoverflow.com/questions/41028556/python2-7-reading-from-tempfile", "title": "Python2.7 - reading from tempfile", "body": "<p>I use python2.7 and i have a question about reading from tempfile. Here is my code:</p>\n\n<pre><code>import tempfile\n\n\nfor i in range(0,10):\n    f = tempfile.NamedTemporaryFile()\n\n    f.write(\"Hello\")\n\n    ##f.seek(0)\n\n    print f.read()\n</code></pre>\n\n<p>With this code , i get something like this:</p>\n\n<pre><code>R\uff9c\nnize.pyR\n\uff9e`Sc\nd\nR\uff9c\nR\uff9c\nZ\nZ\nnize.pyR\n\uff9e`Sc\n</code></pre>\n\n<p>what are these?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "string", "list", "list-comprehension", "substring"], "answers": [{"tags": [], "owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "is_accepted": true, "score": 15, "last_activity_date": 1481150268, "last_edit_date": 1481150268, "creation_date": 1481149953, "answer_id": 41028575, "question_id": 41028547, "link": "https://stackoverflow.com/questions/41028547/python-using-list-comprehensions-to-filter-a-list-by-a-list-of-substrings/41028575#41028575", "title": "Python: Using list comprehensions to filter a list by a list of substrings", "body": "<p>Use <a href=\"https://docs.python.org/3/library/functions.html#all\" rel=\"noreferrer\">all</a>:</p>\n\n<pre><code>result = [r for r in x if all(z not in r for z in y)]\n</code></pre>\n\n<p>Or <a href=\"https://docs.python.org/3/library/functions.html#any\" rel=\"noreferrer\">any</a>:</p>\n\n<pre><code>result = [r for r in x if not any(z in r for z in y)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": false, "score": 3, "last_activity_date": 1481150212, "creation_date": 1481150212, "answer_id": 41028633, "question_id": 41028547, "link": "https://stackoverflow.com/questions/41028547/python-using-list-comprehensions-to-filter-a-list-by-a-list-of-substrings/41028633#41028633", "title": "Python: Using list comprehensions to filter a list by a list of substrings", "body": "<p>This is a job for the <a href=\"https://docs.python.org/2.7/library/functions.html?highlight=any#any\" rel=\"nofollow noreferrer\"><code>any</code></a> built-in.</p>\n\n<pre><code>&gt;&gt;&gt; x = ['a', 'ab', 'abc', 'bc', 'c', 'ac']\n&gt;&gt;&gt; y = ['a', 'b']\n&gt;&gt;&gt; [r for r in x if not any(s in r for s in y)]\n['c']\n</code></pre>\n\n<p><code>s in r</code> does the partial match you want, <code>for s in y</code> checks all elements of <code>y</code>, and <code>any</code> is true if there was <em>any</em> match.  Then we just invert it.</p>\n\n<p>This is quadratic, O(<code>len(x) * len(y)</code>).  If <code>y</code> is long, it may be more efficient to synthesize a regexp:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; yy = re.compile(\"|\".join(re.escape(s) for s in y))\n&gt;&gt;&gt; [r for r in x if not yy.search(r)]\n['c']\n</code></pre>\n\n<p>which <em>should</em> be merely O(<code>len(x) + len(y)</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "edited": false, "score": 0, "creation_date": 1481150358, "post_id": 41028647, "comment_id": 69264779, "body": "This assumes <code>y</code> only contains strings of length 1, which is the case in the example but wasn&#39;t specified."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "edited": false, "score": 1, "creation_date": 1481150771, "post_id": 41028647, "comment_id": 69264950, "body": "Yes, if it contains more characters this would definitly fail to work, maybe I took the OPs example to literally. But on the other hand if <code>y</code> only contains single letters it&#39;s much faster. :-)"}, {"owner": {"reputation": 427, "user_id": 1633746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c62363838e625898f117fc94b8dbf854?s=128&d=identicon&r=PG", "display_name": "craignewkirk", "link": "https://stackoverflow.com/users/1633746/craignewkirk"}, "edited": false, "score": 0, "creation_date": 1481150801, "post_id": 41028647, "comment_id": 69264963, "body": "Yep, in my actual project this is being used to filter a list of urls by substrings."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1481150298, "creation_date": 1481150298, "answer_id": 41028647, "question_id": 41028547, "link": "https://stackoverflow.com/questions/41028547/python-using-list-comprehensions-to-filter-a-list-by-a-list-of-substrings/41028647#41028647", "title": "Python: Using list comprehensions to filter a list by a list of substrings", "body": "<p>It depends on the length of your <code>y</code> what the best approach is, if it contains a lot of elements I would convert it to a set and check if any item in x has an intersection (one common character) with it:</p>\n\n<pre><code>y = set(y)\n[item for item in x if not y.intersection(item)]\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 1633746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c62363838e625898f117fc94b8dbf854?s=128&d=identicon&r=PG", "display_name": "craignewkirk", "link": "https://stackoverflow.com/users/1633746/craignewkirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3149, "favorite_count": 3, "accepted_answer_id": 41028575, "answer_count": 3, "score": 8, "last_activity_date": 1481150298, "creation_date": 1481149794, "question_id": 41028547, "link": "https://stackoverflow.com/questions/41028547/python-using-list-comprehensions-to-filter-a-list-by-a-list-of-substrings", "title": "Python: Using list comprehensions to filter a list by a list of substrings", "body": "<p>I think this is a simple question, so I'll just go straight to an example.</p>\n\n<p>Given these two lists:</p>\n\n<pre><code>x = ['a', 'ab', 'abc', 'bc', 'c', 'ac']\ny = ['a', 'b']\n</code></pre>\n\n<p>How do I write a list comprehension to filter list x in such a way that the result would be:</p>\n\n<pre><code>result = ['c']\n</code></pre>\n\n<p>I want a list comprehension that excludes any partial matches of the strings in y to the strings in x.  For example, 'a' in y would match 'a', 'ab', 'abc', and 'ac' in x.</p>\n\n<p>This comprehension only matches entire strings: <code>result = [r for r in x if r not in y]</code></p>\n\n<p>If this has already been asked I'll gladly accept a link to a previous answer.  That said, I haven't found one on SO yet.</p>\n"}, {"tags": ["python", "python-2.7", "csv", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1481151612, "post_id": 41028536, "comment_id": 69265301, "body": "That&#39;s amazing! Works like a charm! Is there any chance you could explain the need for list comprehension?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 1, "creation_date": 1481152085, "post_id": 41028536, "comment_id": 69265506, "body": "You need list comprehension if need apply some function like <code>read_csv</code> for each element of another list of elemens."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1481152383, "post_id": 41028536, "comment_id": 69265622, "body": "... output of list comprehension is list of outputs (dataframes) which return function (like read_csv). And fastest way for create dataframe from list of dataframes is concat."}, {"owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1481152998, "post_id": 41028536, "comment_id": 69265855, "body": "Thanks, is there a purpose behind <code>ignore_index=True</code>? I can&#39;t seem to spot the difference"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "edited": false, "score": 0, "creation_date": 1481159661, "post_id": 41028536, "comment_id": 69267954, "body": "You can avoid duplicates in index. Please check <a href=\"http://pandas.pydata.org/pandas-docs/stable/merging.html#ignoring-indexes-on-the-concatenation-axis\" rel=\"nofollow noreferrer\">docs</a>"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 4, "last_activity_date": 1481150061, "last_edit_date": 1481150061, "creation_date": 1481149736, "answer_id": 41028536, "question_id": 41028507, "link": "https://stackoverflow.com/questions/41028507/creating-one-data-frame-using-pandas-for-multiple-csv-files-from-many-urls/41028536#41028536", "title": "creating one data frame using Pandas for multiple CSV files from many URL&#39;s", "body": "<p>I think you need <code>list comprehension</code> with <code>list</code> of <code>urls</code> where output is <code>list</code> of <code>DataFrames</code>. Then use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.concat.html\" rel=\"nofollow noreferrer\"><code>concat</code></a> for join together:</p>\n\n<pre><code>urls = ['http://www.URL1.csv', 'http://www.URL2.csv']\ndfs = [pd.read_csv(url) for url in urls]\n\ndf = pd.concat(dfs, ignore_index=True)\n</code></pre>\n"}], "owner": {"reputation": 1944, "user_id": 5806746, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb038e1f8b380d42f3aec8024c0264a5?s=128&d=identicon&r=PG&f=1", "display_name": "LearningToNLP", "link": "https://stackoverflow.com/users/5806746/learningtonlp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "accepted_answer_id": 41028536, "answer_count": 1, "score": 4, "last_activity_date": 1481150061, "creation_date": 1481149592, "question_id": 41028507, "link": "https://stackoverflow.com/questions/41028507/creating-one-data-frame-using-pandas-for-multiple-csv-files-from-many-urls", "title": "creating one data frame using Pandas for multiple CSV files from many URL&#39;s", "body": "<p>I'd like to create 1 data frame/structure using Pandas from multiple CSV files from URL's, keeping the initial header line.</p>\n\n<p>With a single URL everything works as expected:</p>\n\n<pre><code>df = pd.read_csv('http://www.URL1.csv')\n</code></pre>\n\n<p>I have attempted the following with multiple URL's:</p>\n\n<pre><code>df = pd.read_csv('http://www.URL1.csv', 'http://www.URL2.csv', ...)\n</code></pre>\n\n<p>However, when attempting to print for testing, the result is spaced out over thousands of lines and is far from the standard layout. Since I am new to <code>Pandas</code>, it is clear I am doing something wrong.</p>\n\n<hr>\n\n<p>I'd expect the layout to be as followed:</p>\n\n<pre><code>Header1 Header2 Header3 ...\nDATA    DATA    DATA    ...\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13957, "user_id": 10026, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cc4a5e18a0485a2bbaddcebe85c21dfd?s=128&d=identicon&r=PG", "display_name": "ykaganovich", "link": "https://stackoverflow.com/users/10026/ykaganovich"}, "edited": false, "score": 0, "creation_date": 1481149934, "post_id": 41028491, "comment_id": 69264605, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2574636/getting-a-default-value-on-index-out-of-range-in-python\">Getting a default value on index out of range in Python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1481154288, "post_id": 41028542, "comment_id": 69266315, "body": "tks thats it, but is there a shorter way to write that like <code>letter = sys.argv[2] ? len(sys.argv) : &#39;a&#39;</code> or is that java sccript?"}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "reply_to_user": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "edited": false, "score": 0, "creation_date": 1481155154, "post_id": 41028542, "comment_id": 69266609, "body": "That&#39;s the equivalent of tirnary operator in Python and it is the shorter possible way."}], "tags": [], "owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "is_accepted": false, "score": 6, "last_activity_date": 1481149776, "creation_date": 1481149776, "answer_id": 41028542, "question_id": 41028491, "link": "https://stackoverflow.com/questions/41028491/how-do-i-assign-a-default-value-if-no-argument-is-passed-in-python/41028542#41028542", "title": "how do i assign a default value if no argument is passed in + python", "body": "<p>You can use the following:</p>\n\n<pre><code>letter = sys.argv[2] if len(sys.argv) &gt;= 3 else 'a'\n</code></pre>\n\n<p><code>sys.argv[2]</code> is the 3rd element in <code>sys.argv</code>, this means that the length of <code>sys.argv</code> should be at least 3. If it is not <code>&gt;= 3</code>, we assign <code>'a'</code> to <code>letter</code></p>\n"}], "owner": {"reputation": 3443, "user_id": 2392358, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ad7bd74326036ddaa3c20139424b2e1?s=128&d=identicon&r=PG", "display_name": "HattrickNZ", "link": "https://stackoverflow.com/users/2392358/hattricknz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3277, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1481149776, "creation_date": 1481149517, "question_id": 41028491, "link": "https://stackoverflow.com/questions/41028491/how-do-i-assign-a-default-value-if-no-argument-is-passed-in-python", "title": "how do i assign a default value if no argument is passed in + python", "body": "<p><strong>How do I write <code>letter = sys.argv[2] or 'a'</code> so that if there is no argument passed in <code>a</code> will be assigned to letter.</strong>  So basically I want the default value of <code>letter</code> to be <code>a</code> unless something is passed in. If something is to be passed in, I want that to be assigned to <code>letter</code></p>\n\n<p>this is my simple program: </p>\n\n<pre><code>$ cat loop_count.py\nimport sys\n\ndef count(word,letter):\n        for char in word:\n                if char == letter:\n                        count = count + 1\n        return count\n                                # WHAT I WANT\nword = sys.argv[1] or 'banana'  # if sys.argv[1] has a value assign it to word, else assign 'banana' to word\nletter = sys.argv[2] or 'a'     # if sys.argv[2] has a value assign it to letter, else assign 'a' to letter\n\nprint 'Count the number of times the letter',letter,' appears in the word: ', word\n\ncount = 0\nfor letter in word:\n        if letter == 'a':\n                count = count + 1\nprint count\n</code></pre>\n\n<p>This is me running the program by passing it 2 arguments <code>pea</code> and <code>a</code></p>\n\n<pre><code>$ python loop_count.py pea a\nCount the number of times the letter a  appears in the word:  pea\n1\n</code></pre>\n\n<p>I want the arguments to be optional so I was hoping the letter arguemt does not have to be passed.  <strong>So how do I write <code>letter = sys.argv[2] or 'a'</code> so that if there is no argument passed in letter will be assigned to <code>a</code></strong></p>\n\n<p>This is me running the program with only one argument, I want the arguments to be optional.</p>\n\n<pre><code>$ python loop_count.py pea\nTraceback (most recent call last):\n  File \"loop_count.py\", line 10, in &lt;module&gt;\n    letter = sys.argv[2] or 'a'\nIndexError: list index out of range\n</code></pre>\n"}, {"tags": ["python", "random"], "comments": [{"owner": {"reputation": 943, "user_id": 7053838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/632092450285868/picture?type=large", "display_name": "Simeon Aleksov", "link": "https://stackoverflow.com/users/7053838/simeon-aleksov"}, "edited": false, "score": 0, "creation_date": 1481149597, "post_id": 41028480, "comment_id": 69264445, "body": "Try using random.choice"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1481149611, "post_id": 41028480, "comment_id": 69264451, "body": "Each time you go round the <code>while True:</code> loop, you&#39;re using random sample to pick 3 random questions. You then ask the first question of those 3. The next time you want to ask a question, you take a new sample of 3 and use the first. Is the intention to ask 3 questions and then stop?"}, {"owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "reply_to_user": {"reputation": 943, "user_id": 7053838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/632092450285868/picture?type=large", "display_name": "Simeon Aleksov", "link": "https://stackoverflow.com/users/7053838/simeon-aleksov"}, "edited": false, "score": 0, "creation_date": 1481149672, "post_id": 41028480, "comment_id": 69264474, "body": "@SimeonAleksov Already tried using random.choice.  That was my first thought. That&#39;s why I switched to random.sample."}, {"owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "reply_to_user": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1481149747, "post_id": 41028480, "comment_id": 69264508, "body": "@TomDalton As long as the user get&#39;s it correct it can keep on going.  Right now it&#39;s 3 questions but once I fix this bug I&#39;m going to add over 50.  I just don&#39;t want those question to repeat.  1 1 2 3 instead 1 3 2 or 2 3 1 - 2 1 3 Hope that makes sense"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "edited": false, "score": 0, "creation_date": 1481151036, "post_id": 41028682, "comment_id": 69265068, "body": "Sorry for the nobie question but where do I implement this into my code to test it out?"}, {"owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "edited": false, "score": 0, "creation_date": 1481151790, "post_id": 41028682, "comment_id": 69265383, "body": "I tired the shuffle and I got an error.                                                           shuffle x[i], x[j] = x[j], x[i] KeyError: 2"}, {"owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "reply_to_user": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "edited": false, "score": 0, "creation_date": 1481153604, "post_id": 41028682, "comment_id": 69266082, "body": "@nk001 whoops, sorry. didn&#39;t realize that <code>questions</code> was a <code>dict</code>. i&#39;ve updated my answer."}, {"owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "edited": false, "score": 0, "creation_date": 1481165932, "post_id": 41028682, "comment_id": 69269549, "body": "Thank you.  After hours of searching I found the answer I was looking for by  mistake while trying to mix your code and mine together.  :D"}], "tags": [], "owner": {"reputation": 18829, "user_id": 24998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c14a4f2931fa9336fdccdfe11318fef?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/24998/jack"}, "is_accepted": true, "score": 1, "last_activity_date": 1481153578, "last_edit_date": 1481153578, "creation_date": 1481150486, "answer_id": 41028682, "question_id": 41028480, "link": "https://stackoverflow.com/questions/41028480/having-problems-using-random-sample-on-a-dictionary/41028682#41028682", "title": "Having problems using random.sample on a dictionary", "body": "<p>Randomize your list of questions with <code>random.shuffle</code> first then just iterate as normal:</p>\n\n<pre><code>...\ndef quick_questions():\n    wrong_answers = 0\n    question_keys = list(questions.keys())\n    random.shuffle(question_keys) # questions is now in a random order\n    for question_key in question_keys:\n        new = questions[question_key]\n        print()\n        # Print question and choices \n        print(new)\n        ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 3633696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4d12ec3ab32aaa93f9c1438856dd72e0?s=128&d=identicon&r=PG&f=1", "display_name": "logicOnAbstractions", "link": "https://stackoverflow.com/users/3633696/logiconabstractions"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150904, "creation_date": 1481150904, "answer_id": 41028782, "question_id": 41028480, "link": "https://stackoverflow.com/questions/41028480/having-problems-using-random-sample-on-a-dictionary/41028782#41028782", "title": "Having problems using random.sample on a dictionary", "body": "<p>The following may help you understand what your code is really doing, than why it isn't behaving as expected:</p>\n\n<pre><code>import random\n# Stores Question, choices and answers \nquestions = {'key1': ['text1','ans1'], 'key2': ['text2','ans2'], 'key3':['text3','ans3']}\n\nfor i in range (0,10):\n    sample_question = random.sample(list(questions.keys()), 3)\n    print(sample_question)\n</code></pre>\n\n<p>A sample output of which may yield:</p>\n\n<pre><code>['key2', 'key3', 'key1']\n['key3', 'key1', 'key2']\n['key3', 'key1', 'key2']\n['key3', 'key1', 'key2']\n['key1', 'key2', 'key3']\n['key3', 'key2', 'key1']\n['key1', 'key3', 'key2']\n['key3', 'key2', 'key1']\n['key1', 'key3', 'key2']\n['key1', 'key2', 'key3']\n['key3', 'key1', 'key2']\n</code></pre>\n\n<p>In other words, you are effectively picking a question at random, but not removing the question from your question list. That's why you have repetition. It's like shuffling a deck of card, pointing of one them, then shuffling it again and pointing one of them again - without even removing anything from the deck.</p>\n\n<p>(I know this doesn't really provide an \"answer\", but you seemed to want to understand why your code wasn't behaving.Jack's answer is pretty good)</p>\n"}], "owner": {"reputation": 33, "user_id": 6131977, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-ITcYOrBKZts/AAAAAAAAAAI/AAAAAAAAARk/AcJX2VsAysw/photo.jpg?sz=128", "display_name": "PrQ", "link": "https://stackoverflow.com/users/6131977/prq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 41028682, "answer_count": 2, "score": 1, "last_activity_date": 1481153578, "creation_date": 1481149457, "question_id": 41028480, "link": "https://stackoverflow.com/questions/41028480/having-problems-using-random-sample-on-a-dictionary", "title": "Having problems using random.sample on a dictionary", "body": "<p>I'm making a quiz for a teacher of mine to teach her students. The quiz is going to have 50+ questions at the end. I found about random.sample and implemented it in my code but it seems to have not effect. Even though I'm using random.sample sometimes the question repeat themselves after just being called. I'm pretty new to Python and I'm dumbfounded by this.  </p>\n\n<pre><code>import random\n# Stores Question, choices and answers \nquestions = {\n        'What should you do when links appear to be broken when using the Check Links Site wide command?':  # Q 1\n         [' A) Test the link in a browser \\n B) Test the link in live view \\n C) Check the File path \\n D) View Source Code', 'A'],\n\n        'Which 3 combinations of factors encompass usability?':  # Q 2\n        [' A) Amount of ads,Load time,Window Size \\n B) Load Time,Ease of navigation,Efficiency of use \\n C) Server download time, \\n D) proper Navigation', 'B'],\n\n        'Which line of html code describes a link to an absolute url using the &lt;A&gt; tag and href attribute?':  # Q 3\n        [' A) &lt;A herd = \"http://www.acmetoon.org\"&gt;Acme Toons!&lt;/a&gt;, \\n B) Herf = \"http://www.acmetoon.org\"&gt;Acme Toons!&lt;/a&gt;,'\n            '\\n C) &lt;A herf = \"http://www.acmetoon.org\"&gt;Acme Toons!&lt;/a&gt; \\n D) &lt;A herf &gt; = \"http://www.acmetoon.org\"&gt;Acme Toons!&lt;/a&gt;', 'A']\n\n\n        }\n\n\nprint('Dreamweaver Practice test V 1.0')\n\n\ndef pick_question():\n        wrong_answers = 0\n        while True:\n            print()\n            # Uses sample to get an item off the dict\n            sample_question = random.sample(list(questions.keys()), 3) \n            # Converts the list to a single word ['hello'] -&gt; hello \n            # So no errors complaining about it being it list popup\n            new = sample_question[0]\n            # Print question and choices \n            print(new)\n            print(questions[new][0])\n            print()\n            user_answer = input('Enter Answer: ')\n            print()\n            # If the user choice matches the answer\n            if user_answer == questions[new][1]:\n                print('Correct')\n                print()\n                print('----Next Question----')\n                print()\n            elif wrong_answers == 10:\n                print('Game Over')\n                break\n            else:\n                print('Wrong')\n                print('Correct letter was ' + questions[new][1])\n                wrong_answers += 1\n                print('Amount wrong ' + str(wrong_answers) + '/10')\n                print()\n                print('----Next Question----')\n                print()\n\n\npick_question()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "loops", "dictionary"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 2, "creation_date": 1481149580, "post_id": 41028458, "comment_id": 69264434, "body": "just create a <code>max_key</code> name which you will assign <code>k</code> to <code>if letterCounts[k] &gt; maximum</code>."}, {"owner": {"reputation": 77, "user_id": 7045485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/67b4d7d2db8b9b15ef304b06c52892dd?s=128&d=identicon&r=PG&f=1", "display_name": "schCivil", "link": "https://stackoverflow.com/users/7045485/schcivil"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1481149857, "post_id": 41028458, "comment_id": 69264562, "body": "Oh my god, that&#39;s such an easy fix, I can&#39;t believe I missed that. Thank you so much!"}], "answers": [{"tags": [], "owner": {"reputation": 4702, "user_id": 1108098, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9201c501532256286e60080ce8739045?s=128&d=identicon&r=PG", "display_name": "jordiburgos", "link": "https://stackoverflow.com/users/1108098/jordiburgos"}, "is_accepted": true, "score": 1, "last_activity_date": 1481151100, "creation_date": 1481151100, "answer_id": 41028812, "question_id": 41028458, "link": "https://stackoverflow.com/questions/41028458/using-loop-to-find-key-with-maximum-value-in-dictionary/41028812#41028812", "title": "Using LOOP to find key with maximum value in dictionary", "body": "<pre><code>maximum = 0\nmax_key = None\nfor k in letterCounts:\n    if letterCounts[k] &gt; maximum:\n        maximum = letterCounts[k]\n        max_key = k\n\nprint(max_key)\nprint(maximum)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 7045485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/67b4d7d2db8b9b15ef304b06c52892dd?s=128&d=identicon&r=PG&f=1", "display_name": "schCivil", "link": "https://stackoverflow.com/users/7045485/schcivil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3113, "favorite_count": 0, "accepted_answer_id": 41028812, "answer_count": 1, "score": 0, "last_activity_date": 1481151100, "creation_date": 1481149357, "question_id": 41028458, "link": "https://stackoverflow.com/questions/41028458/using-loop-to-find-key-with-maximum-value-in-dictionary", "title": "Using LOOP to find key with maximum value in dictionary", "body": "<p>So I'm trying to find the key in a dictionary with the highest value, ONLY using a loop (while or for, doesn't matter). I'm already aware of the function max() where I could find the key with the highest value that way (max(d, key=d.get)), but I'm trying to do it with a loop. However, I've only been able to build a loop to find a maximum value, not the key that corresponds to it. I have already checked several articles, but I have not come upon an answer. If someone could help me find one, or explain how I can modify my code to find the KEY, not the max value, that'd be fantastic.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>maximum = 0\nfor k in letterCounts:\n    if letterCounts[k] &gt; maximum:\n        maximum = letterCounts[k]\nprint(maximum)\n</code></pre>\n\n<p>I'm aware that a loop isn't the easiest way to get what I want, but it is a requirement for an assignment I'm trying to complete.</p>\n\n<p>Thanks for the help in advance!</p>\n"}, {"tags": ["python", "google-api", "google-analytics-api", "google-api-python-client"], "answers": [{"tags": [], "owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "is_accepted": true, "score": 2, "last_activity_date": 1481182991, "creation_date": 1481182991, "answer_id": 41034257, "question_id": 41028398, "link": "https://stackoverflow.com/questions/41028398/ga-management-api-and-python-error-with-client-secrets-json-file/41034257#41034257", "title": "GA management API and Python error with client_secrets.json file", "body": "<p>client_secrets.json is Oauth2 authentication that being a user is first prompted for access to their account.  </p>\n\n<p>P12 file is service account authentication.  Service accounts are like dummy users they are pre authorized which means there will be no prompt for user consent.   To pre authorize a service account to Google Analytics the service account email address must be added as a user at the ACCOUNT level in the admin section of the google analytics website.  Yes service accounts work with the management API.</p>\n\n<p>Note:  Oauth2 credentials and service account credentials are created on the google developer console when registering your application.   It is now possible to get a .json file for service accounts instead of only the p12.  However the code used to authenticate a service account and Oauth2 are different and these two .json files can not be interchanged.  (<em>hope that makes sense</em>) </p>\n\n<p>Further reading:</p>\n\n<ul>\n<li>My tutorial on Oauth2 <a href=\"http://www.daimto.com/google-developer-console-oauth2/\" rel=\"nofollow noreferrer\">Google Developer Console Oauth2 credentials</a></li>\n<li>My tutorial on service accounts <a href=\"http://www.daimto.com/google-developer-console-service-account/\" rel=\"nofollow noreferrer\">Google Developer console service account</a></li>\n</ul>\n"}], "owner": {"reputation": 2051, "user_id": 6273496, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-ylur9-ED2UU/AAAAAAAAAAI/AAAAAAAAACU/r0Cd0F2YJCI/photo.jpg?sz=128", "display_name": "Simon Breton", "link": "https://stackoverflow.com/users/6273496/simon-breton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 41034257, "answer_count": 1, "score": 2, "last_activity_date": 1481183515, "creation_date": 1481149071, "last_edit_date": 1481183515, "question_id": 41028398, "link": "https://stackoverflow.com/questions/41028398/ga-management-api-and-python-error-with-client-secrets-json-file", "title": "GA management API and Python error with client_secrets.json file", "body": "<p>I've recently open a question about the GA management API where I explained that the exemple script <a href=\"https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/uploads/uploadData\" rel=\"nofollow noreferrer\">here</a> didn't worked for me. So looking at the <a href=\"https://github.com/googleanalytics/google-api-python-client-1\" rel=\"nofollow noreferrer\">Google Analytics Git Hub</a>, I found a totaly different exemple which doesn't work either but I have a different error :</p>\n\n<pre><code>The client secrets were invalid: \nMissing property \"client_secret\" in a client type of \"installed\".\nWARNING: Please configure OAuth 2.0\n\nTo make this sample run you will need to populate the client_secrets.json file\nfound at:\n\n   client_secrets.json\n\nwith information from the APIs Console &lt;https://code.google.com/apis/console&gt;.\n</code></pre>\n\n<p>However I did all this perfectly well, I have my client_secrets.json file. what are the differences between client_secrets authentification and p12 authentification ? Is it possible that the Management API work only with client_secrets authentification ? Does someone have a working code example ? </p>\n\n<p>Thanks. </p>\n\n<p>Here is the script :</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n#\n# Copyright 2014 Google Inc. All Rights Reserved.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n\"\"\"Reference command-line example for Google Analytics Management API v3.\nThis application demonstrates how to use the python client library to access\nall the pieces of data returned by the Google Analytics Management API v3.\nThe application manages autorization by saving an OAuth2.0 token in a local\nfile and reusing the token for subsequent requests. It then traverses the\nGoogle Analytics Management hiearchy. It first retrieves and prints all the\nauthorized user's accounts, next it prints all the web properties for the\nfirst account, then all the profiles for the first web property and finally\nall the goals for the first profile. The sample then prints all the\nuser's advanced segments.\nBefore You Begin:\nUpdate the client_secrets.json file\n  You must update the clients_secrets.json file with a client id, client\n  secret, and the redirect uri. You get these values by creating a new project\n  in the Google APIs console and registering for OAuth2.0 for installed\n  applications: https://code.google.com/apis/console\n  Learn more about registering your analytics application here:\n  https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtAuthorization\nSample Usage:\n  $ python management_v3_reference.py\nAlso you can also get help on all the command-line flags the program\nunderstands by running:\n  $ python management_v3_reference.py --help\n\"\"\"\nfrom __future__ import print_function\n\n__author__ = 'api.nickm@gmail.com (Nick Mihailovski)'\n\nimport argparse\nimport sys\n\nfrom googleapiclient.errors import HttpError\nfrom googleapiclient import sample_tools\nfrom oauth2client.client import AccessTokenRefreshError\n\n\ndef main(argv):\n  # Authenticate and construct service.\n  service, flags = sample_tools.init(\n      argv, 'analytics', 'v3', __doc__, __file__,\n      scope='https://www.googleapis.com/auth/analytics.readonly')\n\n  # Traverse the Management hiearchy and print results or handle errors.\n  try:\n    traverse_hiearchy(service)\n\n  except TypeError as error:\n    # Handle errors in constructing a query.\n    print(('There was an error in constructing your query : %s' % error))\n\n  except HttpError as error:\n    # Handle API errors.\n    print(('Arg, there was an API error : %s : %s' %\n           (error.resp.status, error._get_reason())))\n\n  except AccessTokenRefreshError:\n    print ('The credentials have been revoked or expired, please re-run'\n           'the application to re-authorize')\n\n\ndef traverse_hiearchy(service):\n  \"\"\"Traverses the management API hiearchy and prints results.\n  This retrieves and prints the authorized user's accounts. It then\n  retrieves and prints all the web properties for the first account,\n  retrieves and prints all the profiles for the first web property,\n  and retrieves and prints all the goals for the first profile.\n  Args:\n    service: The service object built by the Google API Python client library.\n  Raises:\n    HttpError: If an error occured when accessing the API.\n    AccessTokenRefreshError: If the current token was invalid.\n  \"\"\"\n\n  accounts = service.management().accounts().list().execute()\n  print_accounts(accounts)\n\n  if accounts.get('items'):\n    firstAccountId = accounts.get('items')[0].get('id')\n    webproperties = service.management().webproperties().list(\n        accountId=firstAccountId).execute()\n\n    print_webproperties(webproperties)\n\n    if webproperties.get('items'):\n      firstWebpropertyId = webproperties.get('items')[0].get('id')\n      profiles = service.management().profiles().list(\n          accountId=firstAccountId,\n          webPropertyId=firstWebpropertyId).execute()\n\n      print_profiles(profiles)\n\n      if profiles.get('items'):\n        firstProfileId = profiles.get('items')[0].get('id')\n        goals = service.management().goals().list(\n            accountId=firstAccountId,\n            webPropertyId=firstWebpropertyId,\n            profileId=firstProfileId).execute()\n\n        print_goals(goals)\n\n  print_segments(service.management().segments().list().execute())\n\n\ndef print_accounts(accounts_response):\n  \"\"\"Prints all the account info in the Accounts Collection.\n  Args:\n    accounts_response: The response object returned from querying the Accounts\n        collection.\n  \"\"\"\n\n  print('------ Account Collection -------')\n  print_pagination_info(accounts_response)\n  print()\n\n  for account in accounts_response.get('items', []):\n    print('Account ID      = %s' % account.get('id'))\n    print('Kind            = %s' % account.get('kind'))\n    print('Self Link       = %s' % account.get('selfLink'))\n    print('Account Name    = %s' % account.get('name'))\n    print('Created         = %s' % account.get('created'))\n    print('Updated         = %s' % account.get('updated'))\n\n    child_link = account.get('childLink')\n    print('Child link href = %s' % child_link.get('href'))\n    print('Child link type = %s' % child_link.get('type'))\n    print()\n\n  if not accounts_response.get('items'):\n    print('No accounts found.\\n')\n\n\ndef print_webproperties(webproperties_response):\n  \"\"\"Prints all the web property info in the WebProperties collection.\n  Args:\n    webproperties_response: The response object returned from querying the\n        Webproperties collection.\n  \"\"\"\n\n  print('------ Web Properties Collection -------')\n  print_pagination_info(webproperties_response)\n  print()\n\n  for webproperty in webproperties_response.get('items', []):\n    print('Kind               = %s' % webproperty.get('kind'))\n    print('Account ID         = %s' % webproperty.get('accountId'))\n    print('Web Property ID    = %s' % webproperty.get('id'))\n    print(('Internal Web Property ID = %s' %\n           webproperty.get('internalWebPropertyId')))\n\n    print('Website URL        = %s' % webproperty.get('websiteUrl'))\n    print('Created            = %s' % webproperty.get('created'))\n    print('Updated            = %s' % webproperty.get('updated'))\n\n    print('Self Link          = %s' % webproperty.get('selfLink'))\n    parent_link = webproperty.get('parentLink')\n    print('Parent link href   = %s' % parent_link.get('href'))\n    print('Parent link type   = %s' % parent_link.get('type'))\n    child_link = webproperty.get('childLink')\n    print('Child link href    = %s' % child_link.get('href'))\n    print('Child link type    = %s' % child_link.get('type'))\n    print()\n\n  if not webproperties_response.get('items'):\n    print('No webproperties found.\\n')\n\n\ndef print_profiles(profiles_response):\n  \"\"\"Prints all the profile info in the Profiles Collection.\n  Args:\n    profiles_response: The response object returned from querying the\n        Profiles collection.\n  \"\"\"\n\n  print('------ Profiles Collection -------')\n  print_pagination_info(profiles_response)\n  print()\n\n  for profile in profiles_response.get('items', []):\n    print('Kind                      = %s' % profile.get('kind'))\n    print('Account ID                = %s' % profile.get('accountId'))\n    print('Web Property ID           = %s' % profile.get('webPropertyId'))\n    print(('Internal Web Property ID = %s' %\n           profile.get('internalWebPropertyId')))\n    print('Profile ID                = %s' % profile.get('id'))\n    print('Profile Name              = %s' % profile.get('name'))\n\n    print('Currency         = %s' % profile.get('currency'))\n    print('Timezone         = %s' % profile.get('timezone'))\n    print('Default Page     = %s' % profile.get('defaultPage'))\n\n    print(('Exclude Query Parameters        = %s' %\n           profile.get('excludeQueryParameters')))\n    print(('Site Search Category Parameters = %s' %\n           profile.get('siteSearchCategoryParameters')))\n    print(('Site Search Query Parameters    = %s' %\n           profile.get('siteSearchQueryParameters')))\n\n    print('Created          = %s' % profile.get('created'))\n    print('Updated          = %s' % profile.get('updated'))\n\n    print('Self Link        = %s' % profile.get('selfLink'))\n    parent_link = profile.get('parentLink')\n    print('Parent link href = %s' % parent_link.get('href'))\n    print('Parent link type = %s' % parent_link.get('type'))\n    child_link = profile.get('childLink')\n    print('Child link href  = %s' % child_link.get('href'))\n    print('Child link type  = %s' % child_link.get('type'))\n    print()\n\n  if not profiles_response.get('items'):\n    print('No profiles found.\\n')\n\n\ndef print_goals(goals_response):\n  \"\"\"Prints all the goal info in the Goals collection.\n  Args:\n    goals_response: The response object returned from querying the Goals\n        collection\n  \"\"\"\n\n  print('------ Goals Collection -------')\n  print_pagination_info(goals_response)\n  print()\n\n  for goal in goals_response.get('items', []):\n    print('Goal ID     = %s' % goal.get('id'))\n    print('Kind        = %s' % goal.get('kind'))\n    print('Self Link        = %s' % goal.get('selfLink'))\n\n    print('Account ID               = %s' % goal.get('accountId'))\n    print('Web Property ID          = %s' % goal.get('webPropertyId'))\n    print(('Internal Web Property ID = %s' %\n           goal.get('internalWebPropertyId')))\n    print('Profile ID               = %s' % goal.get('profileId'))\n\n    print('Goal Name   = %s' % goal.get('name'))\n    print('Goal Value  = %s' % goal.get('value'))\n    print('Goal Active = %s' % goal.get('active'))\n    print('Goal Type   = %s' % goal.get('type'))\n\n    print('Created     = %s' % goal.get('created'))\n    print('Updated     = %s' % goal.get('updated'))\n\n    parent_link = goal.get('parentLink')\n    print('Parent link href = %s' % parent_link.get('href'))\n    print('Parent link type = %s' % parent_link.get('type'))\n\n    # Print the goal details depending on the type of goal.\n    if goal.get('urlDestinationDetails'):\n      print_url_destination_goal_details(\n          goal.get('urlDestinationDetails'))\n\n    elif goal.get('visitTimeOnSiteDetails'):\n      print_visit_time_on_site_goal_details(\n          goal.get('visitTimeOnSiteDetails'))\n\n    elif goal.get('visitNumPagesDetails'):\n      print_visit_num_pages_goal_details(\n          goal.get('visitNumPagesDetails'))\n\n    elif goal.get('eventDetails'):\n      print_event_goal_details(goal.get('eventDetails'))\n\n    print()\n\n  if not goals_response.get('items'):\n    print('No goals found.\\n')\n\n\ndef print_url_destination_goal_details(goal_details):\n  \"\"\"Prints all the URL Destination goal type info.\n  Args:\n    goal_details: The details portion of the goal response.\n  \"\"\"\n\n  print('------ Url Destination Goal -------')\n  print('Goal URL            = %s' % goal_details.get('url'))\n  print('Case Sensitive      = %s' % goal_details.get('caseSensitive'))\n  print('Match Type          = %s' % goal_details.get('matchType'))\n  print('First Step Required = %s' % goal_details.get('firstStepRequired'))\n\n  print('------ Url Destination Goal Steps -------')\n  for goal_step in goal_details.get('steps', []):\n    print('Step Number  = %s' % goal_step.get('number'))\n    print('Step Name    = %s' % goal_step.get('name'))\n    print('Step URL     = %s' % goal_step.get('url'))\n\n  if not goal_details.get('steps'):\n    print('No Steps Configured')\n\n\ndef print_visit_time_on_site_goal_details(goal_details):\n  \"\"\"Prints all the Visit Time On Site goal type info.\n  Args:\n    goal_details: The details portion of the goal response.\n  \"\"\"\n\n  print('------ Visit Time On Site Goal -------')\n  print('Comparison Type  = %s' % goal_details.get('comparisonType'))\n  print('comparison Value = %s' % goal_details.get('comparisonValue'))\n\n\ndef print_visit_num_pages_goal_details(goal_details):\n  \"\"\"Prints all the Visit Num Pages goal type info.\n  Args:\n    goal_details: The details portion of the goal response.\n  \"\"\"\n\n  print('------ Visit Num Pages Goal -------')\n  print('Comparison Type  = %s' % goal_details.get('comparisonType'))\n  print('comparison Value = %s' % goal_details.get('comparisonValue'))\n\n\ndef print_event_goal_details(goal_details):\n  \"\"\"Prints all the Event goal type info.\n  Args:\n    goal_details: The details portion of the goal response.\n  \"\"\"\n\n  print('------ Event Goal -------')\n  print('Use Event Value  = %s' % goal_details.get('useEventValue'))\n\n  for event_condition in goal_details.get('eventConditions', []):\n    event_type = event_condition.get('type')\n    print('Type             = %s' % event_type)\n\n    if event_type in ('CATEGORY', 'ACTION', 'LABEL'):\n      print('Match Type       = %s' % event_condition.get('matchType'))\n      print('Expression       = %s' % event_condition.get('expression'))\n    else:  # VALUE type.\n      print('Comparison Type  = %s' % event_condition.get('comparisonType'))\n      print('Comparison Value = %s' % event_condition.get('comparisonValue'))\n\n\ndef print_segments(segments_response):\n  \"\"\"Prints all the segment info in the Segments collection.\n  Args:\n    segments_response: The response object returned from querying the\n        Segments collection.\n  \"\"\"\n\n  print('------ Segments Collection -------')\n  print_pagination_info(segments_response)\n  print()\n\n  for segment in segments_response.get('items', []):\n    print('Segment ID = %s' % segment.get('id'))\n    print('Kind       = %s' % segment.get('kind'))\n    print('Self Link  = %s' % segment.get('selfLink'))\n    print('Name       = %s' % segment.get('name'))\n    print('Definition = %s' % segment.get('definition'))\n    print('Created    = %s' % segment.get('created'))\n    print('Updated    = %s' % segment.get('updated'))\n    print()\n\n\ndef print_pagination_info(management_response):\n  \"\"\"Prints common pagination details.\n  Args:\n    management_response: The common reponse object for each collection in the\n        Management API.\n  \"\"\"\n\n  print('Items per page = %s' % management_response.get('itemsPerPage'))\n  print('Total Results  = %s' % management_response.get('totalResults'))\n  print('Start Index    = %s' % management_response.get('startIndex'))\n\n  # These only have values if other result pages exist.\n  if management_response.get('previousLink'):\n    print('Previous Link  = %s' % management_response.get('previousLink'))\n  if management_response.get('nextLink'):\n    print('Next Link      = %s' % management_response.get('nextLink'))\n\n\nif __name__ == '__main__':\n  main(sys.argv)\n</code></pre>\n"}, {"tags": ["python", "postgresql", "peewee"], "comments": [{"owner": {"reputation": 258, "user_id": 4264631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/08x8Q.jpg?s=128&g=1", "display_name": "Gordian", "link": "https://stackoverflow.com/users/4264631/gordian"}, "edited": false, "score": 1, "creation_date": 1481149584, "post_id": 41028373, "comment_id": 69264437, "body": "Have you tried Model.update() method?"}, {"owner": {"reputation": 3951, "user_id": 2396846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xu6pD.jpg?s=128&g=1", "display_name": "Reyraa", "link": "https://stackoverflow.com/users/2396846/reyraa"}, "reply_to_user": {"reputation": 258, "user_id": 4264631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/08x8Q.jpg?s=128&g=1", "display_name": "Gordian", "link": "https://stackoverflow.com/users/4264631/gordian"}, "edited": false, "score": 0, "creation_date": 1481149821, "post_id": 41028373, "comment_id": 69264545, "body": "Yes, but I&#39;m wondering about performance. I&#39;ve recently started learning and I red <a href=\"http://docs.peewee-orm.com/en/latest/peewee/api.html#Model.insert_many\" rel=\"nofollow noreferrer\">here</a> that multiple times inserting a single item is wrong and I couldn&#39;t find a method similar to insert_many"}], "answers": [{"comments": [{"owner": {"reputation": 3951, "user_id": 2396846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xu6pD.jpg?s=128&g=1", "display_name": "Reyraa", "link": "https://stackoverflow.com/users/2396846/reyraa"}, "edited": false, "score": 6, "creation_date": 1481207471, "post_id": 41041164, "comment_id": 69291074, "body": "But this is inserting new items, I&#39;d like to update existing records."}, {"owner": {"reputation": 5107, "user_id": 864413, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9cae5386b74db08372c2458298c7fd99?s=128&d=identicon&r=PG", "display_name": "mart1n", "link": "https://stackoverflow.com/users/864413/mart1n"}, "reply_to_user": {"reputation": 3951, "user_id": 2396846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xu6pD.jpg?s=128&g=1", "display_name": "Reyraa", "link": "https://stackoverflow.com/users/2396846/reyraa"}, "edited": false, "score": 0, "creation_date": 1481208710, "post_id": 41041164, "comment_id": 69291906, "body": "@alihaghighatkhah Then use a single <code>.update()</code> as Gordian mentioned. It runs as a single transaction, not several separate update operations."}, {"owner": {"reputation": 3951, "user_id": 2396846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xu6pD.jpg?s=128&g=1", "display_name": "Reyraa", "link": "https://stackoverflow.com/users/2396846/reyraa"}, "edited": false, "score": 0, "creation_date": 1481302429, "post_id": 41041164, "comment_id": 69337532, "body": "Thank you. yes eventually I changed my pipeline to use <code>update</code> method"}], "tags": [], "owner": {"reputation": 5107, "user_id": 864413, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9cae5386b74db08372c2458298c7fd99?s=128&d=identicon&r=PG", "display_name": "mart1n", "link": "https://stackoverflow.com/users/864413/mart1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1481205215, "creation_date": 1481205215, "answer_id": 41041164, "question_id": 41028373, "link": "https://stackoverflow.com/questions/41028373/how-to-update-multiple-records-using-peewee/41041164#41041164", "title": "How to update multiple records using peewee", "body": "<p>Yes, you can use the <code>insert_many()</code> function:</p>\n\n<blockquote>\n  <p>Insert multiple rows at once. The rows parameter must be an iterable\n  that yields dictionaries. As with insert(), fields that are not\n  specified in the dictionary will use their default value, if one\n  exists.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>usernames = ['charlie', 'huey', 'peewee', 'mickey']\nrow_dicts = ({'username': username} for username in usernames)\n\n# Insert 4 new rows.\nUser.insert_many(row_dicts).execute()\n</code></pre>\n\n<p>More details at: <a href=\"http://docs.peewee-orm.com/en/latest/peewee/api.html#Model.insert_many\" rel=\"nofollow noreferrer\">http://docs.peewee-orm.com/en/latest/peewee/api.html#Model.insert_many</a></p>\n"}, {"tags": [], "owner": {"reputation": 2039, "user_id": 829920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HF8ln.jpg?s=128&g=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/829920/behrooz"}, "is_accepted": true, "score": -4, "last_activity_date": 1481208579, "creation_date": 1481208579, "answer_id": 41042228, "question_id": 41028373, "link": "https://stackoverflow.com/questions/41028373/how-to-update-multiple-records-using-peewee/41042228#41042228", "title": "How to update multiple records using peewee", "body": "<p>ORMs usually dose not support bulk update and you have to use custom SQL, you can see samples in this <a href=\"http://docs.peewee-orm.com/en/latest/peewee/querying.html?highlight=execute_sql#sql-functions-subqueries-and-raw-expressions\" rel=\"nofollow noreferrer\">link</a> (db.excute_sql)</p>\n"}], "owner": {"reputation": 3951, "user_id": 2396846, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xu6pD.jpg?s=128&g=1", "display_name": "Reyraa", "link": "https://stackoverflow.com/users/2396846/reyraa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3936, "favorite_count": 0, "accepted_answer_id": 41042228, "answer_count": 2, "score": 4, "last_activity_date": 1481208579, "creation_date": 1481148975, "last_edit_date": 1495542749, "question_id": 41028373, "link": "https://stackoverflow.com/questions/41028373/how-to-update-multiple-records-using-peewee", "title": "How to update multiple records using peewee", "body": "<p>I'm using Peewee with Postgres database. I want to know how to update multiple records in a tabel at once?<br>\nWe can perform this update in SQL using <a href=\"https://stackoverflow.com/questions/20255138/sql-update-multiple-records-in-one-query\">these commands</a>, and I'm looking for a Peewee equivalent approach. </p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 0, "creation_date": 1481148751, "post_id": 41028298, "comment_id": 69264091, "body": "What is &quot;this reference&quot;?"}, {"owner": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481148852, "post_id": 41028298, "comment_id": 69264125, "body": "The file seems to be corrupted. If you open it in excel you would see a lot of wild characters"}, {"owner": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 2, "creation_date": 1481148886, "post_id": 41028298, "comment_id": 69264147, "body": "Upon further review: That seems to be a binary file - or corrupted as Anuj said. AFAIK, the CSV reader only works with text files. I suggest that you tell your professor about the problems you&#39;re having with the file."}, {"owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "reply_to_user": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 0, "creation_date": 1481149012, "post_id": 41028298, "comment_id": 69264213, "body": "sorry @GreenMatt not sure what that line is for"}, {"owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "reply_to_user": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481149115, "post_id": 41028298, "comment_id": 69264248, "body": "@Anuj when I open the file on my virtual machine it looks normal,"}, {"owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "reply_to_user": {"reputation": 16808, "user_id": 197011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG", "display_name": "GreenMatt", "link": "https://stackoverflow.com/users/197011/greenmatt"}, "edited": false, "score": 0, "creation_date": 1481149119, "post_id": 41028298, "comment_id": 69264251, "body": "@GreenMatt my file is saved as a csv file, and when open with a text editor it is comma seperated. Does this mean I can still use the CSV reader?"}, {"owner": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481149323, "post_id": 41028298, "comment_id": 69264329, "body": "@MeganByers You can, I&#39;d recommend checking out the Pandas library (<a href=\"http://pandas.pydata.org/pandas-docs/version/0.18.1/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.18.1/generated/&hellip;</a>)"}, {"owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "reply_to_user": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481149385, "post_id": 41028298, "comment_id": 69264352, "body": "@Anuj unfortunately we are not allowed to import any libraries aside from csv."}, {"owner": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481149493, "post_id": 41028298, "comment_id": 69264396, "body": "@MeganByers Okay, how unfortunate. Can you provide a different file ? So that we can reproduce your example code ?"}, {"owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "reply_to_user": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "edited": false, "score": 0, "creation_date": 1481149822, "post_id": 41028298, "comment_id": 69264546, "body": "@Anuj I&#39;ve attached a link to the same file as a .txt at the bottom of my original post"}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 0, "creation_date": 1481150737, "post_id": 41028298, "comment_id": 69264931, "body": "The second file does not have NULL bytes."}], "answers": [{"tags": [], "owner": {"reputation": 3530, "user_id": 1747069, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cdb6eac2b6878bd9e5dbd6043c911028?s=128&d=identicon&r=PG&f=1", "display_name": "Suku", "link": "https://stackoverflow.com/users/1747069/suku"}, "is_accepted": false, "score": 2, "last_activity_date": 1481151095, "last_edit_date": 1481151095, "creation_date": 1481150377, "answer_id": 41028660, "question_id": 41028298, "link": "https://stackoverflow.com/questions/41028298/python-problems-with-parsing-csv-file-and-finding-maximum-value/41028660#41028660", "title": "PYTHON: Problems with parsing csv file and finding maximum value", "body": "<p>First of all the \"csv\" file you have provided via the Google Drive link is <strong>NOT</strong> a csv file. Its a gzip 'ed xml file.</p>\n\n<pre><code>[~/Downloads] file state-populations.csv\nstate-populations.csv: gzip compressed data, from Unix\n\n[~/Downloads] gzip -d state-populations.csv\ngzip: state-populations.csv: unknown suffix -- ignored\n\n[~/Downloads] mv state-populations.csv state-populations.csv.gz\n\n[~/Downloads] gzip -d state-populations.csv.gz\n\n[~/Downloads] ls state-populations.csv\nstate-populations.csv\n[~/Downloads] file state-populations.csv\nstate-populations.csv: XML 1.0 document text, ASCII text, with very long lines\n</code></pre>\n\n<p>You can use some xml module to parse it</p>\n\n<pre><code>[~/Downloads] python\nPython 2.7.10 (default, Jul 30 2016, 18:31:42)\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n&gt;&gt;&gt; import xml\n&gt;&gt;&gt; import xml.etree.ElementTree as ET\n&gt;&gt;&gt; tree = ET.parse('state-populations.csv')\n&gt;&gt;&gt; root = tree.getroot()\n&gt;&gt;&gt; root\n&lt;Element '{http://www.gnumeric.org/v10.dtd}Workbook' at 0x10ded51d0&gt;\n&gt;&gt;&gt; root.tag\n'{http://www.gnumeric.org/v10.dtd}Workbook'\n&gt;&gt;&gt; for child in root:\n...     print child.tag, child.attrib\n...\n{http://www.gnumeric.org/v10.dtd}Version {'Epoch': '1', 'Full': '1.12.9', 'Major': '12', 'Minor': '9'}\n{http://www.gnumeric.org/v10.dtd}Attributes {}\n{urn:oasis:names:tc:opendocument:xmlns:office:1.0}document-meta {'{urn:oasis:names:tc:opendocument:xmlns:office:1.0}version': '1.2'}\n{http://www.gnumeric.org/v10.dtd}Calculation {'ManualRecalc': '0', 'MaxIterations': '100', 'EnableIteration': '1', 'IterationTolerance': '0.001', 'FloatRadix': '2', 'FloatDigits': '53'}\n{http://www.gnumeric.org/v10.dtd}SheetNameIndex {}\n{http://www.gnumeric.org/v10.dtd}Geometry {'Width': '864', 'Height': '322'}\n{http://www.gnumeric.org/v10.dtd}Sheets {}\n{http://www.gnumeric.org/v10.dtd}UIData {'SelectedTab': '0'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 2690931, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tpZnZ.jpg?s=128&g=1", "display_name": "Aks", "link": "https://stackoverflow.com/users/2690931/aks"}, "is_accepted": true, "score": 0, "last_activity_date": 1481165261, "creation_date": 1481165261, "answer_id": 41030941, "question_id": 41028298, "link": "https://stackoverflow.com/questions/41028298/python-problems-with-parsing-csv-file-and-finding-maximum-value/41030941#41030941", "title": "PYTHON: Problems with parsing csv file and finding maximum value", "body": "<p>The new .txt file looks good, and your function <code>largestState()</code> gives the correct output. Just have <code>return</code> instead of <code>print</code> instead in the end.</p>\n\n<pre><code>def largestState(): \n    INPUT  = \"state-populations.txt\"\n    COLUMN = 5   # 6th column\n\n    with open(INPUT, \"rU\") as csvFile:\n        theFile  = csv.reader(csvFile)\n        header = next(theFile, None)    # skip header row\n        pop = [float(row[COLUMN]) for row in theFile]\n\n    max_pop = max(pop)\n    return(max_pop)\n\nlargestState()\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 5352542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206319424738575/picture?type=large", "display_name": "Megan Byers", "link": "https://stackoverflow.com/users/5352542/megan-byers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "closed_date": 1481176605, "accepted_answer_id": 41030941, "answer_count": 2, "score": 0, "last_activity_date": 1481165261, "creation_date": 1481148626, "last_edit_date": 1481149838, "question_id": 41028298, "link": "https://stackoverflow.com/questions/41028298/python-problems-with-parsing-csv-file-and-finding-maximum-value", "closed_reason": "Duplicate", "title": "PYTHON: Problems with parsing csv file and finding maximum value", "body": "<p>I need to read in the file <a href=\"https://drive.google.com/open?id=0B29hT1HI-pwxMjBPQWFYaWoyalE\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0B29hT1HI-pwxMjBPQWFYaWoyalE</a>) \nhowever, I have tried 3-4 different code methods and repeatedly get the error: \"line contains NULL byte\". I read on other threads that this is a problem with your csv-but, this is the file that my professor will be loading and grading me on, and I can't modify it, so I'm looking for a solution around this error. </p>\n\n<p>As I mentioned I've tried several different methods to open the file. Here's my best two: </p>\n\n<pre><code>def largestState(): \n    INPUT  = \"statepopulations.csv\"\n    COLUMN = 5   # 6th column\n\n    with open(INPUT, \"rU\") as csvFile:\n        theFile  = csv.reader(csvFile)\n        header = next(theFile, None)    # skip header row\n        pop = [float(row[COLUMN]) for row in theFile]\n\n    max_pop = max(pop)\n    print max_pop\n\nlargestState()\n</code></pre>\n\n<p>This results in the NULL Byte error. Please ignore the additional max_pop lines. The next step after reading the file in is to find the maximum value of row F. </p>\n\n<pre><code>def test():\nwith open('state-populations.csv', 'rb') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print row\ntest()\n</code></pre>\n\n<p>This results in the NULL Byte Error. </p>\n\n<p>If anyone could offer a simple solution to this problem I'd greatly appreciate it. </p>\n\n<p>File as .txt: <a href=\"https://drive.google.com/open?id=0B29hT1HI-pwxZzhlMGZGVVAzX28\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0B29hT1HI-pwxZzhlMGZGVVAzX28</a></p>\n"}, {"tags": ["python", "mongodb", "python-3.x", "mongoengine"], "comments": [{"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1481148577, "post_id": 41028260, "comment_id": 69264000, "body": "what is the exact error text?"}, {"owner": {"reputation": 1026, "user_id": 4788274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b41c465dd3c63e17e620516c6fc764?s=128&d=identicon&r=PG", "display_name": "Jos&#233; S&#225;nchez", "link": "https://stackoverflow.com/users/4788274/jos%c3%a9-s%c3%a1nchez"}, "edited": false, "score": 1, "creation_date": 1481148644, "post_id": 41028260, "comment_id": 69264027, "body": "Do you have any <code>__init__</code> file?"}, {"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "reply_to_user": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1481148940, "post_id": 41028260, "comment_id": 69264172, "body": "@rassar Sorry, I added the stack trace"}, {"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "reply_to_user": {"reputation": 1026, "user_id": 4788274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b41c465dd3c63e17e620516c6fc764?s=128&d=identicon&r=PG", "display_name": "Jos&#233; S&#225;nchez", "link": "https://stackoverflow.com/users/4788274/jos%c3%a9-s%c3%a1nchez"}, "edited": false, "score": 1, "creation_date": 1481148964, "post_id": 41028260, "comment_id": 69264188, "body": "@Jos&#233;S&#225;nchez Yes, I have <b>init</b> files in place.  I just didn&#39;t list them in my file tree here."}, {"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1481149114, "post_id": 41028260, "comment_id": 69264247, "body": "is there more text in <code>parser.py</code>? could you put it in a <a href=\"https://repl.it\" rel=\"nofollow noreferrer\">repl.it</a> if there is? <a href=\"https://repl.it/languages/python3\" rel=\"nofollow noreferrer\">repl.it/languages/python3</a>"}, {"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "reply_to_user": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1481149478, "post_id": 41028260, "comment_id": 69264389, "body": "@rassar I stripped almost everything out trying to troubleshoot the issue.  As it sits right now if I remove the import for hl7message it runs fine.  It&#39;s when I include that file that it fails."}, {"owner": {"reputation": 1026, "user_id": 4788274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b41c465dd3c63e17e620516c6fc764?s=128&d=identicon&r=PG", "display_name": "Jos&#233; S&#225;nchez", "link": "https://stackoverflow.com/users/4788274/jos%c3%a9-s%c3%a1nchez"}, "edited": false, "score": 0, "creation_date": 1481149794, "post_id": 41028260, "comment_id": 69264534, "body": "Have you tried renaming the <code>parser</code> module to something else? There might be another module with the same name causing the clash..."}], "answers": [{"comments": [{"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "edited": false, "score": 0, "creation_date": 1481150049, "post_id": 41028576, "comment_id": 69264652, "body": "I&#39;ll give it a shot.  I had a feeling that might be it."}, {"owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "edited": false, "score": 0, "creation_date": 1481150260, "post_id": 41028576, "comment_id": 69264740, "body": "That seems to be it.  Moving it to a database.py file fixed that error.  I get a new one now, but it appears to be related to mongoengine."}], "tags": [], "owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "is_accepted": true, "score": 2, "last_activity_date": 1481149954, "creation_date": 1481149954, "answer_id": 41028576, "question_id": 41028260, "link": "https://stackoverflow.com/questions/41028260/error-trying-to-import-between-python-files/41028576#41028576", "title": "Error trying to import between python files", "body": "<p>This is a circular import issue. Application.py imports parser, which imports h17 which imports h17message, which imports application which runs processimports before the whole code of the parser module has been run.</p>\n\n<p>It seems to me that service modules should not import application. You could create a new module common.py containing the line <code>db = connect('testdb')</code> and import db from common both in application.py and in h17message.</p>\n"}], "owner": {"reputation": 5863, "user_id": 177308, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KGCok.jpg?s=128&g=1", "display_name": "Jhorra", "link": "https://stackoverflow.com/users/177308/jhorra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 41028576, "answer_count": 1, "score": 3, "last_activity_date": 1481149954, "creation_date": 1481148462, "last_edit_date": 1481149579, "question_id": 41028260, "link": "https://stackoverflow.com/questions/41028260/error-trying-to-import-between-python-files", "title": "Error trying to import between python files", "body": "<p>I have a basic parser app I'm building in Python.  I monitors a folder and imports files when they are dropped there.  I have a MongoDB that I'm trying to save the imports to.  There's almost nothing to it.  The problem happens when I try to include one of my class/mongo-document files.  I'm sure it's a simple syntax issue I don't understand.  I have all my requirements installed, and I'm running this in an virtual env.  This is my first python app though, so it's likely something I'm not seeing.</p>\n\n<p>My file structure is</p>\n\n<pre><code>application.py\nrequirements.txt\n__init__.py\n-services\n   parser.py\n   __init__.py\n-models\n   hl7message.py\n   __init__.py\n</code></pre>\n\n<p>Here is application.py</p>\n\n<pre><code>from mongoengine import connect\nimport os, os.path, time\nfrom services import parser\n\ndb = connect('testdb')\ndr = 'C:\\\\Imports\\\\Processed'\n\ndef processimports():\n    while True:\n        files = os.listdir(dr)\n        print(str(len(files)) + ' files found')\n        for f in files:\n            msg = open(dr + '\\\\' + f).read().replace('\\n', '\\r')\n            parser.parse_message(msg)\n\n        print('waiting')\n        time.sleep(10)\n\nprocessimports()\n</code></pre>\n\n<p>requirements.txt</p>\n\n<pre><code>mongoengine\nhl7\n</code></pre>\n\n<p>parser.py</p>\n\n<pre><code>import hl7\nfrom models import hl7message\n\ndef parse_message(message):\n    m = hl7.parse(str(message))\n    h = hl7message()\n</code></pre>\n\n<p>hl7message.py</p>\n\n<pre><code>from utilities import common\nfrom application import db\nimport mongoengine\n\nclass Hl7message(db.Document):\n    message_type = db.StringField(db_field=\"m_typ\")\n    created = db.IntField(db_field=\"cr\")\n    message = db.StringField(db_field=\"m\")\n</code></pre>\n\n<p>If I don't include the hl7message class in the parser.py it runs fine, but as soon as I include it I get the error, so I'm sure it has something to do with that file.  The error message though isn't to helpful.  I don't know if I've got myself into some kind of include loop or something.</p>\n\n<p>Sorry, stack trace is below</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/OneDrive/Dev/3/Importer/application.py\", line 3, in &lt;module&gt;\n    from services import parser\n  File \"C:\\OneDrive\\Dev\\3\\Importer\\services\\parser.py\", line 2, in &lt;module&gt;\n    from models import hl7message\n  File \"C:\\OneDrive\\Dev\\3\\Importer\\models\\hl7message.py\", line 2, in &lt;module&gt;\n    from application import db\n  File \"C:\\OneDrive\\Dev\\3\\Importer\\application.py\", line 23, in &lt;module&gt;\n    processimports()\n  File \"C:\\OneDrive\\Dev\\3\\Importer\\application.py\", line 17, in processimports\n    parser.parse_message(msg)\nAttributeError: module 'services.parser' has no attribute 'parse_message'\n</code></pre>\n"}, {"tags": ["python", "numpy", "mask"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1481149772, "post_id": 41028253, "comment_id": 69264522, "body": "Have you studied this section: <a href=\"https://docs.scipy.org/doc/numpy/release.html#assigning-to-slices-views-of-maskedarray\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/&hellip;</a>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1481151127, "post_id": 41028253, "comment_id": 69265109, "body": "Extended discussion on this warning: <a href=\"https://github.com/numpy/numpy/issues/7164\" rel=\"nofollow noreferrer\">github.com/numpy/numpy/issues/7164</a>.  I don&#39;t see evidence that it has been changed in newer releases."}], "answers": [{"comments": [{"owner": {"reputation": 14954, "user_id": 230468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c41468488de903f8284d03d2980bc3bc?s=128&d=identicon&r=PG&f=1", "display_name": "DilithiumMatrix", "link": "https://stackoverflow.com/users/230468/dilithiummatrix"}, "edited": false, "score": 0, "creation_date": 1505934238, "post_id": 41029003, "comment_id": 79620676, "body": "So helpful!  Really wish this answer had more visibility...  UPVOTE!"}, {"owner": {"reputation": 4200, "user_id": 3104974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0bf327f4729e0af1e6bf0582391fad75?s=128&d=identicon&r=PG&f=1", "display_name": "ascripter", "link": "https://stackoverflow.com/users/3104974/ascripter"}, "edited": false, "score": 0, "creation_date": 1512596454, "post_id": 41029003, "comment_id": 82327348, "body": "Great explanation. I was also left helpless with this warning - until now"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 11, "last_activity_date": 1481163277, "last_edit_date": 1481163277, "creation_date": 1481152078, "answer_id": 41029003, "question_id": 41028253, "link": "https://stackoverflow.com/questions/41028253/numpy-1-13-maskedarrayfuturewarning-setting-an-item-on-a-masked-array-which-has/41029003#41029003", "title": "numpy 1.13 MaskedArrayFutureWarning: setting an item on a masked array which has a shared mask will not copy the mask", "body": "<p>This shared mask business is a bit confusing.  </p>\n\n<p>The current behavior:</p>\n\n<pre><code>In [150]: x=np.ma.masked_greater(np.arange(8),5)\nIn [151]: x\nOut[151]: \nmasked_array(data = [0 1 2 3 4 5 -- --],\n             mask = [False False False False False False  True  True],\n       fill_value = 999999)\nIn [152]: y=x[3:6]          # a view\nIn [153]: y[0]=30           # modify the view\n/usr/local/bin/ipython3:1: MaskedArrayFutureWarning: setting an item on a masked array which has a shared mask will not copy the mask and also change the original mask array in the future.\nCheck the NumPy 1.11 release notes for more information.\n  #!/usr/bin/python3\n</code></pre>\n\n<p><code>data</code> value change is shared with the source</p>\n\n<pre><code>In [154]: y\nOut[154]: \nmasked_array(data = [30 4 5],\n             mask = [False False False],\n       fill_value = 999999)\nIn [155]: x\nOut[155]: \nmasked_array(data = [0 1 2 30 4 5 -- --],\n             mask = [False False False False False False  True  True],\n       fill_value = 999999)\n</code></pre>\n\n<p>but a mask value change is not:</p>\n\n<pre><code>In [156]: y.mask[0]=True\nIn [157]: y\nOut[157]: \nmasked_array(data = [-- 4 5],\n             mask = [ True False False],\n       fill_value = 999999)\nIn [158]: x\nOut[158]: \nmasked_array(data = [0 1 2 30 4 5 -- --],\n             mask = [False False False False False False  True  True],\n       fill_value = 999999)\n</code></pre>\n\n<p>Make a new view, and call the <code>unshare</code> method:</p>\n\n<pre><code>In [159]: y=x[3:6]\nIn [160]: y.unshare_mask()\nOut[160]: \nmasked_array(data = [30 4 5],\n             mask = [False False False],\n       fill_value = 999999)\nIn [161]: y[0]=31\nIn [162]: y\nOut[162]: \nmasked_array(data = [31 4 5],\n             mask = [False False False],\n       fill_value = 999999)\nIn [163]: x\nOut[163]: \nmasked_array(data = [0 1 2 31 4 5 -- --],\n             mask = [False False False False False False  True  True],\n       fill_value = 999999)\n</code></pre>\n\n<p>This changes the <code>data</code>, without issuing the warning.</p>\n\n<p>The future behavior, without the warning, can be produced with:</p>\n\n<pre><code>In [172]: x=np.ma.masked_greater(np.arange(8),5)\nIn [174]: y=x[3:6]\nIn [175]: y._sharedmask=False\nIn [176]: y[0]=30\nIn [177]: y.mask[0]=True\nIn [178]: y\nOut[178]: \nmasked_array(data = [-- 4 5],\n             mask = [ True False False],\n       fill_value = 999999)\nIn [179]: x\nOut[179]: \nmasked_array(data = [0 1 2 -- 4 5 -- --],\n             mask = [False False False  True False False  True  True],\n       fill_value = 999999)\n</code></pre>\n\n<p>The new value and mask appear in both <code>y</code> and <code>x</code>.</p>\n\n<p>The bottom line is - what should happen to the mask in <code>x</code> when you change values in <code>y</code> (data or mask)?  Change or not?</p>\n\n<p>=================</p>\n\n<p>Or a case where setting a data value in the view also changes the mask might be clearer:</p>\n\n<pre><code>In [199]: x=np.ma.masked_greater(np.arange(8),5)\nIn [200]: y=x[4:]\nIn [201]: y\nOut[201]: \nmasked_array(data = [4 5 -- --],\n             mask = [False False  True  True],\n       fill_value = 999999)\nIn [202]: y[-1]=0\n/usr/local/bin/ipython3:1: MaskedArrayFutureWarning: setting an item on a masked array which has a shared mask will not copy the mask and also change the original mask array in the future.\nCheck the NumPy 1.11 release notes for more information.\n  #!/usr/bin/python3\nIn [203]: y\nOut[203]: \nmasked_array(data = [4 5 -- 0],\n             mask = [False False  True False],\n       fill_value = 999999)\nIn [204]: x\nOut[204]: \nmasked_array(data = [0 1 2 3 4 5 -- --],\n             mask = [False False False False False False  True  True],\n       fill_value = 999999)\n</code></pre>\n\n<p>The last <code>y</code> value was unmasked, but the corresponding <code>x</code> was not (I should have showed the change the <code>x.data</code>).  This is the current behavior that you are warned about.</p>\n\n<p>But with the <code>future</code> behavior:</p>\n\n<pre><code>In [205]: y=x[4:]\nIn [206]: y._sharedmask=False\nIn [207]: y[-1]=0\nIn [208]: y\nOut[208]: \nmasked_array(data = [4 5 -- 0],\n             mask = [False False  True False],\n       fill_value = 999999)\nIn [209]: x\nOut[209]: \nmasked_array(data = [0 1 2 3 4 5 -- 0],\n             mask = [False False False False False False  True False],\n       fill_value = 999999)\n</code></pre>\n\n<p><code>x</code> data and mask were changed along with <code>y</code>.</p>\n"}], "owner": {"reputation": 390, "user_id": 5887083, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/77149562a53357a94f7786a2873c3b48?s=128&d=identicon&r=PG&f=1", "display_name": "C a t", "link": "https://stackoverflow.com/users/5887083/c-a-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1481163277, "creation_date": 1481148436, "question_id": 41028253, "link": "https://stackoverflow.com/questions/41028253/numpy-1-13-maskedarrayfuturewarning-setting-an-item-on-a-masked-array-which-has", "title": "numpy 1.13 MaskedArrayFutureWarning: setting an item on a masked array which has a shared mask will not copy the mask", "body": "<p>I recently upgraded from numpy 1.11 to numpy 1.13 hoping to get rid of this masked array warning, but it's still there: </p>\n\n<p><code>MaskedArrayFutureWarning: setting an item on a masked array which has a shared mask will not copy the mask and also change the original mask array in the future.\nCheck the NumPy 1.11 release notes for more information.*\n</code></p>\n\n<p>Basically my code just changes some values in a masked array, and I'm not sure what this error even means.</p>\n\n<p>I was hoping that the upgrade to numpy 1.13 would resolve this, but I think the error is on my end.</p>\n\n<p>For clarity, I'm running numpy 1.13 despite the warning referencing 1.11:</p>\n\n<blockquote>\n  <p>Python 2.7.12 (default, Nov 19 2016, 06:48:10)</p>\n  \n  <p>[GCC 5.4.0 20160609] on linux2</p>\n  \n  <p>Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.</p>\n  \n  <p>import numpy as np</p>\n  \n  <p>np.<strong>version</strong></p>\n  \n  <p>'1.13.0.dev0+Unknown'</p>\n</blockquote>\n\n<p>Thanks for any help.\nCat</p>\n"}, {"tags": ["php", "python", "bash", "perl", "command-line"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1481148132, "post_id": 41028150, "comment_id": 69263793, "body": "split by line breaks, loop .. not sure which part of this your having an issue with"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481148155, "post_id": 41028150, "comment_id": 69263806, "body": "you can recognize format by <code>&#47;</code> and <code>,</code> and then you can use different method."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481148456, "post_id": 41028150, "comment_id": 69263941, "body": "Please show us what you are trying to solve your problem."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481148683, "post_id": 41028150, "comment_id": 69264044, "body": "BTW: there is standard module <a href=\"https://docs.python.org/3/library/ipaddress.html\" rel=\"nofollow noreferrer\">ipaddress</a> to work with IP addresses."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481148913, "post_id": 41028150, "comment_id": 69264157, "body": "@Borodin It&#39;s a Python module. The OP used tag soup (php, python, bash, and perl)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481149139, "post_id": 41028150, "comment_id": 69264262, "body": "@ThisSuitIsBlackNot: Ah I see. Thank you very much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481149452, "post_id": 41028150, "comment_id": 69264376, "body": "@JamesSandzalone: You have a downvote and three votes to close. The problem is that your question&#39;s rather entitled, and you seem to imagine us watching daytime TV in the hope that a question will pop up here to relieve our monotony. That&#39;s not how it works. Stack Overflow is a place where programmers who have code that won&#39;t work despite all their efforts can share it with their peers in the hope of some insight. You don&#39;t even have code to share, never mind about doing your best to fix it. If you know Perl, Python and PHP then you are experienced and should be able to come up with something."}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481149660, "post_id": 41028150, "comment_id": 69264468, "body": "@Borodin I know for a fact that there are a non-trivial number of people who do exactly that. Don&#39;t gatekeep people&#39;s ability to ask for assistance, just register your disagreement with a downvote, or vote to close, and move along."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481149660, "post_id": 41028150, "comment_id": 69264469, "body": "@JamesSandzalone: Please take the <a href=\"http://stackoverflow.com/tour\"><i>Tour</i></a> and read and absorb the <a href=\"http://stackoverflow.com/questions/how-to-ask\"><i>How do I ask a good question?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 1, "creation_date": 1481150019, "post_id": 41028150, "comment_id": 69264638, "body": "@joeb: The concept behind Stack Overflow is that it should become a kind of <i>Wikipedia</i> of useful answers to programming problems. That is why the criteria for closing a question are so strict, and it is an immediate cause for closure if your question has been answered before. Given that vision, questions like <i>&quot;I don&#39;t know how to program but I need to fulfil this specification&quot;</i> are pretty much useless to the worth of the site. Just because you know people who wish it wasn&#39;t that way doesn&#39;t make it untrue. Ideally, every question should be crafted to be new and helpful to many other people."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 0, "creation_date": 1481150058, "post_id": 41028150, "comment_id": 69264654, "body": "@joeb: Please take the <a href=\"http://stackoverflow.com/tour\"><i>Tour</i></a> ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 1, "creation_date": 1481150705, "post_id": 41028150, "comment_id": 69264920, "body": "@joeb: <i>&quot;Don&#39;t gatekeep people&#39;s ability to ask for assistance&quot;</i> The more reputation that subscribers acquire, the more privileges we are given. And those privileges are solely to enable us precisely to <i>gatekeep</i> the questions and answers, and relieve the burden on the moderators. There is a continuous queue of items for review, and I can choose to accept, edit, or reject any one of them. If your indolent friends want something to do then the queue is now 1,041 items long, and time spent reducing that would be time well spent."}, {"owner": {"reputation": 646, "user_id": 1406188, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9db95b8e7cf67339e03512f4a0c07c7d?s=128&d=identicon&r=PG", "display_name": "WilliamK", "link": "https://stackoverflow.com/users/1406188/williamk"}, "edited": false, "score": 0, "creation_date": 1481237159, "post_id": 41028150, "comment_id": 69307880, "body": "Please explain what is the purpose of the result so that those who do not read properly can stop assuming and hence stop deriding others."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481150391, "post_id": 41028374, "comment_id": 69264799, "body": "I can think of a few reasons for your downvote. For instance, code-only answers aren&#39;t considered to be the best of answers; also you don&#39;t show any sample input or output to show the extent of your testing: what your code produces and what it expects. Most of all thought it&#39;s an answer to a <i>very</i> specific question and highly unlikely to be of much use to anyone but the OP."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481151126, "post_id": 41028374, "comment_id": 69265108, "body": "Apart from being a poor excuse for showing <i>actual</i> input and output, your little edit does nothing to explain what you have written and why."}], "tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": -1, "last_activity_date": 1481151183, "last_edit_date": 1481151183, "creation_date": 1481148979, "answer_id": 41028374, "question_id": 41028150, "link": "https://stackoverflow.com/questions/41028150/convert-ip-ranges-and-cidr-to-decimal-addresses/41028374#41028374", "title": "Convert IP Ranges and CIDR to decimal addresses", "body": "<p>Python will do this for you with the help of the <a href=\"https://pypi.python.org/pypi/netaddr\" rel=\"nofollow noreferrer\"><code>netaddr</code></a> module.</p>\n\n<pre><code>from netaddr import IPAddress, IPNetwork\n\nwith open(\"your file.txt\", \"r\") as f:\n\n    for line in f:\n\n        if \"/\" in line:\n            ip_network = IPNetwork(line)\n            print \"{},{}\".format(\n                ip_network.first,\n                ip_network.last\n            )\n            continue\n\n        if \",\" in line:\n            first_ip, last_ip = line.split(\",\")\n        else:\n            first_ip = last_ip = line\n\n        print \"{},{}\".format(\n            int(IPAddress(first_ip)),\n            int(IPAddress(last_ip))\n        )\n</code></pre>\n\n<p>Using the three example inputs and the three expected outputs from your question, the above works as expected. </p>\n"}], "owner": {"reputation": 23, "user_id": 7032732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1580302535610489/picture?type=large", "display_name": "James Sandzalone", "link": "https://stackoverflow.com/users/7032732/james-sandzalone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "closed_date": 1481150785, "accepted_answer_id": 41028374, "answer_count": 1, "score": -3, "last_activity_date": 1481151183, "creation_date": 1481148010, "last_edit_date": 1481149026, "question_id": 41028150, "link": "https://stackoverflow.com/questions/41028150/convert-ip-ranges-and-cidr-to-decimal-addresses", "closed_reason": "Needs more focus", "title": "Convert IP Ranges and CIDR to decimal addresses", "body": "<p></p>\n\n<p>I have a file that contains multiple IP addresses in multiple formats.</p>\n\n<p>Here's an example of the files:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>31.14.133.39\n37.221.172.0/23\n46.19.137.0/24\n46.19.143.0/24\n50.7.78.88/31\n5.79.39.4,5.79.39.5\n62.73.8.0/23\n63.235.155.210\n5.39.216.0,5.39.223.255\n64.12.118.23\n64.12.118.88\n</code></pre>\n\n<p>Some are in CIDR format, some are ranges, and some are individual IPs.</p>\n\n<p>Here are the 3 different possible formats:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>63.235.155.210\n62.73.8.0/23\n5.39.216.0,5.39.223.255\n</code></pre>\n\n<p>I'm wanting to convert all lines into IP decimal ranges. For example, the three-format sample listed above would look like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1072405458,1072405458\n1044973568,1044974079\n86497280,86499327\n</code></pre>\n\n<p>The file has around 400,000 lines in it.</p>\n\n<p>I'm okay doing it via command line, Perl, Python or PHP.</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 7242550, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d0936065a78b7a5aea451ce84ba2c833?s=128&d=identicon&r=PG&f=1", "display_name": "user7242550", "link": "https://stackoverflow.com/users/7242550/user7242550"}, "edited": false, "score": 0, "creation_date": 1481206857, "post_id": 41029290, "comment_id": 69290676, "body": "Thanks a lot, I am assuming it will set the download preferences for every test."}], "tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": true, "score": 1, "last_activity_date": 1481153738, "creation_date": 1481153738, "answer_id": 41029290, "question_id": 41028083, "link": "https://stackoverflow.com/questions/41028083/setting-download-preferences-in-my-basic-setup-method/41029290#41029290", "title": "Setting download preferences in my basic setup method", "body": "<p>You are passing <code>\"download.default_directory=os.getcwd()\"</code> as one string, i.e. the function <code>os.getcwd()</code> is never executed. Change the line to</p>\n\n<pre><code>\"download.default_directory={}\".format(os.getcwd())\n</code></pre>\n\n<p>The correct <a href=\"http://selenium-python.readthedocs.io/api.html#module-selenium.webdriver.chrome.webdriver\" rel=\"nofollow noreferrer\">format</a> for initiating the webdriver is:</p>\n\n<pre><code>self.driver = webdriver.Chrome(executable_path=r\"C:\\chromedriver\\chromedriver.exe\", chrome_options=options)\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 7242550, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d0936065a78b7a5aea451ce84ba2c833?s=128&d=identicon&r=PG&f=1", "display_name": "user7242550", "link": "https://stackoverflow.com/users/7242550/user7242550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 41029290, "answer_count": 1, "score": 0, "last_activity_date": 1481153738, "creation_date": 1481147690, "question_id": 41028083, "link": "https://stackoverflow.com/questions/41028083/setting-download-preferences-in-my-basic-setup-method", "title": "Setting download preferences in my basic setup method", "body": "<p>I am defining the download preferences in the setup method so everytime I need to download a file I do not have to define it seprately it will automatically download. Is this the right way to do that? It is giving me the error:</p>\n\n<pre><code>self.driver = webdriver.Chrome(options, executable_path=r\"C:\\chromedriver\\chromedriver.exe\")\n</code></pre>\n\n<p>TypeError: <strong>init</strong>() got multiple values for keyword argument 'executable_path'</p>\n\n<pre><code>class BaseTestCase(object):\n\n\n        def setUp(self): \n            options = webdriver.ChromeOptions() \n            options.add_argument(\"download.default_directory=os.getcwd()\")\n            self.driver = webdriver.Chrome(options, executable_path=r\"C:\\chromedriver\\chromedriver.exe\")\n            #self.driver = webdriver.Chrome(options)\n            self.driver.maximize_window()\n            self.driver.get(\"https://abcc.com\")\n\n\n\n        def tearDown(self):\n            self.driver.quit()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 1026, "user_id": 4788274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44b41c465dd3c63e17e620516c6fc764?s=128&d=identicon&r=PG", "display_name": "Jos&#233; S&#225;nchez", "link": "https://stackoverflow.com/users/4788274/jos%c3%a9-s%c3%a1nchez"}, "is_accepted": true, "score": 1, "last_activity_date": 1481147898, "creation_date": 1481147898, "answer_id": 41028125, "question_id": 41028072, "link": "https://stackoverflow.com/questions/41028072/changing-the-rows-of-a-2d-numpy-array-to-strings/41028125#41028125", "title": "Changing the rows of a 2D numpy array to strings", "body": "<p>Do you mean something like this:</p>\n\n<pre><code>import numpy as np\n\ny = np.array([str(xx) for xx in x])\n</code></pre>\n\n<p>Where <code>x</code> is a 2D numpy array such as:</p>\n\n<pre><code> x = np.array([\n    [1,2,3],\n    [4,5,6],\n    [7,8,9],\n ])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1481148769, "creation_date": 1481148769, "answer_id": 41028327, "question_id": 41028072, "link": "https://stackoverflow.com/questions/41028072/changing-the-rows-of-a-2d-numpy-array-to-strings/41028327#41028327", "title": "Changing the rows of a 2D numpy array to strings", "body": "<p>I believe you are looking for the following.</p>\n\n<pre><code>import numpy as np\n\nx = np.array([[1,2,3],[4,5,6],[7,8,9]])\nprint(x.shape) # prints (3,3)\n\ny = []\nfor row in x:\n    item = ''\n    for column in row:\n        item = item + str(column)\n    y.append(item)\n\ny = np.array(y) \nprint(y.shape) # prints (3,)\nprint(y)       # prints ['123' '456' '789']\nprint(y[1][1]) # prints 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13210, "user_id": 764322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a059b390ab24839995cfe14e261ffe41?s=128&d=identicon&r=PG", "display_name": "Imanol Luengo", "link": "https://stackoverflow.com/users/764322/imanol-luengo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481149711, "creation_date": 1481149711, "answer_id": 41028530, "question_id": 41028072, "link": "https://stackoverflow.com/questions/41028072/changing-the-rows-of-a-2d-numpy-array-to-strings/41028530#41028530", "title": "Changing the rows of a 2D numpy array to strings", "body": "<p>Numpy array is made to work with numbers. I would discourage its usage with strings or any other object, unless you really know what you are doing. Having said that,</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; A = np.arange(9).reshape(3,3)\n&gt;&gt;&gt; R = [np.array_str(a) for a in A]\n&gt;&gt;&gt; print R\n['[ 0.  1.  2.]', '[ 3.  4.  5.]', '[ 6.  7.  8.]']\n</code></pre>\n\n<p>R there is a standar python list, which probably would suffice for most usages. If you really really want a numpy array, and you know what you are doing with it, you can just wrap the list:</p>\n\n<pre><code>&gt;&gt;&gt; R = np.asarray(R, dtype=str)\n</code></pre>\n\n<p>Note that you could have also used the solution from @Jos\u00e9S\u00e1nchez, but <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.array_str.html\" rel=\"nofollow noreferrer\">np.array_str</a> gives you much more flexibility to how you store rows as strings than calling <code>str</code>. E.g. you can set precission to X decimals or round small numbers to 0.</p>\n"}], "owner": {"reputation": 65, "user_id": 6860923, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iceSsG8ZOOQ/AAAAAAAAAAI/AAAAAAAAABE/Vo888et9vcY/photo.jpg?sz=128", "display_name": "Anto Robich", "link": "https://stackoverflow.com/users/6860923/anto-robich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 41028125, "answer_count": 3, "score": 1, "last_activity_date": 1481149711, "creation_date": 1481147655, "question_id": 41028072, "link": "https://stackoverflow.com/questions/41028072/changing-the-rows-of-a-2d-numpy-array-to-strings", "title": "Changing the rows of a 2D numpy array to strings", "body": "<p>I have a 2D numpy array and I want to change its rows into strings so that I'll have an 1D numpy array where each element corresponds to a string corresponding to a row of the 2D array. I feel like there should be an easy way to do this but I cannot find it.</p>\n"}, {"tags": ["python", "ios", "json", "django", "uitableview"], "comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 1, "creation_date": 1481150840, "post_id": 41028058, "comment_id": 69264977, "body": "What language is that? It&#39;s not Swift or Objective-C. Is that Javascript? You should add that info to your question title and add the appropriate tag."}, {"owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "reply_to_user": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1481185441, "post_id": 41028058, "comment_id": 69276855, "body": "It is Django, I will add it to the question."}], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "edited": false, "score": 0, "creation_date": 1481148040, "post_id": 41028117, "comment_id": 69263749, "body": "I have not tried to use the result yet as I thought I would check if I had already done something incorrectly,  I will read your link :)"}], "tags": [], "owner": {"reputation": 11, "user_id": 5606583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d10c8548fd7c99a38737074b9e81bf?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrotism", "link": "https://stackoverflow.com/users/5606583/geoffrotism"}, "is_accepted": false, "score": 0, "last_activity_date": 1481147859, "creation_date": 1481147859, "answer_id": 41028117, "question_id": 41028058, "link": "https://stackoverflow.com/questions/41028058/json-file-has-square-brackets-instead-of-curly-brackets/41028117#41028117", "title": "JSON File has square brackets instead of curly brackets", "body": "<p>Square brackets in JSON indicate an array. <a href=\"https://adobe.github.io/Spry/samples/data_region/JSONDataSetSample.html\" rel=\"nofollow noreferrer\" title=\"Example\">example</a></p>\n\n<p>Were you just concerned with getting square brackets back in your JSON result or were you unable to use the Json result?</p>\n\n<p>*edited to fix link description</p>\n"}], "owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 662, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530254839, "creation_date": 1481147605, "last_edit_date": 1530254839, "question_id": 41028058, "link": "https://stackoverflow.com/questions/41028058/json-file-has-square-brackets-instead-of-curly-brackets", "title": "JSON File has square brackets instead of curly brackets", "body": "<p>I have the following Django code:</p>\n\n<pre><code>def jsonLiveLeaderboard(request):\n\n    cursor = connection.cursor()\n    cursor.execute(\n        \"\"\"\n            select username as User, CAST(floor((count(Goals)/2)-(if(sum(Loss)&gt;0,1,0))) as UNSIGNED) as Round, CAST(sum(Win) as UNSIGNED) as Wins, CAST(sum(Goals) as UNSIGNED) as Goals, CAST(sum(Loss) as UNSIGNED) as Losses from\n            (select u.username as username, s.campaignno as campaign, if(f.hometeamscore&gt;f.awayteamscore,1,0) as Win, if(f.hometeamscore&lt;f.awayteamscore,1,0) as Loss, f.hometeamscore as Goals from straightred_fixture f, straightred_userselection s, auth_user u where s.fixtureid = f.fixtureid and s.teamselectionid = f.hometeamid and s.user_id = u.id union all\n            select u.username as username, s.campaignno as campaign, if(f.awayteamscore&gt;f.hometeamscore,1,0) as Win, if(f.awayteamscore&lt;f.hometeamscore,1,0) as Loss, f.awayteamscore as Goals from straightred_fixture f, straightred_userselection s, auth_user u where s.fixtureid = f.fixtureid and s.teamselectionid = f.awayteamid and s.user_id = u.id) t\n            group by username, campaign\n            having Losses = 0\n            order by Round DESC, Wins DESC, Goals DESC\n        \"\"\")\n\n    json_data = json.dumps(cursor.fetchmany(size=5))\n\n    return HttpResponse(json_data, content_type='application/json')\n</code></pre>\n\n<p>This code produces the following output:</p>\n\n<pre><code>[[\"tingeyal\", 3, 5, 16, 0], [\"shanu\", 2, 4, 12, 0], [\"kevry\", 2, 4, 12, 0], [\"d_whoppa\", 2, 4, 9, 0], [\"kriste8403\", 2, 4, 8, 0]]\n</code></pre>\n\n<p>as can be seen at:</p>\n\n<p><a href=\"https://str8red.com/jsonLiveLeaderboard/\" rel=\"nofollow noreferrer\">https://str8red.com/jsonLiveLeaderboard/</a></p>\n\n<p>My results are typically returned in { brackets and not [ brackets.</p>\n\n<p>My end game is to use the son output in an iOS UITableView.  Is my current format going to be an issue?</p>\n\n<p>Many thanks, Alan.</p>\n"}, {"tags": ["python", "dictionary", "matrix", "enumerate"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1481147560, "post_id": 41028009, "comment_id": 69263526, "body": "<code>newI.shape[0]</code> that doesn&#39;t match with the pure-python definition above."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1481147722, "post_id": 41028009, "comment_id": 69263611, "body": "What&#39;s your expected output?"}, {"owner": {"reputation": 135, "user_id": 7254702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582071d6155c24426678e908d1960250?s=128&d=identicon&r=PG&f=1", "display_name": "user7416", "link": "https://stackoverflow.com/users/7254702/user7416"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481147949, "post_id": 41028009, "comment_id": 69263704, "body": "@Jean-Fran&#231;oisFabre thanks for pointing that out, fixed it!"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 7254702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582071d6155c24426678e908d1960250?s=128&d=identicon&r=PG&f=1", "display_name": "user7416", "link": "https://stackoverflow.com/users/7254702/user7416"}, "edited": false, "score": 0, "creation_date": 1481148974, "post_id": 41028062, "comment_id": 69264194, "body": "So, when I print it, it gives me the correct indices values. Although, can you help me understand how I can access the values from my list newResidues with these indices? (this is actually a new question - would you like me to post it separately?)"}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 135, "user_id": 7254702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582071d6155c24426678e908d1960250?s=128&d=identicon&r=PG&f=1", "display_name": "user7416", "link": "https://stackoverflow.com/users/7254702/user7416"}, "edited": false, "score": 0, "creation_date": 1481149034, "post_id": 41028062, "comment_id": 69264223, "body": "If you want to return just the values you can just use <code>compress(newResidues, i)</code> and you&#39;ll get the original values back."}], "tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": 0, "last_activity_date": 1481147623, "creation_date": 1481147623, "answer_id": 41028062, "question_id": 41028009, "link": "https://stackoverflow.com/questions/41028009/use-of-enumerate-and-mapping/41028062#41028062", "title": "Use of enumerate and mapping", "body": "<p>Replace your loop with the following:</p>\n\n<pre><code>from itertools import compress\nfor i in newI:\n    print map(lambda _: newResidues.index(_), compress(newResidues, i))\n</code></pre>\n\n<p><a href=\"https://docs.python.org/2/library/itertools.html#itertools.compress\" rel=\"nofollow noreferrer\"><code>itertools.compress</code></a> is pretty neat and seems perfect for your use case. After the above gets the values back from <code>compress</code> it finds the index of each value from <code>newResidues</code> -- this won't work correctly if you have duplicate values in <code>newResidues</code> however!</p>\n"}], "owner": {"reputation": 135, "user_id": 7254702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582071d6155c24426678e908d1960250?s=128&d=identicon&r=PG&f=1", "display_name": "user7416", "link": "https://stackoverflow.com/users/7254702/user7416"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 41028062, "answer_count": 1, "score": 0, "last_activity_date": 1481147932, "creation_date": 1481147401, "last_edit_date": 1481147932, "question_id": 41028009, "link": "https://stackoverflow.com/questions/41028009/use-of-enumerate-and-mapping", "title": "Use of enumerate and mapping", "body": "<pre><code>newResidues = [1, 2, 3, 4, 5]\nnewI = [[1,0,1,0,1],[1,1,0,0,0],[1,0,0,1,0]]\nnewI = np.array(newI)\n\nfor i in range(newI.shape[0]):\n    indices = [for i,num in enumerate(newI) if num == 1] #line1\n    indicesToResidues = dict(zip(indices,newResidues[indices]))#line2\n</code></pre>\n\n<p>So I know my code is incorrect... this is just an attempt of what I'm trying to do... </p>\n\n<p>in line1 what I'm trying do is make a list of the indices wherever there is a 1 in the matrix for each row, separately. So indices for the first row of the matrix would look something like [0,2,5] </p>\n\n<p>in line 2 trying to map these indices to a particular value with the same index in a list newResidues. </p>\n\n<p>Any help/comments will be appreciated, thanks!</p>\n"}, {"tags": ["javascript", "python", "arrays", "list"], "owner": {"reputation": 11, "user_id": 7259131, "user_type": "registered", "profile_image": "https://graph.facebook.com/850573498352667/picture?type=large", "display_name": "Abijith Krishnan", "link": "https://stackoverflow.com/users/7259131/abijith-krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1481147329, "creation_date": 1481147329, "question_id": 41027991, "link": "https://stackoverflow.com/questions/41027991/tojson-does-not-work-with-more-than-one-element-when-i-send-an-array-using-pytho", "title": "tojson does not work with more than one element when I send an array using python and jinja", "body": "<p>I am trying to send a python list over to my javascript code. My python code looks as follows:</p>\n\n<pre><code>return render_template(\"game.html\", images = ['hi','hello'])\n</code></pre>\n\n<p>Note: the ['hi','hello'] list is just a list I am using to explain my problem, my actual list is a bit more complicated and 2-dimensional.</p>\n\n<p>I send the list over via the following code in html.</p>\n\n<pre><code>&lt;script src=\"{{ url_for('static', filename='script.js') }}\" board = {{images|tojson}}&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When I display the images list in html below, with the code</p>\n\n<pre><code>{{images|tojson}}\n</code></pre>\n\n<p>I see the list I am intending to send over.</p>\n\n<p>In my javascript code, I use </p>\n\n<pre><code>var board = document.currentScript.getAttribute('board');\n</code></pre>\n\n<p>to acquire the list. However when I </p>\n\n<pre><code>console.log(board)\n</code></pre>\n\n<p>I obtain</p>\n\n<p>[\"hi\",</p>\n\n<p>, and I cant access other parts of board.</p>\n\n<p>Instead if I set images to just ['hi'] and I use console.log(board), I obtain what I intend, namely</p>\n\n<p>[\"hi\"]</p>\n\n<p>.</p>\n\n<p>How do I send lists with more than one entry and multidimensional lists over to my javascript file?</p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1481147339, "post_id": 41027971, "comment_id": 69263419, "body": "don&#39;t you have a mapping of continents to countries?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481147485, "post_id": 41027971, "comment_id": 69263489, "body": "<code>print(self.Dictionary[&quot;keywords&quot;])</code> will always print the same thing. Shouldn&#39;t it be related somehow to <code>continentinp</code> ?"}, {"owner": {"reputation": 31, "user_id": 6928023, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/87106f7188c4286ae990d851b27e9a4b?s=128&d=identicon&r=PG&f=1", "display_name": "MezyMinzy", "link": "https://stackoverflow.com/users/6928023/mezyminzy"}, "edited": false, "score": 0, "creation_date": 1481147753, "post_id": 41027971, "comment_id": 69263628, "body": "In a previous function we take the input of a txt file, split the data into parts and associate those parts with Dictionary[&quot;values&quot;] and Dictionary[&quot;keywords&quot;]. I&#39;m trying to figure out how to relate them in order to create a different print section that works properly."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6928023, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/87106f7188c4286ae990d851b27e9a4b?s=128&d=identicon&r=PG&f=1", "display_name": "MezyMinzy", "link": "https://stackoverflow.com/users/6928023/mezyminzy"}, "edited": false, "score": 0, "creation_date": 1481152411, "post_id": 41028203, "comment_id": 69265634, "body": "Would you happen to know a function that could take inputs such as China,Asia United States of America,North America Brazil,South America Japan,Asia Canada,North America Indonesia,Asia Nigeria,Africa Mexico,North America Egypt,Africa France,Europe Italy,Europe South Africa,Africa South Korea,Asia Colombia,South America  and gather all the ones of the same continent into a dictionary like the one you showed? Note the list of countries and continents provided is a txt file with each country,continent set on a different line."}, {"owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "reply_to_user": {"reputation": 31, "user_id": 6928023, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/87106f7188c4286ae990d851b27e9a4b?s=128&d=identicon&r=PG&f=1", "display_name": "MezyMinzy", "link": "https://stackoverflow.com/users/6928023/mezyminzy"}, "edited": false, "score": 0, "creation_date": 1481262692, "post_id": 41028203, "comment_id": 69314984, "body": "You could try using CSV for this, <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">link here.</a> Then strip the file by newlines (<code>str.strip(&quot;\\n&quot;)</code>), then for each value appended it to a dictionary of continents. If you want me to put an example in the answer please edit your question."}], "tags": [], "owner": {"reputation": 1304, "user_id": 5566217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDhzG.jpg?s=128&g=1", "display_name": "Preston Hager", "link": "https://stackoverflow.com/users/5566217/preston-hager"}, "is_accepted": false, "score": 1, "last_activity_date": 1481150102, "last_edit_date": 1481150102, "creation_date": 1481148202, "answer_id": 41028203, "question_id": 41027971, "link": "https://stackoverflow.com/questions/41027971/print-keywords-associated-with-a-dictionary-value/41028203#41028203", "title": "Print keywords associated with a dictionary value", "body": "<p>You will need a dictionary of continents and their countries first. It should look something like this. </p>\n\n<pre><code>{\n  \"North America\": [\n    \"United States of America\",\n    \"Canada\",\n    \"Cuba\",\n    \"Mexico\"\n  ],\n  \"South America\": [\n    \"Brazil\",\n    \"Argintina\"\n  ],\n  \"Europe\": [\n    \"United Kingdom\",\n    \"Germany\"\n  ],\n  \"Africa\": [\n    \"Egypt\"\n  ]\n}\n</code></pre>\n\n<p>Then the Python code is like this.</p>\n\n<pre><code>dict_of_cont = # here is your dictionary\ncontinent = raw_input(\"Enter the continent you wish to list the countries of: \")\nfor cont in dict_of_cont[continent.lower()]: # loop through the countries.\n  print(cont + \" is in \" + continent.lower())\n</code></pre>\n\n<p>However note that you must spell the country right to get any results. </p>\n"}], "owner": {"reputation": 31, "user_id": 6928023, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/87106f7188c4286ae990d851b27e9a4b?s=128&d=identicon&r=PG&f=1", "display_name": "MezyMinzy", "link": "https://stackoverflow.com/users/6928023/mezyminzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481359491, "creation_date": 1481147241, "last_edit_date": 1481359491, "question_id": 41027971, "link": "https://stackoverflow.com/questions/41027971/print-keywords-associated-with-a-dictionary-value", "title": "Print keywords associated with a dictionary value", "body": "<p>So, I have a function that is supposed to ask the user to input the name of a continent, then the function should go through Dictionary[\"values\"] to find the continent and then search through all of the countries in dictionary[\"keywords\"] to print all of the countries in the list that are in the continent. </p>\n\n<p>dictionary[\"values\"] = a list of continents\ndictionary[\"keywords\"] = a list of countries</p>\n\n<p>So far I have: </p>\n\n<pre><code>def filterCountriesByContinent(self):\n    continentinp =  input(str(\"Please enter a continent: \")) #user input\n    if continentinp  in  self.Dictionary[\"values\"]: #check if input in Dictionary.values\n        return print(self.Dictionary[\"keywords\"]) #if in Dictionary.values, print off associated countries\n    else:\n        return print(\"That country is not in the Dictionary\")\n</code></pre>\n\n<p>Right now it is just printing off the whole list of countries in Dictionary[\"keywords\"] including ones that aren't in the input continent.</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 5003, "user_id": 1483826, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/89b0eb6b5ed4f11aa012d215b737caf8?s=128&d=identicon&r=PG", "display_name": "mr&#243;wa", "link": "https://stackoverflow.com/users/1483826/mr%c3%b3wa"}, "edited": false, "score": 1, "creation_date": 1481147738, "post_id": 41027948, "comment_id": 69263621, "body": "Have you checked if the SQL is slow by itself?"}, {"owner": {"reputation": 177, "user_id": 6701768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JrO2v.png?s=128&g=1", "display_name": "hxtree", "link": "https://stackoverflow.com/users/6701768/hxtree"}, "reply_to_user": {"reputation": 5003, "user_id": 1483826, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/89b0eb6b5ed4f11aa012d215b737caf8?s=128&d=identicon&r=PG", "display_name": "mr&#243;wa", "link": "https://stackoverflow.com/users/1483826/mr%c3%b3wa"}, "edited": false, "score": 0, "creation_date": 1481164713, "post_id": 41027948, "comment_id": 69269234, "body": "Yes, the SQL is what is slow. I also was looking into doing &quot;for row in cursor.fetchone&quot; which should decrease the memory usage but that wasn&#39;t working at the time."}, {"owner": {"reputation": 5003, "user_id": 1483826, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/89b0eb6b5ed4f11aa012d215b737caf8?s=128&d=identicon&r=PG", "display_name": "mr&#243;wa", "link": "https://stackoverflow.com/users/1483826/mr%c3%b3wa"}, "edited": false, "score": 0, "creation_date": 1481190936, "post_id": 41027948, "comment_id": 69280247, "body": "If your table <code>file_version</code> does not have index on <code>filename</code> then every query like above will do a full table scan - from this you&#39;ll get bad performance."}], "owner": {"reputation": 177, "user_id": 6701768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/JrO2v.png?s=128&g=1", "display_name": "hxtree", "link": "https://stackoverflow.com/users/6701768/hxtree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481165109, "creation_date": 1481147134, "last_edit_date": 1481165109, "question_id": 41027948, "link": "https://stackoverflow.com/questions/41027948/mysql-optimize-left-outer-join-in-select", "title": "MySQL Optimize Left Outer Join In Select", "body": "<p>I'm trying to optimize the below query and python script. \nThere are 100,000+ rows in <code>file</code> and about 300,000 items in <code>file</code>. It takes a very long time to run. Any ideas?</p>\n\n<pre><code>import MySQLdb.cursors as cursors\ndb = MySQLdb.connect(host=*,user=*,passwd=*,db=*, cursorclass=cursors.SSCursor)\ncursor = db.cursor() \nprint 'running large query'\ncursor.execute('\nSELECT `file`.`file_id`,`file`.`format` FROM `file` \nLEFT OUTER JOIN (SELECT `file_id`, `filename` FROM `file_version` WHERE `filename` = %s) AS `version` \nON `file`.`file_id` = `version`.`file_id` WHERE `version`.`filename` IS NULL',[thumbnail]) \nresults = cursor.fetchall()\ncursor.close()\nfor row in results\n</code></pre>\n\n<p>table file</p>\n\n<blockquote>\n  <p>file_id (pk) | format | etc.</p>\n</blockquote>\n\n<p>table file_version</p>\n\n<blockquote>\n  <p>version_id (pk) | file_id | filename | etc.</p>\n</blockquote>\n\n<p>Each file can have multiple versions, e.g. original.jpg, 300.jpg, 600.jpg, 800.jpg. The select inside a select is what is really slowing it down IMO. Thank you. </p>\n"}, {"tags": ["python", "docker"], "comments": [{"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1481155899, "post_id": 41027892, "comment_id": 69266853, "body": "Add the location of <code>start.py</code> in <code>sys.path</code> using <code>import os, inspect; sys.path.insert(0, os.path.realpath(os.path.abspath(os.path.join(os.path.dirnam&zwnj;&#8203;e(inspect.getfile(in&zwnj;&#8203;spect.currentframe()&zwnj;&#8203;)),&#39;app&#39;))))</code>."}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1481156253, "post_id": 41027892, "comment_id": 69266961, "body": "Or even simpler <code>import sys, os; sys.path.insert(0, os.path.join(os.getcwd(),&#39;app&#39;))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4721, "user_id": 1112586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d2f37f51ca9e490fe489624aebc3f13?s=128&d=identicon&r=PG", "display_name": "SCB", "link": "https://stackoverflow.com/users/1112586/scb"}, "is_accepted": false, "score": 0, "last_activity_date": 1481148724, "creation_date": 1481148724, "answer_id": 41028318, "question_id": 41027892, "link": "https://stackoverflow.com/questions/41027892/dockerfile-cmd-script-runs-differently-to-running-script-manually-in-container/41028318#41028318", "title": "Dockerfile CMD script runs differently to running script manually in container", "body": "<p>This is definitely not the best solution, but it ended up working for me.</p>\n\n<p>I simply created a new top level file <code>start.py</code> with:</p>\n\n<pre><code>from app.start import startup\n\nstartup()\n</code></pre>\n\n<p>And replaced the command:</p>\n\n<pre><code>CMD python start.py arg1, arg2, arg3\n</code></pre>\n\n<p>And it worked fine. I feel this somewhat confirms my suspicion that it was something to do with the file hierarchy, but as to why this occurs only when running off <code>CMD</code> still has me stumped. Any suggestions for a better solution would be much appreciated.</p>\n"}], "owner": {"reputation": 4721, "user_id": 1112586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9d2f37f51ca9e490fe489624aebc3f13?s=128&d=identicon&r=PG", "display_name": "SCB", "link": "https://stackoverflow.com/users/1112586/scb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481148724, "creation_date": 1481146906, "last_edit_date": 1481147958, "question_id": 41027892, "link": "https://stackoverflow.com/questions/41027892/dockerfile-cmd-script-runs-differently-to-running-script-manually-in-container", "title": "Dockerfile CMD script runs differently to running script manually in container", "body": "<p>I have a dockerfile with the following end</p>\n\n<pre><code>CMD python app/start.py arg1 arg2 arg3\n</code></pre>\n\n<p>And when I try calling <code>run</code> (through compose) it gives me an error from my python script:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"app/start.py\", line 4, in &lt;module&gt;\n    from utils.foo import bar\nImportError: No module named 'utils'\n</code></pre>\n\n<p>However, when I call <code>run ... bash</code> (again through compose) or set the compose command argument to <code>bash</code>, and then in the bash terminal that comes up run:</p>\n\n<pre><code>python app/start.py arg1 arg2 arg3\n</code></pre>\n\n<p>The script runs perfectly.</p>\n\n<p>I assume this is something to do with how folder structure is handled on startup. Is there something I don't understand about how <code>CMD</code> works in dockerfiles? </p>\n\n<p><strong>Updates</strong></p>\n\n<ul>\n<li>Running with <code>ENTRYPOINT</code> instead of <code>CMD</code> makes no difference</li>\n<li>Setting <code>CMD</code> to <code>bash -c \"python app/start.py arg1 arg2 arg3\"</code> makes no difference</li>\n</ul>\n"}, {"tags": ["python", "mysql", "database", "csv"], "comments": [{"owner": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 1, "creation_date": 1481149848, "post_id": 41027882, "comment_id": 69264559, "body": "Why not simply pre-process the entire csv or dat file, and replace <code>&quot;NaN&quot;</code> with empty_string? You will not even need to write a python script for that, just a simple text editor search-and-replace will work. When the data are imported to MySQL, they will be interpreted as null values, just like the null values that appear on line 4 in the sample data you provided in your question."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1481150151, "post_id": 41027882, "comment_id": 69264690, "body": "@dreftymac thanx for the useful tips. I want exactly this thing so that in pre process it replace &quot;NAN&quot; with empty string,  but I am unable to make the relevant changes. Can you show where I can make those changes. I would be really grateful for this help."}, {"owner": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 1, "creation_date": 1481150905, "post_id": 41027882, "comment_id": 69265002, "body": "This question already has an answer on stackoverflow. See e.g., <a href=\"http://stackoverflow.com/a/4128192/42223\">stackoverflow.com/a/4128192/42223</a>. Take a look at that first then come back here if you still need help."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1481151006, "post_id": 41027882, "comment_id": 69265051, "body": "@dreftymac thanx for help. I will give it a look and will come if I need help. thanx for the tip."}, {"owner": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1481156623, "post_id": 41027882, "comment_id": 69267067, "body": "this does not have to be this complex. Please take a look at the following python script. <a href=\"https://github.com/dreftymac/public.lab/blob/master/temp/throwaway.py\" rel=\"nofollow noreferrer\">github.com/dreftymac/public.lab/blob/master/temp/throwaway.p&zwnj;&#8203;y</a>"}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "reply_to_user": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1481157718, "post_id": 41027882, "comment_id": 69267401, "body": "@dreftymac thanx for the code. I try like this got this problem . .&quot;2016-02-25 14:50:00&quot;,0,12.94,20.88,17.87,&#39;None&#39;,14,14,13.9,&#39;None&#39; .            and error is ............Data truncated for column &#39;tem&#39; at row 1  it mean I am successfull in replacing NAN with none , but no clue why this error. I tried this code. ............................................................&zwnj;&#8203;....................&zwnj;&#8203;.............    for item in index_list.items():         with open(item[1]) as f:             lines = f.readlines()             lines = [rec.replace(&#39;&quot;NAN&quot;&#39;, &#39;None&#39;) for rec in lines]"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1481294009, "post_id": 41040279, "comment_id": 69332267, "body": "I am extremely sorry for late reply. I was stuck in some other things. I applied your solution now and its works perfectly fine. I am accepting your answer. But I am thankful  that you point this Bulk insertion the csv with MySql.  I will give a try to use sed and do some research. I will come back if I am stuck with bulk insertion."}, {"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "reply_to_user": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1481294136, "post_id": 41040279, "comment_id": 69332358, "body": "Okay, glad to hear that this worked for you. Follow-ups please as new questions, not as comments here."}, {"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "reply_to_user": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1481294640, "post_id": 41040279, "comment_id": 69332699, "body": "Well... I can&#39;t stop you, but it&#39;s not nice to poke people directly. Also there&#39;s no guarantee that I could even help you with a mySQL issue. It&#39;s much better if you ask a self-contained question that stands on its own. People will come and try to answer it."}, {"owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "edited": false, "score": 0, "creation_date": 1481294907, "post_id": 41040279, "comment_id": 69332907, "body": "Thanks for the useful tips . I will follow these guidelines."}], "tags": [], "owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "is_accepted": true, "score": 2, "last_activity_date": 1481202757, "last_edit_date": 1481202757, "creation_date": 1481202426, "answer_id": 41040279, "question_id": 41027882, "link": "https://stackoverflow.com/questions/41027882/convert-nan-values-to-null-in-mysql-columns-with-python-code/41040279#41040279", "title": "Convert &quot;NAN&quot; values to NULL in MySql columns with python code", "body": "<p>Don't write your own CSV parsing code. Use the module.</p>\n\n<p>Apart from that you can use lambda functions to filter lists, as shown below. There's one function that removes empty lines and comment lines from the csv, and one that converts <code>\"NAN\"</code> to <code>None</code> on each row.</p>\n\n<pre><code>import csv\nimport calendar\nfrom datetime import datetime\n\nwith open('foo.csv', newline='') as csvfile:\n    data_lines = lambda l: l[0] != '#' and l.strip()\n    NAN_2_None = lambda i: None if i == \"NAN\" else i\n\n    csvreader = csv.reader(filter(data_lines, csvfile), delimiter=',', quotechar='\"')\n    for row in csvreader:\n        dt = datetime.strptime(row[0], '%Y-%m-%d %H:%M:%S')\n        row[0] = calendar.timegm(dt.timetuple())\n        data = map(NAN_2_None, row)\n\n        # cursor.execute(add_data, data)\n        print(list(data))\n</code></pre>\n\n<p>prints </p>\n\n<pre>\n[1456411800, '0', '12.94', '20.88', '17.87', None, '14', '14', '13.9', None]\n[1456412400, '1', '13.48', '20.86', '18', None, '13.4', '13', '13.2', None]\n[1456413000, '2', '13.89', '20.84', '18.07', '18.03', '12.8', '12', '12.6', '13 ']\n[1456435800, '3', '15.76', '20.18', '17.96', '18.25', '0.09', '0', '0.07', '0.16']\n[1456436400, '4', '15.72', '', '17.91', '', '0.08', None, '0.09', '0.18']\n[1456437000, '5', '15.66', '20.07', '17.86', '18.17', '0.03', None, '0.05', '0.09']\n[1456443000, '6', '14.98', '19.26', '17.12', '17.44', None, None, None, None]\n</pre>\n\n<p>However, it will probably be faster to <a href=\"http://dev.mysql.com/doc/refman/5.7/en/load-data.html\" rel=\"nofollow noreferrer\">bulk-load the csv with MySQL</a>, think about pre-processing the file with a simple tool like <code>sed</code> and use that approach instead.</p>\n"}], "owner": {"reputation": 317, "user_id": 6826664, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c19dd37630c2d7c22df565367f8d6752?s=128&d=identicon&r=PG&f=1", "display_name": "Rio", "link": "https://stackoverflow.com/users/6826664/rio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1982, "favorite_count": 0, "accepted_answer_id": 41040279, "answer_count": 1, "score": 0, "last_activity_date": 1481295687, "creation_date": 1481146858, "last_edit_date": 1481200108, "question_id": 41027882, "link": "https://stackoverflow.com/questions/41027882/convert-nan-values-to-null-in-mysql-columns-with-python-code", "title": "Convert &quot;NAN&quot; values to NULL in MySql columns with python code", "body": "<p>I am writing/storing data in MySql via python. If columns data in MySql contains \"NAN\" then how can I handle them. At the moment I know how to deal with empty spaces or None values but here I got stuck. the data looks like this</p>\n\n<pre><code># file no 2\n# some description line\n#\"Time\",\"col.no\",\"dat.va\",\"all_val\",\"graph_da\",\"tem\",\"vel\",\"acc\", \"all.valu\",\"rand\"\n\n\"2016-02-25 14:50:00\",0,12.94,20.88,17.87,\"NAN\",14,14,13.9,\"NAN\"\n\"2016-02-25 15:00:00\",1,13.48,20.86,18,\"NAN\",13.4,13,13.2,\"NAN\"\n\"2016-02-25 15:10:00\",2,13.89,20.84,18.07,18.03,12.8,12,12.6,13 \n\"2016-02-25 21:30:00\",3,15.76,20.18,17.96,18.25,0.09,0,0.07,0.16\n\"2016-02-25 21:40:00\",4,15.72,,17.91,,0.08,\"NAN\",0.09,0.18\n\"2016-02-25 21:50:00\",5,15.66,20.07,17.86,18.17,0.03,\"NAN\",0.05,0.09\n\"2016-02-25 23:30:00\",6,14.98,19.26,17.12,17.44,\"NAN\",\"NAN\",\"NAN\",\"NAN\"\n</code></pre>\n\n<p>there are several thousands line which includes randomly this \"NAN\" therefore It would be great if somebody give me logic to deal, e.g whenever it comes across NAN, it put NAN or none. my code to deal with empty spaces and None is like this. </p>\n\n<pre><code>with open(filepath) as f:\n    lines = f.readlines()\nmax_lines = len(lines)\nfor k, line in enumerate(lines):\n    if k &gt;= (int(skip_header_line) + int(index_line_number)):\n        data_tmp = line.strip().split(',')\n\n        strDate = data_tmp[0].replace(\"\\\"\", \"\")\n    strDate = strDate.split('.')[0]   \n    timestamp = datetime.datetime.strptime(strDate, '%Y-%m-%d %H:%M:%S') \n    ts = calendar.timegm(timestamp.timetuple())           \n  #  _ts = ts * 1000000 \n\n        data_buffer = [ts] + data_tmp[1:]                                                                    \n        data_buffer = [ts] + data_tmp[1:]\n        data_buffer = [v if v is not \"\" and v is not \" \" else None for v in data_buffer]\n        print data_buffer\n        cursor.execute(add_data, data_buffer)\n        cnx.commit()\n        with open(marker_file, \"w\") as f:\n            f.write(\" \".join([ str(item[0]), str(data_tmp[0]), str(max_lines),\n                   str(k-int(skip_header_line)+1) ]))\ncursor.close()\ncnx.close()\n</code></pre>\n\n<p>Any help or tip would be greatly appreciated because I try my best to find the solution but I found nothing useful . Thanx in advance for help. </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481147044, "post_id": 41027878, "comment_id": 69263270, "body": "if you use Python 2 and <code>A</code> is integer then <code>A&#47;100</code> gives integer. You need <code>A&#47;100.0</code> or <code>float(A)&#47;100</code>"}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 1, "creation_date": 1481147065, "post_id": 41027878, "comment_id": 69263286, "body": "Aside from the integral division issue, you are using the wrong exponentiation operator. it is <code>**</code> in Python."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "reply_to_user": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "edited": false, "score": 0, "creation_date": 1481147146, "post_id": 41027878, "comment_id": 69263332, "body": "@shash678: OP didn&#39;t even bother to correct the mistakes that were pointed out in that previous question ... :/ (And, so I see, <a href=\"http://stackoverflow.com/q/40979415/2564301\">the one before that</a>...)"}, {"owner": {"reputation": 63, "user_id": 7135491, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-wclJlkhHo6I/AAAAAAAAAAI/AAAAAAAAABU/QWYuXZQSA14/photo.jpg?sz=128", "display_name": "Duvall912", "link": "https://stackoverflow.com/users/7135491/duvall912"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1481209594, "post_id": 41027878, "comment_id": 69292591, "body": "I&#39;m suppose to convert the interest and not the answer. I tried putting it by the variable then it returned the following exception. @RadLexus   r = int(raw_input(&quot;Please input interest rate: \\n&quot;)/100)  Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 4, in &lt;module&gt; TypeError: unsupported operand type(s) for /: &#39;str&#39; and &#39;int&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7135491, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-wclJlkhHo6I/AAAAAAAAAAI/AAAAAAAAABU/QWYuXZQSA14/photo.jpg?sz=128", "display_name": "Duvall912", "link": "https://stackoverflow.com/users/7135491/duvall912"}, "edited": false, "score": 0, "creation_date": 1481147904, "post_id": 41027913, "comment_id": 69263689, "body": "It still gives me an int. I need to return a float. @Ni"}, {"owner": {"reputation": 63, "user_id": 7135491, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-wclJlkhHo6I/AAAAAAAAAAI/AAAAAAAAABU/QWYuXZQSA14/photo.jpg?sz=128", "display_name": "Duvall912", "link": "https://stackoverflow.com/users/7135491/duvall912"}, "edited": false, "score": 0, "creation_date": 1481148683, "post_id": 41027913, "comment_id": 69264043, "body": "the first one didnt work for me but the second one ran perfectly.Why is that ?"}], "tags": [], "owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "is_accepted": false, "score": 4, "last_activity_date": 1481147004, "creation_date": 1481147004, "answer_id": 41027913, "question_id": 41027878, "link": "https://stackoverflow.com/questions/41027878/having-trouble-converting-result-produced-into-a-float-with-python/41027913#41027913", "title": "Having trouble converting result produced into a float with python", "body": "<p><code>float(A/100)</code> first calculates A/100, which are both ints, so the result is an int, and only then converts to float. Instead you could use:</p>\n\n<pre><code>float(A)/100\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>A/100.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4617, "user_id": 3954379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/HwYQ0.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/3954379/lucas"}, "is_accepted": false, "score": 0, "last_activity_date": 1481147218, "creation_date": 1481147218, "answer_id": 41027966, "question_id": 41027878, "link": "https://stackoverflow.com/questions/41027878/having-trouble-converting-result-produced-into-a-float-with-python/41027966#41027966", "title": "Having trouble converting result produced into a float with python", "body": "<p>Here is the problem. In python2 the division between integers gives another integer (this is not true in python3).</p>\n\n<pre><code>42 / 100 # return 0 \n</code></pre>\n\n<p>The solution is to keep one to float.</p>\n\n<pre><code>42 / 100.0 #return 0.42\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7135491, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-wclJlkhHo6I/AAAAAAAAAAI/AAAAAAAAABU/QWYuXZQSA14/photo.jpg?sz=128", "display_name": "Duvall912", "link": "https://stackoverflow.com/users/7135491/duvall912"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1481147254, "answer_count": 2, "score": -3, "last_activity_date": 1481147218, "creation_date": 1481146842, "last_edit_date": 1481146941, "question_id": 41027878, "link": "https://stackoverflow.com/questions/41027878/having-trouble-converting-result-produced-into-a-float-with-python", "closed_reason": "Duplicate", "title": "Having trouble converting result produced into a float with python", "body": "<p>I am trying to get a float value but it keeps on giving me a decimal value as an answer.</p>\n\n<pre><code>import math\n\np = int(raw_input(\"Please enter deposit amount: \\n\"))\nr = int(raw_input(\"Please input interest rate: \\n\"))\nt = int(raw_input(\"Please insert number of years of the investment: \\n\"))\ninterest = raw_input(\"Do you want a simple or compound interest ? \\n\")\n\nA = p*(1+r*t) \nB = p*(1+r)^t \n\nif interest == \"simple\":\n    print (float(A/100))\nelse:\n    print(float(B/100))\n</code></pre>\n"}, {"tags": ["python", "list", "file", "frequency"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1481146913, "post_id": 41027874, "comment_id": 69263204, "body": "For the input file you have provided, what is the expected output?"}, {"owner": {"reputation": 3, "user_id": 6575647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Agg4J.jpg?s=128&g=1", "display_name": "H J Robson", "link": "https://stackoverflow.com/users/6575647/h-j-robson"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1481147016, "post_id": 41027874, "comment_id": 69263253, "body": "i&#39;m not certain what you mean, but i&#39;m looking for just a list with most frequent at the top."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1481147176, "post_id": 41027874, "comment_id": 69263346, "body": "You talk about phrases (<code>Each phrase is</code>) and then you ask about words (<code>How can I order these words</code>). What exactly are you looking for? Also, you have provided a sample of the text file you want to read (it has 6 phrases). What should the output look like?"}, {"owner": {"reputation": 3, "user_id": 6575647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Agg4J.jpg?s=128&g=1", "display_name": "H J Robson", "link": "https://stackoverflow.com/users/6575647/h-j-robson"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1481214738, "post_id": 41027874, "comment_id": 69296270, "body": "It looks like hiya"}], "answers": [{"tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": 0, "last_activity_date": 1481147043, "creation_date": 1481147043, "answer_id": 41027919, "question_id": 41027874, "link": "https://stackoverflow.com/questions/41027874/sort-a-text-file-into-a-list-determined-by-mode/41027919#41027919", "title": "Sort a text file into a list determined by mode", "body": "<p>You can use <code>collections.Counter</code> for this.</p>\n\n<pre><code>from collections import Counter\nwith open(\"your file.txt\", \"r\") as f:\n    phrases = Counter(f.read().split(\"    \"))\n\nfor phrase, occurrences in sorted(phrases.items(), key=lambda _: _[1], reverse=True):\n    print \"Phrase: {} -- Occurrences: {}\".format(phrase, occurrences)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6575647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Agg4J.jpg?s=128&g=1", "display_name": "H J Robson", "link": "https://stackoverflow.com/users/6575647/h-j-robson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 41027919, "answer_count": 1, "score": 0, "last_activity_date": 1481147043, "creation_date": 1481146820, "question_id": 41027874, "link": "https://stackoverflow.com/questions/41027874/sort-a-text-file-into-a-list-determined-by-mode", "title": "Sort a text file into a list determined by mode", "body": "<p>I have a text file:</p>\n\n<pre><code>hello my name is bill    hello there    hello there    hiya    hiya    hiya\n</code></pre>\n\n<p>Each phrase is separated by four spaces. How can I order these words (on new lines) by frequency.</p>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["python", "syntax", "arcmap"], "comments": [{"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "edited": false, "score": 0, "creation_date": 1481146714, "post_id": 41027832, "comment_id": 69263087, "body": "check your indentation"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7264607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d52bdac1bf8494585aef7ea2214fcad?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah_E_Johnson", "link": "https://stackoverflow.com/users/7264607/sarah-e-johnson"}, "edited": false, "score": 0, "creation_date": 1481147316, "post_id": 41027873, "comment_id": 69263404, "body": "Do you mean like tick tick? &#39; &#39; (without the space) Or double quotes, like when reading what a someone said? &quot; I tried both ways, but I am still getting the invalid syntax error."}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 11, "user_id": 7264607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d52bdac1bf8494585aef7ea2214fcad?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah_E_Johnson", "link": "https://stackoverflow.com/users/7264607/sarah-e-johnson"}, "edited": false, "score": 1, "creation_date": 1481147409, "post_id": 41027873, "comment_id": 69263452, "body": "It may be difficult to see, but \u201d is not &quot; -- Python doesn&#39;t like \u201d as it is not a double quote but instead some sort of fancy quotes, commonly seen in Microsoft Word."}, {"owner": {"reputation": 11, "user_id": 7264607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d52bdac1bf8494585aef7ea2214fcad?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah_E_Johnson", "link": "https://stackoverflow.com/users/7264607/sarah-e-johnson"}, "edited": false, "score": 0, "creation_date": 1481147710, "post_id": 41027873, "comment_id": 69263600, "body": "Oh!  You are so brilliantly wonderful!  I copy and pasted the baste code again and that worked! Thank you very much!"}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 11, "user_id": 7264607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d52bdac1bf8494585aef7ea2214fcad?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah_E_Johnson", "link": "https://stackoverflow.com/users/7264607/sarah-e-johnson"}, "edited": false, "score": 0, "creation_date": 1481147737, "post_id": 41027873, "comment_id": 69263620, "body": "@Sarah_E_Johnson Glad that worked for you! Be sure to mark the question as solved."}], "tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": 1, "last_activity_date": 1481147680, "last_edit_date": 1481147680, "creation_date": 1481146818, "answer_id": 41027873, "question_id": 41027832, "link": "https://stackoverflow.com/questions/41027832/invalid-syntax-error-and-looking-through-a-directory-and-its-subdirectories/41027873#41027873", "title": "Invalid Syntax Error and looking through a directory and its subdirectories", "body": "<p>You're using the wrong quotes around your path. Is this your error?</p>\n\n<pre><code>arcpy.env.workspace = ws = r\u201dC:\\Users\\162708\\Desktop\\Burn_Zones\u201d\n                            ^\nSyntaxError: invalid character in identifier\n</code></pre>\n\n<p>Replace those \"quotes\" with actual double quotes.</p>\n\n<pre><code>r\u201dC:\\Users\\162708\\Desktop\\Burn_Zones\u201d  # wrong\nr\"C:\\Users\\162708\\Desktop\\Burn_Zones\"  # correct\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7264607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d52bdac1bf8494585aef7ea2214fcad?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah_E_Johnson", "link": "https://stackoverflow.com/users/7264607/sarah-e-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1837, "favorite_count": 0, "accepted_answer_id": 41027873, "answer_count": 1, "score": 1, "last_activity_date": 1481147680, "creation_date": 1481146658, "last_edit_date": 1481146937, "question_id": 41027832, "link": "https://stackoverflow.com/questions/41027832/invalid-syntax-error-and-looking-through-a-directory-and-its-subdirectories", "title": "Invalid Syntax Error and looking through a directory and its subdirectories", "body": "<p>I am super brand new to coding with python.  For my work, we have ESRI maps (.MXDs) that need to be batch exported.  The problem is that each map is in it's own folder within the main folder.  I found a code to batch export my maps, if they are within the same directory (though it keeps giving an Invalid Syntax error).  I also found a code that should look through all the subdirectories, but I do not know how to combine it with the first code.</p>\n\n<p>Exporting my maps code (arcpy is how ArcMap uses python from what I gather):</p>\n\n<pre><code>import arcpy, os\n\narcpy.env.workspace = ws = r\u201dC:\\Users\\Me\\Desktop\\Burn_Zones\u201d #This is where I am getting that invalid syntax error!\n\nmxd_list = arcpy.ListFiles(\"*.mxd\")\n\nfor mxd in mxd_list:\n\n        current_mxd = arcpy.mapping.MapDocument(os.path.join(ws, mxd))\n    pdf_name = mxd[:-4] + \".pdf\"\n    arcpy.mapping.ExportToPDF(current_mxd, pdf_name)\ndel mxd_list\n</code></pre>\n\n<p>So that's the first issue.\nThe code to look into all of the subdirectories is:</p>\n\n<pre><code>for root, dirs, files in os.walk(path):\nfor name in files:\n    if name.endswith((\".html\", \".htm\")):\n</code></pre>\n\n<p>I don't think I would need the second for loop as the first code should be grabbing all of the .mxds for me.  So would I only need the first for loop and chunk that above the mxd_list = arpy.ListFiles(\".mxd\") line of code?</p>\n\n<p>Oh, and for that error line.  I have tried the path name with C:\\ and with Burn_Zones\\ and all the combinations of those.  That didn't work and that's the only thing I could figure.</p>\n\n<p>Thank y'all so much for any help!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481147452, "post_id": 41027910, "comment_id": 69263475, "body": "I am not regex expert, but  need capture groups , so need add <code>()</code> for <code>str.extract(&#39;(apple|mango|banana|peach)&#39;, expand=False)</code>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481147522, "post_id": 41027910, "comment_id": 69263501, "body": "You can also check <a href=\"http://pandas.pydata.org/pandas-docs/stable/text.html#extracting-substrings\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481147627, "post_id": 41027910, "comment_id": 69263558, "body": "and <code>str.extract(&#39;(apple|mango|banana|peach)&#39;, expand=False)</code> means extract <code>apple</code> or <code>mango</code> or <code>banana</code> or <code>peach</code> and return <code>Series</code> obviously."}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481706106, "post_id": 41027910, "comment_id": 69480091, "body": "Actually I realized that I had to fulfill two conditions - one with contains and the other with the extract . Is there anyway to have both conditions met and do the extract? These are the two conditions: <code>df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; (df[&#39;type&#39;].str.contains(recipe, case = False)) </code>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481706258, "post_id": 41027910, "comment_id": 69480167, "body": "Yes, I think you can use two conditons with no problems."}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481706600, "post_id": 41027910, "comment_id": 69480376, "body": "I&#39;m fumbling on the syntax . . . <code>df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; (df[&#39;type&#39;].str.extract(recipe, case = False))</code> ?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481706698, "post_id": 41027910, "comment_id": 69480430, "body": "Yes, but it seems last  <code>()</code> can be removed -  <code>df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; df[&#39;type&#39;].str.extract(recipe, case = False)</code>"}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481707266, "post_id": 41027910, "comment_id": 69480763, "body": "it returns a boolean series . . . so I get a new column which has the True / False values instead of the value from the part of the regex which matched . . ."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481707292, "post_id": 41027910, "comment_id": 69480780, "body": "sorry, <code>df[df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; df[&#39;type&#39;].str.extract(recipe, case = False)]</code>"}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481707730, "post_id": 41027910, "comment_id": 69481026, "body": "Heh heh . . that just subsets the df for the conditions met but does not return the extracted value from the regex."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481708137, "post_id": 41027910, "comment_id": 69481289, "body": "I found typo - need <code>contains</code> twice - <code>df[df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; df[&#39;type&#39;].str.contains(recipe, case = False)]</code>"}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481708320, "post_id": 41027910, "comment_id": 69481390, "body": "the code above just subsets the existing dataframe  . It does not create a new column with the matched part of the regex !"}, {"owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481708500, "post_id": 41027910, "comment_id": 69481500, "body": "anyway - i think this does it: <code>df[&#39;tag&#39;] = df[df[&#39;foodstuff&#39;].str.contains(fruit, case = False) &amp; df[&#39;type&#39;].str.contains(recipe, case = False)].foodstuff.str.extract(&#39;(&#39;+fruit+&#39;)&#39;, expand = False)</code>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "edited": false, "score": 0, "creation_date": 1481708552, "post_id": 41027910, "comment_id": 69481537, "body": "sorry, for me it was not clear what need exactly. small present +3"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1481146980, "creation_date": 1481146980, "answer_id": 41027910, "question_id": 41027831, "link": "https://stackoverflow.com/questions/41027831/create-a-new-column-based-on-conditional-testing-of-regex-in-pandas/41027910#41027910", "title": "create a new column based on conditional testing of regex in pandas", "body": "<p>I think you need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.extract.html\" rel=\"nofollow noreferrer\"><code>str.extract</code></a>:</p>\n\n<pre><code>fruit = \"apple|mango|banana|peach\"\ndf['tag'] = df.foodstuff.str.extract('('+fruit+')', expand=False)\nprint (df)\n         foodstuff      type    tag\n0    apple-martini  cocktail  apple\n1        apple-pie   dessert  apple\n2   lemon-merengue   dessert    NaN\n3  strawberry-tart   dessert    NaN\n</code></pre>\n"}], "owner": {"reputation": 2888, "user_id": 3328804, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84dfa36e387906be81cb80c168d62eae?s=128&d=identicon&r=PG&f=1", "display_name": "vagabond", "link": "https://stackoverflow.com/users/3328804/vagabond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1498, "favorite_count": 1, "accepted_answer_id": 41027910, "answer_count": 1, "score": 2, "last_activity_date": 1481146980, "creation_date": 1481146653, "question_id": 41027831, "link": "https://stackoverflow.com/questions/41027831/create-a-new-column-based-on-conditional-testing-of-regex-in-pandas", "title": "create a new column based on conditional testing of regex in pandas", "body": "<p>New to Python &amp; Pandas. </p>\n\n<p>I want to test if a string is in the column and create a new column if condition is satisfied with the string value. </p>\n\n<p>For e.g.</p>\n\n<p>I have a df : </p>\n\n<pre><code>df = pd.DataFrame({'foodstuff':['apple-martini', 'apple-pie', 'lemon-merengue', 'strawberry-tart'], 'type':['cocktail', 'dessert', 'dessert', 'dessert']})\n</code></pre>\n\n<p>and I have two regex strings: </p>\n\n<pre><code>fruit = \"apple|mango|banana|peach\"\n\nrecipe = \"cocktail|dessert|appetizer\"\n</code></pre>\n\n<p>I want to meet the following conditions: </p>\n\n<pre><code>df['foodstuff'].str.contains(fruit, case = False) &amp; (df['type'].str.contains(recipe, case = False))\n</code></pre>\n\n<p>In this case, the output would look like:</p>\n\n<pre><code>pd.DataFrame({'foodstuff':['apple-martini', 'apple-pie', 'lemon-merengue', 'strawberry-tart'], 'type':['cocktail', 'dessert', 'dessert', 'dessert'], 'tag':['apple', 'apple', np.nan, np.nan ]}) \n</code></pre>\n\n<p>I was trying to do it like this: </p>\n\n<pre><code>df['tag'] = np.where(df['foodstuff'].str.contains(fruit), fruit, np.nan)\n</code></pre>\n\n<p>but in that case, the 'tag' column takes the entire string value: \n<code>apple|mango|banana|peach</code> . I need just the part that matched.</p>\n"}, {"tags": ["python", "cx-freeze"], "comments": [{"owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1481394692, "post_id": 41027829, "comment_id": 69363949, "body": "Can you provide a small portion of the script you are freezing that demonstrates the problem? Often it doesn&#39;t have to include much more than the basic imports. Also, are you using cx_Freeze 5.0? It may help with this particular issue."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7264625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0de5a1793a10405a4435c34ad62325?s=128&d=identicon&r=PG&f=1", "display_name": "C. Broyles", "link": "https://stackoverflow.com/users/7264625/c-broyles"}, "is_accepted": false, "score": 0, "last_activity_date": 1492101579, "creation_date": 1492101579, "answer_id": 43397560, "question_id": 41027829, "link": "https://stackoverflow.com/questions/41027829/executable-generated-with-cx-freeze-opens-for-an-instant-before-closing/43397560#43397560", "title": "Executable generated with cx_freeze opens for an instant before closing", "body": "<p>I solved the problem. It seemed to be an issue with the version of Python and Pygame that I had, and after getting a more recent version of both everything worked just fine.</p>\n"}], "owner": {"reputation": 1, "user_id": 7264625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0de5a1793a10405a4435c34ad62325?s=128&d=identicon&r=PG&f=1", "display_name": "C. Broyles", "link": "https://stackoverflow.com/users/7264625/c-broyles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492101579, "creation_date": 1481146645, "question_id": 41027829, "link": "https://stackoverflow.com/questions/41027829/executable-generated-with-cx-freeze-opens-for-an-instant-before-closing", "title": "Executable generated with cx_freeze opens for an instant before closing", "body": "<p>So I made an executable of my python script using cx_freeze but when I open it the window only stays for a fraction of a second before disappearing. I opened it directly with cmd and this is the error it displayed:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Python32\\lib\\site-packages\\pygame\\__init__.py\", line 117, in     &lt;module&gt;\n    try: import pygame.display\n  File \"ExtensionLoader_pygame_display.py\", line 22, in &lt;module&gt;\n  File \"ExtensionLoader_pygame_display.py\", line 14, in __bootstrap__\n  File \"ExtensionLoader_pygame_surface.py\", line 22, in &lt;module&gt;\n  File \"ExtensionLoader_pygame_surface.py\", line 14, in __bootstrap__\nImportError: No module named _view\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Python32\\lib\\site-packages\\cx_Freeze\\initscripts\\Console3.py\",     line 27, in &lt;module&gt;\n    exec(code, m.__dict__)\n  File \"c:\\users\\admin\\desktop\\project2.py\", line 1, in &lt;module&gt;\n    import pygame\n  File \"C:\\Python32\\lib\\site-packages\\pygame\\__init__.py\", line 118, in     &lt;module&gt;\n    except (ImportError,IOError):display=MissingModule(\"display\",     geterror(), 1)\n  File \"C:\\Python32\\lib\\site-packages\\pygame\\__init__.py\", line 61, in     __init__\n    self.warn()\n  File \"C:\\Python32\\lib\\site-packages\\pygame\\__init__.py\", line 85, in warn\n    warnings.warn(message, RuntimeWarning, level)\n  File \"C:\\Python\\32-bit\\3.2\\lib\\warnings.py\", line 18, in showwarning\n  File \"C:\\Python\\32-bit\\3.2\\lib\\warnings.py\", line 25, in formatwarning\n  File \"C:\\Python\\32-bit\\3.2\\lib\\linecache.py\", line 15, in getline\n  File \"C:\\Python\\32-bit\\3.2\\lib\\linecache.py\", line 41, in getlines\n  File \"C:\\Python\\32-bit\\3.2\\lib\\linecache.py\", line 127, in updatecache\n  File \"C:\\Python\\32-bit\\3.2\\lib\\codecs.py\", line 300, in decode\nUnicodeDecodeError: 'utf8' codec can't decode byte 0x90 in position 2:     invalid start byte\n</code></pre>\n\n<p>When I compiled the executable it said that it hadn't imported several files from pygame, but \"this may not be a problem as they may not be needed.\" I'm guessing this error is a product of those files not being imported but I don't know how to fix that.</p>\n"}, {"tags": ["java", "python", "python-3.x", "terminal", "subprocess"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481147476, "post_id": 41027819, "comment_id": 69263483, "body": "did you try with full paths for <code>java</code> and <code>my_jar.jar</code> ? I run your code (and I don&#39;t have <code>my_jar.jar</code>) and I get the same error."}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481147568, "post_id": 41027819, "comment_id": 69263528, "body": "Yes I&#39;ve tried this possibilities, but thanks for the help anyway !"}, {"owner": {"reputation": 484, "user_id": 4992721, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d868964659b12b55200500fe52a47fa0?s=128&d=identicon&r=PG", "display_name": "Kariamoss", "link": "https://stackoverflow.com/users/4992721/kariamoss"}, "edited": false, "score": 0, "creation_date": 1481147698, "post_id": 41027819, "comment_id": 69263593, "body": "What&#39;s the exception?"}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481147954, "post_id": 41027819, "comment_id": 69263706, "body": "Invalid syntax, he doesn&#39;t recognize my &#39;+&#39; (and he should). But when I add a print in my java code, the print is like &quot;skipped&quot;"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1481148080, "post_id": 41027819, "comment_id": 69263769, "body": "With absolute paths is it the same error?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481148108, "post_id": 41027819, "comment_id": 69263779, "body": "can you print your current directory? it may not be the one you&#39;re thinking it is."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481148191, "post_id": 41027819, "comment_id": 69263829, "body": "run this <code>os.system(&quot;java -jar my_jar.jar -p input_file&quot;)</code> and you&#39;ll get the error message, not just the return code (also would work with <code>subprocess.Popen</code>)"}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481148888, "post_id": 41027819, "comment_id": 69264148, "body": "The directory is the good one (and absolute path change nothing). With os.system it&#39;s the same results. The exception makes no sense because the syntax in the file is good. So I shouldn&#39;t have any :/ But thanks for the help anyway !"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1481152651, "post_id": 41027819, "comment_id": 69265727, "body": "Same result but you should get some output in the python console. What is this output ?"}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481180574, "post_id": 41027819, "comment_id": 69274502, "body": "I get exactly the same output (only stderr): <code>Syntax error : ?</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481147162, "post_id": 41027920, "comment_id": 69263338, "body": "Thank you for your help ! My JAVA_HOME is good, I got the good jdk version and stuff"}, {"owner": {"reputation": 1639, "user_id": 3030010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c97ca617bb8ebf436f2131091f8d3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3030010", "link": "https://stackoverflow.com/users/3030010/user3030010"}, "reply_to_user": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481147226, "post_id": 41027920, "comment_id": 69263368, "body": "I added another possible problem there could be."}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481147379, "post_id": 41027920, "comment_id": 69263437, "body": "My java just expect a file name and read it with a BufferedReader. So I guess it&#39;s ok"}], "tags": [], "owner": {"reputation": 1639, "user_id": 3030010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c97ca617bb8ebf436f2131091f8d3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3030010", "link": "https://stackoverflow.com/users/3030010/user3030010"}, "is_accepted": false, "score": -1, "last_activity_date": 1481147187, "last_edit_date": 1481147187, "creation_date": 1481147043, "answer_id": 41027920, "question_id": 41027819, "link": "https://stackoverflow.com/questions/41027819/python-jar-works-in-terminal-but-not-from-python/41027920#41027920", "title": "python - JAR works in terminal but not from python", "body": "<p>My first thought would be that there is something in your environment that is not transferring to the subprocess. Try this and see if it outputs anything that looks relevant</p>\n\n<pre><code>import os\nfor key in os.environ:\n    if any(token in key.lower() for token in ['java', 'jre', 'jdk']):\n        print(key, os.environ[key])\n</code></pre>\n\n<p>I've had another thought too. Some programs expect their input to be a tty (ie. interactive terminal) and get angry when they're fed in a pipe. Is there anything in your Java program that might cause it to expect a certain type of input stream?</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481147876, "post_id": 41028091, "comment_id": 69263676, "body": "I&#39;ve tried dir, and it&#39;s the good directory, even with absolute path it won&#39;t work...."}, {"owner": {"reputation": 1206, "user_id": 45679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa492aad65a8cf3202c55f64576fa23?s=128&d=identicon&r=PG", "display_name": "Gwyn Evans", "link": "https://stackoverflow.com/users/45679/gwyn-evans"}, "reply_to_user": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481149223, "post_id": 41028091, "comment_id": 69264297, "body": "Hmm, I really wish people who down vote would comment as to what they&#39;re objecting to.  I hope it wasn&#39;t the OP, as there are two things to try, and it&#39;s not clear if the validation of the java invocation has been attempted..."}, {"owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481149455, "post_id": 41028091, "comment_id": 69264379, "body": "I didn&#39;t down vote if it&#39;s what you were meaning ;) Every comment is helpful, even (more) if it&#39;s not successful, because it shows other way of thinking"}, {"owner": {"reputation": 1206, "user_id": 45679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa492aad65a8cf3202c55f64576fa23?s=128&d=identicon&r=PG", "display_name": "Gwyn Evans", "link": "https://stackoverflow.com/users/45679/gwyn-evans"}, "reply_to_user": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "edited": false, "score": 0, "creation_date": 1481149792, "post_id": 41028091, "comment_id": 69264531, "body": "I hoped so! As I said, I&#39;d try and check that java is running, maybe just the basic command with no jar file, then if ok, a helloworld.jar, etc.  If you can get to a stage where something works, it&#39;s easier to narrow down the bit that&#39;s going wrong than at present."}], "tags": [], "owner": {"reputation": 1206, "user_id": 45679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aa492aad65a8cf3202c55f64576fa23?s=128&d=identicon&r=PG", "display_name": "Gwyn Evans", "link": "https://stackoverflow.com/users/45679/gwyn-evans"}, "is_accepted": false, "score": -1, "last_activity_date": 1481147732, "creation_date": 1481147732, "answer_id": 41028091, "question_id": 41027819, "link": "https://stackoverflow.com/questions/41027819/python-jar-works-in-terminal-but-not-from-python/41028091#41028091", "title": "python - JAR works in terminal but not from python", "body": "<p>Try specifying the absolute path of the jar file, as it might be that your sub-process isn't running the directory you think it is.  </p>\n\n<p>Try running 'dir' and seeing where it returns, for instance.  Maybe check that 'java --V' (the version flag? not in a position to check at the moment) returns something indicating that Java ran, rather than an error.  Basically, try and get a simple thing running via Python, then extend it.</p>\n"}], "owner": {"reputation": 11, "user_id": 7264617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d959a232622e1c19273a6619ed0882?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy J", "link": "https://stackoverflow.com/users/7264617/jeremy-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1481187807, "creation_date": 1481146617, "last_edit_date": 1481187807, "question_id": 41027819, "link": "https://stackoverflow.com/questions/41027819/python-jar-works-in-terminal-but-not-from-python", "title": "python - JAR works in terminal but not from python", "body": "<p>I working on a python 3 script for doing some bench (school purpose). So I need to invoke my JAR.\nI use subprocess.check_output for that.</p>\n\n<pre><code> java_out = subprocess.check_output(\"java -jar my_jar.jar -p input_file\", shell=True)\n</code></pre>\n\n<p>In terminal it works fine, I get the expected output and exit code is 0.\nBut in python, I get this :</p>\n\n<pre><code>Syntax error. (One of my java exception, but it might not happen in this case)\nTraceback (most recent call last):\n\n\n File \"C:/Users/Jeremy/PycharmProjects/bench_bf/bench_script.py\", line 41, in &lt;module&gt;\n    main()\n  File \"C:/Users/Jeremy/PycharmProjects/bench_bf/bench_script.py\", line 32, in main\n    result_list.append(bench(bf_file, stats_file))\n  File \"C:/Users/Jeremy/PycharmProjects/bench_bf/bench_script.py\", line 10, in bench\n    java_out = subprocess.check_output(\"java -jar my_jar.jar -p input_file\", shell=True)\n  File \"C:\\Python34\\lib\\subprocess.py\", line 620, in check_output\n    raise CalledProcessError(retcode, process.args, output=output)\nsubprocess.CalledProcessError: Command 'java -jar my_jar.jar -p input_file' returned non-zero exit status 5\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>That does not make any sense to me. Can anyone help me ? Thanks !\nThe full code is following (I've also tried with absolute path) :)</p>\n\n<pre><code>import subprocess\nimport os\nimport re\n\nFILE_NAME = \"input_file\"\nJAR_NAME = \"my_jar.jar\"\nTEST_ITER = 5\n\ndef bench(bf_file, stats_file):\n    java_out = subprocess.check_output(\"java -jar \"+ JAR_NAME + \" -p \" + FILE_NAME, shell=True)\n    print(java_out)\n    m = re.search(\".*EXEC_TIME : (\\d*) ms.*EXEC_MOVE : (\\d*)\", java_out)\n    return [m.group(0), m.group(1)]\n\ndef init_stats(f):\n    f.write(\"Iterations; Exec time; exec move\")\n\ndef write_file(f):\n    f.write(\"+++\")\n\ndef main():\n\n    bf_file = open(FILE_NAME, \"w\", encoding=\"utf-8\")\n    stats_file = open(\"bench-result.csv\", \"w\")\n\n    write_file(bf_file)\n    init_stats(stats_file);\n\n    result_list = []\n    for i in range(0,TEST_ITER):\n        result_list.append(bench(bf_file, stats_file))\n    average_time = 0;\n    for res in result_list:\n        average_time += res[0]\n    average_time /= TEST_ITER;\n    stats_file.write(average_time + \";\" + result_list[0][1])\n\n\n\nmain()\n</code></pre>\n\n<p>EDIT: I also tried java_out = subprocess.check_output([\"java\", \"-jar\", \"my_jar.jar\", \"-p\", \"input_file\"], shell=True), it changes nothing.</p>\n\n<p>EDIT 2: Same result using absolute path or os.system</p>\n\n<p><strong>* SOLUTION *</strong>\nSince I open the file in write mode, my JAR can't open it, and consider it's empty... Thanks my mate DjNikita :)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481147699, "post_id": 41027815, "comment_id": 69263594, "body": "try in different folder or remove folder with <code>python27.dll</code> and <code>pythoncom27.dll</code>"}, {"owner": {"reputation": 1, "user_id": 7264624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181bddd562d76aae55dbd1546d666957?s=128&d=identicon&r=PG&f=1", "display_name": "user7264624", "link": "https://stackoverflow.com/users/7264624/user7264624"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481148095, "post_id": 41027815, "comment_id": 69263775, "body": "Both .dll files  are in C:\\program files(x86)\\durva\\inSync folder. I am afraid to delete the folder.  So I manually tried to delete python27.dll and pythoncom27.dll from the above folder and  message I get is \u2018the action cannot be completed as the file is open in inSync.exe\u2019"}], "owner": {"reputation": 1, "user_id": 7264624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181bddd562d76aae55dbd1546d666957?s=128&d=identicon&r=PG&f=1", "display_name": "user7264624", "link": "https://stackoverflow.com/users/7264624/user7264624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481146843, "creation_date": 1481146594, "last_edit_date": 1481146843, "question_id": 41027815, "link": "https://stackoverflow.com/questions/41027815/installing-python-3-5-2-importerror", "title": "Installing python 3.5.2 - importerror", "body": "<p>Installed Anaconda 4.2.0 (64-bit) for python 3.5.2 version. To check if everything was ok, at the command prompt I entered <code>conda \u2013version</code>. \nGot the 2 separate import messages:</p>\n\n<blockquote>\n  <p>Module use of python27.dll conflicts with this version of python<br>\n  Cannot import name \u2018quote\u2019</p>\n</blockquote>\n\n<p>We do have a python .exe program created in python 2.7 version and the folder with this program has python27.dll and pythoncom27.dll.</p>\n\n<p>What should I do ?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7264536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57414592b3fed839c3e8b7e1f07cef?s=128&d=identicon&r=PG&f=1", "display_name": "Lift0076", "link": "https://stackoverflow.com/users/7264536/lift0076"}, "edited": false, "score": 0, "creation_date": 1481204242, "post_id": 41037656, "comment_id": 69288875, "body": "Hi Kid Binary, your suggestion worked exactly as I need, my emails I send shows the attachments now. Such a simple over sight on my part thank and god bless you.."}], "tags": [], "owner": {"reputation": 2044, "user_id": 3222782, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b44566ff10a62fccd11c7e60b6a9c487?s=128&d=identicon&r=PG&f=1", "display_name": "Cleared", "link": "https://stackoverflow.com/users/3222782/cleared"}, "is_accepted": false, "score": 0, "last_activity_date": 1481194339, "creation_date": 1481194339, "answer_id": 41037656, "question_id": 41027787, "link": "https://stackoverflow.com/questions/41027787/how-do-i-get-email-attachments-html-txt-to-show-in-the-sent-email-using-pyt/41037656#41037656", "title": "How do I get email attachments (.html, .txt) to show in the sent email using Python script seen below?", "body": "<pre><code>os.getcwd()\n</code></pre>\n\n<p>gives you the current directory, for example <code>C:\\Projects\\EmailTest</code>\nSo</p>\n\n<pre><code>[os.getcwd()]\n</code></pre>\n\n<p>gives you a list, containing one string (<code>C:\\Projects\\EmailTest</code>)</p>\n\n<p>So the loop</p>\n\n<pre><code>for file in attachments:\n</code></pre>\n\n<p>is only executed once, where <code>file=C:\\Projects\\EmailTest</code>.</p>\n\n<p>And when you finally set in the inner loop, you use <code>file</code> from the outer loop: (which is <code>C:\\Projects\\EmailTest</code>)</p>\n\n<pre><code>filename=os.path.basename(file)\n</code></pre>\n\n<p>You simply extract the folder name from file, i.e. <code>EmailTest</code>. </p>\n\n<p>Im guessing you want the filename instead, stored in <code>emailfiles</code>, which in your case is <code>line</code> in the inner loop. And since it is already only the filanem, you can skip <code>os.path.basename</code>:</p>\n\n<pre><code>msg.add_header('Content-Disposition', 'attachment', filename=line)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7264536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c57414592b3fed839c3e8b7e1f07cef?s=128&d=identicon&r=PG&f=1", "display_name": "Lift0076", "link": "https://stackoverflow.com/users/7264536/lift0076"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481366505, "creation_date": 1481146439, "last_edit_date": 1481366505, "question_id": 41027787, "link": "https://stackoverflow.com/questions/41027787/how-do-i-get-email-attachments-html-txt-to-show-in-the-sent-email-using-pyt", "title": "How do I get email attachments (.html, .txt) to show in the sent email using Python script seen below?", "body": "<p>My email shows the attachments without displaying what they are. I have  one <code>.txt</code> and five <code>.html</code> I wish to be specified. Does any one have a suggestion to fix this? </p>\n\n<p>My code as follows:</p>\n\n<pre><code>import os\nimport smtplib\nfrom email import encoders\nfrom email.mime.base import MIMEBase\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\nCOMMASPACE = ', '\n\ndef email_main():\nsender = 'xxxxxx@gmail.com'\ngmail_password = 'xxxxxx123'\nrecipients = ['xxx@xxx.com', 'xxxyyy@yahoo.com']\n\n# Create the enclosing (outer) message\nouter = MIMEMultipart()\nouter['Subject'] = 'VECTOR CAST AUTOMATED TEST RESULTS'\nouter['To'] = COMMASPACE.join(recipients)\nouter['From'] = sender\nouter.preamble = 'You will not see this in a MIME-aware mail reader.\\n'\n\n# email message \nbody = MIMEText('Test results attached.', 'html', 'text')  \nouter.attach(body)  # add message body (text or html)\n\n# List of attachments to email\nemailfiles = ['VCAST Test Times.txt', \\\n         'AECP_MAIN_INTEGRATION_management_report.html', \\\n         'BECP_MAIN_INTEGRATION_management_report.html', \\\n         'SWITCH_BOARD_INTEGRATION_management_report.html', \\\n         'EVENT_MANAGER_INTEGRATION_management_report.html', \\\n         'EXTERNAL_ALARM_INTEGRATION_management_report.html']\n\n# get the path of the folder this lives in \nattachments = [os.getcwd()]\n\n# Add the attachments to the message\nfor file in attachments:\n    try:\n        for line in emailfiles:              \n            fp = open(line , 'rb')            \n            msg = MIMEBase('application', \"octet-stream\")\n            msg.set_payload(fp.read()) \n            encoders.encode_base64(msg)\n            msg.add_header('Content-Disposition', 'attachment', filename=os.path.basename(file))\n\n            \"\"\"\n            file_path = os.path.join(dir_path, f)\n            msg = MIMEApplication(open(file_path, \"r\").read(), _subtype=\"txt\")\n            msg.add_header('Content-Disposition','attachment', filename=f)\n            \"\"\"\n            outer.attach(msg)\n    except:\n        print(\"Unable to open one of the attachments. Error: \", sys.exc_info()[0])\n        raise\n\ncomposed = outer.as_string()\n\n# Send the email\nserver = smtplib.SMTP('smtp.gmail.com', 587)\nserver.ehlo()\nserver.starttls()\nserver.login(sender, gmail_password)\ntext = msg.as_string()\nserver.sendmail(sender, recipients, composed)\nserver.quit()   \n\nif __name__ == '__main__':\n    email_main()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1gfqE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1gfqE.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "forms", "sendgrid", "http-status-code-400"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 7178737, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EFVMxnHXn8Q/AAAAAAAAAAI/AAAAAAAAACo/wdVFBbFHYeo/photo.jpg?sz=128", "display_name": "Booshard16", "link": "https://stackoverflow.com/users/7178737/booshard16"}, "is_accepted": true, "score": 3, "last_activity_date": 1481577666, "creation_date": 1481577666, "answer_id": 41109790, "question_id": 41027786, "link": "https://stackoverflow.com/questions/41027786/django-sendgrid-form-http-error-400-bad-request/41109790#41109790", "title": "Django/Sendgrid Form HTTP Error 400: Bad Request", "body": "<p>Try using the reply_to kwarg instead of passing it in the headers.\nEx:</p>\n\n<pre><code>email = EmailMessage(\n    \"Contact Form\",\n    content,\n    \"contact@site.com\",\n    ['email@sample.com'],\n    reply_to=[contact_email],\n)\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.10/topics/email/#emailmessage-objects\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.10/topics/email/#emailmessage-objects</a></p>\n"}], "owner": {"reputation": 1001, "user_id": 6460943, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1fbd3ff196ae709d0d14cdffe4e00e36?s=128&d=identicon&r=PG&f=1", "display_name": "kbdev", "link": "https://stackoverflow.com/users/6460943/kbdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1293, "favorite_count": 0, "accepted_answer_id": 41109790, "answer_count": 1, "score": 2, "last_activity_date": 1481577666, "creation_date": 1481146439, "last_edit_date": 1481207460, "question_id": 41027786, "link": "https://stackoverflow.com/questions/41027786/django-sendgrid-form-http-error-400-bad-request", "title": "Django/Sendgrid Form HTTP Error 400: Bad Request", "body": "<p>I'm getting an <code>HTTPError: HTTP Error 400: Bad Request</code> error when I try to send my Django form using Sendgrid. I have confirmed that there is a Sendgrid key in the envvars. Here is my code:</p>\n\n<p><strong>settings.py</strong></p>\n\n<pre><code># sendgrid\nEMAIL_BACKEND = \"sgbackend.SendGridBackend\"\nSENDGRID_API_KEY = get_env_variable('SENDGRID_KEY')\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from __future__ import absolute_import, unicode_literals\n\nfrom django.conf import settings\nfrom django.conf.urls import include, url\nfrom django.contrib import admin\n\nfrom search import views as search_views\nfrom wagtail.wagtailadmin import urls as wagtailadmin_urls\nfrom wagtail.wagtailcore import urls as wagtail_urls\nfrom wagtail.wagtaildocs import urls as wagtaildocs_urls\n\nfrom wagtail.contrib.wagtailsitemaps.views import sitemap\n\nurlpatterns = [\n    url(r'^django-admin/', include(admin.site.urls)),\n\n    url(r'^admin/', include(wagtailadmin_urls)),\n    url(r'^documents/', include(wagtaildocs_urls)),\n\n    url(r'^search/$', search_views.search, name='search'),\n\n    url('^sitemap\\.xml$', sitemap),\n\n    url(r'', include(wagtail_urls)),\n]\n\n\nif settings.DEBUG:\n    from django.conf.urls.static import static\n    from django.contrib.staticfiles.urls import staticfiles_urlpatterns\n\n    # Serve static and media files from development server\n    urlpatterns += staticfiles_urlpatterns()\n    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n\n<p><strong>contact_form.html</strong></p>\n\n<pre><code>{% load static %}\n\n{% load app_tags %}\n\n&lt;div id=\"contact-form\"&gt;\n  &lt;p class=\"thank-you\" style='display:none;color:#ee9836;'&gt;Thank you for your message. We'll be in contact with you soon.&lt;/p&gt;\n  &lt;form role=\"form\" action=\"\" method=\"post\" class=\"form panel-body\"&gt;\n    {% csrf_token %}\n    {{ form }}\n    &lt;button class=\"btn btn-primary pull-right\" type=\"submit\"&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My form view is in a template tag:</p>\n\n<p><strong>app_tags.py</strong></p>\n\n<pre><code>from django import template\n\nfrom django.shortcuts import render, redirect\nfrom django.template.loader import get_template\nfrom django.core.mail import EmailMessage\nfrom django.template import Context\n\nfrom .forms import ContactForm\n\nregister = template.Library()\n\n# contact form for footer\n@register.inclusion_tag('contact_form.html')\ndef contact(request):\n   form = ContactForm\n\n   if request.method == 'POST':\n        contact_form = form(data=request.POST)\n\n        if contact_form.is_valid():\n            contact_name = request.POST.get('name', '')\n            contact_email = request.POST.get('email', '')\n            contact_message = request.POST.get('message', '')\n\n            # Email the profile with the\n            # contact information\n            template = get_template('contact_template.txt')\n            context = Context({\n                'contact_name': contact_name,\n                'contact_email': contact_email,\n                'contact_message': contact_message,\n            })\n            content = template.render(context)\n            print content\n            email = EmailMessage(\n                \"Contact Form\",\n                content,\n                \"contact@site.com\" +'',\n                ['email@sample.com'],\n                headers = {'Reply-To': contact_email }\n            )\n            email.send()\n   else:\n       contact_form = form()\n\n   return {'form': form}\n</code></pre>\n\n<p><strong>contact_template.txt</strong></p>\n\n<pre><code>Contact Name:\n{{ contact_name }}\n\nEmail:\n{{ contact_email }}\n\nMessage:\n{{ contact_message }}\n</code></pre>\n\n<p>Here's a bit of the traceback:</p>\n\n<pre><code>    return opener.open(request)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\", line 437, in open\n    response = meth(req, response)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\", line 550, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\", line 475, in error\n    return self._call_chain(*args)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\", line 409, in _call_chain\n    result = func(*args)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py\", line 558, in http_error_default\n    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nHTTPError: HTTP Error 400: Bad Request\n</code></pre>\n"}, {"tags": ["python", "primes", "goldbach-conjecture"], "answers": [{"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146850, "creation_date": 1481146850, "answer_id": 41027881, "question_id": 41027664, "link": "https://stackoverflow.com/questions/41027664/checking-goldbachs-conjecture-holds-up-to-n/41027881#41027881", "title": "Checking Goldbach&#39;s conjecture holds up to N", "body": "<p>This should do it:</p>\n\n<pre><code>import itertools\nimport math\n\ndef check(n, primes):\n    \"\"\"Check if Goldbach's conjecture holds for n, given a list of primes\"\"\"\n\n    for a,b in itertools.product((p for p in primes if p&lt;n), repeat=2):\n        if a+b == n: return True\n    return False\n\n\ndef checkAll(N):\n    \"\"\"Check whether Goldbach's conjecture holds for all even numbers &gt;2, &lt;=N\"\"\"\n\n    primes = getPrimes(N)\n    for n in range(4, N+1):\n        if not check(n, primes): return False\n    return True\n\n\ndef checkPrime(n, primes):\n    \"\"\"Check whether n is prime, given a list of prime numbers smaller than it\"\"\"\n    for p in primes:\n        if p &gt; math.ceil(n**0.5): return True\n        if not n%p: return False\n    return True\n\n\ndef getPrimes(N):\n    \"\"\"Get all prime numbers &lt;=N\"\"\"\n    answer = [2,3]\n    for n in range(5, N+1):\n        if check(n): answer.append(n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1481156502, "post_id": 41028048, "comment_id": 69267031, "body": "as you use it, there is no need for <code>evens</code> to be a list at all or to build it that way, a simple <code>list(range(...))</code> is sorter (or just range in py2), being a range object is more that enough and more memory friendly if you are in python 3 (xrange in py2)"}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1481217195, "post_id": 41028048, "comment_id": 69297853, "body": "a range object is NOT a generator, we usually use as such, but is not... you can iterate over the same range as many time as you like, and it implement the Sequence ABC, so you can do membership testing and get its elements by index, its size, and etc..."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1481221131, "post_id": 41028048, "comment_id": 69300043, "body": "@Copperfield You are right, I forgot. So, yes, you could just as well use <code>range</code> directly, without the list comprehension or without even converting it to a list."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1481149682, "last_edit_date": 1481149682, "creation_date": 1481147556, "answer_id": 41028048, "question_id": 41027664, "link": "https://stackoverflow.com/questions/41027664/checking-goldbachs-conjecture-holds-up-to-n/41028048#41028048", "title": "Checking Goldbach&#39;s conjecture holds up to N", "body": "<p>Instead of looping over all the even numbers, and for each checking whether there is a combination of two primes that sums to that number, you can do the inverse: Collect all the sums of two primes in a set (fast lookup in O(1)) and for each even number check whether it is in that set.</p>\n\n<pre><code>&gt;&gt;&gt; N = 1000\n&gt;&gt;&gt; primes = [p for p in range(N+1) if not any(p % q == 0 for q in range(2, p//2))]\n&gt;&gt;&gt; evens = [n for n in range(4, N+1, 2)]\n&gt;&gt;&gt; sums = set(p + q for p in primes for q in primes)\n&gt;&gt;&gt; all(n in sums for n in evens)\nTrue\n</code></pre>\n\n<p>Of course, <code>primes</code> can be implemented more efficiently using the sieve, but that's not really relevant here. Given <code>primes</code>, checking the numbers would have complexity of O(P^2 + N), with P being the number of primes smaller than N. </p>\n\n<p>Alternatively, if you do not want to calculate and store the sums for all the P^2 combinations of two primes, you could turn the primes into a set and for each even number <code>n</code>, find a prime <code>p</code> such that <code>n - p</code> is also in <code>primes</code>. This would have complexity O(N * P), but needs less space</p>\n\n<pre><code>&gt;&gt;&gt; primes = set(primes)\n&gt;&gt;&gt; all(any(n - p in primes for p in primes) for n in evens)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7183900, "user_type": "registered", "profile_image": "https://graph.facebook.com/583616595/picture?type=large", "display_name": "Denis Mclaughlin", "link": "https://stackoverflow.com/users/7183900/denis-mclaughlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1487368370, "creation_date": 1481146003, "last_edit_date": 1487368370, "question_id": 41027664, "link": "https://stackoverflow.com/questions/41027664/checking-goldbachs-conjecture-holds-up-to-n", "title": "Checking Goldbach&#39;s conjecture holds up to N", "body": "<p>I've been asked to write a piece of code that checks that Goldbach's conjecture holds for every even number up to N, so far I have the following:</p>\n\n<pre><code>def gb(n):\n    #give a list of all primes less than n using the sieve of Eratosthenes (not considering 1 to be prime like Goldbach):\n    primes=list(range(2,n+1))\n\n    for i in primes:\n\n        j=2\n\n        while i*j&lt;=primes[-1]:\n            if i*j in primes :\n                primes.remove(i*j)\n                j=j+1\n\n    #give a list of even numbers less than n but starting from 4\n    evens=list(range(4,n+1,2))\n</code></pre>\n\n<p>I then need to check if all the numbers in evens can be made as the sum of two numbers in primes. I'm confused at this point, I know that I need to use loops but I'm not sure as to how to check if all of them fit the conjecture?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "edited": false, "score": 0, "creation_date": 1481146410, "post_id": 41027656, "comment_id": 69262951, "body": "Are the values after &quot;Explicit Route:&quot; always IP addresses separated by spaces?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481146410, "post_id": 41027656, "comment_id": 69262952, "body": "can&#39;t you use standard string functions like <code>split()</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5776720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b900e294200fc0ee42ec6f26b72337?s=128&d=identicon&r=PG&f=1", "display_name": "kaceymusgraves", "link": "https://stackoverflow.com/users/5776720/kaceymusgraves"}, "edited": false, "score": 0, "creation_date": 1481295002, "post_id": 41027821, "comment_id": 69332968, "body": "<code>ips = re.findall(r&#39;\\d+\\.\\d+\\.\\d+\\.\\d{1,3}&#39;, s[s.find(&#39;Explicit Route&#39;):s.find(&#39;Record   Route&#39;)]) </code>     Had to add the quantifier after the digit for the last octet. Other than that this worked perfectly!!!! Thank you!"}], "tags": [], "owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "is_accepted": true, "score": 1, "last_activity_date": 1481296702, "last_edit_date": 1481296702, "creation_date": 1481146623, "answer_id": 41027821, "question_id": 41027656, "link": "https://stackoverflow.com/questions/41027656/regex-to-find-consecutive-ip-addresses/41027821#41027821", "title": "Regex to find consecutive IP Addresses", "body": "<p>Use regex and string operations:</p>\n\n<pre><code>import re\ns = '''My Address: 10.10.10.1\n  Explicit Route: 192.168.238.90 192.168.252.209 192.168.252.241 192.168.192.209\n                  192.168.192.223\n  Record   Route:'''\nips = re.findall(r'\\d+\\.\\d+\\.\\d+\\.\\d+', s[s.find('Explicit Route'):s.find('Record   Route')])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 1, "creation_date": 1533648503, "post_id": 51727633, "comment_id": 90416444, "body": "While this may answer the question, it is usually better to provide some explanation so that others will get the most out of your answer in the future."}], "tags": [], "owner": {"reputation": 177, "user_id": 4214996, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5668b29c7cf878ab5c343ce588362ca3?s=128&d=identicon&r=PG&f=1", "display_name": "gizq", "link": "https://stackoverflow.com/users/4214996/gizq"}, "is_accepted": false, "score": 0, "last_activity_date": 1533651229, "last_edit_date": 1533651229, "creation_date": 1533647370, "answer_id": 51727633, "question_id": 41027656, "link": "https://stackoverflow.com/questions/41027656/regex-to-find-consecutive-ip-addresses/51727633#51727633", "title": "Regex to find consecutive IP Addresses", "body": "<pre><code>import re\n\nwith open('file.txt', 'r') as file:\n    f = file.read().splitlines()\n    for line in f:\n        found = re.findall(r'(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})', line)\n        for f in found:\n            print(f)\n</code></pre>\n\n<p>Edit:</p>\n\n<p>We open the txt and read by line, then for each line using regular exp. to find the ips ( can have 1-3 numbers, then . and repeat 4 times)</p>\n"}], "owner": {"reputation": 47, "user_id": 5776720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6b900e294200fc0ee42ec6f26b72337?s=128&d=identicon&r=PG&f=1", "display_name": "kaceymusgraves", "link": "https://stackoverflow.com/users/5776720/kaceymusgraves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 41027821, "answer_count": 2, "score": 0, "last_activity_date": 1533651229, "creation_date": 1481145982, "last_edit_date": 1481151175, "question_id": 41027656, "link": "https://stackoverflow.com/questions/41027656/regex-to-find-consecutive-ip-addresses", "title": "Regex to find consecutive IP Addresses", "body": "<p>I finally have to throw in the towel after working with this for quite some time today. I am trying to retrieve all the IP addresses from a output that looks like this: </p>\n\n<pre><code>My Address: 10.10.10.1\n  Explicit Route: 192.168.238.90 192.168.252.209 192.168.252.241 192.168.192.209\n                  192.168.192.223\n  Record   Route:\n</code></pre>\n\n<p>I need to pull all the IP addresses between from 'Explicit Route' and 'Record  Route'. I am using textfsm and I seem not to be able to get everything I need. </p>\n"}, {"tags": ["python", "django", "python-2.7", "django-rest-framework"], "owner": {"reputation": 31711, "user_id": 634576, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/48891dab622b535f3c2b4ec1c8765bed?s=128&d=identicon&r=PG", "display_name": "Dave Schweisguth", "link": "https://stackoverflow.com/users/634576/dave-schweisguth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1481808282, "creation_date": 1481145947, "last_edit_date": 1481808282, "question_id": 41027647, "link": "https://stackoverflow.com/questions/41027647/how-can-i-safely-look-at-the-request-body-in-a-django-rest-framework-authenticat", "title": "How can I safely look at the request body in a Django REST framework Authentication?", "body": "<p>I've implemented a webhook. The caller provides a shared secret. They concatenate the request URL and body, sign it with the secret, and provide the signature in a header. To validate the signature, I need to repeat the process and compare the signature that I get to the one that the caller got.</p>\n\n<p>I'm using Django REST framework. I'm checking the signature in a custom <code>Authentication</code>. The framework calls the <code>Authentication</code>'s <code>authenticate</code> method with the request as a parameter. I can get the request body from <code>request.stream.read()</code>. However, that consumes the stream, which prevents the framework from parsing it for me: when the framework calls the view the request has no <code>data</code> attribute as it normally would.</p>\n\n<p><code>request.stream</code> doesn't allow me to <code>seek(0)</code>. The request doesn't allow me to replace the stream with a rewound one such as a <code>StringIO</code>. My current workaround is to store the body in <code>request.auth</code> and parse it myself in the view, which works but is ugly.</p>\n\n<p>Is there a way to access the request body safely in an <code>Authentication</code>?</p>\n\n<p>Here's the version that works:</p>\n\n<p>In <code>myapp/authentications.py</code>:</p>\n\n<pre><code>import hmac\nfrom hashlib import sha1\nfrom rest_framework.authentication import BaseAuthentication\nfrom rest_framework.exceptions import AuthenticationFailed\n\nclass WebhookAuthentication(BaseAuthentication):\n    def authenticate(self, request):\n        actual_signature = request.META['X-Vendor-Signature']\n        body, expected_signature = self.expected_signature(request)\n        if actual_signature != expected_signature:\n            raise AuthenticationFailed(\"Request X-Vendor-Signature did not match expected signature\")\n        return None, body  # Hack: preserve the body in request.auth\n\n    def expected_signature(self, request):\n        body = request.stream.read()\n        raw = request.build_absolute_uri(request.META['PATH_INFO']) + body\n        signature = hmac.new(\"the shared secret\", raw, sha1).digest().encode(\"base64\")\n        return body, signature\n</code></pre>\n\n<p>In <code>myapp/views.py</code>:</p>\n\n<pre><code>import json\nfrom rest_framework.views import APIView    \nfrom serializers import SomeSerializer\nfrom myapp.authentications import WebhookAuthentication\n\nclass SomeView(APIView):\n    authentication_classes = (WebhookAuthentication,)\n    permission_classes = ()\n\n    def post(self, request, _=None):\n        data = json.loads(request.auth)  # Hack: get the body from where we stashed it\n        serializer = SomeSerializer(data=data)  # I'd like to be able to use request.data here\n        # Use the serializer ...\n</code></pre>\n\n<p>How can I do better than the hack?</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1481155611, "last_edit_date": 1495535401, "creation_date": 1481155611, "answer_id": 41029586, "question_id": 41027490, "link": "https://stackoverflow.com/questions/41027490/tkinter-frames-classes/41029586#41029586", "title": "Tkinter Frames - Classes", "body": "<p>What you are doing is probably fine. I say \"probably\" because it depends on many factors which you haven't explained in your question.</p>\n\n<p>The tutorial you referenced came from a <a href=\"https://stackoverflow.com/a/7557028/7432\">stackoverflow answer</a> that was explicitly addressing how to switch between two frames. It's not necessarily a recommended way to code, it's simply one of many ways.</p>\n\n<p>That being said, if you have distinct pages then you might find it easier to manage your code if each page was a self-contained object. Doing so gives each page its own namespace, so you don't have to worry that one page is accidentally modifying the data that belongs to some other page. Plus, for larger projects it allows you to implement each page in a separate file so you don't end up with one huge file full of code.</p>\n\n<p>Since not all GUIs are oriented around the concept of pages, this technique isn't a one-size-fits-all solution. It's OK to make each page a class, it's also OK to create each page via a function. The choice depends on many variables, such as your comfort with working with classes, the size of your project, the type of UI you're creating, and so on.</p>\n"}], "owner": {"reputation": 112, "user_id": 6758110, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ae26b262121d923f52d20f3dccbe337b?s=128&d=identicon&r=PG&f=1", "display_name": "Ash Pereira", "link": "https://stackoverflow.com/users/6758110/ash-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481155611, "creation_date": 1481145260, "question_id": 41027490, "link": "https://stackoverflow.com/questions/41027490/tkinter-frames-classes", "title": "Tkinter Frames - Classes", "body": "<p>So I'm using tkinter to make a GUI and at the moment I have several different frames. The way I programmed it is by just using one massive class but everywhere I look online (like here - <a href=\"https://pythonprogramming.net/change-show-new-frame-tkinter/\" rel=\"nofollow noreferrer\">https://pythonprogramming.net/change-show-new-frame-tkinter/</a>), people are using a new class for every single \"page\". Is what I am doing wrong/not efficient or is it fine?</p>\n\n<p>Unfortunately I cannot show my code as it's for a CA but the below is similar:</p>\n\n<pre><code>class App(tk.Frame):\n    def __init__(self):\n         tk.Frame.__init(self)\n         self.PageOne()\n\n    def PageOne(self):\n         coding stuff\n\n    def PageTwo(self):\n         pass\n</code></pre>\n"}, {"tags": ["python", "bash", "shell", "sh", "executable"], "comments": [{"owner": {"reputation": 3013, "user_id": 3545745, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/1hd2s.jpg?s=128&g=1", "display_name": "nick_gabpe", "link": "https://stackoverflow.com/users/3545745/nick-gabpe"}, "edited": false, "score": 0, "creation_date": 1481145403, "post_id": 41027393, "comment_id": 69262452, "body": "Can you clarify what you want?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1481145455, "post_id": 41027393, "comment_id": 69262486, "body": "You are shadowing builtin <code>file</code> (for <i>Python</i> 3.4 (probably <i>Python3</i> altogether) it&#39;s OK, but I see that it&#39;s not the case here). Consider renaming it. What does the <i>abc</i> executable actually do when you execute it from cmdline? You&#39;ll have to be more specific."}, {"owner": {"reputation": 81, "user_id": 6420198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29c07e800675fa4bc08d88ef49e65c?s=128&d=identicon&r=PG&f=1", "display_name": "Pika", "link": "https://stackoverflow.com/users/6420198/pika"}, "edited": false, "score": 0, "creation_date": 1481149515, "post_id": 41027393, "comment_id": 69264403, "body": "Sorry for the vague description but all the answers bellow were correct. I just wanted to capture the terminal output of a program and write command to it."}], "answers": [{"tags": [], "owner": {"reputation": 787, "user_id": 7224142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63eb4c2b31a647580ff5bdc5fb78fb83?s=128&d=identicon&r=PG&f=1", "display_name": "morsecodist", "link": "https://stackoverflow.com/users/7224142/morsecodist"}, "is_accepted": false, "score": 1, "last_activity_date": 1481145875, "last_edit_date": 1481145875, "creation_date": 1481145470, "answer_id": 41027547, "question_id": 41027393, "link": "https://stackoverflow.com/questions/41027393/run-a-python-script-inside-a-running-program/41027547#41027547", "title": "Run a python script inside a running program", "body": "<p>I have done something similar using <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess</a>.</p>\n\n<pre><code>import subprocess\n\ncmd = './command_to_execute'\npro = subprocess.Popen(cmd, stdout=subprocess.PIPE, shell=True)\nresult = pro.stdout.read()\n</code></pre>\n\n<p>This will execute the command specified by <code>cmd</code>, then reads the result into <code>result</code>. It will wait for there to be a result printed to the console before executing anything after the result assignment. I believe this might be what you want though your description was a bit vague. </p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6420198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29c07e800675fa4bc08d88ef49e65c?s=128&d=identicon&r=PG&f=1", "display_name": "Pika", "link": "https://stackoverflow.com/users/6420198/pika"}, "edited": false, "score": 0, "creation_date": 1481149604, "post_id": 41027709, "comment_id": 69264447, "body": "Thanks for your answer. I am am implementing what you wrote for the first part. However when I try your second suggestion I get <code>ValueError: Cannot send input after starting communication</code>. I basically just implemented what you had in the first suggestion and did subprocess.Popen in the beginning of every for loop iteration and then took the terminal output and I parse that to get the stats."}, {"owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "reply_to_user": {"reputation": 81, "user_id": 6420198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29c07e800675fa4bc08d88ef49e65c?s=128&d=identicon&r=PG&f=1", "display_name": "Pika", "link": "https://stackoverflow.com/users/6420198/pika"}, "edited": false, "score": 0, "creation_date": 1481150323, "post_id": 41027709, "comment_id": 69264762, "body": "@Pika Sorry, I didn&#39;t realise that <code>Popen.communicate</code> is a one-time thing. If you can run the executable multiple times, my current edit will work. If not, use the <code>pexpect</code> answer if on Unix."}, {"owner": {"reputation": 81, "user_id": 6420198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29c07e800675fa4bc08d88ef49e65c?s=128&d=identicon&r=PG&f=1", "display_name": "Pika", "link": "https://stackoverflow.com/users/6420198/pika"}, "edited": false, "score": 0, "creation_date": 1481150939, "post_id": 41027709, "comment_id": 69265017, "body": "That&#39;s okay. Thanks a lot! I just do that parsing after I write the terminal output to a file and I just run the executable multiple times."}], "tags": [], "owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150252, "last_edit_date": 1495541631, "creation_date": 1481146163, "answer_id": 41027709, "question_id": 41027393, "link": "https://stackoverflow.com/questions/41027393/run-a-python-script-inside-a-running-program/41027709#41027709", "title": "Run a python script inside a running program", "body": "<p>If you want to pipe commands into the input of an executable, the easiest way would be to use the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> module. You can input into the stdin of the executable and get its output with <a href=\"https://docs.python.org/2/library/subprocess.html?highlight=subprocess#subprocess.Popen.communicate\" rel=\"nofollow noreferrer\"><code>Popen.communicate</code></a>.</p>\n\n<pre><code>import subprocess\n\nfor f in os.listdir('ccts/'):\n    p = subprocess.Popen('./abc', stdin=subprocess.PIPE,\n                         stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    stdout, stderr = p.communicate('read_blif ' + f + '\\n'\n                                   'resyn2\\n'\n                                   'print_stats\\n'\n                                   'if -K 6\\n'\n                                   'print_stats\\n'\n                                   'write_blif ' + f.split('.')[0] + 'mapped.blif\\n')\n    # stdout will be what the program outputs and stderr will be any errors it outputs.\n</code></pre>\n\n<p>This will, however, close <code>stdin</code> of the subprocess everytime, but is the only way to reliable communicate without deadlocking. According to <a href=\"https://stackoverflow.com/a/28616322/5754656\">https://stackoverflow.com/a/28616322/5754656</a>, you should use <code>pexpect</code> for an \"interactive session-like\" program. This is avoided here by having multiple subprocesses, assuming you can have different children run the program.</p>\n\n<p>I assume that you only need the <code>stdout</code>s of <code>print_stats</code>, so you can do (as an example, you might want to handle errors):</p>\n\n<pre><code>import subprocess\n\ndef helper_open(cmd='./abc'):\n    return subprocess.Popen(cmd, stdin=subprocess.PIPE,\n                            stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n\nfor f in in os.listdir('cts/'):\n    helper_open().communicate('read_blif' + f + '\\n'\n                              'resyn2\\n')\n    stats, _ = helper_open().communicate('print_stats\\n')\n    # Do stuff with stats\n    stats, _ = helper_open().communicate('if -K 6\\nprint_stats\\n')\n    # Do more stuff with other stats\n    helper_open().communicate('write_blif ' + f.split('.')[0] + 'mapped.blif\\n')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1773, "user_id": 4311994, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5f9585cbd9c412ded82a616bb288bc49?s=128&d=identicon&r=PG&f=1", "display_name": "Matei", "link": "https://stackoverflow.com/users/4311994/matei"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146381, "creation_date": 1481146381, "answer_id": 41027771, "question_id": 41027393, "link": "https://stackoverflow.com/questions/41027393/run-a-python-script-inside-a-running-program/41027771#41027771", "title": "Run a python script inside a running program", "body": "<p>You need to spawn a new process using <code>subprocess</code> library and make two pipes one for <code>stdin</code> and one for <code>stdout</code>. Using this pipes ( that are represented in python as files) you can communicate with your process\nHere is an example:</p>\n\n<pre><code> import subprocess\n\ncmd = './full/path/to/your/abc/executable'\npro = subprocess.Popen(cmd, stdout=subprocess.PIPE, \n                       stdin=subprocess.PIPE)\n\npro.stdin.write(\"read_blif alu.blif \\n\")\npro.stdout.read(3)\n</code></pre>\n\n<p>You can use <code>pro.communicate</code> but I assume you need to take the output for every command you input. something like:</p>\n\n<pre><code>abc &gt; command1\nouput1\nabc &gt; command2\noutput2 -part1\noutput2 -part2\noutput2 -part3\n</code></pre>\n\n<p>In this way I think the <code>PIPE</code> approach is more useful. </p>\n\n<p>Use the <code>dir</code> function in python to find more info about the <code>pro</code> object and what methods and attributes are available <code>dir(proc)</code>. Don't forget the <code>help</code> built in that will display the docstrings <code>help(pro)</code> or <code>help(pro.stdin)</code>.</p>\n\n<p>You are making a mistake when you run <code>os.system</code> this will run you program in the background an you won't have control over it. Maybe you would like to look into what input/output stream.\nMore reading can be done <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "is_accepted": false, "score": 1, "last_activity_date": 1481147877, "creation_date": 1481147877, "answer_id": 41028121, "question_id": 41027393, "link": "https://stackoverflow.com/questions/41027393/run-a-python-script-inside-a-running-program/41028121#41028121", "title": "Run a python script inside a running program", "body": "<p>You may be looking for the pexpect module. Here is the basic example from pexpect's documentation</p>\n\n<pre><code># This connects to the openbsd ftp site and\n# downloads the recursive directory listing.\nimport pexpect\nchild = pexpect.spawn('ftp ftp.openbsd.org')\nchild.expect('Name .*: ')\nchild.sendline('anonymous')\nchild.expect('Password:')\nchild.sendline('noah@example.com')\nchild.expect('ftp&gt; ')\nchild.sendline('lcd /tmp')\n</code></pre>\n\n<p>I think it will work the same way with abc >, if your OS is compatible with pexpect.</p>\n"}], "owner": {"reputation": 81, "user_id": 6420198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd29c07e800675fa4bc08d88ef49e65c?s=128&d=identicon&r=PG&f=1", "display_name": "Pika", "link": "https://stackoverflow.com/users/6420198/pika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1481150252, "creation_date": 1481144898, "question_id": 41027393, "link": "https://stackoverflow.com/questions/41027393/run-a-python-script-inside-a-running-program", "title": "Run a python script inside a running program", "body": "<p>I am running a python script that launches a executable called ./abc This executable enters inside of a program and waits for a command like so:</p>\n\n<pre><code>$./abc\nabc &gt;                      \\\\waits for a command here.\n</code></pre>\n\n<p>What I would like to do is to enter a couple of commands like:</p>\n\n<pre><code>$./abc\nabc &gt; read_blif alu.blif\nabc &gt; resyn2\n</code></pre>\n\n<p>What I have so far is as follows:</p>\n\n<pre><code>import os\nfrom array import *\n\nos.system('./abc')\nfor file in os.listdir(\"ccts/\"):\n    print 'read_blif ' + file + '\\n'\n    print 'resyn2\\n'\n    print 'print_stats\\n'\n    print 'if -K 6\\n'\n    print 'print_stats\\n'\n    print 'write_blif ' + file.split('.')[0] + 'mapped.blif\\n'\n</code></pre>\n\n<p>This however will do the following:</p>\n\n<pre><code>abc &gt;                 \\\\stays idle and waits until I ^C and then it prints\nread ...blif\nresyn2\n...\n</code></pre>\n\n<p>It prints just to the terminal. How do I make it execute this inside the program and wait until it sees the next abc > to run the next command.\nThanks</p>\n"}, {"tags": ["python", "function", "logging"], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "is_accepted": false, "score": 3, "last_activity_date": 1481145240, "last_edit_date": 1481145240, "creation_date": 1481144734, "answer_id": 41027357, "question_id": 41027344, "link": "https://stackoverflow.com/questions/41027344/how-to-log-something/41027357#41027357", "title": "How to log something", "body": "<p>You are currently printing in your <code>do_something</code> function. You should use the <code>return</code> statement to make the result accessible to the <code>write</code> method:</p>\n\n<pre><code>def do_something():\n    return \"test\"\n\nf = open('logtest','w')\nf.write(do_something())\nf.close()\n</code></pre>\n\n<p>Instead of using a combination of <code>open</code> and <code>close</code>, the better way would be to use the context manager implemented in <code>open</code>, the file will automatically be closed at the end of the <code>with</code> block:</p>\n\n<pre><code>with open('logtest','w') as f:\n    f.write(do_something())\n</code></pre>\n\n<p>You can still <code>print</code> inside your function if you really want to:</p>\n\n<pre><code>def do_something():\n    string = \"test\"\n\n    print(string)\n\n    return string\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "is_accepted": false, "score": 2, "last_activity_date": 1481144789, "creation_date": 1481144789, "answer_id": 41027370, "question_id": 41027344, "link": "https://stackoverflow.com/questions/41027344/how-to-log-something/41027370#41027370", "title": "How to log something", "body": "<p>write <code>return \"test\"</code> instead of <code>print \"test\"</code>.\nthe <code>print</code> function just outputs the text, while you want it returned and written to the file.</p>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 6553617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6I5Cj.jpg?s=128&g=1", "display_name": "Tim Givois", "link": "https://stackoverflow.com/users/6553617/tim-givois"}, "is_accepted": false, "score": 4, "last_activity_date": 1481145221, "creation_date": 1481145221, "answer_id": 41027484, "question_id": 41027344, "link": "https://stackoverflow.com/questions/41027344/how-to-log-something/41027484#41027484", "title": "How to log something", "body": "<p>A better way of implementing this is with the logging module in Python. <a href=\"https://docs.python.org/2.6/library/logging.html\" rel=\"nofollow noreferrer\">link</a></p>\n\n<pre><code>import logging\nLOG_FILENAME = 'example.log'\nlogging.basicConfig(filename=LOG_FILENAME,level=logging.INFO)\n\nlogging.info('This message should go to the log file')\n</code></pre>\n\n<p>In your particular case you can do:</p>\n\n<pre><code>import logging\n\ndef do_something():\n    logging.info(\"test\")\n\nLOG_FILENAME = 'logtest'\nlogging.basicConfig(filename=LOG_FILENAME,level=logging.INFO)\ndo_something()\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 6361540, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f353596d150e7a1945eb6aa76481eae3?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6361540/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1481145240, "creation_date": 1481144679, "last_edit_date": 1481144811, "question_id": 41027344, "link": "https://stackoverflow.com/questions/41027344/how-to-log-something", "title": "How to log something", "body": "<p>I am trying to log my code into a textfile. What I tried:</p>\n\n<pre><code>def do_something():\n    print \"test\"\n\nf = open('logtest','w')\nf.write(do_something())\nf.close()\n</code></pre>\n\n<p>So I want to save e.g. the \"test\" so that you can open the text file and read only \"test\". How do I do this?</p>\n"}, {"tags": ["python", "apache-spark", "dataframe", "pyspark", "apache-spark-sql"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3004162, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/1385028297/picture?type=large", "display_name": "Cesare Iurlaro", "link": "https://stackoverflow.com/users/3004162/cesare-iurlaro"}, "edited": false, "score": 0, "creation_date": 1583942840, "post_id": 41027619, "comment_id": 107284215, "body": "How can the solution for Spark &gt;= 2.4 actually work? The documentation says that explode input &quot;should be array or map type, not string&quot;, literaly quoting the exception it raises otherwise.  <a href=\"https://spark.apache.org/docs/latest/api/python/pyspark.sql.html?highlight=explode#pyspark.sql.functions.explode\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/api/python/&hellip;</a>"}, {"owner": {"reputation": 6140, "user_id": 488505, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6b117484e3b1865d4c9ba1f88e4c73ec?s=128&d=identicon&r=PG", "display_name": "Chris_vr", "link": "https://stackoverflow.com/users/488505/chris-vr"}, "edited": false, "score": 0, "creation_date": 1589184868, "post_id": 41027619, "comment_id": 109181450, "body": "how do you handle uneven size list in different column..and requirement is to replace the  value as -1 for shorter size list.now it is is showing as null."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 81, "last_activity_date": 1593632221, "last_edit_date": 1593632221, "creation_date": 1481145820, "answer_id": 41027619, "question_id": 41027315, "link": "https://stackoverflow.com/questions/41027315/pyspark-split-multiple-array-columns-into-rows/41027619#41027619", "title": "Pyspark: Split multiple array columns into rows", "body": "<p><strong>Spark &gt;= 2.4</strong></p>\n<p>You can replace <code>zip_</code> <code>udf</code> with <code>arrays_zip</code> function</p>\n<pre><code>from pyspark.sql.functions import arrays_zip, col, explode\n\n(df\n    .withColumn(&quot;tmp&quot;, arrays_zip(&quot;b&quot;, &quot;c&quot;))\n    .withColumn(&quot;tmp&quot;, explode(&quot;tmp&quot;))\n    .select(&quot;a&quot;, col(&quot;tmp.b&quot;), col(&quot;tmp.c&quot;), &quot;d&quot;))\n</code></pre>\n<p><strong>Spark &lt; 2.4</strong></p>\n<p>With <code>DataFrames</code> and UDF:</p>\n<pre><code>from pyspark.sql.types import ArrayType, StructType, StructField, IntegerType\nfrom pyspark.sql.functions import col, udf, explode\n\nzip_ = udf(\n  lambda x, y: list(zip(x, y)),\n  ArrayType(StructType([\n      # Adjust types to reflect data types\n      StructField(&quot;first&quot;, IntegerType()),\n      StructField(&quot;second&quot;, IntegerType())\n  ]))\n)\n\n(df\n    .withColumn(&quot;tmp&quot;, zip_(&quot;b&quot;, &quot;c&quot;))\n    # UDF output cannot be directly passed to explode\n    .withColumn(&quot;tmp&quot;, explode(&quot;tmp&quot;))\n    .select(&quot;a&quot;, col(&quot;tmp.first&quot;).alias(&quot;b&quot;), col(&quot;tmp.second&quot;).alias(&quot;c&quot;), &quot;d&quot;))\n</code></pre>\n<p>With <code>RDDs</code>:</p>\n<pre><code>(df\n    .rdd\n    .flatMap(lambda row: [(row.a, b, c, row.d) for b, c in zip(row.b, row.c)])\n    .toDF([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]))\n</code></pre>\n<p>Both solutions are inefficient due to Python communication overhead. If data size is fixed you can do something like this:</p>\n<pre><code>from functools import reduce\nfrom pyspark.sql import DataFrame\n\n# Length of array\nn = 3\n\n# For legacy Python you'll need a separate function\n# in place of method accessor \nreduce(\n    DataFrame.unionAll, \n    (df.select(&quot;a&quot;, col(&quot;b&quot;).getItem(i), col(&quot;c&quot;).getItem(i), &quot;d&quot;)\n        for i in range(n))\n).toDF(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)\n</code></pre>\n<p>or even:</p>\n<pre><code>from pyspark.sql.functions import array, struct\n\n# SQL level zip of arrays of known size\n# followed by explode\ntmp = explode(array(*[\n    struct(col(&quot;b&quot;).getItem(i).alias(&quot;b&quot;), col(&quot;c&quot;).getItem(i).alias(&quot;c&quot;))\n    for i in range(n)\n]))\n\n(df\n    .withColumn(&quot;tmp&quot;, tmp)\n    .select(&quot;a&quot;, col(&quot;tmp&quot;).getItem(&quot;b&quot;), col(&quot;tmp&quot;).getItem(&quot;c&quot;), &quot;d&quot;))\n</code></pre>\n<p>This should be significantly faster compared to UDF or RDD. Generalized to support an arbitrary number of columns:</p>\n<pre><code># This uses keyword only arguments\n# If you use legacy Python you'll have to change signature\n# Body of the function can stay the same\ndef zip_and_explode(*colnames, n):\n    return explode(array(*[\n        struct(*[col(c).getItem(i).alias(c) for c in colnames])\n        for i in range(n)\n    ]))\n\ndf.withColumn(&quot;tmp&quot;, zip_and_explode(&quot;b&quot;, &quot;c&quot;, n=3))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 736, "user_id": 8291933, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tHJFR-Ksq-E/AAAAAAAAAAI/AAAAAAAAACM/rG6Z14JnxpA/photo.jpg?sz=128", "display_name": "Dugini Vijay", "link": "https://stackoverflow.com/users/8291933/dugini-vijay"}, "edited": false, "score": 0, "creation_date": 1534266874, "post_id": 41027633, "comment_id": 90646556, "body": "if the first df has 3 values and second df has 2 values, our zip happens to be returning two pairs instead of 3. Could you advice on it."}, {"owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "reply_to_user": {"reputation": 736, "user_id": 8291933, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tHJFR-Ksq-E/AAAAAAAAAAI/AAAAAAAAACM/rG6Z14JnxpA/photo.jpg?sz=128", "display_name": "Dugini Vijay", "link": "https://stackoverflow.com/users/8291933/dugini-vijay"}, "edited": false, "score": 0, "creation_date": 1534274120, "post_id": 41027633, "comment_id": 90650010, "body": "Zip pairs together the first element of an obj with the 1st element of another object, 2nd with 2nd, etc until one of the objects runs out of elements. In your case, after 2 values. Said another way, it will pair up elements until there are no more items to pair. To give any suggestions, I&#39;d need to know how you want your program to deal with the un-paired element (eg do you want a null from the 2nd set?). Also, there is only 1 df in this example. If your question is that different from this one, it&#39;s probably better to just ask another question"}, {"owner": {"reputation": 736, "user_id": 8291933, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tHJFR-Ksq-E/AAAAAAAAAAI/AAAAAAAAACM/rG6Z14JnxpA/photo.jpg?sz=128", "display_name": "Dugini Vijay", "link": "https://stackoverflow.com/users/8291933/dugini-vijay"}, "edited": false, "score": 1, "creation_date": 1534357064, "post_id": 41027633, "comment_id": 90680652, "body": "Thanks @David for your reply. I figured it out. Using Izip helped over to solve this issue. But still I appreciate your response mate."}], "tags": [], "owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "is_accepted": false, "score": 11, "last_activity_date": 1481145873, "creation_date": 1481145873, "answer_id": 41027633, "question_id": 41027315, "link": "https://stackoverflow.com/questions/41027315/pyspark-split-multiple-array-columns-into-rows/41027633#41027633", "title": "Pyspark: Split multiple array columns into rows", "body": "<p>You'd need to use <code>flatMap</code>, not <code>map</code> as you want to make multiple output rows out of each input row.</p>\n\n<pre><code>from pyspark.sql import Row\ndef dualExplode(r):\n    rowDict = r.asDict()\n    bList = rowDict.pop('b')\n    cList = rowDict.pop('c')\n    for b,c in zip(bList, cList):\n        newDict = dict(rowDict)\n        newDict['b'] = b\n        newDict['c'] = c\n        yield Row(**newDict)\n\ndf_split = sqlContext.createDataFrame(df.rdd.flatMap(dualExplode))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22854, "user_id": 2142994, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1bad25bebfae0b3f4bfd13b07f5d4f3b?s=128&d=identicon&r=PG", "display_name": "Ani Menon", "link": "https://stackoverflow.com/users/2142994/ani-menon"}, "is_accepted": false, "score": 1, "last_activity_date": 1590472031, "creation_date": 1590472031, "answer_id": 62015435, "question_id": 41027315, "link": "https://stackoverflow.com/questions/41027315/pyspark-split-multiple-array-columns-into-rows/62015435#62015435", "title": "Pyspark: Split multiple array columns into rows", "body": "<h2>One liner (for <em>Spark>=2.4.0</em>):</h2>\n\n<pre><code>df.withColumn(\"bc\", arrays_zip(\"b\",\"c\"))\n  .select(\"a\", explode(\"bc\").alias(\"tbc\"))\n  .select(\"a\", col\"tbc.b\", \"tbc.c\").show()\n</code></pre>\n\n<h3>Import required:</h3>\n\n<p><code>from pyspark.sql.functions import arrays_zip</code></p>\n\n<hr>\n\n<h2>Steps -</h2>\n\n<ol>\n<li>Create a column bc which is an <code>array_zip</code> of columns <code>b</code> and <code>c</code></li>\n<li>Explode <code>bc</code> to get a struct <code>tbc</code></li>\n<li>Select the required columns <code>a</code>, <code>b</code> and <code>c</code> (all exploded as required).</li>\n</ol>\n\n<h2>Output:</h2>\n\n<pre><code>&gt; df.withColumn(\"bc\", arrays_zip(\"b\",\"c\")).select(\"a\", explode(\"bc\").alias(\"tbc\")).select(\"a\", \"tbc.b\", col(\"tbc.c\")).show()\n+---+---+---+\n|  a|  b|  c|\n+---+---+---+\n|  1|  1|  7|\n|  1|  2|  8|\n|  1|  3|  9|\n+---+---+---+\n</code></pre>\n"}], "owner": {"reputation": 1871, "user_id": 1994092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bcfae6f41e66a312db1f469370baaded?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1994092/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48918, "favorite_count": 40, "accepted_answer_id": 41027619, "answer_count": 3, "score": 67, "last_activity_date": 1593632221, "creation_date": 1481144554, "last_edit_date": 1546840451, "question_id": 41027315, "link": "https://stackoverflow.com/questions/41027315/pyspark-split-multiple-array-columns-into-rows", "title": "Pyspark: Split multiple array columns into rows", "body": "<p>I have a dataframe which has one row, and several columns. Some of the columns are single values, and others are lists. All list columns are the same length.  I want to split each list column into a separate row, while keeping any non-list column as is.</p>\n\n<p>Sample DF:</p>\n\n<pre><code>from pyspark import Row\nfrom pyspark.sql import SQLContext\nfrom pyspark.sql.functions import explode\n\nsqlc = SQLContext(sc)\n\ndf = sqlc.createDataFrame([Row(a=1, b=[1,2,3],c=[7,8,9], d='foo')])\n# +---+---------+---------+---+\n# |  a|        b|        c|  d|\n# +---+---------+---------+---+\n# |  1|[1, 2, 3]|[7, 8, 9]|foo|\n# +---+---------+---------+---+\n</code></pre>\n\n<p>What I want:</p>\n\n<pre><code>+---+---+----+------+\n|  a|  b|  c |    d |\n+---+---+----+------+\n|  1|  1|  7 |  foo |\n|  1|  2|  8 |  foo |\n|  1|  3|  9 |  foo |\n+---+---+----+------+\n</code></pre>\n\n<p>If I only had one list column, this would be easy by just doing an <code>explode</code>:</p>\n\n<pre><code>df_exploded = df.withColumn('b', explode('b'))\n# &gt;&gt;&gt; df_exploded.show()\n# +---+---+---------+---+\n# |  a|  b|        c|  d|\n# +---+---+---------+---+\n# |  1|  1|[7, 8, 9]|foo|\n# |  1|  2|[7, 8, 9]|foo|\n# |  1|  3|[7, 8, 9]|foo|\n# +---+---+---------+---+\n</code></pre>\n\n<p>However, if I try to also <code>explode</code> the <code>c</code> column, I end up with a dataframe with a length the square of what I want:</p>\n\n<pre><code>df_exploded_again = df_exploded.withColumn('c', explode('c'))\n# &gt;&gt;&gt; df_exploded_again.show()\n# +---+---+---+---+\n# |  a|  b|  c|  d|\n# +---+---+---+---+\n# |  1|  1|  7|foo|\n# |  1|  1|  8|foo|\n# |  1|  1|  9|foo|\n# |  1|  2|  7|foo|\n# |  1|  2|  8|foo|\n# |  1|  2|  9|foo|\n# |  1|  3|  7|foo|\n# |  1|  3|  8|foo|\n# |  1|  3|  9|foo|\n# +---+---+---+---+\n</code></pre>\n\n<p>What I want is - for each column, take the nth element of the array in that column and add that to a new row. I've tried mapping an explode accross all columns in the dataframe, but that doesn't seem to work either:</p>\n\n<pre><code>df_split = df.rdd.map(lambda col: df.withColumn(col, explode(col))).toDF()\n</code></pre>\n"}, {"tags": ["python", "sql", "sql-server", "pandas"], "comments": [{"owner": {"reputation": 919, "user_id": 6454042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbc2485e6e7874b6cf3766ad3ebaa318?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/6454042/michael"}, "edited": false, "score": 0, "creation_date": 1481144649, "post_id": 41027259, "comment_id": 69262037, "body": "Have you tried <a href=\"http://pandas.pydata.org/pandas-docs/stable/reshaping.html\" rel=\"nofollow noreferrer\">pivot</a> in pandas?"}, {"owner": {"reputation": 2995, "user_id": 1742188, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/df7cb616eb3851d9c3e53d8c6d18c5fe?s=128&d=identicon&r=PG", "display_name": "user1742188", "link": "https://stackoverflow.com/users/1742188/user1742188"}, "reply_to_user": {"reputation": 919, "user_id": 6454042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbc2485e6e7874b6cf3766ad3ebaa318?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/6454042/michael"}, "edited": false, "score": 0, "creation_date": 1481144772, "post_id": 41027259, "comment_id": 69262111, "body": "pivot simply drops the non-numeric columns like description, which is unacceptable in this case."}, {"owner": {"reputation": 925, "user_id": 4701228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a51e05717e2b8a78ae0876d705757d41?s=128&d=identicon&r=PG&f=1", "display_name": "semore_1267", "link": "https://stackoverflow.com/users/4701228/semore-1267"}, "edited": false, "score": 1, "creation_date": 1481147483, "post_id": 41027259, "comment_id": 69263488, "body": "what about pandas&#39; <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.unstack.html\" rel=\"nofollow noreferrer\"><code>unstack()</code></a> ?"}, {"owner": {"reputation": 2995, "user_id": 1742188, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/df7cb616eb3851d9c3e53d8c6d18c5fe?s=128&d=identicon&r=PG", "display_name": "user1742188", "link": "https://stackoverflow.com/users/1742188/user1742188"}, "edited": false, "score": 0, "creation_date": 1481223917, "post_id": 41027259, "comment_id": 69301439, "body": "I am trying unstack() now. It doesn&#39;t appear to drop columns, so that is good."}], "owner": {"reputation": 2995, "user_id": 1742188, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/df7cb616eb3851d9c3e53d8c6d18c5fe?s=128&d=identicon&r=PG", "display_name": "user1742188", "link": "https://stackoverflow.com/users/1742188/user1742188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481144371, "creation_date": 1481144371, "question_id": 41027259, "link": "https://stackoverflow.com/questions/41027259/pivot-or-transpose-in-sql-or-pandas", "title": "Pivot or transpose in SQL or Pandas", "body": "<p>I have a table of the form:</p>\n\n<p><code>item_code | attribute | time_offset | mean | median | description | ...</code></p>\n\n<p>The attribute column has one of 40 possible values and the time_offset column can be an integer from 0 to 20.\nI want to transform this table to a wide one of the form:</p>\n\n<p><code>item_code | &lt;attribute1&gt;_&lt;time_offset1&gt;_mean | &lt;attribute1&gt;_&lt;time_offset1&gt;_median | &lt;attribute1&gt;_&lt;time_offset1&gt;_description | &lt;attribute1&gt;_&lt;time_offset1&gt;_... | &lt;attribute2&gt;...</code></p>\n\n<p>I can do this either in SQL or in Pandas but I'm having difficulty with the fact that some of the columns are not numeric, so it is hard to come up with an aggregation function for them.</p>\n\n<p>I can guarantee that each combination of item_code, attribute and time_offset will have only one row, so I do not need an aggregation function. Is there something like a <code>transpose</code> operation that will allow me to do what I am looking for?</p>\n"}, {"tags": ["python", "arrays", "range"], "comments": [{"owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "edited": false, "score": 2, "creation_date": 1481144461, "post_id": 41027226, "comment_id": 69261930, "body": "it does sound simple. What have you tried?"}], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "is_accepted": false, "score": 1, "last_activity_date": 1481147085, "last_edit_date": 1481147085, "creation_date": 1481144476, "answer_id": 41027292, "question_id": 41027226, "link": "https://stackoverflow.com/questions/41027226/python-array-segmented-in-ranges/41027292#41027292", "title": "Python array segmented in ranges", "body": "<p>You can do that in a very simple way using a combination of a for loop and range functions:</p>\n\n<pre><code>lists = ([], [], [])\n\nfor element in [1, 4, 7, 9, 2, 10, 5, 8]:\n    if element in range(0, 3):\n        lists[0].append(element)\n\n    elif element in range(3, 6):\n        lists[1].append(element)\n\n\n    elif element in range(6, 25):\n        lists[2].append(element)\n\n\n\narray1, array2, array3 = lists\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 51, "user_id": 7264508, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VKqj6.png?s=128&g=1", "display_name": "FMEZA", "link": "https://stackoverflow.com/users/7264508/fmeza"}, "edited": false, "score": 0, "creation_date": 1481147902, "post_id": 41027337, "comment_id": 69263688, "body": "good. Did your output lists needed to be issued in the same order? BTW <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 51, "user_id": 7264508, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VKqj6.png?s=128&g=1", "display_name": "FMEZA", "link": "https://stackoverflow.com/users/7264508/fmeza"}, "edited": false, "score": 0, "creation_date": 1481318852, "post_id": 41027337, "comment_id": 69345482, "body": "not necessarily, most important is to count the number of elements per range, again thanks for your help!"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 51, "user_id": 7264508, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VKqj6.png?s=128&g=1", "display_name": "FMEZA", "link": "https://stackoverflow.com/users/7264508/fmeza"}, "edited": false, "score": 0, "creation_date": 1481319050, "post_id": 41027337, "comment_id": 69345572, "body": "the yes, <code>bisect</code> is the way. Elegant and fast!"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1481145289, "last_edit_date": 1481145289, "creation_date": 1481144647, "answer_id": 41027337, "question_id": 41027226, "link": "https://stackoverflow.com/questions/41027226/python-array-segmented-in-ranges/41027337#41027337", "title": "Python array segmented in ranges", "body": "<ul>\n<li>First, define your \"pole\" numbers</li>\n<li>Second, generate your intervals from those \"pole\" numbers</li>\n<li>Third, define as many lists as there are intervals.</li>\n<li>Then for each interval, scan the list and appends items in the relevant list if they belong to the interval</li>\n</ul>\n\n<p>code:</p>\n\n<pre><code>source = [1, 4, 7, 9, 2, 10, 5, 8]\n\npoles = (0,3,6,25)\nintervals = [(poles[i],poles[i+1]) for i in range(len(poles)-1)]\n\n# will generate: intervals = [(0,3),(3,6),(6,25)]\n\noutput = [list() for _ in range(len(intervals))]\n\nfor out,(start,stop) in zip(output,intervals):\n    for s in source:\n        if start &lt;= s &lt;stop:\n            out.append(s)\n\nprint(output)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[[1, 2], [4, 5], [7, 9, 10, 8]]\n</code></pre>\n\n<p>This solution has the advantage of being adaptable to more than 3 lists/intervals by adding more \"pole\" numbers.</p>\n\n<p>EDIT: There's a nice &amp; fast solution (<code>O(log(N)*N)</code>) if the output lists order don't matter:</p>\n\n<ul>\n<li>first sort the input list</li>\n<li>then generate the sliced sub-lists using <code>bisect</code> which returns insertion position of the provided numbers (left &amp; right)</li>\n</ul>\n\n<p>like this:</p>\n\n<pre><code>import bisect\n\nsource = sorted([1, 4, 7, 9, 2, 10, 5, 8])\n\npoles = (0,3,6,25)\n\noutput = [source[bisect.bisect_left(source,poles[i]):bisect.bisect_right(source,poles[i+1])] for i in range(len(poles)-1)]\n\nprint(output)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[[1, 2], [4, 5], [7, 8, 9, 10]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 0, "last_activity_date": 1481144901, "creation_date": 1481144901, "answer_id": 41027396, "question_id": 41027226, "link": "https://stackoverflow.com/questions/41027226/python-array-segmented-in-ranges/41027396#41027396", "title": "Python array segmented in ranges", "body": "<p><em>\"One-line\"</em> solution using <code>set.intersection(*others)</code> and <code>range(start, stop[, step])</code> functions:</p>\n\n<pre><code>l = [1, 4, 7, 9, 2, 10, 5, 8]\nl1, l2, l3 = (list(set(l).intersection(range(3))), list(set(l).intersection(range(3,6))), list(set(l).intersection(range(6,25))))\n\nprint(l1)\nprint(l2)\nprint(l3)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>[1, 2]\n[4, 5]\n[8, 9, 10, 7]\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/library/stdtypes.html?highlight=intersection#set.intersection\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/stdtypes.html?highlight=intersection#set.intersection</a></p>\n"}], "owner": {"reputation": 51, "user_id": 7264508, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VKqj6.png?s=128&g=1", "display_name": "FMEZA", "link": "https://stackoverflow.com/users/7264508/fmeza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1082, "favorite_count": 0, "accepted_answer_id": 41027337, "answer_count": 3, "score": -2, "last_activity_date": 1481147085, "creation_date": 1481144226, "last_edit_date": 1481145120, "question_id": 41027226, "link": "https://stackoverflow.com/questions/41027226/python-array-segmented-in-ranges", "title": "Python array segmented in ranges", "body": "<p>I have the following array <code>[1, 4, 7, 9, 2, 10, 5, 8]</code> and I need to separate the array in 3 different arrays: one for values between 0 and 3, anther for 3 to 6 and anther for 6 and 25.The result must be something like that:</p>\n\n<pre><code>array1 = [1, 2]\narray2 = [4, 5]\narray3 = [7, 9, 10, 8]\n</code></pre>\n\n<p>Any idea about how to do it simple?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "is_accepted": true, "score": 3, "last_activity_date": 1481144380, "creation_date": 1481144380, "answer_id": 41027263, "question_id": 41027221, "link": "https://stackoverflow.com/questions/41027221/convert-datetime-string-where-month-is-written-with-3-digits/41027263#41027263", "title": "Convert datetime string where month is written with 3 digits", "body": "<p>Just change the date format.</p>\n\n<pre><code>pd.to_datetime('2004 006 01 00 01 37 600', format='%Y 0%m %d %H %M %S %f')\n# returns: Timestamp('2004-06-01 00:01:37.600000')\n</code></pre>\n"}], "owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 41027263, "answer_count": 1, "score": 1, "last_activity_date": 1481144424, "creation_date": 1481144188, "last_edit_date": 1481144424, "question_id": 41027221, "link": "https://stackoverflow.com/questions/41027221/convert-datetime-string-where-month-is-written-with-3-digits", "title": "Convert datetime string where month is written with 3 digits", "body": "<p>I can read/convert datetime string like</p>\n\n<pre><code>2004 06 01 00 01 37 600\n</code></pre>\n\n<p>with</p>\n\n<pre><code>df = pd.read_fwf('test.dat', widths=[25])\ndates = pd.to_datetime(df.ix[:,0], format='%Y %m %d %H %M %S %f')\nprint dates\n</code></pre>\n\n<p>which prints</p>\n\n<pre><code>2004-06-01 00:01:37.600    \n</code></pre>\n\n<p>But data I have actually uses 3 digits to present the month, like:</p>\n\n<pre><code>2004 006 01 00 01 37 600\n</code></pre>\n\n<p>How do I read/convert that?</p>\n\n<p>There no mention for 3 digits month at <a href=\"http://strftime.org/\" rel=\"nofollow noreferrer\">http://strftime.org/</a>.</p>\n\n<p>I'm playing with data from <a href=\"http://www-ssc.igpp.ucla.edu/forms/polar/ascii_low.html\" rel=\"nofollow noreferrer\">http://www-ssc.igpp.ucla.edu/forms/polar/ascii_low.html</a> (god knows why they use 3 digits to represent month).</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 47, "user_id": 6933725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-SP5qQ1NaxSE/AAAAAAAAAAI/AAAAAAAAAK0/Id0Z0M-Ne00/photo.jpg?sz=128", "display_name": "nanny", "link": "https://stackoverflow.com/users/6933725/nanny"}, "edited": false, "score": 0, "creation_date": 1481222729, "post_id": 41027169, "comment_id": 69300880, "body": "If there is anything that is not clear in my question I will appreciate if you guys can comment instead of downgrading my question. I am new to stack flow and I don&#39;t understand the whole formatting deal!!!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7371339, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100895389369692/picture?type=large", "display_name": "Lindsay Richman", "link": "https://stackoverflow.com/users/7371339/lindsay-richman"}, "is_accepted": false, "score": 1, "last_activity_date": 1483478959, "last_edit_date": 1483478959, "creation_date": 1483478613, "answer_id": 41452580, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/41452580#41452580", "title": "Max value using idxmax", "body": "<p>Try this code after subbing in the correct (your) function and variable names. I'm new to Python, but I think the issue was that you had to use the same variable in Line 4 (df1['difference']), and just add the method (.idxmax()) to the end.  I don't think you need the first line of code for the function, either, as you don't use the local variable (Gold_Y). FYI - I don't think we're working with the same dataset.</p>\n\n<pre><code>def answer_three():\n    df1['difference'] = (df1['Gold']-df1['Gold.1']).abs()/df1['Gold.2']\n    return df1['difference'].idxmax()\n\nanswer_three()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 2940390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/88c44995b4564edcfcaccfe10e4caefe?s=128&d=identicon&r=PG&f=1", "display_name": "Randeep", "link": "https://stackoverflow.com/users/2940390/randeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1483510431, "creation_date": 1483510431, "answer_id": 41457294, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/41457294#41457294", "title": "Max value using idxmax", "body": "<pre><code>def answer_three():\n    _df = df[(df['Gold'] &gt; 0) &amp; (df['Gold.1'] &gt; 0)]\n    return ((_df['Gold'] - _df['Gold.1']) / _df['Gold.2']).argmax() answer_three()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 4790822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6f970933ad249d688390901e51bd16?s=128&d=identicon&r=PG&f=1", "display_name": "CVP", "link": "https://stackoverflow.com/users/4790822/cvp"}, "is_accepted": false, "score": 0, "last_activity_date": 1509122338, "last_edit_date": 1509122338, "creation_date": 1509120146, "answer_id": 46979179, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/46979179#46979179", "title": "Max value using idxmax", "body": "<p>This looks like a question from the programming assignment of courser course - \n \"Introduction to Data Science in Python\"</p>\n\n<p>Having said that if you are not cheating \"maybe\" the bug is here:</p>\n\n<pre><code>Gold_Y = df2[(df2['Gold'] &gt; 1) | (df2['Gold.1'] &gt; 1)]\n</code></pre>\n\n<p>You should use the <code>&amp;</code> operator. The <code>|</code> operator means you have countries that have won Gold in either the Summer or Winter olympics. </p>\n\n<p>You should not get a <code>NaN</code> in your diff gold.</p>\n"}, {"comments": [{"owner": {"reputation": 2447, "user_id": 6676466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aVqkA.jpg?s=128&g=1", "display_name": "Vishal Chhodwani", "link": "https://stackoverflow.com/users/6676466/vishal-chhodwani"}, "edited": false, "score": 1, "creation_date": 1527569502, "post_id": 50575992, "comment_id": 88162146, "body": "While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}], "tags": [], "owner": {"reputation": 844, "user_id": 3744523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFcOM.jpg?s=128&g=1", "display_name": "hemraj", "link": "https://stackoverflow.com/users/3744523/hemraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1527565241, "creation_date": 1527565241, "answer_id": 50575992, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/50575992#50575992", "title": "Max value using idxmax", "body": "<pre><code>def answer_three():\n     atleast_one_gold = df[(df['Gold']&gt;1) &amp; (df['Gold.1']&gt; 1)]\n     return ((atleast_one_gold['Gold'] - atleast_one_gold['Gold.1'])/atleast_one_gold['Gold.2']).idxmax()\n\nanswer_three()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 5163165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08efe8fb0512837bc11c4b4c86183e4a?s=128&d=identicon&r=PG&f=1", "display_name": "yogs", "link": "https://stackoverflow.com/users/5163165/yogs"}, "is_accepted": false, "score": 0, "last_activity_date": 1550615271, "creation_date": 1550615271, "answer_id": 54775908, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/54775908#54775908", "title": "Max value using idxmax", "body": "<pre><code>def answer_three():\n    diff=df['Gold']-df['Gold.1']\n    relativegold = diff.abs()/df['Gold.2']\n    df['relativegold']=relativegold\n    x = df[(df['Gold.1']&gt;0) &amp;(df['Gold']&gt;0) ]\n    return x['relativegold'].idxmax(axis=0)\n\nanswer_three()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13521821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b02bff8bef5bc2becae15918656dedc2?s=128&d=identicon&r=PG&f=1", "display_name": "Juju", "link": "https://stackoverflow.com/users/13521821/juju"}, "is_accepted": false, "score": 0, "last_activity_date": 1589242588, "creation_date": 1589242588, "answer_id": 61741611, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/61741611#61741611", "title": "Max value using idxmax", "body": "<p>I an pretty new to python or programming as a whole.\nSo my solution would be the most novice ever!\nI love to create variables; so you'll see a lot in the solution.</p>\n\n<pre><code>    def answer_three:\n      a = df.loc[df['Gold'] &gt; 0,'Gold']\n           #Boolean masking that only prints the value of Gold that matches the condition as stated in the question; in this case countries who had at least one Gold medal in the summer seasons olympics.\n\n      b = df.loc[df['Gold.1'] &gt; 0, 'Gold.1']\n           #Same comment as above but 'Gold.1' is Gold medals in the winter seasons \n\n      dif = abs(a-b)\n\n           #returns the abs value of the difference between a and b.\n\n      dif.dropna()\n\n           #drops all 'Nan' values in the column.\n\n      tots = a + b\n\n           #i only realised that this step wasn't essential because the data frame had already summed it up in the column 'Gold.2'\n\n      tots.dropna()\n\n      result = dif.dropna()/tots.dropna()\n\n      returns result.idxmax\n\n           # returns the index value of the max result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13713916, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K-aC_m53H30/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckPgjmOB2GpIuNHLYS1DsSI7fjyMw/photo.jpg?sz=128", "display_name": "Jay Mulani", "link": "https://stackoverflow.com/users/13713916/jay-mulani"}, "is_accepted": false, "score": 0, "last_activity_date": 1591716813, "creation_date": 1591716813, "answer_id": 62286243, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/62286243#62286243", "title": "Max value using idxmax", "body": "<pre><code>def answer_two():\n    df2=pd.Series.max(df['Gold']-df['Gold.1'])\n    df2=df[df['Gold']-df['Gold.1']==df2]\n\n    return df2.index[0]\nanswer_two()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2330, "user_id": 12708583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O9hXo.jpg?s=128&g=1", "display_name": "10 Rep", "link": "https://stackoverflow.com/users/12708583/10-rep"}, "edited": false, "score": 4, "creation_date": 1593560485, "post_id": 62667651, "comment_id": 110823289, "body": "While this may answer the question, it&#39;s generally helpful to give some context about the code."}, {"owner": {"reputation": 2495, "user_id": 429567, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6e20136c746757c9dfcfe5a726ff02de?s=128&d=identicon&r=PG", "display_name": "Nathan", "link": "https://stackoverflow.com/users/429567/nathan"}, "edited": false, "score": 0, "creation_date": 1593562527, "post_id": 62667651, "comment_id": 110823704, "body": "This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/26556223\">From Review</a>"}, {"owner": {"reputation": 2879, "user_id": 11082165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b73f08b7fb69386c5dc56497ff2ca58?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/11082165/brian"}, "edited": false, "score": 1, "creation_date": 1593566018, "post_id": 62667651, "comment_id": 110824352, "body": "Hello! While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/62667651/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}], "tags": [], "owner": {"reputation": 1, "user_id": 13843964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjpdThAY7msHzpdySd5T7giiAttla8ePCub0_C0RQ=k-s128", "display_name": "yajaira huerta", "link": "https://stackoverflow.com/users/13843964/yajaira-huerta"}, "is_accepted": false, "score": 0, "last_activity_date": 1593560411, "last_edit_date": 1593560411, "creation_date": 1593560382, "answer_id": 62667651, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax/62667651#62667651", "title": "Max value using idxmax", "body": "<pre><code>def answer_three():\n    return ((df[(df['Gold']&gt;0) &amp; (df['Gold.1']&gt;0 )]['Gold'] - df[(df['Gold']&gt;0) &amp; (df['Gold.1']&gt;0 )]['Gold.1'])/df[(df['Gold']&gt;0) &amp; (df['Gold.1']&gt;0 )]['Gold.2']).argmax()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6933725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-SP5qQ1NaxSE/AAAAAAAAAAI/AAAAAAAAAK0/Id0Z0M-Ne00/photo.jpg?sz=128", "display_name": "nanny", "link": "https://stackoverflow.com/users/6933725/nanny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3463, "favorite_count": 0, "answer_count": 8, "score": 0, "last_activity_date": 1593560411, "creation_date": 1481144027, "last_edit_date": 1592644375, "question_id": 41027169, "link": "https://stackoverflow.com/questions/41027169/max-value-using-idxmax", "title": "Max value using idxmax", "body": "<p>I am trying to calculate the biggest difference between  summer gold medal counts and winter gold medal counts relative to their total gold medal count. The problem is that I need to consider only countries that have won at least 1 gold medal in both summer and winter.</p>\n<blockquote>\n<p>Gold: Count of summer gold medals</p>\n<p>Gold.1: Count of winter gold medals</p>\n<p>Gold.2: Total Gold</p>\n</blockquote>\n<p>This a sample of my data:</p>\n<pre><code>            Gold    Gold.1  Gold.2  ID  diff gold %\nAfghanistan 0       0       0       AFG NaN\nAlgeria     5       0       5       ALG 1.000000\nArgentina   18      0       18      ARG 1.000000\nArmenia     1       0       1       ARM 1.000000\nAustralasia 3       0       3       ANZ 1.000000\nAustralia   139     5       144     AUS 0.930556\nAustria     18      59      77      AUT 0.532468\nAzerbaijan  6       0       6       AZE 1.000000\nBahamas     5       0       5       BAH 1.000000\nBahrain     0       0       0       BRN NaN\nBarbados    0       0       0       BAR NaN\nBelarus     12      6       18      BLR 0.333333\n</code></pre>\n<p>This is the code that I have but it is giving the wrong answer:</p>\n<pre><code>def answer():\n    Gold_Y = df2[(df2['Gold'] &gt; 1) | (df2['Gold.1'] &gt; 1)]\n    df2['difference'] = (df2['Gold']-df2['Gold.1']).abs()/df2['Gold.2']\n    return df2['diff gold %'].idxmax()\n   \nanswer()  \n</code></pre>\n"}, {"tags": ["python", "sockets", "stack", "overflow"], "comments": [{"owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "edited": false, "score": 0, "creation_date": 1481144045, "post_id": 41027158, "comment_id": 69261661, "body": "Could you paste the full error ?"}, {"owner": {"reputation": 1391, "user_id": 3826759, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7a732492ee414b03e4439b8ec50d38e?s=128&d=identicon&r=PG&f=1", "display_name": "double_j", "link": "https://stackoverflow.com/users/3826759/double-j"}, "edited": false, "score": 0, "creation_date": 1481144067, "post_id": 41027158, "comment_id": 69261679, "body": "Please post the stack trace"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1481144081, "post_id": 41027158, "comment_id": 69261690, "body": "What stack overflow? And are you really piping data received from a socket directly into Popen?"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1481144547, "post_id": 41027158, "comment_id": 69261976, "body": "Fix your indentation. What does that <code>else</code> match with?"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1481146697, "creation_date": 1481146697, "answer_id": 41027843, "question_id": 41027158, "link": "https://stackoverflow.com/questions/41027158/cant-recover-from-a-stack-overflow/41027843#41027843", "title": "Can&#39;t recover from a stack overflow", "body": "<p>This code is wrong:</p>\n\n<pre><code>def connect():\n    try:\n        s.connect((host,port))\n    except Exception as msg:\n        print(\"ERROR HAPPEND 2 \")\n        connect()\n    else:\n        Work()\n</code></pre>\n\n<p>If connection fails for some reason (refused, or even syntax error in the <code>try/except</code> block since you're not filtering the exception type), then you're printing the error message and try again by calling <em>recursively</em> your function.</p>\n\n<p>Since the socket error is very likely to happen again since you're retrying immediately the same operation without changing anything (starting the other program for instance!), you get a stack overflow very quickly.</p>\n\n<p>Fix, first step: let your connection crash with a proper error message</p>\n\n<pre><code>def connect():\n    s.connect((host,port))\n    Work()\n</code></pre>\n\n<p>Fix, second step: if you think that the connection can be established later, you can catch the exception, wait a while and retry, for example like this:</p>\n\n<pre><code>def connect():\n    while True:\n        try:\n            s.connect((host,port))\n            break  # connection OK, proceeed to Work\n        except ConnectionRefusedError as e:\n            print(\"{}, retry in 10s ...\".format(str(e)))\n            time.sleep(10)\n    Work()\n</code></pre>\n\n<p>In your case, just after the socket is closed, you create another thread that calls <code>connect</code>, and fails to do so, recursively, which explains the problem you're experiencing when disconnecting the other side.</p>\n"}], "owner": {"reputation": 23, "user_id": 6621052, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rx-E6mPcNKk/AAAAAAAAAAI/AAAAAAAAAEA/-vfGqRbFgU4/photo.jpg?sz=128", "display_name": "King Gamer", "link": "https://stackoverflow.com/users/6621052/king-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 41027843, "answer_count": 1, "score": 1, "last_activity_date": 1481148287, "creation_date": 1481143989, "last_edit_date": 1481148287, "question_id": 41027158, "link": "https://stackoverflow.com/questions/41027158/cant-recover-from-a-stack-overflow", "title": "Can&#39;t recover from a stack overflow", "body": "<p>This is a little script I made while learning Python, but for some reason it tells me the it can't recover from the stack over flow. This happens when the another server disconnect.</p>\n\n<p>The script:</p>\n\n<pre><code>#/user/bin/python\nimport os\nimport socket\nimport subprocess\nimport errno\nimport threading\ns = socket.socket()\nhost = '192.168.1.6'\nport = 9999\n\ndef connect():\n    try:\n        s.connect((host,port))\n    except Exception as msg:\n        print(\"ERROR HAPPEND 2 \")\n        connect()\n    else:\n        Work()\n\ndef Work():\n    while True:\n        data = s.recv(1024)\n        print(\"Data : \" + data.decode('utf-8'))\n        if data[:2].decode(\"utf-8\") == 'cd':\n            os.chdir(data[3:].decode('utf-8'))\n        if len(data) &gt;0:\n            cmd = subprocess.Popen(data[:].decode('utf-8'), shell=True,\n                                   stdout=subprocess.PIPE,\n                                   stderr=subprocess.PIPE,\n                                   stdin=subprocess.PIPE)\n            output_bytes = cmd.stdout.read() + cmd.stderr.read()\n            output_str = str(output_bytes , \"utf-8\")\n            s.send(str.encode(output_str + str(os.getcwd()) + '&gt; '))\n        else:\n            s.shutdown(socket.SHUT_RDWR)\n            s.close()\n            thread1 = threading.Thread(target = connect)\n            thread1.start()\n            break\n\nconnect()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy", "dataframe"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1481143921, "post_id": 41027102, "comment_id": 69261583, "body": "for python 3 need add <code>list</code> - <code>filtered = election_data[list(map(lambda x: (last_day - x).days &lt;= 5, election_data[&quot;Start Date&quot;]))]</code>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1481143981, "post_id": 41027102, "comment_id": 69261623, "body": "see better explanation  <a href=\"http://stackoverflow.com/q/1303347/2901002\">here</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1481151559, "post_id": 41027102, "comment_id": 69265280, "body": "That is not an error."}], "answers": [{"comments": [{"owner": {"reputation": 14106, "user_id": 1391671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f24419d9b9d95de452c5df62728fae28?s=128&d=identicon&r=PG", "display_name": "Igor Raush", "link": "https://stackoverflow.com/users/1391671/igor-raush"}, "edited": false, "score": 0, "creation_date": 1481150801, "post_id": 41028292, "comment_id": 69264964, "body": "<code>last_day-election_data[&quot;Start Date&quot;]&lt;=5</code> is not a valid comparison. The left side is a <code>Series</code> of <code>timedelta64[ns]</code> which cannot be compared against an integer."}, {"owner": {"reputation": 925, "user_id": 4701228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a51e05717e2b8a78ae0876d705757d41?s=128&d=identicon&r=PG&f=1", "display_name": "semore_1267", "link": "https://stackoverflow.com/users/4701228/semore-1267"}, "reply_to_user": {"reputation": 14106, "user_id": 1391671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f24419d9b9d95de452c5df62728fae28?s=128&d=identicon&r=PG", "display_name": "Igor Raush", "link": "https://stackoverflow.com/users/1391671/igor-raush"}, "edited": false, "score": 0, "creation_date": 1481151342, "post_id": 41028292, "comment_id": 69265198, "body": "Go note @IgorRaush. Totally forgot about the formatting of the dates. Updated the answer."}], "tags": [], "owner": {"reputation": 925, "user_id": 4701228, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a51e05717e2b8a78ae0876d705757d41?s=128&d=identicon&r=PG&f=1", "display_name": "semore_1267", "link": "https://stackoverflow.com/users/4701228/semore-1267"}, "is_accepted": false, "score": -1, "last_activity_date": 1481151172, "last_edit_date": 1481151172, "creation_date": 1481148604, "answer_id": 41028292, "question_id": 41027102, "link": "https://stackoverflow.com/questions/41027102/mapping-values-in-a-pandas-dataframe-column/41028292#41028292", "title": "Mapping Values in a pandas Dataframe column?", "body": "<p>If I understand your question correctly, you just want to filter your data where any <code>Start Date</code> value that is <code>&lt;=5</code> days away from the last day. This sounds like something pandas indexing could easily handle, using <code>.loc</code>. </p>\n\n<p>If you want an entirely new DataFrame object with the filtered data:</p>\n\n<pre><code>election_data # your frame\nlast_day = max(election_data[\"Start Date\"])\ndate = # Your date within 5 days of the last day\nnew_df = election_data.loc[(last_day-election_data[\"Start Date\"]&lt;=date)]\n</code></pre>\n\n<p>Or if you just want the <code>Start Date</code> column post-filtering:</p>\n\n<pre><code>last_day = max(election_data[\"Start Date\"])\ndate = # Your date within 5 days of the last day\nfiltered_dates = election_data.loc[(last_day-election_data[\"Start Date\"]&lt;=date), \"Start Date\"]\n</code></pre>\n\n<p>Note that your <code>date</code> variable needs to be your date in the format required by <code>Start Date</code> (possibly YYYYmmdd format?). If you don't know what this variable should be, then just <code>print(last_day)</code> then count 5 days back.</p>\n"}, {"tags": [], "owner": {"reputation": 14106, "user_id": 1391671, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f24419d9b9d95de452c5df62728fae28?s=128&d=identicon&r=PG", "display_name": "Igor Raush", "link": "https://stackoverflow.com/users/1391671/igor-raush"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150613, "creation_date": 1481150613, "answer_id": 41028710, "question_id": 41027102, "link": "https://stackoverflow.com/questions/41027102/mapping-values-in-a-pandas-dataframe-column/41028710#41028710", "title": "Mapping Values in a pandas Dataframe column?", "body": "<p>Your first attempt has it almost right. The issue is</p>\n\n<pre><code>(last_day - election_date['Start Date']).days\n</code></pre>\n\n<p>which should instead be</p>\n\n<pre><code>(last_day - election_date['Start Date']).dt.days\n</code></pre>\n\n<p><code>Series</code> objects do not have a <code>days</code> attribute, only <code>TimedeltaIndex</code> objects do. A fully working example is below.</p>\n\n<pre><code>data = pd.read_csv(url, parse_dates=['Start Date', 'End Date', 'Entry Date/Time (ET)'])\ndata.loc[(data['Start Date'].max() - data['Start Date']).dt.days &lt;= 5]\n</code></pre>\n\n<p>Note that I've used <code>Series.max</code> which is more performant than the built-in <code>max</code>. Also, <code>data.loc[mask]</code> is slightly faster than <code>data[mask]</code> since it is less-overloaded (has a more specialized use case).</p>\n"}], "owner": {"reputation": 165, "user_id": 3651036, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1339440239/picture?type=large", "display_name": "KatieRose1029", "link": "https://stackoverflow.com/users/3651036/katierose1029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1481151172, "creation_date": 1481143772, "question_id": 41027102, "link": "https://stackoverflow.com/questions/41027102/mapping-values-in-a-pandas-dataframe-column", "title": "Mapping Values in a pandas Dataframe column?", "body": "<p>I am trying to filter out some data and seem to be running into some errors. \nBelow this statement is a replica of the following code I have: </p>\n\n<pre><code> url = \"http://elections.huffingtonpost.com/pollster/2012-general-election-romney-vs-obama.csv\"\n source = requests.get(url).text\n s = StringIO(source)\n election_data = pd.DataFrame.from_csv(s, index_col=None).convert_objects(\n        convert_dates=\"coerce\", convert_numeric=True)\n election_data.head(n=3)\n last_day = max(election_data[\"Start Date\"])\n filtered = election_data[((last_day-election_data['Start Date']).days &lt;= 5)]\n</code></pre>\n\n<p>As you can see last_day is the max within the column election_data\nI would like to filter out the data in which the difference between \nthe max and x is less than or equal to 5 days\nI have tried using for - loops, and various combinations of list comprehension.</p>\n\n<pre><code> filtered = election_data[map(lambda x: (last_day - x).days &lt;= 5, election_data[\"Start Date\"]) ]\n</code></pre>\n\n<p>This line would normally work however, python3 gives me the following error: </p>\n\n<pre><code> &lt;map object at 0x10798a2b0&gt; \n</code></pre>\n"}, {"tags": ["python", "multiprocessing", "python-3.5", "freeze", "cx-freeze"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 2009018, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49e99427a0a2a6eb26a61c63b0803d94?s=128&d=identicon&r=PG", "display_name": "TheONP", "link": "https://stackoverflow.com/users/2009018/theonp"}, "edited": false, "score": 0, "creation_date": 1484279435, "post_id": 41061498, "comment_id": 70454948, "body": "For anyone that wants to follow this issue: <a href=\"https://bitbucket.org/anthony_tuininga/cx_freeze/issues/214/cx_freeze-keeps-looking-in-python-libs-not\" rel=\"nofollow noreferrer\">bitbucket.org/anthony_tuininga/cx_freeze/issues/214/&hellip;</a>"}], "tags": [], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "is_accepted": true, "score": 3, "last_activity_date": 1481289804, "creation_date": 1481289804, "answer_id": 41061498, "question_id": 41027027, "link": "https://stackoverflow.com/questions/41027027/cx-freeze-keeps-looking-in-python-libs-not-in-compiled-libs/41061498#41061498", "title": "cx_freeze keeps looking in python/libs, not in compiled libs", "body": "<p>It turns out that renaming <code>Process.pyc</code> to <code>process.pyc</code> solves the problem. Also another file with the same issue is from the QtGui library. The file <code>QtGUI.pyd</code> must be renamed to <code>QtGui.pyd</code>, and then everything works fine.</p>\n"}], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 41061498, "answer_count": 1, "score": 1, "last_activity_date": 1481289804, "creation_date": 1481143455, "last_edit_date": 1481143755, "question_id": 41027027, "link": "https://stackoverflow.com/questions/41027027/cx-freeze-keeps-looking-in-python-libs-not-in-compiled-libs", "title": "cx_freeze keeps looking in python/libs, not in compiled libs", "body": "<p>I <code>cx_freeze</code>d a Python program (moved from cx_freeze 4.3.4 to 5.0), and I have a problem that apparently cx_freeze keeps looking for the libs it needs in Python's (Anaconda's) directory, instead of looking for it in the directory of the executable it produced.</p>\n\n<p>The current error I'm getting is the following, as I'm using <code>multiprocessing</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n  File \"D:\\Anaconda3\\lib\\site-packages\\cx_Freeze\\initscripts\\__startup__.py\", line 12, in &lt;module&gt;\n    __import__(name + \"__init__\")\n  File \"D:\\Anaconda3\\lib\\site-packages\\cx_Freeze\\initscripts\\Console.py\", line 21, in &lt;module&gt;\n    scriptModule = __import__(moduleName)\n  File \"Main.py\", line 4, in &lt;module&gt;\n  File \"D:\\Anaconda3\\lib\\multiprocessing\\__init__.py\", line 16, in &lt;module&gt;\n    from . import context\n  File \"D:\\Anaconda3\\lib\\multiprocessing\\context.py\", line 5, in &lt;module&gt;\n    from . import process\nImportError: cannot import name 'process'\n</code></pre>\n\n<p>The directory you see up there is my Python installation!!!! Why is it looking there? Now in the frozen program, if I go to: <code>myFrozenProgram/multiprocessing/</code>, I find a file called <code>Process.pyc</code>!</p>\n\n<p>My setup script is the following. It's a little more complicated than usual because I add custom dlls from numpy because of a problem that happened in the past. Also the TCL part I added due to an error with tcl:</p>\n\n<pre><code>import sys\nimport os\nimport json\nimport glob\nfrom cx_Freeze import setup, Executable\nfrom GUI.Meta import *\nimport os\n\nPythonPath = os.path.split(sys.executable)[0] #get python path\n\nos.environ['TCL_LIBRARY'] = os.path.join(PythonPath,\"tcl\",\"tcl8.6\")\nos.environ['TK_LIBRARY']  = os.path.join(PythonPath,\"tcl\",\"tk8.6\")\n\nmkl_files_json_file = glob.glob(os.path.join(PythonPath, \"conda-meta\",\"mkl-[!service]*.json\"))[0] #json files that has mkl files list (exclude the \"service\" file)\nwith open(mkl_files_json_file) as file:\n    mkl_files_json_data = json.load(file)\n\nnumpy_mkl_dlls = mkl_files_json_data[\"files\"] #get the list of files from the json data file\n\nnp_dlls_fullpath = list(map(lambda currPath: os.path.join(PythonPath,currPath),numpy_mkl_dlls)) #get the full path of these files\n\n\n\nincludefiles = [(\"GUI/icon.png\",\"GUI/icon.png\") + np_dlls_fullpath\ntarget = Executable(\"Main.py\",\n                    #base = \"Win32GUI\",\n                    icon = \"GUI/icon.ico\",\n                    targetName=\"MyProg.exe\")\n\nsetup(\n    name = \"My program\",\n    version = SOFTWARE_VERSION,\n    description = \"Program\",\n    options = {'build_exe': {'include_files':includefiles, 'includes': [\"sip\",\"re\",\"atexit\",\"PyQt5.QtCore\",\"PyQt5.QtGUI\",\"PyQt5.QtWidgets\",\"multiprocessing\"]}},\n    executables = [target])\n</code></pre>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 5, "creation_date": 1481143629, "post_id": 41027022, "comment_id": 69261409, "body": "Try <i>one</i> <code>while</code> loop with an <code>if</code> for each of your options."}], "answers": [{"comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1481143772, "post_id": 41027072, "comment_id": 69261477, "body": "also instead of just code dumpping maybe explain yourself on what you did, and what OP did wrong ?"}, {"owner": {"reputation": 1, "user_id": 7264447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6f68acc5a58660fd8f0f2fb385cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "jjjdada", "link": "https://stackoverflow.com/users/7264447/jjjdada"}, "edited": false, "score": 0, "creation_date": 1481144574, "post_id": 41027072, "comment_id": 69261997, "body": "Thank you! This helps a lot !"}], "tags": [], "owner": {"reputation": 2070, "user_id": 5350498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f7bd60c45abf3767672c1b00a04bb48?s=128&d=identicon&r=PG", "display_name": "Pierre Barre", "link": "https://stackoverflow.com/users/5350498/pierre-barre"}, "is_accepted": false, "score": -1, "last_activity_date": 1481143843, "last_edit_date": 1481143843, "creation_date": 1481143624, "answer_id": 41027072, "question_id": 41027022, "link": "https://stackoverflow.com/questions/41027022/simple-while-loop-in-python/41027072#41027072", "title": "Simple while loop in Python", "body": "<p>You could use an infinite loop while putting the <code>user_input</code> at the top of the loop. Then, you just have to use if conditions. You are currently using one loop per parameter. This is not going to work since you can't get out that loop to process an other choice.</p>\n\n<pre><code>while True:\n    print(\"Welcome to the CS110 Supermarket!\")\n    print(\"1. Potatoes ($0.75 per potato\")\n    print(\"2. Tomatoes ($1.25 per tomato\")\n    print(\"3. Apples ($0.5 per apple\")\n    print(\"4. Mangoes ($1.75 per mango\")\n    print(\"5. Checkout\")\n\n    user_choice = int(input())\n    if user_choice==1:\n        potatoes=int(input(\"How many potatoes?\"))\n        total=total+potatoes*0.75\n\n    elif user_choice==2:\n        tomatoes=int(input(\"How many tomatoes?\"))\n        total=total+tomatoes*1.25\n\n    elif user_choice==3:\n        apples=int(input(\"How many apples?\"))\n        total=total+apples*0.5\n\n\n    elif  user_choice==4:\n        mangoes=int(input(\"How many mangoes?\"))\n        total=total+mangoes*1.75\n\n\n    if user_choice==5:\n        print(\"The total cost is $\",total)\n        pay=float(input(\"please enter an amount to pay for the fruits and vegetables: \"))\n        while pay&lt;total:\n            pay=float(input(\"please enter an amount more than payment: \"))\n        change=pay-total\n        print(\"your change will be $\",change)\n        d5 = change // 5\n        d1 = (change % 5) // 1\n        quarter = ((change % 5) % 1) // 0.25\n        dime = (((change % 5) % 1) % 0.25) // 0.1\n        nickel = ((((change % 5) % 1) % 0.25) % 0.1) // 0.05\n        penny = (((((change % 5) % 1) % 0.25) % 0.1) % 0.05) // 0.01\n        print(\"Give the customer\", d5, \"$5 note,\", d1, \"$1 note,\", quarter, \"quarter,\", dime, \"dime,\", nickel,\"nickel,\", penny, \"penny.\")\n        break\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3591, "user_id": 4107956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/LjlBF.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/4107956/will"}, "is_accepted": false, "score": 2, "last_activity_date": 1481143786, "creation_date": 1481143786, "answer_id": 41027108, "question_id": 41027022, "link": "https://stackoverflow.com/questions/41027022/simple-while-loop-in-python/41027108#41027108", "title": "Simple while loop in Python", "body": "<p>You're using more <code>while</code>s than you need.  rather than a <code>while</code> for each option, use only one loop, and several <code>if</code>s for options:</p>\n\n<pre><code>while True:\n  user_choice=int(input())\n  if user_choice == 1:\n    ...\n  if user_choice == 2:\n    ...\n  ...\n  if user_choice == 5:\n    break # exit the loop with break\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7264447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6f68acc5a58660fd8f0f2fb385cbe6?s=128&d=identicon&r=PG&f=1", "display_name": "jjjdada", "link": "https://stackoverflow.com/users/7264447/jjjdada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481148635, "creation_date": 1481143442, "last_edit_date": 1481148635, "question_id": 41027022, "link": "https://stackoverflow.com/questions/41027022/simple-while-loop-in-python", "title": "Simple while loop in Python", "body": "<p>I am making a supermarket interface, and my program works fine if I run without going back. However, if userchoice = 2, I can't go back to userchoice = 1. I can only go to 2 or the options after it. I think there could be something wrong with my <code>while</code> loop.</p>\n\n<pre><code>apples = 0\nmangoes = 0\nprint(\"Welcome to the CS110 Supermarket!\")\nprint(\"1. Potatoes ($0.75 per potato\")\nprint(\"2. Tomatoes ($1.25 per tomato\")\nprint(\"3. Apples ($0.5 per apple\")\nprint(\"4. Mangoes ($1.75 per mango\")\nprint(\"5. Checkout\")\nuser_choice = int(input())\ntotal = total + potatoes*0.75 + tomatoes*1.25 + apples*0.5 + mangoes*1.75\nwhile user_choice == 1:\n    potatoes = int(input(\"How many potatoes?\"))\n    total = total + potatoes*0.75\n    print(\"The total cost is $\", total)\n    print(\"Welcome to the CS110 Supermarket!\")\n    print(\"1. Potatoes ($0.75 per potato\")\n    print(\"2. Tomatoes ($1.25 per tomato\")\n    print(\"3. Apples ($0.5 per apple\")\n    print(\"4. Mangoes ($1.75 per mango\")\n    print(\"5. Checkout\")\n    user_choice = int(input())\nwhile user_choice == 2:\n    tomatoes = int(input(\"How many tomatoes?\"))\n    total = total + tomatoes*1.25\n    print(\"The total cost is $\", total)\n    print(\"Welcome to the CS110 Supermarket!\")\n    print(\"1. Potatoes ($0.75 per potato\")\n    print(\"2. Tomatoes ($1.25 per tomato\")\n    print(\"3. Apples ($0.5 per apple\")\n    print(\"4. Mangoes ($1.75 per mango\")\n    print(\"5. Checkout\")\n    user_choice = int(input())\nwhile user_choice == 3:\n    apples=int(input(\"How many apples?\"))\n    total = total + apples*0.5\n    print(\"The total cost is $\", total)\n    print(\"Welcome to the CS110 Supermarket!\")\n    print(\"1. Potatoes ($0.75 per potato\")\n    print(\"2. Tomatoes ($1.25 per tomato\")\n    print(\"3. Apples ($0.5 per apple\")\n    print(\"4. Mangoes ($1.75 per mango\")\n    print(\"5. Checkout\")\n    user_choice = int(input())\nwhile user_choice == 4:\n    mangoes = int(input(\"How many mangoes?\"))\n    total = total + mangoes*1.75\n    print(\"The total cost is $\",total)\n    print(\"Welcome to the CS110 Supermarket!\")\n    print(\"1. Potatoes ($0.75 per potato\")\n    print(\"2. Tomatoes ($1.25 per tomato\")\n    print(\"3. Apples ($0.5 per apple\")\n    print(\"4. Mangoes ($1.75 per mango\")\n    print(\"5. Checkout\")\n    user_choice=int(input())\nif user_choice == 5:\n    print(\"The total cost is $\",total)\n    pay = float(input(\"Please enter an amount to pay for the fruits and vegetables: \"))\n    while pay &lt; total:\n        pay = float(input(\"Please enter an amount more than payment: \"))\n    change = pay - total\n    print(\"Your change will be $\", change)\n    d5 = change // 5\n    d1 = (change % 5) // 1\n    quarter = ((change % 5) % 1) // 0.25\n    dime = (((change % 5) % 1) % 0.25) // 0.1\n    nickel = ((((change % 5) % 1) % 0.25) % 0.1) // 0.05\n    penny = (((((change % 5) % 1) % 0.25) % 0.1) % 0.05) // 0.01\n    print(\"Give the customer\", d5, \"$5 note,\", d1, \"$1 note,\", quarter, \"quarter,\", dime, \"dime,\", nickel,\"nickel,\", penny, \"penny.\")\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1481143496, "post_id": 41026974, "comment_id": 69261329, "body": "Can you add sample of data with desired output?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1481143613, "post_id": 41026974, "comment_id": 69261397, "body": "But it seems first need remove <code>[]</code> for return scalar <code>a = df_gb1.loc[0,&#39;TimeStamp&#39;]</code> and then <code>a</code> is <code>datetime</code> or <code>numeric</code>? If datetime, why add <code>+0.4</code> ?"}, {"owner": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1481144104, "post_id": 41026974, "comment_id": 69261712, "body": "@jezrael So, <code>&#39;TimeStamp&#39;</code> is just a float64 column. It&#39;s not actually of some special type."}], "answers": [{"comments": [{"owner": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "edited": false, "score": 0, "creation_date": 1481144841, "post_id": 41027237, "comment_id": 69262155, "body": "It worked! I&#39;m trying to understand in what way <code>[]</code> changed the type of data returned?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "edited": false, "score": 1, "creation_date": 1481145113, "post_id": 41027237, "comment_id": 69262288, "body": "It is same as <code>a = df_gb1[[&#39;TimeStamp&#39;]].loc[0]</code> - first select one column of DataFrame by subset and return <code>Dataframe</code> with one column <code>df_gb1[[&#39;TimeStamp&#39;]]</code> and then select first value - get <code>Series</code>."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "edited": false, "score": 1, "creation_date": 1481145254, "post_id": 41027237, "comment_id": 69262363, "body": "also if need select first row use <code>a = df_gb1[[&#39;TimeStamp&#39;, &#39;a&#39;]].loc[0]</code> but if need scalar use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.loc.html\" rel=\"nofollow noreferrer\"><code>loc</code></a> - <code>loc[&#39;index_value&#39;, &#39;column_name&#39;]</code>"}, {"owner": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "edited": false, "score": 0, "creation_date": 1481153227, "post_id": 41027237, "comment_id": 69265941, "body": "I got stuck again. I think you&#39;ll have an idea, but I&#39;m getting the first value of <code>&#39;TimeStamp&#39;</code> as <code>a</code>, and then getting all rows up to <code>a+0.4</code>. Now I&#39;m trying to access the value of <code>&#39;TimeStamp&#39;</code> at the row right after the last one I got in the previous statement. <code>df_gb1.loc[a.tail(1).index + 1, &#39;TimeStamp&#39;]</code>, but I&#39;m getting a Series type value now!"}, {"owner": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "edited": false, "score": 0, "creation_date": 1481153842, "post_id": 41027237, "comment_id": 69266168, "body": "Nevermind, I used <code>nextIndex = a.index[a.index.size - 1] + 1</code>"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 3, "last_activity_date": 1481144286, "creation_date": 1481144286, "answer_id": 41027237, "question_id": 41026974, "link": "https://stackoverflow.com/questions/41026974/raise-valueerrorseries-lengths-must-match-to-compare-while-manipulating-data/41027237#41027237", "title": "raise ValueError(&#39;Series lengths must match to compare&#39;) while manipulating dataframe", "body": "<p>I think you need remove <code>[]</code> only for return scalar <code>a</code>, else output is <code>Series</code>:</p>\n\n<pre><code>df_gb1 = pd.DataFrame({'TimeStamp':[3,3.1,5,7.1,3.4],\n                   'a':[4,5,6,7,8]})\n\nprint (df_gb1)\n   TimeStamp  a\n0        3.0  4\n1        3.1  5\n2        5.0  6\n3        7.1  7\n4        3.4  8\n\na = df_gb1.loc[0,'TimeStamp']\nprint (a)\n3.0\n\nprint (df_gb1[df_gb1['TimeStamp'].between(a-0,a+0.4, inclusive=True)])\n   TimeStamp  a\n0        3.0  4\n1        3.1  5\n4        3.4  8\n</code></pre>\n\n<hr>\n\n<pre><code>print (df_gb1.loc[0,['TimeStamp']])\nTimeStamp    3.0\nName: 0, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 1924, "user_id": 2474507, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/BkO0a.png?s=128&g=1", "display_name": "GothamCityRises", "link": "https://stackoverflow.com/users/2474507/gothamcityrises"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6928, "favorite_count": 0, "accepted_answer_id": 41027237, "answer_count": 1, "score": 3, "last_activity_date": 1481144286, "creation_date": 1481143249, "question_id": 41026974, "link": "https://stackoverflow.com/questions/41026974/raise-valueerrorseries-lengths-must-match-to-compare-while-manipulating-data", "title": "raise ValueError(&#39;Series lengths must match to compare&#39;) while manipulating dataframe", "body": "<p>I'm a python beginner, and was writing code to manipulate a dataframe to aggregate rows that lie between two values. The value is extracted from one of the values in the dataframe itself.</p>\n\n<pre><code>a = df_gb1.loc[0,['TimeStamp']]\n</code></pre>\n\n<p>And i'm using a and a+0.4 as the two bounds to get all the rows.</p>\n\n<pre><code>df_gb1[df_gb1['TimeStamp'].between(a-0,a+0.4, inclusive=True)]\n</code></pre>\n\n<p>I don't know a better way to implement this, but it still gives me this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L6h7M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L6h7M.png\" alt=\"error\"></a></p>\n\n<p>Like I said before, I'm very new to python, so I don't quite know how datatypes work with one another. It seems as if <code>a</code> is Series as well.</p>\n\n<p>How do I implement what I'm trying to do?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "edited": false, "score": 0, "creation_date": 1481145443, "post_id": 41027122, "comment_id": 69262480, "body": "Great swift response, thank you.  Got a different error but your answer solved the question :)"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1481143839, "creation_date": 1481143839, "answer_id": 41027122, "question_id": 41026964, "link": "https://stackoverflow.com/questions/41026964/django-native-query-v-homemade-sql-query-to-json/41027122#41027122", "title": "Django native query v &quot;homemade&quot; sql query to json", "body": "<p><code>serializers.serialize</code> is specifically for Django querysets. You just have a list, so you should use the standard json library:</p>\n\n<pre><code>json_data = json.dumps(pointsCurrentSeasonLive)\n</code></pre>\n"}], "owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 41027122, "answer_count": 1, "score": 0, "last_activity_date": 1481143839, "creation_date": 1481143196, "question_id": 41026964, "link": "https://stackoverflow.com/questions/41026964/django-native-query-v-homemade-sql-query-to-json", "title": "Django native query v &quot;homemade&quot; sql query to json", "body": "<p>The following code works nicely:</p>\n\n<pre><code>def jsonLiveLeaderboard(request):\n\n    data = StraightredFixture.objects.filter(fixturematchday=12)\n\n    json_data = serializers.serialize('json', data)\n\n    return HttpResponse(json_data, content_type='application/json')\n</code></pre>\n\n<p>However, if I try to do the same with a homemade query like so:</p>\n\n<pre><code>def jsonLiveLeaderboard(request):\n\n    cursor = connection.cursor()\n    cursor.execute(\n        \"\"\"\n            select username as User, floor((count(Goals)/2)-(if(sum(Loss)&gt;0,1,0))) as Round, sum(Win) as Wins, sum(Goals) as Goals, sum(Loss) as Losses from\n            (select u.username as username, s.campaignno as campaign, if(f.hometeamscore&gt;f.awayteamscore,1,0) as Win, if(f.hometeamscore&lt;f.awayteamscore,1,0) as Loss, f.hometeamscore as Goals from straightred_fixture f, straightred_userselection s, auth_user u where s.fixtureid = f.fixtureid and s.teamselectionid = f.hometeamid and s.user_id = u.id union all\n            select u.username as username, s.campaignno as campaign, if(f.awayteamscore&gt;f.hometeamscore,1,0) as Win, if(f.awayteamscore&lt;f.hometeamscore,1,0) as Loss, f.awayteamscore as Goals from straightred_fixture f, straightred_userselection s, auth_user u where s.fixtureid = f.fixtureid and s.teamselectionid = f.awayteamid and s.user_id = u.id) t\n            group by username, campaign\n            having Losses = 0\n            order by Round DESC, Wins DESC, Goals DESC\n        \"\"\")\n\n    pointsCurrentSeasonLive = cursor.fetchmany(size=8)\n\n    json_data = serializers.serialize('json', pointsCurrentSeasonLive)\n\n\n    return HttpResponse(json_data, content_type='application/json')\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>AttributeError at /jsonLiveLeaderboard/\n'tuple' object has no attribute '_meta'\n</code></pre>\n\n<p>Is there an easy way to convert a \"homemade\" query to json in much the same way you can with a native Django query?</p>\n\n<p>Many thanks in advance, Alan.</p>\n"}, {"tags": ["python", "duplicates", "compare"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 3, "creation_date": 1481143188, "post_id": 41026955, "comment_id": 69261171, "body": "It looks like you want us to write some code for you. While many users are willing to produce code for a coder in distress, they usually only help when the poster has already tried to solve the problem on their own. A good way to demonstrate this effort is to include the code you&#39;ve written so far, example input (if there is any), the expected output, and the output you actually get (console output, tracebacks, etc.). The more detail you provide, the more answers you are likely to receive. Check the <a href=\"https://stackoverflow.com/tour\">FAQ</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 43, "user_id": 6552868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0170fcb0ec3861f30d738da85e8d5ca1?s=128&d=identicon&r=PG&f=1", "display_name": "raby1996", "link": "https://stackoverflow.com/users/6552868/raby1996"}, "reply_to_user": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1481143777, "post_id": 41026955, "comment_id": 69261484, "body": "Right I apologize, the reason I did not include any code is because what I&#39;ve written have only been simple for loops with sets, I&#39;m very much a beginner so my code was rather useless."}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 1, "creation_date": 1481143854, "post_id": 41026955, "comment_id": 69261542, "body": "We don&#39;t judge people on their ability to code, we judge people on how much effort they put in. The most you put in, even if it&#39;s a simple <code>print</code> function, it shows that you have tried something and hopefully tried to research something."}, {"owner": {"reputation": 43, "user_id": 6552868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0170fcb0ec3861f30d738da85e8d5ca1?s=128&d=identicon&r=PG&f=1", "display_name": "raby1996", "link": "https://stackoverflow.com/users/6552868/raby1996"}, "reply_to_user": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1481144199, "post_id": 41026955, "comment_id": 69261774, "body": "Right, I&#39;ve added the code that seems to do the most for me, which essentially separates it into blocks of weekends, I feel this is a first step, however I may be approaching this in a completely improper way."}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 5387666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/670211943080950/picture?type=large", "display_name": "Mingwei Lin", "link": "https://stackoverflow.com/users/5387666/mingwei-lin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481144198, "last_edit_date": 1481144198, "creation_date": 1481143802, "answer_id": 41027114, "question_id": 41026955, "link": "https://stackoverflow.com/questions/41026955/using-python-to-find-repeated-names-in-a-txt-file/41027114#41027114", "title": "Using python to find repeated names in a txt file", "body": "<p>I think you can use a map to store <code>&lt;name, list of schedule&gt;</code>, like <code>&lt;bob@email, [Schedule1]&gt;</code>, when you go through each weekend. Everytime, you want to add a new item, you can check whether the key has been set already. If yes, add that schedule to that corresponding list. If no, add a new item to that map. Then, when you print out, only print the item with more than 1 schedule in the list.</p>\n\n<p>For Python, you can use dictionary as the map.\n<a href=\"https://www.tutorialspoint.com/python/python_dictionary.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/python/python_dictionary.htm</a></p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1484103803, "creation_date": 1484103803, "answer_id": 41582016, "question_id": 41026955, "link": "https://stackoverflow.com/questions/41026955/using-python-to-find-repeated-names-in-a-txt-file/41582016#41582016", "title": "Using python to find repeated names in a txt file", "body": "<p>You can do something like this with a regex creating a dict of sets:</p>\n\n<pre><code>import re\nfrom collections import Counter\n\ndata={}\n\nwith open(fn) as f_in:\n    txt=f_in.read()\n\nfor block in re.finditer(r'^=+\\s+([^:]+:)\\s=+\\s+([^=]+)', txt, re.M):\n    di={}\n    for sc in re.finditer(r'^(Schedule\\s*\\d+):\\s*([\\s\\S]+?)(?=(?:^Schedule\\s*\\d+)|\\Z)', block.group(2), re.M):\n        di[sc.group(1)]=set(sc.group(2).splitlines())\n    data[block.group(1)]=di\n\nfor date, DofS in data.items():\n    c=Counter()\n    for s in DofS.values():\n        c+=Counter(s)\n    inverted={k:[] for k, v in c.items() if v&gt;1} \n    if not inverted:\n        continue\n    print date  \n    for k in DofS:\n        for e in DofS[k]:\n            if e in inverted:\n                inverted[e].append(k)    \n    print \"\\t\",inverted     \n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Weekend of 2016-12-02:\n    {'bob@email': ['Schedule1', 'Schedule2']}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6552868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0170fcb0ec3861f30d738da85e8d5ca1?s=128&d=identicon&r=PG&f=1", "display_name": "raby1996", "link": "https://stackoverflow.com/users/6552868/raby1996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1484103803, "creation_date": 1481143154, "last_edit_date": 1481144496, "question_id": 41026955, "link": "https://stackoverflow.com/questions/41026955/using-python-to-find-repeated-names-in-a-txt-file", "title": "Using python to find repeated names in a txt file", "body": "<p>I want to use python ( although any language is fine ), to look through a structured text file which looks like this:</p>\n\n<pre><code>========= Weekend of 2016-12-02: ================\nSchedule1:\nbob@email\nSchedule2:\njohn@email\nbob@email\nSchedule3:\nTerry@email\n========= Weekend of 2016-12-09: ================\nSchedule1:\njake@email\nSchedule2:\nmike@email\nbob@email\nSchedule3:\nhoward@email\n</code></pre>\n\n<p>This pattern repeats for the remainder of the year, what I am trying to accomplish is to find any overlapping schedules. So if bob@email is on more than one schedule for that weekend I would like to find and print that.\nExample:</p>\n\n<pre><code>Overlaps found for:\n========= Weekend of 2016-12-02: ================\nbob@email is scheduled for schedule1, and schedule2.\n</code></pre>\n\n<p>Since this is the only overlap, this is the only occurrence that would print, if there were more then they would print in the same format underneath each other .\nIs there any way to accomplish this?</p>\n\n<p>The code I've found so far allows me to find each weekend and print that, however I'm not sure how to look at the contents in more detail.</p>\n\n<pre><code>import re\n    def compare():\n         with open(\"weekends.txt\",\"r\") as fp:\n             for result in re.findall('Weekend of (.*?):', fp.read(), re.S):\n                 print(result)\n</code></pre>\n\n<p>This yields </p>\n\n<pre><code>2016-12-02\n2016-12-09\n</code></pre>\n\n<p>Thank you, and please let me know if there are any questions.</p>\n"}, {"tags": ["python", "python-2.7", "function", "python-3.x"], "comments": [{"owner": {"reputation": 14006, "user_id": 2204926, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FDbXT.png?s=128&g=1", "display_name": "Idos", "link": "https://stackoverflow.com/users/2204926/idos"}, "edited": false, "score": 0, "creation_date": 1481143003, "post_id": 41026883, "comment_id": 69261082, "body": "<a href=\"http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function\" title=\"difference between a method and a function\">stackoverflow.com/questions/155609/&hellip;</a>"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1481143190, "post_id": 41026883, "comment_id": 69261173, "body": "The <code>.call_expr()</code> doesn&#39;t automatically mean that <code>call_expr</code> is a method. <code>.</code> is just python&#39;s attribute access operator and the attributes of objects are method objects. See <a href=\"https://docs.python.org/2/tutorial/classes.html#instance-objects\" rel=\"nofollow noreferrer\">the docs</a> (<a href=\"https://docs.python.org/3/tutorial/classes.html#instance-objects\" rel=\"nofollow noreferrer\">3</a>)."}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1481525316, "post_id": 41026883, "comment_id": 69395495, "body": "It&#39;s just a Python notation used for namespaces. Whether thing between is <code>.</code> or <code>::</code> (<a href=\"http://en.cppreference.com/w/cpp/language/namespace\" rel=\"nofollow noreferrer\">like in C++</a>) it&#39;s merely a design decision. Python is able to generalize all <code>.something</code> operations as <i>attribute access</i>, but that&#39;s just specific to Python language specification. Conceptually it&#39;s just a namespace mechanism."}], "answers": [{"tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": true, "score": 10, "last_activity_date": 1481189057, "last_edit_date": 1481189057, "creation_date": 1481143225, "answer_id": 41026973, "question_id": 41026883, "link": "https://stackoverflow.com/questions/41026883/why-is-math-sqrt-called-a-function-since-dot-access-is-generally-used-for-met/41026973#41026973", "title": "Why is math.sqrt() called a function? Since dot access is generally used for methods. What makes math.sqrt() a function?", "body": "<p>Because <code>math</code> is a <em>module</em><sup>*</sup>, not a <em>class</em>. </p>\n\n<p><code>sqrt</code> is a function defined inside the module <code>math</code>. You can access objects that have been defined in a module by normal dot <code>.</code> access on the module object. With modules though, no transformation of the function object occurs during that access, the object returned as is.<br> \n<sub>Specifically, <a href=\"https://docs.python.org/3/howto/descriptor.html#functions-and-methods\" rel=\"nofollow noreferrer\">since functions are <em>descriptors</em></a>, their <code>__get__</code> isn't invoked when accessed through the module.</sub></p>\n\n<p><code>upper</code> is a function that's defined inside the <code>str</code> <em>class</em>. When you invoke it on a <code>str</code> instance using dot access, it is <em>transformed</em> into a <em>method</em> which implicitly receives the instance as a first argument.<br>\n<sub>Specifically, when accessed through a class, a function object's  <code>__get__</code> is invoked which, in turn, transforms the function into a method type.</sub></p>\n\n<hr>\n\n<p>*Okay, I hate to do this, because it is confusing, but <a href=\"https://docs.python.org/3.5/library/types.html#types.ModuleType\" rel=\"nofollow noreferrer\">modules are also classes</a>. They are special in that they don't do the transformation as described previously. Specifically, their getattribute function that is invoked when an attribute is requested, doesn't act like the default for classes.</p>\n"}], "owner": {"reputation": 31, "user_id": 6773074, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N-7iOoeTrTw/AAAAAAAAAAI/AAAAAAAAADw/_WoT8iIiemw/photo.jpg?sz=128", "display_name": "Utsav Bhattarai", "link": "https://stackoverflow.com/users/6773074/utsav-bhattarai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 41026973, "answer_count": 1, "score": 0, "last_activity_date": 1481189057, "creation_date": 1481142879, "last_edit_date": 1481159127, "question_id": 41026883, "link": "https://stackoverflow.com/questions/41026883/why-is-math-sqrt-called-a-function-since-dot-access-is-generally-used-for-met", "title": "Why is math.sqrt() called a function? Since dot access is generally used for methods. What makes math.sqrt() a function?", "body": "<p>As an example: <code>math.sqrt()</code> is considered a <em>function</em> but, <code>\"Lower\".upper()</code> is known as the <code>.upper()</code> <em>method</em>. </p>\n\n<p>Why is <code>math.sqrt</code> a function? Isn't the dot access indicative of methods?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 144, "user_id": 6150446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uEc7E.png?s=128&g=1", "display_name": "Have_Mercy", "link": "https://stackoverflow.com/users/6150446/have-mercy"}, "edited": false, "score": 0, "creation_date": 1481143051, "post_id": 41026875, "comment_id": 69261101, "body": "Here&#39;s a question that could help you get the creation dates of a file: <a href=\"http://stackoverflow.com/questions/237079/how-to-get-file-creation-modification-date-times-in-python\" title=\"how to get file creation modification date times in python\">stackoverflow.com/questions/237079/&hellip;</a>  With the creation dates, you can compare them to the current date."}, {"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "edited": false, "score": 2, "creation_date": 1481143114, "post_id": 41026875, "comment_id": 69261125, "body": "(1) Don&#39;t repeat your hardcoded literal <code>FolderA</code> path 4 times in the same code; (2) use <code>os.stat(filename).st_mtime</code> to get the last-modified timestamp of a file."}, {"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "edited": false, "score": 0, "creation_date": 1481143258, "post_id": 41026875, "comment_id": 69261205, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/375154/how-do-i-get-the-time-a-file-was-last-modified-in-python\">How do I get the time a file was last modified in Python?</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1481143313, "post_id": 41026875, "comment_id": 69261230, "body": "Check out the <a href=\"https://docs.python.org/2/library/filecmp.html#module-filecmp\" rel=\"nofollow noreferrer\"><code>filecmp</code></a> module\u2014and related <a href=\"http://stackoverflow.com/questions/8045564/filecmp-cmp-ignoring-differing-os-stat-signatures\"><i>filecmp.cmp() ignoring differing os.stat() signatures?</i></a> question."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7264442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fe62935b674cfa09dae0ebc1db2dc9?s=128&d=identicon&r=PG&f=1", "display_name": "T. Nay", "link": "https://stackoverflow.com/users/7264442/t-nay"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146443, "creation_date": 1481146443, "answer_id": 41027790, "question_id": 41026875, "link": "https://stackoverflow.com/questions/41026875/how-to-move-only-new-or-updated-files/41027790#41027790", "title": "How to move only new or updated files?", "body": "<p>I believe I found a solution, let me know what you guys think.</p>\n\n<pre><code># copy files from folder_a to folder_b\n# if the files in folder_a have been modified within the past 24 hours\n#   copy them to folder_b\n#\n\n\nimport shutil\nimport os\nfrom os import path\nimport datetime\nfrom datetime import date, time, timedelta\n\n\ndef file_has_changed(fname):\n#  print 'in file_has_changed with file : %s' % fname\n#  print str(path.getmtime(fname))\n\n# get file modified time\n  file_m_time = datetime.datetime.fromtimestamp(path.getmtime(fname))\n\n#  print datetime.datetime.now()\n#  print file_m_time\n\n  #get the delta between today and filed mod time\n  td = datetime.datetime.now() - file_m_time\n\n#  print td\n#  print 'days : %d' % td.days\n\n # file can be archived if mod within last 24 hours\n  if td.days == 0:\n    global ready_to_archive\n    ready_to_archive = ready_to_archive + 1\n    return True\n  else: return False\n\n\n\ndef main():\n  global ready_to_archive\n  global archived\n  ready_to_archive, archived = 0, 0\n\n  # src = \"c:\\users\\gail\\desktop\\foldera\"\n  # dst = \"c:\\users\\gail\\desktop\\folderb\"\n\n  for fname in os.listdir('c:\\users\\gail\\Desktop\\FolderA'):\n\n    src_fname = 'c:\\users\\gail\\Desktop\\FolderA\\%s' % fname\n\n    if file_has_changed(src_fname):    \n      dst_fname = 'c:\\users\\gail\\Desktop\\FolderB\\%s' % fname\n      dst_folder = 'c:\\users\\gail\\Desktop\\FolderB'\n\n\n      try:\n        shutil.copy2(src_fname, dst_folder)\n        global archived;\n        archived = archived + 1\n      #  print 'Copying file : %s ' % (src_fname)\n      #  print '      To loc : %s ' % (dst_fname)\n      except IOError as e:\n        print 'could not open the file: %s ' % e\n\n\n\nif __name__ == \"__main__\":\n\n  main()\n\n  print '******   Archive Report for %s   ******' % datetime.datetime.now()\n  print '%d files ready for archiving ' % ready_to_archive\n  print '%d files archived' % archived\n  print '******   End of Archive Report   ******'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7264442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fe62935b674cfa09dae0ebc1db2dc9?s=128&d=identicon&r=PG&f=1", "display_name": "T. Nay", "link": "https://stackoverflow.com/users/7264442/t-nay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481146443, "creation_date": 1481142866, "last_edit_date": 1481143066, "question_id": 41026875, "link": "https://stackoverflow.com/questions/41026875/how-to-move-only-new-or-updated-files", "title": "How to move only new or updated files?", "body": "<p>I am trying to create a script that will move only new or updated files from the past 24 hours into a new folder. I created a script so far that will move files in general, any leads or suggestions would be greatly appreciated.</p>\n\n<pre><code>import os, shutil\n\nsource = os.listdir('C:\\Users\\Student\\Desktop\\FolderA')\ndestination = 'C:\\Users\\Student\\Desktop\\FolderB'\n\nos.chdir('C:\\Users\\Student\\Desktop\\FolderA')\n\nfor files in os.listdir(\"C:\\Users\\Student\\Desktop\\FolderA\"):\n    if files.endswith(\".txt\"):\n        src = os.path.join(\"C:\\Users\\Student\\Desktop\\FolderA\",files)\n        dst = os.path.join(destination,files)\n        shutil.move(src,dst)\n</code></pre>\n"}, {"tags": ["python", "signals"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4396006"}, "edited": false, "score": 0, "creation_date": 1481144212, "post_id": 41026842, "comment_id": 69261784, "body": "Man, you&#39;re writing the method wrong. Actually it&#39;s the first argument. That&#39;s the first thing you learn when you start using OOP in python."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4396006"}, "edited": false, "score": 0, "creation_date": 1481144171, "post_id": 41027161, "comment_id": 69261759, "body": "Yeah, cos they&#39;re writing the method wrong. Actually it&#39;s the first argument. That&#39;s the first thing you learn when you start using OOP in python."}, {"owner": {"reputation": 236, "user_id": 6046758, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1208460455848353/picture?type=large", "display_name": "Guy Markman", "link": "https://stackoverflow.com/users/6046758/guy-markman"}, "edited": false, "score": 0, "creation_date": 1481144863, "post_id": 41027161, "comment_id": 69262165, "body": "I tried using what you did, but I get the next error terminate_handler() takes exactly 3 arguments (4 given)"}], "tags": [], "owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "is_accepted": true, "score": 2, "last_activity_date": 1481145876, "last_edit_date": 1481145876, "creation_date": 1481144001, "answer_id": 41027161, "question_id": 41026842, "link": "https://stackoverflow.com/questions/41026842/python-pass-more-than-two-arguments-in-signal/41027161#41027161", "title": "Python: Pass more than two arguments in signal", "body": "<p>Why not</p>\n\n<pre><code>def terminate_handler(self, signum, frame):\n    self.close()\nsignal.signal(signal.SIGINT, partial(terminate_handler, obj))\n</code></pre>\n\n<p>Here is a fully working example (kill -2 ...)</p>\n\n<pre><code>import signal, os, sys\nfrom functools import partial\nfrom time import sleep\ndef terminate_handler(self, signum, frame):\n    print('terminate_handler:', self, signum)\n    sys.exit(0)\nsignal.signal(signal.SIGINT, partial(terminate_handler, 'foo'))\nwhile True:\n    sleep(1)\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 6046758, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/1208460455848353/picture?type=large", "display_name": "Guy Markman", "link": "https://stackoverflow.com/users/6046758/guy-markman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 41027161, "answer_count": 1, "score": 2, "last_activity_date": 1481145876, "creation_date": 1481142703, "last_edit_date": 1481145573, "question_id": 41026842, "link": "https://stackoverflow.com/questions/41026842/python-pass-more-than-two-arguments-in-signal", "title": "Python: Pass more than two arguments in signal", "body": "<p>I know what when I use signals there are two arguments (signum and frame).</p>\n\n<p>But what if I want to send more? For example: object for self.</p>\n\n<p>How can I do it?</p>\n\n<p>example:</p>\n\n<pre><code>def terminate_handler(signum, frame, self):\n    self.close()\nsignal.signal(signal.SIGINT, terminate_handler, object)\n</code></pre>\n\n<p>EDIT: I found out the solution I worte on the fly, when I thought it would not work, actualy work. I had no Idea it will work</p>\n\n<pre><code>def terminate_handler(self, signum, frame):\n        self.close()\nsignal.signal(signal.SIGINT, terminate_handler, object)\n</code></pre>\n"}, {"tags": ["python", "image", "matplotlib", "subplot"], "comments": [{"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 1, "creation_date": 1481142655, "post_id": 41026783, "comment_id": 69260902, "body": "Why are you using: <code>figure.subplots_adjust(right=1.5, hspace=0.5)</code>?"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1481143132, "post_id": 41026783, "comment_id": 69261141, "body": "Not sure about the legend question. Typically you can do <code>plt.plot(x, y, &#39;r&#39;, label = &#39;Red&#39;)</code>. Then you would do <code>plt.legend(loc=&#39;lower right&#39;)</code>. I could help more if I knew where these speeds were being referenced but I don&#39;t see them in the code nor the plot you have."}, {"owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1481143396, "post_id": 41026783, "comment_id": 69261282, "body": "@wflynny Removing that line did the trick. I think I copy and pasted that line from another function I was using to plot data. Thanks! Btw, could you tell me how to add a legend?"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 1, "creation_date": 1481144499, "post_id": 41026783, "comment_id": 69261945, "body": "Relevant re legend question: <a href=\"http://stackoverflow.com/questions/27174425/how-to-add-a-string-as-the-artist-in-matplotlib-legend\" title=\"how to add a string as the artist in matplotlib legend\">stackoverflow.com/questions/27174425/&hellip;</a>"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 1, "creation_date": 1481147491, "post_id": 41026783, "comment_id": 69263493, "body": "@wflynny This might be a bit of an overkill. Just placing a <a href=\"http://matplotlib.org/users/text_intro.html\" rel=\"nofollow noreferrer\">text box</a> with those lines somewhere should be enough. <code>subplot.text(0.99,0.99, &quot;1. Speed limit (20km&#47;h)\\n2. Speed limit (30km&#47;h)&quot;, transform=subplot.transAxes, ha=&quot;right&quot;, va=&quot;top&quot;, fontsize=8, bbox={&#39;facecolor&#39;:&#39;w&#39;, &#39;alpha&#39;:0.5, &#39;pad&#39;:10})</code> (Lines can be separated with <code>\\n</code>)"}, {"owner": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481148855, "post_id": 41026783, "comment_id": 69264128, "body": "@ImportanceOfBeingErnest Sure, the OP could also just annotate each point with <code>plt.annotate</code>.  But if OP wants to use <code>subplot.legend</code>, then the linked way is the only way unless OP reconfigures the scatter (not actually a scatter) plot to use 11 different markers or something similar."}, {"owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481157639, "post_id": 41026783, "comment_id": 69267377, "body": "@ImportanceOfBeingErnest Thanks for your helpful and constructive feedback!"}, {"owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "reply_to_user": {"reputation": 15854, "user_id": 1634191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbda192e603ef4e51423f470f5a2cbf3?s=128&d=identicon&r=PG&f=1", "display_name": "wflynny", "link": "https://stackoverflow.com/users/1634191/wflynny"}, "edited": false, "score": 0, "creation_date": 1481157675, "post_id": 41026783, "comment_id": 69267389, "body": "@wflynny  Thanks again for your comments. I am def a newbie"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481184447, "post_id": 41026783, "comment_id": 69276356, "body": "@djilo Is your question solved now? If so, you can provide an answer yourself and accept it. This might help others with similar problems and prevents the question of sticking around in the list of unsolved questions forever. If our comments did not solve the question, you may edit it to be more specific about your requirements and leave it open for others to provide an answer."}, {"owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1481264399, "post_id": 41026783, "comment_id": 69315537, "body": "@ImportanceOfBeingErnest Thanks for reminding me. Yes, my problem has been resolved. Your suggestion of the textbox for annotation works for me. And the initial response of wflynny fixed the cut-off issue."}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "is_accepted": true, "score": 1, "last_activity_date": 1481264731, "creation_date": 1481264731, "answer_id": 41054322, "question_id": 41026783, "link": "https://stackoverflow.com/questions/41026783/matplotlib-pyplot-subplot-is-being-cut-off-on-right-side/41054322#41054322", "title": "Matplotlib.pyplot subplot is being cut off on right side", "body": "<p>Removing the following line from my code fixed the cut-off problem:</p>\n\n<pre><code>figure.subplots_adjust(right=1.5, hspace=0.5)\n</code></pre>\n\n<p>Also, using a <a href=\"http://matplotlib.org/users/text_intro.html\" rel=\"nofollow noreferrer\">text box</a> did the trick as far as annotating the plot. Thanks again to @wflynny and @ImportanceOfBeingEarnest for their feedback</p>\n"}], "owner": {"reputation": 125, "user_id": 667729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bf3dd81a0da3a74bb680083a49c4f12?s=128&d=identicon&r=PG", "display_name": "djilo", "link": "https://stackoverflow.com/users/667729/djilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 41054322, "answer_count": 1, "score": 0, "last_activity_date": 1481264731, "creation_date": 1481142488, "question_id": 41026783, "link": "https://stackoverflow.com/questions/41026783/matplotlib-pyplot-subplot-is-being-cut-off-on-right-side", "title": "Matplotlib.pyplot subplot is being cut off on right side", "body": "<p>I am soooo very close to finally finishing my convolutional neural network project, but I'm having a difficult time trying to display a figure that shows the top k classification probabilities for a given new traffic sign image. I want to display the scatter plot of the probabilities on the left and the associated image on the right. Here is the function I have defined:</p>\n\n<pre><code>def plot_probability_per_class(probabilities, classes, image):\n    figure = plt.figure()\n    figure.subplots_adjust(right=1.5, hspace=0.5)\n\n    subplot = figure.add_subplot(1,2,1)\n    subplot.set_title('Probability per class')\n    plt.plot(classes, probabilities, 'ro')  \n    plt.ylabel('Probability')\n    plt.xlabel('Class ID')\n\n    subplot = figure.add_subplot(1,2,2)\n    subplot.set_title('Image')\n    plt.imshow(image)\n\n    plt.show()\n</code></pre>\n\n<p>Below is an example of the figure that is generated:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fn5ch.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fn5ch.png\" alt=\"enter image description here\"></a></p>\n\n<p>And while I'm asking, would someone be able to show me how to place a legend to the right of (or maybe below) the scatterplot to show description of class IDs. Something like the following:</p>\n\n<ol>\n<li>= Speed limit (20km/h)</li>\n<li>= Speed limit (30km/h)</li>\n<li>= Speed limit (50km/h)</li>\n<li>= Speed limit (60km/h)</li>\n<li>= Speed limit (70km/h)</li>\n<li>= Speed limit (80km/h)</li>\n<li>= End of speed limit (80km/h)</li>\n<li>= Speed limit (100km/h)</li>\n<li>= Speed limit (120km/h)</li>\n<li>= No passing</li>\n<li>= No passing for vehicles over 3.5 metric tons</li>\n</ol>\n\n<p>I'm very new to Matplotlib and I'm finding the API docs difficult to read. Any help would be appreciated.</p>\n"}, {"tags": ["python", "qt", "python-3.x", "qt5", "pyqt5"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1481146239, "post_id": 41026655, "comment_id": 69262874, "body": "<code>QMenu.exec_()</code> returns the activated action (or <code>None</code>)."}, {"owner": {"reputation": 13, "user_id": 6243041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjILA.jpg?s=128&g=1", "display_name": "Hedowas", "link": "https://stackoverflow.com/users/6243041/hedowas"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1481304354, "post_id": 41026655, "comment_id": 69338507, "body": "Thanks, it does return the activated action, but it also executes the submenu, so even before I rightclick the submenu appears in my mainwindow, is there a way to avoid this ?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1481305148, "post_id": 41026655, "comment_id": 69338889, "body": "I have added an answer with some example code."}], "answers": [{"tags": [], "owner": {"reputation": 2002, "user_id": 2763000, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5ea0af3a37d8989110a8fb4c656efb2?s=128&d=identicon&r=PG&f=1", "display_name": "goug", "link": "https://stackoverflow.com/users/2763000/goug"}, "is_accepted": false, "score": 0, "last_activity_date": 1481149191, "creation_date": 1481149191, "answer_id": 41028422, "question_id": 41026655, "link": "https://stackoverflow.com/questions/41026655/qt-get-action-clicked-from-submenu/41028422#41028422", "title": "Qt get action clicked from submenu", "body": "<p>As mentioned, the menu's exec call returns the selected action. What would probably be easiest for you is to use QAction.setData to store the information you need into each action. It's a QVariant, so you can store practically anything. Then, in the result of the \"exec\" call, you use the selected action's QAction.data to get the value back out. (Sorry if my syntax isn't right...I don't know much Python.)</p>\n"}, {"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 2, "last_activity_date": 1481305088, "creation_date": 1481305088, "answer_id": 41065940, "question_id": 41026655, "link": "https://stackoverflow.com/questions/41026655/qt-get-action-clicked-from-submenu/41065940#41065940", "title": "Qt get action clicked from submenu", "body": "<p>Your context menu handler should look like this:</p>\n\n<pre><code>def menu(self, pos):\n    menu = QtWidgets.QMenu()\n    submenu = menu.addMenu(\"Add to a playlist\")\n    for filename in os.listdir(\"playlists\"):\n        submenu.addAction(filename)\n    action = menu.exec_(self.mapToGlobal(pos))\n    if action is not None:\n        print(action.text())\n        MyFunction(action)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6243041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjILA.jpg?s=128&g=1", "display_name": "Hedowas", "link": "https://stackoverflow.com/users/6243041/hedowas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 41065940, "answer_count": 2, "score": 1, "last_activity_date": 1481305088, "creation_date": 1481142067, "question_id": 41026655, "link": "https://stackoverflow.com/questions/41026655/qt-get-action-clicked-from-submenu", "title": "Qt get action clicked from submenu", "body": "<p>I got a menu opening when right clicking on a table, I'd like to get the action name I clicked on. The thing is that I create actions in a loop. Basically each action add the right clicked item to a file (a playlist). So in order to add the item I need to know where.</p>\n\n<pre><code>    def menu(self, event):\n        self.menu_table = QtWidgets.QMenu(self.tableWidget)\n        self.submenu = QtWidgets.QMenu(\"Add to a playlist\")\n        list = os.listdir(\"playlists\")\n        for i in list:\n            self.submenu.addAction(i)\n        self.submenu.triggered.connect(MyFunction(ItemClicked))\n        self.menu_table.addMenu(self.submenu)\n        self.menu_table.exec_(self.tableWidget.mapToGlobal(event))\n</code></pre>\n"}, {"tags": ["python", "pip", "setuptools", "setup.py"], "comments": [{"owner": {"reputation": 4012, "user_id": 2464684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36aa6139ddbdfed093169c9f6ca98a7b?s=128&d=identicon&r=PG", "display_name": "chishaku", "link": "https://stackoverflow.com/users/2464684/chishaku"}, "edited": false, "score": 0, "creation_date": 1593943236, "post_id": 41026615, "comment_id": 110947802, "body": "did you ever figure this out?"}, {"owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "reply_to_user": {"reputation": 4012, "user_id": 2464684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36aa6139ddbdfed093169c9f6ca98a7b?s=128&d=identicon&r=PG", "display_name": "chishaku", "link": "https://stackoverflow.com/users/2464684/chishaku"}, "edited": false, "score": 0, "creation_date": 1594163256, "post_id": 41026615, "comment_id": 111029104, "body": "@chishaku not really... But with all that&#39;s currently happening with pyproj.toml, and the new pip, we might have some luck!"}, {"owner": {"reputation": 4012, "user_id": 2464684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36aa6139ddbdfed093169c9f6ca98a7b?s=128&d=identicon&r=PG", "display_name": "chishaku", "link": "https://stackoverflow.com/users/2464684/chishaku"}, "edited": false, "score": 1, "creation_date": 1594283207, "post_id": 41026615, "comment_id": 111073407, "body": "I think I did, actually.  Will add an answer."}], "answers": [{"tags": [], "owner": {"reputation": 4012, "user_id": 2464684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36aa6139ddbdfed093169c9f6ca98a7b?s=128&d=identicon&r=PG", "display_name": "chishaku", "link": "https://stackoverflow.com/users/2464684/chishaku"}, "is_accepted": true, "score": 1, "last_activity_date": 1594283662, "creation_date": 1594283662, "answer_id": 62810700, "question_id": 41026615, "link": "https://stackoverflow.com/questions/41026615/dependency-links-for-extras-require-in-setup-py/62810700#62810700", "title": "Dependency links for extras_require in setup.py", "body": "<ol>\n<li>Yes, you no longer need <code>--process-dependency-links</code> if you use <code>extras_require</code>.</li>\n</ol>\n<p>Tested with pip version 19.3.1</p>\n<p>Example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>$ pip install -e .[graphs]\n\n# setup.py  \n\nfrom setuptools import setup\nsetup(\n    name='myservice',\n    version='0.1.0',\n    install_requires=[\n        'requests',\n    ],\n    extras_require={\n        'graphs': [\n            'graphcommons @ git+ssh://git@github.com/graphcommons/graphcommons-python@master',\n        ],\n    },\n)\n\n</code></pre>\n<p>By using ssh protocol (instead of https) to access git repo, you can install from your private repos.</p>\n<ol start=\"2\">\n<li><p>Not sure about <code>python setup.py install</code> but <code>pip install .[extras]</code> should be good enough?</p>\n</li>\n<li><p>Yes, in pip version 19.</p>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10140792, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D6JXKxHlrqQ/AAAAAAAAAAI/AAAAAAAACcs/pS4IIuFV85g/photo.jpg?sz=128", "display_name": "Eric McDonald", "link": "https://stackoverflow.com/users/10140792/eric-mcdonald"}, "is_accepted": false, "score": 3, "last_activity_date": 1594766854, "creation_date": 1594766854, "answer_id": 62905087, "question_id": 41026615, "link": "https://stackoverflow.com/questions/41026615/dependency-links-for-extras-require-in-setup-py/62905087#62905087", "title": "Dependency links for extras_require in setup.py", "body": "<p>I searched way too long to figure out how to do this with setup.cfg so hopefully this will help someone else if they don't want to use setup.py as the OP didn't specify. I've also included a custom URL for install_requires as that took a while to figure out as well.</p>\n<pre><code>#setup.cfg (only showing relevant parts)\n[options]\ninstall_requires =\n    pyyaml @ git+https://github.com/yaml/pyyaml.git@master\n    \n[options.extras_require]\njsonschema = jsonschema @ git+https://github.com/Julian/jsonschema.git@v3.2.0\nsix = six\n</code></pre>\n<ol>\n<li><code>pip install -e .[jsonschema]</code> will get you the extra with a custom URL or <code>pip install -e .[jsonschema,six]</code> will get you both extras (note that there are NO spaces after the <code>.</code> or around the comma(s) in the extras list).</li>\n<li>As far as I can tell, you cannot get extras installed using <code>python setup.py install</code>.</li>\n<li>Yes <code>--process-dependency-links</code> is still deprecated in spite of much complaining but the above is good enough once you know the syntax.</li>\n</ol>\n"}], "owner": {"reputation": 3855, "user_id": 6522112, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JqjxG.png?s=128&g=1", "display_name": "tupui", "link": "https://stackoverflow.com/users/6522112/tupui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1220, "favorite_count": 1, "accepted_answer_id": 62810700, "answer_count": 2, "score": 8, "last_activity_date": 1594766854, "creation_date": 1481141932, "last_edit_date": 1481146822, "question_id": 41026615, "link": "https://stackoverflow.com/questions/41026615/dependency-links-for-extras-require-in-setup-py", "title": "Dependency links for extras_require in setup.py", "body": "<ol>\n<li><p>Is there a way to process dependency links automatically when installing a package with extras, without having to call <code>--process-dependency-links</code> as it is the case with <code>install_requires</code>? </p>\n\n<pre><code>pip install -e .[extra] --process-dependency-links\n</code></pre>\n\n<p>I need this because the dependency is only located on a private git repo.</p></li>\n<li><p>Is it possible to install extras using <code>python setup.py install</code>?</p></li>\n<li><p>Is <code>--process-dependency-links</code> still to be considered as it is deprecated? I am not sure about the status here.</p></li>\n</ol>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1481146775, "post_id": 41026596, "comment_id": 69263123, "body": "What if you have lines <code>A B C; A B D; E B D</code>? Which lines should be grouped?"}, {"owner": {"reputation": 111, "user_id": 6901603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e693630e659de6ee9bd30ef1d9eac512?s=128&d=identicon&r=PG&f=1", "display_name": "Clyde", "link": "https://stackoverflow.com/users/6901603/clyde"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1481221319, "post_id": 41026596, "comment_id": 69300147, "body": "In your example - Lines 1 &amp; 2 should be grouped - To apply to my specific issue, this would equate to the same source IP accessing the same destination IP just on different ports. i.e 10.10.10.1 &gt;&gt; 20.20.20.1 port80 &amp; 10.10.10.1 &gt;&gt; 20.20.20.1 port443"}], "answers": [{"comments": [{"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "edited": false, "score": 0, "creation_date": 1481146172, "post_id": 41027120, "comment_id": 69262838, "body": "<code>groupby</code> assumes that the data are already sorted.  The OP&#39;s example data set does not need to be sorted, but other logs presumably will need you to pre-<code>sort</code> the data using the same keyfunc."}, {"owner": {"reputation": 111, "user_id": 6901603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e693630e659de6ee9bd30ef1d9eac512?s=128&d=identicon&r=PG&f=1", "display_name": "Clyde", "link": "https://stackoverflow.com/users/6901603/clyde"}, "edited": false, "score": 0, "creation_date": 1481157010, "post_id": 41027120, "comment_id": 69267178, "body": "Thank you very much for your response. however, I am still having trouble, let me share my code with you. I do understand my code is probably inefficiently written but I&#39;m new and trying to take it step by step.  I tried to add, per your suggestion but it does nothing, I am doing something wrong."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146552, "last_edit_date": 1481146552, "creation_date": 1481143834, "answer_id": 41027120, "question_id": 41026596, "link": "https://stackoverflow.com/questions/41026596/group-multiple-lists-based-on-multiple-factors/41027120#41027120", "title": "Group Multiple lists based on multiple factors", "body": "<p><code>groupby(iterable, keyfunc)</code> works by grouping for items with the same <code>key</code> (the value returned by the <code>keyfunc</code>.</p>\n\n<p>To accomplish your task, you can make keyfunc return multiple items of a row.</p>\n\n<p>Let's suppose for simplicity that you already have your data in the format:</p>\n\n<pre><code>data=[\n('10.10.10.1', '20.20.20.1', 'TCP', '80'),\n('10.10.10.1', '30.30.30.1', 'TCP', '80'),\n('10.10.10.1', '40.40.40.1', 'TCP', '514'),\n('10.10.10.1', '40.40.40.1', 'TCP', '443')\n]\n</code></pre>\n\n<p>So if you want to see rows where source, proto and service match (column indices 0, 2 and 3), you would make a key of those columns.</p>\n\n<p>Let's write a little closure to extract those columns (it will be your keyfunc):</p>\n\n<pre><code>def getcolumns(cols):\n    def f(row):\n        return tuple(row[i] for i in cols)\n    return f\n</code></pre>\n\n<p>Let's look at the result you get:</p>\n\n<pre><code>&gt;&gt;&gt; cols = (0,2,3)\n&gt;&gt;&gt; data.sort(key=getcolumns(cols))\n&gt;&gt;&gt; for k, v in groupby(data, getcolumns(cols)):\n...     print(k, list(v))\n...\n('10.10.10.1', 'TCP', '80') [('10.10.10.1', '20.20.20.1', 'TCP', '80'), ('10.10.10.1', '30.30.30.1', 'TCP', '80')]\n('10.10.10.1', 'TCP', '514') [('10.10.10.1', '40.40.40.1', 'TCP', '514')]\n('10.10.10.1', 'TCP', '443') [('10.10.10.1', '40.40.40.1', 'TCP', '443')]\n</code></pre>\n\n<p>You may want to exclude results where the grouper has length 1 (no matches):</p>\n\n<pre><code>&gt;&gt;&gt; cols = (0,2,3)\n&gt;&gt;&gt; data.sort(key=getcolumns(cols))\n&gt;&gt;&gt; for k, v in groupby(data, getcolumns(cols)):\n...     v = list(v)\n...     if len(v) == 1: continue\n...     print(k, v)\n...\n('10.10.10.1', 'TCP', '80') [('10.10.10.1', '20.20.20.1', 'TCP', '80'), ('10.10.10.1', '30.30.30.1', 'TCP', '80')]\n</code></pre>\n\n<p>Now it takes only a bit of processing to turn this into the output format you are looking for:</p>\n\n<pre><code>&gt;&gt;&gt; cols = (0,2,3)\n&gt;&gt;&gt; data.sort(key=getcolumns(cols))\n&gt;&gt;&gt; for k, v in groupby(data, getcolumns(cols)):\n...     v = list(v)\n...     if len(v) == 1: continue\n...     print(*(';'.join(set(r[i] for r in v)) for i in range(len(v[0]))))\n...\n10.10.10.1 20.20.20.1;30.30.30.1 TCP 80\n</code></pre>\n\n<p>(use an <a href=\"https://code.activestate.com/recipes/576694/\" rel=\"nofollow noreferrer\">OrderedSet</a> if you want to use this implementation but you want to retain the order of rows)</p>\n"}], "owner": {"reputation": 111, "user_id": 6901603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e693630e659de6ee9bd30ef1d9eac512?s=128&d=identicon&r=PG&f=1", "display_name": "Clyde", "link": "https://stackoverflow.com/users/6901603/clyde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481157128, "creation_date": 1481141875, "last_edit_date": 1481157128, "question_id": 41026596, "link": "https://stackoverflow.com/questions/41026596/group-multiple-lists-based-on-multiple-factors", "title": "Group Multiple lists based on multiple factors", "body": "<p>New to Python...</p>\n\n<p>If i have an output file (firewall log file) that looks like:</p>\n\n<pre><code>(source)    (dest)    (proto) (service)\n\n10.10.10.1    20.20.20.1    TCP 80\n10.10.10.1    30.30.30.1    TCP 80\n10.10.10.1    40.40.40.1    TCP 514\n10.10.10.1    40.40.40.1    TCP 443\n</code></pre>\n\n<p>I need to group this data based on 3 of the 4 that match. So based on the above output, I need this written to a new file that looks like</p>\n\n<pre><code>10.10.10.1    20.20.20.1;30.30.30.1    TCP 80\n\n                 OR\n10.10.10.1    40.40.40.1    TCP 514, 443\n</code></pre>\n\n<p>(please note the use of semicolon to separate IP address, and in the second line a comma is used to separate the service objects)</p>\n\n<p>I've reviewed the python groupby method, but I just can't get the syntax correct</p>\n\n<p>So in English(in my head):</p>\n\n<pre><code>for every line in the file,\n    if source and/or dest and/or proto, and/or service match any other line in  \n     line in the file\n        combine on one line and write to file (with semicolon if separting IP\n        addresses and a comma if separating service objects)\n\nimport re\nfrom itertools import groupby\nfrom sys import argv\n#Written by Clyde Colbert - f7cmb14\n\nscript, filename = argv\n\ndata = []\n\ndef connection_list(filename):\n    try:\n        with open(filename, \"r\") as file:\n            text = file.read()\n    except IOError:\n        print(filename, \"Does not exist in the current directory. Are you in the correct directory???\")\n\n    sources = re.findall(r'src=(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})', text)\n    dest = re.findall(r'dst=(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})\\.(?:[\\d]{1,3})', text)\n    service = re.findall(r'service=(\\d+)', text)\n    proto = re.findall(r'proto=(\\w+)', text)\n\n    proto = [item.upper() for item in proto]\n    sources = [item.split('=')[1] for item in sources]\n    dest = [item.split('=')[1] for item in dest]\n\n    with open(filename + \"OUTPUT.txt\", \"w\") as TufinReq:\n        for item in zip(sources, dest, proto, service):\n            TufinReq.write('{}\\t{}\\t{} {}\\n'.format(*item))\n\n    f=open(filename + \"OUTPUT.txt\", \"r\")\n    list = []\n    for line in f:\n        if line not in list:\n            list.append(line)\n    f.close()\n    f=open(filename + \"OUTPUT.txt\", \"w+\")\n    for line in list:\n        f.write(line)\n    f.close()\n\n    f=open(filename + \"Output.txt\", \"r\")\n    for line in f:\n        data.append(line)\n\ncols = (0,2,3)\ndef getcolumns(cols):\n    cols = (0,2,3)\n    def f(row):\n        return tuple(row[i] for i in cols)\n    return f\n\nfor k, v in groupby(data, getcolumns(cols)):\n    print(k, list(v))\n\nconnection_list(filename)\n</code></pre>\n"}, {"tags": ["python", "import"], "comments": [{"owner": {"reputation": 2094, "user_id": 5508728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P3gtR.jpg?s=128&g=1", "display_name": "jeff carey", "link": "https://stackoverflow.com/users/5508728/jeff-carey"}, "edited": false, "score": 0, "creation_date": 1481141908, "post_id": 41026586, "comment_id": 69260462, "body": "Use either &quot;from Testfile import greeting&quot; or prefix greeting with Testfile."}, {"owner": {"reputation": 15975, "user_id": 5471709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/09fhV.png?s=128&g=1", "display_name": "Kenly", "link": "https://stackoverflow.com/users/5471709/kenly"}, "edited": false, "score": 0, "creation_date": 1481141958, "post_id": 41026586, "comment_id": 69260492, "body": "Use <code>Testfile.greeting()</code>."}, {"owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1481142178, "post_id": 41026586, "comment_id": 69260623, "body": "That gives me the error - &#39;module&#39; object has no attribute &#39;greeting&#39;"}, {"owner": {"reputation": 15975, "user_id": 5471709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/09fhV.png?s=128&g=1", "display_name": "Kenly", "link": "https://stackoverflow.com/users/5471709/kenly"}, "edited": false, "score": 1, "creation_date": 1481142502, "post_id": 41026586, "comment_id": 69260817, "body": "So <code>greeting</code> isn&#39;t in <code>Testfile</code>."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1481142091, "post_id": 41026614, "comment_id": 69260572, "body": "when I use from Testfile import greetings, I get &quot;cannot import name &#39;greeting&#39;&quot;"}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "reply_to_user": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1481142177, "post_id": 41026614, "comment_id": 69260622, "body": "but you can <code>import Testfile</code> just fine ?"}, {"owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1481142280, "post_id": 41026614, "comment_id": 69260694, "body": "yes, when I use the method - Testfile.greeting() I get the error &#39;module&#39; object has no attribute &#39;greeting&#39;"}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "reply_to_user": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "edited": false, "score": 0, "creation_date": 1481142373, "post_id": 41026614, "comment_id": 69260741, "body": "Where is this module &#39;Testfile&#39; stored? is it in the same folder as your python file? if not you will have to append or insert to <code>sys.path</code> where ever Testfile is. Are you sure it&#39;s called <code>greeting</code> and <code>Testfile.py</code>?"}], "tags": [], "owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142159, "last_edit_date": 1481142159, "creation_date": 1481141926, "answer_id": 41026614, "question_id": 41026586, "link": "https://stackoverflow.com/questions/41026586/cant-run-code-from-imported-file/41026614#41026614", "title": "Cant run code from imported file", "body": "<pre><code>import Testfile    \nTestfile.greeting()\n</code></pre>\n\n<p>or </p>\n\n<pre><code>from Testfile import greeting\ngreeting()\n</code></pre>\n\n<p>you have to specify which module the function is coming from with a <code>.</code> or you tell it when you are importing.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4757770"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142345, "last_edit_date": 1481142345, "creation_date": 1481141945, "answer_id": 41026619, "question_id": 41026586, "link": "https://stackoverflow.com/questions/41026586/cant-run-code-from-imported-file/41026619#41026619", "title": "Cant run code from imported file", "body": "<p>You must call the function after the module that contains it:</p>\n\n<pre><code>    import Testfile\n    Testfile.greeting()\n</code></pre>\n\n<p>Note that this approach is better because this may lead to namespace conflicts and prevents the scalability of your program.</p>\n\n<p>Please follow <a href=\"https://www.python.org/dev/peps/pep-0008/#package-and-module-names\" rel=\"nofollow noreferrer\">PEP 8, section module names</a></p>\n"}], "owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1481142345, "creation_date": 1481141828, "question_id": 41026586, "link": "https://stackoverflow.com/questions/41026586/cant-run-code-from-imported-file", "title": "Cant run code from imported file", "body": "<p>How can I run a function I have created in another file? I know there are many questions asking this but my code is so simple I dont get how it doesn't work.</p>\n\n<p>In one file called Testfile I have</p>\n\n<pre><code>def greeting():\n    print(\"Hello\")\n</code></pre>\n\n<p>and in the other I have </p>\n\n<pre><code>import Testfile\n\ngreeting()\n</code></pre>\n\n<p>but when I run the code I get the error \n\"name 'greeting' is not defined\"</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1481141931, "post_id": 41026579, "comment_id": 69260473, "body": "<code>min(i[&#39;price&#39;] for i in goodsandprices)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": false, "score": 1, "last_activity_date": 1481141953, "creation_date": 1481141953, "answer_id": 41026625, "question_id": 41026579, "link": "https://stackoverflow.com/questions/41026579/getting-datas-from-dictionaries-in-lists-python/41026625#41026625", "title": "Getting datas from Dictionaries in lists Python", "body": "<p>If you just want the member with the smallest <code>price</code> value, you could do:</p>\n\n<pre><code>print min(goodsandprices, key=lambda _:_[\"price\"])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 1, "last_activity_date": 1481142130, "creation_date": 1481142130, "answer_id": 41026669, "question_id": 41026579, "link": "https://stackoverflow.com/questions/41026579/getting-datas-from-dictionaries-in-lists-python/41026669#41026669", "title": "Getting datas from Dictionaries in lists Python", "body": "<p>Use <code>min(iterable, *[, key, default])</code> function with a callback function as <code>key</code> argument:</p>\n\n<pre><code>goodsandprices = [{'good': 'apple', 'price': 10}, {'good': 'pear', 'price': 20}, {'good': 'orange', 'price': 25}, {'good': 'plum', 'price': 15}, {'good': 'wine', 'ar': 40}]\nresult = min(goodsandprices, key=lambda x: getattr(x, 'price', 0))\n\nprint(result['price']) \n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142531, "creation_date": 1481142531, "answer_id": 41026797, "question_id": 41026579, "link": "https://stackoverflow.com/questions/41026579/getting-datas-from-dictionaries-in-lists-python/41026797#41026797", "title": "Getting datas from Dictionaries in lists Python", "body": "<pre><code>goodsandprices = [{'good': 'apple', 'price': 10}, {'good': 'pear', 'price': 20}, {'good': 'orange', 'price': 25}, {'good': 'plum', 'price': 15}, {'good': 'wine', 'ar': 40}]    \nkey = 'price'\narr1 = []\n\nfor item in goodsandprices:\n    if key in item:\n        arr1.append(item['price'])\n\n\nprint min(arr1)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7264312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f9b216fc1c3beb059b169619445f9c?s=128&d=identicon&r=PG&f=1", "display_name": "Tonesz586", "link": "https://stackoverflow.com/users/7264312/tonesz586"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1481142531, "creation_date": 1481141804, "last_edit_date": 1481141859, "question_id": 41026579, "link": "https://stackoverflow.com/questions/41026579/getting-datas-from-dictionaries-in-lists-python", "title": "Getting datas from Dictionaries in lists Python", "body": "<p>I've been thinking and reading for a while, but I haven't found a solution so far. My problem is, I have some dictionaries in a list </p>\n\n<pre><code>goodsandprices = [{'good': 'apple', 'price': 10}, {'good': 'pear', 'price': 20}, {'good': 'orange', 'price': 25}, {'good': 'plum', 'price': 15}, {'good': 'wine', 'ar': 40}]\n</code></pre>\n\n<p>I'm not even sure if it is correct, well my program didn't make a fuss about it. My intention is to collect every data which has \"price\" key, and get the minimum value of it. my first guess was like </p>\n\n<pre><code>min(goodsandprices['price']))\n</code></pre>\n\n<p>but this gave me an error. Could you give me a tip how to do this?</p>\n"}, {"tags": ["python", "function", "loops"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7259213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d80664f051bff89cf8b9aabe17f650d?s=128&d=identicon&r=PG&f=1", "display_name": "pythonbrutus", "link": "https://stackoverflow.com/users/7259213/pythonbrutus"}, "edited": false, "score": 0, "creation_date": 1481142285, "post_id": 41026591, "comment_id": 69260696, "body": "works fine! thanks for that. tried that one before but made the mistake to assign the variable after calling random.choice(foo)."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 0, "last_activity_date": 1481141861, "creation_date": 1481141861, "answer_id": 41026591, "question_id": 41026536, "link": "https://stackoverflow.com/questions/41026536/python-random-choice-in-loop-with-if-function-how-to-assign-value-to-each-it/41026591#41026591", "title": "Python random.choice() in loop with if-function - how to assign value to each iteration", "body": "<p>That's what an assignment statement does. Simply assign the first call to <code>random.choice</code> to a variable and then reuse that variable across the current iteration.</p>\n\n<pre><code>for i in range(10):\n     rand = random.choice(foo)\n     print(i, rand)\n     if rand == \"black\":\n         ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 1843473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d795e964fd4cd8644668e489d76be4d2?s=128&d=identicon&r=PG", "display_name": "user1843473", "link": "https://stackoverflow.com/users/1843473/user1843473"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142087, "creation_date": 1481142087, "answer_id": 41026665, "question_id": 41026536, "link": "https://stackoverflow.com/questions/41026536/python-random-choice-in-loop-with-if-function-how-to-assign-value-to-each-it/41026665#41026665", "title": "Python random.choice() in loop with if-function - how to assign value to each iteration", "body": "<p>You can fix this issue by assigning the first call of random.choice to a variable and then reference that variable. So something like this should work:</p>\n\n<pre><code>import random\n\ndef randomcolour():\n    foo = ['black', 'red']\n    for i in range(10):\n        mychoice = random.choice(foo)\n        print(i, mychoice)\n        if mychoice == \"black\":\n            print(i, \"black\")\n        else:\n            print(i, \"red\")\n\nrandomcolour()\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 7259213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d80664f051bff89cf8b9aabe17f650d?s=128&d=identicon&r=PG&f=1", "display_name": "pythonbrutus", "link": "https://stackoverflow.com/users/7259213/pythonbrutus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4061, "favorite_count": 0, "accepted_answer_id": 41026591, "answer_count": 2, "score": 0, "last_activity_date": 1481142087, "creation_date": 1481141664, "question_id": 41026536, "link": "https://stackoverflow.com/questions/41026536/python-random-choice-in-loop-with-if-function-how-to-assign-value-to-each-it", "title": "Python random.choice() in loop with if-function - how to assign value to each iteration", "body": "<p>I am running a for-loop which prints a value for random.choice (either \"black\" or \"red\") for each iteration. That works fine, however assigning the random.choice in the if condition does not seem to work:</p>\n\n<pre><code>import random\n\ndef randomcolour():\n    foo = ['black', 'red']\n\n    for i in range(10):\n        random.choice(foo)\n        print(i, random.choice(foo))\n        if random.choice(foo) == \"black\":\n            print(i, \"black\")\n        else:\n            print(i, \"red\")\n\nrandomcolour()\n</code></pre>\n\n<p>What happens here is that the first execution of \"random.choice(foo)\" randomly chooses \"black\" or \"red\". However, the \"random.choice(foo)\" in the if-function does obviously choose another random value, instead using the same random value previously chosen. </p>\n\n<p>For example, if the first print statement...</p>\n\n<pre><code> print(i, random.choice(foo))\n</code></pre>\n\n<p>...prints out \"black\", the statement after that (in the same loop iteration)...</p>\n\n<pre><code>if random.choice(foo) == \"black\":\n            print(i, \"black\")\n</code></pre>\n\n<p>...should also print out \"black\". However, it seems to print out randomly \"black\" or \"red\" regardless. How can I fix that? In other words, how do I use the first selected random value for the full loop iteration? </p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python", "random-forest", "roc", "model-validation"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 6768058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-K9QrmyE0F5k/AAAAAAAAAAI/AAAAAAAAAGs/QOtuR17ZGOA/photo.jpg?sz=128", "display_name": "LUSAQX", "link": "https://stackoverflow.com/users/6768058/lusaqx"}, "edited": false, "score": 0, "creation_date": 1481142517, "post_id": 41026637, "comment_id": 69260826, "body": "Ok. But when I used the second one which returned a 0.75 ROC in my project, I check the confusion matrix thereafter, finding that the model classify all test cases into zero which is abundant in my dataset comparing to class 1. What is the problem underlining? On the other hand, I used the first one to calculate the ROC which returned 0.5. This seemed reasonable for the case the model return only one class value for all test observation."}], "tags": [], "owner": {"reputation": 55, "user_id": 6007797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae52a8668fc4f8063c6437ce309dcfaf?s=128&d=identicon&r=PG&f=1", "display_name": "f311a", "link": "https://stackoverflow.com/users/6007797/f311a"}, "is_accepted": false, "score": 0, "last_activity_date": 1481141989, "creation_date": 1481141989, "answer_id": 41026637, "question_id": 41026525, "link": "https://stackoverflow.com/questions/41026525/the-difference-in-roc-auc-score/41026637#41026637", "title": "The difference in roc_auc_score?", "body": "<p>The second one is correct.<br>\nYou predictions should be ranked, since ROC AUC only cares about ranking.</p>\n"}], "owner": {"reputation": 317, "user_id": 6768058, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-K9QrmyE0F5k/AAAAAAAAAAI/AAAAAAAAAGs/QOtuR17ZGOA/photo.jpg?sz=128", "display_name": "LUSAQX", "link": "https://stackoverflow.com/users/6768058/lusaqx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481143043, "creation_date": 1481141617, "last_edit_date": 1481143043, "question_id": 41026525, "link": "https://stackoverflow.com/questions/41026525/the-difference-in-roc-auc-score", "title": "The difference in roc_auc_score?", "body": "<p>I just wanna clarify that what is the difference between </p>\n\n<pre><code>roc_auc_score(y_test,results.predict(X_test))\n</code></pre>\n\n<p>and </p>\n\n<pre><code>roc_auc_score(y_test,results.predict_proba(X_test)[:,1])\n</code></pre>\n\n<p>I know the latter one return the probability of class 0 for each test observation and also in plotting out roc_curve, predict_proba() should be used. But which is the right way to check a binary classification model performance in ROC? I use the former one currently. What does the latter one mean? </p>\n"}, {"tags": ["python", "html", "flask"], "comments": [{"owner": {"reputation": 1679, "user_id": 844976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284b6b2d4cb5a384793f7dd4ab6382a1?s=128&d=identicon&r=PG", "display_name": "YellowShark", "link": "https://stackoverflow.com/users/844976/yellowshark"}, "edited": false, "score": 0, "creation_date": 1481143067, "post_id": 41026510, "comment_id": 69261111, "body": "Could you tell us more about what&#39;s not working? I created a simple view in an existing Flask app using your code, and it passed the test for <code>request_method == &#39;POST&#39;</code>, and redirected me back to the <code>&#47;</code> url. Clearly I removed the mysql stuff, and the test for the <code>post_id</code> value - but the parts that I can test appear to function correctly (including the value attribute of the button input)."}, {"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "reply_to_user": {"reputation": 1679, "user_id": 844976, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/284b6b2d4cb5a384793f7dd4ab6382a1?s=128&d=identicon&r=PG", "display_name": "YellowShark", "link": "https://stackoverflow.com/users/844976/yellowshark"}, "edited": false, "score": 0, "creation_date": 1481143438, "post_id": 41026510, "comment_id": 69261297, "body": "When I click the button, I get the error:  Internal Server Error The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481143999, "post_id": 41026510, "comment_id": 69261637, "body": "Marc, an &quot;Internal Server Error&quot; probably indicates some programming error in the route. You can probably get the traceback if you run the app interactively. As david mentioned, you did not define <code>post_id</code> -- That could be the ticket. Please update your question with any traceback or error messages. <code>app.debug=True</code> may also help."}, {"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "edited": false, "score": 0, "creation_date": 1481144548, "post_id": 41026510, "comment_id": 69261977, "body": "&quot;you did not define <code>post_id</code>&quot; This is definitely the problem. I&#39;m unsure how to get that value from the button. Would I pull this from the <code>name=</code> field or the <code>value=</code> field.  As far as debugging goes, I&#39;m using wsgi, and can&#39;t get it working with werkzeug. Thank you for bearing with me. I am still new to Flask/Python."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1481144663, "post_id": 41026510, "comment_id": 69262048, "body": "to get value from button you need ie. <code>post_id = request.form[&#39;delete&#39;]</code>"}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1481144686, "post_id": 41026510, "comment_id": 69262065, "body": "If your code were valid and free of errors, getting the value by <code>request.form.get(&quot;delete&quot;)</code> would work. I don&#39;t doubt that you are getting the value back in your application. For kicks, try this under the <code>if request.method == &#39;POST&#39;</code> just return the value -- <code>return request.form.get(&quot;delete&quot;)</code>"}, {"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "edited": false, "score": 1, "creation_date": 1481153873, "post_id": 41026510, "comment_id": 69266183, "body": "Yes great! Now I understand. The &#39;for kicks&#39; suggestion did just what I hoped - returned the number. Now I can pass it down the line."}], "answers": [{"comments": [{"owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "edited": false, "score": 0, "creation_date": 1481153976, "post_id": 41027687, "comment_id": 69266221, "body": "Awesome! This is basically what worked for me... The only difference was I had to do: <code>sql = (&quot;DELETE FROM test_table WHERE post_id=%s&quot;)</code>  <code>c.execute(sql, (post_id_delete,) )</code>"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 3, "last_activity_date": 1481146065, "creation_date": 1481146065, "answer_id": 41027687, "question_id": 41026510, "link": "https://stackoverflow.com/questions/41026510/flask-button-passing-variable-back-to-python/41027687#41027687", "title": "Flask button passing variable back to python", "body": "<p>Your problem is </p>\n\n<pre><code>request.form['delete'] == post_id \n</code></pre>\n\n<p>You get value from button (<code>request.form['delete']</code>) and try to compare with value in variable <code>post_id</code> which doesn't exists. </p>\n\n<p>If you want to get value from button and assign to variable <code>post_id</code> then you need</p>\n\n<pre><code>post_id = request.form['delete']\n</code></pre>\n\n<p>or</p>\n\n<pre><code>post_id = request.form.get('delete')\n</code></pre>\n\n<p>and then you can use <code>post_id</code> in SQL query.</p>\n\n<pre><code>@app.route('/', methods=[\"GET\",\"POST\"])\ndef home():    \n    if request.method == 'POST':\n\n        post_id = request.form.get('delete')\n\n        if post_id is not None:\n            (my sql login/cursor stuff....)\n            sql = \"DELETE FROM test_table WHERE post_id = ?\"\n            c.execute(sql, (post_id,))\n            return redirect(\"/\")\n</code></pre>\n"}], "owner": {"reputation": 450, "user_id": 6775715, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-WFXHejgHHew/AAAAAAAAAAI/AAAAAAAAAl0/vFbrYjsoFNw/photo.jpg?sz=128", "display_name": "M Leonard", "link": "https://stackoverflow.com/users/6775715/m-leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12328, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1481146065, "creation_date": 1481141563, "last_edit_date": 1481144807, "question_id": 41026510, "link": "https://stackoverflow.com/questions/41026510/flask-button-passing-variable-back-to-python", "title": "Flask button passing variable back to python", "body": "<p>I've found a lot of into similar to this, but I just can't quite make it work. Basically, I've got a button, and upon pressing it, I want to fire that value back to my flask backend.</p>\n\n<p>HTML Button:</p>\n\n<pre><code>&lt;form action=\"\" method=\"POST\" &gt;&lt;button class=\"btn btn-danger\" type=\"submit\" name=\"delete\" value=\"{{  item2  }}\"&gt;&lt;span class=\"glyphicon glyphicon-trash\"&gt;&lt;/span&gt; Delete&lt;/button&gt; &lt;/form&gt;\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>@app.route('/', methods=[\"GET\",\"POST\"])\ndef home():    \n    if request.method == 'POST':\n        if request.form['delete'] == post_id:\n            (my sql login/cursor stuff....)\n            sql = \"DELETE FROM test_table WHERE post_id = ?\"\n            c.execute(sql, (post_id,))\n            return redirect(\"/\")\n</code></pre>\n\n<p>As you can see, I'm populating the links (and subsequent variable) with jinja. It populated the button as it should, but sending it back to my python script isn't working. </p>\n\n<p><strong>UPDATE:</strong>\nWhen I run this, I get an internal server error. I cannot see what the routing error is because I can't get debug to work (using wsgi/werkzeug).</p>\n\n<p>I think we can conclusively say is that by not defining <code>post id</code> is why it's not working. So my question is, when the button sends data BACK to python, what value (and how) does python grab? is it <code>name=</code> or <code>value=</code> or something else?</p>\n"}, {"tags": ["python", "python-2.7", "function", "arguments"], "comments": [{"owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1481141840, "post_id": 41026497, "comment_id": 69260427, "body": "It didn&#39;t past very well i see, but everything is under the function."}], "answers": [{"tags": [], "owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "is_accepted": true, "score": 3, "last_activity_date": 1481144410, "last_edit_date": 1481144410, "creation_date": 1481141955, "answer_id": 41026626, "question_id": 41026497, "link": "https://stackoverflow.com/questions/41026497/exception-handling-for-function-arguments/41026626#41026626", "title": "Exception Handling for function arguments", "body": "<p>You have two choices</p>\n\n<ul>\n<li>Validate your arguments in your SendMail function and raise a suitable exception (e.g. <code>ValueError</code>)</li>\n<li>Pass the invalid arguments to the <code>server.sendmail</code> function, let it raise the exception, and don't catch it.</li>\n</ul>\n\n<p>Either way, there's nothing you can sensibly do to deal with the exception, so simply let it propagate to the caller.</p>\n\n<p>Consider a toy example</p>\n\n<pre><code>def divide(a, b):\n  return a / b;\n</code></pre>\n\n<p>Now this can be broken in a number of ways:</p>\n\n<ul>\n<li>Passing in a value of zero for B</li>\n<li>Passing in a string for a or b</li>\n<li>Passing in any other type for which the divide operator is not defined.</li>\n</ul>\n\n<p>So you could check for all those things (assume this only works for int)</p>\n\n<pre><code>def divide(a,b):\n  if not (isinstance(a,int) and isinstance(b,int)):\n    raise ValueError(\"Arguments must both be integers\")\n\n  if b == 0:\n    raise ValueError(\"Attempt to divide by zero\")\n\n  return a / b\n</code></pre>\n\n<p>Or you can just leave it as is, and let Python raise the appropriate exception</p>\n"}], "owner": {"reputation": 223, "user_id": 1598306, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1e65614030a55bc77d86a36139c7469f?s=128&d=identicon&r=PG", "display_name": "NineTail", "link": "https://stackoverflow.com/users/1598306/ninetail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 41026626, "answer_count": 1, "score": 2, "last_activity_date": 1481230757, "creation_date": 1481141539, "last_edit_date": 1481230757, "question_id": 41026497, "link": "https://stackoverflow.com/questions/41026497/exception-handling-for-function-arguments", "title": "Exception Handling for function arguments", "body": "<p>I'm starting to work with Python again and have an issue with how to handle exceptions from arguments in a function. Say someone does not enter a <code>toaddr</code> or a <code>fromaddr</code> or <code>subject</code> or <code>body</code>. Or they enter a <code>fromaddr</code> but not a <code>toaddr</code>. How can I tell if they are putting in a to or from? Say I do:</p>\n\n<pre><code>SendMail('', from@email.com, Message, message body)\n</code></pre>\n\n<p>This works becuase I'm providing all the arugments, but if I leave <code>toaddr</code> blank I get not enough requirements error.</p>\n\n<p>I don't think I'm explaining this very well :(. </p>\n\n<p>My function is this:</p>\n\n<pre><code>def SendMail(toaddr, fromaddr, subject, body, attach=False):\n    # create a MIME(Multipurpose Internet Mail Extension)\n    msg = MIMEMultipart()\n\n    # assign toaddr, fromaddr and subject to lists\n    msg['To'] = toaddr\n    msg['From'] = fromaddr\n    msg['Subject'] = subject\n\n    msg.attach(MIMEText(body, 'plain'))\n\n    # attach a file if set to true\n    if attach == True:\n        filename = raw_input('fullpath/filename.extension&gt;&gt;&gt; ')\n        attachment = open(filename, \"rb\")\n\n        part = MIMEBase('application', 'octet-stream')\n        part.set_payload((attachment).read())\n        encoders.encode_base64(part)\n        part.add_header('Content-Disposition', \"attachment; filename= %s\" % filename)\n\n        msg.attach(part)\n\n    # establish connection to smtp server and send mail\n    try:\n        print('Sending Mail')\n        server = smtplib.SMTP('mail.server.com', 25)\n        text = msg.as_string()\n        server.sendmail(fromaddr, toaddr, text)\n        server.quit()\n        print('Mail Sent!')\n    except smtplib.SMTPException:\n        print(\"Could not send mail\")\n        pass\n    except smtplib.socket.error:\n        print(\"Could not connect to server\")\n        pass\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 4675, "user_id": 2836259, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3783d559c2d24f907375c588bd5160ff?s=128&d=identicon&r=PG", "display_name": "conner.xyz", "link": "https://stackoverflow.com/users/2836259/conner-xyz"}, "edited": false, "score": 0, "creation_date": 1481647311, "post_id": 41030577, "comment_id": 69456311, "body": "would you recommend <code>django-allauth</code> then? Also (considering your comment about &quot;not very secure&quot;), it seems one would want their admin to be secure... would you suggest not using the admin module?"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "reply_to_user": {"reputation": 4675, "user_id": 2836259, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3783d559c2d24f907375c588bd5160ff?s=128&d=identicon&r=PG", "display_name": "conner.xyz", "link": "https://stackoverflow.com/users/2836259/conner-xyz"}, "edited": false, "score": 0, "creation_date": 1481671638, "post_id": 41030577, "comment_id": 69468818, "body": "yes django-allauth comes highly recommended. Don&#39;t use the admin for ordinary uses, build something with CBVs"}], "tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 1, "last_activity_date": 1481162498, "creation_date": 1481162498, "answer_id": 41030577, "question_id": 41026487, "link": "https://stackoverflow.com/questions/41026487/django-1-10-setting-admin-site-site-header-and-using-default-admin-login-view/41030577#41030577", "title": "Django 1.10: Setting admin.site.site_header and using default admin login view", "body": "<blockquote>\n  <p>My high-level interest is to basically piggy-back the admin app for\n  regular user accounts. Am I going about this wrong?</p>\n</blockquote>\n\n<p>Unfortunately, yes, you are.</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.10/intro/tutorial02/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.10/intro/tutorial02/</a></p>\n\n<blockquote>\n  <p>The admin isn\u2019t intended to be used by site visitors. It\u2019s for site\n  managers.</p>\n</blockquote>\n\n<p>It's so easy to add an authentication system using one of the many tried and tested registrion/auth packages available (example django-allauth) that trying to re-purpose django admin as a user level app is wastefull and not very secure either.</p>\n"}], "owner": {"reputation": 4675, "user_id": 2836259, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3783d559c2d24f907375c588bd5160ff?s=128&d=identicon&r=PG", "display_name": "conner.xyz", "link": "https://stackoverflow.com/users/2836259/conner-xyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 41030577, "answer_count": 1, "score": 1, "last_activity_date": 1481162498, "creation_date": 1481141508, "last_edit_date": 1481142605, "question_id": 41026487, "link": "https://stackoverflow.com/questions/41026487/django-1-10-setting-admin-site-site-header-and-using-default-admin-login-view", "title": "Django 1.10: Setting admin.site.site_header and using default admin login view", "body": "<p>I'm trying to (at the project level): </p>\n\n<ul>\n<li>Use the default admin view (<code>auth.views.login</code>) as my login view</li>\n<li>Set the <code>admin.site.site_header</code> within <code>ulrs.py</code> so that it appears on the both the login and admin pages</li>\n</ul>\n\n<p>First, doing this does update the <code>site_header</code> on the admin page...</p>\n\n<pre><code># urls.py\n\nadmin.site.site_header = \"my header name\"\n\nurlpatterns = [\n    url(r'^admin/?', admin.site.urls),\n    url(r'^', include('django.contrib.auth.urls')),\n    ...\n]\n</code></pre>\n\n<p>From here it would appear I should be able to either do this:</p>\n\n<pre><code># registration/login.html\n\n{% extends \"admin/login.html\" %}\n</code></pre>\n\n<p>Or this (copy/paste from django/admin/templates/login.html):</p>\n\n<pre><code># registration/login.html\n\n{% extends \"admin/base_site.html\" %}\n{% load i18n static %}\n\n{% block extrastyle %}{{ block.super }}&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static \"admin/css/login.css\" %}\" /&gt;\n{{ form.media }}\n{% endblock %}\n...\n</code></pre>\n\n<p>Neither employ the header with \"my header name\" like the admin view does.</p>\n\n<p>Why doesn't my <code>registration/login.html</code> get the <code>admin.site.site_header</code> I'm setting in <code>urls.py</code>?</p>\n\n<p>Thanks.</p>\n\n<p><strong><em>Update:</em></strong></p>\n\n<p>I see that <code>auth/view.py</code> doesn't have <code>site_header</code> in its context by default:</p>\n\n<pre><code># auth/view.py\n\ndef login(...\n\n    current_site = get_current_site(request)\n\n    context = {\n        'form': form,\n        redirect_field_name: redirect_to,\n        'site': current_site,\n        'site_name': current_site.name,\n    }\n\n    ...\n</code></pre>\n\n<p>And that <code>admin/sites.py</code> is responsible for defining <code>AdminSite</code> which sets <code>site_header</code> for the admin site </p>\n\n<pre><code>class AdminSite(object):\n    ...\n\n    def each_context(self, request):\n        \"\"\"\n        Returns a dictionary of variables to put in the template context for\n        *every* page in the admin site.\n\n        For sites running on a subpath, use the SCRIPT_NAME value if site_url\n        hasn't been customized.\n        \"\"\"\n        script_name = request.META['SCRIPT_NAME']\n        site_url = script_name if self.site_url == '/' and script_name else self.site_url\n        return {\n            'site_title': self.site_title,\n            'site_header': self.site_header,\n            'site_url': site_url,\n            'has_permission': self.has_permission(request),\n            'available_apps': self.get_app_list(request),\n        }\n...\n</code></pre>\n\n<p>I see how I could create my own <code>base_site.html</code> (hardcoding <code>{{ \"my header name }}</code>) to use in the copy/pasted <code>login.html</code> above, but that seems messy.  I'd like to set this variable in one place and use as much of admin directly as possible.</p>\n\n<p>My high-level interest is to basically piggy-back the admin app for regular user accounts.  Am I going about this wrong?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 7433, "user_id": 3801801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a985b6842783328a1934557510cc1fa6?s=128&d=identicon&r=PG&f=1", "display_name": "joel.wilson", "link": "https://stackoverflow.com/users/3801801/joel-wilson"}, "edited": false, "score": 0, "creation_date": 1481141430, "post_id": 41026426, "comment_id": 69260155, "body": "like to each row ?"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 7433, "user_id": 3801801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a985b6842783328a1934557510cc1fa6?s=128&d=identicon&r=PG&f=1", "display_name": "joel.wilson", "link": "https://stackoverflow.com/users/3801801/joel-wilson"}, "edited": false, "score": 0, "creation_date": 1481141538, "post_id": 41026426, "comment_id": 69260240, "body": "hi @joel.wilson no not to each row. my input was &quot;tab1&quot; and &quot;tab2&quot; so i want to print out my input, not to each row. oh let me make my question more clear in the question body. :) hope this made my question more clear!"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1481141587, "post_id": 41026426, "comment_id": 69260275, "body": "why is this necessary? what use do you have with the name of a variable as a string?"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1481141663, "post_id": 41026426, "comment_id": 69260327, "body": "@PaulH hi paul. I am trying to make it print so that when i run this function, i know which file is doing to which file, since the intputs to the function are both tables. just for my personal preference."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1481141850, "post_id": 41026426, "comment_id": 69260431, "body": "from experience, you&#39;re going down a deep rabbit hole for very marginal benefits."}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1481141993, "post_id": 41026426, "comment_id": 69260515, "body": "@PaulH there&#39;s nothing wrong with curiosity to learn something right? :P"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1481142041, "post_id": 41026426, "comment_id": 69260543, "body": "you should modify your function to accept the names of the files, then read the files to dataframes and operate on them. That way you can just print the filenames and not have to worry about what the variable is called."}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1481142276, "post_id": 41026426, "comment_id": 69260691, "body": "yup!!! just thought of that and tried it after reading your previous comment. glad that you confirmed my approach to be an acceptable one! thank you!"}], "owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481141762, "creation_date": 1481141288, "last_edit_date": 1481141762, "question_id": 41026426, "link": "https://stackoverflow.com/questions/41026426/python-pandas-how-to-obtain-input-argument-value-but-not-the-value-itself", "title": "python: (pandas) how to obtain input argument value (but not the value itself)?", "body": "<p>So let's say I have dataframes <code>tab1</code> and <code>tab2</code>.</p>\n\n<p>I want to do something to the two tables, so I created a function and used these two tables as input. </p>\n\n<p>Here's how my function looks:</p>\n\n<pre><code>def my_fxn(input1, input2):\n    print('... combining '+input1+' to '+input2)\n    # [DO SMTH TO THE TABLES]\n</code></pre>\n\n<p>When I call the function using my two tables:</p>\n\n<pre><code>my_fxn(tab1, tab2)\n</code></pre>\n\n<p>and my expected output from the print statement inside the function is:</p>\n\n<pre><code>\"...combining tab1 to tab2\"\n</code></pre>\n\n<p>So basically, I'm trying to retrieve the <em>names</em> of the original input I put in, and NOT the values. </p>\n\n<p>Above print statement does not work because <code>input1</code> and <code>input2</code> are dataframes, so I cannot just concatenate them like that. </p>\n\n<p>I also tried:</p>\n\n<pre><code>def my_fxn(input1, input2):\n    print('... combining '+str(input1)+' to '+str(input2))\n    # [DO SMTH TO THE TABLES]\n</code></pre>\n\n<p>But ofc this is also incorrect, as it's trying to convert the entire tables to string. </p>\n\n<p>I've tried multiple ways of asking my question on Google, but I have not found another post regarding this. </p>\n"}, {"tags": ["python", "python-2.7", "input"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481141615, "post_id": 41026479, "comment_id": 69260288, "body": "2 blank lines in a row, sorry for not specifying"}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481141646, "post_id": 41026479, "comment_id": 69260316, "body": "As in, the user hits the &quot;Enter&quot; key on two successive prompts?"}, {"owner": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481141659, "post_id": 41026479, "comment_id": 69260322, "body": "Yes sir, that&#39;s exactly it"}, {"owner": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481141729, "post_id": 41026479, "comment_id": 69260368, "body": "The above code will break when exactly two blank lines are given, if the data read has blank lines in it for clarity.."}, {"owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "reply_to_user": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481141816, "post_id": 41026479, "comment_id": 69260414, "body": "Then you&#39;ll need to clarify in your question as it is ambiguous as to what you&#39;re exactly attempting to achieve."}, {"owner": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "edited": false, "score": 0, "creation_date": 1481216328, "post_id": 41026479, "comment_id": 69297326, "body": "I reconfigured it a little bit and it worked, thank you"}], "tags": [], "owner": {"reputation": 3639, "user_id": 174652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9ad8d2315a7c6384163af80299a65?s=128&d=identicon&r=PG", "display_name": "joebeeson", "link": "https://stackoverflow.com/users/174652/joebeeson"}, "is_accepted": true, "score": 3, "last_activity_date": 1481141482, "creation_date": 1481141482, "answer_id": 41026479, "question_id": 41026417, "link": "https://stackoverflow.com/questions/41026417/prompting-for-input-until-2-blank-lines-are-given/41026479#41026479", "title": "Prompting for input until 2 blank lines are given", "body": "<pre><code>number_of_empty_responses = 0\nwhile True:\n    data = raw_input(\"Copy and paste the work log: \")\n    if data == \"\":\n        number_of_empty_responses += 1\n        if number_of_empty_responses == 2:\n            break\n    else:\n        number_of_empty_responses = 0\n        pass # Received data, perform work.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3294, "user_id": 1420489, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/29db8597cd73e45026bc0045d9b70cf3?s=128&d=identicon&r=PG", "display_name": "xealits", "link": "https://stackoverflow.com/users/1420489/xealits"}, "is_accepted": false, "score": 0, "last_activity_date": 1577400571, "creation_date": 1577400571, "answer_id": 59494226, "question_id": 41026417, "link": "https://stackoverflow.com/questions/41026417/prompting-for-input-until-2-blank-lines-are-given/59494226#59494226", "title": "Prompting for input until 2 blank lines are given", "body": "<p>For future me or somebody else. The <code>input</code> until 2 conscutive newline characters:</p>\n\n<pre><code>def handy_input(prompt='&gt; '):\n    'An `input` with 2 newline characters ending.'\n\n    all_input_strings = ''\n\n    # prompt the user for input\n    given_input = input(prompt)\n    all_input_strings += given_input\n    # and handle the two newline ending                                                                                                           \n    while given_input:\n        # if previous input is not empty prompt again\n        given_input = input('')\n        all_input_strings += '\\n' + given_input\n\n    return all_input_strings\n</code></pre>\n\n<p>And the answer to the question with 2 empty lines:</p>\n\n<pre><code>def empty_lines_input(prompt='&gt; ', n_lines=2):\n    'An `input` with `n_lines` empty line ending.'\n\n    all_input_strings = ''\n\n    # prompt the user for input\n    given_input = input(prompt)\n    all_input_strings += given_input\n    # and handle the two newline ending                                                                                                           \n    while n_lines&gt;0:\n        # if previous input is not empty prompt again\n        given_input = input('')\n        all_input_strings += '\\n' + given_input\n        # check if it was an empty line\n        if not given_input:\n            n_lines -= 1\n        else:\n            n_lines = 2\n\n    return all_input_strings\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 7157934, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nUGMV.jpg?s=128&g=1", "display_name": "papasmurf", "link": "https://stackoverflow.com/users/7157934/papasmurf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2237, "favorite_count": 0, "accepted_answer_id": 41026479, "answer_count": 2, "score": 2, "last_activity_date": 1577400571, "creation_date": 1481141253, "last_edit_date": 1481141959, "question_id": 41026417, "link": "https://stackoverflow.com/questions/41026417/prompting-for-input-until-2-blank-lines-are-given", "title": "Prompting for input until 2 blank lines are given", "body": "<p>I need to prompt a user for input until 2 blank lines are given in a row, please note that the input read may have blank lines in it for clarity purposes, I will need two blank lines given back to back before it breaks.</p>\n\n<p>So far I've come up with this:</p>\n\n<pre><code>def gather_intel():\n    done = False\n    while done is False:\n        data = raw_input(\"Copy and paste the work log: \")\n        if data is None:\n            done = True\n</code></pre>\n\n<p>How ever this will end as soon as a single blank line is given, I've also tried adding another <code>while</code> loop to it:</p>\n\n<pre><code>def gather_intel():\n    done = False\n    while done is False:\n        data = raw_input(\"Copy and paste the work log: \")\n        while data != \"\" + \"\\n\" + \"\":\n            data = raw_input(\"Copy and paste the work log: \")\n            if data == \"\" + \"\\n\" + \"\":\n                done = True\n</code></pre>\n\n<p>However this one is an infinite loop and will never end. How can I prompt a user for input, until there are two blank lines given to the input back to back?</p>\n"}, {"tags": ["python", "pandas", "jupyter-notebook", "kaggle"], "comments": [{"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "edited": false, "score": 0, "creation_date": 1481752037, "post_id": 41026410, "comment_id": 69507660, "body": "anyone have any idea why this might be the case?"}, {"owner": {"reputation": 585, "user_id": 3765034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755259ce8e51cca447771a71461e87c?s=128&d=identicon&r=PG&f=1", "display_name": "Chinny84", "link": "https://stackoverflow.com/users/3765034/chinny84"}, "edited": false, "score": 0, "creation_date": 1481753112, "post_id": 41026410, "comment_id": 69508095, "body": "How are you running your code? since if you are using <code>jupyter notebook</code> then you would have a <code>*.ipynb</code> file which you can run. You will not be running your <code>*.py</code> in notebook."}, {"owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 0, "creation_date": 1481754183, "post_id": 41026410, "comment_id": 69508510, "body": "Couple of assumptions: you are running this on Python 2.7, and you have tried splitting up the lines on different cells to see which one is the problem right?"}, {"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "reply_to_user": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 0, "creation_date": 1481759945, "post_id": 41026410, "comment_id": 69510411, "body": "@Back2Basics Yeah I have tried it, it&#39;s importing pandas that isn&#39;t working for some reason."}, {"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "reply_to_user": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 0, "creation_date": 1481760015, "post_id": 41026410, "comment_id": 69510430, "body": "@Back2Basics I have tried that. The problem seems to be importing pandas. It works in my normal python files; however, not in my notebook"}, {"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "edited": false, "score": 0, "creation_date": 1481760029, "post_id": 41026410, "comment_id": 69510432, "body": "And yes, it is python 2.7"}, {"owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 0, "creation_date": 1481760260, "post_id": 41026410, "comment_id": 69510491, "body": "Ahhh. Download and install Anaconda <a href=\"https://www.continuum.io/downloads\" rel=\"nofollow noreferrer\">continuum.io/downloads</a>"}, {"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "edited": false, "score": 0, "creation_date": 1481811433, "post_id": 41026410, "comment_id": 69533062, "body": "yep, anaconda is what I&#39;m running now. any ideas as why it still wouldn&#39;t work in the notebook?"}, {"owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "edited": false, "score": 0, "creation_date": 1481812087, "post_id": 41026410, "comment_id": 69533516, "body": "Actually. It&#39;s working now. I am not quite sure why it was wrong but maybe it was running on my old python before I changed everything up"}], "answers": [{"tags": [], "owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "is_accepted": true, "score": 0, "last_activity_date": 1481836824, "creation_date": 1481836824, "answer_id": 41173516, "question_id": 41026410, "link": "https://stackoverflow.com/questions/41026410/jupyter-ipynb-problems/41173516#41173516", "title": "Jupyter IPYNB Problems", "body": "<p>For others gratification:</p>\n\n<p>Glad it's solved.\nMake sure python, ipython, jupyter from anaconda (using conda env's possibly) is in your path before others.  Order is important.</p>\n"}], "owner": {"reputation": 123, "user_id": 7001927, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10211095859817467/picture?type=large", "display_name": "Josh Dautel", "link": "https://stackoverflow.com/users/7001927/josh-dautel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 41173516, "answer_count": 1, "score": 0, "last_activity_date": 1488477045, "creation_date": 1481141219, "last_edit_date": 1488477045, "question_id": 41026410, "link": "https://stackoverflow.com/questions/41026410/jupyter-ipynb-problems", "title": "Jupyter IPYNB Problems", "body": "<p>so I'm trying to familiarize myself with the Jupyter Notebook and am running into issues.</p>\n\n<p>When I run the following code in the normal .py file of my PyCharm IDE it runs perfect; however, if I run it in my notebook the [*] never disappears meaning it just continuously runs never ending. Any idea why that might be the case? all answers much appreciated!</p>\n\n<pre><code>import pandas as pd\n\ntrain_file='C:\\Users\\DDautel\\Anaconda2\\PycharmProjects\\Kaggle\\Titanic\\RUN.csv'\ntest_file='C:\\Users\\DDautel\\Anaconda2\\PycharmProjects\\Kaggle\\Titanic\\RUN2.csv'\ntrain=pd.read_csv(train_file)\ntest=pd.read_csv(test_file)\n\n\nprint train.describe()\nprint test.describe()\n</code></pre>\n"}]