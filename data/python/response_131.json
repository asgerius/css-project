[{"tags": ["javascript", "jquery", "python", "django"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1499904128, "post_id": 45069322, "comment_id": 77111834, "body": "Read up on how to use ajax to send data from page to server and receive whatever you need"}], "answers": [{"tags": [], "owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "is_accepted": false, "score": 0, "last_activity_date": 1499904405, "creation_date": 1499904405, "answer_id": 45069428, "question_id": 45069322, "link": "https://stackoverflow.com/questions/45069322/sending-a-jquery-value-to-django-view/45069428#45069428", "title": "Sending a jQuery value to Django view", "body": "<p>jq:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n$('#auth-login-form').submit(function(){\n    $.ajax({\n        type:\"POST\",\n        url:\"/user/login/\",\n        data:{\"username\":$(\"#auth-login-username\").val(),\"password\":$(\"#auth-login-password\").val()},\n        beforeSend:function(xhr){\n            xhr.setRequestHeader(\"X-CSRFToken\", $.cookie('csrftoken'));\n        },\n        success:function(data,textStatus){\n            alert('success');\n        },\n        error:function(XMLHttpRequest, textStatus, errorThrown){\n    });\n    return false;\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>django view:</p>\n\n<pre><code> def login(request):\n    if request.method == 'POST':\n        username = request.POST.get(\"username\", \"\")\n        password = request.POST.get(\"password\", \"\")\n        return HttpResponse('OK')\n    else:\n        return render(request, 'user/login.html')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7837205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb9358ff60ee4677c6bfcc0fb6ee9b6?s=128&d=identicon&r=PG&f=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/7837205/slim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499904405, "creation_date": 1499903783, "question_id": 45069322, "link": "https://stackoverflow.com/questions/45069322/sending-a-jquery-value-to-django-view", "title": "Sending a jQuery value to Django view", "body": "<p>I am pretty new in Django and jQuery. I am looking for a way to send some jquery variable to my django views when i click a button.  I have created a button and some jQuery code which can display an alert message with the button's value when clicked,  but i do not know how to send that value to my django views.  </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1499904072, "post_id": 45069276, "comment_id": 77111817, "body": "How would you determine the number of the new &#39;sentence&#39; (<code>b1</code>)? Simple integer increment? Can you have more than one <code>b</code> &#39;sentence&#39;?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1499904629, "post_id": 45069276, "comment_id": 77111975, "body": "You need to fix your indentation to make your program legal to execute.  Please read and follow the posting guidelines in the help documentation. Minimal, complete, verifiable example applies here."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1499905393, "post_id": 45069276, "comment_id": 77112153, "body": "What if multiple &quot;text8 text9&quot; happens in the same line? Do you insert <code>b1</code>, <code>b2</code>, etc? Or are you just interested in the first occurance?"}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 6151659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7d09a458f79161bc0584cc742990f7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/6151659/pedro"}, "edited": false, "score": 0, "creation_date": 1499905682, "post_id": 45069564, "comment_id": 77112227, "body": "This repeats every line, only changing text8 text9 if it&#39;s there, and not updating the label before the equal sign"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 2, "creation_date": 1499905692, "post_id": 45069564, "comment_id": 77112228, "body": "This isn&#39;t a very good idea when you can have occurrences within each other. For example, if we want to search for &quot;a a&quot; and replace with &quot;b&quot;, and the line is &quot;a a a a&quot; there is actually three occurrences that are overlapped. Your method <code>replace(&quot;a a&quot;, &quot;b&quot;)</code> returns &quot;b b&quot;, and not &quot;b a a&quot;, &quot;a b a&quot;, and &quot;a a b&quot;. This also emphasizes that the question requirements are vague."}, {"owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1499908663, "post_id": 45069564, "comment_id": 77112878, "body": "@darksky yes I noticed that but realize that it&#39;s very ambiguous as to which option we&#39;d want to output."}, {"owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "reply_to_user": {"reputation": 409, "user_id": 6151659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7d09a458f79161bc0584cc742990f7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro", "link": "https://stackoverflow.com/users/6151659/pedro"}, "edited": false, "score": 0, "creation_date": 1499908667, "post_id": 45069564, "comment_id": 77112879, "body": "@Pedro thanks for the heads up, I missed that requirement and fill fix the answer."}], "tags": [], "owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "is_accepted": false, "score": 1, "last_activity_date": 1499908889, "last_edit_date": 1499908889, "creation_date": 1499905433, "answer_id": 45069564, "question_id": 45069276, "link": "https://stackoverflow.com/questions/45069276/search-insert-and-replace-the-previous-line-of-a-text-in-python/45069564#45069564", "title": "Search, insert, and replace the previous line of a text in Python", "body": "<p>We can store all the files lines in some list <code>inlines</code> and then loop over each line and find and replace <code>'text8 text9'</code> with <code>'text10'</code> and then store the old line and the new line in a new list <code>outlines</code> to be used however you want later on. </p>\n\n<p>Assumption due to question ambiguity: We use the 3rd argument of <code>str.replace</code> to only replace the first occurrence of the string.</p>\n\n<pre><code>inlines = [line for line in open('in.txt', 'r')]\noutlines = []\nfor line in inlines:\n    label = line.split(' ')[0]\n    newline = line.replace('text8 text9', 'text10', 1).replace(label, f'{label}1', 1)\n    outlines.append(line)\n    outlines.append(newline)\n\n    # To print the lines as well we can add this\n    print(line)\n    print(newline)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2453, "user_id": 6382901, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hVuGD.jpg?s=128&g=1", "display_name": "Jedi", "link": "https://stackoverflow.com/users/6382901/jedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1499906542, "last_edit_date": 1592644375, "creation_date": 1499906542, "answer_id": 45069683, "question_id": 45069276, "link": "https://stackoverflow.com/questions/45069276/search-insert-and-replace-the-previous-line-of-a-text-in-python/45069683#45069683", "title": "Search, insert, and replace the previous line of a text in Python", "body": "<p>You need something like:</p>\n<pre><code>import re\n\nold = 'text8 text9'\nnew = 'text10'\n\ntext = open('file.txt').read()\n\nnew_lines = []\nfor line in text.split('\\n'):\n  # Replace all matches in one line in one go\n  new_line = line.replace(old, new)\n  new_lines.append(line)\n\n  # There is a match; increment number\n  if new_line != line:\n\n    # Get number before equals sign\n    parts = new_line.split(' =', 1)\n    old_number = re.search(r'\\d+', parts[0])\n    new_number = 1\n\n    # If there is a number, increment\n    if old_number:\n      old_number = int(old_number.group(0))\n      new_number = old_number + 1\n      parts[0] = parts[0].replace(str(old_number), str(new_number))\n\n    # If there is no number, concatenate 1\n    else:\n      parts[0] += '1'\n    \n    new_lines.append(parts[0] + ' =' + parts[1])\n    \nprint '\\n'.join(new_lines)\n</code></pre>\n<p>This does not print multiple lines for multiple matches though. Given an input:</p>\n<blockquote>\n<p>a = text1 text2 text3 text4</p>\n<p>b = text1 text8 text9 text5</p>\n<p>c = text6 text5 text1 text9</p>\n<p>d20 = text5 text4 text2 text8 text9</p>\n<p>e60 = text5 text4 text2 text8 text9 text8 text9</p>\n</blockquote>\n<p>This will generate the output:</p>\n<blockquote>\n<p>a = text1 text2 text3 text4</p>\n<p>b = text1 text8 text9 text5</p>\n<p>b1 = text1 text10 text5</p>\n<p>c = text6 text5 text1 text9</p>\n<p>d20 = text5 text4 text2 text8 text9</p>\n<p>d21 = text5 text4 text2 text10</p>\n<p>e60 = text5 text4 text2 text8 text9 text8 text9</p>\n<p>e61 = text5 text4 text2 text10 text10</p>\n</blockquote>\n<p>You can run this example here:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//repl.it/embed/JZ84/0.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>or edit it <a href=\"https://repl.it/JZ84\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 0, "last_activity_date": 1499906552, "creation_date": 1499906552, "answer_id": 45069685, "question_id": 45069276, "link": "https://stackoverflow.com/questions/45069276/search-insert-and-replace-the-previous-line-of-a-text-in-python/45069685#45069685", "title": "Search, insert, and replace the previous line of a text in Python", "body": "<p>If memory is not an issue, a search &amp; replace procedure is relatively simple:</p>\n\n<pre><code>search = \"text8 text9\"\nreplace = \"text10\"\n\nwith open(\"file.txt\", \"r+\") as f:\n    lines = []  # storage list for (modified) lines\n    for line in f:  # read the file line by line\n        lines.append(line)  # add the current line to the lines list\n        index = line.find(search)  # attempt to find the index of the search string\n        if index != -1:  # search string found in the current line\n            equals_index = line.find(\"=\")  # find where the equals sign is\n            name = line[:equals_index].strip() + \"1\"  # create a new 'sentence' name\n            # replace the found string with the 'replace' string\n            value = line[equals_index+1:index] + replace + line[index + len(search):]\n            lines.append(\"{} ={}\".format(name, value))  # add the new sentence\n    # let's write down the updates, you can omit the following if you don't want to\n    # update the file and use the `lines` list for whatever further manipulation\n    f.seek(0)  # rewind back to the beginning of the file\n    f.writelines(lines)  # write down the lines\n    f.truncate()  # truncate the rest in case the new content is smaller than the old\n</code></pre>\n\n<p>If memory is an issue, instead of storing the lines open another file stream to a temporary file and write to it directly instead of appending to the <code>lines</code> list, then in the end just overwrite your <code>file.txt</code> with that temporary file. Of course, you don't need to change the file at all, or you can store the lines to an another file.</p>\n\n<p>This, however, doesn't properly handle the case of having multiple 'sentences' like:</p>\n\n<pre>a = text1 text2 text3 text4\nb = text1 text8 text9 text5\nb = text1 text8 text9 text5\nc = text6 text5 text1 text9</pre>\n\n<p>Or if there are multiple matches in a line, i.e. <code>b = text1 text8 text9 text5 text8 text9</code>. You'll have to clarify what should happen in such cases (and if they can even occur). This also assumes that there are no blank lines between your 'sentences' - if there are, make sure that you add extra lines when building your new sentence on mach (i.e. <code>lines.append(\"\\n{} ={}\\n\".format(name, value))</code>). Also, you might have to tweak line ending to <code>\\r\\n</code> if your file is in a Windows 'format'...</p>\n\n<p>You'll have to describe such edge cases if you want us to address them, tho.</p>\n"}], "owner": {"reputation": 23, "user_id": 8298883, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159072236855444/picture?type=large", "display_name": "Andres Castillo", "link": "https://stackoverflow.com/users/8298883/andres-castillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 45069685, "answer_count": 3, "score": 2, "last_activity_date": 1499931482, "creation_date": 1499903439, "last_edit_date": 1499931482, "question_id": 45069276, "link": "https://stackoverflow.com/questions/45069276/search-insert-and-replace-the-previous-line-of-a-text-in-python", "title": "Search, insert, and replace the previous line of a text in Python", "body": "<p>I have a text file with the following information(example)</p>\n\n<pre><code>a = text1 text2 text3 text4  \nb = text1 text8 text9 text5 \nc = text6 text5 text1 text9   \nd = text5 text4 text2 text9\n</code></pre>\n\n<p>and so on...</p>\n\n<p>What I would like to do is to find a combination, for example, <strong>text8 text9</strong> replace it with text10 and create a new sentence next to it. The final result will be something like:</p>\n\n<pre><code>a = text1 text2 text3 text4\nb = text1 text8 text9 text5\nb1 = text1 text10 text5\nc = text6 text5 text1 text9\nd = text5 text4 text2 text9\n</code></pre>\n\n<p>So far I have done something like this (I am new to python):</p>\n\n<pre><code>import re\n\ntext = open('file.txt').read()\nmatch_found=False\nmatches = re.finditer('text2', text)\nm = None\nfor m in matches:\n    match_found = True\n    pass\nif (match_found):\n    m.start()\n    m.end()\ntext[1:m.end()] + \"text10\" + text[(m.end()+1):]\n</code></pre>\n\n<p>but nothing happens and also, that line can appear in other sentences like:</p>\n\n<pre><code>a = text1 text2 text3 text4\nb = text1 text8 text9 text5\nb1 = text1 text10 text5\nc = text6 text5 text1 text9\nd = text5 text4 text8 text9\nd1 = text5 text4 text10\n</code></pre>\n"}, {"tags": ["python", "visual-studio", "numpy", "boost"], "answers": [{"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1596463014, "post_id": 45070217, "comment_id": 111810990, "body": "Thanks for this, you&#39;ve saved me a fair bit of time."}], "tags": [], "owner": {"reputation": 101, "user_id": 2333533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2784dba404577f81d2e47a6600a82ce?s=128&d=identicon&r=PG", "display_name": "JohnVS", "link": "https://stackoverflow.com/users/2333533/johnvs"}, "is_accepted": false, "score": 3, "last_activity_date": 1499926770, "last_edit_date": 1499926770, "creation_date": 1499910831, "answer_id": 45070217, "question_id": 45069253, "link": "https://stackoverflow.com/questions/45069253/boost-numpy-linker-error-in-windows-vs/45070217#45070217", "title": "Boost numpy linker error in Windows VS", "body": "<p>I fixed the linker error by adding: </p>\n\n<pre><code>#define BOOST_NUMPY_STATIC_LIB\n</code></pre>\n\n<p>So my preamble is now: </p>\n\n<ol>\n<li><code>#define BOOST_PYTHON_STATIC_LIB</code></li>\n<li><code>#define BOOST_NUMPY_STATIC_LIB</code></li>\n</ol>\n\n<p>and the error goes away.</p>\n\n<p>H</p>\n"}], "owner": {"reputation": 101, "user_id": 2333533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2784dba404577f81d2e47a6600a82ce?s=128&d=identicon&r=PG", "display_name": "JohnVS", "link": "https://stackoverflow.com/users/2333533/johnvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1499926770, "creation_date": 1499903289, "question_id": 45069253, "link": "https://stackoverflow.com/questions/45069253/boost-numpy-linker-error-in-windows-vs", "title": "Boost numpy linker error in Windows VS", "body": "<p>I am using Boost 1.64 with visual studio to create a module for python. Specifically, I am using the Boost Numpy module to be able to work with numpy arrays in the module. </p>\n\n<p>I have compiled Boost with the following command: </p>\n\n<pre><code>b2 -j8  address-model=32  --user-config=D:\\code\\libraries\\boost_1_64_0\\user-config.jam --with-python   --build-type=complete stage --stagedir=stage/win32\n</code></pre>\n\n<p>In my code I have added the static link defines (which seems to be needed from all the posts I have read) : #define BOOST_PYTHON_STATIC_LIB  </p>\n\n<p>Two odd things happen when I compile my code: </p>\n\n<p>1) when using the diagnostics define (#define BOOST_LIB_DIAGNOSTIC) it shows the compiler linking to the STATIC version of the python library, but linking to the dynamic version of numpy library: </p>\n\n<ul>\n<li>Linking to lib file: libboost_python-vc141-mt-1_64.lib</li>\n<li>Linking to lib file: boost_numpy-vc141-mt-1_64.lib</li>\n</ul>\n\n<p>When i disable auto linking and just add the right libraries myself, I end up getting an unresolved linker error: </p>\n\n<pre><code>error LNK2001: unresolved external symbol \"class boost::python::numpy::dtype __cdecl boost::python::numpy::detail::get_float_dtype&lt;32&gt;(void)\" (??$get_float_dtype@$0CA@@detail@numpy@python@boost@@YA?AVdtype@123@XZ)\n</code></pre>\n\n<p>The odd thing is that this error is only thrown on the usage of functions in numpy that use templates! I can actually run code that uses boost_numpy library that dont use template functions and it will link and run fine! \nDoes anyone know why are the template based functions throwing this linker error?\nAny help is much appreciated!</p>\n\n<p>H</p>\n"}, {"tags": ["python", "list", "sympy"], "comments": [{"owner": {"reputation": 3, "user_id": 7965272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tx-X4CSATmc/AAAAAAAAAAI/AAAAAAAAACY/8tZjE5ZP-_w/photo.jpg?sz=128", "display_name": "Adrian Navarro", "link": "https://stackoverflow.com/users/7965272/adrian-navarro"}, "reply_to_user": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1499904677, "post_id": 45069237, "comment_id": 77111989, "body": "Oh sorry thats a mistake its D1"}, {"owner": {"reputation": 1123, "user_id": 4355191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e11e92b2aaebb8dd68608198b18dea2c?s=128&d=identicon&r=PG&f=1", "display_name": "laolux", "link": "https://stackoverflow.com/users/4355191/laolux"}, "edited": false, "score": 0, "creation_date": 1499933536, "post_id": 45069237, "comment_id": 77122440, "body": "There is a edit function, use it to clean up your code. What is <code>D11</code>? What are you trying to accomplish with <code>;</code>? Used to c programming? ;-)"}], "answers": [{"tags": [], "owner": {"reputation": 1123, "user_id": 4355191, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e11e92b2aaebb8dd68608198b18dea2c?s=128&d=identicon&r=PG&f=1", "display_name": "laolux", "link": "https://stackoverflow.com/users/4355191/laolux"}, "is_accepted": true, "score": 0, "last_activity_date": 1499933861, "creation_date": 1499933861, "answer_id": 45075130, "question_id": 45069237, "link": "https://stackoverflow.com/questions/45069237/using-subs-on-a-list/45075130#45075130", "title": "Using subs on a List", "body": "<pre><code>import sympy as sp\n\ng, a, A, C, D, K, x = sp.symbols(\"g a A C D K x\")\n\nX=(A*sp.cos(g*x/a))+(sp.sin(g*x/a))+(C*sp.exp(-g*x/a))+(D*sp.exp(-g*(a-x)/a))\n\ndx1=sp.diff(X,x,1)\n\ndx2=sp.diff(X,x,2)\n\neq1= sp.Eq(X.subs(x,0),0)\neq2= sp.Eq(dx2.subs(x,0)/dx1.subs(x,0),K)\neq3= sp.Eq(X.subs(x,a),0)\neq4= sp.Eq(dx2.subs(x,a)/dx1.subs(x,a),-K)\n\nD1=sp.solve(eq1,D)\neq33=D1[0].subs(D,D1)\nC33=sp.solve(eq33,C)\nDf=D1[0].subs(C,C33[0])\neq22=eq2.subs((C,D),(C33[0],D1[0]))\nA22=sp.solve(eq22,A)\nsp.pprint(A22)\n</code></pre>\n\n<p>This should work. You can get an object from a list by simply calling <code>D1[0]</code> for the first object of that list. Note that there might be multiple solutions and hence multiple entries in <code>D1</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7965272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tx-X4CSATmc/AAAAAAAAAAI/AAAAAAAAACY/8tZjE5ZP-_w/photo.jpg?sz=128", "display_name": "Adrian Navarro", "link": "https://stackoverflow.com/users/7965272/adrian-navarro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 45075130, "answer_count": 1, "score": 0, "last_activity_date": 1499933861, "creation_date": 1499903188, "question_id": 45069237, "link": "https://stackoverflow.com/questions/45069237/using-subs-on-a-list", "title": "Using subs on a List", "body": "<p>Hi everyone I'm running a small python program that solves some equations, the problem arises when I obtain the first result solving the first equation for D and I have that D depends on A and C, and then I use subs on the next equation with the previous result, but sympy doesn't let me do da that, so how can I manipulate this result and make subs possible.</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>import sympy as sp\n\ng, a, A, C, D, K, x = sp.symbols(\"g a A C D K x\")\n\nX=(A*sp.cos(g*x/a))+(sp.sin(g*x/a))+(C*sp.exp(-g*x/a))+(D*sp.exp(-g*(a-x)/a))\n\ndx1=sp.diff(X,x,1)\n\ndx2=sp.diff(X,x,2)\n\neq1= sp.Eq(X.subs(x,0),0)\neq2= sp.Eq(dx2.subs(x,0)/dx1.subs(x,0),K)\neq3= sp.Eq(X.subs(x,a),0)\neq4= sp.Eq(dx2.subs(x,a)/dx1.subs(x,a),-K)\n\nD1=sp.solve(eq1,D)\neq33=D1.subs(D,D1)\nC33=sp.solve(eq33,C)\nDf=D1.subs(C,C33)\neq22=sp.subs(eq2,[C,D],[C33,D11]);\nA22=solve(eq22,A)\npretty(A22)\n</code></pre>\n"}, {"tags": ["c#", "python", "json", "parsing", "ms-word"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 4771750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/793456644042544/picture?type=large", "display_name": "Houssem Chlegou", "link": "https://stackoverflow.com/users/4771750/houssem-chlegou"}, "edited": false, "score": 0, "creation_date": 1499906510, "post_id": 45069465, "comment_id": 77112405, "body": "hi, thanks for the reply, i liked your idea, i will try first implementing it. what i want is a code written in c# that do the same like my Python code."}], "tags": [], "owner": {"reputation": 5910, "user_id": 624988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868279d15f1f45fd1615508c3df87c2f?s=128&d=identicon&r=PG", "display_name": "Alexander Higgins", "link": "https://stackoverflow.com/users/624988/alexander-higgins"}, "is_accepted": false, "score": 0, "last_activity_date": 1499904675, "creation_date": 1499904675, "answer_id": 45069465, "question_id": 45069225, "link": "https://stackoverflow.com/questions/45069225/port-python-docx-function-to-c/45069465#45069465", "title": "Port Python-DocX function to C#", "body": "<p>There is no Python to C# conversion service that I know of.</p>\n\n<p>You can however run <a href=\"https://blogs.msdn.microsoft.com/charlie/2009/10/25/running-ironpython-scripts-from-a-c-4-0-program/\" rel=\"nofollow noreferrer\">Python</a> from within your .Net App.</p>\n\n<p>Using IronPython you can actually integrate .Net Code into your Python script and for example set a string property from you Python script.</p>\n\n<p>Alternately, you can just run your Python script from C# and get the result of the python function.</p>\n\n<p>You can try something like this:</p>\n\n<pre><code>static void Main()\n{\n    var ipy = Python.CreateRuntime();\n    dynamic parser = ipy.UseFile(\"WordParser.py\");\n    string docPath = \"C:\\\\SomeFolder\\\\SomeWord.Docx\";\n    var result = parser.parseDocX(docPath,\"somesection);\n}\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4771750, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/793456644042544/picture?type=large", "display_name": "Houssem Chlegou", "link": "https://stackoverflow.com/users/4771750/houssem-chlegou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499904675, "creation_date": 1499903098, "question_id": 45069225, "link": "https://stackoverflow.com/questions/45069225/port-python-docx-function-to-c", "title": "Port Python-DocX function to C#", "body": "<p>I have a Python function, to take a MSWord document as an input, as well as a section heading/number, and return the table from that section as a JSON object.</p>\n\n<p>Need to convert this python function over to C#, and use the Aspose.Words for .NET library.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    from __future__ import (\n    absolute_import, division, print_function, unicode_literals\n)\n\nimport json\nfrom docx import Document\nfrom docx.document import Document as _Document\nfrom docx.oxml.text.paragraph import CT_P\nfrom docx.oxml.text.run import CT_R\nfrom docx.oxml.table import CT_Tbl\nfrom docx.table import _Cell, Table\nfrom docx.text.paragraph import Paragraph\nfrom docx.text.run import Run\n#import datetime\nimport sys, traceback\nimport win_unicode_console\nfrom colorama import init\nfrom colorama import Fore, Back, Style\n\n\n#outputFile = open('Document-ToJSON.csv', 'w', newline='\\n')\n#outputWriter = csv.writer(outputFile)\n\ngblDocTree = []\ngblDocListNumber = []\ngblRowCols = {}\n\n\ndef init_myGlobals():\n    #Reinitialize Global Variables\n    #init()\n    win_unicode_console.enable()\n    init()\n    global gblDocTree\n    gblDocTree = []\n    global gblDocListNumber\n    gblDocListNumber = []\n    global gblRowCols\n    gblRowCols = {}\n    return\n\nclass tblparam():\n    def __init__(self,param):\n        self.param = param\n\ndef get_num(x):\n    return int(''.join(ele for ele in x if ele.isdigit()))\n\ndef add_RowCol(rowNumber, rowList):\n    global gblRowCols\n    gblRowCols[rowNumber] = rowList\n    return\n\ndef add_to_sectionnumber(myLocation):\n    global gblDocListNumber\n    myInt = myLocation - 1\n\n    if myLocation &gt; len(gblDocListNumber) or len(gblDocListNumber) == 0:\n        #initializing\n        gblDocListNumber.append(1)\n    elif len(gblDocListNumber) == myLocation:\n        #if total array len is equal to current heading depth\n        #do this\n        gblDocListNumber[myInt] = gblDocListNumber[myInt] + 1\n    #elif myLocation == 1:\n    #   del gblDocListNumber[0:]\n    #   gblDocListNumber[0] = gblDocListNumber[0] + 1\n    elif len(gblDocListNumber) &gt; myLocation:\n        #x = len(gblDocListNumber) - myLocation\n        #print(\"myLocation:{0}, myListCount:{1}\".format(myLocation, len(gblDocListNumber)))\n        #Eliminate everything from\n        del gblDocListNumber[myLocation:]\n        gblDocListNumber[myLocation - 1] = gblDocListNumber[myLocation - 1] + 1\n    return\n\ndef add_to_hierarchy(myHeading, myLocation):\n    #Create a String Array holding the Paragraph\n    #Names, and appending them to previous levels\n    #Heading1 &gt; SubHeading2 &gt; SubHeading3\n    global gblDocTree\n    myInt = myLocation - 1\n    if myLocation &gt; len(gblDocTree) or len(gblDocTree) == 0:\n        gblDocTree.append(myHeading)\n    elif len(gblDocTree) == myLocation:\n        gblDocTree[myInt] = myHeading\n    elif myLocation == 1:\n        del gblDocTree[:]\n        gblDocTree.append(myHeading)\n    elif len(gblDocTree) &gt; myLocation:\n        x = len(gblDocTree) - myLocation\n        #print(\"i'm going to remove -{0}\".format(x))\n        del gblDocTree[myLocation - 1:]\n        gblDocTree.append(myHeading)\n    return\n\ndef iter_block_items(parent):\n    #\"\"\"\n    #Generate a reference to each paragraph and table child within *parent*,\n    #in document order. Each returned value is an instance of either Table or\n    #Paragraph. *parent* would most commonly be a reference to a main\n    #Document object, but also works for a _Cell object, which itself can\n    #contain paragraphs and tables.\n    #\"\"\"\n    if isinstance(parent, _Document):\n        parent_elm = parent.element.body\n        #print(parent_elm.xml)\n    elif isinstance(parent, _Cell):\n        parent_elm = parent._tc\n    else:\n        raise ValueError(\"something's not right\")\n\n    for child in parent_elm.iterchildren():\n        if isinstance(child, CT_P):\n            yield Paragraph(child, parent)\n        elif isinstance(child, CT_Tbl):\n            yield Table(child, parent)\n        #elif isinstance(child, CT_R):\n        #   yield Run(child, parent)\n\ndef parseDocX(mydocumentfullpath, startSection):\n\n    init_myGlobals()    #Initialize \n\n    #Setup variables#\n    myDoc = mydocumentfullpath\n#   f = open(outputCSVPath, 'w', newline='')    #Python 3, newline='' eliminates extra newlines' in output\n    startSectSet = True\n    try:\n\n        document = Document(myDoc)\n        prvHeader = ''\n        headerLst = ['Heading 1',\n                        'Heading 2', 'Heading 3', 'Heading 4',\n                        'Heading 5', 'Heading 6', 'Heading 7',\n                        'Heading 8', 'Heading 9',\n                        'Egemin1', 'Egemin2', 'Egemin3', 'Egemin4',\n                        'Egemin5', 'Egemin6', 'Egemin7', 'Egemin8',\n                        'Egemin9', 'Egemin10', 'Egemin11', 'Egemin12']\n        valNext = False\n        prvIntHeadLv = 0\n        curHeadIntLv = 0\n        curHeadNm = ''\n        curListNm = ''\n        myIntValName = ''\n        myPropCnt = 0\n        sectionJSON = {}\n        paraText = ''\n\n        for block in iter_block_items(document):\n            #print(block.text if isinstance(block, Paragraph) else '&lt;table&gt;')\n            #print('************************')\n            #print('NEW LOOP')\n            if isinstance(block, Paragraph):\n                #print('In Paragraph')\n                #for myRun in block.runs:\n                #   print('Got Runs ?')\n                #   print('Run Text :: {0}'.format(myRun.text))\n                    #print('Style :: {0}'.format(myRun.style.name))\n                #print(block.runs.text)\n                #print(block.text)\n                #print(block.style.name)\n                if block.style.name in headerLst:\n\n                    #New Document Header, so new Section\n                    sectionJSON = {}    #Reset\n                    paraText = ''\n\n                    #Paragraphs contain all doc information.\n                    #Using the above array, we're checking for the most commonly used\n                    #Section/Paragrah Headers\n                    #So we can differentiate what data we are actually processing\n                    curHeadIntLv = get_num(block.style.name)    \n                    add_to_hierarchy(block.text.strip().lower(), curHeadIntLv)\n\n#BOUTIFY CODE\n\n                    if len(block.text.strip().lower())&gt;0:\n                        add_to_sectionnumber(curHeadIntLv)\n                    curListNm = '.'.join(map(str, gblDocListNumber))\n                    curHeadNm = \"%s %s\" % (curListNm, block.text.strip())\n\n                    #Check if Current Section is greater than required Start\n                    if(startSectSet and curListNm!=''):\n                        sectionHeading = curHeadNm.lstrip().split(\" \")[0]   #Use Full Paragraph Header String, to ID true section number\n                        curListTuple = tuple([int(x) for x in sectionHeading.split('.')])\n                        reqStartTuple = tuple([int(x) for x in startSection.split('.')])\n                        if (curListTuple &lt; reqStartTuple):\n                            continue    #Skip iteration\n                        elif (curListTuple &gt; reqStartTuple):\n                            break   #Exit\n\n                    if curHeadIntLv == 1 or prvIntHeadLv == 0:\n                        #curHeadNm = block.text.strip().lower()\n                        prvIntHeadLv = curHeadIntLv\n\n                    elif curHeadIntLv == prvIntHeadLv:\n                        prvIntHeadLv = curHeadIntLv\n                        continue\n\n                    elif curHeadIntLv &gt; prvIntHeadLv:\n                        prvIntHeadLv = curHeadIntLv\n                        continue\n\n                    else:\n                        #curHeadNm = block.text.strip().lower()\n                        prvIntHeadLv = curHeadIntLv\n                        continue\n                else:\n                    curParaText = block.text.strip().lower()\n                    paraText += block.text.strip().lower().replace(\"'\", \"''\")\n\n            elif isinstance(block, Table):  #process table rows, for interesting data\n\n            #Check if Current Section is greater than required Start\n                if(startSectSet and curListNm!=''):\n                    sectionHeading = curHeadNm.lstrip().split(\" \")[0]   #Use Full Paragraph Header String, to ID true section number\n                    curListTuple = tuple([int(x) for x in sectionHeading.split('.')])\n                    reqStartTuple = tuple([int(x) for x in startSection.split('.')])\n                    if (curListTuple &lt; reqStartTuple):\n                        continue    #Skip iteration\n                    elif (curListTuple &gt; reqStartTuple):\n                        break   #exit\n                else:\n                    continue        \n                #Assuming if @ table, then paragraph Text is all captured\n                #sectionJSON.update({\"ParagraphText\":paraText})\n\n                i = 0\n\n                if curHeadNm!='':\n                    #print(\"Good Heading\")\n                    #Try and get the Heading Number\n                    sectionHeading = curHeadNm.lstrip().split(\" \")[0]\n                    #print(\"Section Check ; {0}\".format(sectionHeading))\n                else:\n                    #print(\"Empty Heading\")\n                    continue\n\n                rowsArray = []\n                headerArray = []\n                #Process Table, row by row\n                for row in block.rows:\n                    #print('Processing section {0}'.format(sectionHeading))\n                    i += 1\n                    myCell = 0\n                    JSONrow = {}\n                    rstList = []\n                    rowStringify = []\n                    if i==1:\n                        for row_cell in row.cells:\n                            headerArray.append(row_cell.text.strip().lower().replace(\"'\", \"''\"))\n                            continue #Start proper table loop\n                    else:\n#                   for row_cell in row.cells:\n#                       rstList.append(row_cell.text.strip().lower().replace(\"'\", \"''\"))\n                        for x in range(len(headerArray)):\n                            #print('Iteration {0}'.format(x))\n                            #print(row.cells[x].text.strip().lower())\n                            rowStringify.append(\"\\\"\" + headerArray[x] + \"\\\"\" + \":\" + \"\\\"\" + row.cells[x].text.strip().lower().replace(\"'\", \"''\") + \"\\\"\")\n                        #Create JSON object, with Array of Columns as Value\n                        myStr = (\"{\" + (','.join(map(str, rowStringify))) + \"}\")\n                        print(u\"{}\".format(myStr))\n                        #JSONrow = json.loads(myStr.replace('\\r', '\\\\r').replace('\\n', '\\\\n'))\n                        JSONrow = json.loads(u\"{}\".format(myStr))\n                        rowsArray.append(JSONrow)   #Now, add JSONrow back to array object\n\n                sectionJSON.update({\"Rows\":rowsArray})\n                break   #end now, after fully processing table\n                #print(json.dumps(sectionJSON, indent=4, sort_keys=True))\n\n                #writer = csv.writer(f, delimiter=',')\n                #writer.writerow([sectionHeading, json.dumps(sectionJSON)])\n                #now, back to start\n\n    except IOError as e:\n        print ('I/O error({0}): {1}'.format(e.errno, e.strerror))\n#       traceback.print_exc()\n        #return 1\n    except ValueError:\n        print ('Could not convert data to an integer. {0} :: {1}'.format(sys.exc_info()[0], sys.exc_info()[1]))\n#       traceback.print_exc()\n        #return 1\n    except :\n        print ('Unexpected error: {0} :: {1}'.format(sys.exc_info()[0], sys.exc_info()[1]))\n        traceback.print_exc()\n        #return 1\n    finally:\n        #f.close()\n        win_unicode_console.disable()\n        return json.dumps(sectionJSON,sort_keys=True)\n#       globals().clear()\n        #return 0\n\n#if __name__=='__main__':\n#   sys.exit(main(sys.argv[1], sys.argv[2]))\n</code></pre>\n\n<p>Link to Python Function in pastebin if needed : <a href=\"https://pastebin.com/vrHkk9s0\" rel=\"nofollow noreferrer\">https://pastebin.com/vrHkk9s0</a></p>\n"}, {"tags": ["python", "json", "powershell"], "comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499903022, "post_id": 45069200, "comment_id": 77111557, "body": "Try not adding quotes in the command line argument"}, {"owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499903152, "post_id": 45069200, "comment_id": 77111594, "body": "Just tried it, gives unexpected token error."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499903487, "post_id": 45069200, "comment_id": 77111670, "body": "Check out my solution below"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499903487, "post_id": 45069200, "comment_id": 77111672, "body": "Are you sure you used PowerShell, and not a regular command prompt or something? Can you show a raw copy-paste of your PowerShell session, from the line where you run the script to the end of all error output?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499903518, "post_id": 45069200, "comment_id": 77111676, "body": "@user2357112 Actually it works on a normal terminal. Dunno if it makes a difference, I&#39;m running on zsh."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499903596, "post_id": 45069200, "comment_id": 77111692, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05: What, zsh on Windows? I&#39;m talking about PowerShell vs the regular Windows command prompt."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499903633, "post_id": 45069200, "comment_id": 77111701, "body": "Oop, windows didn&#39;t register."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1499904733, "post_id": 45069200, "comment_id": 77112000, "body": "Has to be something weird Windows is doing to command line arguments with special characters like <code>&quot;</code>. Too bad I&#39;m on Ubuntu."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1499904781, "post_id": 45069200, "comment_id": 77112015, "body": "Maybe you can try to escaping out the quotes like <code>\\&quot;</code> and enclose the whole argument in double quotes."}], "answers": [{"comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "reply_to_user": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "edited": false, "score": 0, "creation_date": 1499903726, "post_id": 45069270, "comment_id": 77111726, "body": "calling from powershell with the command and code posted, it does. Windows 7, python 3.6, powershell"}, {"owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "edited": false, "score": 0, "creation_date": 1499904072, "post_id": 45069270, "comment_id": 77111816, "body": "Running 3.6.1, does not work for me. I will try to debug this and see where it takes me tho, thanks a lot."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499904101, "post_id": 45069270, "comment_id": 77111827, "body": "hmm, weird. I&#39;m running 3.6.0"}, {"owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "edited": false, "score": 0, "creation_date": 1499904227, "post_id": 45069270, "comment_id": 77111860, "body": "@jacoblaw thanks, when I figure it out, I&#39;ll update here. Worst case tomorrow ill go try this on an actual linux based device and see if it works on that. As far as I know, what I have should work."}], "tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1499903409, "creation_date": 1499903409, "answer_id": 45069270, "question_id": 45069200, "link": "https://stackoverflow.com/questions/45069200/passing-json-text-as-command-line-argument/45069270#45069270", "title": "Passing json text as command line argument", "body": "<pre><code>import sys\nimport json\ndata = json.loads(sys.argv[1].replace(\"'\", '\"'))\nprint(str(data))\n</code></pre>\n\n<p>This seems to work for me, python 3.6 when calling with <code>python jsonTest.py \"{'platform': 'android', 'version': '6.0.1'}\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1499904861, "post_id": 45069470, "comment_id": 77112032, "body": "Yep, typical Windows headache."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499905451, "post_id": 45069470, "comment_id": 77112167, "body": "That&#39;s annoying. Glad you got it sorted out"}, {"owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "edited": false, "score": 0, "creation_date": 1499905800, "post_id": 45069470, "comment_id": 77112250, "body": "Thanks guys. Yeah that&#39;s total BS. I really hope this doesn&#39;t happen on osx, which is where this code will be running."}], "tags": [], "owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "is_accepted": false, "score": 5, "last_activity_date": 1499904782, "creation_date": 1499904782, "answer_id": 45069470, "question_id": 45069200, "link": "https://stackoverflow.com/questions/45069200/passing-json-text-as-command-line-argument/45069470#45069470", "title": "Passing json text as command line argument", "body": "<p>So I figured it out. </p>\n\n<pre><code>sys.argv[1]\n</code></pre>\n\n<p>The above line was taking my Json text below and taking out the quotes from it.</p>\n\n<pre><code>{\"platform\": \"android\", \"version\": \"6.0.1\"}\n</code></pre>\n\n<p>into</p>\n\n<pre><code>{platform: android, version: 6.0.1}\n</code></pre>\n\n<p>My workaround is to run it as follows.</p>\n\n<pre><code>Python jsonTest.py '{\\\"platform\\\": \\\"android\\\", \\\"version\\\": \\\"6.0.1\\\"}'\n</code></pre>\n\n<p>I will try to find a better way, but for today, I'm done.</p>\n"}], "owner": {"reputation": 167, "user_id": 6011113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcd9f05ee42f9ba323d4fe40702c65e9?s=128&d=identicon&r=PG&f=1", "display_name": "Rishi_B", "link": "https://stackoverflow.com/users/6011113/rishi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8450, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1499904782, "creation_date": 1499902967, "question_id": 45069200, "link": "https://stackoverflow.com/questions/45069200/passing-json-text-as-command-line-argument", "title": "Passing json text as command line argument", "body": "<p>I am trying to pass the following JSON text into my python code.</p>\n\n<pre><code>{\"platform\": \"android\", \"version\": \"6.0.1\"}\n</code></pre>\n\n<p>My code is as follows.</p>\n\n<pre><code>import sys\nimport json\ndata = json.loads(sys.argv[1])\nprint(str(data))\n</code></pre>\n\n<p>When running the following on Windows 10 PowerShell,</p>\n\n<pre><code>python jsonTest.py '{\"platform\": \"android\", \"version\": \"6.0.1\"}'\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"jsonTest.py\", line 3, in &lt;module&gt;\ndata = json.loads(sys.argv[1])\nFile \"C:\\Users\\Rishabh Bhatnagar\\AppData\\Local\\Programs\\Python\\Python36-\n32\\lib\\json\\__init__.py\", line 354, in loads\nreturn _default_decoder.decode(s)\nFile \"C:\\Users\\Rishabh Bhatnagar\\AppData\\Local\\Programs\\Python\\Python36-\n32\\lib\\json\\decoder.py\", line 339, in decode\nobj, end = self.raw_decode(s, idx=_w(s, 0).end())\nFile \"C:\\Users\\Rishabh Bhatnagar\\AppData\\Local\\Programs\\Python\\Python36-\n32\\lib\\json\\decoder.py\", line 355, in raw_decode\nobj, end = self.scan_once(s, idx)\njson.decoder.JSONDecodeError: Expecting property name enclosed in double \nquotes: line 1 column 2 (char 1)\n</code></pre>\n\n<p>As far as I know, I take my code, and pass the JSON text properly. I can't figure out what I'm doing wrong. I know the JSON text is valid (checked with <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">https://jsonlint.com/</a>). Thanks.</p>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1499903540, "post_id": 45069190, "comment_id": 77111680, "body": "Please show your view."}], "answers": [{"tags": [], "owner": {"reputation": 1732, "user_id": 8040117, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/EF9TR.jpg?s=128&g=1", "display_name": "Vladyslav", "link": "https://stackoverflow.com/users/8040117/vladyslav"}, "is_accepted": true, "score": 0, "last_activity_date": 1505460417, "creation_date": 1505460417, "answer_id": 46234025, "question_id": 45069190, "link": "https://stackoverflow.com/questions/45069190/how-to-access-context-variables-in-parents-template-django/46234025#46234025", "title": "How to access context variables in parents template django", "body": "<p>The reason why my <code>items</code> variable don't show in templates, is because i add <code>&lt;script&gt;</code> tag with <code>js</code> without block, so my scripts didn't work. I add my scripts to <code>{% block script %}</code> and all works fine!</p>\n"}], "owner": {"reputation": 1732, "user_id": 8040117, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/EF9TR.jpg?s=128&g=1", "display_name": "Vladyslav", "link": "https://stackoverflow.com/users/8040117/vladyslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "accepted_answer_id": 46234025, "answer_count": 1, "score": 1, "last_activity_date": 1505460417, "creation_date": 1499902901, "last_edit_date": 1499955280, "question_id": 45069190, "link": "https://stackoverflow.com/questions/45069190/how-to-access-context-variables-in-parents-template-django", "title": "How to access context variables in parents template django", "body": "<p>I have <code>base.html</code> and file with header <code>_header_main.html</code> in my main template <code>index.html</code> i extends <code>base.html</code> and include <code>_header_main.html</code> but variables that i pass into <code>index.html</code> not visible in parent template</p>\n\n<p><strong>base.html:</strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;\n        &lt;!-- styles --&gt;\n        ...\n    &lt;/head&gt;\n    &lt;body&gt;\n        {% block _header_main %}{% endblock %}\n        {% block _header_mobile %}{% endblock %}\n        &lt;div class=\"wrapper\"&gt;\n        &lt;!-- header --&gt;\n        {% block header_main %}{% endblock %}\n        {% block header_mobile %}{% endblock %}\n\n        &lt;div class=\"after_header\"&gt;&lt;/div&gt;\n    &lt;!-- end header --&gt;\n    {% block content %}{% endblock %}\n        &lt;footer class=\"footer\"&gt;\n            ...\n        &lt;/footer&gt;\n    &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>_header_main.html:</strong></p>\n\n<pre><code>&lt;header class=\"header\"&gt;\n    &lt;ul&gt;\n    {% for i in servers %}\n        &lt;li&gt;{{ i.title }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n&lt;/header&gt;\n</code></pre>\n\n<p><strong>index.html:</strong></p>\n\n<pre><code>{% extends \"base.html\" %}\n{% load static %}\n{% block title %}Title{% endblock %}\n{% block header_main %}\n    {% include \"_header_main.html\" %}\n{% endblock %}\n{% block content %}\n    Some content...\n{% endblock %}\n&lt;scripts&gt;\n...\n&lt;/scripts&gt;\n</code></pre>\n\n<p>How i can access to variables <code>items</code> in my template?</p>\n\n<p><strong>Edit. My function in views.py</strong></p>\n\n<pre><code>def index(request):\n    servers = Server.objects.all().order_by('ranking')\n    basket_count, total_price = basket_calculate(request)\n    server_arr = [i.title for i in servers]\n    servers_string = ', '.join(server_arr)\n    return render(request, 'index.html', {'servers':servers, 'temp_year' : datetime.now().year,\n                                          'basket_count':basket_count, 'total_price':total_price,\n                                          'servers_string':servers_string })\n</code></pre>\n"}, {"tags": ["python", "django", "username"], "comments": [{"owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "edited": false, "score": 0, "creation_date": 1499904949, "post_id": 45069186, "comment_id": 77112050, "body": "<code>User.objects.get(username=request.user.username)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "edited": false, "score": 0, "creation_date": 1499949323, "post_id": 45069266, "comment_id": 77133982, "body": "Hi Alasdair, it worked out! only thing i changed was the following: <code>forward.user = request.user.username</code> in order to make it work like Sumeet suggested. thanks for your help"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "edited": false, "score": 0, "creation_date": 1499949877, "post_id": 45069266, "comment_id": 77134433, "body": "Good catch, fixed now."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1499949831, "last_edit_date": 1499949831, "creation_date": 1499903379, "answer_id": 45069266, "question_id": 45069186, "link": "https://stackoverflow.com/questions/45069186/how-can-i-get-the-username-of-the-logged-in-user-in-django-views-py/45069266#45069266", "title": "How can I get the username of the logged-in user in Django views.py", "body": "<p>Save the form with <code>commit=False</code>, set the username, then save the instance. </p>\n\n<pre><code>if forwardform.is_valid():\n    forward = forwardform.save(commit=False)\n    forward.user = request.user.username\n    forward.save()\n</code></pre>\n\n<p>Note you don't need to check <code>if request.methof == 'POST'</code>, since the form is only valid for post requests. For get requests the form is unbound therefore invalid. </p>\n"}, {"comments": [{"owner": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "edited": false, "score": 0, "creation_date": 1499949686, "post_id": 45071553, "comment_id": 77134286, "body": "So this didn&#39;t worked out as the output &quot;request.user.username&quot; could not be saved directly into forwardform.user. I had to use a (what i assume is called a) variable forward, in order to save this one. but the <code>forwardform.user</code> made me think to change it into <code>forward.user</code> and it worked out"}], "tags": [], "owner": {"reputation": 823, "user_id": 5949840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NR4A7.jpg?s=128&g=1", "display_name": "Sumeet Kumar", "link": "https://stackoverflow.com/users/5949840/sumeet-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1499920974, "creation_date": 1499920974, "answer_id": 45071553, "question_id": 45069186, "link": "https://stackoverflow.com/questions/45069186/how-can-i-get-the-username-of-the-logged-in-user-in-django-views-py/45071553#45071553", "title": "How can I get the username of the logged-in user in Django views.py", "body": "<p>This should do the trick</p>\n\n<pre><code>def forwardthis(request):\n    forwardform = AddUrlForm(request.POST or None)\n    if forwardform.is_valid():\n        forwardform.save(commit=False)\n        forwardform.user = request.user.username\n        forwardform.save()\n    ...\n    ...\n    return HttpResponse(template.render(context,request))\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 45069266, "answer_count": 2, "score": 1, "last_activity_date": 1499949831, "creation_date": 1499902856, "question_id": 45069186, "link": "https://stackoverflow.com/questions/45069186/how-can-i-get-the-username-of-the-logged-in-user-in-django-views-py", "title": "How can I get the username of the logged-in user in Django views.py", "body": "<p>I am new to python and Django and struggling with the following issue:</p>\n\n<p>I have a logged-in user that completes a form with 2 fields (urlA and urlB). These 2 fields, together with the timestamp and the users username should get stored in my PSQL database.</p>\n\n<p>My current problem is that the urlA and urlB fields are pushed in the database, but the username stays empty or I get an error that self is not defined.</p>\n\n<p>I have tried follwoing variations inside views.py:</p>\n\n<pre><code>forwardform.user = request.user.username \nUser.objects.get(username=self.request.user) # -&gt; gives error concering self\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def forwardthis(request):\n    forwardform = AddUrlForm(request.POST or None)\n    if request.method == 'POST' and forwardform.is_valid():\n\n        forwardform.user = request.user.username\n        forwardform.save()\n    query_results = forwards.objects.all()\n    template = loader.get_template('forwardthis.html')\n    context = {\n\n        'forwardform': forwardform ,\n        'query_results':query_results\n    }\n\n    #output = ', '.join([p.user for p in query_results])\n\n    return HttpResponse(template.render(context,request))\n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class forwards(models.Model):\n    user = models.CharField(max_length = 150)\n    urlA = models.CharField(max_length = 254)\n    urlB = models.CharField(max_length = 254)\n    timestamp = models.DateTimeField('date created', auto_now_add=True)\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class AddUrlForm(forms.ModelForm):\n\n    class Meta:\n        model = forwards\n        # fields = '__all__'\n        exclude = [\"user\"]\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib", "plot", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1499966890, "post_id": 45069298, "comment_id": 77147138, "body": "@Y Luo: Is there a way I can make the points look bigger based on sd instead of error bars as such?"}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "reply_to_user": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1499967257, "post_id": 45069298, "comment_id": 77147326, "body": "@Gingerbread Not sure what you mean by &quot;bigger based on sd&quot;. Please give more specifics. Are you trying to remove error bars and draw your point with size proportional to sd?"}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1499967676, "post_id": 45069298, "comment_id": 77147588, "body": "@Y Luo: Yes, exactly what you said."}, {"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "reply_to_user": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1499968262, "post_id": 45069298, "comment_id": 77147940, "body": "@Gingerbread Thank you for clarification. Please check my edits and let me know if that&#39;s what you want."}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1499968577, "post_id": 45069298, "comment_id": 77148137, "body": "@Y Luo: Yes, this is exactly what I wanted! Thank you so much :D"}], "tags": [], "owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "is_accepted": true, "score": 3, "last_activity_date": 1499968230, "last_edit_date": 1592644375, "creation_date": 1499903592, "answer_id": 45069298, "question_id": 45069139, "link": "https://stackoverflow.com/questions/45069139/matplotlib-scatter-plot-doesnt-take-strings-on-x-axis/45069298#45069298", "title": "Matplotlib scatter plot doesn&#39;t take strings on x-axis?", "body": "<p>Just use <code>matplotlib.axes.Axes.errorbar()</code> as shown in this <a href=\"http://matplotlib.org/1.2.1/examples/pylab_examples/errorbar_demo.html\" rel=\"nofollow noreferrer\">example</a> by adding this line:</p>\n<pre><code>ax.errorbar(np.arange(len(df['id'])), df['mean'], yerr=df['sd'], ls='None')\n</code></pre>\n<p>But I don't think you have to use seaborn:</p>\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame({&quot;id&quot;:[&quot;ssa&quot;, &quot;ssb&quot;, &quot;ssc&quot;, &quot;xxa&quot;, &quot;xxb&quot;, &quot;xxc&quot;], \n                   &quot;mean&quot;:[1.3,1.5,5.2,3.1,2.1,3.2], \n                   &quot;sd&quot;:[0.9,0.5,0.3,0.1,0.2,0.3]})\nplt.errorbar(np.arange(len(df['id'])), df['mean'], yerr=df['sd'], ls='None', marker='o')\nax = plt.gca()\nax.xaxis.set_ticks(np.arange(len(df['id'])))\nax.xaxis.set_ticklabels(df['id'], rotation=90)\nplt.xlabel(&quot;id&quot;)\nplt.ylabel(&quot;mean&quot;)\n\nplt.show()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JKtan.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKtan.png\" alt=\"enter image description here\" /></a></p>\n<h1>Edit: OP now wants &quot;to remove error bars and draw your point with size proportional to sd&quot;.</h1>\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame({&quot;id&quot;:[&quot;ssa&quot;, &quot;ssb&quot;, &quot;ssc&quot;, &quot;xxa&quot;, &quot;xxb&quot;, &quot;xxc&quot;], \n                   &quot;mean&quot;:[1.3,1.5,5.2,3.1,2.1,3.2], \n                   &quot;sd&quot;:[0.9,0.5,0.3,0.1,0.2,0.3]})\nfig, ax = plt.subplots()\nsize_scaler = 300 # Your points will be too small if you just use sd\nax.scatter(np.arange(len(df['id'])), df['mean'], s=df['sd']*size_scaler, marker='o')\nax.xaxis.set_ticks(np.arange(len(df['id'])))\nax.xaxis.set_ticklabels(df['id'], rotation=90)\nplt.xlabel(&quot;id&quot;)\nplt.ylabel(&quot;mean&quot;)\n\nplt.show()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RhKDv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RhKDv.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4357, "favorite_count": 0, "accepted_answer_id": 45069298, "answer_count": 1, "score": 1, "last_activity_date": 1499968230, "creation_date": 1499902588, "question_id": 45069139, "link": "https://stackoverflow.com/questions/45069139/matplotlib-scatter-plot-doesnt-take-strings-on-x-axis", "title": "Matplotlib scatter plot doesn&#39;t take strings on x-axis?", "body": "<p>I have data in this format. I am able to get a bar plot out of it but not a scatter plot because the x-axis has strings. I looked into a couple of other posts from where I couldn't gather much info. </p>\n\n<pre><code>  import pandas as pd\n    import numpy as np\n\n    df = pd.DataFrame({\"id\":[\"ssa\", \"ssb\", \"ssc\", \"xxa\", \"xxb\", \"xxc\"], \"mean\":[1.3,1.5,5.2,3.1,2.1,3.2], \"sd\":[0.9,0.5,0.3,0.1,0.2,0.3]})\n    df\n</code></pre>\n\n<p>I get a bar plot with error bars using the following command:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nax = plt.figure()\nax = df.plot(kind='bar',x='id', y='mean',figsize=[15,6], yerr='sd')\nax.set_xlabel(\"id\")\nax.set_ylabel(\"mean\")\nax = plt.tight_layout()\nax = plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JK97W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JK97W.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I get an error when I try to do a scatter plot of the same df.</p>\n\n<pre><code>ax = plt.figure()\nax = df.plot(kind='scatter',x='id', y='mean',figsize=[15,6], yerr='sd')\nax.set_xlabel(\"id\")\nax.set_ylabel(\"mean\")\nax = plt.tight_layout()\nax = plt.show()\n</code></pre>\n\n<p>Error traceback:</p>\n\n<pre><code>---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n&lt;ipython-input-10-b3ab7237d4f1&gt; in &lt;module&gt;()\n      1 ax = plt.figure()\n----&gt; 2 ax = df.plot(kind='scatter',x='id', y='mean',figsize=[15,6], yerr='sd', style='.')\n      3 ax.set_xlabel(\"id\")\n      4 ax.set_ylabel(\"mean\")\n      5 ax = plt.tight_layout()\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\plotting\\_core.pyc in __call__(self, x, y, kind, ax, subplots, sharex, sharey, layout, figsize, use_index, title, grid, legend, style, logx, logy, loglog, xticks, yticks, xlim, ylim, rot, fontsize, colormap, table, yerr, xerr, secondary_y, sort_columns, **kwds)\n   2618                           fontsize=fontsize, colormap=colormap, table=table,\n   2619                           yerr=yerr, xerr=xerr, secondary_y=secondary_y,\n-&gt; 2620                           sort_columns=sort_columns, **kwds)\n   2621     __call__.__doc__ = plot_frame.__doc__\n   2622 \n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\plotting\\_core.pyc in plot_frame(data, x, y, kind, ax, subplots, sharex, sharey, layout, figsize, use_index, title, grid, legend, style, logx, logy, loglog, xticks, yticks, xlim, ylim, rot, fontsize, colormap, table, yerr, xerr, secondary_y, sort_columns, **kwds)\n   1855                  yerr=yerr, xerr=xerr,\n   1856                  secondary_y=secondary_y, sort_columns=sort_columns,\n-&gt; 1857                  **kwds)\n   1858 \n   1859 \n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\plotting\\_core.pyc in _plot(data, x, y, subplots, ax, kind, **kwds)\n   1680         plot_obj = klass(data, subplots=subplots, ax=ax, kind=kind, **kwds)\n   1681 \n-&gt; 1682     plot_obj.generate()\n   1683     plot_obj.draw()\n   1684     return plot_obj.result\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\plotting\\_core.pyc in generate(self)\n    236         self._compute_plot_data()\n    237         self._setup_subplots()\n--&gt; 238         self._make_plot()\n    239         self._add_table()\n    240         self._make_legend()\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\plotting\\_core.pyc in _make_plot(self)\n    829         else:\n    830             label = None\n--&gt; 831         scatter = ax.scatter(data[x].values, data[y].values, c=c_values,\n    832                              label=label, cmap=cmap, **self.kwds)\n    833         if cb:\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\core\\frame.pyc in __getitem__(self, key)\n   2060             return self._getitem_multilevel(key)\n   2061         else:\n-&gt; 2062             return self._getitem_column(key)\n   2063 \n   2064     def _getitem_column(self, key):\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\core\\frame.pyc in _getitem_column(self, key)\n   2067         # get column\n   2068         if self.columns.is_unique:\n-&gt; 2069             return self._get_item_cache(key)\n   2070 \n   2071         # duplicate columns &amp; possible reduce dimensionality\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\core\\generic.pyc in _get_item_cache(self, item)\n   1532         res = cache.get(item)\n   1533         if res is None:\n-&gt; 1534             values = self._data.get(item)\n   1535             res = self._box_item_values(item, values)\n   1536             cache[item] = res\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\core\\internals.pyc in get(self, item, fastpath)\n   3588 \n   3589             if not isnull(item):\n-&gt; 3590                 loc = self.items.get_loc(item)\n   3591             else:\n   3592                 indexer = np.arange(len(self.items))[isnull(self.items)]\n\nC:\\Users\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\pandas\\core\\indexes\\base.pyc in get_loc(self, key, method, tolerance)\n   2393                 return self._engine.get_loc(key)\n   2394             except KeyError:\n-&gt; 2395                 return self._engine.get_loc(self._maybe_cast_indexer(key))\n   2396 \n   2397         indexer = self.get_indexer([key], method=method, tolerance=tolerance)\n\npandas\\_libs\\index.pyx in pandas._libs.index.IndexEngine.get_loc (pandas\\_libs\\index.c:5239)()\n\npandas\\_libs\\index.pyx in pandas._libs.index.IndexEngine.get_loc (pandas\\_libs\\index.c:5085)()\n\npandas\\_libs\\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item (pandas\\_libs\\hashtable.c:20405)()\n\npandas\\_libs\\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item (pandas\\_libs\\hashtable.c:20359)()\n\nKeyError: 'id'\n</code></pre>\n\n<p>So, instead I used seaborn to plot and it plots perfectly. \nHowever, I am not sure how to pass \"sd\" column to plot error bars in it. </p>\n\n<pre><code>fig, ax = plt.subplots(figsize=(5,3))\nax = sns.pointplot(x=\"id\", y=\"mean\",  data=df, join=False)\nax = plt.xticks(rotation=90)\nax = plt.tight_layout()\nax = plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Let8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Let8z.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>fig, ax = plt.subplots(figsize=(25,5))\nax = sns.pointplot(x=\"id\", y=\"mean\", data=df, join=False)\nax.map(plt.errorbar, \"id\", \"mean\", \"sd\", marker=\"o\")\nax = plt.xticks(rotation=90)\nax = plt.tight_layout()\nax = plt.show()\n</code></pre>\n\n<p>The above code throws the following error:</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-21-18652e3e8b12&gt; in &lt;module&gt;()\n      1 fig, ax = plt.subplots(figsize=(25,5))\n      2 ax = sns.pointplot(x=\"id\", y=\"mean\", data=df, join=False)\n----&gt; 3 ax.map(plt.errorbar, \"id\", \"mean\", \"sd\", marker=\"o\")\n      4 ax = plt.xticks(rotation=90)\n      5 ax = plt.tight_layout()\n\nAttributeError: 'AxesSubplot' object has no attribute 'map'\n</code></pre>\n\n<p>What I would ideally like to have is a plot similar to the pointplot but with each point having a different size (as specified by its corresponding sd) or with each point having an error bar (given by sd). \nCan someone tell me how to do this?</p>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 679, "user_id": 8027995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SunLF.jpg?s=128&g=1", "display_name": "rmahesh", "link": "https://stackoverflow.com/users/8027995/rmahesh"}, "edited": false, "score": 0, "creation_date": 1499904587, "post_id": 45069207, "comment_id": 77111965, "body": "What exactly do you mean by converting them from current_date? I understand the one-hot encoding, and I will be sure to do that when classifying them either as a string or a date, but I am confused on what you mean by converting them to days from current_date."}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "reply_to_user": {"reputation": 679, "user_id": 8027995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SunLF.jpg?s=128&g=1", "display_name": "rmahesh", "link": "https://stackoverflow.com/users/8027995/rmahesh"}, "edited": false, "score": 0, "creation_date": 1499929686, "post_id": 45069207, "comment_id": 77119789, "body": "@rmahesh He&#39;s saying that you need to extract features from the date, like date, month, day of week, year, etc which you can then be able to use in the algorithm. Search more about how to do it. <a href=\"https://datascience.stackexchange.com/questions/2368/machine-learning-features-engineering-from-date-time-data\">See this</a> for a start."}, {"owner": {"reputation": 679, "user_id": 8027995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SunLF.jpg?s=128&g=1", "display_name": "rmahesh", "link": "https://stackoverflow.com/users/8027995/rmahesh"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1499958500, "post_id": 45069207, "comment_id": 77141631, "body": "@Vivek Kumar  Thank you for the link, will start with the link you provided."}], "tags": [], "owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1499902987, "creation_date": 1499902987, "answer_id": 45069207, "question_id": 45069126, "link": "https://stackoverflow.com/questions/45069126/can-i-input-strings-into-features-for-decisiontreeclassifiers-for-scikit-learn/45069207#45069207", "title": "Can I input strings into &quot;features&quot; for DecisionTreeClassifiers for scikit-learn?", "body": "<p>No it does not accept. You have to do your feature engineering by converting them to number format.</p>\n\n<p>For example,</p>\n\n<p>1)For strings in categorical columns/features - do one-hot encoding</p>\n\n<p>2)For dates - convert them to days from current_date</p>\n"}], "owner": {"reputation": 679, "user_id": 8027995, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/SunLF.jpg?s=128&g=1", "display_name": "rmahesh", "link": "https://stackoverflow.com/users/8027995/rmahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 45069207, "answer_count": 1, "score": -1, "last_activity_date": 1499902987, "creation_date": 1499902478, "question_id": 45069126, "link": "https://stackoverflow.com/questions/45069126/can-i-input-strings-into-features-for-decisiontreeclassifiers-for-scikit-learn", "title": "Can I input strings into &quot;features&quot; for DecisionTreeClassifiers for scikit-learn?", "body": "<p>I am following the Google Dev Machine Learning Recipe. I am trying to use this ML algorithm to help me solve a problem faced at work. We often get a variety of different formats for dates when performing ETL, and would like to be able to identify certain rows as dates. </p>\n\n<p>The current solution that works is Regex, I would like to use ML to train the computer to identify dates as well.</p>\n\n<p>The code I am referring to from Google Dev is this (Object Recognition):</p>\n\n<pre><code>import sklearn\nfrom sklearn import tree\n#Featuers:  0 = \"bumpy\" 1 = \"smooth\"\n#Labels:    0 = apple 1 = orange\nfeatures = [[140, 1], [130, 1], [150, 0], [170, 0]]\nlabels = [0, 0, 1, 1]\n\n# We will be using a Decision Tree in this instance\nclf = tree.DecisionTreeClassifier()\n\n#fit = This is the training algorithm, this helps identify patterns as \nto what attributes are associated with apples etc\n\nclf = clf.fit(features, labels)\n\nprint(clf.predict([[160, 0]])) #This outputs 1, so it believes it is an orange. \n</code></pre>\n\n<p>I want to load an entire column of different date types (12/12/12, Dec-12-12, etc) and different strings (12 12 12, user/Documents/Python etc). </p>\n\n<p>The next column is going to be of type string (converted into 0 and 1 in code as variable \"labels\"): 1 = if the string is a date, 0 = if the string is just a string.</p>\n\n<p>Hopefully I am on the right track of thought. </p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 1287087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e19ac91c762a3a3c08fc5b55c82f188?s=128&d=identicon&r=PG&f=1", "display_name": "omar_29", "link": "https://stackoverflow.com/users/1287087/omar-29"}, "edited": false, "score": 0, "creation_date": 1499950856, "post_id": 45070499, "comment_id": 77135344, "body": "Hi, well I need when I clicked in my website that click run a command line in the console. when I run flask is working fine, but when I clicked in the button the web server was reseted. just I need a tip how to run command line from website."}], "tags": [], "owner": {"reputation": 382, "user_id": 4765406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CunQw.jpg?s=128&g=1", "display_name": "ahota", "link": "https://stackoverflow.com/users/4765406/ahota"}, "is_accepted": false, "score": -1, "last_activity_date": 1499913080, "creation_date": 1499913080, "answer_id": 45070499, "question_id": 45069115, "link": "https://stackoverflow.com/questions/45069115/how-to-run-command-line-using-flask-framework-from-website/45070499#45070499", "title": "how to run command line using flask framework from website", "body": "<p>How are you running it on the command line? If you set the <code>FLASK_APP</code> environment variable to your script and call <code>flask run</code> on the command line, it should start the Flask server. <a href=\"http://flask.pocoo.org/docs/0.12/quickstart/#quickstart\" rel=\"nofollow noreferrer\">This is shown on the quickstart documentation</a>. Additionally, you shouldn't need the lines</p>\n\n<pre><code>if __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>if you run the server in this manner.</p>\n"}], "owner": {"reputation": 1, "user_id": 1287087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e19ac91c762a3a3c08fc5b55c82f188?s=128&d=identicon&r=PG&f=1", "display_name": "omar_29", "link": "https://stackoverflow.com/users/1287087/omar-29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1551, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1499913080, "creation_date": 1499902431, "last_edit_date": 1499909210, "question_id": 45069115, "link": "https://stackoverflow.com/questions/45069115/how-to-run-command-line-using-flask-framework-from-website", "title": "how to run command line using flask framework from website", "body": "<p>everyone.</p>\n\n<p>I have a doubt, how to run a command line using flask framework, my code like this:</p>\n\n<pre><code>import click\nfrom flask import Flask, render_template, request\napp = Flask(__name__, template_folder='templates')\n\n@app.cli.command()\ndef initdb(name):\n    \"\"\"init database\"\"\"\n    click.echo('here inti mydb', name)\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@app.route('/runbutton', methods=['POST'])\n\ndef runbutton():\n    nombre = request.form['nombre']\n    response = initdb(nombre)\n    return 'ok'\n\nif __name__=='__main__':\n   app.run(debug=True)\n</code></pre>\n\n<p>the appweb show me an error 'the connection was reset', and let me know if this is possible and what can I do, please.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ZAoIv.png\" alt=\"enter image description here\"></p>\n\n<p>regards\nAngel</p>\n"}, {"tags": ["python", "function", "arguments"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1499902825, "post_id": 45069108, "comment_id": 77111512, "body": "<a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">Facts and myths about Python names and values</a> - might help"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499905148, "post_id": 45069108, "comment_id": 77112104, "body": "Any time you find yourself putting variable names into strings, you probably should be using a dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499905203, "post_id": 45069153, "comment_id": 77112116, "body": "But you have to assign <code>args</code> after you assign all the variables. You can&#39;t do it in the other order, as in your question."}], "tags": [], "owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "is_accepted": false, "score": 1, "last_activity_date": 1499902644, "creation_date": 1499902644, "answer_id": 45069153, "question_id": 45069108, "link": "https://stackoverflow.com/questions/45069108/use-list-as-function-definition-parameters-in-python/45069153#45069153", "title": "Use list as function definition parameters in python", "body": "<pre><code>args = (a, b, c, d, e) # not ('a', 'b', 'c', 'd', 'e')\nfunc(*args)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "is_accepted": false, "score": 0, "last_activity_date": 1499903075, "creation_date": 1499903075, "answer_id": 45069222, "question_id": 45069108, "link": "https://stackoverflow.com/questions/45069108/use-list-as-function-definition-parameters-in-python/45069222#45069222", "title": "Use list as function definition parameters in python", "body": "<p>Your code gets pretty close, but you seem to bee missing some key concepts. When you create the varlist with the strings, they don't automatically refer to the objects you define below. You have to evaluate them. If you  trust the source you can just use eval(), but if they user will input it, you might want to do something else. Also, there is no need to unpack the list, just leave it as is. And don't name stuff in python the same name as builtins, in either version. Here is what I wrote with those changes.</p>\n\n<pre><code>varlist = ('a','b','c','d','e')\n\ndef func(inp):\n    output = \"\"\n    for item in inp:\n        output += item\n    return output\n\na = \"I'll \"\nb = \"have \"\nc = \"a \"\nd = \"cheese \"\ne = \"sandwich.\"\n\nprint func(map(eval, varlist))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8298748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767a5ac44332ab37ede3cb24ffa85926?s=128&d=identicon&r=PG&f=1", "display_name": "mtchemnerd757", "link": "https://stackoverflow.com/users/8298748/mtchemnerd757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3756, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1499903075, "creation_date": 1499902398, "question_id": 45069108, "link": "https://stackoverflow.com/questions/45069108/use-list-as-function-definition-parameters-in-python", "title": "Use list as function definition parameters in python", "body": "<p>Some similar questions have been answered here, but they all pertain to using a list as a variable within the function. I am looking to use a list as the function definition:</p>\n\n<pre><code>varlist = ('a',\n            'b',\n            'c',\n            'd',\n            'e')\n\ndef func(*input):\n    output = \"\"\n    for item in input:\n        output += item\n    return output\n\na = \"I'll \"\nb = \"have \"\nc = \"a \"\nd = \"cheese \"\ne = \"sandwich.\"\n\nprint func(*varlist)\n</code></pre>\n\n<p>This returns <code>abcde</code>, when I'm trying to get <code>I'll have a cheese sandwich.</code> In other words, the function is using the values from the list as the inputs, rather than using them as variables, which I define below. Of course, when I redefine:</p>\n\n<pre><code>def func(a,b,c,d,e):\n    output = a+b+c+d+e\n    return output\n</code></pre>\n\n<p>and define <code>a</code> through <code>e</code> I get the correct output.</p>\n\n<p>The code above is a gross oversimplification, but here's the goal: I am hoping to be able to remove <code>d</code> from my list (or add <code>f</code> to my list), and have it tell me <code>I'll have a sandwich.</code> (or <code>I'll have a cheese sandwich, please.</code>) without having to redefine the function each time I need to handle a different number of variables. Any thoughts are much appreciated.</p>\n"}, {"tags": ["python", "nested-loops", "dice"], "answers": [{"tags": [], "owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "is_accepted": false, "score": 2, "last_activity_date": 1499902923, "last_edit_date": 1499902923, "creation_date": 1499902596, "answer_id": 45069142, "question_id": 45069085, "link": "https://stackoverflow.com/questions/45069085/dice-roller-for-python/45069142#45069142", "title": "Dice Roller for Python", "body": "<p>Your problem is you put your <code>print</code> statement inside the inner <code>for</code> loop, which means you print the results too many times, as well as increment <code>nrolls</code> too often.</p>\n\n<pre><code>nrolls = 1\nfor r in range (rolls):\n    roll = []\n    for d in range (dice):\n        roll.append(random.randint(1,sides))\n    print('Roll #', nrolls, *roll)\n    nrolls += 1\n&gt;Roll # 1 3 3 1\n&gt;Roll # 2 1 5 2\n&gt;Roll # 3 6 5 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 2197764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2ddf0beb2285db792d12f517f8b06ea?s=128&d=identicon&r=PG", "display_name": "Carter", "link": "https://stackoverflow.com/users/2197764/carter"}, "is_accepted": false, "score": 0, "last_activity_date": 1499904674, "creation_date": 1499904674, "answer_id": 45069464, "question_id": 45069085, "link": "https://stackoverflow.com/questions/45069085/dice-roller-for-python/45069464#45069464", "title": "Dice Roller for Python", "body": "<p>For minimal modification to your code, change it to this:</p>\n\n<pre><code>for r in range (rolls):\n    print('Roll #', nrolls, end=' ')\n    for d in range (dice):\n        print (random.randint(1,sides), end=' ')\n    print()\n    nrolls += 1\n</code></pre>\n\n<p>Additionally, the following line throws an error.</p>\n\n<pre><code>return dice ()\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>return dice\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9119529, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2e938e508f454222450e007a9b97b368?s=128&d=identicon&r=PG", "display_name": "Colum", "link": "https://stackoverflow.com/users/9119529/colum"}, "is_accepted": false, "score": 0, "last_activity_date": 1513708875, "creation_date": 1513708875, "answer_id": 47893280, "question_id": 45069085, "link": "https://stackoverflow.com/questions/45069085/dice-roller-for-python/47893280#47893280", "title": "Dice Roller for Python", "body": "<pre><code>import random\n\ndef dice_roll(n):\ndicelist = ['\\u2680','\\u2681','\\u2682','\\u2683','\\u2684','\\u2685']\ndicevalue = {(dicelist[0]): 1, (dicelist[1]): 2, (dicelist[2]): 3, \n(dicelist[3]): 4, (dicelist[4]): 5,(dicelist[5]): 6}\nresult = 0\nvisualresult = \" \"\n\nfor i in range(n): \n    random_roll = random.sample((dicelist), 1)\n    str1 = str(random_roll)\n    str2 = str1.replace(\"'\",\" \")\n    str3 = str2.replace(\"[\", \" \")\n    str4 = str3.replace(']',' ')\n    str5 = str4.strip()\n    valueresultindex = dicelist.index(str5)\n    valuelist = list(dicevalue.values())\n    newvalueindex = valuelist[valueresultindex]\n    result = result + newvalueindex\n    visualresult = visualresult + str4\n    i = i + 1\n\nrolledstring = \"You rolled this much: \"    \nprint(visualresult)\nprint((rolledstring) + str(result))\n\nNumofdice = int(input(\"Please enter the amount of dice you would like to \nroll: \"))\n\nif Numofdice &gt;= 1 and Numofdice &lt;= 6:\n    ValidRollAmount = True\nelse:\n    ValidRollAmount = False\n\nwhile ValidRollAmount == False:\n    Numofdice = int(input(\"Invalid amount of dice please re-enter: \"))    \n    if Numofdice &gt;= 1 and Numofdice &lt;= 6:\n        ValidRollAmount = True\n\nwhile ValidRollAmount == True:\n    dice_roll(Numofdice)\n    ValidRollAmount = False\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9148266"}, "is_accepted": false, "score": 0, "last_activity_date": 1515482724, "creation_date": 1515482724, "answer_id": 48163182, "question_id": 45069085, "link": "https://stackoverflow.com/questions/45069085/dice-roller-for-python/48163182#48163182", "title": "Dice Roller for Python", "body": "<p>You should use a while loop for continuing the asking for dice then rolling that amount of dice.</p>\n\n<p>e.g.</p>\n\n<pre><code>import random\nfrom random import randint\nimport string\n\nwhile True:\n  str = input(\"What dice would you like to roll\")\n  prefix, d, suffix = str.partition(\"d\")\n  if str == \"quit\" or str == \"q\":\n    break\n  elif str.startswith(\"d\"):\n    print random.randint(1, int(suffix))\n  elif str.startswith(prefix):\n    for _ in range(int(prefix)):\n      print (random.randint(1, int(suffix)))\n  elif str.startswith(\"d\"):\n    print random.randint(1, suffix)\n  else:\n   print (\"Keep rolling or type q or quit\")\n\nprint (\"exiting\")\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8298841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170d5c92ab71bcc587ca2dc6492dc5cb?s=128&d=identicon&r=PG&f=1", "display_name": "Whitekong", "link": "https://stackoverflow.com/users/8298841/whitekong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2578, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1515482724, "creation_date": 1499902277, "last_edit_date": 1499903062, "question_id": 45069085, "link": "https://stackoverflow.com/questions/45069085/dice-roller-for-python", "title": "Dice Roller for Python", "body": "<p>I'm trying to make a dice rolling program in python that rolls dice given the users input on sides, dice, and rolls. Currently this code more or less works, but the problem I'm running into is say I give <code>3</code> dice being rolled <code>3</code> times with <code>6</code> sides to them.</p>\n\n<p>The code I have displays this as the output:</p>\n\n<pre><code>Roll #1 6\nRoll #2 5\nRoll #3 1\nRoll #4 6\nRoll #5 4\nRoll #6 6\nRoll #7 3\nRoll #8 1\nRoll #9 1\n</code></pre>\n\n<p>When I need it to display as:</p>\n\n<pre><code>Roll #1 6 5 1\nRoll #2 6 4 6\nRoll #3 3 1 1\n</code></pre>\n\n<p>Here's my code so far. My guess is that it has to do something with my arguments and parameters being empty? I'm not entirely sure. Here is my code:</p>\n\n<pre><code>import random\n\ndef main ():\n    rolls = get_rolls()\n    dice = get_dice()\n    sides = get_sides()\n\n    nrolls = 1\n    for r in range (rolls):\n        for d in range (dice):\n            print ('Roll #', nrolls, random.randint(1,sides))\n            nrolls += 1 \n\ndef get_rolls():\n    rolls = int(input('Enter the number of rolls: '))\n    while rolls &lt;= 0:\n        print ('Number of rolls must be higher than 0')\n        rolls = int (input('Enter the number of rolls: '))\n    return rolls\n\ndef get_dice():\n    dice = int (input('Enter the number of dice being rolled: '))\n    while dice &lt; 1 or 5 &lt; dice:\n        print ('Number of dice being rolled must be between 1 and 5')\n        dice = int (input('Enter the number of dice being rolled: '))\n    return dice ()\n\ndef get_sides():\n    sides = int (input('Enter the number of sides on the dice: '))\n    while sides &lt; 2 or 36 &lt; sides:\n        print ('Number of sides on dice must be between 2 and 36')\n        sides = int (input('Enter the number of sides on the dice: '))\n    return sides\n\n\nmain()        \n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1499903283, "creation_date": 1499903283, "answer_id": 45069252, "question_id": 45069081, "link": "https://stackoverflow.com/questions/45069081/pyspark-reducebykey-to-return-list-of-tuples/45069252#45069252", "title": "Pyspark reduceByKey to return list of tuples", "body": "<p>Remember that a tuple with only one element must still be denoted as <code>(tuple,)</code> so all you have to do is use as your parameter function</p>\n\n<pre><code>lambda a,b: (a,) + (b,)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3584683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67ebb687bb5a12cdf3d359204f4d3f33?s=128&d=identicon&r=PG&f=1", "display_name": "user3584683", "link": "https://stackoverflow.com/users/3584683/user3584683"}, "is_accepted": false, "score": -1, "last_activity_date": 1506645679, "last_edit_date": 1506645679, "creation_date": 1506619012, "answer_id": 46474893, "question_id": 45069081, "link": "https://stackoverflow.com/questions/45069081/pyspark-reducebykey-to-return-list-of-tuples/46474893#46474893", "title": "Pyspark reduceByKey to return list of tuples", "body": "<pre><code>rdd.groupByKey().mapValues(tuple)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8298828, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209698860889203/picture?type=large", "display_name": "abrruti", "link": "https://stackoverflow.com/users/8298828/abrruti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1417, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1506645679, "creation_date": 1499902251, "last_edit_date": 1499923588, "question_id": 45069081, "link": "https://stackoverflow.com/questions/45069081/pyspark-reducebykey-to-return-list-of-tuples", "title": "Pyspark reduceByKey to return list of tuples", "body": "<p>I have an rdd that goes like this :</p>\n\n<pre><code>rdd = [((uid1), (product1, price1, date1)),\n       ((uid1), (product2, price2, date2))]\n</code></pre>\n\n<p>I want the output to look like this :</p>\n\n<pre><code>reduced_rdd = [((uid1), ((product1, price1, date1), (product2, price2, date2)))]\n</code></pre>\n\n<p>So I tried to do something like :</p>\n\n<pre><code>reduced_rdd = rdd.reduceByKey(lambda a,b: a+b)\n</code></pre>\n\n<p>But the output is not what I want :</p>\n\n<pre><code>reduced_rdd = [((uid1), (product1, price1, date1, product2, price2, date2))]\n</code></pre>\n\n<p>Cause those tuples concatenate when I use the + operator and if I try to append them in a list I get an ugly nested list.\nHow can I get a nice reduced rdd where the values are nice and quite in their own tuples?</p>\n"}, {"tags": ["python", "multiprocessing", "cross-platform"], "answers": [{"comments": [{"owner": {"reputation": 27454, "user_id": 1079110, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/07tNg.jpg?s=128&g=1", "display_name": "danijar", "link": "https://stackoverflow.com/users/1079110/danijar"}, "edited": false, "score": 0, "creation_date": 1501466339, "post_id": 45073818, "comment_id": 77773619, "body": "Is passing objects via <code>args=(...)</code> the way to go then, in order to leave it to the <code>multiprocessing</code> module whether to inherit or pickle and send objects or not? What is the difference between <code>args</code> and inheriting a global variable?"}], "tags": [], "owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "is_accepted": false, "score": 4, "last_activity_date": 1499933752, "last_edit_date": 1592644375, "creation_date": 1499930127, "answer_id": 45073818, "question_id": 45069073, "link": "https://stackoverflow.com/questions/45069073/do-i-need-to-pass-multiprocessing-queues-to-the-process/45073818#45073818", "title": "Do I need to pass multiprocessing queues to the process?", "body": "<p>People tend to follow the <a href=\"https://docs.python.org/2.7/library/multiprocessing.html#all-platforms\" rel=\"nofollow noreferrer\">multiprocessing programming guidelines</a>:</p>\n<blockquote>\n<p>Better to inherit than pickle/unpickle</p>\n<p>On Windows many types from multiprocessing need to be picklable so that child processes can use them. However, one should generally avoid sending shared objects to other processes using pipes or queues. Instead you should arrange the program so that a process which needs access to a shared resource created elsewhere can inherit it from an ancestor process.</p>\n</blockquote>\n<p>If your implementation is simple enough, you can make use of global variables. Yet in more complex cases, you probably want to avoid them and prefer a better encapsulation.</p>\n<p>Moreover, your implementation is likely not to work on Windows due to the way the OS handles the <a href=\"https://docs.python.org/3.6/library/multiprocessing.html#contexts-and-start-methods\" rel=\"nofollow noreferrer\">creation of new processes</a>.</p>\n<p>Unix uses <code>fork</code> which duplicates the parent process resources. Therefore, the child inherits the parent opened files (in your case the <code>Queue</code>).</p>\n<p>Windows uses the <code>spawn</code> method which, instead, creates a &quot;blank&quot; process, loads a new Python interpreter and tries to re-construct the minimum necessary to run the <code>target</code> function. Is very likely that the new process will have a brand new <code>Queue</code> which is different from the parent one. Hence the data you will send will never reach the child process.</p>\n<p>Note on the last statement: Python <code>multiprocessing</code> library tries to provide an OS agnostic experience (which I personally dislike). This means that your code might still be working on Windows due to this effort.</p>\n<p>As the <em>actual</em> differences between fork and spawn are not well documented, it's always recommended to follow the programming guidelines to avoid weird behaviours.</p>\n"}], "owner": {"reputation": 27454, "user_id": 1079110, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/07tNg.jpg?s=128&g=1", "display_name": "danijar", "link": "https://stackoverflow.com/users/1079110/danijar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499933752, "creation_date": 1499902216, "question_id": 45069073, "link": "https://stackoverflow.com/questions/45069073/do-i-need-to-pass-multiprocessing-queues-to-the-process", "title": "Do I need to pass multiprocessing queues to the process?", "body": "<p>The following multiprocessing example works on my Ubuntu machine. It starts a process, sends a parameter via a queue, and receives the result of the computation via another queue:</p>\n\n<pre><code>from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport multiprocessing\nimport Queue\n\n\nrunning = multiprocessing.Value('i', 1)\nrequest = multiprocessing.Queue(1)\nresponse = multiprocessing.Queue(1)\n\ndef worker():\n  while running.value:\n    try:\n      param = request.get(timeout=0.1)\n    except Queue.Empty:\n      # To check running flag.\n      continue\n    # Imagine heavy computation here.\n    result = param ** 2\n    response.put_nowait(result)\n\n\ndef main():\n  process = multiprocessing.Process(target=worker)\n  process.start()\n  request.put_nowait(42)\n  result = response.get()\n  print('Result', result)\n  running.value = 0\n  process.join()\n\n\nif __name__ == '__main__':\n  main()\n</code></pre>\n\n<p>However, several examples on the web seem to pass all objects needed by the worker via <code>multiprocessing.Process(target=worker, args=(running, request, response)</code>. Is this necessary for any reason, for example platform compatibility?</p>\n"}, {"tags": ["python", "dataframe", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1499902492, "post_id": 45069094, "comment_id": 77111417, "body": "i get NameError: global name &#39;sector&#39; is not defined"}, {"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1499902670, "post_id": 45069094, "comment_id": 77111471, "body": "KeyError: u&#39;Industrials&#39;"}, {"owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "reply_to_user": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1499902716, "post_id": 45069094, "comment_id": 77111486, "body": "You have to define in the labels dictionary. You only provided two examples this should work."}], "tags": [], "owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "is_accepted": true, "score": 0, "last_activity_date": 1499902547, "last_edit_date": 1499902547, "creation_date": 1499902333, "answer_id": 45069094, "question_id": 45069043, "link": "https://stackoverflow.com/questions/45069043/grouping-same-values-of-a-df-column-into-a-single-variable/45069094#45069094", "title": "Grouping same values of a df column into a single variable", "body": "<p>create a new column and apply a dictionary that has a key value for each new label</p>\n\n<pre><code>labels = { 'Health Care': 'XLV', 'Info Tech': 'XLK' }\n\nmerge_data['new_label'] = merge_data['Sector'].apply(lambda sector: labels[sector])\n</code></pre>\n"}], "owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 45069094, "answer_count": 1, "score": 0, "last_activity_date": 1499902547, "creation_date": 1499901937, "question_id": 45069043, "link": "https://stackoverflow.com/questions/45069043/grouping-same-values-of-a-df-column-into-a-single-variable", "title": "Grouping same values of a df column into a single variable", "body": "<p>I merged two dfs from data scraped online;</p>\n\n<pre><code>merge_data = pd.merge(WikiData,SPData, on='Symbol')\nmerge_data.set_index('Symbol',inplace=True)\nmerge_data.head()\n</code></pre>\n\n<p>and get the following df:</p>\n\n<pre><code>        Sector      Sub-industry    Company     Weight\nSymbol              \nMMM    Industrials  Conglomerates   MCompany    0.602676\nABT    Health Care  Equipment       Abbott Lab  0.401900\nABBV   Health Care  Pharmaceuticals AbbVie Inc  0.550174\nACN    Info Tech    Consulting      Accenture   0.370650\nATVI   Info Tech    Entertainment   Activision  0.192788\n</code></pre>\n\n<p>How can I group same values of the 'Sector' column together? For example, I want all stocks that are in the \"Health Care\" sector to be = to a 'XLV' variable, and all stocks in \"Info Tech\" = 'XLK'</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 855, "user_id": 8207355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97cf1b0439fe13dd27c8f4c3ee0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Craig", "link": "https://stackoverflow.com/users/8207355/sam-craig"}, "edited": false, "score": 0, "creation_date": 1499901973, "post_id": 45069034, "comment_id": 77111293, "body": "Write the stuff in the image in your question. Some people can&#39;t view pictures, and it is just easier to read as text."}], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1499902537, "creation_date": 1499902537, "answer_id": 45069135, "question_id": 45069034, "link": "https://stackoverflow.com/questions/45069034/how-do-i-reformat-column-row-placement-in-pandas/45069135#45069135", "title": "How do I reformat column/row placement in pandas?", "body": "<p>Categories one and two are the names of the  index and columns objects respectively. </p>\n\n<pre><code>variations_tab.rename_axis(None).rename_axis(None, 1)\n</code></pre>\n"}], "owner": {"reputation": 1687, "user_id": 7468566, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef60caa27c17a851340a8710b2c08ee9?s=128&d=identicon&r=PG&f=1", "display_name": "itstoocold", "link": "https://stackoverflow.com/users/7468566/itstoocold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499902818, "creation_date": 1499901894, "last_edit_date": 1499902818, "question_id": 45069034, "link": "https://stackoverflow.com/questions/45069034/how-do-i-reformat-column-row-placement-in-pandas", "title": "How do I reformat column/row placement in pandas?", "body": "<p>I have a pandas dataframe as shown:</p>\n\n<p><img src=\"https://i.stack.imgur.com/X3hEk.png\" alt=\"image\"></p>\n\n<p>I would like to remove the 'Category_2' and 'Category_1' from the dataframe. I would also like the dataframe to look like a table, rather than how it is now (state and primary_or_piggyback are both numpy arrays). How would I go about achieving this goal? </p>\n"}, {"tags": ["python", "pandas", "numpy", "matplotlib"], "comments": [{"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1499902460, "post_id": 45069025, "comment_id": 77111409, "body": "Try using pandas itself for filtering the data and then using its <code>hist</code> built-in: <code>df[df.desired_column == 1].hist(bins = 30)</code>, for the Yes votes of a <i>desired_column</i>"}, {"owner": {"reputation": 39, "user_id": 6312742, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/cd78a59edb73fb6b0c1fb33d40e48ceb?s=128&d=identicon&r=PG&f=1", "display_name": "cadence glorpon", "link": "https://stackoverflow.com/users/6312742/cadence-glorpon"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1499902516, "post_id": 45069025, "comment_id": 77111422, "body": "Do you mean the file from which the data is pulled? It is a long text file of -1&#39;s, 1&#39;s, and 0&#39;s. @MSeifert"}, {"owner": {"reputation": 39, "user_id": 6312742, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/cd78a59edb73fb6b0c1fb33d40e48ceb?s=128&d=identicon&r=PG&f=1", "display_name": "cadence glorpon", "link": "https://stackoverflow.com/users/6312742/cadence-glorpon"}, "reply_to_user": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1499902627, "post_id": 45069025, "comment_id": 77111452, "body": "@Vin&#237;ciusAguiar do you know if I am able to include a list of columns? I would like to see all the columns past the first 10 at once."}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1499902888, "post_id": 45069025, "comment_id": 77111529, "body": "hmm I&#39;m not sure how to do that, maybe @MSeifert knows a good way! =)"}], "answers": [{"comments": [{"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1499928893, "post_id": 45069170, "comment_id": 77119305, "body": "Weird how the &quot;random&quot; data generated such a stripey graphs."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1499941859, "post_id": 45069170, "comment_id": 77128493, "body": "@DanielF I don&#39;t think these &quot;empty stripes&quot; are real. That&#39;s a problem in my dataset where the range of values can be less than the number of bins. For example in the second data set the range is ~23 - ~44 so it has 21 &quot;filled bins&quot; and 9 &quot;empty bins&quot;..."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 2, "last_activity_date": 1499902764, "creation_date": 1499902764, "answer_id": 45069170, "question_id": 45069025, "link": "https://stackoverflow.com/questions/45069025/creating-histogram-from-2d-array-python/45069170#45069170", "title": "creating histogram from 2d array python", "body": "<p>I used some random data set to reproduce it:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\narr = np.random.randint(-1, 2, (200, 100))\n</code></pre>\n\n<p>Then it's just (neglecting axis labels and titles):</p>\n\n<pre><code>fig, (ax1, ax2, ax3) = plt.subplots(1, 3)\nax1.hist(np.sum(arr==-1, axis=1), bins=30)  # no\nax2.hist(np.sum(arr==0, axis=1), bins=30)   # nothing\nax3.hist(np.sum(arr==1, axis=1), bins=30)   # yes\n</code></pre>\n\n<p>Which gives me (which should be roughly what you want):</p>\n\n<p><a href=\"https://i.stack.imgur.com/qjNw1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjNw1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 39, "user_id": 6312742, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/cd78a59edb73fb6b0c1fb33d40e48ceb?s=128&d=identicon&r=PG&f=1", "display_name": "cadence glorpon", "link": "https://stackoverflow.com/users/6312742/cadence-glorpon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4541, "favorite_count": 1, "accepted_answer_id": 45069170, "answer_count": 1, "score": 2, "last_activity_date": 1499902764, "creation_date": 1499901804, "last_edit_date": 1499902113, "question_id": 45069025, "link": "https://stackoverflow.com/questions/45069025/creating-histogram-from-2d-array-python", "title": "creating histogram from 2d array python", "body": "<p>Currently I have a matrix of 1's, 0's, and -1's where each row is a person and each column is a bill that they voted on. The 1's, 0's, and -1's in each cell denote how they voted.</p>\n\n<p>The histogram I am trying to build would show the number of people with x amount of yes votes (the number of rows with x amount of 1's) on the Y axis. On the X axis it would have ticks 0-N yes votes. So for example, if 30 people voted yes, the bar at the 30 label on the X axis would go up to 30 on the Y axis.</p>\n\n<p>Here is a screenshot of these histograms that I quickly made in MatLab(where my experience which such things is): <img src=\"https://i.stack.imgur.com/d0OUf.png\" alt=\"histograms built in MatLab\"></p>\n\n<p>My question is how to easily and effectively do this in Python. I have very little experience with Python. </p>\n\n<p>The code I have: </p>\n\n<pre><code>def buildHistogram(matrix):\n    plt.hist(matrix, bins = 30)\n    plt.show()\n</code></pre>\n\n<p>Which yields: <img src=\"https://i.stack.imgur.com/4qtnI.png\" alt=\"histograms built in Python\"></p>\n\n<p>Please let me know how I can split these into three different histograms. Do I need to make three different arrays?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499903115, "post_id": 45069127, "comment_id": 77111585, "body": "Works perfectly. Thank you so much, Wiktor."}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499903572, "post_id": 45069127, "comment_id": 77111686, "body": "I guess the reason mine did not work was because when the previous word was matched, a space/word boundary (\\b) was eaten, therefore the next one was not preceded with one space any more, and hence was not matched. Am I understanding it correctly?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499930125, "post_id": 45069127, "comment_id": 77120107, "body": "@BoShao: The <code>\\b</code> word boundary is a <i>zero-width assertion</i> that does not <i>consume</i> text. It matches a <i>location</i> (=empty string) at <a href=\"https://stackoverflow.com/documentation/regex/1539/word-boundary\">certain places</a>. Since it cannot match a whitespace, your initial regex fails to match substrings containing spaces. <code>\\b\\w+\\b</code> matches a whole word, but <code>(?:\\b\\w+\\b)+</code> will never match 2 or more words (in EMEA-like languages where space is used to separate words) because it does not match space. You need a <code>-</code>, too, as there might be <code>twenty-two</code>."}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499955015, "post_id": 45069127, "comment_id": 77138805, "body": "I need the dash and even the word &quot;and&quot;. For the word &quot;and&quot;, I want to make sure the pattern does not match it as the start nor the end. Is there a way to do that? Thank you very much. Below are 3 sentences to test:&quot;What is two hundred and four plus one and something?&quot;,         &quot;What is two hundred and four plus one and and something?&quot;,         &quot;What is two hundred and four plus and and and something?&quot;,"}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499955704, "post_id": 45069127, "comment_id": 77139359, "body": "Actually, a real problem is that this pattern does not match the number words if there are multiple spaces in between. For examples: &quot;twelve thousand     three hundred and four&quot; will be considered as two numbers. How can I address this problem? If this is resolved, I can easily deal with the &quot;and&quot; problem as well (I can just replace &quot;and&quot; with 3 spaces before checking the pattern)."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 1, "creation_date": 1499955782, "post_id": 45069127, "comment_id": 77139421, "body": "@BoShao: Use this then: <code>r&#39;\\b{0}(?:(?:\\s+(?:and\\s+)?|-){0})*\\b|\\d+&#39;</code>"}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499958920, "post_id": 45069127, "comment_id": 77141979, "body": "Thank you very much. It works for multiple spaces now, but do not match dash any more. For example, this fails to match: &quot;How much is twelve thousand     three hundred and four divided by two hundred fifty-six?&quot;"}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499967709, "post_id": 45069127, "comment_id": 77147610, "body": "You are right, Wiktor, it works now. It was my bad because I forgot to update the code for converting the number words to numbers, and therefore thought it did not work."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1499972935, "last_edit_date": 1499972935, "creation_date": 1499902481, "answer_id": 45069127, "question_id": 45069015, "link": "https://stackoverflow.com/questions/45069015/how-to-make-python-re-treat-continuous-matching-pattern-options-to-be-a-single-o/45069127#45069127", "title": "How to make python re treat continuous matching pattern options to be a single occurrence of the pattern?", "body": "<p>Build the numeral pattern using a block, <code>&lt;numeral&gt;(?:[\\s-]&lt;numeral&gt;)*</code>, that will match a numeral  and then any 0+ sequences of a whitespace or <code>-</code> followed with a numeral.</p>\n\n<pre><code>import re\nnumeral_rx = r'(?:zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen|twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|hundred|thousand|million|billion|trillion)'\nsentences=[\"How much is twelve thousand three hundred four plus two hundred fifty six?\",\n\"How much is twelve thousand three hundred and four divided by two hundred fifty-six?\"]\npat_num = re.compile(r'\\b{0}(?:(?:\\s+(?:and\\s+)?|-){0})*\\b|\\d+'.format(numeral_rx))\nfor sentence in sentences:\n    print(re.findall(pat_num, sentence))\n# =&gt; ['twelve thousand three hundred four', 'two hundred fifty six']\n#    ['twelve thousand three hundred and four', 'two hundred fifty-six']\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/Q446DV\" rel=\"nofollow noreferrer\">Python demo</a>.</p>\n\n<p>Note that due to the non-capturing groups <code>(?:...)</code> a simple <code>re.findall</code> call is enough to obtain all matches.</p>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>{0}</code> - the alternation group with numeral strings placeholder</li>\n<li><code>(?:(?:\\s+(?:and\\s+)?|-){0})*</code> - 0 or more sequences of:\n\n<ul>\n<li><code>(?:\\s+(?:and\\s+)?|-)</code> - either of the two alternatives:\n\n<ul>\n<li><code>\\s+(?:and\\s+)?</code> - 1+ whitespaces followed with 1 or 0 occurrences (an optional one) of <code>and</code> substring and 1+ whitespaces</li>\n<li><code>|</code> - or</li>\n<li><code>-</code> - a hyphen</li>\n</ul></li>\n<li><code>{0}</code> -  the alternation group with numeral strings placeholder</li>\n</ul></li>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>|</code> - or</li>\n<li><code>\\d+</code>  - 1+ digits.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499904044, "post_id": 45069259, "comment_id": 77111811, "body": "Thank you, Zwer. I do need the indexes. However, the above one I accepted also work for indexes. Anyway, I vote your as well."}, {"owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "edited": false, "score": 0, "creation_date": 1499955118, "post_id": 45069259, "comment_id": 77138905, "body": "I am wondering if you can help me on this as well: \t I need the dash and even the word &quot;and&quot;. For the word &quot;and&quot;, I want to make sure the pattern does not match it as the start nor the end. Is there a way to do that? Thank you very much. Below are 3 sentences to test:&quot;What is two hundred and four plus one and something?&quot;, &quot;What is two hundred and four plus one and and something?&quot;, &quot;What is two hundred and four plus and and and something?&quot;"}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 2, "last_activity_date": 1499903319, "creation_date": 1499903319, "answer_id": 45069259, "question_id": 45069015, "link": "https://stackoverflow.com/questions/45069015/how-to-make-python-re-treat-continuous-matching-pattern-options-to-be-a-single-o/45069259#45069259", "title": "How to make python re treat continuous matching pattern options to be a single occurrence of the pattern?", "body": "<p>Just in case you want to have the actual indexes instead of the matched text itself, it should be quite trivial with a little bit of lookahead:</p>\n\n<pre><code># easier to manage as a list\nnumerals = [\"zero\", \"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\", \"nine\",\n            \"ten\", \"eleven\", \"twelve\", \"thirteen\", \"fourteen\", \"fifteen\", \"sixteen\",\n            \"seventeen\", \"eighteen\", \"nineteen\", \"twenty\", \"thirty\", \"fourty\", \"fifty\",\n            \"sixty\", \"seventy\", \"eighty\", \"ninety\", \"hundred\", \"thousand\", \"million\",\n            \"billion\", \"trillion\"]\n\npattern = re.compile(r\"((({})\\s*)+)(?=\\s|$)|\\d+\".format(\"|\".join(numerals)))  # all together\n</code></pre>\n\n<p>You can then test it as:</p>\n\n<pre><code>sentence = \"How much is twelve thousand three hundred four plus two hundred fifty six?\"\nprint([(m.start(0), m.end(0)) for m in re.finditer(pattern, sentence)])\n# [(12, 46), (52, 69)]\n\nsentence = \"What is five hundred eighty nine divided by 89?\"\nprint([(m.start(0), m.end(0)) for m in re.finditer(pattern, sentence)])\n# [(8, 32), (44, 46)]\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 7845325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd3da95296871bdd756fcd951f7a879d?s=128&d=identicon&r=PG&f=1", "display_name": "Bo Shao", "link": "https://stackoverflow.com/users/7845325/bo-shao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 45069127, "answer_count": 2, "score": 1, "last_activity_date": 1499972935, "creation_date": 1499901697, "question_id": 45069015, "link": "https://stackoverflow.com/questions/45069015/how-to-make-python-re-treat-continuous-matching-pattern-options-to-be-a-single-o", "title": "How to make python re treat continuous matching pattern options to be a single occurrence of the pattern?", "body": "<p>I am developing a chatbot, in which I would like to embed certain rules. One of those would be to parse questions like this:</p>\n\n<p>\"How much is twelve thousand three hundred four plus two hundred fifty six?\"\nOR\n\"What is five hundred eighty nine divided by 89?\"</p>\n\n<p>I have the following code:  </p>\n\n<pre><code>import re\n\npat_num = re.compile(r'((\\b(zero|one|two|three|four|five|'\n                     r'six|seven|eight|nine|ten|eleven|'\n                     r'twelve|thirteen|fourteen|fifteen|sixteen|'\n                     r'seventeen|eighteen|nineteen|twenty|thirty|'\n                     r'forty|fifty|sixty|seventy|eighty|'\n                     r'ninety|hundred|thousand|million|billion|'\n                     r'trillion)\\b)+|\\d+)')\nind_list = [(m.start(0), m.end(0)) for m in re.finditer(pat_num, sentence)]\n</code></pre>\n\n<p>I want both sentences to return two numbers. For example, for the first sentence, it should return the indexes for number: twelve thousand three hundred four, and two hundred fifty six.</p>\n\n<p>However, it returns 9 numbers/matches for the first one, which are: twelve, thousand, three, hundred, four, two, hundred, fifty, six.</p>\n\n<p>How to change the regular expression to make it return 2 numbers?</p>\n\n<p>Thank you very much for the help!</p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qtstylesheets", "qpushbutton"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499901520, "post_id": 45068963, "comment_id": 77111161, "body": "Please can you show the .qrc file"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499901678, "post_id": 45068963, "comment_id": 77111213, "body": "Please <a href=\"https://stackoverflow.com/posts/45068963/edit\">edit</a> your question and add it."}, {"owner": {"reputation": 25, "user_id": 7824688, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g7p9ebRIOaA/AAAAAAAAAAI/AAAAAAAAAAA/w0lN4RdqXKE/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/7824688/luis-martinez"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499902083, "post_id": 45068963, "comment_id": 77111325, "body": "ok I just added it"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499902159, "post_id": 45068963, "comment_id": 77111346, "body": "Which is <code>self.house1</code>, does it generate an error?"}, {"owner": {"reputation": 25, "user_id": 7824688, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g7p9ebRIOaA/AAAAAAAAAAI/AAAAAAAAAAA/w0lN4RdqXKE/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/7824688/luis-martinez"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499902472, "post_id": 45068963, "comment_id": 77111412, "body": "no, it runs fine, just no images on the pushbutton called house1"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499902551, "post_id": 45068963, "comment_id": 77111433, "body": "You have not completely copied the code, if you check, you have never created the self.house1 button. :P"}, {"owner": {"reputation": 25, "user_id": 7824688, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g7p9ebRIOaA/AAAAAAAAAAI/AAAAAAAAAAA/w0lN4RdqXKE/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/7824688/luis-martinez"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499902715, "post_id": 45068963, "comment_id": 77111484, "body": "I see, ok let me fix this."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499903019, "post_id": 45068963, "comment_id": 77111556, "body": "Please correct it because I think I found the problem, but this depends on the corrected code that you show me."}, {"owner": {"reputation": 25, "user_id": 7824688, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g7p9ebRIOaA/AAAAAAAAAAI/AAAAAAAAAAA/w0lN4RdqXKE/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/7824688/luis-martinez"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1499903640, "post_id": 45068963, "comment_id": 77111704, "body": "I edited the question since code doesn&#39;t get formatted properly in the comment section . The images still do not show up."}], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1499904603, "last_edit_date": 1499904603, "creation_date": 1499904140, "answer_id": 45069382, "question_id": 45068963, "link": "https://stackoverflow.com/questions/45068963/style-sheets-in-pyqt5-bakground-image-pushbutton-turns-it-into-a-no-image-pushbu/45069382#45069382", "title": "Style-sheets in PyQt5 bakground-image pushbutton turns it into a no-image pushbutton", "body": "<p>The problem is caused by not using the names correctly, QStyleSheet uses the objectName property, in your case the QPushButton self.house1:</p>\n\n<pre><code>self.house1.setObjectName(\"house1\")\n</code></pre>\n\n<p>Before writing that line the button has no objectName (actually its objectName is \"\") so it is not appropriate to place the QStyleSheet by the objectName.</p>\n\n<p>What you should do is place an objectName and then you can just assign the filtered QStyleSheet by its name.</p>\n\n<pre><code>self.house1 = QtWidgets.QPushButton(self.centralwidget)\nself.house1.setObjectName(\"house1\")\nself.house1.setStyleSheet(\"#house1 {\\n\"\n\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\\n\"\n\"}\\n\"\n\"#house1:Pressed {\\n\"\n\"    border-image: url(:/img/Search_in_home.png);\\n\"\n\"}\")\n</code></pre>\n\n<p>This attribute is case-sensitive so you must place it exactly the same as <code>setObjectName()</code>.</p>\n\n<p>For more information you should read the following:</p>\n\n<ul>\n<li><p><a href=\"http://doc.qt.io/qt-5/stylesheet-syntax.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/stylesheet-syntax.html</a></p></li>\n<li><p><a href=\"http://doc.qt.io/qt-5/stylesheet-reference.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/stylesheet-reference.html</a></p></li>\n</ul>\n"}], "owner": {"reputation": 25, "user_id": 7824688, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g7p9ebRIOaA/AAAAAAAAAAI/AAAAAAAAAAA/w0lN4RdqXKE/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/7824688/luis-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1468, "favorite_count": 0, "accepted_answer_id": 45069382, "answer_count": 1, "score": 1, "last_activity_date": 1523078962, "creation_date": 1499901289, "last_edit_date": 1523078962, "question_id": 45068963, "link": "https://stackoverflow.com/questions/45068963/style-sheets-in-pyqt5-bakground-image-pushbutton-turns-it-into-a-no-image-pushbu", "title": "Style-sheets in PyQt5 bakground-image pushbutton turns it into a no-image pushbutton", "body": "<p>I use Qt-Designer to create a mainwindow and used stylesheets to make a button changeimage when pressed. however after running it the background-image and the pressed image does not work. </p>\n\n<p>This is the stylesheet input from Qt-Designer:</p>\n\n<pre><code>QPushButton#House1 {\n    border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\n}\nQPushButton#House:pressed {\n    border-image: url(:/img/Search_in_home.png);\n}\n</code></pre>\n\n<p>This is my mainWindow.py : </p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\nimport sys\nimport resources_rc\nclass Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(\"MainWindow\")\n        MainWindow.resize(811, 600)\n        MainWindow.setStyleSheet(\"background-color: rgb(211, 211, 211);\")\n        self.centralwidget = QtWidgets.QWidget(MainWindow)\n        self.centralwidget.setObjectName(\"centralwidget\")\n        ###################house 1#######\n        self.house2 = QtWidgets.QPushButton(self.centralwidget)\n        self.house1.setGeometry(QtCore.QRect(61, 21, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house1.sizePolicy().hasHeightForWidth())\n\n        self.house1.setSizePolicy(sizePolicy)\n        self.house1.setStyleSheet(\"#House1 {\\n\"\n\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\\n\"\n\"}\\n\"\n\"#House:Pressed {\\n\"\n\"    border-image: url(:/img/Search_in_home.png);\\n\"\n\"}\")\n        self.house1.setText(\"\")\n        self.house1.setObjectName(\"house1\")\n        ####################end #############\n        self.house4 = QtWidgets.QPushButton(self.centralwidget)\n        self.house4.setGeometry(QtCore.QRect(61, 203, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house4.sizePolicy().hasHeightForWidth())\n        self.house4.setSizePolicy(sizePolicy)\n        self.house4.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.house4.setText(\"\")\n        self.house4.setObjectName(\"house4\")\n        self.house2 = QtWidgets.QPushButton(self.centralwidget)\n        self.house2.setGeometry(QtCore.QRect(293, 21, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house2.sizePolicy().hasHeightForWidth())\n        self.house2.setSizePolicy(sizePolicy)\n        self.house2.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.house2.setText(\"\")\n        self.house2.setObjectName(\"house2\")\n        self.house3 = QtWidgets.QPushButton(self.centralwidget)\n        self.house3.setGeometry(QtCore.QRect(524, 21, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house3.sizePolicy().hasHeightForWidth())\n        self.house3.setSizePolicy(sizePolicy)\n        self.house3.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.house3.setText(\"\")\n        self.house3.setObjectName(\"house3\")\n        self.pushButton_8 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_8.setGeometry(QtCore.QRect(293, 384, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.pushButton_8.sizePolicy().hasHeightForWidth())\n        self.pushButton_8.setSizePolicy(sizePolicy)\n        self.pushButton_8.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.pushButton_8.setText(\"\")\n        self.pushButton_8.setObjectName(\"pushButton_8\")\n        self.house5 = QtWidgets.QPushButton(self.centralwidget)\n        self.house5.setGeometry(QtCore.QRect(293, 203, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house5.sizePolicy().hasHeightForWidth())\n        self.house5.setSizePolicy(sizePolicy)\n        self.house5.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.house5.setText(\"\")\n        self.house5.setObjectName(\"house5\")\n        self.house6 = QtWidgets.QPushButton(self.centralwidget)\n        self.house6.setGeometry(QtCore.QRect(524, 203, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house6.sizePolicy().hasHeightForWidth())\n        self.house6.setSizePolicy(sizePolicy)\n        self.house6.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.house6.setText(\"\")\n        self.house6.setObjectName(\"house6\")\n        self.pushButton_7 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_7.setGeometry(QtCore.QRect(61, 384, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.pushButton_7.sizePolicy().hasHeightForWidth())\n        self.pushButton_7.setSizePolicy(sizePolicy)\n        self.pushButton_7.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.pushButton_7.setText(\"\")\n        self.pushButton_7.setObjectName(\"pushButton_7\")\n        self.pushButton_9 = QtWidgets.QPushButton(self.centralwidget)\n        self.pushButton_9.setGeometry(QtCore.QRect(524, 384, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.pushButton_9.sizePolicy().hasHeightForWidth())\n        self.pushButton_9.setSizePolicy(sizePolicy)\n        self.pushButton_9.setStyleSheet(\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\")\n        self.pushButton_9.setText(\"\")\n        self.pushButton_9.setObjectName(\"pushButton_9\")\n        MainWindow.setCentralWidget(self.centralwidget)\n        self.menubar = QtWidgets.QMenuBar(MainWindow)\n        self.menubar.setGeometry(QtCore.QRect(0, 0, 811, 27))\n        self.menubar.setObjectName(\"menubar\")\n        self.menuFile = QtWidgets.QMenu(self.menubar)\n        self.menuFile.setObjectName(\"menuFile\")\n        self.menuAdmin = QtWidgets.QMenu(self.menubar)\n        self.menuAdmin.setObjectName(\"menuAdmin\")\n        MainWindow.setMenuBar(self.menubar)\n        self.statusbar = QtWidgets.QStatusBar(MainWindow)\n        self.statusbar.setObjectName(\"statusbar\")\n        MainWindow.setStatusBar(self.statusbar)\n        self.actionOpen = QtWidgets.QAction(MainWindow)\n        self.actionOpen.setObjectName(\"actionOpen\")\n        self.actionSave = QtWidgets.QAction(MainWindow)\n        self.actionSave.setObjectName(\"actionSave\")\n        self.actionSave_As = QtWidgets.QAction(MainWindow)\n        self.actionSave_As.setObjectName(\"actionSave_As\")\n        self.actionLogin = QtWidgets.QAction(MainWindow)\n        self.actionLogin.setObjectName(\"actionLogin\")\n        self.actionSign_Up = QtWidgets.QAction(MainWindow)\n        self.actionSign_Up.setObjectName(\"actionSign_Up\")\n        self.menuFile.addAction(self.actionOpen)\n        self.menuFile.addAction(self.actionSave)\n        self.menuFile.addAction(self.actionSave_As)\n        self.menuAdmin.addAction(self.actionLogin)\n        self.menuAdmin.addAction(self.actionSign_Up)\n        self.menubar.addAction(self.menuFile.menuAction())\n        self.menubar.addAction(self.menuAdmin.menuAction())\n\n        self.retranslateUi(MainWindow)\n        QtCore.QMetaObject.connectSlotsByName(MainWindow)\n\n    def retranslateUi(self, MainWindow):\n        _translate = QtCore.QCoreApplication.translate\n        MainWindow.setWindowTitle(_translate(\"MainWindow\", \"SWTDI Main Window\"))\n        self.menuFile.setTitle(_translate(\"MainWindow\", \"File\"))\n        self.menuAdmin.setTitle(_translate(\"MainWindow\", \"Admin\"))\n        self.actionOpen.setText(_translate(\"MainWindow\", \"Open\"))\n        self.actionSave.setText(_translate(\"MainWindow\", \"Save\"))\n        self.actionSave_As.setText(_translate(\"MainWindow\", \"Save As\"))\n        self.actionLogin.setText(_translate(\"MainWindow\", \"Login\"))\n        self.actionSign_Up.setText(_translate(\"MainWindow\", \"Sign Up\"))\n\nif __name__ == \"__main__\":\n    app = QtWidgets.QApplication(sys.argv)\n    w   = QtWidgets.QMainWindow()\n    ui = Ui_MainWindow()\n    ui.setupUi(w)\n    w.show()\n    sys.exit(app.exec())\n</code></pre>\n\n<p>resource file:</p>\n\n<pre><code>&lt;!DOCTYPE RCC&gt;&lt;RCC version=\"1.0\"&gt;\n&lt;qresource&gt;\n    &lt;file&gt;img/house.png&lt;/file&gt;\n    &lt;file&gt;img/house2.png&lt;/file&gt;\n    &lt;file&gt;img/NM_State_University_logo.png&lt;/file&gt;\n    &lt;file&gt;img/NMlogo_1colorstate_black.png&lt;/file&gt;\n    &lt;file&gt;img/NMlogo_1colorstate_red.tif&lt;/file&gt;\n    &lt;file&gt;img/Crystal_Clear_app_kfm_home.png&lt;/file&gt;\n    &lt;file&gt;img/Gohomenew.png&lt;/file&gt;\n    &lt;file&gt;img/Search_in_home.png&lt;/file&gt;\n    &lt;/qresource&gt;\n&lt;/RCC&gt;\n</code></pre>\n\n<p>The button was created by the line I commented out. but anyways \nI created another button with similar code I have seen around. </p>\n\n<pre><code>###################house 1#######\n        self.house1 = QPushButton(self.centralwidget)\n        #self.house1 = QtWidgets.QPushButton(self.centralwidget)\n        self.house1.setGeometry(QtCore.QRect(61, 21, 32, 19))\n        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)\n        sizePolicy.setHorizontalStretch(0)\n        sizePolicy.setVerticalStretch(0)\n        sizePolicy.setHeightForWidth(self.house1.sizePolicy().hasHeightForWidth())\n\n        self.house1.setSizePolicy(sizePolicy)\n        self.house1.setStyleSheet(\"#House1 {\\n\"\n\"border-image: url(:/img/Crystal_Clear_app_kfm_home.png);\\n\"\n\"}\\n\"\n\"#House:Pressed {\\n\"\n\"    border-image: url(:/img/Search_in_home.png);\\n\"\n\"}\")\n        self.house1.setText(\"\")\n        self.house1.setObjectName(\"house1\")\n        ####################end #############\n</code></pre>\n"}, {"tags": ["python", "pandas", "data-science-experience"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1499902058, "post_id": 45068931, "comment_id": 77111315, "body": "There are way more experienced people with Pandas (probably looking at this question right now). So, I won&#39;t even try to give you a canonical approach. However, the advice in your previous question mentions &quot;vectorization&quot; and &quot;take away the loop&quot;. If you&#39;re using <code>for</code> loops, they run in roughly Python time (computationally) and you might as well not bother with <code>numpy</code> or <code>pandas</code> and just go vanilla python. It requires a shift in thinking, and a couple of tutorials might suit you well here before proceeding."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 8088442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6342305ba3bd572b3a553987919cbb40?s=128&d=identicon&r=PG&f=1", "display_name": "Bene", "link": "https://stackoverflow.com/users/8088442/bene"}, "edited": false, "score": 0, "creation_date": 1499936825, "post_id": 45069205, "comment_id": 77124705, "body": "Thank you! The cut method was what I&#39;ve been looking for!"}], "tags": [], "owner": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "is_accepted": true, "score": 1, "last_activity_date": 1499902986, "creation_date": 1499902986, "answer_id": 45069205, "question_id": 45068931, "link": "https://stackoverflow.com/questions/45068931/python-performance-problems-while-classifing-column-values/45069205#45069205", "title": "python performance problems while classifing column values", "body": "<p>I do not have your <code>df</code> to test so you need to modify the following code.\nAssume that min of <code>df</code> is greater than <code>10e-7</code> while max of <code>df</code> is less than <code>10e7</code></p>\n\n<pre><code>bin = [10e-7,5,10,30,100,10e7]\nlabel = ['no','yes2','yes1','no','yes']\ndf['p_test_LAENGE_class'] = pd.cut(df['p_test_LAENGE'], bins=bin, labels=label)\n</code></pre>\n\n<p>Hope this will help you</p>\n"}], "owner": {"reputation": 199, "user_id": 8088442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6342305ba3bd572b3a553987919cbb40?s=128&d=identicon&r=PG&f=1", "display_name": "Bene", "link": "https://stackoverflow.com/users/8088442/bene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 45069205, "answer_count": 1, "score": 0, "last_activity_date": 1499902986, "creation_date": 1499901098, "question_id": 45068931, "link": "https://stackoverflow.com/questions/45068931/python-performance-problems-while-classifing-column-values", "title": "python performance problems while classifing column values", "body": "<p>This question is strongly related to my question earlier: \n<a href=\"https://stackoverflow.com/questions/45057978/python-performance-problems-using-loops-with-big-tables\">here</a><br>\nSorry that I have to ask again!</p>\n\n<p>The code below is running and delivering the correct results but its again somehow slow (4 mins for 80K rows). I have problems to use the Series class from pandas for concrete values. Can someone recommend how I can instead classify those columns? \n<br><br>Could not find relevant information in the documentary: <br>\n<a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html</a></p>\n\n<h1>Running Code:</h1>\n\n<pre><code># p_test_SOLL_test_D10\n\nfor x in range (0,len(tableContent[6])):\n    var = tableContent[6].loc[x, ('p_test_LAENGE')]\n    if float(tableContent[6].loc[x, ('p_test_LAENGE')])&gt;=100.0:\n        tableContent[6].loc[x, ('p_test_LAENGE')]='yes'\n    elif (float(tableContent[6].loc[x, ('p_test_LAENGE')]) &lt;30.0 and float(tableContent[6].loc[x, ('p_test_LAENGE')]) &gt;= 10):\n        tableContent[6].loc[x, ('p_test_LAENGE')]='yes2'\n    elif (float(tableContent[6].loc[x, ('p_test_LAENGE')]) &lt;10.0 and float(tableContent[6].loc[x, ('p_test_LAENGE')]) &gt;= 5):\n        tableContent[6].loc[x, ('p_test_LAENGE')]='yes3'\n    else:\n        tableContent[6].loc[x, ('p_test_LAENGE')]='no'\n\nprint (tableContent[6]['p_test_LAENGE'])\n</code></pre>\n\n<h1>Series Try:</h1>\n\n<pre><code>if tableContent[6]['p_test_LAENGE'].astype(float) &gt;=100.0:\n    tableContent[6]['p_test_LAENGE']='yes'\nelif (tableContent[6]['p_test_LAENGE'].astype(float) &lt;30.0 and tableContent[6]['p_test_LAENGE'].astype(float) &gt;= 10):\n    tableContent[6]['p_test_LAENGE']='yes1'\nelif (tableContent[6]['p_test_LAENGE'].astype(float) &lt;10.0 and tableContent[6]['p_test_LAENGE'].astype(float) &gt;= 5):\n    tableContent[6]['p_test_LAENGE']='yes2'\nelse:\n    tableContent[6]['p_test_LAENGE']='no'\n\n\nprint (tableContent[6]['p_test_LAENGE'])\n</code></pre>\n"}, {"tags": ["python", "numpy", "matrix", "vector"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499901143, "post_id": 45068853, "comment_id": 77111068, "body": "I&#39;ve never seen a method this elegant for generating OHVs."}, {"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1499929097, "post_id": 45068853, "comment_id": 77119415, "body": "It&#39;s the second answer on the <a href=\"https://stackoverflow.com/questions/29831489/numpy-1-hot-array\">top voted SO question.</a>.  Should probably be the accepted answer since it handles n-d 1HA&#39;s so well"}], "answers": [{"comments": [{"owner": {"reputation": 1619, "user_id": 228965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e3566b571bcdc2b608ec0ed3ad0c790f?s=128&d=identicon&r=PG", "display_name": "zardosht", "link": "https://stackoverflow.com/users/228965/zardosht"}, "edited": false, "score": 0, "creation_date": 1539252250, "post_id": 45068915, "comment_id": 92437869, "body": "This is indexing a NumPy array using another array as described here: <a href=\"https://docs.scipy.org/doc/numpy/user/basics.indexing.html#index-arrays\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/user/basics.indexing.html#index-arr&zwnj;&#8203;ays</a>. The first array is the Identity matrix of size <i>n_labels</i>. The second array selects the one-hot row corresponding to each target."}], "tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": false, "score": 8, "last_activity_date": 1499901014, "creation_date": 1499901014, "answer_id": 45068915, "question_id": 45068853, "link": "https://stackoverflow.com/questions/45068853/how-does-this-one-hot-vector-conversion-work/45068915#45068915", "title": "How does this one-hot vector conversion work?", "body": "<p>It's rather simple. <code>np.eye(n_labels)</code> creates an identity matrix of size <code>n_labels</code> then you use your <code>target_vector</code> to select rows, corresponding to the value of the current target, from that matrix. Since each row in an identity matrix contains exactly one <code>1</code> element and the rest <code>0</code>, each row will be a valid 'one hot coding'.</p>\n"}, {"tags": [], "owner": {"reputation": 1793, "user_id": 6398487, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1013337205416693/picture?type=large", "display_name": "Jason", "link": "https://stackoverflow.com/users/6398487/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1518556762, "creation_date": 1518556762, "answer_id": 48775812, "question_id": 45068853, "link": "https://stackoverflow.com/questions/45068853/how-does-this-one-hot-vector-conversion-work/48775812#48775812", "title": "How does this one-hot vector conversion work?", "body": "<p><code>ndarray[[0]]</code> is to select the first line in the ndarray</p>\n\n<pre><code>t = np.arange(9).reshape(3,3)\nprint t\nprint t[[1]]\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>[[0 1 2]\n [3 4 5]\n [6 7 8]]\n[[3 4 5]]\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 8094855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q7btyD5Yzp8/AAAAAAAAAAI/AAAAAAAABs8/BUiK18HzfFc/photo.jpg?sz=128", "display_name": "Suha Hussain", "link": "https://stackoverflow.com/users/8094855/suha-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 6, "answer_count": 2, "score": 9, "last_activity_date": 1518556762, "creation_date": 1499900624, "last_edit_date": 1499901247, "question_id": 45068853, "link": "https://stackoverflow.com/questions/45068853/how-does-this-one-hot-vector-conversion-work", "title": "How does this one-hot vector conversion work?", "body": "<p>When I was working on my machine learning project, I was looking for a line of code to turn my labels into one-hot vectors. I came across this nifty line of code from u/benanne on Reddit. </p>\n\n<pre><code>np.eye(n_labels)[target_vector]\n</code></pre>\n\n<p>For example, for a <code>target_vector = np.array([1, 4, 2, 1, 0, 1, 3, 2])</code>, it returns the one-hot coded values:</p>\n\n<pre><code>np.eye(5)[target_vector]\nOut: \narray([[ 0.,  1.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  0.,  1.],\n       [ 0.,  0.,  1.,  0.,  0.],\n       ..., \n       [ 0.,  1.,  0.,  0.,  0.],\n       [ 0.,  0.,  0.,  1.,  0.],\n       [ 0.,  0.,  1.,  0.,  0.]])\n</code></pre>\n\n<p>While it definitely does work, I'm not sure how or why it works. </p>\n"}, {"tags": ["python", "heroku", "amazon-s3", "ffmpeg", "boto3"], "answers": [{"tags": [], "owner": {"reputation": 1076, "user_id": 5775965, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/98506e548d87020608ab5264f3d57703?s=128&d=identicon&r=PG&f=1", "display_name": "genghiskhan", "link": "https://stackoverflow.com/users/5775965/genghiskhan"}, "is_accepted": true, "score": 0, "last_activity_date": 1500067358, "creation_date": 1500067358, "answer_id": 45111791, "question_id": 45068832, "link": "https://stackoverflow.com/questions/45068832/boto3-video-upload-0-bytes-from-heroku/45111791#45111791", "title": "Boto3 Video Upload 0 Bytes from Heroku", "body": "<p>I know this doesn't really answer my question, but I took the API off of Heroku and deployed it on AWS Elastic Beanstalk and now both image and video uploads work correctly.</p>\n"}], "owner": {"reputation": 1076, "user_id": 5775965, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/98506e548d87020608ab5264f3d57703?s=128&d=identicon&r=PG&f=1", "display_name": "genghiskhan", "link": "https://stackoverflow.com/users/5775965/genghiskhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 45111791, "answer_count": 1, "score": 0, "last_activity_date": 1500067358, "creation_date": 1499900538, "question_id": 45068832, "link": "https://stackoverflow.com/questions/45068832/boto3-video-upload-0-bytes-from-heroku", "title": "Boto3 Video Upload 0 Bytes from Heroku", "body": "<p>I have a small Flask api that takes a video and an image, overlays the image on the video and uploads the result to Amazon S3. I am using ffmpeg to do the actual overlaying. Here is that code:</p>\n\n<pre><code>command = \"ffmpeg -i {0} -i {1} -filter_complex \\\"overlay=0:0\\\" {2}\".format(background_name, overlay_name, output_name)\nsubprocess.getoutput(command)\n</code></pre>\n\n<p>Then I simply upload it via Boto3:</p>\n\n<pre><code>s3.upload_file(output_name, VIDEO_BUCKET_NAME, output_name)\n</code></pre>\n\n<p>This code works fine when I run on localhost; however, when I test in while deployed to Heroku, it always uploads a file with 0 bytes. I suspect that it may be a problem with Heroku's transient filesystem, but the file is being used immediately after it is created.</p>\n"}, {"tags": ["python", "django", "web", "django-models", "django-views"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8249922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1565628143467483/picture?type=large", "display_name": "Devin Ayscue", "link": "https://stackoverflow.com/users/8249922/devin-ayscue"}, "edited": false, "score": 0, "creation_date": 1499901539, "post_id": 45068927, "comment_id": 77111167, "body": "I just did that and I am still receiving an error 404. Do I have to &#39;service gunicorn restart&#39; in Putty to apply these changes or do these changes happen real-time?"}, {"owner": {"reputation": 1, "user_id": 8249922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1565628143467483/picture?type=large", "display_name": "Devin Ayscue", "link": "https://stackoverflow.com/users/8249922/devin-ayscue"}, "edited": false, "score": 0, "creation_date": 1499901730, "post_id": 45068927, "comment_id": 77111226, "body": "YUP. going into Putty, logging into the database as root and doing &#39;service gunicorn restart&#39; was what was needed after your fix. Thank you very much. Do you think that this thread is helpful? if so i will leave it up for future people who will have this problem but if not i&#39;d rather delete it."}, {"owner": {"reputation": 5528, "user_id": 466066, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0ed1a417e659f1205cac821201ca0e9b?s=128&d=identicon&r=PG", "display_name": "Jose Cherian", "link": "https://stackoverflow.com/users/466066/jose-cherian"}, "reply_to_user": {"reputation": 1, "user_id": 8249922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1565628143467483/picture?type=large", "display_name": "Devin Ayscue", "link": "https://stackoverflow.com/users/8249922/devin-ayscue"}, "edited": false, "score": 0, "creation_date": 1499902167, "post_id": 45068927, "comment_id": 77111350, "body": "Well,I don&#39;t believe questions are meant to be be deleted. It will definitely help someone in the future. We all make simple mistakes that just need a second pair of eyes."}, {"owner": {"reputation": 1, "user_id": 8249922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1565628143467483/picture?type=large", "display_name": "Devin Ayscue", "link": "https://stackoverflow.com/users/8249922/devin-ayscue"}, "edited": false, "score": 0, "creation_date": 1499903181, "post_id": 45068927, "comment_id": 77111604, "body": "Manu, will you please try to visit <a href=\"http://ordinanceservices.com\" rel=\"nofollow noreferrer\">ordinanceservices.com</a> and tell me if you get a 503 or it works? I&#39;m sending links to friends and some are getting a 503 while others can get to the site and I have no clue what the hell is going on that the browsers are detecting any maintenence"}], "tags": [], "owner": {"reputation": 5528, "user_id": 466066, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0ed1a417e659f1205cac821201ca0e9b?s=128&d=identicon&r=PG", "display_name": "Jose Cherian", "link": "https://stackoverflow.com/users/466066/jose-cherian"}, "is_accepted": false, "score": 3, "last_activity_date": 1499901081, "creation_date": 1499901081, "answer_id": 45068927, "question_id": 45068822, "link": "https://stackoverflow.com/questions/45068822/why-am-i-getting-a-404-error-when-trying-to-access-my-websites-domain-name-yet/45068927#45068927", "title": "Why am I getting a 404 error when trying to access my website&#39;s domain name, yet if I domain name/home it works?", "body": "<p>You haven't defined anything at the root url. Add one more line to your company urls.py so it becomes</p>\n\n<pre><code>//company urls.py\nfrom django.conf.urls import url, include\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.home, name='home'),\n    url(r'^home/', views.home, name='home'),\n    url(r'^contact/', views.contact, name='contact'),\n    url(r'^services/', views.services, name='services'),\n\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 5949840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NR4A7.jpg?s=128&g=1", "display_name": "Sumeet Kumar", "link": "https://stackoverflow.com/users/5949840/sumeet-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1499921585, "creation_date": 1499921585, "answer_id": 45071667, "question_id": 45068822, "link": "https://stackoverflow.com/questions/45068822/why-am-i-getting-a-404-error-when-trying-to-access-my-websites-domain-name-yet/45071667#45071667", "title": "Why am I getting a 404 error when trying to access my website&#39;s domain name, yet if I domain name/home it works?", "body": "<p>First of all, check if you have added <strong>www.yourdomain.com</strong> or <strong>yourdomain.com</strong> to ALLOWED_HOST = ['www.yourdomain.com','yourdomain.com'] in your <strong>settings.py</strong></p>\n\n<p>and then in your <em>company/urls.py</em> do this</p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.home, name='home'),\n    url(r'^contact/$', views.contact, name='contact'),\n    url(r'^services/$', views.services, name='services'),\n\n]\n</code></pre>\n\n<p>and in your main <em>urls.py</em> add this code</p>\n\n<pre><code>from django.conf.urls import url,include\nfrom django.contrib import admin\nadmin.autodiscover()\n\nurlpatterns = [\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^', include('company.urls')),\n]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8249922, "user_type": "registered", "profile_image": "https://graph.facebook.com/1565628143467483/picture?type=large", "display_name": "Devin Ayscue", "link": "https://stackoverflow.com/users/8249922/devin-ayscue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1499921585, "creation_date": 1499900484, "question_id": 45068822, "link": "https://stackoverflow.com/questions/45068822/why-am-i-getting-a-404-error-when-trying-to-access-my-websites-domain-name-yet", "title": "Why am I getting a 404 error when trying to access my website&#39;s domain name, yet if I domain name/home it works?", "body": "<p>Okay... let's try to explain things clearly. I've used Python Django to create a dynamic webpage/web-app. After completing the website I have published it using DigitalOcean and have successfully attached my purchased domain name to the name server of DigitalOcean. When I access my website, ordinanceservices.com, i get an error 404; however, if I type ordinanceservices.com/home it works as it should and displays the home page. How, by editing the python files, can I have it to where ordinanceservices.com will display the home page as opposed to error 404? I feel like there's something that I am doing that is fundamentally wrong regarding my .urls structure and thus a rewrite/redirect in the nginx config should not be necessary.</p>\n\n<p>Here is the specific error:</p>\n\n<p>Page not found (404)</p>\n\n<p>Request Method: GET</p>\n\n<p>Request URL:    <a href=\"http://ordinanceservices.com/\" rel=\"nofollow noreferrer\">http://ordinanceservices.com/</a></p>\n\n<p>Using the URLconf defined in django_project.urls, Django tried these URL patterns, in this order:</p>\n\n<p>^admin/</p>\n\n<p>^ ^home/ [name='home']</p>\n\n<p>^ ^contact/ [name='contact']</p>\n\n<p>^ ^services/ [name='services']</p>\n\n<p>The current URL, , didn't match any of these.</p>\n\n<p>I somewhat understand what is happening here though I do not know how to fix this. Next I will provide my .urls files for each folder that contains such:</p>\n\n<p>/django_project urls.py</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\n\nfrom django.contrib import admin\nadmin.autodiscover()\n\nurlpatterns = patterns('',\n\n\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^', include('company.urls')),\n)\n</code></pre>\n\n<p>/company urls.py</p>\n\n<pre><code>from django.conf.urls import url, include\nfrom . import views\n\nurlpatterns = [\n    url(r'^home/', views.home, name='home'),\n    url(r'^contact/', views.contact, name='contact'),\n    url(r'^services/', views.services, name='services'),\n\n]\n</code></pre>\n\n<p>/company views.py</p>\n\n<pre><code>from django.shortcuts import render\n\ndef home(request):\n    return render(request, 'company/home.html')\n\ndef contact(request):\n    return render(request, 'company/contact.html')\n\ndef services(request):\n    return render(request, 'company/services.html')\n</code></pre>\n\n<p>What I am aiming to do, without needing to redirect the main URL using the nginx config files to do so, is to edit my urls and views structure of my Python files to ensure that the normal URL, ordinanceservices.com, will actually display a page; preferably the home page of my webpage. </p>\n\n<p>I have a hunch that it has to do with the fact that I do not have a views.index for the r'^admin/' to reach to. I am not certain but I have been trying to figure this out for hours. Does anyone have a clue what I can do to fix this?</p>\n"}, {"tags": ["python", "json", "python-2.7", "parsing"], "comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 4, "creation_date": 1499900502, "post_id": 45068797, "comment_id": 77110902, "body": "Why is it <code>&quot;42&quot;</code> instead of <code>42</code> in the first place?"}, {"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 2, "creation_date": 1499900513, "post_id": 45068797, "comment_id": 77110905, "body": "Well your JSON example <code>&#39;{&quot;value&quot;: &quot;42&quot;}&#39;</code> has 42 as a string \u2014 not an int. Your best bet is either to fix the data coming in or (if that&#39;s not feasible) write a <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">custom JSON decoder</a>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499900873, "post_id": 45068797, "comment_id": 77110992, "body": "The <code>parse_int</code> option is only used for parts of the JSON that have the syntax of an integer. The double quotes make it a string, not an integer, so it doesn&#39;t use the <code>parse_int</code> option."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499901090, "post_id": 45068797, "comment_id": 77111051, "body": "@Barmar I&#39;m a bit lost on that functionality. From all JSON I&#39;ve worked with, <code>42</code> would be an int without <code>parse_int</code> and <code>&quot;42&quot;</code> would be a string. Do you have a link for a use-case on <code>parse_int</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499901103, "post_id": 45068797, "comment_id": 77111056, "body": "What you really need is a <code>parse_str</code> option, which would allow you to supply a custom function that returns an <code>int</code> if the string contains a valid integer. Unfortunately, that option doesn&#39;t exist."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1499901199, "post_id": 45068797, "comment_id": 77111086, "body": "@roganjosh The documentation he linked to says &quot;parse_int, if specified, will be called with the string of every JSON int to be decoded.&quot; So if the JSON contains <code>42</code>, the <code>parse_int</code> function will be called to parse it. But <code>&quot;42&quot;</code> is not a JSON int, so this option is not used for it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1499901249, "post_id": 45068797, "comment_id": 77111095, "body": "@roganjosh The documentation suggests this use case: <b>This can be used to use another datatype or parser for JSON integers (e.g. float).</b>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499901339, "post_id": 45068797, "comment_id": 77111111, "body": "@Barmar aha, I should have read further down. Your second comment clarifies, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "edited": false, "score": 0, "creation_date": 1499965745, "post_id": 45069099, "comment_id": 77146444, "body": "Thank you Pierce you code seems right but it has some errors on <code>result = super().decode(s)</code>"}, {"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "reply_to_user": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "edited": false, "score": 0, "creation_date": 1499965911, "post_id": 45069099, "comment_id": 77146554, "body": "@L&#233;o I wrote this in Python 3; if you&#39;re using Python 2 you&#39;d need <code>result = super(Decoder, self).decode(s)</code>. If that&#39;s not the issue, can you tell me what error you&#39;re seeing and I can try to help you?"}, {"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "reply_to_user": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "edited": false, "score": 1, "creation_date": 1499966575, "post_id": 45069099, "comment_id": 77146944, "body": "@L&#233;o ah! I didn&#39;t realize it was doing unicode. I&#39;ve updated my answer to accommodate the unicode handling, and it appears to work fine for me now!"}, {"owner": {"reputation": 107, "user_id": 3766652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000329832586/picture?type=large", "display_name": "SkunKz", "link": "https://stackoverflow.com/users/3766652/skunkz"}, "edited": false, "score": 0, "creation_date": 1542100161, "post_id": 45069099, "comment_id": 93436819, "body": "Well. You saved my Day! Thx a lot. :)"}], "tags": [], "owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "is_accepted": true, "score": 7, "last_activity_date": 1614343541, "last_edit_date": 1614343541, "creation_date": 1499902346, "answer_id": 45069099, "question_id": 45068797, "link": "https://stackoverflow.com/questions/45068797/how-to-convert-string-int-json-into-real-int-with-json-loads/45069099#45069099", "title": "How to convert string int JSON into real int with json.loads", "body": "<p>As we established in the comments, there is no existing functionality to do this for you. And I read through the documentation and some examples on the <code>JSONDecoder</code> and it also appears to not do what you want without processing the data twice.</p>\n<p>The best option, then, is something like this:</p>\n<pre><code>class Decoder(json.JSONDecoder):\n    def decode(self, s):\n        result = super().decode(s)  # result = super(Decoder, self).decode(s) for Python 2.x\n        return self._decode(result)\n\n    def _decode(self, o):\n        if isinstance(o, str) or isinstance(o, unicode):\n            try:\n                return int(o)\n            except ValueError:\n                return o\n        elif isinstance(o, dict):\n            return {k: self._decode(v) for k, v in o.items()}\n        elif isinstance(o, list):\n            return [self._decode(v) for v in o]\n        else:\n            return o\n</code></pre>\n<p>This has the downside of processing the JSON object twice \u2014 once in the <code>super().decode(s)</code> call, and again to recurse through the entire structure to fix things. Also note that <em>this will convert anything which looks like an integer into an <code>int</code></em>. Be sure to account for this appropriately.</p>\n<p>To use it, you do e.g.:</p>\n<pre><code>&gt;&gt;&gt; c = '{&quot;value&quot;: &quot;42&quot;}'\n&gt;&gt;&gt; json.loads(c, cls=Decoder)\n{'value': 42}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 0, "creation_date": 1499966041, "post_id": 45071719, "comment_id": 77146625, "body": "The issue with this is that the OP wanted to parse the value <code>&quot;42&quot;</code> into an <code>int</code> in Python, which your code does not account for."}, {"owner": {"reputation": 105, "user_id": 7664948, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Y7b8ARBQqnw/AAAAAAAAAAI/AAAAAAAAAHI/GOQOL0IKPcI/photo.jpg?sz=128", "display_name": "Yang", "link": "https://stackoverflow.com/users/7664948/yang"}, "reply_to_user": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 0, "creation_date": 1500357751, "post_id": 45071719, "comment_id": 77285609, "body": "convert = lambda x: {x.keys()[0]: int(x.values()[0])} convert(json.loads(&#39;{&quot;value&quot;: &quot;42&quot;}&#39;))"}, {"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 0, "creation_date": 1500358056, "post_id": 45071719, "comment_id": 77285764, "body": "Your lambda suggestion only works for dictionaries with exactly one value. It does not solve for multi-value dictionaries or arrays, and it also does not address the Unicode problem present in Python 2. Further, it isn&#39;t advisable to set the result of a <code>lambda</code> expression to a variable; just define a function and it becomes significantly easier to maintain. See my (accepted) answer for a more robust solution."}, {"owner": {"reputation": 105, "user_id": 7664948, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Y7b8ARBQqnw/AAAAAAAAAAI/AAAAAAAAAHI/GOQOL0IKPcI/photo.jpg?sz=128", "display_name": "Yang", "link": "https://stackoverflow.com/users/7664948/yang"}, "reply_to_user": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 0, "creation_date": 1500359687, "post_id": 45071719, "comment_id": 77286637, "body": "how about this one?"}, {"owner": {"reputation": 1634, "user_id": 3377150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c9184968347bc27b8e5053b56a7572?s=128&d=identicon&r=PG&f=1", "display_name": "Pierce Darragh", "link": "https://stackoverflow.com/users/3377150/pierce-darragh"}, "edited": false, "score": 0, "creation_date": 1500359974, "post_id": 45071719, "comment_id": 77286809, "body": "Better, but <code>for key in params.keys()</code> assumes that <code>params</code> is a <code>dict</code>, which it may not be since you call the function recursively. Additionally, you iterate through the keys of the dictionary and then continuously do <code>params[key]</code>. Why not <code>for key, value in params.items()</code> (or <code>params.iteritems()</code> in Python 2.x)? Additionally, much of this can be done with comprehensions \u2014 like what I did in my solution. I think list/dict comprehensions lead to easier-to-read code in cases like this."}], "tags": [], "owner": {"reputation": 105, "user_id": 7664948, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-Y7b8ARBQqnw/AAAAAAAAAAI/AAAAAAAAAHI/GOQOL0IKPcI/photo.jpg?sz=128", "display_name": "Yang", "link": "https://stackoverflow.com/users/7664948/yang"}, "is_accepted": false, "score": -3, "last_activity_date": 1500359009, "last_edit_date": 1500359009, "creation_date": 1499921916, "answer_id": 45071719, "question_id": 45068797, "link": "https://stackoverflow.com/questions/45068797/how-to-convert-string-int-json-into-real-int-with-json-loads/45071719#45071719", "title": "How to convert string int JSON into real int with json.loads", "body": "<pre><code>def convert_to_int(params):\n    for key in params.keys():\n        if isinstance(params[key], dict):\n            convert_to_int(params[key])\n        elif isinstance(params[key], list):\n            for item in params[key]:\n                if not isinstance(item, (dict, list)):\n                    item = int(item)\n                else:\n                    convert_to_int(item)\n        else:\n            params[key] = int(params[key])\n    return params\n\n\nprint convert_to_int({'a': '3', 'b': {'c': '4', 'd': {'e': 5}, 'f': [{'g': '6'}]}})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 892, "user_id": 3853537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGTd.jpg?s=128&g=1", "display_name": "Zhanwen Chen", "link": "https://stackoverflow.com/users/3853537/zhanwen-chen"}, "edited": false, "score": 1, "creation_date": 1549638542, "post_id": 48401729, "comment_id": 95986517, "body": "in <a href=\"https://docs.python.org/3/howto/unicode.html#python-s-unicode-support\" rel=\"nofollow noreferrer\">Python 3, the <code>str</code> class subsumed the <code>unicode</code> class</a>, so your code would raise because <code>unicode</code> is an undefined variable. Please edit your answer."}], "tags": [], "owner": {"reputation": 1204, "user_id": 2485895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe2f3f36eca8886698c0f7febc8cef00?s=128&d=identicon&r=PG", "display_name": "juanra", "link": "https://stackoverflow.com/users/2485895/juanra"}, "is_accepted": false, "score": 7, "last_activity_date": 1549972656, "last_edit_date": 1549972656, "creation_date": 1516710393, "answer_id": 48401729, "question_id": 45068797, "link": "https://stackoverflow.com/questions/45068797/how-to-convert-string-int-json-into-real-int-with-json-loads/48401729#48401729", "title": "How to convert string int JSON into real int with json.loads", "body": "<p>In addition to the Pierce response, I think you can use the json.loads <code>object_hook</code> parameter instead of <code>cls</code> one, so you don't need to walk the json object twice. </p>\n\n<p>For example:</p>\n\n<pre><code>def _decode(o):\n    # Note the \"unicode\" part is only for python2\n    if isinstance(o, str) or isinstance(o, unicode):\n        try:\n            return int(o)\n        except ValueError:\n            return o\n    elif isinstance(o, dict):\n        return {k: _decode(v) for k, v in o.items()}\n    elif isinstance(o, list):\n        return [_decode(v) for v in o]\n    else:\n        return o\n\n# Then you can do:\njson.loads(c, object_hook=_decode)\n</code></pre>\n\n<p>As @ZhanwenChen pointed out in a comment, the code above is for <a href=\"https://docs.python.org/2/library/json.html#json.loads\" rel=\"noreferrer\">python2</a>. For <a href=\"https://docs.python.org/3/library/json.html#json.loads\" rel=\"noreferrer\">python3</a> you'll need to remove the <code>or isinstance(o, unicode)</code> part in the first <code>if</code> condition.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 7958455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490c1636f4bb26ff30edee4650c2965c?s=128&d=identicon&r=PG&f=1", "display_name": "breakthewall", "link": "https://stackoverflow.com/users/7958455/breakthewall"}, "edited": false, "score": 1, "creation_date": 1610098090, "post_id": 54112705, "comment_id": 116029689, "body": "Excellent! It works like a charm. I wanted to transform str keys into int keys when possible. Thank you!"}], "tags": [], "owner": {"reputation": 1031, "user_id": 8323650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHKJ7.jpg?s=128&g=1", "display_name": "GooDeeJAY", "link": "https://stackoverflow.com/users/8323650/goodeejay"}, "is_accepted": false, "score": 2, "last_activity_date": 1614343593, "last_edit_date": 1614343593, "creation_date": 1547045224, "answer_id": 54112705, "question_id": 45068797, "link": "https://stackoverflow.com/questions/45068797/how-to-convert-string-int-json-into-real-int-with-json-loads/54112705#54112705", "title": "How to convert string int JSON into real int with json.loads", "body": "<p>For my solution I used <code>object_hook</code>, which is useful when you have nested <code>json</code></p>\n<pre><code>&gt;&gt;&gt; import json\n&gt;&gt;&gt; json_data = '{&quot;1&quot;: &quot;one&quot;, &quot;2&quot;: {&quot;-3&quot;: &quot;minus three&quot;, &quot;4&quot;: &quot;four&quot;}}'\n&gt;&gt;&gt; py_dict = json.loads(json_data, object_hook=lambda d: {int(k) if k.lstrip('-').isdigit() else k: v for k, v in d.items()})\n\n&gt;&gt;&gt; py_dict\n{1: 'one', 2: {-3: 'minus three', 4: 'four'}}\n</code></pre>\n<p>There is a filter only for parsing a json key to int. You can use <code>int(v) if v.lstrip('-').isdigit() else v</code> to filter for json values too.</p>\n"}], "owner": {"reputation": 682, "user_id": 1081532, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a0763b837743a98fe0170b75d715eb8c?s=128&d=identicon&r=PG", "display_name": "Pierre", "link": "https://stackoverflow.com/users/1081532/pierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24275, "favorite_count": 2, "accepted_answer_id": 45069099, "answer_count": 4, "score": 4, "last_activity_date": 1614343593, "creation_date": 1499900326, "last_edit_date": 1499967619, "question_id": 45068797, "link": "https://stackoverflow.com/questions/45068797/how-to-convert-string-int-json-into-real-int-with-json-loads", "title": "How to convert string int JSON into real int with json.loads", "body": "<p>I'm trying to convert a string which represents a JSON object to a real JSON object using <code>json.loads</code> but it doesn't convert the integers:</p>\n\n<p>(in the initial string, integers are always strings)</p>\n\n<pre><code>$&gt; python\nPython 2.7.9 (default, Aug 29 2016, 16:00:38)\n[GCC 4.2.1 Compatible Apple LLVM 7.3.0 (clang-703.0.31)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import json\n&gt;&gt;&gt; c = '{\"value\": \"42\"}'\n&gt;&gt;&gt; json_object = json.loads(c, parse_int=int)\n&gt;&gt;&gt; json_object\n{u'value': u'42'}\n&gt;&gt;&gt; json_object['value']\nu'42'\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Instead of <code>{u'value': u'42'}</code> I'd like it becomes <code>{u'value': 42}</code>. I know I can run through the whole object, but I don't want to do that, it's not really efficient to do it manually, since this <code>parse_int</code> argument exists (<a href=\"https://docs.python.org/2/library/json.html#json.loads\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/json.html#json.loads</a>). </p>\n\n<p>Thanks to Pierce's proposition:</p>\n\n<pre><code>Python 2.7.9 (default, Aug 29 2016, 16:00:38)\n[GCC 4.2.1 Compatible Apple LLVM 7.3.0 (clang-703.0.31)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import json\n&gt;&gt;&gt;\n&gt;&gt;&gt; class Decoder(json.JSONDecoder):\n...     def decode(self, s):\n...         result = super(Decoder, self).decode(s)\n...         return self._decode(result)\n...     def _decode(self, o):\n...         if isinstance(o, str) or isinstance(o, unicode):\n...             try:\n...                 return int(o)\n...             except ValueError:\n...                 try:\n...                     return float(o)\n...                 except ValueError:\n...                     return o\n...         elif isinstance(o, dict):\n...             return {k: self._decode(v) for k, v in o.items()}\n...         elif isinstance(o, list):\n...             return [self._decode(v) for v in o]\n...         else:\n...             return o\n...\n&gt;&gt;&gt;\n&gt;&gt;&gt; c = '{\"value\": \"42\", \"test\": \"lolol\", \"abc\": \"43.4\",  \"dcf\": 12, \"xdf\": 12.4}'\n&gt;&gt;&gt; json.loads(c, cls=Decoder)\n{u'test': u'lolol', u'dcf': 12, u'abc': 43.4, u'value': 42, u'xdf': 12.4}\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 5, "creation_date": 1499900389, "post_id": 45068795, "comment_id": 77110865, "body": "Please show the code you have to make the dictionary and what went wrong. It&#39;s much easier to help you that way and address why your approach was not successful. There&#39;s plenty of questions/answers in this area already."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499900685, "post_id": 45068795, "comment_id": 77110954, "body": "I feel like this question across my feed at least once a week. The answer is <code>collections.defaultdict(list)</code> or just <code>some_dict.setdefault(letter, []).append(number)</code>. Then someone smart thinks of sorting the input and applying <code>itertools.groupby</code>, which may or may not be faster."}], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499900829, "post_id": 45068876, "comment_id": 77110987, "body": "It isn&#39;t a guarantee the sorted order is the desired order. I would suggest an <code>OrderedDict</code>."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499900918, "post_id": 45068876, "comment_id": 77111000, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Correct, but using <code>OrderedDict</code> prevents using <code>defaultdict</code>. It&#39;s a bit of a dilemma there :("}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499900918, "post_id": 45068876, "comment_id": 77111001, "body": "you can replace <code>if k in d:</code> and onward in a standard dict with <code>d.setdefault(k, []).append(v)</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499900956, "post_id": 45068876, "comment_id": 77111012, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 do we think it&#39;s more likely that the data should appear in its &quot;first seen&quot; order in the file, or alphabetically? I&#39;d lay my money on the latter."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499901004, "post_id": 45068876, "comment_id": 77111021, "body": "@AdamSmith The latter satisfies only a subset of problems that the former does. ;)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499901048, "post_id": 45068876, "comment_id": 77111037, "body": "@MSeifert You can use the <code>setdefault</code> thingy for the best of both worlds!"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 2, "creation_date": 1499901124, "post_id": 45068876, "comment_id": 77111059, "body": "<code>OrderedDict</code> just seems overkill to me for this solution. YMMV :)"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499901887, "post_id": 45068876, "comment_id": 77111275, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 You&#39;re right about <code>setdefault</code>. I&#39;m just a bit hesitant to change it because I think in it&#39;s current form it addresses the question without introducing too many (optimization-) choices to a (self-declared) beginner. Also it&#39;s not clear to me if &quot;order-of-appearance&quot; or &quot;sorted&quot; is correct (both would answer it correctly)."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499901925, "post_id": 45068876, "comment_id": 77111285, "body": "How is OrderedDict overkill but not defaultdict when you can just use setdefault? Geez..."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 4, "last_activity_date": 1499900982, "last_edit_date": 1499900982, "creation_date": 1499900780, "answer_id": 45068876, "question_id": 45068795, "link": "https://stackoverflow.com/questions/45068795/how-to-print-values-from-a-file/45068876#45068876", "title": "How to print values from a file?", "body": "<p>You could use an approach that keeps the values in a dictionary:</p>\n\n<pre><code>d = {}                       # create an empty dictionary\nfor line in open(filename):  # opens the file\n    k, v = line.split(':')   # unpack each line in the char before : and after\n    if k in d:               # add the values to the dictionary\n        d[k].append(v)\n    else:\n        d[k] = [v]\n</code></pre>\n\n<p>This gives you a dictionary containing your file in a format that you can utilize to get the desired output:</p>\n\n<pre><code>for key, values in sorted(d.items()):   \n    print(key, 'numbers:' ', '.join(values))\n</code></pre>\n\n<p>The <code>sorted</code> is required because dictionaries are unordered.</p>\n\n<hr>\n\n<p>Note that using <code>collections.defaultdict</code> instead of a normal <code>dict</code> could simplify the approach somewhat. The:</p>\n\n<pre><code> d = {}\n\n ...\n\n    if k in d:               # add the values to the dictionary\n        d[k].append(v)\n    else:\n        d[k] = [v]\n</code></pre>\n\n<p>could then be replaced by:</p>\n\n<pre><code>from collections import defaultdict\nd = defaultdict(list)\n\n...\n\n    d[k].append(v)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 5641568, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cHr_FwjCpbc/AAAAAAAAAAI/AAAAAAAAB38/8I37y95IiGQ/photo.jpg?sz=128", "display_name": "Mikedev", "link": "https://stackoverflow.com/users/5641568/mikedev"}, "is_accepted": false, "score": -1, "last_activity_date": 1499906603, "last_edit_date": 1499906603, "creation_date": 1499903093, "answer_id": 45069223, "question_id": 45068795, "link": "https://stackoverflow.com/questions/45068795/how-to-print-values-from-a-file/45069223#45069223", "title": "How to print values from a file?", "body": "<p>You can treat your file as csv (comma separated value) so you can use the <code>csv</code> module to parse the file in one line. Then use <code>defaultdict</code> with input in the costructor the class <code>list</code> to say that to create it when the key not exists. Then use <code>OrderedDict</code> class because standard dictionary don't keeps the order of your keys.</p>\n\n<pre><code>import csv\nfrom collection import defaultdict, OrderedDict    \nvalues = list(csv.reader(open('your_file_name'), delimiter=\":\")) #[['A', '3'], ['B', '5'], ['C', '7'], ['A', '8'], ['C', '6']]\ndct_values = defaultdict(list)\nfor k, v in values:\n    dct_values[k].append(v)\ndct_values = OrderedDict(sorted(dct_values.items()))\n</code></pre>\n\n<p>Then you can simply print iterating the dictionary.\nA very easy way to group by key is by external library, if you are interested try PyFunctional</p>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 0, "last_activity_date": 1499904179, "last_edit_date": 1499904179, "creation_date": 1499903876, "answer_id": 45069335, "question_id": 45068795, "link": "https://stackoverflow.com/questions/45068795/how-to-print-values-from-a-file/45069335#45069335", "title": "How to print values from a file?", "body": "<p>Short version (Which should sort in alphabetic order)</p>\n\n<pre><code>d = {}      \nlines = [line.rstrip('\\n') for line in open('filename.txt')]\n[d.setdefault(line[0], []).append(line[2]) for line in lines]\n[print(key, 'numbers:', ', '.join(values)) for key,values in sorted(d.items())]\n</code></pre>\n\n<p>Or if you want to maintain the order as they appear in file (file order)</p>\n\n<pre><code>from collections import OrderedDict\nd = OrderedDict() # Empty dict\nlines = [line.rstrip('\\n') for line in open('filename.txt')] # Get the lines\n[d.setdefault(line[0], []).append(line[2]) for line in lines] # Add lines to dictionary\n[print(key, 'numbers:', ', '.join(values)) for key,values in d.items()] # Print lines\n</code></pre>\n\n<p>Tested with Python 3.5.</p>\n"}], "owner": {"reputation": 151, "user_id": 8234196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f30a349551490fab200e45d76b5c95f?s=128&d=identicon&r=PG&f=1", "display_name": "thomas", "link": "https://stackoverflow.com/users/8234196/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1499906603, "creation_date": 1499900312, "last_edit_date": 1499901757, "question_id": 45068795, "link": "https://stackoverflow.com/questions/45068795/how-to-print-values-from-a-file", "title": "How to print values from a file?", "body": "<p>I have a text file and its content is something like this:</p>\n\n<pre><code>A:3\nB:5\nC:7\nA:8\nC:6\n</code></pre>\n\n<p>I need to print:</p>\n\n<pre><code>A numbers: 3, 8\nB numbers: 5\nC numbers: 7, 6\n</code></pre>\n\n<p>I'm a beginner so if you could give some help I would appreciate it. I have made a dictionary but that's pretty much all I know.</p>\n"}, {"tags": ["python", "pyqt"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1499900558, "post_id": 45068790, "comment_id": 77110920, "body": "Thanks! I didn&#39;t think about use this approach, since the tests are also written in python; so I thought there was a different way."}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1499901062, "post_id": 45068790, "comment_id": 77111041, "body": "@newbiez your other option is to call some methods from <code>py.test&#47;__main__.py</code> directly, but I doubt this would be better for that case."}, {"owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "edited": false, "score": 0, "creation_date": 1499901078, "post_id": 45068790, "comment_id": 77111046, "body": "BTW is there any difference between how os.system call python and how the terminal call it? I am using OSX"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 1, "creation_date": 1499901142, "post_id": 45068790, "comment_id": 77111067, "body": "@newbiez <code>os.system</code> does a system call, so no difference. you get the same results (assuming you use the same directory and session variables)"}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": true, "score": 0, "last_activity_date": 1499900257, "creation_date": 1499900257, "answer_id": 45068790, "question_id": 45068717, "link": "https://stackoverflow.com/questions/45068717/call-py-test-from-a-pyqt-script/45068790#45068790", "title": "call py.test from a PyQt script", "body": "<blockquote>\n  <p>I do not know what to put in the runtests function</p>\n</blockquote>\n\n<p>Just use <code>os.system</code> to call the script:</p>\n\n<pre><code>def runtests (self):\n    import os\n    os.system('python -m py.test -k \"basetests\" mytests.py')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user393267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 45068790, "answer_count": 1, "score": 1, "last_activity_date": 1499900257, "creation_date": 1499899733, "question_id": 45068717, "link": "https://stackoverflow.com/questions/45068717/call-py-test-from-a-pyqt-script", "title": "call py.test from a PyQt script", "body": "<p>I am using QT and PyQt to make a UI for my python scripts.</p>\n\n<p>Although the script that I call is running py.test, so from command line I use</p>\n\n<p><code>python -m py.test -k \"basetests\" mytests.py</code></p>\n\n<p>How can I do the same from another python script, which is the one used by PyQt, when I push a button?</p>\n\n<p>In my PyQt file I did add the <code>clicked.connect(self.runtests)</code> method, so it will execute when I click the button,but now I do not know what to put in the <code>runtests</code> function.</p>\n"}, {"tags": ["python", "linux", "shell", "email", "cron"], "comments": [{"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1499899603, "post_id": 45068657, "comment_id": 77110632, "body": "can you basically run your script manually without crontab ?"}, {"owner": {"reputation": 1, "user_id": 8298683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12c90b8de58fc1ff7c4272a82dd1e22?s=128&d=identicon&r=PG&f=1", "display_name": "Sonix1982x", "link": "https://stackoverflow.com/users/8298683/sonix1982x"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1499935705, "post_id": 45068657, "comment_id": 77123937, "body": "Yes its running without error."}, {"owner": {"reputation": 302, "user_id": 5671682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcb2e38ed640ab9e2cffaa8afe02f812?s=128&d=identicon&r=PG", "display_name": "fernand0", "link": "https://stackoverflow.com/users/5671682/fernand0"}, "edited": false, "score": 0, "creation_date": 1592908082, "post_id": 45068657, "comment_id": 110586641, "body": "Maybe /usr/local/bin is not in the cron path?"}], "owner": {"reputation": 1, "user_id": 8298683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12c90b8de58fc1ff7c4272a82dd1e22?s=128&d=identicon&r=PG&f=1", "display_name": "Sonix1982x", "link": "https://stackoverflow.com/users/8298683/sonix1982x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1592907934, "creation_date": 1499899295, "last_edit_date": 1592907934, "question_id": 45068657, "link": "https://stackoverflow.com/questions/45068657/python-mail-parser-comandline-tool-is-not-running-on-crontab", "title": "python mail-parser comandline tool is not running on crontab", "body": "<p>I want to run the python comandline tool in a shell script. that works in a user context fine but in a crontab context the script mailparser ist not working.</p>\n<p>thats my PATH=/usr/bin:/bin\nSHELL=/bin/bash</p>\n<p>my crontab looks like</p>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li>/home/komando/get.sh</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>my shell script get\nstarts with</p>\n<pre><code>#!/bin/bash\n</code></pre>\n<p>and the mailparse comand\nmailparser -f $x -b &gt; $DIR/process/extract/$i/filteredmessage.html</p>\n<p><a href=\"https://pypi.python.org/pypi/mail-parser\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/mail-parser</a></p>\n<p>the tool is located in /usr/local/bin/mailparser</p>\n<p>and looks like</p>\n<pre><code>#!/usr/bin/python\n# EASY-INSTALL-ENTRY-SCRIPT: 'mail-parser==1.2.0','console_scripts','mailparser'\n__requires__ = 'mail-parser==1.2.0'\nimport sys\nfrom pkg_resources import load_entry_point\n\nif __name__ == '__main__':\n    sys.exit(\n        load_entry_point('mail-parser==1.2.0', 'console_scripts', 'mailparser')()\n    )\n</code></pre>\n"}, {"tags": ["python", "google-sheets-api"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1499900097, "post_id": 45068649, "comment_id": 77110783, "body": "Have you had a look at <a href=\"https://github.com/burnash/gspread\" rel=\"nofollow noreferrer\"><code>gspread</code></a>? It makes the API a lot more simple to work with, in a similar way as <code>requests</code> does to <code>urllib</code>. You can read/update blocks of cells in a single call."}, {"owner": {"reputation": 1, "user_id": 8138686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060564463da2528cdd1016d5b5777f54?s=128&d=identicon&r=PG", "display_name": "Jerrin Lawi-an", "link": "https://stackoverflow.com/users/8138686/jerrin-lawi-an"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1499904921, "post_id": 45068649, "comment_id": 77112047, "body": "I have, but this is gonna be in a production environment and utilizing 3rd party modules is pretty difficult :[ I think I can do a batchupdate for updating several cells at once, but the append functionality means I don&#39;t need to specify ranges or anything. Instead, I just want to queue up a bunch of append actions so it counts as a single API call."}], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 6356522, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5o2Qx-SkOvk/AAAAAAAAAAI/AAAAAAAAANQ/dWkgrnMTpT8/photo.jpg?sz=128", "display_name": "Sam Berlin", "link": "https://stackoverflow.com/users/6356522/sam-berlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1499962059, "creation_date": 1499962059, "answer_id": 45085982, "question_id": 45068649, "link": "https://stackoverflow.com/questions/45068649/google-sheets-api-how-do-do-a-batchupdaterequest-with-append-requests/45085982#45085982", "title": "Google Sheets API - How do do a batchUpdateRequest with append requests?", "body": "<p>It looks like you're just looking at the <a href=\"https://devsite.googleplex.com/sheets/api/reference/rest/v4/spreadsheets.values\" rel=\"nofollow noreferrer\">Values</a> collection.  It doesn't make much sense to do a batchAppend because all you'd be doing is appending to the end of the prior one.. so you might as well just make a single append call with all the data you'd like to append.</p>\n\n<p>However, if you'd like to intermix updating various other aspects of the spreadsheet (not just the values), then you can use <a href=\"https://devsite.googleplex.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate\" rel=\"nofollow noreferrer\">spreadsheets.batchUpdate</a>.  One of the kinds of requests that can do is an <a href=\"https://devsite.googleplex.com/sheets/api/reference/rest/v4/spreadsheets/request#appendcellsrequest\" rel=\"nofollow noreferrer\">AppendCellsRequest</a>.</p>\n\n<p>However, it's not clear why you need to batch in the first place.  With batchUpdate it makes sense because each update is going to an exact place in the sheet so you can bundle a lot of updates together.  OTOH, \"append\" doesn't specify the location, it just says \"go after the existing data\", so there's no point to batching them up, you can just as easily make a single call w/ all the data you'd like to append.</p>\n"}], "owner": {"reputation": 1, "user_id": 8138686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060564463da2528cdd1016d5b5777f54?s=128&d=identicon&r=PG", "display_name": "Jerrin Lawi-an", "link": "https://stackoverflow.com/users/8138686/jerrin-lawi-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499962059, "creation_date": 1499899230, "question_id": 45068649, "link": "https://stackoverflow.com/questions/45068649/google-sheets-api-how-do-do-a-batchupdaterequest-with-append-requests", "title": "Google Sheets API - How do do a batchUpdateRequest with append requests?", "body": "<p>I'm running into a bit of a wall here.</p>\n\n<p>I'm pulling in some data that I pull in via an API, which I transform and then append it to the bottom of a sheet in Google Sheets. For each line of data that I pull, I currently use an append() request.</p>\n\n<p>I'm trying to reduce the amount of calls I make, and batchUpdate seems like a good start. However, out of the available options for batchUpdate, append doesn't seem to be present, or I'm misreading it.</p>\n\n<p>My end goal is that I can get a bunch of data and append them to the bottom of a spreadsheet, instead of continuously calling the append endpoint.</p>\n"}, {"tags": ["python", "tkinter", "tkinter-scale"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1499899447, "post_id": 45068635, "comment_id": 77110593, "body": "Please include the full traceback and format the code correctly."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499900431, "post_id": 45068635, "comment_id": 77110880, "body": "unrelated to your error -- it&#39;s unnecessary to include the <code>\\</code> to split a line inside of the  <code>Scale(...)</code> call. You can safely remove it."}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499900545, "post_id": 45068732, "comment_id": 77110916, "body": "Confusingly named, perhaps. It seems to me that the call should be something more like <code>Scale(..., command=lambda s: print(s))</code>, but in any case shadowing the nonlocal <code>Voboll1</code> with a parameter named <code>Voboll1</code> bends the mind a little bit."}], "tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 2, "last_activity_date": 1499899875, "creation_date": 1499899875, "answer_id": 45068732, "question_id": 45068635, "link": "https://stackoverflow.com/questions/45068635/tkinter-get-value-scale/45068732#45068732", "title": "Tkinter get value scale", "body": "<p>From the documentation:   </p>\n\n<blockquote>\n  <p>Scale widget <code>command</code> option: this procedure will be passed one argument, the new scale value.</p>\n</blockquote>\n\n<p>src: <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/scale.html\" rel=\"nofollow noreferrer\">http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/scale.html</a></p>\n\n<p>Thus the <code>command</code> parameter automatically passes a value to the procedure you call, in this case <code>sb()</code>. However, your <code>sb</code> definition takes <em>no</em> parameters, thus a conflict and the error occurs.</p>\n\n<p>Since it seems you want to use the <code>Voboll1</code> value for the Scale, include <code>Voboll1</code> as a parameter to your <code>sb</code> procedure.</p>\n\n<pre><code>def sb(Voboll1):\n   ...\n</code></pre>\n\n<p>Should clear the error.</p>\n"}], "owner": {"reputation": 19, "user_id": 8183295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d29f8a466c52e20571dffe13c4d1253?s=128&d=identicon&r=PG&f=1", "display_name": "user8183295", "link": "https://stackoverflow.com/users/8183295/user8183295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577985736, "creation_date": 1499899116, "last_edit_date": 1577985736, "question_id": 45068635, "link": "https://stackoverflow.com/questions/45068635/tkinter-get-value-scale", "title": "Tkinter get value scale", "body": "<p>I dont't know why I can't get the value of the scale and why I get this error message. Can anyone help me?</p>\n\n<pre><code>from tkinter import *\nOp = Tk()\ndef sb():\n    print (Voboll1)\n\n\n\n\nOboll=Label(Op, text='BOLL')\nOboll.grid(row=1,column=0)\n\nVoboll1 = StringVar()\n\n# Cr\u00e9ation d'un widget Scale\nOboll1= Scale(Op,from_=-0.2,to=0.2,resolution=0.01,orient=HORIZONTAL,\\\nlength=235,width=20,tickinterval=20,variable=Voboll1,command=sb)\nOboll1.grid(row=1,column=1)\n\n\nOp.mainloop()\n</code></pre>\n\n<p>The error message:</p>\n\n<blockquote>\n<pre><code>TypeError: sb() takes no arguments (1 given)\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "django", "django-models", "faker", "factory-boy"], "answers": [{"comments": [{"owner": {"reputation": 20353, "user_id": 150647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a42473434821fe7fec7b9cc58d1cc087?s=128&d=identicon&r=PG", "display_name": "diegueus9", "link": "https://stackoverflow.com/users/150647/diegueus9"}, "edited": false, "score": 0, "creation_date": 1502401459, "post_id": 45238663, "comment_id": 78207424, "body": "I&#39;d like to stick to factory-boy and Faker since the purpose of both libraries is to generate random data following certain rules, I don&#39;t see why I would create my own &quot;faker&quot; routine if I&#39;ve already got one. Besides, I&#39;d like to point out that your own answer includes &quot;or some other way to generate random date&quot; and that&#39;d be Faker. There are a lot of corner cases when working with dates in python, and the best option is to use a library that covers those corner cases (like timezone handling, etc)"}, {"owner": {"reputation": 238, "user_id": 6112971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c516bbe5cdb5ff727322dceb5e7b9c69?s=128&d=identicon&r=PG", "display_name": "Dmitriy Repin", "link": "https://stackoverflow.com/users/6112971/dmitriy-repin"}, "reply_to_user": {"reputation": 20353, "user_id": 150647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a42473434821fe7fec7b9cc58d1cc087?s=128&d=identicon&r=PG", "display_name": "diegueus9", "link": "https://stackoverflow.com/users/150647/diegueus9"}, "edited": false, "score": 1, "creation_date": 1502533750, "post_id": 45238663, "comment_id": 78256981, "body": "@diegueus9 yes, I understand and luckely just a few days ago I found a way to do exactly this. I edit my answer with another solution."}, {"owner": {"reputation": 2628, "user_id": 1031434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15f496f9b9b31303923658f3a02254c1?s=128&d=identicon&r=PG", "display_name": "timdiels", "link": "https://stackoverflow.com/users/1031434/timdiels"}, "edited": false, "score": 2, "creation_date": 1544527357, "post_id": 45238663, "comment_id": 94299640, "body": "for those wondering, the <code>{}</code> is for extra kwargs to something <a href=\"https://github.com/FactoryBoy/factory_boy/blob/bc9b5615558418012279aa5c526cbbf87f1fe5d7/factory/faker.py#L48\" rel=\"nofollow noreferrer\">github.com/FactoryBoy/factory_boy/blob/&hellip;</a>"}, {"owner": {"reputation": 2628, "user_id": 1031434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15f496f9b9b31303923658f3a02254c1?s=128&d=identicon&r=PG", "display_name": "timdiels", "link": "https://stackoverflow.com/users/1031434/timdiels"}, "edited": false, "score": 0, "creation_date": 1544624189, "post_id": 45238663, "comment_id": 94342293, "body": "These are probably kwargs which override the kwargs to <code>Faker</code>, so you&#39;ll always want just <code>{}</code>."}], "tags": [], "owner": {"reputation": 238, "user_id": 6112971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c516bbe5cdb5ff727322dceb5e7b9c69?s=128&d=identicon&r=PG", "display_name": "Dmitriy Repin", "link": "https://stackoverflow.com/users/6112971/dmitriy-repin"}, "is_accepted": true, "score": 8, "last_activity_date": 1502533659, "last_edit_date": 1502533659, "creation_date": 1500642873, "answer_id": 45238663, "question_id": 45068596, "link": "https://stackoverflow.com/questions/45068596/how-to-use-lazy-attribute-with-faker-in-factory-boy/45238663#45238663", "title": "How to use lazy_attribute with Faker in Factory Boy", "body": "<p>When lazy_attribute come into play you already have generated object on your hand. So you can work with, for example, random and timedelta, like this:</p>\n\n<pre><code>@factory.lazy_attribute\ndef execution_end_date(self):\n    max_days = (now() - self.execution_start_date).days\n    return self.execution_start_date + timedelta(random.randint(1, max_days))\n</code></pre>\n\n<p>or some other way to generate random date. There is no point to stick to factory_boy.Faker</p>\n\n<p>EDIT</p>\n\n<p>After my first answer I manage to found a way to do what you want, it's really simple.You just need to call generate() method with empty dict from Faker:</p>\n\n<pre><code>@factory.lazy_attribute\ndef execution_end_date(self):\n    return factory.Faker('date_time_between_dates',\n                         datetime_start=self.execution_start_date,\n                         datetime_end=now(),\n                         tzinfo=pytz.utc).generate({})\n</code></pre>\n"}], "owner": {"reputation": 20353, "user_id": 150647, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a42473434821fe7fec7b9cc58d1cc087?s=128&d=identicon&r=PG", "display_name": "diegueus9", "link": "https://stackoverflow.com/users/150647/diegueus9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2799, "favorite_count": 3, "accepted_answer_id": 45238663, "answer_count": 1, "score": 8, "last_activity_date": 1502533659, "creation_date": 1499898896, "question_id": 45068596, "link": "https://stackoverflow.com/questions/45068596/how-to-use-lazy-attribute-with-faker-in-factory-boy", "title": "How to use lazy_attribute with Faker in Factory Boy", "body": "<p>Context:\nI have a model with two dates, I want to use <code>factory.Faker</code> for both of them but the second date should always be greater that the first one.</p>\n\n<p>I tried this:</p>\n\n<p>Model excerpt:</p>\n\n<pre><code>class Event(models.Model):\n     execution_start_date = models.DateTimeField()\n     execution_end_date = models.DateTimeField()\n</code></pre>\n\n<p>Factory:</p>\n\n<pre><code>class EventFactory(factory.DjangoModelFactory):\n    class Meta:\n        model = Event\n        strategy = factory.BUILD_STRATEGY\n\n    execution_start_date = factory.Faker('date_time_this_year', tzinfo=pytz.utc)\n    @factory.lazy_attribute\n    def execution_end_date(self):\n        return factory.Faker('date_time_between_dates',\n                             datetime_start=self.execution_start_date,\n                             datetime_end=now(),\n                             tzinfo=pytz.utc)\n</code></pre>\n\n<p>But when I try to use the factory from the python shell I got this:</p>\n\n<pre><code>In [3]: e = EventFactory()\n\nIn [4]: e.execution_end_date\nOut[4]: &lt;factory.faker.Faker at 0x1103f51d0&gt;\n</code></pre>\n\n<p>The only way I managed to make it work was with like this:</p>\n\n<pre><code>@factory.lazy_attribute\ndef execution_end_date(self):\n    # return factory.Faker('date_time_between_dates',\n    #                      datetime_start=self.execution_start_date,\n    #                      datetime_end=now(),\n    #                      tzinfo=pytz.utc)\n    faker = factory.Faker._get_faker()\n    return faker.date_time_between_dates(datetime_start=self.execution_start_date,\n                                         datetime_end=now(),\n                                         tzinfo=pytz.utc)\n</code></pre>\n\n<p>But I honestly think there is a better way to do it.</p>\n\n<p>My dependencies are:</p>\n\n<ul>\n<li>Django (1.8.18)</li>\n<li>factory-boy (2.8.1)</li>\n<li>Faker (0.7.17)</li>\n</ul>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 4, "creation_date": 1499899028, "post_id": 45068595, "comment_id": 77110445, "body": "There are two elements &lt;10; therefore two indices."}, {"owner": {"reputation": 1290, "user_id": 5499871, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206799318615183/picture?type=large", "display_name": "Izaak Weiss", "link": "https://stackoverflow.com/users/5499871/izaak-weiss"}, "edited": false, "score": 3, "creation_date": 1499899300, "post_id": 45068595, "comment_id": 77110545, "body": "I believe you can change <code>index = np.where(k&lt;10)</code> to <code>index = np.where(k&lt;10)[0]</code> to get what you want."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1499899514, "post_id": 45068595, "comment_id": 77110609, "body": "It sounds like you may be confused by the fact that <code>where</code> returns a tuple of arrays of indices, instead of just an array of indices."}], "answers": [{"comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1499899461, "post_id": 45068660, "comment_id": 77110597, "body": "This does the exact same thing as what the OP did not want, and just uses a (relatively) obscure method to do so."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1499899633, "post_id": 45068660, "comment_id": 77110642, "body": "@AlexanderHuszagh I am not so sure. This does give the same output as <code>numpy.where</code> but for 1d array, it has the convenience of returning an array of non zero elements index, instead of a tuple."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1499899845, "post_id": 45068660, "comment_id": 77110700, "body": "@AlexanderHuszagh works for me as I understand the OP&#39;s desire, but also completely non-obvious as a method to get those results."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 0, "creation_date": 1499901858, "post_id": 45068660, "comment_id": 77111266, "body": "@Psidom, the user clearly wants <b>an</b> element from the where tuple. This could either be <code>flatnonzero(cond)[0]</code>, or <code>where(cond)[0][0]</code>, or some other index."}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 2, "last_activity_date": 1499899536, "last_edit_date": 1499899536, "creation_date": 1499899329, "answer_id": 45068660, "question_id": 45068595, "link": "https://stackoverflow.com/questions/45068595/numpy-where-returns-an-array-i-need-just-index/45068660#45068660", "title": "numpy where returns an array. I need just index", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.flatnonzero.html\" rel=\"nofollow noreferrer\"><code>numpy.flatnonzero</code></a>, which returns an array of index instead of tuples of array(s):</p>\n\n<pre><code>k = np.array([100,20,25,10,1,2])\n\nnp.flatnonzero(k &lt; 10)\n# array([4, 5])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15962, "user_id": 7214344, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09fedcad60ad0dba2834ffffdd52f686?s=128&d=identicon&r=PG&f=1", "display_name": "Miriam Farber", "link": "https://stackoverflow.com/users/7214344/miriam-farber"}, "is_accepted": true, "score": 4, "last_activity_date": 1499899850, "creation_date": 1499899850, "answer_id": 45068728, "question_id": 45068595, "link": "https://stackoverflow.com/questions/45068595/numpy-where-returns-an-array-i-need-just-index/45068728#45068728", "title": "numpy where returns an array. I need just index", "body": "<p>You can take the first element in the result that you get, as follows:</p>\n\n<pre><code>index=np.where(k&lt;10)[0]\n</code></pre>\n\n<p>Then <code>index</code> is <code>array([4, 5], dtype=int64)</code>, and you can access <code>index[0]</code> and <code>index[1]</code> as you wanted.</p>\n"}], "owner": {"reputation": 1183, "user_id": 761620, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de433fa73e543f8c20c6f20c6314c9c0?s=128&d=identicon&r=PG", "display_name": "ziulfer", "link": "https://stackoverflow.com/users/761620/ziulfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1274, "favorite_count": 0, "accepted_answer_id": 45068728, "answer_count": 2, "score": 1, "last_activity_date": 1499899850, "creation_date": 1499898891, "last_edit_date": 1499898934, "question_id": 45068595, "link": "https://stackoverflow.com/questions/45068595/numpy-where-returns-an-array-i-need-just-index", "title": "numpy where returns an array. I need just index", "body": "<p>I have a numpy array: <code>k = np.array([100,20,25,10,1,2])</code> and I'm trying to use a np where as <code>index=np.where(k&lt;10)</code> which gives me \n<code>index (array([4, 5]),)</code>. I'm insterested in something to give me just the index so here I'd like to have <code>index[0]=4</code> not <code>index[0]=[4 5]</code></p>\n\n<p>I couldn't find anything here on the numpy docs.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2218, "user_id": 314922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37fda62ccc7749266c51eec1c15b8f30?s=128&d=identicon&r=PG", "display_name": "Personman", "link": "https://stackoverflow.com/users/314922/personman"}, "edited": false, "score": 1, "creation_date": 1499899222, "post_id": 45068593, "comment_id": 77110510, "body": "I think you&#39;ll need to provide more information about the contents of full_data.csv. You claim it&#39;s a &quot;bunch of html files&quot;, but then why is it a csv? It sounds like it has a _text column with float values."}, {"owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "reply_to_user": {"reputation": 2218, "user_id": 314922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37fda62ccc7749266c51eec1c15b8f30?s=128&d=identicon&r=PG", "display_name": "Personman", "link": "https://stackoverflow.com/users/314922/personman"}, "edited": false, "score": 0, "creation_date": 1499899380, "post_id": 45068593, "comment_id": 77110578, "body": "@Personman full_data.csv has a column that contains HTML markup, that&#39;s why I&#39;m unsure why it&#39;s read into the dataframe as a float.  I&#39;ve inspected the data with <code>df.head()</code> and it appears fine.  Does that clarify?"}], "owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499898890, "creation_date": 1499898890, "question_id": 45068593, "link": "https://stackoverflow.com/questions/45068593/pandas-treating-html-as-a-float", "title": "Pandas: Treating HTML as a Float...?", "body": "<p>I'm trying to count the number of images in a bunch of HTML files that I've read into a Pandas DataFrame (under the <code>_text</code> column).  My attempt is here:</p>\n\n<pre><code>text_img_count = [len(BeautifulSoup(x, \"lxml\").find_all('img')) for x in df['_text']]\n</code></pre>\n\n<p>However, I get this error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-4-1d0e442bf1d1&gt; in &lt;module&gt;()\n----&gt; 1 text_img_count = [len(BeautifulSoup(x, \"lxml\").find_all('img')) for x in df['_text']]\n      2 text_vid_count = [len(BeautifulSoup(x, \"lxml\").find_all('video')) for x in df['_text']]\n      3 text_link_count = [len(BeautifulSoup(x, \"lxml\").find_all('a')) for x in result_df['_text']]\n      4 df['_text_img_count'] = text_img_count\n      5 df['_text_vid_count'] = text_vid_count\n\n/Users/anaconda/lib/python2.7/site-packages/bs4/__init__.pyc in __init__(self, markup, features, builder, parse_only, from_encoding, exclude_encodings, **kwargs)\n    190         if hasattr(markup, 'read'):        # It's a file-type object.\n    191             markup = markup.read()\n--&gt; 192         elif len(markup) &lt;= 256 and (\n    193                 (isinstance(markup, bytes) and not b'&lt;' in markup)\n    194                 or (isinstance(markup, unicode) and not u'&lt;' in markup)\n\nTypeError: object of type 'float' has no len()\n</code></pre>\n\n<p>So then I check the type of my <code>_text</code> column and it's a float...</p>\n\n<p>I used <code>df = pd.read_csv('full_data.csv', index_col=0)</code> to read my data in.  I'm a little confused by why it read my HTML markup in as a float...</p>\n\n<p>Any idea how to fix?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 1, "creation_date": 1499899262, "post_id": 45068584, "comment_id": 77110529, "body": "Have you tried <code>pd.merge(df1, df2, how=&#39;outer&#39;, on=[&#39;Org ID&#39;,  &#39;Org Name&#39;])</code>? <code>how=</code> can be changed to whatever join type you please, between &quot;inner&quot;, &quot;left&quot;, &quot;right&quot;, and &quot;outer&quot;."}, {"owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "reply_to_user": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1499899340, "post_id": 45068584, "comment_id": 77110563, "body": "@cmaher Yes. that was my first go to but I got: KeyError: &#39;Org ID&#39;"}, {"owner": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 1, "creation_date": 1499899480, "post_id": 45068584, "comment_id": 77110604, "body": "KeyError tells you that the key isn&#39;t in your DataFrame(s). I suggest you check that <code>df1</code> and <code>df2</code> imported as you expected. Also, you should always post what you&#39;ve already tried so comments/answers are as productive as possible."}, {"owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "reply_to_user": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1499899798, "post_id": 45068584, "comment_id": 77110687, "body": "@cmaher Thanks. When I run the df1.head() and df2.head() I do get the output of all data with Org ID included. I am looking at both outputs in my Jupyter notebook file and can see both tables with data."}, {"owner": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 1, "creation_date": 1499899998, "post_id": 45068584, "comment_id": 77110753, "body": "And you can access the <code>Org ID</code> column from both DataFrames with <code>df1[&#39;Org ID&#39;]</code> syntax?"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1499900117, "post_id": 45068584, "comment_id": 77110787, "body": "could you share the print of: mydict = df.head(1).to_dict()"}, {"owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "reply_to_user": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1499900142, "post_id": 45068584, "comment_id": 77110799, "body": "@cmaher That comes back with the same KeyError. Am I not setting my data frames up correctly? i can clearly read and manipulate both files and see all of the columns and rows."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1499900233, "post_id": 45068584, "comment_id": 77110817, "body": "try r&quot;Org ID&quot; and u&quot;Org ID&quot; , that is r and u"}, {"owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1499900247, "post_id": 45068584, "comment_id": 77110825, "body": "@AntonvBR {&#39;Chapter&#39;: {&#39;000014344O&#39;: &#39;Division&#39;},  &#39;Effective Date&#39;: {&#39;000014344O&#39;: &#39;7/1/2017 0:00&#39;},  &#39;Expire Date&#39;: {&#39;000014344O&#39;: &#39;6/30/2018 0:00&#39;},  &#39;Join Date&#39;: {&#39;000014344O&#39;: &#39;3/16/2012 0:00&#39;},  &#39;Org Name&#39;: {&#39;000014344O&#39;: &#39;IABS - Headquarters&#39;},  &#39;Org Type&#39;: {&#39;000014344O&#39;: &#39;Supplier&#39;}}"}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1499900304, "post_id": 45068584, "comment_id": 77110842, "body": "@user3088202 there is no &quot;Org ID&quot; in that dict"}, {"owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "reply_to_user": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1499900382, "post_id": 45068584, "comment_id": 77110862, "body": "@AntonvBR could it be because of index_col=&#39;Org ID&#39;? i just took it out and df1.[&quot;Org ID&quot;] outputs all of the ids but when I try to merge I still get the same key error."}, {"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "edited": false, "score": 0, "creation_date": 1499900463, "post_id": 45068584, "comment_id": 77110890, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/149058/discussion-between-anton-vbr-and-user3088202\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 2, "last_activity_date": 1499901777, "creation_date": 1499901777, "answer_id": 45069022, "question_id": 45068584, "link": "https://stackoverflow.com/questions/45068584/merge-two-csv-files-into-one-with-pandas-by-id/45069022#45069022", "title": "Merge two CSV files into one with pandas by ID", "body": "<p>After discussion in chat the main issue was \"Org Id\" being read as index. Adding param \"index_col = False\" did the trick:</p>\n\n<pre><code>df2 = pd.read_csv(path, header=None, encoding=\"ISO-8859-1\", names=name_cols, usecols=pull_cols, index_col='Org ID')\n</code></pre>\n\n<p>What was then left was to do an \"inner\" join:</p>\n\n<pre><code>pd.merge(df1, df2, how='inner', on=['Org ID', 'Org Name'])\n</code></pre>\n"}], "owner": {"reputation": 1536, "user_id": 3088202, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/be1f7690d14a2a6111b37f9d6558e916?s=128&d=identicon&r=PG&f=1", "display_name": "user3088202", "link": "https://stackoverflow.com/users/3088202/user3088202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3028, "favorite_count": 0, "accepted_answer_id": 45069022, "answer_count": 1, "score": 3, "last_activity_date": 1499901777, "creation_date": 1499898818, "last_edit_date": 1499899374, "question_id": 45068584, "link": "https://stackoverflow.com/questions/45068584/merge-two-csv-files-into-one-with-pandas-by-id", "title": "Merge two CSV files into one with pandas by ID", "body": "<p>I have been trying to find a solution to this all day. Read at least a dozen of the posts on this subject but nothing seems to work.</p>\n\n<p>I have two csv files that I need to merge by ID. Both files have two columns with the same name: Org ID and Org Name. Below is my code:</p>\n\n<p>First File</p>\n\n<pre><code>name_cols = ['GUID1', 'GUID2', 'Org ID', 'Org Name', 'Org Type', 'Chapter', 'Join Date', 'Effective Date', 'Expire Date']\npull_cols = ['Org ID', 'Org Name', 'Org Type', 'Chapter', 'Join Date', 'Effective Date','Expire Date']\n\ndf1 = pd.read_csv(path, header=None, encoding=\"ISO-8859-1\", names=name_cols, usecols=pull_cols, index_col='Org ID')\n</code></pre>\n\n<p>Second File</p>\n\n<pre><code>name_cols = ['GUID1', 'Org ID', 'Org Name', 'Transaction Date', 'Product Name', 'Sales Price', 'Invoice Code', 'Payment Amount', 'Add Date']\npull_cols = ['Org ID', 'Org Name', 'Transaction Date', 'Product Name', 'Sales Price', 'Invoice Code', 'Payment Amount', 'Add Date']\n\ndf2 = pd.read_csv(path, header=None, encoding=\"ISO-8859-1\", names=name_cols, usecols=pull_cols, index_col='Org ID')\n</code></pre>\n\n<p>I am still exploring pandas and any clues to how I should approach this would be much appriciated.</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1499898948, "post_id": 45068557, "comment_id": 77110424, "body": "is <code>string.replace(&quot;(&quot;, &quot;-&quot;)</code> a typo? That line doesn&#39;t remove a character..."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1499899052, "post_id": 45068557, "comment_id": 77110454, "body": "@MSeifert It&#39;s Excel formatting for negative numbers to put parenthesis around them"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1499899468, "post_id": 45068557, "comment_id": 77110601, "body": "<a href=\"https://stackoverflow.com/a/15448887/223424\">This answer</a> is most concise, but the whole thread is excellent, and shows that the problem is not entirely trivial."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 1, "creation_date": 1499899545, "post_id": 45068557, "comment_id": 77110620, "body": "@9000 only if <code>-</code> were both a value to be replaced and a value to replace. <code>str.translate</code> handles this nicely (and trivially). The question you marked as a duplicate does not seem to use <code>str.translate</code> at all."}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1499899653, "post_id": 45068557, "comment_id": 77110647, "body": "@AdamSmith: Yes, for one-character case, <code>str.translate</code> is nice. This may suffice in this particular case."}], "answers": [{"comments": [{"owner": {"reputation": 4147, "user_id": 6654077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3deaf30afffe58c663f22106e4fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/6654077/fabien"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1499898952, "post_id": 45068591, "comment_id": 77110428, "body": "Yeah sorry for this, then you can rely on an associative dict, let me update"}, {"owner": {"reputation": 4147, "user_id": 6654077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3deaf30afffe58c663f22106e4fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/6654077/fabien"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1499899336, "post_id": 45068591, "comment_id": 77110560, "body": "Updated :-) Sounds correct now"}], "tags": [], "owner": {"reputation": 4147, "user_id": 6654077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3deaf30afffe58c663f22106e4fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/6654077/fabien"}, "is_accepted": false, "score": 0, "last_activity_date": 1499899250, "last_edit_date": 1499899250, "creation_date": 1499898883, "answer_id": 45068591, "question_id": 45068557, "link": "https://stackoverflow.com/questions/45068557/pythonic-way-to-remove-characters-in-string/45068591#45068591", "title": "Pythonic way to remove characters in string", "body": "<p>Well, you can rely on a loop to make it less ugly:</p>\n\n<pre><code>FORBIDDEN_CHARS =  { # Model: { \"Replacer\" : \"Replacees\", ... }\n \"\" : \",$)\", \n \"-\" : \"(\"\n} \n\nfor replacer in FORBIDDEN_CHARS:\n for replacee in FORBIDDEN_CHARS[replacer]:\n  mystr = mystr.replace(replacee, replacer)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1499899361, "post_id": 45068643, "comment_id": 77110572, "body": "or <code>str.maketrans(&quot;(&quot;, &quot;-&quot;, &quot;,$)&quot;)</code> <a href=\"https://docs.python.org/3/library/stdtypes.html#str.maketrans\" rel=\"nofollow noreferrer\">per the docs</a> the three-argument version of <code>maketrans</code> pairs the first two arguments and maps the third to <code>None</code> (empty string)"}, {"owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499912124, "post_id": 45068643, "comment_id": 77113706, "body": "I am getting an error <code>AttributeError: type object &#39;str&#39; has no attribute &#39;maketrans&#39;</code>. I guess that is because I am using Python 2.7. Is there a way to make it work in Python 2.7?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499940344, "post_id": 45068643, "comment_id": 77127345, "body": "@sprogissd I included the python 2.7 way of solving it :)"}, {"owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499971945, "post_id": 45068643, "comment_id": 77150119, "body": "I get this error <code>translate() takes exactly one argument (2 given)</code> when I use your solution in Python 2.7 and use a  string variable instead of <code>&quot;($12,990)&quot;</code>."}, {"owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499972219, "post_id": 45068643, "comment_id": 77150290, "body": "Seems like the error is caused by unicode. When I do <code>string.encode(&#39;utf-8&#39;)</code>, it works. Is there a way to do it using unicode?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499974864, "post_id": 45068643, "comment_id": 77151714, "body": "@sprogissd I updated the answer (again) :)"}, {"owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "edited": false, "score": 0, "creation_date": 1499977416, "post_id": 45068643, "comment_id": 77153006, "body": "Thank you. It doesn&#39;t look neat anymore though. I guess I will stick with <code>.encode(&#39;utf-8&#39;)</code>."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 7, "last_activity_date": 1499974849, "last_edit_date": 1499974849, "creation_date": 1499899188, "answer_id": 45068643, "question_id": 45068557, "link": "https://stackoverflow.com/questions/45068557/pythonic-way-to-remove-characters-in-string/45068643#45068643", "title": "Pythonic way to remove characters in string", "body": "<p>You could use <a href=\"https://docs.python.org/library/stdtypes.html#str.translate\" rel=\"nofollow noreferrer\"><code>str.translate</code></a>, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; \"($12,990)\".translate(str.maketrans({',': '', '$': '', '(': '-', ')': ''}))\n'-12990'\n</code></pre>\n\n<p>As stated by @AdamSmith in the comments you could also utilize the (full) three-argument form of <a href=\"https://docs.python.org/library/stdtypes.html#str.maketrans\" rel=\"nofollow noreferrer\"><code>str.maketrans</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; translationtable = str.maketrans(\"(\", \"-\", \",$)\")\n&gt;&gt;&gt; \"($12,990)\".translate(translationtable)\n'-12990'\n</code></pre>\n\n<hr>\n\n<p>In case you're using python-2.x the <a href=\"https://docs.python.org/2.7/library/stdtypes.html#str.translate\" rel=\"nofollow noreferrer\"><code>str.translate</code></a> function and <a href=\"https://docs.python.org/2.7/library/string.html#string.maketrans\" rel=\"nofollow noreferrer\"><code>string.maketrans</code></a> function can be used:</p>\n\n<pre><code>&gt;&gt;&gt; import string\n&gt;&gt;&gt; translationtable = string.maketrans('(', '-')\n&gt;&gt;&gt; \"($12,990)\".translate(translationtable, ',$)')\n'-12990'\n</code></pre>\n\n<p>or with unicodes on Python-2.x you need a unicode-ordinal to unicode-ordinal/string or None:</p>\n\n<pre><code>&gt;&gt;&gt; unicode_translation_table = {ord(u','): None, ord(u'$'): None, ord(u'('): ord(u'-'), ord(u')'): None}\n&gt;&gt;&gt; u\"($12,990)\".translate(unicode_translation_table)\nu'-12990'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1499899462, "post_id": 45068673, "comment_id": 77110598, "body": "That does not handle parentheses correctly."}], "tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": -1, "last_activity_date": 1499899601, "last_edit_date": 1499899601, "creation_date": 1499899421, "answer_id": 45068673, "question_id": 45068557, "link": "https://stackoverflow.com/questions/45068557/pythonic-way-to-remove-characters-in-string/45068673#45068673", "title": "Pythonic way to remove characters in string", "body": "<pre><code>''.join(string.strip('(').strip(')').strip('$').split(','))\n</code></pre>\n\n<p>or </p>\n\n<pre><code>''.join(filter(str.isdigit, string))\n</code></pre>\n"}], "owner": {"reputation": 1571, "user_id": 7692921, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5166b1f22d8a56de3e2918a271066460?s=128&d=identicon&r=PG&f=1", "display_name": "sprogissd", "link": "https://stackoverflow.com/users/7692921/sprogissd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12321, "favorite_count": 1, "closed_date": 1499899486, "accepted_answer_id": 45068643, "answer_count": 3, "score": 2, "last_activity_date": 1499974849, "creation_date": 1499898654, "last_edit_date": 1499912195, "question_id": 45068557, "link": "https://stackoverflow.com/questions/45068557/pythonic-way-to-remove-characters-in-string", "closed_reason": "Duplicate", "title": "Pythonic way to remove characters in string", "body": "<p>What is a neat way to remove different characters from a string? For example, I have the following strings that I need to convert to integers:</p>\n\n<pre><code>($12,990)\n$21,434\n</code></pre>\n\n<p>I use the following code which works fine, but is there a less bulkier way to do the same?</p>\n\n<pre><code>string = string.replace(\",\", \"\")\nstring = string.replace(\"$\", \"\")\nstring = string.replace(\"(\", \"-\")\nstring = string.replace(\")\", \"\")\nint(string)\n</code></pre>\n\n<p>Edit: I am using Python 2.7.</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 0, "creation_date": 1499898898, "post_id": 45068583, "comment_id": 77110405, "body": "there is more than one <code>p</code> i just omitted the rest, so i need the <code>text=</code> part"}, {"owner": {"reputation": 906, "user_id": 978965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/96aea860b927344972db4d03bd7de274?s=128&d=identicon&r=PG", "display_name": "rivimey", "link": "https://stackoverflow.com/users/978965/rivimey"}, "edited": false, "score": 0, "creation_date": 1499899128, "post_id": 45068583, "comment_id": 77110478, "body": "IMO very poor etiquette: someone gave you a perfectly good answer given what you requested. marking down for that is not good. And the answer is still appropriate, you just have to do multiple levels of &#39;find&#39;."}, {"owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 1, "creation_date": 1499899203, "post_id": 45068583, "comment_id": 77110504, "body": "i didn&#39;t vote it down... it&#39;s funny how you just assumed i voted it down and berated me for it...."}, {"owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 0, "creation_date": 1499899360, "post_id": 45068583, "comment_id": 77110570, "body": "@Sriram must I go through a loop? why doesn&#39;t the <code>text=</code> work? thought that would be easier since each <code>p</code> has a unique ticker"}, {"owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "edited": false, "score": 0, "creation_date": 1499899464, "post_id": 45068583, "comment_id": 77110599, "body": "If you have a lot of <code>&lt;p&gt;</code> tags , you have do a <code>findAll()</code> that would fetch you all <code>&lt;p&gt;</code> tag structures. Looping it is the convenient option"}, {"owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 0, "creation_date": 1499899605, "post_id": 45068583, "comment_id": 77110633, "body": "what is the <code>text=</code> argument for then?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499899941, "post_id": 45068583, "comment_id": 77110738, "body": "@Sriram Why are you using bs3 syntax? OP is using bs4."}, {"owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 0, "creation_date": 1499900419, "post_id": 45068583, "comment_id": 77110875, "body": "@Sriram. Your code works. So I gave it an upvote... but still seeing if anybody can do it one line to avoid the loop. if not, it&#39;s the answer."}, {"owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "reply_to_user": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "edited": false, "score": 0, "creation_date": 1499900517, "post_id": 45068583, "comment_id": 77110906, "body": "Updated the answer. Check it! gave a compact version , with <code>re.compile()</code> @jason"}], "tags": [], "owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1499900473, "last_edit_date": 1499900473, "creation_date": 1499898813, "answer_id": 45068583, "question_id": 45068545, "link": "https://stackoverflow.com/questions/45068545/beautifulsoup-find-text-using-re-compile/45068583#45068583", "title": "beautifulsoup, find text using re.compile", "body": "<p>This would get the <code>\"id\"</code> value for <code>&lt;p&gt;</code> tags which contains the text <code>\"{FB}\"</code>:</p>\n\n<pre><code>ticker='{FB}'\ntarget= soup.find_all('p')\nfor items in target:\n    check=items.text\n    if '{FB}' in check:\n        print (items.get(\"id\"))\n</code></pre>\n\n<p>More compact way:</p>\n\n<pre><code>for elem in soup(text=re.compile(ticker)):\n    print (elem.parent.get(\"id\"))\n</code></pre>\n"}], "owner": {"reputation": 1975, "user_id": 1744744, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0ea2850ef9a0500fa0ea5de1a528107a?s=128&d=identicon&r=PG&f=1", "display_name": "jason", "link": "https://stackoverflow.com/users/1744744/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1301, "favorite_count": 0, "accepted_answer_id": 45068583, "answer_count": 1, "score": 0, "last_activity_date": 1499900784, "creation_date": 1499898585, "last_edit_date": 1499900784, "question_id": 45068545, "link": "https://stackoverflow.com/questions/45068545/beautifulsoup-find-text-using-re-compile", "title": "beautifulsoup, find text using re.compile", "body": "<p>Why is this not finding anything? I'm looking to extract the <code>id</code> out of this html.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport re\na=\"\"\"\n&lt;html lang=\"en-US\"&gt;\n &lt;head&gt;\n  &lt;title&gt;\n   Coverage\n  &lt;/title&gt;\n  &lt;meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/&gt;\n  &lt;meta content=\"2017-07-12T08:12:00.0000000\" name=\"created\"/&gt;\n &lt;/head&gt;\n &lt;body data-absolute-enabled=\"true\" style=\"font-family:Calibri;font-size:11pt\"&gt;\n  &lt;div id=\"div:{1586118a-0184-027e-07fc-99debbfc309f}{35}\" style=\"position:absolute;left:1030px;top:449px;width:624px\"&gt;\n   &lt;p id=\"p:{dd73b86c-408c-4068-a1e7-769ad024cf2e}{40}\" style=\"margin-top:5.5pt;margin-bottom:5.5pt\"&gt;\n    {FB} 2 Facebook 465.8 /\n    &lt;span style=\"color:green\"&gt;\n     12\n    &lt;/span&gt;\n    &lt;span style=\"color:green\"&gt;\n     5\n    &lt;/span&gt;\n    &lt;span style=\"color:green\"&gt;\n     10\n    &lt;/span&gt;\n    &lt;span style=\"color:red\"&gt;\n     -3\n    &lt;/span&gt;\n    / updated\n   &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\nsoup=BeautifulSoup(a,'html.parser')\nticker='{FB}'\ntarget= soup.find('p', text = re.compile(ticker))\n</code></pre>\n\n<p>There is more than one <code>p</code> i just omitted the rest. I need the <code>text=</code> part</p>\n\n<p>I've also tried the wildcards <code>(.*)</code> but still can get it to work.</p>\n\n<p>I must get the <code>id</code> by ticker... i don't know anything else and the rest of the page is dynamic</p>\n"}, {"tags": ["python", "datetime", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 4927, "user_id": 7770781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9JR5.jpg?s=128&g=1", "display_name": "Y. Luo", "link": "https://stackoverflow.com/users/7770781/y-luo"}, "edited": false, "score": 0, "creation_date": 1499966239, "post_id": 45085681, "comment_id": 77146746, "body": "Happy to hear you&#39;ve figured it out. Will delete my answer to avoid confusion."}], "tags": [], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "is_accepted": true, "score": 1, "last_activity_date": 1499961175, "creation_date": 1499961175, "answer_id": 45085681, "question_id": 45068515, "link": "https://stackoverflow.com/questions/45068515/plotting-dates-in-matplotlib-one-plot-works-the-other-doesnt/45085681#45085681", "title": "Plotting dates in matplotlib, one plot works the other doesn&#39;t", "body": "<p>I figured it out. Y.Luo was on the right track even though their formulation was incorrect. I think that the minimum year supported by pythons datetime library is too low for the dates recognized by matploltib and the same goes for the max years. I manually inserted a date (changed code below) and the plot suddenly worked. Now I am running into another issue but that will have to be for another question.</p>\n\n<pre><code>if count &gt; 0:\n        two_orbit_line.append(mdatas[malt, mlat, mlon, mtime])\n        two_orbit_times.append(pltdt.date2num(dt.datetime.combine(dt.date(2019,1,1),m)))\n        count-=1\n</code></pre>\n"}], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 45085681, "answer_count": 1, "score": 0, "last_activity_date": 1499961175, "creation_date": 1499898429, "question_id": 45068515, "link": "https://stackoverflow.com/questions/45068515/plotting-dates-in-matplotlib-one-plot-works-the-other-doesnt", "title": "Plotting dates in matplotlib, one plot works the other doesn&#39;t", "body": "<p>I am trying to plot some data with corresponding timestamps in python with matplotlib. The 'dates' are actually datetime.time objects (so no corresponding dates and I don't care about the dates) which look like this:</p>\n\n<pre><code>In[6]: dates[1]\nOut[6]: datetime.time(12, 3, 1) \n</code></pre>\n\n<p>I have created a simple code which shows what I would like to do (and am doing with the actual data but isn't working for some reason):</p>\n\n<p>Working Code</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.dates as pltdt\nimport datetime as dt\n\ndates = [dt.time(12,3,i) for i in range(6)]\ntime_to_datetime = []\nfor i in dates:\n    time_to_datetime.append(dt.datetime.combine(dt.date.min, i))\ndates_as_num = pltdt.date2num(time_to_datetime)\nvalues = range(len(dates))\n\nplt.plot_date(dates_as_num, values)\nplt.show()\n\nprint ('Done!')\n</code></pre>\n\n<p>Which produces the following plot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z2q1D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z2q1D.png\" alt=\"Example of what I want\"></a></p>\n\n<p>However, when I do this EXACT process with my data (of course instead of 6 points I have ~300,000 and there is some extra processing happening) I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\backends\\backend_qt5agg.py\", line 197, in __draw_idle_agg\n    FigureCanvasAgg.draw(self)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\", line 464, in draw\n    self.figure.draw(self.renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\figure.py\", line 1143, in draw\n    renderer, self, dsu, self.suppressComposite)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\image.py\", line 139, in _draw_list_compositing_images\n    a.draw(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axes\\_base.py\", line 2409, in draw\n    mimage._draw_list_compositing_images(renderer, self, dsu)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\image.py\", line 139, in _draw_list_compositing_images\n    a.draw(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 1136, in draw\n    ticks_to_draw = self._update_ticks(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 969, in _update_ticks\n    tick_tups = [t for t in self.iter_ticks()]\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 969, in &lt;listcomp&gt;\n    tick_tups = [t for t in self.iter_ticks()]\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 912, in iter_ticks\n    majorLocs = self.major.locator()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 983, in __call__\n    self.refresh()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 1003, in refresh\n    dmin, dmax = self.viewlim_to_dt()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 760, in viewlim_to_dt\n    return num2date(vmin, self.tz), num2date(vmax, self.tz)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 401, in num2date\n    return _from_ordinalf(x, tz)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 254, in _from_ordinalf\n    dt = datetime.datetime.fromordinal(ix).replace(tzinfo=UTC)\nValueError: ordinal must be &gt;= 1\nTraceback (most recent call last):\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\backends\\backend_qt5agg.py\", line 197, in __draw_idle_agg\n    FigureCanvasAgg.draw(self)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\backends\\backend_agg.py\", line 464, in draw\n    self.figure.draw(self.renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\figure.py\", line 1143, in draw\n    renderer, self, dsu, self.suppressComposite)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\image.py\", line 139, in _draw_list_compositing_images\n    a.draw(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axes\\_base.py\", line 2409, in draw\n    mimage._draw_list_compositing_images(renderer, self, dsu)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\image.py\", line 139, in _draw_list_compositing_images\n    a.draw(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\artist.py\", line 63, in draw_wrapper\n    draw(artist, renderer, *args, **kwargs)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 1136, in draw\n    ticks_to_draw = self._update_ticks(renderer)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 969, in _update_ticks\n    tick_tups = [t for t in self.iter_ticks()]\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 969, in &lt;listcomp&gt;\n    tick_tups = [t for t in self.iter_ticks()]\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\axis.py\", line 912, in iter_ticks\n    majorLocs = self.major.locator()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 983, in __call__\n    self.refresh()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 1003, in refresh\n    dmin, dmax = self.viewlim_to_dt()\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 760, in viewlim_to_dt\n    return num2date(vmin, self.tz), num2date(vmax, self.tz)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 401, in num2date\n    return _from_ordinalf(x, tz)\n  File \"C:\\Users\\Will Evonosky\\AppData\\Local\\Enthought\\Canopy\\edm\\envs\\User\\lib\\site-packages\\matplotlib\\dates.py\", line 254, in _from_ordinalf\n    dt = datetime.datetime.fromordinal(ix).replace(tzinfo=UTC)\nValueError: ordinal must be &gt;= 1\n%run \"c:\\users\\willev~1\\appdata\\local\\temp\\tmpjkubsr.py\"\n</code></pre>\n\n<p>I have tried everything I can to get this thing to work with no success. I tried even converting the times to strings and just manually setting the tick labels for the x-axis but ran into a problem where what showed up on the x-axis wasn't representing the actual dates accurately (where there should have been 200 minutes in minute intervals displayed, there was a total of 3 minutes displayed even though the y values spanned the whole 200 point range). Thanks for any help!</p>\n\n<p>My trimmed code is below (sorry it is messy):</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.dates as pltdt\nimport numpy as np\nimport datetime as dt\nimport math\n\ndef plot_two_orbit(times, values):\n    fig2 = plt.figure(figsize = (14,8))\n    ax2=plt.subplot(111)\n    ax2.plot_date(times, values, linewidth=4)\n    ax2.set_xticklabels([i.strftime('%H:%M') for i in two_orbit_times])\n    ax2.yaxis.set_ticks_position(\"left\")\n    ax2.xaxis.set_ticks_position(\"bottom\")\n    ax2.spines['top'].set_color('None')\n    ax2.spines['right'].set_color('None')\n    ax2.spines['bottom'].set_color('black')\n    ax2.spines['left'].set_color('black')\n    ax2.tick_params(axis='x', colors='black', labelsize=20, pad=10)\n    ax2.tick_params(axis='y', colors='black', labelsize=20, pad=10)\n    ax2.yaxis.label.set_color('black')\n    ax2.xaxis.label.set_color('black')\n    ax2.set_ylabel(r'Ion Temp (K)', size=23)\n    ax2.set_xlabel(r'Local Time', size=23)\n    plt.show()\n    return None\n\n#model parameters\nmodalt = np.arange(90, 1005, 5) #90km to 1000km in 5km increiments,\nmodlat = np.arange(-90, 92, 2) #latitude from 0 to 355 in 5 degree incriments\nmodlon = np.arange(0,356, 4) #longitude from -87.5 to 87.5 in 5 degree incriments\nmodtime = np.arange(.25,24.25,.25) # time in 15 minute incriments\n\n#making the modtime array into a python datetime.time object\ntimes = []\nfor i in modtime:\n    strip = [math.modf(i)[1],math.modf(i)[0]*60 ]\n    if strip[0]==24:\n        times.append(dt.time(0, int(strip[1]),0))\n    else:\n        times.append(dt.time(int(strip[0]), int(strip[1]),0))\n\n#loading in the Model data\nmdatas =np.load('C:/Users/Will Evonosky/Dropbox/SOARS/SOARS 2017/Data/GIP_Feb5_ti.npy')\n\n#Function to find the index of the neasrest array point to a given value\ndef find_nearest(array,value):\n    idx = (np.abs(array-value)).argmin()\n    return idx\n\n#load in the ephemeris data retrieved from STK \nephem = np.genfromtxt('C:/Users/Will Evonosky/Dropbox/SOARS/SOARS 2017/Data/STK Data/Location for count and science/Times_Loc_Fix_7mon_500km.csv', skip_header=1, dtype=None, delimiter=',')\n\n#Pulling out the indivdual parameters from the STK data\nsattime = [dt.datetime.strptime(i[1].decode('ascii'), '%H:%M').time() for i in ephem]\nsatlat = np.round([i[2] for i in ephem], decimals=2)\nsatlon = np.round([i[3] for i in ephem], decimals=2)\nsatalt = np.round([i[4] for i in ephem], decimals=2)\n\n#making the modeled satellite longitude match GIP (-180 to 180) to (0 to 360)\nsatloncor = []\nfor i in satlon:\n    if i&lt;0:\n        satloncor.append(round(i+360,2))\n    else:\n        satloncor.append(round(i,2))\n\n#Converting UT times for satellite data into local solar time\n\nlocaltimes = []\nfor (i,j) in zip(sattime, satloncor):\n    td = dt.datetime.combine(dt.datetime.min, i) - dt.datetime.min\n    seconds = td  // dt.timedelta(seconds=1)\n    local = (seconds + (j/(360/86400)))/3600\n    if local&gt;24:\n        local-=24\n    strip = [math.modf(local)[1],math.modf(local)[0]*60 ]\n    if strip[0]==24:\n        localtimes.append(dt.time(0, int(strip[1]),0))\n    else:\n        localtimes.append(dt.time(int(strip[0]), int(strip[1]),0))\n\n#Creating empty arrays to hold the resulting values\ngrid_night_hour = np.zeros((24,len(modlat),len(modlon)))\ntwo_orbit_line = []\ntwo_orbit_times=[]\n\n#Count determines how many orbits to sample. 1 orbit is ~ 90 data points\ncount = 200\nnight_hours = [20,21,22,23,0,1,2,3,4,5]\n#plucking out the model data which most closely match the lat, lon, time, and alt of STK sat data\nfor (i,j,k,l,m) in zip(satlat, satloncor, sattime, satalt, localtimes):\n    mlat = find_nearest(modlat, i)\n    mlon = find_nearest(modlon, j)\n    malt = find_nearest(modalt, l)\n    mtime = times.index(min(times, key=lambda d: abs(dt.datetime.combine(dt.date.min,d) - dt.datetime.combine(dt.date.min,k))))\n    if m.hour in night_hours:\n        grid_night_hour[m.hour, mlat, mlon] = mdatas[malt, mlat, mlon, mtime]\n    if count &gt; 0:\n        two_orbit_line.append(mdatas[malt, mlat, mlon, mtime])\n        two_orbit_times.append(pltdt.date2num(dt.datetime.combine(dt.date.min,m)))\n        count-=1\n\n#masking zero values so they wont plot\ngrid_night_hour[grid_night_hour == 0.0] = np.nan\n\ngrid_night_hour = grid_night_hour - np.nanmean(grid_night_hour)\n\n#Plotting the data\n\nplot_two_orbit(two_orbit_times, two_orbit_line)\n\nprint ('Done!')\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql", "d3.js"], "owner": {"reputation": 1013, "user_id": 4572265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9e8188d784d1d6ec3d391288dedce228?s=128&d=identicon&r=PG&f=1", "display_name": "skrubber", "link": "https://stackoverflow.com/users/4572265/skrubber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1499915656, "creation_date": 1499898414, "last_edit_date": 1499915656, "question_id": 45068508, "link": "https://stackoverflow.com/questions/45068508/django-app-with-data-from-postgres-and-dataviz-in-d3-js", "title": "Django App with data from Postgres and dataviz in d3.js", "body": "<p>This is my first brush with Django. I'm trying to create an app which has a textinput whose value needs to be queried in the Postgres database. The results will be read into a Pandas dataframe and some aggregations are done, and then the result set would be converted into json that feeds a d3 force directed graph.</p>\n\n<p>I Created a model that has the source, target and weight</p>\n\n<pre><code>class Graph(models.Model):\n    source = models.CharField(max_length=25)\n    target = models.CharField(max_length=25)\n    weight = models.IntegerField()\n</code></pre>\n\n<p>I viewed many tutorials online but couldn't get a sense of where to write the code to make the psycopg2 calls to fetch results (is it views.py?) and then how to map the aggregated values to the objects in the model above. Or does the ORM take care of mapping? Please assist with the workflow. Thanks. </p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 13885, "user_id": 7811673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc232c9c0c9748fdd3dec0d5b816fb7?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.adam", "link": "https://stackoverflow.com/users/7811673/t-m-adam"}, "edited": false, "score": 0, "creation_date": 1499948143, "post_id": 45068475, "comment_id": 77132875, "body": "Sorry, i misread the question. Bs4 is not designed to parse js, so i don&#39;t think there is an easy way to get results. As a &#39;hacky&#39; solution you could use regex for links with an &#39;onclick&#39; attribute."}], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 8250707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7feff0a22c998ee0bc3e18beda3ed8c?s=128&d=identicon&r=PG&f=1", "display_name": "b1ch0u", "link": "https://stackoverflow.com/users/8250707/b1ch0u"}, "edited": false, "score": 0, "creation_date": 1499906761, "post_id": 45068578, "comment_id": 77112469, "body": "That solutions risks to miss relative links and to include some unwanted links to js or css files for instance. Restricting to &lt;a&gt; content would probably already exlude the second drawback."}, {"owner": {"reputation": 1392, "user_id": 7542939, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f576076529fe0426bd507e74c35ee79a?s=128&d=identicon&r=PG&f=1", "display_name": "snapcrack", "link": "https://stackoverflow.com/users/7542939/snapcrack"}, "reply_to_user": {"reputation": 658, "user_id": 8250707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7feff0a22c998ee0bc3e18beda3ed8c?s=128&d=identicon&r=PG&f=1", "display_name": "b1ch0u", "link": "https://stackoverflow.com/users/8250707/b1ch0u"}, "edited": false, "score": 0, "creation_date": 1499907320, "post_id": 45068578, "comment_id": 77112593, "body": "Perhaps, but there are no &quot;unwanted&quot; links in this case because the problem is to extract &quot;all&quot; links from a page, at least as the question is currently formulated."}], "tags": [], "owner": {"reputation": 1392, "user_id": 7542939, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f576076529fe0426bd507e74c35ee79a?s=128&d=identicon&r=PG&f=1", "display_name": "snapcrack", "link": "https://stackoverflow.com/users/7542939/snapcrack"}, "is_accepted": false, "score": 0, "last_activity_date": 1499898777, "creation_date": 1499898777, "answer_id": 45068578, "question_id": 45068475, "link": "https://stackoverflow.com/questions/45068475/extract-all-links-from-a-page-in-python/45068578#45068578", "title": "Extract all links from a page in Python", "body": "<p>The only way I can think of grabbing everything is just to convert the entire soup results into a string and grab everything with <code>http</code> using regex:</p>\n\n<pre><code>soup = str(soup)\n\nlinks = re.findall(r'(http.*?)\"', soup)\n</code></pre>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 899, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499947238, "creation_date": 1499898286, "last_edit_date": 1499947238, "question_id": 45068475, "link": "https://stackoverflow.com/questions/45068475/extract-all-links-from-a-page-in-python", "title": "Extract all links from a page in Python", "body": "<p>I am looking to extract all links from webpages. The process I had previously been using was to extract the \"href\" option eg.:</p>\n\n<pre><code> from bs4 import BeautifulSoup\n soup = BeautifulSoup(html_text, \"lxml\")\n for a in soup.findAll(\"a\"):\n     print (a[\"href\"])\n</code></pre>\n\n<p>Some links however have <code>onclick</code> attribute instead of using <code>href</code></p>\n\n<p>e.g.:</p>\n\n<pre><code>   &lt;a href=\"#\" onclick=\"window.open('link_to_open_was_here', '', 'height=400,width=600'); return false;\" title=\"...\" style=\"...\" target=\"_blank\"&gt;...&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n\n<p>and other links in the menu bars are constructed with javascript' window.open options. </p>\n\n<p>I could probably write code that identifies the ways that are not with the href attribute, but is there an easier/more standard way extract out all links from a html page?</p>\n\n<p><strong>Followup:</strong></p>\n\n<p>I am specifically interested in ways to extract links which are not part of standard \"href\" attribute in the \"a\" tag, which can easily be extracted (e.g. i want to extract links which are included via window.open() or javascript... or other ways in which links are included on a page). Relatedly, since most links on sites are relative, looking for text on the page that start with http, is not going to capture them all. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": true, "score": 2, "last_activity_date": 1499898473, "creation_date": 1499898473, "answer_id": 45068520, "question_id": 45068451, "link": "https://stackoverflow.com/questions/45068451/pandas-merge-rows-with-same-userid/45068520#45068520", "title": "Pandas Merge Rows with same UserID", "body": "<p>Use groupby.agg with <code>list</code>:</p>\n\n<pre><code>df.groupby('UserID', as_index=False)['PostID', 'Tags'].agg(lambda x: list(x))\nOut: \n   UserID  PostID    Tags\n0       1  [1, 3]  [A, A]\n1       2  [2, 4]  [A, B]\n2       3     [5]     [B]\n3       4     [6]     [B]\n4       5     [7]     [A]\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 3085207, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/7qezQ.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/3085207/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 45068520, "answer_count": 1, "score": 1, "last_activity_date": 1499898473, "creation_date": 1499898161, "question_id": 45068451, "link": "https://stackoverflow.com/questions/45068451/pandas-merge-rows-with-same-userid", "title": "Pandas Merge Rows with same UserID", "body": "<p>I have data that represents posts with information about the user that posted it and the tags associated with it.</p>\n\n<pre><code>          UserID      PostID  Tags   \n0           1         1        A   \n1           2         2        A    \n2           1         3        A    \n3           2         4        B   \n4           3         5        B    \n5           4         6        B    \n6           5         7        A   \n</code></pre>\n\n<p>I want to create a new dataframe with each row representing a user like this.</p>\n\n<pre><code>          UserID      Posts     Tags   \n0           1         [1,3]     [A,A]   \n1           2         [2,4]     [A,B]   \n2           3         [5]       [B]    \n3           4         [6]       [B]   \n4           5         [7]       [A]    \n</code></pre>\n\n<p>So that I can have a list of there posts and tags rather than having them each be individual.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "sqlalchemy", "versioning", "recipe"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 6179470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WWRfd_pzdKk/AAAAAAAAAAI/AAAAAAAAAMY/ujmx743voe8/photo.jpg?sz=128", "display_name": "alainh", "link": "https://stackoverflow.com/users/6179470/alainh"}, "is_accepted": false, "score": 0, "last_activity_date": 1499967406, "creation_date": 1499967406, "answer_id": 45087531, "question_id": 45068414, "link": "https://stackoverflow.com/questions/45068414/history-meta-versioned-mapper-throws-an-exception-with-bi-directional-relationsh/45087531#45087531", "title": "history_meta Versioned mapper throws an exception with bi-directional relationships", "body": "<p>A good workaround for this issue is to use <code>backref</code> instead of <code>back_populates</code>. So the example becomes:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Child(Versioned, Base):\n    __tablename__ = 'child'\n    id = Column(Integer, primary_key=True)\n    parent_id = Column(Integer, ForeignKey(\"parent.id\"))\n\n\nclass Parent(Versioned, Base):\n    __tablename__ = 'parent'\n    id = Column(Integer, primary_key=True)\n    children = relationship(\"Child\", backref=\"parent\")\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6179470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WWRfd_pzdKk/AAAAAAAAAAI/AAAAAAAAAMY/ujmx743voe8/photo.jpg?sz=128", "display_name": "alainh", "link": "https://stackoverflow.com/users/6179470/alainh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499967406, "creation_date": 1499897952, "question_id": 45068414, "link": "https://stackoverflow.com/questions/45068414/history-meta-versioned-mapper-throws-an-exception-with-bi-directional-relationsh", "title": "history_meta Versioned mapper throws an exception with bi-directional relationships", "body": "<p>I'm using the history_meta recipe found <a href=\"http://docs.sqlalchemy.org/en/latest/_modules/examples/versioned_history/history_meta.html\" rel=\"nofollow noreferrer\">here</a> to version my declarative objects. However, when I have a bi-directional relationship between two models, the mapper fails to find/initialize the other model's mapper. So something like this.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Child(Versioned, Base):\n    __tablename__ = 'child'\n    id = Column(Integer, primary_key=True)\n    parent_id = Column(Integer, ForeignKey(\"parent.id\"))\n    parent = relationship(\"Parent\", back_populates=\"children\")\n\n\nclass Parent(Versioned, Base):\n    __tablename__ = 'parent'\n    id = Column(Integer, primary_key=True)\n    children = relationship(\"Child\", back_populates=\"parent\")\n</code></pre>\n\n<p>will give the error</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper|Child|child, expression 'Parent' failed to locate a name (\"name 'Parent' is not defined\"). If this is a class name, consider adding this relationship() to the &lt;class '__main__.Child'&gt; class after both dependent classes have been defined.\n</code></pre>\n\n<p>Moving the relationships below the class definitions fixes the issue, but this is an undesirable solution. It looks like the mapper called by history meta needs all the related classes to be created before being called.</p>\n\n<p>Is there any way to make history_meta work with bi-directional relationships in this way?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1499897844, "post_id": 45068384, "comment_id": 77110080, "body": "Only if there is <i>one</i> different value? What happens with a list <code>[2,1,2,1,2]</code>? Or <code>[2,2,2,2,2,2,1,1]</code>?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1499898017, "post_id": 45068384, "comment_id": 77110140, "body": "There&#39;s no such function I can name, but it would be more or less trivial to write one. The problem is mainly picking noise from signal as @WillemVanOnsem mentioned."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1499898053, "post_id": 45068384, "comment_id": 77110148, "body": "Are you looking for a low-pass filter?"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 1, "creation_date": 1499898157, "post_id": 45068384, "comment_id": 77110182, "body": "sounds like downsampling: <a href=\"https://skemman.is/bitstream/1946/15343/3/SS_MSthesis.pdf\" rel=\"nofollow noreferrer\">skemman.is/bitstream/1946/15343/3/SS_MSthesis.pdf</a>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499898171, "post_id": 45068384, "comment_id": 77110186, "body": "More ambiguous: what should this function do with <code>[2, 2, 2, 1, 2, 1, 1, 1]</code>? This appears to be a <code>1</code> in the middle of a sequence of <code>2</code>s, and also a <code>2</code> in the middle of a sequence of <code>1</code>s."}, {"owner": {"reputation": 4977, "user_id": 522169, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/693032976/picture?type=large", "display_name": "Yuval A.", "link": "https://stackoverflow.com/users/522169/yuval-a"}, "reply_to_user": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1499898412, "post_id": 45068384, "comment_id": 77110242, "body": "Probably not a low-pass filter. If the <code>1</code> was a <code>3</code> it should be removed. In Adam Smith&#39;s example the result should be: <code>[2, 2, 2, 2, 2, 1, 1, 1]</code>. The actual case is a bit more complex, I was looking for a general direction. Downsampling as suggested by @Uriel, after reading a bit - might be what I&#39;m looking for... thanks"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 0, "creation_date": 1499898468, "post_id": 45068384, "comment_id": 77110269, "body": "@YuvalA. <a href=\"https://github.com/devoxi/lttb-py\" rel=\"nofollow noreferrer\">github.com/devoxi/lttb-py</a> python implementation, referenced by author&#39;s github, or <a href=\"https://github.com/javiljoen/lttb.py\" rel=\"nofollow noreferrer\">github.com/javiljoen/lttb.py</a>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1499898555, "post_id": 45068384, "comment_id": 77110299, "body": "What if there&#39;s an extra <code>1</code> at the end of my example? Does that now change to <code>[2, 2, 2, 1, 1, 1, 1, 1, 1]</code>? Or should the filter act strictly left-to-right?"}, {"owner": {"reputation": 4977, "user_id": 522169, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/693032976/picture?type=large", "display_name": "Yuval A.", "link": "https://stackoverflow.com/users/522169/yuval-a"}, "edited": false, "score": 0, "creation_date": 1499899773, "post_id": 45068384, "comment_id": 77110679, "body": "It&#39;s from left-to-right. In Willem Van Onsem example, it should be <code>[2,2,2,2,2]</code>. If there was an extra 1 or more, like <code>[2,1,2,1,1,2]</code> then the result would be <code>[2,2,2,1,1,2]</code>"}, {"owner": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "edited": false, "score": 0, "creation_date": 1499900740, "post_id": 45068384, "comment_id": 77110966, "body": "It seems like you have to go through the list by for loop  the time consumed will be O(1). BTW what will happen to [1, 2, 2, 2, 2, 2, 1]?"}, {"owner": {"reputation": 4977, "user_id": 522169, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/693032976/picture?type=large", "display_name": "Yuval A.", "link": "https://stackoverflow.com/users/522169/yuval-a"}, "edited": false, "score": 0, "creation_date": 1499903801, "post_id": 45068384, "comment_id": 77111742, "body": "For my purpose - it should stay like that. Only the middle values should be &quot;flattened&quot;/&quot;smoothed&quot; (not sure the right term here)."}], "owner": {"reputation": 4977, "user_id": 522169, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/693032976/picture?type=large", "display_name": "Yuval A.", "link": "https://stackoverflow.com/users/522169/yuval-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499898011, "creation_date": 1499897798, "question_id": 45068384, "link": "https://stackoverflow.com/questions/45068384/removing-noise-from-a-1d-list", "title": "Removing &quot;noise&quot; from a 1d list", "body": "<p>I have a list with possible values of <code>1</code> <code>2</code> or <code>3</code>\nOn situations where there is a sequence of the same value, and one instance of another value within that sequence - I would like to \"smooth\" that sequence - so that the different value will become the same as the rest.</p>\n\n<p>For example: \n<br>\n<code>[2, 2, 1, 2, 2]</code>\n<br>\nWill become: <br>\n<code>[2, 2, 2, 2, 2]</code></p>\n\n<p>My question is, if there is a mathematical \"smoothing\" function I can use here, and if so which one... </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1499899073, "post_id": 45068486, "comment_id": 77110459, "body": "But that&#39;s kind of what I am doing with the Proxy already, isn&#39;t it?  Not being sarcastic, just checking what you mean by that.  I am just trying to figure out what the usual approach is with this type of problem."}, {"owner": {"reputation": 37211, "user_id": 60075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/da582d6fbfa2ae515004ef49fcb7c281?s=128&d=identicon&r=PG", "display_name": "Craig McQueen", "link": "https://stackoverflow.com/users/60075/craig-mcqueen"}, "reply_to_user": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1499902506, "post_id": 45068486, "comment_id": 77111420, "body": "The <code>Proxy</code> is an interesting idea. Two comments: (1) I&#39;d be unsure in usage whether attribute gets/sets are going to the <code>Proxy</code> object or the object contained within it. (2) It looks as though it only works with an object using <code>__slots__</code>, which is an implementation detail of the 3rd party library."}], "tags": [], "owner": {"reputation": 37211, "user_id": 60075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/da582d6fbfa2ae515004ef49fcb7c281?s=128&d=identicon&r=PG", "display_name": "Craig McQueen", "link": "https://stackoverflow.com/users/60075/craig-mcqueen"}, "is_accepted": false, "score": 2, "last_activity_date": 1499898325, "creation_date": 1499898325, "answer_id": 45068486, "question_id": 45068365, "link": "https://stackoverflow.com/questions/45068365/how-do-i-open-up-3rd-party-libraries-slots-based-object-instances-for-at/45068486#45068486", "title": "How do I &quot;open up&quot; 3rd party libraries&#39; __slots__ -based object instances for attribute assignment?", "body": "<p>I would take the result returned from the 3rd party library, and store it in my own container object of some sort (eg class or dictionary) along with the other data I want to store.</p>\n\n<p>This approach would be more explicit, straight-forward, comprehensible, less tricky. Since it's not monkey-patching 3rd party data in a tricky way, it's more likely to avoid mysterious bugs.</p>\n"}], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499898325, "creation_date": 1499897682, "last_edit_date": 1499898159, "question_id": 45068365, "link": "https://stackoverflow.com/questions/45068365/how-do-i-open-up-3rd-party-libraries-slots-based-object-instances-for-at", "title": "How do I &quot;open up&quot; 3rd party libraries&#39; __slots__ -based object instances for attribute assignment?", "body": "<p>Let's say I want to assign new attributes to object instances returned by a 3rd party library that returns instances using slots.  </p>\n\n<p>(For example, setting some values on SQLAlchemy's RowProxy rows for data that you do not intend to write back to the database.)</p>\n\n<p>Because the instance have <code>__slots__</code>, I am going to get an AttributeError or the like.  That's expected, but what's a workaround?</p>\n\n<h1>Desired behavior/constraints</h1>\n\n<ol>\n<li>Consider the 3rd party library is a black box, can't change its return types.  </li>\n<li>Preserve as much of the original instances' behavior as possible (methods, properties, etc...).</li>\n<li>Assigning to attributes in the slots should affect the original instance's attributes.</li>\n</ol>\n\n<p>This is what I came up with, Proxy2 works, but is there something more elegant/simpler?  What are the risks of it breaking?  Will it work on Python 3 (I am on 2.7, but plan to upgrade to 3.x eventually).</p>\n\n<pre><code>class Slotted(object):\n    __slots__ = (\"a\",\"b\")\n\n    def hello(self):\n        print(\"hello %s\" % (self.a))\n\n    def __init__(self, a=\"1\", b=\"2\"):\n        self.a = a\n        self.b = b\n\ndef test_it(f):\n\n    fname = f.__name__\n\n    print(\"\\n\\ntest_it(%s)\" % (fname))\n\n    instances = [Slotted(a=11), Slotted()]\n    try:\n        li_test = [f(obj) for obj in instances]\n    except Exception, e:\n        print(\"%s.failure at instance modification:%s\" % (fname, str(e)[0:100]))\n        return\n\n    for cntr, tgt in enumerate(li_test):\n        try:\n            tgt.cntr = cntr\n            print(\"tgt.cntr:%s\" % (tgt.cntr))\n            #do I still have my function?\n            tgt.hello()\n            tgt.a = 100\n        except Exception, e:\n            print(\"%s.failure:%s\" % (fname, str(e)[0:100]))\n            return\n\n    #test that an attribute assignment to the slots actually went there...\n    for ori in instances:\n        try:\n            assert ori.a == 100\n        except AssertionError:\n            print(\"%s.failure:original instance should have its slot-based attribute set to 100, but is still %s\" % (fname, ori.a))\n            break\n\n    print \"%s.success\" % (fname)\n\nclass Proxy2(object):\n    \"\"\"this works, can it be improved on?\"\"\"\n\n    def __init__(self, obj):\n        self.__dict__[\"_obj\"] = obj\n\n    def __setattr__(self, attrname, value):\n        if attrname in self._obj.__slots__:\n            setattr(self._obj, attrname, value)\n        else:\n            self.__dict__[attrname] = value\n\n    def __getattr__(self, attrname):\n        try:\n            return getattr(self._obj, attrname)\n        except AttributeError:\n            raise\n\n#subclass Slotted\nclass Opener(Slotted):\n    \"\"\"fails w Slotted' object layout differs from 'Opener'\"\"\"\n    pass\n\nclass Opener2(Slotted):\n    \"\"\"fails w Slotted' object layout differs from 'Opener2'\"\"\"\n    __slots__ = Slotted.__slots__ + (\"__dict__\",)\n\n#functions to modify the original instances\ndef proxy_instances(obj):\n    #this works\n    return Proxy2(obj)\n\ndef do_nothing(obj):\n    #fails, normal, this is the baseline slots behavior\n    return obj\n\ndef modify_class(obj):\n    #change the instance's class to a subclass that has a __dict__\n    obj.__class__ = Opener\n\ndef modify_class2(obj):\n    #change the instance's class to a subclass to add __dict__ to the __slots__\n    obj.__class__ = Opener2\n\nfor func in [do_nothing, modify_class, modify_class2, proxy_instances]:\n    test_it(func)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>test_it(do_nothing)\ndo_nothing.failure:'Slotted' object has no attribute 'cntr'\n\n\ntest_it(modify_class)\nmodify_class.failure at instance modification:__class__ assignment: 'Slotted' object layout differs from 'Opener'\n\n\ntest_it(modify_class2)\nmodify_class2.failure at instance modification:__class__ assignment: 'Slotted' object layout differs from 'Opener2'\n\n\ntest_it(proxy_instances)\ntgt.cntr:0\nhello 11\ntgt.cntr:1\nhello 1\nproxy_instances.success\n</code></pre>\n"}, {"tags": ["python", "image", "user-interface", "pygame", "keypoint"], "comments": [{"owner": {"reputation": 658, "user_id": 8250707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7feff0a22c998ee0bc3e18beda3ed8c?s=128&d=identicon&r=PG&f=1", "display_name": "b1ch0u", "link": "https://stackoverflow.com/users/8250707/b1ch0u"}, "edited": false, "score": 0, "creation_date": 1499907048, "post_id": 45068356, "comment_id": 77112545, "body": "Could you precise what exactly you tried for multi-images and why (in what way) it did not work ?"}, {"owner": {"reputation": 1, "user_id": 6338091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105286609379233/picture?type=large", "display_name": "Omeed", "link": "https://stackoverflow.com/users/6338091/omeed"}, "reply_to_user": {"reputation": 658, "user_id": 8250707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7feff0a22c998ee0bc3e18beda3ed8c?s=128&d=identicon&r=PG&f=1", "display_name": "b1ch0u", "link": "https://stackoverflow.com/users/8250707/b1ch0u"}, "edited": false, "score": 0, "creation_date": 1499907811, "post_id": 45068356, "comment_id": 77112691, "body": "I tried to nest the entire &quot;for event in pygame.event.get()&quot; loop inside of a for-loop over a list of images... but became riddled with errors so thought that posting the code wouldnt help. Above code runs fine and its easy to see by executing that you can click left/right and use arrows to move around an image."}], "owner": {"reputation": 1, "user_id": 6338091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105286609379233/picture?type=large", "display_name": "Omeed", "link": "https://stackoverflow.com/users/6338091/omeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 824, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499897635, "creation_date": 1499897635, "question_id": 45068356, "link": "https://stackoverflow.com/questions/45068356/simple-pygame-user-interface", "title": "Simple pygame user interface", "body": "<p>I'm trying to create a script that allows a user to cycle through a directory of images, and for each one mark key points (left click marks the green circle, and right click marks the red one). </p>\n\n<p>FYI the script is to be used to create a labeled database for machine learning. At the end of each loop per image, I'd like to append filename and key point locations to a list that will be pickled and referenced later. </p>\n\n<p>My problem is that I can create this (see below) for a single image, but can't seem to get it to work for a list of images. </p>\n\n<p>Thanks in advance for your support! </p>\n\n<pre><code>### Import Modules \nimport pygame\nimport os\n\n\n### Functions\n\n# Load image\n_image_library = {}\ndef get_image(path):\n    global _image_library\n    image = _image_library.get(path)\n    if image == None:\n        canonicalized_path = path.replace('/', os.sep).replace('\\\\', os.sep)\n        image = pygame.image.load(canonicalized_path)\n        _image_library[path] = image\n    return image\n\n\n##############\n### Script ###\n\npygame.init()\nscreen = pygame.display.set_mode((1200, 700))\ndone = False\nclock = pygame.time.Clock()\n\n## Initializations\n\n# Colors\ncolor_blue = (143,184,222)\ncolor_teal = (68,161,160)\ncolor_red = (200,0,0)\ncolor_grey = (26,47,42)\n\n# Standard initailizations\npoint_confirmed = True\nactive_color = color_teal\nmargin = 5\nkpi_radius = 5\nx, y = 30, -250 #starting location \nfontsize = 36\nfont = 'helvetica' if 'helvetica' in pygame.font.get_fonts() else pygame.font.Font(None, fontsize) # Instantiate system's default font\n\n# Image loop initialization\nactive_text = font.render(\"Image Loaded\", True, color_grey)\nimage_flagged = False\nkpi_primary = (0,0)\nkpi_secondary = (0,0)\n\nimage = get_image('/Users/omeed/Dropbox/Spottr/Scripts/Data/4 AP JPG_1001_0.jpg') \n\nwhile not done:\n\n    for event in pygame.event.get(): # Empties event queue (else OS will think program unresponsive)\n\n        # Non key/mouse inputs\n        if event.type == pygame.QUIT: \n            done = True\n\n        # Key inputs\n        pressed = pygame.key.get_pressed()\n        if pressed[pygame.K_UP]: y -= 100\n        if pressed[pygame.K_DOWN]: y += 100\n        if pressed[pygame.K_LEFT]: x -= 100\n        if pressed[pygame.K_RIGHT]: x += 100\n        if pressed[pygame.K_f]: image_flagged = not image_flagged\n        if pressed[pygame.K_ESCAPE]: done = True \n        if pressed[pygame.K_EQUALS]:  kpi_radius = min(100, kpi_radius + 3)  \n        if pressed[pygame.K_MINUS]: kpi_radius = max(1, kpi_radius - 3) \n        if pressed[pygame.K_SPACE]: point_confirmed = not point_confirmed\n        active_color = color_blue if point_confirmed else color_teal    \n\n        # Mouse inputs\n        clicked = pygame.mouse.get_pressed()\n        if clicked[0]==1: \n            kpi_primary = pygame.mouse.get_pos() # Relative screen location\n            imgpixel_primary = ( kpi_primary[0]-x , kpi_primary[1]-y ) #Image pixel location (column, row)\n        if clicked[2]==1: \n            kpi_secondary = pygame.mouse.get_pos() # Relative screen location\n            imgpixel_secondary = ( kpi_secondary[0]-x , kpi_secondary[1]-y ) #Image pixel location (column, row)\n\n\n        # Blitting and Filling\n        screen.fill((0, 0, 0)) # Reset screen to black before updating with new keypress to move rectangle\n        screen.blit(image, (x, y))\n        pygame.draw.rect(screen, active_color, pygame.Rect(30, 30, 300, fontsize*2))\n        screen.blit(active_text, (35,35) )\n        if kpi_primary != (0,0): \n            pygame.draw.circle(screen, (0,255,0), (imgpixel_primary[0]+x,imgpixel_primary[1]+y), kpi_radius, 1) \n        if kpi_secondary != (0,0): \n            pygame.draw.circle(screen, (255,0,0), (imgpixel_secondary[0]+x,imgpixel_secondary[1]+y), kpi_radius, 1) \n\n        pygame.display.flip() # Required for updates to game screen to become visible\n        clock.tick(60) # Slows program to 60fps by blocking GUI e-xecution until 1/60 of sec passed\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1499897592, "post_id": 45068323, "comment_id": 77109982, "body": "<a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow noreferrer\">docs.python.org/3/library/functions.html#input</a>"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499897675, "post_id": 45068323, "comment_id": 77110014, "body": "try printing the type after you take input, it should clear everything up."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1499897744, "post_id": 45068323, "comment_id": 77110042, "body": "And don&#39;t use type, use <code>isinstance</code> instead. Like in <code>isinstance(something, int)</code> or even better <code>isinstance(something, numbers.Integral)</code>"}, {"owner": {"reputation": 2102, "user_id": 213156, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/675789cae15d319d1fa76ea309bd8d0c?s=128&d=identicon&r=PG", "display_name": "Travis Christian", "link": "https://stackoverflow.com/users/213156/travis-christian"}, "edited": false, "score": 0, "creation_date": 1499897805, "post_id": 45068323, "comment_id": 77110063, "body": "What makes you think x is an integer? Have you tried printing x or properties of x to see what you&#39;re working with?"}], "answers": [{"comments": [{"owner": {"reputation": 4809, "user_id": 7915557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d36b37bf47edc3bf62574d8ab88870f9?s=128&d=identicon&r=PG&f=1", "display_name": "OLIVER.KOO", "link": "https://stackoverflow.com/users/7915557/oliver-koo"}, "edited": false, "score": 1, "creation_date": 1499897905, "post_id": 45068376, "comment_id": 77110104, "body": "if convert the input to an int. then there is not need to check if <code>type(any)==type(0)</code> in the function <code>integer_type</code>"}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "edited": false, "score": 2, "creation_date": 1499897979, "post_id": 45068376, "comment_id": 77110129, "body": "This won&#39;t do what the OP wants: if you enter something else than an integer, it will raise an exception and the <code>integer_type</code> function will never be called."}], "tags": [], "owner": {"reputation": 8012, "user_id": 912829, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8155348e86202fd2f553332dde3b2fcf?s=128&d=identicon&r=PG&f=1", "display_name": "ACV", "link": "https://stackoverflow.com/users/912829/acv"}, "is_accepted": false, "score": 1, "last_activity_date": 1499897738, "creation_date": 1499897738, "answer_id": 45068376, "question_id": 45068323, "link": "https://stackoverflow.com/questions/45068323/how-to-test-if-a-value-of-any-type-can-represent-an-integer/45068376#45068376", "title": "How to test if a value of any type can represent an integer", "body": "<p>I think you should convert the input to an int before comparing:</p>\n\n<p><code>print(integer_type(int(x)))</code></p>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 6625769, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a8f8c3eb6b9130fd1c8c103e3c868e0f?s=128&d=identicon&r=PG&f=1", "display_name": "Nadni", "link": "https://stackoverflow.com/users/6625769/nadni"}, "is_accepted": true, "score": 1, "last_activity_date": 1499898480, "creation_date": 1499898480, "answer_id": 45068521, "question_id": 45068323, "link": "https://stackoverflow.com/questions/45068323/how-to-test-if-a-value-of-any-type-can-represent-an-integer/45068521#45068521", "title": "How to test if a value of any type can represent an integer", "body": "<p>Your function is correct and does exactly what you want it to do, the problem here is that <code>input()</code> always returns a string, so when you pass its output to <code>integer_type()</code> it sees that it's a string and returns <code>Not an integer</code>.\nTo see this, try using this code:</p>\n\n<pre><code>def integer_type(som):\nif type(som)==type(0):\n    if som%2==0:\n        return \"Even integer\"\n    else:\n        return \"Odd integer\"\nelse:\n    return \"Not an integer\"\nx= 'integer?'\ny = 5\nz = 4\nprint(integer_type(x))\nprint(integer_type(y))\nprint(integer_type(z))\n</code></pre>\n\n<p>It will print exactly what you want:</p>\n\n<pre><code>Not an integer\nOdd integer\nEven integer\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 8298611, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Ow9hW.jpg?s=128&g=1", "display_name": "Alex Barbulescu", "link": "https://stackoverflow.com/users/8298611/alex-barbulescu"}, "edited": false, "score": 0, "creation_date": 1499930420, "post_id": 45068582, "comment_id": 77120315, "body": "Thank you I now grasp why these functions aren&#39;t working, your solution is a little bit beyond my understanding right now but i&#39;ll try to learn those skills. If floats accepts integers, floats and integers why does making the input a float, x=(float(input()) not work?"}, {"owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "reply_to_user": {"reputation": 301, "user_id": 8298611, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Ow9hW.jpg?s=128&g=1", "display_name": "Alex Barbulescu", "link": "https://stackoverflow.com/users/8298611/alex-barbulescu"}, "edited": false, "score": 0, "creation_date": 1499930840, "post_id": 45068582, "comment_id": 77120618, "body": "Well, sorry for the complication ;-) I started much more simple, added a few test cases and saw that they didn&#39;t pass, that&#39;s the simplest complete solution I could find... <code>x=(float(input())</code> will raise an error if you input a string like &quot;abc&quot;, as it can&#39;t be a valid <code>float</code>, and your function wouldn&#39;t get called. We must try the conversion <i>in the function</i> to treat the error as we want."}], "tags": [], "owner": {"reputation": 21232, "user_id": 550094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7CAou.jpg?s=128&g=1", "display_name": "Thierry Lathuille", "link": "https://stackoverflow.com/users/550094/thierry-lathuille"}, "is_accepted": false, "score": 1, "last_activity_date": 1499901673, "last_edit_date": 1499901673, "creation_date": 1499898799, "answer_id": 45068582, "question_id": 45068323, "link": "https://stackoverflow.com/questions/45068323/how-to-test-if-a-value-of-any-type-can-represent-an-integer/45068582#45068582", "title": "How to test if a value of any type can represent an integer", "body": "<p>I'll suppose that you're using Python 3. </p>\n\n<p><code>input</code> always returns a string. What you first want to test is if this string can represent a valid integer.</p>\n\n<p>You can simply try to convert it, and you will know that it is invalid if an errors occurs (a <code>ValueError</code>, in this case).</p>\n\n<p>If we want the function to accept any type of input, including floats and strings like \"3.00\", or any object, things get a bit more complicated. You could rewrite your function like this:</p>\n\n<pre><code>def integer_type(value):\n    # int(\"3.00\") would raise a ValueError, though 3 is an odd integer.\n    # We start by converting our input value to a float. \n    # float(value) will accept integers, floats or strings,\n    # it will raise a TypeError for None or other invalid types.\n    try:\n        value = float(value)\n    except (ValueError, TypeError):\n        # If it isn't a float, it's definitely not an integer\n        return \"Not an integer\"\n\n    # Now we check that our float is an integer:\n    if not value.is_integer():\n        return \"Not an integer\"\n\n    if value % 2 == 0:\n        return \"Even integer\"\n    else:\n        return \"Odd integer\"\n</code></pre>\n\n<p>The input of the function can be a string, an integer, a float, or whatever. Whether it can be converted to a valid integer or not, it will always give the expected result:</p>\n\n<pre><code>print(integer_type(3))\nprint(integer_type(\"3\"))\n# Odd integer\n# Odd integer\nprint(integer_type(3.1))\nprint(integer_type(\"3.1\"))\n# Not an integer\n# Not an integer\nprint(integer_type(3.00))\nprint(integer_type(\"3.00\"))\n# Odd integer\n# Odd integer\nprint(integer_type(-4.00))\nprint(integer_type(\"-4.00\"))\n# Even integer\n# Even integer\nprint(integer_type(\"abc\"))\n# Not an integer\nprint(integer_type(None))\n# Not an integer\n</code></pre>\n\n<p>If you're using Python 2, replace <code>input</code> by <code>raw_input</code>.</p>\n"}], "owner": {"reputation": 301, "user_id": 8298611, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Ow9hW.jpg?s=128&g=1", "display_name": "Alex Barbulescu", "link": "https://stackoverflow.com/users/8298611/alex-barbulescu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 45068521, "answer_count": 3, "score": -2, "last_activity_date": 1499901886, "creation_date": 1499897461, "last_edit_date": 1499901886, "question_id": 45068323, "link": "https://stackoverflow.com/questions/45068323/how-to-test-if-a-value-of-any-type-can-represent-an-integer", "title": "How to test if a value of any type can represent an integer", "body": "<blockquote>\n  <p>Write a function integer_type that consumes a value of any type and produces \"Even integer\" if it is an even integer, \"Odd integer\" if it is an odd integer, and \"Not an integer\" otherwise.</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>def integer_type(som):\n    if type(som)==type(0):\n        if som%2==0:\n        return \"Even integer\"\n        else:\n        return \"Odd integer\"\n    else:\n        return \"Not an integer\"\nx= input()\nprint(integer_type(x))\n</code></pre>\n\n<p>Everytime I run it, it prints \"Not an integer\" whatever the value I enter.</p>\n\n<p>I tried a different problem with elifs instead and it made no difference. I still obtain the very last \"else\" return for my print.</p>\n\n<blockquote>\n  <p>Write a function off_peak that consumes any type of data and determines if the time is eligible for off peak rates. Your function should produce one of the following outputs: \"Off peak\", \"Peak\", and \"Not a time\". Off-peak rates are based on 24-hour time, for values less than 9 or greater than 17.</p>\n</blockquote>\n\n<pre><code>def off_peak(any):\n    if type(any)==type(0) and any&lt;9 and any&gt;17:\n        return \"Off peak\"\n    elif type(any)==type(0) and 9&lt;any&lt;17 and 0&lt;any&lt;23:\n        return \"Peak\"\n    else:\n        return \"Not a time\"\n\nx= input(\"Peak Dector:\")\nprint(off_peak(x))\n</code></pre>\n\n<p>any help would be greatly appreciated</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499897485, "post_id": 45068312, "comment_id": 77109944, "body": "Hey, Welcome to SO. Could you edit the formatting of your post please? It&#39;s hard to read when it&#39;s all just plain text."}, {"owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "edited": false, "score": 0, "creation_date": 1499897613, "post_id": 45068312, "comment_id": 77109994, "body": "Just edited the post!"}, {"owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "edited": false, "score": 0, "creation_date": 1499898560, "post_id": 45068312, "comment_id": 77110302, "body": "I try to avoid regex most of the time since it&#39;s not readable. Using the string functions especially split and join I can usually parse strings with no problems and it&#39;s much easier than regex."}, {"owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499898869, "post_id": 45068312, "comment_id": 77110399, "body": "thx Sriram for editing the post :)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499899636, "post_id": 45068392, "comment_id": 77110643, "body": "@COLDSPEED  thx  you for your suggestion. the problem with using re.finall is it returns a list inside a group. what I would like to do is something more like this  &#39; match = re.compile(REGEX).match(fname)&#39; &#39;baseName, dept, version, frameNum, fileType = match.groups()&#39; &#39;match.groups()&#39;"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499899661, "post_id": 45068392, "comment_id": 77110653, "body": "@laplant76 Edited."}, {"owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499899974, "post_id": 45068392, "comment_id": 77110744, "body": "@COLDSPEED  thx  you for your suggestion. the problem with using re.finall is it returns a list inside a group. what I would like to do is something more like this  &#39; match = re.compile(REGEX).match(fname)&#39; &#39;baseName, dept, version, frameNum, fileType = match.groups()&#39; &#39;match.groups()&#39;  returns  &#39;(&#39;Sq030ION_S010&#39;, &#39;Lighting&#39;, &#39;v002.&#39;, &#39;0101&#39;, &#39;.exr&#39;)&#39;  where  &#39;print baseName&#39;  returns  &#39;Sq030ION_S010&#39;"}, {"owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499900044, "post_id": 45068392, "comment_id": 77110768, "body": "also. again, my apologies. not sure how to format my posts so they are more readable"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499900328, "post_id": 45068392, "comment_id": 77110850, "body": "@laplant76 When you have a working solution, massaging it to fit your specifics really isn&#39;t all that hard. You should try to figure out how to do these things yourself than declare the solution useless. ;) Anyway, look at my edit."}, {"owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "edited": false, "score": 0, "creation_date": 1499902528, "post_id": 45068392, "comment_id": 77111428, "body": "@COLDSPEED Thx you again. And my apologies. I was not suggesting your solution was useless. I apologize if it came across that way. I in no way want to insult, or dismiss anyone&#39;s  help and/or suggestions. I do appreciate your input, and welcome your suggestions. thx you again :)"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 0, "last_activity_date": 1499900285, "last_edit_date": 1499900285, "creation_date": 1499897832, "answer_id": 45068392, "question_id": 45068312, "link": "https://stackoverflow.com/questions/45068312/regex-re-compile-a-string-into-a-group-in-python/45068392#45068392", "title": "REGEX re.compile a string into a group in python", "body": "<p>I believe this is what you're looking for:</p>\n\n<pre><code>In [208]: text = 'Sq123ABCd_A010_Department_v01.0101.exr'\n\nIn [231]: baseName, dept, version, frameNum, fileType = re.findall(r'(.*?_.*?)_(.*)_(.*?\\.)(.*?)(\\..*)', text)[0]\n\nIn [232]: baseName, dept, version, frameNum, fileType\nOut[232]: ('Sq123ABCd_A010', 'Department', 'v01.', '0101', '.exr')\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8298581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc8eece0dbe414095856d29df96f97f?s=128&d=identicon&r=PG&f=1", "display_name": "laplant76", "link": "https://stackoverflow.com/users/8298581/laplant76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1319, "favorite_count": 0, "accepted_answer_id": 45068392, "answer_count": 1, "score": 0, "last_activity_date": 1499900285, "creation_date": 1499897413, "last_edit_date": 1499899023, "question_id": 45068312, "link": "https://stackoverflow.com/questions/45068312/regex-re-compile-a-string-into-a-group-in-python", "title": "REGEX re.compile a string into a group in python", "body": "<p>I'm trying to parse a string using<code>re.compile</code>. </p>\n\n<p>The string in question is formatted as such:</p>\n\n<pre><code>\"Sq123ABCd_A010_Department_v01.0101.exr\"\n</code></pre>\n\n<p>using re.compile I'd like to return this </p>\n\n<pre><code>('Sq123ABCd_A010','_Department_','v01.','0101','.exr'')\n</code></pre>\n\n<p>I have this so far:</p>\n\n<pre><code>match = re.compile('^(.*?)(\\S)(\\d+)\\.(.*?)$').match(fname)\nmatch.group()\n</code></pre>\n\n<p>which returns:</p>\n\n<pre><code>('Sq030ION_S010_Lighting_', 'v', '002', '0101.exr')\n</code></pre>\n"}, {"tags": ["python", "mysql", "database", "mysql-workbench"], "comments": [{"owner": {"reputation": 3329, "user_id": 2070111, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/WG0vD.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2070111/nick"}, "edited": false, "score": 0, "creation_date": 1499898282, "post_id": 45068309, "comment_id": 77110216, "body": "It looks like it is using the first row of data values as column headers. Try putting a row of genuine column names in as the first row. The error could well arise from the blank column name or one with numerical values."}, {"owner": {"reputation": 3, "user_id": 5410781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92df0fe80d075234f68eb87806662f84?s=128&d=identicon&r=PG&f=1", "display_name": "simpresands", "link": "https://stackoverflow.com/users/5410781/simpresands"}, "reply_to_user": {"reputation": 3329, "user_id": 2070111, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/WG0vD.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2070111/nick"}, "edited": false, "score": 0, "creation_date": 1499898446, "post_id": 45068309, "comment_id": 77110258, "body": "Thanks Nick.  The file is too large to open in excel, ect.  Do you know how I can add those values to the .txt file or have a different solution to get them in?"}, {"owner": {"reputation": 3329, "user_id": 2070111, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/WG0vD.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2070111/nick"}, "edited": false, "score": 0, "creation_date": 1499898601, "post_id": 45068309, "comment_id": 77110315, "body": "Create a one line file (file1) with the column names (remembering to use the tilda delimiters). I haven&#39;t used Windows for a long time, but I think you can concatenate using the copy command: copy file1+file2 file3 will give you what you need."}], "owner": {"reputation": 3, "user_id": 5410781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92df0fe80d075234f68eb87806662f84?s=128&d=identicon&r=PG&f=1", "display_name": "simpresands", "link": "https://stackoverflow.com/users/5410781/simpresands"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541543772, "creation_date": 1499897408, "last_edit_date": 1499899632, "question_id": 45068309, "link": "https://stackoverflow.com/questions/45068309/mysql-error-importing-from-text-tilda-delimited-file", "title": "MYSQL Error Importing From Text Tilda Delimited File", "body": "<p>I am trying to import a very large file (over 1.5 million entries). The file came to me as a text file and appears to be tilda delimited (small example below). The file does not have column headers.</p>\n\n<p>I converted the text file to .csv through \"save as\" in notebook with encoding UT-8.</p>\n\n<p>I select \"create new table\" and when I import the file, it shows sample columns that appear as wanted (image below).</p>\n\n<p>I do not have column headers.</p>\n\n<p>All looks good and then I get the following error: </p>\n\n<p>Import data file:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.3 CE\\workbench\\wizard_progress_page_widget.py\", line 192, in thread_work\n    self.func()\n  File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.3 CE\\modules\\sqlide_power_import_wizard.py\", line 125, in start_import\n    retval = self.module.start(self.stop)\n  File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.3 CE\\modules\\sqlide_power_import_export_be.py\", line 271, in start\n    ret = self.start_import()\n  File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.3 CE\\modules\\sqlide_power_import_export_be.py\", line 408, in start_import\n    if not self.prepare_new_table():\n  File \"C:\\Program Files\\MySQL\\MySQL Workbench 6.3 CE\\modules\\sqlide_power_import_export_be.py\", line 237, in prepare_new_table\n    self._editor.executeManagementCommand(\"\"\" CREATE TABLE %s (%s)\"\"\" % (self._table_w_prefix, \", \".join([\"`%s` %s\" % (col['name'], col[\"type\"]) for col in self._mapping])), 1)\nDBError: (\"Incorrect column name ''\", 1166)\nERROR: Import data file: (\"Incorrect column name ''\", 1166)\nFailed\n</code></pre>\n\n<p>Does anyone have a solution?</p>\n\n<p><img src=\"https://i.stack.imgur.com/XTHmB.png\" alt=\"enter image description here\"></p>\n\n<p>SAMPLE DATA: </p>\n\n<pre><code>A~C~313869~ASPHALT PRODUCERS LLC~~130446776~US~06~1721 DAN AVE~JONESBORO~031~AR~72401-8925~~8709321306~~8709321554~US~P O BOX 1492~JONESBORO~031~AR~72403~~05~L~MC~255949~~~~~CA~~A~~~~~~3~X~~~~~~X~~X~~X~~~~~~~~~~~~~~~~~X~~X~UNSPECIFIED~Y~8~9~13~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~17~0~17~G~0~1~1~14~0~14~0~15~12~C~648127~20080723~0~0~200000~~C~20080925~~~0~20100226~MCMIS_PUBLIC~109~2~~2013~19880421~20160331~~0~~20170614~LS034LF~~20160331~3~jasonmixon@asphaltproducers.com~N~~JOHN BROADAWAY~\nA~C~148428~P R MASON &amp; SON LLC~~~US~04~HWY 70 EAST~WILLISTON~031~NC~28589~~9197293521~9197385430~9196584219~US~P O  BOX 769~WILLISTON~031~NC~28589~~37~E~MC~444916~~~~~A~~A~~~~~~1~X~~~~~~~~~X~~~~~~~~~~~~~X~~~~~~~~~N~0~1~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~1~0~1~A~0~1~1~0~0~0~0~1~1~S~62760~19890531~~~43978~200000~C~19890622~~~~~COMPASS0000316554~109~2~~2015~19740601~20161209~~0~~20170614~LS140NC~~20161206~1~~N~~PHILLIP R MASON~CAROL MASON\nA~C~811869~BERGERON WATSON~WATSON EXPRESS~~US~04~2519 LASSITER RD~FORSYTH~207~GA~31029~~7707754324~~4043714549~US~PO BOX 5857~FORSYTH~207~GA~31029~~13~I~MC~947962~~~~~A~~A~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~X~AIR FREIGHT~N~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~1~0~1~A~0~1~1~0~~0~0~1~0~~~~~~40000~~~~~~0~20101211~MCMIS_PUBLIC~2~2~~2014~19990524~20151229~~0~~20170614~LS31AT1~~20151229~3~cynthia@tbsokc.com~N~~BERGERON WATSON~\nA~C~844689~WILLIAM &amp; SHARON KOPKA~KOPKA EXCAVATING~~US~04~1102 SAN JOSE BLVD~HOLLY HILL~127~FL~32117~~3862522865~~3862536370~US~1102 SAN JOSE BLVD~HOLLY HILL~127~FL~32117~~12~D~~~~~~~C~~~~C~~~~~~~~~~~~~X~~~~~~~~~~X~~~~~~~~~~~~~N~0~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~1~0~1~A~0~0~0~1~0~1~0~1~1~~~~~~6000~0~~~~~~~~41~~~1998~19991215~20010314~~0~~20170614~LS91AT1~~~3~~~~~\nA~C~687577~JGM CLEANING LLC~~~US~06~1585 VZ CR 1224~GRAND SALINE~467~TX~75140~~9039623538~~9039627862~US~1585 VZ CR 1224~GRAND SALINE~467~TX~75140~~48~D~MC~942225~~~~~A~~A~~~~~~~~~~~~~~~X~~~~~~~~~~~~~~~~~~~~~~~N~3~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~4~0~4~C~0~10~10~0~0~0~0~10~4~~~~~~200000~~~~~~~~MCMIS_PUBLIC~2~2~~2015~19970430~20161216~~0~~20170614~LS71AA1~~20161216~1~jody.mayne@jgmcleaningllc.com~N~~JODY GLENN MAYNE~JOANIE DENISE MAYNE\nA~C~820673~DANS CONSTRUCTION AND EXCAVATION INC~~~US~05~7929 CTY HWY Q~CHIPPEWA FALLS~017~WI~54729~~7157261262~8479806718~7157261262~US~7929 CTY HWY Q~CHIPPEWA FALLS~017~WI~54729~~55~F~~~~~~~C~~A~~~~~~1~~~~~~X~X~~X~~~~~~~~~~~~~~~~~~~~~X~SAND, GRAVEL~N~3~0~3~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~3~0~3~B~0~0~0~0~2~2~0~2~2~~~~~~1~~~~~~0~20160427~MCMIS_PUBLIC~106~2~~2015~19990726~20170215~~0~~20170614~LS078WI~~20170215~2~dansmaint@gmail.com~N~~DAN OLSON~\nA~C~312095~SOUTHARDS &amp; WELCH CONSTRUCTION~~~US~04~41 QUEEN STREET~MOUNTAIN CITY~241~GA~30562~~7067822119~~~US~P O BOX 450~MOUNTAIN CITY~241~GA~30562~~13~I~~~~~~~C~~A~~~~~~3~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~X~GRAVEL~N~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~1~0~1~A~0~0~0~1~0~1~0~1~1~~~~~~470~~~~~~0~20150716~MCMIS_PUBLIC~109~2~~2016~19880329~20170531~~0~~20170614~LS127MW~~20170531~1~welch1121@hotmail.com~N~~FARON WELCH~\nA~C~570772~CORPORATE BANK TRANSIT OF KENTUCKY INC~CORPORATE TRANSIT OF AMERICA~~US~04~3157 HIGHWAY 64 SUITE 100~EADS~157~TN~38028~~9014659917~~9014655819~US~ONE EAST LIVINGSTON AVENUE~COLUMBUS~049~OH~43215~~47~L~MC~278602~~~~~A~~A~~~~~~3~X~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~N~1~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~0~1~0~1~A~~1~1~~~0~0~1~0~~~~~~10000~~~~~~0~20150414~MCMIS_PUBLIC~29~2~~2015~19940802~20160125~~0~~20170614~LS64BB964~~20160125~2~mhilliard@corporatebanktransit.com~N~~MILES E HILLIARD III~\n</code></pre>\n"}, {"tags": ["python", "opencv", "image-recognition"], "answers": [{"tags": [], "owner": {"reputation": 1175, "user_id": 3665098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/EtI5T.png?s=128&g=1", "display_name": "SIGSEGV", "link": "https://stackoverflow.com/users/3665098/sigsegv"}, "is_accepted": false, "score": 0, "last_activity_date": 1499942529, "creation_date": 1499942529, "answer_id": 45078322, "question_id": 45068249, "link": "https://stackoverflow.com/questions/45068249/python-opencv-single-letter-recognition/45078322#45078322", "title": "Python OpenCV single letter recognition", "body": "<p>You can tell tesseract, that you expect, that there will be only a single character in the image. Check out the <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/Command-Line-Usage\" rel=\"nofollow noreferrer\">docs</a> and look for psm and oem mode. </p>\n\n<p>The <a href=\"https://github.com/madmaze/pytesseract/blob/master/src/pytesseract.py#L94\" rel=\"nofollow noreferrer\">definition</a> of image_to_string states that you can pass commandline options to it. </p>\n\n<p>Your config string should look like this  </p>\n\n<pre><code>'--tessdata-dir \"/home/rvq/github/tesseract/tessdata/\" --psm 10  --oem 2 '\n</code></pre>\n\n<hr>\n\n<p>I implemented a quick minimal test and it worked very well.</p>\n\n<p><strong>code:</strong></p>\n\n<pre><code>import cv2\nimport numpy as np\nimport pytesseract\nfrom PIL import Image\n\n\ndef work(image):\n    lastresult = ''\n    image = cv2.imread(image)\n\n    img = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n\n    kernel = np.ones((1, 1), np.uint8)\n    img = cv2.dilate(img, kernel, iterations=1)\n    img = cv2.erode(img, kernel, iterations=1)\n    tessdata_dir_config = '--tessdata-dir \"/home/rvq/github/tesseract/tessdata/\" --psm 10  --oem 2 '\n    arr = Image.fromarray(img)\n    result = pytesseract.image_to_string(arr, config = tessdata_dir_config)\n    print(result)\n\nwork('./00001.png')\n</code></pre>\n\n<hr>\n\n<p><strong>Image 00001.png:</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/pI5yC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pI5yC.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>result on commandline: 0</p>\n"}], "owner": {"reputation": 127, "user_id": 5497867, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2aa6ab2be2a315754c52079ad17eb97f?s=128&d=identicon&r=PG&f=1", "display_name": "marcos", "link": "https://stackoverflow.com/users/5497867/marcos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2806, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499942529, "creation_date": 1499897097, "question_id": 45068249, "link": "https://stackoverflow.com/questions/45068249/python-opencv-single-letter-recognition", "title": "Python OpenCV single letter recognition", "body": "<p>I'm trying with OpenCV to recognize a single letter using the webcam.\nOnly with two letters or more is working.\nThere is any chance to OpenCV support single letter recognition?</p>\n\n<pre><code>import cv2\nimport numpy as np\nimport pytesseract\nimport threading\nfrom PIL import Image\n\nclass EyeWatcher:\n\n    #(...)\n\n    def work(self, words, callback):\n        lastresult = ''\n        cap = cv2.VideoCapture(0)\n\n        self.__class__.isOpened = cap.isOpened()\n\n        while(self.__class__.isOpened):\n            ret, capimg = cap.read()\n\n            img = cv2.cvtColor(capimg, cv2.COLOR_BGR2GRAY)\n\n            kernel = np.ones((1, 1), np.uint8)\n            img = cv2.dilate(img, kernel, iterations=1)\n            img = cv2.erode(img, kernel, iterations=1)\n\n            arr = Image.fromarray(img)\n            result = pytesseract.image_to_string(arr)\n\n            if result and lastresult != result:\n                if not words or any(result in s for s in words):\n                    lastresult = result\n                    callback(result)\n\n        cap.release()\n</code></pre>\n\n<p>The call:</p>\n\n<pre><code>import eyewatcher\n\ndef hunted(r):    \n    if r == 'H':\n        print(\"Hi\")\n    # (...)\n    else:\n        print(\"nothing to do with you...\")\n\neyewatcher.EyeWatcher.open(['A5', 'A4', 'H', 'S', 'U'], hunted)\n#(...)\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "string", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1499896699, "post_id": 45068133, "comment_id": 77109632, "body": "<code>word.count(find)</code>..."}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "edited": false, "score": 4, "creation_date": 1499896740, "post_id": 45068133, "comment_id": 77109645, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42765930/better-way-in-python-to-count-string-in-another-string\">Better way in Python to count string in another string</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2714017, "user_type": "registered", "profile_image": "https://graph.facebook.com/1317562633/picture?type=large", "display_name": "Sebastian A. Steins", "link": "https://stackoverflow.com/users/2714017/sebastian-a-steins"}, "is_accepted": false, "score": 0, "last_activity_date": 1499896734, "creation_date": 1499896734, "answer_id": 45068184, "question_id": 45068133, "link": "https://stackoverflow.com/questions/45068133/find-the-number-of-times-a-word-occurs-in-a-string/45068184#45068184", "title": "Find the number of times a word occurs in a string", "body": "<p>Python has a built-in function for this: <a href=\"https://docs.python.org/3/library/stdtypes.html#str.count\" rel=\"nofollow noreferrer\">count</a></p>\n\n<pre><code>print(\"Number of times it occurs is: \", word.count(find)) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5434007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c9180b6bc8fab4a4da96cf090b45f4?s=128&d=identicon&r=PG&f=1", "display_name": "Augie Doebling", "link": "https://stackoverflow.com/users/5434007/augie-doebling"}, "is_accepted": false, "score": 1, "last_activity_date": 1499897137, "creation_date": 1499897137, "answer_id": 45068258, "question_id": 45068133, "link": "https://stackoverflow.com/questions/45068133/find-the-number-of-times-a-word-occurs-in-a-string/45068258#45068258", "title": "Find the number of times a word occurs in a string", "body": "<p>Your problem here is that it thinks 'he' in the word 'there' is the beginning of hello and counts towards count. </p>\n"}, {"tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": true, "score": 1, "last_activity_date": 1499900012, "creation_date": 1499900012, "answer_id": 45068751, "question_id": 45068133, "link": "https://stackoverflow.com/questions/45068133/find-the-number-of-times-a-word-occurs-in-a-string/45068751#45068751", "title": "Find the number of times a word occurs in a string", "body": "<p>The other answers recommend the string.count function, and that is how an experienced Python programmer with knowledge of the standard library would do it.  If I look at your approach, however, I see logic errors.</p>\n\n<p>Your main loop has an off-by-one error.  The function <code>range(0, n)</code> iterates from 0 to n-1.  In the string 'hellotherehello' this will end the iteration one character before you get to the second occurrence of hello.  What you want is:</p>\n\n<pre><code>for x in range(0, len(word)-len(find) + 1):\n</code></pre>\n\n<p>You are trying to use the variable <code>count</code> for two different purposes: to count the number of successful matches, and to count characters one by one as you search for a match.  When you've already found one match and you begin to look for a second one, your <code>count</code> variable holds the value 1; until you find the first match it's 0.  Much better is to test the characters one at a time for FAILURE rather than SUCCESS, and use Python's <code>for:else:</code> construct.  Inside the loop you will have this:</p>\n\n<pre><code>if word[x] == find[0]:\n    for i in range(0, len(find)):\n        if word[x+i] != find[i]:\n            break\n    else:\n        count += 1\n</code></pre>\n\n<p>Good luck with learning Python.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14319210, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg2zyWluTwgQI_lGCtWr-BHXtc8U5vV3q_MuPeRgw=k-s128", "display_name": "emmanuel sunday", "link": "https://stackoverflow.com/users/14319210/emmanuel-sunday"}, "is_accepted": false, "score": 0, "last_activity_date": 1612195761, "last_edit_date": 1612195761, "creation_date": 1612195481, "answer_id": 65996021, "question_id": 45068133, "link": "https://stackoverflow.com/questions/45068133/find-the-number-of-times-a-word-occurs-in-a-string/65996021#65996021", "title": "Find the number of times a word occurs in a string", "body": "<p>A good answer to your question is to use a nested for loop but you word is One word i.e <code>hellohellothere</code>, JavaScript sees it as one word ,but if it\u2019s written like this <code>hello hello there</code> or <code>hello there hello</code> have a solution for you</p>\n<pre><code>Let words = \u201chello there hello\u2019;\nLet arrayWords = words.split(\u201c \u201d);\nLet countWords = \u201c\u201d;\n\nFor(let i = 0; i &lt; arrayWords.length; i++){\n          Let count = 0;\n    For(let j = 0; j &lt; arrayWords.length; j++){\n           If(arrayWords[i] === arrayWords[j]){\n                count ++;\n             countWords = arrayWords[i]\n      }\n   }\n Console.log(~${countWords} appeared ${count} time;\n }\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4283061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/448b3862a6c74c96a6bcccf32a88a286?s=128&d=identicon&r=PG&f=1", "display_name": "user135688", "link": "https://stackoverflow.com/users/4283061/user135688"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3912, "favorite_count": 0, "accepted_answer_id": 45068751, "answer_count": 4, "score": -5, "last_activity_date": 1612195761, "creation_date": 1499896495, "last_edit_date": 1499896769, "question_id": 45068133, "link": "https://stackoverflow.com/questions/45068133/find-the-number-of-times-a-word-occurs-in-a-string", "title": "Find the number of times a word occurs in a string", "body": "<p>So for example if I want to know the number of times hello occurs in this word: <code>hellohellothere</code>, my code will give me <code>2</code> which is correct. But if I were to have <code>hellotherehello</code>, my code does not give me <code>2</code>, which means I think there is something wrong with my second for loop.</p>\n\n<p>My code counts the number of letters in the string, and then I divide it by the length of the string to give how many times the string actually occurs, I don't think that really is the problem though. </p>\n\n<p>here is the code. </p>\n\n<pre><code>word = input(\"Enter a word: \")\nfind = input(\"Enter string to find\")\ncount = int(0)\n\nfor x in range(0, len(word)-len(find)):\n    if word[x] == find[0]:\n        for i in range(0, len(find)):\n            if word[x+i] == find[i]:\n                count += 1\n            else:  break\n\n    count = count/len(find)\n\n    print(\"Number of times it occurs is: \", count) \n</code></pre>\n"}, {"tags": ["python", "kivy", "pyinstaller"], "comments": [{"owner": {"reputation": 2459, "user_id": 1300209, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2207c66702bdf349df23b418816b3e52?s=128&d=identicon&r=PG", "display_name": "Ruediger Jungbeck", "link": "https://stackoverflow.com/users/1300209/ruediger-jungbeck"}, "edited": false, "score": 1, "creation_date": 1500448709, "post_id": 45068125, "comment_id": 77334817, "body": "I had the same problem and opened an Kivy issue  on github. (<a href=\"https://github.com/kivy/kivy/issues/5276\" rel=\"nofollow noreferrer\">github.com/kivy/kivy/issues/5276</a>) Seems someone has found a solution there (I didn&#39;t have time to test so far)."}], "answers": [{"tags": [], "owner": {"reputation": 2337, "user_id": 8399399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab615d520e7a74d4faf66f663ce66ec0?s=128&d=identicon&r=PG&f=1", "display_name": "SP SP", "link": "https://stackoverflow.com/users/8399399/sp-sp"}, "is_accepted": false, "score": 0, "last_activity_date": 1508147925, "creation_date": 1508147925, "answer_id": 46767579, "question_id": 45068125, "link": "https://stackoverflow.com/questions/45068125/recycleview-causing-kivy-executable-to-crash/46767579#46767579", "title": "RecycleView causing Kivy executable to crash", "body": "<p>install a recent version of cython, notice that for a version of cython there is a corresponding version of kivy. To implement RecycleView, the version of kivy in your \"package apk\" not your computer must be at least 1.10 </p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5239856, "user_type": "registered", "profile_image": "https://graph.facebook.com/1436696749976601/picture?type=large", "display_name": "Daliang LYU", "link": "https://stackoverflow.com/users/5239856/daliang-lyu"}, "is_accepted": false, "score": 0, "last_activity_date": 1615858760, "creation_date": 1615858760, "answer_id": 66647972, "question_id": 45068125, "link": "https://stackoverflow.com/questions/45068125/recycleview-causing-kivy-executable-to-crash/66647972#66647972", "title": "RecycleView causing Kivy executable to crash", "body": "<p>I ran across the same problem with <code>PyInstaller</code> on <code>Windows 7</code>. I appied a quick fix to <code>factory_registers.py</code> and it worked! (<a href=\"https://github.com/kivy/kivy/issues/5276\" rel=\"nofollow noreferrer\">https://github.com/kivy/kivy/issues/5276</a>)</p>\n<blockquote>\n<p>A quick fix for the issue with pyinstaller is to change e.g. r('RecycleViewBehavior', module='kivy.uix.recycleview.init') to r('RecycleViewBehavior', module='kivy.uix.recycleview').</p>\n</blockquote>\n<p>PS <code>factory_registers.py</code> also has <code>r('RecycleView', module='kivy.uix.recycleview.__init__')</code>, I didn't touch it.</p>\n"}], "owner": {"reputation": 31, "user_id": 8298485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dba47c307e0d69fbeaf0838370736cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Wende", "link": "https://stackoverflow.com/users/8298485/alex-wende"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1615858760, "creation_date": 1499896450, "question_id": 45068125, "link": "https://stackoverflow.com/questions/45068125/recycleview-causing-kivy-executable-to-crash", "title": "RecycleView causing Kivy executable to crash", "body": "<p>I followed the <a href=\"https://kivy.org/docs/guide/packaging-windows.html#alternate-installations\" rel=\"nofollow noreferrer\">directions in the Kivy documentation</a> on how to package applications for Windows, but my application crashes as soon as I try to run it. The last line of the traceback suggests a problem with my RecycleView widget:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>   File \"C:\\Users\\awende\\AppData\\Local\\Continuum\\Anaconda3\\lib\\site-packages\\kivy\\factory.py\", line 139, in __getattr__\n     module = __import__(name=item['module'], fromlist='.')\n ModuleNotFoundError: No module named 'kivy.uix.recycleview.__init__.'\nFailed to execute script SingleTabApp\n</code></pre>\n\n<p>I have tried importing kivy.uix.recycleview in all my .py and .kv files that it wasn't already imported in, but this doesn't seem to be the problem. I am not sure if this is a problem with my code, or if something else is going on.</p>\n\n<p>Other potentially relevant information:</p>\n\n<ul>\n<li>I am using Python 3.6.1 with the current dev version of PyInstaller.</li>\n<li>Kivy version 1.10.0</li>\n<li><em>SingleTabApp</em> is the name of my main Python script, and was working correctly prior to using PyInstaller.</li>\n</ul>\n"}, {"tags": ["python", "anaconda"], "answers": [{"tags": [], "owner": {"reputation": 8012, "user_id": 912829, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8155348e86202fd2f553332dde3b2fcf?s=128&d=identicon&r=PG&f=1", "display_name": "ACV", "link": "https://stackoverflow.com/users/912829/acv"}, "is_accepted": false, "score": 3, "last_activity_date": 1499896297, "creation_date": 1499896297, "answer_id": 45068095, "question_id": 45068082, "link": "https://stackoverflow.com/questions/45068082/anaconda-navigator-byte-indices-must-be-integers-or-slices-not-str/45068095#45068095", "title": "Anaconda-navigator: byte indices must be integers or slices, not str", "body": "<p>Found a solution</p>\n\n<p>This is what to do:</p>\n\n<p>run: <code>$ source activate root</code> and then </p>\n\n<p><code>$ anaconda-navigator</code></p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 5501260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AlG8mgjJSwA/AAAAAAAAAAI/AAAAAAAACeo/hx5xrnbeSOc/photo.jpg?sz=128", "display_name": "Paulo Raposo", "link": "https://stackoverflow.com/users/5501260/paulo-raposo"}, "edited": false, "score": 1, "creation_date": 1510959499, "post_id": 45313588, "comment_id": 81673934, "body": "Just adding <code>export PATH=~&#47;anaconda3&#47;bin:$PATH</code> to ~/.bashrc worked for me. I didn&#39;t need to logout and login though."}], "tags": [], "owner": {"reputation": 81, "user_id": 5487510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dFgs2.jpg?s=128&g=1", "display_name": "philosopher", "link": "https://stackoverflow.com/users/5487510/philosopher"}, "is_accepted": false, "score": 2, "last_activity_date": 1501017274, "creation_date": 1501017274, "answer_id": 45313588, "question_id": 45068082, "link": "https://stackoverflow.com/questions/45068082/anaconda-navigator-byte-indices-must-be-integers-or-slices-not-str/45313588#45313588", "title": "Anaconda-navigator: byte indices must be integers or slices, not str", "body": "<p>Based on Chad Fulton's answer on June 24th, 2016 in <a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/748\" rel=\"nofollow noreferrer\">issue 748</a>, I made the following changes. Anaconda navigator was able to run from the launcher. </p>\n\n<p>Cut the line added to ~/.bashrc that was added by the anaconda install for path.</p>\n\n<p>Update the ~/.profile path with the following at the bottom:</p>\n\n<pre><code>    export PATH=\"$PATH:/home/&lt;your_username_here&gt;/anaconda3/bin:$PATH\"\n</code></pre>\n\n<p>Then you'll have to logout and login.</p>\n\n<p>This should fix that issue. The Jupyter notebook appears to work too, but I haven't tested it thoroughly.</p>\n"}], "owner": {"reputation": 8012, "user_id": 912829, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8155348e86202fd2f553332dde3b2fcf?s=128&d=identicon&r=PG&f=1", "display_name": "ACV", "link": "https://stackoverflow.com/users/912829/acv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1076, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1501017274, "creation_date": 1499896221, "question_id": 45068082, "link": "https://stackoverflow.com/questions/45068082/anaconda-navigator-byte-indices-must-be-integers-or-slices-not-str", "title": "Anaconda-navigator: byte indices must be integers or slices, not str", "body": "<p>Trying to start Anaconda navigator in Linux. Getting this error:</p>\n\n<p><code>byte indices must be integers or slices, not str</code></p>\n"}, {"tags": ["python", "beautifulsoup", "bs4"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1499900720, "post_id": 45068080, "comment_id": 77110959, "body": "Are the <code>abbvs</code> list one-to-one mapped to the <code>urls</code> and the <code>bstags</code> lists?"}, {"owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1499901087, "post_id": 45068080, "comment_id": 77111050, "body": "Yep! The <code>abbvs</code> list was originally part of trying something different so it&#39;s not actually used in the current code, but all of the lists have the <code>urls</code>, <code>docs</code>, and <code>bstags</code> in the same position."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "edited": false, "score": 0, "creation_date": 1499905837, "post_id": 45069120, "comment_id": 77112264, "body": "It works! Thank you! I got stuck thinking about trying to do it one way and this makes so much more sense. And the dictionary idea is smart. Very very much appreciated."}, {"owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "edited": false, "score": 0, "creation_date": 1499906761, "post_id": 45069120, "comment_id": 77112471, "body": "Hmm. It seems to be emailing me each time now, seemingly regardless of if anything&#39;s changed. Any ideas?"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "edited": false, "score": 0, "creation_date": 1499921637, "post_id": 45069120, "comment_id": 77115868, "body": "That seems to indicate that there is some difference between <code>newsoup</code> and <code>oldsoup</code>. Is it happening for each website or for only one or a few of them?"}, {"owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "edited": false, "score": 0, "creation_date": 1499978611, "post_id": 45069120, "comment_id": 77153642, "body": "It seems to only be happening on three of them. <code>PFL</code>, <code>VanWaPL</code>, and <code>FCPL</code>"}, {"owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "edited": false, "score": 0, "creation_date": 1499980065, "post_id": 45069120, "comment_id": 77154376, "body": "Thank you again for your help! I think I figured out the problem. I&#39;m pulling too much from the sites including things that change each session."}], "tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1499902444, "creation_date": 1499902444, "answer_id": 45069120, "question_id": 45068080, "link": "https://stackoverflow.com/questions/45068080/trying-to-write-and-compare-text-file-with-scraped-text-not-quite-working/45069120#45069120", "title": "Trying to write and compare text file with scraped text, not quite working", "body": "<p>There are a few issues with your code. The main problem is that each loop is running to completion, leaving you with effectively only checking the last site. You need to run the comparisons for each set of <code>abbv</code>, <code>url</code> and <code>bstag</code>. For this there is a nice Python function called <code>zip()</code> that is good to understand.</p>\n\n<p>In addition, you do not need to store the newly scraped data, as it can be compared directly to the old (and then only updated, if it is changed). With these changes, your code might look something like:</p>\n\n<pre><code>import requests\nimport smtplib\nimport bs4\nimport os\n\nabbvs = ['MCL', 'PFL', 'OPPL', 'FCPL', 'AnyPL', 'NOLS', 'VanWaPL', 'SLCPL', 'ProPL', 'ArapPL']\nopenurls = open('/home/ian/PythonPrograms/job-scrape/urls', 'r')\nurls = openurls.read().strip('\\n').split(',')\nbstags = ['#content', '.col-md-12', '#main', '#containedInVSplit', '.col-sm-7', '.statement-left-div', '#main', '#main', '#componentBox', '.list-group.job-listings']\n\nfor abbv, url, bstag in zip(abbvs, urls, bstags):\n    res = requests.get(url)\n    res.raise_for_status()\n    olddoc = 'old'+abbv\n    currentsoup = bs4.BeautifulSoup(res.text, \"lxml\")\n    newsoup = str(currentsoup.select(bstag))\n\n    filepath = '/home/ian/Pythonprograms/job-scrape/libsitehtml/'+olddoc\n    if os.path.isfile(filepath):\n        with open(filepath) as old:\n            oldsoup = old.read()\n    else:\n        oldsoup = ''\n\n    if newsoup != oldsoup:\n        with open(filepath, 'w') as new:\n            new.write(newsoup)\n        server = smtplib.SMTP('smtp.gmail.com', 587)\n        server.ehlo()\n        server.starttls()\n        server.login('dummyemail', 'password')\n        server.sendmail('noreply.job.updates.com', 'myemail', 'Subject: A library\\'s jobs page has changed\\n' '\\n' + 'Here\\'s the URL:' + str(url))\n        server.quit()\n</code></pre>\n\n<p>I have not tested the above, though, so it may contain some error(s). But it should be something to start from. In addition, you should consider trying to make a <code>dict</code> with the <code>abbvs</code> as keys and the <code>urls</code> as values, as they are tightly connected.</p>\n"}], "owner": {"reputation": 57, "user_id": 7243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155408976250593/picture?type=large", "display_name": "holmesian17", "link": "https://stackoverflow.com/users/7243635/holmesian17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 45069120, "answer_count": 1, "score": 1, "last_activity_date": 1499902444, "creation_date": 1499896218, "question_id": 45068080, "link": "https://stackoverflow.com/questions/45068080/trying-to-write-and-compare-text-file-with-scraped-text-not-quite-working", "title": "Trying to write and compare text file with scraped text, not quite working", "body": "<p>I'm trying to write a program that pulls html from webpages and then compares it to previously scraped data that I have saved. If something has changed, it saves the new html to the text file and emails me. The problem is that it either writes text to the text files sporadically or not at all, and then will also email me randomly even if nothing has changed. I've been playing with it for 2 weeks and can't seem to figure out what's going on. Help!</p>\n\n<pre><code>import requests\nimport smtplib\nimport bs4\nimport os\n\nabbvs = ['MCL', 'PFL', 'OPPL', 'FCPL', 'AnyPL', 'NOLS', 'VanWaPL', 'SLCPL', 'ProPL', 'ArapPL']\nopenurls = open('/home/ian/PythonPrograms/job-scrape/urls', 'r')\nurls = openurls.read().strip('\\n').split(',')\nolddocs = ['oldMCL', 'oldPFL', 'oldOPPL', 'oldFCPL', 'oldAnyPL', 'oldNOLS', 'oldVanWaPL', 'oldSLCPL', 'oldProPL', 'oldArapPL']\nnewdocs = ['newMCL', 'newPFL', 'newOPPL', 'newFCPL', 'newAnyPL', 'newNOLS', 'newVanWaPL', 'newSLCPL', 'newProPL', 'newArapPL']\nbstags = ['#content', '.col-md-12', '#main', '#containedInVSplit', '.col-sm-7', '.statement-left-div', '#main', '#main', '#componentBox', '.list-group.job-listings']\n\nfor url in urls: \n    res = requests.get(url)\n    res.raise_for_status()\nfor bstag in bstags:\n    currentsoup = bs4.BeautifulSoup(res.text, \"lxml\")\n    newsoup = currentsoup.select(bstag)\nfor newdoc in newdocs:\n    if os.path.isfile('/home/ian/Pythonprograms/job-scrape/libsitehtml/'+newdoc) == False:\n        createnew = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+newdoc, 'w')\n\n    file = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+newdoc, 'w')\n    file.write(str(newsoup)) \n    file.close()\n\n    new = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+newdoc)\n    new = new.read()\nfor olddoc in olddocs:\n    if os.path.isfile('/home/ian/Pythonprograms/job-scrape/libsitehtml/'+olddoc) == False:\n        createold = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+olddoc, 'w')\n\n    old = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+olddoc)\n    old = old.read()\n\nif str(old) != str(new):\n   file = open('/home/ian/PythonPrograms/job-scrape/libsitehtml/'+olddoc, 'w') \n    file.write(str(new))\n    file.close()\n\n    server = smtplib.SMTP('smtp.gmail.com', 587)\n    server.ehlo()\n    server.starttls()\n    server.login('dummyemail', 'password')\n    server.sendmail('noreply.job.updates.com', 'myemail', 'Subject: A library\\'s jobs page has changed\\n' '\\n' + 'Here\\'s the URL:' + str(url))\n    server.quit()\nelif str(old) == str(new):\n    pass\n</code></pre>\n"}, {"tags": ["python", "django", "python-3.x", "web", "django-sessions"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7162799, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-cS3PaT_oMA8/AAAAAAAAAAI/AAAAAAAAACc/KOq0sdFGFGo/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/7162799/jack"}, "edited": false, "score": 1, "creation_date": 1500019550, "post_id": 45068142, "comment_id": 77167474, "body": "Thanks looks good, do you have an example of how to CBV would look?"}], "tags": [], "owner": {"reputation": 21, "user_id": 2714017, "user_type": "registered", "profile_image": "https://graph.facebook.com/1317562633/picture?type=large", "display_name": "Sebastian A. Steins", "link": "https://stackoverflow.com/users/2714017/sebastian-a-steins"}, "is_accepted": false, "score": 1, "last_activity_date": 1499896544, "creation_date": 1499896544, "answer_id": 45068142, "question_id": 45068068, "link": "https://stackoverflow.com/questions/45068068/django-favourite-compare-feature/45068142#45068142", "title": "Django favourite/compare feature", "body": "<p>Sure, just assign the list products to a session variable.</p>\n\n<p>Then assign the products list to the template, which could look something like that:</p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n    &lt;td&gt;&lt;/td&gt;\n    {% for product in products %}\n    &lt;th&gt;{{ product.title }}&lt;/th&gt;\n    {% endfor %}\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;th&gt;Feature 1&lt;/th&gt;\n    {% for product in products %}\n    &lt;td&gt;{{ product.feature1 }}&lt;/td&gt;\n    {% endfor %}\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;th&gt;Feature 2&lt;/th&gt;\n    {% for product in products %}\n    &lt;td&gt;{{ product.feature2 }}&lt;/td&gt;\n    {% endfor %}\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7162799, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-cS3PaT_oMA8/AAAAAAAAAAI/AAAAAAAAACc/KOq0sdFGFGo/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/7162799/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499896544, "creation_date": 1499896161, "question_id": 45068068, "link": "https://stackoverflow.com/questions/45068068/django-favourite-compare-feature", "title": "Django favourite/compare feature", "body": "<p>Just wondering if Sessions can be used to create a quick compare view of two products on my Django app. I'm listing items for sale and would like a user to be able to 'like' multiple items then have a new view to compare the selected products. Any thoughts? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 18120, "user_id": 2587797, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/8H6jK.png?s=128&g=1", "display_name": "RustyShackleford", "link": "https://stackoverflow.com/users/2587797/rustyshackleford"}, "edited": false, "score": 0, "creation_date": 1499896266, "post_id": 45068063, "comment_id": 77109478, "body": "Yes you are correct"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1499896338, "post_id": 45068063, "comment_id": 77109510, "body": "You have access to the attributes of any parameters you receive. In this case, the only one you care about is <code>self</code>."}, {"owner": {"reputation": 143, "user_id": 3416724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873f47f6a8fdba1f17858e6a81009117?s=128&d=identicon&r=PG&f=1", "display_name": "user3416724", "link": "https://stackoverflow.com/users/3416724/user3416724"}, "edited": false, "score": 0, "creation_date": 1499896382, "post_id": 45068063, "comment_id": 77109521, "body": "@azalea I don&#39;t think this is a duplicate as that post also makes reference to ruby but I am discussing the subject in a different context."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1499896383, "post_id": 45068063, "comment_id": 77109522, "body": "In a nutshell, with <code>d = Dog(&quot;bob&quot;, 10)</code>, <code>d.sit()</code> is equivalent to <code>Dog.sit(d)</code>."}, {"owner": {"reputation": 143, "user_id": 3416724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873f47f6a8fdba1f17858e6a81009117?s=128&d=identicon&r=PG&f=1", "display_name": "user3416724", "link": "https://stackoverflow.com/users/3416724/user3416724"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499896423, "post_id": 45068063, "comment_id": 77109537, "body": "@Barmar what does the line <code>Because these methods don\u2019t need additional information like a name or age</code> mean though, because that&#39;s the bit that seems to be confusing me!"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 2, "creation_date": 1499896603, "post_id": 45068063, "comment_id": 77109599, "body": "I think that&#39;s just drawing a contrast to the <code>__init__</code> method which takes two additional arguments. The <code>sit</code> method doesn&#39;t need additional arguments because the <code>name</code> attribute has already been set on <code>self</code>."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 1, "creation_date": 1499896641, "post_id": 45068063, "comment_id": 77109612, "body": "It means exactly what you have understood. The author of the book seems to be not very clear: <i>&quot;Because these methods <b>don\u2019t need additional information like a name</b>...&quot;</i> <code>sit(self)</code> <b>is</b> accessing <code>name</code>: <code>self.name.title()</code>. However, <code>sit()</code> can get this info from self because it was stored as an attribute."}], "owner": {"reputation": 143, "user_id": 3416724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873f47f6a8fdba1f17858e6a81009117?s=128&d=identicon&r=PG&f=1", "display_name": "user3416724", "link": "https://stackoverflow.com/users/3416724/user3416724"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1499896355, "answer_count": 0, "score": 0, "last_activity_date": 1499897687, "creation_date": 1499896141, "last_edit_date": 1499897687, "question_id": 45068063, "link": "https://stackoverflow.com/questions/45068063/use-of-self-only-as-a-parameter-in-a-method", "closed_reason": "Duplicate", "title": "Use of &#39;self&#39; only as a parameter in a method?", "body": "<p>I created this class earlier. </p>\n\n<pre><code>class Dog():\n    \"\"\"A simple attempt to model a dog.\"\"\"\n\n    def __init__(self, name, age):\n        \"\"\"Initialise name and age attributes.\"\"\"\n        self.name = name\n        self.age = age\n\n    def sit(self):\n        \"\"\"Simulate a dog sitting in response to a command.\"\"\"\n        print(self.name.title() + \" is now sitting.\")\n</code></pre>\n\n<p>Now, the book I am reading says the following</p>\n\n<blockquote>\n  <p>Because these methods don\u2019t need additional information like a name or age, we just define them to have one parameter, self.</p>\n</blockquote>\n\n<p>I'm confused by what this means.</p>\n\n<p>Does this mean that when we pass the parameter <code>self</code>, the method has automatic access to the attributes <code>self.name</code> and <code>self.age</code>?</p>\n\n<p>The book in question is <em>Python Crash Course</em> by Eric Mattes.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 4, "creation_date": 1499896273, "post_id": 45068049, "comment_id": 77109485, "body": "So what have you done so far?"}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1499896650, "post_id": 45068049, "comment_id": 77109618, "body": "Join with whitespace and use <a href=\"https://docs.python.org/2/library/re.html#re.split\" rel=\"nofollow noreferrer\"><code>re.split()</code></a>."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1499896699, "post_id": 45068049, "comment_id": 77109631, "body": "Does it always go &quot;one, two, three&quot;, or are those just examples? Could there also be &quot;one, three&quot;, or starting at e.g. &quot;two&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "edited": false, "score": 0, "creation_date": 1499896595, "post_id": 45068103, "comment_id": 77109593, "body": "Can I get the reason for the downvote? The code is working and gives the required output"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1499896791, "post_id": 45068103, "comment_id": 77109668, "body": "Wasn&#39;t me, but no, it doesn&#39;t give the required output. Also, it&#39;s rather hackish."}, {"owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1499896924, "post_id": 45068103, "comment_id": 77109730, "body": "<code>new_list=[[&#39;testOne:100&#39;, &#39;testTwo:88&#39;, &#39;testThree:76&#39;], [&#39;testOne:78&#39;, &#39;testTwo:88&#39;], [&#39;testOne:73&#39;, &#39;testTwo:66&#39;, &#39;testThree:90&#39;]]</code> . This is what is the required output and mine gives the same"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 2, "creation_date": 1499897068, "post_id": 45068103, "comment_id": 77109784, "body": "What Python version are you using? In my Python 3.5.2, it&#39;s missing that <code>&#39;testThree:90&#39;</code> at the end."}], "tags": [], "owner": {"reputation": 797, "user_id": 8201433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1eiQ.png?s=128&g=1", "display_name": "Sriram Sitharaman", "link": "https://stackoverflow.com/users/8201433/sriram-sitharaman"}, "is_accepted": false, "score": -2, "last_activity_date": 1499897342, "last_edit_date": 1499897342, "creation_date": 1499896348, "answer_id": 45068103, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values/45068103#45068103", "title": "Group elements of a list based on repetition of values", "body": "<p>joining the list into a string with delimiter <code>|</code></p>\n\n<pre><code>step1=\"|\".join(my_list)\n</code></pre>\n\n<p>splitting the listing based on <code>'testOne'</code></p>\n\n<pre><code>step2=step1.split(\"testOne\")\n</code></pre>\n\n<p>appending <code>\"testOne\"</code> to the list elements to get the result</p>\n\n<pre><code>new_list=[[i for i in str('testOne'+i).split(\"|\") if len(i)&gt;0] for i in step2[1:]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1499897168, "creation_date": 1499897168, "answer_id": 45068268, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values/45068268#45068268", "title": "Group elements of a list based on repetition of values", "body": "<p>Not a cool one-liner, but this works also with more general labels:</p>\n\n<pre><code>result = [[]]\nseen = set()\nfor entry in my_list:\n    test, val = entry.split(\":\")\n    if test in seen:\n        result.append([entry])\n        seen = {test}\n    else:\n        result[-1].append(entry)\n        seen.add(test)\n</code></pre>\n\n<p>Here, we are keeping track of the test labels we've already seen in a <code>set</code> and starting a new list whenever we encounter a label we've already seen in the same list.</p>\n\n<p>Alternatively, assuming the lists <em>always</em> start with <code>testOne</code>, you could just start a new list whenever the label is <code>testOne</code>:</p>\n\n<pre><code>result = []\nfor entry in my_list:\n    test, val = entry.split(\":\")\n    if test == \"testOne\":\n        result.append([entry])\n    else:\n        result[-1].append(entry)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1499897387, "post_id": 45068279, "comment_id": 77109896, "body": "That first part could be rewritten as <code>ind = [i for i, e in enumerate(my_list) if e.split(&#39;:&#39;)[0] == &#39;testOne&#39;]</code>"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 2, "creation_date": 1499897763, "post_id": 45068279, "comment_id": 77110050, "body": "... and the 2nd and 3rd part to <code>[my_list[i:j] for (i, j) in zip(ind, ind[1:] + [None])]</code>. I really like this approach."}], "tags": [], "owner": {"reputation": 408, "user_id": 2197764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2ddf0beb2285db792d12f517f8b06ea?s=128&d=identicon&r=PG", "display_name": "Carter", "link": "https://stackoverflow.com/users/2197764/carter"}, "is_accepted": false, "score": 2, "last_activity_date": 1499900244, "last_edit_date": 1499900244, "creation_date": 1499897248, "answer_id": 45068279, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values/45068279#45068279", "title": "Group elements of a list based on repetition of values", "body": "<p>It'd be nice to have an easy one liner, but I think it'd end up looking a bit too complicated if I tried that. Here's what I came up with:</p>\n\n<pre><code># Create a list of the starting indices:\nind = [i for i, e in enumerate(my_list) if e.split(':')[0] == 'testOne']\n\n# Create a list of slices using pairs of indices:\nnew_list = [my_list[i:j] for (i, j) in zip(ind, ind[1:] + [None])]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 271, "user_id": 5379421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085cc6b988e91314e7c479e9ea7bcb0?s=128&d=identicon&r=PG&f=1", "display_name": "Deja", "link": "https://stackoverflow.com/users/5379421/deja"}, "edited": false, "score": 0, "creation_date": 1499899271, "post_id": 45068306, "comment_id": 77110533, "body": "Works like a charm! Thank you so much :)"}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1499897389, "creation_date": 1499897389, "answer_id": 45068306, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values/45068306#45068306", "title": "Group elements of a list based on repetition of values", "body": "<p>Just start a new list at every <code>testOne</code>.</p>\n\n<pre><code>&gt;&gt;&gt; new_list = []\n&gt;&gt;&gt; for item in my_list:\n        if item.startswith('testOne:'):\n            new_list.append([])\n        new_list[-1].append(item)\n\n&gt;&gt;&gt; new_list\n[['testOne:100', 'testTwo:88', 'testThree:76'], ['testOne:78', 'testTwo:88'], ['testOne:73', 'testTwo:66', 'testThree:90']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 560, "user_id": 2863666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3786db385513df87d5af723b6ed55dcf?s=128&d=identicon&r=PG", "display_name": "Talita", "link": "https://stackoverflow.com/users/2863666/talita"}, "is_accepted": false, "score": 0, "last_activity_date": 1499897580, "creation_date": 1499897580, "answer_id": 45068344, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values/45068344#45068344", "title": "Group elements of a list based on repetition of values", "body": "<p>Not very sophisticated but it works:</p>\n\n<pre><code>my_list = ['testOne:100', 'testTwo:88', 'testThree:76', 'testOne:78', 'testTwo:88', 'testOne:73', 'testTwo:66', 'testThree:90']\n\nsplitting_word = 'testOne'\nnew_list = list()\npartial_list = list()\nfor item in my_list:\n    if item.startswith(splitting_word) and partial_list:\n        new_list.append(partial_list)\n        partial_list = list()\n    partial_list.append(item)\nnew_list.append(partial_list)\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 5379421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085cc6b988e91314e7c479e9ea7bcb0?s=128&d=identicon&r=PG&f=1", "display_name": "Deja", "link": "https://stackoverflow.com/users/5379421/deja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 45068306, "answer_count": 5, "score": 0, "last_activity_date": 1499926473, "creation_date": 1499896064, "last_edit_date": 1499926473, "question_id": 45068049, "link": "https://stackoverflow.com/questions/45068049/group-elements-of-a-list-based-on-repetition-of-values", "title": "Group elements of a list based on repetition of values", "body": "<p>I am really new to Python and I am having a issue figuring out the problem below.</p>\n\n<p>I have a list like:</p>\n\n<pre><code>my_list = ['testOne:100', 'testTwo:88', 'testThree:76', 'testOne:78', 'testTwo:88', 'testOne:73', 'testTwo:66', 'testThree:90']\n</code></pre>\n\n<p>And I want to group the elements based on the occurrence of elements that start with 'testOne'. </p>\n\n<p>Expected Result:</p>\n\n<pre><code>new_list=[['testOne:100', 'testTwo:88', 'testThree:76'], ['testOne:78', 'testTwo:88'], ['testOne:73', 'testTwo:66', 'testThree:90']]\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 8, "last_activity_date": 1499898273, "last_edit_date": 1499898273, "creation_date": 1499896614, "answer_id": 45068156, "question_id": 45068028, "link": "https://stackoverflow.com/questions/45068028/scope-of-a-global-statement/45068156#45068156", "title": "Scope of a global statement", "body": "<blockquote>\n  <p>The global statement has the same scope as a name binding operation in the same block.</p>\n</blockquote>\n\n<p>This says where the <code>global</code> statement applies.</p>\n\n<p>Basically, under normal conditions, when you do:</p>\n\n<pre><code>foo = 1\n</code></pre>\n\n<p>inside a function, it makes <code>foo</code> a locally scoped variable for that function; even if the name is only assigned at the end of the function, it's local from the beginning, it doesn't switch from global to local at the point of assignment.</p>\n\n<p>Similarly, if your function includes the line:</p>\n\n<pre><code>global foo\n</code></pre>\n\n<p>it makes <code>foo</code> global for the whole function, even if <code>global foo</code> is the last line in the function.</p>\n\n<p>The important part is that it doesn't matter where in the function you do it. Just like:</p>\n\n<pre><code>def x():\n    print(y)\n    y = 1\n</code></pre>\n\n<p>raises an <code>UnboundLocalError</code> (because assigning to <code>y</code> makes it local for the whole scope of the function, and you print it before giving it a value), doing:</p>\n\n<pre><code>y = 0\ndef x():\n    print(y)\n    y = 1\n    global y\n</code></pre>\n\n<p>will print the global value of <code>y</code> (0 on the first call, 1 on the second) on the first line without error (rather than raising <code>UnboundLocalError</code> or something else) because <code>global</code> statements always apply for the whole function, both before and after where they actually appear, just like local variables are local for the whole scope of the function, even if they're only assigned at the end. Note that modern Python does raise a <code>SyntaxWarning</code> for using a global name before the associated <code>global</code> statement, so it's best to put <code>global</code> statements first for clarity and to avoid warnings.</p>\n\n<p>The part about nested scopes:</p>\n\n<blockquote>\n  <p>If the nearest enclosing scope for a free variable contains a global statement, the free variable is treated as a global.</p>\n</blockquote>\n\n<p>covers a really unusual corner case with multiply nested scopes where an outer scope assigns to a local variable, a scope inside that one declares the name <code>global</code>, and a scope inside that one uses (but doesn't assign) the name. The short definition is \"If you're looking for a variable to read that's not in local scope, as you look through outer scopes for it, if it's a global in one of them, stop checking nested scopes and go straight to global scope\". This one is easiest to show by example:</p>\n\n<pre><code>foo = 1\ndef outermost():\n    def middle():\n        global foo  # Stops scope checking, skips straight to global\n        def innermost():\n            print(foo)\n        return innermost\n    foo = 2  # Doesn't change global foo\n    return middle\n</code></pre>\n\n<p>With this definition, doing <code>outermost()()()</code> will output <code>1</code>, because the scope lookup in <code>innermost</code> checks <code>middle</code>, determines <code>foo</code> is global for the <code>middle</code> scope, and skips checking <code>outermost</code> going straight to the global <code>foo</code>.</p>\n\n<p>If instead you had:</p>\n\n<pre><code>foo = 1\ndef outermost():\n    def middle():\n        # No global declaration\n        def innermost():\n            print(foo)\n        return innermost\n    foo = 2  # Doesn't change global foo\n    return middle\n</code></pre>\n\n<p>then the output would be <code>2</code>; the <code>foo</code> lookup in <code>innermost</code> wouldn't find it locally, or in <code>middle</code>'s scope, but it would find it in <code>outermost</code>s scope and pull it from there. It's <em>extremely</em> unlikely you'd see a construction like this, but the language docs must be unambiguous when at all possible.</p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1499898273, "creation_date": 1499895969, "last_edit_date": 1592644375, "question_id": 45068028, "link": "https://stackoverflow.com/questions/45068028/scope-of-a-global-statement", "title": "Scope of a global statement", "body": "<p>From <a href=\"https://docs.python.org/3.6/reference/executionmodel.html#resolution-of-names\" rel=\"nofollow noreferrer\">Python Reference</a></p>\n<blockquote>\n<p>The global statement has the same scope as a name binding operation in the same block.</p>\n<p>If the nearest enclosing scope for a free variable contains a global statement, the free variable is treated as a global.</p>\n</blockquote>\n<p>What do the two sentences mean?</p>\n<p>Can you also give examples to explain what they mean?</p>\n<p>Thanks.</p>\n"}, {"tags": ["python", "file", "dictionary", "input", "replace"], "comments": [{"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 2, "creation_date": 1499896100, "post_id": 45068011, "comment_id": 77109415, "body": "What is the relationship between <code>abc|aaa|bbb|ccc</code> and a <b><code>dict</code></b>?"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 1, "creation_date": 1499896160, "post_id": 45068011, "comment_id": 77109437, "body": "<i>&quot;I am getting all same numbers replaced, cant make it to replace specific one.&quot;</i> Could you, please show what you have attempted so far?"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1499896690, "post_id": 45068011, "comment_id": 77109630, "body": "Are those letters <code>abcd</code> actually letters or do they stand for numbers? Is there just one line in that text file? By &quot;last dict value&quot; do you mean whatever is after the last &#39;|&#39; character? I see no dictionary anywhere--it is enough just to replace whatever is after the last `|&#39; character or is something else also involved? You need to clarify your question. You also need to show your attempts so far so we can know just where to help you and you show us that you are not just throwing your homework at us."}, {"owner": {"reputation": 13, "user_id": 8291524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52aece236cfe1d32ba0bcc373cf5df79?s=128&d=identicon&r=PG&f=1", "display_name": "J.DoeDoeJ", "link": "https://stackoverflow.com/users/8291524/j-doedoej"}, "reply_to_user": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499898604, "post_id": 45068011, "comment_id": 77110317, "body": "@AGNGaze the code works when i want to replace author of the book, but when i try to replace &quot;1&quot; with input &quot;3&quot;, it replaces all &quot;1&quot; with &quot;3&quot; in txt file. Also goes for words, &quot;Yes&quot; or &quot;No&quot; for example."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1499899290, "post_id": 45068011, "comment_id": 77110541, "body": "@J.DoeDoeJ - and how do you imagine to discern between one <code>Yes</code> value from another in your file? Can you actually post an example of your data and what you expect to happen when you try to replace something?"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499901447, "post_id": 45068011, "comment_id": 77111139, "body": "I doubt this code can run at all and that it is even related to your question."}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 7612540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ba99fee81417d9884fbf3d6c7a11697?s=128&d=identicon&r=PG&f=1", "display_name": "MushroomMauLa", "link": "https://stackoverflow.com/users/7612540/mushroommaula"}, "is_accepted": false, "score": 0, "last_activity_date": 1499896847, "creation_date": 1499896847, "answer_id": 45068201, "question_id": 45068011, "link": "https://stackoverflow.com/questions/45068011/python-3-5-2-replacing-rewriting-dictionary-value-in-txt-file-from-input/45068201#45068201", "title": "python 3.5.2 replacing/rewriting dictionary value in txt file from input?", "body": "<p>If your \"Dict\" always seperated with <code>|</code> you can use this:</p>\n\n<pre><code>with open('file.txt', 'r') as f:\n    text = f.read().split('|')\n'''\nnow you have a list ['abc','aaa','bbb','ccc']\nnow can you change 'ccc' like you would change a list\n'''\ntext[3] = 'ddd'\n</code></pre>\n\n<p>If you want to save a \"Python dict\" <code>dct = {Key:value}</code> you can use a module like <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">json</a> which is part of the standard libary.\nSaving and or loading a dict would look like this:</p>\n\n<pre><code>import json\n\ndct = {'key':'value'}\nwith open('file.json', 'w') as f:\n    json.dump(dct, f)\n\nwith open('file.json', 'r') as f:\n    dct = json.load(f)\nprint(type(dct))\n&gt;&gt;&gt; &lt;class 'dict'&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8291524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52aece236cfe1d32ba0bcc373cf5df79?s=128&d=identicon&r=PG&f=1", "display_name": "J.DoeDoeJ", "link": "https://stackoverflow.com/users/8291524/j-doedoej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1499898787, "creation_date": 1499895923, "last_edit_date": 1499898787, "question_id": 45068011, "link": "https://stackoverflow.com/questions/45068011/python-3-5-2-replacing-rewriting-dictionary-value-in-txt-file-from-input", "title": "python 3.5.2 replacing/rewriting dictionary value in txt file from input?", "body": "<p>Hello I have issues with replacing numbers and words in txt file. I have dict that is written in txt file like this for example: abc|aaa|bbb|ccc. \nI want to replace last dict value with new one from input and then save it in same txt file without changing first part of dict. like: abc|aaa|bbb|ddd. \nI am getting all same numbers replaced, can't make it to replace specific one. </p>\n\n<p>I forgot the code, sorry. </p>\n\n<pre><code>inputQuantity = input(\"Quantity: \")\nf = open(\"file.txt\", \"r\")\nf1 = f.read()\nf2 = f1.replace(book[\"quantity\"], inputQuantity)\nf = open(\"file.txt\", \"w\")\nf.write(f2)\nf.close()\nbook[\"quantity\"] = inputQuantity\n</code></pre>\n"}, {"tags": ["python", "flask", "gunicorn"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 4829699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c915cb62ccc7607cc15ad97d92edb7?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/4829699/swapnil"}, "edited": false, "score": 0, "creation_date": 1499914989, "post_id": 45068325, "comment_id": 77114310, "body": "sure! I&#39;ll give it a try!"}, {"owner": {"reputation": 161, "user_id": 4829699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c915cb62ccc7607cc15ad97d92edb7?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/4829699/swapnil"}, "edited": false, "score": 3, "creation_date": 1500783626, "post_id": 45068325, "comment_id": 77486368, "body": "Hi, so I tried using gevent async workers like this: gunicorn --bind 0.0.0.0:5000 service:app -k gevent --worker-connections 1000 This works, but it still seems to process incoming requests sequentially. For eg, when I pass 2 requests simultaneously and log times for each, I observe that the service one request at a time and starts serving another request after first one is done."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 161, "user_id": 4829699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c915cb62ccc7607cc15ad97d92edb7?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/4829699/swapnil"}, "edited": false, "score": 0, "creation_date": 1500793011, "post_id": 45068325, "comment_id": 77487971, "body": "Do you understand, how gevent works? What kind of request do you answer? How do you profile your server?"}, {"owner": {"reputation": 161, "user_id": 4829699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c915cb62ccc7607cc15ad97d92edb7?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/4829699/swapnil"}, "edited": false, "score": 1, "creation_date": 1501609097, "post_id": 45068325, "comment_id": 77849552, "body": "I am new to using Gunicorn and Gevent. I googled about creating async workers and a few links recommended me to use Gevent. I have used Flask to create a web service. I have defined 2 endpoints for 2 different types of processes. The problem is, if I try to send requests to both the endpoints, it waits for the first request to process and respond and then processes the second request after the first one is done. I think it&#39;s still doing Sync instead of Async."}, {"owner": {"reputation": 106, "user_id": 4986318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b07eb89e92d745bbd2ff63a3ab7ae76?s=128&d=identicon&r=PG&f=1", "display_name": "mg52", "link": "https://stackoverflow.com/users/4986318/mg52"}, "edited": false, "score": 0, "creation_date": 1597582438, "post_id": 45068325, "comment_id": 112174090, "body": "I am facing same issue and not solved yet. Have you solved this issue?"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 5, "last_activity_date": 1499897465, "creation_date": 1499897465, "answer_id": 45068325, "question_id": 45067995, "link": "https://stackoverflow.com/questions/45067995/handle-1000-concurrent-requests-for-flask-gunicorn-web-service/45068325#45068325", "title": "Handle 1000 concurrent requests for Flask/Gunicorn web service", "body": "<p>Reading the section on <a href=\"http://docs.gunicorn.org/en/stable/design.html\" rel=\"noreferrer\" title=\"Workers\">Workers</a> you have to switch to an async worker, which can handle thousands of connections, if your work is IO bound. Using more processes than CPUs is not recommended.</p>\n"}], "owner": {"reputation": 161, "user_id": 4829699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c915cb62ccc7607cc15ad97d92edb7?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnil", "link": "https://stackoverflow.com/users/4829699/swapnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7846, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1499897465, "creation_date": 1499895829, "question_id": 45067995, "link": "https://stackoverflow.com/questions/45067995/handle-1000-concurrent-requests-for-flask-gunicorn-web-service", "title": "Handle 1000 concurrent requests for Flask/Gunicorn web service", "body": "<p>I am fairly new to creating web services in Python. I have created a Flask web service successfully and run it with Gunicorn (as Flask\u2019s built-in server is not suitable for production).\nThis is how I run my app (with 4 worker nodes).</p>\n\n<pre><code>   gunicorn --bind 0.0.0.0:5000 My_Web_Service:app -w 4\n</code></pre>\n\n<p>The problem is, this only handles 4 requests at a time. I want it to be able to handle potentially 1000's of requests concurrently. Should I be using multi-threading? Any other options/suggestions?</p>\n"}, {"tags": ["python", "pip"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8298516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e507331b0e0fb5dd2420f9ef0919dff9?s=128&d=identicon&r=PG&f=1", "display_name": "off_by_one_error", "link": "https://stackoverflow.com/users/8298516/off-by-one-error"}, "edited": false, "score": 0, "creation_date": 1499898868, "post_id": 45068120, "comment_id": 77110398, "body": "Thank you so much! this helped out a great deal ^-^"}], "tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 4, "last_activity_date": 1499896422, "creation_date": 1499896422, "answer_id": 45068120, "question_id": 45067993, "link": "https://stackoverflow.com/questions/45067993/cant-get-pip-install-to-work-behind-a-proxy/45068120#45068120", "title": "Can&#39;t get pip install to work behind a proxy", "body": "<p><code>\\u2013</code> is \u2013, the en dash, which can easily be confused for a hyphen.  It appears that (likely due to copy &amp; paste issues) one of the hyphens in your command (I suspect the one just before \"proxy\") is actually an en dash and needs to be replaced with a real hyphen.</p>\n"}], "owner": {"reputation": 11, "user_id": 8298516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e507331b0e0fb5dd2420f9ef0919dff9?s=128&d=identicon&r=PG&f=1", "display_name": "off_by_one_error", "link": "https://stackoverflow.com/users/8298516/off-by-one-error"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499896476, "creation_date": 1499895826, "last_edit_date": 1499896476, "question_id": 45067993, "link": "https://stackoverflow.com/questions/45067993/cant-get-pip-install-to-work-behind-a-proxy", "title": "Can&#39;t get pip install to work behind a proxy", "body": "<p>I'm trying to use pip install behind a proxy server at work to install <code>beautifulsoup4</code>. But for some reason I get this output: </p>\n\n<pre><code>no such option: -\\u2013\n</code></pre>\n\n<p>I'm using python 3.5 and the following command:</p>\n\n<pre><code>python -m pip install --proxy http://user:password@proxyserver:port beautifulsoup4\n</code></pre>\n\n<p>Any ideas on what I can do to resolve this?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql", "spark-dataframe"], "owner": {"reputation": 235, "user_id": 2210295, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21fdd192fad5af4922efd126303fe3bf?s=128&d=identicon&r=PG", "display_name": "orNehPraka", "link": "https://stackoverflow.com/users/2210295/ornehpraka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1422, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499895561, "creation_date": 1499895561, "question_id": 45067933, "link": "https://stackoverflow.com/questions/45067933/left-outer-join-in-pyspark-and-select-columns-which-exists-in-left-table", "title": "Left Outer Join in pyspark and select columns which exists in left Table", "body": "<p>I have to write a pyspark join query. My requirement is:\nI only have to select records which only exists in left table.</p>\n\n<p>SQL solution for this is :</p>\n\n<pre><code>select Left.* \nFROM LEFT LEFT_OUTER_JOIN RIGHT\nwhere RIGHT.column1 is NULL and Right.column2 is NULL\n</code></pre>\n\n<p>For me challenge is, these 2 tables are dataframe. I am creating them in run time. so I am not aware of right dataframe columns detail or their number. I have to run this \"Is Null\" check on every column of Right DataFrame.</p>\n\n<p>I need your help to resolve this, any kind of run time feature will help.</p>\n\n<p>The code I have so far -</p>\n\n<pre><code>from pyspark import SparkConf, SparkContext\nfrom pyspark.sql import HiveContext\nfrom pyspark.sql.functions import *\nfrom pyspark.sql.types import *\nfrom pyspark.sql.functions import sha2,udf\nfrom pyspark.sql.types import StructType\nimport csv\nimport ConfigParser\nimport collections\nimport hashlib\nimport sys\nimport pandas as pd\nimport datetime\nfrom datetime import datetime,timedelta\nfrom pyspark.sql.utils import AnalysisException\nfrom pyspark.sql import Row\n\nemp = [('Ram',25,12,1),('Jalfaizy',22,13,2),('saurabh',20,14,3),('Bala',26,15,4)]\nrddemp = sc.parallelize(emp)\nemp1 = rddemp.map(lambda x: Row(name=x[0], dept=int(x[1]),col=x[2], ign=x[2]))\nempDF = sqlContext.createDataFrame(emp1)\n\ndept = [('Ram',25,12,1),('Jalfaizy',22,16,3),('Kukarm',50,17,4)]\nrdddept = sc.parallelize(dept)\ndept1 = rdddept.map(lambda x: Row(name=x[0], dept=int(x[1]), col=x[2], ign=x[2]))\ndeptDF = sqlContext.createDataFrame(dept1)\n\nempDF1=empDF.drop(\"ign\")\ndeptDF1=deptDF.drop(\"ign\")\n\nmake_sha = udf(lambda row: hashlib.pbkdf2_hmac('sha512', str(row), b'salt', 100000))\nsrc_sha = empDF1.withColumn(\"sha512\", make_sha(struct([empDF1[x] for x in empDF1.columns])))\ntgt_sha = deptDF1.withColumn(\"sha512\", make_sha(struct([deptDF1[x] for x in deptDF1.columns])))\n\ntblPrimaryKeyList=\"dept|name\".split('|')\n\nstgActiveDF = src_sha.alias('STG').join(tgt_sha.alias('TGT'), \"sha512\",'left_outer').where(\"TGT.name\").isNull())\\\n    .select(\"STG.*\").drop(\"sha512\").dropDuplicates()\n</code></pre>\n\n<p>Problem Area, where I need help is below. I have to replace TGT.name with something like \"TGT.columns\":</p>\n\n<pre><code>stgActiveDF = src_sha.alias('STG').join(tgt_sha.alias('TGT'),\"sha512\",'left_outer').where(col(\"TGT.name\").isNull()).select(\"STG.*\").drop(\"sha512\").dropDuplicates()\n</code></pre>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["python", "string", "python-3.x", "encryption", "unicode"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499895838, "post_id": 45067928, "comment_id": 77109319, "body": "<a href=\"https://stackoverflow.com/questions/29897480/possible-to-execute-python-bytecode-from-a-script\" title=\"possible to execute python bytecode from a script\">stackoverflow.com/questions/29897480/&hellip;</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1499895997, "post_id": 45067928, "comment_id": 77109379, "body": "Are you using Python 2 or 3?"}, {"owner": {"reputation": 3, "user_id": 8298465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670bf8d0e51b25b4ef64ae78c06d6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Trilliante", "link": "https://stackoverflow.com/users/8298465/trilliante"}, "edited": false, "score": 0, "creation_date": 1499896061, "post_id": 45067928, "comment_id": 77109402, "body": "I am using Python 3.6.1"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499900219, "post_id": 45067928, "comment_id": 77110814, "body": "What kind of bytecode are we talking here? Do you have a documentation link? It seems highly unusual for any API to take Python bytecode; I suspect you&#39;re using the wrong word."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499900663, "post_id": 45067928, "comment_id": 77110949, "body": "Why the heck were you trying to convert the AES output to Unicode, anyway?"}, {"owner": {"reputation": 3, "user_id": 8298465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670bf8d0e51b25b4ef64ae78c06d6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Trilliante", "link": "https://stackoverflow.com/users/8298465/trilliante"}, "edited": false, "score": 0, "creation_date": 1499904878, "post_id": 45067928, "comment_id": 77112038, "body": "As I said, it was an experiment. I was using the library to make a function that would encrypt a message, then give you the encrypted message, the key, and the initial value. Then, at a later time, you could enter the decryption portion program and enter the message, key, and iv to decrypt the message. As I said, it was just an experiment. I know that I didn&#39;t do things the most efficient way, and I consider myself a noob at python. However, I work best when I have an objective, and this taught me a lot about both encryption and python, so even though I failed, it was a good experience."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8298465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670bf8d0e51b25b4ef64ae78c06d6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Trilliante", "link": "https://stackoverflow.com/users/8298465/trilliante"}, "edited": false, "score": 0, "creation_date": 1499904662, "post_id": 45068748, "comment_id": 77111985, "body": "Thank you very much. Your answer got me closer to the solution, but did not solve it. I now have an error that&#39;s coming from the library itself, not python. As this was just an experiment, I&#39;m not going to pursue it further at this time, I am still very much a novice at python, and feel that I probably should learn a bit more before returning to this project, especially since the library I&#39;m using doesn&#39;t have the most &quot;noob friendly&quot; documentation. Thank you for your time, you&#39;ve shown me some new things to learn about!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 3, "user_id": 8298465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670bf8d0e51b25b4ef64ae78c06d6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Trilliante", "link": "https://stackoverflow.com/users/8298465/trilliante"}, "edited": false, "score": 0, "creation_date": 1499913844, "post_id": 45068748, "comment_id": 77114070, "body": "@Trilliante: Happy to hear you felt it helped. Dealing with bytes and strings in Python 3 can be difficult since they&#39;re no longer almost the same thing as they were in the previous version. One important take-away shown in my answer is that you can encode arbitrary byte strings into <code>&#39;latin1&#39;</code> when necessary, since those can contain any sequence 8-bit values, it preserves the original data. Also note I didn&#39;t use the term &quot;byte code&quot; because that means something else entirely in Python."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1499901143, "last_edit_date": 1499901143, "creation_date": 1499900005, "answer_id": 45068748, "question_id": 45067928, "link": "https://stackoverflow.com/questions/45067928/how-do-i-input-bytecode-through-the-input-method-and-still-have-it-be-read-as/45068748#45068748", "title": "How do I input bytecode through the input() method and still have it be read as bytecode?", "body": "<p>Although I generally don't suggest using <code>eval()</code> on any user input, in this case it's probably OK since you're just experimenting.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Python 3.6.1 (v3.6.1:69c0db5, Mar 21 2017, 17:54:52) [MSC v.1900 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; inp = input()\n'\\x85\\xee9'\n&gt;&gt;&gt; data = eval(inp.encode('latin1'))\n&gt;&gt;&gt; bytes(data.encode('latin1'))\nb'\\x85\\xee9'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8298465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b670bf8d0e51b25b4ef64ae78c06d6ad?s=128&d=identicon&r=PG&f=1", "display_name": "Trilliante", "link": "https://stackoverflow.com/users/8298465/trilliante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 45068748, "answer_count": 1, "score": -2, "last_activity_date": 1499913315, "creation_date": 1499895544, "last_edit_date": 1499913315, "question_id": 45067928, "link": "https://stackoverflow.com/questions/45067928/how-do-i-input-bytecode-through-the-input-method-and-still-have-it-be-read-as", "title": "How do I input bytecode through the input() method and still have it be read as bytecode?", "body": "<p>Alright, wording this is going to be a bit weird, but I'll do my best. I'm doing some mini experimental projects with PyCrypto and am having some issues with some code that I am writing. This code takes an encryption key and a message to be encrypted as input, then outputs both the key and the encrypted message. However, PyCrypto requires bytecode as the input to its encryption functions. Therefore, when I output the encrypted message, it is in bytecode. Due to the nature of how AES encryption works, the message content contains Hexadecimal in the '\\x' or '0x' format. This means that the built-in str.decode() method won't work to convert the message back to Unicode.</p>\n\n<p>I did some investigating and could not find a solution to the problem. I instead tried to go around the problem by inputting the bytecode string into the decryption function through the input() method. However, this causes the original bytecode message, b'\\x85\\xee9', for example, to be converted into the string \"b'\\x85\\xee9\". Obviously, I can't just use the str.encode() method on that, as it's the bytecode string I need, just in the wrong format. Is there a way to convert that Unicode string that contains the bytecode into the original bytecode?</p>\n\n<p>If anyone has a solution to either part of the problem, I'd be grateful to hear it. If any error logs are needed, please let me know.</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 650, "user_id": 7669570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4c9c277ec9fea0992c74b3f989be39?s=128&d=identicon&r=PG&f=1", "display_name": "flevinkelming", "link": "https://stackoverflow.com/users/7669570/flevinkelming"}, "edited": false, "score": 0, "creation_date": 1499895524, "post_id": 45067903, "comment_id": 77109207, "body": "is the output being stored in a .json file?"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 1, "creation_date": 1499895591, "post_id": 45067903, "comment_id": 77109228, "body": "I got u fam <code>[item for item in __import__(&#39;json&#39;).loads(__import__(&#39;requests&#39;).get(&#39;http:&#47;&#47;&zwnj;&#8203;api.fruitstand.com&#47;f&zwnj;&#8203;ruits&#39;).text) if item[&#39;symbol&#39;] == &#39;Apple&#39;][&#39;price_usd&#39;]</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 2, "creation_date": 1499895591, "post_id": 45067903, "comment_id": 77109229, "body": "I don&#39;t know what Json is, but that&#39;s not JSON."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1499895735, "post_id": 45067903, "comment_id": 77109277, "body": "@ap That doesn&#39;t work."}, {"owner": {"reputation": 650, "user_id": 7669570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4c9c277ec9fea0992c74b3f989be39?s=128&d=identicon&r=PG&f=1", "display_name": "flevinkelming", "link": "https://stackoverflow.com/users/7669570/flevinkelming"}, "edited": false, "score": 1, "creation_date": 1499895746, "post_id": 45067903, "comment_id": 77109283, "body": "@IchSkill Could you add your relevant code?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1499895865, "post_id": 45067903, "comment_id": 77109332, "body": "This is just regular Python data; it&#39;s not JSON. Please don&#39;t use the JSON tag unless you&#39;re actually trying to parse or generate JSON, not just doing regular (non-JSON-related) operations on data that <i>used to be</i> JSON but isn&#39;t."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1499895958, "post_id": 45067903, "comment_id": 77109361, "body": "@CharlesDuffy It&#39;s not Python, either. You get <code>NameError: name &#39;symbol&#39; is not defined</code> for that. It&#39;s not clear what they actually have."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1499962023, "post_id": 45067903, "comment_id": 77144271, "body": "You&#39;re right -- and it&#39;s not valid YAML either."}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1499895571, "creation_date": 1499895571, "answer_id": 45067935, "question_id": 45067903, "link": "https://stackoverflow.com/questions/45067903/json-parsing-without-an-identifier/45067935#45067935", "title": "JSON parsing without an identifier", "body": "<pre><code>for obj in json_list:\n   if obj.get('symbol') == \"Apple\":\n       ...\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7025030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZ7iy.jpg?s=128&g=1", "display_name": "IchSkill", "link": "https://stackoverflow.com/users/7025030/ichskill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1499896863, "creation_date": 1499895417, "last_edit_date": 1499896863, "question_id": 45067903, "link": "https://stackoverflow.com/questions/45067903/json-parsing-without-an-identifier", "title": "JSON parsing without an identifier", "body": "<p>Let's say I do a Get request to an API and it's giving me this output in JSON.</p>\n\n<pre><code>[\n  {\n    symbol: \"Banana\",\n    price_usd: 448.66,\n    randomthing:123\n  },\n\n  {\n    symbol: \"Apple\",\n    price_usd: 7.28,\n    randomthing:233\n  }\n]  \n</code></pre>\n\n<p>How should I find out the price of <code>Apple</code>?    </p>\n"}, {"tags": ["python", "ssh", "rsync"], "comments": [{"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1499895497, "post_id": 45067883, "comment_id": 77109195, "body": "Don&#39;t use quotes around your <code>ssh</code> command."}], "answers": [{"tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": true, "score": 2, "last_activity_date": 1499895423, "creation_date": 1499895423, "answer_id": 45067906, "question_id": 45067883, "link": "https://stackoverflow.com/questions/45067883/rsync-cannot-find-file-when-executed-from-within-popen-in-python/45067906#45067906", "title": "rsync cannot find file when executed from within Popen in python", "body": "<p>You've got some extra quotes in there. Remove one set of quotes around the <code>ssh</code> command in this line as follows:</p>\n\n<pre><code>command = ['/usr/bin/rsync', \"-avz\", \"-e\", \"ssh -i rsync-key\", source, dest]\n</code></pre>\n\n<p>The reason is that by using a <code>command</code> that is a list, you're not running through the shell so the usual shell parsing rules do not apply. Your list directly contains each argument that is passed to the subprocess, and arguments can contain spaces.</p>\n"}], "owner": {"reputation": 2010, "user_id": 602469, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/577ef2c1e38566f8d73a6fe3716dd4bc?s=128&d=identicon&r=PG&f=1", "display_name": "wKavey", "link": "https://stackoverflow.com/users/602469/wkavey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 45067906, "answer_count": 1, "score": 1, "last_activity_date": 1499895540, "creation_date": 1499895308, "last_edit_date": 1499895540, "question_id": 45067883, "link": "https://stackoverflow.com/questions/45067883/rsync-cannot-find-file-when-executed-from-within-popen-in-python", "title": "rsync cannot find file when executed from within Popen in python", "body": "<p>I am attempting to write a function which will take two arguments - <code>source</code> and <code>output</code> and make a call to rsync in order to copy the source file to the output folder. Here is the meat of that function:</p>\n\n<pre><code># Run rsync\ntry:\n    command = ['/usr/bin/rsync', \"-avz\", \"-e\", '\"ssh -i rsync-key\"', source, dest]\n    p = Popen(command, stdout=PIPE, stderr=PIPE)\n    stdo, stde = p.communicate()\n    if p.returncode != 0:\n        raise Exception(\"Failed to run rsync command {} with return code of {}. {}\".format(' '.join(command), p.returncode, stde))\n    else:\n        logging.info(\"Done running rsync command {} with return code of {}. {}\".format(' '.join(command), p.returncode, stdo))\nexcept Exception as ex:\n    raise Exception(\"Failed to run rsync command {}. {}\".format(' '.join(command), ex))\n</code></pre>\n\n<p><code>rsync-key</code> is a private ssh key (with permissions 700) in the same directory as the python script and I have the public key inside the <code>authorized_keys</code> file on my server (to test my script I am attempting to copy a file from the same server).</p>\n\n<p>I am testing the script with source file <code>USERNAME@localhost:/home/USERNAME/.vimrc</code> and output folder <code>tmp/</code>. Both of these locations exist.</p>\n\n<p>If I run it with a local path (instead of the <code>USERNAME@localhost:...</code>) it also runs just fine.</p>\n\n<p>When I run this python program I am getting the following output</p>\n\n<pre><code>CRITICAL $(asctime)-15s Error with rsync: Failed to run rsync command /usr/bin/rsync -avz -e \"ssh -i rsync-key\" USERNAME@localhost:/home/USERNAME/.vimrc tmp/. \nFailed to run rsync command /usr/bin/rsync -avz -e \"ssh -i rsync-key\" USERNAME@localhost:/home/USERNAME/.vimrc tmp/ with return code of 14. rsync: \nFailed to exec ssh -i rsync-key: No such file or directory (2)\nrsync error: error in IPC code (code 14) at pipe.c(84) [receiver=3.0.4]\nrsync: connection unexpectedly closed (0 bytes received so far) [receiver]\nrsync error: error in IPC code (code 14) at io.c(641) [receiver=3.0.4]\nTraceback (most recent call last):\n  File \"fetch.py\", line 95, in main\n    rsync(args.source_file, args.output_dir)\n  File \"fetch.py\", line 57, in rsync\n    raise Exception(\"Failed to run rsync command {}. {}\".format(' '.join(command), ex))\n</code></pre>\n\n<p>However, if I run the same command <code>/usr/bin/rsync -avz -e \"ssh -i rsync-key\" USERNAME@localhost:/home/USERNAME/.vimrc tmp/</code> in the normal shell it runs without a hitch. Any idea why python does not seem to be able to find my <code>rsync-key</code> file? </p>\n\n<p>I look forward to any responses!</p>\n"}, {"tags": ["python", "jenkins"], "comments": [{"owner": {"reputation": 59, "user_id": 8209647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-dCWk3DmmCps/AAAAAAAAAAI/AAAAAAAADVE/j7hyIkjrQoA/photo.jpg?sz=128", "display_name": "epicwork", "link": "https://stackoverflow.com/users/8209647/epicwork"}, "edited": false, "score": 0, "creation_date": 1499895979, "post_id": 45067871, "comment_id": 77109372, "body": "The files.txt is getting created but is empty. So looks like the pssh is not working. But its working when run directly on the host."}, {"owner": {"reputation": 59, "user_id": 8209647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-dCWk3DmmCps/AAAAAAAAAAI/AAAAAAAADVE/j7hyIkjrQoA/photo.jpg?sz=128", "display_name": "epicwork", "link": "https://stackoverflow.com/users/8209647/epicwork"}, "edited": false, "score": 0, "creation_date": 1499899987, "post_id": 45067871, "comment_id": 77110749, "body": "Is it because the pssh module needs to be imported and my host has that, so it&#39;s working fine from the host directly but somehow jenkins is using Python from elsewhere which doesn&#39;t have that module and hence it is failing. How do I set Jenkins to use my host&#39;s Python?"}], "owner": {"reputation": 59, "user_id": 8209647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-dCWk3DmmCps/AAAAAAAAAAI/AAAAAAAADVE/j7hyIkjrQoA/photo.jpg?sz=128", "display_name": "epicwork", "link": "https://stackoverflow.com/users/8209647/epicwork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499895221, "creation_date": 1499895221, "question_id": 45067871, "link": "https://stackoverflow.com/questions/45067871/able-to-run-script-directly-on-host-but-not-via-jenkins", "title": "Able to run script directly on host but not via Jenkins", "body": "<p>I have a script that basically pssh into multiple hosts for some information and checks a file to see if the information matches or not. The script runs fine when run directly from the Jenkins node. But when I try to run it via Jenkins, it hangs. It does create the output file, I added debug statements and see that the hosts from the file.txt are getting printed on Jenkins, but otherwise it just hangs. \nI'm passing the file name as one of the arg. On Jenkins, I used to string parameter to pass the file. What am I doing wrong?\nThanks in advance.</p>\n\n<pre><code>import sys\nimport os\nimport subprocess\nimport re\nimport datetime\n\ntry:\n  hosts_file = sys.argv[1]\n  with open(hosts_file, 'r') as f:\n    hosts = []\n    for line in f:\n      hosts.append(line.split()[0])\nexcept IOError:\n  print 'Error opening hosts_file'\n  sys.exit(1)\n\nfor host in hosts:\n    cmd = ('sshpass -f password pssh -A -O UserKnownHostsFile=/dev/null -O StrictHostKeyChecking=no -H ' + host + ' -l root  -i \"&lt;cmd&gt;\"')\n    with open('file.txt', 'w') as fw:\n      subprocess.call(cmd, shell=True, stdout=fw)\n    with open('file.txt', 'r') as fr:\n\n  for line in fr:\n        match = re.search(r'some_word', line, re.I)\n        if match:\n          id_list.append(line.split()[-1])\n          model_dict[id_list[-1]] = line.strip()\n\n    if len(id_list) == 0:\n      print \"something not found for hostname =&gt;  %s\" % host\n\n    with open('file.txt', 'r') as fr, open('output', 'a') as fw:\n      fw.write(\"something ==&gt; %s\" % host + \"\\n\")\n\nfw.write(\"*****************************************************************************************************************************************************************\" + \"\\n\")\n      for line in fr:\n        for item in id_list:\n          match = re.search(r'%s' % item, line, re.I)\n          if match:\n            my_line = model_dict[item] + '  =&gt; ' +  line\n            fw.write(my_line)\n            id_list.remove(item)\n\n    if len(id_list) &gt; 0:\n      with open('output', 'a') as fw:\n        for item in id_list:\n          my_line = model_dict[item] + ' =&gt; ' + 'No match found'\n          fw.write(my_line + \"\\n\")\n\n    with open('models.txt', 'r') as fr, open('output', 'a') as fw:\n      fw.write(\"#### Printing Controller information ####\" + \"\\n\")\n      for line in fr:\n        match = re.search(r'vmhba', line, re.I)\n        if match:\n          fw.write(line.strip() + \"\\n\")\n\n    os.remove('models.txt')\n#I'm assuming this will print on the Jenkins console\nwith open('output', 'r') as fr:\n  for line in fr:\n    print line\n</code></pre>\n"}, {"tags": ["python", "pyqt", "jupyter-notebook", "pyqt5", "qt-designer"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8298092"}, "edited": false, "score": 0, "creation_date": 1499899416, "post_id": 45067905, "comment_id": 77110587, "body": "I feel like an idiot now... Thank you very much for the prompt answer!"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1499895421, "creation_date": 1499895421, "answer_id": 45067905, "question_id": 45067865, "link": "https://stackoverflow.com/questions/45067865/pyqt-5-simple-code-to-show-py-designer-gui/45067905#45067905", "title": "PyQt 5 - simple code to show Py Designer GUI?", "body": "<p>When using Qt Designer a template is used (MainWindow, Dialog, Widget) and when implementing the logic should use the same widget. In your case you have used MainWindow, so you should use QMainWindow instead of QDialog. The following code is the solution:</p>\n\n<pre><code>import sys\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtWidgets import *\nfrom blob import Ui_MainWindow\n\nclass AppWindow(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n        self.show()\n\napp = QApplication(sys.argv)\nw = AppWindow()\nw.show()\nsys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8298092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 0, "accepted_answer_id": 45067905, "answer_count": 1, "score": 1, "last_activity_date": 1555742300, "creation_date": 1499895184, "last_edit_date": 1555742300, "question_id": 45067865, "link": "https://stackoverflow.com/questions/45067865/pyqt-5-simple-code-to-show-py-designer-gui", "title": "PyQt 5 - simple code to show Py Designer GUI?", "body": "<p>It seems like I have failed before I even started - I cannot get a GUI generated by Qt designer to launch in Python 3.</p>\n\n<p>My setup:</p>\n\n<ul>\n<li>Anaconda on Windows 10 x64, with Python 3, PyQt 5, jupyter notebook installed</li>\n<li>I created a simple GUI in Qt Designer (literally: just one text label), called \"blob.py\", which I then converted using the following command: \"pyuic5 -o blob.py blob.ui\"</li>\n</ul>\n\n<p>Having looked through gazillion of tutorials (99% dedicated to Qt4 which is not compatible with Qt5), I have found the following code which is supposed to be the \"hello world\" implementation of a simple Qt GUI:</p>\n\n<pre><code>import sys\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtWidgets import *\nfrom blob import Ui_MainWindow\n\nclass AppWindow(QDialog):\n    def __init__(self):\n        super().__init__()\n        self.ui = Ui_MainWindow()\n        self.ui.setupUi(self)\n        self.show()\n\napp = QApplication(sys.argv)\nw = AppWindow()\nw.show()\nsys.exit(app.exec_())\n</code></pre>\n\n<p>However, when I try to execute it in Jupyter Notebook, I get the following error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n&lt;ipython-input-1-804f20d6b17d&gt; in &lt;module&gt;()\n     12 \n     13 app = QApplication(sys.argv)\n---&gt; 14 w = AppWindow()\n     15 w.show()\n     16 sys.exit(app.exec_())\n\n&lt;ipython-input-1-804f20d6b17d&gt; in __init__(self)\n      8         super().__init__()\n      9         self.ui = Ui_MainWindow()\n---&gt; 10         self.ui.setupUi(self)\n     11         self.show()\n     12 \n\nC:\\Users\\Dante\\blob.py in setupUi(self, MainWindow)\n     18         self.label.setGeometry(QtCore.QRect(50, 20, 131, 16))\n     19         self.label.setObjectName(\"label\")\n---&gt; 20         MainWindow.setCentralWidget(self.centralwidget)\n     21         self.menubar = QtWidgets.QMenuBar(MainWindow)\n     22         self.menubar.setGeometry(QtCore.QRect(0, 0, 545, 26))\n\nAttributeError: 'AppWindow' object has no attribute 'setCentralWidget'\n</code></pre>\n\n<p>I haven't touched manually the blob.py.</p>\n\n<p>Does anyone happen to know why the code generated by Qt Designer is buggy?\nAnything I have missed?</p>\n\n<p>NB: launching a simple PyQt code (i.e. without importing the GUI, but creating it manually with a few commands) works fine.</p>\n\n<p>Thank you for your kind help!</p>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 358, "user_id": 4796694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FBQ0fIs0h_4/AAAAAAAAAAI/AAAAAAAABKo/wPYJMriKMyY/photo.jpg?sz=128", "display_name": "JavoSN", "link": "https://stackoverflow.com/users/4796694/javosn"}, "edited": false, "score": 2, "creation_date": 1499896665, "post_id": 45067855, "comment_id": 77109621, "body": "You&#39;re only missing indentation on the line for <code>newrow.append(i + str(j+1))</code>."}, {"owner": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "reply_to_user": {"reputation": 358, "user_id": 4796694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FBQ0fIs0h_4/AAAAAAAAAAI/AAAAAAAABKo/wPYJMriKMyY/photo.jpg?sz=128", "display_name": "JavoSN", "link": "https://stackoverflow.com/users/4796694/javosn"}, "edited": false, "score": 0, "creation_date": 1500047105, "post_id": 45067855, "comment_id": 77185110, "body": "Sorry that indentation was a mistake in the code I typed here. I actually have that. That I need is a list of lists. Please note the square brackets between a9 and b1 list = [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a9&#39;],[&#39;b1&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b6&#39;, &#39;b7&#39;, &#39;b8&#39;, &#39;b9&#39;], [&#39;c1&#39;, &#39;c2&#39;, .........],...... [&#39;f1&#39;, &#39;f2&#39;, &#39;f3&#39;, &#39;f4&#39;, &#39;f5&#39;, &#39;f6&#39;, &#39;f7&#39;, &#39;f8&#39;, &#39;f9&#39;]"}, {"owner": {"reputation": 358, "user_id": 4796694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FBQ0fIs0h_4/AAAAAAAAAAI/AAAAAAAABKo/wPYJMriKMyY/photo.jpg?sz=128", "display_name": "JavoSN", "link": "https://stackoverflow.com/users/4796694/javosn"}, "edited": false, "score": 0, "creation_date": 1500047385, "post_id": 45067855, "comment_id": 77185300, "body": "Your code works well with that indentation on my computer."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "edited": false, "score": 0, "creation_date": 1500047231, "post_id": 45067891, "comment_id": 77185184, "body": "Sorry that indentation was a mistake in the code I typed here. I actually have that. What I am looking for is a list of lists. Please note the square brackets between a9 and b1. Thank You.                                                                   list = [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a9&#39;],[&#39;b1&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b6&#39;, &#39;b7&#39;, &#39;b8&#39;, &#39;b9&#39;], [&#39;c1&#39;, &#39;c2&#39;, .........],...... [&#39;f1&#39;, &#39;f2&#39;, &#39;f3&#39;, &#39;f4&#39;, &#39;f5&#39;, &#39;f6&#39;, &#39;f7&#39;, &#39;f8&#39;, &#39;f9&#39;]"}], "tags": [], "owner": {"reputation": 826, "user_id": 6247003, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/21772ce850e24800b5ca0102003b3025?s=128&d=identicon&r=PG&f=1", "display_name": "ajax992", "link": "https://stackoverflow.com/users/6247003/ajax992"}, "is_accepted": false, "score": 0, "last_activity_date": 1499895673, "last_edit_date": 1499895673, "creation_date": 1499895338, "answer_id": 45067891, "question_id": 45067855, "link": "https://stackoverflow.com/questions/45067855/generating-a-list-with-string-and-number/45067891#45067891", "title": "Generating a list with string and number", "body": "<p>Your syntax is wrong.</p>\n\n<p>You need an indent for the content underneath the for loop. Otherwise, it skips it entirely because it doesn't think the loop has any body.</p>\n\n<pre><code>for i in range(1,10):\n    print(\"Do something\");\n</code></pre>\n\n<p>NOT</p>\n\n<pre><code>for i in range(1,10):\nprint(\"Do something\");\n</code></pre>\n\n<p>The code above will print once. The first example would print 10 times. </p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "edited": false, "score": 0, "creation_date": 1500047284, "post_id": 45067979, "comment_id": 77185230, "body": "Thank you for the list comprehension code. I am not up to speed on these yet. However what I am looking for is a list of lists. Please note the square brackets between a9 and b1. Would appreciate if you can show me the code for this using the list comprehension method.  Thank You.         list = [&#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;a7&#39;, &#39;a8&#39;, &#39;a9&#39;],[&#39;b1&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b6&#39;, &#39;b7&#39;, &#39;b8&#39;, &#39;b9&#39;], [&#39;c1&#39;, &#39;c2&#39;, .........],...... [&#39;f1&#39;, &#39;f2&#39;, &#39;f3&#39;, &#39;f4&#39;, &#39;f5&#39;, &#39;f6&#39;, &#39;f7&#39;, &#39;f8&#39;, &#39;f9&#39;]"}, {"owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "reply_to_user": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "edited": false, "score": 0, "creation_date": 1500062699, "post_id": 45067979, "comment_id": 77193180, "body": "Updated my code. Please accept the answer if it is exactly what you want"}, {"owner": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "edited": false, "score": 0, "creation_date": 1500300551, "post_id": 45067979, "comment_id": 77261800, "body": "Thanks. That was neat."}], "tags": [], "owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1500062712, "last_edit_date": 1500062712, "creation_date": 1499895783, "answer_id": 45067979, "question_id": 45067855, "link": "https://stackoverflow.com/questions/45067855/generating-a-list-with-string-and-number/45067979#45067979", "title": "Generating a list with string and number", "body": "<p>Just do it as a list comprehension</p>\n\n<pre><code>rows = ['a','b','c']\nnewrow = [[i+str(j) for j in range(1,10)] for i in rows]\n</code></pre>\n\n<p>The list comprehension is usually faster than the for loop because it doesn't have to look up the list every time it wants to append a value.</p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 4796694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FBQ0fIs0h_4/AAAAAAAAAAI/AAAAAAAABKo/wPYJMriKMyY/photo.jpg?sz=128", "display_name": "JavoSN", "link": "https://stackoverflow.com/users/4796694/javosn"}, "is_accepted": false, "score": 0, "last_activity_date": 1500048370, "creation_date": 1500048370, "answer_id": 45107340, "question_id": 45067855, "link": "https://stackoverflow.com/questions/45067855/generating-a-list-with-string-and-number/45107340#45107340", "title": "Generating a list with string and number", "body": "<p>If you want to maintain each letter as a separate list (maintain the brackets on your first example), you need to append for each letter, then append for each number within the inner loop:</p>\n\n<pre><code>rows = ['a','b','c','d','e','f']\nnewrow = []\nfor i in range(len(rows)):\n    newrow.append([])\n    for j in range(9):\n        newrow[i-1].append(rows[i] + str(j+1))\n\nprint(list(newrow))\n</code></pre>\n\n<p>But I really do suggest you look into list comprehension, @lordingtar 's answer is a nested list comprehension, they may look difficult at first, but once you get used to them they're really very easy.</p>\n"}], "owner": {"reputation": 29, "user_id": 8298472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed30170ea56036b09068622a8276ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Hello_Boy", "link": "https://stackoverflow.com/users/8298472/hello-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1500062712, "creation_date": 1499895114, "last_edit_date": 1499895394, "question_id": 45067855, "link": "https://stackoverflow.com/questions/45067855/generating-a-list-with-string-and-number", "title": "Generating a list with string and number", "body": "<p>I am trying to generate a list that looks like this:</p>\n\n<p>list = ['a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9'],['b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9'], ['c1', 'c2', .........],......\n['f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9']</p>\n\n<p>The code I put in is as follows:</p>\n\n<pre><code>rows = ['a','b','c','d','e','f']\nnewrow=[]\nfor i in rows:\n    print('')\n    for j in range(9):\n    newrow.append(i + str(j+1))\n\nprint(list(newrow))\n</code></pre>\n\n<p>Clearly I am missing something here.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1499895372, "post_id": 45067843, "comment_id": 77109139, "body": "you might want to also include the <a href=\"https://stackoverflow.com/tags/matlab/info\">matlab</a> tag for those users familiar with reading your <code>matlab</code> code"}, {"owner": {"reputation": 1, "user_id": 8298191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e86fc4a07ca49ea02924b34843d84000?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/8298191/aaron"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1499900023, "post_id": 45067843, "comment_id": 77110762, "body": "Thanks but I did originally and a moderator removed the matlab flag."}, {"owner": {"reputation": 7977, "user_id": 3604159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32946c257cb4802dea738db1ecbf0c6?s=128&d=identicon&r=PG&f=1", "display_name": "TheBlackCat", "link": "https://stackoverflow.com/users/3604159/theblackcat"}, "edited": false, "score": 0, "creation_date": 1499969702, "post_id": 45067843, "comment_id": 77148767, "body": "There is a code review stack exchange site for this sort of question."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8298191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e86fc4a07ca49ea02924b34843d84000?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/8298191/aaron"}, "edited": false, "score": 0, "creation_date": 1502222136, "post_id": 45067914, "comment_id": 78113409, "body": "Thanks, I was googling pandas and saw some saying that it&#39;s much faster than numpy.load[save]txt so I might look into this more in the future."}], "tags": [], "owner": {"reputation": 61, "user_id": 8292743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8173829600251a1fcb50ed6f2eafdb73?s=128&d=identicon&r=PG&f=1", "display_name": "zfisher", "link": "https://stackoverflow.com/users/8292743/zfisher"}, "is_accepted": false, "score": 1, "last_activity_date": 1499895482, "creation_date": 1499895482, "answer_id": 45067914, "question_id": 45067843, "link": "https://stackoverflow.com/questions/45067843/reading-and-writing-data-in-python-matlab-user/45067914#45067914", "title": "Reading and writing data in Python (Matlab user)", "body": "<p>This seems like something that you might want to use the Pandas library for. Pandas has a read_csv method which does exactly what it sounds like and stores the data in what is called a DataFrame which you can essentially think of as an excel spreadsheet.</p>\n\n<p><a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/</a></p>\n\n<p>The functionality is similar to R's dataframes or the data.table package.</p>\n"}, {"tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": 1, "last_activity_date": 1499896386, "creation_date": 1499896386, "answer_id": 45068109, "question_id": 45067843, "link": "https://stackoverflow.com/questions/45067843/reading-and-writing-data-in-python-matlab-user/45068109#45068109", "title": "Reading and writing data in Python (Matlab user)", "body": "<p>You can use csv module in the Python standard library to do this.</p>\n\n<pre><code>import csv\n\nwith open('path/to/file.csv', 'r') as f:\n    dict_reader = csv.DictReader(f)\n\nwith open('path/to/output.csv', 'w') as w:\n    dict_writer = csv.DictWriter(w, dict_reader.fieldnames)\n    dict_writer.writeheader()\n    dict_writer.writerows(dict_reader)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8298191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e86fc4a07ca49ea02924b34843d84000?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/8298191/aaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1502222095, "creation_date": 1502222095, "answer_id": 45577020, "question_id": 45067843, "link": "https://stackoverflow.com/questions/45067843/reading-and-writing-data-in-python-matlab-user/45577020#45577020", "title": "Reading and writing data in Python (Matlab user)", "body": "<p>Thanks everyone. I was originally poking around with the csv module and some other things you suggested but ended up using mostly numpy's load[save]txt along with standard Python's readline and some other miscellaneous libraries for certain things. I was just coming back to this today and it took me a while to figure out nested functions, read/write formatting and so forth but I replicated the code and it's only a bit slower than my Matlab version -- including here for posterity:</p>\n\n<pre><code>import numpy as np\nimport os\nfrom itertools import islice\nimport time\n\n\ndef readwrite():\n    tic = time.time()\n    f = read_paths('Paths.txt')\n    n = pull_size(f)\n    hdr, d = read_data(f, n)\n    write_data('Data_Py.txt', hdr, d)\n    toc = time.time()\n    with open('Runtime_Py.txt', 'w') as fid:\n        fid.write(\"Elapsed time is %.6f seconds.\" % (toc - tic))\n\n\ndef read_paths(f):\n    f = np.loadtxt(f, dtype='str', delimiter='\\t', skiprows=1)\n    return os.path.join(f[0], f[1])\n\n\ndef pull_size(f):\n    n = 0\n    with open(f, 'r') as fid:\n        l = fid.readline()\n        h = not(l.count(','))  # headers are not comma delimited\n        while h:\n            n = n + 1\n            l = fid.readline()\n            h = not (l.count(','))\n    # t = l.count(',') + 1  # file is comma delimited\n    return n\n\n\ndef read_data(f, n):\n    with open(f, 'r') as fid:\n        hdr = ''.join(list(islice(fid, n)))\n    hdr = hdr.rstrip('\\n')\n    d = np.loadtxt(f, dtype='float', delimiter=',', skiprows=n)\n    return hdr, d\n\n\ndef write_data(f, hdr, d):\n    np.savetxt(f, d, fmt='%.2f', delimiter=',', newline='\\n', header=hdr, \ncomments='')\n\nreadwrite()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8298191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e86fc4a07ca49ea02924b34843d84000?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/8298191/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 45577020, "answer_count": 3, "score": -1, "last_activity_date": 1502222095, "creation_date": 1499895032, "last_edit_date": 1499895174, "question_id": 45067843, "link": "https://stackoverflow.com/questions/45067843/reading-and-writing-data-in-python-matlab-user", "title": "Reading and writing data in Python (Matlab user)", "body": "<p>I am trying to get into Python from Matlab so, starting small, I'm looking at reading and writing data. I've been spoiled by Matlab's excellent self-contained documentation and am having trouble finding the best approach to follow in Python for what in Matlab is achieved mainly with fopen, textscan, fgetl, regexp, and fprintf. I've seen some advocate numpy.loadtxt (&amp; savetxt) while others advocate a \"with open(...) as f: for line...\" approach -- the latter may be what I need in this case of reading a column of string headers followed by a matrix of floating numbers, both of unknown size. I've put together sample Matlab code that:</p>\n\n<ol>\n<li>Reads the path and name of a file to be read, as noted in a text file, and combines them into a single string</li>\n<li>Determines the number of headers in the file from 1, and size of the matrix of comma delimited floating data below the headers</li>\n<li>Reads the headers and matrix in the file from 1, separated into two variables</li>\n<li>Write the headers and matrix to another file</li>\n</ol>\n\n<p>Some of these steps, for example 2-3, could be combined in practice but separating them here will help me with some distinct tasks. This is maybe more of a \"please share with me best coding practices in Python for this generic task\" rather than a very specific question but I expect this would be useful for other new Python users as well. Thanks for any specific Python code and/or references.</p>\n\n<pre><code>%%\nfunction ReadWrite()\ntic\nf=readPaths();\n[t,n]=pullSize(f);\n[hdr,d]=readData(f,t,n);\nwriteData(hdr,d);\ntoc\nend\n%%\nfunction f=readPaths\nfid=fopen('Paths.txt','r');\nf=textscan(fid,'%s%s','delimiter','\\t','headerlines',1);\nfclose(fid);\nf=char(fullfile(f{1},f{2}));\nend\n%%\nfunction [t,n]=pullSize(f)\nn=0;\nfid=fopen(f,'r');\nl=fgetl(fid);\nh=isempty(regexp(l,',','once')); % headers are not comma delimited\nwhile h\n    n=n+1;\n    l=fgetl(fid);\n    h=isempty(regexp(l,',','once'));\nend\nfclose(fid);\nt=length(regexp(l,','))+1; % file is comma delimited\nend\n%%\nfunction [hdr,d]=readData(f,t,n)\nfid=fopen(f,'r');\nhdr=textscan(fid,'%s',n);\nd=textscan(fid,repmat('%f',1,t),'delimiter',',');\nfclose(fid);\nd=[d{:}];\nhdr=[hdr{:}];\nend\n%%\nfunction writeData(hdr,d)\nfid=fopen('DataTest.csv','w');\nfor i=1:length(hdr)\n    fprintf(fid,'%s\\n',hdr{i});\nend\nfprintf(fid,[repmat('%.4f,',1,size(d,2)-1),'%.4f\\n'],d');\nfclose(fid);\nend\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 7908, "user_id": 1292238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b41e8dc5fb7440e261335294cd11b35?s=128&d=identicon&r=PG", "display_name": "azalea", "link": "https://stackoverflow.com/users/1292238/azalea"}, "edited": false, "score": 1, "creation_date": 1499895265, "post_id": 45067782, "comment_id": 77109098, "body": "Are you sure you are using Django 1.7? django.conf.urls.patterns() is removed in Django 1.10. <a href=\"https://docs.djangoproject.com/en/1.10/releases/1.8/#django-conf-urls-patterns\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.10/releases/1.8/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 1, "last_activity_date": 1499895189, "creation_date": 1499895189, "answer_id": 45067866, "question_id": 45067782, "link": "https://stackoverflow.com/questions/45067782/django-1-7-getting-importerror-cannot-import-name-patterns/45067866#45067866", "title": "Django 1.7 getting ImportError, Cannot import name patterns", "body": "<p>In Django 1.7, you should be able to import <code>patterns</code> from <code>django.conf.urls</code>. Is it possible you are on a newer version of Django?</p>\n\n<p>Also, the use of <code>patterns</code> is deprecated since Django 1.8, so you can actually just avoid using it and replace your code with</p>\n\n<pre><code>urlpatterns = [\n    url(r'^$', views.IndexView, name='index'),\n    url(r'^admin/import', views.myimport),\n    url(r'^favicon\\.ico$', RedirectView.as_view(url='/static/images/bridge_favicon.ico')),\n    url(r'^words_page_redirect/(?P&lt;language&gt;[a-zA-Z]+)/$', views.words_page_redirect),....\n]\n</code></pre>\n\n<p>Note: make sure that each entry is wrapped with the <code>url</code> function with this approach.</p>\n"}], "owner": {"reputation": 517, "user_id": 6432861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/1160717103959206/picture?type=large", "display_name": "Byron Smith", "link": "https://stackoverflow.com/users/6432861/byron-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499895189, "creation_date": 1499894780, "question_id": 45067782, "link": "https://stackoverflow.com/questions/45067782/django-1-7-getting-importerror-cannot-import-name-patterns", "title": "Django 1.7 getting ImportError, Cannot import name patterns", "body": "<p>Right now when I attempt to do <code>makemigrations</code>, I get the infamous <code>cannot import names pattern</code> message, upon reviewing my <code>urls.py</code> file. I've been searching online for a potential solution given that I am working in Django 1.7, but I haven't found success. I still don't know why this is happening on my current version of django at all and any possible explanation on what could be causing it would be appreciated.</p>\n\n<p>In my urls.py file I have</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.views.generic import RedirectView\nfrom django.contrib import admin\nadmin.autodiscover()\nfrom new_bridge import views\n\nurlpatterns = patterns('',\nurl(r'^$', views.IndexView, name='index'),\nurl(r'^admin/import', views.myimport),\n(r'^favicon\\.ico$', RedirectView.as_view(url='/static/images/bridge_favicon.ico')),\nurl(r'^words_page_redirect/(?P&lt;language&gt;[a-zA-Z]+)/$', views.words_page_redirect),....\n)\n</code></pre>\n\n<p>and the final line of the message I get on terminal is simply</p>\n\n<pre><code>File \"/srv/bridge-repo/new_bridge/urls.py\", line 1, in &lt;module&gt;\n    from django.conf.urls import patterns, include, url\n</code></pre>\n\n<p>Please let me know what other info I could provide to be of more help. Any input on what I could do to actually learn more about this issue, alongside resolve it, is appreciated.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "is_accepted": false, "score": 1, "last_activity_date": 1499894837, "creation_date": 1499894837, "answer_id": 45067799, "question_id": 45067758, "link": "https://stackoverflow.com/questions/45067758/merge-duplicate-columns-pandas/45067799#45067799", "title": "Merge duplicate columns Pandas", "body": "<p>If df is your dataframe:</p>\n\n<pre><code>df.max(axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1499906194, "last_edit_date": 1499906194, "creation_date": 1499905673, "answer_id": 45069600, "question_id": 45067758, "link": "https://stackoverflow.com/questions/45067758/merge-duplicate-columns-pandas/45069600#45069600", "title": "Merge duplicate columns Pandas", "body": "<p>Here are some convenient ways to do it that generalize to all datatypes</p>\n\n<p>Consider the dataframe <code>df</code></p>\n\n<pre><code>v = np.empty((8, 8), dtype=object)\nv.fill(None)\n\ni = np.arange(8)\n\nv[i, i] = [123, 432, 53, 221, 2, 3, 'hello', 12]\n\ndf = pd.DataFrame(v, list('abcdefgh'), ['Column1[%s]' % i for i in range(1, 9)])\n\ndf\n\n  Column1[1] Column1[2] Column1[3] Column1[4] Column1[5] Column1[6] Column1[7] Column1[8]\na        123       None       None       None       None       None       None       None\nb       None        432       None       None       None       None       None       None\nc       None       None         53       None       None       None       None       None\nd       None       None       None        221       None       None       None       None\ne       None       None       None       None          2       None       None       None\nf       None       None       None       None       None          3       None       None\ng       None       None       None       None       None       None      hello       None\nh       None       None       None       None       None       None       None         12\n</code></pre>\n\n<hr>\n\n<p><strong>Option 1</strong><br>\n<code>stack</code> by default drops nulls.  This works as desired if there is only one value per row.</p>\n\n<pre><code>df.stack()\n\na  Column1[1]      123\nb  Column1[2]      432\nc  Column1[3]       53\nd  Column1[4]      221\ne  Column1[5]        2\nf  Column1[6]        3\ng  Column1[7]    hello\nh  Column1[8]       12\ndtype: object\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>df.stack().reset_index(1, drop=True)\n\na      123\nb      432\nc       53\nd      221\ne        2\nf        3\ng    hello\nh       12\ndtype: object\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\n<code>apply</code> and <code>dropna</code></p>\n\n<pre><code>df.apply(lambda x: x.dropna()[0], 1)\n\na      123\nb      432\nc       53\nd      221\ne        2\nf        3\ng    hello\nh       12\ndtype: object\n</code></pre>\n\n<hr>\n\n<p><strong>Option 3</strong><br>\nCombination of <code>np.where</code> and <code>pd.DataFrame.lookup</code>  </p>\n\n<pre><code>i, j = np.where(df.notnull())\nidx = df.index[i]\ncol = df.columns[j]\n\npd.Series(df.lookup(idx, col), idx)\n\na      123\nb      432\nc       53\nd      221\ne        2\nf        3\ng    hello\nh       12\ndtype: object\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8000201, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154811777982261/picture?type=large", "display_name": "Nawar", "link": "https://stackoverflow.com/users/8000201/nawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1499906194, "creation_date": 1499894682, "question_id": 45067758, "link": "https://stackoverflow.com/questions/45067758/merge-duplicate-columns-pandas", "title": "Merge duplicate columns Pandas", "body": "<p>I'm looking for a way to merge duplicate columns, assuming the blanks are NaN</p>\n\n<pre><code>Column1[1]  Column1[2]  Column1[3]  Column1[4]  Column1[4]  Column1[5]  Column1[6]  Column1[7]\n  a 123                         \n  b            432                      \n  c                         53                  \n  d                                 221             \n  e                                                 2           \n  f                                                             3       \n  g                                                                         3243    \n  h                                                                                     12\n</code></pre>\n\n<p>the output should look like this </p>\n\n<pre><code>  Row   Column1[ALL]\n  a 123\n  b 432\n  c 53\n  d 221\n  e 2\n  f 3\n  g 3243\n  h 12\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 5949840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NR4A7.jpg?s=128&g=1", "display_name": "Sumeet Kumar", "link": "https://stackoverflow.com/users/5949840/sumeet-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1499923682, "creation_date": 1499923682, "answer_id": 45072058, "question_id": 45067729, "link": "https://stackoverflow.com/questions/45067729/question-text-is-an-invalid-keyword-argument-for-this-function/45072058#45072058", "title": "&#39;question_text&#39; is an invalid keyword argument for this function", "body": "<p>If you are doing this in django shell, you first need to import the models you are working with, in your case you need to import model <em>Question</em></p>\n\n<p>let's recall everything from beginning.</p>\n\n<p><strong>Step 1: Activate your shell</strong></p>\n\n<pre><code>python manage.py shell\n</code></pre>\n\n<p><strong>Step 2: Import your model <em>Question</em> and also import <em>timezone</em></strong></p>\n\n<pre><code>from polls.models import Question\nfrom django.utils import timezone\n</code></pre>\n\n<p><strong>Step 3: Now run your query</strong></p>\n\n<pre><code>q = Question(question_text=\"What's new?\", pub_date=timezone.now())\n</code></pre>\n\n<p>If you have noticed, here is what you were doing wrong,according to your question.</p>\n\n<p><strong>Step 4: Run save method</strong></p>\n\n<pre><code>q.save()\n</code></pre>\n\n<p>All of this is w.r.t <a href=\"https://docs.djangoproject.com/en/1.11/intro/tutorial02/#playing-with-the-api\" rel=\"nofollow noreferrer\">Polls Tutorial</a> Playing with api.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7490344, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-udGsozHhvng/AAAAAAAAAAI/AAAAAAAAAIo/JcLzXvOT_0E/photo.jpg?sz=128", "display_name": "Satish Chougule", "link": "https://stackoverflow.com/users/7490344/satish-chougule"}, "is_accepted": false, "score": 0, "last_activity_date": 1514089697, "creation_date": 1514089697, "answer_id": 47958070, "question_id": 45067729, "link": "https://stackoverflow.com/questions/45067729/question-text-is-an-invalid-keyword-argument-for-this-function/47958070#47958070", "title": "&#39;question_text&#39; is an invalid keyword argument for this function", "body": "<p>I think while learning tutorial you have done lot of code changes and those are not reflected in sql database.</p>\n\n<p>SO, before doing above your steps follow the bellow steps.</p>\n\n<pre><code>python manage.py migrate\npython manage.py makemigrations polls\npython manage.py migrate\n</code></pre>\n\n<p>and now do this </p>\n\n<pre><code>python manage.py shell \nfrom polls.models import Question \nfrom django.utils import timezone \nq = Question(question_text=\"What's new?\", pub_date=timezone.now() \nq.save()\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4005168, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/90543e3e1f543827cd91d3a1ddbc4875?s=128&d=identicon&r=PG&f=1", "display_name": "mafox", "link": "https://stackoverflow.com/users/4005168/mafox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 853, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1514089697, "creation_date": 1499894587, "last_edit_date": 1499904264, "question_id": 45067729, "link": "https://stackoverflow.com/questions/45067729/question-text-is-an-invalid-keyword-argument-for-this-function", "title": "&#39;question_text&#39; is an invalid keyword argument for this function", "body": "<p>I'm trying to follow the Polls tutorial I include both the <code>urls.py</code>, from the project and the <code>models.py</code> from the polls directory.</p>\n\n<pre><code>q = Question(question_text=\"some text\", pub_date=timezone.now))\n</code></pre>\n\n<p>results in the following error:</p>\n\n<pre><code>'question_text' is  an invalid keyword argument for this function.\n</code></pre>\n\n<p><strong>mysite/urls.py</strong></p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n    url(r'^polls/', include('polls.urls')),\n    url(r'^admin/', admin.site.urls),\n]\n</code></pre>\n\n<p><strong>polls/models.py</strong></p>\n\n<pre><code>import datetime\nfrom django.db import models\nfrom django.utils import timezone\n\n# Create your models here.\n\nclass Poll(models.Model):\n    question = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\n\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\n    def __str__(self):\n        return self.question_text\n\n    def was_published_recently(self):\n        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)\n\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n\n    def __str__(self):\n        return self.choice_text\n</code></pre>\n"}, {"tags": ["python", "json", "sorting"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499894369, "post_id": 45067674, "comment_id": 77108663, "body": "JSON objects (and the Python dictionaries they are mapped to) don&#39;t have guaranteed order, so it&#39;s not clear what you mean."}, {"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499894556, "post_id": 45067674, "comment_id": 77108739, "body": "@jonrsharpe: I removed the reference to key."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1499894634, "post_id": 45067674, "comment_id": 77108784, "body": "Why do you think you want this?"}, {"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "edited": false, "score": 0, "creation_date": 1499894741, "post_id": 45067674, "comment_id": 77108833, "body": "Because I want this sorted.  I am passing this back to javascript to load a select object."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1499894765, "post_id": 45067674, "comment_id": 77108850, "body": "Again, though, <i>objects aren&#39;t sorted</i>. If order matters, put them in an array."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894808, "post_id": 45067674, "comment_id": 77108866, "body": "Ohhh, you wanted it sorted by Name."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499895582, "post_id": 45067674, "comment_id": 77109224, "body": "To emphasize what @jonrsharpe already said, JSON objects (and Python dictionaries representing them) are unordered, so they can&#39;t be sorted. However JSON does have a structure which is an <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">ordered list of values</a>, commonly called an &quot;array&quot; (or a <code>list</code> in Python)."}, {"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499896763, "post_id": 45067674, "comment_id": 77109659, "body": "Thanks @jonrsharpe and martineau for setting me straight on this.  I changed the dictionary to an array and the json conversion kept the original sorting."}, {"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "edited": false, "score": 0, "creation_date": 1499896825, "post_id": 45067674, "comment_id": 77109689, "body": "And thanks to whomever for the down votes."}], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499895149, "post_id": 45067817, "comment_id": 77109050, "body": "The second link has nothing to do with this problem, there are no lists involved."}, {"owner": {"reputation": 4147, "user_id": 6654077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3deaf30afffe58c663f22106e4fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/6654077/fabien"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499901838, "post_id": 45067817, "comment_id": 77111259, "body": "This is a reference for the lead given previously in the answer."}], "tags": [], "owner": {"reputation": 4147, "user_id": 6654077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa3deaf30afffe58c663f22106e4fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/6654077/fabien"}, "is_accepted": false, "score": 1, "last_activity_date": 1499894932, "creation_date": 1499894932, "answer_id": 45067817, "question_id": 45067674, "link": "https://stackoverflow.com/questions/45067674/sort-json-by-field-other-than-key/45067817#45067817", "title": "Sort JSON by field other than Key", "body": "<p>You can user OrderedDict to implement a dictionary with ordered keys in Python. </p>\n\n<p>However, you cannot guarantee that the JSON object will be loaded in order by other applications, because there is no ordering on dictionaries by nature (hashtables).</p>\n\n<p>So, iterating on keys gives you no order guarantee, unless you use a specific class for both Python and JavaScript or if you put your dictionaries into an array whose order is static.</p>\n\n<p><a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/collections.html#collections.OrderedDict</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/72899/how-do-i-sort-a-list-of-dictionaries-by-values-of-the-dictionary-in-python\">How do I sort a list of dictionaries by values of the dictionary in Python?</a></p>\n"}], "owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1499897360, "creation_date": 1499894284, "last_edit_date": 1499897360, "question_id": 45067674, "link": "https://stackoverflow.com/questions/45067674/sort-json-by-field-other-than-key", "title": "Sort JSON by field other than Key", "body": "<p>I have a JSON string that I want to sort.  I want to sort it by the <code>'Name'</code> field.  I can't for the life of me find code that does this.</p>\n\n<p><strong>Unsorted:</strong></p>\n\n<p><code>{\"RU\": {\"Name\": \"Russian\", \"TextDirection\": \"ltr\"}, \"FR\": {\"Name\": \"French\", \"TextDirection\": \"ltr\"}, \"AR\": {\"Name\": \"Arabic\", \"TextDirection\": \"rtl\"}}</code></p>\n\n<p><strong>Sorted:</strong></p>\n\n<p><code>{\"AR\": {\"Name\": \"Arabic\", \"TextDirection\": \"rtl\"}, \"FR\": {\"Name\": \"French\", \"TextDirection\": \"ltr\"}, \"RU\": {\"Name\": \"Russian\", \"TextDirection\": \"ltr\"}}</code></p>\n\n<p><strong>Update:</strong> </p>\n\n<p>As @jonrsharpe and @martineau pointed out.  I needed to use an array or a list.  I'm not too concerned about the structure. What was originally messing up the sort order was the conversion to json.  By using an array instead, json did not muck with the sort order.</p>\n\n<pre><code>[{\"Code\": \"AR\", \"Name\": \"Arabic\", \"TextDirection\": \"rtl\"}, {\"Code\": \"FR\", \"Name\": \"French\", \"TextDirection\": \"ltr\"}, {\"Code\": \"RU\", \"Name\": \"Russian\", \"TextDirection\": \"ltr\"}]\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 5, "creation_date": 1499894341, "post_id": 45067666, "comment_id": 77108654, "body": "Nooo.... don&#39;t use <code>eval(..)</code>... Someone can simply hack arbitrary code into your program now..."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1499894387, "post_id": 45067666, "comment_id": 77108670, "body": "@WillemVanOnsem Thanks for cringing on my behalf."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894456, "post_id": 45067666, "comment_id": 77108696, "body": "If you&#39;re anyway joining them with a newline, you can just call <code>f.read()</code>. Also, what&#39;s <code>file(...)</code>? Did you mean <code>open(...)</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1499894484, "post_id": 45067666, "comment_id": 77108707, "body": "You might as well just use JSON for this."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1499894536, "post_id": 45067666, "comment_id": 77108729, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 old, deprecated Python 2 builtin that works like <code>open</code> : <a href=\"https://docs.python.org/2/library/functions.html#file\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#file</a> I only ever used it to check <code>isinstance(obj, file)</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894537, "post_id": 45067666, "comment_id": 77108732, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2835559/parsing-values-from-a-json-file-using-python\">Parsing values from a JSON file using Python?</a>"}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 2, "creation_date": 1499894565, "post_id": 45067666, "comment_id": 77108743, "body": "<code>ast.literal_eval</code> (<a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">docs.python.org/2/library/ast.html#ast.literal_eval</a>) should be able to handle legitimate uses of this kind of pattern without the dangers <code>eval</code> introduces. Or, you know, use json or yaml or <a href=\"https://docs.python.org/2/library/configparser.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/configparser.html</a> or something."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1499894640, "post_id": 45067666, "comment_id": 77108785, "body": "@juanpa.arrivillaga Ah, I see. Had no idea about it. Cool..."}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1499894848, "post_id": 45067666, "comment_id": 77108888, "body": "sounds like no one like eval. I&#39;ll have a look into json. But what making changes to dict and writing it back to a file?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1499895149, "post_id": 45067666, "comment_id": 77109053, "body": "If you want to make your config &#39;human readable/editable&#39;, use the built-in <code>configparser</code> module, or YAML (<code>ruamel.yaml</code> should do just fine). Otherwise JSON is more than enough and you can easily parse it with <code>your_dict = json.read(your_file_handle)</code> and write to it with <code>json.write(your_file_handle, dict)</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499895254, "post_id": 45067666, "comment_id": 77109093, "body": "@golu <code>dicts</code> are compatible with JSON, as long as you use lists and dicts only. Look into <code>json.load</code> and <code>json.dump</code>."}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1499895259, "post_id": 45067666, "comment_id": 77109096, "body": "Thanks, but config already exists and changing it&#39;s format is not an option. I can only read it, make changes and save it (in same format) to a new file"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1499895377, "post_id": 45067666, "comment_id": 77109142, "body": "@golu - does your config have complex values (i.e. nested dictionaries and such)? If not, <code>configparser</code> will still work on it just fine."}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1499895726, "post_id": 45067666, "comment_id": 77109275, "body": "Yes it is. Here&#39;s a small sample: <a href=\"https://ibb.co/eWHsXv\" rel=\"nofollow noreferrer\">ibb.co/eWHsXv</a>. I will look into configparser"}, {"owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "edited": false, "score": 0, "creation_date": 1499896148, "post_id": 45067666, "comment_id": 77109434, "body": "configparser didn&#39;t work --&gt; Error: MissingSectionHeaderError: File contains no section headers"}], "answers": [{"tags": [], "owner": {"reputation": 250, "user_id": 3427093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/49f5d92a07a86d3afdaede2863bd503e?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3427093/jack"}, "is_accepted": false, "score": -2, "last_activity_date": 1499895107, "creation_date": 1499895107, "answer_id": 45067852, "question_id": 45067666, "link": "https://stackoverflow.com/questions/45067666/python-write-dictionary-to-file/45067852#45067852", "title": "Python write dictionary to file", "body": "<p>You could try this (overlooking the security hole of eval):</p>\n\n<pre><code>myDict = {}\nwith open(configFile, 'r+') as file:\n    cfg = file.readlines()\n    myDict = eval('\\n'.join(dgf))\n    myDict['new key'] = 'new value'\n\n    file.seek(0)\n    file.write(str(myDict)) #format this if you want, str() is raw\n    file.truncate()\n</code></pre>\n\n<p>The above <em>should</em> open the file, evaluate the contents as a dict (as per your code), add a new value (just modifying the dictionary), and then overwrite the original file.</p>\n"}], "owner": {"reputation": 409, "user_id": 4682461, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fa2cf12516975755b191a1181ac949b?s=128&d=identicon&r=PG&f=1", "display_name": "golu", "link": "https://stackoverflow.com/users/4682461/golu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499895337, "creation_date": 1499894257, "last_edit_date": 1499895337, "question_id": 45067666, "link": "https://stackoverflow.com/questions/45067666/python-write-dictionary-to-file", "title": "Python write dictionary to file", "body": "<p>I have a original config file which I found a very nice way to read. Like this:</p>\n\n<pre><code>myDict = {}\ncfg = file(configFile, 'r').readlines()\nmyDict = eval('\\n'.join(cfg))\n</code></pre>\n\n<p>This gets my file's contents in to myDict very nicely. But what is a simple looking way to make changes to its contents and create/write to a new modified file? thanks</p>\n"}, {"tags": ["python", "flask", "celery"], "comments": [{"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1499897081, "post_id": 45067618, "comment_id": 77109790, "body": "Did you try creating an app? <code>app = Flask(__name__)</code> in <code>tasks.py</code> before your class definition"}], "answers": [{"comments": [{"owner": {"reputation": 3012, "user_id": 1641300, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/oFBsP.jpg?s=128&g=1", "display_name": "Tinker", "link": "https://stackoverflow.com/users/1641300/tinker"}, "edited": false, "score": 0, "creation_date": 1499899643, "post_id": 45068400, "comment_id": 77110645, "body": "I am currently using flask-celery which does something almost identical to what you mentioned: <a href=\"https://github.com/Robpol86/Flask-Celery-Helper/blob/master/flask_celery.py#L220\" rel=\"nofollow noreferrer\">github.com/Robpol86/Flask-Celery-Helper/blob/master/&hellip;</a>   So I think flask_celery already covers me in that aspect."}, {"owner": {"reputation": 1584, "user_id": 3775614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkkon.png?s=128&g=1", "display_name": "lee-pai-long", "link": "https://stackoverflow.com/users/3775614/lee-pai-long"}, "reply_to_user": {"reputation": 3012, "user_id": 1641300, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/oFBsP.jpg?s=128&g=1", "display_name": "Tinker", "link": "https://stackoverflow.com/users/1641300/tinker"}, "edited": false, "score": 0, "creation_date": 1499979140, "post_id": 45068400, "comment_id": 77153911, "body": "As the <a href=\"http://flask.pocoo.org/docs/0.12/patterns/celery/\" rel=\"nofollow noreferrer\">doc</a> and the <a href=\"https://github.com/ask/flask-celery/blob/master/README.rst\" rel=\"nofollow noreferrer\">flask-celery r&#233;alisme</a> say, there is no need for an extension anymore. Using it will be at the risk of depending on a no longer maintain middleware. Anyway looking back at my answer, it seems wrong, the wrongly bound object is <code>db</code> not <code>celery</code>. Can you please share your full code ? So we can see how your db object is created and share."}, {"owner": {"reputation": 603, "user_id": 5426649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06e8dc32d97b1f0deb88bba090f58e46?s=128&d=identicon&r=PG&f=1", "display_name": "Olivier", "link": "https://stackoverflow.com/users/5426649/olivier"}, "edited": false, "score": 0, "creation_date": 1524404212, "post_id": 45068400, "comment_id": 86948626, "body": "@lee-pai-long You just made my day! I wished I found this doc earlier!"}], "tags": [], "owner": {"reputation": 1584, "user_id": 3775614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkkon.png?s=128&g=1", "display_name": "lee-pai-long", "link": "https://stackoverflow.com/users/3775614/lee-pai-long"}, "is_accepted": false, "score": 1, "last_activity_date": 1499897880, "creation_date": 1499897880, "answer_id": 45068400, "question_id": 45067618, "link": "https://stackoverflow.com/questions/45067618/flask-not-bounded-to-current-context/45068400#45068400", "title": "Flask - Not bounded to current context", "body": "<p>I will assume that you use sqlachemy and the flask-sqlalchemy extension. And that you  get your <code>db</code> object from some dedicated module and this object is also bound to the flask instance(please edit your question to clarify those point).</p>\n\n<p>Inside your <code>app</code> module declare your celery config:</p>\n\n<pre><code>app = Flask(__name__)\napp.config[CELERY_BROKER_URL] = 'redis://localhost:6379'\napp.config[CELERY_RESULT_BACKEND] = 'redis://localhost:6379'\n</code></pre>\n\n<p>Then inside your celery module you need to bound it to flask:</p>\n\n<pre><code>from celery import Celery\nfrom app import current_app as app\n\ndef bound_celery(app): \n    celery = Celery(\n        app.import_name,\n        backend=app.config['CELERY_RESULT_BACKEND'],      \n        broker=app.config['CELERY_BROKER_URL']\n    )\n    celery.conf.update(app.config)    \n    TaskBase = celery.Task \n\n    class ContextTask(TaskBase): \n        abstract = True \n        def __call__(self, *args, **kwargs): \n            with app.app_context(): \n                return TaskBase.__call__(self, *args, **kwargs)\n    celery.Task = ContextTask\n    return celery\n\n celery = bound_celery(app)\n</code></pre>\n\n<p>And finally use the <code>celery</code> created object to decorate your tasks: </p>\n\n<pre><code>@celery.task(bind=True, base=ChangeBackStatusOnErrorTask) \ndef deploy_server(self, server_id):\n    ...\n</code></pre>\n\n<p>Source: <a href=\"http://flask.pocoo.org/docs/0.12/patterns/celery/\" rel=\"nofollow noreferrer\">flask doc</a></p>\n"}], "owner": {"reputation": 3012, "user_id": 1641300, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/oFBsP.jpg?s=128&g=1", "display_name": "Tinker", "link": "https://stackoverflow.com/users/1641300/tinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499897880, "creation_date": 1499894020, "question_id": 45067618, "link": "https://stackoverflow.com/questions/45067618/flask-not-bounded-to-current-context", "title": "Flask - Not bounded to current context", "body": "<p>I am trying to write a class, ChangeBackStatusOnErrorTask which does exactly as its name implies.</p>\n\n<pre><code>class ChangeBackStatusOnErrorTask(Task):\n  abstract = True\n\n  def on_failure(self, exc, task_id, args, kwargs, einfo):\n    server = Server.query.get(server_id)\n    server.status = RemoteStatus.ERROR\n    db.session.commit()\n\n\n@celery.task(bind=True, base=ChangeBackStatusOnErrorTask)\ndef deploy_server(self, server_id):\n  try:\n    server.status = RemoteStatus.LAUNCHING\n    db.session.commit()\n\n    host = server.ssh_user + '@' + server.ip\n    execute(fabric_deploy_server, self, server, hosts=host)\n\n    server.status = RemoteStatus.LAUNCHED\n    db.session.commit()\n  except Exception as e:\n    server.status = RemoteStatus.ERROR\n    db.session.commit()\n    traceback.print_exc()\n    raise e\n</code></pre>\n\n<p>However, this code is not working due to the fact that ChangeBackStatusOnErrorTask is not bounded to my Flask context: </p>\n\n<pre><code>  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/celery/app/trace.py\", line 367, in trace_task\n    R = retval = fun(*args, **kwargs)\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/celery/app/trace.py\", line 622, in __protected_call__\n    return self.run(*args, **kwargs)\n  File \"/Users/vng/Dropbox/Code/Affiliate/AutomataHeroku/automata/server/tasks.py\", line 59, in deploy_server\n    server = Server.query.get(server_id)\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 498, in __get__\n    return type.query_class(mapper, session=self.sa.session())\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/sqlalchemy/orm/scoping.py\", line 78, in __call__\n    return self.registry()\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/sqlalchemy/util/_collections.py\", line 990, in __call__\n    return self.registry.setdefault(key, self.createfunc())\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/sqlalchemy/orm/session.py\", line 2861, in __call__\n    return self.class_(**local_kw)\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 143, in __init__\n    self.app = app = db.get_app()\n  File \"/Users/vng/.virtualenvs/AutomataHeroku/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 957, in get_app\n    'application not registered on db instance and no application'\nRuntimeError: application not registered on db instance and no application bound to current context\n</code></pre>\n\n<h1>How can I fix this?</h1>\n"}, {"tags": ["python", "regex", "bash", "awk", "sed"], "answers": [{"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 0, "last_activity_date": 1499894596, "creation_date": 1499894596, "answer_id": 45067732, "question_id": 45067617, "link": "https://stackoverflow.com/questions/45067617/sorting-by-columns-with-wildcard-numbers-and-writing-matching-sets-to-file/45067732#45067732", "title": "Sorting by Columns with Wildcard Numbers and Writing Matching sets to File", "body": "<p>Assuming you have that sorted data in dataset.txt:</p>\n\n<pre><code>import csv\nimport itertools\nimport operator\n\n\nwith open('dataset.txt') as fin:\n    infile = csv.reader(fin)\n    for k,group in itertools.groupby(infile, operator.itemgetter(0,1)):\n        with open('Storm_{}.txt'.format(\"_\".join(k))) as fout:\n            outfile = csv.writer(fout)\n            outfile.writerows(list(group))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 0, "last_activity_date": 1499956033, "last_edit_date": 1499956033, "creation_date": 1499895963, "answer_id": 45068024, "question_id": 45067617, "link": "https://stackoverflow.com/questions/45067617/sorting-by-columns-with-wildcard-numbers-and-writing-matching-sets-to-file/45068024#45068024", "title": "Sorting by Columns with Wildcard Numbers and Writing Matching sets to File", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>awk -F', +' '!(($1,$2) in a){a[$1,$2]=++c} {print &gt; \"storm\"a[$1,$2]\".txt\"}' file\n</code></pre>\n\n<p>note that initial sorting of data is not required.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3026339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45068024, "answer_count": 2, "score": 0, "last_activity_date": 1499956033, "creation_date": 1499894003, "question_id": 45067617, "link": "https://stackoverflow.com/questions/45067617/sorting-by-columns-with-wildcard-numbers-and-writing-matching-sets-to-file", "title": "Sorting by Columns with Wildcard Numbers and Writing Matching sets to File", "body": "<p>I have used:</p>\n\n<pre><code>sort -k 1,2\n</code></pre>\n\n<p>to attain the following sorted dataset:</p>\n\n<pre><code>ATL, 03, 922, 145\nEP, 05, 976, 76\nEP, 06, 960, 85\nWP, 21, 988, 46\nWP, 22, 992, 46\n</code></pre>\n\n<p>How then would I write the sorted dataset (the first and second columns are joined in a sense), out to all different text files?</p>\n\n<p>Column one will always contain ATL, EP, and WP. \nColumn two will always contain arbitrarily assigned numbers. </p>\n\n<p>What I also desire is to have all entries of ATL 03 be written out to one file of a static name, like storm1.txt; then all entries of EP, 05 be written out to another file of a static name, say storm2.txt. </p>\n\n<p>Thank you very much for your help in advance! </p>\n"}, {"tags": ["python", "terminal"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 1, "creation_date": 1499894937, "post_id": 45067587, "comment_id": 77108931, "body": "you made a typo in function <code>game()</code> result <i>s</i>"}, {"owner": {"reputation": 1, "user_id": 8292487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59d73c4a89d5f7a2da5e47861a7896a?s=128&d=identicon&r=PG&f=1", "display_name": "ididntjump", "link": "https://stackoverflow.com/users/8292487/ididntjump"}, "reply_to_user": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 0, "creation_date": 1499895542, "post_id": 45067587, "comment_id": 77109212, "body": "Fixed the typo in the game() function and have changed raw_input to input to ensure the data type is int. However the loop still won&#39;t fully iterate and now when I enter a string, instead of the error message, terminal ends the program. Any ideas about where I&#39;m going wrong?"}, {"owner": {"reputation": 916, "user_id": 619255, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae6551bf50d098eb3852e08e91c88c9b?s=128&d=identicon&r=PG", "display_name": "Robert Kelly", "link": "https://stackoverflow.com/users/619255/robert-kelly"}, "edited": false, "score": 1, "creation_date": 1499895972, "post_id": 45067587, "comment_id": 77109370, "body": "Can you update the code in the question to the current code you&#39;re working with? Version in question still has type on result() in the game() function. Fixing that, the current code runs fine for me."}, {"owner": {"reputation": 1, "user_id": 8292487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59d73c4a89d5f7a2da5e47861a7896a?s=128&d=identicon&r=PG&f=1", "display_name": "ididntjump", "link": "https://stackoverflow.com/users/8292487/ididntjump"}, "edited": false, "score": 0, "creation_date": 1499896911, "post_id": 45067587, "comment_id": 77109724, "body": "Updated the code. Tried to run in both terminal and IDLE and still not working? I&#39;ve tried both raw_input and input."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1499898324, "post_id": 45067587, "comment_id": 77110223, "body": "Your <code>move</code> function works just fine for me (with either <code>input</code> or <code>raw_input</code>, though the latter is better at handling inappropriate entries). Are you pressing enter after typing in your text?"}, {"owner": {"reputation": 1, "user_id": 8292487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59d73c4a89d5f7a2da5e47861a7896a?s=128&d=identicon&r=PG&f=1", "display_name": "ididntjump", "link": "https://stackoverflow.com/users/8292487/ididntjump"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1499898680, "post_id": 45067587, "comment_id": 77110336, "body": "@Blckknght I&#39;m entering an input and then pressing enter yes, when I do this, it just prompts me again to &#39;Make a move:&#39;?"}, {"owner": {"reputation": 916, "user_id": 619255, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ae6551bf50d098eb3852e08e91c88c9b?s=128&d=identicon&r=PG", "display_name": "Robert Kelly", "link": "https://stackoverflow.com/users/619255/robert-kelly"}, "edited": false, "score": 0, "creation_date": 1499901763, "post_id": 45067587, "comment_id": 77111237, "body": "Maybe try adding  <code>except ValueError as e: print e</code> To see if it&#39;s hitting some sort of exception? Or to see what input you&#39;re actually getting: <code>if player in (1,2,3):   return player else:   print player</code>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1499905801, "post_id": 45067587, "comment_id": 77112251, "body": "When I run the code you&#39;ve shown, it works as expected. So clearly something is going on in your environment that&#39;s not replicated in the code you&#39;ve shown. I&#39;d double check that you&#39;re actually running this code (and not some old version of it), and perhaps (as Robert Kelly suggests) modify the <code>try</code> block so that you&#39;ll see if you&#39;re getting an unexpected exception."}, {"owner": {"reputation": 101, "user_id": 8251588, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-D4DMvSTTYX4/AAAAAAAAAAI/AAAAAAAAAyg/V4Pn2HODZiw/photo.jpg?sz=128", "display_name": "Shakar Bhattarai", "link": "https://stackoverflow.com/users/8251588/shakar-bhattarai"}, "edited": false, "score": 0, "creation_date": 1499923100, "post_id": 45067587, "comment_id": 77116479, "body": "Can you try using <code>for player in [1,2,3]</code>?"}], "owner": {"reputation": 1, "user_id": 8292487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b59d73c4a89d5f7a2da5e47861a7896a?s=128&d=identicon&r=PG&f=1", "display_name": "ididntjump", "link": "https://stackoverflow.com/users/8292487/ididntjump"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499980807, "creation_date": 1499893853, "last_edit_date": 1499980807, "question_id": 45067587, "link": "https://stackoverflow.com/questions/45067587/python-code-doesnt-iterate-through-whole-loop-and-stuck-at-raw-input", "title": "python code doesn&#39;t iterate through whole loop and stuck at raw_input", "body": "<p>I'm currently attempting to learn python and have recently purchased a book of beginner exercises etc. One of the challenges is to build a rock, paper, scissors game using the below code. When I use this code though, I get stuck in the move function, in terminal I enter a move and it doesn't move to the 'try' command and just prompts me to enter another number. It looks as though the program is stuck in the while loop and won't move further than raw_input. I've tried a few things but I can't seem to get my head around it. Any help would be greatly appreciated. Thanks! </p>\n\n<pre><code>import random\nimport time\n\nrock = 1\npaper = 2\nscissors = 3\n\nnames = {rock: \"Rock\", paper:\"Paper\", scissors:\"Scissors\"}\nrules = {rock:scissors, paper:rock, scissors:paper}\n\nplayer_score = 0\ncomputer_score = 0\n\ndef start():\n    print\n    print \"Let's play Rock, Paper, Scissors\"\n    while game():\n        pass\n    scores()\n\ndef game():\n    player = move()\n    computer = random.randint(1, 3)\n    result(player, computer)\n    return play_again()\n\ndef move():\n    while True:\n        print\n        player = input(\"Rock = 1\\nPaper = 2\\nScissors = 3\\nMake a Move: \")\n        try:\n            player = int(player)\n            if player in (1,2,3):\n                return player\n        except ValueError:\n            pass\n        print \"Oops! I didn't understand that. Please enter 1, 2, or 3\"\n\ndef result(player, computer):\n    print \"1...\"\n    time.sleep(1)\n    print \"2...\"\n    time.sleep(1)\n    print\"3!\"\n    time.sleep(0.5)\n    print \"Computer threw {0}!\".format(names[computer])\n    global player_score, computer_score\n    if player == computer:\n        print\"Tie Game.\"\n    else:\n        if rules[player] == computer:\n            print \"Your victory has been assured!\"\n            player_score += 1\n        else: \n            print \"The computer is victorious\"\n            computer_score += 1\n\ndef play_again():\n    answer = raw_input(\"Would you like to play again? y/n\")\n    if answer in (\"y\", \"yes\", \"Y\", \"Yes\"):\n        return answer\n    else: \n        print \"Thank you for playing!\"\n\ndef scores():\n    global player_score, computer_score\n    print \"HIGH SCORES\"\n    print \"Player: \", player_score\n    print \"Computer: \", computer_score\n</code></pre>\n\n<p>Update: Seems that people in the comments can run the code fine, but when I run it through terminal I keep getting <a href=\"https://i.stack.imgur.com/mxSTX.png\" rel=\"nofollow noreferrer\">this</a>. I've now run the same code through my housemates MacBook and the same problem persists. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1499894677, "post_id": 45067580, "comment_id": 77108803, "body": "Can you filter your input dataframe down to yesterday - 28 to yesterday then use groupby and rolling?  Not sure if that is what you want."}, {"owner": {"reputation": 57, "user_id": 4106934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dedc0637389d27d44e0f7d1fce1ab73f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric G", "link": "https://stackoverflow.com/users/4106934/eric-g"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1499895096, "post_id": 45067580, "comment_id": 77109022, "body": "yes, i can filter dataframe to include yesterday and -28 days, but rolling does average for yesterday, and all other days as well. i just need average for yesterday, to improve calculation speed i wanted to not calculate for other days"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1499895266, "post_id": 45067580, "comment_id": 77109099, "body": "You just want a scalar number for the average of the last 28 days?  Filter your dataframe down to yesterday and -28 days then .mean()"}, {"owner": {"reputation": 57, "user_id": 4106934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dedc0637389d27d44e0f7d1fce1ab73f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric G", "link": "https://stackoverflow.com/users/4106934/eric-g"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1499897060, "post_id": 45067580, "comment_id": 77109780, "body": "I think i can do mean() for -28 days then join yesterday&#39;s data, but i kind of loses min_periods=3  threshold from rolling, is there way to adjust rolling method to do just for yesteday?"}], "owner": {"reputation": 57, "user_id": 4106934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dedc0637389d27d44e0f7d1fce1ab73f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric G", "link": "https://stackoverflow.com/users/4106934/eric-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499893822, "creation_date": 1499893822, "question_id": 45067580, "link": "https://stackoverflow.com/questions/45067580/rolling-average-last-28-days-but-return-data-for-yesterday", "title": "Rolling Average last 28 days, but return data for yesterday", "body": "<p>I am trying to get rolling average, but only get results for yesterday. </p>\n\n<pre><code>tablename['avg'] = tablename.groupby(columns)['value'].apply(\n                   lambda x: x.shift().rolling(min_periods=3,window=28).mean())\n</code></pre>\n\n<p>Above gets me the rolling average, and i can filter for yesterday after this, but it takes long time to process. Is there way to change above that way it only calculates for yesterday</p>\n\n<p>Sample Data    </p>\n\n<pre><code>   day  column1 column2 column3 column4 Number\n6/1/2016    group1  brian   LA  Book    500\n6/1/2016    group1  john    LA  Book    455\n6/2/2016    group1  John    LA  Book    650\n6/2/2016    group1  brian   LA  Book    633\n6/3/2016    group1  John    LA  Book    200\n6/3/2016    group1  brian   LA  Book    1500\n\u2026                   \n7/10/2016   group1  John    LA  Book    200\n7/10/2016   group1  brian   LA  Book    200\n7/11/2016   group1  John    LA  Book    1500\n7/11/2016   group1  brian   LA  Book    870\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "multidimensional-array"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1499893792, "post_id": 45067549, "comment_id": 77108374, "body": "In numpy? Or as Python lists?"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 4, "last_activity_date": 1499893793, "creation_date": 1499893793, "answer_id": 45067573, "question_id": 45067549, "link": "https://stackoverflow.com/questions/45067549/python-concatenating-two-2d-arrays/45067573#45067573", "title": "Python concatenating two 2d arrays", "body": "<p>In vanilla python, this is easily done with a <code>map</code> and <code>zip</code>:</p>\n\n<pre><code>In [127]: C = list(map(list, zip(A, B)))\n\nIn [128]: C\nOut[128]: [[[0, 0], [0]], \n           [[0, 1], [1]], \n           [[1, 0], [1]], \n           [[1, 1], [0]]]\n</code></pre>\n\n<p>The <code>zip</code> combines the two lists element-wise. The <code>map</code> is needed to convert each zipped element to a list.</p>\n\n<p>With numpy.... you <em>could've</em> used <code>np.hstack</code> but they've not got the same dimensions, so, to my knowledge this cannot be done efficiently with numpy.</p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894298, "post_id": 45067643, "comment_id": 77108635, "body": "Or, as a simpler alternative, <code>[[x, y] for x, y in zip(A, B)]</code>."}, {"owner": {"reputation": 21, "user_id": 2714017, "user_type": "registered", "profile_image": "https://graph.facebook.com/1317562633/picture?type=large", "display_name": "Sebastian A. Steins", "link": "https://stackoverflow.com/users/2714017/sebastian-a-steins"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894398, "post_id": 45067643, "comment_id": 77108675, "body": "Yes, that&#39;s simpler, but maybe more difficult when just starting with list comprehensions."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499895023, "post_id": 45067643, "comment_id": 77108976, "body": "If the OP is talking numpy, one can only hope and pray they&#39;ve got the basics down par."}], "tags": [], "owner": {"reputation": 21, "user_id": 2714017, "user_type": "registered", "profile_image": "https://graph.facebook.com/1317562633/picture?type=large", "display_name": "Sebastian A. Steins", "link": "https://stackoverflow.com/users/2714017/sebastian-a-steins"}, "is_accepted": false, "score": 0, "last_activity_date": 1499894144, "creation_date": 1499894144, "answer_id": 45067643, "question_id": 45067549, "link": "https://stackoverflow.com/questions/45067549/python-concatenating-two-2d-arrays/45067643#45067643", "title": "Python concatenating two 2d arrays", "body": "<p>One big advantage of Python is its support for <a href=\"https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehensions</a>.</p>\n\n<p>This is basically a one line loop which produces an array. </p>\n\n<p>For your problem - and assuming you safeguarded that A and B always have the same length, you could easily write a single line of code like that:</p>\n\n<pre><code>[[A[i], B[i]] for i in range(len(A))]\n</code></pre>\n\n<p>which produces your desired output.</p>\n"}], "owner": {"reputation": 71, "user_id": 7406611, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/97ef3ea9a0ed8c318e3e0f7e7f39ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "nik.yan", "link": "https://stackoverflow.com/users/7406611/nik-yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 45067573, "answer_count": 2, "score": 0, "last_activity_date": 1499894144, "creation_date": 1499893701, "question_id": 45067549, "link": "https://stackoverflow.com/questions/45067549/python-concatenating-two-2d-arrays", "title": "Python concatenating two 2d arrays", "body": "<p>There is a lot about concatenating/appending arrays but I found nothing inbuild for my problem: Input:</p>\n\n<pre><code>A = [[0,0],\n     [0,1],\n     [1,0],\n     [1,1]]\nB = [[0],\n     [1],\n     [1],\n     [0]]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>C = [\n     [[0,0],[0]],\n     [[0,1],[1]],\n     [[1,0],[1]],\n     [[1,1],[0]]\n    ]\n</code></pre>\n\n<p>I dont know how to solve this efficient ( inbuild? )</p>\n"}, {"tags": ["python", "tkinter", "python-imaging-library", "ctypes"], "comments": [{"owner": {"reputation": 21, "user_id": 5143268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VSU3gE3dv8Q/AAAAAAAAAAI/AAAAAAAAEEM/o1UdgpbKxok/photo.jpg?sz=128", "display_name": "Rckzz", "link": "https://stackoverflow.com/users/5143268/rckzz"}, "edited": false, "score": 0, "creation_date": 1500065237, "post_id": 45067532, "comment_id": 77194476, "body": "After changing the &quot;draw&quot; routine which was called by a new thread to the canvas periodic call back as explained here, <a href=\"https://stackoverflow.com/a/25431690/5143268\">stackoverflow.com/a/25431690/5143268</a>, lot of problems were solved.."}], "owner": {"reputation": 21, "user_id": 5143268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VSU3gE3dv8Q/AAAAAAAAAAI/AAAAAAAAEEM/o1UdgpbKxok/photo.jpg?sz=128", "display_name": "Rckzz", "link": "https://stackoverflow.com/users/5143268/rckzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546947160, "creation_date": 1499893645, "last_edit_date": 1546947160, "question_id": 45067532, "link": "https://stackoverflow.com/questions/45067532/issues-with-tkinter-and-ctypes-unknown-tclerror", "title": "Issues with tkinter and ctypes - unknown TclError", "body": "<p>I am using tkinter's label to display an image, and using ctypes to construct an image.\nI am not comfortable with ctypes and I think I am doing something wrong, and I am seeing wired issues. I will try to explain as much as I can.</p>\n\n<p>The code works for like 1-2 minutes and then crashes, I had to keep uploading new images to reproduce the issue.</p>\n\n<p>Here is the pseudo python code. </p>\n\n<pre><code>self.photo = ImageTk.PhotoImage(self.image)\nself.label = tk.Label(parent, image=self.photo, width=480, height=480, \nbg='black')\nself.label.grid(row = 0, column = 0, sticky = W)\n\n// C function which is called by ctypes:\n//int generate_image(int width, int height, char *image)\n\n// ctypes\nimg_lib = ctypes.CDLL('image_gen.dll')\nimg_lib.generate_image.argtypes = (ctypes.c_int, ctypes.c_int, \nctypes.POINTER(ctypes.c_uint8))\n\n\n// All the below code is in the draw function, which is called periodically  \nusing Threading.\n\nimage_data = np.zeros((480 * 480 * 4), dtype=np.uint8)\n\nctype_image_data = image_data.astype(ctypes.c_uint8)\npointer_image_data = \nctype_image_data.ctypes.data_as(ctypes.POINTER(ctypes.c_uint8))\n\nctype_pointer_image_data = ctypes.cast(pointer_image_data, \nctypes.POINTER(ctypes.c_uint8))\n\n#this line modifies the ctype_image_data.\nimg_lib.generate_image(width, height, ctype_pointer_image_data)\n\nfinal_image_data = ctype_image_data.reshape(480,480,4)\nfinal_image = Image.fromarray(final_image_data, 'RGBA')\n\n#set the label with the image\nself.photo = ImageTk.PhotoImage(final_image)\nself.label.configure(image=self.photo, width=0, height=0)\n</code></pre>\n\n<p>Errors I am seeing are, all are indenpendent</p>\n\n<p>Process finished with exit code -1073741571 (0xC00000FD)\nProcess finished with exit code  xxxxxxxxxx (0xC0000005)\nProcess finished with exit code -1073740771 (0xC000041D)</p>\n\n<p>TclError: bad screen distance \"tk::EntryAutoScan .83647664.83715176.83715496\"\nTclError: unknown option \"1\"\nTclError: bad option \"tk::ButtonUp\": must be cget or configure\nAnd lot of other wiered TclError, it is different most of the times.</p>\n\n<p>All the errors are in the following line,\nself.label.configure(image=self.photo, width=0, height=0)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1584, "user_id": 3775614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkkon.png?s=128&g=1", "display_name": "lee-pai-long", "link": "https://stackoverflow.com/users/3775614/lee-pai-long"}, "edited": false, "score": 0, "creation_date": 1499893903, "post_id": 45067515, "comment_id": 77108421, "body": "What is the difference between <code>Tools.scripts.treesync.raw_input</code> function and the standardlib raw_input (which should strip newline characters)?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1499894018, "post_id": 45067515, "comment_id": 77108471, "body": "None of what you posted is Javascript. Please don&#39;t post it as a Javascript snippet."}, {"owner": {"reputation": 960, "user_id": 2323274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b62fedfdf7661b3ba3621ede1265ede0?s=128&d=identicon&r=PG", "display_name": "Azad", "link": "https://stackoverflow.com/users/2323274/azad"}, "edited": false, "score": 0, "creation_date": 1499894172, "post_id": 45067515, "comment_id": 77108562, "body": "You should either use <code>input</code> instead of <code>raw_input</code> or use <code>name.strip()</code> to remove the trailing newline (also for the other variables)"}], "answers": [{"comments": [{"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 1, "creation_date": 1499894285, "post_id": 45067602, "comment_id": 77108628, "body": "It&#39;s not the standard <code>raw_input()</code> but rather something imported from a library."}], "tags": [], "owner": {"reputation": 5939, "user_id": 7054628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5b8a407b941b80036020e1fad879bd2d?s=128&d=identicon&r=PG&f=1", "display_name": "rinkert", "link": "https://stackoverflow.com/users/7054628/rinkert"}, "is_accepted": false, "score": 1, "last_activity_date": 1499893958, "creation_date": 1499893958, "answer_id": 45067602, "question_id": 45067515, "link": "https://stackoverflow.com/questions/45067515/python-printing-multiple-lines/45067602#45067602", "title": "Python printing multiple lines?", "body": "<p>You are using <code>raw_input</code>, which includes a line ending to the string, you can just use <code>input()</code> to obtain the string without a line ending.</p>\n"}, {"comments": [{"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1499894123, "post_id": 45067607, "comment_id": 77108528, "body": "What is the reason for the downvotes? OP is not using the built-in <code>raw_input()</code> - there isn&#39;t one in Python 3, and the <code>print()</code> syntax he&#39;s using suggests that that&#39;s what he is on."}, {"owner": {"reputation": 1934, "user_id": 5472966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A2Ver.png?s=128&g=1", "display_name": "McGlothlin", "link": "https://stackoverflow.com/users/5472966/mcglothlin"}, "edited": false, "score": 0, "creation_date": 1499894155, "post_id": 45067607, "comment_id": 77108548, "body": "I was wondering the same (I didn&#39;t downvote, btw). Isn&#39;t this answer also correct?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499894234, "post_id": 45067607, "comment_id": 77108599, "body": "Sorry, missed the <code>raw_input</code> import."}, {"owner": {"reputation": 89, "user_id": 8298416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffd7f4c31592b0848215a14c3da2853?s=128&d=identicon&r=PG&f=1", "display_name": "Waldxn", "link": "https://stackoverflow.com/users/8298416/waldxn"}, "edited": false, "score": 0, "creation_date": 1499894530, "post_id": 45067607, "comment_id": 77108728, "body": "Hey, OP here. Since I am coming from Java I feel the need to put everything in a class. What would the best way to organize this file be then?"}, {"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 0, "creation_date": 1499894606, "post_id": 45067607, "comment_id": 77108772, "body": "Just define the functions on their own."}, {"owner": {"reputation": 89, "user_id": 8298416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffd7f4c31592b0848215a14c3da2853?s=128&d=identicon&r=PG&f=1", "display_name": "Waldxn", "link": "https://stackoverflow.com/users/8298416/waldxn"}, "edited": false, "score": 0, "creation_date": 1499894642, "post_id": 45067607, "comment_id": 77108788, "body": "Ok. When exactly SHOULD I be storing certain functions in a seperate class?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 89, "user_id": 8298416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffd7f4c31592b0848215a14c3da2853?s=128&d=identicon&r=PG&f=1", "display_name": "Waldxn", "link": "https://stackoverflow.com/users/8298416/waldxn"}, "edited": false, "score": 2, "creation_date": 1499895008, "post_id": 45067607, "comment_id": 77108967, "body": "@Waldxn: A class should never be used as a holder for functions. Java only does that because of the inflexible structure of Java programs. The operations supported by instances of a class should be methods of the class, and some closely-related functions (such as alternate constructors) may be appropriate as classmethods or staticmethods, but if you just want somewhere to group a bunch of functions together, that&#39;s what modules are for."}, {"owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "edited": false, "score": 1, "creation_date": 1499895085, "post_id": 45067607, "comment_id": 77109014, "body": "Usually you store functions in modules (each Python file is a module). Adding a function to a class makes sense for object methods, i. e. methods that are only useful for a specific object. In your case the class doesn&#39;t do anything besides harboring a function - that&#39;s not how Python &quot;works&quot;. It may be different with complex objects, but your question is a bit too broad for an answer in a comment :)"}], "tags": [], "owner": {"reputation": 294955, "user_id": 20670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG", "display_name": "Tim Pietzcker", "link": "https://stackoverflow.com/users/20670/tim-pietzcker"}, "is_accepted": true, "score": 2, "last_activity_date": 1499894525, "last_edit_date": 1499894525, "creation_date": 1499893978, "answer_id": 45067607, "question_id": 45067515, "link": "https://stackoverflow.com/questions/45067515/python-printing-multiple-lines/45067607#45067607", "title": "Python printing multiple lines?", "body": "<p>The <code>raw_input</code> you're importing is keeping the CRLF in the input you entered. Why not use the built-in <code>input()</code> function (you are using Python 3, right)?</p>\n\n<pre><code>&gt;&gt;&gt; from Tools.scripts.treesync import raw_input\n&gt;&gt;&gt; raw_input(\"&gt; \")\n&gt; abc\n'abc\\n'\n&gt;&gt;&gt; input(\"&gt; \")\n&gt; abc\n'abc'\n</code></pre>\n\n<p>Also, Python is not Java. No need to put everything in classes.</p>\n"}], "owner": {"reputation": 89, "user_id": 8298416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffd7f4c31592b0848215a14c3da2853?s=128&d=identicon&r=PG&f=1", "display_name": "Waldxn", "link": "https://stackoverflow.com/users/8298416/waldxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 45067607, "answer_count": 2, "score": 2, "last_activity_date": 1499894525, "creation_date": 1499893578, "last_edit_date": 1499893965, "question_id": 45067515, "link": "https://stackoverflow.com/questions/45067515/python-printing-multiple-lines", "title": "Python printing multiple lines?", "body": "<p>So I am a beginner to Python (previous experience with Java), and I was creating a simple OOP program. Here is my class:</p>\n\n<pre><code>from Tools.scripts.treesync import raw_input\n\n\nclass Info:\n\n    def startGame(self):\n        name = raw_input('What is your name?\\n')\n        age = raw_input(\"What is your age?\\n\")\n        color = raw_input(\"What is your favorite color\\n\")\n        print(\"Your name is %s, your age is %s, and your favorite color is %s\" % (name, age, color))\n        return Info\n\n\nclass App:\n\n    def build(self):\n        game_app = Info()\n        game_app.startGame()\n        return game\n\nif __name__ == \"__main__\":\n    obj = App()\n    game = Info()\n    obj.build()\n</code></pre>\n\n<p>This is the output:</p>\n\n<pre><code>Your name is Chris\n, your age is 18\n, Sand your favorite color is Red\n</code></pre>\n\n<p>I am confused as to why it is printing on 3 lines? Is there any way to print this onto a single line?</p>\n"}, {"tags": ["python", "amazon-web-services", "aws-lambda"], "comments": [{"owner": {"reputation": 339, "user_id": 4079958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M8L89DmdYvo/AAAAAAAAAAI/AAAAAAAAAHY/QO9XLol7Sdg/photo.jpg?sz=128", "display_name": "Shahein Moussavi", "link": "https://stackoverflow.com/users/4079958/shahein-moussavi"}, "edited": false, "score": 0, "creation_date": 1499913285, "post_id": 45067507, "comment_id": 77113956, "body": "Have you tried using the <a href=\"https://serverless.com/framework/docs/providers/aws/\" rel=\"nofollow noreferrer\">Serverless framework</a>?  There are several examples out there.  You can also define environment variables in the serverless.yml file."}, {"owner": {"reputation": 2379, "user_id": 1981986, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8482190df7a3eb6c818001ad57b01f79?s=128&d=identicon&r=PG", "display_name": "Kevin Meyer", "link": "https://stackoverflow.com/users/1981986/kevin-meyer"}, "reply_to_user": {"reputation": 339, "user_id": 4079958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M8L89DmdYvo/AAAAAAAAAAI/AAAAAAAAAHY/QO9XLol7Sdg/photo.jpg?sz=128", "display_name": "Shahein Moussavi", "link": "https://stackoverflow.com/users/4079958/shahein-moussavi"}, "edited": false, "score": 0, "creation_date": 1499957649, "post_id": 45067507, "comment_id": 77140946, "body": "The problem is that we don&#39;t want this to be automatic, we&#39;d like deploys (at least to staging and Prod) to be manual (and then scripted elsewhere) so we have perfect control over all our Lambda functions."}, {"owner": {"reputation": 8295, "user_id": 911419, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa0d95b3830549589afbbc79d886c466?s=128&d=identicon&r=PG", "display_name": "Suncatcher", "link": "https://stackoverflow.com/users/911419/suncatcher"}, "reply_to_user": {"reputation": 339, "user_id": 4079958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M8L89DmdYvo/AAAAAAAAAAI/AAAAAAAAAHY/QO9XLol7Sdg/photo.jpg?sz=128", "display_name": "Shahein Moussavi", "link": "https://stackoverflow.com/users/4079958/shahein-moussavi"}, "edited": false, "score": 0, "creation_date": 1525789708, "post_id": 45067507, "comment_id": 87489366, "body": "@ShaheinMoussavi, make a quick read of Serverless help and didn&#39;t find how it helps us to migrate functions between regions or accounts? Could you, please, elaborate it more or give proper help chapter?"}, {"owner": {"reputation": 339, "user_id": 4079958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M8L89DmdYvo/AAAAAAAAAAI/AAAAAAAAAHY/QO9XLol7Sdg/photo.jpg?sz=128", "display_name": "Shahein Moussavi", "link": "https://stackoverflow.com/users/4079958/shahein-moussavi"}, "reply_to_user": {"reputation": 8295, "user_id": 911419, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa0d95b3830549589afbbc79d886c466?s=128&d=identicon&r=PG", "display_name": "Suncatcher", "link": "https://stackoverflow.com/users/911419/suncatcher"}, "edited": false, "score": 1, "creation_date": 1525790631, "post_id": 45067507, "comment_id": 87489991, "body": "@Suncatcher, the OP didn&#39;t ask about migrating functions between regions and accounts.  I think that should be its own question (there&#39;s more to it than I can fit here), but it can be done. The simplest way I know of for separate accounts would be configuring separate AWS profiles on your local machine and using the <code>--aws-profile</code> flag (example here - <a href=\"https://serverless.com/framework/docs/providers/aws/guide/credentials#using-the-aws-profile-option\" rel=\"nofollow noreferrer\">serverless.com/framework/docs/providers/aws/guide/&hellip;</a>).  Regions can be set directly with the <code>--region</code> flag. (example -<a href=\"https://serverless.com/framework/docs/providers/aws/guide/credentials#tips\" rel=\"nofollow noreferrer\">serverless.com/framework/docs/providers/aws/guide/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 1736, "user_id": 2140633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a24d10fc25aa54101a59c9752bc5240f?s=128&d=identicon&r=PG", "display_name": "Udith Gunaratna", "link": "https://stackoverflow.com/users/2140633/udith-gunaratna"}, "edited": false, "score": 0, "creation_date": 1518058362, "post_id": 45068421, "comment_id": 84351740, "body": "<a href=\"https://sigma.slappforge.com\" rel=\"nofollow noreferrer\">https://sigma.slappforge.com</a> is also a great online IDE to manage your lambda related projects."}, {"owner": {"reputation": 8295, "user_id": 911419, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa0d95b3830549589afbbc79d886c466?s=128&d=identicon&r=PG", "display_name": "Suncatcher", "link": "https://stackoverflow.com/users/911419/suncatcher"}, "edited": false, "score": 0, "creation_date": 1526057003, "post_id": 45068421, "comment_id": 87610407, "body": "And can I do this with Eclipse AWS Toolkit? To import function from one account and deploy to another? I asked <a href=\"https://stackoverflow.com/questions/46647831/import-python-lambda-function-into-eclipse-aws-toolkit\">this question</a> a long ago, but nobody had any idea."}, {"owner": {"reputation": 53657, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "edited": false, "score": 3, "creation_date": 1552242676, "post_id": 45068421, "comment_id": 96926588, "body": "There is a lot more to Lambda than the script being executed. A real solution would use the boto3 library and extract both the code and the settings (triggers, role, network, memory, timeout, env vars, test events, etc.) and allow you to create a new function with the exact same values (or optionally modified values, which are all just JSON). it would be like Terraform but without the preplanning."}, {"owner": {"reputation": 745, "user_id": 276345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c7152460e373744be7cd79d3e2e174be?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/276345/daniel"}, "reply_to_user": {"reputation": 53657, "user_id": 117471, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/959ccd33301cb3c15953c1a632a36763?s=128&d=identicon&r=PG", "display_name": "Bruno Bronosky", "link": "https://stackoverflow.com/users/117471/bruno-bronosky"}, "edited": false, "score": 0, "creation_date": 1606739980, "post_id": 45068421, "comment_id": 115043671, "body": "As @BrunoBronosky mentions, the idea of copying a lambda function is much more than the code. Sometimes for replication of a, say production environment, you want it to be just-as, not only code like."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 745, "user_id": 276345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c7152460e373744be7cd79d3e2e174be?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/276345/daniel"}, "edited": false, "score": 0, "creation_date": 1606747900, "post_id": 45068421, "comment_id": 115047384, "body": "@Daniel if you looked at the first link posted in the answer, you would see that this is precisely what I am advising. Using something like SAM allows you to set all these options while still pointing to a single code artifact. You can also use any number of IaC tools like serverless (as mentioned above) or Terraform. I don&#39;t think there&#39;s anywhere in this answer where I suggested you <i>only</i> copy the code."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 11, "last_activity_date": 1499897996, "creation_date": 1499897996, "answer_id": 45068421, "question_id": 45067507, "link": "https://stackoverflow.com/questions/45067507/is-it-possible-to-copy-code-from-one-aws-lambda-function-to-another-without-down/45068421#45068421", "title": "Is it possible to copy code from one AWS Lambda function to another without downloading it first?", "body": "<p>You can deploy lambda functions in a lot of different ways that don't involve downloading and re-uploading code. If you use something like SAM (<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/with-s3-example-use-app-spec.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/with-s3-example-use-app-spec.html</a>) you can just point to an S3 bucket that holds your code and build functions from that. You can also hook CloudFormation up to git repository like Github or AWS CodeCommit and have it automatically update your functions when you push commits to the repository. And there are other systems like Severless (<a href=\"https://serverless.com\" rel=\"noreferrer\">https://serverless.com</a>) that can abstract and automate deploys in repeatable and manageable ways. </p>\n\n<p>The Lambda's version is available in the context object. You should be able to tell which alias is called by looking at the ARN. ARNs have the alias as a suffix such as:</p>\n\n<pre><code>arn:aws:lambda:aws-region:acct-id:function:helloworld:PROD    \n</code></pre>\n\n<p>Info here: <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/python-context-object.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/python-context-object.html</a></p>\n"}], "owner": {"reputation": 2379, "user_id": 1981986, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8482190df7a3eb6c818001ad57b01f79?s=128&d=identicon&r=PG", "display_name": "Kevin Meyer", "link": "https://stackoverflow.com/users/1981986/kevin-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13890, "favorite_count": 2, "accepted_answer_id": 45068421, "answer_count": 1, "score": 12, "last_activity_date": 1499897996, "creation_date": 1499893542, "question_id": 45067507, "link": "https://stackoverflow.com/questions/45067507/is-it-possible-to-copy-code-from-one-aws-lambda-function-to-another-without-down", "title": "Is it possible to copy code from one AWS Lambda function to another without downloading it first?", "body": "<p>So I'm currently working on building the deployer for our AWS Lambda functions.  </p>\n\n<p>Since AWS versions all share a configuration, this requires having multiple functions (foo_prod, foo_staging, foo_whatever) that are the various versions of our code instead of using aliases like I <em>want</em> to do.  </p>\n\n<p>So my question is: </p>\n\n<p>1) Whether or not there's a sane way to re-deploy code.  (IE: Staging to Prod) without downloading it to my desktop first and then re-uploading.</p>\n\n<p>2) Whether or not I'm wrong about that shared configuration bit or whether it's possible to tell under which alias the function is running in the actual Lambda such that I can create multiple environment variables for each environment.    </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499893592, "post_id": 45067498, "comment_id": 77108281, "body": "Did you mean <code>int(x)</code> instead of <code>int(rerolled_dice1)</code>?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499893715, "post_id": 45067498, "comment_id": 77108334, "body": "Also you&#39;ll notice a pattern. <code>dice3</code> does the same thing as <code>dice1</code> and <code>dice2</code>. <code>dice5</code> does everything <code>dice6</code> does except <code>dice[1][2] = &#39;O&#39;</code>."}, {"owner": {"reputation": 15, "user_id": 8298055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uID0p.jpg?s=128&g=1", "display_name": "terraregina", "link": "https://stackoverflow.com/users/8298055/terraregina"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894120, "post_id": 45067498, "comment_id": 77108527, "body": "Thank you for the spot, updated the traceback as well. Do you mean I can write the dice with only a couple of functions?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894175, "post_id": 45067498, "comment_id": 77108565, "body": "The plot thickens. Use <code>for x in rerolled_dice1.strip().split():</code>"}, {"owner": {"reputation": 15, "user_id": 8298055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uID0p.jpg?s=128&g=1", "display_name": "terraregina", "link": "https://stackoverflow.com/users/8298055/terraregina"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894702, "post_id": 45067498, "comment_id": 77108817, "body": "that worked, much appreciated ;D"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499894886, "post_id": 45067498, "comment_id": 77108907, "body": "Yup. Glad to help."}], "owner": {"reputation": 15, "user_id": 8298055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uID0p.jpg?s=128&g=1", "display_name": "terraregina", "link": "https://stackoverflow.com/users/8298055/terraregina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499893945, "creation_date": 1499893502, "last_edit_date": 1499893945, "question_id": 45067498, "link": "https://stackoverflow.com/questions/45067498/valueerror-invalid-literal-for-int-with-base-10-how-to-use-user-inputed", "title": "ValueError: invalid literal for int() with base 10: &#39; &#39;, How to use user-inputed values as indexes in lists", "body": "<p>I am trying to teach myself how to program and therefore building one player yahtzee game (zero previous experience) and have gotten to the point where the user inputs the dice he wishes to reroll. </p>\n\n<pre><code>while True: \n\nturn1 = raw_input(\"Would you like to cast your first throw?\")\n\nif (turn1 == \"y\"):\n\n    first_roll = roll()\n    print_all_5(first_roll)\n    print(\"You have rolled a: \" + \" \".join(str(first_roll)))\n\n    if (raw_input(\"Would you like to reroll any if your dice?\") == \"y\"):\n        print(\"Please input which dice you would like to reroll (first, second, third etc) with one digit\")\n        rerolled_dice1 = raw_input(\"I want to reroll dice/dices number: \")\n        for x in rerolled_dice1:\n            first_roll[int(x) -1] = randint(1,6)\nelif (turn1 == \"n\"):\n    print(\"Well why even bother wasting your battery life to run these measily 106 lines of code?\")\nelse:\n    print(\"Respond only with 'y' for yes and 'n' for no please x_X\")\n</code></pre>\n\n<p>What I am trying to do is store the user inputed values into the list variable <strong>rerolled_dice1</strong> and then to iterate through it and convert the values stored as str into int and use them as indexes for <strong>first_roll</strong> which holds the values corresponding to the original set of cast dice and change them to a random number.</p>\n\n<p>When I run the code the traceback I get is: </p>\n\n<pre><code>Traceback (most recent call last):\n File \"C:\\Python27\\projects\\oneplayer.py\", line 110, in &lt;module&gt;\n   first_roll[int(x) -1] = randint(1,6)\nValueError: invalid literal for int() with base 10: ''\n</code></pre>\n\n<p>Can you please explain why this happens? Tried to do some research, my guess is it can't convert the space in between the inputs, in that case how do I differentiate between inputting 1, 2 and  3 and 123? If not, any suggestions? </p>\n\n<p>P.S. Haven't decided the general flow of the game,  still trying to piece up bits of functionality, which will later try and arrange into a more sensible main function. If anyone has any structural/control flow advice for turn-based dice games, will also be appreciated. </p>\n\n<p>Thank you in advance! </p>\n\n<p>The code before this point for reference (please ignore the started and abandoned documentation)</p>\n\n<pre><code>from random import randint \n\ndef roll():\n        dice_values = []\n\n        for x in range (5):\n            dice = randint(1,6)\n            dice_values.append(dice)\n\n\n        return dice_values\n\ndef create_dice():\n        dice = []                  # create empty list - main dice\n        for i in range(3):         #loop building a dice list containing three row sublists\n            row = [\"*\"] * 3        #create row containing three lists each holding a str\n            dice.append(row)       #append row list to dice list \n        return dice                #!! important return dice list from function\n\n\ndef print_dice(dice):            # prints out dice list neatly\n    for row in dice:         # uses the index to access lst value in dice lst           \n        print(\" \".join(row)) # joins strings with space in between\n\ndef dice1 (dice): \n    dice[1][1] = \"O\"\n    return dice\n\n\ndef dice2 (dice): \n    dice[0][0] = \"O\"\n    dice[2][2] = \"O\"\n    return dice\n\ndef dice3 (dice):\n    dice[0][0] = \"O\"\n    dice[1][1] = \"O\"\n    dice[2][2] = \"O\"\n    return dice\n\n\ndef dice4 (dice): \n    dice[0][0] = \"O\"\n    dice[0][2] = \"O\"\n    dice[2][0] = \"O\"\n    dice[2][2] = \"O\"\n    return dice\n\ndef dice5 (dice): \n    dice[0][0] = \"O\"\n    dice[0][2] = \"O\"\n    dice[1][1] = \"O\"\n    dice[2][0] = \"O\"\n    dice[2][2] = \"O\"\n    return dice\n\n\ndef dice6 (dice): \n\n    dice[0][0] = \"O\"\n    dice[0][2] = \"O\"\n    dice[1][0] = \"O\"\n    dice[1][2] = \"O\"\n    dice[2][0] = \"O\"\n    dice[2][2] = \"O\"\n    return dice\n\ndef print_all_5(elist):\n    print(\"\\n\")\n    for x in elist:\n        if x == 1:\n            print(print_dice(dice1(create_dice())))\n        elif x == 2:\n            print(print_dice(dice2(create_dice())))\n        elif x == 3:\n            print(print_dice(dice3(create_dice())))\n        elif x == 4:\n            print(print_dice(dice4(create_dice())))\n        elif x == 5:\n            print(print_dice(dice5(create_dice())))\n        else:\n            print(print_dice(dice6(create_dice())))\n    print(\"\\n\")\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 5528, "user_id": 466066, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0ed1a417e659f1205cac821201ca0e9b?s=128&d=identicon&r=PG", "display_name": "Jose Cherian", "link": "https://stackoverflow.com/users/466066/jose-cherian"}, "is_accepted": true, "score": 1, "last_activity_date": 1499899731, "creation_date": 1499899731, "answer_id": 45068715, "question_id": 45067487, "link": "https://stackoverflow.com/questions/45067487/filling-out-a-choice-field-in-django-using-other-models/45068715#45068715", "title": "Filling out a choice field in Django using other models", "body": "<p>You can use <a href=\"https://docs.djangoproject.com/en/1.11/ref/forms/fields/#django.forms.ModelChoiceField\" rel=\"nofollow noreferrer\">ModelChoiceField</a> with normal django form to achieve it. Since you want to customize the option string, you need to subclass ModelChoiceField.</p>\n\n<pre><code>from django import forms\nfrom django.forms import ModelChoiceField\nfrom yourapp.models import Instructor\n\n\nclass InstructorChoiceField(ModelChoiceField):\n    \"\"\"Retun first_name + last_name as option string \"\"\"\n\n    def label_from_instance(self, obj):\n        return \"{0} {1}\".format(obj.first_name,obj.last_name)\n\n\nclass ScheduleForm(forms.Form):\n    instructor = InstructorChoiceField(queryset = Instructor.objects.all())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 5949840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NR4A7.jpg?s=128&g=1", "display_name": "Sumeet Kumar", "link": "https://stackoverflow.com/users/5949840/sumeet-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1499924662, "creation_date": 1499924662, "answer_id": 45072286, "question_id": 45067487, "link": "https://stackoverflow.com/questions/45067487/filling-out-a-choice-field-in-django-using-other-models/45072286#45072286", "title": "Filling out a choice field in Django using other models", "body": "<p>If i am right, you want to populate your instructor field on ScheduleForm from the Instructor model.\nwhat you can do is add a ForeignKey to your Schedules model reference to Instructor model, and then you can populate your form using Schedules Model.</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Instructor(models.Model):\n    first_name = models.CharField(max_length=128)\n    last_name = models.CharField(max_length=128)\n\n    def __str__(self):\n        return \"%s %s\" %(self.first_name, self.last_name)\n\nclass Schedules(models.Model):\n    instructor = models.ForeignKey(Instructor)\n</code></pre>\n\n<p>and now you can <a href=\"https://docs.djangoproject.com/en/1.11/topics/forms/modelforms/\" rel=\"nofollow noreferrer\">create your form using model</a></p>\n\n<p><strong>form.py</strong></p>\n\n<pre><code>from django.forms import ModelForm\nfrom myapp.models import Schedules\n\n#Create the form class.\nclass ScheduleForm(ModelForm):\n    class Meta:\n        model = Schedules\n</code></pre>\n"}], "owner": {"reputation": 261, "user_id": 8199529, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8f7eb7320cbf4281577fa2b1d0f52838?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Bi", "link": "https://stackoverflow.com/users/8199529/jerry-bi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "accepted_answer_id": 45068715, "answer_count": 2, "score": 0, "last_activity_date": 1499924662, "creation_date": 1499893447, "question_id": 45067487, "link": "https://stackoverflow.com/questions/45067487/filling-out-a-choice-field-in-django-using-other-models", "title": "Filling out a choice field in Django using other models", "body": "<p>I want to make a choice field in a form that adds a choice every time I make a new instance in another model. Here is the relevant code:</p>\n\n<p>models.py</p>\n\n<pre><code>class Instructor(models.Model):\n    first_name = models.CharField(max_length=128)\n    last_name = models.CharField(max_length=128)\n\nclass Schedules(models.Model):\n    instructor = models.CharField(max_length=128)\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>class ScheduleForm(forms.ModelForm):\n    instructor = forms.ChoiceField(widget=forms.Select(attrs={'class': 'form-control'}))\n</code></pre>\n\n<p>I want it so that each choice in the instructor choice field of the schedule form will always be first_name + ' ' + last_name and will add more choices each time a new Instructor instance is made. I heard that using ModelChoiceField is a good idea, but I only want part of the instances, not all of it. Do I need to use population or sqlite3 operations? Thanks.</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1499893381, "post_id": 45067393, "comment_id": 77108183, "body": "Please look at how to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1499893387, "post_id": 45067393, "comment_id": 77108186, "body": "You&#39;re dealing with a faulty program that changed some terminal settings, and failed to reset them - I can&#39;t tell if it&#39;s your program, or one you&#39;re invoking with <code>subprocess.call()</code>.  Try blindly typing the <code>reset</code> command to get the terminal back in a good state."}, {"owner": {"reputation": 47, "user_id": 3019191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a4a8e34593730545c94ad8d9468d011?s=128&d=identicon&r=PG&f=1", "display_name": "user3019191", "link": "https://stackoverflow.com/users/3019191/user3019191"}, "edited": false, "score": 0, "creation_date": 1499894687, "post_id": 45067393, "comment_id": 77108807, "body": "I realised that I am sending standard output to /dev/null and backgrounding processes. So my terminal isn&#39;t returning, since there is still stuff running in the background, I can&#39;t cleanly type commands. Thank you for the tip about reset"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1499896206, "post_id": 45067393, "comment_id": 77109453, "body": "This isn&#39;t a general problem with subprocesses, it&#39;s something specific to the program that you&#39;re running in the subprocess. What are you running?"}], "owner": {"reputation": 47, "user_id": 3019191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0a4a8e34593730545c94ad8d9468d011?s=128&d=identicon&r=PG&f=1", "display_name": "user3019191", "link": "https://stackoverflow.com/users/3019191/user3019191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499896148, "creation_date": 1499893071, "last_edit_date": 1499896148, "question_id": 45067393, "link": "https://stackoverflow.com/questions/45067393/when-executing-python-script-on-linux-cannot-see-text-written-when-prompt-retur", "title": "When executing Python script on Linux; cannot see text written when prompt returns and no newline characters when pressing enter", "body": "<p>Whenever I execute a Python script I made, which uses subprocesses, I noticed that whenever execution is finished and the prompt is returned - I can no longer see text written after the prompt. For example, I write 'ls' and can only see </p>\n\n<pre><code>root@kali# \n</code></pre>\n\n<p>When I press enter a few times, I get:</p>\n\n<pre><code>root@kali# root@kali# root@kali# root@kali# root@kali# root@kali#\n</code></pre>\n\n<p>The only thing that I can think of is that there's something wrong with using <code>subprocess.call</code> with <code>shell=true</code>.</p>\n\n<p>No Python traceback errors appear and the program seems to execute perfectly fine. However, its rather annoying having to CTRL+T and use a new terminal after each execution.</p>\n"}, {"tags": ["python", "function", "arguments"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499893123, "post_id": 45067364, "comment_id": 77108055, "body": "You have written <i>your own function named <code>input</code></i>. This is shadowing the built-in. Use a different name."}, {"owner": {"reputation": 5, "user_id": 8297749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c649a764ff66a5d59a210ce545ff15?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Vo", "link": "https://stackoverflow.com/users/8297749/edward-vo"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499893180, "post_id": 45067364, "comment_id": 77108080, "body": "ok will do. thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1499893178, "creation_date": 1499893178, "answer_id": 45067420, "question_id": 45067364, "link": "https://stackoverflow.com/questions/45067364/confusing-arguments-in-functions/45067420#45067420", "title": "Confusing arguments in functions", "body": "<p>You're overriding the input function so that is why you're getting the error. Change <code>def input():</code> to something like <code>def my_input():</code>. This will get rid of the name conflict you have in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 4765406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CunQw.jpg?s=128&g=1", "display_name": "ahota", "link": "https://stackoverflow.com/users/4765406/ahota"}, "is_accepted": true, "score": 0, "last_activity_date": 1499893210, "creation_date": 1499893210, "answer_id": 45067425, "question_id": 45067364, "link": "https://stackoverflow.com/questions/45067364/confusing-arguments-in-functions/45067425#45067425", "title": "Confusing arguments in functions", "body": "<p>This happens because you have called your inner function <code>input</code> as well. Your inner <code>input</code> function overwrites the built-in one, and since it doesn't take any arguments, you get this error. Just rename it to something else and it should work.</p>\n"}], "owner": {"reputation": 5, "user_id": 8297749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c649a764ff66a5d59a210ce545ff15?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Vo", "link": "https://stackoverflow.com/users/8297749/edward-vo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 45067425, "answer_count": 2, "score": -2, "last_activity_date": 1499893836, "creation_date": 1499892936, "last_edit_date": 1499893836, "question_id": 45067364, "link": "https://stackoverflow.com/questions/45067364/confusing-arguments-in-functions", "title": "Confusing arguments in functions", "body": "<p>I'm very new to Python and have frustrated so many times (guess that's common huh). Here I'm trying to have two user inputs (miles and gallons) and print out the result of (miles per gallons). </p>\n\n<pre><code>def final():\n    def miles_per_gallons_calculation(miles, gallons,mpg):\n        mpg=miles/gallons\n        return str(mpg)+\" miles per gallons\"\n\n    def user_input():\n        miles = input(\"Miles?: \")\n        gallons = input(\"Gallons?: \")\n        float(miles)\n        int(gallons)\n        return miles\n        return gallons\n    user_input()\n    miles_per_gallons_calculation()\nfinal()\n</code></pre>\n\n<p>I get the error \"input() takes no arguments (1 given)\" but I gave no arguments! I've tried putting (and not putting in) arguments but I keep getting errors. Can you take a look and add in the arguments for the functions please?</p>\n\n<p>UPDATE: Ok I changed the function names as suggested by you guys to avoid errors. But I'm still having trouble calling the function \"miles_per_gallons_calculation\" function. Since the 2nd function takes the output of the 1st function what argument do I put (or not put in) when calling the 2nd function up?\n(the error I get is \"miles_per_gallons_calculations takes 2 arguments (0 given)\")</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "oop"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499892995, "post_id": 45067342, "comment_id": 77107994, "body": "Why wouldn&#39;t you be able to? It&#39;s best to consistently use <code>super</code> otherwise things start to go awry in multiple inheritance contexts."}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1499893005, "creation_date": 1499893005, "answer_id": 45067377, "question_id": 45067342, "link": "https://stackoverflow.com/questions/45067342/using-super-in-class-that-inherits-from-object/45067377#45067377", "title": "Using super() In class that inherits from object", "body": "<p>Yes, that's the right approach, because multiple inheritance makes it such that <code>MyClass</code> could end up in a different place in the MRO:</p>\n\n<pre><code>&gt;&gt;&gt; class MyClass(object):\n...     def __init__(self):\n...         super(MyClass, self).__init__()\n...\n&gt;&gt;&gt; class Foo(object):\n...     def __init__(self):\n...         print('Foo __init__!')\n...         super(Foo, self).__init__()\n...\n&gt;&gt;&gt; class Bar(MyClass, Foo):\n...     pass\n...\n&gt;&gt;&gt; Bar.__mro__\n(&lt;class '__main__.Bar'&gt;, &lt;class '__main__.MyClass'&gt;, &lt;class '__main__.Foo'&gt;, &lt;class 'object'&gt;)\n</code></pre>\n\n<p>Here <code>Bar</code> inherits from both <code>MyClass</code> and <code>Foo</code>, placing <code>Foo</code> before <code>object</code>. Because, <code>MyClass.__init__()</code> is doing the right thing and passing on the <code>__init__</code> chain via <code>super()</code>, <code>Foo.__init__</code> is correctly called:</p>\n\n<pre><code>&gt;&gt;&gt; Bar()\nFoo __init__!\n&lt;__main__.Bar object at 0x107155da0&gt;\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6047148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3d35a72fe9e60aebb646e54289affe0?s=128&d=identicon&r=PG&f=1", "display_name": "jojo", "link": "https://stackoverflow.com/users/6047148/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 45067377, "answer_count": 1, "score": 0, "last_activity_date": 1499893466, "creation_date": 1499892870, "last_edit_date": 1499893466, "question_id": 45067342, "link": "https://stackoverflow.com/questions/45067342/using-super-in-class-that-inherits-from-object", "title": "Using super() In class that inherits from object", "body": "<p>I have seen a class like below:</p>\n\n<pre><code>from __future__ import print_function\n\nclass MyClass(object):\n    def __init__(self):\n        super(MyClass, self).__init__()\n</code></pre>\n\n<p>Why we may use <code>super</code> in a class that inherits from <code>object</code>? Is it the right approach?</p>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 1, "creation_date": 1499892961, "post_id": 45067333, "comment_id": 77107973, "body": "Could you fix indentation, please?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 2, "creation_date": 1499893435, "post_id": 45067333, "comment_id": 77108211, "body": "Related, possibly dup: <a href=\"https://stackoverflow.com/questions/10432022/in-python-is-set-pop-deterministic\" title=\"in python is set pop deterministic\">stackoverflow.com/questions/10432022/&hellip;</a>"}, {"owner": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "edited": false, "score": 1, "creation_date": 1499893921, "post_id": 45067333, "comment_id": 77108428, "body": "I am not sure about the <code>&gt; 1</code> incremented ranges bit, but here is an existing answer focused on why integers are not random: <a href=\"https://stackoverflow.com/questions/21017188/set-pop-isnt-random\">stackoverflow.com/questions/21017188/set-pop-isnt-random</a>"}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "edited": false, "score": 0, "creation_date": 1499894149, "post_id": 45067333, "comment_id": 77108541, "body": "@FarmerJoe: That looks like a probable explanation, yes."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1499894614, "post_id": 45067333, "comment_id": 77108776, "body": "Sets <b>are</b> arbitrarily ordered, based on the hash insertion point for the integer. It just so happens that most integers map to a hash that is equal to their value."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 1, "creation_date": 1499895054, "post_id": 45067333, "comment_id": 77108991, "body": "@EricDuminil: that&#39;s because the OP is not creating a disjoint sequence."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 2, "creation_date": 1499895125, "post_id": 45067333, "comment_id": 77109036, "body": "@EricDuminil: Also, look at the resulting set, not just what is popped. <code>set(range(15, 4, -3))</code> is <code>{9, 12, 6, 15}</code>, so <code>9</code> is popped."}], "answers": [{"comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1499894144, "post_id": 45067627, "comment_id": 77108536, "body": "only small <code>int</code>s hash to themselves"}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1499894337, "post_id": 45067627, "comment_id": 77108651, "body": "@Chris_Rands: &quot;small&quot; is relative. <code>hash(10**18) == 10**18</code> on my system. You wouldn&#39;t want to use this algorithm with 10**18."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "reply_to_user": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1499894548, "post_id": 45067627, "comment_id": 77108735, "body": "@EricDuminil That&#39;s fair, maybe not so small..."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1499894565, "post_id": 45067627, "comment_id": 77108744, "body": "@Chris_Rands: no, integers <i>except for -1</i> hash to themselves all the way up to <code>(sys.maxsize &#47;&#47; 4) - 1</code> (because of the way long integers are implemented)."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "edited": false, "score": 0, "creation_date": 1499894696, "post_id": 45067627, "comment_id": 77108816, "body": "Why the downvote? This seems to be the explanation."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1499894750, "post_id": 45067627, "comment_id": 77108840, "body": "On my OS X system, that means that integers up to <code>(2^61) - 2</code> hash to themselves."}, {"owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1499894761, "post_id": 45067627, "comment_id": 77108847, "body": "@MartijnPieters: This fits. To check it : <code>next(i for i in range(1,1000) if hash(2**i) != 2**i)</code>"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1499894763, "post_id": 45067627, "comment_id": 77108848, "body": "@MartijnPieters thanks, my definition of <i>small</i> a bit unreasonable, why is -1 the exception (it hashes to -2 on my system like -2 does)?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1499894800, "post_id": 45067627, "comment_id": 77108861, "body": "@Chris_Rands: because <code>-1</code> is an error condition in C code. You can&#39;t return <code>-1</code> from a hash function, because that means there was an exception.."}], "tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1499894469, "last_edit_date": 1499894469, "creation_date": 1499894075, "answer_id": 45067627, "question_id": 45067333, "link": "https://stackoverflow.com/questions/45067333/pop-takes-values-from-beginning-of-sets-on-ranges-enumerated-by-one-consitently/45067627#45067627", "title": "Pop takes values from beginning of sets on ranges enumerated by one consitently. Is this intended?", "body": "<p>Sets are indexed by hash so for integers they will be ordered in ascending order since hash(n) == n if n is a positive int between 0 and 2^31-1. I wouldn't rely on this however since the size of the int can vary on different systems and it's really not a supported feature of the set.</p>\n"}], "owner": {"reputation": 325, "user_id": 7778287, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/87cafd6f0a91772ff3a9c1c568195f33?s=128&d=identicon&r=PG&f=1", "display_name": "user7778287", "link": "https://stackoverflow.com/users/7778287/user7778287"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1499894648, "answer_count": 1, "score": 2, "last_activity_date": 1500026138, "creation_date": 1499892806, "last_edit_date": 1500026138, "question_id": 45067333, "link": "https://stackoverflow.com/questions/45067333/pop-takes-values-from-beginning-of-sets-on-ranges-enumerated-by-one-consitently", "closed_reason": "Duplicate", "title": "Pop takes values from beginning of sets on ranges enumerated by one consitently. Is this intended?", "body": "<p>I'm sorry if this has been asked before, but I can't figure out how this prime sieve uses pop on a set to reliably pull its first/lowest values. </p>\n\n<pre><code>def get_primes(n):\n    numbers = set(range(n, 1, -1))\n    primes = []\n    while numbers:\n        p = numbers.pop()\n        primes.append(p)\n        numbers.difference_update(set(range(p*2, n+1, p)))\n    print(primes)\nget_primes(input('Primes under:'))\n</code></pre>\n\n<p>As far as I can tell it seems accurate, which seems to imply that it is consistently popping the smallest (or leftmost) number from the set, <code>numbers</code> , which contradicts my understanding of how sets work (inherently unordered). When trying to use the same methods on ranges enumerated by more than one, I got less predictable results (as originally expected).</p>\n\n<p>I did some testing of my own:</p>\n\n<pre><code>numbers = set(range(15, 1, -1))\np = numbers.pop()\nP&gt;: 2\n---------------------------------------------------------\nnumbers = set(range(15, 1, -2))\np = numbers.pop()\nP&gt;: 3\n---------------------------------------------------------\nnumbers = set(range(15, 1, -3))\np = numbers.pop()\nP&gt;: 9\n---------------------------------------------------------\nnumbers = set(range(15, 4, -1))\np = numbers.pop()\np&gt;: 5\n---------------------------------------------------------\nnumbers = set(range(15, 4, -2))\np = numbers.pop()\np&gt;: 5\n---------------------------------------------------------\nnumbers = set(range(15, 4, -3))\np = numbers.pop()\np&gt;: 9\n</code></pre>\n\n<p>How is the function above not just pulling composite numbers and appending them to the list of primes? Even when the set it's pulling from is no longer enumerated by just one, it seems to work, not only that, but the list of returned primes looks to be completely ordered on magnitudes of ten thousand (and probably higher) . Is it possible to do repeat this for any sets like the ones I tested?</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT: After following some links posted in the question linked for duplicates I discovered that sets are ordered based on a values last three binary digits.</p>\n"}, {"tags": ["python", "twitter"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499892836, "post_id": 45067310, "comment_id": 77107915, "body": "It is somewhat unwise to share your tokens and secrets."}, {"owner": {"reputation": 399, "user_id": 3736114, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4aa47c0b671ef794d5b48e31d1704327?s=128&d=identicon&r=PG&f=1", "display_name": "user3736114", "link": "https://stackoverflow.com/users/3736114/user3736114"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499892926, "post_id": 45067310, "comment_id": 77107956, "body": "I edited them out."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1499893029, "post_id": 45067310, "comment_id": 77108009, "body": "Yes, but: <a href=\"https://stackoverflow.com/revisions/45067310/1\">stackoverflow.com/revisions/45067310/1</a>. You should reset/recreate them via Twitter."}, {"owner": {"reputation": 575, "user_id": 291838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJVBm.jpg?s=128&g=1", "display_name": "Nick Edwards", "link": "https://stackoverflow.com/users/291838/nick-edwards"}, "edited": false, "score": 0, "creation_date": 1499893343, "post_id": 45067310, "comment_id": 77108163, "body": "Why not just break out of your <code>for line in response:</code>loop after 100 iterations?"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1499893410, "post_id": 45067310, "comment_id": 77108197, "body": "Or <code>for line in response[:100]:</code>"}, {"owner": {"reputation": 399, "user_id": 3736114, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4aa47c0b671ef794d5b48e31d1704327?s=128&d=identicon&r=PG&f=1", "display_name": "user3736114", "link": "https://stackoverflow.com/users/3736114/user3736114"}, "edited": false, "score": 0, "creation_date": 1499893627, "post_id": 45067310, "comment_id": 77108296, "body": "Wow, thank you.  So simple."}], "answers": [{"tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1499894596, "creation_date": 1499894596, "answer_id": 45067733, "question_id": 45067310, "link": "https://stackoverflow.com/questions/45067310/trying-to-limit-number-of-tweets-returned-by-a-program/45067733#45067733", "title": "Trying to limit number of tweets returned by a program", "body": "<p>Seems like my comment worked for you, here it is an an answer. </p>\n\n<p>replace this</p>\n\n<pre><code>for line in response:\n</code></pre>\n\n<p>with this</p>\n\n<pre><code>for line in response[:100]:\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 3736114, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4aa47c0b671ef794d5b48e31d1704327?s=128&d=identicon&r=PG&f=1", "display_name": "user3736114", "link": "https://stackoverflow.com/users/3736114/user3736114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 45067733, "answer_count": 1, "score": 0, "last_activity_date": 1499894596, "creation_date": 1499892715, "last_edit_date": 1499892901, "question_id": 45067310, "link": "https://stackoverflow.com/questions/45067310/trying-to-limit-number-of-tweets-returned-by-a-program", "title": "Trying to limit number of tweets returned by a program", "body": "<p>The code I am using is this. </p>\n\n<pre><code>import oauth2 as oauth\nimport urllib2 as urllib\n\n# See assignment1.html instructions or README for how to get these credentials\n\napi_key = \"\"\napi_secret = \"\"\naccess_token_key = \"\"\naccess_token_secret = \"\"\n\n_debug = 0\n\noauth_token    = oauth.Token(key=access_token_key, secret=access_token_secret)\noauth_consumer = oauth.Consumer(key=api_key, secret=api_secret)\n\nsignature_method_hmac_sha1 = oauth.SignatureMethod_HMAC_SHA1()\n\nhttp_method = \"GET\"\n\n\nhttp_handler  = urllib.HTTPHandler(debuglevel=_debug)\nhttps_handler = urllib.HTTPSHandler(debuglevel=_debug)\n\nConstruct, sign, and open a twitter request\nusing the hard-coded credentials above.\n'''\ndef twitterreq(url, method, parameters):\n  req = oauth.Request.from_consumer_and_token(oauth_consumer,\n                                             token=oauth_token,\n                                             http_method=http_method,\n                                             http_url=url,\n                                             parameters=parameters)\n\n  req.sign_request(signature_method_hmac_sha1, oauth_consumer, oauth_token)\n\n  headers = req.to_header()\n\n  if http_method == \"POST\":\n    encoded_post_data = req.to_postdata()\n  else:\n    encoded_post_data = None\n    url = req.to_url()\n\n  opener = urllib.OpenerDirector()\n  opener.add_handler(http_handler)\n  opener.add_handler(https_handler)\n\n  response = opener.open(url, encoded_post_data)\n\n  return response\n\ndef fetchsamples():\n  url = \"https://stream.twitter.com/1.1/statuses/sample.json?\"\n  parameters = ['en']\n  response = twitterreq(url, \"GET\", parameters)\n  for line in response:\n    print (line.strip())\n\nif __name__ == '__main__':\n  fetchsamples()\n</code></pre>\n\n<p>So this just streams a constant stream of tweets.  I would like to limit this to 100.  I tried adding ?count=100 to the url but the count parameter is not allowed for statuses/sample.json.  Any help would be greatly apprecited.  Thanks.  </p>\n"}, {"tags": ["python", "arrays", "numpy", "vectorization"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1499892664, "post_id": 45067268, "comment_id": 77107811, "body": "Why are you calling <code>np.vectorize</code> on a function that&#39;s supposed to take rows?"}, {"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499893252, "post_id": 45067268, "comment_id": 77108123, "body": "I ended up using the solution suggested by Divakar, but I&#39;m interested in understanding if it&#39;s possible to use vectorize because I thought the row-wise implementation was slightly easier to interpret."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 1, "creation_date": 1499893427, "post_id": 45067268, "comment_id": 77108207, "body": "As ironic as this might sound, <code>np.vectorize</code> isn&#39;t a vectorized operation, as you seem to be asking about. From the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html\" rel=\"nofollow noreferrer\"><code>docs</code></a> - <code>&quot;The vectorize function is provided primarily for convenience, not for performance. The implementation is essentially a for loop.&quot;</code>."}, {"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 0, "creation_date": 1499893939, "post_id": 45067268, "comment_id": 77108436, "body": "Yeah, you&#39;re right. I think vectorize is just an all around bad idea. Thanks for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "edited": false, "score": 0, "creation_date": 1499893080, "post_id": 45067322, "comment_id": 77108030, "body": "This is right, and I actually ended up doing something very similar rather than messing with vectorize. I guess I&#39;m more interested in why the earlier code didn&#39;t work. I&#39;m going to edit my question"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1499893681, "last_edit_date": 1499893681, "creation_date": 1499892784, "answer_id": 45067322, "question_id": 45067268, "link": "https://stackoverflow.com/questions/45067268/numpy-vectorized-2d-array-operation-error/45067322#45067322", "title": "Numpy vectorized 2d array operation error", "body": "<p>You are sum-reducing the second axis of <code>X</code> against the only axis of <code>coeffs</code>. So, you could simply use <code>np.dot(X,coeffs)</code> for <code>sum-reductions</code>.</p>\n\n<p>Thus, a vectorized solution would be -</p>\n\n<pre><code>1.0 / (1.0 + np.exp(-X.dot(coeffs)))\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [227]: X = np.array([[0, 1], [2, 2], [3, 0]], dtype=float)\n     ...: coeffs = np.array([1, 1], dtype=float)\n     ...: \n\n# Using list comprehension    \nIn [228]: [1.0 / (1.0 + np.exp(-coeffs.dot(x))) for x in X]\nOut[228]: [0.7310585786300049, 0.98201379003790845, 0.95257412682243336]\n\n# Using proposed method\nIn [229]: 1.0 / (1.0 + np.exp(-X.dot(coeffs)))\nOut[229]: array([ 0.73105858,  0.98201379,  0.95257413])\n</code></pre>\n\n<p>The correct way to use <code>np.apply_along_axis</code> would be to drop <code>np.vectorize</code> and apply it along the second axis of <code>X</code>, i.e. every row of <code>X</code> -</p>\n\n<pre><code>np.apply_along_axis(lambda row: 1.0 / (1.0 + np.exp(-coeffs.dot(row))), 1,X)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1499903796, "last_edit_date": 1499903796, "creation_date": 1499902436, "answer_id": 45069116, "question_id": 45067268, "link": "https://stackoverflow.com/questions/45067268/numpy-vectorized-2d-array-operation-error/45069116#45069116", "title": "Numpy vectorized 2d array operation error", "body": "<p>In v 1.12 <code>vectorize</code> docs says:</p>\n\n<blockquote>\n  <p>By default, <code>pyfunc</code> is\n      assumed to take scalars as input and output.</p>\n</blockquote>\n\n<p>In your attempt:</p>\n\n<pre><code>np.apply_along_axis(\n    np.vectorize(lambda row: 1.0 / (1.0 + np.exp(-coeffs.dot(row)))),\n    0, X\n)\n</code></pre>\n\n<p><code>apply_along_axis</code> iterates on all axes except <code>0</code>, and feeds the resulting 1d array to its function.  So for 2d it will iterate on 1 axis, and feed the other.  <code>Divakar</code> shows it iterating on the 0 axis, and feeding rows.  So it's basically the same as the list comprehension with an array wrapper.</p>\n\n<p><code>apply_along_axis</code> makes more sense with 3d or higher inputs, where it's more fiddly to iterate on 2 axes and feed the third to your function.</p>\n\n<p>Writing your lambda as a function:</p>\n\n<pre><code>def foo(row):\n    return 1.0/(1.0+np.exp(-coeffs.dot(row)))\n</code></pre>\n\n<p>Given an array (row) it returns a scalar:</p>\n\n<pre><code>In [768]: foo(X[0,:])\nOut[768]: 0.7310585786300049\n</code></pre>\n\n<p>But given a scalar, it returns an array:</p>\n\n<pre><code>In [769]: foo(X[0,0])\nOut[769]: array([ 0.5,  0.5])\n</code></pre>\n\n<p>That explains the <code>sequence</code> error message.  <code>vectorize</code> expected your function to return a scalar, but it got an array.</p>\n\n<h2>signature</h2>\n\n<p>In v 1.12 <code>vectorize</code> adds a <code>signature</code> parameter, which lets us feed something bigger than a scalar to the function.  I explored it in:</p>\n\n<p><a href=\"https://stackoverflow.com/a/44752552/901925\">https://stackoverflow.com/a/44752552/901925</a></p>\n\n<p>Using the <code>signature</code> I get <code>vectorize</code> to work with:</p>\n\n<pre><code>In [784]: f = np.vectorize(foo, signature='(n)-&gt;()')\nIn [785]: f(X)\nOut[785]: array([ 0.73105858,  0.98201379,  0.95257413])\n</code></pre>\n\n<p>the same thing as this:</p>\n\n<pre><code>In [787]: np.apply_along_axis(foo,1,X)\nOut[787]: array([ 0.73105858,  0.98201379,  0.95257413])\n</code></pre>\n\n<h2>timings</h2>\n\n<pre><code>In [788]: timeit np.apply_along_axis(foo,1,X)\n10000 loops, best of 3: 80.8 \u00b5s per loop\nIn [789]: timeit f(X)\n1000 loops, best of 3: 181 \u00b5s per loop\nIn [790]: np.array([foo(x) for x in X])\nOut[790]: array([ 0.73105858,  0.98201379,  0.95257413])\nIn [791]: timeit np.array([foo(x) for x in X])\n10000 loops, best of 3: 22.1 \u00b5s per loop\n</code></pre>\n\n<p>list comprehension is fastest, <code>vectorize</code> slowest.</p>\n"}], "owner": {"reputation": 150, "user_id": 5994464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30ba7b79234da835812b2ab9c9e1bde?s=128&d=identicon&r=PG&f=1", "display_name": "Petergavinkin", "link": "https://stackoverflow.com/users/5994464/petergavinkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 45067322, "answer_count": 2, "score": 1, "last_activity_date": 1499903796, "creation_date": 1499892524, "last_edit_date": 1499892940, "question_id": 45067268, "link": "https://stackoverflow.com/questions/45067268/numpy-vectorized-2d-array-operation-error", "title": "Numpy vectorized 2d array operation error", "body": "<p>I'm trying to apply a vectorized function over a 2-d array in numpy row-wise, and I'm encountering <code>ValueError: setting an array element with a sequence.</code></p>\n\n<pre><code>import numpy as np\n\nX = np.array([[0, 1], [2, 2], [3, 0]], dtype=float)\ncoeffs = np.array([1, 1], dtype=float)\n\nnp.apply_along_axis(\n    np.vectorize(lambda row: 1.0 / (1.0 + np.exp(-coeffs.dot(row)))),\n    0, X\n)\n</code></pre>\n\n<p>I don't totally know how to interpret this error. How am I setting an array element with a sequence?</p>\n\n<p>When I test the lambda function on a single row, it works and returns a single float. Somehow it's failing within the scope of this vectorized function, which leads me to believe that either the vectorized function is wrong or I'm not using <code>apply_along_axis</code> correctly.</p>\n\n<p>Is it possible to use a vectorized function in this context? If so, how? Can a vectorized function take an array or am I misunderstanding the documentation?</p>\n"}, {"tags": ["python", "geocoding", "qgis"], "comments": [{"owner": {"reputation": 691, "user_id": 6452523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7396ca4cc32e7c4e2660e3286a79d44?s=128&d=identicon&r=PG", "display_name": "Keyu Gan", "link": "https://stackoverflow.com/users/6452523/keyu-gan"}, "edited": false, "score": 0, "creation_date": 1499924099, "post_id": 45067229, "comment_id": 77116832, "body": "According to <a href=\"http://www.davidmckie.com/Geocoding%20Using%20QGIS_New.pdf\" rel=\"nofollow noreferrer\">davidmckie.com/Geocoding%20Using%20QGIS_New.pdf</a> , it seems <code>geocoding</code> isn&#39;t any kind of code as referred in programming (though I cannot make sure because I never use the mentioned software). If so, the problem should be put on other professional SE site directly related to GIS."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 8299570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce53e7b07b8d38281b4751291897568?s=128&d=identicon&r=PG&f=1", "display_name": "lbartoletti", "link": "https://stackoverflow.com/users/8299570/lbartoletti"}, "is_accepted": false, "score": 0, "last_activity_date": 1499918926, "creation_date": 1499918926, "answer_id": 45071250, "question_id": 45067229, "link": "https://stackoverflow.com/questions/45067229/mmqgis-error-no-13/45071250#45071250", "title": "MMQGIS Error No. 13", "body": "<p>You want to write the \"Not found output list\" into a directory where you don't have write permission.</p>\n\n<p>You need to change the path to a writable directory. Something like your Home, or a temp directory.</p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 1, "user_id": 8298339, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156431676959816/picture?type=large", "display_name": "Alessandro Regio", "link": "https://stackoverflow.com/users/8298339/alessandro-regio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 671, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499918926, "creation_date": 1499892344, "last_edit_date": 1499893289, "question_id": 45067229, "link": "https://stackoverflow.com/questions/45067229/mmqgis-error-no-13", "title": "MMQGIS Error No. 13", "body": "<p>I am trying to run a simple geocode call using the <code>MMQGIS plugin</code> for <code>QGIS 2.18</code>.</p>\n\n<p>I fill the dialog box and make sure the headers selected are the ones I'm interested in, but I keep getting this error message:</p>\n\n<pre><code>[Errno 13] Permission denied: u'C:\\\\PROGRA~1\\\\QGIS2~1.18\\\\bin/notfound.csv'\n</code></pre>\n\n<p>I've seen <code>errno13</code> be a python related issue, but I can't understand how it directly affects the geocoding that I am trying to do here. </p>\n\n<p>If anyone knows what this error means for this plugin, please do let me know.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1499892394, "post_id": 45067205, "comment_id": 77107671, "body": "<code>dot</code> is only an inner product for 1D input. For 2D input, it&#39;s matrix multiplication."}, {"owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "edited": false, "score": 0, "creation_date": 1500308068, "post_id": 45067205, "comment_id": 77267130, "body": "Did either of the answers provided answer your question?"}, {"owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "reply_to_user": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "edited": false, "score": 0, "creation_date": 1500322020, "post_id": 45067205, "comment_id": 77274462, "body": "@RyanStout Sorry about that, Got caught up with work and didn&#39;t check my stack."}], "answers": [{"tags": [], "owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "is_accepted": true, "score": 2, "last_activity_date": 1499892472, "creation_date": 1499892472, "answer_id": 45067256, "question_id": 45067205, "link": "https://stackoverflow.com/questions/45067205/numpy-array-dot-product-depending-on-order-of-input/45067256#45067256", "title": "Numpy - Array dot product depending on order of input", "body": "<p>If you multiply a k by 1 matrix (a vector) with a 1 by k matrix, you get a k by k matrix.\nIf you multiply a 1 by k matrix with a k by 1 matrix, you get a 1 by 1 matrix.</p>\n"}, {"comments": [{"owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "edited": false, "score": 0, "creation_date": 1499893114, "post_id": 45067318, "comment_id": 77108051, "body": "&quot;dot product of vectors a and b is simply a * b^T&quot; isn&#39;t true. the dot product is a^T * b when a and b are both column vectors as in the question here"}, {"owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "reply_to_user": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "edited": false, "score": 0, "creation_date": 1499894248, "post_id": 45067318, "comment_id": 77108605, "body": "Thank you, I didn&#39;t notice my typo there."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1499900247, "post_id": 45067318, "comment_id": 77110824, "body": "In <code>numpy</code> we have to be careful when talking about vectors and transpose.  With a 1d vector, transpose does nothing.  The OP has column vectors (n,1), for which <code>.T</code> does make a difference."}], "tags": [], "owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "is_accepted": false, "score": 1, "last_activity_date": 1499894227, "last_edit_date": 1499894227, "creation_date": 1499892748, "answer_id": 45067318, "question_id": 45067205, "link": "https://stackoverflow.com/questions/45067205/numpy-array-dot-product-depending-on-order-of-input/45067318#45067318", "title": "Numpy - Array dot product depending on order of input", "body": "<p><code>np.dot</code> does not calculate the dot product of multiple arrays. It calculates the matrix multiplication of two <code>ndarray</code>s.</p>\n\n<p>You can calculate the dot product of two vectors with <code>np.dot</code> because the dot product of vectors <code>a</code> and <code>b</code> is simply <code>a^T * b</code>. However, as with regular vectors, <code>a^T * b</code> and <code>b * a^T</code> result in two very different answers. The former calculates the dot product of the vectors, while the latter calculates the product of <code>b</code> and <code>a^T</code>.</p>\n"}], "owner": {"reputation": 2461, "user_id": 1726404, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/647f2443db420ba73f605ac0637b4166?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1726404/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "accepted_answer_id": 45067256, "answer_count": 2, "score": 0, "last_activity_date": 1499894227, "creation_date": 1499892258, "question_id": 45067205, "link": "https://stackoverflow.com/questions/45067205/numpy-array-dot-product-depending-on-order-of-input", "title": "Numpy - Array dot product depending on order of input", "body": "<p>I am trying to do a dot product and if I put a transposed array as the first parameter I get the correct answer (a single value) since it is essentially its a sum of products <code>sum(a*b)</code>. But if I put the transposed array as the second parameter it gives me a 2x2 array. Why?</p>\n\n<pre><code>a = np.array([[1],[2]])\n\nb = np.array([[3],[4]])\n\nnp.dot(a,b.T)\nOut[208]: \narray([[3, 4],\n       [6, 8]])\n\nnp.dot(a.T,b)\nOut[209]: array([[11]])\n\nnp.dot(b.T, a)\nOut[210]: array([[11]])\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "keras"], "comments": [{"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1499901454, "post_id": 45067108, "comment_id": 77111142, "body": "A <code>Lambda</code> layer should not disable backpropagation. What happened when you tried that?"}, {"owner": {"reputation": 356, "user_id": 8298309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea721108c6250b09cd39c31cb15461b?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Gaiser", "link": "https://stackoverflow.com/users/8298309/hans-gaiser"}, "reply_to_user": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1499930693, "post_id": 45067108, "comment_id": 77120516, "body": "Perhaps I misinterpreted what happened, but I modified a (working) Keras MNIST example to use tf ops (<a href=\"https://gist.github.com/hgaiser/9d38ac49424f400c161c8086ff864d08\" rel=\"nofollow noreferrer\">gist.github.com/hgaiser/9d38ac49424f400c161c8086ff864d08</a>). That network didn&#39;t seem to train (0.1 acc.). Also, its summary shows no trainable parameters. For clarity, I don&#39;t mean my network does not backpropagate at all, just that the Lambda layers do not contribute to the backpropagation. If the network consists of only Lambda layers, there is no training at all."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 8298309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea721108c6250b09cd39c31cb15461b?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Gaiser", "link": "https://stackoverflow.com/users/8298309/hans-gaiser"}, "is_accepted": true, "score": 3, "last_activity_date": 1500969181, "creation_date": 1500969181, "answer_id": 45297135, "question_id": 45067108, "link": "https://stackoverflow.com/questions/45067108/tensorflow-op-in-keras-model/45297135#45297135", "title": "Tensorflow op in Keras model", "body": "<p>Roughly two weeks have passed and it seems I am able to answer my own question now.</p>\n\n<p>It seems like tensorflow can look up gradients if you register them using <a href=\"https://www.tensorflow.org/api_docs/python/tf/RegisterGradient\" rel=\"nofollow noreferrer\">this</a> decorator. As of writing, this functionality is not (yet) available in C++, which is what I was looking for. A workaround would be to define a normal op in C++ and wrap it in a python method using the mentioned decorator. If these functions with corresponding gradients are registered with tensorflow, backpropagation will happen 'automagically'.</p>\n"}], "owner": {"reputation": 356, "user_id": 8298309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea721108c6250b09cd39c31cb15461b?s=128&d=identicon&r=PG&f=1", "display_name": "Hans Gaiser", "link": "https://stackoverflow.com/users/8298309/hans-gaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 2, "accepted_answer_id": 45297135, "answer_count": 1, "score": 4, "last_activity_date": 1533163806, "creation_date": 1499891976, "question_id": 45067108, "link": "https://stackoverflow.com/questions/45067108/tensorflow-op-in-keras-model", "title": "Tensorflow op in Keras model", "body": "<p>I'm trying to use a tensorflow op inside a Keras model. I previously tried to wrap it with a Lambda layer but I believe this disables that layers' backpropagation.</p>\n\n<p>More specifically, I'm trying to use the layers from <a href=\"https://github.com/zplizzi/tensorflow-fast-rcnn/tree/master/tensorflow/core/user_ops\" rel=\"nofollow noreferrer\">here</a> in a Keras model, without porting it to Keras layers (I hope to deploy to tensorflow later on). I can compile these layers in a shared library form and load these into python. This gives me tensorflow ops and I don't know how to combine this in a Keras model.</p>\n\n<p>A simple example of a Keras MNIST model, where for example one Conv2D layer is replaced by a tf.nn.conv2d op, would be exactly what I'm looking for.</p>\n\n<p>I've seen <a href=\"https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html\" rel=\"nofollow noreferrer\">this</a> tutorial but it appears to do the opposite of what I am looking for. It seems to insert Keras layers into a tensorflow graph. I'm looking to do the exact opposite.</p>\n\n<p>Best regards,\nHans</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1499891977, "post_id": 45067094, "comment_id": 77107501, "body": "you can, if the file is not huge, read the file into memory and then overwrite the appropriate lines back to the file. If the file size is greater than your RAM then you will likely have a <code>MemoryError</code>"}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1499892038, "post_id": 45067094, "comment_id": 77107535, "body": "Can you please provide what code you have tried so far and the issues you have had as that is the purpose of this website."}, {"owner": {"reputation": 3747, "user_id": 2597213, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e7907344803baaa139d4beeb43bf92b?s=128&d=identicon&r=PG", "display_name": "efirvida", "link": "https://stackoverflow.com/users/2597213/efirvida"}, "edited": false, "score": 0, "creation_date": 1499892070, "post_id": 45067094, "comment_id": 77107548, "body": "also you can use bash <code>sed</code> command, I think Is better solution, and If you still want to use inside python you can use the <code>subprocess</code> module to run <code>sed</code> from the python script"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 1, "creation_date": 1499892446, "post_id": 45067094, "comment_id": 77107702, "body": "@Professor_Joykill you just killed the joy :)"}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "reply_to_user": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499892493, "post_id": 45067094, "comment_id": 77107728, "body": "@AGNGazer Hey it&#39;s my job"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499892823, "post_id": 45067094, "comment_id": 77107905, "body": "@HarshPatel How do you know which line to delete?"}, {"owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "reply_to_user": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499893156, "post_id": 45067094, "comment_id": 77108066, "body": "@AGNGazer Suppose I have one line in text file, <b>Harsh Patel 20.0 10.0</b> I want to delete this whole line by giving input as  <b>Harsh Patel</b>"}, {"owner": {"reputation": 3747, "user_id": 2597213, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e7907344803baaa139d4beeb43bf92b?s=128&d=identicon&r=PG", "display_name": "efirvida", "link": "https://stackoverflow.com/users/2597213/efirvida"}, "edited": false, "score": 0, "creation_date": 1499893352, "post_id": 45067094, "comment_id": 77108168, "body": "my script works :p"}], "answers": [{"comments": [{"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499892631, "post_id": 45067227, "comment_id": 77107792, "body": "This creates a <i>new</i> file"}, {"owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "reply_to_user": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1499892924, "post_id": 45067227, "comment_id": 77107955, "body": "In a way... it overwrite the previous file, so no new file is created."}, {"owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1499895048, "post_id": 45067227, "comment_id": 77108986, "body": "I know the name. see, <b>Harsh Patel 20.0 60.0  Peter Piper 15.5 40.0  Manish Mannon 27.5 38.5 Luke Papa 25 50</b> This is my text file. Now I am asking from user that which employee data line you want to remove. Then User will input <b>Harsh Patel</b>.  I want to delete whole line which contains <b>Harsh Patel</b>.  PS: I am new to Python and Experimenting stuff with File Processing in python."}, {"owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "edited": false, "score": 0, "creation_date": 1499896823, "post_id": 45067227, "comment_id": 77109687, "body": "You can separate the file with &#39;\\n&#39; as:  &quot;Harsh Patel 20.0 60.0\\nPeter Piper 15.5 40.0\\nManish Mannon 27.5 38.5\\nLuke Papa 25 50&quot; and then use readlines() function to get a list of the lines, and then delete from the list the element which in the name that the user entered, I will write another answer that show how you can do that."}, {"owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1499897779, "post_id": 45067227, "comment_id": 77110057, "body": "@messy212 I do have text file line 1st line <b>Harsh Patel 20.0 60.0</b> 2nd line <b>Peter Piper 15.5 40.0</b> so on.  So when I am using f.read() then it is giving the same which mentioned in your first line."}, {"owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "edited": false, "score": 0, "creation_date": 1499898120, "post_id": 45067227, "comment_id": 77110168, "body": "I just posted another answer, try it. tell me how it went."}, {"owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1499955974, "post_id": 45067227, "comment_id": 77139577, "body": "@messy212 Smooth it was. Thank you man.  Now same way I can work on Update string as well on same text file.  The other objective is to update string in the same txt file. Which i am trying to do now."}], "tags": [], "owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "is_accepted": false, "score": 0, "last_activity_date": 1499892339, "creation_date": 1499892339, "answer_id": 45067227, "question_id": 45067094, "link": "https://stackoverflow.com/questions/45067094/how-can-i-delete-one-particular-line-which-consist-certain-string-in-python-with/45067227#45067227", "title": "How can I delete one particular line which consist certain string in python without creating new file?", "body": "<p>Well if you know the line I guess you can try this:</p>\n\n<pre><code>THE_LINE = \".......\"\nfile = open(\"filename.txt\", \"r\")\ntext = file.read()\nfile.close()\n# to delete, replace the line with nothing:\ntext = text.replace(THE_LINE, \"\")\nfile = open(\"filename.txt\", \"w\")\nfile.write(text)\nfile.close()\n</code></pre>\n\n<p>hope that was helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 3747, "user_id": 2597213, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e7907344803baaa139d4beeb43bf92b?s=128&d=identicon&r=PG", "display_name": "efirvida", "link": "https://stackoverflow.com/users/2597213/efirvida"}, "is_accepted": false, "score": 0, "last_activity_date": 1499893042, "last_edit_date": 1499893042, "creation_date": 1499892618, "answer_id": 45067288, "question_id": 45067094, "link": "https://stackoverflow.com/questions/45067094/how-can-i-delete-one-particular-line-which-consist-certain-string-in-python-with/45067288#45067288", "title": "How can I delete one particular line which consist certain string in python without creating new file?", "body": "<p>Using sed</p>\n\n<pre><code>import subprocess\nTHE_FILE = 'file.txt'\nTHE_LINE = 'line to delete'\nsub = subprocess.call(['sed','-i', '/'+THE_LINE+'/d', THE_FILE  ])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1499899293, "post_id": 45068426, "comment_id": 77110543, "body": "meanwhile I came up with another solution. But, I don&#39;t know why it is writing the last line of my text file again in text file. see my answer."}, {"owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "reply_to_user": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1499900705, "post_id": 45068426, "comment_id": 77110957, "body": "@HarshPatel I don&#39;t know why your answer not working, I guess that because f is a file pointer, so you can&#39;t really do x in f, but did so... maybe you didn&#39;t closed the files? please write all of your script, so I will be able to  see exactly what is the problem"}], "tags": [], "owner": {"reputation": 64, "user_id": 7470101, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wZCVaPCM-sY/AAAAAAAAAAI/AAAAAAAAABU/bD2G2XEzhGU/photo.jpg?sz=128", "display_name": "messy212", "link": "https://stackoverflow.com/users/7470101/messy212"}, "is_accepted": true, "score": 1, "last_activity_date": 1499898049, "creation_date": 1499898049, "answer_id": 45068426, "question_id": 45067094, "link": "https://stackoverflow.com/questions/45067094/how-can-i-delete-one-particular-line-which-consist-certain-string-in-python-with/45068426#45068426", "title": "How can I delete one particular line which consist certain string in python without creating new file?", "body": "<p>If your text file is separated with '\\n' so you can use this:</p>\n\n<pre><code>THE_LINE = \"Harsh Patel\"\nfile = open(\"filename.txt\", \"r\")\n# read the text as a list of lines:\ntext = file.readlines()\nfile.close()\n# use filter, to filter elements from a list, use lambda to create a mini function:\nnew_text = filter(lambda element: THE_LINE not in element, text)\nfile = open(\"filename.txt\", \"w\")\n# use join to make a string out of a list in the format you choose, the string there is empty because we have the '\\n' in the list already:\nfile.write(\"\".join(new_text))\nfile.close()\n</code></pre>\n\n<p>to recheck your code you can use this code which will rewrite to file:</p>\n\n<pre><code>a = \"Harsh Patel 20.0 60.0\\nPeter Piper 15.5 40.0\\nManish Mannon 27.5 38.5\\nLuke Papa 25 50\"\nfile = open(\"filename.txt\", \"w\")\nfile.write(a)\nfile.close()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6155973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260558767305279/picture?type=large", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/6155973/harsh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 45068426, "answer_count": 3, "score": -2, "last_activity_date": 1499899533, "creation_date": 1499891900, "last_edit_date": 1499899533, "question_id": 45067094, "link": "https://stackoverflow.com/questions/45067094/how-can-i-delete-one-particular-line-which-consist-certain-string-in-python-with", "title": "How can I delete one particular line which consist certain string in python without creating new file?", "body": "<p>So basically I have this one particular problem where I have to apply all the CRUD operations on one TEXT file using python. I did complete create, read orations and I did Delete part as well but with 2 different text files (ie Source file and Target File). Now, My question is <strong>Can we delete one particular line which consist certain string without creating new file (with Existing source file) in python?</strong></p>\n\n<p>employee.txt\n<strong>Harsh Patel 20.0 60.0\nPeter Piper 15.5 40.0 \nManish Mannon 27.5 38.5 \nLuke Papa 25 50</strong> </p>\n\n<p>This is my text file. Now I am asking from user that which employee data line you want to remove. Then User will input <strong>Harsh Patel</strong>. \nI want to delete whole line which contains Harsh Patel. </p>\n\n<p>PS: I am new to Python and Experimenting stuff with File Processing.</p>\n\n<p><strong>EDIT:</strong>\nSo meanwhile I came up with other solution. But the main problem is it writes the last line of my text file again. </p>\n\n<pre><code>with open('employee.txt') as f,open('employee.txt','w') as f2:\n    for x in f:\n        if 'Harsh Patel' not in x:\n            f2.write(x)\n</code></pre>\n\n<p>So the output of this is,\n<strong>1st line</strong> Peter Piper 15.5 40.0 \n<strong>2nd line</strong> Manish Mannon 27.5 38.5 \n<strong>3rd line</strong> Luke Papa 25 50\n<strong>4th line</strong> Luke Papa 25 50</p>\n\n<p>4th line is duplicate of 3rd line.  </p>\n"}, {"tags": ["python", "json", "django"], "comments": [{"owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1499892001, "post_id": 45067078, "comment_id": 77107518, "body": "You mean you want to print it out like a tree?"}, {"owner": {"reputation": 446, "user_id": 5673058, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0f2272ce2edb5a5387b7ac15bf3ee1c8?s=128&d=identicon&r=PG&f=1", "display_name": "djkah11", "link": "https://stackoverflow.com/users/5673058/djkah11"}, "reply_to_user": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "edited": false, "score": 0, "creation_date": 1499892088, "post_id": 45067078, "comment_id": 77107557, "body": "I want to do something like this <a href=\"https://github.com/lmenezes/json-tree\" rel=\"nofollow noreferrer\">github.com/lmenezes/json-tree</a>"}, {"owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "edited": false, "score": 2, "creation_date": 1499892485, "post_id": 45067078, "comment_id": 77107725, "body": "Why don&#39;t you just return it as a REST call and display it using the json-tree library you posted."}, {"owner": {"reputation": 446, "user_id": 5673058, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0f2272ce2edb5a5387b7ac15bf3ee1c8?s=128&d=identicon&r=PG&f=1", "display_name": "djkah11", "link": "https://stackoverflow.com/users/5673058/djkah11"}, "edited": false, "score": 0, "creation_date": 1499892740, "post_id": 45067078, "comment_id": 77107850, "body": "It&#39;s hard to explain, but I can only use django :("}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 5673058, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0f2272ce2edb5a5387b7ac15bf3ee1c8?s=128&d=identicon&r=PG&f=1", "display_name": "djkah11", "link": "https://stackoverflow.com/users/5673058/djkah11"}, "edited": false, "score": 0, "creation_date": 1499892914, "post_id": 45067301, "comment_id": 77107948, "body": "I need to display this not in the console, but in the browser"}], "tags": [], "owner": {"reputation": 382, "user_id": 4765406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CunQw.jpg?s=128&g=1", "display_name": "ahota", "link": "https://stackoverflow.com/users/4765406/ahota"}, "is_accepted": false, "score": 0, "last_activity_date": 1499892660, "creation_date": 1499892660, "answer_id": 45067301, "question_id": 45067078, "link": "https://stackoverflow.com/questions/45067078/tree-view-from-json-django/45067301#45067301", "title": "Tree view from json Django", "body": "<p>If you just want it printed with indentation, the <code>json</code> module can already do this using <code>dumps()</code>, as shown <a href=\"https://stackoverflow.com/a/12944035/4765406\">here</a>. Alternatively, you can use <a href=\"https://docs.python.org/2/library/pprint.html\" rel=\"nofollow noreferrer\"><code>pprint</code></a>.</p>\n"}], "owner": {"reputation": 446, "user_id": 5673058, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0f2272ce2edb5a5387b7ac15bf3ee1c8?s=128&d=identicon&r=PG&f=1", "display_name": "djkah11", "link": "https://stackoverflow.com/users/5673058/djkah11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499892660, "creation_date": 1499891842, "question_id": 45067078, "link": "https://stackoverflow.com/questions/45067078/tree-view-from-json-django", "title": "Tree view from json Django", "body": "<p>I have a backend that gives me a json response like this</p>\n\n<pre><code>{\n    \"compiler\": {\n        \"type\": \"GCC\",\n        \"version\": \"5.4\"\n    },\n    \"cpu\": {\n        \"architecture\": \"x86_64\",\n        \"count\": 4\n    }\n}\n</code></pre>\n\n<p>I need to visualize this response in the form of a tree. What should I do?\nMaybe try to transform it to django-model? Or something else?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 7, "creation_date": 1499891697, "post_id": 45067002, "comment_id": 77107368, "body": "Read the documentation on the return value of <code>os.system</code>... Also, why do you need to run <code>python</code> OS command from within python? Import the module..."}], "answers": [{"tags": [], "owner": {"reputation": 650, "user_id": 7669570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f4c9c277ec9fea0992c74b3f989be39?s=128&d=identicon&r=PG&f=1", "display_name": "flevinkelming", "link": "https://stackoverflow.com/users/7669570/flevinkelming"}, "is_accepted": false, "score": 1, "last_activity_date": 1499891987, "creation_date": 1499891987, "answer_id": 45067111, "question_id": 45067002, "link": "https://stackoverflow.com/questions/45067002/facing-errors-when-reading-huge-text-in-python/45067111#45067111", "title": "Facing errors when reading huge text in python", "body": "<p>Try this as a replacement for the code you've provided:</p>\n\n<pre><code>import glob\n\nfiles = glob.glob('spam/*.*')\n\nfor f in files:\n    with open(f) as spam_file:\n        for line in spam_file:\n            print(line)\n</code></pre>\n\n<p>If the files are indeed html files, I would recommend looking into <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">BeautifulSoup</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 4809, "user_id": 7915557, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d36b37bf47edc3bf62574d8ab88870f9?s=128&d=identicon&r=PG&f=1", "display_name": "OLIVER.KOO", "link": "https://stackoverflow.com/users/7915557/oliver-koo"}, "is_accepted": false, "score": 0, "last_activity_date": 1499892178, "creation_date": 1499892178, "answer_id": 45067176, "question_id": 45067002, "link": "https://stackoverflow.com/questions/45067002/facing-errors-when-reading-huge-text-in-python/45067176#45067176", "title": "Facing errors when reading huge text in python", "body": "<p>The return value of <code>os.system(command)</code> is system-dependent, it supposes to return the (encoded) process exit value which represented by an <code>int</code>. read more <a href=\"https://docs.python.org/2/library/os.html#os.system\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>On Unix, the return value is the exit status of the process encoded in\n  the format specified for wait(). Note that POSIX does not specify the\n  meaning of the return value of the C system() function, so the return\n  value of the Python function is system-dependent.</p>\n  \n  <p>On Windows, the return value is that returned by the system shell\n  after running command, given by the Windows environment variable\n  COMSPEC: on command.com systems (Windows 95, 98 and ME) this is always\n  0; on cmd.exe systems (Windows NT, 2000 and XP) this is the exit\n  status of the command run; on systems using a non-native shell,\n  consult your shell documentation.</p>\n</blockquote>\n\n<p>But in no system it returns a <code>str</code> and the method <code>splitlines()</code> is a str method. read more <a href=\"http://www.tutorialspoint.com/python/string_splitlines.htm\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>You are calling a <code>str</code> method on a <code>int</code> that is why you get the error:</p>\n\n<blockquote>\n  <p>AttributeError: 'int' object has no attribute 'splitlines'</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 3775614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tkkon.png?s=128&g=1", "display_name": "lee-pai-long", "link": "https://stackoverflow.com/users/3775614/lee-pai-long"}, "is_accepted": false, "score": 0, "last_activity_date": 1499892535, "last_edit_date": 1499892535, "creation_date": 1499892198, "answer_id": 45067187, "question_id": 45067002, "link": "https://stackoverflow.com/questions/45067002/facing-errors-when-reading-huge-text-in-python/45067187#45067187", "title": "Facing errors when reading huge text in python", "body": "<blockquote>\n  <p>On Unix, the return value is the exit status of the process encoded in\n  the format specified for\u00a0wait(). Note that POSIX does not specify the\n  meaning of the return value of the C\u00a0system()\u00a0function, so the return\n  value of the Python function is system-dependent.</p>\n  \n  <p>On Windows, the return value is that returned by the system shell\n  after running\u00a0command. The shell is given by the Windows environment\n  variable\u00a0COMSPEC: it is usually\u00a0cmd.exe, which returns the exit status\n  of the command run; on systems using a non-native shell, consult your\n  shell documentation.\n  <a href=\"https://docs.python.org/3.4/library/os.html#os.system\" rel=\"nofollow noreferrer\">python docs </a></p>\n</blockquote>\n\n<p>So your <code>output</code> variable is a integer not the result of the file being parsed by the \nhtml2txt.py script.</p>\n\n<p>And why do you run another python script outside of your current process ? Can't you just import whatever class of function that is doing the job from that module ?</p>\n\n<p>Also there is an <a href=\"https://docs.python.org/3.4/library/email-examples.html\" rel=\"nofollow noreferrer\">email module</a> that can help you</p>\n"}], "owner": {"reputation": 302, "user_id": 6939129, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/1321050857/picture?type=large", "display_name": "Sumanth", "link": "https://stackoverflow.com/users/6939129/sumanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1499892535, "creation_date": 1499891530, "last_edit_date": 1499891618, "question_id": 45067002, "link": "https://stackoverflow.com/questions/45067002/facing-errors-when-reading-huge-text-in-python", "title": "Facing errors when reading huge text in python", "body": "<p>Using Python3 my requirement is to read email files from a directory and filter Html tags in it. </p>\n\n<p>I have managed to do it to a large extent.When I try to read the content of my output, it gives an error </p>\n\n<pre><code>for line in output.splitlines():\nAttributeError: 'int' object has no attribute 'splitlines'  \n</code></pre>\n\n<hr>\n\n<pre><code>for file in glob.glob('spam/*.*'):\n    output = os.system(\"python html2txt.py \" + file)\n    for line in output.splitlines():\n     print(line)  \n</code></pre>\n\n<p>When I print output, it shows a filtered text.Any help is appreciated. </p>\n"}, {"tags": ["python", "aws-lambda", "amazon-cloudformation"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8297640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9acb11df25e9f23580c13663795c9c3c?s=128&d=identicon&r=PG&f=1", "display_name": "mccoym", "link": "https://stackoverflow.com/users/8297640/mccoym"}, "edited": false, "score": 0, "creation_date": 1499893566, "post_id": 45067267, "comment_id": 77108271, "body": "Thanks - would I be able to assign these environment variables to a variable in the lambda? So i would do :  ... variable 1 = os.environ[&#39;variable1&#39;]) and variable 2 = os.environ[&#39;variable2&#39;])"}], "tags": [], "owner": {"reputation": 2512, "user_id": 838693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a750b4c128af0910dca8e82446cbcfa?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/838693/max"}, "is_accepted": false, "score": 4, "last_activity_date": 1509607827, "last_edit_date": 1509607827, "creation_date": 1499892510, "answer_id": 45067267, "question_id": 45066914, "link": "https://stackoverflow.com/questions/45066914/aws-lambda-environment-variable/45067267#45067267", "title": "AWS Lambda Environment Variable", "body": "<p>According <a href=\"http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html\" rel=\"nofollow noreferrer\">AWS documentation</a>, <code>AWS::Lambda::Function</code> resource has <a href=\"http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-environment.html\" rel=\"nofollow noreferrer\"><code>Environment</code> property</a> that you may use for specifying environment variables. So your resource in a cloud formation file would look like:</p>\n\n<pre><code>{\n  \"Type\" : \"AWS::Lambda::Function\",\n  \"Properties\" : {\n    \"FunctionName\" : \"Your function name\",\n    \"Environment\" : {\n        \"Variables\": {\n           \"variable1\": \"value1\",\n           \"variable2\": \"value2\"\n        }\n    },\n    ...\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 3549742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dy9W1.jpg?s=128&g=1", "display_name": "mango", "link": "https://stackoverflow.com/users/3549742/mango"}, "is_accepted": false, "score": 2, "last_activity_date": 1532032777, "creation_date": 1532032777, "answer_id": 51431359, "question_id": 45066914, "link": "https://stackoverflow.com/questions/45066914/aws-lambda-environment-variable/51431359#51431359", "title": "AWS Lambda Environment Variable", "body": "<p>If you are using <a href=\"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-formats.html\" rel=\"nofollow noreferrer\">YAML template</a> for declaring the cloud formation configuration, then you can define your environment variable under Parameters like:</p>\n\n<pre><code>Parameters:\n  Domain: {Type: String, Default: 'test', AllowedValues: ['test', 'gamma', 'prod']}\n  ...\n</code></pre>\n\n<p>And then use it where you have declared the Lambda Resources like below</p>\n\n<pre><code>Resources:\n  LambdaFunction:\n    Properties:\n      Environment:\n        Variables:\n          DOMAIN: {Ref: Domain}\n          .......\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8297640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9acb11df25e9f23580c13663795c9c3c?s=128&d=identicon&r=PG&f=1", "display_name": "mccoym", "link": "https://stackoverflow.com/users/8297640/mccoym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4478, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1532032777, "creation_date": 1499891176, "last_edit_date": 1499891783, "question_id": 45066914, "link": "https://stackoverflow.com/questions/45066914/aws-lambda-environment-variable", "title": "AWS Lambda Environment Variable", "body": "<p>When I add an environment variable to a aws-lambda through the aws-lambda console, I am able to reference these variables using:</p>\n\n<pre><code>import os\n# ...\nprint(\"environment variable: \" + os.environ['variable'])\n</code></pre>\n\n<p>How would I use an environment variable in aws-lambda within a cloudformation template? I don't want to declare the environment variable in the aws-lambda console.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "json", "nltk", "markov-chains"], "comments": [{"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 1, "creation_date": 1499891265, "post_id": 45066913, "comment_id": 77107151, "body": "file is too big to be loaded into memory it seems. Try to <code>pickle</code> the file but I am not 100% sure if that will help."}, {"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1499891332, "post_id": 45066913, "comment_id": 77107183, "body": "try this <a href=\"https://stackoverflow.com/questions/519633/lazy-method-for-reading-big-file-in-python/519653#519653\" title=\"lazy method for reading big file in python\">stackoverflow.com/questions/519633/&hellip;</a>"}, {"owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "edited": false, "score": 0, "creation_date": 1499891486, "post_id": 45066913, "comment_id": 77107262, "body": "perhaps you need a real database?"}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 1394869, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f99af368f5f1bf54c512e2a79d155ab?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1394869/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1499892883, "creation_date": 1499892883, "answer_id": 45067348, "question_id": 45066913, "link": "https://stackoverflow.com/questions/45066913/python-markov-chains-and-reading-large-json-files/45067348#45067348", "title": "Python, markov chains and reading large json files", "body": "<p>You can use generators to eliminate redundant copies of the json.</p>\n\n<pre><code>def get_filenames(path):\n    for root, dirs, files in os.walk(path):\n        for file in files:\n            if file.endswith(\".json\"):\n                 yield os.path.join(root, file)\n\ndef build_it(path):\n    for file in get_filenames(path):\n        print(str(file))\n        with open(file) as myjson:\n            yield markovify.Text.from_json(json.load(myjson))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8298104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a3dd244eacd1cba63f46a566422f34?s=128&d=identicon&r=PG&f=1", "display_name": "polka dot", "link": "https://stackoverflow.com/users/8298104/polka-dot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499892883, "creation_date": 1499891173, "question_id": 45066913, "link": "https://stackoverflow.com/questions/45066913/python-markov-chains-and-reading-large-json-files", "title": "Python, markov chains and reading large json files", "body": "<p>So, in Python, I'm using makovify to build Markov models of large corpora of text to generate random sentences with it. I'm also using nltk to make the Markov models obey sentence structure. Since it takes quite a while to generate a Markov model from a large corpus, specially with nltk's part-of-speech tagger, generating the same model each time is quite wasteful therefore I decided to save the Markov models as JSON files to reuse them later.\nHowever, when I'm trying to read these multiple large JSON files in Python, I'm having some issues. The following is the code:</p>\n\n<pre><code>import nltk\nimport markovify\nimport os\nimport json\n\npathfiles = 'C:/Users/MF/Documents/NetBeansProjects/Newyckham/data/'\nfilenames = []\nebook = []\n\ndef build_it (path):\n    for root, dirs, files in os.walk(path):\n        for file in files:\n            if file.endswith(\".json\"):\n                 filenames.append(os.path.join(root, file))\n    for file in filenames:\n        print(str(file))\n        with open(file) as myjson:\n            ebook.append(markovify.Text.from_json(json.load(myjson)))\n    return ebook\n\ntext_model = markovify.combine(build_it(pathfiles))\n\nfor i in range(5):\n    print(text_model.make_sentence())\n    print('\\r\\n')\n    print(text_model.make_short_sentence(140))\n    print('\\r\\n')\n</code></pre>\n\n<p>But I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\MF\\Desktop\\eclipse\\markovify-master\\terceiro.py\", line 24, in &lt;\nmodule&gt;\n    text_model = markovify.combine(build_it(pathfiles))\n  File \"C:\\Users\\MF\\Desktop\\eclipse\\markovify-master\\terceiro.py\", line 21, in b\nuild_it\n    ebook.append(markovify.Text.from_json(json.load(myjson)))\n  File \"C:\\Python27\\lib\\json\\__init__.py\", line 290, in load\n    **kw)\n  File \"C:\\Python27\\lib\\json\\__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"C:\\Python27\\lib\\json\\decoder.py\", line 366, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"C:\\Python27\\lib\\json\\decoder.py\", line 382, in raw_decode\n    obj, end = self.scan_once(s, idx)\nMemoryError\n</code></pre>\n\n<p>I have read some similar question on this website about how to deal with this issue and most of them point towards using ijson and skipping the undesired parts of the JSON file, however, there's nothing really within those JSON that I can skip, so any ideas on this?</p>\n"}, {"tags": ["python", "astronomy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user354134"}, "edited": false, "score": 0, "creation_date": 1501091287, "post_id": 45066882, "comment_id": 77630238, "body": "This comment should summon @brandon-rhodes to this place."}], "owner": {"reputation": 622, "user_id": 914641, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b6240a9c30f2fcfb528b4fc1afa219c7?s=128&d=identicon&r=PG", "display_name": "Klaus Rohe", "link": "https://stackoverflow.com/users/914641/klaus-rohe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1499891061, "creation_date": 1499891061, "question_id": 45066882, "link": "https://stackoverflow.com/questions/45066882/skyfield-versus-pyephem", "title": "Skyfield versus PyEphem", "body": "<p>Can some one tell what the real difference is between Skyfield and PyEphem?</p>\n\n<p>They are more or less on the same website:</p>\n\n<p><a href=\"http://rhodesmill.org/skyfield/\" rel=\"nofollow noreferrer\">http://rhodesmill.org/skyfield/</a>\n<a href=\"http://rhodesmill.org/pyephem/\" rel=\"nofollow noreferrer\">http://rhodesmill.org/pyephem/</a></p>\n\n<p>It seems to me that development is going on with Skyfield because the most recent entry on the website is from 2017 March 15.</p>\n\n<p>This is a little bit confusing so some clarification from an authoritative source would be very helpful.</p>\n\n<p>Kind regards</p>\n\n<p>Klaus</p>\n"}, {"tags": ["python", "pandas", "melt"], "answers": [{"tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": true, "score": 12, "last_activity_date": 1499891486, "creation_date": 1499891486, "answer_id": 45066982, "question_id": 45066873, "link": "https://stackoverflow.com/questions/45066873/pandas-melt-with-multiple-value-vars/45066982#45066982", "title": "Pandas Melt with Multiple Value Vars", "body": "<p>Instead of melt, you can use a combination of stack and unstack:</p>\n\n<pre><code>(df.set_index(['Country', 'Variable'])\n   .rename_axis(['Year'], axis=1)\n   .stack()\n   .unstack('Variable')\n   .reset_index())\n\nVariable    Country  Year  var1  var2\n0         Argentina  2000    12     1\n1         Argentina  2001    15     3\n2         Argentina  2002    18     2\n3         Argentina  2003    17     5\n4         Argentina  2004    23     7\n5         Argentina  2005    29     5\n6            Brazil  2000    20     0\n7            Brazil  2001    23     1\n8            Brazil  2002    25     2\n9            Brazil  2003    29     2\n10           Brazil  2004    31     3\n11           Brazil  2005    32     3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1499894214, "post_id": 45067613, "comment_id": 77108580, "body": "I like how you&#39;ve laid out the options in a very easy to read way :-)"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1499894271, "post_id": 45067613, "comment_id": 77108621, "body": "@piRSquared Thanks."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 10, "last_activity_date": 1499894461, "last_edit_date": 1499894461, "creation_date": 1499893994, "answer_id": 45067613, "question_id": 45066873, "link": "https://stackoverflow.com/questions/45066873/pandas-melt-with-multiple-value-vars/45067613#45067613", "title": "Pandas Melt with Multiple Value Vars", "body": "<h1>Option 1</h1>\n\n<p>Using <code>melt</code> then <code>unstack</code> for var1, var2, etc...</p>\n\n<pre><code>(df1.melt(id_vars=['Country','Variable'],var_name='Year')\n    .set_index(['Country','Year','Variable'])\n    .squeeze()\n    .unstack()\n    .reset_index())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Variable    Country  Year  var1  var2\n0         Argentina  2000    12     1\n1         Argentina  2001    15     3\n2         Argentina  2002    18     2\n3         Argentina  2003    17     5\n4         Argentina  2004    23     7\n5         Argentina  2005    29     5\n6            Brazil  2000    20     0\n7            Brazil  2001    23     1\n8            Brazil  2002    25     2\n9            Brazil  2003    29     2\n10           Brazil  2004    31     3\n11           Brazil  2005    32     3\n</code></pre>\n\n<h1>Option 2</h1>\n\n<p>Using <code>pivot</code> then <code>stack</code>:</p>\n\n<pre><code>(df1.pivot(index='Country',columns='Variable')\n   .stack(0)\n   .rename_axis(['Country','Year'])\n   .reset_index())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Variable    Country  Year  var1  var2\n0         Argentina  2000    12     1\n1         Argentina  2001    15     3\n2         Argentina  2002    18     2\n3         Argentina  2003    17     5\n4         Argentina  2004    23     7\n5         Argentina  2005    29     5\n6            Brazil  2000    20     0\n7            Brazil  2001    23     1\n8            Brazil  2002    25     2\n9            Brazil  2003    29     2\n10           Brazil  2004    31     3\n11           Brazil  2005    32     3\n</code></pre>\n\n<h1>Option 3 (ayhan's solution)</h1>\n\n<p>Using <code>set_index</code>, <code>stack</code>, and <code>unstack</code>:</p>\n\n<pre><code>(df.set_index(['Country', 'Variable'])\n   .rename_axis(['Year'], axis=1)\n   .stack()\n   .unstack('Variable')\n   .reset_index())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Variable    Country  Year  var1  var2\n0         Argentina  2000    12     1\n1         Argentina  2001    15     3\n2         Argentina  2002    18     2\n3         Argentina  2003    17     5\n4         Argentina  2004    23     7\n5         Argentina  2005    29     5\n6            Brazil  2000    20     0\n7            Brazil  2001    23     1\n8            Brazil  2002    25     2\n9            Brazil  2003    29     2\n10           Brazil  2004    31     3\n11           Brazil  2005    32     3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1499896789, "creation_date": 1499896789, "answer_id": 45068192, "question_id": 45066873, "link": "https://stackoverflow.com/questions/45066873/pandas-melt-with-multiple-value-vars/45068192#45068192", "title": "Pandas Melt with Multiple Value Vars", "body": "<p><strong><code>numpy</code></strong>  </p>\n\n<pre><code>years = df.drop(['Country', 'Variable'], 1)\ny = years.values\nm = y.shape[1]\nc = df.Country.values\nv = df.Variable.values\n\nf0, u0 = pd.factorize(df.Country.values)\nf1, u1 = pd.factorize(df.Variable.values)\n\nw = np.empty((u1.size, u0.size, m), dtype=y.dtype)\nw[f1, f0] = y\n\nresults = pd.DataFrame(dict(\n        Country=u0.repeat(m),\n        Year=np.tile(years.columns.values, u0.size),\n    )).join(pd.DataFrame(w.reshape(-1, m * u1.size).T, columns=u1))\n\nresults\n\n      Country  Year  var1  var2\n0   Argentina  2000    12     1\n1   Argentina  2001    15     3\n2   Argentina  2002    18     2\n3   Argentina  2003    17     5\n4   Argentina  2004    23     7\n5   Argentina  2005    29     5\n6      Brazil  2000    20     0\n7      Brazil  2001    23     1\n8      Brazil  2002    25     2\n9      Brazil  2003    29     2\n10     Brazil  2004    31     3\n11     Brazil  2005    32     3\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4863798, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4410d302557a00d4ed6c728a717d84ca?s=128&d=identicon&r=PG&f=1", "display_name": "LauraF", "link": "https://stackoverflow.com/users/4863798/lauraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12907, "favorite_count": 5, "accepted_answer_id": 45066982, "answer_count": 3, "score": 9, "last_activity_date": 1499896789, "creation_date": 1499891020, "last_edit_date": 1499891496, "question_id": 45066873, "link": "https://stackoverflow.com/questions/45066873/pandas-melt-with-multiple-value-vars", "title": "Pandas Melt with Multiple Value Vars", "body": "<p>I have a data set which is in wide format like this</p>\n\n<pre><code>   Index Country     Variable 2000 2001 2002 2003 2004 2005\n   0     Argentina   var1     12   15   18    17  23   29\n   1     Argentina   var2     1    3    2     5   7    5\n   2     Brazil      var1     20   23   25   29   31   32\n   3     Brazil      var2     0    1    2    2    3    3\n</code></pre>\n\n<p>I want to reshape my data to long so that year, var1, and var2 become new columns</p>\n\n<pre><code>  Index Country     year   var1 var2\n  0     Argentina   2000   12   1\n  1     Argentina   2001   15   3\n  2     Argentina   2002   18   2\n  ....\n  6     Brazil      2000   20   0\n  7     Brazil      2001   23   1\n</code></pre>\n\n<p>I got my code to work when I only had one variable by writing</p>\n\n<pre><code>df=(pd.melt(df,id_vars='Country',value_name='Var1', var_name='year'))\n</code></pre>\n\n<p>I cant figure out how to do this for a var1,var2, var3, etc.</p>\n"}, {"tags": ["python", "pdf", "io", "pdf-generation", "cloudinary"], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 6263989, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QJijg.jpg?s=128&g=1", "display_name": "James Riley", "link": "https://stackoverflow.com/users/6263989/james-riley"}, "is_accepted": true, "score": 0, "last_activity_date": 1499967569, "creation_date": 1499967569, "answer_id": 45087580, "question_id": 45066842, "link": "https://stackoverflow.com/questions/45066842/python-how-do-you-pass-a-generated-pdf-and-pass-it-to-an-api-as-an-io-stream-wi/45087580#45087580", "title": "Python: how do you pass a generated PDF and pass it to an API as an IO stream without writing the generated PDF to disk?", "body": "<p>Got the answer from Cloudinary support:</p>\n\n<p>The result from getvalue() on the StringIO object needs to be base64 encoded and prepended with a tag: </p>\n\n<pre><code>out = StringIO.StringIO()\noutput.write(out)\ncloudinary.uploader.upload(\"data:image/pdf;base64,\" + \n                           base64.b64encode(out.getvalue()))\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 6263989, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QJijg.jpg?s=128&g=1", "display_name": "James Riley", "link": "https://stackoverflow.com/users/6263989/james-riley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 45087580, "answer_count": 1, "score": 0, "last_activity_date": 1499967569, "creation_date": 1499890881, "question_id": 45066842, "link": "https://stackoverflow.com/questions/45066842/python-how-do-you-pass-a-generated-pdf-and-pass-it-to-an-api-as-an-io-stream-wi", "title": "Python: how do you pass a generated PDF and pass it to an API as an IO stream without writing the generated PDF to disk?", "body": "<p>I am using PyPDF2 to generate a PDF, and I would like to upload this PDF to <a href=\"http://cloudinary.com/documentation/\" rel=\"nofollow noreferrer\">Cloudinary</a>, which accepts images as IO objects.</p>\n\n<p>The example from their docs: <code>cloudinary.uploader.upload(open('/tmp/image1.jpg', 'rb'))</code></p>\n\n<p>In my application, I instantiate a PdfFileWriter and add pages:</p>\n\n<pre><code>output = PyPDF2.PdfFileWriter()\noutput.addPage(page)\n</code></pre>\n\n<p>Then I can save the generated PDF locally:</p>\n\n<pre><code>outputStream = file(destination_file_name, \"wb\")\noutput.write(outputStream)\noutputStream.close()\n</code></pre>\n\n<p>But obviously I'm trying to avoid this. Instead I'm trying to send an IO object to cloudinary:</p>\n\n<pre><code>image_StringIO_object = StringIO.StringIO()\noutput.write(image_StringIO_object)\ncloudinary.uploader.upload(image_StringIO_object,\n                           api_key=CLOUDINARY_API_KEY,\n                           api_secret=CLOUDINARY_API_SECRET,\n                           cloud_name=CLOUDINARY_CLOUD_NAME,\n                           format=\"PDF\")\n</code></pre>\n\n<p>This returns the error:</p>\n\n<pre><code>Empty file\n</code></pre>\n\n<p>If instead I try to pass the value of the StringIO object:</p>\n\n<pre><code>cloudinary.uploader.upload(image_StringIO_object.getvalue(),\n                           ...)\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>file() argument 1 must be encoded string without null bytes, not str\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "tensorflow", "object-detection"], "answers": [{"comments": [{"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "edited": false, "score": 0, "creation_date": 1499893601, "post_id": 45067486, "comment_id": 77108287, "body": "Thanks for the response. How would you recommend handling rotations then? And uh is point-to-point annotation training even feasible for object localization in ML?"}, {"owner": {"reputation": 126, "user_id": 2038033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90196bf6a5950e636349878bc292292e?s=128&d=identicon&r=PG", "display_name": "burny", "link": "https://stackoverflow.com/users/2038033/burny"}, "edited": false, "score": 1, "creation_date": 1500385475, "post_id": 45067486, "comment_id": 77305114, "body": "The current state only allows bounding boxes. When you have polygons or other shapes you must transfer them to boundings boxes before training. Facebook&#39;s <a href=\"https://github.com/facebookresearch/multipathnet\" rel=\"nofollow noreferrer\">Multipathnet</a> can be trained on polygons."}, {"owner": {"reputation": 330, "user_id": 5291316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v5ih.png?s=128&g=1", "display_name": "Deepank", "link": "https://stackoverflow.com/users/5291316/deepank"}, "edited": false, "score": 0, "creation_date": 1506583307, "post_id": 45067486, "comment_id": 79881136, "body": "How to convert polygons to bounding box format? Is there any known way to do it? Or maybe writing script to get the extreme corners of the polygon."}, {"owner": {"reputation": 730, "user_id": 7037499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-58fz0ZZjpew/AAAAAAAAAAI/AAAAAAAAAJ4/7YcGnwKq7HI/photo.jpg?sz=128", "display_name": "dfresh22", "link": "https://stackoverflow.com/users/7037499/dfresh22"}, "edited": false, "score": 0, "creation_date": 1520915238, "post_id": 45067486, "comment_id": 85500135, "body": "as Derek mentioned, the api use to only perform bounding box annotations, it now supports masks though using MASK RCNN, <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/instance_segmentation.md\" rel=\"nofollow noreferrer\">github.com/tensorflow/models/blob/master/research/&hellip;</a>"}, {"owner": {"reputation": 482, "user_id": 5811508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/961907533886165/picture?type=large", "display_name": "denisb411", "link": "https://stackoverflow.com/users/5811508/denisb411"}, "edited": false, "score": 0, "creation_date": 1611091539, "post_id": 45067486, "comment_id": 116338130, "body": "This answer is wrong. You can pass images without bboxes to tf od by passing an empty list to the tfrecord producer"}], "tags": [], "owner": {"reputation": 692, "user_id": 8185230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c15f96f665456fb798325f989db6e53?s=128&d=identicon&r=PG&f=1", "display_name": "Derek Chow", "link": "https://stackoverflow.com/users/8185230/derek-chow"}, "is_accepted": true, "score": 2, "last_activity_date": 1499893443, "creation_date": 1499893443, "answer_id": 45067486, "question_id": 45066805, "link": "https://stackoverflow.com/questions/45066805/train-tensorflow-obejct-detection-without-bounding-boxes-annotations/45067486#45067486", "title": "Train Tensorflow Obejct Detection without bounding boxes annotations", "body": "<p>The Tensorflow Object Detection API only performs Bounding Box annoations.</p>\n"}], "owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 0, "accepted_answer_id": 45067486, "answer_count": 1, "score": 2, "last_activity_date": 1499893443, "creation_date": 1499890763, "question_id": 45066805, "link": "https://stackoverflow.com/questions/45066805/train-tensorflow-obejct-detection-without-bounding-boxes-annotations", "title": "Train Tensorflow Obejct Detection without bounding boxes annotations", "body": "<p>I managed to retrain the <a href=\"https://stackoverflow.com/questions/44973184/train-tensorflow-object-detection-on-own-dataset\">object detection module</a> on my own dataset by adhering it to the PASCAL VOC format shown below.</p>\n\n<p>This format is <em>bounding box</em> oriented and peeking into their <a href=\"https://github.com/tensorflow/models/blob/master/object_detection/create_pascal_tf_record.py\" rel=\"nofollow noreferrer\">TFRecords creation scripts</a>, it does expect a good number of these <em>groundtruth</em> values to generate corresponding TFRecords.</p>\n\n<p>The problem with bounding boxes, is that it gives you approximations and annotating rotated images can be rather challenging.</p>\n\n<p>After looking around, I came across <a href=\"http://labelme.csail.mit.edu/Release3.0/\" rel=\"nofollow noreferrer\">labelme</a> which allows you to perform shape (point to point) annotations, as well instead of just bounding box. Below is a short version of the produced annotation along with the resulting image consisting of the resulting shape.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Concentrating on the contents of <code>&lt;polygon&gt;&lt;/polygon&gt;</code>, does the <a href=\"https://github.com/tensorflow/models/tree/master/object_detection\" rel=\"nofollow noreferrer\">Object Detection API</a> support point to point annotations?</p></li>\n<li><p>If yes to 1, how do I go about creating the TFRecords for it? What other changes need to be made to accommodate this?</p></li>\n</ol>\n\n<p><strong>Pascal VOC Format</strong></p>\n\n<pre><code>&lt;annotation verified=\"no\"&gt;\n  &lt;folder&gt;VOC2012&lt;/folder&gt;\n  &lt;filename&gt;pic.jpg&lt;/filename&gt;\n  &lt;source&gt;\n    &lt;database&gt;Unknown&lt;/database&gt;\n  &lt;/source&gt;\n  &lt;size&gt;\n    &lt;width&gt;214&lt;/width&gt;\n    &lt;height&gt;300&lt;/height&gt;\n    &lt;depth&gt;3&lt;/depth&gt;\n  &lt;/size&gt;\n  &lt;segmented&gt;0&lt;/segmented&gt;\n  &lt;object&gt;\n    &lt;name&gt;sample&lt;/name&gt;\n    &lt;pose&gt;Unspecified&lt;/pose&gt;\n    &lt;truncated&gt;0&lt;/truncated&gt;\n    &lt;difficult&gt;0&lt;/difficult&gt;\n    &lt;bndbox&gt;\n      &lt;xmin&gt;32&lt;/xmin&gt;\n      &lt;ymin&gt;37&lt;/ymin&gt;\n      &lt;xmax&gt;180&lt;/xmax&gt;\n      &lt;ymax&gt;268&lt;/ymax&gt;\n    &lt;/bndbox&gt;\n  &lt;/object&gt;\n&lt;/annotation&gt;\n</code></pre>\n\n<p><strong>Snapshot of point-to-point annotation</strong></p>\n\n<p><a href=\"https://pastebin.com/XerdRe6i\" rel=\"nofollow noreferrer\">Here's</a> the full annotation file and the corresponding <a href=\"https://imgur.com/a/wkOlX\" rel=\"nofollow noreferrer\">image</a></p>\n\n<pre><code>&lt;annotation&gt;\n    &lt;filename&gt;ipad.jpg&lt;/filename&gt;\n    &lt;folder&gt;sample&lt;/folder&gt;\n    &lt;source&gt;\n    &lt;submittedBy&gt;username&lt;/submittedBy&gt;\n    &lt;/source&gt;\n    &lt;imagesize&gt;\n        &lt;nrows&gt;450&lt;/nrows&gt;\n        &lt;ncols&gt;800&lt;/ncols&gt;\n    &lt;/imagesize&gt;\n    &lt;object&gt;\n        &lt;name&gt;ipad&lt;/name&gt;\n        &lt;deleted&gt;0&lt;/deleted&gt;&lt;verified&gt;0&lt;/verified&gt;&lt;occluded&gt;no&lt;/occluded&gt;\n        &lt;attributes&gt;&lt;/attributes&gt;\n        &lt;parts&gt;\n            &lt;hasparts&gt;&lt;/hasparts&gt;\n            &lt;ispartof&gt;&lt;/ispartof&gt;\n        &lt;/parts&gt;\n        &lt;date&gt;12-Jul-2017 19:20:22&lt;/date&gt;&lt;id&gt;0&lt;/id&gt;\n        &lt;polygon&gt;\n            &lt;username&gt;anonymous&lt;/username&gt;\n            &lt;pt&gt;&lt;x&gt;40&lt;/x&gt;&lt;y&gt;76&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;435&lt;/x&gt;&lt;y&gt;11&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;472&lt;/x&gt;&lt;y&gt;311&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;94&lt;/x&gt;&lt;y&gt;418&lt;/y&gt;&lt;/pt&gt;\n        &lt;/polygon&gt;\n    &lt;/object&gt;\n    &lt;object&gt;\n        &lt;name&gt;screen&lt;/name&gt;\n        &lt;deleted&gt;0&lt;/deleted&gt;\n        &lt;verified&gt;0&lt;/verified&gt;\n        &lt;occluded&gt;no&lt;/occluded&gt;\n        &lt;attributes&gt;&lt;/attributes&gt;\n        &lt;parts&gt;\n            &lt;hasparts&gt;&lt;/hasparts&gt;\n            &lt;ispartof&gt;&lt;/ispartof&gt;\n        &lt;/parts&gt;\n        &lt;date&gt;12-Jul-2017 19:20:48&lt;/date&gt;&lt;id&gt;1&lt;/id&gt;\n        &lt;polygon&gt;\n            &lt;username&gt;anonymous&lt;/username&gt;\n            &lt;pt&gt;&lt;x&gt;75&lt;/x&gt;&lt;y&gt;89&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;118&lt;/x&gt;&lt;y&gt;397&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;447&lt;/x&gt;&lt;y&gt;308&lt;/y&gt;&lt;/pt&gt;\n            &lt;pt&gt;&lt;x&gt;421&lt;/x&gt;&lt;y&gt;30&lt;/y&gt;&lt;/pt&gt;\n        &lt;/polygon&gt;\n    &lt;/object&gt;\n&lt;/annotation&gt;\n</code></pre>\n"}]