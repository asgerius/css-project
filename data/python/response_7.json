[{"tags": ["python", "sdk"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 2316362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Uw4.jpg?s=128&g=1", "display_name": "Luciano C&#233;sar Natale", "link": "https://stackoverflow.com/users/2316362/luciano-c%c3%a9sar-natale"}, "is_accepted": true, "score": 0, "last_activity_date": 1425927222, "creation_date": 1425927222, "answer_id": 28949660, "question_id": 28732110, "link": "https://stackoverflow.com/questions/28732110/updating-vm-state-in-ovrt-python-sdk-script/28949660#28949660", "title": "Updating VM state in ovrt python sdk script", "body": "<p>Never mind, I was mistaken... \nThe line\n<code>vmList=api.vms.list()</code>\nleaves you with static data related to when you made the call.</p>\n\n<p>So, I achieved what I wanted inside the for loop by calling:\n<code>api.vms.get(i.name).status.state</code>, where <code>i</code> iterates the <code>vmList</code> obtained in first place! That did the trick!</p>\n"}], "owner": {"reputation": 83, "user_id": 2316362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9Uw4.jpg?s=128&g=1", "display_name": "Luciano C&#233;sar Natale", "link": "https://stackoverflow.com/users/2316362/luciano-c%c3%a9sar-natale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 28949660, "answer_count": 1, "score": 0, "last_activity_date": 1425927222, "creation_date": 1424908790, "question_id": 28732110, "link": "https://stackoverflow.com/questions/28732110/updating-vm-state-in-ovrt-python-sdk-script", "title": "Updating VM state in ovrt python sdk script", "body": "<p>I'm trying to write a python script to query the status of VM's in ovirt (I'm completely new to python!)</p>\n\n<p>Here's a test script I'm using!</p>\n\n<pre><code>APIURL=\"https://...\"\nAPIUSER=\"...@...\"\nAPIPASS=\"...\"\nCAFILE=\"path\"\nLOGFILENAME=\"/tmp/shutdown_vms_dc.log\"\n\n\nlogging.basicConfig(level=logging.DEBUG,\n                format='%(asctime)s %(levelname)s %(message)s',\n                filename=LOGFILENAME,\n                filemode='w')\nif __name__ == \"__main__\":\n    try:\n        api = API(url=APIURL,\n          username=APIUSER,\n          password=APIPASS,\n          ca_file=CAFILE)\n        print 'Connected to RHEVM API  %s Successfully' % APIURL\n    logging.info ( 'Successfully Connected to %s' % APIURL)\n\n    vmsList = api.vms.list()\n    while True:\n        print '###############################################'\n            for i in vmsList:\n                    if i.name != 'HostedEngine':\n                            print i.name + ': '  + i.status.state\n        time.sleep(10)\n</code></pre>\n\n<p>except Exception as ex:\n        logging.debug('Unexpected error: %s' % ex)</p>\n\n<p>The problem is that the state does not get updated, it always prints as the first time it runs. I shut down and start VM's with ovirt's web interface and nothing changes... What I'm missing???</p>\n\n<p>Thanks a lot!!!</p>\n"}, {"tags": ["python", "api", "authentication", "flask", "flask-login"], "answers": [{"tags": [], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "is_accepted": true, "score": 0, "last_activity_date": 1424976442, "creation_date": 1424976442, "answer_id": 28750364, "question_id": 28732095, "link": "https://stackoverflow.com/questions/28732095/let-website-user-access-api-flask/28750364#28750364", "title": "Let website user access api flask", "body": "<p>The way I ended up going was combining both approaches. <code>user_logged_in</code> fires whenever a user logs in. I used that method to generate an api-token and store it in the user object at login. Then, when the user wants to make an api call, the token is simply retrieved from the user object. </p>\n\n<p>I'm not sure if this is best practice, but it seems to be working fine.</p>\n"}], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 28750364, "answer_count": 1, "score": 0, "last_activity_date": 1424976442, "creation_date": 1424908723, "last_edit_date": 1424915114, "question_id": 28732095, "link": "https://stackoverflow.com/questions/28732095/let-website-user-access-api-flask", "title": "Let website user access api flask", "body": "<p>I have two web applications. One is a website. The other is an API. Both are built using flask. They use different methods of authentication.</p>\n\n<p>The website uses the flask-login library. Specifically, is uses <code>login_user</code> if <code>user.check_password</code> supplied by a form is true.</p>\n\n<p>The api uses a cryptographically signed token. The api is used by mobile applications (ios for example). These applications make a call to <code>/api/login</code> and POST the same username and password that you would expect on the website. The api then returns a token which the app stores and uses for authentication in the future. The token is generated using the itsdangerous library. Specifically, it is created using <code>TimedJSONWebSignatureSerializer</code>.</p>\n\n<p>I am experiencing a confusing problem, now, where one of our website pages needs to access our api. Of course the api won't allow access, because the user doesn't have a properly generated auth token. I have control over every part of the code, but I'm not sure what the most elegant solution is in this case. Should I stop using one of the authentication mechanisms? Should I somehow store the api auth token for the website user? </p>\n\n<p>Any advice would be appreciated.</p>\n\n<p><em>UPDATE</em>\nAs I think about this problem, it occurs to me that I could change the token generation process employed by login_user. If login_user used the same token as the api, then presumably I could get the token from the session whenever the user needed to make an api request via the website. Not yet clear if this is insane.</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 47294, "user_id": 3885376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/XgeJ5.png?s=128&g=1", "display_name": "ROMANIA_engineer", "link": "https://stackoverflow.com/users/3885376/romania-engineer"}, "edited": false, "score": 0, "creation_date": 1424908891, "post_id": 28732040, "comment_id": 45750152, "body": "<code>s.upper()</code> and <code>s.lower()</code> can also be useful to avoid the first 2 strings containing all the letters"}], "answers": [{"tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 4, "last_activity_date": 1424908587, "creation_date": 1424908587, "answer_id": 28732077, "question_id": 28732040, "link": "https://stackoverflow.com/questions/28732040/defining-function-python/28732077#28732077", "title": "Defining Function Python", "body": "<p>Almost correct. Here is a working version:</p>\n\n<pre><code>ASCII_LOWERCASE = \"abcdefghijklmnopqrstuvwxyz\"\nASCII_UPPERCASE = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\nDECIMAL_DIGITS = \"0123456789\"\n\n\ndef is_alpha(a_string):\n    if not a_string:\n        return False\n    for c in a_string:\n        if not (c in ASCII_LOWERCASE or c in ASCII_UPPERCASE):\n            return False\n    return True\n\n\nprint is_alpha('')\nprint is_alpha('ABCabc')\nprint is_alpha('ABC123')\n</code></pre>\n\n<p>results:</p>\n\n<pre><code>False\nTrue\nFalse\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8310, "user_id": 1851986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/17l5p.jpg?s=128&g=1", "display_name": "Vasili Syrakis", "link": "https://stackoverflow.com/users/1851986/vasili-syrakis"}, "is_accepted": false, "score": 2, "last_activity_date": 1424908682, "creation_date": 1424908682, "answer_id": 28732091, "question_id": 28732040, "link": "https://stackoverflow.com/questions/28732040/defining-function-python/28732091#28732091", "title": "Defining Function Python", "body": "<p>There is already a built-in function for this.</p>\n\n<pre><code>&gt;&gt;&gt; \"Hello one\".isalpha()\nTrue\n&gt;&gt;&gt; \"Hello 2\".isalpha()\nFalse\n&gt;&gt;&gt; \"\".isalpha()\nFalse\n</code></pre>\n\n<p>You can also import ascii letters:</p>\n\n<pre><code>from string import ascii_letters, digits, punctuation, ascii_lowercase\n</code></pre>\n\n<p>Don't re-invent the wheel :'D</p>\n"}], "owner": {"reputation": 33, "user_id": 4577473, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/27c9e0c7377d38316440fbbf9b19ef9e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Grizzy", "link": "https://stackoverflow.com/users/4577473/chris-grizzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 28732077, "answer_count": 2, "score": -2, "last_activity_date": 1424908693, "creation_date": 1424908391, "question_id": 28732040, "link": "https://stackoverflow.com/questions/28732040/defining-function-python", "title": "Defining Function Python", "body": "<p>I'm trying to write a function that has one parameter that returns True if all the characters in the string are upper case or lower case ASCII letters, and the string is not empty. I want it to return False otherwise. I can tell I'm doing this all wrong. </p>\n\n<pre><code>ASCII_LOWERCASE = \"abcdefghijklmnopqrstuvwxyz\"\nASCII_UPPERCASE = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\nDECIMAL_DIGITS = \"0123456789\"\n\n\ndef is_alpha(a_string):   \n    if a_string in ASCII_LOWERCASE or ASCII_UPPERCASE:\n            for i in ASCII_LOWERCASE or ASCII_UPPERCASE:\n            return \"True\"\n</code></pre>\n"}, {"tags": ["python", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1424908547, "post_id": 28732030, "comment_id": 45750046, "body": "What&#39;s wrong with <code>dictStar[key] = (val, val2)</code>?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "reply_to_user": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1424908741, "post_id": 28732030, "comment_id": 45750112, "body": "@LeeDanielCrocker: it&#39;ll probably never even make it to that line, because of the missing <code>split</code>."}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1424910966, "post_id": 28732057, "comment_id": 45750766, "body": "You shouldn&#39;t need to <code>.strip</code> before you <code>.split</code> as <code>.split</code> with no arguments will strip by default.  <code>&#39;   foo bar baz   &#39;.split()</code> -&gt; <code>[&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]</code>"}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 3, "last_activity_date": 1424908484, "creation_date": 1424908484, "answer_id": 28732057, "question_id": 28732030, "link": "https://stackoverflow.com/questions/28732030/how-to-make-a-dictionary-with-values-as-tuples/28732057#28732057", "title": "How to make a dictionary with values as tuples?", "body": "<p>It should be as follows:</p>\n\n<pre><code> key, val, val2 = line.strip().split() # forgot about split\n dictStar[key] = (val,val2)    # no need for append.\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4608112, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c66deb2b13fbf56c9e920707161c652?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4608112/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424908484, "creation_date": 1424908324, "question_id": 28732030, "link": "https://stackoverflow.com/questions/28732030/how-to-make-a-dictionary-with-values-as-tuples", "title": "How to make a dictionary with values as tuples?", "body": "<p>I'm new to this site and to python. I need some help with my code. So Basically I have a text file, and the text looks like this </p>\n\n<pre><code>Achernar                    140       0.46 \nAcrux-AB                    325        0.8 \nAdhara                      405        1.5 \n</code></pre>\n\n<p>I am trying to make it into a dictionary. Where the name is the key and the numbers are values. But the values need to be tuples and I don't know how to do that. I tried a few things and I think this is the closest I'm going to get but it still doesn't work. I get \"ValueError: too many values to unpack (expected 3)\"</p>\n\n<pre><code>def starSetup():\n    dictStar= {}\n    with open('file.txt','r') as i:\n        for line in i:\n            key, val, val2 = line.strip()\n            dictStar[key].append(val,val2)\n        print (dictStar)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424908409, "post_id": 28731987, "comment_id": 45750004, "body": "What is your use case? Why don&#39;t you use another data structure like a list instead of separate variables?"}, {"owner": {"reputation": 13, "user_id": 4604288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d5bc4b80a8173b490bc6fb608a7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dole", "link": "https://stackoverflow.com/users/4604288/bob-dole"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424908497, "post_id": 28731987, "comment_id": 45750030, "body": "ok, but how do i generate a list full of object handles instead of strings?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1424909101, "post_id": 28731987, "comment_id": 45750212, "body": "Why do you have properties like _led1, _led2... in the first place?"}, {"owner": {"reputation": 13, "user_id": 4604288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d5bc4b80a8173b490bc6fb608a7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dole", "link": "https://stackoverflow.com/users/4604288/bob-dole"}, "edited": false, "score": 0, "creation_date": 1424909224, "post_id": 28731987, "comment_id": 45750248, "body": "because this is a snippet of a class in which i initialise a strip of leds,"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4604288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d5bc4b80a8173b490bc6fb608a7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dole", "link": "https://stackoverflow.com/users/4604288/bob-dole"}, "edited": false, "score": 0, "creation_date": 1424909516, "post_id": 28732213, "comment_id": 45750333, "body": "many thanks friend, yes i think my question was very poorly worded, that is a reflection on my poor understanding of what i am doing i suppose, i think i may need to just go and watch a lot more tutorials on youtube."}], "tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 0, "last_activity_date": 1424909325, "creation_date": 1424909325, "answer_id": 28732213, "question_id": 28731987, "link": "https://stackoverflow.com/questions/28731987/how-to-use-a-loop-to-instantiate-objects/28732213#28732213", "title": "How to use a loop to instantiate objects?", "body": "<p>Your question is far from being clear - but assuming your object does have the \"_led1\" to \"_ledn\" properties, and you want to retrieve each of them, you can do:</p>\n\n<pre><code>for i in range(1, n):\n    led = getattr(self, \"_led{}\".format(i))\n    . . . \n</code></pre>\n\n<p><code>gettattr</code> retrieves attributes of objects given a string - and the string can be manipulated with format, concatenation, etc... </p>\n"}], "owner": {"reputation": 13, "user_id": 4604288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/942d5bc4b80a8173b490bc6fb608a7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dole", "link": "https://stackoverflow.com/users/4604288/bob-dole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1424909325, "creation_date": 1424908101, "last_edit_date": 1424908836, "question_id": 28731987, "link": "https://stackoverflow.com/questions/28731987/how-to-use-a-loop-to-instantiate-objects", "title": "How to use a loop to instantiate objects?", "body": "<p>When using a for loop to iterate through iterations you want to initiate as objects, how do you do so within a class. How do you use a loop to generate objects?</p>\n\n<p>Because <code>self._i</code>, disallows the use of the placeholder variable. Must I manually type out object instances? Is there a way to generate object instance names with string manipulation and then change the data type of the string? </p>\n\n<p>Here is a code example:</p>\n\n<pre><code>self._strip=    [self._led1,self._led2,self._led3,self._led4,self._led5,self._led6,self._led7]\n    for i in self._strip:\n</code></pre>\n\n<p>See how i have manually typed out elements of the list, and they are not string objects. how do i generate a list full of object handles or variable declarations.</p>\n"}, {"tags": ["python", "python-2.7", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4335049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e3cf26586c60c23ae24bcc211670fa?s=128&d=identicon&r=PG&f=1", "display_name": "TheFloatingMan", "link": "https://stackoverflow.com/users/4335049/thefloatingman"}, "edited": false, "score": 0, "creation_date": 1424908367, "post_id": 28731975, "comment_id": 45749991, "body": "Wow, didn&#39;t realize &#39;H&#39; is different from lowercase &#39;h&#39;. This is funny."}, {"owner": {"reputation": 47, "user_id": 4335049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e3cf26586c60c23ae24bcc211670fa?s=128&d=identicon&r=PG&f=1", "display_name": "TheFloatingMan", "link": "https://stackoverflow.com/users/4335049/thefloatingman"}, "edited": false, "score": 0, "creation_date": 1424909260, "post_id": 28731975, "comment_id": 45750261, "body": "So the <code>in</code> statement can also be used with lists in the same way? Thank you for this! :)"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1424908416, "last_edit_date": 1424908416, "creation_date": 1424908005, "answer_id": 28731975, "question_id": 28731960, "link": "https://stackoverflow.com/questions/28731960/comparing-and-printing-elements-in-nested-loops/28731975#28731975", "title": "Comparing and printing elements in nested loops", "body": "<p>You are <em>misreading</em> the output. The character is the <strong>letter L</strong> lowercase, not the number 1.</p>\n\n<p>In other words, your code is working as designed. The captital letter <code>H</code> is not in your <code>consonants</code> list, but the two lowercase letters <code>l</code> in <code>Hello</code> <em>are</em>.</p>\n\n<p>Note that it'd be much more efficient to use a <code>set</code> for <code>consonants</code> here; you'd not have to loop over that whole list and just use <code>in</code> to test for membership. That works with lists too, but is much more efficient with a set. If you lowercase the <code>word</code> value you'd also be able to match the <code>H</code>.</p>\n\n<p>Last but not least, you can loop over the <code>word</code> string <em>directly</em> rather than use <code>range(len(word))</code> then use the generated index:</p>\n\n<pre><code>word = \"Hello\"\nconsonants = set('bcdfghjklmnpqrstvwxz')\n\nfor character in word.lower():\n    if character in consonants:\n        print character\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; word = \"Hello\"\n&gt;&gt;&gt; consonants = set('bcdfghjklmnpqrstvwxz')\n&gt;&gt;&gt; for character in word.lower():\n...     if character in consonants:\n...         print character\n... \nh\nl\nl\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4335049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e3cf26586c60c23ae24bcc211670fa?s=128&d=identicon&r=PG&f=1", "display_name": "TheFloatingMan", "link": "https://stackoverflow.com/users/4335049/thefloatingman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 28731975, "answer_count": 1, "score": 1, "last_activity_date": 1424908416, "creation_date": 1424907905, "question_id": 28731960, "link": "https://stackoverflow.com/questions/28731960/comparing-and-printing-elements-in-nested-loops", "title": "Comparing and printing elements in nested loops", "body": "<p>The program identifies if one of the elements in the string <code>word</code> is a consonant by looping though the <code>word</code> string, and then for each iteration though the <code>word</code> string, iterating though the <code>consonants</code> list and comparing if the current element in <code>word</code> string equals to the current element of <code>consonant</code> list. </p>\n\n<p>If yes, the current element of the <code>word</code> string is a consonant and the consonant gets printed (not the index of the consonant, but the actual consonant, for e.g. \"d\".)</p>\n\n<p>The problem is, I get this instead:   </p>\n\n<pre><code>1\n1\n</code></pre>\n\n<p>What am I doing wrong? Shouldn't the nested loops work so that the below loop iterates every element for each element in the above loop? That is, each index above makes the below loop iterate though each index? </p>\n\n<p>That's the program: </p>\n\n<pre><code>word = \"Hello\"\n\nconsonants = ['b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'm', 'n', 'p', 'q', 'r', 's', 't', 'v', 'w', 'x', 'z']\n\nfor character in range(len(word)): \n    for char in range(len(consonants)): \n        if consonants[char] == word[character]: \n            consonant = word[character]\n            print consonant\n</code></pre>\n"}, {"tags": ["python", "django", "sqlite"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 3, "creation_date": 1424907925, "post_id": 28731907, "comment_id": 45749842, "body": "You can add an index for <code>owner</code> if you haven&#39;t already but the real performance gain would be obtained by switching to a better database engine."}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 1435204, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c8f5e315d080acf63c206604660ae0ae?s=128&d=identicon&r=PG", "display_name": "d9120", "link": "https://stackoverflow.com/users/1435204/d9120"}, "edited": false, "score": 0, "creation_date": 1424909071, "post_id": 28732114, "comment_id": 45750206, "body": "It&#39;s a soft delete. Instead of actually deleting the records, I set is_active to False. This is because there&#39;s another function to bring back old records.  Thanks for the information!"}, {"owner": {"reputation": 3675, "user_id": 3481357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4hixN.jpg?s=128&g=1", "display_name": "argaen", "link": "https://stackoverflow.com/users/3481357/argaen"}, "reply_to_user": {"reputation": 501, "user_id": 1435204, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c8f5e315d080acf63c206604660ae0ae?s=128&d=identicon&r=PG", "display_name": "d9120", "link": "https://stackoverflow.com/users/1435204/d9120"}, "edited": false, "score": 0, "creation_date": 1424909339, "post_id": 28732114, "comment_id": 45750286, "body": "Well yes, but reading the question was confusing (at least for me) coz you are not deleting records, just updating them (doesn&#39;t matter if the field is <i>is_active</i> or anything else, for performance matters, the operation is an update ^^)."}, {"owner": {"reputation": 501, "user_id": 1435204, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c8f5e315d080acf63c206604660ae0ae?s=128&d=identicon&r=PG", "display_name": "d9120", "link": "https://stackoverflow.com/users/1435204/d9120"}, "edited": false, "score": 0, "creation_date": 1424965494, "post_id": 28732114, "comment_id": 45775662, "body": "I got the django debug toolbar and it has helped in optimizing my app. Thanks again for the info."}], "tags": [], "owner": {"reputation": 3675, "user_id": 3481357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4hixN.jpg?s=128&g=1", "display_name": "argaen", "link": "https://stackoverflow.com/users/3481357/argaen"}, "is_accepted": true, "score": 1, "last_activity_date": 1424908807, "creation_date": 1424908807, "answer_id": 28732114, "question_id": 28731907, "link": "https://stackoverflow.com/questions/28731907/django-queryset-update-performance-and-optimization/28732114#28732114", "title": "Django queryset update performance and optimization", "body": "<p>You saying that you are deleting but in your code you are updating the rows rather than deleting. Aside from this, the format you are using in the first snippet is the way to go. </p>\n\n<p>To increase performance you can use <a href=\"https://docs.djangoproject.com/en/1.7/ref/models/options/#index-together\" rel=\"nofollow\">index_together</a> with <em>owner</em>, <em>enabled</em> and <em>is_active</em> fields (note this adds some load while adding items).</p>\n\n<p>But, as @Selcuk commented, if you aim performance, go use some serious database backend like postgresql.</p>\n\n<p>Btw, take a look at <a href=\"https://docs.djangoproject.com/en/1.7/topics/db/optimization/\" rel=\"nofollow\">db optimization</a> docs Django offers so you can learn some tricks for future implementations ;).</p>\n"}], "owner": {"reputation": 501, "user_id": 1435204, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c8f5e315d080acf63c206604660ae0ae?s=128&d=identicon&r=PG", "display_name": "d9120", "link": "https://stackoverflow.com/users/1435204/d9120"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 28732114, "answer_count": 1, "score": 0, "last_activity_date": 1424909434, "creation_date": 1424907702, "last_edit_date": 1424909434, "question_id": 28731907, "link": "https://stackoverflow.com/questions/28731907/django-queryset-update-performance-and-optimization", "title": "Django queryset update performance and optimization", "body": "<p>I've created a bulk delete function that updates all enabled items' <code>is_active</code> flag. I've tried updating 5000 records with the following statement</p>\n\n<pre><code>Item.objects.filter(owner=request.user.profile, enabled=True, is_active=True).update(is_active=False)\n</code></pre>\n\n<p>But it is painfully slow and  I'm afraid that this is causing my server to run out of memory. </p>\n\n<p>I've previously had the following and it was still quite slow.</p>\n\n<pre><code>items = Item.objects.filter(owner=request.user.profile, enabled=True, is_active=True)\nfor item in items:\n  item.is_active = False\n  item.save()\n</code></pre>\n\n<p>The database being used is <code>SQLite</code> and I am using <code>Django 1.7</code>.</p>\n\n<p>I wish to optimize this operation as much as possible. Any pointers or good query optimization docs would be appreciated.</p>\n"}, {"tags": ["python", "r"], "comments": [{"owner": {"reputation": 2801, "user_id": 489426, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/nnz2S.jpg?s=128&g=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/489426/ray"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1424910660, "post_id": 28731818, "comment_id": 45750675, "body": "@MartijnPieters Sorry Martijn! I realized later that there was duplicity with another question, hence the mark for deletion."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1424910735, "post_id": 28731818, "comment_id": 45750698, "body": "Then <i>vote to close</i>, don&#39;t just invalidate the work of the answerers. Your question is licensed under the <a href=\"http://creativecommons.org/licenses/by-sa/3.0/\" rel=\"nofollow noreferrer\">CC-Wiki license</a> (see section 3 of the <a href=\"http://stackexchange.com/legal\">terms of service</a> and together with the answers is now a collective work. Vandalising that goes against that license."}], "answers": [{"comments": [{"owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1424917240, "post_id": 28731859, "comment_id": 45752328, "body": "If i&#39;m interpreting your results correctly, in each case you are getting back a,b,c. But that&#39;s not the same as showing that a and b are connected via c, d, e as described in the question. So would <code>p1_set = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;}</code> and <code>p2_set = {&#39;b&#39;,&#39;a&#39;,&#39;d&#39;,&#39;c&#39;}</code> return 4 even though each person is connected to no more than 1 person?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1424938513, "post_id": 28731859, "comment_id": 45758787, "body": "@MrFlick: yup, I misread the question at first then. I was finding the direct connections; nowhere is it clear that indices into those sequences mark edges, which on second reading they appear to mean. Voting on both or answers appears to indicate most people missed those details too; I was going by how often a &#39;connection&#39; appears."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 0, "creation_date": 1424938874, "post_id": 28731859, "comment_id": 45758951, "body": "@MrFlick: which goes some small distance towards explaining why the OP edited their post to link to <a href=\"http://stackoverflow.com/q/58306\">Graph Algorithm To Find All Connections Between Two Arbitrary Vertices</a> as a dupe"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 5, "last_activity_date": 1424907806, "last_edit_date": 1424907806, "creation_date": 1424907459, "answer_id": 28731859, "question_id": 28731818, "link": "https://stackoverflow.com/questions/28731818/find-maximum-of-connections-between-2-people/28731859#28731859", "title": "Find maximum # of connections between 2 people", "body": "<p>In Python, you could use <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"noreferrer\"><code>collection.Counter()</code></a> objects, and their intersection:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt; p1_conns = Counter(('a','a','a','a','a','b','b','b','b','c','c'))\n&gt;&gt;&gt; p2_conns = Counter(('b','c','d','e','f','c','a','e','d','e','f'))\n&gt;&gt;&gt; p1_conns &amp; p2_conns\nCounter({'c': 2, 'a': 1, 'b': 1})\n&gt;&gt;&gt; sorted(p1_conns &amp; p2_conns)\n['a', 'b', 'c']\n&gt;&gt;&gt; len(p1_conns &amp; p2_conns)\n3\n</code></pre>\n\n<p>The length is then the number of common connections. That last value is also available if you just use set intersections:</p>\n\n<pre><code>&gt;&gt;&gt; p1_set = {'a','a','a','a','a','b','b','b','b','c','c'}\n&gt;&gt;&gt; p2_set = {'b','c','d','e','f','c','a','e','d','e','f'}\n&gt;&gt;&gt; p1_set &amp; p2_set\nset(['a', 'c', 'b'])\n&gt;&gt;&gt; len(p1_set &amp; p2_set)\n3\n</code></pre>\n\n<p>but the counters (multi-sets) also say something about their counts.</p>\n"}, {"tags": [], "owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "is_accepted": false, "score": 4, "last_activity_date": 1424908213, "creation_date": 1424908213, "answer_id": 28732004, "question_id": 28731818, "link": "https://stackoverflow.com/questions/28731818/find-maximum-of-connections-between-2-people/28732004#28732004", "title": "Find maximum # of connections between 2 people", "body": "<p>It seems like you want find the maximal number of length-2 paths from one vertex to another. I'm not sure this is very efficient, but you could do it in R with</p>\n\n<pre><code>library(igraph)\ngg &lt;- graph.data.frame(connections, directed=F)\nln &lt;- sapply(V(gg), function(x) V(gg)[nei(x)])\nmax(combn(ln,2, function(x) sum(x[[1]] %in% x[[2]])))\n# [1] 3\n</code></pre>\n\n<p>Here we use a proper graph library to connect the nodes. Then we look at overlapping sets of neighbors to count the number of two-step paths.</p>\n\n<pre><code>plot(gg)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/eAjrA.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 2801, "user_id": 489426, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/nnz2S.jpg?s=128&g=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/489426/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1424936187, "accepted_answer_id": 28731859, "answer_count": 2, "score": -3, "last_activity_date": 1424910455, "creation_date": 1424907287, "last_edit_date": 1424910455, "question_id": 28731818, "link": "https://stackoverflow.com/questions/28731818/find-maximum-of-connections-between-2-people", "closed_reason": "Needs details or clarity", "title": "Find maximum # of connections between 2 people", "body": "<p>Suppose I have the following data:</p>\n\n<pre><code>p1 &lt;- c('a','a','a','a','a','b','b','b','b','c','c')\np2 &lt;- c('b','c','d','e','f','c','a','e','d','e','f')\nconnections &lt;- data.frame(p1, p2)\n</code></pre>\n\n<p>Where <code>p1</code> and <code>p2</code> are persons and each row represents a connection.</p>\n\n<p>Question: How do I write a function that finds the maximum # of common connections between 2 people? (E.g. a &amp; b have 3 common connections: c, d,  e)</p>\n"}, {"tags": ["python", "django", "url"], "answers": [{"comments": [{"owner": {"reputation": 18818, "user_id": 210709, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/51074bf9fb1da9546246986784cfbdd9?s=128&d=identicon&r=PG", "display_name": "IAbstract", "link": "https://stackoverflow.com/users/210709/iabstract"}, "edited": false, "score": 0, "creation_date": 1424909245, "post_id": 28732033, "comment_id": 45750254, "body": "Thanks ...I&#39;m still trying to get through the docs for url dispatcher."}, {"owner": {"reputation": 3675, "user_id": 3481357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4hixN.jpg?s=128&g=1", "display_name": "argaen", "link": "https://stackoverflow.com/users/3481357/argaen"}, "reply_to_user": {"reputation": 18818, "user_id": 210709, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/51074bf9fb1da9546246986784cfbdd9?s=128&d=identicon&r=PG", "display_name": "IAbstract", "link": "https://stackoverflow.com/users/210709/iabstract"}, "edited": false, "score": 0, "creation_date": 1424909480, "post_id": 28732033, "comment_id": 45750326, "body": "You are welcome. You will see, once you have an urls file working example, it will be the same for all your incoming projects."}], "tags": [], "owner": {"reputation": 3675, "user_id": 3481357, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4hixN.jpg?s=128&g=1", "display_name": "argaen", "link": "https://stackoverflow.com/users/3481357/argaen"}, "is_accepted": true, "score": 2, "last_activity_date": 1424908346, "creation_date": 1424908346, "answer_id": 28732033, "question_id": 28731740, "link": "https://stackoverflow.com/questions/28731740/why-is-views-method-not-being-invoked/28732033#28732033", "title": "Why is views method not being invoked?", "body": "<p>Your root url should look like <code>url(r'^$', home.index, name=\"index\")</code> and your query_locale url should look like <code>url(r'^query_locale/$', queries.query_locales, name=\"query_locales\")</code>.</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.7/topics/http/urls/\" rel=\"nofollow\">url dispatcher</a> has broad documentation about how urls work.</p>\n"}], "owner": {"reputation": 18818, "user_id": 210709, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/51074bf9fb1da9546246986784cfbdd9?s=128&d=identicon&r=PG", "display_name": "IAbstract", "link": "https://stackoverflow.com/users/210709/iabstract"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 28732033, "answer_count": 1, "score": 0, "last_activity_date": 1424908346, "creation_date": 1424906889, "question_id": 28731740, "link": "https://stackoverflow.com/questions/28731740/why-is-views-method-not-being-invoked", "title": "Why is views method not being invoked?", "body": "<p>I have a web directory with <code>urls.py</code> in a directory (RazorWare_Web) as follows:</p>\n\n<pre><code>from RazorWare_Web.views import home\n\nurlpatterns = patterns('',\n                       url('/', home.index, name=\"index\"),\n                       url(r'^razorware/', include(\"RazorCRM_App.urls\")),\n                       url(r'^admin/', include(admin.site.urls)),\n                       )\n</code></pre>\n\n<p>So in my browser, <code>http://localhost:8000/razorware</code> navigates to the <code>home</code> view's <code>index()</code> method. I'm a little confused by this. I would expect <code>http://localhost:8000/</code> would navigate to <code>home</code>. Instead this produces a url not found error page.</p>\n\n<p>Aside from that, the real problem (and I suspect it is related to the above) exists when I perform a <code>$.getJSON</code> call from my HTML page. First, the actual app exists under the sibling directory, RazorCRM_App, with the following:</p>\n\n<pre><code>from RazorCRM_App.views import queries\n\nurlpatterns = [\n    url(r'query_locale', queries.query_locales, name=\"query_locales\"),\n]\n</code></pre>\n\n<p>When I execute the following script:</p>\n\n<pre><code>function query_locale_by_zip(){\n    var post_code = txt_postal.val();\n    $.getJSON(\"query_locale\", {post_code: post_code}, function(result){\n        console.log(\"[APP] query locale for: \" + post_code + \" [returned: \" + result.success + \"]\")\n    });\n}\n</code></pre>\n\n<p>... the <code>queries.query_locales</code> method is not being called. However, I do get the following output from the console:</p>\n\n<blockquote>\n  <p>[25/Feb/2015 15:20:51] \"GET /razorware/query_locale?post_code=9\n  HTTP/1.1\" 200<br>\n  [25/Feb/2015 15:20:51] \"GET\n  /razorware/query_locale?post_code=92 HTTP/1.1\" 200<br>\n  [25/Feb/2015\n  15:20:51] \"GET /razorware/query_locale?post_code=920 HTTP/1.1\" 200<br>\n  [25/Feb/2015 15:20:52] \"GET\n  /razorware/query_locale?post_code=9205 HTTP/1.1\" 200<br>\n  [25/Feb/2015 15:20:52] \"GET /razorware/query_locale?post_code=92058\n  HTTP/1.1\" 200</p>\n</blockquote>\n\n<p>I might understand if there was a message stating that the url could not be found. But this just seems odd.</p>\n\n<p>Using Django version 1.7.1 and Python 3.4.2</p>\n"}, {"tags": ["python", "average"], "comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1424906940, "post_id": 28731682, "comment_id": 45749517, "body": "Why you put student names and their scores into the same list?"}, {"owner": {"reputation": 11, "user_id": 4548544, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204695509161961/picture?type=large", "display_name": "Don Khalil", "link": "https://stackoverflow.com/users/4548544/don-khalil"}, "reply_to_user": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1424907393, "post_id": 28731682, "comment_id": 45749679, "body": "@Marcin i put student names and scores in the same list so that i can return the value to the empty list"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424907434, "post_id": 28731682, "comment_id": 45749700, "body": "Is this from a course or is it GCSE related because it seems to be repeated almost daily?"}, {"owner": {"reputation": 2044, "user_id": 1873994, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a9fb879fb1d678e369718e2752c1434?s=128&d=identicon&r=PG", "display_name": "Calum", "link": "https://stackoverflow.com/users/1873994/calum"}, "edited": false, "score": 0, "creation_date": 1424907494, "post_id": 28731682, "comment_id": 45749721, "body": "@Don Khalil you should probably create a student object that has a name and score. then append the objects to the list."}, {"owner": {"reputation": 11, "user_id": 4548544, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204695509161961/picture?type=large", "display_name": "Don Khalil", "link": "https://stackoverflow.com/users/4548544/don-khalil"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424907585, "post_id": 28731682, "comment_id": 45749752, "body": "@PadraicCunningham yes it is from my python course at my college. really? I&#39;d be happy to delete the post if you could point me where the similar post is."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424908103, "post_id": 28731682, "comment_id": 45749896, "body": "I answered a few but they are buried somewhere in my answers. A collections.defaultdict will be useful and also statistics.mean"}], "answers": [{"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1424907473, "creation_date": 1424907473, "answer_id": 28731862, "question_id": 28731682, "link": "https://stackoverflow.com/questions/28731682/find-average-value-and-above-average-value-using-def-function-in-python/28731862#28731862", "title": "find average value and above average value using def function in python", "body": "<p>You're making a list <code>results</code> that contains scores and names alternating -- very hard to use.  You return that list from <code>enter_score</code>, then completely ignore -- you throw it away!  So the other two functions are supposed to work on some magic, or thin air...?</p>\n\n<p>Clearly, the overall flow at the end must instead be:</p>\n\n<pre><code>results = enter_score()\naverage = calc_average(results)\nabove_average(results_average)\n</code></pre>\n\n<p>and <code>calc_average</code> must end with <code>return average</code>.</p>\n\n<p><code>results</code> is better arranged by replacing the two <code>results.append</code> calls with a single one:</p>\n\n<pre><code>results.append((student_score, student_name))\n</code></pre>\n\n<p>i.e, make it a list of tuple, not a weird mix of numbers and names.</p>\n\n<p>The other two functions clearly must loop on that list (which they now receive as an argument) to do their respective jobs.</p>\n\n<p>So:</p>\n\n<pre><code>def calc_average(results):\n    total = 0\n    for student_score, student_name in results:\n        total=total+student_score\n    average= total/float(len(results))\n    print(average)\n    return average\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>def above_average(average, results):\n    above_average = 0\n    for student_score, student_name in results:\n        if student_score &gt; average:\n            above_average += 1\n    print(\" the number of above average scores is \", above_average)\n    return above_average\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1424907744, "creation_date": 1424907744, "answer_id": 28731917, "question_id": 28731682, "link": "https://stackoverflow.com/questions/28731682/find-average-value-and-above-average-value-using-def-function-in-python/28731917#28731917", "title": "find average value and above average value using def function in python", "body": "<p>I fixed/ammended your code so that it works:</p>\n\n<pre><code>def enter_score ():\n    results = []\n    scores = int(input(\"How many results to enter? : \"))\n    for i in range(scores):\n        student_name = input(\"enter student name: \")\n        student_score = int(input(\"Please enter score for student \" + student_name + \" : \" ))        \n        results.append((student_name, student_score))\n        print(results)\n    return results\n\ndef calc_average(results):\n    total=0\n    for student_name, student_score in results:\n        total=total+student_score\n    average= total/len(results)\n    print(\"the average is \", average)\n    return average\n\ndef above_average(results, average_score):\n    above_average_no=0\n    for student_name, student_score in results:\n        if student_score &gt; average_score:\n            above_average_no = above_average_no + 1\n            print(\" the above average score is \", above_average_no)\n    return above_average_no\n\nresults = enter_score()\naverage_score = calc_average(results)\n\nabove_average_no = above_average(results, average_score)\n</code></pre>\n\n<p>I wont provide detailed explanation on what and why things changes. Leave it to you to figure it out. Please note that I tried to make minimal changes to your code. Many things could be improved, such as calculating <code>sum</code>, etc. Hope this helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 4548544, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204695509161961/picture?type=large", "display_name": "Don Khalil", "link": "https://stackoverflow.com/users/4548544/don-khalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1711, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1424907744, "creation_date": 1424906585, "last_edit_date": 1424906619, "question_id": 28731682, "link": "https://stackoverflow.com/questions/28731682/find-average-value-and-above-average-value-using-def-function-in-python", "title": "find average value and above average value using def function in python", "body": "<p>here is my code so far. I'm not sure whether I do something wrong on the code because the average seems to be wrong. please help me. Thank you</p>\n\n<pre><code>def enter_score ():\n    results = []\n    scores = int(input(\"How many results to enter? : \"))\n    for i in range(scores):\n        student_name = input(\"enter student name: \")\n        student_score = int(input(\"Please enter score for student \" + student_name + \" : \" ))\n        results.append(student_score)\n        results.append(student_name)\n        print(results)\n    return results\n\ndef calc_average():\n    total=0\n    total=total+student_score\n    average= total/scores\n    print(\"the average is \", average)\n    return\ndef above_average():\n  above_average=0\n  for i in range (scores):\n    if results [i] &gt; average:\n        above_average = above_average + 1\n        print(\" the above average score is \", above_average)\n    return above_average\n\nenter_score()\ncalc_average()\nabove_average()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyparsing"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 5, "last_activity_date": 1424914411, "creation_date": 1424914411, "answer_id": 28732985, "question_id": 28731655, "link": "https://stackoverflow.com/questions/28731655/parse-line-data-until-keyword-with-pyparsing/28732985#28732985", "title": "Parse line data until keyword with pyparsing", "body": "<p>You could use a <code>nestedExpr</code> to find the text delimited by <code>START</code> and <code>END</code>.</p>\n\n<p>If you use</p>\n\n<pre><code>In [322]: pp.nestedExpr('START', 'END').searchString(data).asList()\nOut[322]: \n[[['line', '2', 'line', '3', 'line', '4']],\n [['line', 'a', 'line', 'b', 'line', 'c']]]\n</code></pre>\n\n<p>then the text is split on whitespace. (Notice we have <code>'line', '2'</code> above where we want <code>'line 2'</code> instead). We'd rather it just split only on <code>'\\n'</code>. So to fix this we can use the <code>pp.nestedExpr</code> function's <code>content</code> parameter which allows us to control what is considered an item inside the nested list. \nThe source code for <code>nestedExpr</code> defines</p>\n\n<pre><code>content = (Combine(OneOrMore(~ignoreExpr + \n                ~Literal(opener) + ~Literal(closer) +\n                CharsNotIn(ParserElement.DEFAULT_WHITE_CHARS,exact=1))\n            ).setParseAction(lambda t:t[0].strip()))\n</code></pre>\n\n<p>by default, where <code>pp.ParserElement.DEFAULT_WHITE_CHARS</code> is </p>\n\n<pre><code>In [324]: pp.ParserElement.DEFAULT_WHITE_CHARS\nOut[324]: ' \\n\\t\\r'\n</code></pre>\n\n<p>This is what causes <code>nextExpr</code> to split on all whitespace.\nSo if we reduce that to simply <code>'\\n'</code>, then <code>nestedExpr</code> splits the content by\nlines instead of by all whitespace.</p>\n\n<hr>\n\n<pre><code>import pyparsing as pp\n\ndata = \"\"\"START\nline 2\nline 3\nline 4\nEND\nSTART\nline a\nline b\nline c\nEND\n\"\"\"\n\nopener = 'START'\ncloser = 'END'\ncontent = pp.Combine(pp.OneOrMore(~pp.Literal(opener) \n                                  + ~pp.Literal(closer) \n                                  + pp.CharsNotIn('\\n',exact=1)))\nexpr = pp.nestedExpr(opener, closer, content=content)\n\nresult = [item[0] for item in expr.searchString(data).asList()]\nprint(result)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>[['line 2', 'line 3', 'line 4'], ['line a', 'line b', 'line c']]\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 1231192, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4395456e68cf536df80ea71d0469083a?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231192/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 2, "accepted_answer_id": 28732985, "answer_count": 1, "score": 3, "last_activity_date": 1424914411, "creation_date": 1424906515, "last_edit_date": 1495542027, "question_id": 28731655, "link": "https://stackoverflow.com/questions/28731655/parse-line-data-until-keyword-with-pyparsing", "title": "Parse line data until keyword with pyparsing", "body": "<p>I'm trying to parse line data and then group them in list.</p>\n\n<p>Here is my script:</p>\n\n<pre><code>from pyparsing import *\n\ndata = \"\"\"START\nline 2\nline 3\nline 4\nEND\nSTART\nline a\nline b\nline c\nEND\n\"\"\"\n\nEOL = LineEnd().suppress()\nstart = Keyword('START').suppress() + EOL\nend = Keyword('END').suppress() + EOL\n\nline = SkipTo(LineEnd()) + EOL\nlines = start + OneOrMore(start | end | Group(line))\n\nstart.setDebug()\nend.setDebug()\nline.setDebug()\n\nresult = lines.parseString(data)\nresults_list = result.asList()\n\nprint(results_list)\n</code></pre>\n\n<p>This code was inspired by another stackoverflow question:\n<a href=\"https://stackoverflow.com/questions/5822709/matching-nonempty-lines-with-pyparsing\">Matching nonempty lines with pyparsing</a></p>\n\n<p>What I need is to parse everything from START to END line by line and save it to a list per group (everything from START to matching END is one group). However this script put every line in new group.</p>\n\n<p>This is the result:</p>\n\n<pre><code>[['line 2'], ['line 3'], ['line 4'], ['line a'], ['line b'], ['line c'], ['']]\n</code></pre>\n\n<p>And I want it to be:</p>\n\n<pre><code>[['line 2', 'line 3', 'line 4'], ['line a', 'line b', 'line c']]\n</code></pre>\n\n<p>Also it parse an empty string at the end.</p>\n\n<p>I'm a pyparsing beginner so I ask you for your help.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 8864, "user_id": 234009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342e019ead7a196820deaa9b784efe91?s=128&d=identicon&r=PG", "display_name": "robert_x44", "link": "https://stackoverflow.com/users/234009/robert-x44"}, "edited": false, "score": 0, "creation_date": 1424906876, "post_id": 28731610, "comment_id": 45749495, "body": "If you&#39;re having problems, please tell us what is wrong - what error message do you get, or what output is wrong."}], "answers": [{"tags": [], "owner": {"reputation": 2647, "user_id": 4060551, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/eqUxo.jpg?s=128&g=1", "display_name": "Burger King", "link": "https://stackoverflow.com/users/4060551/burger-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1426489542, "creation_date": 1426489542, "answer_id": 29071266, "question_id": 28731610, "link": "https://stackoverflow.com/questions/28731610/how-can-i-create-a-function-in-python/29071266#29071266", "title": "How can I create a function in python", "body": "<p>I know what you need.</p>\n\n<p>First you need to understand how to define a function. </p>\n\n<blockquote>\n  <p>A function is a block of organized, reusable code that is used to perform a single, related action. Functions provide better modularity for your application and a high degree of code reusing.</p>\n</blockquote>\n\n<p>Let's look your code.</p>\n\n<p>I suggest that you will want to extend class variable , it's easy to maintenance. It can base on user input and if-else statement to return that you select.</p>\n\n<pre><code>def get_class(num):\n    if num == 1:\n        return class_1\n    elif num == 2:\n        return class_2\n    elif num == 3:\n        return class_3\n</code></pre>\n\n<p>In order to simply your code. We can reuse this code to use.</p>\n\n<pre><code>def calculate(selected_class):\n    class_average = {key: int(sum(value)/len(value)) for key, value in selected_class.items()}\n    max_each_student = {key: max(value) for key, value in selected_class.items()}\n    return (class_average, max_each_student)\n\ndef Alphabetically(max_each_student):\n    print(\"Alphabetically\")\n    for key in sorted(max_each_student.keys()):\n        print (\"%s: %s\" % (key, max_each_student[key]))\n\ndef sort_by_average_scores(average):\n    print ('\\nSort by average scores(descending order):')\n    for key, value in sorted(average.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, average[key]))\n\ndef sort_by_high_scores(max_each_student):\n    print ('\\nSort by high scores(descending order):')\n    for key, value in sorted(max_each_student.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, max_each_student[key]))\n</code></pre>\n\n<p>When you want to process data, you just use these function. It can do the same.</p>\n\n<pre><code>the_class = get_class(class_choice)\nthe_class_average, max_each_student_of_the_class= calculate(the_class)\nAlphabetically(max_each_student_of_the_class)\nsort_by_average_scores(the_class_average)\nsort_by_high_scores(max_each_student_of_the_class)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4315893, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/faa548b2333c90eb57adccce67c8aefe?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/4315893/farid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1426489542, "creation_date": 1424906316, "last_edit_date": 1424906471, "question_id": 28731610, "link": "https://stackoverflow.com/questions/28731610/how-can-i-create-a-function-in-python", "title": "How can I create a function in python", "body": "<p>I am trying to make a 3 separate functions out of this big chunk of code. One to work out the alphabetical order of keys in a dictionary, one to work out the highest scores for values in a dictionary and one to find the average score from a dictionary</p>\n\n<p>These are the three dictionaries:</p>\n\n<pre><code>class_1={\"Mike\":[2,3,2,5,3],\"Jack\":[1,2,1,6,4],\"Rob\":[0,2,6,4]}\nclass_2={\"Steve\":[2,5,2,5,9],\"Mo\":[3,2,1,6,4],\"Bill\":[9,2,6,4]}\nclass_3={\"Harry\":[1,3,1,5,3],\"Dave\":[7,2,1,6,4],\"Molly\":[3,2,9,4]}\n</code></pre>\n\n<p>Using this big block of code, I can do what I want to achieve but it doesn't look elegant or efficient.</p>\n\n<pre><code>class_choice_menu=input(\"Please choose the class you would like to check:\\n\\\n1.Class 1\\n\\\n2.Class 2\\n\\\n3.Class 3\\n\")\nclass_choice=int(class_choice_menu)\nif class_choice ==1:\n    class_1_average = {key: int(sum(value)/len(value)) for key, value in class_1.items()}\n    max_each_1 = {key: max(value) for key, value in class_1.items()}\n    print(\"Alphabetically\")\n    for key in sorted(max_each_1.keys()):\n        print (\"%s: %s\" % (key, max_each_1[key]))\n    print ('\\nSort by average scores(descending order):')\n    for key, value in sorted(class_1_average.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, class_1_average[key]))\n    print ('\\nSort by high scores(descending order):')\n    for key, value in sorted(max_each_1.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, max_each_1[key]))        \nelif class_choice ==2:\n    class_2_average = {key: int(sum(value)/len(value)) for key, value in class_2.items()}\n    max_each_2 = {key: max(value) for key, value in class_2.items()}\n    print(\"Alphabetically\")\n    for key in sorted(max_each_2.keys()):\n        print (\"%s: %s\" % (key, max_each_2[key]))\n    print ('\\nSort by average scores(descending order):')\n    for key, value in sorted(class_2_average.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, class_2_average[key]))\n    print ('\\nSort by high scores(descending order):')\n    for key, value in sorted(max_each_2.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, max_each_2[key])) \nelif class_choice ==3:\n    class_3_average = {key: int(sum(value)/len(value)) for key, value in class_3.items()}\n    max_each_3 = {key: max(value) for key, value in class_3.items()}\n    print(\"Alphabetically\")\n    for key in sorted(max_each_3.keys()):\n        print (\"%s: %s\" % (key, max_each_3[key]))\n    print ('\\nSort by average scores(descending order):')\n    for key, value in sorted(class_3_average.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, class_3_average[key]))\n    print ('\\nSort by high scores(descending order):')\n    for key, value in sorted(max_each_3.items(), reverse = True, key=lambda item: (item[1], item[0])):\n        print (\"%s: %s\" % (key, max_each_3[key]))\n</code></pre>\n\n<p>I had a go at one but it didn't seem to work</p>\n\n<pre><code>def alphabetical(class_choice):\n    max_each_%s= {key:max(value) for key,value in class_%s.items()} \n    print(\"Alphabetically\")\n    for key in sorted (max_each_%s.keys()):\n        print(\"%s: %s\" % (key,max_each_%s[key] % class_choice))\n</code></pre>\n"}, {"tags": ["python", "recursion", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1424906865, "post_id": 28731705, "comment_id": 45749492, "body": "That would work on a list, but not a tuple.  Tuples don&#39;t have an <code>extend</code> method."}, {"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "reply_to_user": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 1, "creation_date": 1424907933, "post_id": 28731705, "comment_id": 45749845, "body": "Yeah now I realized the question is about <code>tuple</code>. In this case I will probably modify the function to return a list instead, and convert to tuple in the end."}, {"owner": {"reputation": 13, "user_id": 4280807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec30944ead2be4864ce126a3aa71683?s=128&d=identicon&r=PG&f=1", "display_name": "kataklasmik", "link": "https://stackoverflow.com/users/4280807/kataklasmik"}, "edited": false, "score": 0, "creation_date": 1424909369, "post_id": 28731705, "comment_id": 45750302, "body": "i tried doing it as you suggested as a list but the last extension is split up by the letter, so in my example, after trying to split it, will be :   [ &#39;C:&#39;, &#39;Users:&#39;, &#39;g&#39;, &#39;a&#39;, &#39; m&#39;, &#39;e&#39;, &#39;s&#39;]"}, {"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 0, "creation_date": 1424909806, "post_id": 28731705, "comment_id": 45750420, "body": "For example, enter the following in Python console: <code>string = &#39;&#39;&#39;C:&#47;Users:&#47;Games&#39;&#39;&#39;;string.split(&#39;&#47;&#39;)</code>"}], "tags": [], "owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1424906701, "creation_date": 1424906701, "answer_id": 28731705, "question_id": 28731601, "link": "https://stackoverflow.com/questions/28731601/trying-to-split-file-path-into-a-tuple-using-recursion/28731705#28731705", "title": "Trying to split file path into a tuple using recursion", "body": "<p>You would want to change the line close to the last line of your function to following:</p>\n\n<pre><code>path.extend(split_path(s[location+1:]))\n</code></pre>\n\n<p>Btw, why don't you use something like:</p>\n\n<pre><code>path = s.split('/')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 161366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/my6Az.jpg?s=128&g=1", "display_name": "Benjamin Riggs", "link": "https://stackoverflow.com/users/161366/benjamin-riggs"}, "is_accepted": true, "score": 1, "last_activity_date": 1424939716, "last_edit_date": 1424939716, "creation_date": 1424915247, "answer_id": 28733098, "question_id": 28731601, "link": "https://stackoverflow.com/questions/28731601/trying-to-split-file-path-into-a-tuple-using-recursion/28733098#28733098", "title": "Trying to split file path into a tuple using recursion", "body": "<p>You're really close. Take a closer look at your last line:</p>\n\n<pre><code>path += (split_path(s[location+1:]),)\n</code></pre>\n\n<p>You're putting the return value of the function, which is a tuple, inside another tuple.</p>\n\n<p>Edit to add: I just noticed a very subtle error that probably lead you to putting the return value in a tuple:</p>\n\n<pre><code>path = (s)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>path = (s,)\n</code></pre>\n\n<p>This is how I would write it:</p>\n\n<pre><code>def split_path(s):\n    index = s.find('/')\n    if index == -1:\n        return (s,)\n    else:\n        return (s[:index],) + split_path(s[index+1:])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4280807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec30944ead2be4864ce126a3aa71683?s=128&d=identicon&r=PG&f=1", "display_name": "kataklasmik", "link": "https://stackoverflow.com/users/4280807/kataklasmik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 28733098, "answer_count": 2, "score": 1, "last_activity_date": 1424939716, "creation_date": 1424906284, "question_id": 28731601, "link": "https://stackoverflow.com/questions/28731601/trying-to-split-file-path-into-a-tuple-using-recursion", "title": "Trying to split file path into a tuple using recursion", "body": "<p>I'm trying do recursion exercises and I'm stuck on a problem. I need to split a\nfile address into a tuple and I end up getting a tuple within a tuple. \nBelow is what I have come up with and when I test it, it returns this: </p>\n\n<p>enter path: C:/Users:/Games</p>\n\n<p>('C:', ('Users:', 'Games'))</p>\n\n<p>I want: ('C:','Users:','Games')</p>\n\n<pre><code>def split_path(s):\n    path = ()\n\n        if s.find(\"/\") == -1:\n        path= (s)\n    else:\n        location = s.find(\"/\")\n        path += (s[:location],)\n        path += (split_path(s[location+1:]),)\nreturn path\n</code></pre>\n"}, {"tags": ["python", "list", "psychopy"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 0, "creation_date": 1424906935, "post_id": 28731714, "comment_id": 45749515, "body": "The image display code is in the &quot;create window and stimuli&quot; section. I tried doing this, the problem is that the values that the index come from are out of range once it goes beyond 64. :("}, {"owner": {"reputation": 12333, "user_id": 1460057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8zcA.jpg?s=128&g=1", "display_name": "Brionius", "link": "https://stackoverflow.com/users/1460057/brionius"}, "reply_to_user": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 1, "creation_date": 1424909287, "post_id": 28731714, "comment_id": 45750270, "body": "Ok, well you need to post <b>that</b> code if you want help with that.  I was just guessing how you might have set things up."}, {"owner": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 0, "creation_date": 1424910749, "post_id": 28731714, "comment_id": 45750703, "body": "It is all posted. The above code is exactly what I am using."}, {"owner": {"reputation": 12333, "user_id": 1460057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8zcA.jpg?s=128&g=1", "display_name": "Brionius", "link": "https://stackoverflow.com/users/1460057/brionius"}, "reply_to_user": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 1, "creation_date": 1424913454, "post_id": 28731714, "comment_id": 45751465, "body": "You said:  <i>I tried doing this, the problem is that the values that the index come from are out of range once it goes beyond 64</i>.  If you can show us <b>that</b> code, then we can help you fix it.  I don&#39;t know exactly how you want the program to work, so I can&#39;t write the looping and display code for you, but I could help you fix it if you gave it a try then showed us what went wrong."}, {"owner": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 0, "creation_date": 1424914452, "post_id": 28731714, "comment_id": 45751696, "body": "Sorry I misunderstood. I&#39;ll post above."}, {"owner": {"reputation": 12333, "user_id": 1460057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8zcA.jpg?s=128&g=1", "display_name": "Brionius", "link": "https://stackoverflow.com/users/1460057/brionius"}, "reply_to_user": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "edited": false, "score": 0, "creation_date": 1424916727, "post_id": 28731714, "comment_id": 45752208, "body": "Actually, it was my fault - I didn&#39;t notice that your code box was truncated with a scroll bar - sorry.  I understand the problem now - I&#39;ll think about the best way to do this."}], "tags": [], "owner": {"reputation": 12333, "user_id": 1460057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T8zcA.jpg?s=128&g=1", "display_name": "Brionius", "link": "https://stackoverflow.com/users/1460057/brionius"}, "is_accepted": false, "score": 2, "last_activity_date": 1424917556, "last_edit_date": 1424917556, "creation_date": 1424906737, "answer_id": 28731714, "question_id": 28731597, "link": "https://stackoverflow.com/questions/28731597/modify-the-length-of-a-sequence-based-on-two-list-lengths/28731714#28731714", "title": "Modify the length of a sequence based on two list lengths", "body": "<p>Here's how I would recommend addressing this - create a separate counter for each trial type.  Every time you use an image set from one of the trial types, use the counter for that trial type as the index, then increment that counter.  When you select the trial type, select it at random unless one of the trial type image sets has been exhausted, in which case pick the other one.</p>\n\n<p>Here's the code - there are three places where modifications are necessary:</p>\n\n<pre><code>    type = [1,2]\n    if trialImageCounters[1] == len(a):\n        trialtype = 2  # If the maximum number of type-1 images have been used the trial is automatically type-2.\n    elif trialImageCounters[2] == len(a):\n        trialtype = 1  # If the maximum number of type-2 images have been used the trial is automatically type-1.\n    else:\n        trialtype = random.choice(type)  # If neither type-1 or type-2 images are all used up, pick a random type.\n    if trialtype == 1:\n        target = a\n        distractor = b\n    else:\n        target = c\n        distractor = d\n</code></pre>\n\n<p>...</p>\n\n<pre><code># The image index is taken from the counter for the selected type of trial\ndistractorstim.image = distractor[trialImageCounters[trialtype]]  \ntargetstim.image = target[trialImageCounters[trialtype]]\n\ntrialImageCounters[trialtype] += 1\n</code></pre>\n\n<p>...</p>\n\n<pre><code># loop\ntrialImageCounters = {1:0, 2:0}  # Create a different image counter for each trial type\nfor i in range(len(a)*2):\n    loop()\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 4077056, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/162b822a90cd08ad94690d934a7cf4eb?s=128&d=identicon&r=PG&f=1", "display_name": "y3trgfhsfgr", "link": "https://stackoverflow.com/users/4077056/y3trgfhsfgr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424917556, "creation_date": 1424906272, "last_edit_date": 1424915794, "question_id": 28731597, "link": "https://stackoverflow.com/questions/28731597/modify-the-length-of-a-sequence-based-on-two-list-lengths", "title": "Modify the length of a sequence based on two list lengths", "body": "<p>here is my code:</p>\n\n<pre><code>from psychopy import visual, event, gui\nimport random, os\nfrom random import shuffle\nfrom PIL import Image\nimport glob\n\n# import images sequences and randomize in the same order\na = glob.glob(\"DDtest/targetimagelist1/*\")\nb = glob.glob(\"DDtest/distractorimagelist1/*\")\nc = glob.glob(\"DDtest/targetimagelist2/*\")\nd = glob.glob(\"DDtest/distractorimagelist3/*\")\nindices = random.sample(range(len(a)), len(a))\na = map(a.__getitem__, indices)\nb = map(b.__getitem__, indices)\nc = map(c.__getitem__, indices)\nd = map(d.__getitem__, indices)\n\ndef loop():\n    # randomizes the location of the stimuli\n    loc = [1, 2]\n    location = random.choice(loc)\n    if location == 1:\n        pos1 = [-.05,-.05]\n        pos2 = [.05, .05]\n    else:\n         pos1 = [.05, .05]\n         pos2 = [-.05, -.05]\n\n    # randomizes the image lists\n    type = [1,2]\n    trialtype = random.choice(type)\n    if trialtype == 1:\n        target = a\n        distractor = b\n    else:\n        target = c\n        distractor = d\n\n     # Create window and stimuli. \n    win = visual.Window(size=(1280, 800), fullscr=True, screen=0, monitor='testMonitor', color=[-1,-1,-1]) # removed a default value\n    targetstim = visual.ImageStim(win=win, pos=pos2, size=[0.5,0.5])\n    targetstim.autoDraw = True\n    distractorstim = visual.ImageStim(win=win, pos=pos1, size=[0.5,0.5])\n    distractorstim.autoDraw = True\n\n    distractorstim.image = distractor[i]\n    targetstim.image = target[i]\n\n    # Display and wait for answer \n    win.flip()\n    event.waitKeys(keyList = ['space']) \n\n# loop\nfor i in range(len(a)):\n    loop()\n</code></pre>\n\n<p>So here is my problem: I have 64 images in each file. The current program terminates when the 64 images have been displayed (length is based on the amount of images in 'a'). What I would like is for the file to terminate when all images have been displayed (128 trials). Is there anyway to do this? I will appreciate any help or guidance. :)</p>\n\n<p>Edit:</p>\n\n<p>I tried doing this to the loop:</p>\n\n<pre><code> # loop\n    for i in range(len(a)*2):\n        loop()\n</code></pre>\n\n<p>What happens when I do this, the images cycle as they did before except when I get a little past 64 (65-67) it tries to call an image that is outside the range, and this causes an \"IndexError:list index out of range.\" Basically I need some way to index one list from 1-64, and the other 65-128, and then just randomly generate the order while ensuring that the index for list a and b are the same. </p>\n"}, {"tags": ["python", "directory", "syntax-error", "python-3.4"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 4111354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/325643c282345198fde504207cf58913?s=128&d=identicon&r=PG&f=1", "display_name": "Damhan Richardson", "link": "https://stackoverflow.com/users/4111354/damhan-richardson"}, "edited": false, "score": 0, "creation_date": 1424906747, "post_id": 28731698, "comment_id": 45749454, "body": "I&#39;m an idiot, thank you. Sometimes you just cant see it with your own eyes."}], "tags": [], "owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "is_accepted": true, "score": 0, "last_activity_date": 1424906667, "creation_date": 1424906667, "answer_id": 28731698, "question_id": 28731593, "link": "https://stackoverflow.com/questions/28731593/python3-os-chdir-throwing-a-syntax-error-when-using-a-variable/28731698#28731698", "title": "python3 os.chdir throwing a syntax error when using a variable", "body": "<p>You missing a closing bracket in:</p>\n\n<pre><code> os.rename(file_name, file_name.strip(\"0123456789\") #&lt;-- need one more )\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 4111354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/325643c282345198fde504207cf58913?s=128&d=identicon&r=PG&f=1", "display_name": "Damhan Richardson", "link": "https://stackoverflow.com/users/4111354/damhan-richardson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 28731698, "answer_count": 1, "score": 0, "last_activity_date": 1424906667, "creation_date": 1424906255, "question_id": 28731593, "link": "https://stackoverflow.com/questions/28731593/python3-os-chdir-throwing-a-syntax-error-when-using-a-variable", "title": "python3 os.chdir throwing a syntax error when using a variable", "body": "<p>I'm trying to remove numbers from files in a given directory.\nFor some reason whenever I try pass a variable into os.chdir I get a syntax error.</p>\n\n<p>I have tried converting the norm_direc to a str using str() to no avail. \nI researched online but could only find people getting errors for forgetting their quotation marks but as I understand it they're not needed for a variable.</p>\n\n<p>Source Code;</p>\n\n<pre><code>#Setup\nimport os\nimport datetime\nprint (\"Started on \"+ str(datetime.datetime.now()))\n\n#Get the norms\nnorm_direc = os.getcwd()\nfile_list = os.listdir(r\"/home/damhan/Downloads/Tyler - Wolf 2013\")\n\n\ndef rename_files():\n        #Workings\n        os.chdir(\"/home/damhan/Downloads/Tyler - Wolf 2013\")\n\n        #Start the loop\n        for file_name in file_list:\n                os.rename(file_name, file_name.strip(\"0123456789\")\n\n        #Cleanup\n        os.chdir(norm_direc)\nrename_files()\nprint(\"Done :)\")\n</code></pre>\n\n<p>The error;</p>\n\n<pre><code>  File \"numberdestroyer.py\", line 20\n    os.chdir(norm_direc)\n     ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "firebase", "firebase-security"], "comments": [{"owner": {"reputation": 38514, "user_id": 394010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeeb400b9dfb7d0cd6fdcdfab9b84d6b?s=128&d=identicon&r=PG", "display_name": "Kato", "link": "https://stackoverflow.com/users/394010/kato"}, "edited": false, "score": 0, "creation_date": 1424932144, "post_id": 28731549, "comment_id": 45756258, "body": "I know nothing about Python, but looking at the <a href=\"https://github.com/mikexstudios/python-firebase\" rel=\"nofollow noreferrer\">readme for python-firebase</a>, it shows the syntax as <code>f = Firebase(&#39;http:&#47;&#47;SampleChat.firebaseIO.com&#47;&#39;, auth_token=&quot;&lt;my_firebase_auth_token&gt;&quot;)</code>"}, {"owner": {"reputation": 271, "user_id": 4286092, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4d18982fddb809882153c822287c629?s=128&d=identicon&r=PG&f=1", "display_name": "eric", "link": "https://stackoverflow.com/users/4286092/eric"}, "reply_to_user": {"reputation": 38514, "user_id": 394010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeeb400b9dfb7d0cd6fdcdfab9b84d6b?s=128&d=identicon&r=PG", "display_name": "Kato", "link": "https://stackoverflow.com/users/394010/kato"}, "edited": false, "score": 0, "creation_date": 1424988034, "post_id": 28731549, "comment_id": 45788968, "body": "@Kato Thanks for the reply. Unfortunately, that is for a different, lesser used python-firebase library. They actually have the same name! Edited question to reflect the specific library I am using."}, {"owner": {"reputation": 38514, "user_id": 394010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeeb400b9dfb7d0cd6fdcdfab9b84d6b?s=128&d=identicon&r=PG", "display_name": "Kato", "link": "https://stackoverflow.com/users/394010/kato"}, "edited": false, "score": 0, "creation_date": 1425013212, "post_id": 28731549, "comment_id": 45796306, "body": "Hi Eric. That clears things up a bit. So I only see a 400/Bad Request when the JWT token is invalid. If you can figure out how to log the JWT token, you could <a href=\"http://jsfiddle.net/firebase/XDXu5/embedded/result/\" rel=\"nofollow noreferrer\">try parsing it manually</a> to see if it is in fact broken. My guess here is that this will turn out to be a) an SSL compatibility issue (since SSL V3 has been dropped recently) or b) a change in the Firebase token parsing that makes this lib incompatible."}], "answers": [{"comments": [{"owner": {"reputation": 435, "user_id": 1096852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c156ef3f41a99891877a8ea44918c3ff?s=128&d=identicon&r=PG", "display_name": "Kinka", "link": "https://stackoverflow.com/users/1096852/kinka"}, "edited": false, "score": 0, "creation_date": 1426173146, "post_id": 28918756, "comment_id": 46271776, "body": "Hello, MikeH. Have a look at the docs <a href=\"https://www.firebase.com/docs/web/guide/login/custom.html#section-rest-server-authentication\" rel=\"nofollow noreferrer\">here</a>. You are using a Firebase Secret and this will grant the server complete read and write access to the entire Firebase. In my opinion, the firebase secret used for granting user tokens, but not use directly, which may not so safe."}], "tags": [], "owner": {"reputation": 697, "user_id": 2900643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83144595d7fadfcd831c297f33c79b07?s=128&d=identicon&r=PG&f=1", "display_name": "MikeH", "link": "https://stackoverflow.com/users/2900643/mikeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1425754673, "creation_date": 1425754673, "answer_id": 28918756, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python/28918756#28918756", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>I found the same problem, and the problem seems to be that Firebase is rejecting the token that python-firebase builds (in FirebaseTokenGenerator).</p>\n\n<p>I don't know what is wrong with the token being generated, and given that I am happy to use the JWT token provided in the Secrets section of the Firebase Dashboard, this hack works for me:</p>\n\n<p>In firebase.py, class FirebaseAuthentication, right at the start of the get_user method, add an if clause:</p>\n\n<pre><code>def get_user(self):\n    if self.extra.get('explicitAuth') is None:\n            token = self.authenticator.create_token(self.extra)\n    else:\n            token = self.extra.get('explicitAuth')\n</code></pre>\n\n<p>Then when invoking the application provide the explicit token overriding the generated one:</p>\n\n<pre><code>auth = firebase.FirebaseAuthentication('Ignore', 'Ignore', extra={'explicitAuth': myToken})\napp = firebase.FirebaseApplication('https://mystuff.firebaseio.com/', auth)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 1096852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c156ef3f41a99891877a8ea44918c3ff?s=128&d=identicon&r=PG", "display_name": "Kinka", "link": "https://stackoverflow.com/users/1096852/kinka"}, "is_accepted": false, "score": 0, "last_activity_date": 1426173037, "creation_date": 1426173037, "answer_id": 29013445, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python/29013445#29013445", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>Maybe you should have a look at the docs <a href=\"https://www.firebase.com/docs/web/guide/login/custom.html\" rel=\"nofollow\">Custom Authentication</a></p>\n\n<p>The library you are using takes <a href=\"https://github.com/firebase/firebase-token-generator-python\" rel=\"nofollow\">python-firebase</a> to generate tokens.\nIn your code, </p>\n\n<pre><code>auth = firebase.FirebaseAuthentication('MY_FIREBASE_SECRET','myEmail@email.com')\n</code></pre>\n\n<p>it should be:</p>\n\n<pre><code>auth = firebase.FirebaseAuthentication('MY_FIREBASE_SECRET','myEmail@email.com', extra={'uid': '123'})\n</code></pre>\n\n<p>The param <code>extra</code> is the payload to create token and <code>uid</code> is a must as the github page says.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5708704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kQVtOBkSifg/AAAAAAAAAAI/AAAAAAAAAoY/2HJnyRkXdcc/photo.jpg?sz=128", "display_name": "Ian giestas pauli", "link": "https://stackoverflow.com/users/5708704/ian-giestas-pauli"}, "is_accepted": false, "score": 0, "last_activity_date": 1473644263, "creation_date": 1473644263, "answer_id": 39442345, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python/39442345#39442345", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>look at the file <code>firebase.py</code>, class <code>FirebaseApplication</code> function <code>_authenticate</code>: <br><br>\n        replace <code>'auth'</code> by <code>'auth_token'</code> in <code>params.update({'auth_token': user.firebase_auth_token})</code></p>\n\n<p>fixes this <code>HTTPError: 400 Client Error: Bad Request</code> error but don't fix all auth problems...</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3462559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6942efb29947f163617ed13538760a?s=128&d=identicon&r=PG&f=1", "display_name": "user3462559", "link": "https://stackoverflow.com/users/3462559/user3462559"}, "is_accepted": false, "score": 0, "last_activity_date": 1474961012, "last_edit_date": 1474961012, "creation_date": 1474957932, "answer_id": 39717556, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python/39717556#39717556", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>Let's try this, Go to Rules tab and set true</p>\n\n<pre><code>{\n  \"rules\": {\n    \".read\": \"true\",\n    \".write\": \"true\"\n  }\n}\n</code></pre>\n\n<p>Code\nfrom firebase import firebase</p>\n\n<pre><code>myFirebase = firebase.FirebaseApplication('https://MYFIREBASE.firebaseio.com', None)\n\nresult = myFirebase.get('/users', None) \nprint result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 5669176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4DgZ.jpg?s=128&g=1", "display_name": "Daniel Cort&#233;s", "link": "https://stackoverflow.com/users/5669176/daniel-cort%c3%a9s"}, "is_accepted": false, "score": 1, "last_activity_date": 1480365099, "creation_date": 1480365099, "answer_id": 40852915, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python/40852915#40852915", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>I'm using version 1.2 of the library and python 2.7<br>\nIn  <a href=\"https://github.com/ozgur/python-firebase/blob/master/examples/firebase_example.py\" rel=\"nofollow noreferrer\">here</a> there's an example on how to connect easily using auth.</p>\n\n<pre><code>import datetime\n\nfrom firebase.firebase import FirebaseApplication, FirebaseAuthentication\n\n\nif __name__ == '__main__':\n    SECRET = '12345678901234567890'\n    DSN = 'https://firebase.localhost'\n    EMAIL = 'your@email.com'\n    authentication = FirebaseAuthentication(SECRET,EMAIL, True, True)\n    firebase = FirebaseApplication(DSN, authentication)\n\n    firebase.get('/users', None,\n        params={'print': 'pretty'},\n        headers={'X_FANCY_HEADER': 'very fancy'})\n\ndata = {'name': 'Ozgur Vatansever', 'age': 26,\n    'created_at': datetime.datetime.now()}\n\nsnapshot = firebase.post('/users', data)\nprint(snapshot['name'])\n\ndef callback_get(response):\n    with open('/dev/null', 'w') as f:\n        f.write(response)\nfirebase.get_async('/users', snapshot['name'], callback=callback_get)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1ngzw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ngzw.png\" alt=\"This is a test app so there&#39;s no issue with the secret\"></a>\n<a href=\"https://i.stack.imgur.com/AuQQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AuQQR.png\" alt=\"And here is the proof of the data being uploaded\"></a>\nHope this helps!</p>\n"}], "owner": {"reputation": 271, "user_id": 4286092, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4d18982fddb809882153c822287c629?s=128&d=identicon&r=PG&f=1", "display_name": "eric", "link": "https://stackoverflow.com/users/4286092/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5177, "favorite_count": 1, "answer_count": 5, "score": 1, "last_activity_date": 1480365099, "creation_date": 1424906058, "last_edit_date": 1424988181, "question_id": 28731549, "link": "https://stackoverflow.com/questions/28731549/http-error-400-bad-request-to-firebase-using-python", "title": "HTTP Error 400: Bad request to Firebase using Python", "body": "<p>I am using the <a href=\"https://pypi.python.org/pypi/python-firebase/1.2\" rel=\"nofollow\">python-firebase library by Ozgur Vatansever</a>  for my program. </p>\n\n<p>I have previously been able to write/read data to my firebase, however with the introduction of authentication I cannot. Using:</p>\n\n<pre><code>from firebase import firebase\n\nauth = firebase.FirebaseAuthentication('MY_FIREBASE_SECRET','myEmail@email.com') \nmyFirebase = firebase.FirebaseApplication('https://MYFIREBASE.firebaseio.com', auth)\n\nresult = myFirebase.get('/users', None) \nprint result\n</code></pre>\n\n<p>Resulting in:</p>\n\n<pre><code>HTTPError: 400 Client Error: Bad Request\n</code></pre>\n\n<p>Conversely, using no authentication:</p>\n\n<pre><code> myFirebase = firebase.FirebaseApplication('https://MYFIREBASE.firebaseio.com', None)        \n result = myFirebase.get('/users', None)\n</code></pre>\n\n<p>works as expected. Any help in why I am getting this <code>HTTP error: 400</code>, when using authentication is greatly appreciated.</p>\n"}, {"tags": ["python", "beautifulsoup", "decode", "encode"], "comments": [{"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1424906470, "post_id": 28731537, "comment_id": 45749335, "body": "<a href=\"http://stackoverflow.com/questions/10514203/scraping-a-website-whose-encoding-is-iso-8859-1-instead-of-utf-8-how-do-i-store\" title=\"scraping a website whose encoding is iso 8859 1 instead of utf 8 how do i store\">stackoverflow.com/questions/10514203/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1424906717, "last_edit_date": 1424906717, "creation_date": 1424906375, "answer_id": 28731627, "question_id": 28731537, "link": "https://stackoverflow.com/questions/28731537/python-beautifulsoup-encode-decode-a-web-page/28731627#28731627", "title": "Python + BeautifulSoup + Encode/Decode a web page", "body": "<p>To implement the exact function you specify,</p>\n\n<pre><code>def myprint(text):\n    try: print text\n    except: print ''\n</code></pre>\n\n<p>However, you can likely do better than that.</p>\n\n<p><code>BeautifulSoup</code> gives you unicode; in particular, it handles the decoding for you, if the page's headers correctly describe it.  You say you don't care about encoding -- and yet, you do, if you want to <code>print</code> stuff to standard output, and indeed you're trying to do that.  If BS gets the encoding wrong but you know the right one, just use</p>\n\n<pre><code>soup = BeautifulSoup(markup, from_encoding=\"iso-8859-15\")\n</code></pre>\n\n<p>and take the now-correct supplied unicode from <code>soup</code>.  (If you do in fact need to encode, e.g for printing, please edit your Q accordingly!)</p>\n"}], "owner": {"reputation": 33, "user_id": 4376166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05375d79ab60390ac950ec05adfb7b99?s=128&d=identicon&r=PG&f=1", "display_name": "Sonoff", "link": "https://stackoverflow.com/users/4376166/sonoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1404, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424906717, "creation_date": 1424906000, "question_id": 28731537, "link": "https://stackoverflow.com/questions/28731537/python-beautifulsoup-encode-decode-a-web-page", "title": "Python + BeautifulSoup + Encode/Decode a web page", "body": "<p>Here are the facts :</p>\n\n<p>I want to scrape a particular text from a web page. This text is a price : 25\u20ac.\nI know from the source code that the web page is encoded in iso-8859-15.</p>\n\n<p>Right now I am using the windows cmd, but ultimately the code would be on a server.</p>\n\n<p>The ultimate goal is to record only the figure in a database, I don't care about the \u20ac symbol. That's why I only care about the iso-8859-15 DECODING, but not of any ENCODING ? I want my code to encode nothing if it can not encode... The command I am looking for (in my dreams) is the following : \"print if you can, and if you can not, print nothing\".</p>\n\n<p>As of today, my code is the following :</p>\n\n<pre><code>import codecs\nimport sys\nstreamWriter = codecs.lookup('iso-8859-15')[-1]\nsys.stdout = streamWriter(sys.stdout)\nimport requests\nfrom bs4 import BeautifulSoup\n\nurl = \"Some url\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.content)\n\nlinks = soup.find_all(\"a\")\nfor link in links:\n  print link.contents[0].text\n</code></pre>\n\n<p>But I am facing several erros with special symbols, like the \u20ac.</p>\n\n<p>I found a beginning of a solution, which could be to implement a new method called \"myprint\", which basically would do what I want, i.e. instead of exiting the code with an error, would continue with a printed'' (nothing) instead. But I was not able to find/do/write much more, any idea?</p>\n"}, {"tags": ["python", "svg", "vector-graphics"], "comments": [{"owner": {"reputation": 5458, "user_id": 3009562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwxZs.jpg?s=128&g=1", "display_name": "Slawa Eremin", "link": "https://stackoverflow.com/users/3009562/slawa-eremin"}, "edited": false, "score": 0, "creation_date": 1424947992, "post_id": 28731506, "comment_id": 45764398, "body": "There is a good tool -  Snap.svg, It is javascript library for svg. I think you will not find library for python, because svg is browser technology and all developers try to write libraries for frontend, not backend"}, {"owner": {"reputation": 1869, "user_id": 235207, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/71c12dcecdccfa8a1932476a4cd2da27?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/235207/josh"}, "reply_to_user": {"reputation": 5458, "user_id": 3009562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwxZs.jpg?s=128&g=1", "display_name": "Slawa Eremin", "link": "https://stackoverflow.com/users/3009562/slawa-eremin"}, "edited": false, "score": 0, "creation_date": 1424982408, "post_id": 28731506, "comment_id": 45786161, "body": "I&#39;ve looked through the Snap.svg docs, and it looks like a useful library, but pretty basic. I don&#39;t see anything in there about offsets, or any path manipulation at all."}, {"owner": {"reputation": 2669, "user_id": 339669, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b4eb67e27bd5e1075fa4659877d63d09?s=128&d=identicon&r=PG", "display_name": "kryptobs2000", "link": "https://stackoverflow.com/users/339669/kryptobs2000"}, "edited": false, "score": 0, "creation_date": 1443307840, "post_id": 28731506, "comment_id": 53442855, "body": "Ever find a solution Josh?"}, {"owner": {"reputation": 18570, "user_id": 988089, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/w1jCF.jpg?s=128&g=1", "display_name": "cuixiping", "link": "https://stackoverflow.com/users/988089/cuixiping"}, "edited": false, "score": 0, "creation_date": 1453476477, "post_id": 28731506, "comment_id": 57631880, "body": "Inkscape is opensouce, you can try to search in it&#39;s source code."}], "answers": [{"tags": [], "owner": {"reputation": 1032, "user_id": 1918127, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/P0mp4.jpg?s=128&g=1", "display_name": "AndyP", "link": "https://stackoverflow.com/users/1918127/andyp"}, "is_accepted": false, "score": 7, "last_activity_date": 1468195923, "creation_date": 1468195923, "answer_id": 38297550, "question_id": 28731506, "link": "https://stackoverflow.com/questions/28731506/svg-path-manipulation/38297550#38297550", "title": "SVG path manipulation", "body": "<p>There's a problem with this.  You can create a visual approximation (or a path approximating) the offset path, but the offset curve of a Bezier curve or elliptic arc will not in general be a Bezier curve or elliptic arc.</p>\n\n<p>That said, there are explicit instructions how to create a piecewise-linear approximation of such an offset curve in the README of the <a href=\"https://pypi.python.org/pypi/svgpathtools\" rel=\"noreferrer\">svgpathtools python module</a> (just follow the link and scroll down - it's the last example, \"An Advanced Application: Offsetting Paths\").</p>\n\n<p>Here's the code:</p>\n\n<pre><code>from svgpathtools import parse_path, Line, Path, wsvg\ndef offset_curve(path, offset_distance, steps=1000):\n    \"\"\"Takes in a Path object, `path`, and a distance,\n    `offset_distance`, and outputs an piecewise-linear approximation \n    of the 'parallel' offset curve.\"\"\"\n    nls = []\n    for seg in path:\n        ct = 1\n        for k in range(steps):\n            t = k / steps\n            offset_vector = offset_distance * seg.normal(t)\n            nl = Line(seg.point(t), seg.point(t) + offset_vector)\n            nls.append(nl)\n    connect_the_dots = [Line(nls[k].end, nls[k+1].end) for k in range(len(nls)-1)]\n    if path.isclosed():\n        connect_the_dots.append(Line(nls[-1].end, nls[0].end))\n    offset_path = Path(*connect_the_dots)\n    return offset_path\n\n\n\n# Examples:\npath1 = parse_path(\"m 288,600 c -52,-28 -42,-61 0,-97 \")\npath2 = parse_path(\"M 151,395 C 407,485 726.17662,160 634,339\").translated(300)\npath3 = parse_path(\"m 117,695 c 237,-7 -103,-146 457,0\").translated(500+400j)\npaths = [path1, path2, path3]\n\noffset_distances = [10*k for k in range(1,51)]\noffset_paths = []\nfor path in paths:\n    for distances in offset_distances:\n        offset_paths.append(offset_curve(path, distances))\n\n# Note: This will take a few moments\nwsvg(paths + offset_paths, 'g'*len(paths) + 'r'*len(offset_paths), filename='offsetcurves.svg')\n</code></pre>\n"}], "owner": {"reputation": 1869, "user_id": 235207, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/71c12dcecdccfa8a1932476a4cd2da27?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/235207/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2000, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1468195923, "creation_date": 1424905842, "question_id": 28731506, "link": "https://stackoverflow.com/questions/28731506/svg-path-manipulation", "title": "SVG path manipulation", "body": "<p>The Inkscape SVG editor has some neat path manipulation tools built in. One I'm particularly interested in accessing programmatically is the offset function, which (attempts to) create a path a fixed distance from an existing path, as depicted here (the black lines are offsets of the red line):</p>\n\n<p><img src=\"https://i.stack.imgur.com/Cgjow.png\" alt=\"path offset\"></p>\n\n<p>I'd like to be able to perform this operation from a Python program.</p>\n\n<p>Inkscape has rudimentary scripting support, but it basically only consists of calling non-interactive menu commands - For example, you can create a path that's inset or outset from an existing path, but only by exactly 1px or 10px, not by a user-specified amount. So that doesn't seem useful here.</p>\n\n<p>Is there a library or other tool from which I can do these sorts of path transformations (ideally to an SVG file) in Python?</p>\n"}, {"tags": ["python", "django", "navigation"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4607980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/907416392622123/picture?type=large", "display_name": "A Broken Cupcake", "link": "https://stackoverflow.com/users/4607980/a-broken-cupcake"}, "edited": false, "score": 0, "creation_date": 1424907972, "post_id": 28731696, "comment_id": 45749855, "body": "Thank you for your help. I have one more question if that is okay. It does not seem to like this line &#39;&quot;{% active request home %}&quot;&#39; The error: Exception Type: \tKeyError Exception Value: \t&#39;request&#39;"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 59, "user_id": 4607980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/907416392622123/picture?type=large", "display_name": "A Broken Cupcake", "link": "https://stackoverflow.com/users/4607980/a-broken-cupcake"}, "edited": false, "score": 0, "creation_date": 1424908245, "post_id": 28731696, "comment_id": 45749948, "body": "Hmm, I am not sure but it can be because <code>request</code> object is not available to templates by default. You should add the <code>django.core.context_processors.request</code> context processor to your <code>settings.py</code>. See <a href=\"http://stackoverflow.com/a/18254719/2011147\">stackoverflow.com/a/18254719/2011147</a>"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1424906654, "creation_date": 1424906654, "answer_id": 28731696, "question_id": 28731407, "link": "https://stackoverflow.com/questions/28731407/django-navigation-need-help-on-where-to-put-the-tags-py-file/28731696#28731696", "title": "django Navigation, need help on where to put the tags.py file", "body": "<p>You should create a <code>templatetags</code> package under your app folder and put the <code>tags.py</code> in it:</p>\n\n<pre><code>project_folder/\n    app_folder/\n        __init__.py\n        models.py\n        templatetags/\n            __init__.py\n            tags.py\n        views.py\n</code></pre>\n\n<p>Do not forget to include an empty <code>__init__.py</code> file in your <code>templatetags</code> directory otherwise Python interpreter will think that it is an ordinary directory, not a Python package. See <a href=\"https://docs.djangoproject.com/en/1.7/howto/custom-template-tags/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/howto/custom-template-tags/</a> for details.</p>\n"}], "owner": {"reputation": 59, "user_id": 4607980, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/907416392622123/picture?type=large", "display_name": "A Broken Cupcake", "link": "https://stackoverflow.com/users/4607980/a-broken-cupcake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 28731696, "answer_count": 1, "score": 1, "last_activity_date": 1424906654, "creation_date": 1424905466, "last_edit_date": 1495540894, "question_id": 28731407, "link": "https://stackoverflow.com/questions/28731407/django-navigation-need-help-on-where-to-put-the-tags-py-file", "title": "django Navigation, need help on where to put the tags.py file", "body": "<p>I was trying to do what Ben Liyanage answer to handing Navigation in Django using tags. Here is the link I was reading <a href=\"https://stackoverflow.com/questions/340888/navigation-in-django\">Navigation in django</a>.</p>\n\n<p>I was trying to use this in my project to learn how to do navigation in Django. When I opened my login.html for example I got the following error: \n'tags' is not a valid tag library: Template library tags not found, tried django.templatetags.tags,django.contrib.admin.templatetags.tags,django.contrib.staticfiles.templatetags.tags</p>\n\n<p>I am actually not sure where the tags.py file is supposed to go.\nHere is my file path and code:</p>\n\n<pre><code>## file path\n-- Main project folder\n  -- manage.py\n  -- .. other files ..\n  -- src\n     -- urls.py\n     -- .. other files ..\n  -- templates\n     -- base.html\n  -- app folder\n    -- templates\n       -- app name\n          -- index.html\n          -- login.html\n          -- register.html\n    -- tags.py\n    -- .. other files ..\n\n## urls.py\nfrom django.conf.urls import patterns, url\n\nfrom game import views\n\nurlpatterns = patterns('',\n    url(r'^$', views.index, name='index'),\n    url(r'^upload/$', views.upload_file, name='upload'),\n    url(r'^successful_upload/$', views.successful_upload, name='successful_upload'),\n    url(r'^play/$', views.play, name='play'),\n    url(r'^registration/$', views.register, name='register'),\n    url(r'^successful_registeration/$', views.successful_registeration, name='successful_registeration'),\n    url(r'^login/$', views.login, name='login'),\n    url(r'^logout/$', views.logout, name='logout')\n)\n\n## tags.py\nfrom django import template\n\nregister = template.Library()\n\n@register.tag\ndef active(parser, token):\n    import re\n    args = token.split_contents()\n    template_tag = args[0]\n    if len(args) &lt; 2:\n        raise template.TemplateSyntaxError, \"%r tag requires at least one argument\" % template_tag\n    return NavSelectedNode(args[1:])\n\nclass NavSelectedNode(template.Node):\n    def __init__(self, patterns):\n        self.patterns = patterns\n    def render(self, context):\n        path = context['request'].path\n        for p in self.patterns:\n            pValue = template.Variable(p).resolve(context)\n            if path == pValue:\n                return \"-active\"\n        return \"\"\n\n## base.html\n{% load tags %}\n{% url 'index' as home %}\n{% url 'upload' as upload %}\n{% url 'play' as play %}\n{% url 'register' as contact %}\n{% url 'login' as login %}\n\n&lt;div id=\"navigation\"&gt;\n    &lt;a class=\"{% active request home %}\" href=\"{{ home }}\"&gt;Home&lt;/a&gt;\n    &lt;a class=\"{% active request upload %}\" href=\"{{ upload }}\"&gt;Upload&lt;/a&gt;\n    &lt;a class=\"{% active request play %}\" href=\"{{ play }}\"&gt;Play&lt;/a&gt;\n    &lt;a class=\"{% active request contact %}\" href=\"{{ contact }}\"&gt;Contact&lt;/a&gt;\n    &lt;a class=\"{% active request login %}\" href=\"{{ login }}\"&gt;Login&lt;/a&gt;\n&lt;/div&gt;\n\n## login.html\n{% extends \"base.html\" %}\n{% if error_message %}&lt;p&gt;&lt;strong&gt;{{ error_message }}&lt;/strong&gt;&lt;/p&gt;{% endif %}\n&lt;form action=\"/game/login/\" method=\"post\"&gt;\n{% csrf_token %}\n&lt;table border='0'&gt;\n&lt;div class=\"fieldWrapper\"&gt;&lt;tr&gt;&lt;td&gt;\n        {{ form.user_name.errors }}&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;\n        &lt;label for=\"id_user_name\"&gt;User Name:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;\n        {{ form.user_name }}&lt;/td&gt;&lt;/tr&gt;\n    &lt;/div&gt;\n    &lt;div class=\"fieldWrapper\"&gt;&lt;tr&gt;&lt;td&gt;\n        {{ form.password.errors }}&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;tr&gt;&lt;td&gt;\n        &lt;label for=\"id_password\"&gt;Password:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;\n        {{ form.password }}&lt;/td&gt;&lt;/tr&gt;\n    &lt;/div&gt;\n&lt;/table&gt;\n&lt;input type=\"submit\" value=\"Login\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pygame", "pgu"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 3858537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/fgNyW.png?s=128&g=1", "display_name": "Donkyhotay", "link": "https://stackoverflow.com/users/3858537/donkyhotay"}, "is_accepted": false, "score": 0, "last_activity_date": 1425886265, "creation_date": 1425886265, "answer_id": 28937030, "question_id": 28731310, "link": "https://stackoverflow.com/questions/28731310/automatically-scrolling-down-in-pgu/28937030#28937030", "title": "Automatically scrolling down in PGU", "body": "<p>I found my own solution to this problem. I'm posting the answer for anyone else that might have this issue in the future. Here is my updated example code with the fix:</p>\n\n<pre><code>class ChatScreen:\n    def __init__(self):\n        self.desktop = gui.Desktop(theme=gui.Theme(\"data/themes/default/\"))\n        self.container = gui.Container(width=800,height=600)\n        self.chatinput = gui.Input(size=65)\n        self.chatdoc = gui.Document(width=1, height=10)\n        self.chatscroll = gui.ScrollArea(self.chatdoc,width=600,height=100,hscrollbar=False)\n\n        self.container.add(self.chatinput, 10, 550)\n        self.container.add(self.chatscroll, 10, 440)\n        self.desktop.init(self.container)\n\n    def chatmessage(self, message):\n        self.chatdoc.add(gui.Label(message))\n        self.chatdoc.br(1)\n        self.desktop.loop()\n        self.chatscroll.set_vertical_scroll(someint)\n</code></pre>\n\n<p>I found that set_vertical_scroll() forcibly sets where the scroll area is. By setting someint to a number greater then what the number of messages in the chat box it goes to the bottom. In a real working solution someint will need to be a variable that increases with the number of messages or there has to be a limit to the number of messages that are displayed (which is what I have done with my project).</p>\n"}], "owner": {"reputation": 75, "user_id": 3858537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/fgNyW.png?s=128&g=1", "display_name": "Donkyhotay", "link": "https://stackoverflow.com/users/3858537/donkyhotay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1425886265, "creation_date": 1424905110, "question_id": 28731310, "link": "https://stackoverflow.com/questions/28731310/automatically-scrolling-down-in-pgu", "title": "Automatically scrolling down in PGU", "body": "<p>I am using <a href=\"http://code.google.com/p/pgu\" rel=\"nofollow\">PGU</a> as a GUI for a game I am writing in python3 with pygame. This game is going to have multiplayer in it so I have been working on an in-game chat system. The chat system works and is displayed in a scroll area without problems however the scroll area does not scroll down automatically when new messages are received. This means every time there is a new message the user needs to scroll down manually to read the new messages. Does anyone know of a way to do this with PGU? Or does someone have recommendations for alternative way of doing this? Looking around on my own I found <a href=\"http://expertland.net/question/2da7o8yb19187u3253y4cb521qo6c40kv4/detail.html\" rel=\"nofollow\">this example</a> indicating it can be done however the code posted there doesn't seem to show the part I am looking for. Here is a dumbed down version of my own code. When a chat message is received then chatmessage is called automatically.</p>\n\n<pre><code>class ChatScreen:\n    def __init__(self):\n        self.desktop = gui.Desktop(theme=gui.Theme(\"data/themes/default/\"))\n        self.container = gui.Container(width=800,height=600)\n        self.chatinput = gui.Input(size=65)\n        self.chatdoc = gui.Document(width=1, height=10)\n        self.chatscroll = gui.ScrollArea(self.chatdoc,width=600,height=100,hscrollbar=False)\n\n        self.container.add(self.chatinput, 10, 550)\n        self.container.add(self.chatscroll, 10, 440)\n        self.desktop.init(self.container)\n\n    def chatmessage(self, message):\n        self.chatdoc.add(gui.Label(message))\n        self.chatdoc.br(1)\n</code></pre>\n"}, {"tags": ["python", "oracle", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 501334, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/dab1c0276f7a98a50db13235b0f749b9?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/501334/gaurav"}, "reply_to_user": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "edited": false, "score": 0, "creation_date": 1424909963, "post_id": 28732137, "comment_id": 45750461, "body": "Sure thing. But I will have to wait for 2 days before I could accept it."}], "tags": [], "owner": {"reputation": 177, "user_id": 501334, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/dab1c0276f7a98a50db13235b0f749b9?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/501334/gaurav"}, "is_accepted": true, "score": 4, "last_activity_date": 1424908968, "creation_date": 1424908968, "answer_id": 28732137, "question_id": 28731288, "link": "https://stackoverflow.com/questions/28731288/sqlalchemy-core-creating-copy-of-an-existing-table/28732137#28732137", "title": "Sqlalchemy - core - creating copy of an existing table", "body": "<p>Looks like I have solved my own question.</p>\n\n<p>The original table had three \"NOT NULL\" constraints (not explicitly named, so they were named \"<code>SYS_C00450822</code>\" etc), and one PK constraint (Named as, say, \"TABLE_PK\").</p>\n\n<p>When I was creating copy with just columns from original table, <strong>but not constraints</strong>, the new table was created with 4 constraints, all with system generated names like \"SYS_C00450822\".</p>\n\n<p>While dropping the constraints, sqlalchemy didn't get any \"name\" for the constraints, as mentioned in the question, and somewhere down the line, that caused problems in line  <code>lc_value = value.lower()</code> because the value (which I think is the \"name\", is null, of NoneType).</p>\n\n<p>So I changed the code to create new table with constraints too from the original table - but renaming the name of the constraint, so that it doesn't conflict with existing original table constraint).</p>\n\n<p>This created three \"NOT NULL\" CHECK constraint in the same way, but the PK constraint was now <strong>defined with name</strong>, say, \"TABLE_PK_2\".</p>\n\n<p>This then made safely through <code>DropConstraint</code> call.</p>\n\n<p>I know I shouldn't have to do all this just to create a new table with original table definition, but for now, this seems to work.</p>\n"}], "owner": {"reputation": 177, "user_id": 501334, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/dab1c0276f7a98a50db13235b0f749b9?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/501334/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1765, "favorite_count": 1, "accepted_answer_id": 28732137, "answer_count": 1, "score": 1, "last_activity_date": 1424908968, "creation_date": 1424905039, "question_id": 28731288, "link": "https://stackoverflow.com/questions/28731288/sqlalchemy-core-creating-copy-of-an-existing-table", "title": "Sqlalchemy - core - creating copy of an existing table", "body": "<p>I need to create a table based on an existing table in the same (Oracle) schema. I don't want to have any constraint on the new table, even if original table may have one or more.</p>\n\n<p>I have tried to create new table from the original table by using <code>column.copy()</code>, but for some reason, I am not able to drop the constraints after creating the new table in database.</p>\n\n<pre><code>def clone_table_approach_1(original_table, connection, metadata):\n    try:\n        new_table_name = original_table.name + '_sync'\n        columns = [c.copy() for c in original_table.columns]\n        new_table = Table(new_table_name, metadata, quote=False, *columns)\n\n        # Create table in database\n        if not new_table.exists():\n            new_table.create()\n        else:\n            raise Exception(\"New table already exists\")\n\n        # Remove constraints from new table if any\n        for constraint in new_table.constraints:\n            connection.execute(DropConstraint(constraint))\n\n        # Return table handle for newly created table\n        final_cloned_table = Table(new_table, metadata, quote=False)\n        return final_cloned_table\n\n    except:\n        # Drop if we did create a new table\n        if new_table.exists():\n            new_table.drop()\n        raise\n</code></pre>\n\n<p>This fails while dropping the constraints. It seems sqlalchemy is not aware of names of the constraints created on new table in the database. I can see the new table with constraint names like \"SYS_C00450822\" and \"SYS_C00450823\" (these are NOT NULL check constraints).</p>\n\n<p>Exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/gaurav/myprojects/python/sync/test_table_copy.py\", line 163, in &lt;module&gt;\n    t_product_new = clone_table_approach_1(t_product, target_conn, target_metadata)\n  File \"/home/gaurav/myprojects/python/sync/test_table_copy.py\", line 57, in clone_table_approach_1\n    connection.execute(DropConstraint(constraint))\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/engine/base.py\", line 729, in execute\n    return meth(self, multiparams, params)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/ddl.py\", line 69, in _execute_on_connection\n    return connection._execute_ddl(self, multiparams, params)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/engine/base.py\", line 777, in _execute_ddl\n    compiled = ddl.compile(dialect=dialect)\n  File \"&lt;string&gt;\", line 1, in &lt;lambda&gt;\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/elements.py\", line 493, in compile\n    return self._compiler(dialect, bind=bind, **kw)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/ddl.py\", line 27, in _compiler\n    return dialect.ddl_compiler(dialect, self, **kw)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 199, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 222, in process\n    return obj._compiler_dispatch(self, **kwargs)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/visitors.py\", line 80, in _compiler_dispatch\n    return meth(self, **kw)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 2518, in visit_drop_constraint\n    self.preparer.format_constraint(drop.element),\n  File \"&lt;string&gt;\", line 1, in &lt;lambda&gt;\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 2928, in format_constraint\n    return self.quote(constraint.name)\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 2893, in quote\n    if self._requires_quotes(ident):\n  File \"/home/gaurav/.local/lib/python3.4/site-packages/sqlalchemy/sql/compiler.py\", line 2864, in _requires_quotes\n    lc_value = value.lower()\nAttributeError: 'NoneType' object has no attribute 'lower'\n</code></pre>\n\n<p>Is there any other better approach to this?</p>\n"}, {"tags": ["python", "network-programming", "twisted"], "answers": [{"tags": [], "owner": {"reputation": 45723, "user_id": 18243, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/607cfd4a5b41fe6c886c978128b9c03e?s=128&d=identicon&r=PG", "display_name": "Jean-Paul Calderone", "link": "https://stackoverflow.com/users/18243/jean-paul-calderone"}, "is_accepted": true, "score": 2, "last_activity_date": 1424907947, "creation_date": 1424907947, "answer_id": 28731967, "question_id": 28731250, "link": "https://stackoverflow.com/questions/28731250/python-twisted-read-from-file-and-send-as-tcp-server/28731967#28731967", "title": "Python Twisted: read from file and send as TCP server", "body": "<p>Twisted's documentation includes information about how <a href=\"https://twistedmatrix.com/documents/current/core/howto/servers.html\" rel=\"nofollow\">to run a TCP server</a>.  It also includes an information about how <a href=\"https://twistedmatrix.com/documents/current/core/howto/time.html\" rel=\"nofollow\">to perform work based on the passage of time</a>.  This should cover most of what you need to know.</p>\n"}, {"comments": [{"owner": {"reputation": 29455, "user_id": 13564, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e1554622707bedd9202884900430b838?s=128&d=identicon&r=PG", "display_name": "Glyph", "link": "https://stackoverflow.com/users/13564/glyph"}, "edited": false, "score": 1, "creation_date": 1425083420, "post_id": 28748357, "comment_id": 45831284, "body": "This should be a new question. I&#39;d answer your question about LoopingCall and web clients, except there&#39;s not much room for an answer in this tiny comment box ;)."}], "tags": [], "owner": {"reputation": 1078, "user_id": 1116171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dddecb811dcb3e78aacc97ba4b645918?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1116171/charlie"}, "is_accepted": false, "score": 1, "last_activity_date": 1424970105, "creation_date": 1424970105, "answer_id": 28748357, "question_id": 28731250, "link": "https://stackoverflow.com/questions/28731250/python-twisted-read-from-file-and-send-as-tcp-server/28748357#28748357", "title": "Python Twisted: read from file and send as TCP server", "body": "<p>Jean-Paul,</p>\n\n<p>thanks for your answer.\nBelow is what i put together. The program is sending strings with time stamps to one or more clients connected to the server. Read synchronously from file in this scenario is very simple so i just use a fixed string with the time stamp. </p>\n\n<p>My next step is to substitute the datetime.datetime.now() function call with a call to web service. Basically what i would like to create is kind of proxy that is </p>\n\n<ul>\n<li><p>client versus a web service and invoke it every x seconds to get the data</p></li>\n<li><p>TCP server versus a set of clients to stream data continuously, or better to say once a new data chunk is available (as is doing the example below)</p></li>\n</ul>\n\n<p>The questions are:</p>\n\n<p>Can you point me to an example of a similar system?</p>\n\n<p>How can I combine the runEverySecond() method call with an asynchronous call to the web service using TCPClient capability of Twisted?</p>\n\n<p>Thanks</p>\n\n<p>C</p>\n\n<pre><code>from twisted.internet import protocol, reactor\nfrom twisted.internet import task\nimport datetime\n\nclass Stream(protocol.Protocol):\n    def __init__(self, f):\n        self.factory = f\n\n    def connectionMade(self):\n        self.start = True\n\n    def forward(self, data):\n        if self.start:\n            self.transport.write(data)\n\n\nclass StreamFactory(protocol.Factory):\n    def __init__(self):\n        self.connections = []\n\n    def buildProtocol(self, addr):\n        s = Stream(self)\n        self.connections.append( s )\n        return s\n\n    def runEverySecond(self):\n        for c in self.connections:\n            c.forward( str(datetime.datetime.now()) )\n\n\nf = StreamFactory()\nl = task.LoopingCall(f.runEverySecond)\nl.start(1.0) # call every second\nreactor.listenTCP(8000, f)\nreactor.run()\n</code></pre>\n"}], "owner": {"reputation": 1078, "user_id": 1116171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dddecb811dcb3e78aacc97ba4b645918?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1116171/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "accepted_answer_id": 28731967, "answer_count": 2, "score": 1, "last_activity_date": 1424970105, "creation_date": 1424904852, "question_id": 28731250, "link": "https://stackoverflow.com/questions/28731250/python-twisted-read-from-file-and-send-as-tcp-server", "title": "Python Twisted: read from file and send as TCP server", "body": "<p>I am completely new to Twisted, but it looks very promising for my project.</p>\n\n<p>I would like to write a Python Twisted application which reads a record from text file every x seconds and contemporary listen on a TCP port (acting as TCP server). If no clients are connected to the TCP server the records are just discarded. If one or more clients are connected to the TCP server, the records are sent to all clients (all clients will receive the same line of the text file)</p>\n\n<p>Can Twisted make this possible with a reasonable amount of LOCs?</p>\n\n<p>Could anybody suggest an example to start with?</p>\n\n<p>Thanks\nC</p>\n"}, {"tags": ["python", "unicode", "magic-methods", "coercion"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424951770, "post_id": 28731249, "comment_id": 45766716, "body": "you cannot create a directory if it already exists"}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424989498, "post_id": 28731249, "comment_id": 45789589, "body": "I should have explained what the output of the second editing means: Line 29 in main.py is the second call of obj.use_directory() (not the first one). In this call /tmp/dir2 should be created, but the argument passed to os.mkdir() according to the error message &quot;File exists: &#39;/tmp/dir1&#39;&quot; shows that somehow (can anyone explain why?) is again /tmp/dir1."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424989832, "post_id": 28731249, "comment_id": 45789758, "body": "What is still unclear to me is, what happens inside os.mkdir() (there is no Python source code for this method)? If the implementation of mkdir(path) would do something similar to unicode(path), then the __unicode__() method from my StringRef class should have returned its attribute __string."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424991208, "post_id": 28731249, "comment_id": 45790358, "body": "are you expecting <code>directory.set_value(&quot;&#47;tmp&#47;dir2&quot;)</code> to change the value of the string passed to SomeClass?"}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424996523, "post_id": 28731249, "comment_id": 45792125, "body": "SomeClass has a reference to the StringRef directory. directory.set_value(&quot;/tmp/dir2&quot;) changes directory.__string. I&#39;m expecting that the call of os.mkdir(self.__directory) results inside the implementation of mkdir() in a call of one of the magic methods of StringRef. If I know which magic method this is, than I can override it to return directory.__string)."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1424998553, "post_id": 28731249, "comment_id": 45792708, "body": "whoa!  that StringRef of yours is definitely missing the point.  Just leave all those things to the superclass.  As to not blowing up on the mkdir, that is neither os.mkdir, nor StringRef&#39;s business.  you can wrap your call in a &quot;if not os.path.exists()&quot; or do a try/catch, either approach works.  btw, am guessing os.mkdir is out-sourced to... the OS itself via a C-level call."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1424998748, "post_id": 28731249, "comment_id": 45792766, "body": "a long time ago, someone reviewed the failed efforts at writing the Chandler PIM in Python.  He said something like &quot;the problem of the Chandler team is that they were using Python to write Java code, rather than writing code as Python&quot;.  don&#39;t overcomplicate your implementation."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1424999181, "post_id": 28731249, "comment_id": 45792911, "body": "last, but not least, strings are immutable, so having a set_value on a string instance doesn&#39;t make a lot of sense.  create a new StringRef for /tmp/dir2 and use that instead."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "reply_to_user": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1425302925, "post_id": 28731249, "comment_id": 45893916, "body": "@JLPeyret: I cannot leave the magic methods to the superclass, because the superclass does not use self.__string and has no set_value() functionality. I don&#39;t want to have an immutable string or multiple instances of StringRef, but just one instance the string value of which can be changed centrally, so that the next usage of the StringRef instance in a context that expects a string would return the new value."}], "answers": [{"comments": [{"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424906929, "post_id": 28731614, "comment_id": 45749512, "body": "no, didn&#39;t think it was very important to mkdir.  oh, well, easily remedied anyway.  fwiw, I started with your exact same answer, then I thought &quot;why not subclass the built-in?&quot;"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424907366, "post_id": 28731614, "comment_id": 45749666, "body": "I did not read too far into the question, I just saw a method not being called and the OP expecting something actually magic to happen. I deleted my answer so you might explain the difference between actually calling a method and just having the method in your class."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424907431, "post_id": 28731614, "comment_id": 45749697, "body": "you shouldn&#39;t have.  there might be many cases in which subclassing the unicode or str is not appropriate and your answer would be more suitable under those conditions."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424907524, "post_id": 28731614, "comment_id": 45749737, "body": "To be honest I don&#39;t fully get what the OP is trying to do."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424909532, "post_id": 28731614, "comment_id": 45750337, "body": "@PadraicCunningham: If I had to guess, I&#39;d say OP is creating a bad copy of 3.4+&#39;s <code>pathlib</code>."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1424942231, "post_id": 28731614, "comment_id": 45760651, "body": "@PadraicCunningham: Sorry, I should make it more clear what I&#39;m trying to do:"}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1424942822, "post_id": 28731614, "comment_id": 45761063, "body": "In an existing code base, where a certain variable is currently passed into lots of objects as constructor argument, I want to replace the value of this variable, which is currently of type str by a value of type MyClass, so that current usages of this variable (&quot;%s&quot; % myvar, myvar + &quot;somestring&quot; and os.mkdir(myvar)) still work, but additionally MyClass shall be something like a string reference:"}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1424942882, "post_id": 28731614, "comment_id": 45761104, "body": "After creating all those objects where myvar was passed into their constructors, I want to be able to centrally change the string value of myvar, so that subsequent method calls on those objects will all use the new string value."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1424946335, "post_id": 28731614, "comment_id": 45763299, "body": "@JLPeyret: Thanks for the idea of inheriting MyClass from unicode/str. This change applied to the StringRef example code solves my problem."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1424947273, "post_id": 28731614, "comment_id": 45763909, "body": "@JLPeyret: Update: I have tried the idea of inheriting StringRef from str/unicode. It avoids the TypeError, but mkdir() does not use StringRef.__string."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1425009373, "post_id": 28731614, "comment_id": 45795281, "body": "well, if you want to pass in a variable and use it in-place, but switch it around then behind the scenes then you probably can&#39;t use a subclass of string, because strings are immutable.  that&#39;s why Padraic shouldn&#39;t have deleted his answer.  question: do <i>you</i> have access to modify the execution context of os.mkdir(&lt;your instance&gt;)?  if so, just use some variation of os.mkdir(obj()) or os.mkdir(&quot;%s&quot; % obj)."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1425009722, "post_id": 28731614, "comment_id": 45795367, "body": "i know that SO prefers to see code, but in this case, maybe you should instead start out by describing what you are trying to solve and what your constraints are.  because my answer about subclassing string was not predicated on what seems to be your actual requirements, although it meets your original formulation.  if you don&#39;t control how os.mkdir is called say so.  and if you want to switch values around behind the scenes and have os.mkdir &quot;fooled&quot;, say so.  best done in the actual question, not in the comments.  it might be that monkey-patching os.mkdir is a better approach, not sure."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1425303645, "post_id": 28731614, "comment_id": 45894388, "body": "@JLPeyret: Yes, changing the execution context of os.mkdir() and all other kind of usages of &quot;directory&quot; would be the best option, because it would make the StringRef implementation trivial. But my question was exactly about avoiding that effort, because the number of locations where &quot;directory&quot; is used is high, so I wanted to know, whether it could be done by replacing the str type of directory by a custom class (StringRef)."}, {"owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "edited": false, "score": 0, "creation_date": 1425303650, "post_id": 28731614, "comment_id": 45894393, "body": "Monkey patching might be less effort than changing all execution contexts, because it would need a patch only for each type of execution context (os.mkdir(), &quot;string&quot; + StringRef, StringRef + &quot;string&quot;, ...). And I don&#39;t know if monkey patching can achieve what __add__() and __radd__() can do."}], "tags": [], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "is_accepted": false, "score": 1, "last_activity_date": 1424906896, "last_edit_date": 1424906896, "creation_date": 1424906323, "answer_id": 28731614, "question_id": 28731249, "link": "https://stackoverflow.com/questions/28731249/os-mkdirmyclass-typeerror-coercing-to-unicode-magic-method/28731614#28731614", "title": "os.mkdir(MyClass()), TypeError: coercing to Unicode, magic method", "body": "<p>since you want this puppy to behave like a string, sorry unicode, just subclass it from unicode (the inbuilt unicode class) instead of object.</p>\n\n<pre><code>#as per Padraic's remark that string &lt;&gt; unicode\n#class MyClass(str):\n\nclass MyClass(unicode):\n    pass\n\n\nobj = MyClass(\"/tmp/dir\")\nprint unicode(obj)\nos.mkdir(obj)\n\n#surprised that assigning a new attribute here works\n#I woulda thought MyClass\n#would be using __slots__.  oh well, better for you.\nobj.foo = 1\nprint \"obj.foo:%s\" % (obj.foo)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "is_accepted": false, "score": 0, "last_activity_date": 1425010793, "creation_date": 1425010793, "answer_id": 28757466, "question_id": 28731249, "link": "https://stackoverflow.com/questions/28731249/os-mkdirmyclass-typeerror-coercing-to-unicode-magic-method/28757466#28757466", "title": "os.mkdir(MyClass()), TypeError: coercing to Unicode, magic method", "body": "<p>what about this?</p>\n\n<p>(file is testmkdir2.py)\n    import os</p>\n\n<pre><code>class MonkeyPatch(object):\n    def __init__(self):\n        self.func = os.mkdir\n\n    def __call__(self, sortastring):\n        if hasattr(sortastring,\"value\"):\n            self.func(sortastring.value)\n        else:\n            self.func(sortastring)\n\nmk = MonkeyPatch()\n\nos.mkdir = mk\n\nos.mkdir(\"/tmp/foo\")\n\nclass Dummy(object):\n    pass\n\nsneakystring = Dummy()\n\nsneakystring.value = \"/tmp/foo2\"\n\nos.mkdir(sneakystring)\n\nsneakystring.value = \"/tmp/foo3\"\n\nos.mkdir(sneakystring)\n</code></pre>\n\n<p>$ ls -l /tmp/ | grep foo\n$</p>\n\n<p>$python testmkdir2.py </p>\n\n<p>$ ls /tmp/ | grep foo</p>\n\n<p>drwxr-xr-x  2 jluc        wheel   68 26 Feb 20:19 foo</p>\n\n<p>drwxr-xr-x  2 jluc        wheel   68 26 Feb 20:19 foo2</p>\n\n<p>drwxr-xr-x  2 jluc        wheel   68 26 Feb 20:19 foo3</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "is_accepted": false, "score": 0, "last_activity_date": 1425304545, "creation_date": 1425304545, "answer_id": 28811556, "question_id": 28731249, "link": "https://stackoverflow.com/questions/28731249/os-mkdirmyclass-typeerror-coercing-to-unicode-magic-method/28811556#28811556", "title": "os.mkdir(MyClass()), TypeError: coercing to Unicode, magic method", "body": "<p>I think the cleanest way to have a string reference that can have its value changed after having been passed to various objects is to use an object containing the string value and changing the execution contexts of the string reference to be different from how it would look like, if a string would be used instead of the string reference: The new execution contexts would be os.mkdir(s.value), \"string\" + s.value, s.value + \"string\" instead of os.mkdir(s), \"string\" + s, s + \"string\"):</p>\n\n<pre><code>class StringRef(object):\n    def __init__(self, value):\n        self.__value = value\n    @property\n    def value(self):\n        return self.__value\n    @value.setter\n    def value(self, val):\n        self.__value = val\n\nclass SomeClass(object):\n    def __init__(self, s):\n        self.__s = s\n    def meth(self):\n        print self.__s.value  # new execution context here\n\ndirectory = StringRef(\"/tmp\")\nobj = SomeClass(directory)\nobj.meth()\ndirectory.value = \"/var\"\nobj.meth()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4607899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f434e98f61fd69e7b302f62bc8c389a?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4607899/user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1432398117, "creation_date": 1424904850, "last_edit_date": 1432398117, "question_id": 28731249, "link": "https://stackoverflow.com/questions/28731249/os-mkdirmyclass-typeerror-coercing-to-unicode-magic-method", "title": "os.mkdir(MyClass()), TypeError: coercing to Unicode, magic method", "body": "<p>I want to write a class, an instance of which should be usable as an argument of os.mkdir(). Is there a magic method, which I could add to my class, so that this would work? The following implementation with __unicode__():</p>\n\n<p>main.py:</p>\n\n<pre><code>import os\n\nclass MyClass(object):\n    def __init__(self, string):\n        self.__string = string\n    def __unicode__(self):\n        return unicode(self.__string)\n\nobj = MyClass(\"/tmp/dir\")\nprint unicode(obj)\nos.mkdir(obj)\n</code></pre>\n\n<p>leads to the following error:</p>\n\n<pre><code>/tmp/dir\nTraceback (most recent call last):\n  File \"main.py\", line 11, in &lt;module&gt;\n    os.mkdir(obj)\nTypeError: coercing to Unicode: need string or buffer, MyClass found\n</code></pre>\n\n<p>I want to use instances of MyClass in contexts where otherwise a str or unicode is expected. E. g. in order to make \"abc\" + MyClass(\"def\") work, I can implement the __radd__() magic method in MyClass.</p>\n\n<p>Edited: New code example to explain my intention (MyClass from above corresponds to StringRef below):</p>\n\n<pre><code>import os\n\nclass StringRef(object):\n    def __init__(self, string):\n        self.__string = string\n    def set_value(self, value):\n        self.__string = value\n    def __str__(self):\n        return str(self.__string)\n    def __repr__(self):\n        return repr(self.__string)\n    def __unicode__(self):\n        return unicode(self.__string)\n    def __add__(self, other):\n        return self.__string + other\n    def __radd__(self, other):\n        return other + self.__string\n\nclass SomeClass(object):\n    def __init__(self, directory):\n        self.__directory = directory\n    def use_dir1(self):\n        print \"directory: %s\" % self.__directory\n    def use_dir2(self):\n        print \"subdirectory:\", self.__directory + \"/subdir\"\n    def use_dir3(self):\n        os.mkdir(self.__directory)\n        os.rmdir(self.__directory)\n\nprint \"* old *\"\ndirectory = \"/tmp/dir1\"\nobj = SomeClass(directory)  # more objects can be created like this\nobj.use_dir1()\ndirectory = \"/tmp/dir2\"  # has no effect on the created objects\nobj.use_dir1()\n\ndirectory = \"/tmp/dir1\"\nobj = SomeClass(directory)\nobj.use_dir2()\ndirectory = \"/tmp/dir2\"\nobj.use_dir2()\n\ndirectory = \"/tmp/dir1\"\nobj = SomeClass(directory)\nobj.use_dir3()\ndirectory = \"/tmp/dir2\"\nobj.use_dir3()\n\n\nprint \"* new *\"\ndirectory = StringRef(\"/tmp/dir1\")\nobj = SomeClass(directory)  # more objects can be created like this\nobj.use_dir1()\ndirectory.set_value(\"/tmp/dir2\")  # has effect on all created objects\nobj.use_dir1()\n\ndirectory = StringRef(\"/tmp/dir1\")\nobj = SomeClass(directory)\nobj.use_dir2()\ndirectory.set_value(\"/tmp/dir2\")\nobj.use_dir2()\n\ndirectory = StringRef(\"/tmp/dir1\")\nobj = SomeClass(directory)\nobj.use_dir3()\ndirectory.set_value(\"/tmp/dir2\")\nobj.use_dir3()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>* old *\ndirectory: /tmp/dir1\ndirectory: /tmp/dir1\nsubdirectory: /tmp/dir1/subdir\nsubdirectory: /tmp/dir1/subdir\n* new *\ndirectory: /tmp/dir1\ndirectory: /tmp/dir2\nsubdirectory: /tmp/dir1/subdir\nsubdirectory: /tmp/dir2/subdir\nTraceback (most recent call last):\n  File \"main.py\", line 65, in &lt;module&gt;\n    obj.use_dir3()\n  File \"main.py\", line 27, in use_dir3\n    os.mkdir(self.__directory)\nTypeError: coercing to Unicode: need string or buffer, StringRef found\n</code></pre>\n\n<p>2nd Edit: StringRef(unicode) avoids TypeError but does not create /tmp/dir2:</p>\n\n<pre><code>import os\n\nclass StringRef(unicode):\n    def __init__(self, string):\n        self.__string = string\n    def set_value(self, value):\n        self.__string = value\n    def __str__(self):\n        return str(self.__string)\n    def __repr__(self):\n        return repr(self.__string)\n    def __unicode__(self):\n        return unicode(self.__string)\n    def __add__(self, other):\n        return self.__string + other\n    def __radd__(self, other):\n        return other + self.__string\n\nclass SomeClass(object):\n    def __init__(self, directory):\n        self.__directory = directory\n    def use_directory(self):\n        os.mkdir(self.__directory)\n\ndirectory = StringRef(\"/tmp/dir1\")\nobj = SomeClass(directory)\nobj.use_directory()\ndirectory.set_value(\"/tmp/dir2\")\nobj.use_directory()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 29, in &lt;module&gt;\n    obj.use_directory()\n  File \"main.py\", line 23, in use_directory\n    os.mkdir(self.__directory)\nOSError: [Errno 17] File exists: '/tmp/dir1'\n</code></pre>\n"}, {"tags": ["python", "png", "zipfile"], "comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 3, "creation_date": 1424904893, "post_id": 28731242, "comment_id": 45748677, "body": "Are you sure you have correct path to the zip file?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1424906022, "post_id": 28731242, "comment_id": 45749145, "body": "Try <code>print os.path.isfile(&#39;filename_png.zip&#39;)</code>"}, {"owner": {"reputation": 47, "user_id": 4509375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa0ce41608253d96ffbe258ca4af3ae?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel Green", "link": "https://stackoverflow.com/users/4509375/rachel-green"}, "reply_to_user": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1424910929, "post_id": 28731242, "comment_id": 45750756, "body": "@Marcin I think so. If Peter&#39;s method came out false, does that mean it&#39;s wrong? Where can I fine the correct path? I&#39;ve already looked at the file&#39;s properties...."}, {"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1424911389, "post_id": 28731242, "comment_id": 45750880, "body": "@RachelGreen Try using absolute path instead of relative ones, e.g. &quot;C:/Users/something/something2/filename_png.zip&quot; if you in windows."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1424936829, "post_id": 28731242, "comment_id": 45758044, "body": "Try <code>print os.getcwd()</code>. This will show you where the script is looking for files. <code>cwd</code> is the <code>current working directory</code>. Or try <code>print os.path.abspath(&#39;filename_png.zip&#39;)</code> which shows you the full pathname Python uses to try and open the file, essentially <code>cwd + filename_png.zip</code>"}], "owner": {"reputation": 47, "user_id": 4509375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aa0ce41608253d96ffbe258ca4af3ae?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel Green", "link": "https://stackoverflow.com/users/4509375/rachel-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424905027, "creation_date": 1424904834, "question_id": 28731242, "link": "https://stackoverflow.com/questions/28731242/trying-to-open-a-zip-file-that-contains-png-pictures", "title": "Trying to Open a zip file that contains png pictures", "body": "<p>I've been having trouble opening a zip file that contains png images in it. I keep getting \"IOError: [Errno 2] No such file or directory: 'filename_png.zip'</p>\n\n<pre><code>    import zipfile\n    import os\n    archive = zipfile.ZipFile('filename_png.zip')\n    for f in archive.namelist():\n        if f.endswith('/'):\n            os.makedirs(f)\n</code></pre>\n\n<p>How do I make it so it loads the file and then I can load individual png pictures from said file?\nI appreciate your help!!</p>\n"}, {"tags": ["python", "django", "vagrant"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3115306"}, "edited": false, "score": 0, "creation_date": 1424909468, "post_id": 28731284, "comment_id": 45750323, "body": "Thanks for your answer, but in my vagrant file i have a variables, then, i try to add forwarded port via PuPHPpet and i try localhost;8001 and i have  unreachable web page"}], "tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": false, "score": 10, "last_activity_date": 1424905025, "creation_date": 1424905025, "answer_id": 28731284, "question_id": 28731197, "link": "https://stackoverflow.com/questions/28731197/how-start-server-django-in-the-vm-vagrant/28731284#28731284", "title": "How start server Django in the VM (Vagrant)", "body": "<p>You have to forward the port from Vagrant to your local machine. You can add a line like this to your Vagrantfile:</p>\n\n<pre><code>config.vm.network :forwarded_port, host: 8001, guest: 8000\n</code></pre>\n\n<p>And then run this in the Vagrant VM:</p>\n\n<pre><code>python manage.py runserver 0.0.0.0:8000\n</code></pre>\n\n<p>And on your host machine, go to <a href=\"http://localhost:8001\" rel=\"noreferrer\">http://localhost:8001</a> to view the webpage.</p>\n"}, {"comments": [{"owner": {"reputation": 2353, "user_id": 170309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a2a2d7fcd6a94c9ac13fce8a3ab067?s=128&d=identicon&r=PG", "display_name": "sfarbota", "link": "https://stackoverflow.com/users/170309/sfarbota"}, "edited": false, "score": 0, "creation_date": 1580019493, "post_id": 59915930, "comment_id": 105956549, "body": "Hi Sachin, welcome to SO! This answer appears to be very similar to the answer that was already accepted. Might it be a duplicate?"}, {"owner": {"reputation": 81, "user_id": 9380273, "user_type": "registered", "profile_image": "https://graph.facebook.com/861839937289565/picture?type=large", "display_name": "Sachin Shukla", "link": "https://stackoverflow.com/users/9380273/sachin-shukla"}, "reply_to_user": {"reputation": 2353, "user_id": 170309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7a2a2d7fcd6a94c9ac13fce8a3ab067?s=128&d=identicon&r=PG", "display_name": "sfarbota", "link": "https://stackoverflow.com/users/170309/sfarbota"}, "edited": false, "score": 0, "creation_date": 1580466068, "post_id": 59915930, "comment_id": 106114694, "body": "A lot of confusion about the solution that&#39;s I thought of posting it. Never intended for duplicate content"}], "tags": [], "owner": {"reputation": 81, "user_id": 9380273, "user_type": "registered", "profile_image": "https://graph.facebook.com/861839937289565/picture?type=large", "display_name": "Sachin Shukla", "link": "https://stackoverflow.com/users/9380273/sachin-shukla"}, "is_accepted": false, "score": 0, "last_activity_date": 1580018145, "creation_date": 1580018145, "answer_id": 59915930, "question_id": 28731197, "link": "https://stackoverflow.com/questions/28731197/how-start-server-django-in-the-vm-vagrant/59915930#59915930", "title": "How start server Django in the VM (Vagrant)", "body": "<p>Run python manage.py runserver 0:8000. It worked for me</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 6483379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEwnt.jpg?s=128&g=1", "display_name": "Mohammed Elzanaty", "link": "https://stackoverflow.com/users/6483379/mohammed-elzanaty"}, "is_accepted": false, "score": 0, "last_activity_date": 1604124841, "creation_date": 1604124841, "answer_id": 64618957, "question_id": 28731197, "link": "https://stackoverflow.com/questions/28731197/how-start-server-django-in-the-vm-vagrant/64618957#64618957", "title": "How start server Django in the VM (Vagrant)", "body": "<ol>\n<li><p>You have to forward the port from Vagrant to your local machine.</p>\n<p>config.vm.network :forwarded_port, host: 8001, guest: 8000</p>\n</li>\n<li><p>Yo need to add IP to ALLOWED_HOST in your setting.py file</p>\n<p>0.0.0.0 to the ALLOWED_HOSTS in your settings.py</p>\n</li>\n<li><p>Run Project</p>\n<p>python manage.py runserver 0.0.0.0:8000</p>\n</li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3115306"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2651, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1604124841, "creation_date": 1424904665, "question_id": 28731197, "link": "https://stackoverflow.com/questions/28731197/how-start-server-django-in-the-vm-vagrant", "title": "How start server Django in the VM (Vagrant)", "body": "<p>i want install Django in my VM created with PuPHPpet (Vagrant), then when i start the server with </p>\n\n<pre><code>python manage.py runserver \n</code></pre>\n\n<p>My project is normally available in 127.0.0.1:8000\nBut i have unreachable web page, then i try </p>\n\n<pre><code>python manage.py runserver ipvm:8000 and others ports\n</code></pre>\n\n<p>I have always unreachable web page\nSo, i have found in this forum </p>\n\n<pre><code>0.0.0.0:8000\n</code></pre>\n\n<p>And i have again unreachable web page, Why ? How can start my server in my VM ?</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "networkx"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1424930033, "post_id": 28731188, "comment_id": 45755594, "body": "Can you confirm whether the error Padraic pointed out fixes things?"}, {"owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1424930124, "post_id": 28731188, "comment_id": 45755621, "body": "@Joel It fixeed runtime error. But the nodes aren&#39;t being colored according to depth."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "edited": false, "score": 0, "creation_date": 1424906026, "post_id": 28731273, "comment_id": 45749150, "body": "Oops... I didn&#39;t see that. How do I handle the coloring problem - different colors based on depth ?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1424904988, "creation_date": 1424904988, "answer_id": 28731273, "question_id": 28731188, "link": "https://stackoverflow.com/questions/28731188/graph-rendering-error-and-type-error-in-python/28731273#28731273", "title": "Graph Rendering error and Type Error in Python", "body": "<p>Use parens not square brackets, <code>range</code> is a function:</p>\n\n<pre><code>for k in range(0,3): # &lt;- correct \n\nfor k in range[0,3]: # &lt; wrong\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424904988, "creation_date": 1424904604, "question_id": 28731188, "link": "https://stackoverflow.com/questions/28731188/graph-rendering-error-and-type-error-in-python", "title": "Graph Rendering error and Type Error in Python", "body": "<p>So, I got this code from <a href=\"http://mark-kay.net/blog/2014/08/15/generating-a-network-graph-of-twitter-followers-using-python-and-networkx/\" rel=\"nofollow\">here</a> - program 3 on how to generate a network graph. I have tweaked it so that each node which is at a certain distance from a graph is rendered in a different color</p>\n\n<pre><code>import networkx as net\nimport matplotlib.pyplot as plt\nfrom collections import defaultdict\nimport math\n#%matplotlib inline\n\ntwitter_network = [ line.strip().split('\\t') for line in file('twitter_network.csv') ]\n\no = net.DiGraph()\nhfollowers = defaultdict(lambda: 0)\nfor (twitter_user, followed_by, followers) in twitter_network:\n    o.add_edge(twitter_user, followed_by, followers=int(followers))\n    hfollowers[twitter_user] = int(followers)\n\nSEED = 'NitinJamadagni'\n#centre around the SEED node and set radius of graph\ng = net.DiGraph(net.ego_graph(o, SEED, radius=4))\n\n#modified trim functions\ndef trim_degrees_ted(g, degree=1):\n    g2 = g.copy()\n    d = net.degree(g2)\n    for n in g2.nodes():\n        if n == SEED: continue # don't prune the SEED node\n            if d[n] &lt;= degree:\n            g2.remove_node(n)\n\n    return g2\n\ndef trim_edges_ted(g, weight=1):\n    g2 = net.DiGraph()\n    for f, to, edata in g.edges_iter(data=True):\n        if f == SEED or to == SEED: # keep edges that link to the SEED node\n            g2.add_edge(f, to, edata)\n        elif edata['followers'] &lt;= weight:\n            g2.add_edge(f, to, edata)\n    return g2\n\nprint 'g: ', len(g)\ncore = trim_degrees_ted(g, degree=0)\nprint 'core after node pruning: ', len(core)\ncore = trim_edges_ted(core, weight=300)\nprint 'core after edge pruning: ', len(core)\n\nnodeset_types = { 0:'nil',1:'nil',2:'nil' }\nshit = net.shortest_path_length(o,SEED)\nnodesets = defaultdict(list)\n\nfor tt,ty in nodeset_types.iteritems():\n    nodesets[tt] = [ x[0] for x in shit.iteritems() if x[1]==int(tt) ]\n\n\npos = net.spring_layout(core) # compute layout\n\ncolours = ['yellow','red','green']\n\nplt.figure(figsize=(18,18))\nplt.axis('off')\n\ni = 0\n\n#different color for each node\nfor k in range[0,3]:\n    net.draw_networkx_nodes(core, pos, nodelist=[x[0] for x in shit.iteritems() if x[1] == k], node_size=int(10/(k+1)), node_color=colours[k])\n\n\nnet.draw_networkx_edges(core, pos, width=0.5, alpha=0.5)\n\nalphas = { 0: 1.0, 1: 0.5, 2: 0.5}\nfor k in nodesets.keys():\n    for n in nodesets[k]:\n        x, y = pos[n]\n        plt.text(x, y+0.02, s=n, alpha=alphas[k], horizontalalignment='center', fontsize=9)\n\nplt.savefig(\"path.png\")\n</code></pre>\n\n<p>On running - \n    python filename.py</p>\n\n<p>It gives me a graph with all nodes in yellow color and output on terminal</p>\n\n<pre><code>g:  142\ncore after node pruning:  142\ncore after edge pruning:  142\nNot TED 142\nTED 0\ncolourmap:  {'Not TED': 'yellow', 'TED': 'red'}\n</code></pre>\n\n<p>On running line by line in interpreter, I get error here - </p>\n\n<pre><code>  for k in range[0,3]:\n...     net.draw_networkx_nodes(core, pos, nodelist=[x[0] for x in shit.iteritems() if x[1] == k], node_size=int(10/(k+1)), node_color=colours[k])\n... \n\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: 'builtin_function_or_method' object has no attribute '__getitem__'\n</code></pre>\n\n<ul>\n<li>What is the error ? </li>\n<li>Why do I get 'TED' and 'Not TED' even though I don't have it anywehere in my program ? </li>\n<li>Any why is there no colours in a circle for nodes when it is interpreted line by line ?</li>\n</ul>\n"}, {"tags": ["python", "flask", "cassandra"], "comments": [{"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 1, "creation_date": 1424905768, "post_id": 28731133, "comment_id": 45749037, "body": "Try this: <a href=\"https://datastax.github.io/python-driver/api/cassandra/pool.html\" rel=\"nofollow noreferrer\">datastax.github.io/python-driver/api/cassandra/pool.html</a> Flask doesn&#39;t change too much in the equation :)"}, {"owner": {"reputation": 913, "user_id": 2549013, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2ab92d7bdb4f64f83b35232e35d42cc?s=128&d=identicon&r=PG", "display_name": "egerhard", "link": "https://stackoverflow.com/users/2549013/egerhard"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1424930808, "post_id": 28731133, "comment_id": 45755840, "body": "Thank you.  Is there a tutorial or example showing how to properly use this feature?  I have been looking around and have not been able to find anything other than the page you linked to."}, {"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1424959495, "post_id": 28731133, "comment_id": 45771511, "body": "If you share the <code>session = cluster.connect()</code> object you should be good. It will automatically pool for you."}, {"owner": {"reputation": 913, "user_id": 2549013, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2ab92d7bdb4f64f83b35232e35d42cc?s=128&d=identicon&r=PG", "display_name": "egerhard", "link": "https://stackoverflow.com/users/2549013/egerhard"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1425227930, "post_id": 28731133, "comment_id": 45866603, "body": "@Wolph I have tried this, it works for a short period of time, but then the Cassandra Driver will lose it&#39;s connection to the cluster and throw an error at every request.  The cluster is still up and if I restart uWSGI the web service will start functioning properly again."}, {"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1425230003, "post_id": 28731133, "comment_id": 45867363, "body": "I can&#39;t say I&#39;ve ever manually written a client for Cassandra, but looking at the <code>cqlengine</code> source they appear to have a reconnect method to solve this: <a href=\"https://github.com/cqlengine/cqlengine/blob/master/cqlengine/connection.py#L70\" rel=\"nofollow noreferrer\">github.com/cqlengine/cqlengine/blob/master/cqlengine/&hellip;</a> Not the prettiest solution but it does the trick"}, {"owner": {"reputation": 15342, "user_id": 1159472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ycpam.png?s=128&g=1", "display_name": "Lyuben Todorov", "link": "https://stackoverflow.com/users/1159472/lyuben-todorov"}, "edited": false, "score": 0, "creation_date": 1425421304, "post_id": 28731133, "comment_id": 45955236, "body": "@egerhard If you store the session object correctly it shouldn&#39;t loose its connection. Do you have your code on github so i can have a look at what&#39;s going on?"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 7690177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qhEu9.jpg?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/7690177/jai"}, "is_accepted": true, "score": 3, "last_activity_date": 1494922823, "creation_date": 1494922823, "answer_id": 43996042, "question_id": 28731133, "link": "https://stackoverflow.com/questions/28731133/cassandra-connection-pool-for-flask/43996042#43996042", "title": "Cassandra Connection Pool for Flask", "body": "<p>You should not create new connection on every request, rather you should create a connection object for each process.</p>\n\n<p>If you are running your flask application with uwsgi , I suggest to use @postfork decorator.\nSay - You are spawning 4 processes with uwsgi, then\none session for each process is created after the process is spawned.</p>\n\n<pre><code>from uwsgidecorators import postfork\nfrom cassandra.cluster import Cluster\nfrom cassandra.auth import PlainTextAuthProvider\nfrom cassandra.query import dict_factory\nfrom cassandra.policies import RoundRobinPolicy\n\nsession = None\nhosts=[\"127.0.0.1\",\"127.0.0.2\"]\nkeyspace=\"mykeyspace\"\n\ndef get_new_session():\n    global cluster\n    cluster = Cluster(hosts, protocol_version=4, auth_provider=auth_provider, control_connection_timeout=None,\n                  max_schema_agreement_wait=10, port=9042, load_balancing_policy=RoundRobinPolicy())\n    s = cluster.connect(keyspace)\n    s.row_factory = dict_factory\n    return s\n\n#initializing session in every process spawned by uwsgi\n@postfork\ndef connect():\n     global session\n     session = get_new_session() \n     session.row_factory = dict_factory\n</code></pre>\n"}], "owner": {"reputation": 913, "user_id": 2549013, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d2ab92d7bdb4f64f83b35232e35d42cc?s=128&d=identicon&r=PG", "display_name": "egerhard", "link": "https://stackoverflow.com/users/2549013/egerhard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3786, "favorite_count": 3, "accepted_answer_id": 43996042, "answer_count": 1, "score": 1, "last_activity_date": 1494922823, "creation_date": 1424904383, "question_id": 28731133, "link": "https://stackoverflow.com/questions/28731133/cassandra-connection-pool-for-flask", "title": "Cassandra Connection Pool for Flask", "body": "<p>I am working on a REST web service built with Flask which needs to query a Cassandra database.  The most expensive part of the logic is creating the connection to the Cassandra cluster.</p>\n\n<p>What do I need to do with Flask so that I do not have to create the connection to the Cluster on every request?</p>\n"}, {"tags": ["python", "python-3.x", "unicode", "normalization", "unicode-normalization"], "answers": [{"comments": [{"owner": {"reputation": 19714, "user_id": 340819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b3de81e79b2ad88d9a0d8d0a011a7f00?s=128&d=identicon&r=PG", "display_name": "Hammerite", "link": "https://stackoverflow.com/users/340819/hammerite"}, "edited": false, "score": 1, "creation_date": 1424955452, "post_id": 28739987, "comment_id": 45768938, "body": "How do I consult these properties from my Python code?"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1424946638, "creation_date": 1424946638, "answer_id": 28739987, "question_id": 28731079, "link": "https://stackoverflow.com/questions/28731079/how-can-i-check-the-quick-check-property-of-a-character-in-nfd-say/28739987#28739987", "title": "How can I check the &quot;Quick_Check&quot; property of a character (in NFD, say)?", "body": "<p>Like all Unicode data, you can find these properties in the Unicode character database.</p>\n\n<blockquote>\n  <p><a href=\"http://www.unicode.org/Public/UNIDATA/\" rel=\"nofollow\">http://www.unicode.org/Public/UNIDATA/</a></p>\n</blockquote>\n\n<p>The quick check properties are in the file <code>DerivedNormalizationProps.txt</code>.</p>\n\n<blockquote>\n  <p><a href=\"http://www.unicode.org/Public/UNIDATA/DerivedNormalizationProps.txt\" rel=\"nofollow\">http://www.unicode.org/Public/UNIDATA/DerivedNormalizationProps.txt</a></p>\n</blockquote>\n\n<p>More information about the database can be found in <a href=\"http://unicode.org/reports/tr44/\" rel=\"nofollow\">Unicode Standard Annex #44</a>.</p>\n\n<p>You should also make sure to use the same version of Unicode as <code>unicodedata.normalize</code>. Data files for older versions can be found here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.unicode.org/Public/\" rel=\"nofollow\">http://www.unicode.org/Public/</a></p>\n</blockquote>\n"}], "owner": {"reputation": 19714, "user_id": 340819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b3de81e79b2ad88d9a0d8d0a011a7f00?s=128&d=identicon&r=PG", "display_name": "Hammerite", "link": "https://stackoverflow.com/users/340819/hammerite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1442634819, "creation_date": 1424904181, "last_edit_date": 1442634819, "question_id": 28731079, "link": "https://stackoverflow.com/questions/28731079/how-can-i-check-the-quick-check-property-of-a-character-in-nfd-say", "title": "How can I check the &quot;Quick_Check&quot; property of a character (in NFD, say)?", "body": "<p><a href=\"http://unicode.org/reports/tr15/#Stable_Code_Points\" rel=\"nofollow\">Unicode Standard Annex #15</a> describes how each character in Unicode, for each of the four normalisation forms, has a \"Quick_Check\" value that aids in determining whether a given string is in that normalisation form. It goes on to describe, in section 9.1, how this \"Quick_Check\" value may be used to optimise the concatenation of a string onto a normalised string to produce another normalised string: normalisation need only be performed from the last \"stable\" character in the left-hand string onwards, where a character is \"stable\" if it has the \"Quick_Check\" property and has a canonical combining class of 0. This will generally be more efficient than re-running the normalisation algorithm on the entire concatenated string, if the strings involved are long.</p>\n\n<p>This means that we can concatenate like this: (here the parameter <code>s1</code> is assumed to be a string that we know is already in NFD, while <code>s2</code> is another string that is not necessarily normalised)</p>\n\n<pre><code>def concat (s1, s2):\n    LSCP = len(s1) # Last stable character position\n    while LSCP &gt; 0:\n        LSCP -= 1\n        if unicodedata.combining(s1[LSCP]) == 0 and has_nfd_qc(s1[LSCP]):\n            break\n    return s1[:LSCP] + unicodedata.normalize('NFD', s1[LSCP:] + s2)\n</code></pre>\n\n<p><code>unicodedata.combining()</code> allows us to find out the canonical combining class of a character. But how do we find out whether the character has the \"Quick_Check\" property for NFD? In other words, what should be substituted for <code>has_nfd_qc()</code> in the above?</p>\n"}, {"tags": ["python", "scripting", "syntax-error"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1424904257, "post_id": 28731050, "comment_id": 45748382, "body": "You are adding the strings, not the numbers. Also, where is the second <code>try</code> statement? I suggest pasting your actual code, instead of re-typing it, so it has no spelling- or indentation-errors or missing parts."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1424904328, "post_id": 28731050, "comment_id": 45748419, "body": "@tobias_k super new to programming, I have no idea what a second try statement is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1424904370, "post_id": 28731050, "comment_id": 45748435, "body": "What errors are you getting? Also, as @tobias_k states your code is invalid as there is no second <code>try</code> statement."}, {"owner": {"reputation": 1257, "user_id": 1232692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b491eaba0f986b1c172bbbeff9434654?s=128&d=identicon&r=PG", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1232692/kelvin"}, "edited": false, "score": 1, "creation_date": 1424904467, "post_id": 28731050, "comment_id": 45748489, "body": "also, you may want to bear in mind that this won&#39;t ever handle floats.  You can cast an int string as a float, but not a float string as an int."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424904504, "post_id": 28731050, "comment_id": 45748496, "body": "@LegoStormtroopr I tried with a couple of code editors, on said that value error was invalid syntax and one said that val had something missing or something. I can&#39;t remember the exact error and I can&#39;t check right now"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 1, "creation_date": 1424904535, "post_id": 28731050, "comment_id": 45748516, "body": "Yes, its saying you have invalid syntax, because your code is all wrong."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424904611, "post_id": 28731050, "comment_id": 45748555, "body": "@LegoStormtroopr that&#39;s why I&#39;m looking for help. Because I can&#39;t look this up because no one will have the same problem so I came here hoping someone could help"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1424904742, "post_id": 28731050, "comment_id": 45748620, "body": "Your IDE will tell you the exact line and character the syntax error is occuring at. If you look up the python documentation for how to write <code>try&#47;except</code> blocks you will find out what is wrong."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424904894, "post_id": 28731050, "comment_id": 45748678, "body": "@LegoStormtroopr this is the error I got File &quot;&lt;string&gt;&quot;, line 10     except ValueError:          ^ SyntaxError: invalid syntax"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1424904946, "post_id": 28731050, "comment_id": 45748708, "body": "Did you look at what is on line 10?"}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424904996, "post_id": 28731050, "comment_id": 45748731, "body": "@LegoStormtroopr yes but I don&#39;t know how to fix it. That&#39;s the reason this question is here"}, {"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1424905063, "post_id": 28731050, "comment_id": 45748759, "body": "you have a typo on <code>val2 = inf(num2)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424904917, "post_id": 28731203, "comment_id": 45748691, "body": "My error is: File &quot;&lt;string&gt;&quot;, line 10     except ValueError:          ^ SyntaxError: invalid syntax"}, {"owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "reply_to_user": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424905192, "post_id": 28731203, "comment_id": 45748816, "body": "It means you have a syntax error at line 10 in your script . Go through the python docs and check out the syntax , maybe indentation ???"}], "tags": [], "owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "is_accepted": false, "score": -1, "last_activity_date": 1424904687, "creation_date": 1424904687, "answer_id": 28731203, "question_id": 28731050, "link": "https://stackoverflow.com/questions/28731050/whats-wrong-with-maths-script/28731203#28731203", "title": "What&#39;s wrong with maths script?", "body": "<pre><code>num1 = input(\"Num1:\");\nnum2 = input(\"Num2:\");\n\ntry:\n  val = int(num1)\nexcept ValueError:\n   print(\"ERROR : Num1 is not a number!\")\n\n\ntry:\n  val = int(num1)\nexcept ValueError:\n   print(\"ERROR : Num2 is not a number!\")\n\nprint(\"Maths\")\nprint(num1 + num2)\n</code></pre>\n\n<p>What kind of errors were you getting ?\nBe sure to checkout python's syntax</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1424904870, "post_id": 28731209, "comment_id": 45748668, "body": "Why would you reward such a low-effort question with an answer?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424905046, "post_id": 28731209, "comment_id": 45748749, "body": "because I am far too nice"}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424905235, "post_id": 28731209, "comment_id": 45748826, "body": "Can someone please explain what I did wrong with the question. It&#39;s really bugging me that no one is pointing it out"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424905344, "post_id": 28731209, "comment_id": 45748862, "body": "@Chickenator if this answer hasn&#39;t answered your question why did you accept it? I&#39;ve put an explanation of your SyntaxError below."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 1, "creation_date": 1424905484, "post_id": 28731209, "comment_id": 45748926, "body": "@Chickenator you did lots wrong ... your indentation is broken ... you have syntax errors ... this is more of a learn2code answer ..."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424905811, "post_id": 28731209, "comment_id": 45749064, "body": "@JoranBeasley do you want me to just delete the question? Because all I&#39;m getting right now is answers I don&#39;t understand, down votes and if you&#39;re right then I&#39;m not getting an answer any time soon. Who would of thought it would be so hard to add 2 numbers."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424905942, "post_id": 28731209, "comment_id": 45749111, "body": "its not <code>print 5 + 3</code>"}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424906026, "post_id": 28731209, "comment_id": 45749149, "body": "Can you at least just tell me what I did wrong with the question? Because that could be useful for the future"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424906110, "post_id": 28731209, "comment_id": 45749180, "body": "its been covered ... you cannot have an <code>except</code> without  a <code>try</code> ... and you must have proper indentation you can run <code>python -tt my_script.py</code> and it will help you find indentaiton erros"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424906188, "post_id": 28731209, "comment_id": 45749219, "body": "Im not sure why the question got so many downvotes ... I didnt downvote it ... but there is an appearance of lack of effort ... also this looks like homework, and the answers almost certainly were covered in class at some point"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 3, "last_activity_date": 1424905026, "last_edit_date": 1424905026, "creation_date": 1424904717, "answer_id": 28731209, "question_id": 28731050, "link": "https://stackoverflow.com/questions/28731050/whats-wrong-with-maths-script/28731209#28731209", "title": "What&#39;s wrong with maths script?", "body": "<p>programming is all about breaking a (bigger) problem into smaller problems</p>\n\n<p>the first smaller problem you have is to get integer input.  a useful way to do this is abstracting the problem out</p>\n\n<pre><code>def get_integer(prompt=\"\"):\n    while True:\n         try:\n            return int(raw_input(prompt))\n         except:\n            print \"Invalid input. please try again\"\n</code></pre>\n\n<p>now you can simply call this method when you want an integer from the user</p>\n\n<pre><code>n1 = get_integer(\"Enter the first integer:\")\nn2 = get_integer(\"Enter The second integer:\")\n</code></pre>\n\n<p>next you must determine how to add those</p>\n\n<pre><code>import operator\ndef get_operation():\n    my_operators = {\"+\":operator.add,\"-\":operator.sub}\n    while True:\n          try:\n              return my_operators[raw_input(\"Enter a + or -:\")]\n          except KeyError:\n              print \"Invalid input!\"\n</code></pre>\n\n<p>now you can combine the 2 easily</p>\n\n<pre><code> n1 = get_integer(\"Enter the first integer:\")\n n2 = get_integer(\"Enter The second integer:\")\n print get_operation()(n1,n2)\n</code></pre>\n\n<p>you should see something like</p>\n\n<pre><code>&gt;&gt;&gt; n1 = get_integer(\"Enter the first integer:\")\nEnter the first integer:7\n&gt;&gt;&gt; n2 = get_integer(\"Enter The second integer:\")\nEnter The second integer:8\n&gt;&gt;&gt; print get_operation()(n1,n2)\nEnter a + or -:+\n15\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "edited": false, "score": 0, "creation_date": 1424905492, "post_id": 28731344, "comment_id": 45748930, "body": "I did it but I got this error:     File &quot;&lt;string&gt;&quot;, line 3     num1 = input(&quot;Num1:&quot;);        ^ IndentationError: expected an indented block    Which I don&#39;t really understand, any help?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424905527, "post_id": 28731344, "comment_id": 45748942, "body": "it means your indentation is busted"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1424905656, "post_id": 28731344, "comment_id": 45748983, "body": "That error is literally impossible based on the code you posted. The syntax in python is fundamentally tied to indentation so the smallest mistake will break your code."}, {"owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1424906095, "post_id": 28731344, "comment_id": 45749175, "body": "@JoranBeasley so I should start the code again differently?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": false, "score": 1, "last_activity_date": 1424905250, "creation_date": 1424905250, "answer_id": 28731344, "question_id": 28731050, "link": "https://stackoverflow.com/questions/28731050/whats-wrong-with-maths-script/28731344#28731344", "title": "What&#39;s wrong with maths script?", "body": "<p>The reason you are getting the error you are is a fundamental misunderstanding of how <a href=\"https://docs.python.org/3/tutorial/errors.html\" rel=\"nofollow\"><code>try/except</code> blocks work in Python</a>:</p>\n\n<pre><code>num1 = input(\"Num1:\");\nnum2 = input(\"Num2:\");\ntry:\n  val = int(num1)\nexcept ValueError:\n   print(\"ERROR : Num1 is not a number!\")\n\n   val2 = inf(num2)\n   except ValueError:\n     print(\"ERROR : Num2 is not a number!\")\nprint(\"Maths\");\nprint(num1 + num2);\n</code></pre>\n\n<p>Your error points to line 10:</p>\n\n<pre><code>   except ValueError:\n</code></pre>\n\n<p>An except block that has no corresponding <code>try</code> block. An <code>except</code> 'catches' errors that occur within a <code>try</code> block, so since there is no <code>try</code> for this <code>except</code> it is a \"Syntax Error\", which prevents the code from running.</p>\n\n<p>You can correct it by adding a <code>try</code> around where you cast <code>val2</code> as an integer like so:</p>\n\n<pre><code>try:\n    val2 = inf(num2)\nexcept ValueError:\n    print(\"ERROR : Num2 is not a number!\")\n</code></pre>\n\n<p>Of important note, this will not fix your code, as as people have stated <code>inf</code> is a function that isn't declared, and needs to be:</p>\n\n<pre><code>try:\n    val2 = int(num2)\nexcept ValueError:\n    print(\"ERROR : Num2 is not a number!\")\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4359864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-vkh2pdSCY_U/AAAAAAAAAAI/AAAAAAAAATI/kJTKTP7LvRc/photo.jpg?sz=128", "display_name": "Chickenator", "link": "https://stackoverflow.com/users/4359864/chickenator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1424906603, "creation_date": 1424904059, "last_edit_date": 1424905003, "question_id": 28731050, "link": "https://stackoverflow.com/questions/28731050/whats-wrong-with-maths-script", "title": "What&#39;s wrong with maths script?", "body": "<p>Sorry if this is a beginner mistake but... I'm a beginner. Here's the script:</p>\n\n<pre><code>num1 = input(\"Num1:\");\nnum2 = input(\"Num2:\");\n\ntry:\n  val = int(num1)\nexcept ValueError:\n   print(\"ERROR : Num1 is not a number!\")\n\n   val2 = inf(num2)\n   except ValueError:\n     print(\"ERROR : Num2 is not a number!\")\nprint(\"Maths\");\nprint(num1 + num2);\n</code></pre>\n\n<p>What the script is meant to do is add the two numbers and if they typed in something which isn't a number it says it's not a number.\nI keep getting errors but I don't know why. NOTE: this is Python.</p>\n\n<p>This is the error I got:</p>\n\n<blockquote>\n<pre><code>File \"&lt;string&gt;\", line 10\nexcept ValueError:\n^ SyntaxError: invalid syntax\n</code></pre>\n</blockquote>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1424904066, "post_id": 28730965, "comment_id": 45748277, "body": "<code>email</code> is the name of a built-in module that <code>requests</code> seems to rely on. It looks like <code>requests</code> tried to import <code>email</code>, got an error, and made a bad assumption about the cause of the error."}], "tags": [], "owner": {"reputation": 5655, "user_id": 20146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f69343158fb92a9a1d1c1725fd0cecf?s=128&d=identicon&r=PG", "display_name": "offby1", "link": "https://stackoverflow.com/users/20146/offby1"}, "is_accepted": false, "score": 1, "last_activity_date": 1424903989, "last_edit_date": 1424903989, "creation_date": 1424903621, "answer_id": 28730965, "question_id": 28730964, "link": "https://stackoverflow.com/questions/28730964/why-does-my-import-requests-fail-with-importerror-no-module-named-requests-p/28730965#28730965", "title": "Why does my &quot;import requests&quot; fail with ImportError: No module named &#39;requests.packages.urllib3&#39;?", "body": "<p>I can't even explain <em>why</em>, but the problem was due to my having a file named \"email.py\" in my current directory.  I renamed that to something else, and suddenly everything started working again.</p>\n\n<p>By sticking a \"breakpoint\" (i.e., a deliberate divide-by-zero error) into that file, we can see who was importing it:\n<code>\n(venv):) 14:36:46 [erichanchrow@Eric-Hanchrows-iMac rack_assigner] (refunds *)$ python -c 'import refund'\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"refund.py\", line 11, in &lt;module&gt;\n    import requests\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/__init__.py\", line 53, in &lt;module&gt;\n    from .packages.urllib3.contrib import pyopenssl\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/__init__.py\", line 63, in load_module\n    __import__(name)\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/urllib3/__init__.py\", line 10, in &lt;module&gt;\n    from .connectionpool import (\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py\", line 37, in &lt;module&gt;\n    from .request import RequestMethods\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/urllib3/request.py\", line 6, in &lt;module&gt;\n    from .filepost import encode_multipart_formdata\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/urllib3/filepost.py\", line 8, in &lt;module&gt;\n    from .fields import RequestField\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/urllib3/fields.py\", line 1, in &lt;module&gt;\n    import email.utils\n  File \"email.py\", line 11, in &lt;module&gt;\n    5/0\nZeroDivisionError: integer division or modulo by zero\n</code></p>\n"}], "owner": {"reputation": 5655, "user_id": 20146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f69343158fb92a9a1d1c1725fd0cecf?s=128&d=identicon&r=PG", "display_name": "offby1", "link": "https://stackoverflow.com/users/20146/offby1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1928, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1430923309, "creation_date": 1424903621, "last_edit_date": 1430923309, "question_id": 28730964, "link": "https://stackoverflow.com/questions/28730964/why-does-my-import-requests-fail-with-importerror-no-module-named-requests-p", "title": "Why does my &quot;import requests&quot; fail with ImportError: No module named &#39;requests.packages.urllib3&#39;?", "body": "<p>This has happened both on OS X, and Linux.  Unfortunately I don't have the exact repro steps, but that's OK because I'm about to answer my own question below.</p>\n\n<p>Here's a typical failure:</p>\n\n<pre><code>Python 2.7.6 (default, Sep  9 2014, 15:04:36) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import requests\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/__init__.py\", line 58, in &lt;module&gt;\n    from . import utils\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/utils.py\", line 26, in &lt;module&gt;\n    from .compat import parse_http_list as _parse_list_header\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/compat.py\", line 42, in &lt;module&gt;\n    from .packages.urllib3.packages.ordered_dict import OrderedDict\n  File \"/Users/erichanchrow/git-repositories/rack_assigner/venv/lib/python2.7/site-packages/requests/packages/__init__.py\", line 83, in load_module\n    raise ImportError(\"No module named '%s'\" % (name,))\nImportError: No module named 'requests.packages.urllib3'\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "string", "for-loop", "slice"], "comments": [{"owner": {"reputation": 590, "user_id": 4577697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153026586316980/picture?type=large", "display_name": "Tom Davidson", "link": "https://stackoverflow.com/users/4577697/tom-davidson"}, "edited": false, "score": 0, "creation_date": 1424903993, "post_id": 28730961, "comment_id": 45748245, "body": "Yes, they must be in order."}], "answers": [{"tags": [], "owner": {"reputation": 5183, "user_id": 3155195, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96fb82a06f0a269039e913211ac44fcd?s=128&d=identicon&r=PG&f=1", "display_name": "zehnpaard", "link": "https://stackoverflow.com/users/3155195/zehnpaard"}, "is_accepted": false, "score": 2, "last_activity_date": 1424904202, "creation_date": 1424904202, "answer_id": 28731085, "question_id": 28730961, "link": "https://stackoverflow.com/questions/28730961/python-slicing-string-in-three-character-substrings/28731085#28731085", "title": "Python: Slicing string in three-character substrings", "body": "<p>You should be able to just use slice notation in a for-loop:</p>\n\n<pre><code>for i in xrange(len(s1) - 2):\n    c = s1[i:i+3]\n    # do various operations here with c\n</code></pre>\n\n<p>Alternatively collect them in a list comprehension:</p>\n\n<pre><code>list1 = [s1[i:i+3] for i in xrange(len(s1) - 2)]\nn = 0\nfor c in list1:\n    if c in s2:\n        n += 1\nprint n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 1232692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b491eaba0f986b1c172bbbeff9434654?s=128&d=identicon&r=PG", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1232692/kelvin"}, "is_accepted": true, "score": 2, "last_activity_date": 1424904210, "creation_date": 1424904210, "answer_id": 28731089, "question_id": 28730961, "link": "https://stackoverflow.com/questions/28730961/python-slicing-string-in-three-character-substrings/28731089#28731089", "title": "Python: Slicing string in three-character substrings", "body": "<p>Try:</p>\n\n<pre><code>def subs():\n    string1 = 'abcdef'\n    string2 = 'abcijk'\n    subs = [string1[s:s+3] for s in range(len(string1)) if len(string1[s:s+3]) &gt; 2]\n    for s in subs:\n        print s, string2.count(s)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "is_accepted": false, "score": 1, "last_activity_date": 1424904760, "last_edit_date": 1424904760, "creation_date": 1424904345, "answer_id": 28731122, "question_id": 28730961, "link": "https://stackoverflow.com/questions/28730961/python-slicing-string-in-three-character-substrings/28731122#28731122", "title": "Python: Slicing string in three-character substrings", "body": "<p>Since you're gonna need to get the substrings for two different strings (your <code>string1</code> and <code>string2</code>), I'd move that slicing into a very simple function:</p>\n\n<pre><code>def substring(string):\n   return [ string[i:i+3] for i in range(len(string)) if i + 3 &lt;= len(string) ]\n</code></pre>\n\n<p>To compare and count, you can use the <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow\">list.count</a> method and combine it with your recently created <code>substring</code> function:</p>\n\n<pre><code>string1 = 'abcdef'\nstring2 = 'abcijk'\n[ (substr, substring(string2).count(substr)) for substr in substring(string1) ]\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>[('abc', 1), ('bcd', 0), ('cde', 0), ('def', 0)]\n</code></pre>\n"}], "owner": {"reputation": 590, "user_id": 4577697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10153026586316980/picture?type=large", "display_name": "Tom Davidson", "link": "https://stackoverflow.com/users/4577697/tom-davidson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2279, "favorite_count": 1, "accepted_answer_id": 28731089, "answer_count": 3, "score": 1, "last_activity_date": 1424904760, "creation_date": 1424903609, "question_id": 28730961, "link": "https://stackoverflow.com/questions/28730961/python-slicing-string-in-three-character-substrings", "title": "Python: Slicing string in three-character substrings", "body": "<p>I am attempting to slice a string into triplets based on the characters like this:</p>\n\n<pre><code>string1 = 'abcdef'\nsubstrings = 'abc', 'bcd', 'cde', 'def'\n</code></pre>\n\n<p>I then want to compare these 'triplets to a second string and count their occurrence:</p>\n\n<pre><code>string2 = 'abcijk'\nsubstrings of string1 in string2 = 1 ('abc').\n</code></pre>\n\n<p>I am trying to do this using a function:</p>\n\n<pre><code>def HowManyTriplets(s1, s2):\nn = 0\n    for c in s1:\n        print c + c[:2]\n    if c in s1 is c in s2:\n        n = n + 1\nreturn n\n</code></pre>\n\n<p>This code does not work because c[:2] does not get the two characters following any c (s1[:2] simply appends the first two characters of s1).</p>\n\n<p>How can I solve this to append the two characters that follow a character c to c, for example c = c + d + e</p>\n"}, {"tags": ["python", "list", "python-3.4"], "answers": [{"tags": [], "owner": {"reputation": 1257, "user_id": 1232692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b491eaba0f986b1c172bbbeff9434654?s=128&d=identicon&r=PG", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1232692/kelvin"}, "is_accepted": false, "score": 2, "last_activity_date": 1424903406, "creation_date": 1424903406, "answer_id": 28730903, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away/28730903#28730903", "title": "Python list: taking the brackets [] away", "body": "<p>Try:</p>\n\n<pre><code>print(','.join([str(num) for num in nums]))\n</code></pre>\n\n<p>Disclaimer: I only have 2.6 handy.  I'm hoping it translates directly to 3.4</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1424903616, "post_id": 28730908, "comment_id": 45748068, "body": "<code>s = &quot;,&quot;.join(map(str,nums))</code>"}], "tags": [], "owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "is_accepted": false, "score": 2, "last_activity_date": 1424903912, "last_edit_date": 1424903912, "creation_date": 1424903413, "answer_id": 28730908, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away/28730908#28730908", "title": "Python list: taking the brackets [] away", "body": "<p>Well, you may simply create a string by <a href=\"https://docs.python.org/2/library/string.html#string.join\" rel=\"nofollow\">joining</a> an iterable:</p>\n\n<pre><code>s = ', '.join(str(n) for n in nums)\nprint(s)\n</code></pre>\n\n<p>Edit: casting to string is required.</p>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1424903469, "post_id": 28730911, "comment_id": 45748003, "body": "Or:  <code>str(nums)[1:-1]</code>"}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1424903785, "post_id": 28730911, "comment_id": 45748147, "body": "@mgilson, yeah, this works too. I think it is different enough from my answer to be a separate answer. Depending on OPs desired result on nested lists, my solution would remove all the brackets."}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "reply_to_user": {"reputation": 13, "user_id": 4607924, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206478066817511/picture?type=large", "display_name": "Ashley Lynn Carpenter", "link": "https://stackoverflow.com/users/4607924/ashley-lynn-carpenter"}, "edited": false, "score": 0, "creation_date": 1424905625, "post_id": 28730911, "comment_id": 45748972, "body": "@AshleyLynnCarpenter, you must be using python 3, I&#39;ll update my answer."}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 2, "last_activity_date": 1424905640, "last_edit_date": 1424905640, "creation_date": 1424903428, "answer_id": 28730911, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away/28730911#28730911", "title": "Python list: taking the brackets [] away", "body": "<pre><code>In [79]: nums = [1,2,3,4,5]\n\nIn [80]: print str(nums).replace('[','').replace(']','')\n1, 2, 3, 4, 5\n</code></pre>\n\n<p>In python 3:</p>\n\n<pre><code>In [3]: print (str(nums).replace('[','').replace(']',''))\n1, 2, 3, 4, 5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1424903555, "post_id": 28730925, "comment_id": 45748039, "body": "How about <code>print(*lst, sep=&#39;, &#39;)</code> -- That&#39;ll get those commas back in there like OP wants.  :-)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2555451"}, "edited": false, "score": 1, "creation_date": 1424904049, "post_id": 28730925, "comment_id": 45748265, "body": "<code>from __future__ import print_function</code> will make this work in Python 2.x."}], "tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": true, "score": 5, "last_activity_date": 1424903779, "last_edit_date": 1424903779, "creation_date": 1424903476, "answer_id": 28730925, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away/28730925#28730925", "title": "Python list: taking the brackets [] away", "body": "<pre><code>&gt;&gt;&gt; lst = [1,2,3,4]\n&gt;&gt;&gt; print(*lst, sep=\", \")\n1, 2, 3, 4\n</code></pre>\n\n<p>Works for Python3.4 (win7), will throw a sytax error in Python2.7</p>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1424903781, "creation_date": 1424903781, "answer_id": 28730995, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away/28730995#28730995", "title": "Python list: taking the brackets [] away", "body": "<p>A quick and dirty hacky way to do exactly what you literally asked is:</p>\n\n<pre><code>str(lst)[1:-1]\n</code></pre>\n\n<p>But really, you shouldn't be thinking about \"taking the brackets away\" from a list. A list is a container and you should be thinking about doing something with the items inside it. In the case of printing them, you can do that in myriad different ways.</p>\n"}], "owner": {"reputation": 13, "user_id": 4607924, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206478066817511/picture?type=large", "display_name": "Ashley Lynn Carpenter", "link": "https://stackoverflow.com/users/4607924/ashley-lynn-carpenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 28730925, "answer_count": 5, "score": -1, "last_activity_date": 1424905640, "creation_date": 1424903234, "last_edit_date": 1424903417, "question_id": 28730864, "link": "https://stackoverflow.com/questions/28730864/python-list-taking-the-brackets-away", "title": "Python list: taking the brackets [] away", "body": "<p>I'm trying to take away the brackets when creating a list. </p>\n\n<p>Here's my code: </p>\n\n<pre><code>nums = [ 1,2 3,4,5]\nprint (nums)\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>[1,2,3,4,5] \n</code></pre>\n\n<p>I want the single row and I want commas ... I can't figure out the rest.</p>\n"}, {"tags": ["python", "subprocess", "os.system"], "comments": [{"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 0, "creation_date": 1424903172, "post_id": 28730824, "comment_id": 45747849, "body": "os.chdir() will let you move to the location of the other python script"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1424903192, "post_id": 28730824, "comment_id": 45747866, "body": "What do you think happens when you run *.py file? Clearly test.py does not have python interpreter in it&#39;s source code..."}, {"owner": {"reputation": 359, "user_id": 3953007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b181069a8d5c10aa07f12b5ccd2c3c60?s=128&d=identicon&r=PG&f=1", "display_name": "risail", "link": "https://stackoverflow.com/users/3953007/risail"}, "reply_to_user": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1424903241, "post_id": 28730824, "comment_id": 45747896, "body": "@NSH wrong the test.py script works"}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 1, "creation_date": 1424903343, "post_id": 28730824, "comment_id": 45747934, "body": "@Dan get the current directory you are in. Change the directory using os.chdir(), run the script, go back to the directory you were in"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1424903344, "post_id": 28730824, "comment_id": 45747935, "body": "@Dan That&#39;s not their point, they are saying that <code>&#47;home&#47;xxx&#47;xxx&#47;xxx&#47;test.py</code> is not a command. these things you&#39;re trying jsut run these commands, they don&#39;t know they&#39;re python scripts."}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1424903387, "post_id": 28730824, "comment_id": 45747950, "body": "@will you can run python that way as long as it has executable permissions"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "reply_to_user": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 0, "creation_date": 1424903392, "post_id": 28730824, "comment_id": 45747954, "body": "@heinst this is only important if the script does things related to it&#39;s location / where it&#39;s run from."}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 1, "creation_date": 1424903456, "post_id": 28730824, "comment_id": 45747997, "body": "and it has the shebang at the top, yes."}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1424903536, "post_id": 28730824, "comment_id": 45748032, "body": "@will gotta love the shebang"}, {"owner": {"reputation": 359, "user_id": 3953007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b181069a8d5c10aa07f12b5ccd2c3c60?s=128&d=identicon&r=PG&f=1", "display_name": "risail", "link": "https://stackoverflow.com/users/3953007/risail"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1424903558, "post_id": 28730824, "comment_id": 45748043, "body": "@will It does do things related to its location I do not want to set up multiple time managers I just want 3 scripts to run sequentially"}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 0, "creation_date": 1424903601, "post_id": 28730824, "comment_id": 45748062, "body": "@Dan then my answer should work well for you"}, {"owner": {"reputation": 359, "user_id": 3953007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b181069a8d5c10aa07f12b5ccd2c3c60?s=128&d=identicon&r=PG&f=1", "display_name": "risail", "link": "https://stackoverflow.com/users/3953007/risail"}, "reply_to_user": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "edited": false, "score": 0, "creation_date": 1424903677, "post_id": 28730824, "comment_id": 45748102, "body": "@heinst Can you post it as answer and I&#39;ll mark it as answered"}], "answers": [{"tags": [], "owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "is_accepted": true, "score": 0, "last_activity_date": 1424904132, "creation_date": 1424904132, "answer_id": 28731071, "question_id": 28730824, "link": "https://stackoverflow.com/questions/28730824/running-a-script-from-within-a-python-script/28731071#28731071", "title": "Running a script from within a Python script", "body": "<p>For a script that does operations related to its location, you will want to first get the current directory you are in using <code>originalDir = os.path.dirname(full_path)</code>. Next you will want to use <code>os.chdir('/home/xxx/xxxx/xxx/xx/')</code> and then do a <code>subprocess.Popen(\"python test.py\", shell=True)</code> to run the script. Then do an <code>os.chdir(originalDir)</code> to get back to the directory you once were in.</p>\n"}, {"tags": [], "owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1424905188, "creation_date": 1424905188, "answer_id": 28731329, "question_id": 28730824, "link": "https://stackoverflow.com/questions/28730824/running-a-script-from-within-a-python-script/28731329#28731329", "title": "Running a script from within a Python script", "body": "<p>You could try something like this:</p>\n\n<pre><code>original_dir = os.getcwd()\nscript_paths = [\"/...path1.../script1.py\", \"/...path2.../script2.py\", \"/...path3.../script3.py\"]\n\nfor script_path in script_paths:\n  base_path, script = os.path.split(script_path)\n  os.chdir(original_dir)\n  subprocess.Popen(script)\n\n\nos.chdir(original_dir)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 0, "last_activity_date": 1424959828, "creation_date": 1424959828, "answer_id": 28744623, "question_id": 28730824, "link": "https://stackoverflow.com/questions/28730824/running-a-script-from-within-a-python-script/28744623#28744623", "title": "Running a script from within a Python script", "body": "<p>To run a script as a subprocess in its directory, use <code>cwd</code> parameter:</p>\n\n<pre><code>#!/usr/bin/env python\nimport os\nimport sys\nfrom subprocess import check_call\n\nscript_path = \"/home/xxx/xxxx/xxx/xx/test.py\"\ncheck_call([sys.executable or 'python', script_path],\n           cwd=os.path.dirname(script_path))\n</code></pre>\n\n<p>The difference from <code>os.chdir()</code>-based solution is that <code>chdir()</code> is called only in the child process. The parent working directory stays the same.</p>\n\n<p><code>sys.executable</code> is a python executable that executes the parent Python script. If <code>test.py</code> have a correct shebang set and the file has executable permissions then you could run it directly (use <code>[script_path]</code> <em>without</em> <code>shell=True</code>).</p>\n"}], "owner": {"reputation": 359, "user_id": 3953007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b181069a8d5c10aa07f12b5ccd2c3c60?s=128&d=identicon&r=PG&f=1", "display_name": "risail", "link": "https://stackoverflow.com/users/3953007/risail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4315, "favorite_count": 0, "accepted_answer_id": 28731071, "answer_count": 3, "score": 0, "last_activity_date": 1424959828, "creation_date": 1424903022, "last_edit_date": 1495539810, "question_id": 28730824, "link": "https://stackoverflow.com/questions/28730824/running-a-script-from-within-a-python-script", "title": "Running a script from within a Python script", "body": "<p>I am attempting to run a python script located in a folder on my server from another python script. The location of the script I am attempting to run is not in the same location as the existing script.  The script I am trying to execute is not a function I just need it to start once the first one has completed, and I know they both work independently of each other.  I have found a <a href=\"https://stackoverflow.com/questions/3781851/run-a-python-script-from-another-python-script-passing-in-args\">similar post</a> but I get the error <code>Not Found</code> when I use either <code>os.system</code> or <code>subprocess.Popen</code>. </p>\n\n<p>I know that  the directory I am calling is correct because in the previous statement I call a <code>shutil.move</code> to move a file to the same directory the scipt I would like to run is in.</p>\n\n<p>This is what I have tried:</p>\n\n<pre><code>subprocess.Popen(\"/home/xxx/xxxx/xxx/xx/test.py\")\n\nos.system(\"/home/xxx/xxxx/xxx/xx/test.py\")\n\nsubprocess.Popen(\"/home/xxx/xxxx/xxx/xx/test.py\", shell=True)\n</code></pre>\n"}, {"tags": ["python", "python-requests", "bottle"], "comments": [{"owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "edited": false, "score": 1, "creation_date": 1424925906, "post_id": 28730816, "comment_id": 45754381, "body": "The above is working on my side I was somehow opening the file in append mode when building the MultipartEncoder . Sorry for the bother"}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "edited": false, "score": 0, "creation_date": 1424961716, "post_id": 28730816, "comment_id": 45773063, "body": "I know you&#39;ve figured out what the problem is, but I want to clarify: the MultipartEncoder does /not/ do chunked uploads. It streams the uploads. (There&#39;s a significant difference)"}, {"owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "reply_to_user": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "edited": false, "score": 0, "creation_date": 1424968991, "post_id": 28730816, "comment_id": 45778005, "body": "Thanks I kind of thought they were the same . Its back to the docs for me then :)"}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "edited": false, "score": 0, "creation_date": 1425004754, "post_id": 28730816, "comment_id": 45794195, "body": "It&#39;s a subtle difference but it&#39;s significant as far as servers/HTTP are concerned."}, {"owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "reply_to_user": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "edited": false, "score": 0, "creation_date": 1425020053, "post_id": 28730816, "comment_id": 45798536, "body": "So here&#39;s what I have in my head now : streaming uploads are like pipes directly to the files being uploaded to the server while chunked uploads are like uploading chunks of the file to server. so far so good ?"}, {"owner": {"reputation": 20540, "user_id": 1953283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396e3de53320abf9855d912cd3d9431f?s=128&d=identicon&r=PG", "display_name": "Ian Stapleton Cordasco", "link": "https://stackoverflow.com/users/1953283/ian-stapleton-cordasco"}, "edited": false, "score": 0, "creation_date": 1425133863, "post_id": 28730816, "comment_id": 45842119, "body": "Yep. If you&#39;re familiar with bash, a better example is doing <code>cmd &lt;file</code> vs <code>cat file | cmd</code>. In the first, <code>cmd</code> knows that it&#39;s reading <code>file</code> and what the length of file is. In the second, it doesn&#39;t so it will read chunks and send the chunk preceded by the chunk&#39;s length. That&#39;s the major difference."}], "owner": {"reputation": 264, "user_id": 1766827, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/616462df714d2f63f597126d61306261?s=128&d=identicon&r=PG", "display_name": "michaelmwangi", "link": "https://stackoverflow.com/users/1766827/michaelmwangi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1424903705, "creation_date": 1424902979, "last_edit_date": 1495535052, "question_id": 28730816, "link": "https://stackoverflow.com/questions/28730816/handling-chunked-uploads-in-bottle-py", "title": "handling chunked uploads in bottle.py", "body": "<p>I'm having a little trouble handling chunked uploads from the server side using bottle.py. I'm using python requests and request-toolbelt for HTTP and upload progress tracking. I intend to use the script to upload large files hence the need for chunked uploads and avoiding reading the files in memory.\nI have slightly adapted the example shown in the requests-toolbelt docs and while I can see the upload progress data , I get a file with 0 size on the server side . Here's the code that i'm using.</p>\n\n<pre><code>    #uploader.py\ndef create_callback(encoder):\n    encoder_length = len(encoder)\n    prog_bar = Bar(expected_size=encoder_length, filled_char='=')\n\n    def callback(monitor):\n        prog_bar.show(monitor.bytes_read)\n\n    return callback\n\n\nif __name__ == \"__main__\":\n     m = MultipartEncoder(\n        fields={'testfile': ('test.txt', open('test.txt', 'rb'), 'text/plain')}\n        )\n\n     callback = create_callback(m)\n\n     m = MultipartEncoderMonitor(m, callback)\n\n     r = requests.post('http://127.0.0.1/upload', data=m,\n                      headers={'Content-Type': m.content_type})\n\n     print r.status_code #prints 200\n\n#server.py\n\n@post(\"/upload\")\ndef handle_upload():\n    print len(request.POST['testfile'].file.read()) #i always get zero\n\n\n\nif __name__ == \"__main__\":\n    run(server='cherrypy', port=\"8080\") # I still get zero even without the cherrypy server\n</code></pre>\n\n<p>I think I have followed the instructions but I just can't figure it out where I'm missing the point.</p>\n\n<p>[Edit]</p>\n\n<p>I have checked <a href=\"https://stackoverflow.com/questions/15040706/streaming-file-upload-using-bottle-or-flask-or-similar\">this post</a> which describes how to patch the files back\nand relies on the Content-Range field in the headers but when I print out the request headers I can only see the content-Length</p>\n"}, {"tags": ["python", "python-3.x", "data-conversion"], "comments": [{"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1424903514, "post_id": 28730813, "comment_id": 45748018, "body": "What exactly are you trying to do here? None of this makes any sense."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1424904148, "post_id": 28730813, "comment_id": 45748323, "body": "Your <code>bar</code> method doesn&#39;t return the namedtuple, so it does nothing.  What are you trying to achieve by putting &quot;Zabbix.Request&quot; as the name of the namedtuple?"}], "answers": [{"tags": [], "owner": {"reputation": 105769, "user_id": 1267329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG", "display_name": "Simeon Visser", "link": "https://stackoverflow.com/users/1267329/simeon-visser"}, "is_accepted": true, "score": 5, "last_activity_date": 1424909807, "creation_date": 1424909807, "answer_id": 28732279, "question_id": 28730813, "link": "https://stackoverflow.com/questions/28730813/inner-class-with-namedtuple/28732279#28732279", "title": "Inner class with namedtuple()", "body": "<p>You can't give a type the name <code>Zabbix.Request</code> because that's invalid syntax (e.g., <code>class Zabbix.Request:</code>). As such you also can't create a <code>namedtuple</code> with that name.</p>\n\n<p>Your modified code is not equivalent to the first code sample: you're now creating a <code>namedtuple</code> with <code>Request</code> as name. This is allowed as <code>Request</code> would be a valid identifier for a type.</p>\n"}], "owner": {"reputation": 2453, "user_id": 1425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bf2d79c001944892d0791c13e1c274?s=128&d=identicon&r=PG", "display_name": "Brendon-Van-Heyzen", "link": "https://stackoverflow.com/users/1425/brendon-van-heyzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1421, "favorite_count": 2, "accepted_answer_id": 28732279, "answer_count": 1, "score": 4, "last_activity_date": 1424909807, "creation_date": 1424902966, "last_edit_date": 1424903246, "question_id": 28730813, "link": "https://stackoverflow.com/questions/28730813/inner-class-with-namedtuple", "title": "Inner class with namedtuple()", "body": "<p>I am trying to use <code>collections.namedtuple</code> to convert a dictionary to a python object.</p>\n\n<pre><code>import Zabbix\n\nclass Foo:\n\n  def bar(self):\n    collections.namedtuple('Zabbix.Request',['b','c'])\n</code></pre>\n\n<p>which results in a</p>\n\n<pre><code>ValueError: Type names and field names must be valid identifiers: 'Zabbix.Request'\n</code></pre>\n\n<p>My simple fix was to just extend the inner class inside Foo</p>\n\n<pre><code>import Zabbix\n\nclass Foo:\n\n  class Request(Zabbix.Request):\n    pass\n\n  def bar(self):\n    collections.namedtuple('Request',['b','c'])\n</code></pre>\n\n<p>Is there a better way? Currently using python 3.4</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424904609, "post_id": 28730953, "comment_id": 45748552, "body": "I can&#39;t seem to get this to change the data, if I print data before this, then print new_data afterwards it prints the same for both?"}, {"owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "reply_to_user": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424905280, "post_id": 28730953, "comment_id": 45748843, "body": "is columns_to_keep all True?  If so it&#39;s because none of your columns sum to zero."}, {"owner": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424905693, "post_id": 28730953, "comment_id": 45749005, "body": "Yes, if I print columns_to_keep it prints a list of booleans - all of which are &#39;True&#39;. The title of each column (i.e. the first line in the data) is numeric but  its a title so I don&#39;t want to include it in the condition statement, see the example data above - how would I omit it? yet keep the tites of the &#39;columns_to_keep&#39;?"}, {"owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "reply_to_user": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424905866, "post_id": 28730953, "comment_id": 45749083, "body": "The first &quot;1:&quot; in the first line should be omitting the first row, which is the title."}, {"owner": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424906231, "post_id": 28730953, "comment_id": 45749236, "body": "Thanks for your help but it doesn&#39;t seem to be doing it - see my edit: I have posted the full code and the output for the test data"}, {"owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "reply_to_user": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424906496, "post_id": 28730953, "comment_id": 45749352, "body": "Ah - what I was calling numeric_data you were just calling data.  So forget about the first two lines, and just go <code>new_data = data[:, np.sum(data, axis=0) != 0]</code>"}, {"owner": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "edited": false, "score": 0, "creation_date": 1424906587, "post_id": 28730953, "comment_id": 45749390, "body": "Aha, solved it: &#39;columns_to_keep = np.concatenate([[False, np.sum(numeric_data, axis = 0) != 0])&#39; seems to do it. Many thanks Peter"}], "tags": [], "owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "is_accepted": true, "score": 4, "last_activity_date": 1424903572, "creation_date": 1424903572, "answer_id": 28730953, "question_id": 28730805, "link": "https://stackoverflow.com/questions/28730805/delete-column-in-numpy-if-a-condition-is-true/28730953#28730953", "title": "delete column in numpy if a condition is true", "body": "<p>Should be something like:</p>\n\n<pre><code>numeric_data = data[1:, 1:]\ncolumns_to_keep = np.concatenate([[True], np.sum(numeric_data, axis = 0) != 0])\n# Prepending True means you keep the first column\nnew_data = data[:, columns_to_keep])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6411583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e095937b5936e6bb50de1da152b59a0?s=128&d=identicon&r=PG&f=1", "display_name": "fastmath", "link": "https://stackoverflow.com/users/6411583/fastmath"}, "is_accepted": false, "score": 0, "last_activity_date": 1464812515, "creation_date": 1464812515, "answer_id": 37578098, "question_id": 28730805, "link": "https://stackoverflow.com/questions/28730805/delete-column-in-numpy-if-a-condition-is-true/37578098#37578098", "title": "delete column in numpy if a condition is true", "body": "<p>In the event someone is interested in how to extend this to an array with more than two dimensions, a somewhat more streamlined way to accomplish this task would be as follows.</p>\n\n<p>Assume the array is a 3-D array (e.g. time, lat, lon) and that some of the time steps have values of zero for all latitudes and longitudes, and you would like to delete those time steps.</p>\n\n<pre><code>new_data  = data[data.sum(axis=(1,2))&gt;0]\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3062260, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75c79fec765e40e6d7d61791f89e8970?s=128&d=identicon&r=PG&f=1", "display_name": "user3062260", "link": "https://stackoverflow.com/users/3062260/user3062260"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "accepted_answer_id": 28730953, "answer_count": 2, "score": 1, "last_activity_date": 1464812515, "creation_date": 1424902928, "last_edit_date": 1424906176, "question_id": 28730805, "link": "https://stackoverflow.com/questions/28730805/delete-column-in-numpy-if-a-condition-is-true", "title": "delete column in numpy if a condition is true", "body": "<p>I have a large csv file 5300 columns by 150 rows. Each column has a title which is a number (except the first column which is a string). Each row has a sample name associated with it. The following is an example of the format:</p>\n\n<pre><code> s,1,2,3,4,5,6\n a,0,8,7,6,0,5\n b,0,0,5,4,0,3\n c,0,2,3,4,0,3\n d,0,6,7,8,0,9\n</code></pre>\n\n<p>I wish to remove all columns who's sum (excluding the column title) is zero. What is the fastest way to do this? I tried iterating over the whole thing by spliting each line, adding the 'ith' element to a list and summing. If the sum == 0 then iterating over the data again and deleting the 'ith' element from each row. Problem with this method is it takes an unpractical amount of time and I may need to repeat the process for several similar files. </p>\n\n<p>I have some python experience but am completely new to numpy. I am unsure how to delete by columns according to a condition (such as sum == 0). So far I have:</p>\n\n<pre><code> data = np.loadtxt('test.csv', delimiter=',', skiprows=1, usecols=range(1,5))\n</code></pre>\n\n<p>I am thinking to use something like:</p>\n\n<pre><code> data = delete(data[:,i:])\n</code></pre>\n\n<p>but don't know how to check that the sum of the column == 0 and how to apply across the array. If anyone can expand on this or has a better way then please let me know. Thanks</p>\n\n<p>Here is my exact code:</p>\n\n<pre><code> import numpy as np\n\n with open('test.csv','r') as r:\n     all_data = [line.strip() for line in r]\n\n titles = all_data[0].split(',')\n samples = []\n for i in all_data:\n     samples.append(i.split(',')[0])\n\n print titles\n print samples\n\n data = np.loadtxt('test.csv', delimiter=',', skiprows=1, usecols=range(1,5))\n\n print data\n\n numeric_data = data[1:, 1:]\n columns_to_keep = np.concatenate([[True], np.sum(numeric_data, axis = 0) != 0])\n print columns_to_keep\n new_data = data[:, columns_to_keep]\n\n print new_data \n</code></pre>\n\n<p>Here is the output:  </p>\n\n<pre><code> ['s', '1', '2', '3', '4', '5', '6']\n ['s', 'a', 'b', 'c', 'd']\n [[ 0.  8.  7.  6.]\n  [ 0.  0.  5.  4.]\n  [ 0.  2.  3.  4.]\n  [ 0.  6.  7.  8.]]\n [ True  True  True  True]\n [[ 0.  8.  7.  6.]\n  [ 0.  0.  5.  4.]\n  [ 0.  2.  3.  4.]\n  [ 0.  6.  7.  8.]]  \n</code></pre>\n\n<p>I need it so the 1st column is removed because its sum is '0'</p>\n"}, {"tags": ["python", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 2023, "user_id": 1698398, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/90a6b9d6a6d9f099bc6ad6158e096b2c?s=128&d=identicon&r=PG&f=1", "display_name": "user937284", "link": "https://stackoverflow.com/users/1698398/user937284"}, "edited": false, "score": 0, "creation_date": 1424903459, "post_id": 28730703, "comment_id": 45747998, "body": "Did you try to provide parameter A without keyword A? M=spla.spilu(A, milu=&#39;silu&#39;)"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1424904055, "post_id": 28730703, "comment_id": 45748270, "body": "What version of scipy are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "is_accepted": true, "score": 0, "last_activity_date": 1424905385, "creation_date": 1424905385, "answer_id": 28731382, "question_id": 28730703, "link": "https://stackoverflow.com/questions/28730703/specify-argument-in-python/28731382#28731382", "title": "Specify argument in python", "body": "<p>The second way you used is the right way to specify the argument.</p>\n\n<p>However, according to the latest version of scipy source code:<a href=\"https://github.com/scipy/scipy/blob/v0.15.1/scipy/sparse/linalg/dsolve/linsolve.py\" rel=\"nofollow\">https://github.com/scipy/scipy/blob/v0.15.1/scipy/sparse/linalg/dsolve/linsolve.py</a>, there is no \"milu\" argument in the spilu function though it still appears in the comments. So I guess this is a legacy argument which is no longer supported and you should not use it in your code.</p>\n"}], "owner": {"reputation": 23, "user_id": 4446001, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8130242edef832ce9cf2acfadb0bbbf0?s=128&d=identicon&r=PG&f=1", "display_name": "weidan", "link": "https://stackoverflow.com/users/4446001/weidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 28731382, "answer_count": 1, "score": 0, "last_activity_date": 1424905385, "creation_date": 1424902484, "question_id": 28730703, "link": "https://stackoverflow.com/questions/28730703/specify-argument-in-python", "title": "Specify argument in python", "body": "<p>I am trying to use scipy.sparse.linalg.spilu(<a href=\"http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.sparse.linalg.spilu.html#scipy.sparse.linalg.spilu\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.sparse.linalg.spilu.html#scipy.sparse.linalg.spilu</a>), I want to specify milu=silu. </p>\n\n<p>If my function call is : <code>M=spla.spilu(A=A, milu=silu)</code>\nIt gave me error looks like below:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"bicgstab_python.py\", line 13, in &lt;module&gt;\n    M=spla.spilu(A=A, milu=silu)\nNameError: name 'silu' is not defined\n</code></pre>\n\n<p>If my function call is:  <code>M=spla.spilu(A=A, milu='silu')</code>\nIt gave me error looks like below:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"bicgstab_python.py\", line 13, in &lt;module&gt;\n    M=spla.spilu(A=A, milu='silu')\nTypeError: spilu() got an unexpected keyword argument 'milu'\n</code></pre>\n\n<p>I would like to know I should I correctly specify parameter milu in this function? Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "numpy", "scipy"], "answers": [{"tags": [], "owner": {"reputation": 8590, "user_id": 851699, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/jDiPy.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/851699/peter"}, "is_accepted": true, "score": 3, "last_activity_date": 1424902818, "last_edit_date": 1424902818, "creation_date": 1424902422, "answer_id": 28730685, "question_id": 28730649, "link": "https://stackoverflow.com/questions/28730649/create-2-dimensional-range/28730685#28730685", "title": "Create 2-dimensional range", "body": "<p>That's what <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html\" rel=\"nofollow\">np.meshgrid</a> is for.  Edit: Nevermind, that's not what you wanted.</p>\n\n<p>Here's what you want:</p>\n\n<pre><code>&gt;&gt;&gt; X = np.arange(0, 5, 1)[:, None]\n&gt;&gt;&gt; Y = np.linspace(0, 1, 10)[None, :]\n&gt;&gt;&gt; X+Y*(20-X)\narray([[  0.        ,   2.22222222,   4.44444444,   6.66666667,\n      8.88888889,  11.11111111,  13.33333333,  15.55555556,\n     17.77777778,  20.        ],\n   [  1.        ,   3.11111111,   5.22222222,   7.33333333,\n      9.44444444,  11.55555556,  13.66666667,  15.77777778,\n     17.88888889,  20.        ],\n   [  2.        ,   4.        ,   6.        ,   8.        ,\n     10.        ,  12.        ,  14.        ,  16.        ,\n     18.        ,  20.        ],\n   [  3.        ,   4.88888889,   6.77777778,   8.66666667,\n     10.55555556,  12.44444444,  14.33333333,  16.22222222,\n     18.11111111,  20.        ],\n   [  4.        ,   5.77777778,   7.55555556,   9.33333333,\n     11.11111111,  12.88888889,  14.66666667,  16.44444444,\n     18.22222222,  20.        ]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "edited": false, "score": 0, "creation_date": 1424902601, "post_id": 28730688, "comment_id": 45747589, "body": "I see. So even if <code>20</code> is not a constant, as long as I can generate it from <code>x</code>, I am fine with this method."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1424902649, "post_id": 28730688, "comment_id": 45747613, "body": "This is going to be a lot slower than a solution using NumPy broadcasting."}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1424902803, "post_id": 28730688, "comment_id": 45747676, "body": "&quot;almost always use <code>xrange</code> instead of <code>range</code>&quot; This is true for Python2. Python3 <code>range</code> is <code>xrange</code>."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1424902988, "post_id": 28730688, "comment_id": 45747771, "body": "@ljetibo: yep, that&#39;s true. But since python3 doesn&#39;t have xrange AFAIK, OP would have noticed."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1424903060, "post_id": 28730688, "comment_id": 45747798, "body": "@user2357112: yes, usually that&#39;s the case; however, I don&#39;t think any use case of OP&#39;s question is covered by broadcasting. --- see his &quot;ah,ok if 20 is not a constant&quot; comment."}], "tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1424902433, "creation_date": 1424902433, "answer_id": 28730688, "question_id": 28730649, "link": "https://stackoverflow.com/questions/28730649/create-2-dimensional-range/28730688#28730688", "title": "Create 2-dimensional range", "body": "<p>List comprehensions at least are faster, and sometimes easier to understand than loops (also, almost always use <code>xrange</code> instead of <code>range</code>, btw):</p>\n\n<pre><code>matrix = np.array([np.linspace(x, 20, 10) for x in X])\n</code></pre>\n"}], "owner": {"reputation": 13322, "user_id": 1082349, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ffbba800a06c2ba0908a2a1467841c73?s=128&d=identicon&r=PG", "display_name": "FooBar", "link": "https://stackoverflow.com/users/1082349/foobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 28730685, "answer_count": 2, "score": 0, "last_activity_date": 1424963725, "creation_date": 1424902265, "last_edit_date": 1424963725, "question_id": 28730649, "link": "https://stackoverflow.com/questions/28730649/create-2-dimensional-range", "title": "Create 2-dimensional range", "body": "<p>I have a column vector of start values <code>X</code>, and a column vector of end values <code>Z</code>, and I want to create a matrix that creates linspaces between <code>X</code> and <code>Z</code> of size <code>n</code>. Is there a way to generate that directly without iterating?</p>\n\n<p>Say <code>n=10</code>, and <code>Z</code> in this simple example is just a vector of <code>20</code>. Then, the following code </p>\n\n<pre><code>X = np.arange(0,5,1)\n\nY = np.empty((5, 10))\nfor idx in range(0, len(X)):\n    Y[idx] = np.linspace(X[idx], 20, 10)\n</code></pre>\n\n<p>generates what I want, but it requires iteration. Is there any more performant solution, or one directly built in without all that do-it-yourself logic?</p>\n\n<p>Here's the expected output for my test case:</p>\n\n<pre><code>Y\narray([[  0.        ,   2.22222222,   4.44444444,   6.66666667,\n          8.88888889,  11.11111111,  13.33333333,  15.55555556,\n         17.77777778,  20.        ],\n       [  1.        ,   3.11111111,   5.22222222,   7.33333333,\n          9.44444444,  11.55555556,  13.66666667,  15.77777778,\n         17.88888889,  20.        ],\n       [  2.        ,   4.        ,   6.        ,   8.        ,\n         10.        ,  12.        ,  14.        ,  16.        ,\n         18.        ,  20.        ],\n       [  3.        ,   4.88888889,   6.77777778,   8.66666667,\n         10.55555556,  12.44444444,  14.33333333,  16.22222222,\n         18.11111111,  20.        ],\n       [  4.        ,   5.77777778,   7.55555556,   9.33333333,\n         11.11111111,  12.88888889,  14.66666667,  16.44444444,\n         18.22222222,  20.        ]])\n</code></pre>\n"}, {"tags": ["python", "localization", "argparse"], "answers": [{"comments": [{"owner": {"reputation": 5734, "user_id": 279335, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/802519119c22d99b4dae2dbe7fb9e565?s=128&d=identicon&r=PG", "display_name": "Hibou57", "link": "https://stackoverflow.com/users/279335/hibou57"}, "edited": false, "score": 0, "creation_date": 1424912322, "post_id": 28731341, "comment_id": 45751178, "body": "I missed the <code>_(</code> in <code>argparse.py</code>, thanks for the notice. I can generate a POT file, indeed, and then concatenate it to the package&#39;s one, using <code>msgcat</code>: i.e., something like <code>msgcat --to-code=UTF-8 --output=all-messages.pot package-messages.pot argparse.pot</code>. I did not knew about <code>pygettext</code>; I tested it, and will go on with <code>xgettext</code>, as I don&#39;t like all the escape sequences it outputs with all characters beyond ASCII, like with ` \u201c \u201d ` (it&#39;s not readable in, say, Virtaal)."}, {"owner": {"reputation": 4742, "user_id": 1335189, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f98526aa898553a64cc6bfb6c0815f4b?s=128&d=identicon&r=PG", "display_name": "JorgeeFG", "link": "https://stackoverflow.com/users/1335189/jorgeefg"}, "edited": false, "score": 0, "creation_date": 1452004376, "post_id": 28731341, "comment_id": 56973592, "body": "Hi, I couldn&#39;t find the way to do this as you described, I am writing a small program and need (not really but ideal) to translate the &quot;usage:&quot; string in help to spanish. The way you described would need to append the .po to something, how can this be portable? I don&#39;t want the user to have to do something to get this little string translated. Thanks!"}], "tags": [], "owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "is_accepted": true, "score": 5, "last_activity_date": 1577465904, "last_edit_date": 1577465904, "creation_date": 1424905243, "answer_id": 28731341, "question_id": 28730641, "link": "https://stackoverflow.com/questions/28730641/how-to-localize-pythons-argparse-module-without-patching-it/28731341#28731341", "title": "How to localize Python&#39;s argparse module, without patching it?", "body": "<p>By default <code>argparse</code> uses the <code>gettext</code> module to translate the messages so you can easily translate them if you want to.</p>\n\n<p>To generate the <code>*.pot</code> files (which you can convert to <code>*.mo</code> files after translation) you can use the <code>pygettext</code> program which is available in the built-in <code>gettext</code> module in python.</p>\n\n<p>Usage:</p>\n\n<pre><code>python pygettext.py argparse.py\n</code></pre>\n\n<p>This will generate a <code>messages.pot</code> which you can translate, after that just generate the <code>.mo</code> (many ways to do this, just google).</p>\n\n<p>For more info about <code>pygettext</code> see the Python manual about the subject: <a href=\"https://docs.python.org/3/library/gettext.html#internationalizing-your-programs-and-modules\" rel=\"nofollow noreferrer\"><em>Internationalizing your programs and modules</em></a>. </p>\n"}], "owner": {"reputation": 5734, "user_id": 279335, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/802519119c22d99b4dae2dbe7fb9e565?s=128&d=identicon&r=PG", "display_name": "Hibou57", "link": "https://stackoverflow.com/users/279335/hibou57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 1, "accepted_answer_id": 28731341, "answer_count": 1, "score": 6, "last_activity_date": 1577465904, "creation_date": 1424902249, "last_edit_date": 1424902911, "question_id": 28730641, "link": "https://stackoverflow.com/questions/28730641/how-to-localize-pythons-argparse-module-without-patching-it", "title": "How to localize Python&#39;s argparse module, without patching it?", "body": "<p>A localized command line application looks strange when some part of the messages are in the user language and some other parts, in English.</p>\n\n<p>I don't know if I messed up anything when I installed Python\u00a03 from source, it seems there are no <code>*.mo</code> files, so <code>argparse</code> (among the whole) is not localization aware.</p>\n\n<p>The API does not seems to offer a way to localize, neither. Or did I missed it?</p>\n\n<p>I could patch <code>argparse.py</code>, but I won't, as I want it to be portable, and I'm not OK with suggesting users to patch their Python installation.</p>\n\n<p><strong>Question</strong> in fewer words: how to localize <code>argpase</code> without patching Python standard library?</p>\n\n<p><strong>Related question</strong>: is this possible?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "edited": false, "score": 0, "creation_date": 1424902650, "post_id": 28730630, "comment_id": 45747614, "body": "<a href=\"http://stackoverflow.com/questions/1181464/controlling-mouse-with-python\" title=\"controlling mouse with python\">stackoverflow.com/questions/1181464/&hellip;</a>"}, {"owner": {"reputation": 4443, "user_id": 1626410, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GAfip.jpg?s=128&g=1", "display_name": "Koala", "link": "https://stackoverflow.com/users/1626410/koala"}, "reply_to_user": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "edited": false, "score": 0, "creation_date": 1424903405, "post_id": 28730630, "comment_id": 45747966, "body": "The answer to that question is basically what I&#39;m using now, just not using set co-ordinates?"}], "owner": {"reputation": 4443, "user_id": 1626410, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GAfip.jpg?s=128&g=1", "display_name": "Koala", "link": "https://stackoverflow.com/users/1626410/koala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424902173, "creation_date": 1424902173, "question_id": 28730630, "link": "https://stackoverflow.com/questions/28730630/python-win32api-leftdown-leftup-not-clicking", "title": "Python win32api LEFTDOWN LEFTUP not clicking", "body": "<p>When running this .py script, it doesn't return any error and does print \"Click.\" but it doesn't actually click.</p>\n\n<pre><code>import os, sys\nimport time\nimport win32api, win32con\n\ndef leftClick():\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN, 0, 0)\n    time.sleep(.1)\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP, 0, 0)\n    print \"Click.\"    \n\ndef main():\n    leftClick()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Is there anything I am doing wrong here?</p>\n"}, {"tags": ["python", "django", "nested", "render", "inlines"], "answers": [{"tags": [], "owner": {"reputation": 214, "user_id": 4573026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdfc72fd001b323991d5de6ed23c4910?s=128&d=identicon&r=PG&f=1", "display_name": "ESPmorph", "link": "https://stackoverflow.com/users/4573026/espmorph"}, "is_accepted": false, "score": 3, "last_activity_date": 1424921061, "creation_date": 1424921061, "answer_id": 28733914, "question_id": 28730591, "link": "https://stackoverflow.com/questions/28730591/django-nested-inline-templatedoesnotexist/28733914#28733914", "title": "Django nested inline TemplateDoesNotExist", "body": "<p>It looks like your nested_inline app is not installed or django would be able to find the templates.\nEither that or add the templates to a directory referenced by your TEMPLATE_DIRS setting or change the template name for your inlines.</p>\n\n<p>Per the usage in the link you provided: Add nested_inline to INSTALLED_APPS</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1424921061, "creation_date": 1424902051, "question_id": 28730591, "link": "https://stackoverflow.com/questions/28730591/django-nested-inline-templatedoesnotexist", "title": "Django nested inline TemplateDoesNotExist", "body": "<h2>The Error</h2>\n\n<p>I'm trying to use the <a href=\"https://pypi.python.org/pypi/django-nested-inline/0.3.4\" rel=\"nofollow\">django-nested-inline</a> package. It seems like everything works but when I try to create a new <code>Course</code> with the admin website I get the following error:</p>\n\n<pre><code>TemplateDoesNotExist at /admin/courses/course/5/\n\nadmin/edit_inline/stacked-nested.html\n</code></pre>\n\n<p>But of course, <code>admin/edit_inline/stacked-nested.html</code> only doesn't exist because there was an error during template rendering:</p>\n\n<pre><code>Error during template rendering\n\nIn template C:\\...\\django\\contrib\\admin\\templates\\admin\\change_form.html, error at line 62\n\nadmin/edit_inline/stacked-nested.html\n\n60 {% block inline_field_sets %}\n61 {% for inline_admin_formset in inline_admin_formsets %}\n62     {% include inline_admin_formset.opts.template %}\n63 {% endfor %}\n64 {% endblock %}\n</code></pre>\n\n<p>As you can see, something messes up when Django tries to render </p>\n\n<p><code>{% include inline_admin_formset.opts.template %}</code></p>\n\n<h2>My Code</h2>\n\n<p>Here's my <code>admin.py</code>, but I don't think it really has anything to do with the above error:</p>\n\n<pre><code>from django.contrib import admin\nfrom nested_inline.admin import NestedStackedInline, NestedModelAdmin\nfrom courses.models import Course, Skill, Note\n\nclass NoteInline(NestedStackedInline):\n    model = Note\n    extra = 0\n\nclass SkillInline(NestedStackedInline):\n    model = Skill\n    extra = 0\n    inlines = [NoteInline]\n\nclass CourseAdmin(NestedModelAdmin):\n    inlines = [SkillInline]\n\nadmin.site.register(Course, CourseAdmin)\n</code></pre>\n\n<p>And here's my <code>models.py</code>:</p>\n\n<pre><code>from django.db import models\n\nclass Course(models.Model):\n    course_name = models.CharField(max_length=200)\n    course_description = models.CharField(max_length=1000, default='Course Description')\n    course_subject = models.CharField(max_length=200, default='No Subject')\n\n    def num_skills(self):\n        return len(self.skill_set.all())\n\n    def __unicode__(self):\n        return self.course_name\n\n    def __str__(self):\n        return unicode(self).encode('utf-8')\n\nclass Skill(models.Model):\n    course = models.ForeignKey(Course)\n    skill_name = models.CharField(max_length=200)\n    skill_description = models.CharField(max_length=1000, default='Skill Description')\n\n    def __unicode__(self):\n        return self.skill_name\n\n    def __str__(self):\n        return unicode(self).encode('utf-8')\n\nclass Note(models.Model):\n    skill = models.ForeignKey(Skill)\n    note_text = models.CharField(max_length=1000, default='...note text...')\n\n    def __unicode__(self):\n        return self.note_text\n\n    def __str__(self):\n        return unicode(self).encode('utf-8')\n</code></pre>\n\n<h2>Things I've Noticed</h2>\n\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/django-nested-inline/0.3.4\" rel=\"nofollow\">django-nested-inline</a> was updated from 0.3.3 to 0.3.4 two days ago. The updated version \"added licence and updated for python 3\". I'm using 0.3.4, but also Python 2.7, not Python 3. However, I uninstalled 0.3.4, installed 0.3.3, and tried again. This didn't work and produced the same error. I've since uninstall 0.3.3 and reinstall 0.3.4.</li>\n<li>The admin site and the site itself doesn't crash, just when I try to add a new <code>Course</code> via the admin site.</li>\n</ul>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 4112950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hwhTf.jpg?s=128&g=1", "display_name": "James O Connor", "link": "https://stackoverflow.com/users/4112950/james-o-connor"}, "is_accepted": false, "score": 1, "last_activity_date": 1424902497, "creation_date": 1424902497, "answer_id": 28730708, "question_id": 28730582, "link": "https://stackoverflow.com/questions/28730582/save-npy-masked-array-to-a-npy-array-with-nans-where-mask-true/28730708#28730708", "title": "Save.npy masked array to a .npy array with NaNs where mask == True", "body": "<p>You can multiply the mask by the data so that all masked elements will equal zero, eg:</p>\n\n<pre><code>a=np.random.rand(500,500)\nb=ma.masked_greater(a, .5)\nresult=b.data*b.mask\n</code></pre>\n\n<p>This can then be converted to nan using </p>\n\n<pre><code>result[result==0] = np.nan\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1424903251, "last_edit_date": 1424903251, "creation_date": 1424902619, "answer_id": 28730740, "question_id": 28730582, "link": "https://stackoverflow.com/questions/28730582/save-npy-masked-array-to-a-npy-array-with-nans-where-mask-true/28730740#28730740", "title": "Save.npy masked array to a .npy array with NaNs where mask == True", "body": "<p>A scan of <a href=\"http://docs.scipy.org/doc/numpy/reference/routines.ma.html#to-a-ndarray\" rel=\"nofollow\">the masked array operations page</a> shows <code>np.ma.filled</code> does what you are looking for. For example,</p>\n\n<pre><code>import numpy as np\n\narr = np.arange(2*3*4).reshape(2,3,4).astype(float)\nmask = arr % 5 == 0\n\nmarr = np.ma.array(arr, mask=mask)\nprint(np.ma.filled(marr, np.nan))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>[[[ nan   1.   2.   3.]\n  [  4.  nan   6.   7.]\n  [  8.   9.  nan  11.]]\n\n [[ 12.  13.  14.  nan]\n  [ 16.  17.  18.  19.]\n  [ nan  21.  22.  23.]]]\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you could use the masked array's <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.ma.MaskedArray.filled.html#numpy-ma-maskedarray-filled\" rel=\"nofollow\"><code>filled</code>\nmethod</a>. <code>marr.filled(np.nan)</code> is equivalent to <code>np.ma.filled(marr, np.nan)</code>.</p>\n"}], "owner": {"reputation": 555, "user_id": 4607842, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3d6de8a10156b08deecaf84cd8e3f1d2?s=128&d=identicon&r=PG", "display_name": "Emily", "link": "https://stackoverflow.com/users/4607842/emily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "accepted_answer_id": 28730740, "answer_count": 2, "score": 1, "last_activity_date": 1424903514, "creation_date": 1424902011, "last_edit_date": 1424903514, "question_id": 28730582, "link": "https://stackoverflow.com/questions/28730582/save-npy-masked-array-to-a-npy-array-with-nans-where-mask-true", "title": "Save.npy masked array to a .npy array with NaNs where mask == True", "body": "<p>Is there a way to convert a masked 3D numpy array to a numpy array with NaNs in place of the mask?  This way I can easily write the numpy array out using <code>np.save</code>.  The alternative is to find a way to write out the masked array with some clear indicator for elements that are masked.  I have tried:</p>\n\n<pre><code>a = np.ma.zeros((500, 500))\na.dump('test')\n</code></pre>\n\n<p>but I need the file to be in a format so it can be read into R.  Thanks.</p>\n"}, {"tags": ["python", "opencv", "object-detection"], "comments": [{"owner": {"reputation": 1735, "user_id": 1707083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d10a00a81504b18d3d3723a4b7c252?s=128&d=identicon&r=PG", "display_name": "Samer", "link": "https://stackoverflow.com/users/1707083/samer"}, "edited": false, "score": 0, "creation_date": 1424903773, "post_id": 28730578, "comment_id": 45748143, "body": "can you show an example of success and failed images...?"}], "answers": [{"tags": [], "owner": {"reputation": 1479, "user_id": 3343569, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CR12b.jpg?s=128&g=1", "display_name": "Aphire", "link": "https://stackoverflow.com/users/3343569/aphire"}, "is_accepted": false, "score": 1, "last_activity_date": 1424971536, "creation_date": 1424971536, "answer_id": 28748858, "question_id": 28730578, "link": "https://stackoverflow.com/questions/28730578/how-to-use-python-and-opencv-to-mark-license-plates-in-image/28748858#28748858", "title": "How to use python and OpenCV to mark license plates in image", "body": "<p>If you are looking to improve your code I would suggest you try thresholding the image first to return only colours that you would associate with the license plate.</p>\n\n<p>(Yellow and white in the UK, depends on your country)</p>\n\n<p>This will remove all parts of the image that are not that colour and your script may have a higher chance of working</p>\n\n<p><a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_imgproc/py_colorspaces/py_colorspaces.html#converting-colorspaces\" rel=\"nofollow\">Here</a> is a link to a <em>very</em> useful set of tutorials/tools to help you achieve this (and most other computer vision problems)</p>\n\n<p>Another process that may help would be to check the length of each contour per object and discard any that do not fall under a ratio that you set (i.e the top and bottom contour are longer than the side two) as most licence plates have a <em>standard</em> size (maybe not all, again I don't know what country you are making this for)</p>\n\n<p>Another approach entirely would be to train your own haar cascade classifier for license plates which would probably have an even better chance of success. To do this you will need <strong>alot</strong> of image containing license plates and even more <strong>not</strong> containing them.</p>\n\n<p><a href=\"http://nayakamitarup.blogspot.in/2011/07/how-to-make-your-own-haar-trained-xml.html\" rel=\"nofollow\">Here</a> is a link to a tutorial with tools to help you achieve this.</p>\n\n<p>By following the tutorial you should then end up with a .XML file that will be your new trained classifier.</p>\n\n<p><a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html#face-detection\" rel=\"nofollow\">Here</a> is a link to a tutorial that will help you to <em>use</em> your new classifier. I would also suggest reading up on how haar classifiers work in general as this may give you a better understanding of what images to use to train your classifier and what preprocessing techniques you could use on your images to improve the accuracy of your classifier.</p>\n\n<p>Good luck, hope this helps.</p>\n"}], "owner": {"reputation": 31, "user_id": 4028843, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006795730269/picture?type=large", "display_name": "Levi Schoen", "link": "https://stackoverflow.com/users/4028843/levi-schoen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4114, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1424971536, "creation_date": 1424901996, "last_edit_date": 1424903578, "question_id": 28730578, "link": "https://stackoverflow.com/questions/28730578/how-to-use-python-and-opencv-to-mark-license-plates-in-image", "title": "How to use python and OpenCV to mark license plates in image", "body": "<p>I am trying to use a python script with OpenCV to pick out license plates in a image and return the coordinates/draw a bounding box around the license plate. My script that I wrote is not able to find the license plate, it often returns a different area of the car.</p>\n\n<pre><code>import numpy as np\nimport cv2\n\ndef find_license(image):\n    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n    gray = cv2.bilateralFilter(gray, 11, 17, 17)\n    edged = cv2.Canny(gray, 30, 200)\n\n    cv2.imwrite('detect.png', edged) \n    (cnts, _) = cv2.findContours(edged.copy(), cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)\n    cnts=sorted(cnts, key = cv2.contourArea, reverse = True)[:20]\n\n    # loop over our contours\n    for c in cnts:\n        peri = cv2.arcLength(c, True)\n        approx = cv2.approxPolyDP(c, 0.02 * peri, True)\n        cv2.drawContours(image, [approx], -1, (0,255,0), 3)\n\n    # compute the bounding box of the of the paper region and return it\n    return cv2.minAreaRect(c)\n</code></pre>\n"}, {"tags": ["python", "sql-update", "execute", "pyodbc"], "answers": [{"tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1427581242, "creation_date": 1427581242, "answer_id": 29323285, "question_id": 28730489, "link": "https://stackoverflow.com/questions/28730489/update-to-access-database-fails-when-replication-id-used-in-where-clause/29323285#29323285", "title": "UPDATE to Access database fails when Replication ID used in WHERE clause", "body": "<p>Access can be a bit fussy when it comes to specifying Replication ID values and I was able to recreate your issue as posted. However, wrapping the ID value in curly brackets worked for me:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>cursor.execute('UPDATE Dox SET Tag=30 WHERE ID = ?', '{010CC005-4A8A-4AB3-8B98-E431D3BB328B}')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4594591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf7eb468f01e0a2bb3fe5c1ba6de40f?s=128&d=identicon&r=PG&f=1", "display_name": "TobiG", "link": "https://stackoverflow.com/users/4594591/tobig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427581442, "creation_date": 1424901588, "last_edit_date": 1427581442, "question_id": 28730489, "link": "https://stackoverflow.com/questions/28730489/update-to-access-database-fails-when-replication-id-used-in-where-clause", "title": "UPDATE to Access database fails when Replication ID used in WHERE clause", "body": "<p>I have a database file which I want to modify. Therefore I use pyodbc with the following code:</p>\n\n<pre><code>import pyodbc\n\nmyDbFile = r\"D:\\Users\\Tobias\\Documents\\database.db\"\nmyPass = u'*****'\n\ncnx = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb)};DBQ=%s;PWD=%s;Charset=utf-8' % (myDbFile, myPass))\ncursor = cnx.cursor()\n\n# reading any database entry\ncursor.execute('SELECT ID, Title, Tag FROM Dox')\nmydata = cursor.fetchall()\nprint mydata[34]\n# -&gt; returns ('010CC005-4A8A-4AB3-8B98-E431D3BB328B', u'itemTitle', None)\n\n# The following line works fine\ncursor.execute('UPDATE Dox SET Tag=30 WHERE Title = ?', u'itemTitle')\n\n# But this doesn't -&gt; nothing is changed\ncursor.execute('UPDATE Dox SET Tag=30 WHERE ID = ?', '010CC005-4A8A-4AB3-8B98-E431D3BB328B')\n\ncnx.commit()\ncnx.close()\n</code></pre>\n\n<p>I have absolutely no idea why the identification by 'ID' does not work. Do you have any hints for me?</p>\n"}, {"tags": ["python", "popen", "stringio"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424959007, "post_id": 28730375, "comment_id": 45771204, "body": "why do you use <code>out_im2</code> StringIO instead of passing <code>subp.communicate(input=fp.read())</code> directly? You even can <a href=\"http://stackoverflow.com/a/28724272/4279\">redirect subprocess&#39; stdin from the socket (it works on Ubuntu) without loading it in memory</a>."}], "answers": [{"comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1424959123, "post_id": 28730488, "comment_id": 45771272, "body": "read <a href=\"https://docs.python.org/3/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow noreferrer\">&quot;Frequently Used Arguments&quot; section in subprocess&#39; docs</a> to avoid being stuck on simple things."}], "tags": [], "owner": {"reputation": 13, "user_id": 4603897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc69ececd603beaaa6bf05be70eebeb?s=128&d=identicon&r=PG&f=1", "display_name": "ryan83", "link": "https://stackoverflow.com/users/4603897/ryan83"}, "is_accepted": true, "score": 0, "last_activity_date": 1424901574, "creation_date": 1424901574, "answer_id": 28730488, "question_id": 28730375, "link": "https://stackoverflow.com/questions/28730375/mozjpeg-stdin-mode-with-switches/28730488#28730488", "title": "MozJPEG STDIN Mode with switches", "body": "<p>Thanks to <a href=\"https://github.com/njdoyle\" rel=\"nofollow\">https://github.com/njdoyle</a>\n\u201c-quality 70\u201d should be \u201c-quality\u201d, \u201c70\u201d. Two parameters.</p>\n\n<p>So:</p>\n\n<pre><code>subp = subprocess.Popen([\"/home/ubuntu/mozjpeg/cjpeg\", \"-quality\",\"70\"],stdin=subprocess.PIPE,stdout=subprocess.PIPE)\nimage_results = subp.communicate(input=out_im2.getvalue())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4603897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dc69ececd603beaaa6bf05be70eebeb?s=128&d=identicon&r=PG&f=1", "display_name": "ryan83", "link": "https://stackoverflow.com/users/4603897/ryan83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 28730488, "answer_count": 1, "score": 0, "last_activity_date": 1424901574, "creation_date": 1424901167, "question_id": 28730375, "link": "https://stackoverflow.com/questions/28730375/mozjpeg-stdin-mode-with-switches", "title": "MozJPEG STDIN Mode with switches", "body": "<p>I'm able to get stdin/out working just fine with mozjpeg 3 if I just run without any flags. \nExample(Python):</p>\n\n<pre><code>fp = urllib.urlopen(http://path.to/unoptimized.jpg)\nout_im2 = StringIO.StringIO(fp.read()) # StringIO Image\nsubp = subprocess.Popen([\"/home/ubuntu/mozjpeg/cjpeg\"],stdin=subprocess.PIPE,stdout=subprocess.PIPE)\n    image_results = subp.communicate(input=out_im2.getvalue())\n</code></pre>\n\n<p>If, however, I attempt to customize this with switches(For example \"-quality 70\"), I cannot get it to work. I'm not sure if this is a bug or if I'm missing something. Any insight would be greatly appreciated:</p>\n\n<pre><code>subp = subprocess.Popen([\"/home/ubuntu/mozjpeg/cjpeg\", \"-quality 70\"],stdin=subprocess.PIPE,stdout=subprocess.PIPE)\nimage_results = subp.communicate(input=out_im2.getvalue())\n</code></pre>\n\n<p>Upon this execution, I receive the following back:</p>\n\n<pre><code>/home/ubuntu/mozjpeg/.libs/lt-cjpeg: unknown option 'quality 70'\nusage: /home/ubuntu/mozjpeg/.libs/lt-cjpeg [switches] [inputfile]\nSwitches (names may be abbreviated):\n  -quality N[,...]   Compression quality (0..100; 5-95 is useful range)\n.... &lt;Rest of --help screen&gt;\n</code></pre>\n\n<p>Thanks in advance for any help.</p>\n"}, {"tags": ["python", "python-2.7", "urllib2"], "answers": [{"comments": [{"owner": {"reputation": 951, "user_id": 1593987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/826debc0dc4d3ded1814689531c4608f?s=128&d=identicon&r=PG", "display_name": "Eyal H", "link": "https://stackoverflow.com/users/1593987/eyal-h"}, "edited": false, "score": 0, "creation_date": 1424926782, "post_id": 28730681, "comment_id": 45754611, "body": "Thanks, the problem with <code>content-length</code> is that it doesn&#39;t include headers, cookies etc which might be significant."}], "tags": [], "owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "is_accepted": false, "score": 0, "last_activity_date": 1424902402, "creation_date": 1424902402, "answer_id": 28730681, "question_id": 28730296, "link": "https://stackoverflow.com/questions/28730296/how-to-get-size-of-transmission-using-urllib2/28730681#28730681", "title": "How to get size of transmission using urllib2?", "body": "<p><code>res.headers</code> might or might not contain a field provided by the server which says <code>content-length</code>. So <code>int(res.headers['content-length'])</code> will give you the information - if the server provides it.</p>\n\n<p>A very simple implementation of a HTTP stream might not provide this information at all, so you don't know it until you get EOF.</p>\n"}], "owner": {"reputation": 951, "user_id": 1593987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/826debc0dc4d3ded1814689531c4608f?s=128&d=identicon&r=PG", "display_name": "Eyal H", "link": "https://stackoverflow.com/users/1593987/eyal-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1424902402, "creation_date": 1424900854, "question_id": 28730296, "link": "https://stackoverflow.com/questions/28730296/how-to-get-size-of-transmission-using-urllib2", "title": "How to get size of transmission using urllib2?", "body": "<p>I have the basic code (form <a href=\"https://docs.python.org/2/howto/urllib2.html\" rel=\"nofollow\">https://docs.python.org/2/howto/urllib2.html</a>):</p>\n\n<pre><code>import urllib2\n\nreq = urllib2.Request('http://www.voidspace.org.uk')\nresponse = urllib2.urlopen(req)\nthe_page = response.read()\n</code></pre>\n\n<p>I would like to get the of the entire request and the size of the entire response, Is there any way? \n(haven't seen one for urllib2 or for requests)</p>\n\n<p>\"entire\" - means including headers and any meta-data that might be sent with it.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "list", "file", "select"], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424902405, "post_id": 28730367, "comment_id": 45747497, "body": "I understand what you are trying to do here but this leads to a ValueError:malformed string."}, {"owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "reply_to_user": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424902638, "post_id": 28730367, "comment_id": 45747606, "body": "You can&#39;t eval [[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;][&#39;11&#39;, &#39;12&#39;, &#39;13&#39;, &#39;14&#39;]] because there isn&#39;t a comma between the two arrays. The same with literal_eval. Are commas forgotten or missing by design?"}, {"owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424903034, "post_id": 28730367, "comment_id": 45747792, "body": "Yes how silly of me. Forgot those comma&#39;s in the example. However I&#39;m not in the clear yet. Seems to get an SyntaxError: invalid syntax. I cannot see what is wrong. &#39;line 7, in &lt;module&gt;     itemdata = eval(line)   File &quot;&lt;string&gt;&quot;, line 1     [[&#39;5&#39;, &#39;6&#39;, \u20187\u2019, \u20188\u2019], [\u201955&#39;, &#39;66&#39;, &#39;77&#39;, &#39;88&#39;]]                 ^ SyntaxError: invalid syntax&#39;"}, {"owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424903413, "post_id": 28730367, "comment_id": 45747972, "body": "sorry wrong error message: &#39;&#39;Traceback (most recent call last):   File &quot;xx&quot;, line 7, in &lt;module&gt;     itemdata = ast.literal_eval(line)   File &quot;xx&quot;, line 49, in literal_eval     node_or_string = parse(node_or_string, mode=&#39;eval&#39;)   File &quot;xx&quot;, line 37, in parse     return compile(source, filename, mode, PyCF_ONLY_AST)   File &quot;&lt;unknown&gt;&quot;, line 1     [[&#39;5&#39;, &#39;6&#39;, \u20187\u2019, \u20188\u2019], [\u201955&#39;, &#39;66&#39;, &#39;77&#39;, &#39;88&#39;]]                 ^ SyntaxError: invalid syntax&#39;&#39;"}], "tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": false, "score": 1, "last_activity_date": 1424901579, "last_edit_date": 1424901579, "creation_date": 1424901150, "answer_id": 28730367, "question_id": 28730295, "link": "https://stackoverflow.com/questions/28730295/getting-data-from-a-list-on-a-specific-line-in-a-file-python/28730367#28730367", "title": "Getting data from a list on a specific line in a file (python)", "body": "<p>Try this:</p>\n\n<pre><code>import ast\nwith open(\"tempoutput\", \"r\") as f:\n    for i, line in enumerate(f):\n        if i == 1:\n            itemdata = ast.literal_eval(line)\n            print itemdata[1][0]\n            break\n</code></pre>\n\n<p><code>enumerate(f)</code> returns:</p>\n\n<pre><code>0, &lt;&lt;first line&gt;&gt;\n1, &lt;&lt;second line&gt;&gt;\n...\n</code></pre>\n\n<p>So when <code>i</code> becomes 1, we've reached second line and we output 55. We also break the loop since we don't care about reading the rest of the lines.</p>\n\n<p>I used <code>ast.literal_eval</code> because it's a safer form of eval.</p>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 1625484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/108a3cd3d53ef67cd4475d1a6069f2ba?s=128&d=identicon&r=PG", "display_name": "umop aplsdn", "link": "https://stackoverflow.com/users/1625484/umop-aplsdn"}, "is_accepted": false, "score": 0, "last_activity_date": 1424901482, "last_edit_date": 1424901482, "creation_date": 1424901167, "answer_id": 28730374, "question_id": 28730295, "link": "https://stackoverflow.com/questions/28730295/getting-data-from-a-list-on-a-specific-line-in-a-file-python/28730374#28730374", "title": "Getting data from a list on a specific line in a file (python)", "body": "<p><code>readline()</code> reads until the next line break. If you call it a second time it will read from where it stopped to the linebreak after that. Thus, you could have a loop:</p>\n\n<pre><code>lines = []\nwith open('filepath', 'r') as f:\n    lines.append(eval(f.readline()))\nprint lines # [[['1', '2', '3', '4'],['11', '12', '13', '14']],\n            #  [['5', '6', '7', '8'],['55', '66', '77', '88']]]\n</code></pre>\n\n<p>Or you could read the entire file and split by linebreak:</p>\n\n<pre><code>lines = open('filepath', 'r').read().split('\\n');\n</code></pre>\n\n<p>Alternatively if you want to read a specific line you can use the linecache module:</p>\n\n<pre><code>import linecache\n\nline = linecache.getline('filepath', 2) # 2 is the second line of the file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424938833, "post_id": 28731586, "comment_id": 45758937, "body": "Thanks for this idea. I like it! Will start testing this and let you know!"}, {"owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "edited": false, "score": 0, "creation_date": 1424945237, "post_id": 28731586, "comment_id": 45762585, "body": "Works good. Takes quite some time to load due to the size of the file but fine :) ty."}, {"owner": {"reputation": 300, "user_id": 1625484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/108a3cd3d53ef67cd4475d1a6069f2ba?s=128&d=identicon&r=PG", "display_name": "umop aplsdn", "link": "https://stackoverflow.com/users/1625484/umop-aplsdn"}, "edited": false, "score": 0, "creation_date": 1425415262, "post_id": 28731586, "comment_id": 45952077, "body": "Why a dictionary? If the keys are just going to be sequentially ordered numerals wouldn&#39;t be more space and time efficient just to use a list?"}, {"owner": {"reputation": 2364, "user_id": 2535477, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ON3Al.png?s=128&g=1", "display_name": "skamsie", "link": "https://stackoverflow.com/users/2535477/skamsie"}, "reply_to_user": {"reputation": 300, "user_id": 1625484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/108a3cd3d53ef67cd4475d1a6069f2ba?s=128&d=identicon&r=PG", "display_name": "umop aplsdn", "link": "https://stackoverflow.com/users/1625484/umop-aplsdn"}, "edited": false, "score": 0, "creation_date": 1425420710, "post_id": 28731586, "comment_id": 45954960, "body": "@TylerHou It would. I only suggested a full working solution. Just because you have a better implementation doesn&#39;t mean that you have to down vote mine."}, {"owner": {"reputation": 300, "user_id": 1625484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/108a3cd3d53ef67cd4475d1a6069f2ba?s=128&d=identicon&r=PG", "display_name": "umop aplsdn", "link": "https://stackoverflow.com/users/1625484/umop-aplsdn"}, "edited": false, "score": 0, "creation_date": 1425428942, "post_id": 28731586, "comment_id": 45958111, "body": "I&#39;m was not trying to make a personal attack on you, I&#39;m just said that an array would be better, thus improving the answer for the asker and future askers, as your answer is more visible because it is accepted. I asked to check whether you had some reason that I did not consider for using a dictionary. I&#39;m sorry that I tried to improve your answer, and I won&#39;t and I hope others won&#39;t try to in the future."}], "tags": [], "owner": {"reputation": 2364, "user_id": 2535477, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/ON3Al.png?s=128&g=1", "display_name": "skamsie", "link": "https://stackoverflow.com/users/2535477/skamsie"}, "is_accepted": true, "score": 0, "last_activity_date": 1424906223, "creation_date": 1424906223, "answer_id": 28731586, "question_id": 28730295, "link": "https://stackoverflow.com/questions/28730295/getting-data-from-a-list-on-a-specific-line-in-a-file-python/28731586#28731586", "title": "Getting data from a list on a specific line in a file (python)", "body": "<p>You can add the whole file to a dictionary where the key is the line number and the value is the content (the two lists). This way you can easily get any value you want by selecting first the line number, then the list and then the index.</p>\n\n<p><em>data.txt</em></p>\n\n<pre><code>[['1', '2', '3', '4'], ['11', '12', '13', '14']]\n[['5', '6', '7', '8'], ['55', '66', '77', '88']]\n[['5', '6', '3', '8'], ['155', '66', '277', '88']]\n</code></pre>\n\n<p><em>code</em></p>\n\n<pre><code>import ast\n\ndata = {}\nwith open('data.txt', 'r') as f:\n  for indx, ln in enumerate(f):\n    data[indx] = ast.literal_eval(ln.strip())\n\nprint data[1][1][0] #55\nprint data[1][1][3] #88\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 4602045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b6fec4c1ed4fdd1baddd74f52d271f81?s=128&d=identicon&r=PG", "display_name": "SecondLemon", "link": "https://stackoverflow.com/users/4602045/secondlemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 28731586, "answer_count": 3, "score": 0, "last_activity_date": 1424906223, "creation_date": 1424900853, "last_edit_date": 1424902423, "question_id": 28730295, "link": "https://stackoverflow.com/questions/28730295/getting-data-from-a-list-on-a-specific-line-in-a-file-python", "title": "Getting data from a list on a specific line in a file (python)", "body": "<p>I've got a very large file that has a format like this:</p>\n\n<blockquote>\n  <ol>\n  <li>[['1', '2', '3', '4']['11', '12', '13', '14']]</li>\n  <li>[['5', '6', '7', '8']['55', '66', '77', '88']]</li>\n  </ol>\n</blockquote>\n\n<p><em>(numbers indicate line number)</em></p>\n\n<p>The lists on each line are very long, unlike this example.</p>\n\n<p>Now if it was only 1 list I could for example obtain the '11' value with:</p>\n\n<pre><code>itemdatatxt = open(\"tempoutput\", \"r\")\nitemdata = eval(itemdatatxt.read())\nprint itemdata[1][0]\n</code></pre>\n\n<p>However because the file contains a new list on each line I cannot see how I can for example obtain the '55' value.</p>\n\n<p>I thought <code>itemdatatxt.readline(1)</code> would select the second line of the file but after reading about the .readline I understand that this would result in the 2nd symbol on the first line.</p>\n\n<p>Can anyone explain to me how to do this? (preferably I wouldn't want to change the 'tempoutput' datafile format)</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1424901464, "post_id": 28730225, "comment_id": 45747083, "body": "Is your data a dict where the keys are timestamp strings?  Or is it something less structured than that?"}, {"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "reply_to_user": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "edited": false, "score": 0, "creation_date": 1424902814, "post_id": 28730225, "comment_id": 45747682, "body": "For both sources, I&#39;ve reformatted the data such that the event ID is the dict key. And in most of the cases this key matches for both sources and linking the 2 is simple. Occasionally it doesn&#39;t. So I created an index where the timestamps (floats) are the keys and the event ID of the 40k source is value. Specifically for the purposes of doing this search."}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424902880, "post_id": 28730366, "comment_id": 45747713, "body": "I have a dict so I&#39;m assuming you would suggest converting the dict keys (the timestamps) into a list and then running your second line with the chained comparison."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4237459"}, "is_accepted": false, "score": 0, "last_activity_date": 1424901149, "creation_date": 1424901149, "answer_id": 28730366, "question_id": 28730225, "link": "https://stackoverflow.com/questions/28730225/searching-python-dictionary-keys/28730366#28730366", "title": "Searching Python dictionary keys", "body": "<p>If you have a <code>list</code> (An array that can handle multiple types) you can use list comprehension to get them! You can do the following:</p>\n\n<pre><code>new_list = [something(i) for i in list if condition]\n</code></pre>\n\n<p>This is the basic syntax. Combined with comparison chaining (<code>x &gt; y &gt;= z</code> etc.)</p>\n\n<pre><code>found_keys = [i for i in my_array if end_time &gt; i &gt; start_time]\n</code></pre>\n\n<p>would be your list, where <code>my_array</code> is the list of timestamps.</p>\n"}, {"comments": [{"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424903008, "post_id": 28730418, "comment_id": 45747777, "body": "The thought occurred to me as I finished writing this question but I haven&#39;t used numpy much - yet. So while I figured there was a way I wasn&#39;t sure what it would be."}], "tags": [], "owner": {"reputation": 468, "user_id": 2441318, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/c92d1e26a6948ba6b608d401fd742d5a?s=128&d=identicon&r=PG", "display_name": "fffred", "link": "https://stackoverflow.com/users/2441318/fffred"}, "is_accepted": true, "score": 0, "last_activity_date": 1424901307, "creation_date": 1424901307, "answer_id": 28730418, "question_id": 28730225, "link": "https://stackoverflow.com/questions/28730225/searching-python-dictionary-keys/28730418#28730418", "title": "Searching Python dictionary keys", "body": "<p>If you can use numpy arrays instead of OrderedDict, the syntax is really close to that of Matlab.</p>\n\n<p>For instance, your example line becomes:</p>\n\n<pre><code>found_keys = numpy.where((my_array[:, 0] &gt; start_time)*(my_array[:, 0] &lt; end_time))[0]\n</code></pre>\n\n<p>Note that Matlab's <code>&amp;</code> is changed to <code>*</code> in Python, but numpy also includes <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.logical_and.html\" rel=\"nofollow\">logical_and</a> that would do the same.</p>\n"}, {"comments": [{"owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "edited": false, "score": 0, "creation_date": 1424903963, "post_id": 28730949, "comment_id": 45748228, "body": "This would be ideal since it returns both the key and the value into a new dict. I&#39;m loading in all the data right now - takes several minutes. Once done I&#39;ll try all 3 solutions. Let you know which is fastest."}], "tags": [], "owner": {"reputation": 1743, "user_id": 1884140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z8kyn.jpg?s=128&g=1", "display_name": "1.618", "link": "https://stackoverflow.com/users/1884140/1-618"}, "is_accepted": false, "score": 0, "last_activity_date": 1424903560, "creation_date": 1424903560, "answer_id": 28730949, "question_id": 28730225, "link": "https://stackoverflow.com/questions/28730225/searching-python-dictionary-keys/28730949#28730949", "title": "Searching Python dictionary keys", "body": "<p>Use a Dict Comprehension, which is like a list comprehension, but for dicts.</p>\n\n<pre><code>data = {0: 'w', 1: 's', 2: 'e', 3: 'r', 4: 'v', 5: 'a', 6: 's', 7: 'r', 8: 'e', 9: 'w', 10: 'v', 11: 'a', 12: 's'}\nstart_timestamp = 3\nend_timestamp = 6\nfiltered_data = {k:v for k, v in data.iteritems() if k &gt; start_timestamp and k &lt; end_timestamp}\n</code></pre>\n\n<p>result:\n<code>{4: 'v', 5: 'a'}</code></p>\n"}], "owner": {"reputation": 1637, "user_id": 922568, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/W8aQL.jpg?s=128&g=1", "display_name": "Gabe Spradlin", "link": "https://stackoverflow.com/users/922568/gabe-spradlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 28730418, "answer_count": 3, "score": 0, "last_activity_date": 1424905977, "creation_date": 1424900576, "last_edit_date": 1424905977, "question_id": 28730225, "link": "https://stackoverflow.com/questions/28730225/searching-python-dictionary-keys", "title": "Searching Python dictionary keys", "body": "<p>I started coding for \"real\" in Matlab back in 2000. When you created an array you could search the keys of that array simply and quickly. It was like this:</p>\n\n<pre><code>found_keys = find(my_array(:, 1) &gt; start_time &amp; my_array(:, 1) &lt; end_time)\n</code></pre>\n\n<p>Where my_array was an array (matrix really) with the first column being a timestamp in this example. The return would a list of those timestamps that were greater than start_time and less than end_time. I could then loop through found_keys to process only the data in my_array that was relevant.</p>\n\n<p>I'm now working in Python with data that has a timestamp and I'm trying to match data from 2 different sources which report their time in different timezones but don't tell what those timezones are. The data from both sources is made up of lots (40k and 10K) individual events. The 10K represent individual events reported by both sources. The 2 sources share 3 fields with identical values.</p>\n\n<p>So ideally I would determine the timestamp of an individual event from the 10k source. I would then create a time window - +/- 12 hours that would define the start_time and end_time for my searching. Then I'd search only the individual events from the 40k source that have timestamps between start_time and end_time.</p>\n\n<p>In Matlab that would be extremely easy but in Python I have to use OrderedDict to get the timestamp keys sorted from low to high. I still don't know of any equivalent to the find function Matlab had. So instead I'm stuck looping through the 40k source for each of the 10k events. Obviously, once I find a match I can kick out of the loop and even pop the value off the dict but that will only speed up the search so much. Being ordered I can kick out of the loop after the timestamp is greater than end_time as well. But again these simple optimizations leave a lot to be desired.</p>\n\n<p>While my current dataset of 40k and 10k isn't so huge I can't just do the big search and wait a while for the result I'd prefer a much faster method.</p>\n\n<p>Any ideas?</p>\n\n<p>--- Edit to show results: 02/25/2015 ---</p>\n\n<p>I was partial to the dictionary comprehension since the end result was a dictionary of the values I need for downstream code. And the time was fast enough that it didn't matter much. However, the numpy solution was, by far, the fastest. Here are the numbers:</p>\n\n<ol>\n<li>Numpy: 0.47 ms</li>\n<li>List with Chained Comparisons: 11.30 ms</li>\n<li>Dictionary Comprehension: 11.82 ms</li>\n</ol>\n\n<p>All 3 solution provided identical answers. For my test it reduced 43,977 individual events to 49. If I were only running this a few times any and all of the solution would be perfectly adequate but I could be running this code thousands of times and so the difference between numpy and everything else becomes important.</p>\n"}, {"tags": ["python", "django", "django-admin"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424904320, "post_id": 28730216, "comment_id": 45748412, "body": "Silly question, but how are you registering that modeladmin class?"}, {"owner": {"reputation": 759, "user_id": 369890, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/whVQl.jpg?s=128&g=1", "display_name": "romeroqj", "link": "https://stackoverflow.com/users/369890/romeroqj"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424905066, "post_id": 28730216, "comment_id": 45748761, "body": "@DanielRoseman Like this: admin.site.register(Article, ArticleAdmin)"}], "answers": [{"tags": [], "owner": {"reputation": 759, "user_id": 369890, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/whVQl.jpg?s=128&g=1", "display_name": "romeroqj", "link": "https://stackoverflow.com/users/369890/romeroqj"}, "is_accepted": false, "score": 2, "last_activity_date": 1424905273, "creation_date": 1424905273, "answer_id": 28731351, "question_id": 28730216, "link": "https://stackoverflow.com/questions/28730216/overriding-djangos-modeladmin-methods/28731351#28731351", "title": "Overriding Django&#39;s ModelAdmin methods", "body": "<p>I just figured it out. For what I'm trying to achieve the method to be extended is save_model().</p>\n\n<pre><code>def save_model(self, request, obj, form, change):\n    pass\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 759, "user_id": 369890, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/whVQl.jpg?s=128&g=1", "display_name": "romeroqj", "link": "https://stackoverflow.com/users/369890/romeroqj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424905273, "creation_date": 1424900538, "last_edit_date": 1424905224, "question_id": 28730216, "link": "https://stackoverflow.com/questions/28730216/overriding-djangos-modeladmin-methods", "title": "Overriding Django&#39;s ModelAdmin methods", "body": "<p>I need to do some custom form processing. I think the best way to go here is extending ModelAdmin's <a href=\"https://github.com/django/django/blob/master/django/contrib/admin/options.py#L1327\" rel=\"nofollow\">changeform_view</a> method because it's the one responsible for handling the form and inserting/updating records. Something like this:</p>\n\n<pre><code>class ArticleAdmin(ModelAdmin):\n    # my custom form processing here\n    super(ArticleAdmin, self).changeform_view(self, request, object_id=None, form_url='', extra_context=None)\n</code></pre>\n\n<p>However, nothing happens. I even tried to take this to the extreme and did this:</p>\n\n<pre><code>class ArticleAdmin(ModelAdmin):\n    def changeform_view(self, request, object_id=None, form_url='', extra_content=None):\n        pass\n</code></pre>\n\n<p>Updating the object works as normal, I would've expected anything but that.</p>\n\n<p>I restarted the development server. It's my understanding that some parts of Django's admin don't work that well with the reloader, so I ruled this out already.</p>\n\n<p>Am I missing something here?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I just figured it out. For what I'm trying to achieve the method to be extended is save_model().</p>\n\n<pre><code>def save_model(self, request, obj, form, change):\n    pass\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": ["python", "flask", "jinja2"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424900623, "post_id": 28730185, "comment_id": 45746664, "body": "What do you mean by any topic from form?"}, {"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424900787, "post_id": 28730185, "comment_id": 45746753, "body": "Sorry I don&#39;t understand what you mean?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424901086, "post_id": 28730185, "comment_id": 45746893, "body": "Your endpoint value contains [any &#39;topic&#39; value from form]. Are you asking how to include input from the form in the request URL?"}, {"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424901345, "post_id": 28730185, "comment_id": 45747023, "body": "Yeah that&#39;s right it&#39;s just to show what I want, however I&#39;m not sure its correct syntax"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424901760, "post_id": 28730185, "comment_id": 45747236, "body": "Also consider why you&#39;re using GET to submit form data and not POST."}, {"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424901873, "post_id": 28730185, "comment_id": 45747293, "body": "I&#39;m not sure how to go about it, I&#39;ve read this section, I tried putting it like this: @app.route(&#39;/topic/&lt;topic&gt;&#39;, methods=[&#39;GET&#39;]) because I assigned the request.form[&#39;topic&#39;] to topic so I thought it would work but no. What can I do?"}, {"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424901994, "post_id": 28730185, "comment_id": 45747350, "body": "I&#39;ve considered GET over POST because I need the user to see the topic in the url, otherwise it won&#39;t be clear but if I must then I guess I&#39;d have to choose POST if GET won&#39;t suffice."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424902307, "post_id": 28730185, "comment_id": 45747459, "body": "You can accept the parameters in a POST request and after that redirect to a GET with the required url. Its a very common pattern on the web."}, {"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424902617, "post_id": 28730185, "comment_id": 45747597, "body": "You mean if I was to replace methods with POST it would work the same? If not could you please show me how to write the syntax?"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424904958, "post_id": 28731084, "comment_id": 45748713, "body": "Thank you this is brilliant! Appreciate the help however I have one more question. Say I wanted to use POST to send something when an image is clicked how would I go about that because I&#39;m not using a form?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424905070, "post_id": 28731084, "comment_id": 45748764, "body": "Put it in a new question."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "edited": false, "score": 0, "creation_date": 1424905497, "post_id": 28731084, "comment_id": 45748932, "body": "and accept and upvote if its the answer you were after:)"}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 1, "last_activity_date": 1424915467, "last_edit_date": 1424915467, "creation_date": 1424904193, "answer_id": 28731084, "question_id": 28730185, "link": "https://stackoverflow.com/questions/28730185/how-do-i-respond-to-a-get-request-with-flask/28731084#28731084", "title": "How do I respond to a get request with Flask?", "body": "<p>Something like this shows a simple example.</p>\n\n<pre><code>from flask import Flask, request, redirect\n\napp = Flask(__name__)\n\n# really look in db here or do whatever you need to do to validate this as a valid topic.\ndef is_valid_topic(topic):\n    if topic == \"foo\":\n        return False\n    else:\n        return True\n\n@app.route('/')\ndef index():\n    return '&lt;html&gt;&lt;form action=\"topic/\" method=\"post\"&gt;&lt;input name=\"topic\" type=\"text\"&gt;&lt;input type=\"submit\"/&gt;&lt;/form&gt;&lt;/html&gt;'\n\n@app.route('/topic/', methods=['POST'])\ndef find_topic():\n    t = request.form['topic']\n    if is_valid_topic(t):\n        return redirect('topic/%s' % t)\n    else:\n        return \"404 error INVALID TOPIC\", 404\n\n@app.route('/topic/&lt;topic&gt;')\ndef show_topic(topic):\n    if is_valid_topic(topic):\n        return '''&lt;html&gt;&lt;h1&gt;The topic is %s&lt;/h1&gt;&lt;/html&gt;''' % topic\n    else:\n        return \"404 error INVALID TOPIC\", 404\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>You accept the params in a POST request and redirect to the GET afterwards.</p>\n"}], "owner": {"reputation": 89, "user_id": 2426062, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c2e82ed99b7a12df0a1f8bdde8c6071?s=128&d=identicon&r=PG", "display_name": "user2426062", "link": "https://stackoverflow.com/users/2426062/user2426062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1782, "favorite_count": 2, "accepted_answer_id": 28731084, "answer_count": 1, "score": 0, "last_activity_date": 1424915467, "creation_date": 1424900413, "last_edit_date": 1424903528, "question_id": 28730185, "link": "https://stackoverflow.com/questions/28730185/how-do-i-respond-to-a-get-request-with-flask", "title": "How do I respond to a get request with Flask?", "body": "<p>How do I respond to a get request with Flask? I found nothing in the documentation, I find it hard to understand, I've also searched online and found nothing.</p>\n\n<p>I have a form here's part of the code:</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"topic\" value=\"{{ topic }}\" id=\"{{ topic }}\" onclick=\"submit()\"&gt;\n</code></pre>\n\n<p>Now as you can see from this, the input sends the value of 'topic' when submitted.</p>\n\n<p>How can I use Flask to respond to any GET request like that input? Something like this:</p>\n\n<pre><code>@app.route('/topic/[any 'topic' value from form]', methods=['GET'])\ndef topic():\n    topic = request.form['topic']\n    return render_template('topic.html', topic=topic)\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>UPDATE:</p>\n\n<p>So I decided to use post as suggested. I tried to test post with this code:</p>\n\n<pre><code>@app.route('/topic/', methods=['POST'])\ndef topic():\n    chosenTopic = request.form['chosenTopic']\n    return render_template('topic.html', chosenTopic=chosenTopic)\n</code></pre>\n\n<p>and this form:</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"chosenTopic\" value=\"{{ topic[3:topic|length-4:] }}\" id=\"chosenTopic\" onclick=\"submit()\"&gt;\n</code></pre>\n\n<p>I tested it out on the /topic page with a simple {{ chosenTopic }} but nothing appears? Does anyone have any suggestions as to why?</p>\n"}, {"tags": ["python", "output", "stdout", "fabric"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4629109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2514d2942a5002c1b0e536761fadb27d?s=128&d=identicon&r=PG&f=1", "display_name": "anand", "link": "https://stackoverflow.com/users/4629109/anand"}, "is_accepted": false, "score": 1, "last_activity_date": 1425409800, "last_edit_date": 1425409800, "creation_date": 1425408986, "answer_id": 28839750, "question_id": 28730175, "link": "https://stackoverflow.com/questions/28730175/direct-output-from-python-fabric-function-to-file-on-remote-host/28839750#28839750", "title": "Direct output from Python Fabric function to file on remote host", "body": "<p>Yes, it's possible.</p>\n\n<p>You can simply run the below command:</p>\n\n<pre><code>run(\"date &gt; date.txt\")\n</code></pre>\n\n<p>This will run the command date and redirect it to date.txt.</p>\n"}], "owner": {"reputation": 153, "user_id": 3968265, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/a6684a63c9cb2b67a1c59a1ef986417e?s=128&d=identicon&r=PG&f=1", "display_name": "Carl_Friedrich_Gauss", "link": "https://stackoverflow.com/users/3968265/carl-friedrich-gauss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1425409800, "creation_date": 1424900371, "question_id": 28730175, "link": "https://stackoverflow.com/questions/28730175/direct-output-from-python-fabric-function-to-file-on-remote-host", "title": "Direct output from Python Fabric function to file on remote host", "body": "<p>I need to know how to direct the output from a function in Fabric to a file on a remote host.</p>\n\n<p>I have a host that I run my fab commands from, let's call it mainhost. I have a host, testhost, and I run a \"date\" command via fab on this host to get testhost's date. I want to print this date command output into a date.txt on testhost. </p>\n\n<p>So the fabfile sits on mainhost, connects to testhost and asks for its date, and I want testhost's date to print to a file which is one testhost. Is this possible?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pygame", "sprite", "collision-detection"], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 4592490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-OJIRn1SqyqY/AAAAAAAAAAI/AAAAAAAAAEQ/ZPvSVe1jcWg/photo.jpg?sz=128", "display_name": "MAProsper", "link": "https://stackoverflow.com/users/4592490/maprosper"}, "is_accepted": true, "score": 0, "last_activity_date": 1424903240, "creation_date": 1424903240, "answer_id": 28730865, "question_id": 28730170, "link": "https://stackoverflow.com/questions/28730170/pygame-detects-collision-at-spawn-despite-no-existing-collisions/28730865#28730865", "title": "Pygame detects collision at Spawn, despite no existing collisions", "body": "<p>As far as I could find the problem with the collision is because the \"wall4\" size is fills most of the display, including the player. From 0,0 to 480,480 and as the player its at 380,380 its colliding.</p>\n\n<p>You can find this out by simply printing out the details of the sprites. With this simple code:</p>\n\n<pre><code>for wall in Walls.sprites():\n    print(wall.rect)\n</code></pre>\n\n<p>and this for the Players:</p>\n\n<pre><code>for player in Players.sprites():\n    print(player.rect)\n</code></pre>\n\n<p>There you can see that the 4 wall occupies most of the display and the position of the player on the next one. </p>\n\n<p>Walls OutPut:</p>\n\n<pre><code> &lt;rect(0, 0, 0, 480)&gt;\n &lt;rect(0, 0, 0, 0)&gt;\n &lt;rect(0, 0, 480, 0)&gt;\n &lt;rect(0, 0, 480, 480)&gt;\n</code></pre>\n\n<p>Players OutPut:</p>\n\n<pre><code> &lt;rect(0, 0, 350, 350)&gt;\n</code></pre>\n\n<p>Now to fix it, change the walls size and coordinates, and ready!</p>\n\n<p>Sorry I can give you more help if you need more, I don't really touch sprites that often to know more.</p>\n"}], "owner": {"reputation": 33, "user_id": 4528637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7817363ed16a7804e4630936eeebec00?s=128&d=identicon&r=PG&f=1", "display_name": "lunacodes", "link": "https://stackoverflow.com/users/4528637/lunacodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 28730865, "answer_count": 1, "score": -1, "last_activity_date": 1424903240, "creation_date": 1424900354, "question_id": 28730170, "link": "https://stackoverflow.com/questions/28730170/pygame-detects-collision-at-spawn-despite-no-existing-collisions", "title": "Pygame detects collision at Spawn, despite no existing collisions", "body": "<p>I'm working on a skeleton of an rpg, using Sprites for collision detection.  However, upon spawn, pygame is printing out that there are collisions when in fact there are none:</p>\n\n<pre><code>import pygame, sys\nfrom pygame.locals import *\nfrom pygame.draw import rect as square\n\nwinWidth = 800\nwinHeight = 800\nblack = (0, 0, 0)\n\neverything = pygame.sprite.Group()\n\ngameDisplay = pygame.display.set_mode((winWidth,winHeight))\npygame.display.set_caption('RPG Skeleton with Classes')\n\n\nclass Player(pygame.sprite.Sprite):\n    def __init__(self, x, y, w, h):\n        pygame.sprite.Sprite.__init__(self) #super(Player, self).__init__()\n        self.display = gameDisplay\n        green = (0,255,0)\n\n        self.xchange = 0\n        self.ychange = 0\n\n        self.x = x\n        self.y = y\n        self.w = w\n        self.h = h\n\n        self.x += self.xchange\n        self.y += self.ychange\n\n        self.color = green\n        self.player = square(self.display, self.color, (self.x, self.y, self.w, self.h))\n        self.add(Players)\n        self.image = pygame.Surface([self.x, self.y])\n        self.rect = self.image.get_rect()\n\n\n    def draw(self):\n        self.x += self.xchange\n        self.y += self.ychange\n\n        self.player = square(self.display, self.color, (self.x, self.y, self.w, self.h))\n        #self.image = pygame.Surface([self.x, self.y])\n        #self.rect = self.image.get_rect()\n\n        #self.rect = self.get_rect()\n\n        #self.rect = (self.x, self.y, self.w, self.h)\n\n        #if self.rect.colliderect(walls.rect):\n        #   print \"Collision\"\n\nclass Wall(pygame.sprite.Sprite):\n    def __init__(self, x, y, w, h):\n        pygame.sprite.Sprite.__init__(self) #super(Wall, self).__init__()\n        self.display = gameDisplay\n        grey = (119, 136, 153)\n\n        self.x = x\n        self.y = y\n        self.w = w\n        self.h = h\n        self.add(Walls)\n\n        self.color = grey\n        self.player = square(self.display, self.color, (self.x, self.y, self.w, self.h))\n        #self.rect = (self.x, self.y, self.w, self.h)\n\n        self.image = pygame.Surface([self.x, self.y])\n        self.rect = self.image.get_rect()\n\n    def draw(self):\n        self.wall = square(self.display, self.color, (self.x, self.y, self.w, self.h))\n        #self.image = pygame.Surface([self.x, self.y])\n        #self.rect = self.image.get_rect()\n        #self.rect = (self.x, self.y, self.w, self.h)\n\nwallWidth = winWidth * .4\nwallHeight = winWidth * .4\nPlayers = pygame.sprite.Group()\nWalls = pygame.sprite.Group()\n\nlink = Player(winWidth / 2 - 50, winHeight / 2 - 50, 50, 50)\nwall1 = Wall(0, 0, wallWidth, wallHeight)\nwall2 = Wall(winWidth - wallWidth, 0, wallWidth, wallHeight)\nwall3 = Wall(0,winHeight - wallHeight, wallWidth, wallHeight)\nwall4 = Wall(winWidth - wallWidth, winHeight - wallHeight, wallWidth, wallHeight)\n\npygame.init()\n\n\ndef main():\n\n\n\n\n    pygame.display.update()\n\n    run = True\n    while run:\n\n\n        gameDisplay.fill(black)\n\n        for event in pygame.event.get():\n            if event.type == KEYDOWN:\n                if event.key == K_k:\n                    pygame.quit()\n                    sys.exit()\n                if event.key == K_UP or event.key == K_w:\n                    link.ychange = -5\n                if event.key == K_DOWN or event.key == K_s:\n                    link.ychange = 5\n                if event.key == K_LEFT or event.key == K_a:\n                    link.xchange = -5\n                if event.key == K_RIGHT or event.key == K_d:\n                    link.xchange = 5\n\n\n            if event.type == KEYUP:\n                if event.key == K_UP or event.key == K_w:\n                    link.ychange = 0\n                if event.key == K_DOWN or event.key == K_s:\n                    link.ychange = 0\n                if event.key == K_LEFT or event.key == K_a:\n                    link.xchange = 0\n                if event.key == K_RIGHT or event.key == K_d:\n                    link.xchange = 0\n\n\n\n\n#       link.draw()\n        # wall1.draw()\n        # wall2.draw()\n        # wall3.draw()\n        # wall4.draw()\n\n        hitWalls = pygame.sprite.groupcollide(Players, Walls, False, False)\n\n        for collision in hitWalls:\n            print \"collision\"\n\n        pygame.display.update()\n\nmain()\n</code></pre>\n\n<p>If anyone is able to offer any feedback or assistance, it is greatly appreciated!!</p>\n"}, {"tags": ["python", "django", "rest", "django-rest-framework"], "comments": [{"owner": {"reputation": 2346, "user_id": 263421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec242f129aa450a2bdc7439869ecd0ee?s=128&d=identicon&r=PG", "display_name": "Dwight Gunning", "link": "https://stackoverflow.com/users/263421/dwight-gunning"}, "edited": false, "score": 0, "creation_date": 1429594522, "post_id": 28730109, "comment_id": 47659031, "body": "Can you confirm your running DRF3? What response code/body to you get when making regular browser requests (HTTP with a accept: text/html) for the /api/me and /api/recover endpoints (which I assume are APIViews)?"}], "answers": [{"tags": [], "owner": {"reputation": 1840, "user_id": 2950621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ed61b84d6059c52ac0ffb7a5b71a509?s=128&d=identicon&r=PG&f=1", "display_name": "nmgeek", "link": "https://stackoverflow.com/users/2950621/nmgeek"}, "is_accepted": false, "score": 3, "last_activity_date": 1430817014, "creation_date": 1430817014, "answer_id": 30048698, "question_id": 28730109, "link": "https://stackoverflow.com/questions/28730109/adding-a-apiview-to-django-rest-framework-browsable-api/30048698#30048698", "title": "Adding a APIView to Django REST Framework Browsable API", "body": "<p>I believe the line that includes the router.urls is 'preempting' other urls starting with <em>api</em>.  Try changing,</p>\n\n<pre><code>url(r'^api/', include(router.urls)),\n</code></pre>\n\n<p>to</p>\n\n<pre><code>url(r'^tokenapi/', include(router.urls)),\n</code></pre>\n\n<p>If that works then try moving the line with <em>include</em> to be the last line in the url patterns list and changing <em>tokenapi</em> back to <em>api</em>.</p>\n\n<pre><code>urlpatterns = patterns('',\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^api/register$', RegisterUser.as_view(), name='register_user'),\n    url(r'^api/auth$', ObtainAuthToken.as_view(), name='obtain_token'),\n    url(r'^api/me$', ObtainProfile.as_view(), name='obtain_profile'),\n    url(r'^api/recover$', FindUsername.as_view(), name='recover_username'),\n    url(r'^api/', include(router.urls)),\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 761, "user_id": 2194273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51ec092d533c8e56df52f4da565ecf9?s=128&d=identicon&r=PG", "display_name": "flytofuture", "link": "https://stackoverflow.com/users/2194273/flytofuture"}, "is_accepted": false, "score": 17, "last_activity_date": 1432628939, "last_edit_date": 1495535466, "creation_date": 1432628939, "answer_id": 30453381, "question_id": 28730109, "link": "https://stackoverflow.com/questions/28730109/adding-a-apiview-to-django-rest-framework-browsable-api/30453381#30453381", "title": "Adding a APIView to Django REST Framework Browsable API", "body": "<p>Routers aren't designed for normal views. You need use ViewSet if you want register you url to your router.</p>\n\n<p>I have the same question here. Maybe you can ref it:\n<a href=\"https://stackoverflow.com/questions/30389248/how-can-i-register-a-single-view-not-a-viewset-on-my-router\">How can I register a single view (not a viewset) on my router?</a></p>\n"}], "owner": {"reputation": 331, "user_id": 4607749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dtEAC.jpg?s=128&g=1", "display_name": "Jae", "link": "https://stackoverflow.com/users/4607749/jae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25532, "favorite_count": 4, "closed_date": 1505241426, "answer_count": 2, "score": 33, "last_activity_date": 1432628939, "creation_date": 1424900168, "last_edit_date": 1495541913, "question_id": 28730109, "link": "https://stackoverflow.com/questions/28730109/adding-a-apiview-to-django-rest-framework-browsable-api", "closed_reason": "Duplicate", "title": "Adding a APIView to Django REST Framework Browsable API", "body": "<p>I've been developing a REST backend with the Django REST Framework.<br>\nHowever, I'm having trouble adding a APIView instance to the web browsable API.</p>\n\n<p>The <a href=\"http://www.django-rest-framework.org/topics/documenting-your-api/#self-describing-apis\" rel=\"noreferrer\">documentation</a> and the <a href=\"https://stackoverflow.com/questions/18817988/using-django-rest-frameworks-browsable-api-with-apiviews\">previous answer</a> suggests that all I have to do is add a docstring.<br>\nIt did not work for me.</p>\n\n<p>I'm under the assumption that the browsable API only displays Viewset endpoints are registered with the router.<br>\nIf this is so, how can I register APIView classes to the router?  </p>\n\n<p>Below is my current router code:</p>\n\n<pre><code>router = DefaultRouter(trailing_slash=False)\nrouter.register(r'tokens', TokenViewSet, base_name='token')    \nurlpatterns = patterns('',\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^api/', include(router.urls)),\n    url(r'^api/register$', RegisterUser.as_view(), name='register_user'),\n    url(r'^api/auth$', ObtainAuthToken.as_view(), name='obtain_token'),\n    url(r'^api/me$', ObtainProfile.as_view(), name='obtain_profile'),\n    url(r'^api/recover$', FindUsername.as_view(), name='recover_username'),\n)\n</code></pre>\n\n<p>Currently, only the Token endpoint shows up.  </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 0, "creation_date": 1424905800, "post_id": 28730566, "comment_id": 45749054, "body": "I don&#39;t see where your code saves the prefetched query. I don&#39;t want it running over any of the existing attributes, I want it in a new attribute."}, {"owner": {"reputation": 3779, "user_id": 1302259, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/dTuy4.png?s=128&g=1", "display_name": "Du D.", "link": "https://stackoverflow.com/users/1302259/du-d"}, "reply_to_user": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 0, "creation_date": 1424918579, "post_id": 28730566, "comment_id": 45752652, "body": "I&#39;m not sure you aiming at but if you really want to use Prefetch you can checkout the update query above."}, {"owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "edited": false, "score": 0, "creation_date": 1424946558, "post_id": 28730566, "comment_id": 45763455, "body": "You misunderstood me. The goal of this entire thing was to have a queryset for <code>Desk</code> where every desk as an attribute <code>favorite_or_nearby_chairs</code> which contains the <code>Chair</code> queryset I specified in my original question, prefetched. I don&#39;t see how your solution provides this."}], "tags": [], "owner": {"reputation": 3779, "user_id": 1302259, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/dTuy4.png?s=128&g=1", "display_name": "Du D.", "link": "https://stackoverflow.com/users/1302259/du-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1424918641, "last_edit_date": 1424918641, "creation_date": 1424901937, "answer_id": 28730566, "question_id": 28730106, "link": "https://stackoverflow.com/questions/28730106/using-django-1-7s-prefetch/28730566#28730566", "title": "Using Django 1.7&#39;s `Prefetch`", "body": "<p>You don't need to use Prefetch. You only need to use Prefetch if the default prefetch_related can't do what you want.</p>\n\n<pre><code>Chair.objects.select_related('desk').prefetch_related('nearby_desks')\\\n        .filter(Q(nearby_desks=desk) | Q(desk=desk))\n</code></pre>\n\n<p><strong>Update</strong>\nUse Prefetch:</p>\n\n<pre><code>nearby_desks_qs = Desk.objects.all()\n\nChair.objects.select_related('desk')\\\n    .prefetch_related(Prefetch('nearby_desks',\n                               queryset=nearby_desks_qs,\n                               to_attr='nearby_desks_qs'))\\\n    .filter(Q(nearby_desks=desk) | Q(desk=desk))\n</code></pre>\n"}], "owner": {"reputation": 70840, "user_id": 76701, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d24c45635a5171615a7cdb936f36daad?s=128&d=identicon&r=PG", "display_name": "Ram Rachum", "link": "https://stackoverflow.com/users/76701/ram-rachum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1424918641, "creation_date": 1424900159, "question_id": 28730106, "link": "https://stackoverflow.com/questions/28730106/using-django-1-7s-prefetch", "title": "Using Django 1.7&#39;s `Prefetch`", "body": "<p>I'm trying to solve a problem using the new <code>Prefetch</code> but I can't figure out how to use it. </p>\n\n<p>I have these models:</p>\n\n<pre><code>class Desk(django.db.models.Model):\n    pass\n\nclass Chair(django.db.models.Model):\n    desk = django.db.models.Foreignkey('Desk', related_name='chair',)\n    nearby_desks = django.db.models.ManyToManyField(\n        'Desk',\n        blank=True,\n    )\n</code></pre>\n\n<p>I want to get a queryset for <code>Desk</code>, but it should also include a prefetched attribute <code>favorite_or_nearby_chairs</code>, whose value should be equal to: </p>\n\n<pre><code>Chair.objects.filter(\n    (django.db.models.Q(nearby_desks=desk) | django.db.models.Q(desk=desk)),\n    some_other_lookup=whatever,\n)\n</code></pre>\n\n<p>Is this possible with <code>Prefetch</code>? I couldn't figure out how to use the arguments.</p>\n"}, {"tags": ["python", "pyqt4"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 2658684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0bf3c1fc0316b1adbbe5303b9c94b98?s=128&d=identicon&r=PG", "display_name": "nprak", "link": "https://stackoverflow.com/users/2658684/nprak"}, "edited": false, "score": 0, "creation_date": 1424900618, "post_id": 28730092, "comment_id": 45746663, "body": "Thank you very much Elizion, Even I was wondering what mistake am I making. Such a silly mistake."}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "reply_to_user": {"reputation": 303, "user_id": 2658684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0bf3c1fc0316b1adbbe5303b9c94b98?s=128&d=identicon&r=PG", "display_name": "nprak", "link": "https://stackoverflow.com/users/2658684/nprak"}, "edited": false, "score": 0, "creation_date": 1424900657, "post_id": 28730092, "comment_id": 45746687, "body": "No worries. If you found my answer sufficient, it would be nice if you accepted my answer!"}, {"owner": {"reputation": 303, "user_id": 2658684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0bf3c1fc0316b1adbbe5303b9c94b98?s=128&d=identicon&r=PG", "display_name": "nprak", "link": "https://stackoverflow.com/users/2658684/nprak"}, "edited": false, "score": 0, "creation_date": 1424900883, "post_id": 28730092, "comment_id": 45746795, "body": "I just accepted it, it did not allow me to accept before 3 minutes."}], "tags": [], "owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "is_accepted": true, "score": 0, "last_activity_date": 1424900126, "creation_date": 1424900126, "answer_id": 28730092, "question_id": 28730014, "link": "https://stackoverflow.com/questions/28730014/using-the-directory-path-returned-from-qtfile-dialogue-in-python-code/28730092#28730092", "title": "Using the directory path returned from QTFile Dialogue in Python Code", "body": "<p>You almost have it. You need to use <code>\\\\</code> in your <code>replace</code> argument.</p>\n\n<pre><code>dname = dname.replace('\\\\','/') \n</code></pre>\n\n<p>This should work appropriately as a replacement.  </p>\n"}], "owner": {"reputation": 303, "user_id": 2658684, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d0bf3c1fc0316b1adbbe5303b9c94b98?s=128&d=identicon&r=PG", "display_name": "nprak", "link": "https://stackoverflow.com/users/2658684/nprak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 28730092, "answer_count": 1, "score": 1, "last_activity_date": 1424901570, "creation_date": 1424899902, "last_edit_date": 1424901570, "question_id": 28730014, "link": "https://stackoverflow.com/questions/28730014/using-the-directory-path-returned-from-qtfile-dialogue-in-python-code", "title": "Using the directory path returned from QTFile Dialogue in Python Code", "body": "<p>I am returning the directory path from QTFile Dialogue in Pyqt:</p>\n\n<pre><code>dname = QtGui.QFileDialog.getExistingDirectory(self, 'Open file', '/home')\n</code></pre>\n\n<p>The path i get back is this:</p>\n\n<pre><code>C:\\cygwin64\\home\\My_workspace\\HFATool\\raw_files\n</code></pre>\n\n<p>I want to use this path in the python code but it gives error that one slash is being read as <code>C:\\\\cygwin64\\\\home\\\\My_workspace\\\\HFATool\\\\raw_files</code>.</p>\n\n<p>How do I change the forward slash in the mentioned path to backward slash?\nWhen I use</p>\n\n<pre><code>dname = dname.replace('\\','/') \n</code></pre>\n\n<p>this gives lexical error.</p>\n"}, {"tags": ["python", "reverse-engineering", "ida"], "answers": [{"tags": [], "owner": {"reputation": 6531, "user_id": 507028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150b5324471a76f6f2fa9dd2380ad611?s=128&d=identicon&r=PG", "display_name": "Neitsa", "link": "https://stackoverflow.com/users/507028/neitsa"}, "is_accepted": true, "score": 1, "last_activity_date": 1425030622, "creation_date": 1425030622, "answer_id": 28762028, "question_id": 28729932, "link": "https://stackoverflow.com/questions/28729932/ida-propython-script-how-to-export-binary-pattern-of-an-address-up-to-it/28762028#28762028", "title": "[IDA Pro][python Script] :: How to Export binary pattern of an address up to it is end?", "body": "<p>This is far from being error-proof but here's a possible start:</p>\n\n<pre><code>from __future__ import print_function\n\ndef dump_instruction_opcodes(start, end):\n    opcodes = list()\n    for ea in xrange(start, end):\n        opcodes.append(idaapi.idaapi.get_original_byte(ea))\n\n    return opcodes\n\ndef main():\n    # get cursor position\n    screen_ea = ScreenEA()\n\n    func = idaapi.get_func(screen_ea)\n    if not func:\n        print(\"No function at address {:#x}\".format(screen_ea))\n        return\n    elif not func.does_return:\n        print(\"Function doesn't have an exit point...\")\n        return\n    func_start = func.startEA\n    func_end = func.endEA    \n    func_name = GetFunctionName(func_start)\n\n    print(\"Function '{}' starts at {:#x} and ends at {:#x}\".format(func_name, func_start, func_end))\n\n    # traverse code or data in function boundaries\n    for head in Heads(func_start, func_end):\n        # we just want code, not data\n        if isCode(GetFlags(head)):\n            next_head = NextHead(head, func_end)\n            #if last instruction, set end to func_end\n            if next_head == BADADDR:\n                next_head = func_end\n            #print(\"Current inst: {:#x}, next inst: {:#x}\".format(head, next_head))\n            opcodes = dump_instruction_opcodes(head, next_head)\n            printable_opcodes = [\"{:02x}\".format(op) for op in opcodes]\n            print(\"Current inst: {:#x} [{}]\".format(head, ' '.join(printable_opcodes)))\n\n    print(\"[*] Done!\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<p>Input:</p>\n\n<pre><code>.text:0040F120 sub_40F120 proc near         ; CODE XREF: sub_40A8E0+2Dp\n.text:0040F120\n.text:0040F120 arg_0           = dword ptr  8\n.text:0040F120\n.text:0040F120                 push    ebp\n.text:0040F121                 mov     ebp, esp\n.text:0040F123                 push    esi\n.text:0040F124                 mov     esi, [ebp+arg_0]\n.text:0040F127                 test    esi, esi\n.text:0040F129                 jnz     short loc_40F133\n.text:0040F12B\n.text:0040F12B loc_40F12B:                             ; CODE XREF: 40F120+1Ej\n.text:0040F12B                                         ; 40F120+28j\n.text:0040F12B                 mov     eax, 0FFFFFFFEh\n...\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Function 'sub_40F120' starts at 0x40f120 and ends at 0x40f180\nCurrent inst: 0x40f120 [55]\nCurrent inst: 0x40f121 [8b ec]\nCurrent inst: 0x40f123 [56]\nCurrent inst: 0x40f124 [8b 75 08]\nCurrent inst: 0x40f127 [85 f6]\nCurrent inst: 0x40f129 [75 08]\nCurrent inst: 0x40f12b [b8 fe ff ff ff]\n...\n</code></pre>\n\n<p>The above script will work most of the time, but there can be multiple problems, including:</p>\n\n<ul>\n<li>function has thunk(s) [you'll need to check if inst is a flow instruction and check if target is within function bounds or not]</li>\n<li>One of the exit point(s) disrupt the CFG (syscall , int, etc.) [you'll need to trackback...]</li>\n<li>Function has inner calls</li>\n</ul>\n"}], "owner": {"reputation": 43, "user_id": 4361307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287d64318c229e8ce6058e2e84e85ece?s=128&d=identicon&r=PG&f=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/4361307/ehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 0, "accepted_answer_id": 28762028, "answer_count": 1, "score": 0, "last_activity_date": 1431641092, "creation_date": 1424899601, "last_edit_date": 1431641092, "question_id": 28729932, "link": "https://stackoverflow.com/questions/28729932/ida-propython-script-how-to-export-binary-pattern-of-an-address-up-to-it", "title": "[IDA Pro][python Script] :: How to Export binary pattern of an address up to it is end?", "body": "<p>I wanna to export a function's binary pattern from its beginning address to its end address with python script in IDA pro.\nFor example: <code>sub_454345</code>. I want to first identify in which address this function starts and then in which it ends, after that export the whole binary pattern for function <code>sub_454345</code>.</p>\n\n<p>Output example :</p>\n\n<pre><code>sub_454345\nStart Address : 0x401000\nEnd Address : 0xD5B000\nBinary Pattern : 55 8B EC 51 51 56 57 8B 7D 08 8D 45\n</code></pre>\n"}, {"tags": ["python", "image-processing", "matplotlib"], "comments": [{"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1424899793, "post_id": 28729876, "comment_id": 45746182, "body": "However <a href=\"http://stackoverflow.com/questions/2318288/how-to-use-custom-marker-with-plot\">this</a> thread does. Trick lies in the mpl transformations module."}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1424900567, "post_id": 28729876, "comment_id": 45746632, "body": "Np. I ran into that thread not even 2 days ago. Make sure you give the guy a thumbs up."}], "owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 925, "favorite_count": 0, "closed_date": 1424909665, "answer_count": 0, "score": 0, "last_activity_date": 1424899407, "creation_date": 1424899407, "last_edit_date": 1495540259, "question_id": 28729876, "link": "https://stackoverflow.com/questions/28729876/image-icons-in-a-matplotlib-plot", "closed_reason": "Duplicate", "title": "Image icons in a matplotlib plot?", "body": "<p>I'm plotting a scatter plot of attributes of faces of people, and instead of a point marker, would like to use a little icon of the person's face as a point on the plot.  From a related thread from many years ago, it's been shown how to do this in part:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3003108/adding-a-small-photo-image-to-a-large-graph-in-matplotlib-python\">Adding a small photo/image to a large graph in Matplotlib/Python</a></p>\n\n<p>However, this thread does not make mention of how to specify the icon coordinates in terms of x and y values of the plot.  Given that I have the X, Y values corresponding to the datapoints at which I want to center the icons of faces, how can I adapt this example?  Here is the accepted answer from that thread:</p>\n\n<pre><code>import matplotlib, scipy\nfig = matplotlib.figure()\nax = fig.add_axes([0.1,0.1,0.8,0.8])\naxicon = fig.add_axes([0.4,0.4,0.1,0.1])\nax.plot(range(5), [4,2,3,5,1])\naxicon.imshow(scipy.randn(100,100))\naxicon.set_xticks([])\naxicon.set_yticks([])\nfig.show()\n</code></pre>\n\n<p>The line that throws me off is:</p>\n\n<pre><code>axicon = fig.add_axes([0.4,0.4,0.1,0.1])\n</code></pre>\n\n<p>How do I translate this to x,y values on the plot?</p>\n\n<p><img src=\"https://i.stack.imgur.com/Zo8w5.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "linux", "https", "cherrypy", "init.d"], "comments": [{"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "edited": false, "score": 0, "creation_date": 1424945362, "post_id": 28729837, "comment_id": 45762664, "body": "What is &quot;startup script&quot;, <code>init.d</code> script? What distro?"}], "answers": [{"tags": [], "owner": {"reputation": 5288, "user_id": 298371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/246eb04589798870601ddf54de87153d?s=128&d=identicon&r=PG", "display_name": "cyraxjoe", "link": "https://stackoverflow.com/users/298371/cyraxjoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1424906748, "creation_date": 1424906748, "answer_id": 28731716, "question_id": 28729837, "link": "https://stackoverflow.com/questions/28729837/cherrypy-https-script-not-working-with-linux-startup/28731716#28731716", "title": "cherrypy https script not working with linux startup", "body": "<p>You are most likely setting a relative path to the certificate or maybe it does not have read permission.</p>\n\n<p>Double check the path to the certificate. Use an absolute one and keep an eye for any required escape character. <code>\\</code></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4607721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627c5edb745d8df9b5d8616743b16fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan K", "link": "https://stackoverflow.com/users/4607721/nathan-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1425311139, "creation_date": 1425311139, "answer_id": 28813802, "question_id": 28729837, "link": "https://stackoverflow.com/questions/28729837/cherrypy-https-script-not-working-with-linux-startup/28813802#28813802", "title": "cherrypy https script not working with linux startup", "body": "<p>Fixed the solution, cyraxjoe is right. It ended up being the init.d script was running the python server file from etc/init.d/, and the private key file was using a relative path. Using the absolute path ended up solving the problem.</p>\n\n<p>Thanks!!!</p>\n"}], "owner": {"reputation": 21, "user_id": 4607721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627c5edb745d8df9b5d8616743b16fe9?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan K", "link": "https://stackoverflow.com/users/4607721/nathan-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425311139, "creation_date": 1424899250, "last_edit_date": 1424899495, "question_id": 28729837, "link": "https://stackoverflow.com/questions/28729837/cherrypy-https-script-not-working-with-linux-startup", "title": "cherrypy https script not working with linux startup", "body": "<p>Trying to run a cherrypy https server on linux startup. The startup script works with cherrypy running http, but not https. Also, when running https server manually it works, so no library issues there. The summary and error is below:</p>\n\n<ol>\n<li>https and http server are working when running it manually on linux </li>\n<li>http is working on linux startup</li>\n<li>https is not working on linux startup</li>\n</ol>\n\n<p>I output the results of the https startup script to a text file, and this error is encountered:</p>\n\n<pre><code>[25/Feb/2015:13:59:03] ENGINE Bus STARTING\n[25/Feb/2015:13:59:03] ENGINE Started monitor thread '_TimeoutMonitor'.\n[25/Feb/2015:13:59:03] ENGINE Started monitor thread 'Autoreloader'.\n[25/Feb/2015:13:59:03] ENGINE Serving on 0.0.0.0:8099\n[25/Feb/2015:13:59:03] ENGINE Bus STARTED\n[25/Feb/2015:13:59:03] ENGINE Error in HTTPServer.tick\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/cherrypy/wsgiserver/wsgiserver2.py\", line 1837, in start\n    self.tick()\n  File \"/usr/local/lib/python2.7/site-packages/cherrypy/wsgiserver/wsgiserver2.py\", line 1902, in tick\n    s, ssl_env = self.ssl_adapter.wrap(s)\n  File \"/usr/local/lib/python2.7/site-packages/cherrypy/wsgiserver/ssl_builtin.py\", line 52, in wrap\n    keyfile=self.private_key, ssl_version=ssl.PROTOCOL_SSLv23)\n  File \"/usr/local/lib/python2.7/ssl.py\", line 387, in wrap_socket\n    ciphers=ciphers)\n  File \"/usr/local/lib/python2.7/ssl.py\", line 141, in __init__\n    ciphers)\nSSLError: [Errno 336265218] _ssl.c:351: error:140B0002:SSL routines:SSL_CTX_use_PrivateKey_file:system lib\n</code></pre>\n\n<p>I set the permissions on the folder containing the script to \"chmod 777\", i.e. grant all permissions to all users/groups. No luck. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "edited": false, "score": 1, "creation_date": 1424904799, "post_id": 28730501, "comment_id": 45748643, "body": "Also, if your dates are your index, you can use: df.set_index(&#39;dates&#39;).groupby(lambda x: x.dayofweek, axis=0).sum()"}], "tags": [], "owner": {"reputation": 5496, "user_id": 2317751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lltcO.jpg?s=128&g=1", "display_name": "Liam Foley", "link": "https://stackoverflow.com/users/2317751/liam-foley"}, "is_accepted": true, "score": 2, "last_activity_date": 1424902608, "last_edit_date": 1424902608, "creation_date": 1424901615, "answer_id": 28730501, "question_id": 28729710, "link": "https://stackoverflow.com/questions/28729710/how-to-group-time-series-data-by-monday-tuesday-pandas/28730501#28730501", "title": "How to group time series data by Monday, Tuesday .. ? pandas", "body": "<p>Make sure your dates column is a datetime object and use the datetime attributes:</p>\n\n<pre><code>df = pd.DataFrame({'dates':['1/1/15','1/2/15','1/3/15','1/4/15','1/5/15','1/6/15',\n                    '1/7/15','1/8/15','1/9/15','1/10/15','1/11/15','1/12/15'],\n                    'values':[1,2,3,4,5,1,2,3,1,2,3,4]})\ndf['dates'] = pd.to_datetime(df['dates'])                    \ndf['dayofweek'] = df['dates'].apply(lambda x: x.dayofweek)\n\n        dates  values  dayofweek\n0  2015-01-01       1          3\n1  2015-01-02       2          4\n2  2015-01-03       3          5\n3  2015-01-04       4          6\n4  2015-01-05       5          0\n5  2015-01-06       1          1\n6  2015-01-07       2          2\n7  2015-01-08       3          3\n8  2015-01-09       1          4\n9  2015-01-10       2          5\n10 2015-01-11       3          6\n11 2015-01-12       4          0\n\ndf.groupby(df['dates'].apply(lambda x: x.dayofweek)).sum()\n\ndf.groupby(df['dates'].apply(lambda x: 0 if x.dayofweek in [5,6] else 1)).sum()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>In [1]: df.groupby(df['dates'].apply(lambda x: x.dayofweek)).sum()\nOut[1]: \n       values\ndates        \n0           9\n1           1\n2           2\n3           4\n4           3\n5           5\n6           7\n\nIn [2]: df.groupby(df['dates'].apply(lambda x: 0 if x.dayofweek in [5,6] else 1)).sum()\nOut[2]: \n       values\ndates        \n0          12\n1          19\n</code></pre>\n"}], "owner": {"reputation": 13154, "user_id": 2999675, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cb0b7c8c3b13457a7cb7749d1334d3ae?s=128&d=identicon&r=PG&f=1", "display_name": "Hello lad", "link": "https://stackoverflow.com/users/2999675/hello-lad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 28730501, "answer_count": 1, "score": 2, "last_activity_date": 1424902608, "creation_date": 1424898785, "question_id": 28729710, "link": "https://stackoverflow.com/questions/28729710/how-to-group-time-series-data-by-monday-tuesday-pandas", "title": "How to group time series data by Monday, Tuesday .. ? pandas", "body": "<p>I have time series pandas DataFrame looks like</p>\n\n<pre><code>              value\n12-01-2014    1\n13-01-2014    2\n....\n01-05-2014    5\n</code></pre>\n\n<p>I want to group them into</p>\n\n<pre><code>1 (Monday, Tuesday, ..., Saturday, Sonday)\n2 (Workday, Weekend)\n</code></pre>\n\n<p>How could I achieve that in pandas ?</p>\n"}, {"tags": ["python", "ajax", "xml", "apache", "raspberry-pi"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424899070, "post_id": 28729690, "comment_id": 45745746, "body": "Your description seems to have missed out the bit where you make a request to a PHP server. Why are you doing that? And you&#39;ll need to give some more information about where it is going wrong. Is that request being made? Are you seeing the results of the <code>print</code>?"}, {"owner": {"reputation": 69, "user_id": 4447720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100001161159057/picture?type=large", "display_name": "Alan Scarpa", "link": "https://stackoverflow.com/users/4447720/alan-scarpa"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424899686, "post_id": 28729690, "comment_id": 45746093, "body": "Oh, that was a mistake.  I changed it to index.htm  Added an edit that hopefully helps narrow down what&#39;s going wrong.."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424899847, "post_id": 28729690, "comment_id": 45746218, "body": "But now that makes even less sense. The static HTML file makes an Ajax request to the CGI script, which in turn makes a request back to the HTML file? Why?"}, {"owner": {"reputation": 69, "user_id": 4447720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100001161159057/picture?type=large", "display_name": "Alan Scarpa", "link": "https://stackoverflow.com/users/4447720/alan-scarpa"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424900104, "post_id": 28729690, "comment_id": 45746381, "body": "Yea, I don&#39;t want to make another request.  I think what I want to do is send an XML response (as seen in the ajax function on the html page).  Is that possible?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1424901821, "post_id": 28729690, "comment_id": 45747265, "body": "Sure, you can send anything you like. Whatever you print in a CGI script is sent back to the client. But you need to print proper HTTP headers too, plus a blank line between the headers and the content."}, {"owner": {"reputation": 703, "user_id": 3209796, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/96472e067696f2ec9147cd3e33509047?s=128&d=identicon&r=PG&f=1", "display_name": "maco1717", "link": "https://stackoverflow.com/users/3209796/maco1717"}, "edited": false, "score": 0, "creation_date": 1470148693, "post_id": 28729690, "comment_id": 64822954, "body": "have a look at <a href=\"http://unix.stackexchange.com/questions/32182/simple-command-line-http-server\" title=\"simple command line http server\">unix.stackexchange.com/questions/32182/&hellip;</a>"}], "owner": {"reputation": 69, "user_id": 4447720, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100001161159057/picture?type=large", "display_name": "Alan Scarpa", "link": "https://stackoverflow.com/users/4447720/alan-scarpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424900487, "creation_date": 1424898725, "last_edit_date": 1424900487, "question_id": 28729690, "link": "https://stackoverflow.com/questions/28729690/how-can-i-send-xml-from-my-python-script-to-my-web-page-using-ajax", "title": "How can I send XML from my Python script to my web page using Ajax?", "body": "<p>I'm running an Apache server on my Raspberry Pi 2, hosting a simple index.htm at my ip address (located at /var/www).  I've created a python file that is saved at /usr/lib/cgi-bin.  I've setup all the appropriate permissions and have had success running Python scripts from the directory.</p>\n\n<p>My goal is to run a python script that will send XML to my webpage at index.htm, and then have my index.htm display this data on the webpage.  I've tried using Ajax to get this done, but I've had no luck.  (I'm new to Python, so if this isn't possible with Python, let me know).</p>\n\n<p>Below is what I've tried...my index page has a <strong>p</strong> tag which says \"what's up\", and then when I get the XML response, I want it to change to \"hanging out\".  That's it.  </p>\n\n<p>To clarify, this is how I imagine this would work:</p>\n\n<p><strong>index.htm sends POST request to xmlTest.py >> xmlTest.py responds and sends back XML to index.htm >> index.htm reads the XML response and changes value on page</strong></p>\n\n<p>Here's what I've tried:</p>\n\n<p>index.htm</p>\n\n<pre><code> &lt;html&gt;\n\n&lt;head&gt;\n&lt;title&gt;\nPi Test\n&lt;/title&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction sendAjax(){\n     var nocache = \"&amp;nocache=\" + Math.random() * 1000000;\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\n            if (this.responseXML != null) {\n\n        document.getElementById(\"paragraph\").innerHTML = this.responseXML.getElementsByTagName('data')[0].childNodes[0].nodeValue;\n}}}\n\n\n    request3.open(\"POST\", \"/cgi-bin/xmlTest.py\", true);\n    request3.send();\n}\n\n\n\n&lt;/script&gt;\n\n\n\n&lt;/head&gt;\n\n&lt;body onload=\"sendAjax()\"&gt;\n\n&lt;center&gt;hello&lt;/center&gt;\n&lt;p id=\"paragraph\"&gt;What's up?&lt;/p&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>And this is my xmlTest.py file located at /usr/lib/cgi-bin:</p>\n\n<pre><code>#!/usr/bin/python\nimport urllib\nimport httplibimport re\n\nfrom xml.dom.minidom import parse, parseString\ntarget_url = \"/index.htm\"\nxml_request = \"\"\"\\    \n&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n  &lt;inputs&gt;\n     &lt;data&gt;hanging out&lt;/data&gt;\n  &lt;/inputs&gt;    \n\"\"\"  \n\n\ndef send_xml():\n  ''' sends xml request to url with parameter request '''\n  result = urllib.urlopen( target_url, urllib.urlencode( {'request':xml_request} ) )\n  #parse results and print the xml or do whatever with it\n  print parse( result ).toprettyxml()\n  return result\n  result.close()\n\ndef main():  \n  send_xml()\n\nif __name__ == \"__main__\":\n  main()\n</code></pre>\n\n<p>When I visit ipaddress/cgi-bin/xmlTest.py , I get \"Internal Server Error\".  I believe the line causing that was: import httplibimport re</p>\n\n<p>So I removed it, but now when I refresh, I get the following error:</p>\n\n<pre><code>&lt;type 'exceptions.TypeError'&gt;: open_file() takes exactly 2 arguments (3 given) \n      args = ('open_file() takes exactly 2 arguments (3 given)',) \n      message = 'open_file() takes exactly 2 arguments (3 given)'\n</code></pre>\n"}, {"tags": ["python", "fonts", "cairo", "pycairo"], "answers": [{"tags": [], "owner": {"reputation": 3259, "user_id": 854988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66dc5a164daf24ad6fb75212c8068aac?s=128&d=identicon&r=PG", "display_name": "deeenes", "link": "https://stackoverflow.com/users/854988/deeenes"}, "is_accepted": true, "score": 3, "last_activity_date": 1424898415, "creation_date": 1424898415, "answer_id": 28729590, "question_id": 28729589, "link": "https://stackoverflow.com/questions/28729589/how-to-select-fonts-more-specifically-in-cairo/28729590#28729590", "title": "How to select fonts more specifically in cairo?", "body": "<p>Font files have various names and other annotations. In FontForge, you can find these listed in menu <code>Element &gt; Font info</code>. Here as I found <code>cairo</code> is able to identify the font by its <code>TTF names &gt; Family</code> or which is the same its <code>WindowsString</code>. In case of Adobe's Helvetica Neue light this string has the value <code>'HelveticaNeueLT Std Lt'</code>. Then selecting the font by this name, and setting the slant and weight to normal, the light weight will be used:</p>\n\n<pre><code>context.select_font_face('HelveticaNeueLT Std Lt', \\\n    cairo.FONT_SLANT_NORMAL, cairo.FONT_WEIGHT_NORMAL)\n</code></pre>\n\n<p>It is possible to find font names by many softwares. On Linux <code>fontconfig</code> is able to list fonts, and the name in the second column what cairo recognizes:</p>\n\n<pre><code>$ fc-list | grep HelveticaNeue\n...\n/usr/share/fonts/.../HelveticaNeueLTStd-Lt.otf: Helvetica Neue LT Std,HelveticaNeueLT Std Lt:style=45 Light,Regular\n...\n$ fc-list | sed 's/.*:\\(.*,\\|\\s\\)\\(.*\\):.*/\\2/'\n...\nHelveticaNeueLT Std Lt\n...\n</code></pre>\n"}], "owner": {"reputation": 3259, "user_id": 854988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/66dc5a164daf24ad6fb75212c8068aac?s=128&d=identicon&r=PG", "display_name": "deeenes", "link": "https://stackoverflow.com/users/854988/deeenes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2089, "favorite_count": 0, "accepted_answer_id": 28729590, "answer_count": 1, "score": 0, "last_activity_date": 1424898415, "creation_date": 1424898415, "question_id": 28729589, "link": "https://stackoverflow.com/questions/28729589/how-to-select-fonts-more-specifically-in-cairo", "title": "How to select fonts more specifically in cairo?", "body": "<p>In <code>cairo</code>, fonts can be specified by their family name, e.g. 'HelveticaNeueLTStd'. Then, weights and styles can be defined by <code>cairo.FONT_WEIGHT_[NORMAL|BOLD]</code> and <code>cairo.FONT_SLANT_[NORMAL|OBLIQUE|ITALIC]</code>, which are constants with integer values. Only these 2 and 3 options are built in. I am wondering, how to select specific weights and styles in case the family have more of them? E.g. Light, Semi-bold, etc. </p>\n\n<p>I am using <code>pycairo 1.10.0</code> in <code>python 2.7</code>, although these things looks the same in any language.</p>\n\n<p>I could find the solution by guessing, so I will answer my question, but still I am wondering if this is the standard way of doing.</p>\n"}, {"tags": ["python", "sql", "sql-server"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1424899094, "post_id": 28729511, "comment_id": 45745763, "body": "What about using <code>AND field_b IS ?</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "is_accepted": false, "score": 0, "last_activity_date": 1424900019, "creation_date": 1424900019, "answer_id": 28730051, "question_id": 28729511, "link": "https://stackoverflow.com/questions/28729511/sql-queries-in-python-where-value-may-be-none-null/28730051#28730051", "title": "SQL Queries In Python Where Value May Be None/Null", "body": "<p>I'm guessing <code>none</code> gets translated to <code>null</code> when it's compiled into SQL. Since a null can never equal anything (not even another null) you'll have to use <code>is null</code> like you did when you hard coded the value. What if you want to be able to do both? The route I'd go would be to control for the possibility of a null with something like this:</p>\n\n<pre><code>and field_b = isnull(?, '')\n</code></pre>\n\n<p>Of course this has the loophole that if field_b actually IS an empty string, it will equate when you don't intend it to. Depending on whether that's a problem or not, you could also get creative with <code>case</code> statements or <code>or</code> conditions.</p>\n"}, {"comments": [{"owner": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "edited": false, "score": 1, "creation_date": 1424900234, "post_id": 28730098, "comment_id": 45746465, "body": "The only problem with this is that if you DO get a value from the parameter, you&#39;d want it to only equate to those rows, and in this case you&#39;d get the equating rows, plus all the nulls."}, {"owner": {"reputation": 196, "user_id": 4560657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ty3D.jpg?s=128&g=1", "display_name": "VB1", "link": "https://stackoverflow.com/users/4560657/vb1"}, "reply_to_user": {"reputation": 3375, "user_id": 1306784, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/def6fc5a65ffb7361ef83abea0175210?s=128&d=identicon&r=PG", "display_name": "Xedni", "link": "https://stackoverflow.com/users/1306784/xedni"}, "edited": false, "score": 0, "creation_date": 1424900556, "post_id": 28730098, "comment_id": 45746624, "body": "Thanks and you re right. I edited to get results for Values and in case of nulls for either."}, {"owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "edited": false, "score": 0, "creation_date": 1424900625, "post_id": 28730098, "comment_id": 45746665, "body": "Thanks, I was making this problem more complicated than it needed to be."}], "tags": [], "owner": {"reputation": 196, "user_id": 4560657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ty3D.jpg?s=128&g=1", "display_name": "VB1", "link": "https://stackoverflow.com/users/4560657/vb1"}, "is_accepted": true, "score": 3, "last_activity_date": 1424900520, "last_edit_date": 1424900520, "creation_date": 1424900136, "answer_id": 28730098, "question_id": 28729511, "link": "https://stackoverflow.com/questions/28729511/sql-queries-in-python-where-value-may-be-none-null/28730098#28730098", "title": "SQL Queries In Python Where Value May Be None/Null", "body": "<p>Try using OR</p>\n\n<pre><code>    SELECT *\n    FROM table_name\n    WHERE (field_a = ? AND field b IS NULL)\n    OR (field_a IS NULL AND field b  = ?)\n    OR (field_a = ? AND field b  = ?)\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3160, "favorite_count": 0, "accepted_answer_id": 28730098, "answer_count": 2, "score": 1, "last_activity_date": 1424900520, "creation_date": 1424898203, "question_id": 28729511, "link": "https://stackoverflow.com/questions/28729511/sql-queries-in-python-where-value-may-be-none-null", "title": "SQL Queries In Python Where Value May Be None/Null", "body": "<p>I'm writing a Python script to analyse some data, that is sourced from several different SQL databases. Queries to the databases are based on the results of previous queries, to different databases.</p>\n\n<p>The problem that I'm having is that some queries may return <code>NULL</code>. </p>\n\n<p>So, if I have a query like</p>\n\n<pre><code>SELECT *\nFROM table_name\nWHERE fieldA = ?\nAND fieldB = ?\n</code></pre>\n\n<p>And I have two values that have been returned from other queries; <code>field_a = 'A'</code> and <code>field_b = None</code>, when I try to execute the query in Python:</p>\n\n<pre><code>with pyodbc.connect('Trusted_connection=yes', driver='{SQL Server}', server=server_name, database=database_name, autocommit=True) as connection:\n    ds = connection.execute(sql,[field_a, field_b])\n</code></pre>\n\n<p>nothing is returned. If I change the SQL query so that the None/Null value is hard-coded:</p>\n\n<pre><code>SELECT *\nFROM table_name\nWHERE field_a = ?\nAND field_b IS NULL\n</code></pre>\n\n<p>I get the data that I expect.</p>\n\n<p>Is there a better way to deal with this problem other than building the SQL query from substrings based on the field values?</p>\n"}, {"tags": ["python", "set", "operators"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 4, "creation_date": 1424898056, "post_id": 28729437, "comment_id": 45745210, "body": "Because <code>list</code>s aren&#39;t sets in the formal definition."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1424898066, "post_id": 28729437, "comment_id": 45745216, "body": "First, there&#39;s no well-defined ordering behavior for performing such an operation. Second, performance would necessarily be comparatively poor."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 5, "last_activity_date": 1424898159, "creation_date": 1424898159, "answer_id": 28729501, "question_id": 28729437, "link": "https://stackoverflow.com/questions/28729437/python-why-is-binary-and-operator-allowed-between-sets-but-not-lists/28729501#28729501", "title": "Python: Why is binary AND operator allowed between sets, but not lists?", "body": "<p>Because a <code>list</code> is allowed to have duplicates, so they cannot be treated as a <code>set</code>. There is no formal definition of what intersection, difference, etc would mean if the elements are not unique.</p>\n\n<p>For example, what would the difference of this be</p>\n\n<pre><code>'aaabbc' - 'aab'\n</code></pre>\n\n<p>Should you remove them only up to the counts of each unique element?</p>\n\n<pre><code>'abc'\n</code></pre>\n\n<p>Or remove any element that occurs in the second list?</p>\n\n<pre><code>'c'\n</code></pre>\n"}], "owner": {"reputation": 4586, "user_id": 2117603, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/33e11f005800fb59c55f444f0a3a7b09?s=128&d=identicon&r=PG", "display_name": "GL2014", "link": "https://stackoverflow.com/users/2117603/gl2014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 28729501, "answer_count": 1, "score": 0, "last_activity_date": 1424898159, "creation_date": 1424897943, "question_id": 28729437, "link": "https://stackoverflow.com/questions/28729437/python-why-is-binary-and-operator-allowed-between-sets-but-not-lists", "title": "Python: Why is binary AND operator allowed between sets, but not lists?", "body": "<p>Why can I do <code>set('dog') &amp; set('hotdog')</code> to find the similar letters, but cannot do the same with a list? i.e <code>['dog'] &amp; ['hotdog']</code></p>\n\n<p>What is the reasoning for this from a computer science perspective?</p>\n"}, {"tags": ["python", "file", "io"], "comments": [{"owner": {"reputation": 1548, "user_id": 3368845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wCXhp.jpg?s=128&g=1", "display_name": "EvergreenTree", "link": "https://stackoverflow.com/users/3368845/evergreentree"}, "edited": false, "score": 2, "creation_date": 1424897989, "post_id": 28729411, "comment_id": 45745168, "body": "What do you expect when you only open the file for reading?  Use <code>&quot;w&quot;</code> instead of <code>&quot;r+&quot;</code>"}, {"owner": {"reputation": 37, "user_id": 2402613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/adbb13ea1dfc816830d4bd0d3e307737?s=128&d=identicon&r=PG", "display_name": "rvnbrg", "link": "https://stackoverflow.com/users/2402613/rvnbrg"}, "reply_to_user": {"reputation": 1548, "user_id": 3368845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wCXhp.jpg?s=128&g=1", "display_name": "EvergreenTree", "link": "https://stackoverflow.com/users/3368845/evergreentree"}, "edited": false, "score": 1, "creation_date": 1424898132, "post_id": 28729411, "comment_id": 45745256, "body": "According to official documentation &#171;&#39;r+&#39; opens the file for both reading and writing&#187; (<a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/inputoutput.html</a>)"}, {"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1424898216, "post_id": 28729411, "comment_id": 45745298, "body": "Is the posted code your actual code? Then what is <code>[line1, line2, line3]</code>?"}, {"owner": {"reputation": 37, "user_id": 2402613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/adbb13ea1dfc816830d4bd0d3e307737?s=128&d=identicon&r=PG", "display_name": "rvnbrg", "link": "https://stackoverflow.com/users/2402613/rvnbrg"}, "edited": false, "score": 0, "creation_date": 1424898342, "post_id": 28729411, "comment_id": 45745369, "body": "This is simplified version. I have some patterns of lines I&#39;d like to change. Here I designate them as line1, line2, line3."}, {"owner": {"reputation": 1548, "user_id": 3368845, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wCXhp.jpg?s=128&g=1", "display_name": "EvergreenTree", "link": "https://stackoverflow.com/users/3368845/evergreentree"}, "edited": false, "score": 0, "creation_date": 1424898348, "post_id": 28729411, "comment_id": 45745371, "body": "It does, sorry about that.  That&#39;s what I get for commenting without researching."}, {"owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "edited": false, "score": 0, "creation_date": 1424898792, "post_id": 28729411, "comment_id": 45745603, "body": "have you seen the fileinput module with <code>inplace</code> file editing?  <a href=\"https://docs.python.org/2/library/fileinput.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/fileinput.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 366515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e7653f554b138ceb701296ce99562e?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/366515/roger"}, "edited": false, "score": 1, "creation_date": 1424898643, "post_id": 28729642, "comment_id": 45745528, "body": "Also move the &#39;data = f.read()&#39; to outside of the loop or else you end up resetting your data every time through."}, {"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "reply_to_user": {"reputation": 358, "user_id": 366515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e7653f554b138ceb701296ce99562e?s=128&d=identicon&r=PG", "display_name": "Roger", "link": "https://stackoverflow.com/users/366515/roger"}, "edited": false, "score": 0, "creation_date": 1424898879, "post_id": 28729642, "comment_id": 45745656, "body": "@Roger Right, I didn&#39;t realize about that."}], "tags": [], "owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "is_accepted": false, "score": 2, "last_activity_date": 1424898935, "last_edit_date": 1424898935, "creation_date": 1424898594, "answer_id": 28729642, "question_id": 28729411, "link": "https://stackoverflow.com/questions/28729411/python-doesnt-write-in-file/28729642#28729642", "title": "Python doesn&#39;t write in file", "body": "<p>The <code>replace</code> function doesn't make changes in the object itself, but it returns a new string. So what you need is:</p>\n\n<pre><code>data = data.replace(line, new_line)\n</code></pre>\n\n<p>And taking Roger's comment, your code should look like this:</p>\n\n<pre><code>filename = \"filename.txt\"\nf = open(filename, \"r+\")\n\nlines = [line1, line2, line3]\ndata = f.read()\n\nfor line in lines:\n    new_line = \"some new line\"\n    data = data.replace(line, new_line)\n\nf.write(data)\nf.close()\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 2402613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/adbb13ea1dfc816830d4bd0d3e307737?s=128&d=identicon&r=PG", "display_name": "rvnbrg", "link": "https://stackoverflow.com/users/2402613/rvnbrg"}, "edited": false, "score": 1, "creation_date": 1424901694, "post_id": 28729832, "comment_id": 45747202, "body": "Except problem with adding extra &#39;\\n&#39; between lines. I solved this using print(), with comma for all lines and print() without comma for modified lines."}], "tags": [], "owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "is_accepted": true, "score": 0, "last_activity_date": 1424901878, "last_edit_date": 1424901878, "creation_date": 1424899228, "answer_id": 28729832, "question_id": 28729411, "link": "https://stackoverflow.com/questions/28729411/python-doesnt-write-in-file/28729832#28729832", "title": "Python doesn&#39;t write in file", "body": "<pre><code>import fileinput \n\nfor line in fileinput.input( filename , inplace = 1 ):\n   print line.replace(\"SOMETHING\", \"SOMETHING ELSE\" ), # catch for double line breaks\n</code></pre>\n\n<p>useful for editing files inline. </p>\n"}], "owner": {"reputation": 37, "user_id": 2402613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/adbb13ea1dfc816830d4bd0d3e307737?s=128&d=identicon&r=PG", "display_name": "rvnbrg", "link": "https://stackoverflow.com/users/2402613/rvnbrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 28729832, "answer_count": 2, "score": -1, "last_activity_date": 1424901878, "creation_date": 1424897841, "question_id": 28729411, "link": "https://stackoverflow.com/questions/28729411/python-doesnt-write-in-file", "title": "Python doesn&#39;t write in file", "body": "<p>Have problem with replacing lines in file. Not sure if changes weren't written in file or data lines weren't replaced.\nHere is how I tried to do this:</p>\n\n<pre><code>filename = \"filename.txt\"\nf = open(filename, \"r+\")\n\nlines = [line1, line2, line3]\n\nfor line in lines:\n    data = f.read()\n    new_line = \"some new line\"\n    data.replace(line, new_line)\n\nf.write(data)\nf.close()\n</code></pre>\n\n<p>Where could the problem be?</p>\n"}, {"tags": ["python", "mysql", "cursor"], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 0, "last_activity_date": 1424898317, "last_edit_date": 1424898317, "creation_date": 1424897994, "answer_id": 28729452, "question_id": 28729382, "link": "https://stackoverflow.com/questions/28729382/using-a-cursor-to-access-a-mysql-database-using-python/28729452#28729452", "title": "Using a cursor to access a MySQL database using Python?", "body": "<p>The cursor object is a required part of the Python <a href=\"https://www.python.org/dev/peps/pep-0249/\" rel=\"nofollow\">DB API</a>. All database library implementations will do it this way.</p>\n"}], "owner": {"reputation": 8327, "user_id": 1064923, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GOWoS.jpg?s=128&g=1", "display_name": "ReactingToAngularVues", "link": "https://stackoverflow.com/users/1064923/reactingtoangularvues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28729452, "answer_count": 1, "score": 0, "last_activity_date": 1424898317, "creation_date": 1424897716, "last_edit_date": 1495540251, "question_id": 28729382, "link": "https://stackoverflow.com/questions/28729382/using-a-cursor-to-access-a-mysql-database-using-python", "title": "Using a cursor to access a MySQL database using Python?", "body": "<p>I'm in the process of writing a simple Python script which grabs some data from an API and inserts it into my database. I would use a language I'm more familiar with, but as far as I'm aware, the API I'm working with is only accessible in Python. </p>\n\n<p>Naturally, I'm now at the step where I need to insert the data into my database. Most documentation and references I've read <a href=\"https://stackoverflow.com/questions/7929364/python-best-practice-and-securest-to-connect-to-mysql-and-execute-queries\">seem</a> to <a href=\"https://stackoverflow.com/questions/372885/how-do-i-connect-to-a-mysql-database-in-python\">prefer</a> to <a href=\"https://stackoverflow.com/questions/372885/how-do-i-connect-to-a-mysql-database-in-python/20959654#20959654\">use</a> the <code>mysqldb</code> package. </p>\n\n<p>At a glance, this package appears to involve the use of cursors.</p>\n\n<p>However, I've always heard that <a href=\"https://stackoverflow.com/questions/58141/why-is-it-considered-bad-practice-to-use-cursors-in-sql-server\">cursors are bad</a> for a variety of reasons, mainly related to table locking, and excessive memory consumption.</p>\n\n<p>Considering at the same time as this Python script will be updating my database, there will be concurrent read requests on my database, should I be using the <code>mysqldb</code> to access my database or not? Is there a better solution?</p>\n"}, {"tags": ["python", "twitter", "twitter-streaming-api"], "owner": {"reputation": 3871, "user_id": 2203324, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/054631c090c610bb1ed8c3e76e1f3b38?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2203324/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1424904424, "creation_date": 1424897627, "last_edit_date": 1424904424, "question_id": 28729357, "link": "https://stackoverflow.com/questions/28729357/twitters-streaming-api-statuses-filter-erroneous-tweets", "title": "Twitter&#39;s Streaming API (statuses/filter) &amp; Erroneous Tweets", "body": "<p><strong>Background</strong></p>\n\n<p>I'm using Twitter's <code>statuses/filter</code> <a href=\"https://dev.twitter.com/streaming/reference/post/statuses/filter\" rel=\"nofollow\">Streaming API</a> and filtering with a geo-bounding box.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>Of the tweets that I can \"sanity check\" (e.g. tweets that have a Point-type coordinate which, thus, allows me to check if it falls within the bounding box), <strong>greater than 80%</strong> do <strong>NOT</strong> fall within the bounding box.</p>\n\n<p>In short, there are a ton of false positives coming across the wire.</p>\n\n<p><strong>Good news</strong></p>\n\n<p>The good news that it seems the API <em>does not</em> <strong>miss</strong> any Tweets (i.e. so far, every tweet I've published within the box <strong>is</strong> caught by the API).</p>\n\n<p>The bad news is ... the 80% of false positives.</p>\n\n<p><strong>Ask</strong></p>\n\n<p>I'm curious if anyone has noticed the same phenomenon (and/or knows how to get better results).</p>\n\n<p>Not that it likely matters, but I'm using the <code>TwitterAPI</code> Python library.</p>\n\n<p><strong>Sample code if you want to try</strong></p>\n\n<pre><code>from TwitterAPI import TwitterAPI\napi = TwitterAPI(\"your\", \"codes\", \"go\", \"here\")\n\nswLon = -74\nswLat = 40\nneLon = -73\nneLat = 41\nstream = api.request('statuses/filter', {'locations': str(swLon) +','+ str(swLat) +','+ str(neLon) +','+ str(neLat) })\n\nfor tweet in stream:\n\n# verify the tweet has geo information (and a usable point-type coordinate pair)\nif 'geo' in tweet:\n    if tweet['geo'] is not None:\n        if tweet['geo']['type'] == 'Point':               \n            # get the tweet's coordinates\n            tweetLat = tweet['geo']['coordinates'][0]\n            tweetLon = tweet['geo']['coordinates'][1]\n\n            # sanity check to ensure the tweet is actually within our market bounding box\n            if tweetLat &lt; neLat and tweetLat &gt; swLat and tweetLon &lt; neLon and tweetLon &gt; swLon:\n                print \"good\"\n            else:\n                print \"false +\"\n</code></pre>\n"}, {"tags": ["python", "function", "user-defined-functions", "raw-input"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 8, "creation_date": 1424897584, "post_id": 28729328, "comment_id": 45744951, "body": "If it &quot;crashes&quot;, it will give you an error message. Part of learning to program is learning to read the error messages. Try and do so, and see if you can solve the problem yourself; if you really can&#39;t, update your post with the error and what you have done, and maybe we can guide you."}, {"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 5, "creation_date": 1424897618, "post_id": 28729328, "comment_id": 45744967, "body": "I don&#39;t even know where to start."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424897635, "post_id": 28729328, "comment_id": 45744984, "body": "What did you want it to do?"}, {"owner": {"reputation": 2200, "user_id": 677131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b59b14d40a63bf44b5d6695d0e236a0?s=128&d=identicon&r=PG", "display_name": "Lubo Antonov", "link": "https://stackoverflow.com/users/677131/lubo-antonov"}, "edited": false, "score": 3, "creation_date": 1424897714, "post_id": 28729328, "comment_id": 45745020, "body": "There are so many problems in your code that I would suggest reading a book on Python first."}, {"owner": {"reputation": 736, "user_id": 2783903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ecd8d52090a933ee3362bd05b95e8e6c?s=128&d=identicon&r=PG&f=1", "display_name": "JonB", "link": "https://stackoverflow.com/users/2783903/jonb"}, "edited": false, "score": 2, "creation_date": 1424897729, "post_id": 28729328, "comment_id": 45745029, "body": "Hint:  Check colon usage and indenting."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1424900355, "post_id": 28729328, "comment_id": 45746528, "body": "Your go_north function has a colon : after the name. The other function definitions need that too."}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "reply_to_user": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 0, "creation_date": 1424900857, "post_id": 28730220, "comment_id": 45746787, "body": "Yeah, a little more work will need to be done, but without knowing the goal of the program, this is the best I could do"}, {"owner": {"reputation": 81300, "user_id": 296974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e26cfe3ac75cd582ca200fbc6fa0421?s=128&d=identicon&r=PG", "display_name": "glglgl", "link": "https://stackoverflow.com/users/296974/glglgl"}, "edited": false, "score": 0, "creation_date": 1424901015, "post_id": 28730220, "comment_id": 45746853, "body": "Pointing out that it they are pointless would have been one way to do ;-)"}, {"owner": {"reputation": 1, "user_id": 4348133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf76e96d48abe66b12d988a83caa85e9?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin riley", "link": "https://stackoverflow.com/users/4348133/benjamin-riley"}, "edited": false, "score": 0, "creation_date": 1425004723, "post_id": 28730220, "comment_id": 45794192, "body": "yeah sorry guys its mostly to move a character around in an array by changing row and column location"}], "tags": [], "owner": {"reputation": 190, "user_id": 4205830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f96a72aca2e0cb89f149eb9163a6b3b3?s=128&d=identicon&r=PG&f=1", "display_name": "TeneCursum", "link": "https://stackoverflow.com/users/4205830/tenecursum"}, "is_accepted": false, "score": 0, "last_activity_date": 1424900565, "creation_date": 1424900565, "answer_id": 28730220, "question_id": 28729328, "link": "https://stackoverflow.com/questions/28729328/when-defining-functions-in-python-program-crashes/28730220#28730220", "title": "when defining functions in python program crashes", "body": "<p>There's a lot wrong here...</p>\n\n<pre><code>def go_north():\n    x = r - 1 \n\ndef go_south():\n    x = r + 1\n\ndef go_west():\n    x = c - 1\n\ndef go_east():\n    x = c + 1\n\ninput = raw_input (\"\")\nif input == \"w\":\n    go_north()\nelif input == \"s\":\n    go_west()\nelif input == \"a\":\n    go_east()\nelif input == \"d\":\n    go_west()\n</code></pre>\n\n<p>I'd suggest reading up on python syntax</p>\n"}], "owner": {"reputation": 1, "user_id": 4348133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf76e96d48abe66b12d988a83caa85e9?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin riley", "link": "https://stackoverflow.com/users/4348133/benjamin-riley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1425005477, "creation_date": 1424897485, "last_edit_date": 1425005477, "question_id": 28729328, "link": "https://stackoverflow.com/questions/28729328/when-defining-functions-in-python-program-crashes", "title": "when defining functions in python program crashes", "body": "<p>as apparent by my obvious lack of programming experience im fairly new and a slow learner can someone please explain this to me? the rest of the program runs fine independent from this section but i can't even run this section by itself.\nI have four functions to declare and define.x is an the position of the character r is the row number and c is the collumn number.</p>\n\n<pre><code>def go_north():\n    x = r - 1 \ndef go_south():\n    x = r + 1\ndef go_west():\n    x = c - 1\ndef go_east():\n    x = c + 1\n\ncollumn = \"c\"\nrow= \"r\"\n\nx = []\ny = 0 \nrow =3\ncollumn =9\nwhile (y &lt; row):\n    x.append ([])\n    y= y +1\n\ny = 0 \nz = 0 \nwhile(z &lt; row): \n    y=0\n    while(y &lt; collumn): \n            x[z].append('*')\n            y=y+1\n    z=z+1\nx[4][4] = \"#\"\n\n\nraw_input (\"\")\n    if \"w\" = go_north:\n    else \"s\"= go_west:\n    else \"a\"= go_east:\n    elif \"d\"= go_west:\n\nfor y in x:\n    print y\n</code></pre>\n\n<p>raw_input(\"\")</p>\n\n<p>when i run any part of this code the program crashes and i cant find my problem.\nany tips or places that i can go to to find the solution? (as silly as it may seem the indenting is correct in the actual program)</p>\n"}, {"tags": ["python", "sql", "list", "parsing", "indexing"], "comments": [{"owner": {"reputation": 708, "user_id": 3302584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/19cai.jpg?s=128&g=1", "display_name": "Awn", "link": "https://stackoverflow.com/users/3302584/awn"}, "reply_to_user": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1424898381, "post_id": 28729306, "comment_id": 45745390, "body": "@latheef itzmeontv Sorry, edited."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1424898828, "post_id": 28729306, "comment_id": 45745622, "body": "here where is <code>database</code> operation?"}], "answers": [{"comments": [{"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424897858, "post_id": 28729407, "comment_id": 45745113, "body": "This is not an answer to the question."}, {"owner": {"reputation": 346, "user_id": 1200279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/379892a76a22cb52755b3843cbb78a3a?s=128&d=identicon&r=PG", "display_name": "ETS", "link": "https://stackoverflow.com/users/1200279/ets"}, "reply_to_user": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424898290, "post_id": 28729407, "comment_id": 45745342, "body": "@Elizion it is a possible answer since python my generate valueerror if keys are not matching. and if you notice &quot;field&quot; while it should be &quot;fields&quot;"}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424898351, "post_id": 28729407, "comment_id": 45745375, "body": "In that case, I would advise rephrasing your answer so it does not appear to be a rudimentary question."}, {"owner": {"reputation": 346, "user_id": 1200279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/379892a76a22cb52755b3843cbb78a3a?s=128&d=identicon&r=PG", "display_name": "ETS", "link": "https://stackoverflow.com/users/1200279/ets"}, "edited": false, "score": 0, "creation_date": 1424898905, "post_id": 28729407, "comment_id": 45745666, "body": "is that logic thread safe? Since it works sometimes and sometimes it doesn&#39;t"}, {"owner": {"reputation": 708, "user_id": 3302584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/19cai.jpg?s=128&g=1", "display_name": "Awn", "link": "https://stackoverflow.com/users/3302584/awn"}, "edited": false, "score": 0, "creation_date": 1424968590, "post_id": 28729407, "comment_id": 45777758, "body": "It works consistently for some databases. And it consistently fails to work with others. But the main gist is, that &#39;x&#39; is in the list, and it&#39;s telling me that it isn&#39;t."}, {"owner": {"reputation": 346, "user_id": 1200279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/379892a76a22cb52755b3843cbb78a3a?s=128&d=identicon&r=PG", "display_name": "ETS", "link": "https://stackoverflow.com/users/1200279/ets"}, "edited": false, "score": 0, "creation_date": 1424976444, "post_id": 28729407, "comment_id": 45782578, "body": "Are you doing any kind of modifications to the list? because it looks that you are getting this list from the database. And if this list is being modified by other thread at the same time then it will cause this issue. To check for this issue add a log statement to print the list before doing the pattern.index"}], "tags": [], "owner": {"reputation": 346, "user_id": 1200279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/379892a76a22cb52755b3843cbb78a3a?s=128&d=identicon&r=PG", "display_name": "ETS", "link": "https://stackoverflow.com/users/1200279/ets"}, "is_accepted": false, "score": -1, "last_activity_date": 1424897834, "creation_date": 1424897834, "answer_id": 28729407, "question_id": 28729306, "link": "https://stackoverflow.com/questions/28729306/not-in-list-error/28729407#28729407", "title": "&#39;&#39; not in list error", "body": "<p>Are you sure that \"password\" inside pattern list is \"password\" not \" password\" or \"password \"</p>\n"}, {"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1424897894, "creation_date": 1424897894, "answer_id": 28729426, "question_id": 28729306, "link": "https://stackoverflow.com/questions/28729306/not-in-list-error/28729426#28729426", "title": "&#39;&#39; not in list error", "body": "<p>I'm not sure what the problem is, but a much nicer way of doing this would be to create a dict by zipping the two lists together:</p>\n\n<pre><code>values_dict = dict(zip(pattern, values))\n</code></pre>\n\n<p>Now you can do:</p>\n\n<pre><code>for field in fields:\n    print values_dict[field]\n</code></pre>\n"}], "owner": {"reputation": 708, "user_id": 3302584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/19cai.jpg?s=128&g=1", "display_name": "Awn", "link": "https://stackoverflow.com/users/3302584/awn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1424898366, "creation_date": 1424897414, "last_edit_date": 1424898366, "question_id": 28729306, "link": "https://stackoverflow.com/questions/28729306/not-in-list-error", "title": "&#39;&#39; not in list error", "body": "<p>This may seem like a duplicate question, but bear with me. None of the other posts solve my problem.</p>\n\n<p>I have a list of fields in a table to parse. Here's an example:</p>\n\n<pre><code>fields = ['username', 'password', 'salt']\n</code></pre>\n\n<p>Then I have another list with all the fields of the table:</p>\n\n<pre><code>pattern = ['uid', 'username', 'password', 'salt', 'loginkey', 'email']\n</code></pre>\n\n<p>And another list with the values:</p>\n\n<pre><code>values = ['1', 'example', 'eladhksefhskf', 'aeaed', 'awdlkahflhef', 'awd@awd.com']\n</code></pre>\n\n<p>What I do is this:</p>\n\n<pre><code>for x in field:\n    index = pattern.index(x)\n    string += values[index] + ':'\n</code></pre>\n\n<p>The above code works for some databases but not for others. With the others, it gives me this:</p>\n\n<p>ValueError: 'password' is not in list (pattern)</p>\n\n<p>When it so clearly is.</p>\n\n<p>Help?</p>\n"}, {"tags": ["python", "winapi", "pywin32", "win32com"], "answers": [{"comments": [{"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "edited": false, "score": 1, "creation_date": 1424901126, "post_id": 28730297, "comment_id": 45746916, "body": "I know, this is incomplete answer, but comment with multi-line code doesn&#39;t look nice also."}, {"owner": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 0, "creation_date": 1424902627, "post_id": 28730297, "comment_id": 45747602, "body": "Thanks for your short and helpful answer, Now I get the idea to look into right direction"}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "reply_to_user": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 0, "creation_date": 1425159332, "post_id": 28730297, "comment_id": 45850247, "body": "Further steps need more specifics. But when &quot;Internet Options&quot; dialog is open, this is very simple now."}, {"owner": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 0, "creation_date": 1425453600, "post_id": 28730297, "comment_id": 45965000, "body": "GetButtonInfo failed for button with command id 101 any idea ? for  main.PageControlToolbar.PressButton(6)"}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "reply_to_user": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 0, "creation_date": 1425457708, "post_id": 28730297, "comment_id": 45966728, "body": "Which IE version? Which pywinauto version?"}, {"owner": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 0, "creation_date": 1425460855, "post_id": 28730297, "comment_id": 45968417, "body": "IE 8 pywinauto 0.4.0 and python 64bit, I think pywinauto does not support 64 bit"}, {"owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "reply_to_user": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "edited": false, "score": 1, "creation_date": 1425461316, "post_id": 28730297, "comment_id": 45968704, "body": "Yes, official pywinauto doesn&#39;t support 64-bit. My clone supports it: <a href=\"https://github.com/vasily-v-ryabov/pywinauto-64\" rel=\"nofollow noreferrer\">github.com/vasily-v-ryabov/pywinauto-64</a> Also if IE8 process is 32-bit (see in Task Manager), 32-bit Python is required anyway."}], "tags": [], "owner": {"reputation": 7644, "user_id": 3648361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1aeF.jpg?s=128&g=1", "display_name": "Vasily Ryabov", "link": "https://stackoverflow.com/users/3648361/vasily-ryabov"}, "is_accepted": false, "score": 0, "last_activity_date": 1433081268, "last_edit_date": 1433081268, "creation_date": 1424900859, "answer_id": 28730297, "question_id": 28729300, "link": "https://stackoverflow.com/questions/28729300/i-want-to-change-setting-of-internet-explorer-through-pywin32/28730297#28730297", "title": "I want to change setting of internet explorer through pywin32", "body": "<p>That's interesting task. I just don't know how submenu window is created in IE. The following code presses \"Tools\" menu button (IE 8), but I could not detect a menu window. Workaround is typing keys.</p>\n\n<pre><code>import pywinauto, time\n\napp = pywinauto.Application().start_(r\"C:\\Program Files (x86)\\Internet Explorer\\iexplore.exe\")\nmain = app.Window_(title_re='^.* - Windows Internet Explorer$')\n\nmain.PageControlToolbar.PressButton(6) # stop loading, just in case\nmain.ToolbarFile.PressButton('&amp;Tools')\ntime.sleep(1)\nmain.TypeKeys('{UP}{ENTER}')\n\napp.InternetOptions.Wait('ready')\napp.InternetOptions.TabControl.Select('Connections')\n</code></pre>\n\n<p>Ah, yes, <a href=\"https://code.google.com/p/pywinauto/\" rel=\"nofollow\">there's link to pywinauto</a>. But the code above is checked on <a href=\"https://github.com/pywinauto/pywinauto\" rel=\"nofollow\">development version of pywinauto</a>, so original pywinauto 0.4.2 may not find \"ToolbarFile\" properly (use \"Toolbar3\" instead).</p>\n"}], "owner": {"reputation": 61, "user_id": 2122462, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UeBJt.jpg?s=128&g=1", "display_name": "Vijay Santore", "link": "https://stackoverflow.com/users/2122462/vijay-santore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 682, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433081268, "creation_date": 1424897398, "question_id": 28729300, "link": "https://stackoverflow.com/questions/28729300/i-want-to-change-setting-of-internet-explorer-through-pywin32", "title": "I want to change setting of internet explorer through pywin32", "body": "<p>I want to change setting of explorer through pywin32\nI am able to get url and data within browser but not getting way to access tool\nand other setting options. </p>\n"}, {"tags": ["python", "math"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1424897855, "post_id": 28729266, "comment_id": 45745108, "body": "For some <a href=\"http://stackoverflow.com/questions/26260950/how-can-i-randomly-choose-a-maths-operator-and-ask-recurring-maths-questions-wit/26261125#26261125\">reading material</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424898625, "post_id": 28729335, "comment_id": 45745513, "body": "It would be, but it would hardly be helpful. I would take a look at the reading material that was provided in the comments by Cyber, and try to figure it out yourself. Follow my answer, try and diagnose any further issues you have, and if you absolutely cannot figure them out then update your question or ask another question!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4593673"}, "edited": false, "score": 0, "creation_date": 1424901069, "post_id": 28729335, "comment_id": 45746885, "body": "I have attempted the changes you suggest but still no luck. Still a problem with the indentations I think. Would it be possible to see how you would have corrected it, it would be appreciated"}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424901690, "post_id": 28729335, "comment_id": 45747199, "body": "@123abc I fixed your indentation and your counter and <code>if</code> assignments. If you have any further questions it is probably best to specify them in a new question (if they are valid questions). An accepted answer is always appreciated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4593673"}, "edited": false, "score": 0, "creation_date": 1424901813, "post_id": 28729335, "comment_id": 45747262, "body": "Thanks again for your help"}, {"owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "edited": false, "score": 0, "creation_date": 1424902281, "post_id": 28729335, "comment_id": 45747450, "body": "@123abc You can close a question with the checkmark beside a suitable answer."}], "tags": [], "owner": {"reputation": 3159, "user_id": 4450134, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0207987892f359cb7d9b56e8aa4fc75c?s=128&d=identicon&r=PG&f=1", "display_name": "HavelTheGreat", "link": "https://stackoverflow.com/users/4450134/havelthegreat"}, "is_accepted": true, "score": 0, "last_activity_date": 1424901635, "last_edit_date": 1424901635, "creation_date": 1424897551, "answer_id": 28729335, "question_id": 28729266, "link": "https://stackoverflow.com/questions/28729266/python-maths-quiz-outputting-correct-or-incorrect/28729335#28729335", "title": "Python Maths Quiz- Outputting Correct or Incorrect", "body": "<p>Your counter isn't incrementing within your <code>while</code> loop, as you have some serious indentation problems. As a result, your <code>while</code> loop just runs forever and you have an infinite loop. Make sure you <strong>indent</strong> the code <em>including the counter</em> which you wish to have in your <code>while</code> loop in order for that code to be executed and for your <code>while</code> loop to actually stop. </p>\n\n<p><strong><em>EDIT:</em></strong>\nI fixed your indentation and your counter. Note that your division still will not work unless the quotient happens to be an integer, if you want to fix that you'll have to do some research yourself.</p>\n\n<pre><code>import random\nimport time\ncounter=0\nscore=0\ncount=0\n\nfunction=['+','x','\u00f7','-']\n\nprint('Welcome To The Arithmetic Quiz!')\nname=input('Please enter you name.')\nprint('Thanks' , name , 'Lets Get Started!')\n\nwhile counter &lt;10:\n    firstnumber=random.randint(0,12)\n    secondnumber=random.randint(0,6)\n    operator=random.choice(function)\n\n    question=print(firstnumber, operator, secondnumber, '=')\n    userAnswer = input('Answer:')\n\n\n    if operator== '+':\n                    count=firstnumber+secondnumber\n                    if count == int (userAnswer):\n                        print ('Correct!')\n                        score= score+1\n                    else:\n                        print ('Incorrect')\n    elif operator== 'x':\n                    count=firstnumber*secondnumber\n                    if count == int (userAnswer):\n                        print ('Correct!')\n                        score= score+1\n                    else:\n                        print ('Incorrect')\n    elif operator== '-':\n                    count=firstnumber-secondnumber\n                    if count == int (userAnswer):\n                        print ('Correct!')\n                        score= score+1\n                    else:\n                        print ('Incorrect')\n    elif operator== '\u00f7':\n                    count=firstnumber/secondnumber\n                    if count == int (userAnswer):\n                        print ('Correct!')\n                        score= score+1\n                    else:\n                        print ('Incorrect')\n    counter += 1\n\nprint (\"Your quiz is over!\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 4563233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oqcd7.jpg?s=128&g=1", "display_name": "BendyMan", "link": "https://stackoverflow.com/users/4563233/bendyman"}, "is_accepted": false, "score": 0, "last_activity_date": 1424899015, "last_edit_date": 1424899015, "creation_date": 1424898792, "answer_id": 28729712, "question_id": 28729266, "link": "https://stackoverflow.com/questions/28729266/python-maths-quiz-outputting-correct-or-incorrect/28729712#28729712", "title": "Python Maths Quiz- Outputting Correct or Incorrect", "body": "<p>Your code is poorly indented, as Elizion has pointed out. Also <code>count==number + number</code> should be <code>count=number + number</code>.\nThen function is assigned a value which can never be changed - consider changing one of the variable names. Use <code>else</code>, not <code>elif</code> for the final possible condition. How about printing the score at the end.\nI've corrected your code, but have a go yourself first...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4593673"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 28729335, "answer_count": 2, "score": 0, "last_activity_date": 1424901635, "creation_date": 1424897293, "last_edit_date": 1424901558, "question_id": 28729266, "link": "https://stackoverflow.com/questions/28729266/python-maths-quiz-outputting-correct-or-incorrect", "title": "Python Maths Quiz- Outputting Correct or Incorrect", "body": "<pre><code>import random\nimport time\ncounter=0\nscore=0\ncount=0\n\nfunction=['+','x','\u00f7','-']\n\nprint('Welcome To The Arithmetic Quiz!')\nname=input('Please enter you name..')\nprint('Thanks' , name , 'Lets Get Started!')\n\nwhile counter &lt;10:\n    firstnumber=random.randint(0,12)\n    secondnumber=random.randint(0,6)\n    function=random.choice(function)\n\nquestion=print(firstnumber, function, secondnumber, '=')\ninput('Answer:')\ncounter= counter+1\n\nif function== '+':\n                count==firstnumber+secondnumber\n                if count == int (answer):\n                    print ('Correct!')\n                    score= score+1\n                else:\n                    print ('Incorrect')\nelif function== 'x':\n                count==firstnumber*secondnumber\n                if count == int (answer):\n                    print ('Correct!')\n                    score= score+1\n                else:\n                    print ('Incorrect')\nelif function== '-':\n                count==firstnumber-secondnumber\n                if count == int (answer):\n                    print ('Correct!')\n                    score= score+1\n                else:\n                    print ('Incorrect')\nelif function== '\u00f7':\n                count==firstnumber/secondnumber\n                if count == int (answer):\n                    print ('Correct!')\n                    score= score+1\n                else:\n                    print ('Incorrect')\n</code></pre>\n\n<p>Could anybody correct the end section ( <code>if</code> function ) and ( <code>elif</code> function )\nI think it is something to do with the variable names.</p>\n\n<p>It also does not run properly as it stops at:  <code>print('Thanks' , name , 'Lets Get Started!')</code>, again I am unsure why this is.                         </p>\n"}, {"tags": ["python", "regex", "unix", "merge", "bioinformatics"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1424897511, "post_id": 28729216, "comment_id": 45744899, "body": "You can read a large file <a href=\"https://stackoverflow.com/questions/8009882/how-to-read-large-file-line-by-line-in-python\">one line at a time</a> in Python."}, {"owner": {"reputation": 997, "user_id": 1146551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5591d055c85cf5242fb1f159b67aa6a1?s=128&d=identicon&r=PG", "display_name": "heathobrien", "link": "https://stackoverflow.com/users/1146551/heathobrien"}, "edited": false, "score": 0, "creation_date": 1424943829, "post_id": 28729216, "comment_id": 45761662, "body": "This would be eaily accomplised with something like MySQL or SQLite"}], "answers": [{"tags": [], "owner": {"reputation": 2595, "user_id": 2619878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qDmtu.jpg?s=128&g=1", "display_name": "Ismail Moghul", "link": "https://stackoverflow.com/users/2619878/ismail-moghul"}, "is_accepted": false, "score": 1, "last_activity_date": 1424995278, "creation_date": 1424995278, "answer_id": 28755177, "question_id": 28729216, "link": "https://stackoverflow.com/questions/28729216/merge-two-large-text-files-by-common-row-to-one-mapping-file/28755177#28755177", "title": "Merge two large text files by common row to one mapping file", "body": "<p>In my opinion, the easiest way would be to use BLAST+...</p>\n\n<p>Set up the larger file as a BLAST database and use the smaller file as the query...</p>\n\n<p>Then just write a small script to analyse the output - I.e. Take the top hit or two to create the mapping file.</p>\n\n<p>BTW. You might find SequenceServer (Google it) helpful in setting up a custom Blast database and your BLAST environment...</p>\n"}, {"tags": [], "owner": {"reputation": 18644, "user_id": 50065, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f8b1ed37a47da3547e6f0b6f60a916a3?s=128&d=identicon&r=PG", "display_name": "BioGeek", "link": "https://stackoverflow.com/users/50065/biogeek"}, "is_accepted": true, "score": 0, "last_activity_date": 1432628338, "creation_date": 1432628338, "answer_id": 30453148, "question_id": 28729216, "link": "https://stackoverflow.com/questions/28729216/merge-two-large-text-files-by-common-row-to-one-mapping-file/30453148#30453148", "title": "Merge two large text files by common row to one mapping file", "body": "<p><code>BioPython</code> should be able to read in large FASTA files.</p>\n\n<pre><code>from Bio import SeqIO\nfrom collections import defaultdict\n\nmapping = defaultdict(list)\n\nfor stool_record in SeqIO.parse('stool.fasta', 'fasta'):\n    stool_seq = str(stool_record.seq)\n\n    for lib_record in SeqIO.parse('libs.fasta', 'fasta'):\n        lib_seq = str(lib_record.seq)\n\n        if stool_seq.startswith(lib_seq):\n            mapping[lib_record.id.split(';')[0]].append(stool_record.id)\n</code></pre>\n"}], "owner": {"reputation": 554, "user_id": 1406444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6a63597e64ab3951e140d4cc4dae4f8?s=128&d=identicon&r=PG", "display_name": "jds", "link": "https://stackoverflow.com/users/1406444/jds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 1, "accepted_answer_id": 30453148, "answer_count": 2, "score": 2, "last_activity_date": 1478859847, "creation_date": 1424897097, "last_edit_date": 1424897467, "question_id": 28729216, "link": "https://stackoverflow.com/questions/28729216/merge-two-large-text-files-by-common-row-to-one-mapping-file", "title": "Merge two large text files by common row to one mapping file", "body": "<p>I have two text files that have similar formatting. The first (732KB): </p>\n\n<pre><code>&gt;lib_1749;size=599;\nTACGGAGGATGCGAGCGTTATCCGGATTTATTGGGTTTAAAGGGAGCGTAGGCGGACTATTAAGTCAGCTGTGAAAGTTTGCGGCTCAACCGTAAAATTGCTAGCGGTGAAATGCTTAGATATCACGAAGAACTCCGATTGCGAAGGCAGCTCACTAGACTGTCACTGACACTGATGCTCGAAAGTGTGGGTATCAAACA\n--\n&gt;lib_2235;size=456;\nTACGGAGGATCCGAGCGTTATCCGGATTTATTGGGTTTAAAGGGAGCGTAGGCGGACTATTAAGTCAGCTGTGAAAGTTTGCGGCTCAACCGTAAAATTGCTAGCGGTGAAATGCTTAGATATCACGAAGAACTCCGATTGCGAAGGCAGCTTACTGGACTGTAACTGACGTTGAGGCTCGAAAGCGTGGGGAGCAAACA\n--\n&gt;lib_13686;size=69;\nTACGTATGGAGCAAGCGTTATCCGGATTTACTGGGTGTAAAGGGAGTGTAGGTGGCCAGGCAAGTCAGAAGTGAAAGCCCGGGGCTCAACCCCGGGGCTGGTAGCGGTGAAATGCGTAGATATTAGGAGGAACACCAGTGGCGAAGGCGGCTTGCTGGACTGTAACTGACACTGAGGCTCGAAAGCGTGGGGAGCAAACA\n--\n</code></pre>\n\n<p>The second (5.26GB): </p>\n\n<pre><code>&gt;Stool268_1 HWI-ST155_0605:1:1101:1194:2070#CTGTCTCTCCTA\nTACGGAGGATGCGAGCGTTATCCGGATTTACTGGGTTTAAAGGGAGCGCAGACGGGACGTTAAGTCAGCTGTGAAAGTTTGGGGCTCAACCCTAAAACTGCTAGCGGTGAAATGCTTAGATATCGGGAGGAACTCCGGTTGCGAAGGCAGCATACTGGACTGCAACTGACGCTGATGCTCGAAAGTGTGGGTATCAAACAGG\n--\n</code></pre>\n\n<p>Note the key difference is the header for each entry (lib_1749 vs. Stool268_1). What I need is to create a mapping file between the headers of one file and the headers of the second using the sequence (e.g., <code>TACGGAGGATGCGAGCGTTATCCGGAT...</code>) as a key. </p>\n\n<p>Note as one final complication the mapping is not going to be 1-to-1 there will be multiple entries of the form Stool***<em>*** for each entry of lib</em>****. This is because the length of the key in the first file was trimmed to have 200 characters but in the second file it can be longer. </p>\n\n<p>For smaller files I would just do something like this in python but I often have trouble  because these files are so big and cannot be read into memory at one time. Usually I try unix utilities but in this case I cannot think of how to accomplish this. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "datetime", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2755, "user_id": 5213005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i762K.png?s=128&g=1", "display_name": "Ivan De Paz Centeno", "link": "https://stackoverflow.com/users/5213005/ivan-de-paz-centeno"}, "edited": false, "score": 1, "creation_date": 1598405676, "post_id": 28729275, "comment_id": 112446262, "body": "I think it might be more reliable to use the <code>isoformat()</code> method from <code>datetime</code> rather than <code>strftime()</code> with a custom format. Something like <code>df3.index = df3.index.to_series().apply(dt.datetime.isoformat)</code>"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 9, "last_activity_date": 1424898548, "last_edit_date": 1424898548, "creation_date": 1424897321, "answer_id": 28729275, "question_id": 28729212, "link": "https://stackoverflow.com/questions/28729212/pandas-save-date-in-iso-format/28729275#28729275", "title": "pandas save date in ISO format?", "body": "<p>Use <code>datetime.strftime</code> and call <code>map</code> on the index:</p>\n\n<pre><code>In [72]:\n\nNumberOfSamples = 10\nimport datetime as dt\ndates = pd.date_range('20130101',periods=NumberOfSamples,freq='90S')\ndf3 = pd.DataFrame(index=dates)\ndf3.index = df3.index.map(lambda x: dt.datetime.strftime(x, '%Y-%m-%dT%H:%M:%SZ'))\ndf3\nOut[72]:\nEmpty DataFrame\nColumns: []\nIndex: [2013-01-01T00:00:00Z, 2013-01-01T00:01:30Z, 2013-01-01T00:03:00Z, 2013-01-01T00:04:30Z, 2013-01-01T00:06:00Z, 2013-01-01T00:07:30Z, 2013-01-01T00:09:00Z, 2013-01-01T00:10:30Z, 2013-01-01T00:12:00Z, 2013-01-01T00:13:30Z]\n</code></pre>\n\n<p>Alternatively and better in my view (thanks to @unutbu) you can pass a format specifier to <code>to_csv</code>:</p>\n\n<pre><code>df3.to_csv('dates.txt', header=False, date_format='%Y-%m-%dT%H:%M:%SZ')\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 4129880, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/1f46ce91dd6c5abee72fcad17379eddb?s=128&d=identicon&r=PG&f=1", "display_name": "Borisw37", "link": "https://stackoverflow.com/users/4129880/borisw37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10766, "favorite_count": 1, "accepted_answer_id": 28729275, "answer_count": 1, "score": 8, "last_activity_date": 1424898548, "creation_date": 1424897087, "question_id": 28729212, "link": "https://stackoverflow.com/questions/28729212/pandas-save-date-in-iso-format", "title": "pandas save date in ISO format?", "body": "<p>I'm trying to generate a Pandas DataFrame where date_range is an index. Then save it to a CSV file so that the dates are written in ISO-8601 format.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom pandas import DataFrame, Series\n\nNumberOfSamples = 10\ndates = pd.date_range('20130101',periods=NumberOfSamples,freq='90S')\ndf3 = DataFrame(index=dates)\ndf3.to_csv('dates.txt', header=False)\n</code></pre>\n\n<p>The current output to dates.txt is:</p>\n\n<pre><code>2013-01-01 00:00:00\n2013-01-01 00:01:30\n2013-01-01 00:03:00\n2013-01-01 00:04:30\n...................\n</code></pre>\n\n<p>I'm trying to get it to look like:</p>\n\n<pre><code>2013-01-01T00:00:00Z\n2013-01-01T00:01:30Z\n2013-01-01T00:03:00Z\n2013-01-01T00:04:30Z\n....................\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "import"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424898223, "post_id": 28729308, "comment_id": 45745303, "body": "I&#39;m running python web_crawler.py in the shell like you said and it&#39;s returning  <code>In [4]: python web_crawler.py   File &quot;&lt;ipython-input-4-c5e04cc5614b&gt;&quot;, line 1     python web_crawler.py                      ^ SyntaxError: invalid syntax</code>"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424898270, "post_id": 28729308, "comment_id": 45745330, "body": "Did you add scraper to INSTALLED_APPS in your settings.py?"}, {"owner": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424898642, "post_id": 28729308, "comment_id": 45745527, "body": "I see! Is there a way to use PDB to debug in this shell?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424898774, "post_id": 28729308, "comment_id": 45745585, "body": "I haven&#39;t tried before but <code>&gt;&gt;&gt; import pdb</code> then <code>&gt;&gt;&gt; pdb.set_trace()</code> while in the shell might work."}, {"owner": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424924985, "post_id": 28729308, "comment_id": 45754148, "body": "what if I want to run this script outside of Django shell? Is there a way I can run the script using the Link model? If so, how? If not, why not?"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "edited": false, "score": 0, "creation_date": 1424952996, "post_id": 28729308, "comment_id": 45767417, "body": "Generally you should make such scripts custom management commands. That way you can access to Django environment, your models from a command line script. See my updated answer."}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": false, "score": 2, "last_activity_date": 1424952960, "last_edit_date": 1424952960, "creation_date": 1424897419, "answer_id": 28729308, "question_id": 28729168, "link": "https://stackoverflow.com/questions/28729168/how-to-add-script-to-django-app/28729308#28729308", "title": "How to add script to Django app?", "body": "<p>You should use the Django shell to run scripts within a Django project. You can start the shell by typing:</p>\n\n<pre><code>python manage.py shell\n</code></pre>\n\n<p>at the OS command prompt while you are in your project root. You can just import web_crawler.py since you don't have a main method:</p>\n\n<pre><code>&gt;&gt;&gt; from scraper import web_crawler.py\n</code></pre>\n\n<p>That being said, the better way to run a script that should access to the Django environment would be to write it as a management command. That way, you can run it using</p>\n\n<pre><code>python manage.py &lt;mycommand&gt;\n</code></pre>\n\n<p>See <a href=\"https://docs.djangoproject.com/en/1.7/howto/custom-management-commands/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/howto/custom-management-commands/</a> for details.</p>\n"}], "owner": {"reputation": 197, "user_id": 4527138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/4b6dac61ca770a6c8589f872589fcebe?s=128&d=identicon&r=PG&f=1", "display_name": "yesyoukenn", "link": "https://stackoverflow.com/users/4527138/yesyoukenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424952960, "creation_date": 1424896933, "question_id": 28729168, "link": "https://stackoverflow.com/questions/28729168/how-to-add-script-to-django-app", "title": "How to add script to Django app?", "body": "<p>I'm just beginning to learn Django/Python. I created a project called reddit_project with an app called scraper. I'm trying to use my model Link that is in my models.py so that I can create records based on the JSON I am scraping in web_crawler.py. However, Django keeps telling me that the the module scraper doesnt exist when I try to run web_crawler.py in my terminal. How do I properly import the Link class so that it can be used within web_crawler.py?</p>\n\n<p>scraper/models.py:</p>\n\n<pre><code>from django.db import models\n\n# Create your models here.\nclass Link(models.Model):\n  title = models.CharField(max_length=50)\n  author = models.CharField(max_length=50)\n  url = models.CharField(max_length=200)\n  subreddit = models.CharField(max_length=200)\n  upvotes = models.IntegerField()\n  downvotes = models.IntegerField()\n  posted_date = models.DateTimeField()\n</code></pre>\n\n<p>web_crawler.py</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nfrom scraper.models import Link\n\nwebsite_url = 'http://reddit.com/.json'\nresponse = requests.get(website_url)\nreddit_json = response.json()\nprint(reddit_json)\n</code></pre>\n\n<p>Tree:</p>\n\n<pre><code>.\n|______init__.py\n|______pycache__\n| |______init__.cpython-34.pyc\n| |____admin.cpython-34.pyc\n| |____models.cpython-34.pyc\n|____admin.py\n|____models.py\n|____models.pyc\n|____tests.py\n|____views.py\n|____web_crawler.py\n</code></pre>\n"}, {"tags": ["python", "opencv", "flann", "flannbasedmatcher"], "comments": [{"owner": {"reputation": 1138, "user_id": 4481702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3d1996e9e23c213ead478a86b7e780?s=128&d=identicon&r=PG&f=1", "display_name": "Ha Dang", "link": "https://stackoverflow.com/users/4481702/ha-dang"}, "edited": false, "score": 0, "creation_date": 1424947115, "post_id": 28729129, "comment_id": 45763811, "body": "Are you sure about the syntax? According to their <a href=\"http://docs.opencv.org/trunk/doc/py_tutorials/py_feature2d/py_matcher/py_matcher.html\" rel=\"nofollow noreferrer\">documentation</a>, it need 2 descriptors to check for the matching. PS: You can find how to display the result in the link, too."}], "answers": [{"comments": [{"owner": {"reputation": 3409, "user_id": 4579155, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Dw6Fx.jpg?s=128&g=1", "display_name": "abarisone", "link": "https://stackoverflow.com/users/4579155/abarisone"}, "edited": false, "score": 0, "creation_date": 1429004272, "post_id": 29623452, "comment_id": 47391510, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes"}, {"owner": {"reputation": 486, "user_id": 4773612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tslp9.jpg?s=128&g=1", "display_name": "Misery", "link": "https://stackoverflow.com/users/4773612/misery"}, "reply_to_user": {"reputation": 3409, "user_id": 4579155, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Dw6Fx.jpg?s=128&g=1", "display_name": "abarisone", "link": "https://stackoverflow.com/users/4579155/abarisone"}, "edited": false, "score": 0, "creation_date": 1429005974, "post_id": 29623452, "comment_id": 47392496, "body": "You are completely right, but I thought there was too much code to paste here to make any sense. This link is from opencv docs, I don&#39;t think it will become unavailable. Just in case, you can find this file in opencv 2.4 : <code>&lt;path_to_opencv_folder&gt;&#47;samples&#47;python2&#47;plane_tracker.py</code>"}, {"owner": {"reputation": 486, "user_id": 4773612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tslp9.jpg?s=128&g=1", "display_name": "Misery", "link": "https://stackoverflow.com/users/4773612/misery"}, "edited": false, "score": 0, "creation_date": 1429013240, "post_id": 29623452, "comment_id": 47396757, "body": "I understand.. Well, I just edited my answer, I hope it helps."}, {"owner": {"reputation": 1619, "user_id": 3085931, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dbiSD.png?s=128&g=1", "display_name": "user3085931", "link": "https://stackoverflow.com/users/3085931/user3085931"}, "edited": false, "score": 0, "creation_date": 1469197113, "post_id": 29623452, "comment_id": 64451456, "body": "the link is broken"}], "tags": [], "owner": {"reputation": 486, "user_id": 4773612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tslp9.jpg?s=128&g=1", "display_name": "Misery", "link": "https://stackoverflow.com/users/4773612/misery"}, "is_accepted": false, "score": 1, "last_activity_date": 1469198443, "last_edit_date": 1469198443, "creation_date": 1429002752, "answer_id": 29623452, "question_id": 28729129, "link": "https://stackoverflow.com/questions/28729129/output-flann-results-in-python/29623452#29623452", "title": "Output FLANN results in python", "body": "<p>You might want to take a look to this <a href=\"https://github.com/opencv/opencv/blob/master/samples/python/plane_tracker.py\" rel=\"nofollow\">link</a>\nIt's an opencv sample showing how to use a FlannBasedMatcher.\nThere is a lot of topics talking about this, you should search better before asking.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I assume you have a FLANN Index to match with <code>des1</code>, so there is a function that returns if there is a match or not.</p>\n\n<pre><code>MIN_MATCH_COUNT = 10\ndef flann_match(des1):\n    matches = flann.knnMatch(des1, k=2)\n    # Check the distance to keep only the good matches.\n    matches = [m[0] for m in matches if len(m) == 2 and m[0].distance &lt; m[1].distance * 0.75]\n    if len(matches &lt; MIN_MATCH_COUNT)\n        return False\n    return True\n</code></pre>\n\n<p>This implementation is quite simple, you'll need to use <code>cv2.findHomography()</code> (<a href=\"http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html?highlight=findhomography#findhomography\" rel=\"nofollow\">documentation</a>) to get better and more accurate results, depends of what is your goal here.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 33, "user_id": 2646017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/464f2ada829af2c5a6d369eb30e28e2e?s=128&d=identicon&r=PG", "display_name": "GStack", "link": "https://stackoverflow.com/users/2646017/gstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1715, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1469198443, "creation_date": 1424896799, "question_id": 28729129, "link": "https://stackoverflow.com/questions/28729129/output-flann-results-in-python", "title": "Output FLANN results in python", "body": "<p>I am currently implementing LSH using FLANN.</p>\n\n<pre><code>matches = flann.knnMatch(des1,k=2)\n</code></pre>\n\n<p>des1 is a binary descriptor of my query image &amp; flann is the flanbasedmatcher (using the FLANN LSH algo) variable which has all the binary descriptor of an image database.</p>\n\n<p>How do I output the result of the knnMatch?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2200, "user_id": 677131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b59b14d40a63bf44b5d6695d0e236a0?s=128&d=identicon&r=PG", "display_name": "Lubo Antonov", "link": "https://stackoverflow.com/users/677131/lubo-antonov"}, "edited": false, "score": 1, "creation_date": 1424897012, "post_id": 28729121, "comment_id": 45744618, "body": "This is more of an &quot;opinion&quot; question, so it may have to be closed. But my personal opinion is - there is no reason to use a class if you do option 1. Option 1 is functional programming, while Option 2 is OOP."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1424898971, "post_id": 28729121, "comment_id": 45745704, "body": "I think the answer to your question depends quite a bit on other information. Does the value returned by <code>someHarware.getData()</code> change over time? Is it slow to be fetched, so that we should cache it, even if it might change after a while? As for the design question, you might also consider using a <code>property</code>, rather than an explicit <code>getValue</code> function."}], "answers": [{"tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1424897177, "creation_date": 1424897177, "answer_id": 28729240, "question_id": 28729121, "link": "https://stackoverflow.com/questions/28729121/python-best-practices-pass-to-method-or-instance-variable/28729240#28729240", "title": "Python Best Practices: Pass to Method or Instance Variable", "body": "<p>If your method is called <code>calculateValue</code>, definitively give it something to calculate on, that's semantically clearer. Also, that method is public (no <code>_</code> to mark it as not-API), so it should make sense to call it externally.</p>\n\n<p>Also, if you do that, your <code>calculateValue</code> will be independent from <code>self</code>, making it basically a <code>staticmethod</code>, thus:</p>\n\n<pre><code>class SomeClass:\n\n    def getValue( self ):\n        rawData = someHardware.getData()\n        return self.calculateValue( rawData )\n\n    @staticmethod\n    def calculateValue( rawData ):\n        return ( rawData * 100 ) - 5\n</code></pre>\n\n<p>Will make it clearer.</p>\n"}], "owner": {"reputation": 43, "user_id": 1760719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbe37bed9f694db92ae4d90123571a69?s=128&d=identicon&r=PG", "display_name": "Sam Creamer", "link": "https://stackoverflow.com/users/1760719/sam-creamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "closed_date": 1424897350, "answer_count": 1, "score": 0, "last_activity_date": 1424897177, "creation_date": 1424896774, "question_id": 28729121, "link": "https://stackoverflow.com/questions/28729121/python-best-practices-pass-to-method-or-instance-variable", "closed_reason": "Opinion-based", "title": "Python Best Practices: Pass to Method or Instance Variable", "body": "<p>In Python, should I be writing my methods like option 1 or option 2 in the code below? Thanks!</p>\n\n<pre><code>from someHardware import someHardware\n\n# Option 1, pass the data into method\nclass SomeClass:\n\n    def getValue( self ):\n        rawData = someHardware.getData()\n        return self.calculateValue( rawData )\n\n    def calculateValue( self, rawData ):\n        return ( rawData * 100 ) - 5\n\n# Option 2, save data as instance variable\nclass SomeClass:\n\n    def getValue( self ):\n        self.rawData = someHardware.getData()\n        return self.calculateValue()\n\n    def calculateValue( self ):\n        return ( self.rawData * 100 ) - 5\n</code></pre>\n"}, {"tags": ["python", "django", "keyerror"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 3793264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ad9b9dacc40beb82ece667939b2a201?s=128&d=identicon&r=PG&f=1", "display_name": "Bosca", "link": "https://stackoverflow.com/users/3793264/bosca"}, "edited": false, "score": 0, "creation_date": 1427043584, "post_id": 28729177, "comment_id": 46607063, "body": "Sorry, I forgot to say thanks for your reply! I&#39;d overlooked exactly what you said, tis all fixed now. :)"}], "tags": [], "owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1424896964, "creation_date": 1424896964, "answer_id": 28729177, "question_id": 28729109, "link": "https://stackoverflow.com/questions/28729109/getting-keyerror-in-my-django-code/28729177#28729177", "title": "Getting KeyError in my django code", "body": "<p>You don't have a field named <code>user</code> in your form. Try changing the relevant line to:</p>\n\n<pre><code> bd = BloodData  (respondent=cd['respondent'],\n</code></pre>\n\n<p>in your \"storeBloodData\" view.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 3793264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ad9b9dacc40beb82ece667939b2a201?s=128&d=identicon&r=PG&f=1", "display_name": "Bosca", "link": "https://stackoverflow.com/users/3793264/bosca"}, "edited": false, "score": 0, "creation_date": 1427043534, "post_id": 28740076, "comment_id": 46607046, "body": "Sorry, I forgot to log in and say thank you! That worked indeed!"}], "tags": [], "owner": {"reputation": 2840, "user_id": 3894956, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1522196031/picture?type=large", "display_name": "Animesh Sharma", "link": "https://stackoverflow.com/users/3894956/animesh-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1424946831, "creation_date": 1424946831, "answer_id": 28740076, "question_id": 28729109, "link": "https://stackoverflow.com/questions/28729109/getting-keyerror-in-my-django-code/28740076#28740076", "title": "Getting KeyError in my django code", "body": "<p>The problem seems to be in your view storeBloodData,at this point.</p>\n\n<pre><code>bd = BloodData  (respondent=cd['user'],\n</code></pre>\n\n<p>The form has no field named 'user'.You may replace it with a relevant field present declared in the form.</p>\n\n<p>Also, it is better to use <code>DICT.get(key)</code>when you are not sure if the dict contains that particular key or not. This way you'll simply be returned None when the key is absent and you'll be able to dodge KeyError.</p>\n"}], "owner": {"reputation": 69, "user_id": 3793264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ad9b9dacc40beb82ece667939b2a201?s=128&d=identicon&r=PG&f=1", "display_name": "Bosca", "link": "https://stackoverflow.com/users/3793264/bosca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 1, "accepted_answer_id": 28729177, "answer_count": 2, "score": 3, "last_activity_date": 1424946831, "creation_date": 1424896731, "question_id": 28729109, "link": "https://stackoverflow.com/questions/28729109/getting-keyerror-in-my-django-code", "title": "Getting KeyError in my django code", "body": "<p>I'm new to both Django and Python so please forgive me if I come off as annoying....I'm just very much misinformed! </p>\n\n<p>Error Code: <a href=\"http://i.gyazo.com/68d88cabf536b129dc37cde6c3ae319c.png\" rel=\"nofollow\">http://i.gyazo.com/68d88cabf536b129dc37cde6c3ae319c.png</a></p>\n\n<p>I've googled about this 'KeyError' and it seems to be related to clean(). However, the example my lecturer gave me worked ok without it but when I tried to recreate what he gave me I kept getting this error.</p>\n\n<p>A bit of info: I had originally had a ForeignKey for the user for each submission so I changed it to a simple form to fill in (not a permanent solution) but I still get a KeyError.</p>\n\n<p>Here is my models, views and forms:</p>\n\n<p><a href=\"http://pastebin.com/rAX5PDHQ\" rel=\"nofollow\">http://pastebin.com/rAX5PDHQ</a></p>\n\n<p>Sorry if I left something out. I'll respond ASAP if you all need more info.</p>\n\n<p>Again, sorry if this is a silly question. But I'm utterly lost to be honest. </p>\n\n<p>Thank you!  </p>\n\n<p>PS Sorry I really tried the code formatting but I kept getting an error saying it was incorrect thought the preview said it was ok. And I can't post more than one link.</p>\n"}, {"tags": ["python", "python-2.7", "xlwt"], "comments": [{"owner": {"reputation": 33388, "user_id": 2437514, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8QN0K.jpg?s=128&g=1", "display_name": "Rick supports Monica", "link": "https://stackoverflow.com/users/2437514/rick-supports-monica"}, "edited": false, "score": 1, "creation_date": 1424898373, "post_id": 28729068, "comment_id": 45745388, "body": "The problem is you are supplying a <a href=\"https://secure.simplistix.co.uk/svn/xlwt/trunk/xlwt/doc/xlwt.html?p=4966\" rel=\"nofollow noreferrer\"><code>Worksheet</code> object</a> to the <code>label</code> argument of the <code>write()</code> method. The list of objects that can be written using that method are found in the documentation (e.g. a <code>str</code>, a <code>xlwt.Formula</code>, etc etc). The <code>Worksheet</code> object isn&#39;t on that list. You have to write <i>pieces</i> of that worksheet object  - such as the specific cells you want to copy in the source worksheet, for example."}], "answers": [{"tags": [], "owner": {"reputation": 351, "user_id": 4032070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f46301ac3d15ebd1c4ddf98cb48a0bcf?s=128&d=identicon&r=PG&f=1", "display_name": "lbug", "link": "https://stackoverflow.com/users/4032070/lbug"}, "is_accepted": false, "score": 0, "last_activity_date": 1424984329, "creation_date": 1424984329, "answer_id": 28752613, "question_id": 28729068, "link": "https://stackoverflow.com/questions/28729068/appending-sheet-using-xlwt-python/28752613#28752613", "title": "appending sheet using xlwt (python)", "body": "<p>For those of you who are not new to Python, this may seem like a no brainer, but for somebody like me, it took a while to figure out.</p>\n\n<p>It is SO MUCH easier to try and manipulate csv files than excel files, and once I made the switch over, things moved much more quickly. </p>\n\n<p>My new code looks something like this:</p>\n\n<pre><code>        df[\"Iflag\"] = df.Independent.where((df.Independent == 0) | (df.Independent == 1 )).notnull().astype(int)\n            Iflag = df[df.Iflag == 0]\n            pd.DataFrame(Iflag, columns=[\"ID\",\"Independent\"]).to_csv(my.csv, mode='ab')\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 4032070, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f46301ac3d15ebd1c4ddf98cb48a0bcf?s=128&d=identicon&r=PG&f=1", "display_name": "lbug", "link": "https://stackoverflow.com/users/4032070/lbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 645, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1424984329, "creation_date": 1424896571, "last_edit_date": 1424896913, "question_id": 28729068, "link": "https://stackoverflow.com/questions/28729068/appending-sheet-using-xlwt-python", "title": "appending sheet using xlwt (python)", "body": "<p>I am attempting to append a number of sheets from one excel file into a single sheet in another excel file. </p>\n\n<p>My code looks like this:</p>\n\n<pre><code>rb2= xlrd.open_workbook(ValidationReport + \"2.xlsx\")\n\nfor sheet in rb2.sheets():\n    rowx += 5\n    w_sheet.write(rowx, colx, sheet)\n\nwb.save(ValidationReport + \".xls\")\n</code></pre>\n\n<p>and I get the following error:</p>\n\n<pre><code>Exception: Unexpected data type class 'xlrd.sheet.Sheet'\n</code></pre>\n\n<p>When I replace the sheet object with a string, that string will write to the desired file once for every sheet in my read file. Is there a way to write the contents of a single sheet to the bottom of a different excel file using xlwt?</p>\n"}, {"tags": ["c#", "python", ".net", "ironpython"], "comments": [{"owner": {"reputation": 233, "user_id": 4035921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57cec0585de63772d3b4e65003e0c61?s=128&d=identicon&r=PG&f=1", "display_name": "TechneWare", "link": "https://stackoverflow.com/users/4035921/techneware"}, "edited": false, "score": 0, "creation_date": 1424897082, "post_id": 28729031, "comment_id": 45744664, "body": "Not at all familiar with IronPython, but from a C# point of view It looks like your values are all hiding within the struct &quot;Parameters&quot;.  So it would make sense that anIntValue is not defined on the MyClass object since it is defined under MyClass.Parameters.anIntValue.  Does it work if you expose anIntValue directly as a member of the class?"}, {"owner": {"reputation": 718, "user_id": 942696, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/95e24ee53fe0f34f7bb7a0cdbe64d53b?s=128&d=identicon&r=PG&f=1", "display_name": "ElCapitaine", "link": "https://stackoverflow.com/users/942696/elcapitaine"}, "reply_to_user": {"reputation": 233, "user_id": 4035921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57cec0585de63772d3b4e65003e0c61?s=128&d=identicon&r=PG&f=1", "display_name": "TechneWare", "link": "https://stackoverflow.com/users/4035921/techneware"}, "edited": false, "score": 0, "creation_date": 1424897488, "post_id": 28729031, "comment_id": 45744881, "body": "This is actually an error on my part, obj = MyClass.Parameters() is really how I wrote it in IronPython code. (I can&#39;t seem to have privileges to edit my own question)"}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 942696, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/95e24ee53fe0f34f7bb7a0cdbe64d53b?s=128&d=identicon&r=PG&f=1", "display_name": "ElCapitaine", "link": "https://stackoverflow.com/users/942696/elcapitaine"}, "is_accepted": true, "score": 0, "last_activity_date": 1424899152, "creation_date": 1424899152, "answer_id": 28729805, "question_id": 28729031, "link": "https://stackoverflow.com/questions/28729031/setting-field-in-ironpython-resulting-in-none-value/28729805#28729805", "title": "Setting field in IronPython resulting in None value", "body": "<p>I resolved it because actually,</p>\n\n<p>the instance I had to call in </p>\n\n<pre><code> MyClass.Parameters.anIntValue.SetValue(instance,value)\n</code></pre>\n\n<p>was not :</p>\n\n<pre><code>MyClass.Parameters.anIntValue.SetValue(obj.anIntValue,8)\n</code></pre>\n\n<p>but rather :</p>\n\n<pre><code>MyClass.Parameters.anIntValue.SetValue(obj,8)\n</code></pre>\n"}], "owner": {"reputation": 718, "user_id": 942696, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/95e24ee53fe0f34f7bb7a0cdbe64d53b?s=128&d=identicon&r=PG&f=1", "display_name": "ElCapitaine", "link": "https://stackoverflow.com/users/942696/elcapitaine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 28729805, "answer_count": 1, "score": 0, "last_activity_date": 1424899152, "creation_date": 1424896443, "last_edit_date": 1424896683, "question_id": 28729031, "link": "https://stackoverflow.com/questions/28729031/setting-field-in-ironpython-resulting-in-none-value", "title": "Setting field in IronPython resulting in None value", "body": "<p>I have an issue using IronPython. I created a C# DLL in which I have a class that looks like this :</p>\n\n<pre><code>namespace MyNamespace\n{\n\n    public static class MyClass\n    {\n\n       public struct Parameters\n       {\n           public String str1;\n           public String str2;\n           public int anIntValue;\n       }\n\n       public static void MyMethod(Parameters param, out Double Result, ref String msg)\n       {\n           //...Stuff...\n       }\n</code></pre>\n\n<p>And the code in IronPython looks like this :</p>\n\n<pre><code>import clr\nclr.AddReferenceToFileAndPath(\"C:\\MyPath\\MyFile.dll\")\n\nfrom MyFile import MyNamespace\n\nobj = MyClass()\nobj.anIntValue = 8\nprint obj.anIntValue \n</code></pre>\n\n<p>It outputs the value \"0\" and I get a warning : </p>\n\n<pre><code>RuntimeWarning: Setting field anIntValue on value type MyClass may result in updating a copy. \nUse MyClass.anIntValue.SetValue(instance, value)...\n</code></pre>\n\n<p>So I tried the following : </p>\n\n<pre><code>MyClass.anIntValue.SetValue(obj.anIntValue,8)\n</code></pre>\n\n<p>And I get the following error : </p>\n\n<pre><code>ValueError : Field 'anIntValue' defined on type 'MyNamespace.MyClass' is not\na field on the target object which is of type 'System.Int32'. \n</code></pre>\n\n<p>So basically, the only thing I would like to do, is to create an object from \"MyClass\" and assign values to its attributes, but when I tried to do it the \"standard way\", like <code>anAttribute = aValue</code>, If I understand this correctly, it only copies the value into a temporary object and not to the object I want to modify. </p>\n\n<p>Am I missing something here ?</p>\n\n<p>Thank you very much</p>\n"}, {"tags": ["python", "python-2.7", "networkx"], "comments": [{"owner": {"reputation": 21014, "user_id": 497234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2fa0c08e61c5568e451b7c03579229?s=128&d=identicon&r=PG", "display_name": "Aric", "link": "https://stackoverflow.com/users/497234/aric"}, "edited": false, "score": 0, "creation_date": 1424897851, "post_id": 28729026, "comment_id": 45745104, "body": "You can use networkx.shortest_path_length(o, SEED) to get a dictionary of all nodes with the length from SEED.  Then use that to color the nodes."}, {"owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "reply_to_user": {"reputation": 21014, "user_id": 497234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2fa0c08e61c5568e451b7c03579229?s=128&d=identicon&r=PG", "display_name": "Aric", "link": "https://stackoverflow.com/users/497234/aric"}, "edited": false, "score": 0, "creation_date": 1424898646, "post_id": 28729026, "comment_id": 45745530, "body": "That helped loads! I had written a program to generate a file having depths. However, I&#39;m not able to find out on documentation on how to set color based on nodes"}, {"owner": {"reputation": 21014, "user_id": 497234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2fa0c08e61c5568e451b7c03579229?s=128&d=identicon&r=PG", "display_name": "Aric", "link": "https://stackoverflow.com/users/497234/aric"}, "edited": false, "score": 0, "creation_date": 1424905349, "post_id": 28729026, "comment_id": 45748866, "body": "Look here for ideas <a href=\"https://networkx.github.io/documentation/latest/gallery.html\" rel=\"nofollow noreferrer\">networkx.github.io/documentation/latest/gallery.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "edited": false, "score": 0, "creation_date": 1424905949, "post_id": 28731432, "comment_id": 45749113, "body": "How do I detect unreacheable nodes ? How do I handle it ?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "reply_to_user": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "edited": false, "score": 0, "creation_date": 1424907021, "post_id": 28731432, "comment_id": 45749551, "body": "code is modified now for this case.  Also note that as I wrote it, it didn&#39;t handle nodes beyond a threshold distance (I&#39;d run out of colors).  The code now handles them the same as unreachable nodes.  You could create a longer list of colors instead."}], "tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 0, "last_activity_date": 1424908828, "last_edit_date": 1424908828, "creation_date": 1424905542, "answer_id": 28731432, "question_id": 28729026, "link": "https://stackoverflow.com/questions/28729026/coloring-of-nodes-based-on-depth-from-root-node/28731432#28731432", "title": "Coloring of nodes based on depth from root node", "body": "<p>In the code below I create a graph.  Then I get the distances of each node from that graph.  Then I invert that so that instead for each distance I have a list of nodes at that distance.  Then for each distance I plot the nodes with a given color.  Note that if there is an unreachable node, it won't get plotted.  If such nodes exist you need to decide what you're doing with them separately.</p>\n\n<p>Also because I'm using just the standard colors (except white), I can only do a few distances.  If you need more, then you'll have to use some other way to make your list of colors (or perhaps make a function that returns a color based on distance).  It will take an RGB or HEX definition for a color.</p>\n\n<pre><code>G=nx.erdos_renyi_graph(10,0.4)\nG.add_node(11) # here's a new node, it's not connected\n\n\nSEED=1\ndistanceDict = nx.shortest_path_length(G, SEED) #for each node know how far it is\ninverse_dict = {} #for each distance this will say which nodes are there.\nfor k,v in distanceDict.iteritems():\n    inverse_dict[v] = inverse_dict.get(v,[])\n    inverse_dict[v].append(k)\ninverse_dict\n&gt; {0: [1], 1: [0, 5, 6], 2: [2, 3, 4, 8, 9], 3: [7]}\ncolors = ['r', 'b', 'g', 'k', 'c', 'm']#create a list of colors\n\npos = nx.spring_layout(G) #set positions so that each plot below uses same position\nfor distance in inverse_dict.keys():\n    if distance&lt;=len(colors): #plot these nodes with the right color\n        nx.draw_networkx(G, pos = pos, nodelist = inverse_dict[distance], node_color = colors[distance])\n\n\ntooFar = []\nfor node in G.nodes_iter():\n    if node not in distanceDict or distanceDict[node]&gt;max_dist:\n        tooFar.append(node)\nnx.draw_networkx(G,pos=pos, nodelist=tooFar, node_color='w')\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/fBzTr.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 173, "user_id": 4607551, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1482e5ed00a858f9b57dc3570c52f7b1?s=128&d=identicon&r=PG&f=1", "display_name": "GokuShanth", "link": "https://stackoverflow.com/users/4607551/gokushanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 28731432, "answer_count": 1, "score": 0, "last_activity_date": 1424908828, "creation_date": 1424896420, "question_id": 28729026, "link": "https://stackoverflow.com/questions/28729026/coloring-of-nodes-based-on-depth-from-root-node", "title": "Coloring of nodes based on depth from root node", "body": "<p>I have a graph on python using networkx</p>\n\n<pre><code>o = net.DiGraph()\nhfollowers = defaultdict(lambda: 0)\nfor (twitter_user, followed_by, followers) in twitter_network:\n    o.add_edge(twitter_user, followed_by, followers=int(followers))hfollowers[twitter_user] = int(followers)\n</code></pre>\n\n<p>I have a root defined - which is the name of the twitter user</p>\n\n<pre><code>SEED = 'BarackObama'\n</code></pre>\n\n<p>I have initialized a subgraph from SEED</p>\n\n<pre><code>g = net.DiGraph(net.ego_graph(o, SEED, radius=4))\n</code></pre>\n\n<p>Now, I want to assign color to nodes based on its depth from SEED and plot it. How do I do this ?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1424897412, "post_id": 28729007, "comment_id": 45744834, "body": "Is your application <i>really</i> calling <code>time.sleep(5)</code>? If not, tell us what it&#39;s really doing. if it <i>is</i>, there&#39;s probably a better way to do what you&#39;re trying to do. As a general rule, the main thread of a GUI program should never call <code>time.sleep</code>."}, {"owner": {"reputation": 379, "user_id": 3362521, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc6a5357e69919219b3fd7a6dc819aa1?s=128&d=identicon&r=PG&f=1", "display_name": "lmerry213", "link": "https://stackoverflow.com/users/3362521/lmerry213"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1424899949, "post_id": 28729007, "comment_id": 45746289, "body": "Like i said, very new to python and this type of programming in general.  I am indeed really calling time.sleep(). I am trying to use tkinter buttons to trigger a control signal that opens a mosfet, and i need it to stay open for 5 seconds.  What would the better way be?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1424905031, "post_id": 28729007, "comment_id": 45748743, "body": "You can disable the buttons and enable them when done, or pack_forget() and then pack them when done.  See the &quot;state=&quot; parameter at <a href=\"http://effbot.org/tkinterbook/button.htm\" rel=\"nofollow noreferrer\">effbot.org/tkinterbook/button.htm</a>  If you want to disable for a certain amount of time, then the current time, as the first line in the function, must be x greater than the previous time of execution, otherwise a simple return will exit the function with no action taken."}], "owner": {"reputation": 379, "user_id": 3362521, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc6a5357e69919219b3fd7a6dc819aa1?s=128&d=identicon&r=PG&f=1", "display_name": "lmerry213", "link": "https://stackoverflow.com/users/3362521/lmerry213"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424896365, "creation_date": 1424896365, "question_id": 28729007, "link": "https://stackoverflow.com/questions/28729007/prevent-tkinter-button-presses-from-queuing", "title": "Prevent Tkinter button presses from queuing", "body": "<p>I'm working on a small project with a raspberry pi and a 2.8\" capacitive touchscreen. I am new to python and I need to prevent multiple button presses from queuing.  The desired behavior is for the UI to ignore any button presses while the previous buttonpress is being executed.  Here's my code:</p>\n\n<pre><code>from Tkinter import *\nimport RPi.GPIO as GPIO\nimport time\n\n#pin assignments\nA=11\nB=13\nC=15\nD=12\nE=16\nFAN=8\n\nGPIO.setwarnings(False)\nGPIO.setmode(GPIO.BOARD)\nGPIO.setup(A, GPIO.OUT)\nGPIO.setup(B, GPIO.OUT)\nGPIO.setup(C, GPIO.OUT)\nGPIO.setup(D, GPIO.OUT)\nGPIO.setup(E, GPIO.OUT)\nGPIO.setup(FAN, GPIO.OUT)\n\nclass App:\n  def fanOn(self):\n    GPIO.output(FAN,True)\n  def fanOff(self):\n    GPIO.output(FAN,False)\n  def btnClicked(self,atty):\n    GPIO.output(atty,True)\n    self.fanOn()\n    time.sleep(5)\n    GPIO.output(atty,False)\n    self.fanOff()\n  def __init__(self, master):\n    frame = Frame(master)\n    frame.pack()\n    self.buttonA = Button(frame, text=\"Fire A\", fg=\"red\", command=lambda: self.btnClicked(A))\n    self.buttonA.pack(side=LEFT)\n    self.buttonB = Button(frame, text=\"Fire B\", fg=\"red\", command=lambda: self.btnClicked(B))\n    self.buttonB.pack(side=LEFT)\n    self.buttonC = Button(frame, text=\"Fire C\", fg=\"red\", command=lambda: self.btnClicked(C))\n    self.buttonC.pack(side=LEFT)\n    self.buttonD = Button(frame, text=\"Fire D\", fg=\"red\", command=lambda: self.btnClicked(D))\n    self.buttonD.pack(side=LEFT)\n    self.buttonE = Button(frame, text=\"Fire E\", fg=\"red\", command=lambda: self.btnClicked(E))\n    self.buttonE.pack(side=LEFT)\n\nroot = Tk()\napp = App(root)\nroot.mainloop()\n</code></pre>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1424897889, "post_id": 28728992, "comment_id": 45745127, "body": "Why are you moving line 9 up in the output?"}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "reply_to_user": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1424898196, "post_id": 28728992, "comment_id": 45745289, "body": "its associated with the duplicate line, line 10 . All lines make meaining in the file in groups of 2"}, {"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1424898514, "post_id": 28728992, "comment_id": 45745454, "body": "It&#39;s too confusing as-written, can you give a complete sample input and output with all possible corner cases (e.g. 1st line of a pair is dupe of 2nd line of another pair, both 2nd lines are dupes, there are 3 dupes in the file, etc.)"}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "reply_to_user": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1424898650, "post_id": 28728992, "comment_id": 45745533, "body": "i just solved it i think, will post solution in a couple of hours. Thanks !"}], "owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424896303, "creation_date": 1424896303, "last_edit_date": 1495541188, "question_id": 28728992, "link": "https://stackoverflow.com/questions/28728992/file-parsing-in-python-removing-duplicates-and-getting-index-of-duplicate-to-re", "title": "File parsing in python- removing duplicates and getting index of duplicate to rearrange", "body": "<p>I have a file with some duplicates, i want to find the duplicate and write to another file where duplicates are grouped together and previous lines are re-arranged. Lines are in groups of 2, so if i have duplicate in line 2 and 10, i get rid of line </p>\n\n<pre><code>line 1= \"string1\"\nline2 (possibly_common_string)  or string 2\n....\nline9 string9 \nline10 (possibly_common_string) or string 110\n</code></pre>\n\n<p>If theres no duplicates, i want to write as it is, if theres duplciates, i want to write to another file as-</p>\n\n<pre><code>line1 = string1\nline2= common string- this was string in line 2. Old line 10 deleted.\nline3= string 9 -&gt; line 9 moved up.\nline4= old line 5. \n</code></pre>\n\n<p>I am thinking of reading the whole file, looking for duplicates, but something like this loses duplicates without giving me the index from which to move from</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1215208/how-might-i-remove-duplicate-lines-from-a-file\">How might I remove duplicate lines from a file?</a></p>\n\n<p>Can I grab the index of the duplicate line? </p>\n"}, {"tags": ["python", "regex", "parsing", "string-parsing"], "comments": [{"owner": {"reputation": 4262, "user_id": 1890512, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fjJBP.jpg?s=128&g=1", "display_name": "Curtis Mattoon", "link": "https://stackoverflow.com/users/1890512/curtis-mattoon"}, "edited": false, "score": 14, "creation_date": 1424895838, "post_id": 28728834, "comment_id": 45743961, "body": "Python&#39;s <a href=\"http://www.nltk.org/\" rel=\"nofollow noreferrer\">Natural Language Toolkit (NLTK)</a> is <i>much</i> better-suited for this task. Check this out: <a href=\"http://timmcnamara.co.nz/post/2650550090/extracting-names-with-6-lines-of-python-code\" rel=\"nofollow noreferrer\">timmcnamara.co.nz/post/2650550090/&hellip;</a>"}, {"owner": {"reputation": 83, "user_id": 3029202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9cddfb517f90ca2f05db4071c441e19?s=128&d=identicon&r=PG", "display_name": "mzniko", "link": "https://stackoverflow.com/users/3029202/mzniko"}, "reply_to_user": {"reputation": 4262, "user_id": 1890512, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fjJBP.jpg?s=128&g=1", "display_name": "Curtis Mattoon", "link": "https://stackoverflow.com/users/1890512/curtis-mattoon"}, "edited": false, "score": 1, "creation_date": 1424896269, "post_id": 28728834, "comment_id": 45744210, "body": "@CurtisMattoon Ohh. That looks nice. I was hacking away at this regex in order to get some data out &quot;RIGHT NOW&quot; but NLTK looks like a great long-term solution (and maybe short-term, too). I&#39;m a junior python dev so I don&#39;t know about all the solutions out there."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 3, "creation_date": 1424897111, "post_id": 28728834, "comment_id": 45744685, "body": "Even though there might be better tools for your task, you could use <code>re.VERBOSE</code> flag to make your current regex more readable. <a href=\"https://docs.python.org/3/library/re.html#re.VERBOSE\" rel=\"nofollow noreferrer\">docs.python.org/3/library/re.html#re.VERBOSE</a>"}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1424897481, "post_id": 28728834, "comment_id": 45744873, "body": "Also, you can treat your pattern as you would a string. E.g. <code>r&#39;%s&#39; % &#39;cat&#39;</code>."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1424898333, "post_id": 28728834, "comment_id": 45745362, "body": "Your regex could be much simpler if you first split the string on <code>&quot;&amp;&quot;</code> and <code>&quot;and&quot;</code> and then parsed the pieces."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1424899519, "post_id": 28728834, "comment_id": 45746002, "body": "Before you continue, read this: <a href=\"http://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">kalzumeus.com/2010/06/17/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3029202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9cddfb517f90ca2f05db4071c441e19?s=128&d=identicon&r=PG", "display_name": "mzniko", "link": "https://stackoverflow.com/users/3029202/mzniko"}, "edited": false, "score": 1, "creation_date": 1424900407, "post_id": 28729819, "comment_id": 45746552, "body": "I repent my use of dark magic! I hope this helps others avoid the same. I&#39;ll accept this as the solution and add a note pointing people to NLTK and the nameparser lib."}], "tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": true, "score": 8, "last_activity_date": 1424899192, "creation_date": 1424899192, "answer_id": 28729819, "question_id": 28728834, "link": "https://stackoverflow.com/questions/28728834/can-i-use-python-re-to-parse-complex-human-names/28729819#28729819", "title": "Can I use python &#39;re&#39; to parse complex human names?", "body": "<p>Regular expressions like this are the work of the Dark One.</p>\n\n<p>Who, looking at your code later, will be able to understand what is going on? Will you even?</p>\n\n<p>How will you test all of the possible edge cases?</p>\n\n<p>Why have you chosen to use a regular expression at all? If the tool you are using is so difficult to work with, it suggests that maybe another tool would be better.</p>\n\n<p>Try this:</p>\n\n<pre><code>import re\n\nexamples = [\n  \"John Jeffries\",\n  \"John Jeffries, M.D.\",\n  \"John Jeffries, MD\",\n  \"John Jeffries and Jim Smith\",\n  \"John and Jim Jeffries\",\n  \"John Jeffries &amp; Jennifer Wilkes-Smith, DDS, MD\",\n  \"John Jeffries, CPA &amp; Jennifer Wilkes-Smith, DDS, MD\",\n  \"John Jeffries, C.P.A &amp; Jennifer Wilkes-Smith, DDS, MD\",\n  \"John Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD\",\n  \"John Jeffries M.D. and Jennifer Holmes CPA\",\n  \"John Jeffries M.D. &amp; Jennifer Holmes CPA\",\n  'John Jimmy Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD',\n  'John Jeffries, C.P.A., MD &amp; Jennifer Jenny Wilkes-Smith, DDS, MD'\n]\n\ndef IsTitle(inp):\n  return re.match('^([A-Z]\\.?)+$',inp.strip())\n\ndef ParseName(name):\n  #Titles are separated from each other and from names with \",\"\n  #We don't need these, so we remove them\n  name = name.replace(',',' ') \n  #Split name and titles on spaces, combining adjacent spaces\n  name = name.split()\n  #Build an output object\n  ret_name = {\"first\":None, \"middle\":None, \"last\":None, \"titles\":[]}\n  #First string is always a first name\n  ret_name['first'] = name[0]\n  if len(name)&gt;2: #John Johnson Smith/PhD\n    if IsTitle(name[2]): #John Smith PhD\n      ret_name['last']   = name[1]\n      ret_name['titles'] = name[2:]\n    else:                #John Johnson Smith, PhD, MD\n      ret_name['middle'] = name[1]\n      ret_name['last']   = name[2]\n      ret_name['titles'] = name[3:]\n  elif len(name) == 2:   #John Johnson\n    ret_name['last'] = name[1]\n  return ret_name\n\ndef CombineNames(inp):\n  if not inp[0]['last']:\n    inp[0]['last'] = inp[1]['last']\n\ndef ParseString(inp):\n  inp = inp.replace(\"&amp;\",\"and\")    #Names are combined with \"&amp;\" or \"and\"\n  inp = re.split(\"\\s+and\\s+\",inp) #Split names apart\n  inp = map(ParseName,inp)\n  CombineNames(inp)\n  return inp\n\nfor e in examples:\n  print e\n  print ParseString(e)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>John Jeffries\n[{'middle': None, 'titles': [], 'last': 'Jeffries', 'first': 'John'}]\nJohn Jeffries, M.D.\n[{'middle': None, 'titles': ['M.D.'], 'last': 'Jeffries', 'first': 'John'}]\nJohn Jeffries, MD\n[{'middle': None, 'titles': ['MD'], 'last': 'Jeffries', 'first': 'John'}]\nJohn Jeffries and Jim Smith\n[{'middle': None, 'titles': [], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': [], 'last': 'Smith', 'first': 'Jim'}]\nJohn and Jim Jeffries\n[{'middle': None, 'titles': [], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': [], 'last': 'Jeffries', 'first': 'Jim'}]\nJohn Jeffries &amp; Jennifer Wilkes-Smith, DDS, MD\n[{'middle': None, 'titles': [], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\nJohn Jeffries, CPA &amp; Jennifer Wilkes-Smith, DDS, MD\n[{'middle': None, 'titles': ['CPA'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\nJohn Jeffries, C.P.A &amp; Jennifer Wilkes-Smith, DDS, MD\n[{'middle': None, 'titles': ['C.P.A'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\nJohn Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD\n[{'middle': None, 'titles': ['C.P.A.', 'MD'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\nJohn Jeffries M.D. and Jennifer Holmes CPA\n[{'middle': None, 'titles': ['M.D.'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['CPA'], 'last': 'Holmes', 'first': 'Jennifer'}]\nJohn Jeffries M.D. &amp; Jennifer Holmes CPA\n[{'middle': None, 'titles': ['M.D.'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['CPA'], 'last': 'Holmes', 'first': 'Jennifer'}]\nJohn Jimmy Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD\n[{'middle': 'Jimmy', 'titles': ['C.P.A.', 'MD'], 'last': 'Jeffries', 'first': 'John'}, {'middle': None, 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\nJohn Jeffries, C.P.A., MD &amp; Jennifer Jenny Wilkes-Smith, DDS, MD\n[{'middle': None, 'titles': ['C.P.A.', 'MD'], 'last': 'Jeffries', 'first': 'John'}, {'middle': 'Jenny', 'titles': ['DDS', 'MD'], 'last': 'Wilkes-Smith', 'first': 'Jennifer'}]\n</code></pre>\n\n<p>This took less than fifteen minutes and, at each stage, the logic is clear and the program can be debugged in pieces. While one-liners are cute, clarity and testability should take precedence.</p>\n"}], "owner": {"reputation": 83, "user_id": 3029202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9cddfb517f90ca2f05db4071c441e19?s=128&d=identicon&r=PG", "display_name": "mzniko", "link": "https://stackoverflow.com/users/3029202/mzniko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 2, "accepted_answer_id": 28729819, "answer_count": 1, "score": 8, "last_activity_date": 1424900575, "creation_date": 1424895653, "last_edit_date": 1424900575, "question_id": 28728834, "link": "https://stackoverflow.com/questions/28728834/can-i-use-python-re-to-parse-complex-human-names", "title": "Can I use python &#39;re&#39; to parse complex human names?", "body": "<p>So one of my major pain points is name comprehension and piecing together household names &amp; titles. I have a 80% solution with a pretty massive regex I put together this morning that I probably shouldn't be proud of (but am anyway in a kind of sick way) that matches the following examples correctly:</p>\n\n<pre><code>John Jeffries\nJohn Jeffries, M.D.\nJohn Jeffries, MD\nJohn Jeffries and Jim Smith\nJohn and Jim Jeffries\nJohn Jeffries &amp; Jennifer Wilkes-Smith, DDS, MD\nJohn Jeffries, CPA &amp; Jennifer Wilkes-Smith, DDS, MD\nJohn Jeffries, C.P.A &amp; Jennifer Wilkes-Smith, DDS, MD\nJohn Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD\nJohn Jeffries M.D. and Jennifer Holmes CPA\nJohn Jeffries M.D. &amp; Jennifer Holmes CPA\n</code></pre>\n\n<p>The regex matcher looks like this:</p>\n\n<pre><code>(?P&lt;first_name&gt;\\S*\\s*)?(?!and\\s|&amp;\\s)(?P&lt;last_name&gt;[\\w-]*\\s*)(?P&lt;titles1&gt;,?\\s*(?!and\\s|&amp;\\s)[\\w\\.]*,*\\s*(?!and\\s|&amp;\\s)[\\w\\.]*)?(?P&lt;connector&gt;\\sand\\s|\\s*&amp;*\\s*)?(?!and\\s|&amp;\\s)(?P&lt;first_name2&gt;\\S*\\s*)(?P&lt;last_name2&gt;[\\w-]*\\s*)?(?P&lt;titles2&gt;,?\\s*[\\w\\.]*,*\\s*[\\w\\.]*)?\n</code></pre>\n\n<p>(wtf right?) </p>\n\n<p>For convenience: <a href=\"http://www.pyregex.com/\" rel=\"nofollow\">http://www.pyregex.com/</a></p>\n\n<p>So, for the example:</p>\n\n<pre><code>'John Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD'\n</code></pre>\n\n<p>the regex results in a group dict that looks like:</p>\n\n<pre><code>connector: &amp;\nfirst_name: John\nfirst_name2: Jennifer\nlast_name: Jeffries\nlast_name2: Wilkes-Smith\ntitles1: , C.P.A., MD\ntitles2: , DDS, MD\n</code></pre>\n\n<p>I need help with the final step that has been tripping me up, comprehending possible middle names. </p>\n\n<p>Examples include:</p>\n\n<pre><code>'John Jimmy Jeffries, C.P.A., MD &amp; Jennifer Wilkes-Smith, DDS, MD'\n'John Jeffries, C.P.A., MD &amp; Jennifer Jenny Wilkes-Smith, DDS, MD'\n</code></pre>\n\n<p>Is this possible and is there a better way to do this without machine learning? Maybe I can use <a href=\"https://pypi.python.org/pypi/nameparser\" rel=\"nofollow\">nameparser</a> (discovered after I went down the regex rabbit hole) instead with some way to determine whether or not there are multiple names? The above matches 99.9% of my cases so I feel like it's worth finishing.</p>\n\n<blockquote>\n  <p><strong>TLDR</strong>: I can't figure out if I can use some sort of lookahead or lookbehind to make sure that the possible middle name only matches if\n  there is a last name after it.</p>\n</blockquote>\n\n<p>Note: I don't need to parse titles like Mr. Mrs. Ms., etc., but I suppose that can be added in the same manner as middle names.</p>\n\n<blockquote>\n  <p><strong>Solution Notes</strong>: First, follow Richard's advice and don't do this. Second, investigate NLTK or use/contribute to <a href=\"https://pypi.python.org/pypi/nameparser\" rel=\"nofollow\">nameparser</a> for a more robust solution if necessary.</p>\n</blockquote>\n"}, {"tags": ["python", "arrays"], "comments": [{"owner": {"reputation": 1546, "user_id": 4410674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4899e4d5ddf6c49930f0b4161af21?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Bailey", "link": "https://stackoverflow.com/users/4410674/nick-bailey"}, "edited": false, "score": 0, "creation_date": 1424895267, "post_id": 28728689, "comment_id": 45743648, "body": "Quick FYI, in Python they are called Lists (The implementation is a Dyanamic Array similar to a Java/C# ArrayList or Ruby Array)"}, {"owner": {"reputation": 811, "user_id": 4406558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hRu3_v7-VLc/AAAAAAAAAAI/AAAAAAAAAAA/N5zpUylxl1g/photo.jpg?sz=128", "display_name": "Eric Hughes", "link": "https://stackoverflow.com/users/4406558/eric-hughes"}, "edited": false, "score": 5, "creation_date": 1424895332, "post_id": 28728689, "comment_id": 45743690, "body": "The <code>for</code> is iterating on your list, so the first time it runs the loop, it gets <code>&#39;300&#39;</code>.  This can be unpacked to <code>(&#39;3&#39;, &#39;0&#39;, &#39;0&#39;)</code> (your &quot;3 values&quot;).  The answer by @w0lf shows you how to do what you intend."}], "answers": [{"comments": [{"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1424895718, "post_id": 28728710, "comment_id": 45743900, "body": "As an alternative, changing the <code>walls</code> definition to <code>walls = [( &#39;300&#39;, &#39;300&#39;, &#39;300&#39;, &#39;500&#39; )]</code> would avoid having to rewrite the rest of it. Although, it would leave behind a rather useless <code>for</code> loop that way..."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1424895781, "post_id": 28728710, "comment_id": 45743934, "body": "@twalberg:   I don&#39;t care for your suggestion.  There is no reason to nest the data structure work around incorrect code."}, {"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1424897801, "post_id": 28728710, "comment_id": 45745079, "body": "@StevenRumbalski True, but it is entirely possible that the eventual use case would involve lists of tuples - something to actually iterate over - so it&#39;s probably still worth noting...."}], "tags": [], "owner": {"reputation": 34664, "user_id": 390819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2ef44de10f7791cca06df317246935?s=128&d=identicon&r=PG", "display_name": "Cristian Lupascu", "link": "https://stackoverflow.com/users/390819/cristian-lupascu"}, "is_accepted": true, "score": 4, "last_activity_date": 1424895949, "last_edit_date": 1424895949, "creation_date": 1424895188, "answer_id": 28728710, "question_id": 28728689, "link": "https://stackoverflow.com/questions/28728689/python-array-unpacking-error-need-more-than-3-values/28728710#28728710", "title": "Python array unpacking error: need more than 3 values", "body": "<p>Your code should become: </p>\n\n<pre><code>walls = ['300', '300', '300', '500']\na, b, c, d = walls # this line replaces the `for` loop\nif int(a) &lt;= x &lt;= int(c):\n    if int(b) &lt;= y &lt;= int(d):\n        pass # or do something...\n</code></pre>\n\n<p>The initial version of the code iterated through every item in <code>walls</code> and tried to assign each of them to your four variables.</p>\n\n<p>So, essentially, each iteration of the <code>for</code> loop tried to do something like:</p>\n\n<pre><code>a, b, c, d = '300'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4069344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae3d4ba8bd953cf7e3cfb03b20ccdb4?s=128&d=identicon&r=PG&f=1", "display_name": "AGMC", "link": "https://stackoverflow.com/users/4069344/agmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 28728710, "answer_count": 1, "score": 1, "last_activity_date": 1424895949, "creation_date": 1424895117, "question_id": 28728689, "link": "https://stackoverflow.com/questions/28728689/python-array-unpacking-error-need-more-than-3-values", "title": "Python array unpacking error: need more than 3 values", "body": "<p>I am fairly new to Python and am trying to compare some values stored in an array. when I run the code, I get the error:\n    ValueError: need more than 3 values to unpack.\nmy code is:</p>\n\n<pre><code>walls = ['300', '300', '300', '500']\nfor a, b, c, d in walls:\n    if int(a) &lt;= x &lt;= int(c):\n            if int(b) &lt;= y &lt;= int(d):\n</code></pre>\n\n<p>It's the 'for' line that throws the error. I know there are solutions to this online but none of them were for an array, so any help is much appreciated.</p>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1424899549, "post_id": 28728522, "comment_id": 45746023, "body": "Adding a <code>python</code> tag will probably greatly increase the number of people visiting this question."}, {"owner": {"reputation": 8009, "user_id": 196462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e112ac971d83dd545268142bc2320a3c?s=128&d=identicon&r=PG", "display_name": "KalEl", "link": "https://stackoverflow.com/users/196462/kalel"}, "reply_to_user": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1425086395, "post_id": 28728522, "comment_id": 45832021, "body": "Thanks... added. I would actually also want to know where I can get such info from. The document actually seems sparse in quite a few places like this... may be I am missing something?"}], "owner": {"reputation": 8009, "user_id": 196462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e112ac971d83dd545268142bc2320a3c?s=128&d=identicon&r=PG", "display_name": "KalEl", "link": "https://stackoverflow.com/users/196462/kalel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1424990771, "creation_date": 1424894573, "last_edit_date": 1424990771, "question_id": 28728522, "link": "https://stackoverflow.com/questions/28728522/form-of-custom-distance-function-in-scipy-clustering", "title": "Form of custom distance function in scipy clustering", "body": "<p>The documentation here - <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.cluster.AgglomerativeClustering.html#sklearn.cluster.AgglomerativeClustering.fit\" rel=\"nofollow\">http://scikit-learn.org/stable/modules/generated/sklearn.cluster.AgglomerativeClustering.html#sklearn.cluster.AgglomerativeClustering.fit</a></p>\n\n<p>States that I can use a callable distance function for clustering.</p>\n\n<p>However I could not find the form of the distance function. Best guess <code>def dist(element1,element2)</code> pairwise distance function doesn't work. When it is called, it gets passed only one argument, which is a series of many arguments.</p>\n\n<p>I couldn't find any documention detailing the function... does anyone know what type of function is expected?</p>\n\n<p>(For my purpose, I want to classify some text of names based on a custom similarity function.)</p>\n"}, {"tags": ["python", "html", "parsing", "lxml", "html5lib"], "answers": [{"tags": [], "owner": {"reputation": 5054, "user_id": 478176, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59224f86a994baedfcd9e7dc82cc14b9?s=128&d=identicon&r=PG", "display_name": "gsnedders", "link": "https://stackoverflow.com/users/478176/gsnedders"}, "is_accepted": false, "score": 1, "last_activity_date": 1430505418, "creation_date": 1430505418, "answer_id": 29992924, "question_id": 28728498, "link": "https://stackoverflow.com/questions/28728498/obtaining-position-info-when-parsing-html-in-python/29992924#29992924", "title": "Obtaining position info when parsing HTML in Python", "body": "<p>Only sort of an answer \u2014 html5lib doesn't provide a streaming API because it's impossible to provide a streaming API while parsing HTML per spec in general without buffering or fatal errors (consider the input <code>&lt;table&gt;xxx</code> for example). It would, however, be nice to provide a streaming API for html5lib which used fatal errors only for those parse errors that prevent streaming. Not massively easy to implement, not massively difficult either.</p>\n\n<p>It shouldn't be too much work to get location info into the tree in html5lib (the fact parse errors have location info makes it clear that it's possible to get!), and there's a couple of bugs on this, <a href=\"https://github.com/html5lib/html5lib-python/issues/169\" rel=\"nofollow\">one general</a>, and <a href=\"https://github.com/html5lib/html5lib-python/issues/97\" rel=\"nofollow\">one specific to lxml</a>.</p>\n\n<p>Note that it's not possible to use the html5lib tokenizer alone to achieve this \u2014 the tokenizer has its state changed by the tree construction step at various points. You'd have to implement a minimal tree constructor (which would have to maintain a stack of open elements at least, though I think nothing more) to keep the tokenizer right, therefore. Once you want to start filtering based on current element you're basically needing the whole tree construction step so you're back to the streaming API problem above.</p>\n"}, {"tags": [], "owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "is_accepted": true, "score": 3, "last_activity_date": 1436208837, "last_edit_date": 1436208837, "creation_date": 1433430744, "answer_id": 30647679, "question_id": 28728498, "link": "https://stackoverflow.com/questions/28728498/obtaining-position-info-when-parsing-html-in-python/30647679#30647679", "title": "Obtaining position info when parsing HTML in Python", "body": "<p>After some additional research and more carefully reviewing of the source code of <a href=\"https://github.com/html5lib/html5lib-python\" rel=\"nofollow\">html5lib</a>, I discovered that <a href=\"https://github.com/html5lib/html5lib-python/blob/master/html5lib/tokenizer.py#L24\" rel=\"nofollow\"><code>html5lib.tokenizer.HTMLTokenizer</code></a> does retain partial position information. By \"partial,\" I mean that it knows the line and column of the last character of a given token. Unfortunately, it does not retain the position of the start of the token (I suppose it could be extrapolated, but that feels like re-implementing much of the tokenizer in reverse--and no, using the end position of the previous won't work if there is white space between tokens).</p>\n\n<p>In any event, I was able to wrap the <code>HTMLTokenizer</code> and create an <a href=\"https://docs.python.org/2/library/htmlparser.html\" rel=\"nofollow\"><code>HTMLParser</code></a> clone which mostly replicates the API. You can find my work here: <a href=\"https://gist.github.com/waylan/7d5b7552078f1abc6fac\" rel=\"nofollow\">https://gist.github.com/waylan/7d5b7552078f1abc6fac</a>. </p>\n\n<p>However, as the tokenizer is only part of the parsing process implemented by html5lib, we loose  the good parts of html5lib. For example, no normalization has been done at that stage in the process, so you get the raw (potentially invalid) tokens rather than a normalized document. As stated in the comments there, it is not perfect and I question whether it is even useful. </p>\n\n<p>In fact, I also discovered the the HTMLParser included in the Python standard library had been <a href=\"https://docs.python.org/3.3/whatsnew/3.3.html#html\" rel=\"nofollow\">updated</a> for Python 3.3 and no longer crashes hard on invalid input. As far as I can tell, it is better (for my use case) in that it does provide actually useful position info (as it always has). In all other respects, it is no better or worse that my wrapper of html5lib (except of course, that it has presumably received much more testing and is therefore more stable). Unfortunately, the update has not been back-ported to Python 2 or earlier Python 3 versions. Although, I don't imagine that would be all that difficult to do myself.</p>\n\n<p>In any event, I'v decided to move forward with HTMLParser in the standard library and reject my own wrapper around html5lib. You can see an early effort <a href=\"https://gist.github.com/waylan/86026a6baca01a14ba0c\" rel=\"nofollow\">here</a> which appears to work fine with minimal testing. </p>\n\n<hr>\n\n<p>According to the Beautiful Soup <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser\" rel=\"nofollow\">docs</a>, HTMLParser was updated to support invalid input in Python 2.7.3 and 3.2.2, which is earlier than 3.3.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1286353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh5jI.png?s=128&g=1", "display_name": "onelivesleft", "link": "https://stackoverflow.com/users/1286353/onelivesleft"}, "is_accepted": false, "score": 0, "last_activity_date": 1532211969, "creation_date": 1532211969, "answer_id": 51460586, "question_id": 28728498, "link": "https://stackoverflow.com/questions/28728498/obtaining-position-info-when-parsing-html-in-python/51460586#51460586", "title": "Obtaining position info when parsing HTML in Python", "body": "<blockquote>\n  <p>Interestingly, the HTMLParser class in the Python Standard Lib does offer support for obtaining the location info (with a getpos() method), but it is horrible at handling malformed HTML and has been eliminated as a possible solution.</p>\n</blockquote>\n\n<p>A technique I've used before is to use BeautilfulSoup.prettify() to fix up malformed html and then parse that with HTMLParser.</p>\n"}], "owner": {"reputation": 24616, "user_id": 866026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fae8527632d33d7bf929fada83e8d1?s=128&d=identicon&r=PG", "display_name": "Waylan", "link": "https://stackoverflow.com/users/866026/waylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1744, "favorite_count": 2, "accepted_answer_id": 30647679, "answer_count": 3, "score": 8, "last_activity_date": 1532211969, "creation_date": 1424894471, "last_edit_date": 1495540697, "question_id": 28728498, "link": "https://stackoverflow.com/questions/28728498/obtaining-position-info-when-parsing-html-in-python", "title": "Obtaining position info when parsing HTML in Python", "body": "<p>I'm trying to find a way to parse (potentially malformed) HTML in Python and, if a set of conditions are met, output that piece of the document with the position (line, column). The position information is what is tripping me up here. And to be clear, I have no need to build an object tree. I simply want to find certain pieces of data and their position in the original document (think of a spell checker, for example: 'word \"foo\" at line x, column y, is misspelled)'</p>\n\n<p>As an example I want something like this (using ElementTree's <a href=\"http://effbot.org/elementtree/elementtree-xmlparser.htm\" rel=\"noreferrer\">Target API</a>):</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\nclass EchoTarget:\n    def start(self, tag, attrib):\n        if somecondition():\n            print \"start\", tag, attrib, self.getpos()\n    def end(self, tag):\n        if somecondition():\n            print \"end\", tag, self.getpos()\n    def data(self, data):\n        if somecondition():\n            print \"data\", repr(data), self.getpos()\n\ntarget = EchoTarget()\nparser = ET.XMLParser(target=target)\nparser.feed(\"&lt;p&gt;some text&lt;/p&gt;\")\nparser.close() \n</code></pre>\n\n<p>However, as far as I can tell, the <code>getpos()</code> method (or something like it) doesn't exist. And, of course, that is using an XML parser. I want to parse potentially malformed HTML.</p>\n\n<p>Interestingly, the <a href=\"https://docs.python.org/2/library/htmlparser.html\" rel=\"noreferrer\">HTMLParser</a> class in the Python Standard Lib does offer support for obtaining the location info (with a <code>getpos()</code> method), but it is horrible at handling malformed HTML and has been eliminated as a possible solution. I need to parse HTML that exists in the real word without breaking the parser.</p>\n\n<p>I'm aware of two HTML parsers that would work well at parsing malformed HTML, namely <a href=\"http://lxml.de/\" rel=\"noreferrer\">lxml</a> and <a href=\"http://code.google.com/p/html5lib/\" rel=\"noreferrer\">html5lib</a>. And in fact, I would prefer to use either one of them over any other options available in Python.</p>\n\n<p>However, as far as I can tell, html5lib offers no event API and would require that the document be parsed to a tree object. Then I would have to iterate through the tree. Of course, by that point, there is no association with the source document and all location information is lost. So, html5lib is out, which is a shame because it seems like the best parser for handling malformed HTML.</p>\n\n<p>The lxml library offers a Target API which mostly mirrors ElementTree's, but again, I'm not aware of any way to access location information for each event. A glance at the source code offered no hints either.</p>\n\n<p>lxml also offers an API to SAX events. Interestingly, Python's standard lib mentions that SAX has support for <a href=\"https://docs.python.org/2/library/xml.sax.reader.html#locator-objects\" rel=\"noreferrer\">Locator Objects</a>, but offers little documentation about how to use them. This <a href=\"https://stackoverflow.com/questions/15477363/xml-sax-parser-and-line-numbers-etc\">SO Question</a> provides some info (when using a SAX Parser), but I don't see how that relates to the limited support for SAX events that lxml provides.</p>\n\n<p>Finally, before anyone suggests <a href=\"http://www.crummy.com/software/BeautifulSoup/\" rel=\"noreferrer\">Beautiful Soup</a>, I will point out that, as stated on the home page, \"Beautiful Soup sits on top of popular Python parsers like lxml and html5lib\".  All it gives me is an object to extract data from with no connection to the original source document. Like with html5lib, all location info is lost by the time I have access to the data. I want/need raw access to the parser directly.</p>\n\n<p>To expand on the spell checker example I mention in the beginning, I would want to check the spelling only of words in the document text (but not tag names or attributes) and may want to skip checking the content of specific tags (like the script or code tags). Therefore, I need a real HTML parser. However, I am only interested in the position of the misspelled words in the original source document when it comes to reporting the misspelled words and have no need to build a tree object. To be clear, this is only an example of one potential use. I may use it for something completely different but the needs would be essentially the same. In fact, I once built something very similar using HTMLParser, but never used it as the error handling wasn't going to work for that use case. That was years ago, and I seem to have lost that file somewhere along the line. I'd like to use lxml or html5lib instead this time around.</p>\n\n<p>So, is there something I'm missing? I have a hard time believing that none of these parsers (aside from the mostly useless HTMLParser) have any way to access the position information. But if they do it must be undocumented, which seems strange to me.</p>\n"}, {"tags": ["python", "polynomial-math", "deflate"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1424991326, "post_id": 28728489, "comment_id": 45790407, "body": "Elements of both of the current answers are correct and relevant. Names defined inside a function are local to that function and are not exposed outside that function. You seem to be conflating Python functions and classes (or perhaps functions and modules). I don&#39;t think you&#39;ll get much more detail or explanation than this from Stack Overflow users (not because they don&#39;t want to help, but because answering this type of question feels like teaching you the fundamentals of Python); try reading the <a href=\"https://docs.python.org/2/tutorial/\" rel=\"nofollow noreferrer\">tutorial</a>."}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1424894703, "creation_date": 1424894703, "answer_id": 28728571, "question_id": 28728489, "link": "https://stackoverflow.com/questions/28728489/python-function-object-has-no-attribute-deflpoly/28728571#28728571", "title": "Python - &#39;function&#39; object has no attribute &#39;deflPoly&#39;", "body": "<p>As the error message says, <code>polyRoots</code> is a function; <code>deflPoly</code> is a function defined inside of it, but it is not an attribute of it.</p>\n"}, {"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": true, "score": 0, "last_activity_date": 1424896054, "creation_date": 1424896054, "answer_id": 28728931, "question_id": 28728489, "link": "https://stackoverflow.com/questions/28728489/python-function-object-has-no-attribute-deflpoly/28728931#28728931", "title": "Python - &#39;function&#39; object has no attribute &#39;deflPoly&#39;", "body": "<p>I think he cannot call the function <code>deflPoly</code> outside the function. Because it is of <code>local</code> scope.</p>\n\n<p><strong>For ex:</strong></p>\n\n<pre><code>def a():\n    print 'a function'\n    def b():\n        print 'b function'\n\na().b()\n</code></pre>\n\n<p>This should be error, because function <code>a()</code> returns None, If even some value for function <code>a()</code> returns, it has no attribute <code>b</code>.</p>\n\n<p>Inorder to use function <code>b()</code>, we have to setup a <code>link</code> to inner function s like</p>\n\n<pre><code>def a():\n    print 'a function'\n    def b():\n        print 'b function'\n    return b\n\ntest = a()\ntest()\n\n&gt;&gt;&gt;a function\n&gt;&gt;&gt;b function\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4607341, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lJlDM1x7Djs/AAAAAAAAAAI/AAAAAAAAAQM/-f3yIp-TCz4/photo.jpg?sz=128", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/4607341/andrew-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 28728931, "answer_count": 2, "score": 1, "last_activity_date": 1424899356, "creation_date": 1424894456, "question_id": 28728489, "link": "https://stackoverflow.com/questions/28728489/python-function-object-has-no-attribute-deflpoly", "title": "Python - &#39;function&#39; object has no attribute &#39;deflPoly&#39;", "body": "<p>Tried creating a little script to test out the different parts of a script called polyRoots. When I tried to utilize the deflating poly function I get an error. Their is nothing complicated about this code and I am unsure why it isn't working.</p>\n\n<pre><code>import polyRoots as pr\n\nprint( \"Deflation of polynomial: \")\nprint( pr.polyRoots.deflPoly( [20, -36, 7, 3], -5 ))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>File \"C:temp.py\", line 13, in &lt;module&gt;\nprint( pr.polyRoots.deflPoly( [20, -36, 7, 3], -5 ))\n\nAttributeError: 'function' object has no attribute 'deflPoly'\n</code></pre>\n\n<p>The polyRoots script is a book code resource from numerical methods to engineering. It is as follows:</p>\n\n<pre><code>## module polyRoots\n''' roots = polyRoots(a).\n    Uses Laguerre's method to compute all the roots of\n    a[0] + a[1]*x + a[2]*x^2 +...+ a[n]*x^n = 0.\n    The roots are returned in the array 'roots',\n'''    \nfrom evalPoly import *\nimport numpy as np\nimport cmath\nfrom random import random\n\ndef polyRoots(a,tol=1.0e-12):\n\n    def laguerre(a,tol):\n        x = random()   # Starting value (random number)\n        n = len(a) - 1\n        for i in range(30):\n            p,dp,ddp = evalPoly(a,x)\n            if abs(p) &lt; tol: return x\n            g = dp/p\n            h = g*g - ddp/p\n            f = cmath.sqrt((n - 1)*(n*h - g*g))\n            if abs(g + f) &gt; abs(g - f): dx = n/(g + f)\n            else: dx = n/(g - f)\n            x = x - dx\n            if abs(dx) &lt; tol: return x\n        print('Too many iterations')\n\n    def deflPoly(a,root):  # Deflates a polynomial\n        n = len(a)-1\n        b = [(0.0 + 0.0j)]*n\n        b[n-1] = a[n]\n        for i in range(n-2,-1,-1):\n            b[i] = a[i+1] + root*b[i+1]\n        return b\n\n    n = len(a) - 1\n    roots = np.zeros((n),dtype=complex)\n    for i in range(n):\n        x = laguerre(a,tol)\n        if abs(x.imag) &lt; tol: x = x.real\n        roots[i] = x\n        a = deflPoly(a,x)\n    return roots\n</code></pre>\n\n<p>Uncertain what is causing this error as it really is just one line of code for each deflation request. Please advise. </p>\n"}, {"tags": ["python", "operating-system", "filesystems", "directory-traversal"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1424894575, "post_id": 28728460, "comment_id": 45743279, "body": "What is line 1 of your file?"}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 1, "creation_date": 1424894625, "post_id": 28728460, "comment_id": 45743309, "body": "<code>NameError</code> means Python is trying to resolve Spring2015 as a variable name. I think you need to post more of the code. Preferably the entire file."}, {"owner": {"reputation": 380, "user_id": 2056823, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/fnJDL.jpg?s=128&g=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/2056823/kamal"}, "edited": false, "score": 0, "creation_date": 1424896153, "post_id": 28728460, "comment_id": 45744133, "body": "I added the entire file. Why does python think Spring2015 is a variable name though? I&#39;m guessing I made some syntax error that I don&#39;t know about?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1424927035, "post_id": 28728460, "comment_id": 45754685, "body": "Is the file you&#39;ve shown us <code>testparser.py</code>? Python seems to think that file starts with the text <code>Spring2015&#47;CS410&#47;htmlfiles&#47;testparser.py</code>, which is not valid Python."}], "owner": {"reputation": 380, "user_id": 2056823, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/fnJDL.jpg?s=128&g=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/2056823/kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424896088, "creation_date": 1424894344, "last_edit_date": 1424896088, "question_id": 28728460, "link": "https://stackoverflow.com/questions/28728460/cant-traverse-directory-tree-in-python-with-os-walk-because-it-says-a-name-is", "title": "Can&#39;t traverse directory tree in python with os.walk() because it says a name is not defined", "body": "<p>So as part of a homework, I have to traverse through a directory tree, and it seems that os.walk is the best choice for this. I am using cygwin to run my python scripts. The path of the tree that I am trying to traverse is:\n /cygdrive/c/Users/Kamal/Documents/School/Spring2015/CS410/htmlfiles</p>\n\n<p>So in my code, here is the snippet to the os.walk() call:</p>\n\n<pre><code>for dirName, subdirList, fileList in os.walk('/cygdrive/c/Users/Kamal/Documents/School/Spring2015/CS410/htmlfiles'):\n</code></pre>\n\n<p>However, when I execute the script, it gives me the following error:</p>\n\n<pre><code>$ python testparser.py\nTraceback (most recent call last):\n  File \"testparser.py\", line 1, in &lt;module&gt;\n    Spring2015/CS410/htmlfiles/testparser.py\nNameError: name 'Spring2015' is not defined\n</code></pre>\n\n<p>I'm confused as to why it thinks 'Spring2015' is undefined? The directory clearly exists at the given path on my computer</p>\n\n<p>EDIT: here is the entire code since some have asked:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport os\nimport shutil\n\ncnt = 0\n\nprint \"starting...\"\nfor dirName, subdirList, fileList in os.walk('/cygdrive/c/Users/Kamal/Documents/School/Spring2015/CS410/htmlfiles'):\nfor f in fileList:\n    #print the path\n    print \"Processing \" + os.path.abspath(f) + \"...\\n\"\n\n    #open the HTML file\n    html = open(f)\n    soup  = BeautifulSoup(html)\n\n    #Filter out unwanted stuff\n    [s.extract() for s in soup(['style', 'script', '[document]',  'head', 'title'])]\n    visible_text = soup.getText()\n    visible_text_encoded = visible_text.encode('utf-8')\n    visible_text_split = visible_text_encoded.split('\\n')\n    visible_text_filtered = filter(lambda l: l != '', visible_text_split)\n\n    #Generate the name of the output text file\n    outfile_name = 'chaya2_' + str(cnt) + '.txt'\n\n    #Open the output file to write in\n    outfile = open(outfile_name, \"w\")\n\n    #Get the URL of the html file using its Path, write it to the first line\n    outfile.write(os.path.relpath(f, '/cygdrive/c/Users/Kamal/Documents/School/') + ' \\n')\n\n    #Write the visible text to the \n    for l in visible_text_filtered:\n        outfile.write(l+'\\n')\n\n    #Done writing, move the output file to the appropriate directory\n    shutil.move(os.path.abspath(outfile_name), '/cygdrive/c/Users/Kamal/Documents/School/Spring2015/CS410/txtFiles')\n\n    #Rename the html file \n    html_name = 'chaya2_' + str(cnt) + '.html'\n    os.rename(f, html_name)\n\n    #Move the html file to the appropriate directory\n    shutil.move(os.path.abspath(html_name), '/cygdrive/c/Users/Kamal/Documents/School/Spring2015/CS410/htmlFilesAfter')\n\n    print html_name  + \" converted to \" + outfile_name + \"\\n\"\n\n    outfile.close()\n    html.close()\n\n    cnt+=1\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 8106, "user_id": 129600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8304c94fad5c5a762301de60d0a9bd7e?s=128&d=identicon&r=PG", "display_name": "acushner", "link": "https://stackoverflow.com/users/129600/acushner"}, "edited": false, "score": 0, "creation_date": 1424895886, "post_id": 28728417, "comment_id": 45743974, "body": "what&#39;s the goal here? are you going to do something with the fully printed values or just look at them?"}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 5, "last_activity_date": 1424900730, "creation_date": 1424900730, "answer_id": 28730264, "question_id": 28728417, "link": "https://stackoverflow.com/questions/28728417/flatten-the-results-of-a-group-by-in-a-python-dataframe-after-printing-the-group/28730264#28730264", "title": "Flatten the results of a group by in a python dataframe after printing the grouped instance counts", "body": "<p>Set the option:</p>\n\n<pre><code>pd.options.display.multi_sparse = False\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>import pandas as pd\npd.options.display.multi_sparse = False\n\ndf = pd.DataFrame(\n   [[1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3], \n   list('AAABBBBABCBDDD'), \n   [1.1, 1.7, 2.5, 2.6, 3.3, 3.8,4.0,4.2,4.3,4.5,4.6,4.7,4.7,4.8], \n   ['x/y/z','x/y','x/y/z/n','x/u','x','x/u/v','x/y/z','x','x/u/v/b','-','x/y',\n      'x/y/z','x','x/u/v/w'],\n   ['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).T\n\ndf.columns = ['col1','col2','col3','col4','col5']\nprint(df.groupby(['col5', 'col2']).size())\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>col5  col2\n1     A       1\n1     D       3\n2     B       2\n3     A       3\n3     C       1\n4     B       1\n5     B       2\n6     B       1\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 1462, "user_id": 2206566, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/f1d6fc49b2d798c9933a5185ca97d37b?s=128&d=identicon&r=PG", "display_name": "ekta", "link": "https://stackoverflow.com/users/2206566/ekta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2376, "favorite_count": 0, "accepted_answer_id": 28730264, "answer_count": 1, "score": 2, "last_activity_date": 1424922424, "creation_date": 1424894210, "last_edit_date": 1495541372, "question_id": 28728417, "link": "https://stackoverflow.com/questions/28728417/flatten-the-results-of-a-group-by-in-a-python-dataframe-after-printing-the-group", "title": "Flatten the results of a group by in a python dataframe after printing the grouped instance counts", "body": "<p>I need to count the instances of two columns in a dataframe by values. \nI get the same by using group &amp; size, though I want to spit out \n1. The flat value in each column combination\n2. the name of the \"last count\" column (See also the what I want below).</p>\n\n<pre><code>    df = pd.DataFrame([[1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3], list('AAABBBBABCBDDD'), [1.1, 1.7, 2.5, 2.6, 3.3, 3.8,4.0,4.2,4.3,4.5,4.6,4.7,4.7,4.8], ['x/y/z','x/y','x/y/z/n','x/u','x','x/u/v','x/y/z','x','x/u/v/b','-','x/y','x/y/z','x','x/u/v/w'],['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).T\n    df.columns = ['col1','col2','col3','col4','col5']\n    df.groupby(['col5', 'col2']).size()\n# this gives \ncol5  col2   &lt;Note that this is unnamed&gt;\n1     A       1\n      D       3\n2     B       2\n3     A       3\n      C       1\n4     B       1\n5     B       2\n6     B       1\ndtype: int64\n\nWhat I want -:\n    col5  col2   count_instances_of_this_combination\n    1     A       1\n    1     D       3\n    2     B       2\n    3     A       3\n    3     C       1\n    4     B       1\n    5     B       2\n    6     B       1\n</code></pre>\n\n<p>That is I explicitly want the 1st columns to print out the complete combination of col5, col2 </p>\n\n<p>Related question : \n<a href=\"https://stackoverflow.com/questions/17679089/pandas-dataframe-groupby-two-columns-and-get-counts\">Pandas DataFrame Groupby two columns and get counts</a></p>\n\n<pre><code>  col1 col2 col3     col4 col5\n0   1.1    A  1.1    x/y/z    1\n1   1.1    A  1.7      x/y    3\n2   1.1    A  2.5  x/y/z/n    3\n3   2.6    B  2.6      x/u    2\n4   2.5    B  3.3        x    4\n5   3.4    B  3.8    x/u/v    2\n6   2.6    B    4    x/y/z    5\n7   2.6    A  4.2        x    3\n8   3.4    B  4.3  x/u/v/b    6\n9   3.4    C  4.5        -    3\n10  2.6    B  4.6      x/y    5\n11  1.1    D  4.7    x/y/z    1\n12  1.1    D  4.7        x    1\n13  3.3    D  4.8  x/u/v/w    1\n</code></pre>\n\n<p>This means the combination &lt;1,A > occurred once, &lt;2, B> occurred twice, &lt;1,d> occurred thrice &amp; so on. </p>\n\n<p><strong>Here's how it worked</strong> -:</p>\n\n<p>Further to the answer below, on setting the sparity option to False,\nI did this to get the name .</p>\n\n<pre><code>pd.options.display.multi_sparse = False\n# rest same a above.. \ns=pd.DataFrame({'s=pd.DataFrame({'count_instances_of_this_combination' : df.groupby(['query', 'product_id']).size()}).reset_index()' : df.groupby(['col5', 'col2']).size()}).reset_index()\n</code></pre>\n\n<p>This gives me a well formed data frame with the \"3rd\" column as a named column. </p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1424897558, "creation_date": 1424897558, "answer_id": 28729339, "question_id": 28728321, "link": "https://stackoverflow.com/questions/28728321/how-to-get-the-position-of-a-gui-in-tkinter/28729339#28729339", "title": "How to get the position of a gui in Tkinter", "body": "<p>Call the <a href=\"http://effbot.org/tkinterbook/wm.htm#Tkinter.Wm.geometry-method\" rel=\"nofollow\">geometry</a> method of any root or toplevel window. It will return a string of the form \"widthxheight+x+y\". </p>\n"}], "owner": {"reputation": 342, "user_id": 3601609, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jCgoH.jpg?s=128&g=1", "display_name": "artman41", "link": "https://stackoverflow.com/users/3601609/artman41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 28729339, "answer_count": 1, "score": -1, "last_activity_date": 1424897558, "creation_date": 1424893875, "question_id": 28728321, "link": "https://stackoverflow.com/questions/28728321/how-to-get-the-position-of-a-gui-in-tkinter", "title": "How to get the position of a gui in Tkinter", "body": "<p>I'm creating a second gui when I click a button and am then destroying my original gui.</p>\n\n<p>I would like to create this new gui in the same position as the original gui.</p>\n\n<p>Is there a function that will let me get the geometry or position of the original gui before I destroy it?</p>\n"}, {"tags": ["python", "facebook", "oauth", "bottle", "ionic"], "comments": [{"owner": {"reputation": 4782, "user_id": 101130, "user_type": "registered", "profile_image": "https://graph.facebook.com/690267162/picture?type=large", "display_name": "WizKid", "link": "https://stackoverflow.com/users/101130/wizkid"}, "edited": false, "score": 1, "creation_date": 1424896811, "post_id": 28728317, "comment_id": 45744514, "body": "It is explained in the Facebook documentation here <a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens#architecture\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/facebook-login/&hellip;</a>"}], "owner": {"reputation": 1540, "user_id": 4458246, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/b75d47eac34af68dc04cdd15a85bcc25?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas B", "link": "https://stackoverflow.com/users/4458246/lucas-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1424893869, "creation_date": 1424893869, "question_id": 28728317, "link": "https://stackoverflow.com/questions/28728317/call-facebook-graph-api-from-backend-after-user-connected-through-mobile-app", "title": "Call Facebook graph API from backend after user connected through mobile app", "body": "<p>i need few advice on my newbie frenchy project...</p>\n\n<p><strong>How can I call the Facebook graph api directly from a backend (python and bottle) after the user simply gave his authorization on the mobile app (Ionic framework) ?</strong></p>\n\n<p>I had in mind to send the Facebook token received on mobile app to the backend and use it to access information directly.</p>\n\n<p>Also does anyone know if there is a best practice to get user Facebook information (profile basic info and friends list) on a backend ?</p>\n\n<p>I know my question is very broad, but i'm just looking for a clue to know which way to go </p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "statistics", "histogram", "gaussian", "data-fitting"], "comments": [{"owner": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "edited": false, "score": 0, "creation_date": 1424895240, "post_id": 28728199, "comment_id": 45743631, "body": "The usual way to fit a mixture of Gaussians is the so-called expectation-maximization (EM) algorithm. It is really pretty simple. More generally, use so-called maximum likelihood methods (of which EM is one) to fit probability distributions to data."}, {"owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "reply_to_user": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "edited": false, "score": 0, "creation_date": 1424963683, "post_id": 28728199, "comment_id": 45774416, "body": "Thank you @RobertDodier for your suggestion. I am following the prescription described in this link <a href=\"http://nbviewer.ipython.org/github/tritemio/notebooks/blob/master/Mixture_Model_Fitting.ipynb\" rel=\"nofollow noreferrer\">link</a>."}, {"owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "reply_to_user": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "edited": false, "score": 0, "creation_date": 1424964845, "post_id": 28728199, "comment_id": 45775185, "body": "Thank you @RobertDodier! I am following this link <a href=\"http://nbviewer.ipython.org/github/tritemio/notebooks/blob/master/Mixture_Model_Fitting.ipynb\" rel=\"nofollow noreferrer\">Mixture Model Fitting</a>. My code now is :  #Log likelohood function def log_likelihood_two_1d_gauss(p, sample):     h = 0     for i in range(len(sample)):         h = math.log(pdf_model(sample[i], p)) + h                     return -h from scipy.optimize import minimize x_histo = np.array(x_histo) res = minimize(log_likelihood_two_1d_gauss, x0 = p0, args = (x_histo,), method=&#39;nelder-mead&#39;, options=dict(maxiter=10000, maxfev=2e4)) print(res.x)"}, {"owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "reply_to_user": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "edited": false, "score": 0, "creation_date": 1424964919, "post_id": 28728199, "comment_id": 45775246, "body": "But it doesn&#39;t work for three gaussian functions...maybe due to my data."}, {"owner": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "edited": false, "score": 0, "creation_date": 1424973047, "post_id": 28728199, "comment_id": 45780543, "body": "The free parameters for fitting the model are the mean and variance of each Gaussian bump, and the mixing proportions. So with n bumps there are 3 n free parameters. The histogram doesn&#39;t enter the picture at all. Also, EM is an iterative algorithm. I will edit my answer to put in some pseudocode."}, {"owner": {"reputation": 3706, "user_id": 1847419, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4oKLO.jpg?s=128&g=1", "display_name": "fnl", "link": "https://stackoverflow.com/users/1847419/fnl"}, "edited": false, "score": 0, "creation_date": 1425028987, "post_id": 28728199, "comment_id": 45802655, "body": "Not that I am an authority for such issues, but should this question not be discussed on CrossValidated instead of StackOverflow?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "edited": false, "score": 0, "creation_date": 1425565007, "post_id": 28750062, "comment_id": 46021373, "body": "Thank you @RobertDodier, your comments were very useful for me. Finally, I chose another way...simpler for me, as I explain in my answer."}], "tags": [], "owner": {"reputation": 14582, "user_id": 871096, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/39b6e181c797ef3ab2119322f7cac20b?s=128&d=identicon&r=PG", "display_name": "Robert Dodier", "link": "https://stackoverflow.com/users/871096/robert-dodier"}, "is_accepted": false, "score": 0, "last_activity_date": 1424975440, "creation_date": 1424975440, "answer_id": 28750062, "question_id": 28728199, "link": "https://stackoverflow.com/questions/28728199/python-multipeak-fit-histogram/28750062#28750062", "title": "Python - Multipeak fit - histogram", "body": "<p>Here is a sketch (pseudocode, not real code) of the EM algorithm. You don't need the histogram at all.</p>\n\n<pre><code>function M_step (x, responsibility, j)\n  bump_mean[j] = sum (x[j]*responsibility[i, j], j, 1, n)\n    where n = length(x)\n  bump_mean_x2[j] = sum (x[j]**2 * responsibility[i, j], j, 1, n)\n  bump_variance[j] = bump_mean_x2[j] - bump_mean[j]**2\n  mixing_proportion[j] = sum (responsibility[i, j], j, 1, n)\n\nfunction E_step (x, means, variances, mixing weights)\n  responsibility[i, j] = p(bump i | x[j])\n    for each bump i and datum x[j]\n\nfunction EM (x)\n  for many times:\n    call E_step for data x and current parameter estimates\n      to obtain responsibility values\n    call M_step with responsibility values for each bump\n      to update parameters\n</code></pre>\n\n<p>I've omitted a lot of details, and I'm working from memory so there could be mistakes. But the summary is this: E-step = estimate responsibility of each bump for each datum, then M-step = estimate bump parameters and mixing weights given responsibility. The M-step is just the same as computing the mean and variance using weighted data.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "is_accepted": false, "score": 0, "last_activity_date": 1425565414, "creation_date": 1425565414, "answer_id": 28880078, "question_id": 28728199, "link": "https://stackoverflow.com/questions/28728199/python-multipeak-fit-histogram/28880078#28880078", "title": "Python - Multipeak fit - histogram", "body": "<p>I solved my problem minimizing the negative log likelihood function, as in the following pseudo code:</p>\n\n<pre><code>#Gaussian function\ndef mygauss(x, *p):\n    mu, sigma = p                                    \n    return (1 / (math.sqrt(2 * math.pi) * sigma))  * np.exp(- (x - mu) ** 2 / (2. * sigma ** 2))\n\n#Model to calculate the likelihood\ndef pdf_model(x, p):\n    mu1, sig1= p\n    return mygauss(x, mu1, sig1)\n\n#Negative Log likelohood function\ndef log_likelihood_two_1d_gauss(p, sample):\n    h = 0\n    for x in sample:\n        h = h + math.log(pdf_model(x, p))    \n    return -h\n\n\nfrom scipy.optimize import minimize\n#Guess    \np0 = np.array([a,   b])\n#My data\nmydata = mydata\n\nres = minimize(log_likelihood_two_1d_gauss, x0 = p0, args = (mydata,), method='nelder-mead')\nprint res.success\nprint res.message\nprint res.x\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4607269, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rigaMkCzJfY/AAAAAAAAAAI/AAAAAAAAAEE/sA9JW7GDE38/photo.jpg?sz=128", "display_name": "Elena", "link": "https://stackoverflow.com/users/4607269/elena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1425565414, "creation_date": 1424893503, "last_edit_date": 1424893792, "question_id": 28728199, "link": "https://stackoverflow.com/questions/28728199/python-multipeak-fit-histogram", "title": "Python - Multipeak fit - histogram", "body": "<p>I would like to fit my data with a sum of gaussian functions, but the program does not converge. I do not know if it is a problem of the code or of data.</p>\n\n<pre><code>#My function: sum of two gaussian\ndef gauss2(x, *p):\n    A, mu, sigma, A1, mu1, sigma1 = p                                    \n    return (A / (math.sqrt(2 * math.pi) * sigma)) * np.exp(- (x - mu) ** 2 / (2. * sigma ** 2)) + (A1 / (math.sqrt(2 * math.pi) * sigma1)) * np.exp(- (x - mu1) ** 2 / (2. * sigma1 ** 2))\n\n#Histogram\nhist, bin_edges = np.histogram(data, density=True)\n#I consider the center of each column of the histogram for the fit\nbin_centres = (bin_edges[:-1] + bin_edges[1:]) / 2\n#Guess\np0 = [2., 50.,0.05, 2., 52.,1.]\n#Fit using curve_fit\ncoeff, var_matrix = curve_fit(gauss2, bin_centres, hist, p0=p0)\n\n#For the plot\nxx = []\nss = -14\nprova2 = []\nfor i in range(10000):\n    ss += 0.01\n    xx.append(ss)\n\nhist_fit = gauss2(xx, *coeff)\nplt.plot(xx, hist_fit, 'b')\n</code></pre>\n\n<p>The result of the fit is:</p>\n\n<pre><code>1:[  1.45724361e+05   3.14206364e+03  -2.95328767e+02   8.89521631e-01\n   5.20036421e+01   5.79493687e-01]!\n</code></pre>\n\n<p>My data would peak around 50.5 and 52.</p>\n\n<p>Are there different procedure than 'curve-fit' for fitting a function?</p>\n"}, {"tags": ["python", "flask", "redis", "python-rq"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1424895929, "post_id": 28728184, "comment_id": 45744004, "body": "Are you using Flask-Redis with Flask and something else outside of Flask?"}, {"owner": {"reputation": 2902, "user_id": 523051, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/497825ebbcb0e06c2451d3ff91d644b2?s=128&d=identicon&r=PG", "display_name": "chrickso", "link": "https://stackoverflow.com/users/523051/chrickso"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1424899041, "post_id": 28728184, "comment_id": 45745730, "body": "flask-and-redis, yes. what do you mean &#39;outside of flask&#39;?"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1424899220, "post_id": 28728184, "comment_id": 45745820, "body": "What <code>Redis</code> are you using with RQ? Is it <code>from redis import Redis</code>? That&#39;s not the same class as what you import from Flask-Redis."}, {"owner": {"reputation": 2902, "user_id": 523051, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/497825ebbcb0e06c2451d3ff91d644b2?s=128&d=identicon&r=PG", "display_name": "chrickso", "link": "https://stackoverflow.com/users/523051/chrickso"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1424899671, "post_id": 28728184, "comment_id": 45746084, "body": "i now have this half-working. The RQ worker and the job_functions.py are using from redis import Redis. When I push to heroku the job_function() is attempting to connect to localhost (the default) so am currently trying to figure out how to specify a connection to REDISCLOUD_URL when initiating redis = Redis()"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 1, "creation_date": 1424900195, "post_id": 28728184, "comment_id": 45746439, "body": "<code>import redis</code> and <code>r = redis.from_url(os.environ.get(&#39;REDISCLOUD_URL&#39;))</code> should get you going in the right direction."}], "owner": {"reputation": 2902, "user_id": 523051, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/497825ebbcb0e06c2451d3ff91d644b2?s=128&d=identicon&r=PG", "display_name": "chrickso", "link": "https://stackoverflow.com/users/523051/chrickso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424893462, "creation_date": 1424893462, "question_id": 28728184, "link": "https://stackoverflow.com/questions/28728184/what-is-happening-to-my-redis-when-inside-of-a-python-rq-job", "title": "What is happening to my Redis() when inside of a Python RQ job?", "body": "<p>in my flask app, I typically will</p>\n\n<pre><code>from extensions import redis\n</code></pre>\n\n<p>and then in my functions will do something like</p>\n\n<pre><code>redis.set('redis:test:queue:increment', 1)\n</code></pre>\n\n<p>and all is fine.</p>\n\n<p>Now that I am attempting to install/understand/use python RQ, I'm finding that is it doing something to my Redis() and I cannot use it like above inside a function that is enqueue(). The above test will output:</p>\n\n<pre><code>AttributeError: 'Redis' object has no attribute 'get'\n</code></pre>\n\n<p>Using a SO method to list all the methods attached to an object, I'm seeing that going through the queue, the redis object only has:</p>\n\n<pre><code>['__class__', '__delattr__', '__format__', '__getattribute__', '__hash__', '__init__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '_include_public_methods', 'init_app']\n</code></pre>\n\n<p>Where-as calling the function outside of rq produces the expected:</p>\n\n<pre><code>['__class__', '__delattr__', '__format__', '__getattribute__', '__hash__', '__init__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '_include_public_methods', 'append', 'bgrewriteaof', 'bgsave', 'bitcount', 'bitop', 'bitpos', 'blpop', 'brpop', 'brpoplpush', 'client_getname', 'client_kill', 'client_list', 'client_setname', 'config_get', 'config_resetstat', 'config_rewrite', 'config_set', 'dbsize', 'debug_object', 'decr', 'delete', 'dump', 'echo', 'eval', 'evalsha', 'execute_command', 'exists', 'expire', 'expireat', 'flushall', 'flushdb', 'from_url', 'get', 'getbit', 'getrange', 'getset', 'hdel', 'hexists', 'hget', 'hgetall', 'hincrby', 'hincrbyfloat', 'hkeys', 'hlen', 'hmget', 'hmset', 'hscan', 'hscan_iter', 'hset', 'hsetnx', 'hvals', 'incr', 'incrby', 'incrbyfloat', 'info', 'init_app', 'keys', 'lastsave', 'lindex', 'linsert', 'llen', 'lock', 'lpop', 'lpush', 'lpushx', 'lrange', 'lrem', 'lset', 'ltrim', 'mget', 'move', 'mset', 'msetnx', 'object', 'parse_response', 'persist', 'pexpire', 'pexpireat', 'pfadd', 'pfcount', 'pfmerge', 'ping', 'pipeline', 'psetex', 'pttl', 'publish', 'pubsub', 'randomkey', 'register_script', 'rename', 'renamenx', 'restore', 'rpop', 'rpoplpush', 'rpush', 'rpushx', 'sadd', 'save', 'scan', 'scan_iter', 'scard', 'script_exists', 'script_flush', 'script_kill', 'script_load', 'sdiff', 'sdiffstore', 'sentinel', 'sentinel_get_master_addr_by_name', 'sentinel_master', 'sentinel_masters', 'sentinel_monitor', 'sentinel_remove', 'sentinel_sentinels', 'sentinel_set', 'sentinel_slaves', 'set', 'set_response_callback', 'setbit', 'setex', 'setnx', 'setrange', 'shutdown', 'sinter', 'sinterstore', 'sismember', 'slaveof', 'slowlog_get', 'slowlog_len', 'slowlog_reset', 'smembers', 'smove', 'sort', 'spop', 'srandmember', 'srem', 'sscan', 'sscan_iter', 'strlen', 'substr', 'sunion', 'sunionstore', 'time', 'transaction', 'ttl', 'type', 'unwatch', 'watch', 'zadd', 'zcard', 'zcount', 'zincrby', 'zinterstore', 'zlexcount', 'zrange', 'zrangebylex', 'zrangebyscore', 'zrank', 'zrem', 'zremrangebylex', 'zremrangebyrank', 'zremrangebyscore', 'zrevrange', 'zrevrangebyscore', 'zrevrank', 'zscan', 'zscan_iter', 'zscore', 'zunionstore']\n</code></pre>\n\n<p>Please someone help me understand what is happening here. It is imperative that my queue'd tasks have access to my redis keys.</p>\n"}, {"tags": ["python", "http", "handler"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1424893550, "post_id": 28728155, "comment_id": 45742682, "body": "Browsers generally execute javascript -- not python.  Of course, you could write some JS to fetch new data from the python running on your server and then display it on the page using JS ... But there&#39;s no way to get around needing a client side language (i.e. not python)."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 1, "creation_date": 1424894533, "post_id": 28728155, "comment_id": 45743251, "body": "I think you can use<code>socket</code>. But still you have to use <code>javascript</code>. But backend can be JS or Python or etc."}, {"owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "edited": false, "score": 0, "creation_date": 1424894584, "post_id": 28728155, "comment_id": 45743286, "body": "Do you have a link of an example or tutorial or documentation latheef itzmeontv? Thanks for the help btw."}, {"owner": {"reputation": 850, "user_id": 4580729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac46efd39b35cac8c51a4b4b2e7163d5?s=128&d=identicon&r=PG", "display_name": "Tom Hunt", "link": "https://stackoverflow.com/users/4580729/tom-hunt"}, "edited": false, "score": 0, "creation_date": 1424894706, "post_id": 28728155, "comment_id": 45743353, "body": "You need to use a client-side language, that is to say, Javascript, to initiate any such change. You can handle AJAX requests from Python, if you want, and the Javascript can be made very simple. But you do need some."}], "answers": [{"tags": [], "owner": {"reputation": 28965, "user_id": 2344584, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dcecdcb0f6089de0a693c97c05cdb4ca?s=128&d=identicon&r=PG", "display_name": "Stefano Sanfilippo", "link": "https://stackoverflow.com/users/2344584/stefano-sanfilippo"}, "is_accepted": false, "score": 1, "last_activity_date": 1424893533, "creation_date": 1424893533, "answer_id": 28728210, "question_id": 28728155, "link": "https://stackoverflow.com/questions/28728155/is-there-a-way-to-update-certain-objects-live-on-a-webpage-with-python-3/28728210#28728210", "title": "Is there a way to update certain objects &#39;live&#39; on a webpage with Python 3?", "body": "<p>No, you can't. The fact is that the data was already sent to the client, and there is no way to perform such a replacement server-side. You need to instruct the client to perform said update, and Javascript is your only realistic option here.</p>\n\n<p>If you want to stick with Python, you can explore projects like <a href=\"http://www.brython.info/\" rel=\"nofollow\">Brython</a>, which allows you to execute a subset of Python client-side, but keep in mind that most online learning and help resources are focused on Javascript.</p>\n"}, {"tags": [], "owner": {"reputation": 4294, "user_id": 2738262, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ead9263d3f0f0cc74f54d5d9fdbaa4cd?s=128&d=identicon&r=PG", "display_name": "Damian Yerrick", "link": "https://stackoverflow.com/users/2738262/damian-yerrick"}, "is_accepted": true, "score": 1, "last_activity_date": 1424894961, "creation_date": 1424894961, "answer_id": 28728641, "question_id": 28728155, "link": "https://stackoverflow.com/questions/28728155/is-there-a-way-to-update-certain-objects-live-on-a-webpage-with-python-3/28728641#28728641", "title": "Is there a way to update certain objects &#39;live&#39; on a webpage with Python 3?", "body": "<p>Anything you can do in PHP you can do in Python 3, so long as your web server supports Python apps.</p>\n\n<p>There are two ways to change a portion of a page. One way is to rewrite the DOM using JavaScript. That's fine unless you already have a lot of viewers who have turned off JavaScript in their browsers. The other way is to divide the page into boxes, each containing a separate HTML document with a separate URL, and reference each box with an <code>&lt;iframe seamless&gt;</code> element in the main page. Then you can have each <code>&lt;iframe&gt;</code> refresh itself periodically.</p>\n\n<p><code>seamless.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;SO Example&lt;/title&gt;&lt;style type=\"text/css\"&gt;\niframe[seamless] { display: block; width: 100%; border: 0 }\n&lt;/style&gt;&lt;/head&gt;&lt;body&gt;\n&lt;iframe seamless src=\"headerbar.html\" style=\"height: 3rem\"&gt;&lt;/iframe&gt;\nno main refresh \n&lt;iframe seamless src=\"body.html\" style=\"height: 20rem\"&gt;&lt;/iframe&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p><code>headerbar.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt;\n&lt;meta http-equiv=\"refresh\" content=\"5\"&gt; &lt;!-- change this to how often to pull the changes --&gt;\n&lt;style type=\"text/css\"&gt;\nhtml, body { overflow: hidden } /* this avoids a scrollbar in parent page's box */\nh1 { margin: 0; font-size: 200% } /* explicit font-size to fit height of parent page's box */\n&lt;/style&gt;&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Inner refresh!&lt;/h1&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p><code>body.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;body&gt;\nLorem ipsum\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 4806, "user_id": 4576519, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Zin0.jpg?s=128&g=1", "display_name": "Thomas Wagenaar", "link": "https://stackoverflow.com/users/4576519/thomas-wagenaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 28728641, "answer_count": 2, "score": 0, "last_activity_date": 1424894961, "creation_date": 1424893355, "question_id": 28728155, "link": "https://stackoverflow.com/questions/28728155/is-there-a-way-to-update-certain-objects-live-on-a-webpage-with-python-3", "title": "Is there a way to update certain objects &#39;live&#39; on a webpage with Python 3?", "body": "<p>I'm busy with my own http handler and I have managed to make a neat website with my own-written database handler.</p>\n\n<p>However, is it someway possible to update a certain object live on a webpage? For example:</p>\n\n<pre><code>&lt;h1&gt;Hello&lt;/h1&gt;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>&lt;h1&gt;Bye&lt;/h1&gt;\n</code></pre>\n\n<p>LIVE? Because writing something to the webpage uses</p>\n\n<pre><code>self.wfile.write('&lt;h1&gt;Hello&lt;/h1&gt;')\n</code></pre>\n\n<p>Is there something for example self.wfile.change (doesn't exist) that can change a certain object written to a user?</p>\n\n<p>I know how to update data non-live(so by refreshing the webpage), but I really want the user to stay on a certain webpage and still get data updated...</p>\n\n<p>... without javascript or php but <strong>Python 3</strong></p>\n"}, {"tags": ["python", "apache-spark", "spark-streaming", "pyspark"], "comments": [{"owner": {"reputation": 698, "user_id": 1757779, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/yEm22.jpg?s=128&g=1", "display_name": "Saulo Ricci", "link": "https://stackoverflow.com/users/1757779/saulo-ricci"}, "edited": false, "score": 1, "creation_date": 1424894771, "post_id": 28728118, "comment_id": 45743384, "body": "I created a dir with <code>hadoop fs -mkdir &lt;path&gt;</code> and used this dir as my testFileStream and it worked."}, {"owner": {"reputation": 1591, "user_id": 622121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb5b05a7391cfa97fc9016ce95471ee?s=128&d=identicon&r=PG", "display_name": "Kenji Noguchi", "link": "https://stackoverflow.com/users/622121/kenji-noguchi"}, "edited": false, "score": 1, "creation_date": 1454278055, "post_id": 28728118, "comment_id": 57960811, "body": "This is very late response but by default it&#39;s reading from HDFS.  In order to read from the local file system you have to use <code>file:</code> prefix. e.g.  <code>file:&#47;usr&#47;lib&#47;spark&#47;docs&#47;_site&#47;index.html</code>"}], "answers": [{"tags": [], "owner": {"reputation": 741, "user_id": 3591785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2986bd93ac524c85aecb8e08ed86f661?s=128&d=identicon&r=PG&f=1", "display_name": "Tinku", "link": "https://stackoverflow.com/users/3591785/tinku"}, "is_accepted": false, "score": 1, "last_activity_date": 1424936528, "creation_date": 1424936528, "answer_id": 28736911, "question_id": 28728118, "link": "https://stackoverflow.com/questions/28728118/apache-spark-streaming-is-not-reading-the-directory/28736911#28736911", "title": "Apache Spark Streaming is Not Reading the Directory", "body": "<p>Spark code execute on work. So work have not any access for your local file system. This is not possible directly. You can read stream file then make RDD Then can perform operation using spark. Spark can access only distributed data. </p>\n"}], "owner": {"reputation": 698, "user_id": 1757779, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/yEm22.jpg?s=128&g=1", "display_name": "Saulo Ricci", "link": "https://stackoverflow.com/users/1757779/saulo-ricci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1424936528, "creation_date": 1424893250, "last_edit_date": 1424893453, "question_id": 28728118, "link": "https://stackoverflow.com/questions/28728118/apache-spark-streaming-is-not-reading-the-directory", "title": "Apache Spark Streaming is Not Reading the Directory", "body": "<p>I'm working on Spark Streaming and I want to set a local directory to stream data to my spark application such that every new text file on that directory will be streamed to my application. I tried using <code>StreamingContext</code>'s <code>textFileStream</code> method but I haven't gotten any data from files I've moved to my specified local directory. Could you help me to find why this is happening? </p>\n\n<p>So here is the code I've written:</p>\n\n<pre><code>def main():\n\n    if len(sys.argv) != 5:\n    print 'Usage: SPARK_HOME/bin/spark-submit CoinpipeVectorBuilder.py &lt;SPARK_HOME&gt; &lt;dir_streaming&gt; ' \\\n          '&lt;dir_crawled_addresses&gt; &lt;dir_output_vectors&gt;'\n    sys.exit(1)\n\n    #Set the path to crawled outputs according to the parameter passed to the spark script\n    global path_crawled_output\n    path_crawled_output = sys.argv[4]\n\n    global sc, ssc\n    sconf = SparkConf().setMaster(\"local[2]\")\\\n        .setAppName(\"CoinPipeVectorBuilder\")\\\n        .set(\"spark.hadoop.validateOutputSpecs\", \"false\")\n    sc = SparkContext(conf=sconf)\n    ssc = StreamingContext(sc, 10)\n    tx_and_addr_stream = ssc.textFileStream(sys.argv[2])\n\n    tx_and_addr_stream.foreachRDD(parseAndBuildVectors)\n\n    ssc.start()\n    ssc.awaitTermination()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>So inside the parseAndBuildVectors I get no data even if I move a new file to the specified directory I had passed to <code>ssc.textFileStream</code></p>\n"}, {"tags": ["python", "try-except"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1424893554, "post_id": 28728117, "comment_id": 45742684, "body": "Inspecting an interpreter stack is a way to go.  [<a href=\"https://docs.python.org/2/library/inspect.html#the-interpreter-stack]\" rel=\"nofollow noreferrer\">docs.python.org/2/library/inspect.html#the-interpreter-stac&zwnj;&#8203;k]</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424893828, "post_id": 28728208, "comment_id": 45742879, "body": "<code>extract_tb</code> takes a <i>limit</i> param that can be used instead of indexing the array. Also, according to the <a href=\"https://docs.python.org/2/library/sys.html#sys.exc_info\" rel=\"nofollow noreferrer\">doc</a>, if you store the <code>traceback</code> reference returned by <code>exc_info()</code> you should <i>always</i> delete it or it creates a circular reference that is difficult to garbage collect."}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1424894080, "post_id": 28728208, "comment_id": 45743027, "body": "@aruisdante only important in Python 2."}], "tags": [], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "is_accepted": true, "score": 3, "last_activity_date": 1424894569, "last_edit_date": 1424894569, "creation_date": 1424893526, "answer_id": 28728208, "question_id": 28728117, "link": "https://stackoverflow.com/questions/28728117/python-try-except-print-error-line/28728208#28728208", "title": "Python, try except, print error line #", "body": "<p>Using <a href=\"https://docs.python.org/3/library/traceback.html#traceback.extract_tb\" rel=\"nofollow\"><code>traceback.extract_tb</code></a>:</p>\n\n<pre><code>import sys\nimport traceback\ntry:\n    # Your code\nexcept:\n    tb = sys.exc_info()[-1]\n    print(traceback.extract_tb(tb, limit=1)[-1][1])\n</code></pre>\n\n<p>I added <code>limit=1</code> for efficiency, to avoid loading the (possibly) huge traceback. You can't avoid indexing the list (<code>[-1]</code> to get the last element) though.</p>\n"}], "owner": {"reputation": 1607, "user_id": 4122396, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd431420de3177a35ffa8f344f1c434a?s=128&d=identicon&r=PG&f=1", "display_name": "BFlint", "link": "https://stackoverflow.com/users/4122396/bflint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 0, "accepted_answer_id": 28728208, "answer_count": 1, "score": 1, "last_activity_date": 1424894569, "creation_date": 1424893249, "last_edit_date": 1424894024, "question_id": 28728117, "link": "https://stackoverflow.com/questions/28728117/python-try-except-print-error-line", "title": "Python, try except, print error line #", "body": "<p>I would like when there is an error that it would display what line the error occurred at.  I am unsure how I can obtain the line # that the error happened at though.  Any help would be appreciated.</p>\n\n<pre><code>def main():\n    while True:\n       try:\n           function1()\n           function2()\n           function3()\n       except:\n           print('error occur at line ' + str(errorline))\n</code></pre>\n"}, {"tags": ["python", "image", "compare"], "comments": [{"owner": {"reputation": 15266, "user_id": 3419103, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PN4sz.jpg?s=128&g=1", "display_name": "Falko", "link": "https://stackoverflow.com/users/3419103/falko"}, "edited": false, "score": 0, "creation_date": 1424896146, "post_id": 28728097, "comment_id": 45744128, "body": "What do you mean with &quot;pattern&quot; (shape, texture, ...)? What kind of image is it (color, grayscale, black/white, ...)? What do you mean with &quot;anything else&quot;? Maybe you can give an example."}, {"owner": {"reputation": 1, "user_id": 4607272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FKUdRuH6RoQ/AAAAAAAAAAI/AAAAAAAAAEs/izLKAj1_-Hk/photo.jpg?sz=128", "display_name": "Derek Toledo-Silbert", "link": "https://stackoverflow.com/users/4607272/derek-toledo-silbert"}, "reply_to_user": {"reputation": 15266, "user_id": 3419103, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PN4sz.jpg?s=128&g=1", "display_name": "Falko", "link": "https://stackoverflow.com/users/3419103/falko"}, "edited": false, "score": 0, "creation_date": 1424899538, "post_id": 28728097, "comment_id": 45746017, "body": "For example, if I had a picture of a bunch of different fences, ie. chain fence, picket fence, etc. I want to be able to distinguish like fences with each other by recognizing the pattern of the fence. So if I had a database of pictures of fences, and I take a picture of some fence, i want the script to be able to match which kind of fence it is."}], "owner": {"reputation": 1, "user_id": 4607272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FKUdRuH6RoQ/AAAAAAAAAAI/AAAAAAAAAEs/izLKAj1_-Hk/photo.jpg?sz=128", "display_name": "Derek Toledo-Silbert", "link": "https://stackoverflow.com/users/4607272/derek-toledo-silbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1424898393, "creation_date": 1424893193, "last_edit_date": 1424898393, "question_id": 28728097, "link": "https://stackoverflow.com/questions/28728097/compare-two-images-of-the-same-pattern", "title": "Compare two images of the same pattern", "body": "<p>I need to write a python script that will determine whether two images contain the same pattern. If the patterns are the same, it should result in a match whether the colors or anything else may be different. What is the best way to do this?</p>\n"}, {"tags": ["python", "html", "flask", "jinja2", "wtforms"], "owner": {"reputation": 19, "user_id": 4607140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf4ce5a3d451523454cece290ffe39b?s=128&d=identicon&r=PG&f=1", "display_name": "RaptoR", "link": "https://stackoverflow.com/users/4607140/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1424892942, "creation_date": 1424892942, "question_id": 28728027, "link": "https://stackoverflow.com/questions/28728027/how-can-i-get-back-the-changes-made-to-a-select-field-with-jinja-wtform", "title": "how can i get back the changes made to a select field with jinja\\wtform", "body": "<p>I discover python 3 days ago, jinja/wtform yesterday. is very easy to understand,but I have some problems.</p>\n\n<p>I\u00b4m traying to do a simple web application to allow users to change some configurations in a file. this file is for use in other application.</p>\n\n<p>I need to show the choices in form of a DropDownList, and for this, I first read the file with all the choises (named 'config.ini') and show a page with all the options and a button tu submit the changes and save it in the same 'config.ini' file, with the same format.</p>\n\n<p>I want to do this with a plain text file, not with alchemy or whatever db. just text. I dont need sessions, login form, nothing. is a single user system running a very slow resource computer. (raspberry)</p>\n\n<p>my \"config.ini\" file look like this:</p>\n\n<pre><code>choice_1 alpha alpha betha gamma\nchoice_2 3 1 2 3\nchoice_3 red blue yellow red white black\n</code></pre>\n\n<p>first word is a choice name, second is a selected/default choice, them all other are a list of possible options for choice.</p>\n\n<p>here my view.py:</p>\n\n<pre><code>from flask import render_template, flash, redirect, url_for\nfrom app import app\nfrom wtforms import SelectField, SubmitField\nfrom flask_wtf import Form\n\n\nclass ConfigForm(Form):\n    choice_1= SelectField('choice_1')\n    choice_2= SelectField('choice_2')\n    choice_3= SelectField('choice_3')\n    submit = SubmitField('SaveChanges')\n\nvariables = []\n\n@app.route('/')\n\n\n@app.route('/index', methods=['GET','POST'])\ndef index():\n    form = ConfigForm()\n    myconfigfile = {'name':'config.ini'}      \n\n    if form.is_submitted():\n            savefileid = open('config.ini','w')\n\n            for variable in variables:\n                    savefileid.write(variable['_name']+ ' ')\n                    savefileid.write( variable['_value']+ ' ')\n\n                    for option in variable['_options']:\n                            savefileid.write(option + ' ')\n\n                    savefileid.write(\"\\n\")\n\n            savefileid.close()\n    else:\n            readfileid = open('config.ini')                                                         \n\n            lineas = readfileid.readlines()                                                         \n            for linea in lineas:                                                                    \n                    mystrings = linea.split()                                                       \n                    myset = set( mystrings [2:] )                                                   \n                    mydict = dict({'_name':mystrings[0], '_value':mystrings [1], '_options':myset})  \n                    variables.append(mydict)                                                        \n\n\n            readfileid.close()                                                                      \n\n\n    return render_template('index.html',                                                            \n                    title='Home',\n                    myconfigfile=myconfigfile,\n                    variables=variables,\n                    form=form\n                    )\n</code></pre>\n\n<p>this other is my \"index.hmtl\" file.</p>\n\n<pre><code>&lt;!-- extend base layout --&gt;\n{% extends \"base.html\" %}\n\n&lt;!-- {% from \"_formhelper.html\" import render_field %} --&gt;\n\n{% block content %}\n\n&lt;h1&gt;Archivo: {{ myconfigfile.name }}&lt;/h1&gt;\n\n&lt;form action=\"{{ url_for('index') }}\" method=\"post\"&gt;\n&lt;div style=\"width:300; height:300\"&gt;\n\n&lt;table style=\"width:300px; height:300\"&gt;\n&lt;tr&gt;\n    &lt;td align=\"center\"&gt;&lt;strong&gt;Choice&lt;/strong&gt;&lt;/th&gt;\n    &lt;td align=\"center\"&gt;&lt;strong&gt;value&lt;/strong&gt;&lt;/th&gt;\n&lt;/tr&gt;\n\n{% for avar in variables %}\n&lt;tr&gt;\n    &lt;td width=120 align=\"left\"&gt;&lt;b&gt;{{ avar._name }}&lt;/b&gt;&lt;/td&gt;\n    &lt;td width=100 &gt;&lt;select name=\"{{ avar._name }}\"&gt;\n\n    {% for opcion in avar.opciones %}\n            {% if opcion == avar._value %}\n                    &lt;option value=\"{{ avar._name }}\" selected&gt; {{ opcion }}&lt;/option&gt;\n            {% else %}\n                    &lt;option value=\"{{ avar._name }}\"&gt; {{ opcion }}&lt;/option&gt;\n            {% endif %}\n    {% endfor %}\n\n\n    &lt;/select&gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n{% endfor %}\n\n&lt;/table&gt;\n&lt;/div&gt;\n\n    {{ form.submit }}\n\n&lt;/form&gt;\n{% endblock %}\n</code></pre>\n\n<p>this other is my layout \"base.html\"</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    {% if title %}\n    &lt;title&gt;{{ title }} - Configuration&lt;/title&gt;\n    {% else %}\n    &lt;title&gt;Configuration&lt;/title&gt;\n    {% endif %}\n\n&lt;/head&gt;\n  &lt;body&gt;\n    &lt;div&gt;Configura\u00e7\u00e3o : &lt;a href=\"/index\"&gt;configuration parameters&lt;/a&gt;&lt;/div&gt;\n    &lt;hr&gt;\n    {% with messages = get_flashed_messages() %}\n    {% if messages %}\n    &lt;ul&gt;\n    {% for message in messages %}\n        &lt;li&gt;{{ message }} &lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n    {% endif %}\n    {% endwith %}\n\n    {% block content %}{% endblock %}\n\n        &lt;hr&gt;\n        &lt;p&gt;&lt;/p&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>my question is, how can i do this? how can I set my form allowing to change it, and them, when click on submit button, get back the changes to be saved back in the config file.</p>\n\n<p>excuse my english, and thanks in advance.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 1, "last_activity_date": 1424894112, "last_edit_date": 1424894112, "creation_date": 1424893206, "answer_id": 28728103, "question_id": 28728021, "link": "https://stackoverflow.com/questions/28728021/python-dictionaries-with-files/28728103#28728103", "title": "Python Dictionaries with files", "body": "<p>You can <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow\">split</a> your string with <code>maxsplit</code> 3, and use <code>set</code> :</p>\n\n<pre><code>&gt;&gt;&gt; s=\"Godbals NO LO -1 -1 1 1 1 -1 -1 1 1 1 1 1 1 1 -1 1 1 1 -1 1 1 1 1 1 -1 1 -1 -1 1 1 1 1 1 1 0 0 1 -1 -1 1 -1 1 -1 1 1 -1\"\n&gt;&gt;&gt; l=s.split(' ',3)\n&gt;&gt;&gt; d={l[0]:set(l[-1].split())}\n&gt;&gt;&gt; d\n{'Godbals': set(['1', '0', '-1'])}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 247, "user_id": 2488820, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/009fdd293f68a96ffae4fa654fb6062f?s=128&d=identicon&r=PG", "display_name": "AnishM", "link": "https://stackoverflow.com/users/2488820/anishm"}, "is_accepted": false, "score": 0, "last_activity_date": 1424893225, "creation_date": 1424893225, "answer_id": 28728111, "question_id": 28728021, "link": "https://stackoverflow.com/questions/28728021/python-dictionaries-with-files/28728111#28728111", "title": "Python Dictionaries with files", "body": "<p>You can start splitting the string by a space</p>\n\n<pre><code>split_line = line.split(\" \")\n</code></pre>\n\n<p>And then, start indexing on it. As far as I can see, your key would be,</p>\n\n<pre><code>key = split_line[0]\nvalue = split_line[3:]\nfinal_dict = {key : value}\n</code></pre>\n\n<p>Hope that helps</p>\n"}], "owner": {"reputation": 11, "user_id": 4607348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c825cf885f48fb8baaf2bf91fd3a1d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Thompson", "link": "https://stackoverflow.com/users/4607348/adam-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1424894112, "creation_date": 1424892928, "last_edit_date": 1424894064, "question_id": 28728021, "link": "https://stackoverflow.com/questions/28728021/python-dictionaries-with-files", "title": "Python Dictionaries with files", "body": "<p>I have a .txt file that contains lines of text like this:</p>\n\n<blockquote>\n  <p>Godbals NO LO -1 -1 1 1 1 -1 -1 1 1 1 1 1 1 1 -1 1 1 1 -1 1 1 1 1 1 -1\n  1 -1 -1 1 1 1 1 1 1 0 0 1 -1 -1 1 -1 1 -1 1 1 -1</p>\n</blockquote>\n\n<p>My task is to define a procedure that returns a dictionary who's keys are the first element of the lines of text i.e 'Godbals' and the values are the series of -1,1,0. </p>\n\n<p>I have imported this file via the open method and assigned it to the variable strlist</p>\n\n<p>This is the piece of code i have written;</p>\n\n<pre><code>def create_voting_dict(strlist):\n    D = {} \n    splitlist = [k.split() for  k in strlist]\n    for i in range(len(strlist)):\n        intlist = [int(j) for j in splitlist[i][3:]]\n        D.update({splitlist[i][0]:None })\n        for p in intlist:\n            D[splitlist[i][0]] = p\n    return D\n</code></pre>\n\n<p>This returns this dictionary;</p>\n\n<pre><code>{'Cornyn': 1, 'McConnell': 1, 'Bingaman': -1, 'Talent': 1, 'Cochran': 1, 'Craig': -1, 'Lugar': 1, 'Clinton': 1, 'Domenici': 1, 'Rockefeller': -1, 'Gregg': 1, 'Lautenberg': -1, 'Chambliss': 1, 'Voinovich': -1, 'Murkowski': 1, 'Levin': -1, 'Pryor': 1, 'Martinez': 1, 'Harkin': -1, 'Johnson': 1, 'Bayh': -1, 'Byrd': -1, 'Coburn': 1, 'Bunning': 1, 'Reid': -1, 'Kennedy': -1, 'Shelby': 0, 'Sarbanes': -1, 'Bond': 1, 'Nelson1': 1, 'Dole': 1, 'Coleman': 1, 'Dorgan': -1, 'Durbin': -1, 'Reed': -1, 'Landrieu': 1, 'Schumer': 1, 'Santorum': 1, 'Snowe': 1, 'Lieberman': -1, 'Hutchison': 1, 'Lincoln': 1, 'DeMint': 1, 'Isakson': 1, 'Inhofe': 1, 'Dodd': -1, 'DeWine': 1, 'Frist': 1, 'Bennett': 1, 'Smith': 1, 'Thomas': 1, 'Enzi': 1, 'Thune': 1, 'Burr': -1, 'Boxer': -1, 'Allen': 1, 'Nelson2': 1, 'Kerry': -1, 'Murray': -1, 'Burns': 1, 'Allard': 1, 'Salazar': 1, 'Jeffords': -1, 'Akaka': -1, 'Sununu': 1, 'Biden': -1, 'Obama': -1, 'Cantwell': 1, 'Roberts': 1, 'Alexander': 1, 'McCain': 1, 'Collins': 1, 'Inouye': -1, 'Lott': 0, 'Feingold': -1, 'Kyl': 1, 'Feinstein': 1, 'Kohl': -1, 'Specter': 1, 'Stevens': 1, 'Ensign': 1, 'Carper': 1, 'Hatch': 1, 'Vitter': 1, 'Baucus': 1, 'Graham': 1, 'Grassley': 1, 'Wyden': -1, 'Hagel': 1, 'Dayton': 1, 'Mikulski': -1, 'Stabenow': 1, 'Leahy': -1, 'Sessions': 1, 'Crapo': 1, 'Conrad': -1, 'Warner': 1, 'Chafee': -1, 'Brownback': 1}\n</code></pre>\n\n<p>I see how my code is flawed, i'd like to find a way to iteratively append the -1,0,1's to the values of the elements of the dictionary... or something like that.</p>\n"}, {"tags": ["python", "pandas", "data-manipulation"], "comments": [{"owner": {"reputation": 6048, "user_id": 3437504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/G7yH4.jpg?s=128&g=1", "display_name": "Bob Haffner", "link": "https://stackoverflow.com/users/3437504/bob-haffner"}, "edited": false, "score": 1, "creation_date": 1424893979, "post_id": 28728012, "comment_id": 45742966, "body": "Take a look at pandas&#39; pivot()"}], "answers": [{"tags": [], "owner": {"reputation": 10391, "user_id": 2362381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b10873fa063bc6a19d05ba95357a695?s=128&d=identicon&r=PG", "display_name": "JAB", "link": "https://stackoverflow.com/users/2362381/jab"}, "is_accepted": false, "score": 0, "last_activity_date": 1424921935, "creation_date": 1424921935, "answer_id": 28734052, "question_id": 28728012, "link": "https://stackoverflow.com/questions/28728012/reshaping-pandas-dataframe-unique-column-values-as-column-names/28734052#28734052", "title": "Reshaping Pandas Dataframe: Unique Column values as Column names", "body": "<p>you can use <code>get_dummies</code> and <code>groupby</code>:</p>\n\n<pre><code>df =pd.DataFrame({'user_id':[1,1,2,2],'tags':['Dresses','Accessories','Dresses','Hats']})\npd.get_dummies(df).groupby('user_id').max()\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>       tags_Accessories     tags_Dresses    tags_Hats\nuser_id             \n1       1                   1                0\n2       0                   1                1\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4607355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e316ded3419ab9ae9f70cd98b1807d?s=128&d=identicon&r=PG&f=1", "display_name": "aladams2791", "link": "https://stackoverflow.com/users/4607355/aladams2791"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1424921935, "creation_date": 1424892905, "last_edit_date": 1424894657, "question_id": 28728012, "link": "https://stackoverflow.com/questions/28728012/reshaping-pandas-dataframe-unique-column-values-as-column-names", "title": "Reshaping Pandas Dataframe: Unique Column values as Column names", "body": "<p>I have a dataframe representing a one-to-many tag relationships, with column names 'user_id' and 'tags'. A user_id can be associated with many tags, but I want to rearrange my dataframe such that there is only one user_id per row and each tag value is its own column.</p>\n\n<p>i.e. I have:</p>\n\n<pre><code>User_id, Tags\n\n1, Dresses,    \n1, Accessories,\n2, Dresses,\n2, Hats,\n</code></pre>\n\n<p>AND WANT:</p>\n\n<pre><code>User_id, Dresses, Accessories, Hats,    \n1,        1,         1,         0,\n2,        1,          0,         1,\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>User_id, Dresses, Accessories, Hats,\n1,        True,         True,         False,    \n2,        True,          False,         True,\n</code></pre>\n"}, {"tags": ["python", "django", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 5565, "user_id": 1695507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1f7f9576a6f6486bf26e4a8dbbf09868?s=128&d=identicon&r=PG", "display_name": "thumbtackthief", "link": "https://stackoverflow.com/users/1695507/thumbtackthief"}, "edited": false, "score": 0, "creation_date": 1424905513, "post_id": 28731110, "comment_id": 45748938, "body": "This works and is the same solution we came up with--it feels so hacky to me, but I&#39;ll accept it tomorrow if no one comes up with anything more elegant."}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "reply_to_user": {"reputation": 5565, "user_id": 1695507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1f7f9576a6f6486bf26e4a8dbbf09868?s=128&d=identicon&r=PG", "display_name": "thumbtackthief", "link": "https://stackoverflow.com/users/1695507/thumbtackthief"}, "edited": false, "score": 0, "creation_date": 1424905595, "post_id": 28731110, "comment_id": 45748959, "body": "There is probably a more correct way to extract the inner value of <code>&lt;foo&gt;</code> using Xpath and stuff, but this is probably the best way."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "is_accepted": true, "score": 1, "last_activity_date": 1424904282, "creation_date": 1424904282, "answer_id": 28731110, "question_id": 28728001, "link": "https://stackoverflow.com/questions/28728001/close-open-tags-without-wrapping-in-p/28731110#28731110", "title": "Close open tags without wrapping in &lt;p&gt;", "body": "<p>Wrap everything in a throwaway tag, then get the outermost elements inner contents, like so:</p>\n\n<pre><code>def clean_custom_title(self):\n    title = self.cleaned_data.get('custom_title')\n    if title:\n        title = \"&lt;foo&gt;%s&lt;/foo&gt;\"%title\n        title = lxml.html.fromstring(title)\n        # title = lxml.some_function(title)  # strip &lt;foo&gt; in a 'proper' way\n        title = lxml.etree.tostring(title)\n        title = title[5:-6] # This is a hack to illustrate the premise\n    return title\n</code></pre>\n"}], "owner": {"reputation": 5565, "user_id": 1695507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1f7f9576a6f6486bf26e4a8dbbf09868?s=128&d=identicon&r=PG", "display_name": "thumbtackthief", "link": "https://stackoverflow.com/users/1695507/thumbtackthief"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "accepted_answer_id": 28731110, "answer_count": 1, "score": 1, "last_activity_date": 1424904282, "creation_date": 1424892873, "last_edit_date": 1424893530, "question_id": 28728001, "link": "https://stackoverflow.com/questions/28728001/close-open-tags-without-wrapping-in-p", "title": "Close open tags without wrapping in &lt;p&gt;", "body": "<p>I am trying to write a clean method for my form so that if a user leaves an open in-line tag, it will be closed, e.g.:</p>\n\n<pre><code>Here's an &lt;b&gt; open tag  -&gt; Here's an &lt;b&gt; open tag&lt;/b&gt;\n&lt;i&gt;Here are two &lt;b&gt;open tags -&gt; &lt;i&gt;Here are two &lt;b&gt; open tags&lt;/b&gt;&lt;/i&gt;\n</code></pre>\n\n<p>My code to do this is:</p>\n\n<pre><code>def clean_custom_title(self):\n    title = self.cleaned_data.get('custom_title')\n    if title:\n        title = lxml.etree.tostring(lxml.html.fromstring(title))\n    return title\n</code></pre>\n\n<p>which comes very close to working, except that when the string does not begin with an open tag, like my first example, it wraps everything in <code>&lt;p&gt;</code> tags so I get</p>\n\n<p><code>Here's an &lt;b&gt; open tag  -&gt; &lt;p&gt;Here's an &lt;b&gt; open tag&lt;/b&gt;&lt;/p&gt;</code></p>\n\n<p>I can't just strip the outer tags, as they may be correct as in my second example.  I am not worried about possible input already containing <code>p</code> tags.  I could conceivably just strip them with a remove <code>&lt;p&gt;</code> but that seems hacky and gross.</p>\n\n<p>Note, I'm stuck using lxml.  I think BS4 would be better too but it's not my call.</p>\n"}]