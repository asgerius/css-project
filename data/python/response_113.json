[{"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 1, "last_activity_date": 1489073011, "creation_date": 1489073011, "answer_id": 42699123, "question_id": 42684253, "link": "https://stackoverflow.com/questions/42684253/change-the-length-of-median-line-of-boxplot-in-matplotlib/42699123#42699123", "title": "Change the length of median line of boxplot in MatPlotLib", "body": "<p>You can obtain the coordinates of the median line and use them to plot an additional line, with higher linewidth but only half as long as the original line. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np; np.random.seed(2)\ndata = np.random.normal(loc=3., size=(100,5))\n\nbp = plt.boxplot(data,sym='',widths=0.75, patch_artist=True)\n\nfor median in bp['medians']:\n    median.set(color='k', linewidth=1.5,)\n    x,y = median.get_data()\n    xn = (x-(x.sum()/2.))*0.5+(x.sum()/2.)\n    plt.plot(xn, y, color=\"k\", linewidth=10, solid_capstyle=\"butt\", zorder=4)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rxp9d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxp9d.png\" alt=\"enter image description here\"></a></p>\n\n<p>Mind the parameters <code>solid_capstyle=\"butt\", zorder=4</code> which make sure that the line in in the foreground and that it has no cap extention.</p>\n"}], "owner": {"reputation": 3134, "user_id": 4918632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JX8vW.jpg?s=128&g=1", "display_name": "Han Zhengzu", "link": "https://stackoverflow.com/users/4918632/han-zhengzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2196, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489073011, "creation_date": 1489017514, "last_edit_date": 1489034565, "question_id": 42684253, "link": "https://stackoverflow.com/questions/42684253/change-the-length-of-median-line-of-boxplot-in-matplotlib", "title": "Change the length of median line of boxplot in MatPlotLib", "body": "<p><a href=\"https://i.stack.imgur.com/M1H8R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1H8R.png\" alt=\"enter image description here\"></a></p>\n\n<p>The figure above is one screenshot from the paper. To achieve a similar style, I used matplotlib.  </p>\n\n<pre><code>bp = plt.boxplot(data,sym='',widths=0.75, patch_artist=True)\n\nfor median in bp['medians']:\n    median.set(color='k', linewidth=1.5,)\n</code></pre>\n\n<p>But I can't set <strong>a second short-line in the median position</strong>.  </p>\n\n<p>Is there any easy way to deal with the problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/9CTaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9CTaf.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "python", "kivy"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1489017702, "post_id": 42684211, "comment_id": 72492533, "body": "I don&#39;t recognise this error and I&#39;m not sure what would cause it. Could you post the full output log, with <code>requirements: python2,kivy</code>, which should pull in just a minimal set of dependencies for a Kivy app (it&#39;s unlikely that paramiko etc. cause the problem but it would be easiest to not have to worry about them)?"}, {"owner": {"reputation": 151, "user_id": 1428655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GBSG4.jpg?s=128&g=1", "display_name": "awulll", "link": "https://stackoverflow.com/users/1428655/awulll"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1489017967, "post_id": 42684211, "comment_id": 72492603, "body": "I got the same error with this requirements: python2,sqlite3,kivy==master. So I don&#39;t believe is a paramiko problem yet"}, {"owner": {"reputation": 151, "user_id": 1428655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GBSG4.jpg?s=128&g=1", "display_name": "awulll", "link": "https://stackoverflow.com/users/1428655/awulll"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1489018207, "post_id": 42684211, "comment_id": 72492675, "body": "@inclement, I edited now with the error using python2 and sqlite3 as requirements. If I add kivy==master I already have the old error"}], "owner": {"reputation": 151, "user_id": 1428655, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GBSG4.jpg?s=128&g=1", "display_name": "awulll", "link": "https://stackoverflow.com/users/1428655/awulll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489018137, "creation_date": 1489017293, "last_edit_date": 1489018137, "question_id": 42684211, "link": "https://stackoverflow.com/questions/42684211/creating-apk-with-buildozer", "title": "Creating apk with buildozer", "body": "<p>Well, I tried a lot find something similiar, but I didn't.\nI tried create an APK with buildozer and I got the following: </p>\n\n<pre><code>[INFO]:    STDOUT (last 20 lines of 193):\n    jnius/jnius.c: In function '__Pyx_ValidateAndInit_memviewslice':    \njnius/jnius.c:55536:22: warning: format '%zu' expects argument of type 'size_t', but argument 3 has type 'Py_ssize_t' [-Wformat=]   \n                      (dtype-&gt;size &gt; 1) ? \"s\" : \"\");    \n                      ^ \njnius/jnius.c: In function '__pyx_f_5jnius_5jnius_convert_python_to_jobject':   \njnius/jnius.c:12366:21: warning: '__pyx_v_retmidinit' may be used uninitialized in this function [-Wmaybe-uninitialized]    \n   __pyx_v_retobject = (__pyx_v_j_env[0])-&gt;NewObjectA(__pyx_v_j_env, __pyx_v_retclass, __pyx_v_retmidinit, __pyx_v_j_ret);  \n                     ^  \njnius/jnius.c:10897:13: note: '__pyx_v_retmidinit' was declared here    \n   jmethodID __pyx_v_retmidinit;    \n             ^  \njnius/jnius.c:12366:21: warning: '__pyx_v_retclass' may be used uninitialized in this function [-Wmaybe-uninitialized]  \n   __pyx_v_retobject = (__pyx_v_j_env[0])-&gt;NewObjectA(__pyx_v_j_env, __pyx_v_retclass, __pyx_v_retmidinit, __pyx_v_j_ret);  \n                     ^  \njnius/jnius.c:10889:10: note: '__pyx_v_retclass' was declared here  \n   jclass __pyx_v_retclass; \n          ^ \n/home/awulll/dapapp/.buildozer/android/platform/python-for-android-master/pythonforandroid/tools/liblink.sh -lm -L/home/awulll/dapapp/.buildozer/android/platform/build/build/libs_collections/DAP/armeabi-v7a -L/home/awulll/dapapp/.buildozer/android/platform/build/build/libs_collections/DAP/armeabi-v7a -L/home/awulll/dapapp/.buildozer/android/platform/build/build/libs_collections/DAP -L/home/awulll/dapapp/.buildozer/android/platform/build/build/bootstrap_builds/sdl2-python2/obj/local/armeabi-v7a -DANDROID -mandroid -fomit-frame-pointer --sysroot /home/awulll/.buildozer/android/platform/android-ndk-r9c/platforms/android-19/arch-arm -march=armv7-a -mfloat-abi=softfp -mfpu=vfp -mthumb build/temp.linux-x86_64-2.7/jnius/jnius.o -Llibs/armeabi-v7a -L/home/awulll/dapapp/.buildozer/android/platform/build/build/other_builds/python2/armeabi-v7a/python2/python-install/lib -lSDL2 -llog -lpython2.7 -o build/lib.linux-x86_64-2.7/jnius/jnius.so   \nunable to execute /home/awulll/dapapp/.buildozer/android/platform/python-for-android-master/pythonforandroid/tools/liblink.sh: Permission denied    \nerror: command '/home/awulll/dapapp/.buildozer/android/platform/python-for-android-master/pythonforandroid/tools/liblink.sh' failed with exit status 1\n[INFO]:    STDERR:\n\n[INFO]:    COMMAND:\ncd /home/awulll/dapapp/.buildozer/android/platform/build/build/other_builds/pyjnius-python2-sdl2/armeabi-v7a/pyjnius &amp;&amp; /home/awulll/dapapp/.buildozer/android/platform/build/build/python-installs/DAP/bin/python.host setup.py build_ext -v\n\n[WARNING]: ERROR: /home/awulll/dapapp/.buildozer/android/platform/build/build/python-installs/DAP/bin/python.host failed!\n# Command failed: python -m pythonforandroid.toolchain --color=always --storage-dir=/home/awulll/dapapp/.buildozer/android/platform/build create --dist_name=DAP --bootstrap=sdl2 --requirements=python2,sqlite3,kivy==master,python2,datetime,plyer,ecdsa,paramiko --arch armeabi-v7a --copy-libs\n# \n# Buildozer failed to execute the last command\n# The error might be hidden in the log above this error\n# Please read the full log, and search for it before\n# raising an issue with buildozer itself.\n# In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n\n<p>I tried uninstalling buildozer, jnius and cython and other stuff but nothing changed, Also tried to use less requirements and I just have success using only python2, but this doesn't solve my problem. My requirements in buildozer.spec are:</p>\n\n<pre><code>requirements: python2,sqlite3,kivy==master,python2,datetime,plyer,ecdsa,paramiko\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n\n<p>EDITION:</p>\n\n<p>If i use python2,sqlite3 as requirements, I have this error:</p>\n\n<pre><code>  STDOUT:\nTraceback (most recent call last):\n  File \"/usr/local/bin/virtualenv-2.7\", line 5, in &lt;module&gt;\n    from pkg_resources import load_entry_point\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2927, in &lt;module&gt;\n    @_call_aside\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2913, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 637, in _build_master\n    return cls._build_from_requirements(__requires__)\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 650, in _build_from_requirements\n    dists = ws.resolve(reqs, Environment())\n  File \"/usr/local/lib/python2.7/dist-packages/pkg_resources/__init__.py\", line 829, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'virtualenv==13.1.2' distribution was not found and is required by the application\n\n\n  STDERR:\n\n# Command failed: python -m pythonforandroid.toolchain --color=always --storage-dir=/home/awulll/dapapp/.buildozer/android/platform/build create --dist_name=DAP --bootstrap=sdl2 --requirements=python2,sqlite3 --arch armeabi-v7a --copy-libs\n# \n# Buildozer failed to execute the last command\n# The error might be hidden in the log above this error\n# Please read the full log, and search for it before\n# raising an issue with buildozer itself.\n# In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489017415, "post_id": 42684210, "comment_id": 72492445, "body": "sounds reasonable, but how do i know if python compares the first operator with index or value, or python just search it in both set?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489017539, "post_id": 42684210, "comment_id": 72492497, "body": "@mxdev, most probably you are looking for something like: <code>(s == False).any()</code> where <code>s</code> is your series containing <code>True</code> or <code>False</code> values"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489017937, "post_id": 42684210, "comment_id": 72492595, "body": "Or just <code>pd.Series([True, True]).any()</code> and <code>(~pd.Series([True, True])).any()</code> :)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489018080, "post_id": 42684210, "comment_id": 72492629, "body": "@Mitch, yes, that&#39;s correct, thank you! I also wanted first to use this simplified version, but I decided to use an explicit version as it shows how it works and it&#39;ll also work for non-boolean values"}, {"owner": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489018109, "post_id": 42684210, "comment_id": 72492642, "body": "i just did a test to search a string within a string series, it looks like it only search in index/aix"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489018118, "post_id": 42684210, "comment_id": 72492646, "body": "@MaxU I agree with your reasoning!"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489018223, "post_id": 42684210, "comment_id": 72492685, "body": "@mxdev, it depends on how do you do that... Try to use the same approach as i used in the UPDATE section..."}, {"owner": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489019009, "post_id": 42684210, "comment_id": 72492928, "body": "@MaxU, thank you so much, it works, and i just got a little confused by the oversimpled syntax. i definitely need more time to study it more thoroughly."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 8, "last_activity_date": 1489018835, "last_edit_date": 1495535402, "creation_date": 1489017289, "answer_id": 42684210, "question_id": 42684161, "link": "https://stackoverflow.com/questions/42684161/why-does-false-in-pandas-seriestrue-true-return-true/42684210#42684210", "title": "Why does `False in pandas.Series([True,True])` return True?", "body": "<p>You are checking whether <code>0</code> (internal <code>False</code> representation) is in the Series's <strong>index</strong> - <a href=\"https://stackoverflow.com/a/42684247/5741205\">@Uriel has shown a docstring explaining why is it happening</a>:</p>\n\n<pre><code>In [286]: False in pd.Series([True,True])\nOut[286]: True\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>In [287]: 0 in pd.Series([True,True])\nOut[287]: True\n</code></pre>\n\n<p>and    </p>\n\n<pre><code>In [288]: True in pd.Series([True,True])\nOut[288]: True\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>In [290]: 1 in pd.Series([True,True])\nOut[290]: True\n</code></pre>\n\n<p>but</p>\n\n<pre><code>In [291]: 2 in pd.Series([True,True])\nOut[291]: False\n</code></pre>\n\n<p>because there is no such index in this series:</p>\n\n<pre><code>In [292]: pd.Series([True,True])\nOut[292]:\n0    True\n1    True\ndtype: bool\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>if you want to check whether at least one series element is False or True:</p>\n\n<pre><code>In [296]: (pd.Series([True, True]) == False).any()\nOut[296]: False\n\nIn [297]: (pd.Series([True, True]) == True).any()\nOut[297]: True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489017850, "post_id": 42684247, "comment_id": 72492564, "body": "for x in pd.Series([&#39;cd&#39;,&#39;ab&#39;]):      print x# it will print cd and ab"}, {"owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "reply_to_user": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "edited": false, "score": 0, "creation_date": 1489018004, "post_id": 42684247, "comment_id": 72492612, "body": "@mxdev <code>list(dict(pd.Series([&#39;cd&#39;, &#39;ab&#39;])))</code> think dictionaries (<b><code>keys</code></b>), not lists."}], "tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 2, "last_activity_date": 1489017492, "creation_date": 1489017492, "answer_id": 42684247, "question_id": 42684161, "link": "https://stackoverflow.com/questions/42684161/why-does-false-in-pandas-seriestrue-true-return-true/42684247#42684247", "title": "Why does `False in pandas.Series([True,True])` return True?", "body": "<pre><code>&gt;&gt;&gt; help(pd.Series([True, True]).__contains__)\nHelp on method __contains__ in module pandas.core.generic:\n\n__contains__(key) method of pandas.core.series.Series instance\n    True if the key is in the info axis\n\n&gt;&gt;&gt; pd.Series([True, True])\n0    True\n1    True\ndtype: bool\n\n^\ninfo axis\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3152, "user_id": 677122, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/752f4b8504a0668f5b04efd68eb758fd?s=128&d=identicon&r=PG", "display_name": "Midnighter", "link": "https://stackoverflow.com/users/677122/midnighter"}, "is_accepted": false, "score": 0, "last_activity_date": 1551892371, "creation_date": 1551892371, "answer_id": 55028677, "question_id": 42684161, "link": "https://stackoverflow.com/questions/42684161/why-does-false-in-pandas-seriestrue-true-return-true/55028677#55028677", "title": "Why does `False in pandas.Series([True,True])` return True?", "body": "<p>If you are checking for more than one value, I highly recommend the <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.isin.html\" rel=\"nofollow noreferrer\"><code>isin</code> method</a>.</p>\n\n<pre><code>&gt;&gt;&gt; pd.Series(range(10)).isin([1]).any()\nTrue\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4098968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4407d7ef7a913738688c990263a328b8?s=128&d=identicon&r=PG&f=1", "display_name": "mxdev", "link": "https://stackoverflow.com/users/4098968/mxdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1551892371, "creation_date": 1489017010, "last_edit_date": 1489035677, "question_id": 42684161, "link": "https://stackoverflow.com/questions/42684161/why-does-false-in-pandas-seriestrue-true-return-true", "title": "Why does `False in pandas.Series([True,True])` return True?", "body": "<pre><code>False in [True,True]\n\nFalse in pd.Series([True,True])\n</code></pre>\n\n<p>the first line of code returns False\nthe second line of code returns True!</p>\n\n<p>I think I must be doing something wrong or missing something here. I get the same thing when I check if the series has 0. Can someone please explain this to me?</p>\n"}, {"tags": ["android", "python", "subprocess", "qpython"], "answers": [{"tags": [], "owner": {"reputation": 3052, "user_id": 1865860, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/954c0a4651013e5e9c635dc6583c18d3?s=128&d=identicon&r=PG", "display_name": "dentex", "link": "https://stackoverflow.com/users/1865860/dentex"}, "is_accepted": false, "score": 0, "last_activity_date": 1493902911, "creation_date": 1493902911, "answer_id": 43783641, "question_id": 42684131, "link": "https://stackoverflow.com/questions/42684131/subprocess-error-on-qpython-oserror/43783641#43783641", "title": "subprocess error on qpython (OSerror)", "body": "<p>I found that commands don't work if you specify <code>shell=True</code>.\nI had the same error.</p>\n\n<p>You should use the commands and its arguments as a list; i.e.:</p>\n\n<pre><code>your_cmd = ['examplecmd', '-a', 'foo', '-b', 'bar']\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 7427983, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a3e2ca2a4cb514904ecd2fdf46b8c90?s=128&d=identicon&r=PG", "display_name": "user7427983", "link": "https://stackoverflow.com/users/7427983/user7427983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493902911, "creation_date": 1489016864, "question_id": 42684131, "link": "https://stackoverflow.com/questions/42684131/subprocess-error-on-qpython-oserror", "title": "subprocess error on qpython (OSerror)", "body": "<p>I'm trying to send command through socket with subprocess (python 2.7 (qpython android)).\n here 's the code :</p>\n\n<pre><code>#reponse is my command\nx = subprocess.Popen(reponse, \n         shell=True,\n         stdout=subprocess.PIPE, \n         stderr=subprocess.PIPE, \n         stdin=subprocess.PIPE)\ny = str(x.stdout.read() + x.stderr.read())\n</code></pre>\n\n<p>But when i'm trying, i've got this error :</p>\n\n<pre><code>Traceback (most recent call last):   \nFile \"ser.py\", line 72, in &lt;module&gt;     \nstdin=subprocess.PIPE)   \nFile \"/QPython/QPython2-core/build/python-install/lib/python2.7/subprocess.py\",\nline 679, in __init__   \nFile \"/QPython/QPython2-core/build/python-install/lib/python2.7/subprocess.py\", \nline 1228, in _execute_child \nOSError: [Errno 2] No such file or directory\n</code></pre>\n\n<p>So, can someone tell me what's wrong, and how to fixe this .. Thx in advance for help...</p>\n"}, {"tags": ["python", "awk", "bioinformatics", "fasta"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1489018160, "post_id": 42684125, "comment_id": 72492663, "body": "<a href=\"https://stackoverflow.com/posts/42684125/edit\">edit</a> your question to explain how <code>&gt;XP_001267680.1 conserved hypothetical protein [Aspergillus clavatus NRRL 1]</code> in the input maps to <code>&gt;Acla00001</code>  and how 4 input lines becomes 8 output lines. Also get rid of the <code>...</code>s so you provide sample input/output we could test a potential solution against. Don&#39;t assume we know where <code>the organism name</code> appears in your input - just tell us which input string you want changed to which output string(s)."}, {"owner": {"reputation": 1635, "user_id": 7681248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b831f47d04958646a0f565361b0e74?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/7681248/jasper"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1489018702, "post_id": 42684125, "comment_id": 72492833, "body": "It doesn&#39;t change to 8, just trying to explain that it should add 1 zero if the number is 4 digits and 4 if the number is one digit."}], "answers": [{"comments": [{"owner": {"reputation": 1635, "user_id": 7681248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b831f47d04958646a0f565361b0e74?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/7681248/jasper"}, "edited": false, "score": 0, "creation_date": 1489018895, "post_id": 42684250, "comment_id": 72492888, "body": "This gives me an error :S  cat Acla.fa | awk &#39;/^&gt;/{printf &quot;&gt;Acla%05d\\n&quot; ++i; next}{print}&#39; awk: run time error: not enough arguments passed to printf(&quot;&gt;Acla%05d 1&quot;) \tFILENAME=&quot;-&quot; FNR=1 NR=1"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 1635, "user_id": 7681248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b831f47d04958646a0f565361b0e74?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/7681248/jasper"}, "edited": false, "score": 0, "creation_date": 1489019251, "post_id": 42684250, "comment_id": 72492995, "body": "you missed the comma."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 1, "last_activity_date": 1489017507, "creation_date": 1489017507, "answer_id": 42684250, "question_id": 42684125, "link": "https://stackoverflow.com/questions/42684125/change-fasta-file-header/42684250#42684250", "title": "Change fasta file header", "body": "<p>change print statement to</p>\n\n<pre><code> /^&gt;/{printf \"&gt;Acla%05d\\n\",++i ...\n</code></pre>\n"}], "owner": {"reputation": 1635, "user_id": 7681248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9b831f47d04958646a0f565361b0e74?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/7681248/jasper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 42684250, "answer_count": 1, "score": -1, "last_activity_date": 1489018821, "creation_date": 1489016851, "last_edit_date": 1489018821, "question_id": 42684125, "link": "https://stackoverflow.com/questions/42684125/change-fasta-file-header", "title": "Change fasta file header", "body": "<p>I have a few fasta files and I want to change the headers</p>\n\n<pre><code>&gt;XP_001267680.1 conserved hypothetical protein [Aspergillus clavatus NRRL 1]\nMTEILARLTAPSAYRYASCEILEDYGRQLRELIAYIKQPRTTADIATAAEFLLDNLDPSLHSASY...\n&gt;XP_001267682.1 60S ribosomal protein L18 [Aspergillus clavatus NRRL 1]\nMGIDLDRHHVRSTHRKAPKSENVYLQVLVKLYRFLSRRTESNFNKVVLRRLFMSRINRPPVS...\netc...\n</code></pre>\n\n<p>And I want to change the fasta file so it looks like this:</p>\n\n<pre><code>&gt;Acla00001\nMTEILARLTAPSAYRYASCEILEDYGRQLRELIAYIKQPRTTADIATAAEFLLDNLDPSLHSASY...\n&gt;Acla00002\nMGIDLDRHHVRSTHRKAPKSENVYLQVLVKLYRFLSRRTESNFNKVVLRRLFMSRINRPPVS...\n...\n&gt;Acla03871\nMTEILARLTAPSAYRYASCEILEDYGRQLRELIAYIKQPRTTADIATAAEFLLDNLDPSLHSASYLF...\n&gt;Acla03872\nMGIDLDRHHVRSTHRKAPKSENVYLQVLVKLYRFLSRRTESNFNKVVLRRLFMSRINRPPVSL...\n</code></pre>\n\n<p>I found this piece of code to remove everything if the line starts with > and add a new > and the organism name + a number.</p>\n\n<pre><code>org = 'Acla'    \nos.popen(\"\"\"cat %s.fa | awk '/^&gt;/{print \"&gt;%s\" ++i; next}{print}'\"\"\" % (org, org)).read()\n</code></pre>\n\n<p>I want the length of all these lines to be equal by adding zeros so the number is 5 digits or the total length of the string is 10.</p>\n"}, {"tags": ["python", "exec"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489017065, "post_id": 42684108, "comment_id": 72492320, "body": "Please do not ask, immediately delete, and repost a <a href=\"http://stackoverflow.com/questions/42683687/print-result-if-statement-to-exec-is-an-expression\">question</a>."}, {"owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489018807, "post_id": 42684108, "comment_id": 72492866, "body": "Thank you @TigerhawkT3! However this is not a duplicate. There isn&#39;t an answer in the post you mentioned."}, {"owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489020523, "post_id": 42684108, "comment_id": 72493358, "body": "@TigerhawkT3 Would you remove the duplication mark?"}], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "edited": false, "score": 0, "creation_date": 1489018877, "post_id": 42684292, "comment_id": 72492882, "body": "Thank you! I totally understand that."}, {"owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "edited": false, "score": 0, "creation_date": 1489020674, "post_id": 42684292, "comment_id": 72493403, "body": "For example, the <code>compile(..., &quot;&lt;string&gt;&quot;, &quot;single&quot;)</code> has the behavior of my <code>my_exec</code>, but it does not support statements with multiple code blocks which are all executable."}, {"owner": {"reputation": 161, "user_id": 7681191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8bda2be3cb71eb228cf5bbc49aa5dad?s=128&d=identicon&r=PG&f=1", "display_name": "Nairit", "link": "https://stackoverflow.com/users/7681191/nairit"}, "reply_to_user": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "edited": false, "score": 0, "creation_date": 1489023554, "post_id": 42684292, "comment_id": 72494107, "body": "Then, it is possible to use compile instead of my_exec. That was my point.  Why go through the hassle when you can use a built in function?"}, {"owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "edited": false, "score": 0, "creation_date": 1489026178, "post_id": 42684292, "comment_id": 72494793, "body": "it executes up to the end of the first executable block. for example, <code>exec(compile(&quot;print 42\\n print 10&quot;, &quot;&quot;, &quot;single&quot;))</code> prints 42 only. my <code>my_exec</code> works but it has two compile involved. what i am asking here is indeed a more principled way like you mentioned."}], "tags": [], "owner": {"reputation": 161, "user_id": 7681191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8bda2be3cb71eb228cf5bbc49aa5dad?s=128&d=identicon&r=PG&f=1", "display_name": "Nairit", "link": "https://stackoverflow.com/users/7681191/nairit"}, "is_accepted": false, "score": -1, "last_activity_date": 1489017778, "creation_date": 1489017778, "answer_id": 42684292, "question_id": 42684108, "link": "https://stackoverflow.com/questions/42684108/print-result-if-statement-to-exec-is-an-expression/42684292#42684292", "title": "Print result if statement to exec is an expression", "body": "<p>First of all, executing 10 doesn't make sense in real life. How can you execute a number? But, you can execute a command like <code>exec(\"print(10)\")</code>. I don't see the need of creating a <code>my_exec</code> function. It behaves the same as the normal <code>exec</code>. In the interactive shell, everything works differently, so don't try to compare. Basically, <code>exec(\"print(10)\")</code> is the command you are looking for. Another way not using exec is <code>print(10)</code>.</p>\n"}], "owner": {"reputation": 1594, "user_id": 3186400, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2fb28084a0bb62c60a1ba47526d0b149?s=128&d=identicon&r=PG&f=1", "display_name": "shaoyl85", "link": "https://stackoverflow.com/users/3186400/shaoyl85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 478, "favorite_count": 0, "closed_date": 1489017076, "answer_count": 1, "score": 0, "last_activity_date": 1489022073, "creation_date": 1489016740, "last_edit_date": 1489022073, "question_id": 42684108, "link": "https://stackoverflow.com/questions/42684108/print-result-if-statement-to-exec-is-an-expression", "closed_reason": "Duplicate", "title": "Print result if statement to exec is an expression", "body": "<p>In python, if I <code>exec</code> a statement which prints a value, I will see the output, e.g., <code>exec(\"print 10\")</code> gives me output 10. However, if I do <code>exec(\"10\")</code> I got nothing as output, where as if I type 10 in the interactive shell I got 10 as output. How do I get this output when using <code>exec</code>? That is if the statement to be executed is an expression, I print its result.</p>\n\n<p>My question is how I can decide whether the statement to execute is an expression. Am I supposed to do the following:</p>\n\n<pre><code>def my_exec(script):\n  try:\n    print eval(compile(script, '&lt;string&gt;', 'eval'))\n  except SyntaxError:\n    exec(script)\n\n# Prints 10.\nmy_exec(\"print(10)\")\n\n# Prints 10 as well.\nmy_exec(\"10\")\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>Basically I want the behavior of executing a cell in a jupyter notebook.</p>\n"}, {"tags": ["python", "text", "duplicates", "line-by-line"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1489016431, "post_id": 42683993, "comment_id": 72492083, "body": "Use a regular expression with a back-reference to detect a string followed by a copy of itself."}, {"owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "edited": false, "score": 0, "creation_date": 1489017387, "post_id": 42683993, "comment_id": 72492436, "body": "Are your fields separated by a semicolon ; ? Because ABC and 123 repeat many times."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1489020753, "post_id": 42683993, "comment_id": 72493432, "body": "And if the fields <b>are</b> separated by semi-colons, how should the <code>&#254;</code> characters be handled? Can duplicates occur <i>anywhere</i> in the line, or are you only interested in sequential repeats? Also: is the matching case-sensitive, and is whitespace significant?"}, {"owner": {"reputation": 71, "user_id": 7438451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f384566bf09023b7a9a6c81204e1?s=128&d=identicon&r=PG&f=1", "display_name": "a-goonie", "link": "https://stackoverflow.com/users/7438451/a-goonie"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1489021324, "post_id": 42683993, "comment_id": 72493579, "body": "@ekhumoro <code>&#254;</code> delimits each field, and <code>;</code> delimits each item under the field. So, essentially, going line-by-line, a duplicate string between semicolons should be removed."}, {"owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 1, "creation_date": 1489021447, "post_id": 42683993, "comment_id": 72493619, "body": "You still need to answer whether or not whitespace matters: 10 ABC\\ABCD\\ABCDE; 10 ABC\\ABCD\\ABCDE aren&#39;t duplicates since whitespace makes them distinct."}, {"owner": {"reputation": 71, "user_id": 7438451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f384566bf09023b7a9a6c81204e1?s=128&d=identicon&r=PG&f=1", "display_name": "a-goonie", "link": "https://stackoverflow.com/users/7438451/a-goonie"}, "reply_to_user": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 0, "creation_date": 1489021623, "post_id": 42683993, "comment_id": 72493658, "body": "@gregory Apologies. The whitespace was an error in the formating of my example."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1489021945, "post_id": 42683993, "comment_id": 72493721, "body": "@a-goonie. Case-sensitivity?"}, {"owner": {"reputation": 71, "user_id": 7438451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f384566bf09023b7a9a6c81204e1?s=128&d=identicon&r=PG&f=1", "display_name": "a-goonie", "link": "https://stackoverflow.com/users/7438451/a-goonie"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1489022121, "post_id": 42683993, "comment_id": 72493767, "body": "@ekhumoro Probably not case-sensitive. The duplicates being weeded out are file paths, so it&#39;s possible there will be duplicate file paths that aren&#39;t necessarily identical in terms of case."}], "answers": [{"tags": [], "owner": {"reputation": 1826, "user_id": 6153990, "user_type": "registered", "profile_image": "https://graph.facebook.com/955879401185683/picture?type=large", "display_name": "Sangbok  Lee", "link": "https://stackoverflow.com/users/6153990/sangbok-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1489023198, "creation_date": 1489023198, "answer_id": 42685067, "question_id": 42683993, "link": "https://stackoverflow.com/questions/42683993/remove-duplicates-in-text-file-line-by-line/42685067#42685067", "title": "Remove duplicates in text file line by line", "body": "<p>@Prune's answer gives the idea but it needs to be modified like this:</p>\n\n<pre><code>input_file = \"\"\"\"\u00fe;ABC.001.123.1234;\u00fe;;\u00fe;10 ABC\\ABCD\\ABCDE;10 ABC\\ABCD\\ABCDE;\u00fe\n\u00fe;ABC.001.123.1234;\u00fe;;\u00fe;10 ABC\\ABCD\\ABCDE;12 EFG\\EFG;12 EFG\\EFG;\u00fe\"\"\"\"\"\n\ninput = input_file.split(\"\\n\")\n\nfor line in input:\n    seen_item = []\n    for item in line.split(\";\"):\n        if item not in seen_item or item == \"\u00fe\":\n             seen_item.append(item)\n    print(\";\".join(seen_item))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 7438451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f384566bf09023b7a9a6c81204e1?s=128&d=identicon&r=PG&f=1", "display_name": "a-goonie", "link": "https://stackoverflow.com/users/7438451/a-goonie"}, "edited": false, "score": 0, "creation_date": 1489104728, "post_id": 42685223, "comment_id": 72537559, "body": "Thank you. That&#39;s a really great solution. The only issue I have now is removing duplicates that don&#39;t necessarily follow immediately after the first instance of the duplicate value.    For example: <code>;&#254;;MEP.0002.087836;&#254;;;&#254;;15 Engineering\\03 Personal Folders\\ENGBIBLES\\Cranes\\Liebherr\\LT1220;15 Engineering\\03 Personal Folders\\ENGBIBLES\\Cranes\\Liebherr\\LG1300;15 Engineering\\03 Personal Folders\\ENGBIBLES\\Cranes\\Liebherr\\LT1220;15 Engineering\\03 Personal Folders\\ENGBIBLES\\Cranes\\Liebherr\\LG1300;</code>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "is_accepted": true, "score": 0, "last_activity_date": 1489024228, "creation_date": 1489024228, "answer_id": 42685223, "question_id": 42683993, "link": "https://stackoverflow.com/questions/42683993/remove-duplicates-in-text-file-line-by-line/42685223#42685223", "title": "Remove duplicates in text file line by line", "body": "<pre><code>import re\nwith open('file', 'r') as f:\n     file = f.readlines()\nfor line in file:\n     print(re.sub(r'([^;]+;)(\\1)', r'\\1', line))\n</code></pre>\n\n<p>Read the file by lines; then replace the duplicates using re.sub.   </p>\n"}], "owner": {"reputation": 71, "user_id": 7438451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e65f384566bf09023b7a9a6c81204e1?s=128&d=identicon&r=PG&f=1", "display_name": "a-goonie", "link": "https://stackoverflow.com/users/7438451/a-goonie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1587, "favorite_count": 1, "accepted_answer_id": 42685223, "answer_count": 2, "score": -1, "last_activity_date": 1489106509, "creation_date": 1489016170, "last_edit_date": 1489106509, "question_id": 42683993, "link": "https://stackoverflow.com/questions/42683993/remove-duplicates-in-text-file-line-by-line", "title": "Remove duplicates in text file line by line", "body": "<p>I'm trying to write a Python script that will remove duplicate strings in a text file. However, the de-duplication should only occur within each line.</p>\n\n<p>For example, the text file might contain:</p>\n\n<blockquote>\n  <p>\u00fe;ABC.001.123.1234;\u00fe;;\u00fe;10 ABC\\ABCD\\ABCDE;<strong>10 ABC\\ABCD\\ABCDE</strong>;\u00fe<br>\n  \u00fe;ABC.001.123.1234;\u00fe;;\u00fe;10 ABC\\ABCD\\ABCDE;12 EFG\\EFG;<strong>12 EFG\\EFG</strong>;\u00fe\n  \u00fe;ABC.001.123.1234;\u00fe;;\u00fe;10 ABC\\ABCD\\ABCDE;12 EFG\\EFG;09 XYZ\\XYZ\\XYZ;<strong>12 EFG\\EFG</strong>;\u00fe</p>\n</blockquote>\n\n<p>Thus, in the above example, the script should only remove the bold strings.</p>\n\n<p>I've searched Stack Overflow and elsewhere to try to find a solution, but haven't had much luck. There seem to be many solutions that will remove duplicate lines, but I'm trying to remove duplicates within a line, line-by-line.</p>\n\n<p><strong>Update:</strong> Just to clarify - <code>\u00fe</code> is the delimiter for each field, and <code>;</code> is the delimiter for each item within each field. Within each line, I'm attempting to remove any duplicate strings contained between semicolons. </p>\n\n<p><strong>Update 2:</strong> Example edited to reflect that the duplicate value may not always follow directly after the first instance of the value.</p>\n"}, {"tags": ["python", "optimization", "scipy", "curve-fitting"], "comments": [{"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 1, "creation_date": 1489038767, "post_id": 42683989, "comment_id": 72498572, "body": "Try getting rid of numpy.matrix and replace it with numpy.array"}, {"owner": {"reputation": 695, "user_id": 6934489, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aa1df7a1a5d874f48bf8250542baee32?s=128&d=identicon&r=PG&f=1", "display_name": "DPdl", "link": "https://stackoverflow.com/users/6934489/dpdl"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1489080437, "post_id": 42683989, "comment_id": 72525522, "body": "Still does not fix the problem. :("}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 1, "creation_date": 1489083915, "post_id": 42683989, "comment_id": 72527505, "body": "please trim it down to a minimum self-contained reproducible example. E.g. embed the data from that <code>pandas.read_excel</code> etc."}, {"owner": {"reputation": 5396, "user_id": 5179748, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N6Pn6ac0-tQ/AAAAAAAAAAI/AAAAAAAAB2o/LLcs2JK0DcU/photo.jpg?sz=128", "display_name": "M Newville", "link": "https://stackoverflow.com/users/5179748/m-newville"}, "edited": false, "score": 0, "creation_date": 1489090715, "post_id": 42683989, "comment_id": 72531398, "body": "You&#39;re probably better off giving explicit initial values  <code>curve_fit(...., p0=init_values)</code>.  It appears you&#39;re taking <code>.item(20)</code> of an ndarray to generate the return value:  that would be a scalar value, I think.  <code>curve_fit</code> requires more observations returned than variable sent in (in your case, 7)."}, {"owner": {"reputation": 695, "user_id": 6934489, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aa1df7a1a5d874f48bf8250542baee32?s=128&d=identicon&r=PG&f=1", "display_name": "DPdl", "link": "https://stackoverflow.com/users/6934489/dpdl"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1489092507, "post_id": 42683989, "comment_id": 72532153, "body": "@ev-br, The RMatrix is a 28 x 28 matrix, and the initialAmoung matrix is 28 x 1 Matrix. I thought it would be less cumbersome to just post the link to the excel file, instead of pasting the whole matrix here."}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 1, "creation_date": 1489096071, "post_id": 42683989, "comment_id": 72534069, "body": "@DPdl making a smaller example is a part of making an MCVE (and not accidentally, that&#39;s a viable debugging tool)"}], "owner": {"reputation": 695, "user_id": 6934489, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/aa1df7a1a5d874f48bf8250542baee32?s=128&d=identicon&r=PG&f=1", "display_name": "DPdl", "link": "https://stackoverflow.com/users/6934489/dpdl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489016159, "creation_date": 1489016159, "question_id": 42683989, "link": "https://stackoverflow.com/questions/42683989/curve-fitting-using-scipy", "title": "Curve fitting using Scipy", "body": "<p>I am trying to find the optimum values of 7 parameters (a, b, c, d, e, f, g). But the following code is giving me a ValueError (saying that operands could not be broadcast together). I cannot figure out what the problem is (I am certain, the urinary_excretion function works).</p>\n\n<p>The data file I used is <a href=\"http://www.filedropper.com/data1_4\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>\"\"\"\nread the matrix values from excel spreadsheet, and converts the values to a matrix, shape = (28, 28)\n\"\"\"\n\nRMatrix=(pd.read_excel(\"C:\\\\...Data.xlsx\", sheetname='TestModel', skiprows=0)).as_matrix()\n\n\"\"\"\nread the initialAmount values from excel spreadsheet, and converts the values to a matrix, shape = (28, 1)\n\"\"\"\n\ninitialAmount = (pd.read_excel(\"C:\\\\...Data.xlsx\", sheetname=\"TMI\", skiprows=0)).as_matrix() \nxdata = [4, 46, 67, 106, 158, 162, 201, 220, 249, 277, 309, 336, 371, 4453, 550, 687, 704, 737, 760, 795, 823]\nydata = [0.0054, 0.003, 0.00079,  0.00106,  0.00091759999999999997, 0.00014, 0.0006845, 0.0004995, 0.000865, 0.00083, 8.325e-05, 0.000149,  0.002738, 0.0007, 0.00059,  0.000185,  0.00048,  0.000369,  0.000925,  0.0015169, 0.000185]\n\ndef urinary_excretion(x, a, b, c, d, e, f, g):\n\n    initialAmount[0,0] = a #Replace the 0,0th element of initialMatrix with 'a' \n    initialAmount[1,0] = b # Replace the 1,0th element of initialMatrix with 'b'\n    initialAmount[2,0] = c #and so on\n\n    RMatrix[0,2] = d #Replace the 0,2th element of RMatrix with 'd'\n    RMatrix[0,1] = e # and so on\n    RMatrix[1,0] = f\n    RMatrix[1,2] = g\n\n    RMatrix[np.isnan(RMatrix)]=0 #converts NaN (Not a number) to 0\n    row,col = np.diag_indices_from(RMatrix) #get row and column indices of diagonal elements\n    RMatrix[row,col] = -(RMatrix.sum(axis=1)-RMatrix[row,col])-Lambda #assign the sum of each row except the diagonal elements into diagonal positions, takes care of decay constant\n    AMatrix = RMatrix.T # Transpose the RMatrix\n\n    def content(t):\n        expMatrix = scipy.linalg.expm(t*AMatrix)\n        return numpy.dot(expMatrix, initialAmount)\n\n    return content(x).item(20) - content(x-1).item(20)\n\npopt, pcov = scipy.optimize.curve_fit(urinary_excretion, xdata, ydata)\n</code></pre>\n"}, {"tags": ["python", "list", "loops", "encryption"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1489016294, "post_id": 42683981, "comment_id": 72492032, "body": "You need a loop that runs through <i>both</i> lists at the same time, and that&#39;s what <code>zip()</code> is for: <code>for key,let in zip(key_ls,plain_ls):...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 13815, "user_id": 6575931, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CumJFhlEBdA/AAAAAAAAAAI/AAAAAAAAi5U/sqexnazvXek/photo.jpg?sz=128", "display_name": "Uriel", "link": "https://stackoverflow.com/users/6575931/uriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1489016246, "creation_date": 1489016246, "answer_id": 42684015, "question_id": 42683981, "link": "https://stackoverflow.com/questions/42683981/running-a-loop-for-values-in-two-lists/42684015#42684015", "title": "Running a loop for values in two lists", "body": "<p>Iterate on a zip object of the sequence and the key. For repetitive padding of the key use <code>itertools.cycle</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import cycle\n&gt;&gt;&gt; s = 'Hello world!'\n&gt;&gt;&gt; key = 'BAD'\n&gt;&gt;&gt; for a, b in zip(s, cycle(key)):\n...     print(a, b)\n...\nH B\ne A\nl D\nl B\no A\n  D\nw B\no A\nr D\nl B\nd A\n! D\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1347, "user_id": 4622470, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6015804f9937b6231b4b0022d70b5ddb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohanil", "link": "https://stackoverflow.com/users/4622470/rohanil"}, "is_accepted": false, "score": 0, "last_activity_date": 1489021624, "creation_date": 1489021624, "answer_id": 42684844, "question_id": 42683981, "link": "https://stackoverflow.com/questions/42683981/running-a-loop-for-values-in-two-lists/42684844#42684844", "title": "Running a loop for values in two lists", "body": "<p>you can use <code>enumerate</code> to get current index of loop. Try following:</p>\n\n<pre><code>def vigenere_enc(plain, key):\n\n    plain_ls = list( plain )\n    key_ls = list( key )\n    alpha = [ \"A\" , \"B\" , \"C\" , \"D\" , \"E\" , \"F\" , \"G\" , \"H\" , \"I\" , \"J\" , \"K\" , \"L\" , \"M\" , \"N\" , \"O\" , \"P\" , \"Q\" , \"R\" , \"S\" , \"T\" , \"U\" , \"V\" , \"W\" , \"X\" , \"Y\" , \"Z\" ]\n    ls = []\n\n    for idx, key in enumerate(key_ls):\n        position_key = alpha.index( key )\n\n        let = plain_ls[idx]\n        position_let = alpha.index( let )\n\n        shift = position_let + position_key\n\n        if shift &gt; 26:\n            shift_from_beg = ( shift - 26)\n            add_let = alpha[ shift_from_beg ]\n            ls.append( add_let )\n\n        else:\n            else_add_let = alpha[shift]\n            ls.append( else_add_let )\n\n    string = ''.join( ls )\n    return string\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7673652, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2bd49aceb6cf266b60507bdf7b78bc52?s=128&d=identicon&r=PG&f=1", "display_name": "beginner_coder", "link": "https://stackoverflow.com/users/7673652/beginner-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1489021624, "creation_date": 1489016111, "question_id": 42683981, "link": "https://stackoverflow.com/questions/42683981/running-a-loop-for-values-in-two-lists", "title": "Running a loop for values in two lists", "body": "<p>I am trying to create a working Vigen\u00e8re cipher, but can't seem to figure out how I would create a loop that loops through two different lists. </p>\n\n<p>This should result from the following computation:</p>\n\n<p>plaintext: HAPPYBIRTHDAY key: BADBADBADBADB ciphertext: IASQYEJRWIDDZ</p>\n\n<p>This is what actually results with my code:</p>\n\n<p>cipher text:'IBQQZCJSUIEBZHAPPYBIRTHDAYKDSSBELUWKGDB'</p>\n\n<p>My code: </p>\n\n<pre><code>def vigenere_enc(plain, key):\n\nplain_ls = list( plain )\nkey_ls = list( key )\nalpha = [ \"A\" , \"B\" , \"C\" , \"D\" , \"E\" , \"F\" , \"G\" , \"H\" , \"I\" , \"J\" , \"K\" , \"L\" , \"M\" , \"N\" , \"O\" , \"P\" , \"Q\" , \"R\" , \"S\" , \"T\" , \"U\" , \"V\" , \"W\" , \"X\" , \"Y\" , \"Z\" ]\nls = []\n\nfor key in key_ls:\n    position_key = alpha.index( key )\n\n    for let in plain_ls:\n        position_let = alpha.index( let )\n\n        shift = position_let + position_key \n\n        if shift &gt; 26:\n            shift_from_beg = ( shift - 26)\n            add_let = alpha[ shift_from_beg ]\n            ls.append( add_let )\n\n        else:\n            else_add_let = alpha[ shift ]\n            ls.append( else_add_letn )\n\nstring = ''.join( ls )\nreturn string\n</code></pre>\n\n<p>I understand why my code is wrong, but can't figure out how to fix it. Any feedback/help is greatly appreciated!</p>\n"}, {"tags": ["python", "bash", "shell", "debugging", "pycharm"], "comments": [{"owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 0, "creation_date": 1489353803, "post_id": 42683940, "comment_id": 72622837, "body": "If all else fails, you can do (on *nix) <code>sudo strace -p $PID</code> where <code>$PID</code> is the process ID of your misbehaving Python process."}, {"owner": {"reputation": 700, "user_id": 3802483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/282260aaa4fe00b17e82a0f54d75f963?s=128&d=identicon&r=PG&f=1", "display_name": "dusa", "link": "https://stackoverflow.com/users/3802483/dusa"}, "reply_to_user": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 0, "creation_date": 1489975242, "post_id": 42683940, "comment_id": 72890370, "body": "Thanks for the tip, I will keep in mind. However, what I really need to do is to check the values. I could potentially print them out but there is too much to keep track of."}, {"owner": {"reputation": 700, "user_id": 3802483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/282260aaa4fe00b17e82a0f54d75f963?s=128&d=identicon&r=PG&f=1", "display_name": "dusa", "link": "https://stackoverflow.com/users/3802483/dusa"}, "reply_to_user": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 0, "creation_date": 1490131133, "post_id": 42683940, "comment_id": 72973650, "body": "For anyone having similar issues, I was able to debug using pdb with the console. But not with pyCharm."}], "owner": {"reputation": 700, "user_id": 3802483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/282260aaa4fe00b17e82a0f54d75f963?s=128&d=identicon&r=PG&f=1", "display_name": "dusa", "link": "https://stackoverflow.com/users/3802483/dusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489015930, "creation_date": 1489015930, "question_id": 42683940, "link": "https://stackoverflow.com/questions/42683940/running-shell-commands-within-python-can-not-debug-other-python-modules-called", "title": "Running shell commands within Python, can not debug other Python modules called", "body": "<p>I call shell commands from a Python script (init) to caffe functions, this specific example trains a model using solver prototxt. What it does is to use caffe framework's built in functions, such as \"train\" and pass arguments. The train code is mainly built in C++ but it calls a Python script for a custom data layer. When I run the script below, it works, however I can not debug the custom Python data layer that is called by the training process. I have placed breakpoints and I try to run debug inline but it just works completely disregarding those breakpoints in the custom Python data layer. It only debugs the breakpoints in the init. I am using PyCharm. What can I do to debug this custom layer?</p>\n\n<pre><code># Make a copy of the current environment, then add a few additional variables\nenv = os.environ.copy()\nenv['HDF5_DISABLE_VERSION_CHECK'] = '1'\nenv['PYTHONPATH'] = '.'\nenv['GLOG_logtostderr'] = '1'\n\nsubprocess.call([\n\"sampleexact/samplepath/build/tools/caffe\", \"train\", \"-solver\",\n\"lstm_solver_flow.prototxt\", \"-weights\",\n\"single_frame_all_layers_hyb_flow_iter_50000.caffemodel\"], env=env)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 6, "creation_date": 1489015906, "post_id": 42683922, "comment_id": 72491899, "body": "Do you want <code>{&quot;on&quot;: False}</code>? (note <code>False</code>, not <code>false</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7681213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfabf067208a5a02acf70b5262b9477?s=128&d=identicon&r=PG&f=1", "display_name": "keepcoolkenner", "link": "https://stackoverflow.com/users/7681213/keepcoolkenner"}, "edited": false, "score": 0, "creation_date": 1489016092, "post_id": 42683949, "comment_id": 72491957, "body": "Thank you so much! i&#39;m obviously pretty new to python so this didnt even come to my mind..."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 3, "last_activity_date": 1489083502, "last_edit_date": 1489083502, "creation_date": 1489015967, "answer_id": 42683949, "question_id": 42683922, "link": "https://stackoverflow.com/questions/42683922/make-python-ignore-true-and-false/42683949#42683949", "title": "Make python ignore true and false", "body": "<p>Python spells \"false\" with a capital \"f\".</p>\n\n<pre><code>command = json.dumps({\"on\": False})\n</code></pre>\n\n<p>Don't worry, when it gets converted to JSON it will have the right case. The whole point of the JSON library is to convert JSON strings to and from native Python objects.</p>\n\n<p>Of course, with something this trivial, you could just write it as a string directly:</p>\n\n<pre><code>command = '{\"on\": false}'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7681213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfabf067208a5a02acf70b5262b9477?s=128&d=identicon&r=PG&f=1", "display_name": "keepcoolkenner", "link": "https://stackoverflow.com/users/7681213/keepcoolkenner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 42683949, "answer_count": 1, "score": 1, "last_activity_date": 1489083502, "creation_date": 1489015853, "last_edit_date": 1489025918, "question_id": 42683922, "link": "https://stackoverflow.com/questions/42683922/make-python-ignore-true-and-false", "title": "Make python ignore true and false", "body": "<p>I'm trying to control my smart light through a python script,\nthe Lamp takes variables in json format like following:</p>\n\n<pre><code>command = json.dumps({\"on\":false})\n</code></pre>\n\n<p>The problem now is, that whenever I want to send my code to the lamp, i get an error Message saying</p>\n\n<pre><code>NameError: name 'false' is not defined\n</code></pre>\n\n<p>How can i make Python ignore the false and just pass it on to the lamp?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489015532, "post_id": 42683854, "comment_id": 72491770, "body": "<code>resample</code> will only work with datetimeindex so is your index this type? if not you may need to do <code>df.index = pd.to_datetime(df.index)</code>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489015655, "post_id": 42683854, "comment_id": 72491819, "body": "additionally <code>set_index</code> by default is not inplace, try <code>df.set_index(&#39;login_time&#39;, inplace=True)</code> you may still need to cast to datetimeindex like I suggested above"}, {"owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489015710, "post_id": 42683854, "comment_id": 72491838, "body": "When I &quot;print df.info()&quot;, I saw the data was &quot;datetime64&quot; type, then I set_index(&#39;login_time&#39;) to convert it to index. Why this wouldn&#39;t convert it datetimeindex? It looks like df.login_time was considered &quot;Int64Index&quot;, which I didn&#39;t understand."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489015754, "post_id": 42683854, "comment_id": 72491853, "body": "please see my comment about <code>set_index</code> not being in place. also look at what <code>df.index</code> shows"}], "owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489015464, "creation_date": 1489015464, "question_id": 42683854, "link": "https://stackoverflow.com/questions/42683854/pandas-how-to-get-correct-data-type-to-use-resample", "title": "pandas how to get correct data type to use resample()", "body": "<p>I am new to pandas and wondered why my code didn't work. I have a data file where it has some login_time time stamps (have an example at the end). I load the data from json to DataFrame, then try to aggregate it every 30 minutes. Got an error complaining about data type.  </p>\n\n<pre><code>import json\nimport pandas as pd\nimport numpy as np\n\ninput_file = 'data.json'\ndf = pd.read_json(input_file)\n#df['count'] = 1\ndf.set_index('login_time');\n\nprint df.head()\n\nagg_30m = pd.DataFrame()\nagg_30m['login_time'] = df.login_time.resample(rule='30Min', how = 'last')\nagg_30m['count'] = df.login_time.resample(rule='30Min', how = 'count')\n\nprint agg_30m.head()\n</code></pre>\n\n<p>samples of data in data.json file:</p>\n\n<pre><code>{\"login_time\":[\"2010-01-01 00:12:00\",\"2010-01-01 00:21:00\",\"2010-01-01 00:22:00\",\"2010-01-01 00:23:00\",\"2010-01-01 00:24:00\"]}\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>   agg_15m['login_time'] = df.login_time.resample(rule='15Min', how = 'last')\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/core/generic.py\", line 4212, in resample\n    base=base, key=on, level=level)\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/tseries/resample.py\", line 944, in resample\n    return tg._get_resampler(obj, kind=kind)\n  File \"/usr/local/lib/python2.7/dist-packages/pandas/tseries/resample.py\", line 1057, in _get_resampler\n    \"but got an instance of %r\" % type(ax).__name__)\nTypeError: Only valid with DatetimeIndex, TimedeltaIndex or PeriodIndex, but got an instance of 'Int64Index'\n</code></pre>\n"}, {"tags": ["python", "pandas", "group-by", "aggregate"], "answers": [{"tags": [], "owner": {"reputation": 410, "user_id": 4431535, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SK8toxWpm-k/AAAAAAAAAAI/AAAAAAAABOE/tox7es207yA/photo.jpg?sz=128", "display_name": "pml", "link": "https://stackoverflow.com/users/4431535/pml"}, "is_accepted": false, "score": 0, "last_activity_date": 1489016972, "creation_date": 1489016972, "answer_id": 42684153, "question_id": 42683851, "link": "https://stackoverflow.com/questions/42683851/pandas-tricky-groupby-using-multiple-groups-in-a-list-within-a-single-column/42684153#42684153", "title": "PANDAS tricky groupby using multiple groups in a list within a single column", "body": "<p>This depends on your case. If it's this size, you might want to create a boolean column for each element - e.g.</p>\n\n<pre><code>unique_products = set(chain(*data['Product Category']))\nfor product in unique_products:\n    data['product_{}.format(product) = data.Products.apply(lambda x: product in x)\n</code></pre>\n\n<p>Alternately, if you've got a large pool of products, go ahead and use <code>data.Product.apply(lamba x: product in x)</code> as necessary.  You can also use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isin.html\" rel=\"nofollow noreferrer\"><code>data.Product.isin([product_one, product_two])</code></a> to perform a a similar check.</p>\n\n<p>Once you have a synthetic column, you can use that for merging.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 3505007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jm6y7.png?s=128&g=1", "display_name": "Adestin", "link": "https://stackoverflow.com/users/3505007/adestin"}, "edited": false, "score": 0, "creation_date": 1489023149, "post_id": 42684677, "comment_id": 72494018, "body": "this works! Although, I am still trying to understand exactly what&#39;s happening from the &quot;for&quot; col section all the way through your .assign(). It looks like what&#39;s happening is for each category, you&#39;re copying the row data into a new row so that each row has 1 category. Then, with the .assign() you&#39;re appending all of the other columns. But maybe I&#39;m wrong. This is more complex than anything I&#39;ve ever seen (albeit fantastic) and I hope you&#39;ll explain a bit further for anyone else who sees this post."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 113, "user_id": 3505007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jm6y7.png?s=128&g=1", "display_name": "Adestin", "link": "https://stackoverflow.com/users/3505007/adestin"}, "edited": false, "score": 0, "creation_date": 1489046908, "post_id": 42684677, "comment_id": 72502493, "body": "@Adestin, i&#39;ve added some explanations - please check"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1489046872, "last_edit_date": 1489046872, "creation_date": 1489020499, "answer_id": 42684677, "question_id": 42683851, "link": "https://stackoverflow.com/questions/42683851/pandas-tricky-groupby-using-multiple-groups-in-a-list-within-a-single-column/42684677#42684677", "title": "PANDAS tricky groupby using multiple groups in a list within a single column", "body": "<p>Source DF:</p>\n\n<pre><code>In [21]: data\nOut[21]:\n              Product Category  Product Cost                    Products\n0     [Music, Journals, Paper]            55     Rock On Leather Journal\n1  [Headphones, Music, Clocks]           163  Beats Earbuds In Ear Timer\n2            [Watches, Clocks]           200      Garmin 25mm Wristwatch\n</code></pre>\n\n<p>First lets transform (flatten) it into the following DF:</p>\n\n<pre><code>In [22]: lst_col = 'Product Category'\n    ...:\n    ...: x = pd.DataFrame({\n    ...:     col:np.repeat(data[col].values, data[lst_col].str.len())\n    ...:     for col in data.columns.difference([lst_col])\n    ...: }).assign(**{lst_col:np.concatenate(data[lst_col].values)})[data.columns.tolist()]\n    ...:\n\nIn [23]: x\nOut[23]:\n  Product Category  Product Cost                    Products\n0            Music            55     Rock On Leather Journal\n1         Journals            55     Rock On Leather Journal\n2            Paper            55     Rock On Leather Journal\n3       Headphones           163  Beats Earbuds In Ear Timer\n4            Music           163  Beats Earbuds In Ear Timer\n5           Clocks           163  Beats Earbuds In Ear Timer\n6          Watches           200      Garmin 25mm Wristwatch\n7           Clocks           200      Garmin 25mm Wristwatch\n</code></pre>\n\n<p>Now we can easily <code>\"count of how many Products within each Category, and to average the costs for each category\"</code>:</p>\n\n<pre><code>In [25]: x.groupby('Product Category')['Product Cost'].agg(['size', 'mean']).reset_index()\nOut[25]:\n  Product Category  size   mean\n0           Clocks     2  181.5\n1       Headphones     1  163.0\n2         Journals     1   55.0\n3            Music     2  109.0\n4            Paper     1   55.0\n5          Watches     1  200.0\n</code></pre>\n\n<p><strong>Some explanations:</strong></p>\n\n<p>number of list elements in each row:</p>\n\n<pre><code>In [7]: data[lst_col].str.len()\nOut[7]:\n0    3\n1    3\n2    2\nName: Product Category, dtype: int64\n</code></pre>\n\n<p>using this information we can replicate all non-list columns as follows: </p>\n\n<pre><code>In [3]: x = pd.DataFrame({\n   ...:     col:np.repeat(data[col].values, data[lst_col].str.len())\n   ...:     for col in data.columns.difference([lst_col])\n   ...: })\n\nIn [4]: x\nOut[4]:\n   Product Cost                    Products\n0            55     Rock On Leather Journal\n1            55     Rock On Leather Journal\n2            55     Rock On Leather Journal\n3           163  Beats Earbuds In Ear Timer\n4           163  Beats Earbuds In Ear Timer\n5           163  Beats Earbuds In Ear Timer\n6           200      Garmin 25mm Wristwatch\n7           200      Garmin 25mm Wristwatch\n</code></pre>\n\n<p>now we can add flattened <code>list column</code>:</p>\n\n<pre><code>In [8]: np.concatenate(data[lst_col].values)\nOut[8]:\narray(['Music', 'Journals', 'Paper', 'Headphones', 'Music', 'Clocks', 'Watches', 'Clocks'],\n      dtype='&lt;U10')\n\nIn [5]: x.assign(**{lst_col:np.concatenate(data[lst_col].values)})\nOut[5]:\n   Product Cost                    Products Product Category\n0            55     Rock On Leather Journal            Music\n1            55     Rock On Leather Journal         Journals\n2            55     Rock On Leather Journal            Paper\n3           163  Beats Earbuds In Ear Timer       Headphones\n4           163  Beats Earbuds In Ear Timer            Music\n5           163  Beats Earbuds In Ear Timer           Clocks\n6           200      Garmin 25mm Wristwatch          Watches\n7           200      Garmin 25mm Wristwatch           Clocks\n</code></pre>\n\n<p>and finally we simply select columns in the original order:</p>\n\n<pre><code>In [6]: x.assign(**{lst_col:np.concatenate(data[lst_col].values)})[data.columns.tolist()]\nOut[6]:\n  Product Category  Product Cost                    Products\n0            Music            55     Rock On Leather Journal\n1         Journals            55     Rock On Leather Journal\n2            Paper            55     Rock On Leather Journal\n3       Headphones           163  Beats Earbuds In Ear Timer\n4            Music           163  Beats Earbuds In Ear Timer\n5           Clocks           163  Beats Earbuds In Ear Timer\n6          Watches           200      Garmin 25mm Wristwatch\n7           Clocks           200      Garmin 25mm Wristwatch\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3505007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/jm6y7.png?s=128&g=1", "display_name": "Adestin", "link": "https://stackoverflow.com/users/3505007/adestin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 42684677, "answer_count": 2, "score": 1, "last_activity_date": 1489046872, "creation_date": 1489015447, "last_edit_date": 1489020105, "question_id": 42683851, "link": "https://stackoverflow.com/questions/42683851/pandas-tricky-groupby-using-multiple-groups-in-a-list-within-a-single-column", "title": "PANDAS tricky groupby using multiple groups in a list within a single column", "body": "<p>Stumped. Imagine a dataframe with a column that contains multiple product category \"tags\", some of which are in a list, like so.</p>\n\n<pre><code>import pandas as pd\n\nraw = {\n    'Products' : ['Rock On Leather Journal',\n                  'Beats Earbuds In Ear Timer',\n                  'Garmin 25mm Wristwatch'\n                 ],\n    'Product Cost': [55,163,200],\n    'Product Category' : [['Music','Journals','Paper'], \n                          ['Headphones','Music', 'Clocks'], \n                          ['Watches','Clocks']]\n}\n\ndata = pd.DataFrame(raw)\n</code></pre>\n\n<p>What's the best way to get a count of how many Products within each Category, and to average the costs for each category? For example, </p>\n\n<p>Music: Count-?, Avg Price-? </p>\n\n<p>Normally this would be a straightforward process using a map or a groupby. But the presence of lists in the category column adds a tricky twist.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 2, "creation_date": 1489015919, "post_id": 42683838, "comment_id": 72491906, "body": "I&#39;m voting to close this question as off-topic because aside from this lacking any basic research or attempt, this is also something that can be found in the python standard library if your try to look for it for a couple of minutes."}, {"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 1, "creation_date": 1489015963, "post_id": 42683838, "comment_id": 72491918, "body": "Please post what you have attempted so far."}, {"owner": {"reputation": 180853, "user_id": 424499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2071afd499daef001e75e14d7f9cce?s=128&d=identicon&r=PG", "display_name": "Raymond Hettinger", "link": "https://stackoverflow.com/users/424499/raymond-hettinger"}, "edited": false, "score": 1, "creation_date": 1489019174, "post_id": 42683838, "comment_id": 72492974, "body": "This is a reasonable question.  The standard library option, <i>itertools.combinations</i> doesn&#39;t help here because the inputs have duplicated values and the library function assumes distinct inputs."}], "answers": [{"comments": [{"owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "edited": false, "score": 0, "creation_date": 1489016610, "post_id": 42683931, "comment_id": 72492146, "body": "m and n go negative and this never terminates. You need to consider the two base cases where n=0 and m=0 separately."}], "tags": [], "owner": {"reputation": 111, "user_id": 7674669, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef990766cf99f212404a0a090dc99373?s=128&d=identicon&r=PG&f=1", "display_name": "Enes Keles", "link": "https://stackoverflow.com/users/7674669/enes-keles"}, "is_accepted": false, "score": -1, "last_activity_date": 1489015890, "creation_date": 1489015890, "answer_id": 42683931, "question_id": 42683838, "link": "https://stackoverflow.com/questions/42683838/combinatorics-display-all-arrangements/42683931#42683931", "title": "Combinatorics: Display all arrangements", "body": "<p>lets create a recursive function for this purpose,</p>\n\n<p>f(0, 0, currentStr) = currentStr </p>\n\n<p>f(n, m, currentStr) = f(n-1, m, currentStr + \"b\") and f(n, m-1, currentStr + \"r\")</p>\n"}, {"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1489015916, "creation_date": 1489015916, "answer_id": 42683937, "question_id": 42683838, "link": "https://stackoverflow.com/questions/42683838/combinatorics-display-all-arrangements/42683937#42683937", "title": "Combinatorics: Display all arrangements", "body": "<p>The <code>itertools</code> package has what you are asking for.  However, it will consider identical items to be separate entities, so we can use <code>set()</code> to clean up the duplicates</p>\n\n<pre><code>from itertools import permutations\n\nsorted(set(x for x in permutations('rrbb', 4)))\n\n[('b', 'b', 'r', 'r'),\n ('b', 'r', 'b', 'r'),\n ('b', 'r', 'r', 'b'),\n ('r', 'b', 'b', 'r'),\n ('r', 'b', 'r', 'b'),\n ('r', 'r', 'b', 'b')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1489016974, "last_edit_date": 1489016974, "creation_date": 1489016493, "answer_id": 42684062, "question_id": 42683838, "link": "https://stackoverflow.com/questions/42683838/combinatorics-display-all-arrangements/42684062#42684062", "title": "Combinatorics: Display all arrangements", "body": "<p>Here's a basic recursive solution in Haskell.</p>\n\n<pre><code>arrangements :: (Integral n, Integral m) =&gt; n -&gt; m -&gt; [String]\narrangements n 0 = [stimes n \"b\"]\narrangements 0 m = [stimes m \"r\"]\narrangements n m = (('b' :) &lt;$&gt; arrangements (n - 1) m) \n                &lt;&gt; (('r' :) &lt;$&gt; arrangements n (m - 1))\n\n\u03bb&gt; arrangements 2 2\n[\"bbrr\",\"brbr\",\"brrb\",\"rbbr\",\"rbrb\",\"rrbb\"]\n\n\u03bb&gt; arrangements 2 3\n[\"bbrrr\",\"brbrr\",\"brrbr\",\"brrrb\",\"rbbrr\",\"rbrbr\",\"rbrrb\",\"rrbbr\",\"rrbrb\",\"rrrbb\"]\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 7681191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8bda2be3cb71eb228cf5bbc49aa5dad?s=128&d=identicon&r=PG&f=1", "display_name": "Nairit", "link": "https://stackoverflow.com/users/7681191/nairit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 42683937, "answer_count": 3, "score": -4, "last_activity_date": 1489034064, "creation_date": 1489015390, "last_edit_date": 1489034064, "question_id": 42683838, "link": "https://stackoverflow.com/questions/42683838/combinatorics-display-all-arrangements", "title": "Combinatorics: Display all arrangements", "body": "<p>I am trying to find a way to display all arrangements of n blue coins and m red coins programmatically. I know the answer is n+m C n, but I want the computer to show me all n+m C n arrangements. Just to clarify, if n and m are both 2, the output that the computer should give is this: <code>[\"bbrr\", \"brbr\", \"brrb\", \"rbbr\", \"rbrb\", \"rrbb\"]</code>. Also, the code should be in Python if possible. If you don't have Python, it will still work since I know many languages. I have tried using itertools, but it doesn't work since each red coin is counted as different. I have tried researching a lot about distinguishability in Python and found nothing. Help would be greatly appreciated.</p>\n"}, {"tags": ["python", "arrays", "json"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1489015442, "post_id": 42683828, "comment_id": 72491732, "body": "Use the <code>json</code> module to print Python data in JSON format."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1489015480, "post_id": 42683828, "comment_id": 72491748, "body": "See <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/json.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "edited": false, "score": 0, "creation_date": 1489022106, "post_id": 42684348, "comment_id": 72493760, "body": "Great, as a follow up: let&#39;s say a user is prompted to input names via raw_input and then those names are stored in an array. Is there a way to construct a loop to go through each one of those names and then print them each out in that JSON object? For example, let&#39;s say the user inputs &quot;Steve, John, Ted&quot;. Is there a way for the loop to go through those names and print out {&quot;name&quot;: &quot;Steve&quot;, &quot;user_id&quot;: 1, &quot;comment&quot;: &quot;this is a comment&quot;}, {&quot;name&quot;: &quot;John&quot;, &quot;user_id&quot;: 1, &quot;comment&quot;: &quot;this is a comment&quot;}, {&quot;name&quot;: &quot;Ted&quot;, &quot;user_id&quot;: 1, &quot;comment&quot;: &quot;this is a comment&quot;}. Sorry if this was already shown"}, {"owner": {"reputation": 58, "user_id": 7418949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3d4d7748d7e1d97330511a7de6e965?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7418949/chris"}, "reply_to_user": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "edited": false, "score": 0, "creation_date": 1489027265, "post_id": 42684348, "comment_id": 72495088, "body": "Is this what you are looking to achieve @user7681184, I used input as I am using python 3 as raw_input is no longer used within python 3"}, {"owner": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "edited": false, "score": 0, "creation_date": 1489034126, "post_id": 42684348, "comment_id": 72496981, "body": "Thanks Chris, this makes sense."}], "tags": [], "owner": {"reputation": 58, "user_id": 7418949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3d4d7748d7e1d97330511a7de6e965?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/7418949/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1489027163, "last_edit_date": 1489027163, "creation_date": 1489018160, "answer_id": 42684348, "question_id": 42683828, "link": "https://stackoverflow.com/questions/42683828/printing-each-item-of-array-in-json-format/42684348#42684348", "title": "Printing each item of array in JSON format", "body": "<p>To encode JSON, you can import the JSON module and use the dump method and to decode jSON you can use the loads method, for example:</p>\n\n<pre><code>import json\n\n\njson_data_encoding = json.dumps(\n        {'user_id': 1, 'name': 'bob', 'comment': 'this is a comment'}\n)\n\nprint(json_data_encoding)\n# output: {\"name\": \"bob\", \"user_id\": 1, \"comment\": \"this is a comment\"}\n\njson_data_decoding = json.loads(json_data_encoding)\nprint(json_data_decoding['name'])\n# output: bob\n</code></pre>\n\n<p>In order to deal to produce a list follow the code below, in which also shows how to loop through the list also:</p>\n\n<pre><code>list_json_data_encoding = json.dumps([\n    {'user_id': 1, 'name': 'bob', 'comment': 'this is a comment'},\n    {'user_id': 2, 'name': 'tom', 'comment': 'this is another comment'}\n]\n)\n\nprint(list_json_data_encoding)\n# output: [{\"name\": \"bob\", \"user_id\": 1, \"comment\": \"this is a comment\"}, {\"name\": \"tom\", \"user_id\": 2, \"comment\": \"this is another comment\"}]\n\nlist_json_data_decoding = json.loads(list_json_data_encoding)\n\nfor json_data_decoded in list_json_data_decoding:\n    print(json_data_decoded['name'])\n# output1: bob\n# output2: tom\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>Is this what you are looking for?</p>\n\n<pre><code>import json\n\n\nscript_users = map(str, input(\"Please enter your user names, seperated by space with no comma:  \").split())\nusers = list(set(script_users))\n\nlist_users = []\nfor user in users:\n    list_users.append({'user_id': 1, 'name': user, 'comment': 'this is a comment'})\n\njson_user_list_encoding = json.dumps(list_users)\n\nprint(json_user_list_encoding)\n# this will return a json list where user_id will always be 1 and comment will be 'this is a comment',\n# the name will change for every user inputed by a space\n\njson_user_list_decoding = json.loads(json_user_list_encoding)\n\nfor json_user_decoded in json_user_list_decoding:\n    print(json_user_decoded['name'])\n# output: return the names as the where entered originally\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 7681184, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/da05c910ed199919c8d348113c4ef082?s=128&d=identicon&r=PG&f=1", "display_name": "user7681184", "link": "https://stackoverflow.com/users/7681184/user7681184"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489027163, "creation_date": 1489015334, "last_edit_date": 1489015369, "question_id": 42683828, "link": "https://stackoverflow.com/questions/42683828/printing-each-item-of-array-in-json-format", "title": "Printing each item of array in JSON format", "body": "<p>I am very new to Python; I have taken a couple of beginner courses in the past and currently, I have thrown together a few scripts to help me with certain tasks at work (mostly related to gathering/parsing data). What I am trying to do now is take a list of user IDs (taken from a raw_input which has been put into an array) and then print a list of each of those numbers in JSON formatting. The result would have to look something like:</p>\n\n<pre><code>{\n    \"user_id\": \"12345\",\n    \"name\": \"Bob\",\n    \"comment\": \"\"\n}\n</code></pre>\n\n<p>This is what I have so far:</p>\n\n<pre><code>script_users = map(int, raw_input(\"Please enter your user IDs, seperated by space with no comma:  \").split())\nfinal_users = list(set(script_users)) \n\nformat = \"\"\" \"name\": \"Bob\", \"comment\": \"\" \"\"\"\n</code></pre>\n\n<p>The idea was to use my format variable to print out a list of each User ID using that specific format. I know I need to use a loop to do this but I am not very familiar with them. Can anyone help? Thanks. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489015493, "post_id": 42683822, "comment_id": 72491756, "body": "Might be a mismatch between your fancy new python and the gpg glue library. Just try giving it paths."}, {"owner": {"reputation": 2543, "user_id": 1198896, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f416144b3a94f142d6b1cb88c4d8008?s=128&d=identicon&r=PG", "display_name": "strugee", "link": "https://stackoverflow.com/users/1198896/strugee"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489015537, "post_id": 42683822, "comment_id": 72491776, "body": "@pvg by &quot;paths&quot; do you just mean a string representing an fs path?"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489015708, "post_id": 42683822, "comment_id": 72491836, "body": "Yeah. Or maybe the wrapper? Either way, try the other options, since it seems to hate files."}, {"owner": {"reputation": 2543, "user_id": 1198896, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f416144b3a94f142d6b1cb88c4d8008?s=128&d=identicon&r=PG", "display_name": "strugee", "link": "https://stackoverflow.com/users/1198896/strugee"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489016037, "post_id": 42683822, "comment_id": 72491943, "body": "@pvg no, the source expects a file-like object, apparently. passing a path string results in <code>AttributeError: &#39;str&#39; object has no attribute &#39;read&#39;</code>. see <a href=\"https://bitbucket.org/vinay.sajip/python-gnupg/src/1c1ef33133ccdd3a4ade10214e71ae124b9e7016/gnupg.py?at=default&amp;fileviewer=file-view-default#gnupg.py-991\" rel=\"nofollow noreferrer\">bitbucket.org/vinay.sajip/python-gnupg/src/&hellip;</a>"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489016151, "post_id": 42683822, "comment_id": 72491978, "body": "That seems to say it wants a file and a filename"}, {"owner": {"reputation": 2543, "user_id": 1198896, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f416144b3a94f142d6b1cb88c4d8008?s=128&d=identicon&r=PG", "display_name": "strugee", "link": "https://stackoverflow.com/users/1198896/strugee"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489016237, "post_id": 42683822, "comment_id": 72492006, "body": "@pvg ohhhh man. thank you so much. if you add that as an answer I&#39;d be happy to accept"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489016610, "post_id": 42683822, "comment_id": 72492147, "body": "done. gpg integration libraries are poop. you have my condolences."}, {"owner": {"reputation": 2543, "user_id": 1198896, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f416144b3a94f142d6b1cb88c4d8008?s=128&d=identicon&r=PG", "display_name": "strugee", "link": "https://stackoverflow.com/users/1198896/strugee"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489030115, "post_id": 42683822, "comment_id": 72495885, "body": "@pvg heh, thanks. agreed :/"}], "answers": [{"tags": [], "owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "is_accepted": true, "score": 1, "last_activity_date": 1489290675, "last_edit_date": 1489290675, "creation_date": 1489016395, "answer_id": 42684040, "question_id": 42683822, "link": "https://stackoverflow.com/questions/42683822/python-gnupgs-verify-file-doesnt-like-me-passing-it-an-io-bufferedreader/42684040#42684040", "title": "python-gnupg&#39;s verify_file doesn&#39;t like me passing it an _io.BufferedReader", "body": "<p>The expected parameter types for <code>verify_filename</code> are a <code>file</code>-like object and a string containing a path for the data file. This starts to make more sense when one takes into account that this integration library essentially shells out to a gpg process for most anything it does. </p>\n"}], "owner": {"reputation": 2543, "user_id": 1198896, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7f416144b3a94f142d6b1cb88c4d8008?s=128&d=identicon&r=PG", "display_name": "strugee", "link": "https://stackoverflow.com/users/1198896/strugee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 42684040, "answer_count": 1, "score": 0, "last_activity_date": 1489290675, "creation_date": 1489015290, "last_edit_date": 1489016113, "question_id": 42683822, "link": "https://stackoverflow.com/questions/42683822/python-gnupgs-verify-file-doesnt-like-me-passing-it-an-io-bufferedreader", "title": "python-gnupg&#39;s verify_file doesn&#39;t like me passing it an _io.BufferedReader", "body": "<p>I've got the following code:</p>\n\n<pre><code>pkgfile = 'package.tar.xz'\nsigfile = 'package.tar.xz.sig'\n\ngpg = gnupg.GPG(gnupghome='gpg_home')\npkgfile_obj = open(pkgfile, 'rb')\nsigfile_obj = open(sigfile, 'rb')\nverification = gpg.verify_file(sigfile_obj, pkgfile_obj)\n</code></pre>\n\n<p>This last line gives:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"bin/daemon.py\", line 96, in &lt;module&gt;\n    perform_upgrade('http://localhost:8080/update-bundle.tar.xz', 'http://localhost:8080/update-bundle.tar.xz.sig')\n  File \"bin/daemon.py\", line 41, in perform_upgrade\n    verification = gpg.verify_file(sigfile_obj, pkgfile_obj)\n  File \"/Users/alex/Development/realtime.recurse.com/client/lib/python3.6/site-packages/gnupg.py\", line 1017, in verify_file\n    p = self._open_subprocess(args)\n  File \"/Users/alex/Development/realtime.recurse.com/client/lib/python3.6/site-packages/gnupg.py\", line 832, in _open_subprocess\n    startupinfo=si)\n  File \"/usr/local/Cellar/python3/3.6.0_1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 707, in __init__\n    restore_signals, start_new_session)\n  File \"/usr/local/Cellar/python3/3.6.0_1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 1260, in _execute_child\n    restore_signals, start_new_session, preexec_fn)\nTypeError: expected str, bytes or os.PathLike object, not _io.BufferedReader\n</code></pre>\n\n<p><code>pkgfile_obj</code> and <code>sigfile_obj</code> are indeed <code>_io.BufferedReader</code> instances, but I don't understand why this doesn't work. After all, python-gnupg's own documentation <a href=\"https://pythonhosted.org/python-gnupg/#verification\" rel=\"nofollow noreferrer\">gives this example</a>:</p>\n\n<pre><code>verified = gpg.verify_file(stream) # e.g. after stream = open(filename, \"rb\")\n</code></pre>\n\n<p>That comment seems to match exactly what I'm doing.</p>\n\n<p>Passing in a plain path doesn't work either:</p>\n\n<pre><code>verification = gpg.verify_file(sigfile, pkgfile)\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>AttributeError: 'str' object has no attribute 'read'\n</code></pre>\n\n<p>I'm on Python 3.6, python-gnupg 0.4.0.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1489016451, "post_id": 42683788, "comment_id": 72492089, "body": "You index a 3d array with expressions like <code>M[i, j, k]</code>, <code>M[:, 0, :]</code>, etc"}], "answers": [{"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 1, "last_activity_date": 1489017221, "last_edit_date": 1489017221, "creation_date": 1489016780, "answer_id": 42684116, "question_id": 42683788, "link": "https://stackoverflow.com/questions/42683788/accessing-second-index-in-3-d-numpy-array/42684116#42684116", "title": "Accessing second index in 3-d numpy array", "body": "<p>The one refers to the size of that particular dimension, not the content of the array. The array [[5 5]] has shape (1, 2) but, still, you don't really expect its values must include 1 for that reason, do you?</p>\n\n<p>What inserting a dimension of length one does is increasing the nesting level by one, so a 2d array [[a b] [c d]] will become [[[a b] [c d]]] or [[[a b]] [[c d]]] or [[[a] [b]] [[c] [d]]] depending on where you insert the new axis.</p>\n\n<p>In particular, there are no new elements.</p>\n"}, {"tags": [], "owner": {"reputation": 6064, "user_id": 1090791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ls3wG.png?s=128&g=1", "display_name": "gzc", "link": "https://stackoverflow.com/users/1090791/gzc"}, "is_accepted": false, "score": 0, "last_activity_date": 1489035680, "creation_date": 1489035680, "answer_id": 42687114, "question_id": 42683788, "link": "https://stackoverflow.com/questions/42683788/accessing-second-index-in-3-d-numpy-array/42687114#42687114", "title": "Accessing second index in 3-d numpy array", "body": "<p>If I didn't mistake your question, what you want is </p>\n\n<pre><code>trainSet[:,0,:]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4297134, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vCfKmWs-68E/AAAAAAAAAAI/AAAAAAAABqk/m8Ibhapf9jo/photo.jpg?sz=128", "display_name": "Dennis Dam", "link": "https://stackoverflow.com/users/4297134/dennis-dam"}, "is_accepted": false, "score": 0, "last_activity_date": 1489043924, "creation_date": 1489043924, "answer_id": 42689032, "question_id": 42683788, "link": "https://stackoverflow.com/questions/42683788/accessing-second-index-in-3-d-numpy-array/42689032#42689032", "title": "Accessing second index in 3-d numpy array", "body": "<p>the amount of values remains the same, you're just creating a 3D structure instead of the 2D structure.  </p>\n"}], "owner": {"reputation": 133, "user_id": 3860138, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/60c4a3ac72902e8f69081d5f76ba4dcc?s=128&d=identicon&r=PG&f=1", "display_name": "Pecans", "link": "https://stackoverflow.com/users/3860138/pecans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1489043924, "creation_date": 1489015116, "question_id": 42683788, "link": "https://stackoverflow.com/questions/42683788/accessing-second-index-in-3-d-numpy-array", "title": "Accessing second index in 3-d numpy array", "body": "<p>I have a 2-d numpy array that I convert into a 3-d array by using:</p>\n\n<pre><code>trainSet = numpy.reshape(trainSet, (trainSet.shape[0], 1, trainSet.shape[1]))\n</code></pre>\n\n<p>My problem is I'm trying to adjust values in the 1st axis (the new one). However, no matter what I try I can not actually figure out how to access the 1's in the new axis. I've tried a multitude of print statements such as </p>\n\n<pre><code>print(trainSet[0][0][0])\nprint(trainSet[1][0][1])\n</code></pre>\n\n<p>but no matter what I try I can not print out any 1's, just the contents of the 2-d array. I know it's a 3d array because when I use</p>\n\n<pre><code>print(trainSet.shape)\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>(12, 1, 793)\n</code></pre>\n\n<p>Any help would be immensely appreciated! </p>\n"}, {"tags": ["python", "html", "web-crawler"], "comments": [{"owner": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1489015104, "post_id": 42683764, "comment_id": 72491602, "body": "how does it look on a webpage?"}, {"owner": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "reply_to_user": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1489015652, "post_id": 42683764, "comment_id": 72491817, "body": "@Radical Fanatic please see my updated post"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489015493, "post_id": 42683810, "comment_id": 72491755, "body": "thanks for your reply. Unfortunately I don&#39;t have the page/URL. I only have the HTML code saved in a txt file on my HDD."}, {"owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "reply_to_user": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489015556, "post_id": 42683810, "comment_id": 72491779, "body": "Oh even easier. Just read the file in as a string and you can use the same steps."}, {"owner": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489016372, "post_id": 42683810, "comment_id": 72492061, "body": "Does this method also &quot;loops &quot; so it also crawls other firms data when it&#39;s done with the first html &quot;block&quot;?"}, {"owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "reply_to_user": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489016659, "post_id": 42683810, "comment_id": 72492162, "body": "Yes and no, the selector will grab all the html blocks that match that pattern. So if there are more than one it will grab them."}, {"owner": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489016844, "post_id": 42683810, "comment_id": 72492230, "body": "alright. So is there a way to crawl &quot;block by block&quot; so that the right data is allocated to the right company ? (Like my example in my post)"}, {"owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "reply_to_user": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 1, "creation_date": 1489017018, "post_id": 42683810, "comment_id": 72492303, "body": "Yes, selectors grab them in order. So array1 [0] will go with array2 [0]. Make sense?"}, {"owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "reply_to_user": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "edited": false, "score": 0, "creation_date": 1489021077, "post_id": 42683810, "comment_id": 72493526, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/137606/discussion-between-ajputnam-and-jaket888\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 836, "user_id": 4015401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/0kqjY.jpg?s=128&g=1", "display_name": "ajputnam", "link": "https://stackoverflow.com/users/4015401/ajputnam"}, "is_accepted": true, "score": 5, "last_activity_date": 1489016135, "last_edit_date": 1489016135, "creation_date": 1489015240, "answer_id": 42683810, "question_id": 42683764, "link": "https://stackoverflow.com/questions/42683764/how-to-extract-specific-data-from-a-html-page-with-python/42683810#42683810", "title": "How to extract specific data from a HTML page with python?", "body": "<p>First you will need to get the HTML from the page. you can use a library like requests to do this.</p>\n\n<pre><code>from lxml import html\nimport requests\n\npage = requests.get('url')\ntree = html.fromstring(page.content)\n</code></pre>\n\n<p>Then you can access things in the \"tree\" using selectors.</p>\n\n<pre><code>prices = tree.xpath('//span[@class=\"item-price\"]/text()')\n</code></pre>\n\n<p>or you could just parse the string normally.</p>\n\n<p>see: <a href=\"http://docs.python-guide.org/en/latest/scenarios/scrape/\" rel=\"noreferrer\">HTML scrapping</a></p>\n\n<p><strong>Reading from file</strong></p>\n\n<pre><code>from lxml import html\n\n# read html as string from file\nstr = open('file.html', 'r').read()\ntree = html.fromstring(str)\n\ncompany = tree.xpath('//div[@class=\"card-header\"]/strong/text()')\nprint company\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 7565297, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7f9b912df2fb51e1b414fc264d99d246?s=128&d=identicon&r=PG&f=1", "display_name": "jakeT888", "link": "https://stackoverflow.com/users/7565297/jaket888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "accepted_answer_id": 42683810, "answer_count": 1, "score": 2, "last_activity_date": 1489019677, "creation_date": 1489014973, "last_edit_date": 1489019677, "question_id": 42683764, "link": "https://stackoverflow.com/questions/42683764/how-to-extract-specific-data-from-a-html-page-with-python", "title": "How to extract specific data from a HTML page with python?", "body": "<p>I'm new to python and I have a HTML text file which I would like to scrape with python 2.7.</p>\n\n<p>The code below is just an example of one firm's info. In the full html text file the code structure is the same for all other firms as well and are positioned underneath each other (if the latter info helps).</p>\n\n<p>So basically, I want to extract certain information (like the firms name, location, phone number and <strong>website</strong>) in a chronological order so the data are allocated to the right organization, something like this:</p>\n\n<pre><code>Liberty Associates LLC | New York    | +1 973-344-8300 | www.liberty.edu\nCompany B              | Los Angeles | +1 213-802-1770 | perchla.com \n</code></pre>\n\n<p>I'm sorry if i'm not being concise enough but any suggestions on how to start the script and how it should look like would be very helpful!</p>\n\n<p>The code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;&lt;div class=\"tab_content-wrapper noPrint\"&gt;&lt;div class=\"tab_content_card\"&gt;\r\n            &lt;div class=\"card-header\"&gt;\r\n                &lt;strong title=\"\" d.=\"\" kon.=\"\" nl=\"\"&gt;\"Liberty Associates LLC\"&lt;/strong&gt;\r\n                &lt;span class=\"tel\" title=\"Phone contacts\"&gt;Phone contacts&lt;/span&gt;\r\n\t\t\t\r\n            &lt;/div&gt;\r\n            &lt;div class=\"card-content\"&gt;\r\n                \r\n\t\t\t\t\r\n                &lt;table&gt;\r\n                    &lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td colspan=\"4\"&gt;\r\n                                \r\n                                &lt;label class=\"downdrill-sbi\" title=\"Industry: Immigration\"&gt;Industry: Immigration&lt;/label&gt;\r\n                            &lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td width=\"20\"&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td width=\"245\"&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td width=\"50\"&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td width=\"80\"&gt;&amp;nbsp;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td colspan=\"2\"&gt;\r\n59 Wall St&lt;/td&gt;\r\n                            &lt;td&gt;&lt;/td&gt;\r\n                            &lt;td&gt;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td colspan=\"2\"&gt;NJ 07105&amp;nbsp;&amp;nbsp;\r\n                                \r\n                                &lt;label class=\"downdrill-sbi\" title=\"New York\"&gt;New York&lt;/label&gt;\r\n                            &lt;/td&gt;\r\n                            &lt;td&gt;&lt;/td&gt;\r\n                            &lt;td&gt;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                            &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;tr&gt;&lt;td&gt;Phone:&lt;/td&gt;&lt;td&gt;+1 973-344-8300&lt;/td&gt;&lt;td&gt;Firm Nr:&lt;/td&gt;&lt;td&gt;KL4568TL&lt;/td&gt;&lt;/tr&gt;\r\n                        &lt;tr&gt;&lt;td&gt;Fax:&lt;/td&gt;&lt;td&gt;+1 973-344-8300&lt;/td&gt;&lt;td colspan=\"2\"&gt;&lt;/td&gt;&lt;/tr&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td colspan=\"2\"&gt; &lt;a href=\"http://www.liberty.edu/\" target=\"_blank\"&gt;www.liberty.edu&lt;/a&gt; &lt;/td&gt;\r\n                            &lt;td&gt;Active:&lt;/td&gt;\r\n                            &lt;td&gt;Yes&lt;/td&gt;\r\n                        &lt;/tr&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n            \r\n\r\n        &lt;/div&gt;&lt;/div&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How it looks like on a webpage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vIITw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vIITw.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>So with the help of ajputnam i've got this now:</p>\n\n<pre><code>from lxml import html    \n\nstr = open('test_html.txt', 'r').read()\ntree = html.fromstring(str)\n\nname = tree.xpath(\"/html/body/div/div/div[1]/strong/text()\")\nplace = tree.xpath(\"/html/body/div/div/div[2]/table/tbody/tr[4]/td[1]/label/text()\")\nphone = tree.xpath(\"/html/body/div/div/div[2]/table/tbody/tr[6]/td[2]/text()\")\nurl = tree.xpath(\"/html/body/div/div/div[2]/table/tbody/tr[8]/td[1]/a/text()\")\n\nprint(name, place, phone, url)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>(['\"Liberty Associates LLC\"'], ['New York'], ['+1 973-344-8300'], ['www.liberty.edu'])\n</code></pre>\n\n<p>However, when i try this code on the whole html file (with more than one firms data) I get all matching variable are right behind each other. How can i properly use [0] to get the data structured like this?:</p>\n\n<pre><code>Liberty Associates LLC | New York    | +1 973-344-8300 | www.liberty.edu\nCompany B              | Los Angeles | +1 213-802-1770 | perchla.com \n</code></pre>\n"}, {"tags": ["python", "multiprocessing"], "owner": {"reputation": 1335, "user_id": 3008400, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ITkxm.jpg?s=128&g=1", "display_name": "Pavlos Panteliadis", "link": "https://stackoverflow.com/users/3008400/pavlos-panteliadis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1489014634, "creation_date": 1489014634, "question_id": 42683700, "link": "https://stackoverflow.com/questions/42683700/accessing-values-on-manager-dict-python", "title": "Accessing values on Manager.dict python", "body": "<p>The idea is that I have some very big dictionaries that will go through some loops and I want to use <code>Python's</code> <code>multiprocessing</code> in order to get this job done faster.</p>\n\n<p>I have defined 2 functions.</p>\n\n<pre><code>import sys, collections\nimport multiprocessing\nfrom timeit import itertools\n\ndef getReoccurences(g, dups, genes, synonyms):\n    #dups = collections.OrderedDict()\n        # check if our gene exists in the synonym dict\n    if g in synonyms:\n        dups[g] = []\n        for synonym in synonyms[g]:\n            if synonym in genes:\n                # got one reoccurence.\n                dups[g].append(synonym)\n                del genes[synonym]\n    #return dups\n\ndef cleanFromUnofficialName(g, replaced, dups, genes, synonyms):\n    for official_gene in synonyms:\n        list_of_synonyms = synonyms[official_gene]\n        if g in list_of_synonyms:\n            if g not in synonyms:\n                #We got a gene that is listed with the unofficial name.\n                replaced[official_gene] = g\n                #sys.stdout.write(\"\\t%s was listed with the unofficial name %s. Replaced\\n\" % (official_gene, g))\n                if g not in genes:\n                    sys.stdout.write(\"\\tDouble occurence: %s ignoring 2nd occurence.\\n\" %  g)\n                else:\n                    del genes[g]            # remove that gene from the list\n                genes[official_gene] = []   # put the official in it's place\n\n#main func\ndef clean(genes, synomyms)\n    # lists to join the processes later on...\n    #############################\n    getReoccuring_processes = []\n    cleanFromUnofficialName_processes = []\n    # http://stackoverflow.com/questions/6832554/python-multiprocessing-how-do-i-share-a-dict-among-multiple-processes\n    manager1 = multiprocessing.Manager()\n    dups = manager1.dict()\n\n    manager2 = multiprocessing.Manager()\n    replaced = manager2.dict()\n\n    for g in genes:\n        p1 = multiprocessing.Process(target=getReoccurences, args=(g, dups, genes, synomyms))\n        p1.start()\n        getReoccuring_processes.append(p1)\n\n    for g in genes:\n        p2 = multiprocessing.Process(target=cleanFromUnofficialName_processes, args=(g, replaced, dups, genes, synomyms))\n        p2.start()\n        cleanFromUnofficialName_processes.append(p2)\n\n\n    #join the processes\n    for p1, p2 in itertools.izip(getReoccuring_processes, cleanFromUnofficialName_processes):\n        p1.join()\n        p2.join()\n</code></pre>\n\n<p>but when I do </p>\n\n<pre><code>for dup in dups:\n        print dup\n</code></pre>\n\n<p>I get <code>TypeError: 'list' object is not callable</code></p>\n\n<p>Question is: How can I edit this dictionaries with multiprocessing and still be able to print their values? </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1489015521, "post_id": 42683697, "comment_id": 72491762, "body": "Hm, I cannot reproduce this. What version of pandas are you on?"}, {"owner": {"reputation": 249, "user_id": 1362061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f6ad34107b82ba77658822e6516ad91?s=128&d=identicon&r=PG", "display_name": "0mm3", "link": "https://stackoverflow.com/users/1362061/0mm3"}, "reply_to_user": {"reputation": 142796, "user_id": 42346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZikEw.jpg?s=128&g=1", "display_name": "mechanical_meat", "link": "https://stackoverflow.com/users/42346/mechanical-meat"}, "edited": false, "score": 0, "creation_date": 1489016008, "post_id": 42683697, "comment_id": 72491935, "body": "Pandas version: 0.19.2, I&#39;m using the Rodeo IDE which is a bit like RStudio but for Python if that makes a difference?"}, {"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "edited": false, "score": 0, "creation_date": 1489024566, "post_id": 42683697, "comment_id": 72494367, "body": "What exactly would you like the final plot to look like? It seems like the final plot should be a frequency histogram with two bins, male and female? The reason I ask is because I&#39;m wondering why you need to convert the series to a data frame in the first place."}], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 3992280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc1e71cb7f91c9807478dec2205b66d?s=128&d=identicon&r=PG&f=1", "display_name": "swebbo", "link": "https://stackoverflow.com/users/3992280/swebbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1489045367, "last_edit_date": 1489045367, "creation_date": 1489045017, "answer_id": 42689343, "question_id": 42683697, "link": "https://stackoverflow.com/questions/42683697/missing-first-column-when-converting-value-count-series-to-data-frame-in-pandas/42689343#42689343", "title": "Missing first column when converting value_count series to data frame in pandas", "body": "<p>I would suggest the following:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({\"gender\": [\"male\", \"female\", \"male\", \"male\", \"female\"]})\ndf = df[\"gender\"].value_counts().reset_index()\ndf\n</code></pre>\n\n<p>This returns:</p>\n\n<pre><code>    index   gender\n0   male    3\n1   female  2\n</code></pre>\n\n<p>Afterwards you can clean up by redefining the column names:</p>\n\n<pre><code>df.columns = [\"gender\", \"counts\"]\ndf\n</code></pre>\n\n<p>With the result:</p>\n\n<pre><code>    gender  counts\n0   male    3\n1   female  2\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 1362061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f6ad34107b82ba77658822e6516ad91?s=128&d=identicon&r=PG", "display_name": "0mm3", "link": "https://stackoverflow.com/users/1362061/0mm3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 42689343, "answer_count": 1, "score": 0, "last_activity_date": 1489045367, "creation_date": 1489014619, "last_edit_date": 1489014937, "question_id": 42683697, "link": "https://stackoverflow.com/questions/42683697/missing-first-column-when-converting-value-count-series-to-data-frame-in-pandas", "title": "Missing first column when converting value_count series to data frame in pandas", "body": "<p>I am new to Python and programming in general. I have some experience with R and finding pandas a little difficult.</p>\n\n<p>I am trying to conduct a frequency count and then return this as a DataFrame object.</p>\n\n<p><code>df = pd.read_csv('gender_data.csv')</code> </p>\n\n<p><code>x = df['Gender'].value_counts()</code></p>\n\n<p>This  returns the following series object:</p>\n\n<pre><code>       Gender\nMale    200\nFemale  100\n</code></pre>\n\n<p>I want to convert this into a DataFrame object so I can plot and specify the axes information. This is where I am having a problem because .to_frame() cuts off the category label from the series.</p>\n\n<pre><code>x.to_frame()\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>Gender\n200\n100\n</code></pre>\n\n<p>Is there a way to convert the series into a DataFrame and keep the category column? In R I think I could achieve this by using as.data.frame(x)</p>\n"}, {"tags": ["python", "html", "google-chrome", "selenium", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489021003, "post_id": 42684626, "comment_id": 72493510, "body": "Also, is there anyway to open new tab under the same chrome page? like the &quot;Control + T&quot; command and then do some similar operations on the new tab?"}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489021545, "post_id": 42684626, "comment_id": 72493640, "body": "@EdisonHua what browser are you using? EDIT: nevermind... your tags say chrome. gimme a second"}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489022108, "post_id": 42684626, "comment_id": 72493762, "body": "to open a new tab in chrome, the only way i was able to get it to work is by using <code>driver.execute_script(&#39;window.open(&quot;about:blank&quot;, &quot;_blank&quot;);&#39;)</code> but then you have to change your focus to that <code>window_handle</code> by using <code>driver.switch_to_window(driver.window_handles[-1])</code>"}, {"owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489023073, "post_id": 42684626, "comment_id": 72493998, "body": "By window.open, if I wanna open <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a>, what should I do? I tried driver.execute_script(&#39;window.open(&quot;<a href=\"http://www.google.com&quot;);&#39;\" rel=\"nofollow noreferrer\">google.com&quot;);&#39;</a>) but failed :("}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489023248, "post_id": 42684626, "comment_id": 72494037, "body": "@EdisonHua include the full url, including http://.... <code>driver.execute_script(&#39;window.open(&quot;http:&#47;&#47;www.google.com&quot;, &quot;_blank&quot;);&#39;)</code>"}, {"owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489024131, "post_id": 42684626, "comment_id": 72494247, "body": "Awesome! Thanks so much! @crookedleaf"}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489024295, "post_id": 42684626, "comment_id": 72494285, "body": "@EdisonHua no problem. one thing i noticed though while looking at the other questions you ask is that you don&#39;t mark questions as answered. it&#39;s always good to mark the checkbox on answers provided to your questions because it helps other users of the community find answers to questions they have that are the same or similiar."}, {"owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489028012, "post_id": 42684626, "comment_id": 72495292, "body": "Got it will do!"}, {"owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489028083, "post_id": 42684626, "comment_id": 72495315, "body": "I have on last question that how do I escape the &quot;&quot; in the execute_script? So if I have a variable : website = &quot;<a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">google.com</a>&quot; and i wanna do : driver.execute_script(&#39;window.open(website, &quot;_blank&quot;);&#39;), how do i achieve it ?"}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "edited": false, "score": 0, "creation_date": 1489047555, "post_id": 42684626, "comment_id": 72502817, "body": "@EdisonHua if you&#39;re url is declared as <code>website</code>, you can pass it through using string formatting. for example: <code>driver.execute_script(&#39;window.open(&quot;%s&quot;, &quot;_blank&quot;);&#39; % website)</code>"}], "tags": [], "owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1489021526, "last_edit_date": 1489021526, "creation_date": 1489020024, "answer_id": 42684626, "question_id": 42683692, "link": "https://stackoverflow.com/questions/42683692/python-selenium-keep-refreshing-until-item-found-chromedriver/42684626#42684626", "title": "python selenium keep refreshing until item found (Chromedriver)", "body": "<p>Using <code>find_element_...</code> will raise a <code>NoSuchElementExeception</code> if it can't find the element. Since I don't know what site you are running this against, i don't know what the best practice would be. However, if it's simply refreshing the page to check for the element, you could try the following:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.common.exceptions import NoSuchElementException\n\ndriver.Firefox()  # or whatever webdriver you're using\ndriver.get(url that you are going to)\nwhile True:\n    try:\n        driver.find_element_by_partial_link_text(\"Schott\"):\n    except NoSuchElementException:\n        driver.refresh\n    else:\n        driver.find_element_by_partial_link_text(\"Schott\").click()\n        break\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5666290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/521598468007513/picture?type=large", "display_name": "Edison Hua", "link": "https://stackoverflow.com/users/5666290/edison-hua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2995, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1489021526, "creation_date": 1489014596, "question_id": 42683692, "link": "https://stackoverflow.com/questions/42683692/python-selenium-keep-refreshing-until-item-found-chromedriver", "title": "python selenium keep refreshing until item found (Chromedriver)", "body": "<p>I am trying to achieve the feature of a Python script using selenium to keep refreshing the current chromepage until, for example, the certain item that makes <code>driver.find_element_by_partial_link_text(\"Schott\")</code> is found. </p>\n\n<p>I was thinking about this:</p>\n\n<pre><code>while not driver.find_element_by_partial_link_text(\"Schott\"):\n    driver.refresh\ndriver.find_element_by_partial_link_text(\"Schott\").click()\n</code></pre>\n\n<p>However, it seems like the function <code>driver.find_element_by_partial_link_text(\"Schott\")</code> is not the way to match the need. Is there other way I can achieve this please?</p>\n\n<p>BTW, currently I am using driver.get(url) to open the webpage but I am wondering how do i run the script on existing webpage that I already open?</p>\n"}, {"tags": ["python", "numpy", "regression", "pickle"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1489019853, "post_id": 42683690, "comment_id": 72493161, "body": "<code>M[i][0]</code> notation suggests you need to review, and practice, basic operations with numpy arrays. In an interpreter, make a small array, and practice different ways of indexing and setting values, rows and columns.  <code>M</code> as you create it stores 2 columns of numbers, not columns of arrays."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1489020415, "post_id": 42683690, "comment_id": 72493334, "body": "Show us, one smaller scale, the kind of <code>M</code> array that you want to create."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1489027028, "creation_date": 1489027028, "answer_id": 42685665, "question_id": 42683690, "link": "https://stackoverflow.com/questions/42683690/how-to-save-the-output-matrices-in-a-for-loop-in-the-same-file-in-python-and-the/42685665#42685665", "title": "How to save the output matrices in a for loop in the same file in python and then use ridge regression", "body": "<p>It looks like you are trying to create a list like this:</p>\n\n<pre><code>In [140]: M=[]\nIn [141]: for i in range(5):\n     ...:     X = np.arange(i,i+4)\n     ...:     Y = [0,1,1]\n     ...:     M.append([X,Y])\n     ...:     \nIn [142]: M\nOut[142]: \n[[array([0, 1, 2, 3]), [0, 1, 1]],\n [array([1, 2, 3, 4]), [0, 1, 1]],\n [array([2, 3, 4, 5]), [0, 1, 1]],\n [array([3, 4, 5, 6]), [0, 1, 1]],\n [array([4, 5, 6, 7]), [0, 1, 1]]]\n</code></pre>\n\n<p>Which could be turned into a 2d object array:</p>\n\n<pre><code>In [143]: Ma=np.array(M, object)\nIn [144]: Ma\nOut[144]: \narray([[array([0, 1, 2, 3]), [0, 1, 1]],\n       [array([1, 2, 3, 4]), [0, 1, 1]],\n       [array([2, 3, 4, 5]), [0, 1, 1]],\n       [array([3, 4, 5, 6]), [0, 1, 1]],\n       [array([4, 5, 6, 7]), [0, 1, 1]]], dtype=object)\nIn [145]: Ma.shape\nOut[145]: (5, 2)\nIn [146]: Ma[:,0]\nOut[146]: \narray([array([0, 1, 2, 3]), array([1, 2, 3, 4]), array([2, 3, 4, 5]),\n       array([3, 4, 5, 6]), array([4, 5, 6, 7])], dtype=object)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7681136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b281adec4fa916acc174077dc687ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjukta Krishnagopal", "link": "https://stackoverflow.com/users/7681136/sanjukta-krishnagopal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1327, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489027028, "creation_date": 1489014591, "question_id": 42683690, "link": "https://stackoverflow.com/questions/42683690/how-to-save-the-output-matrices-in-a-for-loop-in-the-same-file-in-python-and-the", "title": "How to save the output matrices in a for loop in the same file in python and then use ridge regression", "body": "<p>I basically have a for loop whose output at every iteration is a 1000 dimensional array along with a vector identifier (one of [001], [010], or [100]). I want to store the array along with the corresponding vector identifier for every iteration in a file such that when I load the file, the first column is the arrays and the second column are the identifiers.</p>\n\n<p>I tried storing it in a matrix (say M): and to say:</p>\n\n<pre><code>M=np.zeros((1000,2))\nfor i in range(1000):\n    some operation that outputs 1x100 array X and 1x3 identifier Y\n    M[i][0]=X\n    M[i][1]=Y\nnp.save('output.txt', M)\n</code></pre>\n\n<p>something like this...</p>\n\n<p>I see why the allocation doesn't work. Pickling it also returns an error. Any idea how this would get stored?</p>\n\n<p>I then want to use ridge regression to find ONE matrix Wout of size 100x3 such that it best matches X.Wout=Y optimized over all 1000 data sets. Any idea how to do this?</p>\n"}, {"tags": ["python", "xlrd"], "answers": [{"tags": [], "owner": {"reputation": 1375, "user_id": 7173909, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-XbyQi0nbPtI/AAAAAAAAAAI/AAAAAAAAARw/JFwnDDfWNt0/photo.jpg?sz=128", "display_name": "bob marti", "link": "https://stackoverflow.com/users/7173909/bob-marti"}, "is_accepted": false, "score": -1, "last_activity_date": 1489576996, "creation_date": 1489576996, "answer_id": 42808369, "question_id": 42683632, "link": "https://stackoverflow.com/questions/42683632/python-xlrd-module-skipping-first-few-rows-and-reading-columns-with-error23/42808369#42808369", "title": "Python XLRD Module skipping first few rows and reading columns with error:23", "body": "<p>To large files to use pandas.\nYou can use pandas' <code>ExcelFile</code> <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.parsers.ExcelFile.parse.html\" rel=\"nofollow noreferrer\">parse</a> method to read Excel sheets, see io docs:</p>\n\n<pre><code>xls = pd.ExcelFile('C:\\Users\\cb\\Machine_Learning\\cMap_Joins.xlsm')\n\ndf = xls.parse('Sheet1', skiprows=4, index_col=None, na_values=['NA'])\n</code></pre>\n\n<p>skiprows will ignore the first 4 rows (i.e. start at row 5), and several <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.parsers.ExcelFile.parse.html\" rel=\"nofollow noreferrer\">other options</a>.</p>\n"}], "owner": {"reputation": 31, "user_id": 7681097, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IlDsiEnc8tw/AAAAAAAAAAI/AAAAAAAAHbE/JpUBFxM8gS4/photo.jpg?sz=128", "display_name": "Anil Villamkandathil", "link": "https://stackoverflow.com/users/7681097/anil-villamkandathil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1179, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1489576996, "creation_date": 1489014297, "last_edit_date": 1489014768, "question_id": 42683632, "link": "https://stackoverflow.com/questions/42683632/python-xlrd-module-skipping-first-few-rows-and-reading-columns-with-error23", "title": "Python XLRD Module skipping first few rows and reading columns with error:23", "body": "<p>I am using the following code to open a spread sheet.</p>\n\n<pre><code>in_book = xlrd.open_workbook(TPS_XLS_File)\nin_sheet = in_book.sheet_by_index(0)\n</code></pre>\n\n<p>when I  try to access the rows in the sheet, the read starts from the 25 the row skipping first 23 rows from spreadsheet.<br>\nThe <code>command in_sheet.row(1)</code> is actually returning the values in the 25 row.The data read from the 25 column is also incorrect with a error message error:23. </p>\n\n<p>It reads the cell values as follows</p>\n\n<pre><code>print(in_sheet.col(2))\n[empty:'', empty:'', text:'Table/File', error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23, error:23\n</code></pre>\n\n<p>Please note: The Value \"text:'Table/File'\"  represent the cell B27 in the spreadsheet, meaning the read is starting from B25.</p>\n\n<p>I have used the same code to load over 1000 files, which all worked except for a hand full of files which seem to fail with this error.</p>\n\n<p>Any help information or suggestion is greatly appreciated.</p>\n\n<p>Thanks\nAnil</p>\n"}, {"tags": ["python", "linux", "python-3.x", "directory-structure"], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "is_accepted": false, "score": 1, "last_activity_date": 1489015703, "last_edit_date": 1492086990, "creation_date": 1489015703, "answer_id": 42683892, "question_id": 42683602, "link": "https://stackoverflow.com/questions/42683602/python-application-directory-choices/42683892#42683892", "title": "Python application directory choices", "body": "<p>You'd be better off putting your entire application into /opt. See here: <a href=\"http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/Linux-Filesystem-Hierarchy.html#opt\" rel=\"nofollow noreferrer\">http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/Linux-Filesystem-Hierarchy.html#opt</a></p>\n\n<p>Then put a soft link to the executable into /usr/local/bin. see here: <a href=\"https://unix.stackexchange.com/a/8658/219043\">https://unix.stackexchange.com/a/8658/219043</a></p>\n\n<p>I wouldn't worry about the rest.</p>\n"}, {"tags": [], "owner": {"reputation": 3843, "user_id": 441212, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/569d2608bc2929bec45e4ec87e64a5dc?s=128&d=identicon&r=PG", "display_name": "Julien", "link": "https://stackoverflow.com/users/441212/julien"}, "is_accepted": false, "score": 1, "last_activity_date": 1489019144, "last_edit_date": 1495542339, "creation_date": 1489016784, "answer_id": 42684117, "question_id": 42683602, "link": "https://stackoverflow.com/questions/42683602/python-application-directory-choices/42684117#42684117", "title": "Python application directory choices", "body": "<p>Your application should not live in the <code>/usr/</code> directory. If you want to package your application into a distribution, please refer to these guides:</p>\n\n<p><a href=\"https://packaging.python.org/distributing/\" rel=\"nofollow noreferrer\">Packaging and Distributing Projects</a></p>\n\n<p><a href=\"https://www.digitalocean.com/community/tutorials/how-to-package-and-distribute-python-applications\" rel=\"nofollow noreferrer\">How To Package And Distribute Python Applications</a></p>\n\n<p>You can for sure write to unix directories within your application when appropriate, but keep in mind there are mechanisms built into <code>setup.py</code> that help with the installation side of this (<a href=\"https://stackoverflow.com/questions/24611691/setup-py-symlink-a-module-to-usr-bin-after-installation\">for example</a>).</p>\n\n<p>If this is something private, I'd suggest making this a private repository on GitHub and have your colleagues <a href=\"https://stackoverflow.com/questions/8247605/configuring-so-that-pip-install-can-work-from-github\">install it through <code>pip</code></a>.</p>\n"}], "owner": {"reputation": 3562, "user_id": 2272450, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qFuaM.jpg?s=128&g=1", "display_name": "Atomiklan", "link": "https://stackoverflow.com/users/2272450/atomiklan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1489019144, "creation_date": 1489014165, "last_edit_date": 1489014633, "question_id": 42683602, "link": "https://stackoverflow.com/questions/42683602/python-application-directory-choices", "title": "Python application directory choices", "body": "<p>I am writing a new Python application that I intend to distribute to several colleagues. Instead of my normal carefree attitude of just having everything self contained and run inside a folder in my home directory, this time I would like to broaden my horizon and actually try to utilize the Linux directory structure as it was intended (at least somewhat). Can you please read my breakdown below and comment and or make recommendations if this is not correct.</p>\n\n<p>Lets call the application \"narf\"</p>\n\n<pre><code>/usr/narf - Install location for the actual python file(s).    \n/usr/bin/narf - Either a softlink to the main python file above or use this location instead.    \n/etc/narf - Any configuration files for app narf.    \n/var/log/narf - Any log files for app narf.    \n/usr/lib - Any required libraries for app narf.    \n/run/narf - Any persistent (across reboot), but still temp files for app narf.    \n/tmp/narf - Very temp files for app narf that go away with reboot\n</code></pre>\n\n<p>I assume I should stick to using /usr/X (for example /usr/bin instead of just /bin) since my application is not system critical and a mere addon.</p>\n\n<p>I currently use Ubuntu 16 LTS, however part of this is intended as a way to try to standardize my app for any popular Linux distro.</p>\n\n<p>Thanks for the help.</p>\n\n<p><strong>* UPDATE *</strong></p>\n\n<p>I think I see the answer to at least part of my question. Looking in /usr, I now see that it is a pretty barebones directory and almost akin to user level root directory (ie has bin, lib, local, sbin, etc. but thats pretty much all). This leads me to believe my application should absolutely NOT live in /usr, and ONLY in /usr/bin.</p>\n"}, {"tags": ["python", "grep", "subprocess", "iperf"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1489014172, "post_id": 42683575, "comment_id": 72491257, "body": "Piping from one command to another is a shell feature, so you <i>must</i> specify <code>shell=True</code> on the subprocess method you use. But why not just iterate over the output in Python and forego the unnecessary <code>grep</code>?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1489014395, "post_id": 42683575, "comment_id": 72491323, "body": "What didn&#39;t work? How didn&#39;t it work?"}, {"owner": {"reputation": 41, "user_id": 7435939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhzOx.jpg?s=128&g=1", "display_name": "Amigo", "link": "https://stackoverflow.com/users/7435939/amigo"}, "edited": false, "score": 0, "creation_date": 1489014648, "post_id": 42683575, "comment_id": 72491424, "body": "bes = subprocess.Popen([&quot;iperf&quot;, &quot;-c&quot;, 10.0.1.1 | &quot;grep&quot;,&quot;-Po&quot;, [0-9.]*(?= Mbits/sec)&#39;], shell=True, stdout=subprocess.PIPE).communicate()[0]"}, {"owner": {"reputation": 41, "user_id": 7435939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhzOx.jpg?s=128&g=1", "display_name": "Amigo", "link": "https://stackoverflow.com/users/7435939/amigo"}, "edited": false, "score": 0, "creation_date": 1489014687, "post_id": 42683575, "comment_id": 72491445, "body": "This is how I am using it. Its not working"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7435939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhzOx.jpg?s=128&g=1", "display_name": "Amigo", "link": "https://stackoverflow.com/users/7435939/amigo"}, "is_accepted": true, "score": 0, "last_activity_date": 1579167292, "last_edit_date": 1579167292, "creation_date": 1489070102, "answer_id": 42698044, "question_id": 42683575, "link": "https://stackoverflow.com/questions/42683575/how-can-i-use-iperf-and-grep-both-in-a-python-script/42698044#42698044", "title": "How can I use iperf and grep both in a python script?", "body": "<p>So I have resolved the problem. The idea is to use both the commands with different sub-processes. First create the process for <code>iperf</code> and input the out of this process to the <code>stdin</code> of the second process of the <code>grep</code> command as below:</p>\n\n<pre><code>process1 = subprocess.Popen([\"iperf\",\"-c\", 10.10.0.1],  stdout=subprocess.PIPE)\n\nprrocess2 = subprocess.Popen([\"grep\", \"-Po\",[0-9.]*(?= Mbits/sec)], stdin=process1.stdout, stdout=subprocess.PIPE).communicate()[0] \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7435939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhzOx.jpg?s=128&g=1", "display_name": "Amigo", "link": "https://stackoverflow.com/users/7435939/amigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 42698044, "answer_count": 1, "score": 0, "last_activity_date": 1579167292, "creation_date": 1489014012, "question_id": 42683575, "link": "https://stackoverflow.com/questions/42683575/how-can-i-use-iperf-and-grep-both-in-a-python-script", "title": "How can I use iperf and grep both in a python script?", "body": "<p>I tried many methods described but its not working with me. Can anybody please explain how can I use this in a single python script using the subprocess?</p>\n\n<p>iperf -c 10.0.0.1 -i 1 -t 100 | grep -Po '[0-9.]*(?= Mbits/sec)'</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 2251, "user_id": 5111904, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6d35bba90adf4449ce2623e9539bf715?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Herrmann", "link": "https://stackoverflow.com/users/5111904/matthias-herrmann"}, "edited": false, "score": 0, "creation_date": 1489014007, "post_id": 42683552, "comment_id": 72491199, "body": "Try only toggleLight not toggleLight(lightID) this is already calling the method when create the button"}, {"owner": {"reputation": 10711, "user_id": 3760661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/pHB7D.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3760661/nick"}, "reply_to_user": {"reputation": 2251, "user_id": 5111904, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6d35bba90adf4449ce2623e9539bf715?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Herrmann", "link": "https://stackoverflow.com/users/5111904/matthias-herrmann"}, "edited": false, "score": 0, "creation_date": 1489014125, "post_id": 42683552, "comment_id": 72491241, "body": "if i do that, it run on click but then i get this error: TypeError: toggleLight() takes exactly 1 argument (0 given)"}, {"owner": {"reputation": 2251, "user_id": 5111904, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6d35bba90adf4449ce2623e9539bf715?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Herrmann", "link": "https://stackoverflow.com/users/5111904/matthias-herrmann"}, "edited": false, "score": 0, "creation_date": 1489014280, "post_id": 42683552, "comment_id": 72491290, "body": "Yes you need to change the method definition to take only 0 parameters - you can still get your id by saving it in global context and then get it in the method itself - you need to assign a reference to the method - not a call of a method"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 2752305, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1652120747/picture?type=large", "display_name": "pekapa", "link": "https://stackoverflow.com/users/2752305/pekapa"}, "edited": false, "score": 0, "creation_date": 1489014356, "post_id": 42683616, "comment_id": 72491311, "body": "another option is to wrap <code>toggleLight</code> itself, in a function factory"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1489016903, "post_id": 42683616, "comment_id": 72492252, "body": "You can also use <a href=\"https://docs.python.org/2/library/functools.html#functools.partial\" rel=\"nofollow noreferrer\"><b><code>functools.partial</code></b></a>, e.g. <code>dashbuttons.register(dashMac, partial(toggleLight, lightID))</code>"}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 6, "last_activity_date": 1489014204, "creation_date": 1489014204, "answer_id": 42683616, "question_id": 42683552, "link": "https://stackoverflow.com/questions/42683552/python-execute-function-on-button-press/42683616#42683616", "title": "python - execute function on button press", "body": "<p>With this line</p>\n\n<pre><code>dashbuttons.register(dashMac, toggleLight(lightID))\n</code></pre>\n\n<p>you execute <code>toggleLight(lightID)</code> and bind the result of that call to the <code>function</code> parameter. Since the function takes a parameter, you can not just pass <code>toggleLight</code>, either. Instead, use a lambda function:</p>\n\n<pre><code>dashbuttons.register(dashMac, lambda: toggleLight(lightID))\n</code></pre>\n\n<p>This creates a new anonymous function that takes no parameters and that will call <code>toggleLight(lightID)</code> when invoked by the button.</p>\n"}, {"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1489014282, "post_id": 42683625, "comment_id": 72491293, "body": "But <code>toggleLight</code> will expect a parameter when it <i>is</i> eventually called."}, {"owner": {"reputation": 286, "user_id": 6514401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3FFXB.jpg?s=128&g=1", "display_name": "SMFSW", "link": "https://stackoverflow.com/users/6514401/smfsw"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1489015297, "post_id": 42683625, "comment_id": 72491683, "body": "yep, this is true. I was more trying to help understand the issue than giving a solution... I didn&#39;t thought about lambda (from @tobias_k&#39;s answer) when I saw the code; once again, lambdas can be damn impressive!"}], "tags": [], "owner": {"reputation": 286, "user_id": 6514401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3FFXB.jpg?s=128&g=1", "display_name": "SMFSW", "link": "https://stackoverflow.com/users/6514401/smfsw"}, "is_accepted": false, "score": 0, "last_activity_date": 1489014248, "creation_date": 1489014248, "answer_id": 42683625, "question_id": 42683552, "link": "https://stackoverflow.com/questions/42683552/python-execute-function-on-button-press/42683625#42683625", "title": "python - execute function on button press", "body": "<p>I may be wrong, as I review your code quickly, but when registering, you shall not put () after the function, otherwise it's executed as the interpreter comes across it.</p>\n\n<pre><code>dashbuttons.register(dashMac, do_something)\ndashbuttons.register(dashMac, toggleLight)\n</code></pre>\n"}], "owner": {"reputation": 10711, "user_id": 3760661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/pHB7D.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3760661/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "accepted_answer_id": 42683616, "answer_count": 2, "score": 3, "last_activity_date": 1489014248, "creation_date": 1489013869, "question_id": 42683552, "link": "https://stackoverflow.com/questions/42683552/python-execute-function-on-button-press", "title": "python - execute function on button press", "body": "<p>First thing first, this is the first time ever i work and use python, so please be patient :)</p>\n\n<p>I'm trying to hack a dash button from amazon to toggle my philips hue light, and i manage to find all the required elements and code and edit it to suit my needs.</p>\n\n<p>The problem i've got now, is that if i run the script, the function in python that i'd like to run execute instantly and doesn't wait to the button to be pressed...</p>\n\n<p>here's some code:                                              </p>\n\n<pre><code>from pydhcplib.dhcp_network\nimport *\nimport requests, json\n\nbridgeIP = \"{{mybridgeIP}}\"\nuser = \"{{philipsUserID}}\"\ndashMac = \"{{dashMacAddress}}\"\nlightID = \"4\"\n\ndef do_something():\n    print(\"button has been pressed\")\n\ndef toggleLight(lightID):\n    url = \"http://\" + bridgeIP + \"/api/\" + user + \"/lights/\" + lightID\n    r = requests.get(url)\n    data = json.loads(r.text)\n    if data[\"state\"][\"on\"] == False:\n      r = requests.put(url + \"/state\", json.dumps({\n        'on': True\n      }))\n    elif data[\"state\"][\"on\"] == True:\n      r = requests.put(url + \"/state\", json.dumps({\n        'on': False\n        }))\n\n\nnetopt = {'client_listen_port':\"68\", 'server_listen_port':\"67\", 'listen_address':\"0.0.0.0\"}\n\nclass Server(DhcpServer):\n    def __init__(self, options, dashbuttons):\n        DhcpServer.__init__(self, options[\"listen_address\"],\n                                options[\"client_listen_port\"],\n                                options[\"server_listen_port\"])\n        self.dashbuttons = dashbuttons\n\n    def HandleDhcpRequest(self, packet):\n        mac = self.hwaddr_to_str(packet.GetHardwareAddress())\n        self.dashbuttons.press(mac)\n\n\n    def hwaddr_to_str(self, hwaddr):\n        result = []\n        hexsym = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f']\n        for iterator in range(6) :\n            result += [str(hexsym[hwaddr[iterator]/16]+hexsym[hwaddr[iterator]%16])]\n        return ':'.join(result)\n\nclass DashButtons():\n    def __init__(self):\n        self.buttons = {}\n\n    def register(self, mac, function):\n        self.buttons[mac] = function\n\n    def press(self, mac):\n        if mac in self.buttons:\n            self.buttons[mac]()\n            return True\n        return False\n\n\ndashbuttons = DashButtons()\ndashbuttons.register(dashMac, do_something)\ndashbuttons.register(dashMac, toggleLight(lightID))\nserver = Server(netopt, dashbuttons)\n\nwhile True :\n    server.GetNextDhcpPacket()\n</code></pre>\n\n<p>My problem is that <code>do_something()</code> is called properly (when i press the button) but <code>toggleLight(lightID)</code> is called as soon as i run the script..</p>\n\n<p>i don't understand why, they look identical to me..</p>\n\n<p>can you help me understand? thanks</p>\n"}, {"tags": ["python", "python-2.7", "pip", "virtualenv"], "comments": [{"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "edited": false, "score": 1, "creation_date": 1489025350, "post_id": 42683518, "comment_id": 72494568, "body": "I&#39;m not sure if on creation of a virtualenv, it activates the virtualenv at the same time. If not, make sure to run <code>source env&#47;bin&#47;activate</code> before doing anything, as this will change your $PATH. Then you can call <code>pip</code> without the preceding <code>env&#47;bin</code>. Although I suspect this won&#39;t solve your issue... just a thought."}, {"owner": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "reply_to_user": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "edited": false, "score": 0, "creation_date": 1489053319, "post_id": 42683518, "comment_id": 72506567, "body": "This did not change the result."}], "answers": [{"comments": [{"owner": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "edited": false, "score": 0, "creation_date": 1489144776, "post_id": 42712569, "comment_id": 72554201, "body": "You&#39;re right! The directory of <code>ctypes</code> is not in <code>sys.path</code>.  My <code>sys.path</code> contains <code>&#47;system&#47;software&#47;linux-x86_64&#47;lib&#47;python2.7&#47;site-packages</code> and <code>&#47;system&#47;software&#47;linux-x86_64&#47;python&#47;2.7.8&#47;lib&#47;python2.7</code> but <code>ctypes</code> is located at <code>&#47;system&#47;software&#47;linux-x86_64&#47;python&#47;2.7.8&#47;lib&#47;python2.7&#47;sit&zwnj;&#8203;e-packages&#47;ctypes&#47;</code>. What determines <code>sys.path</code> in a <code>virtualenv</code>?  I have found that pip does seem to work in the virtual environment if I create it with <code>--system-site-packages</code>. Will this have any undesired effects?"}, {"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "reply_to_user": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "edited": false, "score": 0, "creation_date": 1489165094, "post_id": 42712569, "comment_id": 72567267, "body": "@pterojacktyl Interesting. <code>ctypes</code> is part of the python standard library and <code>...&#47;site-packages</code> is usually for third-party software. So I don&#39;t know why <code>ctypes</code> is in <code>...&#47;site-packages</code>. Adding the <code>--system-site-packages</code> option on creation of the <code>virtualenv</code> will simply include any third-party modules your system python uses. I would not expect this to cause any issues and would suggest you use that for the time being. The question of how <code>sys.path</code> is determined by <code>virtualenv</code> is an interesting one I&#39;ll have to look into at some point."}, {"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "reply_to_user": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "edited": false, "score": 0, "creation_date": 1489165184, "post_id": 42712569, "comment_id": 72567339, "body": "@pterojacktyl But <code>virtualenv</code>s behaviour of not including the <code>..&#47;site-packages</code> directory by default is expected. What&#39;s weird here is that <code>ctypes</code> is in that directory in the first place."}, {"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "reply_to_user": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "edited": false, "score": 0, "creation_date": 1489186463, "post_id": 42712569, "comment_id": 72577699, "body": "@pterojacktyl You&#39;re welcome! Glad we both learned something."}], "tags": [], "owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "is_accepted": false, "score": 1, "last_activity_date": 1489175029, "last_edit_date": 1489175029, "creation_date": 1489130543, "answer_id": 42712569, "question_id": 42683518, "link": "https://stackoverflow.com/questions/42683518/pip-in-virtualenv-cannot-find-ctypes/42712569#42712569", "title": "pip in virtualenv cannot find ctypes", "body": "<p>Finally found some time to look into this. So since I can't reproduce this issue on my system (Ubuntu 16.10), I tried to simulate the problem to see what happens. But, here's one step you can take to debug this.</p>\n\n<h2>Background</h2>\n\n<ol>\n<li><code>virtualenv</code> uses the your system's python, thus, since you have the <code>ctypes</code> module in your system python, you should be able to find it in your <code>virtualenv</code> python.</li>\n<li>On Ubuntu 16.10, the <code>ctypes</code> module of the system python2.7 is located in <code>/usr/lib/python2.7</code>. Not sure where this is for CentOS - you need to figure that out.</li>\n</ol>\n\n<h1>Debugging</h1>\n\n<h2>Check <code>sys.path</code></h2>\n\n<p>Launch your <code>virtualenv</code> python.</p>\n\n<pre><code>filip$ source testenv/bin/activate\n(testenv) filip$ python\nPython 2.7.12+ (default, Sep 17 2016, 12:08:02) \n[GCC 6.2.0 20160914] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</code></pre>\n\n<p>Print out the <code>sys.path</code> variable (if you can actually import <code>sys</code> in the first place)</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; from pprint import pprint as p\n&gt;&gt;&gt; p(sys.path)\n['',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7/plat-x86_64-linux-gnu',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7/lib-tk',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7/lib-old',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7/lib-dynload',\n '/usr/lib/python2.7',\n '/usr/lib/python2.7/plat-x86_64-linux-gnu',\n '/usr/lib/python2.7/lib-tk',\n '/home/filip/virEnvTestDir/testenv/local/lib/python2.7/site-packages',\n '/home/filip/virEnvTestDir/testenv/lib/python2.7/site-packages']\n</code></pre>\n\n<p>See if the directory where <code>ctypes</code> is on your system is in that list. If not, add it with <code>sys.path.append(\"/path/to/ctypes/\")</code>.</p>\n\n<h2><code>--system-site-packages</code> option</h2>\n\n<p>As @pterojacktyl pointed out:</p>\n\n<p>In case <code>ctypes</code> is in your system python's <code>site-packages</code> directory. Creation of the virtualenv with the <code>--system-site-packages</code> option</p>\n\n<pre><code>virtualenv --system-site-packages env\n</code></pre>\n\n<p>will make sure to link your <code>virtualenv</code> python to your system's third-party packages (which may include <code>ctypes</code> in this case).</p>\n\n<h2>Experiment on Ubuntu 16.10 - (Optional read)</h2>\n\n<p>To test this out, I launched my <code>virtualenv</code> python and removed the directory where <code>ctypes</code> was located. Naturally, it raised an <code>ImportError</code>.</p>\n\n<pre><code>import sys\nfrom pprint import pprint as p\n\n# define the paths that we should remove from sys.path\nremove = [\"/usr/lib/python2.7\"]\n\n# remove all the specified paths\nsys.path = [path for path in sys.path if path not in remove]\n\nimport ctypes # raises ImportError\n\nTraceback (most recent call last):\n  File \"a.py\", line 10, in &lt;module&gt;\n    import ctypes # raises ImportError\nImportError: No module named ctypes\n</code></pre>\n"}], "owner": {"reputation": 720, "user_id": 1136018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/156a4257f3fce1e40f89b42f1ea3522d?s=128&d=identicon&r=PG", "display_name": "Jack Valmadre", "link": "https://stackoverflow.com/users/1136018/jack-valmadre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3034, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1489175029, "creation_date": 1489013734, "question_id": 42683518, "link": "https://stackoverflow.com/questions/42683518/pip-in-virtualenv-cannot-find-ctypes", "title": "pip in virtualenv cannot find ctypes", "body": "<p>Before creating a virtual environment, <code>pip</code> is working:</p>\n\n<pre><code>$ pip --version\npip 8.1.2 from /system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg (python 2.7)\n</code></pre>\n\n<p>However, <code>pip</code> does not work within a virtual environment.</p>\n\n<pre><code>$ virtualenv env\n$ env/bin/pip --version\nTraceback (most recent call last):\n  File \"env/bin/pip\", line 7, in &lt;module&gt;\n    from pip import main\n  File \"/system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/__init__.py\", line 16, in &lt;module&gt;\n    from pip.vcs import git, mercurial, subversion, bazaar  # noqa\n  File \"/system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/vcs/subversion.py\", line 9, in &lt;module&gt;\n    from pip.index import Link\n  File \"/system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/index.py\", line 30, in &lt;module&gt;\n    from pip.wheel import Wheel, wheel_ext\n  File \"/system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/wheel.py\", line 32, in &lt;module&gt;\n    from pip import pep425tags\n  File \"/system/software/linux-x86_64/lib/python2.7/site-packages/pip-8.1.2-py2.7.egg/pip/pep425tags.py\", line 9, in &lt;module&gt;\n    import ctypes\nImportError: No module named ctypes\n</code></pre>\n\n<p>I am able to <code>import ctypes</code> in my system Python</p>\n\n<pre><code>$ python\nPython 2.7.8 (default, Sep 22 2014, 11:24:51) \n[GCC Intel(R) C++ gcc 4.1 mode] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ctypes\n&gt;&gt;&gt; \n</code></pre>\n\n<p>but not in the virtual environment Python</p>\n\n<pre><code>$ env/bin/python\nPython 2.7.8 (default, Sep 22 2014, 11:24:51) \n[GCC Intel(R) C++ gcc 4.1 mode] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ctypes\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named ctypes\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I don't have much experience with <code>virtualenv</code>.\nWhat steps should I take to debug the problem?\nThanks!</p>\n\n<p>My operating system CentOS 6.6.\nThe system uses environment modules to manage different versions of software.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1489013925, "post_id": 42683517, "comment_id": 72491156, "body": "The file is not in <code>.&#47;DataFiles</code>, according to the line of code that retrieves the list from <code>pathtodir\\DataFiles</code>. You should first figure out where you&#39;re looking for the files at, settle on a forward or backslash (but not both), and then be consistent when you use that pathname. You have to open the file in the same folder you got it&#39;s name from; your code does not do that, because it tries to open <code>filename</code> without a path. The code you&#39;re using tries to access the same file in three separate locations, and it&#39;s only in one of them."}], "answers": [{"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 1, "last_activity_date": 1489014077, "creation_date": 1489014077, "answer_id": 42683587, "question_id": 42683517, "link": "https://stackoverflow.com/questions/42683517/loop-through-folder-in-python-and-open-files-throws-an-error/42683587#42683587", "title": "loop through folder in python and open files throws an error", "body": "<p>Using <code>os.listdir(...)</code> only returns the filenames of the directory you passed, but not the full path to the files.  You need to include the relative directory path as well when opening the file.</p>\n\n<pre><code>basepath = \"pathtodir/DataFiles/\"\nfor filename in os.listdir(basepath):\n    if filename.endswith(\".log\"): \n        print(os.path.join(\"./DataFiles\", filename))\n\n        with open(basepath + filename) as openfile:    \n            for line in openfile:\n            ........\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3886, "user_id": 5483098, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8383504791491ec5f603ca605bbe949b?s=128&d=identicon&r=PG&f=1", "display_name": "mdh", "link": "https://stackoverflow.com/users/5483098/mdh"}, "is_accepted": true, "score": 17, "last_activity_date": 1489014160, "creation_date": 1489014160, "answer_id": 42683601, "question_id": 42683517, "link": "https://stackoverflow.com/questions/42683517/loop-through-folder-in-python-and-open-files-throws-an-error/42683601#42683601", "title": "loop through folder in python and open files throws an error", "body": "<p><code>os.listdir()</code> gives you only the filename, but not the path to the file:</p>\n\n<pre><code>import os\n\nfor filename in os.listdir('path/to/dir'):\n    if filename.endswith('.log'):\n        with open(os.path.join('path/to/dir', filename)) as f:\n            content = f.read()\n</code></pre>\n\n<p>Alternatively, you could use the <code>glob</code> module. The <code>glob.glob()</code> function allows you to filter files using a pattern:</p>\n\n<pre><code>import os\nimport glob\n\nfor filepath in glob.glob(os.path.join('path/to/dir', '*.log')):\n    with open(filepath) as f:\n        content = f.read()\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 4747785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d57ab8a61bfddb681da4e649d058a7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Moe Siddig", "link": "https://stackoverflow.com/users/4747785/moe-siddig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40314, "favorite_count": 5, "accepted_answer_id": 42683601, "answer_count": 2, "score": 9, "last_activity_date": 1551936247, "creation_date": 1489013725, "last_edit_date": 1551936247, "question_id": 42683517, "link": "https://stackoverflow.com/questions/42683517/loop-through-folder-in-python-and-open-files-throws-an-error", "title": "loop through folder in python and open files throws an error", "body": "<p>I try to loop through folder and read files but only the first file will open and read correctly but the second files print the name and through an error \"IOError: [Errno 2] No such file or directory:\". I have tried the following</p>\n\n<pre><code>for filename in os.listdir(\"pathtodir\\DataFiles\"):\n    if filename.endswith(\".log\"): \n        print(os.path.join(\"./DataFiles\", filename))\n\n        with open(filename) as openfile:    \n        for line in openfile:\n        ........\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 3511, "user_id": 955422, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pJ3AT.png?s=128&g=1", "display_name": "Ikar Pohorsk&#253;", "link": "https://stackoverflow.com/users/955422/ikar-pohorsk%c3%bd"}, "edited": false, "score": 10, "creation_date": 1542708518, "post_id": 42683478, "comment_id": 93656645, "body": "Note that <a href=\"https://docs.python.org/3/whatsnew/3.6.html#json\" rel=\"nofollow noreferrer\">since python 3.6 this is no longer an issue</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1882, "user_id": 668027, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3b25afa2d40fd137e3212b7bfb71120c?s=128&d=identicon&r=PG", "display_name": "Manza", "link": "https://stackoverflow.com/users/668027/manza"}, "edited": false, "score": 1, "creation_date": 1535006590, "post_id": 42683500, "comment_id": 90909120, "body": "I am trying your method but i am getting error: &#39;InMemoryUploadedFile&#39; object has no attribute &#39;json&#39;, this is from request.FILES[&#39;file&#39;].json()"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 31, "last_activity_date": 1524239752, "last_edit_date": 1524239752, "creation_date": 1489013650, "answer_id": 42683500, "question_id": 42683478, "link": "https://stackoverflow.com/questions/42683478/typeerror-the-json-object-must-be-str-not-bytes/42683500#42683500", "title": "TypeError: the JSON object must be str, not &#39;bytes&#39;", "body": "<p>Let requests decode it for you:</p>\n\n<pre><code>data = response.json()\n</code></pre>\n\n<p>This will check headers (Content-Type) and response encoding, auto-detecting how to decode the content correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 12982, "user_id": 7668911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6VtZT.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/7668911/neil"}, "is_accepted": true, "score": 143, "last_activity_date": 1524270720, "last_edit_date": 1524270720, "creation_date": 1489013687, "answer_id": 42683509, "question_id": 42683478, "link": "https://stackoverflow.com/questions/42683478/typeerror-the-json-object-must-be-str-not-bytes/42683509#42683509", "title": "TypeError: the JSON object must be str, not &#39;bytes&#39;", "body": "<pre><code>json.loads(myResponse.content.decode('utf-8'))\n</code></pre>\n\n<p>You just put it in the wrong order, innocent mistake.</p>\n\n<hr>\n\n<p>(In-depth answer).  As courteously pointed out by wim, in some rare cases, they could opt for UTF-16 or UTF-32.  These cases will be less common as the developers, in that scenario would be consciously deciding to throw away valuable bandwidth. So, if you run into encoding issues, you can change utf-8 to 16, 32, etc.</p>\n\n<p>There are a couple of solutions for this.  You could use request's built-in <code>.json()</code> function:</p>\n\n<pre><code>myResponse.json()\n</code></pre>\n\n<p>Or, you could opt for character detection via <code>chardet</code>.  Chardet is a library developed based on a study.  The library has one function: <code>detect</code>.  Detect can detect most common encodings and then use them to encode your string with.</p>\n\n<pre><code>import chardet\njson.loads(myResponse.content.decode(chardet.detect(myResponse.content)[\"encoding\"]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 7574886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KliGucvFuLg/AAAAAAAAAAI/AAAAAAAAABE/s0rH5NT0qk4/photo.jpg?sz=128", "display_name": "Suraj Shrestha", "link": "https://stackoverflow.com/users/7574886/suraj-shrestha"}, "is_accepted": false, "score": 15, "last_activity_date": 1552565406, "creation_date": 1552565406, "answer_id": 55162221, "question_id": 42683478, "link": "https://stackoverflow.com/questions/42683478/typeerror-the-json-object-must-be-str-not-bytes/55162221#55162221", "title": "TypeError: the JSON object must be str, not &#39;bytes&#39;", "body": "<p>python3.6+ does this automatically.so your code shouldn't return error in python3.6+</p>\n\n<p><a href=\"https://docs.python.org/3/whatsnew/3.6.html#json\" rel=\"noreferrer\">what's new in python3.6</a></p>\n"}], "owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101836, "favorite_count": 14, "protected_date": 1529603714, "accepted_answer_id": 42683509, "answer_count": 3, "score": 83, "last_activity_date": 1586932261, "creation_date": 1489013566, "last_edit_date": 1586932261, "question_id": 42683478, "link": "https://stackoverflow.com/questions/42683478/typeerror-the-json-object-must-be-str-not-bytes", "title": "TypeError: the JSON object must be str, not &#39;bytes&#39;", "body": "<p>I have the following, very basic code that throws; <code>TypeError: the JSON object must be str, not 'bytes'</code></p>\n\n<pre><code>import requests\nimport json\n\nurl = 'my url'\nuser = 'my user'\npwd = 'my password'\n\nresponse = requests.get(url, auth=(user, pwd))\n\nif(myResponse.ok):\n    Data = json.loads(myResponse.content)\n</code></pre>\n\n<p>I try to set decode to the Data variable, as follows but it throws the same error;  <code>jData = json.loads(myResponse.content).decode('utf-8')</code></p>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["python", "string", "user-interface", "tkinter", "listbox"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 2, "last_activity_date": 1489013929, "creation_date": 1489013929, "answer_id": 42683562, "question_id": 42683476, "link": "https://stackoverflow.com/questions/42683476/how-can-i-make-a-single-tkinter-listbox-element-appear-with-line-breaks/42683562#42683562", "title": "How can I make a single Tkinter Listbox element appear with line breaks?", "body": "<p>It is not possible for a listbox item to be spread across more than one line or row.</p>\n"}, {"tags": [], "owner": {"reputation": 6481, "user_id": 3408500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LuVrb.png?s=128&g=1", "display_name": "Augusta", "link": "https://stackoverflow.com/users/3408500/augusta"}, "is_accepted": true, "score": 3, "last_activity_date": 1489853288, "last_edit_date": 1489853288, "creation_date": 1489691341, "answer_id": 42842866, "question_id": 42683476, "link": "https://stackoverflow.com/questions/42683476/how-can-i-make-a-single-tkinter-listbox-element-appear-with-line-breaks/42842866#42842866", "title": "How can I make a single Tkinter Listbox element appear with line breaks?", "body": "<p>Like Bryan Oakley said, there is no native support in <code>Listbox</code> for carriage returns, so I tried building the 'fake' version I mentioned in the question, and it turns out that it isn't really that hard.</p>\n\n<p>My solution is to parse each 'raw' string before inserting them into the <code>Listbox</code>, breaking strings into individual lines using <code>splitlines</code>, recording the number of lines and which indices in the Listbox's element roll correspond to which unbroken input string, and then selecting all the parts whenever the Listbox's selection changes using <code>Listbox.bind('&lt;&lt;ListboxSelect&gt;&gt;', self._reselection_fxn)</code>.</p>\n\n<ul>\n<li>There's an abridged and annotated sample below, or you can <a href=\"https://github.com/oceanhahn/bits-of-a-python/blob/master/tkinter_tools_multiline_prototype.01703161444.py\" rel=\"nofollow noreferrer\">see my complete, working, even-more-heavily annotated code here</a>.</li>\n</ul>\n\n<hr> \n\n<pre><code>class Multiline_Single_Selector(object):\n      ## Go ahead and choose a better class name than this, too. :/\n    def __init__(self, itemlist, ..):\n              # ..\n        lb_splitlines = self._parse_strings(itemlist) \n          # ^ splits the raw strings and records their indices.\n          #  returns the split strings as a list of Listbox elements.\n        self.my_Listbox.insert(0, *lb_splitlines) \n          # ^ put the converted strings into the Listbox..\n\n        self.my_Listbox.bind('&lt;&lt;ListboxSelect&gt;&gt;', self._reselect)\n          # ^ Whenever the Listbox selection is modifed, it triggers the\n          #  &lt;&lt;ListboxSelect&gt;&gt; event. Bind _reselect to it to determine\n          #  which lines ought to be highlighted when the selection updates.\n              # ..\n\n    def _parse_strings(self, string_list):\n        '''Accepts a list of strings and breaks each string into a series of lines,\nlogs the sets, and stores them in the item_roster and string_register attributes.\nReturns the split strings to be inserted into a Listbox.'''\n\n        self.index_sets = index_sets = []\n          # ^ Each element in this list is a tuple containing the first and last\n          #  Listbox element indices for a set of lines. \n\n        self.string_register = register = {}\n          # ^ A dict with a whole string element keyed to the index of the its\n          #  first element in the Listbox.\n\n        all_lines = [] \n          # ^ A list of every Listbox element. When a string is broken into lines,\n          #  the lines go in here.\n\n        line_number = 0\n        for item in string_list: \n            lines = item.splitlines()\n\n            all_lines.extend(lines) # add the divided string to the string stack\n            register[line_number] = item\n                # ^ Saves this item keyed to the first Listbox element it's associated\n                #  with. If the item is selected when the Listbox closes, the original \n                #  (whole) string is found and returned based on this index number.\n\n            qty = len(lines)\n            if qty == 1: # single line item..\n                index_sets.append((line_number, line_number))\n            else: # multiple lines in this item..\n                element_range = line_number, line_number + qty - 1 \n                  # ^ the range of Listbox indices..\n                index_sets.extend([element_range] * qty) \n                  # ^ ..one for each element in the Listbox.\n\n            line_number += qty # increment the line number.\n        return all_lines\n\n    def _reselect(self, event=None):\n        \"Called whenever the Listbox's selection changes.\"\n        selection = self.my_Listbox.curselection() # Get the new selection data.\n        if not selection: # if there is nothing selected, do nothing.\n            return\n\n        lines_st, lines_ed = self.index_sets[selection[0]]\n            # ^ Get the string block associated with the current selection.\n        self.my_Listbox.selection_set(lines_st, lines_ed) \n            # ^ select all lines associated with the original string.\n\n    def _recall(self, event=None):\n        \"Get the complete string for the currently selected item.\"\n        selection = self.my_Listbox.curselection()\n        if selection: # an item is selected!\n            return self.string_register[selection[0]]\n        return None   # no item is selected.\n</code></pre>\n\n<p>If you adjust this code to match your own and drop it into an existing Listbox setup, it ought to let you simulate carriage returns. It's not the same as a native line-wrap or <code>\\n</code>-parsing function directly in <code>Listbox</code>, but it does basically the same thing.</p>\n\n<p>To get the whole string corresponding to the current selection, just bind <code>_recall</code> to whatever input or event you want to have return it. In this case, it returns <code>None</code> when no item is selected.</p>\n\n<p>It's also kind of a lot of work considering the sophistication of the desired effect and it may not be appropriate to every situation. But at least you <em>can do it.</em> </p>\n"}], "owner": {"reputation": 6481, "user_id": 3408500, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LuVrb.png?s=128&g=1", "display_name": "Augusta", "link": "https://stackoverflow.com/users/3408500/augusta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4638, "favorite_count": 0, "accepted_answer_id": 42842866, "answer_count": 2, "score": 4, "last_activity_date": 1489853288, "creation_date": 1489013558, "question_id": 42683476, "link": "https://stackoverflow.com/questions/42683476/how-can-i-make-a-single-tkinter-listbox-element-appear-with-line-breaks", "title": "How can I make a single Tkinter Listbox element appear with line breaks?", "body": "<p>I have a working <code>Tkinter.Listbox</code> object, but I want to set it up so that its elements can have carriage returns without having to somehow set up multiple linked items.</p>\n\n<p>For instance, if I want to generate a selection pane with items that look like this..</p>\n\n<pre><code>    # Here are four elements for the selector Listbox..\nlb_items = ('mama', 'luigi', 'my birds', \\\n            'this is a single element\\n spanning two lines!')\n    # This generates and displays the selector window..\ntk_selector = SingleSelect(lb_items, \"TEST SELECTOR\")\ntk_selector.run_selector()\n</code></pre>\n\n<p>..it would be great if I could get the output to look like this mockup..</p>\n\n<p><a href=\"https://i.stack.imgur.com/w4swP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4swP.png\" alt=\"n.b.: this is just a mockup\"></a></p>\n\n<p>..instead of what it actually generates, which is this..</p>\n\n<p><a href=\"https://i.stack.imgur.com/bwuZu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bwuZu.png\" alt=\"you can&#39;t see it, but that&#39;s all one line.\"></a></p>\n\n<p>Listboxes seem to ignore <code>'\\n'</code> and triple-quote strings with line-returns entirely; if <code>\\n</code> is used, neither the characters nor the line break appears.</p>\n\n<p><strong>Is it possible to have individual, selectable Listbox elements that appear with line breaks?</strong></p>\n\n<p>I would also be satisfied with a word-wrap option, but after some looking, I couldn't find any such option in <code>Listbox</code> or <code>Tk</code> in general.</p>\n\n<p>I could probably fake the effect by making multiline strings into multiple elements then setting it up to return the whole line if any of them are called, but it feels like an ordeal for something that could have a simple solution.</p>\n"}, {"tags": ["python", "web-scraping", "scrapy"], "comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1489015523, "post_id": 42683441, "comment_id": 72491763, "body": "can you share one output example? (two lines of the csv file maybe)"}, {"owner": {"reputation": 188, "user_id": 3247715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100006357210825/picture?type=large", "display_name": "konsalex", "link": "https://stackoverflow.com/users/3247715/konsalex"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1489016548, "post_id": 42683441, "comment_id": 72492126, "body": "@eLRuLL Here is the link of the example csv <a href=\"https://drive.google.com/open?id=0B1bNXrCh4hqsWnpHNUpQQnh4d1E\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1489016934, "post_id": 42683441, "comment_id": 72492269, "body": "what&#39;s the problem with the output? please give examples"}, {"owner": {"reputation": 188, "user_id": 3247715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100006357210825/picture?type=large", "display_name": "konsalex", "link": "https://stackoverflow.com/users/3247715/konsalex"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1489017445, "post_id": 42683441, "comment_id": 72492460, "body": "For example in the first row you see two times FM and every value when it should extract only once or in the dates you see two extractions and it should be in a different one. I hope you understand what I&#39;m trying to say"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1489017965, "post_id": 42683441, "comment_id": 72492601, "body": "the xpath should match multiple nodes in that xpath, try <code>minute=response.css(&quot;span.symptom::text&quot;).extract_first()</code>"}], "owner": {"reputation": 188, "user_id": 3247715, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100006357210825/picture?type=large", "display_name": "konsalex", "link": "https://stackoverflow.com/users/3247715/konsalex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489013381, "creation_date": 1489013381, "question_id": 42683441, "link": "https://stackoverflow.com/questions/42683441/scrapy-double-extracts-in-cells", "title": "Scrapy Double Extracts in cells", "body": "<p>I have this scripts that works fine I think for what I want but I face one problem.</p>\n\n<pre><code>class MySpider(scrapy.Spider):\nname = 'Offers'\nstart_urls = ['https://www.invia.cz/direct/community_login/ajax-login/?ac_email=zisi%40electratours.cz&amp;ac_password=electra1999']\n\n\ndef start_requests(self):\n    return [scrapy.FormRequest(\"https://www.invia.cz/direct/community_login/ajax-login/?ac_email=zisi%40electratours.cz&amp;ac_password=electra1999\",\n                               formdata={'user': '', 'pass': ''},\n                               callback=self.after_login)]\n\n\ndef after_login(self, response):\n\n        return scrapy.Request(url=\"https://dovolena.invia.cz/direct/tour_search/ajax-next-boxes/?nl_country_id%5B%5D=28&amp;nl_locality_id%5B%5D=19&amp;d_start_from=08.03.2017&amp;d_end_to=28.05.2017&amp;nl_transportation_id%5B%5D=3&amp;nl_ck_id%5B%5D=62&amp;sort=nl_sell&amp;page=1&amp;getOptionsCount=true&amp;base_url=https%3A%2F%2Fdovolena.invia.cz%2F\",callback=self.logged_in)\n\ndef logged_in(self, response):\n    data=json.loads(response.text)\n\n    sel=Selector(text=data['boxes_html'])\n    ag=Selector(text=data['boxes_html'])\n    ko=sel.css('li.hotel-box').extract()  \n\n    for x in range(0,len(ko)):\n      sel=Selector(text=ko[x])\n\n      name=sel.css('span.name::text').extract_first()\n\n      data=sel.xpath('//li/@data-content-value').extract()\n\n      IC=[json.loads(d)[\"nl_hotel_id\"] for d in data]\n\n      for x in range(0,len(data)):\n       IC[x]=''.join(map(str, IC[x]))\n\n      ICn=[j.strip() for j in IC]\n\n      print (ICn[x])\n\n      url1=\"https://dovolena.invia.cz/direct/tour_search/ajax-next-box-rows/\"\n\n      url2=ICn[x]\n\n      url3=\"/?nl_country_id%5B0%5D=28&amp;nl_locality_id%5B0%5D=19&amp;d_start_from=08.03.2017&amp;d_end_to=28.05.2017&amp;nl_transportation_id%5B0%5D=3&amp;nl_ck_id%5B0%5D=62&amp;sort=nl_sell&amp;page=2&amp;boxPage=1\"\n\n      url_final=url1+url2+url3\n\n      print(url_final)\n\n      request=scrapy.Request(url=str(url_final),callback=self.hotel)\n\n      request.meta[\"name\"]=name\n\n      yield request\n\n\n    next_page = ag.css(\"a.next::attr(data-page)\").extract_first()\n    print(\"Page %s -1\" %next_page)\n    url = re.sub('page=\\d+', 'page=' + next_page, response.url)\n    yield scrapy.Request(url, self.logged_in)\n\ndef hotel(self,response):\n  names = response.meta['name']\n  dates=response.css(\"strong.date\").extract()\n  prices=response.css(\"strong.orange\").extract()\n  airport=response.css(\"p.info&gt;span::attr(title)\").extract()\n  meal=response.css(\"span.blue::text\").extract()\n  minute=response.css(\"span.symptom::text\").extract()\n\n\n\n\n  yield{\n\n\n   \"Hotel\":names,  \n   \"Dates\":dates,\n   \"Airport\":airport,\n   \"MealType\":meal,\n   \"Minute\":minute\n  }\n\n  if(response.css(\"a.next\")):\n    next_page = response.css(\"a.next::attr(rel)\").extract_first()\n    url = re.sub('boxPage=\\d+', 'boxPage=' + next_page, response.url)\n    yield scrapy.Request(url, self.hotel)\n  else:\n    return\n</code></pre>\n\n<p>When I crawl and get them all in a csv output I see two \"scraped\" data in a single cell and I can't seem to find a way how to fix this or why it's happening.</p>\n"}, {"tags": ["python", "linux", "bash", "shell", "subprocess"], "answers": [{"tags": [], "owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013701, "creation_date": 1489013701, "answer_id": 42683511, "question_id": 42683421, "link": "https://stackoverflow.com/questions/42683421/using-pythons-subprocess-in-a-cli-function-breaks-the-comamnd-line/42683511#42683511", "title": "using python&#39;s subprocess in a cli function breaks the comamnd line", "body": "<p>Some process may have turned <code>echo</code> off.  This can be checked using the <code>stty</code> command.  Typically this is what happens:</p>\n\n<pre><code>$ stty\nspeed 38400 baud; line = 0;\n-brkint ixoff -imaxbel iutf8\n</code></pre>\n\n<p>If it gets turned off:</p>\n\n<pre><code>$ stty -echo\n</code></pre>\n\n<p>Then hit enter 4 times, type <code>stty</code>:</p>\n\n<pre><code>$ $ $ $ $ speed 38400 baud; line = 0;\n-brkint ixoff -imaxbel iutf8\n-echo\n</code></pre>\n\n<p>To turn it back on, simply call <code>stty echo</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 12637, "user_id": 1893275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i7osd.jpg?s=128&g=1", "display_name": "TheChymera", "link": "https://stackoverflow.com/users/1893275/thechymera"}, "edited": false, "score": 0, "creation_date": 1489185459, "post_id": 42683563, "comment_id": 72577312, "body": "The issue was happening not when I interrupted the function, but after it finished executing."}], "tags": [], "owner": {"reputation": 43630, "user_id": 75033, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/yqUcc.jpg?s=128&g=1", "display_name": "John Mee", "link": "https://stackoverflow.com/users/75033/john-mee"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013940, "creation_date": 1489013940, "answer_id": 42683563, "question_id": 42683421, "link": "https://stackoverflow.com/questions/42683421/using-pythons-subprocess-in-a-cli-function-breaks-the-comamnd-line/42683563#42683563", "title": "using python&#39;s subprocess in a cli function breaks the comamnd line", "body": "<p>Capture the keyboard interrupt and handle it cleanly.\n<a href=\"https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt</a></p>\n\n<p>Note, in a multiprocessed environment, you need to consider that the interrupt could occur anywhere (in the workers or parent thread) and you should kill all your workers before exiting the parent.</p>\n"}, {"tags": [], "owner": {"reputation": 12637, "user_id": 1893275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i7osd.jpg?s=128&g=1", "display_name": "TheChymera", "link": "https://stackoverflow.com/users/1893275/thechymera"}, "is_accepted": true, "score": 0, "last_activity_date": 1489185429, "creation_date": 1489185429, "answer_id": 42728898, "question_id": 42683421, "link": "https://stackoverflow.com/questions/42683421/using-pythons-subprocess-in-a-cli-function-breaks-the-comamnd-line/42728898#42728898", "title": "using python&#39;s subprocess in a cli function breaks the comamnd line", "body": "<p>I have not figured out what the issue was exactly (and am happy to accept an edit adding that info to this answer), but it seems I needed to kill the process for the script to return the user to a clean prompt. I did this by appending the following <a href=\"https://github.com/TheChymera/repositorg/blob/master/repositorg/processing.py#L66\" rel=\"nofollow noreferrer\">to my function</a>:</p>\n\n<pre><code>while None in [p.poll() for p in processes]:\n    time.sleep(0.5)\n#We need to explicitly terminate the master process here, as otherwise the shell \"hangs\" and the user needs to press enter to return to a new prompt.\nos.system('kill %d' % os.getpid())\n</code></pre>\n"}], "owner": {"reputation": 12637, "user_id": 1893275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i7osd.jpg?s=128&g=1", "display_name": "TheChymera", "link": "https://stackoverflow.com/users/1893275/thechymera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 42728898, "answer_count": 3, "score": 1, "last_activity_date": 1489185429, "creation_date": 1489013312, "question_id": 42683421, "link": "https://stackoverflow.com/questions/42683421/using-pythons-subprocess-in-a-cli-function-breaks-the-comamnd-line", "title": "using python&#39;s subprocess in a cli function breaks the comamnd line", "body": "<p>I have written a python script to batch process video files, and I have created a CLI binding for it. You can find the repository <a href=\"https://github.com/TheChymera/repositorg\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As part of the script (since video processing is computationally intensive) I am <a href=\"https://github.com/TheChymera/repositorg/blob/master/repositorg/processing.py#L54\" rel=\"nofollow noreferrer\">using Python's subprocess module to achieve some parallelization</a>.</p>\n\n<p>I am calling my script from the command line as:</p>\n\n<pre><code>repositorg vidproc -p \"-crf 16 -c:a copy -filter:v 'crop=1080:1080:420:0'\" nd750_a00{80..86}.MOV\n</code></pre>\n\n<p>and it works fine. However, after it is executed, it breaks my terminal. I can no longer see what I am typing, but it still gets sent to the terminal. This is an example of me killing the current line a few times, and then typing <code>ls</code> and hitting enter:</p>\n\n<pre><code>chymera@zenbookhost ~/data/cameras/nd750/a $ ^C\nchymera@zenbookhost ~/data/cameras/nd750/a $ ^C\nchymera@zenbookhost ~/data/cameras/nd750/a $ ^C\nchymera@zenbookhost ~/data/cameras/nd750/a $ ^C\nchymera@zenbookhost ~/data/cameras/nd750/a $ nd750_a0000.mkv  nd750_a0016.mkv  nd750_a0032.mkv  nd750_a0048.mkv  nd750_a0064.mkv  nd750_a0079.MOV\nnd750_a0001.mkv  nd750_a0017.mkv  nd750_a0033.mkv  nd750_a0049.mkv  nd750_a0065.mkv  nd750_a0080.mkv\nnd750_a0002.mkv  nd750_a0018.mkv  nd750_a0034.mkv  nd750_a0050.mkv  nd750_a0066.mkv  nd750_a0080.MOV\nnd750_a0003.mkv  nd750_a0019.mkv  nd750_a0035.mkv  nd750_a0051.mkv  nd750_a0067.mkv  nd750_a0081.mkv\nnd750_a0004.mkv  nd750_a0020.mkv  nd750_a0036.mkv  nd750_a0052.mkv  nd750_a0068.mkv  nd750_a0081.MOV\nnd750_a0005.mkv  nd750_a0021.mkv  nd750_a0037.mkv  nd750_a0053.mkv  nd750_a0069.mkv  nd750_a0082.mkv\nnd750_a0006.mkv  nd750_a0022.mkv  nd750_a0038.mkv  nd750_a0054.mkv  nd750_a0070.mkv  nd750_a0082.MOV\nnd750_a0007.mkv  nd750_a0023.mkv  nd750_a0039.mkv  nd750_a0055.mkv  nd750_a0071.mkv  nd750_a0083.mkv\nnd750_a0008.mkv  nd750_a0024.mkv  nd750_a0040.mkv  nd750_a0056.mkv  nd750_a0072.mkv  nd750_a0083.MOV\nnd750_a0009.mkv  nd750_a0025.mkv  nd750_a0041.mkv  nd750_a0057.mkv  nd750_a0073.mkv  nd750_a0084.mkv\nnd750_a0010.mkv  nd750_a0026.mkv  nd750_a0042.mkv  nd750_a0058.mkv  nd750_a0074.mkv  nd750_a0084.MOV\nnd750_a0011.mkv  nd750_a0027.mkv  nd750_a0043.mkv  nd750_a0059.mkv  nd750_a0075.mkv  nd750_a0085.mkv\nnd750_a0012.mkv  nd750_a0028.mkv  nd750_a0044.mkv  nd750_a0060.mkv  nd750_a0076.mkv  nd750_a0085.MOV\nnd750_a0013.mkv  nd750_a0029.mkv  nd750_a0045.mkv  nd750_a0061.mkv  nd750_a0077.mkv  nd750_a0086.mkv\nnd750_a0014.mkv  nd750_a0030.mkv  nd750_a0046.mkv  nd750_a0062.mkv  nd750_a0078.mkv  nd750_a0086.MOV\nnd750_a0015.mkv  nd750_a0031.mkv  nd750_a0047.mkv  nd750_a0063.mkv  nd750_a0079.mkv\n</code></pre>\n\n<p>As you can see, the <code>ls</code> is not printed, but its output is, though starting inline with the prompt...</p>\n\n<p>I am wondering:</p>\n\n<ul>\n<li>What's going on here?</li>\n<li>How can I fix my terminal once this happens?</li>\n<li>How can I prevent my script from breaking the terminal?</li>\n</ul>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1489013688, "post_id": 42683382, "comment_id": 72491056, "body": "why do it manually? you can easily do that in python - read the file, convert it, then send it into pandas in a StringIO. unless the data is very large...."}, {"owner": {"reputation": 65, "user_id": 6153310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f5a3b1fdb07301195b5d686f3f6b6c?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier", "link": "https://stackoverflow.com/users/6153310/xavier"}, "reply_to_user": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1489070694, "post_id": 42683382, "comment_id": 72518375, "body": "Understood. Isn&#39;t there an engine other than &quot;python&quot; that can read the thorn sign as a separator value? Omitting the engine causes pandas to raise an error."}, {"owner": {"reputation": 8843, "user_id": 349948, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e06d0e631af3fe3d713e76f2957fb05f?s=128&d=identicon&r=PG", "display_name": "Corley Brigman", "link": "https://stackoverflow.com/users/349948/corley-brigman"}, "edited": false, "score": 0, "creation_date": 1489073643, "post_id": 42683382, "comment_id": 72520550, "body": "I think this is because the thorn is not a standard ASCII text - e.g. (in python 2.7) <code>&quot;&#254;&quot;</code> = <code>&#39;\\xc3\\xbe&#39;</code>, but <code>u&quot;&#254;&quot;</code> = <code>u&#39;\\xfe&#39;</code>. is this UTF-8? maybe follow here: <a href=\"http://stackoverflow.com/questions/36462852/how-to-read-utf-8-files-with-pandas\" title=\"how to read utf 8 files with pandas\">stackoverflow.com/questions/36462852/&hellip;</a>"}], "owner": {"reputation": 65, "user_id": 6153310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1f5a3b1fdb07301195b5d686f3f6b6c?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier", "link": "https://stackoverflow.com/users/6153310/xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489013137, "creation_date": 1489013137, "question_id": 42683382, "link": "https://stackoverflow.com/questions/42683382/pandas-dataframe-cuts-off-when-importing-a-text-file-when-engine-python", "title": "Pandas DataFrame cuts off when importing a text file when engine=python", "body": "<p>Suppose you have a text file with the following information:\n<a href=\"https://www.scribd.com/document/341329341/Test\" rel=\"nofollow noreferrer\">Link to \"test.txt\" file on scribd.com</a></p>\n\n<p>I want to upload the text file onto Pandas. Here's the code that I'm using to upload it:</p>\n\n<pre><code>import pandas as pd\ndf1 = pd.read_table(\"test.txt\",sep=\"\u00fe\",engine='python')\ndf1.drop(df1.columns[[0,2,4,6]],axis=1,inplace=True)\n</code></pre>\n\n<p>When I view what's in df1, I get the following:</p>\n\n<pre><code>    A        B                                          C\n0   1        How are you doing? I am fine today         NaN\n</code></pre>\n\n<p>When I then type</p>\n\n<pre><code>df1[\"B\"][0]\n</code></pre>\n\n<p>... I get</p>\n\n<pre><code>'How are you\\x06 doing? I am fi\\x06ne to\\x1bday'\n</code></pre>\n\n<p>However, I then manually converted the .txt file's delimiters from thorn-pilcrow-thorn to pipe. <a href=\"https://www.scribd.com/document/341329872/test2\" rel=\"nofollow noreferrer\">Link to \"test2.txt\" file on scribd.com</a>\nI then used the following code:</p>\n\n<pre><code>df2 = pd.read_table(\"test2.txt\",sep=\"|\")\n</code></pre>\n\n<p>That one came out fine, i.e.,</p>\n\n<pre><code>    A        B                                              C\n0   1        How are you doing? I am fine today my fri...   3\n</code></pre>\n\n<p>When I then type</p>\n\n<pre><code>df2[\"B\"][0]\n</code></pre>\n\n<p>... I get</p>\n\n<pre><code>'How are you\\x06 doing? I am fi\\x06ne to\\x1bday\\x1a my\\x11 friend\\x12.'\n</code></pre>\n\n<p>df2 is what I want because I don't lose column C's value, but I don't want to be doing the manual conversion of  thorn-pilcrow-thorn to pipe and removing the first and last thorns of each line.\nWhat's the most effective way of getting df2 if you receive \"test.txt\"? If possible, I would prefer to get the following for cell B0:</p>\n\n<pre><code>'How are you doing? I am fine today my friend.'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1489013262, "post_id": 42683365, "comment_id": 72490881, "body": "<code>s = s.replace(...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18542, "user_id": 47351, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fab8190589ada198cbf1a69b981a8670?s=128&d=identicon&r=PG", "display_name": "RvdK", "link": "https://stackoverflow.com/users/47351/rvdk"}, "edited": false, "score": 1, "creation_date": 1489013352, "post_id": 42683415, "comment_id": 72490919, "body": "You mean s = s.replace(letter, &#39;&#39;)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489013622, "post_id": 42683415, "comment_id": 72491034, "body": "I don&#39;t understand how an answer that repeats the incorrect code in the question (a common duplicate question, at that) gets an upvote..."}, {"owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "edited": false, "score": 0, "creation_date": 1489013647, "post_id": 42683415, "comment_id": 72491042, "body": "lol Yes fixed. Thank you"}, {"owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1489013690, "post_id": 42683415, "comment_id": 72491058, "body": "@TigerhawkT3 How could I possibly have known that this was a duplicate question, and even if I did, how would I go about finding the original?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489013792, "post_id": 42683415, "comment_id": 72491095, "body": "1) It&#39;s a basic issue that&#39;s asked every day. 2) Google."}, {"owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1489013932, "post_id": 42683415, "comment_id": 72491157, "body": "@TigerhawkT3 Yes, but as a new user, how am I supposed to know this? It&#39;s all well and good saying &quot;just Google it&quot;, but when you&#39;re unsure of where the problem originates, it&#39;s not helpful. I wasn&#39;t looking for a solution to the problem; I was looking at why my solution didn&#39;t work."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "edited": false, "score": 1, "creation_date": 1489014114, "post_id": 42683415, "comment_id": 72491239, "body": "@alexqwx - Test each part of your code individually to make sure it does what you think it does, look up the documentation for the functions you&#39;re using, Google for &quot;function xyz doesn&#39;t work&quot;... the usual debugging process. Posting a new question should be your last resort."}], "tags": [], "owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013626, "last_edit_date": 1489013626, "creation_date": 1489013287, "answer_id": 42683415, "question_id": 42683365, "link": "https://stackoverflow.com/questions/42683365/where-am-i-going-wrong-in-this-hangman-code/42683415#42683415", "title": "Where am I going wrong in this Hangman code?", "body": "<p>the method replace() does not edit the string. Instead, it returns a copy of the string in which the occurrences of old have been replaced with new. so  the fifth line should look like this:</p>\n\n<pre><code>s = s.replace(letter, '')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4611, "user_id": 7511971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Byz18.jpg?s=128&g=1", "display_name": "Ricardo Branco", "link": "https://stackoverflow.com/users/7511971/ricardo-branco"}, "edited": false, "score": 0, "creation_date": 1489013935, "post_id": 42683469, "comment_id": 72491159, "body": "Better yet: <code>s = set(string.ascii_lowercase) - set(lettersGuessed); return &quot;&quot;.join(c for c in s)</code>"}, {"owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "edited": false, "score": 0, "creation_date": 1489014023, "post_id": 42683469, "comment_id": 72491205, "body": "Ah. I thought that the &#39;.&#39; replaced the original string as it does for lists. How do you know, in general, whether the dot will replace a given (list, string, dictionary, etc.), or just print out the changed version?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "edited": false, "score": 0, "creation_date": 1489014160, "post_id": 42683469, "comment_id": 72491252, "body": "@alexqwx mutable types like <code>list</code>, <code>dict</code>, and <code>set</code> will usually, well, mutate the original object. Immutable types (e.g <code>str</code>, <code>tuple</code>, <code>frozenset</code>) have to return a new one."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "edited": false, "score": 0, "creation_date": 1489014164, "post_id": 42683469, "comment_id": 72491254, "body": "@alexqwx - You read the documentation for &quot;the dot&quot; (by which you mean an object&#39;s methods)."}, {"owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "edited": false, "score": 0, "creation_date": 1489014199, "post_id": 42683469, "comment_id": 72491269, "body": "your best bet is to look it up in the Python documentation. You&#39;ll  begin to remember over time. I usually just Google &#39;Python string replace&#39; or whatever and the first link  or two will tell you"}, {"owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489014424, "post_id": 42683469, "comment_id": 72491335, "body": "@juanpa.arrivillaga Is that always the case, then, regardless of the actual &quot;object method&quot; used?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "edited": false, "score": 0, "creation_date": 1489014796, "post_id": 42683469, "comment_id": 72491487, "body": "@alexqwx It is certainly almost always the case, there may be exceptions, I can&#39;t think of any off the top of my head, but methods mutate mutable objects, and return new objects for immutable objects."}, {"owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489014870, "post_id": 42683469, "comment_id": 72491514, "body": "@juanpa.arrivillaga Nice. Thanks"}], "tags": [], "owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "is_accepted": true, "score": 0, "last_activity_date": 1489013536, "creation_date": 1489013536, "answer_id": 42683469, "question_id": 42683365, "link": "https://stackoverflow.com/questions/42683365/where-am-i-going-wrong-in-this-hangman-code/42683469#42683469", "title": "Where am I going wrong in this Hangman code?", "body": "<p>You should do as follows.</p>\n\n<pre><code>s = s.replace(letter, '')\n</code></pre>\n\n<p>instead of only:</p>\n\n<pre><code>s.replace(letter, '')\n</code></pre>\n\n<p>because, <a href=\"https://www.tutorialspoint.com/python/string_replace.htm\" rel=\"nofollow noreferrer\">replace()</a> returns returns a copy of the string with all occurrences of substring old replaced by new. Look into the following example.</p>\n\n<pre><code>s = \"welcome to stackoverflow\"\ns.replace('stackoverflow', '')\nprint(s) # prints 'welcome to stackoverflow'\ns= s.replace('stackoverflow', '')\nprint(s) # prints 'welcome to'\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 7147484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d28ad3eef990ad27e235d2a7849538b3?s=128&d=identicon&r=PG&f=1", "display_name": "alexqwx", "link": "https://stackoverflow.com/users/7147484/alexqwx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "closed_date": 1489013566, "accepted_answer_id": 42683469, "answer_count": 2, "score": 0, "last_activity_date": 1489013626, "creation_date": 1489013080, "question_id": 42683365, "link": "https://stackoverflow.com/questions/42683365/where-am-i-going-wrong-in-this-hangman-code", "closed_reason": "Duplicate", "title": "Where am I going wrong in this Hangman code?", "body": "<p>I'm working through a Hangman problem in Python, which asks that I define a function that starts off with a string <code>string.ascii_lowercase</code> (the letters of the alphabet) and a given list <code>lettersGuessed</code>, and returns a string (in alphabetical order) of all letters that are <strong>not</strong> in lettersGuessed.</p>\n\n<p>Here's what I've done so far:</p>\n\n<pre><code>def getAvailableLetters(lettersGuessed):\n    s = string.ascii_lowercase[:]\n    for letter in string.ascii_lowercase:\n        if letter in lettersGuessed:\n            s.replace(letter, '')\n    return s\n</code></pre>\n\n<p>However, for every test value of <code>lettersGuessed</code>, this function just returns <code>string.ascii_lowercase</code>, and not <code>s</code>.\nWhere am I going wrong?|</p>\n"}, {"tags": ["python", "django", "python-2.7", "python-3.x", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 2206730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/238d25ef7c700a884c0043a7efbce70b?s=128&d=identicon&r=PG", "display_name": "Amin Sabbaghian", "link": "https://stackoverflow.com/users/2206730/amin-sabbaghian"}, "is_accepted": true, "score": 2, "last_activity_date": 1489081515, "creation_date": 1489081515, "answer_id": 42702082, "question_id": 42683320, "link": "https://stackoverflow.com/questions/42683320/django-int-argument-must-be-a-string-a-bytes-like-object-or-a-number-not/42702082#42702082", "title": "Django - int() argument must be a string, a bytes-like object or a number, not &#39;Association&#39;", "body": "<p><strong>Cleaned data for association returns object</strong>, so you can edit these lines:</p>\n\n<pre><code>asoc_pk = form.cleaned_data.get('association')\nasoc = Association.objects.get(pk=asoc_pk)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>asoc = form.cleaned_data.get('association')\n</code></pre>\n\n<p>and it'll work fine!</p>\n"}], "owner": {"reputation": 533, "user_id": 5410852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/41b77609c3263e4855d4a0fc49fcfdc2?s=128&d=identicon&r=PG&f=1", "display_name": "Niknak", "link": "https://stackoverflow.com/users/5410852/niknak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 42702082, "answer_count": 1, "score": 0, "last_activity_date": 1489081515, "creation_date": 1489012911, "last_edit_date": 1489013331, "question_id": 42683320, "link": "https://stackoverflow.com/questions/42683320/django-int-argument-must-be-a-string-a-bytes-like-object-or-a-number-not", "title": "Django - int() argument must be a string, a bytes-like object or a number, not &#39;Association&#39;", "body": "<p>I want to register an admin with a dropdown-list you can choose association and create a\nrelation between <code>Administrator</code> and <code>Association</code>. </p>\n\n<p>Is there something i'm missing?</p>\n\n<p>Still a newbie so appreciate your help, folks!</p>\n\n<p>admin\\models.py</p>\n\n<pre><code>class Administrator(AbstractUser):\n    ...\n    association= models.ForeignKey(Association)\n\n\n    class Meta:\n        db_table = 'Administrator'\n</code></pre>\n\n<p>member\\models.py</p>\n\n<pre><code>from pl.admin.models import Administrator\n\n\nclass Association(models.Model):\n    asoc_name = models.CharField(max_length=100)\n    member_no = models.ForeignKey(Member)\n\n    class Meta:\n        db_table = 'Association'\n\n    def __str__(self):\n        return self.asoc_name\n</code></pre>\n\n<hr>\n\n<p>forms.py</p>\n\n<pre><code>class SignUpForm(forms.ModelForm):\n    ...\n    association = forms.ModelChoiceField(queryset=Association.objects.all())\n     ...\n\n\n    class Meta:\n        model = Administrator\n        fields = [..., 'association', ...]\n</code></pre>\n\n<hr>\n\n<p>views.py</p>\n\n<pre><code>def signup(request):\n    if request.method == 'POST':\n        form = SignUpForm(request.POST)\n        if not form.is_valid():\n            return render(request, 'admin/signup.html',\n                          {'form': form})\n\n        else:\n            ...\n            asoc_pk = form.cleaned_data.get('association')\n            asoc = Association.objects.get(pk=asoc_pk)\n            ...\n            Administrator.objects.create_user(...\n                                              association=asoc,    \n                                              ...)\n            user = authenticate(...\n                                association=asoc,\n                                ...)\n            return redirect('/')\n\n    else:\n        return render(request, 'admin/signup.html',\n                      {'form': SignUpForm()})\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "ipython", "six"], "comments": [{"owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "edited": false, "score": 0, "creation_date": 1489013030, "post_id": 42683307, "comment_id": 72490781, "body": "from this i cant tell what the error is: what is the error message."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1489013088, "post_id": 42683307, "comment_id": 72490808, "body": "This is only part of the error message. It cuts off abruptly."}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489013565, "post_id": 42683307, "comment_id": 72491010, "body": "sorry guys updated the post."}, {"owner": {"reputation": 1151, "user_id": 3844056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a4cfef3480955e18facf3aabefdecb?s=128&d=identicon&r=PG", "display_name": "ruoho ruotsi", "link": "https://stackoverflow.com/users/3844056/ruoho-ruotsi"}, "edited": false, "score": 0, "creation_date": 1489013872, "post_id": 42683307, "comment_id": 72491132, "body": "What six version are you on? I&#39;ve a similar env and I&#39;m on six==1.10.0, tensorflow==1.0.0, Python 2.7.12"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489013976, "post_id": 42683307, "comment_id": 72491182, "body": "I am on six 1.4.1 in ipython, and 1.10.0 in python shell. Could this be the reason why? But I tried upgrading six and it&#39;s still 1.4.1 within ipython interpretor though?"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489014345, "post_id": 42683307, "comment_id": 72491310, "body": "by the way this <code>python -m pip install --upgrade six</code> does not work for me. It says six is already up to date. Neither does <code>brew install python</code>."}, {"owner": {"reputation": 1151, "user_id": 3844056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a4cfef3480955e18facf3aabefdecb?s=128&d=identicon&r=PG", "display_name": "ruoho ruotsi", "link": "https://stackoverflow.com/users/3844056/ruoho-ruotsi"}, "edited": false, "score": 0, "creation_date": 1489015112, "post_id": 42683307, "comment_id": 72491606, "body": "It seems that there&#39;s a number of things tangled. what is your python version? A quick experiment would be to install Anaconda2 (i.e. with python2.7) then <code>pip install</code> TF and other dependencies and try it out ... Anaconda installation is self-contained, so that you won&#39;t be affected by other system-wide issues. I just did it by running <code>&#47;Users&#47;myusername&#47;anaconda2&#47;bin&#47;ipython</code>"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489290108, "post_id": 42683307, "comment_id": 72604399, "body": "ruoho ruotsi thanks installing anaconda2 solved the problem!"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "reply_to_user": {"reputation": 1151, "user_id": 3844056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a4cfef3480955e18facf3aabefdecb?s=128&d=identicon&r=PG", "display_name": "ruoho ruotsi", "link": "https://stackoverflow.com/users/3844056/ruoho-ruotsi"}, "edited": false, "score": 1, "creation_date": 1489532071, "post_id": 42683307, "comment_id": 72710794, "body": "@ruohoruotsi ruotsi If you post what you said as an answer I can check resolved for you."}, {"owner": {"reputation": 1151, "user_id": 3844056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a4cfef3480955e18facf3aabefdecb?s=128&d=identicon&r=PG", "display_name": "ruoho ruotsi", "link": "https://stackoverflow.com/users/3844056/ruoho-ruotsi"}, "edited": false, "score": 0, "creation_date": 1489533752, "post_id": 42683307, "comment_id": 72711400, "body": "sure! gimme a second!"}], "answers": [{"comments": [{"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489013759, "post_id": 42683484, "comment_id": 72491085, "body": "when I try to <code>pip install ipython</code> inside my virtualenv, it says requirements already satisfied though?"}, {"owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "reply_to_user": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489014864, "post_id": 42683484, "comment_id": 72491511, "body": "how did you create and activate the virtual environment? what is the output of &quot; which ipython&quot; and &quot;which pip&quot;?  what are the outputs of those commands when you are outside of the virtual environment?"}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489014977, "post_id": 42683484, "comment_id": 72491556, "body": "I did <code>source ~&#47;tensorflow&#47;bin&#47;activate</code>, which ipython is at <code>&#47;usr&#47;local&#47;bin&#47;ipython</code>, which pip is <code>&#47;Users&#47;lingxiao&#47;tensorflow&#47;bin&#47;pip</code>.  Outside of virtual env ipython is at <code>&#47;usr&#47;local&#47;bin&#47;ipython</code>, pip is at <code>&#47;usr&#47;local&#47;bin&#47;pip</code>"}, {"owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "reply_to_user": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489015241, "post_id": 42683484, "comment_id": 72491665, "body": "<code>which ipython</code> should also return a path within the virtual environment, similar to pip. I would try uninstalling and reinstalling ipython from within the virtual environment. And if that doesn&#39;t work, it might be time to blow away the virtual environment and make a new one."}, {"owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489016533, "post_id": 42683484, "comment_id": 72492123, "body": "it&#39;s funny because which ipython inside the environment does not return a path from within, it&#39;s at usr/local/bin/ipython. When I try to uninstall it from inside the virtualenv, I get <code>Not uninstalling ipython at &#47;Library&#47;Python&#47;2.7&#47;site-packages, outside environment &#47;Users&#47;lingxiao&#47;tensorflow</code>"}, {"owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "reply_to_user": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "edited": false, "score": 0, "creation_date": 1489019277, "post_id": 42683484, "comment_id": 72493003, "body": "I would remove the virtual environment, make sure the virtualenv package is up to date, and remake the virtual environment."}], "tags": [], "owner": {"reputation": 686, "user_id": 1991296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bdfb83171f016c0553fef3c6a4279a?s=128&d=identicon&r=PG", "display_name": "Colin Nichols", "link": "https://stackoverflow.com/users/1991296/colin-nichols"}, "is_accepted": false, "score": 1, "last_activity_date": 1489013579, "creation_date": 1489013579, "answer_id": 42683484, "question_id": 42683307, "link": "https://stackoverflow.com/questions/42683307/cannot-import-tensorflow-in-ipython/42683484#42683484", "title": "Cannot import Tensorflow in ipython", "body": "<p>My guess is that you  need to install iPython from within the virtual environment.  if you haven't done that, ipython will use the vanilla interpreter even though you are in a virtual environment.</p>\n"}, {"tags": [], "owner": {"reputation": 1151, "user_id": 3844056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a4cfef3480955e18facf3aabefdecb?s=128&d=identicon&r=PG", "display_name": "ruoho ruotsi", "link": "https://stackoverflow.com/users/3844056/ruoho-ruotsi"}, "is_accepted": true, "score": 2, "last_activity_date": 1489533965, "creation_date": 1489533965, "answer_id": 42798396, "question_id": 42683307, "link": "https://stackoverflow.com/questions/42683307/cannot-import-tensorflow-in-ipython/42798396#42798396", "title": "Cannot import Tensorflow in ipython", "body": "<p>It seems that there's a number of things tangled. I'm using Anaconda2 with <code>six==1.10.0</code>, <code>tensorflow==1.0.0</code> and Python 2.7.12. A quick experiment would be to install Anaconda2 (i.e. with python2.7) then <code>pip install</code> TF and other dependencies and try it out.</p>\n\n<p>The Anaconda installation is self-contained, so that you won't be affected by other system-wide issues. I just did it by running <code>/Users/myusername/anaconda2/bin/ipython</code></p>\n"}], "owner": {"reputation": 4310, "user_id": 1128571, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e743815e7a4a5f8c1d66277d6397624f?s=128&d=identicon&r=PG", "display_name": "xiaolingxiao", "link": "https://stackoverflow.com/users/1128571/xiaolingxiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 0, "accepted_answer_id": 42798396, "answer_count": 2, "score": 1, "last_activity_date": 1489533965, "creation_date": 1489012859, "last_edit_date": 1489013554, "question_id": 42683307, "link": "https://stackoverflow.com/questions/42683307/cannot-import-tensorflow-in-ipython", "title": "Cannot import Tensorflow in ipython", "body": "<p>I have tensorflow version 1.0.0 non-GPU version on my macbook pro Yosemite. It is installed in a virtualenv, and I have python 2.7. I have six version 1.4.1. When I do <code>python</code> on the command line and import six, it works fine. But when I enter 'ipython' and import tensorflow, I see this error:</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-1-cd232424f60d&gt; in &lt;module&gt;()\n----&gt; 1 execfile('hw4/net.py')\n\n/Users/lingxiao/Documents/research/dialogue-systems/hw4/net.py in &lt;module&gt;()\n      8 import time\n      9 import numpy as np\n---&gt; 10 import tensorflow as tf\n     11 \n     12 import app\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/__init__.py in &lt;module&gt;()\n     22 \n     23 # pylint: disable=wildcard-import\n---&gt; 24 from tensorflow.python import *\n     25 # pylint: enable=wildcard-import\n     26 \n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/__init__.py in &lt;module&gt;()\n    122 from tensorflow.python.platform import resource_loader\n    123 from tensorflow.python.platform import sysconfig\n--&gt; 124 from tensorflow.python.platform import test\n    125 \n    126 from tensorflow.python.util.all_util import remove_undocumented\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/test.py in &lt;module&gt;()\n     67 # pylint: disable=g-bad-import-order\n     68 from tensorflow.python.client import device_lib as _device_lib\n---&gt; 69 from tensorflow.python.framework import test_util as _test_util\n     70 from tensorflow.python.platform import googletest as _googletest\n     71 from tensorflow.python.util.all_util import remove_undocumented\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/framework/test_util.py in &lt;module&gt;()\n     41 from tensorflow.python.framework import random_seed\n     42 from tensorflow.python.framework import versions\n---&gt; 43 from tensorflow.python.platform import googletest\n     44 from tensorflow.python.platform import tf_logging as logging\n     45 from tensorflow.python.util import compat\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/googletest.py in &lt;module&gt;()\n     31 \n     32 from tensorflow.python.platform import app\n---&gt; 33 from tensorflow.python.platform import benchmark  # pylint: disable=unused-import\n     34 \n     35 Benchmark = benchmark.TensorFlowBenchmark  # pylint: disable=invalid-name\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/benchmark.py in &lt;module&gt;()\n    115 \n    116 \n--&gt; 117 class Benchmark(six.with_metaclass(_BenchmarkRegistrar, object)):\n    118   \"\"\"Abstract class that provides helper functions for running benchmarks.\n    119 \n\n/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six.pyc in with_metaclass(meta, *bases)\n    564 def with_metaclass(meta, *bases):\n    565     \"\"\"Create a base class with a metaclass.\"\"\"\n--&gt; 566     return meta(\"NewBase\", bases, {})\n    567 \n    568 def add_metaclass(metaclass):\n\n/Users/lingxiao/tensorflow/lib/python2.7/site-packages/tensorflow/python/platform/benchmark.py in __new__(mcs, clsname, base, attrs)\n    110     newclass = super(mcs, _BenchmarkRegistrar).__new__(\n    111         mcs, clsname, base, attrs)\n--&gt; 112     if not newclass.is_abstract():\n    113       GLOBAL_BENCHMARK_REGISTRY.add(newclass)\n    114     return newclass\n\nAttributeError: type object 'NewBase' has no attribute 'is_abstract'\n</code></pre>\n\n<p>I tried upgrading six and I am still seeing version 1.4.1.  Is six the problem here? if not what is?</p>\n"}, {"tags": ["python", "arrays", "numpy", "entropy"], "comments": [{"owner": {"reputation": 3202, "user_id": 5082406, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5fed7664333a6c548ad8c87eb9648c6?s=128&d=identicon&r=PG", "display_name": "Abhijay Ghildyal", "link": "https://stackoverflow.com/users/5082406/abhijay-ghildyal"}, "edited": false, "score": 2, "creation_date": 1521451305, "post_id": 42683287, "comment_id": 85718879, "body": "The A variable mentioned is not a numpy array"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9410826"}, "edited": false, "score": 0, "creation_date": 1524473282, "post_id": 42683943, "comment_id": 86969716, "body": "@Paul Panzer. Could you elaborate a bit on what would constitutes discrete and continuous. Specifically, If I had a 2dhistogram from the amount of time a subject spent in each bin. Is that discrete or continuous. Specifically, I have a grid of 4x4 and a subject spent equal time in each bin. If I converted that 2dhistogram into a list you would have 16 values. Would you analyse that as discrete or continuous?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1524477054, "post_id": 42683943, "comment_id": 86972183, "body": "@Punter345 bins are discrete. A continuous distribution is different in that probabilities are &quot;normalized by surface area&quot; think of it as chopping it up into ever smaller bins in order to get the probability at a single point. To get a meaningful limit you have to normalise by binsize which is why continuous behaves differently to discrete. If you want to fully understand that stuff you&#39;ll have to read up on it I&#39;m afraid."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9410826"}, "edited": false, "score": 0, "creation_date": 1524527158, "post_id": 42683943, "comment_id": 86999479, "body": "Thanks @Paul Panzer. I have read a few academic papers. I understand the concept of entropy, I just don&#39;t know what algorithms are valid for different situations. There&#39;s a few different tweaks in each equation I read. To be specific, my example splits the surface area in 1m squared values and returns a count for each second spent in those bins."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 11, "last_activity_date": 1489015937, "creation_date": 1489015937, "answer_id": 42683943, "question_id": 42683287, "link": "https://stackoverflow.com/questions/42683287/python-numpy-shannon-entropy-array/42683943#42683943", "title": "Python numpy shannon entropy array", "body": "<p>There are essentially two cases and it is not clear from your sample which one applies here.</p>\n\n<p>(1) Your probability distribution is discrete. Then you have to translate what appear to be relative frequencies to probabilities</p>\n\n<pre><code>pA = A / A.sum()\nShannon2 = -np.sum(pA*np.log2(pA))\n</code></pre>\n\n<p>(2) Your probability distribution is continuous. In that case the values in your input needn't sum to one. Assuming that the input is sampled regularly from the entire space, you'd get</p>\n\n<pre><code>pA = A / A.sum()\nShannon2 = -np.sum(pA*np.log2(A))\n</code></pre>\n\n<p>but in this case the formula really depends on the details of sampling and the underlying space.</p>\n\n<p>Side note: the <code>axis=1</code> in your example will cause an error since your input is flat. Omit it.</p>\n"}], "owner": {"reputation": 15, "user_id": 7681068, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XlZUD681Eig/AAAAAAAAAAI/AAAAAAAAABs/HLd9b63cYGk/photo.jpg?sz=128", "display_name": "Cristian Jaralillo Estrada", "link": "https://stackoverflow.com/users/7681068/cristian-jaralillo-estrada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11403, "favorite_count": 0, "accepted_answer_id": 42683943, "answer_count": 1, "score": 0, "last_activity_date": 1582203609, "creation_date": 1489012746, "last_edit_date": 1582203609, "question_id": 42683287, "link": "https://stackoverflow.com/questions/42683287/python-numpy-shannon-entropy-array", "title": "Python numpy shannon entropy array", "body": "<p>I have an Numpy array:</p>\n\n<pre><code> A = [ 1.56  1.47  1.31  1.16  1.11  1.14  1.06  1.12  1.19  1.06  0.92  0.78\n       0.6   0.59  0.4   0.03  0.11  0.54  1.17  1.9   2.6   3.28  3.8   4.28\n       4.71  4.61  4.6   4.41  3.88  3.46  3.04  2.63  2.3   1.75  1.24  1.14\n       0.97  0.92  0.94  1.    1.15  1.33  1.37  1.48  1.53  1.45  1.32  1.08\n       1.06  0.98  0.69]\n</code></pre>\n\n<p>How can I obtain the shannon entropy?</p>\n\n<p>I have seen it like this but not sure:</p>\n\n<pre><code>print -np.sum(A * np.log2(A), axis=1)\n</code></pre>\n"}, {"tags": ["python", "django", "forms", "templates"], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": true, "score": 1, "last_activity_date": 1489013575, "creation_date": 1489013575, "answer_id": 42683482, "question_id": 42683253, "link": "https://stackoverflow.com/questions/42683253/django-form-field-not-showing-up/42683482#42683482", "title": "Django Form Field not showing up", "body": "<p>I think you're passing in <code>form</code> to the template, but attempting to use <code>forms</code>.</p>\n"}], "owner": {"reputation": 82, "user_id": 7370024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fdfc1c41cb82dfe20a48fb2c4195ba?s=128&d=identicon&r=PG&f=1", "display_name": "azds", "link": "https://stackoverflow.com/users/7370024/azds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1908, "favorite_count": 0, "accepted_answer_id": 42683482, "answer_count": 1, "score": 2, "last_activity_date": 1489013575, "creation_date": 1489012631, "question_id": 42683253, "link": "https://stackoverflow.com/questions/42683253/django-form-field-not-showing-up", "title": "Django Form Field not showing up", "body": "<p>I just started learning Django and for this project I'm following the \"Tango with Django\" tutorial book. I have a problem with the input field of a form not showing up, while the button seems to be rendered fine. </p>\n\n<p>Here's my code:</p>\n\n<p>models.py</p>\n\n<pre><code>[...]\nclass Idea(models.Model):\n    keyword = models.ForeignKey(Keyword)\n    word = models.CharField(max_length=120)\n    count = models.IntegerField(default=1)\n\n    def __str__(self):\n        return self.word\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>[...]\nclass Meta:\n    model = Keyword\n    fields = ('name',)\n\nclass IdeaForm(forms.ModelForm):\n    word = forms.CharField(max_length=120)\n    count = forms.IntegerField(widget=forms.HiddenInput(), initial=1)\n\n    class Meta:\n        model = Idea\n        fields = ('word',)\n        exclude = ('keyword',)        \n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>[...]\ndef keyword_detail(request, keyword_name_slug):\n    form = IdeaForm()\n    context_dict = {}\n\n    try:\n        keyword = Keyword.objects.get(slug=keyword_name_slug)\n        ideas = Idea.objects.filter(keyword=keyword)\n\n        context_dict['keyword'] = keyword\n        context_dict['ideas'] = ideas\n\n    except Keyword.DoesNotExist:\n        context_dict['keyword'] = None\n        context_dict['ideas'] = None\n\n    if request.method == 'POST':\n        form = IdeaForm(request.POST)\n        if form.is_valid():\n            idea = form.save(commit=False)\n            idea.keyword = keyword\n            idea.count = 1\n            idea.save()\n            return keyword_detail(request, keyword_name_slug)\n        else:\n            print(form.errors)\n\n    context_dict['form'] = form\n\n    return render(request, 'openminds/keyword.html', context_dict)\n</code></pre>\n\n<p>keyword.html</p>\n\n<pre><code>[...]\n\n&lt;h3&gt;Add a new Idea&lt;/h3&gt;\n&lt;div&gt;\n    &lt;form id=\"idea_form\" method=\"post\" action=\"\"&gt;{% csrf_token %}\n        {% for hidden in forms.hidden_fields %}\n            {{ hidden }}\n        {% endfor %}\n        {% for field in forms.visible_fields %}\n            {{ field.errors }}\n            {{ field }}\n        {% endfor %}\n\n        &lt;input type=\"submit\" name=\"submit\" value=\"Add Idea\" /&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "regex", "string", "pandas", "matching"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1610725309, "post_id": 42683249, "comment_id": 116230925, "body": "Constructing the regex with<code>&quot;|&quot;.join(df[&#39;Text_Search&#39;])</code> is unnecessary since pandas has the <code>.isin()</code> function."}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1489017003, "last_edit_date": 1489017003, "creation_date": 1489013466, "answer_id": 42683456, "question_id": 42683249, "link": "https://stackoverflow.com/questions/42683249/python-pandas-how-to-match-list-of-strings-with-a-dataframe-column/42683456#42683456", "title": "Python/Pandas: How to Match List of Strings with a DataFrame column", "body": "<p>Here is one solution, which splits text into lower-case sets and uses sets intersection for each row:</p>\n\n<pre><code>In [160]: x['Match'] = x.Description.str.lower().str.split().map(set).to_frame('desc') \\\n     ...:               .apply(lambda r: (x.Employer.str.lower().str.split().map(set) &amp; r.desc).any(),\n     ...:                      axis=1)\n     ...:\n\nIn [161]: x\nOut[161]:\n          Date           Description   Amount  AutoNumber                 Employer  Match\n0    3/17/2015  WW120 TFR?FR xxx8690   140.00       49246  Cansel Survey Equipment  False\n2    3/13/2015  JX154 TFR?FR xxx8690   150.00       49246  Cansel Survey Equipment  False\n5     3/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment   True\n9     3/2/2015  UE200 TFR?FR xxx8690   180.00       49246  Cansel Survey Equipment  False\n10   2/27/2015  JH401 TFR?FR xxx8690   400.00       49246  Cansel Survey Equipment  False\n11   2/27/2015   CANSEL SURVEY E PAY   555.62       49246  Cansel Survey Equipment   True\n12   2/25/2015  HU204 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n13   2/23/2015  UQ263 TFR?FR xxx8690   102.00       49246  Cansel Survey Equipment  False\n14   2/23/2015  UT460 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n15   2/20/2015   CANSEL SURVEY E PAY  1222.05       49246  Cansel Survey Equipment   True\n17   2/17/2015  UO414 TFR?FR xxx8690   250.00       49246  Cansel Survey Equipment  False\n19   2/11/2015  HI540 TFR?FR xxx8690   130.00       49246  Cansel Survey Equipment  False\n20   2/11/2015  HQ010 TFR?FR xxx8690   177.00       49246  Cansel Survey Equipment  False\n21   2/10/2015  WU455 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n22    2/6/2015  JJ500 TFR?FR xxx8690   301.00       49246  Cansel Survey Equipment  False\n23    2/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment   True\n24    2/5/2015  IR453 TFR?FR xxx8690   168.56       49246  Cansel Survey Equipment  False\n26    2/2/2015  RQ574 TFR?FR xxx8690   500.00       49246  Cansel Survey Equipment  False\n27    2/2/2015  UT022 TFR?FR xxx8690   850.00       49246  Cansel Survey Equipment  False\n28  12/31/2014  HU521 TFR?FR xxx8690   950.17       49246  Cansel Survey Equipment  False\n</code></pre>\n\n<p>PS it's pretty slow as it's using not vectorized <code>.apply(..., axis=1)</code> method</p>\n"}, {"comments": [{"owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "edited": false, "score": 0, "creation_date": 1489028204, "post_id": 42683592, "comment_id": 72495354, "body": "This solution was fast and worked for me. Thanks so much"}], "tags": [], "owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "is_accepted": true, "score": 2, "last_activity_date": 1489014465, "last_edit_date": 1489014465, "creation_date": 1489014103, "answer_id": 42683592, "question_id": 42683249, "link": "https://stackoverflow.com/questions/42683249/python-pandas-how-to-match-list-of-strings-with-a-dataframe-column/42683592#42683592", "title": "Python/Pandas: How to Match List of Strings with a DataFrame column", "body": "<p>Here is a readable solution using an individual <code>search_func</code>:</p>\n\n<pre><code>def search_func(row):\n    matches = [test_value in row[\"Description\"].lower() \n               for test_value in row[\"Text_Search\"]]\n\n    if any(matches):\n        return \"Yes\"\n    else:\n        return \"No\"\n</code></pre>\n\n<p>This function is then applied row-wise:</p>\n\n<pre><code># create example data\ndf = pd.DataFrame({\"Description\": [\"CANSEL SURVEY E PAY\", \"JX154 TFR?FR xxx8690\"],\n                   \"Employer\": [\"Cansel Survey Equipment\", \"Cansel Survey Equipment\"]})\n\nprint(df)\n    Description             Employer\n0   CANSEL SURVEY E PAY     Cansel Survey Equipment\n1   JX154 TFR?FR xxx8690    Cansel Survey Equipment\n\n# create text searches and match column\ndf[\"Text_Search\"] = df[\"Employer\"].str.lower().str.split()\ndf[\"Match\"] = df.apply(search_func, axis=1)\n\n# show result\nprint(df)\n    Description             Employer                    Text_Search                     Match\n0   CANSEL SURVEY E PAY     Cansel Survey Equipment     [cansel, survey, equipment]     Yes\n1   JX154 TFR?FR xxx8690    Cansel Survey Equipment     [cansel, survey, equipment]     No\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "edited": false, "score": 0, "creation_date": 1489028257, "post_id": 42684088, "comment_id": 72495367, "body": "I will need to look into this solution some more. It looks like a very creative solution. Thanks so much."}, {"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 0, "creation_date": 1489067620, "post_id": 42684088, "comment_id": 72516145, "body": "@maxu i like the usage of the countvectorizer! Just for curiosity - did you time it against the apply Version?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 0, "creation_date": 1489067949, "post_id": 42684088, "comment_id": 72516373, "body": "@pansen, no i didn&#39;t do that yet - i&#39;ll try to &quot;timeit&quot; when i get back home. But i&#39;m almost sure it should be faster for bigger DFs... ;) PS If you want I can can ping you after posting the results of the timing"}, {"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 0, "creation_date": 1489068708, "post_id": 42684088, "comment_id": 72516945, "body": "@maxu Sure thanks and no hurry. I could also timeit myself otherwise but I&#39;m travelling too atm :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 5, "last_activity_date": 1489016627, "creation_date": 1489016627, "answer_id": 42684088, "question_id": 42683249, "link": "https://stackoverflow.com/questions/42683249/python-pandas-how-to-match-list-of-strings-with-a-dataframe-column/42684088#42684088", "title": "Python/Pandas: How to Match List of Strings with a DataFrame column", "body": "<p>Here is fast and memory-saving vectrorized solution, which uses <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html\" rel=\"noreferrer\">sklearn.feature_extraction.text.CountVectorizer</a> method:</p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\nvect = CountVectorizer(min_df=1, lowercase=True)\n\nX = vect.fit_transform(df['Employer'])\ncols_emp = vect.get_feature_names()\n\nX = vect.fit_transform(df['Description'])\ncols_desc = vect.get_feature_names()\n\ncommon_cols_idx = [i for i,col in enumerate(cols_desc) if col in cols_emp]\n\ndf['Match'] = (X.toarray()[:, common_cols_idx] == 1).any(1)\n</code></pre>\n\n<p>Source DF:</p>\n\n<pre><code>In [259]: df\nOut[259]:\n          Date           Description   Amount  AutoNumber                 Employer\n0    3/17/2015  WW120 TFR?FR xxx8690   140.00       49246  Cansel Survey Equipment\n2    3/13/2015  JX154 TFR?FR xxx8690   150.00       49246  Cansel Survey Equipment\n5     3/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment\n9     3/2/2015  UE200 TFR?FR xxx8690   180.00       49246  Cansel Survey Equipment\n10   2/27/2015  JH401 TFR?FR xxx8690   400.00       49246  Cansel Survey Equipment\n11   2/27/2015   CANSEL SURVEY E PAY   555.62       49246  Cansel Survey Equipment\n12   2/25/2015  HU204 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment\n13   2/23/2015  UQ263 TFR?FR xxx8690   102.00       49246  Cansel Survey Equipment\n14   2/23/2015  UT460 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment\n15   2/20/2015   CANSEL SURVEY E PAY  1222.05       49246  Cansel Survey Equipment\n17   2/17/2015  UO414 TFR?FR xxx8690   250.00       49246  Cansel Survey Equipment\n19   2/11/2015  HI540 TFR?FR xxx8690   130.00       49246  Cansel Survey Equipment\n20   2/11/2015  HQ010 TFR?FR xxx8690   177.00       49246  Cansel Survey Equipment\n21   2/10/2015  WU455 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment\n22    2/6/2015  JJ500 TFR?FR xxx8690   301.00       49246  Cansel Survey Equipment\n23    2/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment\n24    2/5/2015  IR453 TFR?FR xxx8690   168.56       49246             Cansel IR453\n26    2/2/2015  RQ574 TFR?FR xxx8690   500.00       49246  Cansel Survey Equipment\n27    2/2/2015  UT022 TFR?FR xxx8690   850.00       49246  Cansel Survey Equipment\n28  12/31/2014  HU521 TFR?FR xxx8690   950.17       49246      Cansel Survey HU521\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>In [261]: df\nOut[261]:\n          Date           Description   Amount  AutoNumber                 Employer  Match\n0    3/17/2015  WW120 TFR?FR xxx8690   140.00       49246  Cansel Survey Equipment  False\n2    3/13/2015  JX154 TFR?FR xxx8690   150.00       49246  Cansel Survey Equipment  False\n5     3/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment   True\n9     3/2/2015  UE200 TFR?FR xxx8690   180.00       49246  Cansel Survey Equipment  False\n10   2/27/2015  JH401 TFR?FR xxx8690   400.00       49246  Cansel Survey Equipment  False\n11   2/27/2015   CANSEL SURVEY E PAY   555.62       49246  Cansel Survey Equipment   True\n12   2/25/2015  HU204 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n13   2/23/2015  UQ263 TFR?FR xxx8690   102.00       49246  Cansel Survey Equipment  False\n14   2/23/2015  UT460 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n15   2/20/2015   CANSEL SURVEY E PAY  1222.05       49246  Cansel Survey Equipment   True\n17   2/17/2015  UO414 TFR?FR xxx8690   250.00       49246  Cansel Survey Equipment  False\n19   2/11/2015  HI540 TFR?FR xxx8690   130.00       49246  Cansel Survey Equipment  False\n20   2/11/2015  HQ010 TFR?FR xxx8690   177.00       49246  Cansel Survey Equipment  False\n21   2/10/2015  WU455 TFR?FR xxx8690   200.00       49246  Cansel Survey Equipment  False\n22    2/6/2015  JJ500 TFR?FR xxx8690   301.00       49246  Cansel Survey Equipment  False\n23    2/6/2015   CANSEL SURVEY E PAY  1182.08       49246  Cansel Survey Equipment   True\n24    2/5/2015  IR453 TFR?FR xxx8690   168.56       49246             Cansel IR453   True\n26    2/2/2015  RQ574 TFR?FR xxx8690   500.00       49246  Cansel Survey Equipment  False\n27    2/2/2015  UT022 TFR?FR xxx8690   850.00       49246  Cansel Survey Equipment  False\n28  12/31/2014  HU521 TFR?FR xxx8690   950.17       49246      Cansel Survey HU521   True\n</code></pre>\n\n<p>Some explanations:</p>\n\n<pre><code>In [266]: cols_desc\nOut[266]:\n['cansel',\n 'fr',\n 'hi540',\n 'hq010',\n 'hu204',\n 'hu521',\n 'ir453',\n 'jh401',\n 'jj500',\n 'jx154',\n 'pay',\n 'rq574',\n 'survey',\n 'tfr',\n 'ue200',\n 'uo414',\n 'uq263',\n 'ut022',\n 'ut460',\n 'wu455',\n 'ww120',\n 'xxx8690']\n\nIn [267]: cols_emp\nOut[267]: ['cansel', 'equipment', 'hu521', 'ir453', 'survey']\n\nIn [268]: common_cols_idx = [i for i,col in enumerate(cols_desc) if col in cols_emp]\n\nIn [269]: common_cols_idx\nOut[269]: [0, 5, 6, 12]\n\nIn [270]: X.toarray()\nOut[270]:\narray([[0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1],\n       [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1],\n       [0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       [0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1],\n       [0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1]], dtype=int64)\n\nIn [271]: X.toarray()[:, common_cols_idx]\nOut[271]:\narray([[0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [1, 0, 0, 1],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [1, 0, 0, 1],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [1, 0, 0, 1],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [1, 0, 0, 1],\n       [0, 0, 1, 0],\n       [0, 0, 0, 0],\n       [0, 0, 0, 0],\n       [0, 1, 0, 0]], dtype=int64)\n\nIn [272]: X.toarray()[:, common_cols_idx] == 1\nOut[272]:\narray([[False, False, False, False],\n       [False, False, False, False],\n       [ True, False, False,  True],\n       [False, False, False, False],\n       [False, False, False, False],\n       [ True, False, False,  True],\n       [False, False, False, False],\n       [False, False, False, False],\n       [False, False, False, False],\n       [ True, False, False,  True],\n       [False, False, False, False],\n       [False, False, False, False],\n       [False, False, False, False],\n       [False, False, False, False],\n       [False, False, False, False],\n       [ True, False, False,  True],\n       [False, False,  True, False],\n       [False, False, False, False],\n       [False, False, False, False],\n       [False,  True, False, False]], dtype=bool)\n\nIn [273]: (X.toarray()[:, common_cols_idx] == 1).any(1)\nOut[273]: array([False, False,  True, False, False,  True, False, False, False,  True, False, False, False, False, False,  True,  True, Fals\ne, False,  True], dtype=bool)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 1, "creation_date": 1489075926, "post_id": 42700078, "comment_id": 72522295, "body": "Nice, thanks for the comparisons! Results are as you predicted. +1"}, {"owner": {"reputation": 306, "user_id": 1382740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/722c78f07099f19042fb1077eff8a1a1?s=128&d=identicon&r=PG", "display_name": "flinz", "link": "https://stackoverflow.com/users/1382740/flinz"}, "edited": false, "score": 0, "creation_date": 1526543704, "post_id": 42700078, "comment_id": 87787869, "body": "Great job, thanks! I would propose adding this part to your answer above. It&#39;s an extension, not a different answer."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1489075572, "creation_date": 1489075572, "answer_id": 42700078, "question_id": 42683249, "link": "https://stackoverflow.com/questions/42683249/python-pandas-how-to-match-list-of-strings-with-a-dataframe-column/42700078#42700078", "title": "Python/Pandas: How to Match List of Strings with a DataFrame column", "body": "<h2>Timing comparison for different solutions</h2>\n\n<p>Let's prepare a bit bigger DF - <strong>2.000 rows</strong>:</p>\n\n<pre><code>In [3]: df = pd.concat([df] * 10**2, ignore_index=True)\n\nIn [4]: df.shape\nOut[4]: (2000, 5)\n</code></pre>\n\n<p><strong>Solution 1:</strong> <code>df.apply(..., axis=1)</code>:</p>\n\n<pre><code>df[\"Text_Search\"] = df.Employer.str.lower().str.split().map(set)\n\nIn [15]: %%timeit\n    ...: df.Description.str.lower().str.split().map(set).to_frame('desc') \\\n    ...:               .apply(lambda r: (df[\"Text_Search\"] &amp; r.desc).any(),\n    ...:                      axis=1)\n    ...:\n1 loop, best of 3: 5.06 s per loop\n</code></pre>\n\n<p><strong>Solution 2:</strong> <code>CountVectorizer</code></p>\n\n<pre><code>from sklearn.feature_extraction.text import CountVectorizer\nvect = CountVectorizer(min_df=1, lowercase=True)\n\nIn [8]: %%timeit\n   ...: X = vect.fit_transform(df['Employer'])\n   ...: cols_emp = vect.get_feature_names()\n   ...: X = vect.fit_transform(df['Description'])\n   ...: cols_desc = vect.get_feature_names()\n   ...: common_cols_idx = [i for i,col in enumerate(cols_desc) if col in cols_emp]\n   ...: (X.toarray()[:, common_cols_idx] == 1).any(1)\n   ...:\n10 loops, best of 3: 88.2 ms per loop\n</code></pre>\n\n<p><strong>Solution 3:</strong> <code>df.apply(search_func, axis=1)</code></p>\n\n<pre><code>df[\"Text_Search\"] = df[\"Employer\"].str.lower().str.split()\n\nIn [12]: %%timeit\n    ...: df.apply(search_func, axis=1)\n    ...:\n1 loop, best of 3: 362 ms per loop\n</code></pre>\n\n<p>NOTE: <code>Solution 1</code> is too slow, so i will not \"timeit\" this solution for bigger DFs</p>\n\n<hr>\n\n<p>Comparison of <code>df.apply(search_func, axis=1)</code> and <code>CountVectorizer</code> <strong>for 20.000 rows DF</strong>:</p>\n\n<pre><code>In [16]: df = pd.concat([df] * 10, ignore_index=True)\n\nIn [17]: df.shape\nOut[17]: (20000, 6)\n\nIn [20]: %%timeit\n    ...: df.apply(search_func, axis=1)\n    ...:\n1 loop, best of 3: 3.66 s per loop\n\nIn [21]: %%timeit\n    ...: X = vect.fit_transform(df['Employer'])\n    ...: cols_emp = vect.get_feature_names()\n    ...: X = vect.fit_transform(df['Description'])\n    ...: cols_desc = vect.get_feature_names()\n    ...: common_cols_idx = [i for i,col in enumerate(cols_desc) if col in cols_emp]\n    ...: (X.toarray()[:, common_cols_idx] == 1).any(1)\n    ...:\n1 loop, best of 3: 825 ms per loop\n</code></pre>\n\n<p>Comparison of <code>df.apply(search_func, axis=1)</code> and <code>CountVectorizer</code> <strong>for 200.000 rows DF</strong>:</p>\n\n<pre><code>In [22]: df = pd.concat([df] * 10, ignore_index=True)\n\nIn [23]: df.shape\nOut[23]: (200000, 6)\n\nIn [24]: %%timeit\n    ...: df.apply(search_func, axis=1)\n    ...:\n1 loop, best of 3: 36.8 s per loop\n\nIn [25]: %%timeit\n    ...: X = vect.fit_transform(df['Employer'])\n    ...: cols_emp = vect.get_feature_names()\n    ...: X = vect.fit_transform(df['Description'])\n    ...: cols_desc = vect.get_feature_names()\n    ...: common_cols_idx = [i for i,col in enumerate(cols_desc) if col in cols_emp]\n    ...: (X.toarray()[:, common_cols_idx] == 1).any(1)\n    ...:\n1 loop, best of 3: 8.28 s per loop\n</code></pre>\n\n<p><strong>Conclusion:</strong> <code>CountVectorized</code> solution is apporx. 4.44 times faster compared to <code>df.apply(search_func, axis=1)</code></p>\n"}], "owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10139, "favorite_count": 3, "accepted_answer_id": 42683592, "answer_count": 4, "score": 9, "last_activity_date": 1610725068, "creation_date": 1489012619, "last_edit_date": 1610725068, "question_id": 42683249, "link": "https://stackoverflow.com/questions/42683249/python-pandas-how-to-match-list-of-strings-with-a-dataframe-column", "title": "Python/Pandas: How to Match List of Strings with a DataFrame column", "body": "<p>I want to compare two columns: <code>Description</code> and <code>Employer</code>. I want to see if any keywords from <code>Employer</code> are found in the <code>Description</code> column. I have broken the <code>Employer</code> column down to words and converted to a list. Now I want to see if any of those words are in the corresponding <code>Description</code> column.</p>\n<p>Sample input:</p>\n<pre><code>print(df.head(25))\n\n\n          Date           Description   Amount  AutoNumber  \\\n0    3/17/2015  WW120 TFR?FR xxx8690   140.00       49246   \n2    3/13/2015  JX154 TFR?FR xxx8690   150.00       49246   \n5     3/6/2015   CANSEL SURVEY E PAY  1182.08       49246   \n9     3/2/2015  UE200 TFR?FR xxx8690   180.00       49246   \n10   2/27/2015  JH401 TFR?FR xxx8690   400.00       49246   \n11   2/27/2015   CANSEL SURVEY E PAY   555.62       49246   \n12   2/25/2015  HU204 TFR?FR xxx8690   200.00       49246   \n13   2/23/2015  UQ263 TFR?FR xxx8690   102.00       49246   \n14   2/23/2015  UT460 TFR?FR xxx8690   200.00       49246   \n15   2/20/2015   CANSEL SURVEY E PAY  1222.05       49246   \n17   2/17/2015  UO414 TFR?FR xxx8690   250.00       49246   \n19   2/11/2015  HI540 TFR?FR xxx8690   130.00       49246   \n20   2/11/2015  HQ010 TFR?FR xxx8690   177.00       49246   \n21   2/10/2015  WU455 TFR?FR xxx8690   200.00       49246   \n22    2/6/2015  JJ500 TFR?FR xxx8690   301.00       49246   \n23    2/6/2015   CANSEL SURVEY E PAY  1182.08       49246   \n24    2/5/2015  IR453 TFR?FR xxx8690   168.56       49246   \n26    2/2/2015  RQ574 TFR?FR xxx8690   500.00       49246   \n27    2/2/2015  UT022 TFR?FR xxx8690   850.00       49246   \n28  12/31/2014  HU521 TFR?FR xxx8690   950.17       49246   \n\n                   Employer  \n0   Cansel Survey Equipment  \n2   Cansel Survey Equipment  \n5   Cansel Survey Equipment  \n9   Cansel Survey Equipment  \n10  Cansel Survey Equipment  \n11  Cansel Survey Equipment  \n12  Cansel Survey Equipment  \n13  Cansel Survey Equipment  \n14  Cansel Survey Equipment  \n15  Cansel Survey Equipment  \n17  Cansel Survey Equipment  \n19  Cansel Survey Equipment  \n20  Cansel Survey Equipment  \n21  Cansel Survey Equipment  \n22  Cansel Survey Equipment  \n23  Cansel Survey Equipment  \n24  Cansel Survey Equipment  \n26  Cansel Survey Equipment  \n27  Cansel Survey Equipment  \n28  Cansel Survey Equipment  \n</code></pre>\n<p>I tried something like this, but it doesn't seem to work.:</p>\n<pre><code>df['Text_Search'] = df['Employer'].apply(lambda x: x.split(&quot; &quot;))\ndf['Match'] = np.where(df['Description'].str.contains(&quot;|&quot;.join(df['Text_Search'])), &quot;Yes&quot;, &quot;No&quot;)\n</code></pre>\n<p>My desired output would be as shown below:</p>\n<pre><code>          Date           Description   Amount  AutoNumber  \\\n0    3/17/2015  WW120 TFR?FR xxx8690   140.00       49246   \n2    3/13/2015  JX154 TFR?FR xxx8690   150.00       49246   \n5     3/6/2015   CANSEL SURVEY E PAY  1182.08       49246   \n9     3/2/2015  UE200 TFR?FR xxx8690   180.00       49246   \n10   2/27/2015  JH401 TFR?FR xxx8690   400.00       49246   \n11   2/27/2015   CANSEL SURVEY E PAY   555.62       49246   \n12   2/25/2015  HU204 TFR?FR xxx8690   200.00       49246   \n13   2/23/2015  UQ263 TFR?FR xxx8690   102.00       49246   \n14   2/23/2015  UT460 TFR?FR xxx8690   200.00       49246   \n15   2/20/2015   CANSEL SURVEY E PAY  1222.05       49246   \n17   2/17/2015  UO414 TFR?FR xxx8690   250.00       49246   \n19   2/11/2015  HI540 TFR?FR xxx8690   130.00       49246   \n20   2/11/2015  HQ010 TFR?FR xxx8690   177.00       49246   \n21   2/10/2015  WU455 TFR?FR xxx8690   200.00       49246   \n22    2/6/2015  JJ500 TFR?FR xxx8690   301.00       49246   \n23    2/6/2015   CANSEL SURVEY E PAY  1182.08       49246   \n24    2/5/2015  IR453 TFR?FR xxx8690   168.56       49246   \n26    2/2/2015  RQ574 TFR?FR xxx8690   500.00       49246   \n27    2/2/2015  UT022 TFR?FR xxx8690   850.00       49246   \n28  12/31/2014  HU521 TFR?FR xxx8690   950.17       49246   \n29  12/30/2014  WZ553 TFR?FR xxx8690   200.00       49246   \n32  12/29/2014  JW173 TFR?FR xxx8690   300.00       49246   \n33  12/24/2014   CANSEL SURVEY E PAY  1219.21       49246   \n34  12/24/2014   CANSEL SURVEY E PAY   434.84       49246   \n36  12/23/2014  WT002 TFR?FR xxx8690   160.00       49246   \n\n                   Employer                  Text_Search Match  \n0   Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n2   Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n5   Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes \n9   Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n10  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n11  Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes  \n12  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n13  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n14  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n15  Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes  \n17  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n19  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n20  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n21  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n22  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n23  Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes  \n24  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n26  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n27  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n28  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n29  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n32  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No  \n33  Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes  \n34  Cansel Survey Equipment  [Cansel, Survey, Equipment]    Yes  \n36  Cansel Survey Equipment  [Cansel, Survey, Equipment]    No \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-import"], "comments": [{"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "edited": false, "score": 2, "creation_date": 1489012876, "post_id": 42683232, "comment_id": 72490703, "body": "<a href=\"https://docs.python.org/2.5/whatsnew/pep-328.html\" rel=\"nofollow noreferrer\">docs.python.org/2.5/whatsnew/pep-328.html</a>"}, {"owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "edited": false, "score": 0, "creation_date": 1489012960, "post_id": 42683232, "comment_id": 72490752, "body": "<a href=\"http://stackoverflow.com/questions/7279810/what-does-a-in-an-import-statement-in-python-mean\" title=\"what does a in an import statement in python mean\">stackoverflow.com/questions/7279810/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 3, "last_activity_date": 1489013456, "last_edit_date": 1489013456, "creation_date": 1489013031, "answer_id": 42683354, "question_id": 42683232, "link": "https://stackoverflow.com/questions/42683232/importing-in-python-what-does-the-mean/42683354#42683354", "title": "Importing in Python what does the . mean?", "body": "<p>It is a so called relative import see <a href=\"https://www.python.org/dev/peps/pep-0328/\" rel=\"nofollow noreferrer\">here</a> and refers to modules or packages located in the same directory.\n(More precisely, in the same package, which in most but <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"nofollow noreferrer\">not all</a> cases will be the same thing.)</p>\n"}], "owner": {"reputation": 123, "user_id": 1904630, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8aaa135d1a161f734d39d08b3b48725a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/1904630/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "closed_date": 1489013174, "accepted_answer_id": 42683354, "answer_count": 1, "score": 1, "last_activity_date": 1489013456, "creation_date": 1489012548, "question_id": 42683232, "link": "https://stackoverflow.com/questions/42683232/importing-in-python-what-does-the-mean", "closed_reason": "Duplicate", "title": "Importing in Python what does the . mean?", "body": "<p>I am trying to follow some code in python 3.5 and I am still super newb level. </p>\n\n<p>I have the following imports but I'm not sure what the differences are with the ones that begin with '.'?</p>\n\n<pre><code>import os\nimport time\nimport random\nimport numpy as np\nfrom tqdm import tqdm\nimport tensorflow as tf\n\nfrom .base import BaseModel\nfrom .history import History\nfrom .replay_memory import ReplayMemory\nfrom .ops import linear, conv2d, clipped_error\nfrom utils import get_time, save_pkl, load_pkl\n</code></pre>\n\n<p>For example .base .history .replay_memory .ops</p>\n\n<p>Where is it getting those modules? Are they getting them as a subset of one of the earlier modules?</p>\n"}, {"tags": ["python", "image", "canvas", "tkinter", "resize"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012952, "creation_date": 1489012952, "answer_id": 42683329, "question_id": 42683208, "link": "https://stackoverflow.com/questions/42683208/is-there-a-way-without-pil-to-have-an-images-put-onto-a-canvas-to-always-be-re/42683329#42683329", "title": "Is there a way, without PIL, to have an images put onto a Canvas to always be resized to fit in?", "body": "<p><code>subsample</code> and <code>zoom</code> are the only way to resize images with the tkinter <code>PhotoImage</code> objects. Whey you call them, they will always shrink or grow the image. It is up to you to determine which one to call, and what arguments that will give you the closest approximation to the desired size. </p>\n"}], "owner": {"reputation": 101, "user_id": 7195431, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc83bf7d31d7ab39b0c27c5424d84cd5?s=128&d=identicon&r=PG&f=1", "display_name": "RazDoog", "link": "https://stackoverflow.com/users/7195431/razdoog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489141753, "creation_date": 1489012472, "last_edit_date": 1489141753, "question_id": 42683208, "link": "https://stackoverflow.com/questions/42683208/is-there-a-way-without-pil-to-have-an-images-put-onto-a-canvas-to-always-be-re", "title": "Is there a way, without PIL, to have an images put onto a Canvas to always be resized to fit in?", "body": "<p>I am making a program where pictures are displayed to the user. Some of these pictures are, however, too long and run off the canvas. The canvas is a set size(width=600, height=150). I am wondering if there is anything to make sure the longer pictures do not exceed this width and are shrunk down when they do so they fit.</p>\n\n<p>The images are in <code>.gif</code> format.</p>\n\n<p>I have tried using <code>subsample()</code> and <code>zoom()</code> but these seem to shrink the images even when they already fit on the canvas making them too small.</p>\n"}, {"tags": ["jquery", "python", "ajax", "django", "postgresql"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1489125820, "post_id": 42683205, "comment_id": 72543638, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/41134260/django-jsonfield-inside-arrayfield\">Django JSONField inside ArrayField</a>"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1489125860, "post_id": 42683205, "comment_id": 72543651, "body": "You have to store this as proper rows in your table. What you are trying to do requires multiple queries and each dictionary item in a row is the proper structure for that"}], "answers": [{"tags": [], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "is_accepted": false, "score": 1, "last_activity_date": 1489012545, "creation_date": 1489012545, "answer_id": 42683229, "question_id": 42683205, "link": "https://stackoverflow.com/questions/42683205/how-to-store-long-dictionary-in-django-using-postgresql/42683229#42683229", "title": "How to store long dictionary in Django using postgresql", "body": "<p>You should use JSONField, it will allow for nested dictionaries inside your models.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>from django.contrib.postgres.fields import JSONField\nfrom django.db import models\n\nclass Dog(models.Model):\n    name = models.CharField(max_length=200)\n    data = JSONField()\n\n    def __str__(self):  # __unicode__ on Python 2\n        return self.name\n</code></pre>\n\n<p>Source: <a href=\"https://docs.djangoproject.com/en/1.10/ref/contrib/postgres/fields/#querying-jsonfield\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.10/ref/contrib/postgres/fields/#querying-jsonfield</a></p>\n"}], "owner": {"reputation": 47, "user_id": 7423107, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/292e7c75e1f89a3799beaf4e863de519?s=128&d=identicon&r=PG&f=1", "display_name": "Hannan", "link": "https://stackoverflow.com/users/7423107/hannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489012545, "creation_date": 1489012460, "question_id": 42683205, "link": "https://stackoverflow.com/questions/42683205/how-to-store-long-dictionary-in-django-using-postgresql", "title": "How to store long dictionary in Django using postgresql", "body": "<p>I am trying to add list of airport codes and their name in Django postgresql database using models. My target is that airport name shows up when someone types airport code like you see of airlines' websites. I have made a dictionary like this</p>\n\n<pre><code>    airports = {\"JFK\": 'New York',\n    \"AAE\": 'Annabah',\n    \"AAF\": 'Apalachicola',\n    \"AAG\": 'Arapoti',\n    \"AAH\": 'Aachen',\n    \"AAI\": 'Arraias',\n    \"AAJ\": 'Awaradam'\n    \"...\": '........'\n}\n</code></pre>\n\n<p>So when someone types JFK code, the airport name New York will show up. I understand I'll have to use ajax and jquery for that. But first I have to save the dictionary of hundreds of airports in my postgresql database. Any help what is the best way to save this dictionary and I dont want to type them by hand one by one because they are hundreds.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1489012457, "post_id": 42683189, "comment_id": 72490510, "body": "can you post your desired data set?"}, {"owner": {"reputation": 59, "user_id": 7669993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0e8e63c4280647c3c7045d14cfbce52?s=128&d=identicon&r=PG&f=1", "display_name": "Claudia", "link": "https://stackoverflow.com/users/7669993/claudia"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1489013751, "post_id": 42683189, "comment_id": 72491081, "body": "I just posted it. Thank you! @MaxU"}], "answers": [{"tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013028, "creation_date": 1489013028, "answer_id": 42683350, "question_id": 42683189, "link": "https://stackoverflow.com/questions/42683189/pandas-series-extractall-error/42683350#42683350", "title": "pandas series extractall error", "body": "<p>If you are using an older version of pandas, you might have run into something like <a href=\"https://github.com/pandas-dev/pandas/pull/13156\" rel=\"nofollow noreferrer\">this issue</a> (although your indices appear to not be of the problematic form). In version 0.19.0, both cases run without errors:</p>\n\n<pre><code>In [25]: df = pd.DataFrame({'col1': ['SPAN 10300 or 20300', 'SPAN 10300 or 20301', 'MOGK 10100/30100', 'PHSC 12600 must be taken before PHSC 12620']})\n\nIn [26]: df.index = ['a', 'b', 'c', 'd']\n\nIn [27]: df\nOut[27]: \n                                     col1\na                         SPAN 10300 or 20300\nb                         SPAN 10300 or 20301\nc                            MOGK 10100/30100\nd  PHSC 12600 must be taken before PHSC 12620\n\nIn [28]: df.col1.str.extract('(([A-Z]{4}\\s*\\d{5}?)|(\\d{5}?)).*?(and|\\-|or|\\, or|\\:|\\/|\\.|\\;|\\(|\\s?)')\n/usr/local/bin/ipython:1: FutureWarning: currently extract(expand=None) means expand=False (return Index/Series/DataFrame) but in a future version of pandas this will be changed to expand=True (return DataFrame)\n  #!/usr/local/bin/python3.5\nOut[28]: \n        0           1    2  3\na  SPAN 10300  SPAN 10300  NaN   \nb  SPAN 10300  SPAN 10300  NaN   \nc  MOGK 10100  MOGK 10100  NaN  /\nd  PHSC 12600  PHSC 12600  NaN   \n\nIn [29]: df.col1.str.extractall('(([A-Z]{4}\\s*\\d{5}?)|(\\d{5}?)).*?(and|\\-|or|\\, or|\\:|\\/|\\.|\\;|\\(|\\s?)')\nOut[29]: \n              0           1      2    3\n  match                                    \na 0      SPAN 10300  SPAN 10300    NaN     \n  1           20300         NaN  20300  NaN\nb 0      SPAN 10300  SPAN 10300    NaN     \n  1           20301         NaN  20301  NaN\nc 0      MOGK 10100  MOGK 10100    NaN    /\n  1           30100         NaN  30100  NaN\nd 0      PHSC 12600  PHSC 12600    NaN     \n  1      PHSC 12620  PHSC 12620    NaN  NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1489014328, "creation_date": 1489014328, "answer_id": 42683639, "question_id": 42683189, "link": "https://stackoverflow.com/questions/42683189/pandas-series-extractall-error/42683639#42683639", "title": "pandas series extractall error", "body": "<p>Try this:</p>\n\n<pre><code>In [172]: df.col1.str.extractall(r'(\\w{4}\\s\\d{4,}|\\d{4,}|[\\-/]|or)').unstack().fillna('')\nOut[172]:\n                0\nmatch           0   1           2  3      4\na      GEOS 13100\nb      MATH 13100   -  MATH 13200\nc      MATH 19100   -       19200\nd      SPAN 10300  or       20300\ne      EGPT 10101   -       10102  -  10103\nf      MOGK 10100   /       30100\ng      PHSC 12600  or  PHSC 12620\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7669993, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0e8e63c4280647c3c7045d14cfbce52?s=128&d=identicon&r=PG&f=1", "display_name": "Claudia", "link": "https://stackoverflow.com/users/7669993/claudia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 594, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1489014328, "creation_date": 1489012393, "last_edit_date": 1489013691, "question_id": 42683189, "link": "https://stackoverflow.com/questions/42683189/pandas-series-extractall-error", "title": "pandas series extractall error", "body": "<p>I have a pandas series (named df) in the following format:</p>\n\n<pre><code>                     col1\n  a               GEOS 13100\n  b               MATH 13100-MATH 13200\n  c               MATH 19100-19200\n  d               SPAN 10300 or 20300\n  e               EGPT 10101-10102-10103\n  f               MOGK 10100/30100\n  g               PHSC 12600 must be taken before PHSC 12620\n</code></pre>\n\n<p>I want to extract all courses (\"[A-Z]{4}\\s*\\d{5}\" or \"\\d{5}\") from col1. The desired data set will be in the following format:</p>\n\n<pre><code>          col1        col2          col3          col4        col5\na      GEOS 13100\nb      MATH 13100      -          MATH 13200\nc      MATH 19100      -          19200\nd      SPAN 10300      or         20300\ne      EGPT 10101      -          10102            -          10103\nf      MOGK 10100      /          30100\ng      PHSC 12600                 PHSC 12620\n</code></pre>\n\n<p>I tried     </p>\n\n<pre><code>df.col1.str.extract('(([A-Z]{4}\\s*\\d{5}?)|(\\d{5}?)).*?(and|\\-|or|\\, or|\\:|\\/|\\.|\\;|\\(|\\s?)')\n</code></pre>\n\n<p>and got the first matched pattern.</p>\n\n<p>I tried </p>\n\n<pre><code>df.col1.str.extractall('(([A-Z]{4}\\s*\\d{5}?)|(\\d{5}?)).*?(and|\\-|or|\\, or|\\:|\\/|\\.|\\;|\\(|\\s?)')\n</code></pre>\n\n<p>but got the following error:</p>\n\n<pre><code>Length of names must match number of levels in MultiIndex.\n</code></pre>\n\n<p>Anyone has any idea what I should do?</p>\n"}, {"tags": ["python", "python-2.7", "user-interface", "mouseevent", "pyside"], "answers": [{"tags": [], "owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "is_accepted": false, "score": 0, "last_activity_date": 1490100284, "creation_date": 1490100284, "answer_id": 42927533, "question_id": 42683135, "link": "https://stackoverflow.com/questions/42683135/pyside-position-of-movable-item-resets-on-mouse-event/42927533#42927533", "title": "PySide: Position of movable item resets on mouse event", "body": "<p>You forgot self as parameter in the calls to mousePressEvent, mouseReleaseEvent of the super classes.</p>\n\n<pre><code>    QGraphicsItem.mousePressEvent(self, event)\n\n    QGraphicsItem.mouseReleaseEvent(self, event)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6055694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ccd40d20b2ebdf250865d8de01ed02d?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/6055694/rafal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490100284, "creation_date": 1489012170, "question_id": 42683135, "link": "https://stackoverflow.com/questions/42683135/pyside-position-of-movable-item-resets-on-mouse-event", "title": "PySide: Position of movable item resets on mouse event", "body": "<p>I have problem with PySide (I'm still rookie in programming). I created custom QGraphicsItem called RBNode. It should stay in the position where mouseReleaseEvent has happend. I don't know why but when I'm trying to move the instance of RBNode class more than once, the position of this instance resets. How can I avoid reseting position? \nThanks in advance for your help.</p>\n\n<pre><code>#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\nimport sys\nfrom PySide.QtGui import *\nfrom PySide.QtCore import *\n\nclass RBNode(QGraphicsItem):\n    def __init__(self, factorView = None):\n        super(RBNode, self).__init__()\n        self.factor = factorView\n        self.pressed = False\n        self.x = self.pos().x()\n        self.y = self.pos().y()\n        self.setFlag(QGraphicsItem.ItemIsMovable)\n\n    def boundingRect(self):\n        return QRectF(-50,-50,100,100)\n\n    def paint(self, painter, option, widget):\n        rect = QRectF(-50,-50,100,100)\n\n        if self.pressed:\n            painter.setBrush(Qt.red)\n        else:\n            painter.setBrush(Qt.darkGray)\n\n        painter.drawEllipse(rect)\n\n    def mousePressEvent(self, event):\n        self.pressed = True\n        self.update()\n        QGraphicsItem.mousePressEvent(event)\n\n    def mouseReleaseEvent(self, event):\n        self.pressed = False\n        self.update()\n        QGraphicsItem.mouseReleaseEvent(event)\n\n\nclass RBGraphicView(QGraphicsView):\n    def __init__(self):\n        super(RBGraphicView, self).__init__()\n        self.factorView = 1\n\n        self.initScene()\n        self.initGui()\n\n    def initGui(self):\n        self.setWindowTitle(\"A Simple Animation\")\n        self.show()\n\n    def initScene(self):\n        self.rbScene = QGraphicsScene(self)\n        self.rbAddItem(self.rbScene)\n        self.setScene(self.rbScene)\n\n    def rbAddItem(self, scene):\n\n        rbNode1 = RBNode(self.factorView)\n        rbNode1.setPos(100,100)\n        scene.addItem(rbNode1)\n\n\nif __name__ == '__main__':\n    try:\n        myApp = QApplication(sys.argv)\n        myView = RBGraphicView()\n        myApp.exec_()\n        sys.exit(0)\n\n    except NameError:\n        print(\"Name Error:\", sys.exc_info()[1])\n\n    except SystemExit:\n        print(\"Closing Window...\")\n\n    except Exception:\n        print(sys.exc_info()[1])\n</code></pre>\n"}, {"tags": ["python", "mean", "k-means", "nested-lists"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1489012285, "post_id": 42683130, "comment_id": 72490427, "body": "These are <i>arrays</i>. Not <i>lists</i>. Or at least, you seem to be mixing the two. Why not just stick with lists?"}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489012551, "post_id": 42683130, "comment_id": 72490556, "body": "@juanpa.arrivillaga If I check the type(lists) it returns the value &#39;list&#39;. I am aware that I start out with numpy arrays. In your concept to the solution of the problem, does using either have an advantage over the other?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489012765, "post_id": 42683130, "comment_id": 72490654, "body": "@Yes, <code>lists</code> will be a list because it is assigne the result of a <i>list-comprehension</i>. I&#39;m not sure what you are trying to do, though."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489013166, "post_id": 42683130, "comment_id": 72490834, "body": "What is a &quot;cluster&quot; here? Are you justr trying to implement k-means? Why don&#39;t you use a library like <code>sklearn</code>?"}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489013176, "post_id": 42683130, "comment_id": 72490844, "body": "@juanpa.arrivillaga I added what the current output is if your run the program. What I want to do is take each of the smallest distances found from each data point to each centroid (program already does this). Find out which &#39;Distance from Centroid&#39; list the smallest distance was from (1-3) in this example. Find what the corresponding data point was (from the nparray, which you could look at as a list if it makes you happy), and assign it to a new list called &#39;Cluster X&#39; where &#39;x&#39; is the number of the cluster that is the same as the &#39;Distance from&#39; list."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489013223, "post_id": 42683130, "comment_id": 72490865, "body": "@juanpa.arrivillaga it is for a homework assignment. Yes it is a k-means algorithm that is completely from scratch without using the sklearn library."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489014187, "post_id": 42683130, "comment_id": 72491265, "body": "@juanpa.arrivillaga In the program above, there are 3 elements in the list &#39;lists&#39;. Those elements are lists themselves. How do I tell from the zip list of smallest distances which distance the distance was from?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489014671, "post_id": 42683130, "comment_id": 72491437, "body": "You have to keep track somehow. I&#39;ll post an example as an answer."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489015243, "post_id": 42683130, "comment_id": 72491667, "body": "@juanpa.arrivillaga What if instead of getting the smallest distance, I got the index of the smallest index? That would be the same as what I am wanting to do i think..."}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "edited": false, "score": 0, "creation_date": 1489018674, "post_id": 42683889, "comment_id": 72492822, "body": "Works like a charm! I&#39;ve been playing with finding the mean value of each &#39;cluster&#39;, is there a built in function that could help me with that? I&#39;ll definitely pay more attention to what data type I am using next time."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "edited": false, "score": 0, "creation_date": 1489022188, "post_id": 42683889, "comment_id": 72493788, "body": "@cparks10 If you have a list of arrays, this is actually quite straightforward: <code>means = {k: sum(v)&#47;len(v) for k,v in clusters.items()}</code>."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "edited": false, "score": 0, "creation_date": 1489024570, "post_id": 42683889, "comment_id": 72494368, "body": "@ juanpa.arrivillaga What if I am just wanting it to return the values and not the keys? So instead of the {0: array([18, 44]), 1: array([2, 4]), 2: array([41, 12])} I would just get [[18,44],[2,4],[41,12]] or whatever would be the best format to use to compare the means to by original centroid array/list?"}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "edited": false, "score": 0, "creation_date": 1489030262, "post_id": 42683889, "comment_id": 72495933, "body": "@ juanpa.arrivillaga I&#39;ve got the issue rasied in a new question.   <a href=\"http://stackoverflow.com/questions/42684945/how-i-select-format-only-the-values-from-a-dictionary-into-a-list-or-numpy-array/42685451?noredirect=1#comment72495266_42685451\" title=\"how i select format only the values from a dictionary into a list or numpy array\">stackoverflow.com/questions/42684945/&hellip;</a>"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 1, "last_activity_date": 1489015687, "creation_date": 1489015687, "answer_id": 42683889, "question_id": 42683130, "link": "https://stackoverflow.com/questions/42683130/how-do-i-add-elements-to-a-list-from-another-list/42683889#42683889", "title": "How do I add elements to a list from another list?", "body": "<p>Suppose, you are in the general situation where you want to tell \"from which list that is being zipped did the element come from\", well, you have to keep track of that:</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; ls = [[random.randint(80,200) for _ in range(8)] for _ in range(3)]\n&gt;&gt;&gt; pprint(ls)\n[[114, 196, 185, 192, 129, 183, 150, 189],\n [173, 173, 116, 135, 109, 87, 80, 88],\n [159, 173, 139, 189, 100, 107, 102, 188]]\n&gt;&gt;&gt; [min(zip(l,range(len(l)))) for l in zip(*ls)]\n[(114, 0), (173, 1), (116, 1), (135, 1), (100, 2), (87, 1), (80, 1), (88, 1)]\n</code></pre>\n\n<p>Applied to your situation:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt;\n&gt;&gt;&gt; centroids = np.array([[3,44],[5,15],[99,12]])\n&gt;&gt;&gt; dataPoints = np.array([[2,4],[17,4],[45,2],[45,7],[16,32],[32,14],[20,56],[68,33]])\n&gt;&gt;&gt;\n&gt;&gt;&gt; def size(vector):\n...     return np.sqrt(sum(x**2 for x in vector))\n...\n&gt;&gt;&gt; def distance(vector1, vector2):\n...     return size(vector1 - vector2)\n...\n&gt;&gt;&gt; lists = [[distance(vector1, vector2) for vector2 in dataPoints] for vector1 in centroids]\n&gt;&gt;&gt; pprint(lists)\n[[40.01249804748511,\n  42.379240200834182,\n  59.396969619669989,\n  55.97320787662612,\n  17.691806012954132,\n  41.725292090050132,\n  20.808652046684813,\n  65.924198895398035],\n [11.401754250991379,\n  16.278820596099706,\n  42.059481689626182,\n  40.792156108742276,\n  20.248456731316587,\n  27.018512172212592,\n  43.657759905886145,\n  65.520989003524662],\n [97.329337817535773,\n  82.389319696183918,\n  54.918120870983927,\n  54.230987451824994,\n  85.37564055396598,\n  67.029844099475568,\n  90.426765949026404,\n  37.443290453698111]]\n&gt;&gt;&gt; smallest = [min(zip(l,range(len(l)))) for l in zip(*lists)]\n&gt;&gt;&gt; smallest\n[(11.401754250991379, 1), (16.278820596099706, 1), (42.059481689626182, 1), (40.792156108742276, 1), (17.691806012954132, 0), (27.018512172212592, 1), (20.808652046684813, 0), (37.443290453698111, 2)]\n</code></pre>\n\n<p>We could have been clever and not brought along the minimum value, but it doesn't really matter.</p>\n\n<p>Since you may have as many centriods, to make it dynamic, don't use <em>variables</em>, use a <em>container</em>. A list would do, but <code>dict</code>s are easy:</p>\n\n<pre><code>&gt;&gt;&gt; clusters = {}\n&gt;&gt;&gt; for j, (_, i) in enumerate(smallest):\n...     clusters.setdefault(i,[]).append(dataPoints[j])\n...\n</code></pre>\n\n<p>Finally, </p>\n\n<pre><code>&gt;&gt;&gt; pprint(clusters)\n{0: [array([16, 32]), array([20, 56])],\n 1: [array([2, 4]),\n     array([17,  4]),\n     array([45,  2]),\n     array([45,  7]),\n     array([32, 14])],\n 2: [array([68, 33])]}\n</code></pre>\n\n<p>Finally, I would stick with <em>either lists or np.arrays</em>. Rarely are both appropriate. And you should understand the pros-and-cons of each, so you know which is the appropriate data-structure for your problem. This is a very important aspect of writing code.</p>\n"}], "owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 42683889, "answer_count": 1, "score": 2, "last_activity_date": 1489015687, "creation_date": 1489012157, "last_edit_date": 1489012858, "question_id": 42683130, "link": "https://stackoverflow.com/questions/42683130/how-do-i-add-elements-to-a-list-from-another-list", "title": "How do I add elements to a list from another list?", "body": "<p>The code finds the smallest item in each list, I want to add that data point to a list based off of the\nlist it was from. I also want to be able to find the mean of each cluster.</p>\n\n<pre><code>import numpy as np\n\ncentroids = np.array([[3,44],[5,15],[99,12]])\ndataPoints = np.array([[2,4],[17,4],[45,2],[45,7],[16,32],[32,14],[20,56],[68,33]])\n\ndef size(vector):\n    return np.sqrt(sum(x**2 for x in vector))\n\ndef distance(vector1, vector2):\n    return size(vector1 - vector2)\n\ndef distances(array1, array2):\n    lists = [[distance(vector1, vector2) for vector2 in array2] for vector1 in array1]\n    x = 1\n    for i in lists:\n        print ('Distance from Centroid {}:{}\\n'.format(x,i))\n        x=x+1\n\n    print map(min, zip(*lists))\n\ndistances(centroids,dataPoints)\n</code></pre>\n\n<p>My Output:</p>\n\n<pre><code>Distance from Centroid 1:[40.01249804748511, 42.379240200834182, 59.396969619669989, 55.97320787662612, 17.691806012954132, 41.725292090050132, 20.808652046684813, 65.924198895398035]\n\nDistance from Centroid 2:[11.401754250991379, 16.278820596099706, 42.059481689626182, 40.792156108742276, 20.248456731316587, 27.018512172212592, 43.657759905886145, 65.520989003524662]\n\nDistance from Centroid 3:[97.329337817535773, 82.389319696183918, 54.918120870983927, 54.230987451824994, 85.37564055396598, 67.029844099475568, 90.426765949026404, 37.443290453698111]\n\n[11.401754250991379, 16.278820596099706, 42.059481689626182, 40.792156108742276, 17.691806012954132, 27.018512172212592, 20.808652046684813, 37.443290453698111]\n</code></pre>\n\n<p>Additional Desired Output:</p>\n\n<pre><code>Cluster 1: [[16,32],[20,56]]\nCluster 2: [[2,4],[17,4],[45,2],[45,7],[32,14]]\nCluster 3: [[68,33]]\n\nList of means :[[18,44],[28.2,6.2],[68,33]]\n</code></pre>\n\n<p>For this example, the amount of centroids/clusters are defined.\nWhat if they are dynamic and the cluster lists need to be created on the fly?</p>\n"}, {"tags": ["python", "tensorflow", "tensorboard"], "answers": [{"tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": true, "score": 5, "last_activity_date": 1489012462, "creation_date": 1489012462, "answer_id": 42683206, "question_id": 42683097, "link": "https://stackoverflow.com/questions/42683097/launching-tensorboard-nameerror-name-tensorboard-is-not-defined/42683206#42683206", "title": "Launching Tensorboard - NameError: name &#39;tensorboard&#39; is not defined", "body": "<p>From the error message, it looks like you are entering the command <code>tensorboard</code> at the Python shell. However, <code>tensorboard</code> is actually the name of a Windows executable program, and not a Python command.\nTherefore, you instead run TensorBoard by entering the same command at the \"<code>C:\\&gt;</code>\" Windows Command Prompt.</p>\n"}, {"comments": [{"owner": {"reputation": 180, "user_id": 5148990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5K9MS.jpg?s=128&g=1", "display_name": "Manusha", "link": "https://stackoverflow.com/users/5148990/manusha"}, "edited": false, "score": 0, "creation_date": 1544285694, "post_id": 48934692, "comment_id": 94225447, "body": "This helps when you are using keras."}], "tags": [], "owner": {"reputation": 1646, "user_id": 3880948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUK7k.jpg?s=128&g=1", "display_name": "mostafa.elhoushi", "link": "https://stackoverflow.com/users/3880948/mostafa-elhoushi"}, "is_accepted": false, "score": 5, "last_activity_date": 1519323865, "creation_date": 1519323865, "answer_id": 48934692, "question_id": 42683097, "link": "https://stackoverflow.com/questions/42683097/launching-tensorboard-nameerror-name-tensorboard-is-not-defined/48934692#48934692", "title": "Launching Tensorboard - NameError: name &#39;tensorboard&#39; is not defined", "body": "<p>Have you tried adding to the top of your script:</p>\n\n<pre><code>from keras.callbacks import TensorBoard\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 6921325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432db9cd351aa3783d648a0a24699ad?s=128&d=identicon&r=PG&f=1", "display_name": "takethelongsh0t", "link": "https://stackoverflow.com/users/6921325/takethelongsh0t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6889, "favorite_count": 0, "accepted_answer_id": 42683206, "answer_count": 2, "score": 3, "last_activity_date": 1519323865, "creation_date": 1489012022, "question_id": 42683097, "link": "https://stackoverflow.com/questions/42683097/launching-tensorboard-nameerror-name-tensorboard-is-not-defined", "title": "Launching Tensorboard - NameError: name &#39;tensorboard&#39; is not defined", "body": "<p>I'm attempting to launch tensorboard and view a graph I created.</p>\n\n<pre><code>import tensorflow as tf\n\nlogPath = \"C:\\\\path\\\\to\\\\log\" -- can also be /path/to/log\n\nsess = tf.Session()\nfile_writer = tf.summary.FileWriter(logPath, sess.graph)\n</code></pre>\n\n<p>This code runs fine and creates a event file in the proper folder, but when I run this command in the shell:</p>\n\n<pre><code>tensorboard --logdir /path/to/log\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;pyshell#11&gt;\", line 1, in &lt;module&gt;\ntensorboard --logdir /path/to/log\nNameError: name 'tensorboard' is not defined\n</code></pre>\n\n<p>Am I missing a setting? I've seen the ONE other question with this error but that solution didn't solve this issue. </p>\n\n<p>I have been able to assign nodes and work purely in the command line okay, I just want to start testing the visualzation.</p>\n\n<p>Many thanks.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1489011845, "post_id": 42683039, "comment_id": 72490236, "body": "The function passed to <code>.apply</code> get&#39;s passed either a column or a row, as a <code>Series</code> depending on whether you used <code>axis=0</code> or <code>axis=1</code>, respectively."}], "answers": [{"tags": [], "owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "is_accepted": false, "score": 1, "last_activity_date": 1489012314, "last_edit_date": 1489012314, "creation_date": 1489012203, "answer_id": 42683145, "question_id": 42683039, "link": "https://stackoverflow.com/questions/42683039/pandas-apply-function-and-lambda/42683145#42683145", "title": "pandas, apply function and lambda", "body": "<p>The first parameter is passed implicitly to a function in the apply call. Therefore, it does not appear in the args again. You could actually rewrite the anonymous function in the apply to </p>\n\n<pre><code> df.groupby('Category').apply(lambda x: sum(x[\"Weight (oz.)\"] * x[\"Quantity\"]))\n</code></pre>\n\n<p>without using args here at all. It get's clear, that <code>x</code> is the first parameter which is passed without explicitly passing it.</p>\n"}, {"tags": [], "owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012368, "creation_date": 1489012368, "answer_id": 42683183, "question_id": 42683039, "link": "https://stackoverflow.com/questions/42683039/pandas-apply-function-and-lambda/42683183#42683183", "title": "pandas, apply function and lambda", "body": "<p>more generally, <code>apply</code> is an method of the DataFrame instance <code>df</code>. </p>\n\n<p>This boils down to meaning that apply is passed a self parameter implicitly. Imagine the call to be be <code>apply(self, *args)</code>. </p>\n\n<p>Here <code>self</code> refers to the DataFrame instance <code>df</code>; so now it should be clear that passing <code>df</code> again would be redundant (if it were allowed).</p>\n"}, {"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013863, "creation_date": 1489013863, "answer_id": 42683549, "question_id": 42683039, "link": "https://stackoverflow.com/questions/42683039/pandas-apply-function-and-lambda/42683549#42683549", "title": "pandas, apply function and lambda", "body": "<p>It is somewhat related and worth mentioning that you don't need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> at all here, and can speed up the operation considerably by only grouping the product of your two columns of interest by \nyour <code>'Category'</code> column, e.g. </p>\n\n<pre><code>(df['Weight (oz.)'] * df['Quantity']).groupby(df.Category).sum()\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>df = pd.DataFrame(dict(category=[1, 1, 1, 2, 2, 2, 3, 3, 3]*(10**6), \n                       a = np.random.randint(1, 10, 9*(10**6)), \n                       b=np.random.randint(1, 10, 9*(10**6))))\n\n%timeit (df.a*df.b).groupby(df.category).sum()\n1 loop, best of 3: <b>560 ms per loop</b>\n\n%timeit df.groupby('category').apply(lambda x: sum(x.a*x.b))\n1 loop, best of 3: <b>3.34 s per loop</b></code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4896984, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RpDp6pdodwM/AAAAAAAAAAI/AAAAAAAAAYU/ro5uuYDE0bo/photo.jpg?sz=128", "display_name": "Mike Gao", "link": "https://stackoverflow.com/users/4896984/mike-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1557, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1489076476, "creation_date": 1489011777, "last_edit_date": 1489076476, "question_id": 42683039, "link": "https://stackoverflow.com/questions/42683039/pandas-apply-function-and-lambda", "title": "pandas, apply function and lambda", "body": "<p>In the following pandas code, why is <code>df</code> not need in the arguments?</p>\n\n<pre><code>df.groupby('Category').apply(lambda df,a,b: sum(df[a] * df[b]), 'Weight (oz.)', 'Quantity')\n</code></pre>\n"}, {"tags": ["python", "sql-server", "python-3.x", "scikit-learn", "byte"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7668942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49ef3ec2d923435dcb924d6668a7c51?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/7668942/brent"}, "is_accepted": false, "score": 0, "last_activity_date": 1504717304, "creation_date": 1504717304, "answer_id": 46080756, "question_id": 42682997, "link": "https://stackoverflow.com/questions/42682997/convert-cluster-object-into-byte-or-bytearray-object/46080756#46080756", "title": "Convert Cluster object into byte or bytearray object", "body": "<p>This is how I solved this problem.  As a beginner I now of the existence of \"pickle.\"  So I pickled the object and saved it on a drive to be pulled for future use.</p>\n"}], "owner": {"reputation": 41, "user_id": 7668942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49ef3ec2d923435dcb924d6668a7c51?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/7668942/brent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504717304, "creation_date": 1489011595, "last_edit_date": 1495541370, "question_id": 42682997, "link": "https://stackoverflow.com/questions/42682997/convert-cluster-object-into-byte-or-bytearray-object", "title": "Convert Cluster object into byte or bytearray object", "body": "<h1>Goal</h1>\n\n<p>I would like to insert a cluster object from scikit-learn into a sql-server table (varbinary(max) column).</p>\n\n<p>I'm creating a Big Data development and test environment for our analytics team.  I know there are better options but sql-server and python are what I have to work with at the moment.</p>\n\n<h1>Problem</h1>\n\n<p>I need to be able to convert a cluster object, in this example MiniBatchKMeans object, to a byte or byte array to be able to insert into a sql-server table.  I get a type error that the MiniBatchKMeans object is not iterable.</p>\n\n<p>What I the best approach to attack this problem?  Do I need to find the beginning address of the MiniBatchKMeans object, then the size of the object and iterate over the block of memory one byte at a time?</p>\n\n<p>I found a reference: <a href=\"https://stackoverflow.com/questions/35580801/chunking-bytes-not-strings-in-python-2-and-3\">on how to chunk a byte string</a> but that doesn't seem to help.</p>\n\n<h3>Test Code for Conversion</h3>\n\n<pre><code>def Test_03():\n    # variables\n    string_byte_error_msg = 'No error'\n    string_bytearray_error_msg = 'No error'\n    bool_byte_no_error = False\n    bool_bytearray_no_error = False\n\n    # generate knn cluster object\n    clust_knn_obj = MiniBatchKMeans(n_clusters = 10, init = 'k-means++', n_init = 5)\n\n    # convert to byte type\n    try:\n        byte_knn_clust = bytes(clust_knn_obj)\n    except TypeError as e_t:\n        string_byte_error_msg = e_t.args[0]\n    except Exception as e:\n        string_byte_error_msg = e.args[0]\n    else:\n        bool_byte_no_error = True\n    finally:\n        pass\n\n    # convert to byte array\n    try:\n        byte_array_knn_clust = bytearray(clust_knn_obj)\n    except TypeError as ba_e_t:\n        string_bytearray_error_msg = ba_e_t.args[0]\n    except Exception as ba_e:\n        string_bytearray_error_msg = ba_e.args[0]\n    else:\n        bool_bytearray_no_error = True\n    finally:\n        pass\n\n    # below will insert into the mssql database in a varbinary(max) column\n    #...\n    pass\n</code></pre>\n\n<h3>Error Messages</h3>\n\n<pre><code>string_byte_error_msg = \"'MiniBatchKMeans' object is not iterable\"\nstring_bytearray_error_msg = \"'MiniBatchKMeans' object is not iterable\"\n</code></pre>\n"}, {"tags": ["python", "selenium", "firefox"], "comments": [{"owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "edited": false, "score": 0, "creation_date": 1489011811, "post_id": 42682938, "comment_id": 72490225, "body": "<code>soup</code> isn&#39;t getting set in your example above. In general, you can&#39;t mix BeautifulSoup and selenium."}, {"owner": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "reply_to_user": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "edited": false, "score": 0, "creation_date": 1489016632, "post_id": 42682938, "comment_id": 72492154, "body": "once I get access to the frame/poop-up then I want to scrape data from that so I am using soup but I am not able to get control over the pop up that is being opened"}, {"owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "edited": false, "score": 0, "creation_date": 1489017771, "post_id": 42682938, "comment_id": 72492544, "body": "I understand, but you&#39;ve not initialized <code>soup</code> to anything yet in your code above.... Since you&#39;re using selenium, you can use selenium to get text instead of soup. For example: <code>creator_role = browser.find_element_by_css_selector(&#39;.campaignTrustInfo-cam&zwnj;&#8203;pignerDetails-role.n&zwnj;&#8203;g-binding&#39;).text</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "edited": false, "score": 0, "creation_date": 1489021962, "post_id": 42684449, "comment_id": 72493723, "body": "Thanks a lot. Its giving me all the text in it but I want to scrape the data in csv file so I want individual field from it as Creator Role, Campaigns Created etc.I cant do that if I just extract text."}, {"owner": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "edited": false, "score": 0, "creation_date": 1489022098, "post_id": 42684449, "comment_id": 72493757, "body": "I also want to click on View full Profile Link in there"}, {"owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "reply_to_user": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "edited": false, "score": 0, "creation_date": 1489024914, "post_id": 42684449, "comment_id": 72494455, "body": "To get the full profile link, do another <code>find_element...().click()</code>. This will bring up a new window, so do the <code>window_handles()</code> bit you&#39;ve done before to &quot;find&quot; the window, and then <code>switch_to_window()</code>"}, {"owner": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "edited": false, "score": 0, "creation_date": 1489104579, "post_id": 42684449, "comment_id": 72537520, "body": "Thanks for the information and your time.I am able to proceed further ."}], "tags": [], "owner": {"reputation": 3438, "user_id": 2205785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FY5zS.png?s=128&g=1", "display_name": "pbuck", "link": "https://stackoverflow.com/users/2205785/pbuck"}, "is_accepted": true, "score": 1, "last_activity_date": 1489018786, "creation_date": 1489018786, "answer_id": 42684449, "question_id": 42682938, "link": "https://stackoverflow.com/questions/42682938/how-to-access-a-modal-dialog-box-which-opens-after-clicking-a-link-through-selen/42684449#42684449", "title": "How to access a modal dialog box which opens after clicking a link through Selenium in Python?", "body": "<p>The popup you're looking at isn't a window, an iframe or a browser alert: it's just more DOM.</p>\n\n<p>You're using selenium, so keep this simple and don't switch over to use BeautifulSoup.</p>\n\n<pre><code>browser.get('https://www.indiegogo.com/projects/camp-pride-needs-your-support')\nbrowser.find_element_by_css_selector('.campaignTrust-detailsLinks-info.ng-binding').click()\ninfo = browser.find_elements_by_css_selector('.modal-content').text\n</code></pre>\n\n<p>And you'll get text with embedded newlines:</p>\n\n<blockquote>\n  <p>About<br>\n  J Mase III<br>\n  Camp Pride....</p>\n</blockquote>\n"}], "owner": {"reputation": 15, "user_id": 7679959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2477e9403c817d79c64be1b7a6d77f9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul", "link": "https://stackoverflow.com/users/7679959/anshul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1164, "favorite_count": 0, "accepted_answer_id": 42684449, "answer_count": 1, "score": 1, "last_activity_date": 1489018786, "creation_date": 1489011378, "last_edit_date": 1489015231, "question_id": 42682938, "link": "https://stackoverflow.com/questions/42682938/how-to-access-a-modal-dialog-box-which-opens-after-clicking-a-link-through-selen", "title": "How to access a modal dialog box which opens after clicking a link through Selenium in Python?", "body": "<p>I am new to Python. I am trying to scrape the data from indiegogo website.\nI am not able to scrape data from the modal dialog box/pop-up window that opens when I click the About link of the creator.</p>\n\n<p><a href=\"https://www.indiegogo.com/projects/camp-pride-needs-your-support#/\" rel=\"nofollow noreferrer\">https://www.indiegogo.com/projects/camp-pride-needs-your-support#/</a></p>\n\n<p>I have tried </p>\n\n<p>1) <code>browser.switch_to.alert()</code></p>\n\n<p>2) <code>browser.switch_to.frame()</code></p>\n\n<p>3) <code>browser.switch_to.window()</code></p>\n\n<p>but no luck.</p>\n\n<p>Part of my code is</p>\n\n<pre><code>        window_before = browser.window_handles[0]\n        about=browser.find_element_by_class_name(\"campaignTrust- detailsLinks-info.ng-binding\")\n\n        about.click()\n\n        #window_after = browser.window_handles[1]\n\n        iframe = browser.find_element_by_class_name(\"modal-dialog\")\n\n        #alert = browser.switch_to_alert()\n        time.sleep(5)\n        #browser.switch_to.window(window_after)\n        #browser.switch_to.alert().accept()\n        #alert.accept()\n        browser.switch_to.frame(iframe)\n        #print (browser.page_source.encode(\"utf_8\",\"ignore\"))\n        creator_role=soup.find(\"div\", class_=\"campaignTrustInfo-campaignerDetails-role.ng-binding\").get_text()\n        info_abtpage=soup.find(\"div\", class_=\"campaignTrustInfo-sectionContent ng-binding\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "pip", "raspberry-pi3"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1489011551, "post_id": 42682928, "comment_id": 72490096, "body": "If you install Anaconda, then you&#39;ll have pandas, numpy, and all those other science packages."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1489011621, "post_id": 42682928, "comment_id": 72490135, "body": "When you ran <code>sudo apt-get install python3-pandas</code> what error did you have?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1489011628, "post_id": 42682928, "comment_id": 72490138, "body": "Also, <code>apt search pandas</code> shows <code>python3-pandas&#47;stable 0.14.1-2</code>, not <code>0.18</code> or higher..."}, {"owner": {"reputation": 143, "user_id": 5459626, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153320443943717/picture?type=large", "display_name": "Victor Sg", "link": "https://stackoverflow.com/users/5459626/victor-sg"}, "edited": false, "score": 0, "creation_date": 1489054548, "post_id": 42682928, "comment_id": 72507428, "body": "Thank you everyone for your replies."}, {"owner": {"reputation": 143, "user_id": 5459626, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153320443943717/picture?type=large", "display_name": "Victor Sg", "link": "https://stackoverflow.com/users/5459626/victor-sg"}, "edited": false, "score": 0, "creation_date": 1489054965, "post_id": 42682928, "comment_id": 72507724, "body": "Thank you everyone for your replies.  I have not tried installing Anaconda, but I am afraid the problem will persist that the Python version I need it to work with will not be able to use it.  How would I install it for Python 3.5 instead of Python 3.4?  Does this question even make sense? (apologies if it doesn&#39;t)  Same goes for eyllanesc, I get no error, I just can&#39;t use it with Python 3.5. I install it properly, but no matter what I do, it gets installed under Python 3.4 even having changed (or so I think) the default Python3 version in the Raspberry!"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 8896457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2ab1dc1511cb765e3dd359562f9585b?s=128&d=identicon&r=PG", "display_name": "qewg", "link": "https://stackoverflow.com/users/8896457/qewg"}, "edited": false, "score": 1, "creation_date": 1561780373, "post_id": 43394461, "comment_id": 100183685, "body": "As of June 2019 I recommend option 1, however it still takes many hours to install. Option 2 is currently outdated"}], "tags": [], "owner": {"reputation": 116, "user_id": 7862201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77134bae980fee5cfc550d3308e5bcd2?s=128&d=identicon&r=PG&f=1", "display_name": "s-huffman", "link": "https://stackoverflow.com/users/7862201/s-huffman"}, "is_accepted": true, "score": 10, "last_activity_date": 1492092404, "creation_date": 1492092404, "answer_id": 43394461, "question_id": 42682928, "link": "https://stackoverflow.com/questions/42682928/raspberry-pi-python-install-pandas-on-python-3-5-2/43394461#43394461", "title": "Raspberry Pi-Python: Install Pandas on Python 3.5.2", "body": "<p>I'd been searching for the same thing: a way to \"install\" the current version of pandas on a Raspberry Pi 3. Using apt-get to install it on the RPi pulls an outdated version of pandas from the Raspbian repository.</p>\n\n<p>On GitHub. I found two solutions for installing the current version of pandas (and Python/packages in general) on the RPi 3: one solution involves building and installing pandas directly on the Raspberry Pi, and the other solution involves installing a current Raspberry Pi version of conda (called BerryConda) on the Raspberry Pi and then downloading the current version of pandas as an RPi package from the Anaconda Cloud.</p>\n\n<p>Solution 1:</p>\n\n<p>User <a href=\"https://github.com/kleinee/jns\" rel=\"noreferrer\">kleinee</a> on GitHub has created a script that will create a Jupyter notebook server on Raspberry Pi 2 and/or 3. Although, the intent of the script is to create a Jupyter notebook server, it can be modified easily to install only the current version of pandas on the RPi.</p>\n\n<p>The script starts by downloading the most recent version of Python 3 (currently, 3.6.1), setting it up and installing it on the RPi. The script then goes on to download other parts of what he calls a \"scientific stack,\" which includes the current version of pandas. He also provides another script that will check for updates to installed Python packages and automatically update them, as necessary.</p>\n\n<p>You can run the entire script as is (to install current versions of Python, jupyter, pandas, numpy, scipy, matplotlib, etc.) or you can edit the script to install only the current version of pandas. I ran the script \"as is\" yesterday and it took about 4 hours to install Python and the included \"stack\" (to include pandas) on my RPi 3.</p>\n\n<p>The advantage to this solution is that you are downloading the current version of Python and packages directly from the source, so you will always get the most recent version. The disadvantage is that you have to \"build\" them locally on the RPi, which will take time (4 hours, in my case, for about a dozen packages, including Python itself).</p>\n\n<p>Solution 2:</p>\n\n<p>User <a href=\"https://github.com/jjhelmus/berryconda\" rel=\"noreferrer\">jjhelmus</a> has created \"BerryConda,\" a current RPi version of conda. He has also created Python packages (including the current version of pandas) that he makes available on the RPi channel at Anaconda Cloud. Using this solution, you can install the current version of pandas using BerryConda without having to compile it, like you do in solution 1.</p>\n\n<p>The advantage to this solution is that you do not have to compile anything locally, so setup is much faster. A possible disadvantage is that BerryConda and the associated packages are built and maintained by someone not associated with Anaconda or Continuum Analytics who may or may not continue to do so in the future. Although, the BerryConda packages are currently up-to-date, there's no guarantee that will be the case going forward.</p>\n"}], "owner": {"reputation": 143, "user_id": 5459626, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153320443943717/picture?type=large", "display_name": "Victor Sg", "link": "https://stackoverflow.com/users/5459626/victor-sg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13758, "favorite_count": 1, "accepted_answer_id": 43394461, "answer_count": 1, "score": 8, "last_activity_date": 1492092404, "creation_date": 1489011292, "question_id": 42682928, "link": "https://stackoverflow.com/questions/42682928/raspberry-pi-python-install-pandas-on-python-3-5-2", "title": "Raspberry Pi-Python: Install Pandas on Python 3.5.2", "body": "<ol>\n<li>I have a Raspberry 3 Model B with the latest version of Raspbian\n(installed with Noobs 2.3.0). </li>\n<li>I have successfully installed Python 3.5.2 using the instructions\nfound in this post:\n<a href=\"http://bohdan-danishevsky.blogspot.com.es/2015/10/building-python-35-on-raspberry-pi-2.html\" rel=\"noreferrer\">http://bohdan-danishevsky.blogspot.com.es/2015/10/building-python-35-on-raspberry-pi-2.html</a> </li>\n<li>I am trying to install Pandas (particularly, version 0.18 or higher), on that version of Python (not 3.4).</li>\n<li><p>I have tried pip install, but can't make it point to python 3.5.2 even uninstalling version 3.4. I have also tried </p>\n\n<pre><code>sudo apt-get install python3-pandas\n</code></pre>\n\n<p>with no luck... </p></li>\n</ol>\n\n<p>I am quite desperate. Is there no way to do this? I have searched for multiple solutions in this site and still nothing. </p>\n\n<p>Does anyone know how to do it?<br>\nThanks</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 2, "creation_date": 1489011328, "post_id": 42682864, "comment_id": 72489974, "body": "You need a dictionary that specifies{&#39;oak&#39;: &#39;Tree&#39;} etc which you can then use to map your column"}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 7654040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y4o-Z-IwYX0/AAAAAAAAAAI/AAAAAAAAAAA/RxPZe0lmOao/photo.jpg?sz=128", "display_name": "Andr&#233;s Cancer", "link": "https://stackoverflow.com/users/7654040/andr%c3%a9s-cancer"}, "is_accepted": false, "score": 0, "last_activity_date": 1489011640, "creation_date": 1489011640, "answer_id": 42683009, "question_id": 42682864, "link": "https://stackoverflow.com/questions/42682864/automatically-classify-elements-in-an-array/42683009#42683009", "title": "Automatically classify elements in an array", "body": "<p>I don't know if I follow you, but since you will have to create some sort of associative list, in the form</p>\n\n<h2>plant | type</h2>\n\n<h2>oak | tree</h2>\n\n<h2>sawgrass | grass</h2>\n\n<h2>kkk | bush</h2>\n\n<h2>...</h2>\n\n<p>Just create a hash table and get the type from the hash table.\nYou may read the table from an external file so it is not hardcoded in your program.</p>\n"}, {"comments": [{"owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 0, "creation_date": 1489012251, "post_id": 42683045, "comment_id": 72490406, "body": "Although I understand the idea behind a dict, its something that I&#39;ve never ventured into using before so wasn&#39;t too sure where to start, especially within pandas. This is a really useful example I can work off"}], "tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": true, "score": 2, "last_activity_date": 1489011799, "creation_date": 1489011799, "answer_id": 42683045, "question_id": 42682864, "link": "https://stackoverflow.com/questions/42682864/automatically-classify-elements-in-an-array/42683045#42683045", "title": "Automatically classify elements in an array", "body": "<p>You need to create a dict of classifier mappings for your different items, for instance, </p>\n\n<pre><code>classifier = {'oak': 'Tree', \n              'maple': 'Tree', \n              'holly': 'Tree', \n              'sawgrass': 'Grass',\n              'cat tails': 'Bush', \n              'birch': 'Tree'}\n</code></pre>\n\n<p>Then getting a column of groups is as simple as calling <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> on your column.</p>\n\n<pre><code>&gt;&gt;&gt; df.species.map(classifier)\n\n0     Tree\n1     Tree\n2     Tree\n3    Grass\n4     Bush\n5     Tree\nName: species, dtype: object\n</code></pre>\n\n<p>so you can set a new column with</p>\n\n<pre><code>df['classification'] = df.species.map(classifier)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 1, "last_activity_date": 1489011875, "creation_date": 1489011875, "answer_id": 42683066, "question_id": 42682864, "link": "https://stackoverflow.com/questions/42682864/automatically-classify-elements-in-an-array/42683066#42683066", "title": "Automatically classify elements in an array", "body": "<p>You need a dictionary like</p>\n\n<pre><code>VegClass = {'oak': 'Tree', 'seagrass': 'Grass'}\ndf['class'] = df['species'].map(VegClass)\n</code></pre>\n"}], "owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 42683045, "answer_count": 3, "score": 1, "last_activity_date": 1489012076, "creation_date": 1489011035, "last_edit_date": 1489012076, "question_id": 42682864, "link": "https://stackoverflow.com/questions/42682864/automatically-classify-elements-in-an-array", "title": "Automatically classify elements in an array", "body": "<p>I am building an itinerary of vegetation types for a given location. Data is passed to me as a CSV and I want a way in which I can automatically re-classify items in one column, into broader classes that I provide. I can already read the data in with pandas, do a bit of housekeeping and then write out the data frame to a new file.</p>\n\n<p>However, given I am provided with a column such that:</p>\n\n<pre><code>species = ['maple', 'oak', holly, 'sawgrass', 'cat tails'...... 'birch']\n</code></pre>\n\n<p>I would like to be able to automatically, reclassify these into broad categories using another list like:</p>\n\n<pre><code>VegClass = ['Tree', 'Bush', 'Grass']\n</code></pre>\n\n<p>The only way I know to do this would be to iterate through the species list, in a manner similar to:</p>\n\n<pre><code>out = []\nfor i in species:\n    if species[i]=='Oak':\n    out.append('Tree')\n</code></pre>\n\n<p>but this would require that I write a lot of code if the species list becomes very large and I don't imagine it would be very efficient with large datasets.</p>\n\n<p>Is there a more direct way of doing this? I understand that I would need to list all the species manually (in separate classes) e.g.:</p>\n\n<pre><code>TreeSpecies = ['oak'....'birch']\nGrassSpecies = ['Sawgrass....']\n</code></pre>\n\n<p>but I would only have to do this once to build a dictionary of species names. Im expecting more data so may have to add an additional species name or two in future, but this would not be considered too time intensive if I could process a lot of the data quickly.</p>\n"}, {"tags": ["python", "string"], "answers": [{"comments": [{"owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 0, "creation_date": 1489012186, "post_id": 42682853, "comment_id": 72490381, "body": "Just wondering why I use str(zip), still get dtype as &#39; float64&#39;"}, {"owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 0, "creation_date": 1489012283, "post_id": 42682853, "comment_id": 72490426, "body": "still get ValueError: Cannot convert NA to integer"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 1, "creation_date": 1489012319, "post_id": 42682853, "comment_id": 72490445, "body": "You actually get a whole string, which contains a substring <code>dtype: float64</code>, not of data type string. It&#39;s how series is presented when you convert it to a string."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 0, "creation_date": 1489012385, "post_id": 42682853, "comment_id": 72490476, "body": "Yes, you can&#39;t convert NA to integer, so what you want NA to be eventually. <code>00000</code>? or remove them?"}, {"owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 0, "creation_date": 1489073303, "post_id": 42682853, "comment_id": 72520278, "body": "I want to keep NA as NA.  If it is 00000 it is fine I could also later remove it."}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 2, "last_activity_date": 1489027262, "last_edit_date": 1489027262, "creation_date": 1489010999, "answer_id": 42682853, "question_id": 42682764, "link": "https://stackoverflow.com/questions/42682764/python-convert-float-to-string/42682853#42682853", "title": "python convert float to string", "body": "<p>You can use <code>Series.astype</code> method to convert float to int then to string, here I am using <code>df</code> to refer to the data frame you read in from csv and <code>df.zip</code> to refer to the <em>zip</em> column (adjust accordingly):</p>\n\n<pre><code>df.zip.astype(int).astype(str).str.zfill(5)\n\n#0    00501\n#1    01220\n#2    01509\n#3    01807\n#4    02047\n#Name: zip, dtype: object\n</code></pre>\n\n<p>If there is NA in the column, and you want to keep them as is:</p>\n\n<pre><code>df['zip'] = df.zip.dropna().astype(int).astype(str).str.zfill(5)\ndf\n\n#     zip\n#0    NaN\n#1  01220\n#2  01509\n#3  01807\n#4  02047\n</code></pre>\n\n<hr>\n\n<p>Another option use string formatter:</p>\n\n<pre><code>df.zip.apply(lambda x: x if pd.isnull(x) else \"{:05.0f}\".format(x))\n\n#0      NaN\n#1    01220\n#2    01509\n#3    01807\n#4    02047\n#Name: zip, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10720, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1489027262, "creation_date": 1489010638, "last_edit_date": 1489011349, "question_id": 42682764, "link": "https://stackoverflow.com/questions/42682764/python-convert-float-to-string", "title": "python convert float to string", "body": "<p>I'm trying to read in a csv file through Pandas.</p>\n\n<pre><code>pd.read_csv('zip_mapping.gz',compression='gzip' ,header=None, sep=',')\n</code></pre>\n\n<p>But somehow I read in zip as float, like</p>\n\n<pre><code> 0     501.0\n 1    1220.0\n 2    1509.0\n 3    1807.0\n 4    2047.0\n</code></pre>\n\n<p>as I don't know  zip is in which column before I read in the data, so I could not set dtype in pd.read_csv.</p>\n\n<p>I want to change zip into  int, but due to missing values I  got \" could not convert NA to int \"error.</p>\n\n<p>Tried </p>\n\n<pre><code>str(zip).rstrip('0').rstrip('.')\n</code></pre>\n\n<p>But got  this </p>\n\n<pre><code>'0     501.0\\n1    1220.0\\n2    1509.0\\n3    1807.0\\n4    2047.0\\nName: zip, dtype: float64'\n</code></pre>\n\n<p>Actually I want  convert zip in float into  str like\n 501, 1220, 1509, 1807, 2047\nthen I could further padding leading zeros.</p>\n\n<p>Any suggestion?\nThank you.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1489010687, "post_id": 42682744, "comment_id": 72489691, "body": "What exactly do you want? I don&#39;t see what you mean by overwriting, and it sees to be appending rows where <code>quantity</code> == 2, 4, and 5, (x-1) times... which seem to be <i>exactly</i> what you wrote."}, {"owner": {"reputation": 13, "user_id": 7680840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a3c2d5c0dd19a42df15855df349346?s=128&d=identicon&r=PG&f=1", "display_name": "cs1221", "link": "https://stackoverflow.com/users/7680840/cs1221"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489010821, "post_id": 42682744, "comment_id": 72489759, "body": "How to correct my code to get the goal df I included"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489010883, "post_id": 42682744, "comment_id": 72489793, "body": "Ah. Yes, because you need to use <code>df_new.append</code> Or else every time you use <code>df_new = df.append(...)</code> it overwrites."}, {"owner": {"reputation": 13, "user_id": 7680840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a3c2d5c0dd19a42df15855df349346?s=128&d=identicon&r=PG&f=1", "display_name": "cs1221", "link": "https://stackoverflow.com/users/7680840/cs1221"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489010978, "post_id": 42682744, "comment_id": 72489829, "body": "No the output from that code does not include the appended rows for quantity == 2 and 4, it only appends rows with quantity == 5 on the original dataframe"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489011079, "post_id": 42682744, "comment_id": 72489873, "body": "yes, I was mistaken because I thought the output the OP showed was the ouput, not the expected output."}, {"owner": {"reputation": 13, "user_id": 7680840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a3c2d5c0dd19a42df15855df349346?s=128&d=identicon&r=PG&f=1", "display_name": "cs1221", "link": "https://stackoverflow.com/users/7680840/cs1221"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489011194, "post_id": 42682744, "comment_id": 72489919, "body": "Oh perfect, thank you!"}], "owner": {"reputation": 13, "user_id": 7680840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1a3c2d5c0dd19a42df15855df349346?s=128&d=identicon&r=PG&f=1", "display_name": "cs1221", "link": "https://stackoverflow.com/users/7680840/cs1221"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489010555, "creation_date": 1489010555, "question_id": 42682744, "link": "https://stackoverflow.com/questions/42682744/python-append-loop-issue", "title": "Python append loop issue", "body": "<p>I would like to append rows to a dataframe using a loop, but I can't figure out how not to overwrite the previously appended rows. </p>\n\n<p>Example of starting dataframe </p>\n\n<pre><code>print df \n    quantity  cost\n 0         1    30\n 1         1     5\n 2         2    10\n 3         4     8\n 4         5     2\n</code></pre>\n\n<p>My goal is</p>\n\n<pre><code>    quantity  cost\n 0         1    30\n 1         1     5\n 2         2    10\n 3         4     8\n 4         5     2\n 5         2    10\n 6         4     8\n 7         4     8\n 8         4     8\n 9         5     2\n 10        5     2\n 11        5     2\n 12        5     2\n</code></pre>\n\n<p>My current code is incorrect (only appending rows with quantity==5), but I can't figure out how to fix it. </p>\n\n<pre><code>  for x in xrange(2,6):\n       data = df['quantity'] == x\n       data = df[data]\n       df_new = df.append([data]*(x-1),ignore_index=True)\n</code></pre>\n\n<p>Any advice would be awesome, thank you!</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 4253777, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cf9c2a51253ca40c263ad9132d54e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "SK2017", "link": "https://stackoverflow.com/users/4253777/sk2017"}, "edited": false, "score": 0, "creation_date": 1489011492, "post_id": 42682915, "comment_id": 72490059, "body": "already tried the namespace but then it complains the following  - url() got an unexpected keyword argument &#39;namespace&#39;"}, {"owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "reply_to_user": {"reputation": 743, "user_id": 4253777, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cf9c2a51253ca40c263ad9132d54e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "SK2017", "link": "https://stackoverflow.com/users/4253777/sk2017"}, "edited": false, "score": 0, "creation_date": 1489011590, "post_id": 42682915, "comment_id": 72490117, "body": "I had a typo, the <code>namespace</code> should be inside the <code>include()</code>, made an edit, does that work?"}], "tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": true, "score": 1, "last_activity_date": 1489011571, "last_edit_date": 1489011571, "creation_date": 1489011260, "answer_id": 42682915, "question_id": 42682701, "link": "https://stackoverflow.com/questions/42682701/no-reverse-match-when-calling-url-from-html-file-django/42682915#42682915", "title": "No Reverse Match when calling url from html file - Django", "body": "<p>Have a look at the <a href=\"https://docs.djangoproject.com/en/1.10/topics/http/urls/#reversing-namespaced-urls\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>I think that when you include the url in <code>urls.py</code> you need to add a namespace</p>\n\n<pre><code> url(r'^socialx/', include('socialx.urls', namespace=\"socialx\")),\n</code></pre>\n\n<p>And make sure that the url for going to the index page has a <code>name=index</code>.</p>\n\n<p>See if that helps.</p>\n"}], "owner": {"reputation": 743, "user_id": 4253777, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cf9c2a51253ca40c263ad9132d54e7e8?s=128&d=identicon&r=PG&f=1", "display_name": "SK2017", "link": "https://stackoverflow.com/users/4253777/sk2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 42682915, "answer_count": 1, "score": 0, "last_activity_date": 1489011571, "creation_date": 1489010385, "question_id": 42682701, "link": "https://stackoverflow.com/questions/42682701/no-reverse-match-when-calling-url-from-html-file-django", "title": "No Reverse Match when calling url from html file - Django", "body": "<p>So I am trying to call my url by using the following in one of my html templates - </p>\n\n<pre><code>&lt;a href=\"{% url 'socialx:index' %}\"&gt;\n</code></pre>\n\n<p>My apps urls.py file looks like this  - </p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n\n    url(r'^socialx/', include('socialx.urls')),\n    url(r'^admin/', include(admin.site.urls)),\n]\n</code></pre>\n\n<p>And the root urls.py file is like this - </p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.contrib import admin\n\nurlpatterns = [\n\n    url(r'^socialx/', include('socialx.urls'), name='socialx'),\n    url(r'^admin/', include(admin.site.urls)),\n]\n</code></pre>\n\n<p>When navigating to the app via browser I get the following error - </p>\n\n<blockquote>\n  <blockquote>\n    <p>NoReverseMatch at /socialx/  'socialx' is not a registered namespace</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": ["python", "operating-system", "rename", "python-3.5"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1489010501, "post_id": 42682698, "comment_id": 72489608, "body": "What is the <code>except</code> block catching? You should <i>always</i> be explicit and on&#39;t leave it naked."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1489010571, "post_id": 42682698, "comment_id": 72489641, "body": "If the file wasn&#39;t found, the file wasn&#39;t found. Your computer&#39;s files aren&#39;t visible to us, so we can&#39;t tell you what file you should be looking for."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1489010632, "post_id": 42682698, "comment_id": 72489664, "body": "<code>os.rename</code> arguments should be <code>(source, destination)</code>. The file &#39;temp&#39; does not exist. It is not created in this code, so I&#39;m not sure what you are expecting."}, {"owner": {"reputation": 1, "user_id": 7680945, "user_type": "registered", "profile_image": "https://graph.facebook.com/1927994294098878/picture?type=large", "display_name": "Alex Galpin", "link": "https://stackoverflow.com/users/7680945/alex-galpin"}, "edited": false, "score": 0, "creation_date": 1489010684, "post_id": 42682698, "comment_id": 72489688, "body": "The except block should be a ValueError... forgot to put it in!"}, {"owner": {"reputation": 1, "user_id": 7680945, "user_type": "registered", "profile_image": "https://graph.facebook.com/1927994294098878/picture?type=large", "display_name": "Alex Galpin", "link": "https://stackoverflow.com/users/7680945/alex-galpin"}, "edited": false, "score": 0, "creation_date": 1489010819, "post_id": 42682698, "comment_id": 72489755, "body": "No worries - very stupid mistake. Didn&#39;t add the +&quot;.txt&quot; on the end as it didn&#39;t recognise the file name otherwise. Thanks for the help!"}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1489010984, "post_id": 42682698, "comment_id": 72489833, "body": "Also, line 9 <code>overWrite = (&quot;Would you like to overwrite the file? Y = yes, N = no\\n&quot;)</code> produces a one-item tuple. Should probably be <code>overWrite = input(&quot;Would you like to overwrite the file? Y = yes, N = no\\n&quot;)</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1489011686, "post_id": 42682698, "comment_id": 72490167, "body": "@MatthewCole: No tuple, just a string. A one-element tuple has to be written as <code>(thing,)</code> instead of <code>(thing)</code>. We do need to call <code>input</code>."}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1489012120, "post_id": 42682698, "comment_id": 72490348, "body": "@user2357112, oh you&#39;re right. Good call. That comma in the middle tripped me up when I was reading it fast."}], "owner": {"reputation": 1, "user_id": 7680945, "user_type": "registered", "profile_image": "https://graph.facebook.com/1927994294098878/picture?type=large", "display_name": "Alex Galpin", "link": "https://stackoverflow.com/users/7680945/alex-galpin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489010513, "creation_date": 1489010375, "last_edit_date": 1489010513, "question_id": 42682698, "link": "https://stackoverflow.com/questions/42682698/how-to-rename-a-file-to-a-variable", "title": "How to rename a file to a variable?", "body": "<p>Currently in my program, it creates a temp file and saves it. I would like to rename this temp file to the value of a variable (in this example, fileName), but I am getting an error:</p>\n\n<blockquote>\n  <p>FileNotFoundError: [Errno 2] No such file or directory: 'temp' -> 'fileName'.</p>\n</blockquote>\n\n<p>The function code goes as follows:</p>\n\n<pre><code>    fileName = input(FileNameText)\nexist = os.path.isfile(fileName)\nif exist == True:\n    print(\"This file name already exists.\")\n    while True:\n        try:\n            overWrite = (\"Would you like to overwrite the file? Y = yes, N = no\\n\")\n            if overWrite == \"Y\":\n                break\n            if overWrite == \"N\":\n                export()\n            else:\n                invalidInput()\n        except:\n            invalidInput()\n    os.rename(\"temp\",fileName)\nif exist == False:\n    os.rename(\"temp\",fileName)\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489010575, "post_id": 42682696, "comment_id": 72489643, "body": "this works for me, what version pandas are you using? Mine is 0.19.1, what maybe confusing it is that you initially create an empty df and then assign a new column, it&#39;s possible that this may fail in an older version as it&#39;s not enlarging the df"}, {"owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "edited": false, "score": 0, "creation_date": 1489010658, "post_id": 42682696, "comment_id": 72489676, "body": "0.13.1 is mine&#39;s version."}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489010756, "post_id": 42682696, "comment_id": 72489725, "body": "@daydayup You may want to update, many things in Pandas change over a few years&#39; time :)"}, {"owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "edited": false, "score": 0, "creation_date": 1489010813, "post_id": 42682696, "comment_id": 72489751, "body": "I see. thank you everybody for your help!"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1489010863, "post_id": 42682696, "comment_id": 72489782, "body": "Try this: <code>weekly_summary = pd.DataFrame(df.speed.resample(&#39;D&#39;).mean())</code> so replace the empty df line and the subsequent line with what I suggested, this will create a df with the correct index and initial column, the subsequent assignments should then work"}], "answers": [{"comments": [{"owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "edited": false, "score": 0, "creation_date": 1489011849, "post_id": 42682825, "comment_id": 72490239, "body": "Thank you for the help. have just upgraded to 19.0 to avoid the hassles."}], "tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010896, "creation_date": 1489010896, "answer_id": 42682825, "question_id": 42682696, "link": "https://stackoverflow.com/questions/42682696/pandas-resample-doesnt-return-anything/42682825#42682825", "title": "Pandas resample doesn&#39;t return anything", "body": "<p>Depending on your pandas version, how you will do this will vary.</p>\n\n<p>In pandas 0.19.0, your code works as expected:</p>\n\n<pre><code>In [7]: pd.__version__\nOut[7]: '0.19.0'\n\nIn [8]: df.speed.resample('D').mean().head()\nOut[8]: \n2015-01-01    28.562500\n2015-01-02    30.302083\n2015-01-03    30.864583\n2015-01-04    29.197917\n2015-01-05    30.708333\nFreq: D, Name: speed, dtype: float64\n</code></pre>\n\n<p>In older versions, your solution might not work but at least in 0.14.1, you can tweak it to do so:</p>\n\n<pre><code>&gt;&gt;&gt; pd.__version__\n'0.14.1'\n&gt;&gt;&gt; df.speed.resample('D').mean()\n29.41087328767123\n&gt;&gt;&gt; df.speed.resample('D', how='mean').head()\n2015-01-01    29.354167\n2015-01-02    26.791667\n2015-01-03    31.854167\n2015-01-04    26.593750\n2015-01-05    30.312500\nFreq: D, Name: speed, dtype: float64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "edited": false, "score": 0, "creation_date": 1489011853, "post_id": 42682842, "comment_id": 72490244, "body": "Thank you for the help. have just upgraded to 19.0 to avoid the hassles."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010953, "creation_date": 1489010953, "answer_id": 42682842, "question_id": 42682696, "link": "https://stackoverflow.com/questions/42682696/pandas-resample-doesnt-return-anything/42682842#42682842", "title": "Pandas resample doesn&#39;t return anything", "body": "<p>This looks like an issue with old version of pandas, in newer versions it will enlarge the df when assigning a new column where the index is not the same shape. What should work is to not make an empty df and instead pass the initial call to <code>resample</code> as the data arg for the df ctor:</p>\n\n<pre><code>In [8]:\nrange = pd.date_range('2015-01-01','2015-12-31',freq='15min')\ndf = pd.DataFrame(index = range)\ndf['speed'] = np.random.randint(low=0, high=60, size=len(df.index))\ndf['distance'] = df['speed'] * 0.25\ndf['cumulative_distance'] = df.distance.cumsum()\nprint (df.head())\nweekly_summary = pd.DataFrame(df.speed.resample('D').mean())\nweekly_summary['distance'] = df.distance.resample('D').sum()\nprint( weekly_summary.head())\n\n                     speed  distance  cumulative_distance\n2015-01-01 00:00:00     28       7.0                  7.0\n2015-01-01 00:15:00      8       2.0                  9.0\n2015-01-01 00:30:00     10       2.5                 11.5\n2015-01-01 00:45:00     56      14.0                 25.5\n2015-01-01 01:00:00      6       1.5                 27.0\n                speed  distance\n2015-01-01  27.895833    669.50\n2015-01-02  29.041667    697.00\n2015-01-03  27.104167    650.50\n2015-01-04  28.427083    682.25\n2015-01-05  27.854167    668.50\n</code></pre>\n\n<p>Here I pass the call to <code>resample</code> as the data arg for the df ctor, this will take the index and column name and create a single column df:</p>\n\n<pre><code>weekly_summary = pd.DataFrame(df.speed.resample('D').mean())\n</code></pre>\n\n<p>then subsequent assignments should work as expected</p>\n"}], "owner": {"reputation": 1483, "user_id": 4681361, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d57037eeb328d680c80cfa28acb97b3b?s=128&d=identicon&r=PG&f=1", "display_name": "daydayup", "link": "https://stackoverflow.com/users/4681361/daydayup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1489010953, "creation_date": 1489010362, "question_id": 42682696, "link": "https://stackoverflow.com/questions/42682696/pandas-resample-doesnt-return-anything", "title": "Pandas resample doesn&#39;t return anything", "body": "<p>I am learning to use pandas resample() function, however, the following code does not return anything as expected. I re-sampled the time series by day. </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nrange = pd.date_range('2015-01-01','2015-12-31',freq='15min')\ndf = pd.DataFrame(index = range)\n\ndf['speed'] = np.random.randint(low=0, high=60, size=len(df.index))\ndf['distance'] = df['speed'] * 0.25\ndf['cumulative_distance'] = df.distance.cumsum()\n\nprint df.head()\n\nweekly_summary = pd.DataFrame()\nweekly_summary['speed'] = df.speed.resample('D').mean()\nweekly_summary['distance'] = df.distance.resample('D').sum()\n\nprint weekly_summary.head()\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>                     speed  distance  cumulative_distance\n2015-01-01 00:00:00     40     10.00                10.00\n2015-01-01 00:15:00      6      1.50                11.50\n2015-01-01 00:30:00     31      7.75                19.25\n2015-01-01 00:45:00     41     10.25                29.50\n2015-01-01 01:00:00     59     14.75                44.25\n\n[5 rows x 3 columns]\nEmpty DataFrame\nColumns: [speed, distance]\nIndex: []\n\n[0 rows x 2 columns]\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "wagtail", "wagtail-snippet"], "answers": [{"comments": [{"owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "edited": false, "score": 3, "creation_date": 1489012731, "post_id": 42683121, "comment_id": 72490634, "body": "Thats just going to order_by() alphabetically; I need something like order_by(name=[&#39;Starters&#39;, &#39;Salads&#39;, &#39;Desserts&#39;..... etc... ])"}], "tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012124, "creation_date": 1489012124, "answer_id": 42683121, "question_id": 42682652, "link": "https://stackoverflow.com/questions/42682652/django-query-sort-by-value-of-string/42683121#42683121", "title": "Django Query Sort by Value of String", "body": "<p>You should use <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/querysets/#django.db.models.query.QuerySet.order_by\" rel=\"nofollow noreferrer\">order_by()</a> to sort query sets. For example, if you have a <code>name</code> attribute in your models, you'd just add <code>.order_by(\"name\")</code> to the end of your query.</p>\n"}, {"comments": [{"owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "edited": false, "score": 0, "creation_date": 1489155540, "post_id": 42684259, "comment_id": 72560922, "body": "Since my clients menu sections are static and not likely to change, I added an order field, did an ordering in the model meta, then opened the database and manually added the ordering there instead of making it visible in modeladmin.  This allowed me to order the sections in a slightly hackish way without the client having to deal with it."}], "tags": [], "owner": {"reputation": 1274, "user_id": 7668563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b7037e192e7a0505b868c8861e28878?s=128&d=identicon&r=PG", "display_name": "Lo&#239;c Teixeira", "link": "https://stackoverflow.com/users/7668563/lo%c3%afc-teixeira"}, "is_accepted": true, "score": 4, "last_activity_date": 1489017950, "last_edit_date": 1495541834, "creation_date": 1489017553, "answer_id": 42684259, "question_id": 42682652, "link": "https://stackoverflow.com/questions/42682652/django-query-sort-by-value-of-string/42684259#42684259", "title": "Django Query Sort by Value of String", "body": "<p>I don't think Django queryset has a mechanism to order by a list of field value.</p>\n\n<p>Option 1:<br>\nOrder in Python. Keep it mind it will return a list, not a queryset anymore (inspired from this <a href=\"https://stackoverflow.com/questions/34308635/sort-elements-with-specific-order-in-python\">answer</a>) and that you end up using magic strings (what if the user uses <code>Entr\u00e9es</code> instead of <code>Starters</code>?):</p>\n\n<pre><code>sections = Section.objects.all()\norder = ['Starters', 'Salads', 'Desserts']\norder = {key: i for i, key in enumerate(order)}\nordered_sections = sorted(sections, key=lambda section: order.get(section.name, 0))\n</code></pre>\n\n<p>Option 2:<br>\nAdd a <code>menu_order</code> integer field on the <code>Section</code> object and <code>order_by</code> on this field. This is not the best UX though since you'll need to edit each section to set the order and will have to remember what number you've used for each of them.</p>\n\n<p>Option 3:<br>\nCreate a <code>Menu</code> object with <a href=\"http://docs.wagtail.io/en/v1.9/reference/pages/model_reference.html?highlight=Orderable#orderable-abstract\" rel=\"nofollow noreferrer\">orderable</a> sections (see <a href=\"https://github.com/wagtail/wagtaildemo/blob/fe6102eee2e81d0e489a8dd5dd7407b3343c04de/demo/models.py#L213-L214\" rel=\"nofollow noreferrer\">how they order carousel item</a> in the demo app), but this looks a bit overkill for you since it seems you will always ever have 1 order.</p>\n"}], "owner": {"reputation": 2525, "user_id": 3200391, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/dc8c798b0aaf54577e388f7bc177093c?s=128&d=identicon&r=PG", "display_name": "Charles Smith", "link": "https://stackoverflow.com/users/3200391/charles-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4747, "favorite_count": 0, "accepted_answer_id": 42684259, "answer_count": 2, "score": 1, "last_activity_date": 1489017950, "creation_date": 1489010161, "question_id": 42682652, "link": "https://stackoverflow.com/questions/42682652/django-query-sort-by-value-of-string", "title": "Django Query Sort by Value of String", "body": "<p>I have a model that allows my client to create menus for his restaurant.  Everything works great except I would like to set the explicit ordering by the string value of a model.  For instance; he is creating sections like Salads, Pastas, Pizzas etc.. but they are displayed through the template in the order they are added to the system.  How can I add a sort to my query that I can set the order manually?  Below is my current snippet.</p>\n\n<p>I am using\nDjango 1.10.5, Wagtail 1.9, Python 3.5x</p>\n\n<h1>Snippet</h1>\n\n<pre><code>@register.inclusion_tag('tags/_lunch-menu-list.html', takes_context=True)\ndef lunch_products(context):\n    sections = Section.objects.all().prefetch_related('product').filter(product__lunch_menu=True).distinct()\n    return {\n        'sections': sections,\n        'request': context['request'],\n    }\n</code></pre>\n"}, {"tags": ["python", "docx", "python-docx"], "comments": [{"owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "edited": false, "score": 1, "creation_date": 1489013876, "post_id": 42682648, "comment_id": 72491134, "body": "A little Python tip, don&#39;t capitalize a variable unless it represents a class (which is rare as you&#39;re beginning). This way when you see a capitalized identifier you can be pretty sure it represents a class. So <code>Project_cell</code> would become <code>project_cell</code> and <code>Project</code> would become <code>project</code> (or perhaps more precisely <code>project_name</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "is_accepted": false, "score": 1, "last_activity_date": 1489014980, "last_edit_date": 1489014980, "creation_date": 1489011665, "answer_id": 42683020, "question_id": 42682648, "link": "https://stackoverflow.com/questions/42682648/search-all-docx-files-with-python-docx-in-a-directory-batch/42683020#42683020", "title": "Search all docx files with python-docx in a directory (batch)", "body": "<p>Assuming that the code above get you the data you need, all you need to do is read the files from the disk and process them.</p>\n\n<p>First let's define a function that does what you were already doing, then we'll loop over all the documents in the directory and process them with that function. </p>\n\n<p><em>Edit the following untested code to suit your needs.</em></p>\n\n<pre><code># we'll use os.walk to iterate over all the files in the directory\n# we're going to make some simplifying assumption:\n\n# 1) all the docs files are in the same directory\n# 2) that you want to store in the paragraph in a list.\n\nimport document\nimport os \n\n\nDOCS = r'G:\\GIS\\DESIGN\\ROW\\ROW_Files\\Docx'\n\ndef get_para(document):\n    table = document.tables[0]\n    Project_cell = table.rows[2].cells[2]\n    paragraph = Project_cell.paragraphs[0]\n    Project = paragraph.text\n    return Project\n\nif __name__ == \"__main__\":\n    paragraphs = []\n    f = os.walk(DOCS).next()\n    for filename in f:\n        file_name = os.path.join(DOCS, filename)\n        document = Document(file_name)\n        para = get_para(document)\n        paragraphs.append(para)\n\n    print(paragraphs)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7680931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJiKa.jpg?s=128&g=1", "display_name": "JTaylor", "link": "https://stackoverflow.com/users/7680931/jtaylor"}, "edited": false, "score": 0, "creation_date": 1489015799, "post_id": 42683626, "comment_id": 72491869, "body": "Thank you, the code worked well and was very easy to understand.  I do think I am missing something though.  I ran it and it returned data on the first file in the folder and stopped.   I am extracting multiple cells to add values to a geodatabase using arcpy.da.InsertCursor I didn&#39;t include the full code because that part  works just fine and I thought it would distract from my main question but I could if it is useful."}, {"owner": {"reputation": 4024, "user_id": 1901546, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Vd82d.png?s=128&g=1", "display_name": "Rejected", "link": "https://stackoverflow.com/users/1901546/rejected"}, "reply_to_user": {"reputation": 23, "user_id": 7680931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJiKa.jpg?s=128&g=1", "display_name": "JTaylor", "link": "https://stackoverflow.com/users/7680931/jtaylor"}, "edited": false, "score": 0, "creation_date": 1489073967, "post_id": 42683626, "comment_id": 72520816, "body": "It would really depend on how the rest of your code is setup to work.  If you just run the above, it should print out a separate line for each file with the desired <code>paragraph.text</code>.  Instead of printing, you could append it to a list, or add it directly.  I would confirm the above works (as described), and then start a new question if you&#39;re still having trouble."}, {"owner": {"reputation": 23, "user_id": 7680931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJiKa.jpg?s=128&g=1", "display_name": "JTaylor", "link": "https://stackoverflow.com/users/7680931/jtaylor"}, "edited": false, "score": 0, "creation_date": 1489085408, "post_id": 42683626, "comment_id": 72528423, "body": "your code works as designed, I&#39;ll look into applying into my process."}], "tags": [], "owner": {"reputation": 4024, "user_id": 1901546, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Vd82d.png?s=128&g=1", "display_name": "Rejected", "link": "https://stackoverflow.com/users/1901546/rejected"}, "is_accepted": true, "score": 5, "last_activity_date": 1489014780, "last_edit_date": 1489014780, "creation_date": 1489014255, "answer_id": 42683626, "question_id": 42682648, "link": "https://stackoverflow.com/questions/42682648/search-all-docx-files-with-python-docx-in-a-directory-batch/42683626#42683626", "title": "Search all docx files with python-docx in a directory (batch)", "body": "<p>How you loop over all of the files will really depend on your project deliverables.  Are all of the files in a single folder?  Are there more than just <code>.docx</code> files? </p>\n\n<p>To address all of the issues, we'll assume that there are subdirectories, and other files mingled with your <code>.docx</code> files.  For this, we'll use <a href=\"https://docs.python.org/3.6/library/os.html?highlight=os.walk#os.walk\" rel=\"noreferrer\"><code>os.walk()</code></a> and <a href=\"https://docs.python.org/3.6/library/os.path.html?highlight=os.path.splitext#os.path.splitext\" rel=\"noreferrer\"><code>os.path.splitext()</code></a></p>\n\n<pre><code>import os\n\nfrom docx import Document\n\n# First, we'll create an empty list to hold the path to all of your docx files\ndocument_list = []       \n\n# Now, we loop through every file in the folder \"G:\\GIS\\DESIGN\\ROW\\ROW_Files\\Docx\" \n# (and all it's subfolders) using os.walk().  You could alternatively use os.listdir()\n# to get a list of files.  It would be recommended, and simpler, if all files are\n# in the same folder.  Consider that change a small challenge for developing your skills!\nfor path, subdirs, files in os.walk(r\"G:\\GIS\\DESIGN\\ROW\\ROW_Files\\Docx\"): \n    for name in files:\n        # For each file we find, we need to ensure it is a .docx file before adding\n        #  it to our list\n        if os.path.splitext(os.path.join(path, name))[1] == \".docx\":\n            document_list.append(os.path.join(path, name))\n\n# Now create a loop that goes over each file path in document_list, replacing your \n# hard-coded path with the variable.\nfor document_path in document_list:\n    document = Document(document_path)        # Change the document being loaded each loop\n    table = document.tables[0]\n    project_cell = table.rows[2].cells[2]\n    paragraph = project_cell.paragraphs[0]\n    project = paragraph.text\n\n    print project\n</code></pre>\n\n<p>For additional reading, here is the documentation on <a href=\"https://docs.python.org/3.6/library/os.html?highlight=os.listdir#os.listdir\" rel=\"noreferrer\"><code>os.listdir()</code></a>.</p>\n\n<p>Also, it would be best to put your code into a function which is re-usable, but that's also a challenge for yourself!</p>\n"}], "owner": {"reputation": 23, "user_id": 7680931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJiKa.jpg?s=128&g=1", "display_name": "JTaylor", "link": "https://stackoverflow.com/users/7680931/jtaylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2303, "favorite_count": 1, "accepted_answer_id": 42683626, "answer_count": 2, "score": 2, "last_activity_date": 1489014980, "creation_date": 1489010154, "last_edit_date": 1489012087, "question_id": 42682648, "link": "https://stackoverflow.com/questions/42682648/search-all-docx-files-with-python-docx-in-a-directory-batch", "title": "Search all docx files with python-docx in a directory (batch)", "body": "<p>I have a bunch of Word <code>docx</code> files that have the same embedded Excel table. I am trying to extract the same cells from several files. </p>\n\n<p>I figured out how to hard code to one file:</p>\n\n<pre><code>from docx import Document\n\ndocument = Document(r\"G:\\GIS\\DESIGN\\ROW\\ROW_Files\\Docx\\006-087-003.docx\")\ntable = document.tables[0]\nProject_cell = table.rows[2].cells[2]\nparagraph = Project_cell.paragraphs[0]\nProject = paragraph.text\n\nprint Project\n</code></pre>\n\n<p>But how do I batch this? I tried some variations on <code>listdir</code>, but they are not working for me and I am too green to get there on my own.</p>\n"}, {"tags": ["python", "packages", "setuptools", "setup.py"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1489011664, "post_id": 42682626, "comment_id": 72490157, "body": "What are the contents of the <code>__init__.py</code> file?"}, {"owner": {"reputation": 1555, "user_id": 2859458, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fc778faba894aa4ded4c99e2811b0194?s=128&d=identicon&r=PG&f=1", "display_name": "user2859458", "link": "https://stackoverflow.com/users/2859458/user2859458"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1489012119, "post_id": 42682626, "comment_id": 72490346, "body": "The <code>__init__.py</code> file is empty"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1489706180, "post_id": 42846444, "comment_id": 72801230, "body": "You might want to use an explicit relative import <code>from . import bar</code> instead of just <code>import bar</code> in <code>__init__.py</code>, for Python 3 compatibility. (See <a href=\"https://www.python.org/dev/peps/pep-0328/\" rel=\"nofollow noreferrer\">PEP 328</a>.)"}], "tags": [], "owner": {"reputation": 1555, "user_id": 2859458, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fc778faba894aa4ded4c99e2811b0194?s=128&d=identicon&r=PG&f=1", "display_name": "user2859458", "link": "https://stackoverflow.com/users/2859458/user2859458"}, "is_accepted": true, "score": 1, "last_activity_date": 1489705985, "creation_date": 1489705985, "answer_id": 42846444, "question_id": 42682626, "link": "https://stackoverflow.com/questions/42682626/python-thinks-my-setup-py-created-package-is-a-module-not-a-python-package/42846444#42846444", "title": "Python thinks my setup.py created package is a module not a python package", "body": "<p>Turns out I didn't understand how imports of Python <code>__init.__.py</code> packages work. I thought all the underlying submodules of a package (like <code>bar</code>) were imported when I imported the top level <code>foo</code> package but that is untrue. Python doesn't import submodules on purpose to prevent loading of things I might not use, especially in big packages.</p>\n\n<p>If I wanted to do something like:</p>\n\n<pre><code>&gt;&gt;&gt; import foo\n&gt;&gt;&gt; foo.bar\n</code></pre>\n\n<p>then all I needed to do was <code>import bar</code> in the <code>__init__.py</code> file of the <code>foo</code> module.</p>\n\n<p>I also learned that all packages are modules, (although not all modules are packages) so that is why my error was complaining about how the module didn't have the attribute. </p>\n"}], "owner": {"reputation": 1555, "user_id": 2859458, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fc778faba894aa4ded4c99e2811b0194?s=128&d=identicon&r=PG&f=1", "display_name": "user2859458", "link": "https://stackoverflow.com/users/2859458/user2859458"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 42846444, "answer_count": 1, "score": 1, "last_activity_date": 1489705985, "creation_date": 1489010088, "question_id": 42682626, "link": "https://stackoverflow.com/questions/42682626/python-thinks-my-setup-py-created-package-is-a-module-not-a-python-package", "title": "Python thinks my setup.py created package is a module not a python package", "body": "<p>I'm using <code>setup.py</code> to create a package <code>foo</code> and then installing it locally with <code>pip install .</code> in a fresh virtual env (python 2.7). In the virtual env's python interpreter I am able to import <code>foo</code>, but python seems to think <code>foo</code> is more a module than a python package (the package kind with the <code>__init__.py</code> file) because when I try to call into <code>foo</code>'s substructure, <code>foo.bar</code>, it gives me an error about the module not having the <code>bar</code> attribute.</p>\n\n<p>For example, I can import <code>foo</code> without issue but if I try and call anything off <code>foo</code>, it fails with error message:</p>\n\n<pre><code>&gt;&gt;&gt; import foo\n&gt;&gt;&gt; foo.bar\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'module' object has no attribute 'bar'\n</code></pre>\n\n<p>Here's the folder structure:</p>\n\n<pre><code>foo/\n    foo/\n        __init__.py\n        bar.py\nsetup.py\n</code></pre>\n\n<p>Here's my <code>setup.py</code> file:</p>\n\n<pre><code>from setuptools import setup\n\nsetup(\n    url='none',\n    author='loren',\n    name='foo',\n    version='1.0.0',\n    packages=['foo'],\n)\n</code></pre>\n\n<p>Interestingly, I can import bar with <code>from foo import bar</code> and not only does that work but it then fixes my above error and further calls to <code>foo.bar</code> returning the <code>bar</code> module, but that isn't very useful to me.</p>\n\n<p>What do I need to do to get </p>\n\n<pre><code>&gt;&gt;&gt; import foo\n&gt;&gt;&gt; foo.bar\n</code></pre>\n\n<p>to work properly?</p>\n"}, {"tags": ["python", "windows", "lxml", "appveyor"], "owner": {"reputation": 7207, "user_id": 1523238, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0e11e8f40ff750f4fb1e0f4663b520e3?s=128&d=identicon&r=PG&f=1", "display_name": "Oskar Persson", "link": "https://stackoverflow.com/users/1523238/oskar-persson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489010015, "creation_date": 1489010015, "question_id": 42682608, "link": "https://stackoverflow.com/questions/42682608/installing-lxml-on-appveyor", "title": "Installing lxml on AppVeyor", "body": "<p>Trying to build a python project on AppVeyor it fails when trying to install <a href=\"http://lxml.de\" rel=\"nofollow noreferrer\">lxml</a> with the following config:</p>\n\n<pre><code>environment:\n\n  matrix:\n\n    - PYTHON: \"C:\\\\Python27-x64\"\n    - PYTHON: \"C:\\\\Python34-x64\"\n      DISTUTILS_USE_SDK: \"1\"\n    - PYTHON: \"C:\\\\Python35-x64\"\n\nplatform:\n  - x86\n\ninstall:\n  - \"%PYTHON%\\\\python.exe -m pip install lxml==3.6.4\"\n</code></pre>\n\n<p>On a local machine I can get around this by installing one of <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml\" rel=\"nofollow noreferrer\">these</a> binary builds as specified <a href=\"http://lxml.de/installation.html#installation\" rel=\"nofollow noreferrer\">here</a>. But when running this on AppVeyor I would like to be able to avoid that. (Maybe by building the lxml requirements from source, but how would I do that?)</p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qlistwidget"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 4, "last_activity_date": 1489010492, "creation_date": 1489010492, "answer_id": 42682731, "question_id": 42682544, "link": "https://stackoverflow.com/questions/42682544/pyqt5-listwidget-add-list-items/42682731#42682731", "title": "PyQt5 ListWidget add list items", "body": "<p>If you want to add a list you must use the function <code>addItems()</code>.\nChange:</p>\n\n<pre><code>listWidget.addItem(ls)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>listWidget.addItems(ls)\n</code></pre>\n"}], "owner": {"reputation": 3128, "user_id": 3210059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/a39WK.jpg?s=128&g=1", "display_name": "karim", "link": "https://stackoverflow.com/users/3210059/karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22617, "favorite_count": 0, "accepted_answer_id": 42682731, "answer_count": 1, "score": 3, "last_activity_date": 1543202147, "creation_date": 1489009751, "last_edit_date": 1543202147, "question_id": 42682544, "link": "https://stackoverflow.com/questions/42682544/pyqt5-listwidget-add-list-items", "title": "PyQt5 ListWidget add list items", "body": "<p>while learning PyQt5 i found a little problem( maybe a bug) in the ListWidget Widget (and all other widgets)</p>\n\n<p>the <code>ListWidget</code> have a <code>addItem</code> method overloaded :\n( the code is in c++ but this is the same interface in pyqt )</p>\n\n<pre><code>void    addItem(const QString &amp;label)\nvoid    addItem(QListWidgetItem *item)\nvoid    addItems(const QStringList &amp;labels)\n</code></pre>\n\n<p>so the problem is that in PyQt5 there is no more <code>QStringList</code> type, and i should use a simple list of strings instead of the <code>QStringList</code></p>\n\n<p>but when i receive and error telling me that no method match the given paramaters :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 21, in &lt;module&gt;\n    listWidget.addItem(ls)\nTypeError: arguments did not match any overloaded call:\n  addItem(self, QListWidgetItem): argument 1 has unexpected type 'list'\n  addItem(self, str): argument 1 has unexpected type 'list'\n</code></pre>\n\n<p>Here is my code :</p>\n\n<pre><code>from PyQt5 import QtGui, QtCore, QtWidgets\nfrom PyQt5.QtWidgets import *\n\nimport sys\n\n\nif __name__ == '__main__':\n\n    app = QApplication(sys.argv)\n\n\n    listWidget = QListWidget()\n    listWidget.show()\n\n    ls = ['test', 'test2', 'test3']\n\n    listWidget.addItem('test')\n    listWidget.addItem('test2')\n    listWidget.addItem('test3')\n\n    listWidget.addItem(ls)\n\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python", "openerp"], "comments": [{"owner": {"reputation": 9433, "user_id": 2926754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DuemX.jpg?s=128&g=1", "display_name": "Bhavesh Odedra", "link": "https://stackoverflow.com/users/2926754/bhavesh-odedra"}, "edited": false, "score": 1, "creation_date": 1489031491, "post_id": 42682513, "comment_id": 72496192, "body": "Please update your question with <i>view.xml</i> file. It seems everything good in .py side. Might be helpful for future <a href=\"https://odedrabhavesh.blogspot.in/2015/02/how-related-field-work-in-odoo.html\" rel=\"nofollow noreferrer\">odedrabhavesh.blogspot.in/2015/02/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 826, "user_id": 3343667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7448f6824aa6bdf81248fc52dd4241bf?s=128&d=identicon&r=PG&f=1", "display_name": "thangtn", "link": "https://stackoverflow.com/users/3343667/thangtn"}, "is_accepted": true, "score": 1, "last_activity_date": 1489051535, "creation_date": 1489051535, "answer_id": 42691433, "question_id": 42682513, "link": "https://stackoverflow.com/questions/42682513/related-field-not-working-odoo-v9-community/42691433#42691433", "title": "Related field not working - Odoo v9 community", "body": "<p>Related fields are readonly fields, that's why you cannot edit them. If you want to edit them, just use normal Char field. If you want these fields have default values, use default attribute </p>\n\n<pre><code>orig_ = fields.Char(string=\"Origen\", default=lambda self: self.partner.origen)\ndest_ = fields.Char(string=\"Destino\", default=lambda self: self.partner.destino)\n</code></pre>\n"}], "owner": {"reputation": 3765, "user_id": 2089267, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/44215d587ff1f8bc581d4098bfec2154?s=128&d=identicon&r=PG&f=1", "display_name": "NeoVe", "link": "https://stackoverflow.com/users/2089267/neove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 42691433, "answer_count": 1, "score": 0, "last_activity_date": 1489051535, "creation_date": 1489009596, "question_id": 42682513, "link": "https://stackoverflow.com/questions/42682513/related-field-not-working-odoo-v9-community", "title": "Related field not working - Odoo v9 community", "body": "<p>I've inherited <code>res.partner</code> and added two fields to it.</p>\n\n<pre><code>class Partner(models.Model):\n    _inherit = 'res.partner'\n\n    type = fields.Selection(selection_add=[(('mina', 'Mina'))])\n    origen = fields.Char(string=\"Origen\")\n    destino = fields.Char(string=\"Destino\")\n</code></pre>\n\n<p>I want show these fields, on another model, like this:</p>\n\n<pre><code>class routes(models.Model):\n    _name = 'routes'\n\n    partner = fields.Many2one('res.partner')\n    orig_ = fields.Char(related=\"partner.origen\", string=\"Origen\", store=True)\n    dest_ = fields.Char(related=\"partner.destino\", string=\"Destino\", store=True)\n</code></pre>\n\n<p>These fields are being showed on form view, but they doesn't let me select anything, it's just a <code>Char</code> type field, like its not related, what could it be the reason?</p>\n"}, {"tags": ["python", "magic-methods"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1489010492, "post_id": 42682486, "comment_id": 72489606, "body": "When you assign a new value to a variable, the old value plays no part whatsoever in the process.  About the closest thing that would be actually possible to implement would be a BoundedFloatList, which could intercept writes to individual values in the list via <code>__setitem__()</code>."}, {"owner": {"reputation": 3, "user_id": 3704674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RKlf2.png?s=128&g=1", "display_name": "kc64", "link": "https://stackoverflow.com/users/3704674/kc64"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1489019770, "post_id": 42682486, "comment_id": 72493143, "body": "But I am just looking for a means to bound the new value when it is assigned. I don&#39;t care about the old value."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1489020441, "post_id": 42682486, "comment_id": 72493343, "body": "Then how are you imagining that the new value is somehow going to be turned into a BoundedFloat?  The only thing around that knows anything about bounds is the old value of the variable, and as I said, that plays no part in the assignment."}, {"owner": {"reputation": 3, "user_id": 3704674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RKlf2.png?s=128&g=1", "display_name": "kc64", "link": "https://stackoverflow.com/users/3704674/kc64"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1489064543, "post_id": 42682486, "comment_id": 72514115, "body": "I was hoping that I could find a magic method that would intercept the setting process in much the same way that <b>setitem</b> for a dictionary can capture the setting of an element. If there is no such magic method for floats, then I guess that is a limitation I will just have to live with."}], "owner": {"reputation": 3, "user_id": 3704674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RKlf2.png?s=128&g=1", "display_name": "kc64", "link": "https://stackoverflow.com/users/3704674/kc64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489009512, "creation_date": 1489009512, "question_id": 42682486, "link": "https://stackoverflow.com/questions/42682486/setting-value-of-sub-classed-float-type-with-magic-method", "title": "Setting value of sub-classed float type with magic method", "body": "<p>I am trying to implement a bounded float class to learn about magic methods.  So far, I have mostly copied from other Stack Overflow examples and have this:</p>\n\n<pre><code>class BoundedFloatError(TypeError, ValueError):\n    pass\n\n\nclass BoundedFloat(float):\n\n    def __new__(cls, float_string):\n        try: return float.__new__(cls, float_string)\n        except (TypeError, ValueError): raise BoundedFloatError(float_string)\n\n    def __init__(self, value, minimum=0.0, maximum=1.0, default=0.5):\n        self.minimum = minimum\n        self.maximum = maximum\n        self.default = default\n\n    def __magic_setter_method__(self, value):    # what is this method?\n        if self.minimum &lt;= value &lt;= self.maximum:\n            # what goes here?\n\n\nif __name__ == '__main__':\n\n    y = BoundedFloat(3.14)\n    print y, y.minimum, y.maximum, y.default, type(y)\n    # 3.14 3.14 1.0 0.5 &lt;class '__main__.BoundedFloat'&gt;\n\n    y = 16.7\n    print y, type(y)\n    # 16.7 &lt;type 'float'&gt;\n</code></pre>\n\n<p>I am trying to make a new method that sets the value while still keeping the sub-classed float type.  Having searched the documentation on magic methods, I have not found what method is called on setting a float so that I may capture it and enforce bounds.  Can someone point me in the right direction?</p>\n"}, {"tags": ["python", "time-series", "signals", "fft"], "comments": [{"owner": {"reputation": 3236, "user_id": 6876009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201968908078a1f1ea776c886d93631a?s=128&d=identicon&r=PG&f=1", "display_name": "f5r5e5d", "link": "https://stackoverflow.com/users/6876009/f5r5e5d"}, "edited": false, "score": 0, "creation_date": 1489010146, "post_id": 42682483, "comment_id": 72489449, "body": "Just don&#39;t plot the 0 bin of the fft if there&#39;s too much &quot;DC&quot; component.    Also by eyeball the data looks to have strong frequency components at very low frequencies - may look more &quot;reasonable&quot; by just looking at the 1st 50 or so bins"}, {"owner": {"reputation": 5909, "user_id": 500207, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsvTT.jpg?s=128&g=1", "display_name": "Ahmed Fasih", "link": "https://stackoverflow.com/users/500207/ahmed-fasih"}, "edited": false, "score": 0, "creation_date": 1489012792, "post_id": 42682483, "comment_id": 72490665, "body": "Subtract the mean of the signal before FFT\u2014that removes the big component at \u201cDC\u201d (i.e., bin 0 of the FFT). Also/alternatively, plot the <code>log10(abs(...))</code> (i.e., dB, or decibels) of the FFT output to get a better sense of what\u2019s going on."}, {"owner": {"reputation": 5909, "user_id": 500207, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsvTT.jpg?s=128&g=1", "display_name": "Ahmed Fasih", "link": "https://stackoverflow.com/users/500207/ahmed-fasih"}, "edited": false, "score": 0, "creation_date": 1489012890, "post_id": 42682483, "comment_id": 72490709, "body": "Also look at statistical spectral estimators like <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.periodogram.html\" rel=\"nofollow noreferrer\">periodogram</a> and related methods in <code>scipy.signal</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "is_accepted": false, "score": 1, "last_activity_date": 1489072845, "creation_date": 1489072845, "answer_id": 42699059, "question_id": 42682483, "link": "https://stackoverflow.com/questions/42682483/fft-power-spectrum-woes/42699059#42699059", "title": "fft power spectrum woes", "body": "<p>It turns out that I just didn't understand the units of the x-axis in the frequency spectrum, which is Hz.  Because my sample spacings were on the order of a second, and my period was on the order of a day, the only units really visible on my frequency spectrum were ~1/s (at the edges) to about ~1/m (near the middle), and anything with a longer period than that was indistinguishable from 0.  My misunderstanding stemmed from the graph on <a href=\"https://docs.scipy.org/doc/scipy-0.18.1/reference/tutorial/fftpack.html\" rel=\"nofollow noreferrer\">this</a> tutorial, where they do conversions so that the x-axis units are in time, as opposed to inverse time.  I rewrote my frequency_spectrum plotting function to do the appropriate \"zooming\" on the resulting graph...</p>\n\n<pre><code>def fourier_spectrum(X, sample_spacing_in_s=1, min_period_in_s=5):\n    '''\n        X: is our data\n        sample_spacing_in_s: is the time spacing between samples\n        min_period_in_s: is the minimum period we want to show up in our\n            graph... this is handy because if our sample spacing is\n            small compared to the periods in our data, then our spikes\n            will all cluster near 0 (the infinite period) and we can't\n            see them.  E.g. if you want to see periods on the order of\n            days, set min_period_in_s=5*60*60 #5 hours\n    '''\n    ps = np.abs(np.fft.fft(X))**2\n    freqs = np.fft.fftfreq(X.size, sample_spacing_in_s)\n    idx = np.argsort(freqs)\n    plt.plot(freqs[idx], ps[idx])\n    plt.xlim(-1./min_period_in_s,1./min_period_in_s) # the x-axis is in Hz\n</code></pre>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1489072845, "creation_date": 1489009507, "last_edit_date": 1495540437, "question_id": 42682483, "link": "https://stackoverflow.com/questions/42682483/fft-power-spectrum-woes", "title": "fft power spectrum woes", "body": "<p>I'm having trouble getting a frequency spectrum out of a fourier transform... I have some data:\n<a href=\"https://i.stack.imgur.com/QInKb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QInKb.png\" alt=\"data\"></a></p>\n\n<p>That I have mean-centered, and doesn't seem to have too much of a trend...</p>\n\n<p>I plot the fourier transform of it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JVBbZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JVBbZ.png\" alt=\"fourier transform\"></a></p>\n\n<p>And I get something that is not nice....</p>\n\n<p>Here is my code:</p>\n\n<pre><code>def fourier_spectrum(X, sample_freq=1):\n    ps = np.abs(np.fft.fft(X))**2\n    freqs = np.fft.fftfreq(X.size, sample_freq)\n    idx = np.argsort(freqs)\n\n    plt.plot(freqs[idx], ps[idx])\n</code></pre>\n\n<p>As adapted from code taken from <a href=\"https://stackoverflow.com/questions/15382076/plotting-power-spectrum-in-python\">here</a>.</p>\n\n<p>It seems to work for some naive sin wave data:</p>\n\n<pre><code>fourier_spectrum(np.sin(2*np.pi*np.linspace(-10,10,400)), 20./400)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MiLpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MiLpL.png\" alt=\"sin spectrum\"></a></p>\n\n<p>So my questions are:  I'm expecting a non-zero-almost-everywhere-spectrum, what am I doing wrong?  If I'm not doing anything wrong, what features of my data are causing this?  Also, if I'm not doing anything wrong, and fft is just unsuited for my data for some reason, what should I do to extract important frequencies from my data?</p>\n"}, {"tags": ["python", "list", "for-loop"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1489009681, "post_id": 42682480, "comment_id": 72489204, "body": "<code>for i in xrange(0,len(data_train_output_full)-1,3):</code> will stop correctly, but you still have <code>data_train_output_full[i+1],data_train_output_full[i+2]</code> in the loop i.e. <code>i+1</code> and <code>i+2</code> indices. Perhaps you want <code>for i in xrange(0,len(data_train_output_full)-3,3):</code>"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1489010108, "post_id": 42682480, "comment_id": 72489429, "body": "What is the length of <code>data_train_output_full</code>? It&#39;s hard to give a definitive answer without knowing that."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1489010129, "post_id": 42682480, "comment_id": 72489442, "body": "@roganjosh: I think you only need <code>len(...)-2</code>, not <code>-3</code>. The last element in the <code>xrange</code> is never yielded, so the last <code>i</code> value will be <code>len(...)-3</code>, which you can safely add two to."}, {"owner": {"reputation": 121, "user_id": 7654132, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a52699557c17196469ae3b96d1108401?s=128&d=identicon&r=PG&f=1", "display_name": "user7654132", "link": "https://stackoverflow.com/users/7654132/user7654132"}, "edited": false, "score": 0, "creation_date": 1489010202, "post_id": 42682480, "comment_id": 72489473, "body": "Welll there are different list with different length.. The last one has 278 entries, and end at  i 276, in which the error occur."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1489010123, "creation_date": 1489010123, "answer_id": 42682641, "question_id": 42682480, "link": "https://stackoverflow.com/questions/42682480/python-for-loop-iterate-in-stepsize-3/42682641#42682641", "title": "Python for loop iterate in stepsize 3", "body": "<p>You can always write a quick generator for this, using <code>itertools.islice</code> ideally.</p>\n\n<pre><code>In [1]: x = list(range(28))\n\nIn [2]: def by_triples(iterable):\n    ...:     it = iter(iterable)\n    ...:     triple = tuple(itertools.islice(it, 3))\n    ...:     while triple:\n    ...:         yield triple\n    ...:         triple = tuple(itertools.islice(it, 3))\n    ...:\n    ...:\n\nIn [3]: import itertools\n\nIn [4]: for trip in by_triples(x):\n    ...:     print(trip)\n    ...:\n(0, 1, 2)\n(3, 4, 5)\n(6, 7, 8)\n(9, 10, 11)\n(12, 13, 14)\n(15, 16, 17)\n(18, 19, 20)\n(21, 22, 23)\n(24, 25, 26)\n(27,)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010653, "creation_date": 1489010653, "answer_id": 42682772, "question_id": 42682480, "link": "https://stackoverflow.com/questions/42682480/python-for-loop-iterate-in-stepsize-3/42682772#42682772", "title": "Python for loop iterate in stepsize 3", "body": "<p>Your code doesn't work because the <code>stop</code> value you're giving to <code>xrange</code> is not correct. Since you're checking two indexes after the highest one provided by <code>xrange</code>, you need to subtract two from the length of the input sequence (<code>len(data_train_output_full)-2</code> instead of <code>-1</code>).</p>\n\n<p>There's also an <a href=\"https://docs.python.org/2/library/itertools.html#recipes\" rel=\"nofollow noreferrer\"><code>itertools</code> recipe</a> for this kind of iteration:</p>\n\n<pre><code>def grouper(iterable, n, fillvalue=None):\n    \"Collect data into fixed-length chunks or blocks\"\n    # grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx\n    args = [iter(iterable)] * n\n    return izip_longest(fillvalue=fillvalue, *args)\n</code></pre>\n\n<p>If your list might be uneven and you want the last values to be skipped instead of padded, you can use <code>itertools.izip</code> instead of <code>itertools.izip_longest</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "is_accepted": false, "score": 0, "last_activity_date": 1489011695, "last_edit_date": 1489011695, "creation_date": 1489011013, "answer_id": 42682856, "question_id": 42682480, "link": "https://stackoverflow.com/questions/42682480/python-for-loop-iterate-in-stepsize-3/42682856#42682856", "title": "Python for loop iterate in stepsize 3", "body": "<p>I came up with this alternate solution:</p>\n\n<pre><code>def by_n(a_list, n):\n    for i in xrange(0, len(a_list), n): \n        yield a_list[i:i+n]\n\ndata_train_output = [np.array(_) for _ in by_n(data_train_output_full, 3)]\n\n# or\n\ndata_train_output = list(map(np.array, by_n(data_train_output_full, 3))\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 7654132, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a52699557c17196469ae3b96d1108401?s=128&d=identicon&r=PG&f=1", "display_name": "user7654132", "link": "https://stackoverflow.com/users/7654132/user7654132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1489011695, "creation_date": 1489009492, "question_id": 42682480, "link": "https://stackoverflow.com/questions/42682480/python-for-loop-iterate-in-stepsize-3", "title": "Python for loop iterate in stepsize 3", "body": "<p>This might be a simple problem, but I seem to have spent too much time on it... My problem consist of creating a for loop that iterates through a list. </p>\n\n<p>For each iteration should three elements be extracted => those being i, i+1 and i+2.  But for some reason am I not able to iterate through the list without getting out of index or something like that?.. </p>\n\n<p>The way I currently iterating is as so: </p>\n\n<pre><code>        for i in xrange(0,len(data_train_output_full)-1,3):\n            data = np.array([data_train_output_full[i],data_train_output_full[i+1],data_train_output_full[i+2]])\n            data_train_output.append(data)\n</code></pre>\n\n<p>And the error message I am getting is: </p>\n\n<pre><code>IndexError: index 278 is out of bounds for axis 0 with size 278\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "types", "casting"], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 3337748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/435baef9fb22a417e620a51310f86f57?s=128&d=identicon&r=PG&f=1", "display_name": "Windtalker", "link": "https://stackoverflow.com/users/3337748/windtalker"}, "edited": false, "score": 0, "creation_date": 1489009875, "post_id": 42682523, "comment_id": 72489299, "body": "nope, it says TypeError: unsupported operand type(s) for //"}, {"owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "edited": false, "score": 0, "creation_date": 1489011451, "post_id": 42682523, "comment_id": 72490040, "body": "Nice solution with integer division and the engine parameter usage :-) +1"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 596, "user_id": 3337748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/435baef9fb22a417e620a51310f86f57?s=128&d=identicon&r=PG&f=1", "display_name": "Windtalker", "link": "https://stackoverflow.com/users/3337748/windtalker"}, "edited": false, "score": 0, "creation_date": 1489012080, "post_id": 42682523, "comment_id": 72490334, "body": "@Windtalker, glad i could help :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1489011560, "last_edit_date": 1489011560, "creation_date": 1489009669, "answer_id": 42682523, "question_id": 42682478, "link": "https://stackoverflow.com/questions/42682478/any-way-to-cast-type-in-pandas-dataframe-query/42682523#42682523", "title": "Any way to cast type in pandas dataframe query?", "body": "<p>assuming you have the following DF:</p>\n\n<pre><code>In [125]: df\nOut[125]:\n   col1  col2   col3\n0  2.11   1.1  2.101\n1  1.00   1.0  3.000\n2  4.40   2.2  4.900\n</code></pre>\n\n<p>you can use <code>DataFrame.query(..., engine='python')</code>:</p>\n\n<pre><code>In [132]: df.query(\"col1 // col2 == col3 // col2\", engine='python')\nOut[132]:\n   col1  col2   col3\n0  2.11   1.1  2.101\n2  4.40   2.2  4.900\n</code></pre>\n\n<p>or <code>DataFrame.eval(..., engine='python')</code>:</p>\n\n<pre><code>In [126]: df[df.eval(\"col1 // col2 == col3 // col2\", engine='python')]\nOut[126]:\n   col1  col2   col3\n0  2.11   1.1  2.101\n2  4.40   2.2  4.900\n</code></pre>\n\n<p>Check:</p>\n\n<pre><code>In [131]: ((df.col1 / df.col2).astype(int) == (df.col3 / df.col2).astype(int))\nOut[131]:\n0     True\n1    False\n2     True\ndtype: bool\n</code></pre>\n"}], "owner": {"reputation": 596, "user_id": 3337748, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/435baef9fb22a417e620a51310f86f57?s=128&d=identicon&r=PG&f=1", "display_name": "Windtalker", "link": "https://stackoverflow.com/users/3337748/windtalker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 1, "accepted_answer_id": 42682523, "answer_count": 1, "score": 4, "last_activity_date": 1489018391, "creation_date": 1489009481, "last_edit_date": 1489018391, "question_id": 42682478, "link": "https://stackoverflow.com/questions/42682478/any-way-to-cast-type-in-pandas-dataframe-query", "title": "Any way to cast type in pandas dataframe query?", "body": "<p>Assume i have a dataframe with 3 columns, all in float type, name it DT1. \nNow if i want to create another dataframe from DT1 by query DT1, say the second one is called DT2. </p>\n\n<pre><code>DT2 = DT1.query(\u2018(column1/column2) == (column3/column2)\u2019)\n</code></pre>\n\n<p>This will work only if two sides of the equation are exactly match. \nWhat if I only want to compare the integer results of two side?</p>\n\n<p>Like:</p>\n\n<pre><code>DT2 = DT1.query(\u2018(column1/column2).astype(int) == (column3/column2)\u2019).astype(int)\n</code></pre>\n\n<p>The example above won't work, any solution?</p>\n\n<p>PS: </p>\n\n<pre><code>DT2 = DT1.loc(\u2018(DT1[column1]/DT1[column2]).astype(int) == (DT1[column3[/DT1[column2]).astype(int)\u2019)\n</code></pre>\n\n<p>will work. I am curious if it can work through query. </p>\n\n<p>Thanks! </p>\n"}, {"tags": ["python", "file", "dictionary"], "comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1489009286, "post_id": 42682381, "comment_id": 72488981, "body": "A file is just a blob of data. If you wanted to access it like a dict, you&#39;d have to read it into your program as a dict (or similar mapping structure) anyway."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1489229665, "post_id": 42682381, "comment_id": 72586881, "body": "Can you be more precise? You want line <code>n</code> in file 1 to be associated with line <code>n</code> in file 2? Or are you in general looking for data storage of a dictionary in a file? You could use a csv file, or a Python file with a dictionary inside then."}], "answers": [{"tags": [], "owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "is_accepted": true, "score": 1, "last_activity_date": 1489277808, "last_edit_date": 1489277808, "creation_date": 1489277228, "answer_id": 42742176, "question_id": 42682381, "link": "https://stackoverflow.com/questions/42682381/associating-items-in-a-file-python/42742176#42742176", "title": "Associating items in a file python", "body": "<p>Assuming these are small files, read them both into lists line-by-line:</p>\n\n<pre><code>l1, l2 = [], [] # these will store the lines\nfor fname, l in [(fname1, l1), (fname2, l2)]: # read in one file at a time\n    f = open(fname, \"r\") # opens in read mode\n    for line in f:\n        # line = line.strip() if you want to remove head/trailing newlines, tabs, etc\n        l.append(line)\n    f.close() # good practice to close explicitly even though GC would get it later\n</code></pre>\n\n<p>Now you can easily check for correspondence by accessing the lists:</p>\n\n<pre><code>is_match = (l2[i] == l2[i])\n</code></pre>\n\n<p>This will be more efficient than building a dictionary, if that matters to you.</p>\n\n<p>P.S. Password systems should never store passwords in plain text. The common alternative is to store securely salted+hashed passwords. If you want to try this, it would require further reading on your part; see: <a href=\"https://nakedsecurity.sophos.com/2013/11/20/serious-security-how-to-store-your-users-passwords-safely/\" rel=\"nofollow noreferrer\">https://nakedsecurity.sophos.com/2013/11/20/serious-security-how-to-store-your-users-passwords-safely/</a></p>\n"}], "owner": {"reputation": 73, "user_id": 7653268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/58a5598657997fef91770aa1c109d4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Someone", "link": "https://stackoverflow.com/users/7653268/someone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 42742176, "answer_count": 1, "score": 1, "last_activity_date": 1489277808, "creation_date": 1489009076, "last_edit_date": 1489271499, "question_id": 42682381, "link": "https://stackoverflow.com/questions/42682381/associating-items-in-a-file-python", "title": "Associating items in a file python", "body": "<p>How could I call up two files or one file (I'm not too sure which would be easier) and associate two strings so that the program could tell if the user entered the correct counter string if one of them was output.\n So Line 'n' in file 1 would equal line n in file 2.</p>\n\n<p>N.B.\nI am creating a system (for a challenge: I'm quite new to Python) that checks whether a password is correct for the associated username and I was wondering whether I could use a file instead of a dictionary.\nI HAVE looked around, but I couldn't find any questions which suited my purpose</p>\n"}, {"tags": ["python", "pip", "installation", "fann"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 8921703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/912a848f619c0fa6baf30579ba5c9cca?s=128&d=identicon&r=PG&f=1", "display_name": "MisterSheep", "link": "https://stackoverflow.com/users/8921703/mistersheep"}, "is_accepted": false, "score": 1, "last_activity_date": 1510345810, "creation_date": 1510345810, "answer_id": 47230658, "question_id": 42682373, "link": "https://stackoverflow.com/questions/42682373/trying-to-install-fann2-python-library-error-failed-with-error-code-1/47230658#47230658", "title": "Trying to install fann2 python library, error: &quot;failed with error code 1&quot;", "body": "<p>I got this same error when trying to install <a href=\"https://mycroft.ai\" rel=\"nofollow noreferrer\">Mycroft AI</a>. </p>\n\n<p>It looks like the python installer requires you to already have the FANN libraries installed somewhere on your system path.</p>\n\n<p>You can get the fann files from their <a href=\"http://leenissen.dk/fann/wp/download/\" rel=\"nofollow noreferrer\">download page here</a>, but I just got mine from the <a href=\"https://aur.archlinux.org/packages/fann/\" rel=\"nofollow noreferrer\">AUR</a> so I'm probably not much help for your environment.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10472122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8be1a00d4ccd1aa979a00943ca120de?s=128&d=identicon&r=PG&f=1", "display_name": "Ilia", "link": "https://stackoverflow.com/users/10472122/ilia"}, "is_accepted": false, "score": -3, "last_activity_date": 1544817023, "last_edit_date": 1544817023, "creation_date": 1544789937, "answer_id": 53779647, "question_id": 42682373, "link": "https://stackoverflow.com/questions/42682373/trying-to-install-fann2-python-library-error-failed-with-error-code-1/53779647#53779647", "title": "Trying to install fann2 python library, error: &quot;failed with error code 1&quot;", "body": "<p><a href=\"https://www.youtube.com/watch?v=IGybbtYiSEk&amp;index=3&amp;list=PL8fA_qjSFodf_RiWz-7441XQu8Cm0F25z\" rel=\"nofollow noreferrer\">instruction vieo</a></p>\n\n<p>setup.py file has an exception  </p>\n\n<p>some python libraries require various complex manipulations before installation, for example, pre-building a library in C++. To avoid this, some libraries have already been collected and can be found on the <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow noreferrer\">website</a>  </p>\n\n<p>after downloading it remains to run the command\npip install file_name</p>\n"}], "owner": {"reputation": 1, "user_id": 7680772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf695238376f77a4c0bf0c2f569952e?s=128&d=identicon&r=PG&f=1", "display_name": "aleli91", "link": "https://stackoverflow.com/users/7680772/aleli91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544817023, "creation_date": 1489009045, "last_edit_date": 1489020926, "question_id": 42682373, "link": "https://stackoverflow.com/questions/42682373/trying-to-install-fann2-python-library-error-failed-with-error-code-1", "title": "Trying to install fann2 python library, error: &quot;failed with error code 1&quot;", "body": "<p>I am new to python and I keep getting errors when I am trying to install new packages.</p>\n\n<p>This time I tried to install the Fast Artificial Neural Network Library, fann2.</p>\n\n<p>I am trying to install from the command prompt, running the following line from the python 3.6 path: <code>python -m pip install fann2</code></p>\n\n<p>Here is my Log:</p>\n\n<pre><code>*  Failed building wheel for fann2\n\n\n*Command \"C:\\Users\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe -u -c \"import setuptools, tokenize;__file__='C:\\\\Users\\AppData\\\\Local\\\\Temp\\\\pip-build-q8ncpiq8\\\\fann2\\\\setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record C:\\Users\\AppData\\Local\\Temp\\pip-v7aj23q_-record\\install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in C:\\Users\\AppData\\Local\\Temp\\pip-build-q8ncpiq8\\fann2\\\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1489009033, "post_id": 42682356, "comment_id": 72488864, "body": "Why would you describe the code instead of posting it?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 2, "creation_date": 1489009044, "post_id": 42682356, "comment_id": 72488872, "body": "Post code. We are not mind-reading wizards here."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1489009135, "post_id": 42682356, "comment_id": 72488918, "body": "Lagrange took enormous pride in the fact that his treatise did not have any illustrations in it: <a href=\"https://en.wikipedia.org/wiki/Joseph-Louis_Lagrange#M.C3.A9canique_analytique\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"}, {"owner": {"reputation": 1751, "user_id": 3586325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3CRVr.jpg?s=128&g=1", "display_name": "Buzz", "link": "https://stackoverflow.com/users/3586325/buzz"}, "edited": false, "score": 0, "creation_date": 1489009137, "post_id": 42682356, "comment_id": 72488919, "body": "It sounds like you just didn&#39;t create the second loop the correct way. but we would need to see your code to be of any help"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 4, "creation_date": 1489009174, "post_id": 42682356, "comment_id": 72488933, "body": "Also, stop hitting your for loops and they&#39;ll respond better."}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1489009249, "post_id": 42682356, "comment_id": 72488964, "body": "@MadPhysicist I really really want to type D E D but I must to resist the urge.. ugh this is hard"}, {"owner": {"reputation": 1159, "user_id": 1447908, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b658381103df92e4d32797b49287ca54?s=128&d=identicon&r=PG&f=1", "display_name": "king", "link": "https://stackoverflow.com/users/1447908/king"}, "edited": false, "score": 0, "creation_date": 1489009282, "post_id": 42682356, "comment_id": 72488980, "body": "My internet and elektricity went out unfortunately so I am posting from my.phone.. im using openpyxl, the second for loop is for row2 in sheetOrig.ITER_rows(theRange)"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1489009342, "post_id": 42682356, "comment_id": 72489011, "body": "@king. Please don&#39;t do that. You won&#39;t be able to use an answer until the electricty comes back, so wait until you can meaningfully edit the question."}, {"owner": {"reputation": 1159, "user_id": 1447908, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b658381103df92e4d32797b49287ca54?s=128&d=identicon&r=PG&f=1", "display_name": "king", "link": "https://stackoverflow.com/users/1447908/king"}, "edited": false, "score": 0, "creation_date": 1489009408, "post_id": 42682356, "comment_id": 72489045, "body": "Both for loops look like basically above, trying to go through 2 sheets and compare values, but the second fir loop doesn&#39;t start from the top of the range, only from where it last was"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1489009426, "post_id": 42682356, "comment_id": 72489053, "body": "I&#39;m not sure if you can simply restart python&#39;s for loop. If you want to control the iteration, maybe you should use while."}, {"owner": {"reputation": 1159, "user_id": 1447908, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b658381103df92e4d32797b49287ca54?s=128&d=identicon&r=PG&f=1", "display_name": "king", "link": "https://stackoverflow.com/users/1447908/king"}, "edited": false, "score": 0, "creation_date": 1489009439, "post_id": 42682356, "comment_id": 72489059, "body": "My laptop is running on battery power I can use an answer lol"}, {"owner": {"reputation": 1159, "user_id": 1447908, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b658381103df92e4d32797b49287ca54?s=128&d=identicon&r=PG&f=1", "display_name": "king", "link": "https://stackoverflow.com/users/1447908/king"}, "edited": false, "score": 0, "creation_date": 1489009488, "post_id": 42682356, "comment_id": 72489091, "body": "I see.. yeah I tried break but it doesn&#39;t reset it hmmm"}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 2, "creation_date": 1489009495, "post_id": 42682356, "comment_id": 72489094, "body": "stackoverflow will probably still be here after you recharge."}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1489009664, "post_id": 42682356, "comment_id": 72489193, "body": "You could&#39;ve written something from memory, or even a small example to help... Because as far as I can tell, what you&#39;re trying to do <i>works</i>. I tested on my phone (btw, Pythonista) with nested <code>for</code> loops and a <code>break</code> statement in the second one."}], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 5556887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb86c8d689592c71cc88a42c7981c252?s=128&d=identicon&r=PG&f=1", "display_name": "bouletta", "link": "https://stackoverflow.com/users/5556887/bouletta"}, "edited": false, "score": 0, "creation_date": 1489009675, "post_id": 42682505, "comment_id": 72489201, "body": "The tag is Python though"}, {"owner": {"reputation": 65, "user_id": 4703856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-5xEQOZrOc/AAAAAAAAAAI/AAAAAAAACCo/V4b31_k4ESA/photo.jpg?sz=128", "display_name": "Surfer Buddha", "link": "https://stackoverflow.com/users/4703856/surfer-buddha"}, "reply_to_user": {"reputation": 447, "user_id": 5556887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb86c8d689592c71cc88a42c7981c252?s=128&d=identicon&r=PG&f=1", "display_name": "bouletta", "link": "https://stackoverflow.com/users/5556887/bouletta"}, "edited": false, "score": 0, "creation_date": 1489010727, "post_id": 42682505, "comment_id": 72489712, "body": "Ok, changed from PHP to Python."}], "tags": [], "owner": {"reputation": 65, "user_id": 4703856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U-5xEQOZrOc/AAAAAAAAAAI/AAAAAAAACCo/V4b31_k4ESA/photo.jpg?sz=128", "display_name": "Surfer Buddha", "link": "https://stackoverflow.com/users/4703856/surfer-buddha"}, "is_accepted": true, "score": -1, "last_activity_date": 1489011062, "last_edit_date": 1489011062, "creation_date": 1489009571, "answer_id": 42682505, "question_id": 42682356, "link": "https://stackoverflow.com/questions/42682356/restart-a-for-loop-within-a-for-loop/42682505#42682505", "title": "Restart a for loop within a for loop", "body": "<p>As Python generally doesn't use pre and post incrementation and without seeing the code, I would recommend incrementing the index variable forcefully after your break statement in order to determine your values and what to do next.</p>\n\n<pre><code>count = 1\nfor i in range(10):\n    for j in range(0, i):\n        print(count, end='')\n        count += 1\n        print()\n        input()\n</code></pre>\n\n<p>So change:</p>\n\n<pre><code>count = count + 1\n</code></pre>\n\n<p>to</p>\n\n<pre><code>count =+ 1\n</code></pre>\n\n<p>to see if that gives you information about your index variable in order to edit when you want to do something the break point.</p>\n"}], "owner": {"reputation": 1159, "user_id": 1447908, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b658381103df92e4d32797b49287ca54?s=128&d=identicon&r=PG&f=1", "display_name": "king", "link": "https://stackoverflow.com/users/1447908/king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 42682505, "answer_count": 1, "score": -3, "last_activity_date": 1489011062, "creation_date": 1489008966, "question_id": 42682356, "link": "https://stackoverflow.com/questions/42682356/restart-a-for-loop-within-a-for-loop", "title": "Restart a for loop within a for loop", "body": "<p>I have two for loops.</p>\n\n<p>I want to iterate through the first for loop from top to bottom.</p>\n\n<p>I have a second for loop, within the first the for loop, that I want to restart each time it gets hit.</p>\n\n<p>Within the second for loop, I have a break statement when I find what I need.</p>\n\n<p>However, my problem is, in the second for loop, everytime I break out, the next time it gets accessed, it always starts from the next position after the previous break.</p>\n\n<p>The second for loop never starts from the beginning of itself. Only from when I previously utilized break, it starts from there.</p>\n"}, {"tags": ["python", "function", "class", "self"], "comments": [{"owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "edited": false, "score": 0, "creation_date": 1489009033, "post_id": 42682335, "comment_id": 72488866, "body": "fix the typo in the init definition. it should be <code>def __init__</code> not <code>def __innit__</code>"}, {"owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "edited": false, "score": 0, "creation_date": 1489009096, "post_id": 42682335, "comment_id": 72488898, "body": "secondly add the stack trace, we would like to know where the error is occuring"}], "answers": [{"tags": [], "owner": {"reputation": 7243, "user_id": 4356204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJ6Nk.jpg?s=128&g=1", "display_name": "parsethis", "link": "https://stackoverflow.com/users/4356204/parsethis"}, "is_accepted": false, "score": 0, "last_activity_date": 1489009339, "creation_date": 1489009339, "answer_id": 42682446, "question_id": 42682335, "link": "https://stackoverflow.com/questions/42682335/other-solutions-for-this-name-error-dont-work-for-my-code/42682446#42682446", "title": "Other solutions for this name error don&#39;t work for my code", "body": "<p>there a a few typo in the code:</p>\n\n<p>ones that I see include:</p>\n\n<p><code>def __init__(self)</code> <strong>not</strong> <code>def__innit__(self)</code></p>\n\n<p>the specific error is <em>probably</em> coming from not passing self as a parameter in <code>get_approx</code></p>\n\n<p>should be <code>get_approx(self, irNum, digitsNum, digitsDivider, cycles)</code></p>\n"}], "owner": {"reputation": 13, "user_id": 5771109, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/771ef41ac5890080349d0f7a00260ba1?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Heuer", "link": "https://stackoverflow.com/users/5771109/arthur-heuer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1489009472, "creation_date": 1489008891, "question_id": 42682335, "link": "https://stackoverflow.com/questions/42682335/other-solutions-for-this-name-error-dont-work-for-my-code", "title": "Other solutions for this name error don&#39;t work for my code", "body": "<p>I can't solve this one. I read some answers to the same error, but their solutions don't work. I'm out of ideas. Why is the error happening? The error is: NameError: name 'self' is not defined</p>\n\n<p>Thank you.</p>\n\n<pre><code>class irNum:\n    def __innit__(self):\n        pass\n\n    def approx(irNum, digitsNum, digitsDivider, cycles):\n        self.approximate(irNum, digitsNum, digitsDivider, cycles)\n\n    def approximate(self):\n        divider = 2\n        bestDecimalPlaces = None\n        stage = 0\n        for i in range(0, cycles):\n            for stage in range(0,2):\n                if divider &lt;= int(\"9\" * digitsDivider):\n                    if stage == 0:\n                        num = int(round(divider * irNum, 0))\n                    elif stage == 1:\n                        num = (int(round(divider * irNum, 0))) - 1\n                    elif stage == 2:\n                        num = int(round(divider * irNum, 0)) + 1\n                    else:\n                        raise ValueError\n\n                    if num &lt;= int(\"9\" * digitsNum):\n                        approx = num / divider\n                        difference = irNum - approx\n                    else:\n                        break\n\n                    sIrNum = str(irNum)\n                    sApprox = str(approx)\n\n                    if len(sIrNum) &gt;= len(sApprox):\n                        smallest = sApprox\n                    else:\n                        smallest = sIrNum\n\n                    decimalPlaces = 0\n                    go = False\n                    passed = True\n                    a = 0\n                    while a &lt; len(smallest):\n                        if go == False:\n                            if sIrNum[a] != sApprox[a]:\n                                passed = False\n\n                            if sIrNum[a] == \".\":\n                                go = True\n                                a += 1\n\n                        if passed == False:\n                            break\n\n                        if go == True:\n                            if sIrNum[a] == sApprox[a]:\n                                decimalPlaces += 1\n                            else:\n                                break\n\n                        a += 1\n\n                    if bestDecimalPlaces == None:\n                        checksOut = True\n                    elif decimalPlaces &gt; bestDecimalPlaces:\n                        checksOut = True\n                    else:\n                        checksOut = False\n\n                    if checksOut == True:\n                        bestDecimalPlaces = decimalPlaces\n                        bestNum = num\n                        bestDivider = divider\n                        bestDifference = difference\n                        bestApprox = approx\n\n                    if stage &gt; 2:\n                        raise ValueError\n                    else:\n                        stage += 1\n\n            divider += 1\n\n        return [bestNum, bestDivider, bestDecimalPlaces, bestDifference, bestApprox]\n\npi = 3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679\n\npiApprox = irNum.approx(pi, 2, 2, 10 ** 3)\n\nprint(piApprox)\n</code></pre>\n"}, {"tags": ["python", "pip", "homebrew"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df45acc0536dd921de76100e1e32ff69?s=128&d=identicon&r=PG&f=1", "display_name": "M J Muckian", "link": "https://stackoverflow.com/users/7680836/m-j-muckian"}, "edited": false, "score": 0, "creation_date": 1489066577, "post_id": 42684156, "comment_id": 72515410, "body": "Thanks for the response.  When I try that I get &quot;python3.5: command not found.&quot;  I normally execute python from the IDLE icon that I dragged from the usr/local/cellar...  I wonder if there is something I need to do with my PATH so that the terminal can &quot;see&quot; into the Cellar.  When I type &quot;python --version&quot; I get &quot;Python 2.7.10&quot;  When I type python3 or python3.5, I get &quot;command not found&quot;   When I type pip3 -- version, I get &quot;pip8.1.2 from usr/local/lib/python3.5/site-packages&quot;"}, {"owner": {"reputation": 11, "user_id": 7680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df45acc0536dd921de76100e1e32ff69?s=128&d=identicon&r=PG&f=1", "display_name": "M J Muckian", "link": "https://stackoverflow.com/users/7680836/m-j-muckian"}, "edited": false, "score": 0, "creation_date": 1489078126, "post_id": 42684156, "comment_id": 72523930, "body": "OK, I found part of the problem.  There was some garbage in my bash profile.  Once I cleared that out, I was able to install modules using python3.5 -m pip install &lt;package&gt;                     However, it installed them in the home-brew python 2.7 site-packages folder (for some reason, home-brew installed both 2.7 and 3.5), not in the 3.5 site-packages.  Not sure why."}], "tags": [], "owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "is_accepted": false, "score": 1, "last_activity_date": 1489016988, "creation_date": 1489016988, "answer_id": 42684156, "question_id": 42682326, "link": "https://stackoverflow.com/questions/42682326/understanding-pip-and-home-brew-file-structure/42684156#42684156", "title": "Understanding pip and home-brew file structure", "body": "<p>Each version of Python (2.6, 2.7, 3.5, 3.6, etc.) maintains its own libraries.</p>\n\n<p>So installing a package with pip will indeed only install the package for the particular version that the pip script is pointing to. Try running</p>\n\n<pre><code>python3.5 -m pip install &lt;package&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df45acc0536dd921de76100e1e32ff69?s=128&d=identicon&r=PG&f=1", "display_name": "M J Muckian", "link": "https://stackoverflow.com/users/7680836/m-j-muckian"}, "is_accepted": false, "score": 0, "last_activity_date": 1489084421, "creation_date": 1489084421, "answer_id": 42702937, "question_id": 42682326, "link": "https://stackoverflow.com/questions/42682326/understanding-pip-and-home-brew-file-structure/42702937#42702937", "title": "Understanding pip and home-brew file structure", "body": "<p>I found the answer in the documentation for homebrew.  For Homebrew python, you must use \"pip3 install \" instead of \"python -m pip install \"\nThere were two other issues that complicated this.\n1. I had previously manually installed python 3.5.  The bash profile was configured to point to this before /usr/local/bin.\n2. In the documentation of pip, it mentions that the CLI command \"pip\" points to the last version of python that used it.  So using \"pip\" alone was causing pip to load the modules into the 2.7 version of the python.\nTo fix this, I deleted the manually installed version, I removed the garbage from the bash profile, then it everything seemed to work.   </p>\n"}], "owner": {"reputation": 11, "user_id": 7680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df45acc0536dd921de76100e1e32ff69?s=128&d=identicon&r=PG&f=1", "display_name": "M J Muckian", "link": "https://stackoverflow.com/users/7680836/m-j-muckian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1489084421, "creation_date": 1489008862, "question_id": 42682326, "link": "https://stackoverflow.com/questions/42682326/understanding-pip-and-home-brew-file-structure", "title": "Understanding pip and home-brew file structure", "body": "<p>I have a mac running OS X.  Although it has Python 2.7 preinstalled, I used home-brew to install Python 3.5, which works great.  Now I'm looking to add modules using pip.  Trouble is, when I used pip in the terminal, it looks like the module was installed, however, my Python 3.5 doesn't see it.  After a bit of digging, I suspect the problem is that my pip is pointed at the the Apple 2.7 Python version and I realize the answer is I need to change the config on pip to point at the 3.5 version of python, but I can't make any sense of the brew file structure in order to know where to point it at.  And, as I dig through the Cellar, I see multiple versions of pip, so I'm not even sure I'm using the right one, but not sure how to call the right one from the terminal.  I'm sure this is very straightforward to experienced users, but I'm lost.</p>\n"}, {"tags": ["python", "python-2.7", "pygame"], "comments": [{"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489055137, "post_id": 42682309, "comment_id": 72507866, "body": "Don&#39;t use recursive calls in your game loop. Python has set a limit to 1000 recursive calls before it raises an error. You can change this limit but a better way would be to put <code>screen.fill(black)</code>, <code>screen.blit(spaceship, (spaceX, spaceY))</code> and <code>pygame.display.flip()</code> in the <code>while True</code> loop. This way you also won&#39;t load in the image and scale it every time you move your spaceship."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489055262, "post_id": 42682309, "comment_id": 72507974, "body": "What do you mean when you say &quot;it did not work&quot;? Because it should work perfectly fine. I&#39;ve used the exact same code many times before."}, {"owner": {"reputation": 43, "user_id": 6365869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d875be184093e014e938a1b7e4c8e?s=128&d=identicon&r=PG&f=1", "display_name": "iMiner", "link": "https://stackoverflow.com/users/6365869/iminer"}, "reply_to_user": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489072537, "post_id": 42682309, "comment_id": 72519721, "body": "I mean that I tried using pygame.key.get_pressed() instead of pygame.KEYDOWN before and it was not working."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489075611, "post_id": 42682309, "comment_id": 72522034, "body": "I mean did you get an error, didn&#39;t it register when you pressed buttons, did it work but just not for what you were trying to accomplish, etc.? Because it should work if all logic is correct and it&#39;s one of the easiest ways to do what you&#39;re trying to do. Or you could introduce a velocity variable that you add onto the position every loop."}, {"owner": {"reputation": 43, "user_id": 6365869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d875be184093e014e938a1b7e4c8e?s=128&d=identicon&r=PG&f=1", "display_name": "iMiner", "link": "https://stackoverflow.com/users/6365869/iminer"}, "reply_to_user": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489075855, "post_id": 42682309, "comment_id": 72522235, "body": "I edited my post with some edited code. I did get the pygame.key.get_pressed() to work but it still only moves 1 key tap at a time. No errors seem to pop up."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489076222, "post_id": 42682309, "comment_id": 72522536, "body": "That&#39;s because you have it in the event loop. Move them outside and it should work."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489076346, "post_id": 42682309, "comment_id": 72522639, "body": "Although you have to call some function from <code>pygame.event</code> for the game not to crash. Use <code>pygame.event.pump()</code> if you&#39;re not going to use the event loop. You can read about it more <a href=\"http://stackoverflow.com/documentation/pygame/5110/event-handling/18049/state-checking#t=201703091617398923333\">here</a>."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489076472, "post_id": 42682309, "comment_id": 72522722, "body": "The event loop is only triggered when an event happen. So what it is saying in your code is &quot;for every event that happens (whether it&#39;s a KEYDOWN, KEYUP, MOUSEBUTTONDOWN, VIDEORESIZE, etc) it should move the object if the arrow keys are pressed&quot;."}, {"owner": {"reputation": 43, "user_id": 6365869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d875be184093e014e938a1b7e4c8e?s=128&d=identicon&r=PG&f=1", "display_name": "iMiner", "link": "https://stackoverflow.com/users/6365869/iminer"}, "reply_to_user": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489078241, "post_id": 42682309, "comment_id": 72524015, "body": "That worked! However, the program crashes after a while and it infinitely shows a bunch of errors. No error message but it tells me the line the error is in. Looks to be the line with game(spaceX, spaceY) after the keys are held down. After some time it stops working and an infinite amount of errors scroll by but with no specific error name."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489078921, "post_id": 42682309, "comment_id": 72524513, "body": "Yes, as I wrote: you have to call some function from <code>pygame.event</code> for the game not to crash. I gave an easy fix to it in my answer below"}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489079151, "post_id": 42682309, "comment_id": 72524654, "body": "And it can be error because of the recursion limit, as I explained in the comment at the top."}, {"owner": {"reputation": 43, "user_id": 6365869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d875be184093e014e938a1b7e4c8e?s=128&d=identicon&r=PG&f=1", "display_name": "iMiner", "link": "https://stackoverflow.com/users/6365869/iminer"}, "reply_to_user": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "edited": false, "score": 0, "creation_date": 1489080762, "post_id": 42682309, "comment_id": 72525717, "body": "Yea sorry I guess I read through you previous replies too quickly. Thank you so much and I learned a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "is_accepted": false, "score": 0, "last_activity_date": 1489011212, "creation_date": 1489011212, "answer_id": 42682905, "question_id": 42682309, "link": "https://stackoverflow.com/questions/42682309/how-do-i-get-my-object-in-pygame-to-move-by-holding-the-button/42682905#42682905", "title": "How do I get my object in pygame to move by holding the button?", "body": "<p>One solution to this problem would be to use <code>set_repeat</code> function</p>\n\n<pre><code>pygame.key.set_repeat(True)\n</code></pre>\n\n<p>This will generate multiple <code>KEYDOWN</code> events.</p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 2906288, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002405782052/picture?type=large", "display_name": "Jan Meisel", "link": "https://stackoverflow.com/users/2906288/jan-meisel"}, "edited": false, "score": 3, "creation_date": 1489044456, "post_id": 42683467, "comment_id": 72501183, "body": "pygame.key.get_pressed() should only be called once per loop. Not for every event in pygame.event.get()."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6698006"}, "is_accepted": false, "score": 0, "last_activity_date": 1489013508, "creation_date": 1489013508, "answer_id": 42683467, "question_id": 42682309, "link": "https://stackoverflow.com/questions/42682309/how-do-i-get-my-object-in-pygame-to-move-by-holding-the-button/42683467#42683467", "title": "How do I get my object in pygame to move by holding the button?", "body": "<p>Try adding the keys to your pygame for loop. So it should look something like this...</p>\n\n<pre><code>while running:\nfor event in pygame.event.get():\n    keys = pygame.key.get_pressed()  #checking pressed keys\n        if keys[pygame.K_UP]:\n        y1 -= 1\n\n        if keys[pygame.K_DOWN]:\n        y1 += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "is_accepted": false, "score": 3, "last_activity_date": 1489079001, "last_edit_date": 1489079001, "creation_date": 1489077879, "answer_id": 42700883, "question_id": 42682309, "link": "https://stackoverflow.com/questions/42682309/how-do-i-get-my-object-in-pygame-to-move-by-holding-the-button/42700883#42700883", "title": "How do I get my object in pygame to move by holding the button?", "body": "<p>There are two ways to check for key input, either if they're in the event queue or checking their current state. </p>\n\n<h2>Event queue</h2>\n\n<p>Keys are put into the event queue when they're pressed or realesed, so you cannot directly tell if a key is held or not. There are two ways around this:</p>\n\n<ol>\n<li><p>Call <code>pygame.key.set_repeat(True)</code> before you enter the main loop. This will repeatedly put the KEYDOWN event into the event queue, as long as it's held.</p></li>\n<li><p>Introduce a velocity variable. Set the velocity to some speed when the user press down the key, and set the velocity to 0 when the user lift the key. </p></li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>for event in pygame.event.get():\n    if event.type == pygame.KEYDOWN:\n        if event.key == pygame.K_LEFT:\n            velocity_x = -5\n        elif event.key == pygame.K_RIGHT:\n            velocity_x = 5\n    elif event.type == pygame.KEYUP:\n        if event.key == pygame.K_LEFT:\n            velocity_x = 0\n        elif event.key == pygame.K_RIGHT:\n            velocity_x = 0\n\nposition_x += velocity_x\n</code></pre>\n\n<h2>State checking</h2>\n\n<p>You get the current state of the keys by calling <code>pygame.key.get_pressed()</code>. You have to call one of the functions in <code>pygame.event</code> in order for pygame to do some required internal actions, so use <code>pygame.event.pump()</code> if you don't want to use the event queue. Your OS will think pygame has crashed if you don't, resulting in the game being unresponsive. Although, you usually want to handle the <code>pygame.QUIT</code> event, so the user can quit.</p>\n\n<pre><code>pygame.event.pump()\nkeys = pygame.key.get_pressed()\nif keys[pygame.K_LEFT]:\n    position_x -= 5\nelif keys[pygame.K_RIGHT]:\n    position_x += 5\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6365869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/314d875be184093e014e938a1b7e4c8e?s=128&d=identicon&r=PG&f=1", "display_name": "iMiner", "link": "https://stackoverflow.com/users/6365869/iminer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1489079001, "creation_date": 1489008806, "last_edit_date": 1489075724, "question_id": 42682309, "link": "https://stackoverflow.com/questions/42682309/how-do-i-get-my-object-in-pygame-to-move-by-holding-the-button", "title": "How do I get my object in pygame to move by holding the button?", "body": "<p>I tried using something like this but it did not work.</p>\n\n<pre><code>while running:\nkeys = pygame.key.get_pressed()  #checking pressed keys\nif keys[pygame.K_UP]:\n    y1 -= 1\nif keys[pygame.K_DOWN]:\n    y1 += 1\n</code></pre>\n\n<p>Here is the code I have at the moment. I tried using a different method because the above method did not work for me. It moves it one button tap at a time.</p>\n\n<pre><code>import pygame\nspaceX = 100\nspaceY = 100\npygame.init\nblack = (0,0,0)\nsize = (800, 800)\nscreen = pygame.display.set_mode(size)\n\ndef game(spaceX, spaceY):\n    spaceship_file = 'spaceship.png'\n    spaceship_image = pygame.image.load(spaceship_file)\n    spaceship = pygame.transform.scale(spaceship_image, (30, 30))\n    screen.fill(black)\n    screen.blit(spaceship, (spaceX, spaceY))\n    pygame.display.flip()\n\n    while True:\n        for event2 in pygame.event.get():\n            if event2.type == pygame.KEYDOWN and event2.key == pygame.K_LEFT:\n                spaceX2 = spaceX - 5\n                game(spaceX2, spaceY)\n\n            elif event2.type == pygame.KEYDOWN and event2.key == pygame.K_RIGHT:\n                spaceX2 = spaceX + 5\n                game(spaceX2, spaceY)\n\ngame(spaceX, spaceY)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I have this code now. My object still only moves when I repeatedly tap the button and not when I hold it down.</p>\n\n<pre><code>def game(spaceX, spaceY):\n\n    while True:\n        screen.fill(black)\n        screen.blit(spaceship, (spaceX, spaceY))\n        pygame.display.flip()\n        keys = pygame.key.get_pressed()\n\n        for event in pygame.event.get():\n            if keys[pygame.K_LEFT]:\n                spaceX = spaceX - 5\n                game(spaceX, spaceY)\n\n            elif keys[pygame.K_RIGHT]:\n                spaceX = spaceX + 5\n                game(spaceX, spaceY)\n</code></pre>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 2, "creation_date": 1489009289, "post_id": 42682294, "comment_id": 72488984, "body": "whoever flagged this question as unclear, please retract the flag. It&#39;s pretty clear IMO"}], "answers": [{"comments": [{"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489009272, "post_id": 42682361, "comment_id": 72488975, "body": "I would think that <code>set(a).union(b)</code> would be fastest for large inputs (though I have nothing to back that up, on my phone atm :) )"}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "reply_to_user": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1489009649, "post_id": 42682361, "comment_id": 72489186, "body": "an answer to your comment @Mitch <a href=\"http://stackoverflow.com/questions/4674208/is-it-faster-to-union-sets-or-check-the-whole-list-for-a-duplicate\" title=\"is it faster to union sets or check the whole list for a duplicate\">stackoverflow.com/questions/4674208/&hellip;</a>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1489009684, "post_id": 42682361, "comment_id": 72489208, "body": "It may be worth mentioning that the order items appear in a <code>set</code> (when iterating or printing) is undefined and implementation dependent. It&#39;s possible that two different ways of building equal sets will result in different iteration orders. That shouldn&#39;t matter to any sensible code (which will treat the iteration order as arbitrary), but it could be a <i>small</i> difference between the results of the two approaches in the question."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1489008980, "creation_date": 1489008980, "answer_id": 42682361, "question_id": 42682294, "link": "https://stackoverflow.com/questions/42682294/what-are-the-differences-between-these-two-methods-of-getting-the-union-of-2-lis/42682361#42682361", "title": "What are the differences between these two methods of getting the union of 2 lists in Python?", "body": "<p>The implementation detail is different:</p>\n\n<p><strong>Method A:</strong></p>\n\n<ol>\n<li>create a set from the elements of the list <code>a</code></li>\n<li>create a set from the elements of the list <code>b</code></li>\n<li>merges using <code>set.union</code> on the sets from 1 and 2</li>\n</ol>\n\n<p>Note that step 2. is wasteful here.  <code>set(a).union(b)</code> would work just as well.  </p>\n\n<p><strong>Method B:</strong></p>\n\n<ol>\n<li>creates a new list from the elements of list <code>a</code> and list <code>b</code></li>\n<li>creates a set from the list that was created in 1</li>\n</ol>\n\n<p><strong>There is no difference in the result.</strong>  Just different ways to do the same thing.  Method B is faster, because there are fewer intermediate collections used.  </p>\n"}], "owner": {"reputation": 1589, "user_id": 877192, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/XlKqi.jpg?s=128&g=1", "display_name": "tbc", "link": "https://stackoverflow.com/users/877192/tbc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489009118, "creation_date": 1489008756, "last_edit_date": 1489008975, "question_id": 42682294, "link": "https://stackoverflow.com/questions/42682294/what-are-the-differences-between-these-two-methods-of-getting-the-union-of-2-lis", "title": "What are the differences between these two methods of getting the union of 2 lists in Python?", "body": "<p>Given two lists in Python:</p>\n\n<pre><code>&gt;&gt;&gt; a = [1,2,3,4,5,6,'b','e']\n&gt;&gt;&gt; b = [1,2,3,4,5,'a','b','c','d',]\n</code></pre>\n\n<p>What are the differences between these two methods of getting the union of the two lists?</p>\n\n<pre><code>&gt;&gt;&gt; set(a).union(set(b))\nset(['a', 1, 2, 3, 4, 5, 6, 'c', 'b', 'e', 'd'])\n&gt;&gt;&gt; set(a+b)\nset(['a', 1, 2, 3, 4, 5, 6, 'c', 'b', 'e', 'd'])\n</code></pre>\n\n<p>Are there logical differences (i.e. situations where these two methods may not provide identical results)? Are there performance implications?</p>\n"}, {"tags": ["python", "linux", "openwrt"], "comments": [{"owner": {"reputation": 7044, "user_id": 667820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wl7er.png?s=128&g=1", "display_name": "Henk Langeveld", "link": "https://stackoverflow.com/users/667820/henk-langeveld"}, "edited": false, "score": 0, "creation_date": 1489097999, "post_id": 42682168, "comment_id": 72534962, "body": "OpenWrt is a trade off - in this case about space vs time. Does this code need to run on your wifi router?"}, {"owner": {"reputation": 777, "user_id": 1402067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suDrq.jpg?s=128&g=1", "display_name": "valentt", "link": "https://stackoverflow.com/users/1402067/valentt"}, "reply_to_user": {"reputation": 7044, "user_id": 667820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wl7er.png?s=128&g=1", "display_name": "Henk Langeveld", "link": "https://stackoverflow.com/users/667820/henk-langeveld"}, "edited": false, "score": 0, "creation_date": 1489352442, "post_id": 42682168, "comment_id": 72622421, "body": "Yes this code needs to run on wifi router, ie it is not a wifi router, it is an embedded system that happens to also have wifi chip. I use python in this device to collect and process sensors data. Because how system is engineered it is not possible to just send data to the cloud, it must be processed locally."}], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 1402067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suDrq.jpg?s=128&g=1", "display_name": "valentt", "link": "https://stackoverflow.com/users/1402067/valentt"}, "is_accepted": true, "score": 2, "last_activity_date": 1506950746, "creation_date": 1506950746, "answer_id": 46526407, "question_id": 42682168, "link": "https://stackoverflow.com/questions/42682168/how-to-speed-up-python-scripts-on-openwrt-embedded-linux-missing-pyc/46526407#46526407", "title": "How to speed up python scripts on OpenWrt (embedded Linux) (missing pyc)", "body": "<p>In order to speed up Python scripts by more than 10x there is an option to precompile all libraries and write them as pyc files. </p>\n\n<p>If you don't do this then all libraries are compiled each time dynamically and this is very cpu ant time intensive task.</p>\n\n<p>You need to have device with at least 4MB of free space, because you are trading off space for time.</p>\n\n<p>My trick is to create check on boot if there are less than 150 pyc files, and if there are to compile python from py to pyc.</p>\n\n<pre><code># count python pyc modules and generate if needed\npyc=`find / -name *.pyc | wc -l`\nif [ $pyc -lt 150 ]; then\n  python -m compileall\nfi\n</code></pre>\n\n<p>If you still see slow python execution check if some of python libraries aren't located in some sub directories. For example python-serial is so in order to get full speed I added python-serial directories to statup up script.</p>\n\n<pre><code># count python pyc modules and generate if needed\npyc=`find / -name *.pyc | wc -l`\nif [ $pyc -lt 400 ]; then\n  python -m compileall\n  python -m compileall /usr/lib/python2.7/site-packages/serial/*.py\n  python -m compileall /usr/lib/python2.7/site-packages/serial/tools/*.py\n  python -m compileall /usr/lib/python2.7/site-\npackages/serial/urlhandler/*.py\nfi\n</code></pre>\n\n<p>And that is is, enjoy blazing fast python script on OpenWrt/Lede systems!</p>\n"}], "owner": {"reputation": 777, "user_id": 1402067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suDrq.jpg?s=128&g=1", "display_name": "valentt", "link": "https://stackoverflow.com/users/1402067/valentt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1237, "favorite_count": 1, "accepted_answer_id": 46526407, "answer_count": 1, "score": 1, "last_activity_date": 1506950746, "creation_date": 1489008271, "last_edit_date": 1489096558, "question_id": 42682168, "link": "https://stackoverflow.com/questions/42682168/how-to-speed-up-python-scripts-on-openwrt-embedded-linux-missing-pyc", "title": "How to speed up python scripts on OpenWrt (embedded Linux) (missing pyc)", "body": "<p>On OpenWrt it is possible to run Python code (mini Python to be exact) but even a simple \"Hello World\" Python script takes 6-8 seconds to run.</p>\n\n<p>From my investigations it seams that all Python modules are kept in py source code, and are compiles in memory on each run.</p>\n\n<p>Due to being some 20 or more modules and that OpenWrt runs on small embedded devices this cause delay in starting even the simplest of Python scripts.</p>\n\n<p>How to speed up execution of Python code on OpenWrt?</p>\n"}, {"tags": ["python", "csv", "pandas", "hive", "itertools"], "comments": [{"owner": {"reputation": 5135, "user_id": 5506894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9jSK1.jpg?s=128&g=1", "display_name": "Denziloe", "link": "https://stackoverflow.com/users/5506894/denziloe"}, "edited": false, "score": 0, "creation_date": 1489008232, "post_id": 42682144, "comment_id": 72488458, "body": "What does unique mean? Unique for a column or unique for column 2 and 3?"}], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 1, "last_activity_date": 1489008524, "creation_date": 1489008524, "answer_id": 42682236, "question_id": 42682144, "link": "https://stackoverflow.com/questions/42682144/how-to-group-unique-col1-values-across-unique-col2-col3-values-from-csv/42682236#42682236", "title": "How to group unique COL1 values across unique COL2 &amp; COL3 values from CSV", "body": "<p>If <code>COL2</code> and <code>COL3</code> are equivalent, you can stack the two columns to long format, group by the values and find out the unique elements of the <code>INT</code> column with <code>set</code> function:</p>\n\n<pre><code>df.set_index(0).stack().rename(\"s\").reset_index().groupby('s')[0].apply(set)\n\n#s\n# S1    {INT2, INT1}\n# S2    {INT2, INT1}\n# S3    {INT2, INT1}\n# S4          {INT2}\n#Name: 0, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4921, "user_id": 7366928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NG2zR.jpg?s=128&g=1", "display_name": "pansen", "link": "https://stackoverflow.com/users/7366928/pansen"}, "is_accepted": true, "score": 3, "last_activity_date": 1489009873, "last_edit_date": 1489009873, "creation_date": 1489008790, "answer_id": 42682305, "question_id": 42682144, "link": "https://stackoverflow.com/questions/42682144/how-to-group-unique-col1-values-across-unique-col2-col3-values-from-csv/42682305#42682305", "title": "How to group unique COL1 values across unique COL2 &amp; COL3 values from CSV", "body": "<p>First, you can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html\" rel=\"nofollow noreferrer\">melt</a> to vertically stack <code>COL2</code> and <code>COL3</code> into long format. Second, you can now use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\">groupby</a> to group by the melted column and get the unique values of <code>COL1</code> for each sub group (S1, S2, etc...):</p>\n\n<pre><code># create example df\ndf = pd.DataFrame([[\"INT1\", \"S1\", \"S5\"], \n                   [\"INT1\", \"S2\", \"S3\"],\n                   [\"INT2\", \"S1\", \"S2\"],\n                   [\"INT2\", \"S1\", \"S3\"]],\n                  columns=[\"COL1\", \"COL2\", \"COL3\"])\nprint(df)\n\n    COL1    COL2    COL3\n0   INT1    S1      S5\n1   INT1    S2      S3\n2   INT2    S1      S2\n3   INT2    S1      S3\n\nresult =  pd.melt(df, id_vars=\"COL1\").groupby(\"value\")[\"COL1\"].unique()\nprint(result)\n\nS1    [INT1, INT2]\nS2    [INT1, INT2]\nS3    [INT1, INT2]\nS5    [INT1]\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6765878, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c355d8797f2538069da16bb028c3d2e6?s=128&d=identicon&r=PG&f=1", "display_name": "WhyNot", "link": "https://stackoverflow.com/users/6765878/whynot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 42682305, "answer_count": 2, "score": 2, "last_activity_date": 1489009873, "creation_date": 1489008123, "question_id": 42682144, "link": "https://stackoverflow.com/questions/42682144/how-to-group-unique-col1-values-across-unique-col2-col3-values-from-csv", "title": "How to group unique COL1 values across unique COL2 &amp; COL3 values from CSV", "body": "<p>Seeking to transform a CSV table with schema COL1=INT, COL2=STR, COL3=STR as such:</p>\n\n<p>Input sample</p>\n\n<pre><code>INT1, S1, S2\nINT1, S1, S3\nINT1, S2, S3\nINT2, S1, S2\nINT2, S1, S3\nINT2, S1, S4\nINT2, S2, S3\nINT2, S2, S4\nINT2, S3, S4\n</code></pre>\n\n<p>to an output CSV/table where unique strings in COL2 or COL3 are output as COL1 followed by a list (in COL2 of output table/CSV) of unique COL1 INTs where they appeared.  </p>\n\n<p>Output CSV/table:</p>\n\n<pre><code>S1, [INT1, INT2]\nS2, [INT1, INT2]\nS3, [INT1, INT2]\nS4, [INT2]\n</code></pre>\n"}, {"tags": ["python", "django", "python-3.x", "django-apps", "django-oscar"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 1, "creation_date": 1489008705, "post_id": 42682110, "comment_id": 72488698, "body": "You should be adding the app to installed apps not model i.e <code>django.contrib.sites</code> and <code>django.contrib.contenttypes</code>."}, {"owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1489009260, "post_id": 42682110, "comment_id": 72488968, "body": "Thank you; I&#39;ve deleted the lines referring to individual models. The error message is the same."}, {"owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1489066601, "post_id": 42682110, "comment_id": 72515427, "body": "I see that my question has been downvoted. Could I have any advice as to what changes would make my question better and less downvote-worthy?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6159940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ie2Gk.jpg?s=128&g=1", "display_name": "cmwaura", "link": "https://stackoverflow.com/users/6159940/cmwaura"}, "is_accepted": false, "score": 0, "last_activity_date": 1490553362, "creation_date": 1490553362, "answer_id": 43032934, "question_id": 42682110, "link": "https://stackoverflow.com/questions/42682110/can-i-get-django-oscar-to-work-under-python-3/43032934#43032934", "title": "Can I get django-oscar to work under Python 3?", "body": "<pre><code>'django.contrib.sites.models.Site',\n'django.contrib.contenttypes.models.ContentType'\n</code></pre>\n\n<p>This should not be in the installed apps section. These are models and the installed apps section is mainly for apps. </p>\n"}], "owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 411, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490553362, "creation_date": 1489007952, "question_id": 42682110, "link": "https://stackoverflow.com/questions/42682110/can-i-get-django-oscar-to-work-under-python-3", "title": "Can I get django-oscar to work under Python 3?", "body": "<p>I am working with Python 3.6.0, Django 1.10.6, and Oscar version 1.4.0 final.</p>\n\n<p>I've seen similar-looking error messages discussed and reported solved by certain solutions (e.g. updating what was \"still\" an old-time autogenerated wsgi.py), or adding <code>import django</code> and <code>django.setup()</code> almost near the top (i.e. before <code>SECRET_KEY</code> and <code>INSTALLED_APPS</code>, moved up near the top). I've found closer matches to the error message on Github, where for the purposes of Raven people have been given the all-clear to delete standard user or authentication modules from their project. However, I have not found a place where someone reports the error and there is a solution other than an all-clear to delete a standard Django app from an unrelated Django-based project.</p>\n\n<p>The specific error message and trace does not shout out to me what line is at issue beyond suspicions it is being triggered by inclusion of 'django.contrib.contenttypes' in INSTALLED_APPS. The trace I get when I try to run it is:</p>\n\n<pre>(store-env) ~/store $ python manage.py migrate\nTraceback (most recent call last):\n  File \"manage.py\", line 22, in &lt;module>\n    execute_from_command_line(sys.argv)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/__init__.py\", line 367, in execute_from_command_line\n    utility.execute()\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/__init__.py\", line 359, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/base.py\", line 294, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/base.py\", line 342, in execute\n    self.check()\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/base.py\", line 374, in check\n    include_deployment_checks=include_deployment_checks,\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/commands/migrate.py\", line 62, in _run_checks\n    issues.extend(super(Command, self)._run_checks(**kwargs))\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/management/base.py\", line 361, in _run_checks\n    return checks.run_checks(**kwargs)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/checks/registry.py\", line 81, in run_checks\n    new_errors = check(app_configs=app_configs)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/checks/urls.py\", line 14, in check_url_config\n    return check_resolver(resolver)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/core/checks/urls.py\", line 24, in check_resolver\n    for pattern in resolver.url_patterns:\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/utils/functional.py\", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/urls/resolvers.py\", line 313, in url_patterns\n    patterns = getattr(self.urlconf_module, \"urlpatterns\", self.urlconf_module)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/utils/functional.py\", line 35, in __get__\n    res = instance.__dict__[self.name] = self.func(instance)\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/urls/resolvers.py\", line 306, in urlconf_module\n    return import_module(self.urlconf_name)\n  File \"/Users/christos/store-env/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap>\", line 978, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap>\", line 961, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap>\", line 950, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap>\", line 655, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"&lt;frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\n  File \"/Users/christos/store/store/urls.py\", line 18, in &lt;module>\n    from oscar.app import application\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/oscar/app.py\", line 5, in &lt;module>\n    from django.contrib.auth import views as auth_views\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/contrib/auth/views.py\", line 11, in &lt;module>\n    from django.contrib.auth.forms import (\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/contrib/auth/forms.py\", line 12, in &lt;module>\n    from django.contrib.auth.models import User\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/contrib/auth/models.py\", line 6, in &lt;module>\n    from django.contrib.contenttypes.models import ContentType\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/contrib/contenttypes/models.py\", line 138, in &lt;module>\n    class ContentType(models.Model):\n  File \"/Users/christos/store-env/lib/python3.6/site-packages/django/db/models/base.py\", line 113, in __new__\n    \"INSTALLED_APPS.\" % (module, name)\nRuntimeError: Model class django.contrib.contenttypes.models.ContentType doesn't declare an explicit app_label and isn't in an application in INSTALLED_APPS.\n(store-env) ~/store $</pre>\n\n<p>My current <code>settings.py</code>, helpfully or unhelpfully modified from what reportedly worked for others on SO, is, up to an untouched <code>import os</code>:</p>\n\n<pre><code>from oscar.defaults import *\n\nfrom django.conf import settings\n\nsettings.configure()\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = '[DELETED]'\n\nfrom oscar import get_core_apps\n\nINSTALLED_APPS = [\n    #'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.flatpages',\n    'django.contrib.sites.models.Site',\n    'django.contrib.contenttypes.models.ContentType',\n    'compressor',\n    'widget_tweaks'\n] + get_core_apps()\n\nimport django\ndjango.setup()\n\"\"\"\nDjango settings for store project.\n\nGenerated by 'django-admin startproject' using Django 1.10.6.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.10/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.10/ref/settings/\n\"\"\"\n\nimport os</code></pre>\n\n<p>What can/should I do that Oscar has all the apps that it should be getting?</p>\n"}, {"tags": ["python", "pyresttest"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489008232, "post_id": 42682064, "comment_id": 72488459, "body": "Maybe <code>import_extension</code> does something other than what you think it does?"}, {"owner": {"reputation": 11, "user_id": 5554152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876801c1f6bcec1a8ddedf6d1ce545a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mariia Vitiuk", "link": "https://stackoverflow.com/users/5554152/mariia-vitiuk"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1489050021, "post_id": 42682064, "comment_id": 72504325, "body": "According to this doc <a href=\"https://github.com/svanoort/pyresttest/blob/master/extensions.md\" rel=\"nofollow noreferrer\">github.com/svanoort/pyresttest/blob/master/extensions.md</a> -&gt; Extensions are specified for loadin at runtime with the --import_extensions argument it is exactly for that purpose. And I&#39;ve tried solution suggested in the example with the project . <code>resttest.py https:&#47;&#47;api.github.com extension_use_test.yaml --import_extensions &#39;sample_extension&#39; Test Group Successful SUCCEEDED: : 3&#47;3 Tests Passed!</code> - works good. I&#39;m very confused now."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5554152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876801c1f6bcec1a8ddedf6d1ce545a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mariia Vitiuk", "link": "https://stackoverflow.com/users/5554152/mariia-vitiuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1489051603, "creation_date": 1489051603, "answer_id": 42691466, "question_id": 42682064, "link": "https://stackoverflow.com/questions/42682064/unable-to-add-own-extension-with-generator-in-pyresttest/42691466#42691466", "title": "unable to add own extension with generator in pyresttest", "body": "<p>I see now my mistake :) I need to use name of the *.py file in \n--import_extensions.<br>\nlike:</p>\n\n<blockquote>\n  <p>resttest.py <a href=\"https://api.github.com\" rel=\"nofollow noreferrer\">https://api.github.com</a> extension_use_test.yaml\n  --import_extensions '[name_of_the_file_py_with_extensions]'</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 5554152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876801c1f6bcec1a8ddedf6d1ce545a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mariia Vitiuk", "link": "https://stackoverflow.com/users/5554152/mariia-vitiuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489051603, "creation_date": 1489007752, "last_edit_date": 1489008088, "question_id": 42682064, "link": "https://stackoverflow.com/questions/42682064/unable-to-add-own-extension-with-generator-in-pyresttest", "title": "unable to add own extension with generator in pyresttest", "body": "<p>I am investigating usage of pyresttest for testing our api calls also new to python and stuck a bit on:</p>\n\n<ul>\n<li><p>have a file with generator: </p>\n\n<pre><code> import pyresttest.validators as validators\n from pyresttest.binding import Context\n import sys\n import datetime\n\n\n def get_current_date_time():\n     return datetime.datetime.now().isoformat()\n\n\n GENERATORS = {'date': get_current_date_time}\n</code></pre></li>\n</ul>\n\n<p>when  i run this command, to use generator in my test case</p>\n\n<pre><code>pyresttest http://localhost:8181/ generator_test.yaml --import_extension 'date'\n</code></pre>\n\n<p>I got this:</p>\n\n<pre><code> Traceback (most recent call last):   File \"/usr/local/bin/pyresttest\",\n line 4, in &lt;module&gt;\n     __import__('pkg_resources').run_script('pyresttest==1.7.2.dev0', 'pyresttest')   File\n \"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py\",\n line 739, in run_script\n     self.require(requires)[0].run_script(script_name, ns)   File \"/usr/local/lib/python2.7/site-packages/pkg_resources/__init__.py\",\n line 1494, in run_script\n     exec(code, namespace, namespace)   File \"/usr/local/lib/python2.7/site-packages/pyresttest-1.7.2.dev0-py2.7.egg/EGG-INFO/scripts/pyresttest\",\n line 4, in &lt;module&gt;\n     resttest.command_line_run(sys.argv[1:])   File \"/usr/local/lib/python2.7/site-packages/pyresttest-1.7.2.dev0-py2.7.egg/pyresttest/resttest.py\",\n line 914, in command_line_run\n     main(args)   File \"/usr/local/lib/python2.7/site-packages/pyresttest 1.7.2.dev0-py2.7.egg/pyresttest/resttest.py\",\n line 815, in main\n     register_extensions(extensions)   File \"/usr/local/lib/python2.7/site-packages/pyresttest-1.7.2.dev0-py2.7.egg/pyresttest/resttest.py\",\n line 748, in register_extensions\n     module = __import__(ext, globals(), locals(), package) ImportError: No module named date\n</code></pre>\n\n<p>Am I missing something simple or it is a typo somewhere?\nThanks.</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 2837, "user_id": 3364899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1992d85b551383f192ee024146f50aa3?s=128&d=identicon&r=PG&f=1", "display_name": "pchiquet", "link": "https://stackoverflow.com/users/3364899/pchiquet"}, "is_accepted": true, "score": 9, "last_activity_date": 1489013836, "creation_date": 1489013836, "answer_id": 42683541, "question_id": 42681991, "link": "https://stackoverflow.com/questions/42681991/using-filters-with-list-routes-in-drf/42683541#42683541", "title": "Using filters with list_routes in drf", "body": "<p>You should call <code>filter_queryset</code> in your method decorated with @list_route:</p>\n\n<pre><code>@list_route()\ndef homepage(self, request):\n    queryset = self.get_queryset().filter(flags__lt=5, closed=False)\n    queryset = self.filter_queryset(queryset)\n\n    serializer = ListingSerializer(queryset, many=True, context=self.get_serializer_context())\n    return Response(serializer.data)\n</code></pre>\n\n<p>Edit: it is also a good idea to use <code>self.get_queryset()</code> instead of <code>Listing.objects</code>.</p>\n"}], "owner": {"reputation": 564, "user_id": 5108772, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0620269e009c635378ac66dbeaefab65?s=128&d=identicon&r=PG", "display_name": "TheJuan", "link": "https://stackoverflow.com/users/5108772/thejuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1817, "favorite_count": 1, "accepted_answer_id": 42683541, "answer_count": 1, "score": 6, "last_activity_date": 1489013836, "creation_date": 1489007485, "question_id": 42681991, "link": "https://stackoverflow.com/questions/42681991/using-filters-with-list-routes-in-drf", "title": "Using filters with list_routes in drf", "body": "<p>Is there a way to use filters for <code>@list_route</code> the same way you use them for the root ViewSet in DRF?</p>\n\n<p>I have a model that I have configured filters for and a detail route that I cannot:</p>\n\n<pre><code>class ListingViewSet(viewsets.ModelViewSet):\n    # disable listing after 5 flags\n    queryset = Listing.objects.all()\n\n    serializer_class = ListingSerializer\n    filter_backends = (DjangoFilterBackend, OrderingFilter, SearchFilter)\n    permission_classes = (ListingOwnerCanEdit,)\n    filter_class = ListingFilter\n\n    @list_route()\n    def homepage(self, request):\n        queryset = Listing.objects.filter(flags__lt=5, closed=False)\n\n        ### Doesn't work\n        # filter_backends = (DjangoFilterBackend, OrderingFilter, SearchFilter)\n        # permission_classes = (ListingOwnerCanEdit,)\n        # filter_class = ListingFilter\n        # ordering_filter = OrderingFilter()\n        # ordering_fields = ('price', 'views')\n        # search_fields = ('title', 'description')\n\n        serializer = ListingSerializer(queryset, many=True, context=self.get_serializer_context())\n        return Response(serializer.data)\n</code></pre>\n\n<p>And <code>ListingFilter</code> is:</p>\n\n<pre><code>class ListingFilter(django_filters.rest_framework.FilterSet):\n    min_price = django_filters.NumberFilter(name=\"price\", lookup_expr='gte')\n    max_price = django_filters.NumberFilter(name=\"price\", lookup_expr='lte')\n    author_pk = django_filters.CharFilter(name='author_pk')\n\n    class Meta:\n        model = Listing\n        fields = ['price_type', 'sale_type', 'category__name', 'min_price', 'max_price', 'description', 'title',\n              'listing_date', 'views', 'number_of_inquiries', 'author_pk', 'closed', 'closing_date']\n</code></pre>\n\n<p>Is there a way to use <code>ListingFilter</code> with the homepage list route? </p>\n"}, {"tags": ["python", "csv", "pandas", "chunks"], "comments": [{"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1489007480, "post_id": 42681910, "comment_id": 72488053, "body": "<code>read_csv()</code> is usually one of the faster options out there. how big is your file and have you tried running it without <code>chunksize</code>? also <a href=\"http://stackoverflow.com/questions/33642951/python-using-pandas-structures-with-large-csviterate-and-chunksize\">this</a> may help you. Might be your problem. Essentially, you might have to <code>concat</code> your chunks."}, {"owner": {"reputation": 11810, "user_id": 2063031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2677db7242bfbcead46fbf27390160d?s=128&d=identicon&r=PG", "display_name": "ostrokach", "link": "https://stackoverflow.com/users/2063031/ostrokach"}, "edited": false, "score": 5, "creation_date": 1489007898, "post_id": 42681910, "comment_id": 72488270, "body": "What are the inconsistent results? Try replacing <code>data.loc[:5, &#39;C&#39;]</code> with <code>data.iloc[:5][&#39;C&#39;]</code>? Using <code>data.loc[:5, &#39;C&#39;]</code> returns an empty DataFrame on the second and third iteration because pandas keeps track of the preceding index, so the index of <code>data</code> at second iteration starts with 200."}, {"owner": {"reputation": 17, "user_id": 7680713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154942180671893/picture?type=large", "display_name": "Diego Llarrull", "link": "https://stackoverflow.com/users/7680713/diego-llarrull"}, "reply_to_user": {"reputation": 11810, "user_id": 2063031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2677db7242bfbcead46fbf27390160d?s=128&d=identicon&r=PG", "display_name": "ostrokach", "link": "https://stackoverflow.com/users/2063031/ostrokach"}, "edited": false, "score": 0, "creation_date": 1489064271, "post_id": 42681910, "comment_id": 72513935, "body": "@ostrokach I&#39;ve updated the post with the output and your suggestion fixes the issue in the example. However, in my real life case, I still get NaN as an output of the string concatenation."}], "owner": {"reputation": 17, "user_id": 7680713, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154942180671893/picture?type=large", "display_name": "Diego Llarrull", "link": "https://stackoverflow.com/users/7680713/diego-llarrull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489067824, "creation_date": 1489007107, "last_edit_date": 1489067824, "question_id": 42681910, "link": "https://stackoverflow.com/questions/42681910/inconsistent-behaviour-when-reading-csv-in-pandas-by-chunks", "title": "Inconsistent behaviour when reading CSV in Pandas by chunks", "body": "<p>This is my first question on Stack Overflow, after struggling for an entire day with this issue.<br> \nWhen loading a large .csv file using <code>pandas.read_csv()</code> with the <code>chunksize</code> option, I get inconsistent results, as if loops were not completely independent on the data being read from the loop on each iteration. Moreover, data is read and processed correctly only on the first iteration. Here's a simplified example I created that shows this:</p>\n\n<p>import pandas as pd\n     import numpy as np</p>\n\n<pre><code> a = pd.DataFrame(np.random.randn(500, 1), columns=list('A'))\n b = pd.DataFrame(np.random.randn(500, 1), columns=list('B'))\n c = pd.DataFrame(np.random.randn(500, 1), columns=list('C'))\n c.to_csv(\"./c.csv\", index=False, sep=\"\\t\")\n\n i = 1 \n\n for data in pd.read_csv(\"./c.csv\", delimiter='\\t', chunksize = 200):\n\n\n         print(\"\\n\\nIteration No.:\" + str(i))\n         print(\"First five elements of data before concatenation: \\n\" + repr(data.loc[:5,'C']))\n\n         print(\"First element of a: \" + str(a['A'][0]) + \". Type:\" + repr(type(a['A'][0])))\n         print(\"First element of b: \" + str(b['B'][0]) + \". Type:\" + repr(type(b['B'][0])))\n         print(\"First element of data: \" + str(data['C'].iloc[0]) + \". Type:\" + repr(type(data['C'].iloc[0])))\n\n         data['C'] =  a['A'].map(str) +  b['B'].map(str) + data['C'].map(str)\n         print(\"\\n\\nFirst five elements of data after concatenation: \\n\" + repr(data.loc[:5,'C']))\n</code></pre>\n\n<p>The output of that snippet is the following: </p>\n\n<pre><code>   Iteration No.:1\n   First five elements of data before concatenation: \n   0    0.272127\n   1    1.702455\n   2    0.073175\n   3   -1.415413\n   4    0.023546\n   5   -0.706802\n   Name: C, dtype: float64\n   First element of a: -1.28607575146. Type:&lt;class 'numpy.float64'&gt;\n   First element of b: 0.778682866114. Type:&lt;class 'numpy.float64'&gt;\n   First element of data: 0.27212690258. Type:&lt;class 'numpy.float64'&gt;\n\n\n   First five elements of data after concatenation: \n   0    -1.28607575145810920.77868286611354330.2721269...\n   1    0.242774791222815281.29275536671509881.7024547...\n   2    0.4524774082028631-1.17833662685619570.0731746...\n   3    1.4351094358436494-0.5173279482942412-1.415413...\n   4    -1.7578744077531847-1.59454228118368470.023546...\n   5    -0.50656599412173-0.3809749686364225-0.7068022...\n   Name: C, dtype: object\n\n\n   Iteration No.:2\n   First five elements of data before concatenation: \n   Series([], Name: C, dtype: float64)\n   First element of a: -1.28607575146. Type:&lt;class 'numpy.float64'&gt;\n   First element of b: 0.778682866114. Type:&lt;class 'numpy.float64'&gt;\n   First element of data: 0.995788479453. Type:&lt;class 'numpy.float64'&gt;\n\n\n   First five elements of data after concatenation: \n   Series([], Name: C, dtype: object)\n\n\n   Iteration No.:3\n   First five elements of data before concatenation: \n   Series([], Name: C, dtype: float64)\n   First element of a: -1.28607575146. Type:&lt;class 'numpy.float64'&gt;\n   First element of b: 0.778682866114. Type:&lt;class 'numpy.float64'&gt;\n   First element of data: -0.188555175182. Type:&lt;class 'numpy.float64'&gt;\n\n\n   First five elements of data after concatenation: \n   Series([], Name: C, dtype: object)           \n</code></pre>\n\n<p>As you can see, <strong>data.loc[:5, 'C']</strong> yields an empty series on the second and third iteration, while <strong>data['C'].iloc[0]</strong> always yields nonempty values.</p>\n\n<p>I've tried upgrading pandas to the latest version (0.19.2) on Python 3.5.3  . I've also downgraded to Python 2.7.12 with Pandas 0.19.0 and no dice. </p>\n\n<p>Any help will be greatly appreciated. Thank you very much in advance!</p>\n"}, {"tags": ["python", "main"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1489006760, "post_id": 42681801, "comment_id": 72487676, "body": "<code>\u201c</code> is not the same as <code>&quot;</code>."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1489006902, "post_id": 42681801, "comment_id": 72487750, "body": "Odd, though, I would have expected the error to be different tbh :)"}], "answers": [{"comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 32, "creation_date": 1489006799, "post_id": 42681826, "comment_id": 72487699, "body": "Let this be a lesson not to copy paste from wordpress blogs."}, {"owner": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "edited": false, "score": 0, "creation_date": 1591256223, "post_id": 42681826, "comment_id": 109987464, "body": "what is the difference between <code>&quot;</code> and <code>&quot;</code> ? this did not solve the problem for me unfortunately.  Also, I only see one double quotes on my keyboard."}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "reply_to_user": {"reputation": 6818, "user_id": 391339, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/efa2e9771e789a25ad7f423f723ce184?s=128&d=identicon&r=PG", "display_name": "user391339", "link": "https://stackoverflow.com/users/391339/user391339"}, "edited": false, "score": 1, "creation_date": 1591286552, "post_id": 42681826, "comment_id": 110004929, "body": "@user391339 it&#39;s not <code>&quot;</code> and <code>&quot;</code>, it&#39;s <code>\u201c</code> and <code>\u201c</code>. <code>\u201c</code> is a unicode character rather than ascii, and is not on a standard keyboard layout. please see <a href=\"https://www.compart.com/en/unicode/U+201C\" rel=\"nofollow noreferrer\">compart.com/en/unicode/U+201C</a> for more info. it is likely that you are having a different issue if this did not solve yours."}], "tags": [], "owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "is_accepted": false, "score": 23, "last_activity_date": 1489006755, "creation_date": 1489006755, "answer_id": 42681826, "question_id": 42681801, "link": "https://stackoverflow.com/questions/42681801/python-cant-find-main-module/42681826#42681826", "title": "Python can&#39;t find &#39;main&#39; module", "body": "<p>It's because of the quote marks you are using. Change the <code>\u201c</code>s to <code>\"</code>s</p>\n"}], "owner": {"reputation": 5788, "user_id": 1840899, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/eb783ff1068a7c9d2fbcc5b3b879a4ff?s=128&d=identicon&r=PG", "display_name": "sheetal_158", "link": "https://stackoverflow.com/users/1840899/sheetal-158"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67088, "favorite_count": 4, "answer_count": 1, "score": 7, "last_activity_date": 1489007421, "creation_date": 1489006660, "last_edit_date": 1489007421, "question_id": 42681801, "link": "https://stackoverflow.com/questions/42681801/python-cant-find-main-module", "title": "Python can&#39;t find &#39;main&#39; module", "body": "<p>When I run the code using the command <code>python filename.py</code>, I am getting the following error,</p>\n\n<p><code>/Library/anaconda/bin/python: can't find '__main__' module in filename.py</code></p>\n\n<p>I am not sure what exactly is going wrong here. I need help correcting this.\nHow can I correct this?</p>\n\n<pre><code>SUFFIXES = {1000: ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            1024: ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']}\n\ndef approximate_size(size, a_kilobyte_is_1024_bytes=True):\n    '''Convert a file size to human-readable form.\n\n    Keyword arguments:\n    size -- file size in bytes\n    a_kilobyte_is_1024_bytes -- if True (default), use multiples of 1024\n                                if False, use multiples of 1000\n\n    Returns: string\n\n    '''\n    if size &lt; 0:\n        raise ValueError('number must be non-negative')\n\n    multiple = 1024 if a_kilobyte_is_1024_bytes else 1000\n    for suffix in SUFFIXES[multiple]:\n        size /= multiple\n        if size &lt; multiple:\n            return '{0:.1f} {1}'.format(size, suffix)\n\n    raise ValueError('number too large')\n\nif __name__ == \u201c__main__\u201d:\n    print(\u201cHello World\u201d)\n    print(approximate_size(1000000000000, False))\n    print(approximate_size(1000000000000))\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "neural-network", "lstm"], "comments": [{"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1489007458, "post_id": 42681757, "comment_id": 72488040, "body": "What error did you get when you tried to <code>.eval()</code> the variables?"}, {"owner": {"reputation": 31, "user_id": 7620372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45fea6947a7e027f63ff5dd84a189c23?s=128&d=identicon&r=PG&f=1", "display_name": "python55", "link": "https://stackoverflow.com/users/7620372/python55"}, "reply_to_user": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1489009366, "post_id": 42681757, "comment_id": 72489023, "body": "I mostly get the following error: &#39;InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor &#39;Placeholder&#39; with dtype float&#39;. I&#39;m trying to access the &#39;i&#39; gate weights in session with i.eval() after assigning a tf.placeholder(&#39;float&#39;) but it doesn&#39;t like that at all."}, {"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1489009473, "post_id": 42681757, "comment_id": 72489080, "body": "The tensor <code>i</code> depends on the inputs to the RNN... is that what you intended (or are you trying to print the value of the weight matrix)?"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 6394617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jcYXx.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/6394617/joe"}, "edited": false, "score": 0, "creation_date": 1587666363, "post_id": 54935668, "comment_id": 108608624, "body": "+1 for showing me how to access the weights and biases. Do you know how I can manually initialize them? I&#39;m trying to figure that out here:  <a href=\"https://stackoverflow.com/questions/61389657/how-to-manually-initialize-a-tf-1-x-lstmcell-and-dynamic-rnn\" title=\"how to manually initialize a tf 1 x lstmcell and dynamic rnn\">stackoverflow.com/questions/61389657/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1008, "user_id": 8342910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rqxY.jpg?s=128&g=1", "display_name": "Viktoriya Malyasova", "link": "https://stackoverflow.com/users/8342910/viktoriya-malyasova"}, "is_accepted": false, "score": 2, "last_activity_date": 1551395209, "creation_date": 1551395209, "answer_id": 54935668, "question_id": 42681757, "link": "https://stackoverflow.com/questions/42681757/tensorflow-lstm-gate-weights/54935668#54935668", "title": "Tensorflow LSTM Gate weights", "body": "<p>First, to clear some confusion: i, j, f and o tensors are not weight matrices; they are intermediate calculation steps that depend on particular LSTM cell input. All the weights of the LSTM cell are stored in variables self._kernel and self._bias, and in a constant self._forget_bias.</p>\n\n<p>So, to answer both possible interpretations of your question, I'll show how print the values of the self._kernel and self._bias, and the values of i, j, f and o tensors at every step.</p>\n\n<p>Suppose we have the following graph:</p>\n\n<pre><code>import numpy as np\nimport tensorflow as tf\n\ntimesteps = 7\nnum_input = 4\nnum_units = 3\nx_val = np.random.normal(size=(1, timesteps, num_input))\n\nlstm = tf.nn.rnn_cell.BasicLSTMCell(num_units = num_units)\nX = tf.placeholder(\"float\", [1, timesteps, num_input])\ninputs = tf.unstack(X, timesteps, 1)\noutputs, state = tf.contrib.rnn.static_rnn(lstm, inputs, dtype=tf.float32)\n</code></pre>\n\n<p>We can find the value of any tensor if we know its name. One way to find a tensor's name is to look at TensorBoard.</p>\n\n<pre><code>init = tf.global_variables_initializer()\ngraph = tf.get_default_graph()\nwith tf.Session(graph=graph) as sess:\n    train_writer = tf.summary.FileWriter('./graph', sess.graph)\n    sess.run(init)\n</code></pre>\n\n<p>Now we can start TensorBoard by the terminal command</p>\n\n<pre><code>tensorboard --logdir=graph --host=localhost \n</code></pre>\n\n<p>and find that the operation which produces i, j, f, o tensors has name 'rnn/basic_lstm_cell/split', while kernel and bias are called 'rnn/basic_lstm_cell/kernel' and 'rnn/basic_lstm_cell/bias':</p>\n\n<p><a href=\"https://i.stack.imgur.com/VD0lc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VD0lc.png\" alt=\"tensorboard\"></a></p>\n\n<p>The tf.contrib.rnn.static_rnn function calls our basic lstm cell 7 times, once for every timestep. When Tensorflow is asked to create several operations under the same name, it adds suffixes to them, like this: \nrnn/basic_lstm_cell/split,\n rnn/basic_lstm_cell/split_1, \n..., \nrnn/basic_lstm_cell/split_6. \nThese are the names of our operations.</p>\n\n<p>The name of a tensor in tensorflow consists of the name of the operation that produces the tensor, followed by a colon, followed by the index of the operation's output that produces this tensor. Kernel and bias ops have a single output, so the tensor names will be</p>\n\n<pre><code>kernel = graph.get_tensor_by_name(\"rnn/basic_lstm_cell/kernel:0\")\nbias = graph.get_tensor_by_name(\"rnn/basic_lstm_cell/bias:0\")\n</code></pre>\n\n<p>The split operation produces four outputs: i, j, f and o, so these tensors' names will be:</p>\n\n<pre><code>i_list = []\nj_list = []\nf_list = []\no_list = []\nfor suffix in [\"\", \"_1\", \"_2\", \"_3\", \"_4\", \"_5\", \"_6\"]:   \n    i_list.append(graph.get_tensor_by_name(\n        \"rnn/basic_lstm_cell/split{}:0\".format(suffix)\n    ))\n    j_list.append(graph.get_tensor_by_name(\n        \"rnn/basic_lstm_cell/split{}:1\".format(suffix)\n    ))\n    f_list.append(graph.get_tensor_by_name(\n        \"rnn/basic_lstm_cell/split{}:2\".format(suffix)\n    ))        \n    o_list.append(graph.get_tensor_by_name(\n        \"rnn/basic_lstm_cell/split{}:3\".format(suffix)\n    ))\n</code></pre>\n\n<p>and now we can find the values of all tensors:</p>\n\n<pre><code>    with tf.Session(graph=graph) as sess:\n        train_writer = tf.summary.FileWriter('./graph', sess.graph)\n        sess.run(init)\n        weights = sess.run([kernel, bias])\n        print(\"Weights:\\n\", weights)\n        i_values, j_values, f_values, o_values = sess.run([i_list, j_list, f_list, o_list], \n                                                          feed_dict = {X:x_val})\n        print(\"i values:\\n\", i_values)\n        print(\"j values:\\n\", j_values)\n        print(\"f_values:\\n\", f_values)\n        print(\"o_values:\\n\", o_values)\n</code></pre>\n\n<p>Alternatively, we could find the tensor names by looking at the list of all tensors in a graph, which can be produced by:</p>\n\n<pre><code>tensors_per_node = [node.values() for node in graph.get_operations()]\ntensor_names = [tensor.name for tensors in tensors_per_node for tensor in tensors]\nprint(tensor_names)\n</code></pre>\n\n<p>Or, for a shorter list of all operations:</p>\n\n<pre><code>print([node.name for node in graph.get_operations()])\n</code></pre>\n\n<p>The third way is to read the <a href=\"https://github.com/tensorflow/tensorflow/blob/r1.12/tensorflow/python/ops/rnn_cell_impl.py\" rel=\"nofollow noreferrer\">source code</a> and find which names are assigned to which tensors.</p>\n"}], "owner": {"reputation": 31, "user_id": 7620372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45fea6947a7e027f63ff5dd84a189c23?s=128&d=identicon&r=PG&f=1", "display_name": "python55", "link": "https://stackoverflow.com/users/7620372/python55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1666, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1551395209, "creation_date": 1489006506, "question_id": 42681757, "link": "https://stackoverflow.com/questions/42681757/tensorflow-lstm-gate-weights", "title": "Tensorflow LSTM Gate weights", "body": "<p>Hello I have a question about Tensorflow. I have some LSTM models trained and I can access the weights and biases of the synaptic connections however I can't seem to access the input, new input, output and forget gate weights of the LSTM cell. I can get the gate tensors out but when I try to .eval() them in a Session I get errors. I'm using the class BasicLSTMCell found in tensorflow/python/ops/rnn_cell.py for my network</p>\n\n<p>`</p>\n\n<pre><code>class BasicLSTMCell(RNNCell):\n  \"\"\"Basic LSTM recurrent network cell.\n\n  The implementation is based on: http://arxiv.org/abs/1409.2329.\n\n  We add forget_bias (default: 1) to the biases of the forget gate in order to\n  reduce the scale of forgetting in the beginning of the training.\n\n  It does not allow cell clipping, a projection layer, and does not\n  use peep-hole connections: it is the basic baseline.\n\n  For advanced models, please use the full LSTMCell that follows.\n  \"\"\"\n\n  def __init__(self, num_units, forget_bias=1.0, input_size=None,\n               state_is_tuple=True, activation=tanh):\n    \"\"\"Initialize the basic LSTM cell.\n\n    Args:\n      num_units: int, The number of units in the LSTM cell.\n      forget_bias: float, The bias added to forget gates (see above).\n      input_size: Deprecated and unused.\n      state_is_tuple: If True, accepted and returned states are 2-tuples of\n        the `c_state` and `m_state`.  If False, they are concatenated\n        along the column axis.  The latter behavior will soon be deprecated.\n      activation: Activation function of the inner states.\n    \"\"\"\n    if not state_is_tuple:\n      logging.warn(\"%s: Using a concatenated state is slower and will soon be \"\n                   \"deprecated.  Use state_is_tuple=True.\", self)\n    if input_size is not None:\n      logging.warn(\"%s: The input_size parameter is deprecated.\", self)\n    self._num_units = num_units\n    self._forget_bias = forget_bias\n    self._state_is_tuple = state_is_tuple\n    self._activation = activation\n\n  @property\n  def state_size(self):\n    return (LSTMStateTuple(self._num_units, self._num_units)\n            if self._state_is_tuple else 2 * self._num_units)\n\n  @property\n  def output_size(self):\n    return self._num_units\n\n  def __call__(self, inputs, state, scope=None):\n    \"\"\"Long short-term memory cell (LSTM).\"\"\"\n    with vs.variable_scope(scope or type(self).__name__):  # \"BasicLSTMCell\"\n      # Parameters of gates are concatenated into one multiply for efficiency.\n      if self._state_is_tuple:\n        c, h = state\n      else:\n        c, h = array_ops.split(1, 2, state)\n      concat = _linear([inputs, h], 4 * self._num_units, True)\n\n      # i = input_gate, j = new_input, f = forget_gate, o = output_gate\n      i, j, f, o = array_ops.split(1, 4, concat)\n\n      new_c = (c * sigmoid(f + self._forget_bias) + sigmoid(i) *\n               self._activation(j))\n      new_h = self._activation(new_c) * sigmoid(o)\n\n      if self._state_is_tuple:\n        new_state = LSTMStateTuple(new_c, new_h)\n      else:\n        new_state = array_ops.concat(1, [new_c, new_h])\n      return new_h, new_state\n\n\ndef _get_concat_variable(name, shape, dtype, num_shards):\n  \"\"\"Get a sharded variable concatenated into one tensor.\"\"\"\n  sharded_variable = _get_sharded_variable(name, shape, dtype, num_shards)\n  if len(sharded_variable) == 1:\n    return sharded_variable[0]\n\n  concat_name = name + \"/concat\"\n  concat_full_name = vs.get_variable_scope().name + \"/\" + concat_name + \":0\"\n  for value in ops.get_collection(ops.GraphKeys.CONCATENATED_VARIABLES):\n    if value.name == concat_full_name:\n      return value\n\n  concat_variable = array_ops.concat(0, sharded_variable, name=concat_name)\n  ops.add_to_collection(ops.GraphKeys.CONCATENATED_VARIABLES,\n                        concat_variable)\n  return concat_variable\n\n\ndef _get_sharded_variable(name, shape, dtype, num_shards):\n  \"\"\"Get a list of sharded variables with the given dtype.\"\"\"\n  if num_shards &gt; shape[0]:\n    raise ValueError(\"Too many shards: shape=%s, num_shards=%d\" %\n                     (shape, num_shards))\n  unit_shard_size = int(math.floor(shape[0] / num_shards))\n  remaining_rows = shape[0] - unit_shard_size * num_shards\n\n  shards = []\n  for i in range(num_shards):\n    current_size = unit_shard_size\n    if i &lt; remaining_rows:\n      current_size += 1\n    shards.append(vs.get_variable(name + \"_%d\" % i, [current_size] + shape[1:],\n                                  dtype=dtype))\n  return shards\n</code></pre>\n\n<p>`</p>\n\n<p>I can see the i, j, f, o gates being used in the def <strong>call</strong> however when I tf.print them I get tensors out, and when I try to .eval() them in a Session I get errors. I also tried tf.getVariable but was not able to extract the weight matrices. My question: is there a way to evaluate the i, j ,f and o gate weights/matrices?</p>\n"}, {"tags": ["python", "selenium", "geckodriver"], "answers": [{"tags": [], "owner": {"reputation": 2183, "user_id": 1869007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5485a7313b368471cfe092e95fd7bea?s=128&d=identicon&r=PG", "display_name": "Lucas Tierney", "link": "https://stackoverflow.com/users/1869007/lucas-tierney"}, "is_accepted": false, "score": 0, "last_activity_date": 1489028428, "creation_date": 1489028428, "answer_id": 42685876, "question_id": 42681709, "link": "https://stackoverflow.com/questions/42681709/selenium-3-3-0-with-geckodriver-0-11-0-crashes-in-location-property/42685876#42685876", "title": "Selenium 3.3.0 with GeckoDriver 0.11.0 crashes in location property", "body": "<p>Selenium 3.3.0 requires geckodriver 0.15 due to changes in command response values</p>\n"}], "owner": {"reputation": 3, "user_id": 2216644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d0c15c5bc2a4c52f13dcf7af8e25d7?s=128&d=identicon&r=PG", "display_name": "CheViana", "link": "https://stackoverflow.com/users/2216644/cheviana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489028428, "creation_date": 1489006346, "last_edit_date": 1489008979, "question_id": 42681709, "link": "https://stackoverflow.com/questions/42681709/selenium-3-3-0-with-geckodriver-0-11-0-crashes-in-location-property", "title": "Selenium 3.3.0 with GeckoDriver 0.11.0 crashes in location property", "body": "<p>A bunch of our tests started failing today after Selenium 3.3.0 release with following error:</p>\n\n<pre><code>@property\ndef location(self):\n    \"\"\"The location of the element in the renderable canvas.\"\"\"\n    if self._w3c:\n        old_loc = self._execute(Command.GET_ELEMENT_RECT)['value']\n    else:\n        old_loc = self._execute(Command.GET_ELEMENT_LOCATION)['value']\n</code></pre>\n\n<blockquote>\n<pre><code>  new_loc = {\"x\": round(old_loc['x']),\n               \"y\": round(old_loc['y'])}\n</code></pre>\n  \n  <p>E       TypeError: 'NoneType' object is not subscriptable</p>\n</blockquote>\n\n<p>.tox/py34/lib/python3.4/site-packages/selenium/webdriver/remote/webelement.py:403: TypeError</p>\n\n<p>Versions of packages/software:</p>\n\n<ul>\n<li>selenium 3.3.0</li>\n<li>pytest-selenium 1.9.1</li>\n<li>geckodriver 0.11.0</li>\n</ul>\n\n<p>Question:</p>\n\n<ol>\n<li>any other way to address this except for downgrading selenium to\n3.0.2?</li>\n<li>looks like a bug, but I'm not sure where to file it, GeckoDriver issue tracker?</li>\n</ol>\n\n<p>PS: I know it's a very old version of GeckoDriver, update is not an option, unfortunately.</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 1649, "user_id": 6824752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dlCSp.png?s=128&g=1", "display_name": "Filip Kilibarda", "link": "https://stackoverflow.com/users/6824752/filip-kilibarda"}, "edited": false, "score": 0, "creation_date": 1489020179, "post_id": 42681692, "comment_id": 72493267, "body": "Might help if you included sample data. I notice that the x-axis range changes between the two methods. I&#39;m thinking that the index of the &#39;pandas.Series&#39; might be causing the different behaviour"}], "answers": [{"comments": [{"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 0, "creation_date": 1489072064, "post_id": 42693716, "comment_id": 72519376, "body": "This is more or less what had happened.  I had been sub-sampling my data and sorting on another column, and this jacked up my index.  I had assumed that the &quot;natural&quot; index on the series would be like array indexing, but apparently not.  Out of curiosity, what is the reasoning behind doing the indexing in this way, as opposed to just being [0,series.size)...?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 1, "creation_date": 1489072412, "post_id": 42693716, "comment_id": 72519624, "body": "The reason is of course that each entry should have its defined index (otherwise there would be no reason for an index). This allows e.g. to identify the data unambiguously after sorting or filtering. You can use <code>df = df.reset_index()</code> to newly index the dataframe."}, {"owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "edited": false, "score": 0, "creation_date": 1489072939, "post_id": 42693716, "comment_id": 72520016, "body": "...Like in a relational database."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1489073146, "last_edit_date": 1489073146, "creation_date": 1489057566, "answer_id": 42693716, "question_id": 42681692, "link": "https://stackoverflow.com/questions/42681692/pandas-matplotlib-plot-has-weird-artifacts/42693716#42693716", "title": "pandas matplotlib plot has weird artifacts", "body": "<p>Let's say you have the following DataFrame</p>\n\n<pre><code>x = [2,1,3,6,5,6,7]\ny = [1,2,5,1,1,6,1]\ndf = pd.DataFrame({\"y\" : y }, index=x)\n</code></pre>\n\n<p>Then calling<br>\n<code>plt.plot(df[\"y\"].as_matrix())</code> is equivalent to <code>plt.plot(y)</code> which plots only the <code>y</code> values against it's own index (starting at 0, incrementing by 1).<br>\nIn contrast,<br>\n<code>plt.plot(df[\"y\"])</code> is equivalent to <code>plt.plot(x,y)</code> which plots the <code>y</code> values against the index of the dataframe. If those indices are not sorted, the plot will look distorted. (The same is true for the pandas plot command.) </p>\n\n<p>Here is a complete example.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.DataFrame({\"y\" : [1,2,5,1,1,6,1] }, index=[2,1,3,6,5,6,7])\n\nplt.plot(df[\"y\"].as_matrix(), lw=3, label='plt.plot(df[\"y\"].as_matrix())')\nplt.plot(df[\"y\"], lw=3, label='plt.plot(df[\"y\"])')\ndf[\"y\"].plot(ax=plt.gca(), linestyle=\"--\", color=\"k\", label='df[\"y\"].plot()')\n\nplt.legend()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/23BjQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/23BjQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The easiest solution to be able to use any of the above methods is to reindex the dataframe </p>\n\n<pre><code>df = df.reset_index()\n</code></pre>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 42693716, "answer_count": 1, "score": 2, "last_activity_date": 1489073146, "creation_date": 1489006294, "question_id": 42681692, "link": "https://stackoverflow.com/questions/42681692/pandas-matplotlib-plot-has-weird-artifacts", "title": "pandas matplotlib plot has weird artifacts", "body": "<p>What about pandas series is causing this?</p>\n\n<pre><code>plt.plot(df[\"Column\"].as_matrix())\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KY4bv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KY4bv.png\" alt=\"good plot\"></a></p>\n\n<hr>\n\n<pre><code>plt.plot(df[\"Column\"])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/p2RmT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p2RmT.png\" alt=\"bad plot\"></a></p>\n\n<hr>\n\n<pre><code>df[\"Column\"].plot()\n</code></pre>\n\n<p>actually has similar artifacts, but isn't quite the same plot.</p>\n"}, {"tags": ["python", "terminal"], "comments": [{"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "edited": false, "score": 1, "creation_date": 1489006458, "post_id": 42681688, "comment_id": 72487521, "body": "Are you asking how to execute a command without pressing <code>enter</code> to execute your command...?"}, {"owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "reply_to_user": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "edited": false, "score": 1, "creation_date": 1489006480, "post_id": 42681688, "comment_id": 72487528, "body": "@crookedleaf No...So I type <code>for i in range(10): print(i)</code>, enter, and it gives <code>...</code> waiting for more statements. So I have to press enter twice."}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1489006495, "post_id": 42681688, "comment_id": 72487544, "body": "Then what exactly are you asking?"}, {"owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "edited": false, "score": 1, "creation_date": 1489006511, "post_id": 42681688, "comment_id": 72487547, "body": "Do you want something like <code>[i for i in range(10)]</code>?"}, {"owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "edited": false, "score": 0, "creation_date": 1489006666, "post_id": 42681688, "comment_id": 72487632, "body": "@SamShen this is just the way the terminal works since you are trying to execute a multi-line command on one line. it&#39;s waiting for confirmation that you are done."}, {"owner": {"reputation": 5135, "user_id": 5506894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9jSK1.jpg?s=128&g=1", "display_name": "Denziloe", "link": "https://stackoverflow.com/users/5506894/denziloe"}, "edited": false, "score": 0, "creation_date": 1489006681, "post_id": 42681688, "comment_id": 72487636, "body": "Press enter after the command. You now only have to press enter once."}, {"owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "reply_to_user": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "edited": false, "score": 0, "creation_date": 1489007250, "post_id": 42681688, "comment_id": 72487923, "body": "@crookedleaf Thank you - yeah I just wondered if there&#39;s a way to signify &quot;I&#39;m done&quot; using that one line."}], "answers": [{"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": true, "score": 18, "last_activity_date": 1489006517, "creation_date": 1489006517, "answer_id": 42681761, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop/42681761#42681761", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>Just type the two returns and move on. But since you ask, this only needs one <kbd>Enter</kbd>:</p>\n\n<pre><code>exec(\"for i in range(10): print(i)\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 2, "creation_date": 1559413761, "post_id": 56409339, "comment_id": 99415948, "body": "I don&#39;t think this works in the regular python terminal which is different than iPython terminal"}], "tags": [], "owner": {"reputation": 41, "user_id": 11587767, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d0c327ae170523375e5da90e37974ef3?s=128&d=identicon&r=PG", "display_name": "Paarmita", "link": "https://stackoverflow.com/users/11587767/paarmita"}, "is_accepted": false, "score": 3, "last_activity_date": 1559413321, "creation_date": 1559413321, "answer_id": 56409339, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop/56409339#56409339", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>\"alt+enter\"\nI was working in ipython and facing the same problem as yours. upon trying various combinations from keyboard, this one finally worked</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12936741, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3fbc52e9978afb4af8e674674fa898ba?s=128&d=identicon&r=PG", "display_name": "Guest User", "link": "https://stackoverflow.com/users/12936741/guest-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1582272816, "last_edit_date": 1582272816, "creation_date": 1582264909, "answer_id": 60332951, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop/60332951#60332951", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>You can use the Shift+Enter to end the function or loop which continues next line as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zFtFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFtFH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2879, "user_id": 1201863, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/993b5c15ca4a2d520f80f0c0120f13e6?s=128&d=identicon&r=PG", "display_name": "Luc", "link": "https://stackoverflow.com/users/1201863/luc"}, "is_accepted": false, "score": 0, "last_activity_date": 1597145548, "creation_date": 1597145548, "answer_id": 63357273, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop/63357273#63357273", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>Convert your for-loop into a so-called <strong>list comprehension</strong> (you don't need <code>eval</code> / <code>exec</code> and wrap the whole thing in a string as the current top answer suggests):</p>\n<pre><code>In [1]: [i for i in range(3)]\nOut[1]: [0, 1, 2]\n</code></pre>\n<p>You can also keep your <code>print()</code> statement if you want it on multiple lines, but the return value (<code>None</code>) will be put in the array that is returned, so you'll get this:</p>\n<pre><code>In [2]: [print(i) for i in range(3)]\n0\n1\n2\nOut[2]: [None, None, None]\n</code></pre>\n<p>To suppress that final output line, you can <a href=\"https://stackoverflow.com/a/43265298/1201863\">add a semicolon</a>:</p>\n<pre><code>In [3]: [print(i) for i in range(3)];\n0\n1\n2\n</code></pre>\n<p>So much for <code>ipython3</code>, but perhaps more usefully, what about command-line usage? You can't do <code>python3 -c 'import sys; for line in sys.stdin: print(line)'</code> but you <em>can</em> use list comprehension:</p>\n<pre><code>$ python3 -c '[print(i) for i in range(3)]'\n0\n1\n2\n</code></pre>\n<p>So if you want to run a bit of python over each line:</p>\n<pre><code>$ cat inputfile\ntwo\nexamples\n$ cat inputfile | python3 -c 'import sys; [print(line.strip().upper()) for line in sys.stdin]'\nTWO\nEXAMPLES\n</code></pre>\n<p>(You can replace <code>cat infile |</code> with <code>&lt;infile</code> but this seemed more accessible for those not familiar with Bash syntax, and those who are familiar can trivially replace it.)</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 11959424, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAMuS03382LBzeLfpLdU5Wvute9wZQWppjsdxq2=k-s128", "display_name": "Salman", "link": "https://stackoverflow.com/users/11959424/salman"}, "is_accepted": false, "score": 0, "last_activity_date": 1611417948, "creation_date": 1611417948, "answer_id": 65861367, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop/65861367#65861367", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>You can execute the for statement without using the exec() by pressing enter to go to the next line and then pressing ctrl + d</p>\n"}], "owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35164, "favorite_count": 4, "accepted_answer_id": 42681761, "answer_count": 5, "score": 9, "last_activity_date": 1611417948, "creation_date": 1489006286, "last_edit_date": 1489007172, "question_id": 42681688, "link": "https://stackoverflow.com/questions/42681688/python-in-terminal-how-to-signify-end-of-for-loop", "title": "Python in terminal: how to signify end of for loop?", "body": "<p>Say I want to print <code>0</code> through <code>9</code>.</p>\n\n<p>I type in <code>for i in range(10): print(i)</code>, press <kbd>enter</kbd>, and terminal shows <code>...</code>, waiting for further statements.</p>\n\n<p>So I have to press <kbd>enter</kbd> again to have the numbers printed.</p>\n\n<pre><code>&gt;&gt;&gt; for i in range(10): print(i)\n...\n</code></pre>\n\n<p>How can I have the number printed without having to press <kbd>enter</kbd> twice?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13616194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhSEy6qJ62XSATHddNaCUzDuqKiD8mhv6ZJGS3gqw=k-s128", "display_name": "Alberto Isaac Aguilar Hernndez", "link": "https://stackoverflow.com/users/13616194/alberto-isaac-aguilar-hernndez"}, "is_accepted": false, "score": -3, "last_activity_date": 1590443334, "creation_date": 1590443334, "answer_id": 62011299, "question_id": 42681669, "link": "https://stackoverflow.com/questions/42681669/lyapunov-exponent-code-output-nolds/62011299#62011299", "title": "Lyapunov Exponent Code Output Nolds", "body": "<p>I think you are estimate the whole spectrum of Lyapunov exponents. To estimate the largest Lyapunov exponent you can use nolds,lyap_e()</p>\n"}], "owner": {"reputation": 1154, "user_id": 5020060, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e29cb3221549ece036d0ed6a63be70f3?s=128&d=identicon&r=PG", "display_name": "Adam Warner", "link": "https://stackoverflow.com/users/5020060/adam-warner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1183, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1590443334, "creation_date": 1489006177, "question_id": 42681669, "link": "https://stackoverflow.com/questions/42681669/lyapunov-exponent-code-output-nolds", "title": "Lyapunov Exponent Code Output Nolds", "body": "<p>I am researching about Lyapunov exponents, and that the Rosenstein algorithm can be used to calculate the maximum exponent. I am using the nolds package in python. I also know that Lyapunov exponents alone cannot be used to determine if a system is chaotic or periodic. Here is the following example code I am using:</p>\n\n<pre><code>import numpy as np \nimport nolds\nrwalk = np.cumsum(np.random.random(1000))\nnolds.lyap_r(rwalk)\n</code></pre>\n\n<p>This gives the following output:</p>\n\n<pre><code>array([5.94316837e+00,   9.23215127e-06])\n</code></pre>\n\n<p>Why are there two different numbers? I have read the documentation and I do not see why the output is the way it is. </p>\n"}, {"tags": ["python", "html", "beautifulsoup", "bs4"], "comments": [{"owner": {"reputation": 9307, "user_id": 705086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fbeee3d76a35f9de8847f36ee51c28a2?s=128&d=identicon&r=PG", "display_name": "Dima Tisnek", "link": "https://stackoverflow.com/users/705086/dima-tisnek"}, "edited": false, "score": 0, "creation_date": 1489089420, "post_id": 42681627, "comment_id": 72530735, "body": "wrt. screenshots -- one shows <code>mp-pi-price-min</code> while the other <code>mp-pi-price</code> those are different classes."}], "answers": [{"tags": [], "owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "is_accepted": true, "score": 0, "last_activity_date": 1489006233, "creation_date": 1489006233, "answer_id": 42681682, "question_id": 42681627, "link": "https://stackoverflow.com/questions/42681627/code-not-on-bs4-but-can-be-found-in-inspect-element/42681682#42681682", "title": "Code not on BS4, but can be found in &#39;Inspect Element&#39;", "body": "<p><code>requests</code> doesn't handle dynamic page content. You're best bet is using <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">Selenium</a> to drive a browser. From there you can parse <code>page_source</code> with BeautifulSoup to get the results you're looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 10600, "user_id": 6856342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10020e210dd11a731c13627b306d83d9?s=128&d=identicon&r=PG", "display_name": "\u5b8f\u6770\u674e", "link": "https://stackoverflow.com/users/6856342/%e5%ae%8f%e6%9d%b0%e6%9d%8e"}, "is_accepted": false, "score": 0, "last_activity_date": 1489021885, "creation_date": 1489021885, "answer_id": 42684882, "question_id": 42681627, "link": "https://stackoverflow.com/questions/42681627/code-not-on-bs4-but-can-be-found-in-inspect-element/42684882#42684882", "title": "Code not on BS4, but can be found in &#39;Inspect Element&#39;", "body": "<p>In chrome development tools, you can check the ajax request(made by Javascript) URL. you can mimic that requests and get data back.</p>\n\n<pre><code>r = requests.get('the ajax requests url')\ndata = r.text\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JgJQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JgJQE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3, "user_id": 7680607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b55d6f3706ba3181271a117618dd3b?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan LeSage", "link": "https://stackoverflow.com/users/7680607/ethan-lesage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "closed_date": 1585588164, "accepted_answer_id": 42681682, "answer_count": 2, "score": 0, "last_activity_date": 1489096449, "creation_date": 1489006023, "last_edit_date": 1489096449, "question_id": 42681627, "link": "https://stackoverflow.com/questions/42681627/code-not-on-bs4-but-can-be-found-in-inspect-element", "closed_reason": "Duplicate", "title": "Code not on BS4, but can be found in &#39;Inspect Element&#39;", "body": "<p>I have tried making a website which uses Beautiful Soup 4 to search g2a for the prices of games (by class). The problem is that when I look in the HTML code, it clearly shows the price of the first result (\u00a32.30), but when I search for the class in Beautiful Soup 4, there is nothing between the same class's tags:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nysmV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nysmV.jpg\" alt=\"http://prnt.sc/ehltnf\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/yXHMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXHMP.png\" alt=\"http://prnt.sc/ehltwg\"></a></p>\n\n<pre><code>#summoningg2a\nr = requests.get('https://www.g2a.com/?search=x')\ndata = r.text\nsoup = BeautifulSoup(data, 'html.parser')\n\n#finding prices\nprices = soup.find_all(\"strong\", class_=\"mp-pi-price-min\")\n\nprint(soup.prettify())\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary", "recursion", "nested"], "comments": [{"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 1, "creation_date": 1489006352, "post_id": 42681610, "comment_id": 72487453, "body": "The only difference between that and the dupe (from 3 hours ago... (<i>same class? ;)</i>) ) is that you have to split your list, and not use an initializer. Something like  <code>reduce(lambda x, y: {y: x}, reversed(inputSentence.strip(&#39;.&#39;).split()))</code>. There&#39;s also a non-<code>reduce</code> solution there. I&#39;m also going to assume you don&#39;t actually need to use recursion, since you don&#39;t in your attempt."}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 3573243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de71c94868017903fedafae45678898?s=128&d=identicon&r=PG&f=1", "display_name": "Niels", "link": "https://stackoverflow.com/users/3573243/niels"}, "is_accepted": false, "score": 0, "last_activity_date": 1489006804, "creation_date": 1489006804, "answer_id": 42681834, "question_id": 42681610, "link": "https://stackoverflow.com/questions/42681610/recursively-create-a-nested-dictionary-from-string/42681834#42681834", "title": "Recursively create a nested dictionary from string", "body": "<p>You could do something like this:</p>\n\n<pre><code>outdict = {}\ncurdict = outdict\nfor f in inputSentence.split(' '):\n    curdict[f] = {}\n    curdict = curdict[f]\nprint outdict\n</code></pre>\n\n<p>Where <code>curdict</code> is only pointing to a location in the output dictionary.</p>\n"}], "owner": {"reputation": 51, "user_id": 3281595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1392970458/picture?type=large", "display_name": "kanecain", "link": "https://stackoverflow.com/users/3281595/kanecain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1682, "favorite_count": 0, "closed_date": 1489007001, "answer_count": 1, "score": 0, "last_activity_date": 1489006804, "creation_date": 1489005969, "question_id": 42681610, "link": "https://stackoverflow.com/questions/42681610/recursively-create-a-nested-dictionary-from-string", "closed_reason": "Duplicate", "title": "Recursively create a nested dictionary from string", "body": "<p>I have an issue that I've been trying to sort out. I have a string that needs to be converted to an nested dictionary with the keys and values based off the adjacent words in the string. Here is an example:</p>\n\n<pre><code>graphMaster = {}\ninputSentence = \"I have a dog named Max.\"\n</code></pre>\n\n<p>I would like to take this string, and convert it into a dictionary resembling the output below:</p>\n\n<pre><code>print graphMaster\n{'I': {'have': {'a': {'dog': {'named': 'Max'}}}}}\n</code></pre>\n\n<p>I have tried the following:</p>\n\n<pre><code>graphMaster = {}\ninputSentence = \"I have a dog named Max.\"\nwhile True:\n    inputList = inputSentence.strip().split(' ')\n    for currentIndex, word in enumerate(inputList):\n        nextIndex = currentIndex + 1\n        if nextIndex &lt; len(inputList):\n            if word not in graphMaster.keys():\n                graphMaster[word] = inputList[nextIndex]\n            elif word in graphMaster.keys():\n                break\nprint graphMaster\n</code></pre>\n\n<p>I couldn't find a duplicate problem here and I pre-apologize if one exists that I couldn't find. Any help is greatly appreciated.</p>\n"}, {"tags": ["python", "json", "csv"], "comments": [{"owner": {"reputation": 324, "user_id": 6879949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c51e2e422d27d559d48d5a0beabca26?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/6879949/bhargav"}, "edited": false, "score": 0, "creation_date": 1489006612, "post_id": 42681584, "comment_id": 72487601, "body": "<a href=\"http://stackoverflow.com/questions/38170071/csv-to-json-convertion-with-python\">Please find the answer here,</a> hope it helps."}, {"owner": {"reputation": 1333, "user_id": 3891715, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae5997b4dc2be388eb0b381a8631cc60?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/3891715/sal"}, "reply_to_user": {"reputation": 324, "user_id": 6879949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c51e2e422d27d559d48d5a0beabca26?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/6879949/bhargav"}, "edited": false, "score": 0, "creation_date": 1489018106, "post_id": 42681584, "comment_id": 72492641, "body": "@Bhargav sorry, that&#39;s not the answer. That answer is taking each row and making a dict keyed on column names. I&#39;m trying to take each column and make a dict keyed on the first entry of the row."}], "answers": [{"comments": [{"owner": {"reputation": 1333, "user_id": 3891715, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae5997b4dc2be388eb0b381a8631cc60?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/3891715/sal"}, "edited": false, "score": 0, "creation_date": 1489006363, "post_id": 42681674, "comment_id": 72487455, "body": "I&#39;m sorry, I should&#39;ve specified no pandas. I&#39;m trying not to rely on additional packages nor do i want to take the time to build up a DataFrame only to abandon it. Totally the easiest way of doing this though!"}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "reply_to_user": {"reputation": 1333, "user_id": 3891715, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae5997b4dc2be388eb0b381a8631cc60?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/3891715/sal"}, "edited": false, "score": 0, "creation_date": 1489006538, "post_id": 42681674, "comment_id": 72487566, "body": "@Sal, Understood. However, for your point about &#39;building the dataframe to abandon it&#39; - creating the dataframe takes a minute. Don&#39;t feel bad about abandoning your data-baby."}, {"owner": {"reputation": 1333, "user_id": 3891715, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae5997b4dc2be388eb0b381a8631cc60?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/3891715/sal"}, "edited": false, "score": 0, "creation_date": 1489007326, "post_id": 42681674, "comment_id": 72487973, "body": "The design specs actually say &quot;no pandas&quot;. :)"}], "tags": [], "owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "is_accepted": false, "score": 3, "last_activity_date": 1489006210, "creation_date": 1489006210, "answer_id": 42681674, "question_id": 42681584, "link": "https://stackoverflow.com/questions/42681584/python-csv-columns-to-json/42681674#42681674", "title": "Python csv columns to JSON", "body": "<p>This may be \"cheating\" but this has <em>always</em> worked for me. If it hasn't - nothing a little code couldn't fix. But I use the <code>Pandas</code> module. It really takes care of a lot of my data needs. I read the csv into a DataFrame and then Put the dataframe into JSON (or any other format)</p>\n\n<pre><code>import pandas as pd\n\ndf1 = pd.read_csv('YOUR_PATH_HERE')\n\ndf1.to_json('PATH_HERE')\n</code></pre>\n\n<p>It's super simple and easily customizable. You may need to fiddle around with more variables. Here is the documentation: <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">read_csv</a>, <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_json.html\" rel=\"nofollow noreferrer\">to_json</a> \nand this is always a good one to read: <a href=\"http://pandas.pydata.org/pandas-docs/stable/10min.html\" rel=\"nofollow noreferrer\">10 Minutes to Pandas</a></p>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 6879949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c51e2e422d27d559d48d5a0beabca26?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/6879949/bhargav"}, "is_accepted": false, "score": 0, "last_activity_date": 1489032133, "last_edit_date": 1489032133, "creation_date": 1489030056, "answer_id": 42686115, "question_id": 42681584, "link": "https://stackoverflow.com/questions/42681584/python-csv-columns-to-json/42686115#42686115", "title": "Python csv columns to JSON", "body": "<p>I definitely think the following answer is too long, but if you are in need of answer still, this works.\nI have created a test.csv as per your data</p>\n\n<p>I don't know why you want to eliminate using pandas, but anyways</p>\n\n<pre><code>import csv\nimport itertools\nfrom itertools import *\nimport json\n\n\ndef read_with_header():\n    with open ('/Users/bhargavsaidama/test.csv', 'rb') as f:\n        reader = csv.reader(f, delimiter = ',', quotechar = '|')\n        row_count = 0\n        keys = []\n        for row in reader:\n            row_count = row_count + 1\n            keys.append(row)\n        header = keys[0]\n        return row_count, header\n\n\ndef reading_ignore_header():\n\n    row_count, header = read_with_header()\n\n    with open('/Users/bhargavsaidama/test.csv', 'rb') as f:\n        f.next()\n        # row_count = sum(1 for row in f)\n        # # print row_count\n        reader = csv.reader(f, delimiter = ',' , quotechar = '|')\n        result = []\n        values = ()\n\n        for row in reader:\n            # row_count is taken including header file in the above function\n            values = tuple((itertools.combinations(row, 2)))[:(row_count-1)]  # row_count is important,since your keys are rows\n\n            for x, y in values:\n                result.append({x:y})\n        return result, header\n\n# The following function is taken from here\n# http://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks\n\ndef chunks(l, n):\n    \"\"\"Yield successive n-sized chunks from l.\"\"\"\n    for i in range(0, len(l), n):\n        yield l[i:i + n]\n\n\ndef main():\n\n    result, header = reading_ignore_header()\n    final_values = list(chunks(result,3)) # here 3 reflects (row_count-1)\n    header = header[1:]        # seems like u wanna ignore Id \n    data_str = json.dumps(dict(zip(header, final_values)))\n    data_json = json.loads(data_str)\n    print data_str, data_json\n    return data_str, data_json\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>Hope it helps, if you can optimize it go ahead and do it. I will also learn :)</p>\n\n<p>Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 2689383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/100004839518399/picture?type=large", "display_name": "chfw", "link": "https://stackoverflow.com/users/2689383/chfw"}, "is_accepted": false, "score": 0, "last_activity_date": 1492599218, "creation_date": 1492599218, "answer_id": 43493677, "question_id": 42681584, "link": "https://stackoverflow.com/questions/42681584/python-csv-columns-to-json/43493677#43493677", "title": "Python csv columns to JSON", "body": "<p>Here is a simpler solution and you will need pyexcel and pyexcel-text:</p>\n\n<pre><code>&gt;&gt;&gt; import pyexcel as p\n&gt;&gt;&gt; sheet=p.get_sheet(file_name='test.csv')\n&gt;&gt;&gt; sheet\ntest.csv:\n+---------+-----+-----+-------+\n| id      | o1  | o2  | o3    |\n+---------+-----+-----+-------+\n| 'jess'  | 1.0 | 4   | 0.3   |\n+---------+-----+-----+-------+\n| 'jill'  | 0   | 5   | 0.123 |\n+---------+-----+-----+-------+\n| 'jamie' | 3   | 0.2 | 1.0   |\n+---------+-----+-----+-------+\n&gt;&gt;&gt; sheet.transpose()\n&gt;&gt;&gt; sheet.name_columns_by_row(0)\n&gt;&gt;&gt; sheet.name_rows_by_column(0)\n&gt;&gt;&gt; sheet\ntest.csv:\n+----+--------+--------+---------+\n|    | 'jess' | 'jill' | 'jamie' |\n+====+========+========+=========+\n| o1 | 1.0    | 0      | 3       |\n+----+--------+--------+---------+\n| o2 | 4      | 5      | 0.2     |\n+----+--------+--------+---------+\n| o3 | 0.3    | 0.123  | 1.0     |\n+----+--------+--------+---------+\n&gt;&gt;&gt; sheet.get_json(write_title=False) # pip install pyexcel-text\n'{\"o1\": {\"\\'jamie\\'\": 3, \"\\'jess\\'\": 1.0, \"\\'jill\\'\": 0}, \"o2\": {\"\\'jamie\\'\": \"0.2\", \"\\'jess\\'\": 4, \"\\'jill\\'\": 5}, \"o3\": {\"\\'jamie\\'\": 1.0, \"\\'jess\\'\": \"0.3\", \"\\'jill\\'\": \"0.123\"}}'\n</code></pre>\n"}], "owner": {"reputation": 1333, "user_id": 3891715, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae5997b4dc2be388eb0b381a8631cc60?s=128&d=identicon&r=PG&f=1", "display_name": "Sal", "link": "https://stackoverflow.com/users/3891715/sal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1492599218, "creation_date": 1489005855, "last_edit_date": 1489006403, "question_id": 42681584, "link": "https://stackoverflow.com/questions/42681584/python-csv-columns-to-json", "title": "Python csv columns to JSON", "body": "<p>I have the following csv</p>\n\n<pre><code>id, o1, o2, o3\n'jess', 1.0, 4, 0.3\n'jill', 0, 5, 0.123\n'jamie', -3, 0.2, 1.0\n</code></pre>\n\n<p>and would like it in a nested json with each column as a json keyed on the header name:</p>\n\n<pre><code>myjson = {\n    \"o1\": {\"jess\": 1.0, \"jill\":   0, \"jamie\": -3}, \n    \"o2\": {\"jess\":   4, \"jill\":   5, \"jamie\": 0.2}, \n    \"o3\": {\"jess\": 0.3, \"jill\": 0.2, \"jamie\": 1.0}, \n</code></pre>\n\n<p>Not sure the best (most pythonic) way to do this. Here is my first attempt:</p>\n\n<pre><code>import csv\nwith open(myfile, \"r\") as f:\n    reader = csv.reader(f, delimiter=',', quotechar='\"')\n    first = True\n    for line in reader:\n        if first:\n            myjson = {key: dict() for key in line}\n            header = list(line)\n            first = False\n        for i in range(len(header)):\n            id = line[0]\n            myjson[header[i+1]][id] = line[i+1]\n</code></pre>\n\n<p>I assume there is a better way to do this.</p>\n\n<p><strong>Edit:</strong> Should've specified this earlier but I do NOT want to use anything like Pandas. This needs to be super fast with minimal package dependencies. </p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1489005988, "post_id": 42681558, "comment_id": 72487254, "body": "This is really hard to read; the indentation is messed up in the first block of code. Could you please a) reduce the code down to only that which you think is relevant (all the <code>print</code> statements are not) and b) include a stack trace so that we can actually see what line causes the error? In other words, a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": false, "score": 1, "last_activity_date": 1489221788, "creation_date": 1489221788, "answer_id": 42733183, "question_id": 42681558, "link": "https://stackoverflow.com/questions/42681558/no-such-column-when-checking-for-table-column/42733183#42733183", "title": "&quot;No such column&quot; when checking for table column", "body": "<p>The <code>sqlite_master</code> table does not have a column named <code>email</code>; the entire table structure is contained in the text in the <code>sql</code> column.</p>\n\n<p>You could check for the table name itself (but note that if no row is found, no row is returned, not even an empty one, so it does not make sense to try to handle this with a <code>for</code> loop):</p>\n\n<pre><code>c.execute(\"SELECT name FROM sqlite_master WHERE type = 'table' AND name = 'emails'\")\nif not c.fetchall():\n    c.execute('DROP TABLE emails')\n</code></pre>\n\n<p>However, there is an easier method to ensure that a table is removed, regardless of its previous state:</p>\n\n<pre><code>c.execute('DROP TABLE IF EXISTS emails')\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7335860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/67a795588eb24ed233eaee429ab55b45?s=128&d=identicon&r=PG&f=1", "display_name": "T.E", "link": "https://stackoverflow.com/users/7335860/t-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489227711, "creation_date": 1489005725, "last_edit_date": 1489227711, "question_id": 42681558, "link": "https://stackoverflow.com/questions/42681558/no-such-column-when-checking-for-table-column", "title": "&quot;No such column&quot; when checking for table column", "body": "<p>I am creating a table to add data to a database but I am not sure where to create the column for 'emails'. My final aim for this is to be able to enter a username (email) and password and for it to be saved into a database but I am not sure how to do this. Here is my code currently:</p>\n\n<pre><code>import sqlite3\n\ndef save_to_database(my_stack, filename = 'stack_database.db'):\n\n    conn = sqlite3.connect(filename)\n    c = conn.cursor()\n\n    for row in c.execute('SELECT email FROM sqlite_master WHERE type=\"table\"'):\n        if row != None:\n            c.execute(\"DROP TABLE emails\")\n\n    c.execute(\"CREATE TABLE emails(email text,login_date text)\")\n    ...\n</code></pre>\n"}, {"tags": ["python"], "owner": {"reputation": 21, "user_id": 7680664, "user_type": "registered", "profile_image": "https://graph.facebook.com/1321450384613013/picture?type=large", "display_name": "\u041a\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0421\u0442\u0430\u0442\u0435\u0432", "link": "https://stackoverflow.com/users/7680664/%d0%9a%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a1%d1%82%d0%b0%d1%82%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1179, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489059656, "creation_date": 1489005668, "question_id": 42681535, "link": "https://stackoverflow.com/questions/42681535/typeerror-unsupported-operand-types-for-bytes-and-int", "title": "TypeError: unsupported operand type(s) for -=: &#39;bytes&#39; and &#39;int&#39;", "body": "<p>i need to subtract 481310 from the variable data but i get this error.\nTypeError: unsupported operand type(s) for -=: 'bytes' and 'int'\nIt's in python.\nI want to subtract 481310 from the variable because it should be 0 but for some reason it's 481310 if someone know other way to fix it let me know!</p>\n\n<pre><code>   import serial\n    import serial.tools.list_ports\n    import sys\n\n    if sys.platform.startswith('win'):\n            ports = ['COM%s' % (i + 1) for i in range(256)]\n    result = []\n    for port in ports:\n           try:\n               s = serial.Serial(port)\n               s.close()\n               result.append(port)\n           except (OSError, serial.SerialException):\n               pass\n    #print result[1]\n    #ports = list(serial.tools.list_ports.comports())\n    #print ports[1]\n    arduino = serial.Serial(result[1], 9600)\n\n    try:\n        while True:\n            data = arduino.readline()\n            data -= 481310\n            if data:\n                #print data\n                datalist = list(data)\n                #print len(datalist)\n                #print datalist\n                str1 = ''.join([str(i) for i in datalist])\n                #print str1\n                f = open('data.txt', 'a')\n                f.write(str1+ '\\n')\n                f.close()\n\n    except (KeyboardInterrupt, SystemExit):\n            arduino.close()\n            quit\n</code></pre>\n"}, {"tags": ["python", "tcl", "chess"], "comments": [{"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 2, "creation_date": 1489014635, "post_id": 42681422, "comment_id": 72491419, "body": "Answering your actual questions in order: \u201cNo idea. You can ask, but it helps if the questions are good ones. No idea. No idea, depends on if you can sell it to customers. No idea, try it and find out.\u201d You might like to revise your question to be something that people can answer more\u2026 <i>technically\u2026</i>"}, {"owner": {"reputation": 610, "user_id": 4748017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe182b89b0f97849fabb1e45baa143f?s=128&d=identicon&r=PG&f=1", "display_name": "Herb", "link": "https://stackoverflow.com/users/4748017/herb"}, "edited": false, "score": 0, "creation_date": 1489115436, "post_id": 42681422, "comment_id": 72540609, "body": "What do you mean by you don&#39;t want the engine to play on it&#39;s own? Are you saying  you want a positional score, without calculating variations? If so, your score may not be accurate, as a player may have a positional advantage, but be at a tactical disadvantage, which can only be found by analyzing variations."}], "answers": [{"tags": [], "owner": {"reputation": 7039, "user_id": 2251840, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/O3LmV.png?s=128&g=1", "display_name": "SmallChess", "link": "https://stackoverflow.com/users/2251840/smallchess"}, "is_accepted": false, "score": 1, "last_activity_date": 1489116149, "creation_date": 1489116149, "answer_id": 42709608, "question_id": 42681422, "link": "https://stackoverflow.com/questions/42681422/scid-analysis-only-give-scores-for-each-move-rather-than-advancing-to-depth/42709608#42709608", "title": "SCID Analysis - Only give scores for each move rather than advancing to depth", "body": "<p>Chess-artist can do everything what your're looking for:</p>\n\n<p><a href=\"https://github.com/student-t/chess-artist\" rel=\"nofollow noreferrer\">https://github.com/student-t/chess-artist</a></p>\n\n<p>SCID is not efficient at doing what you want. Not only it's very hard to modify the source code (it's open-source, but it's hard to compile), it's slow and the quality is questionable. You should consider something like Chess-artist where you can modify the code, for instance, multi-core analysis.</p>\n"}], "owner": {"reputation": 43, "user_id": 6884255, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/24233bcee240b95d8be8af8b055b5e4b?s=128&d=identicon&r=PG&f=1", "display_name": "Baahubali", "link": "https://stackoverflow.com/users/6884255/baahubali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "closed_date": 1562613715, "answer_count": 1, "score": -1, "last_activity_date": 1502660193, "creation_date": 1489005293, "last_edit_date": 1502660193, "question_id": 42681422, "link": "https://stackoverflow.com/questions/42681422/scid-analysis-only-give-scores-for-each-move-rather-than-advancing-to-depth", "closed_reason": "Needs more focus", "title": "SCID Analysis - Only give scores for each move rather than advancing to depth", "body": "<p>folks! We are working on using Machine Learning to suggest next best moves. We have planned to use the a part of SCID 1.2 million games database, annotations by the Stockfish engine and the result of computer vs computer as the training for our algorithm. I was trying to automate annotating all the games one by one and collecting them in a folder. The analysis and annotation, I believe, gives us the relative score of the position of white. The analysis engine searches to a certain depth and then return us the calculated score. Since we've to process thousands of games, I want each game to be completed under a certain time. Actually game completion is not that important, annotation of each moves played by top players are. I read scid help guide and it really helped me getting started to all. Actually what I want to do is run annotation only for certain depth. I want the engine to provide me a score for every move played. What now the engine is doing is that it is starts analyzing the first move and goes to a certain depth, then calculates the score and plays the next move by black itself and then does the same work till one side (computer vs computer wins the game) and then does this for the next move (played by the actual players) I dont want the engine to play on its own. Can't the engine just provide me the score for each move played in the current game only?</p>\n\n<p>May I ask you people for an opinion? Have you any idea on this if something like this is already developed? Are we too far from developing something new and innovative? Just few words by your side would be enough.</p>\n\n<p>And one thing more, as suggested by you we are using scripts (AutoIt) to automate some UI interaction. What we are finding a way to do is read the text from a window in SCID ie like in Tree Window we want to fetch out the text (move and its frequency). Will TCL scripting do this more efficiently? </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 5404575, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1676803405924739/picture?type=large", "display_name": "Jan Klaas", "link": "https://stackoverflow.com/users/5404575/jan-klaas"}, "edited": false, "score": 0, "creation_date": 1489005952, "post_id": 42681484, "comment_id": 72487233, "body": "Thanks for your answer. This question also came in class and I remember  simpler answer, something with .str.isin. Could that also be used?"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "reply_to_user": {"reputation": 269, "user_id": 5404575, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1676803405924739/picture?type=large", "display_name": "Jan Klaas", "link": "https://stackoverflow.com/users/5404575/jan-klaas"}, "edited": false, "score": 1, "creation_date": 1489005977, "post_id": 42681484, "comment_id": 72487244, "body": "@JanKlaas Not with a column of lists."}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1489006082, "post_id": 42681484, "comment_id": 72487300, "body": "You can use <code>isin</code> if you have a normal column and want to check if the items in the column is in another list."}, {"owner": {"reputation": 471, "user_id": 6256904, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/757717ff6e9e137091ac4071ff4186c1?s=128&d=identicon&r=PG&f=1", "display_name": "qqqwww", "link": "https://stackoverflow.com/users/6256904/qqqwww"}, "edited": false, "score": 0, "creation_date": 1529947969, "post_id": 42681484, "comment_id": 89050335, "body": "what if I have a list and I want to check if any of item from the list in the string?"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": false, "score": 8, "last_activity_date": 1489005533, "creation_date": 1489005533, "answer_id": 42681484, "question_id": 42681415, "link": "https://stackoverflow.com/questions/42681415/check-whether-a-string-is-contained-in-a-element-list-in-pandas/42681484#42681484", "title": "Check whether a string is contained in a element (list) in Pandas", "body": "<p>You need <code>apply</code> in this case, use the normal <code>in</code> operator to check if list contains <code>eduard</code>:</p>\n\n<pre><code>df[df.friends.apply(lambda x: 'eduard' in x)]\n</code></pre>\n\n<p><em>Example</em>:</p>\n\n<pre><code>df = pd.DataFrame({\"friends\": [['erik', 'jason', 'eduard'], ['erik', 'jason']]})\n\ndf[df.friends.apply(lambda x: 'eduard' in x)]\n#                 friends\n#0  [erik, jason, eduard]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1489008264, "creation_date": 1489008264, "answer_id": 42682165, "question_id": 42681415, "link": "https://stackoverflow.com/questions/42681415/check-whether-a-string-is-contained-in-a-element-list-in-pandas/42682165#42682165", "title": "Check whether a string is contained in a element (list) in Pandas", "body": "<p>you can use sets intersection:</p>\n\n<pre><code>In [66]: df\nOut[66]:\n                 friends\n0  [erik, jason, eduard]\n1            [anna, max]\n2       [eduard, natali]\n\nIn [67]: df[df.friends.map(set) &amp; {'anna','natali'}]\nOut[67]:\n            friends\n1       [anna, max]\n2  [eduard, natali]\n</code></pre>\n"}], "owner": {"reputation": 269, "user_id": 5404575, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1676803405924739/picture?type=large", "display_name": "Jan Klaas", "link": "https://stackoverflow.com/users/5404575/jan-klaas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3590, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1489008264, "creation_date": 1489005268, "question_id": 42681415, "link": "https://stackoverflow.com/questions/42681415/check-whether-a-string-is-contained-in-a-element-list-in-pandas", "title": "Check whether a string is contained in a element (list) in Pandas", "body": "<p>I've got a pandas dataframe with the column 'Friends'. All elements in the column friends are list object. Example of a row in the column 'friends': </p>\n\n<pre><code>['erik', 'jason', 'eduard']\n</code></pre>\n\n<p>I want to return a dataframe in which I check whether eduard is the list. This is my example code:</p>\n\n<pre><code>df[df.friends.isin(['eduard'])\n</code></pre>\n\n<p>Help a cat out please</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1489006121, "post_id": 42681409, "comment_id": 72487321, "body": "Can you let us have the URL for this page?"}], "answers": [{"tags": [], "owner": {"reputation": 1880, "user_id": 3126085, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3d1b5320d5edffe38958e8ca1129ab32?s=128&d=identicon&r=PG&f=1", "display_name": "crookedleaf", "link": "https://stackoverflow.com/users/3126085/crookedleaf"}, "is_accepted": false, "score": 2, "last_activity_date": 1489005686, "creation_date": 1489005686, "answer_id": 42681540, "question_id": 42681409, "link": "https://stackoverflow.com/questions/42681409/selenium-python-looping-through-the-tr-and-check-i-the-td-value-is-not-15-or-1/42681540#42681540", "title": "Selenium python - looping through the tr and check i the td value is not 15 or 16", "body": "<p>Please include the actual HTML code, and not an image of the code.</p>\n\n<p>What you are trying to do can be accomplished by finding the rows, then finding the columns, then checking the 4th column in the array. I can't see the <code>&lt;table&gt;</code> element, so you'll have to figure out how to define that yourself.</p>\n\n<pre><code>table = driver.find_element_by_whatever-method-you-use(...)\nrows = table.find_elements_by_tag_name('tr')\nfor row in rows:\n    cols = row.find_elements_by_tag_name('td')\n    if cols[3].text == '15' or cols[3].text == '16':\n        # do whatever\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "is_accepted": true, "score": 1, "last_activity_date": 1489008151, "creation_date": 1489008151, "answer_id": 42682149, "question_id": 42681409, "link": "https://stackoverflow.com/questions/42681409/selenium-python-looping-through-the-tr-and-check-i-the-td-value-is-not-15-or-1/42682149#42682149", "title": "Selenium python - looping through the tr and check i the td value is not 15 or 16", "body": "<p>I've tried to approximate the content of that page with this. Notice that the rows are the same except that I've made the fourth columns distinct.</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;table&gt;\n&lt;tbody&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-1 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-2 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-3 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-4 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-5 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-6 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-7 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;237229877&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;1.&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;10-8 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Church &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;Corporation &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;BELFAST &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;IRELAND &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;. &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;00000-0000 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;03 &lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;&lt;/td&gt;\n        &lt;td class=\"Data1\"&gt;98 &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can recover the fourth columns using code like this.</p>\n\n<pre><code>&gt;&gt;&gt; from selenium import webdriver\n&gt;&gt;&gt; driver = webdriver.Chrome()\n&gt;&gt;&gt; driver.get('file://c:/scratch/temp.htm')\n&gt;&gt;&gt; row = 1\n&gt;&gt;&gt; while True:\n...     try:\n...         td = driver.find_element_by_xpath('//tr[%s]/td[4]'%row)\n...         td.text\n...         row+=1\n...     except:\n...         break\n... \n'10-1'\n'10-2'\n'10-3'\n'10-4'\n'10-5'\n'10-6'\n'10-7'\n'10-8'\n</code></pre>\n"}], "owner": {"reputation": 241, "user_id": 7242550, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d0936065a78b7a5aea451ce84ba2c833?s=128&d=identicon&r=PG&f=1", "display_name": "user7242550", "link": "https://stackoverflow.com/users/7242550/user7242550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 42682149, "answer_count": 2, "score": 0, "last_activity_date": 1489008151, "creation_date": 1489005241, "question_id": 42681409, "link": "https://stackoverflow.com/questions/42681409/selenium-python-looping-through-the-tr-and-check-i-the-td-value-is-not-15-or-1", "title": "Selenium python - looping through the tr and check i the td value is not 15 or 16", "body": "<p>I am trying to go through every tr and check the 4th td in every tr to check that the value of that td is not 15 or 16</p>\n\n<p>This is how the HTML page looks like <a href=\"https://i.stack.imgur.com/fJPFz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJPFz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>and this is how the html code looks like</p>\n\n<p><a href=\"https://i.stack.imgur.com/5Fzbl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Fzbl.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Not sure how to approach this. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 0, "creation_date": 1489005502, "post_id": 42681370, "comment_id": 72487020, "body": "Put each action into a function and use an <code>input</code> and an <code>if</code> statement to run one?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007010, "post_id": 42681644, "comment_id": 72487804, "body": "Doesn&#39;t work I have pasted the code like this, please see the below of how I pasted it. It says invalid syntax"}, {"owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "reply_to_user": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007127, "post_id": 42681644, "comment_id": 72487861, "body": "Are you using python 3?"}, {"owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007188, "post_id": 42681644, "comment_id": 72487888, "body": "Python 3.6 32 bit"}, {"owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "reply_to_user": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007227, "post_id": 42681644, "comment_id": 72487910, "body": "Can you try now."}, {"owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007471, "post_id": 42681644, "comment_id": 72488047, "body": "Still doesn&#39;t work, I will send the screenshot of exactly what&#39;s happening, please see below"}, {"owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "reply_to_user": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489007823, "post_id": 42681644, "comment_id": 72488231, "body": "Your code is not indented properly, I am pasting the full code here. Copy paste the and make sure the indentation is correct."}, {"owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489009467, "post_id": 42681644, "comment_id": 72489076, "body": "Whenever I press 1 or 2 it doesn&#39;t run the correct for loop, it just runs the very last else statment"}, {"owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "reply_to_user": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489040169, "post_id": 42681644, "comment_id": 72499117, "body": "That&#39;s because the input is taken as string, you have to convert it to int."}, {"owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "reply_to_user": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489081581, "post_id": 42681644, "comment_id": 72526201, "body": "Basically change <code>input(&quot;Select 1 or 2&quot;)</code> to <code>int(input(&quot;Select 1 or 2&quot;))</code>"}], "tags": [], "owner": {"reputation": 2748, "user_id": 1754982, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/evrdC.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/1754982/shubham"}, "is_accepted": true, "score": 0, "last_activity_date": 1489007984, "last_edit_date": 1489007984, "creation_date": 1489006078, "answer_id": 42681644, "question_id": 42681370, "link": "https://stackoverflow.com/questions/42681370/put-the-code-in-menu/42681644#42681644", "title": "Put the code in menu", "body": "<p>Code for what you intend to do can go something like this:</p>\n\n<pre><code>print (\"Choose:\")\nprint (\"1. Validate GTIN Code\")\nprint (\"2. Find 8 digit of GTIN code\")\n\nuser_input = input(\"Select 1 or 2\")\n\nif user_input == 1:\n    # execute validate GTIN code\nelif user_input == 2:\n    # execute find 8 digit gtin code\nelse: \n    print (\"please enter a valid option\")\n</code></pre>\n\n<p>Hope it helps. </p>\n\n<p>Edit: \npasting the whole code here</p>\n\n<pre><code>print(\"Choose:\")\nprint(\"1. Validate GTIN Code\")\nprint(\"2. Find 8 digit of GTIN code\")\nsum = 0\ncounter = 0\nuser_input = input(\"Select 1 or 2\")\n\nif user_input == 1:\n    gtin = input(\"Enter your 7 digit number\")\n    for i in gtin:\n        counter = counter + 1\n        if counter % 2 != 0:\n            sum = sum + int(i) * 3\n        else:\n            sum = sum + int(i) * 1\n\n    number = (sum + 9) // 10 * 10\n    lastdigit = number - sum\n    print(\"8th digit \", lastdigit)\n\n    print(\"Full 7 digit number \", gtin)\n    print(\"Full 8 digit number \", str(gtin+str(lastdigit)) )\n\n\n\nelif user_input == 2:\n    barcode = input(\"Please enter 8 digit barcode to validate\")   \n    for i in gtin:\n        counter = counter + 1\n        if counter % 2 != 0:\n            sum = sum + int(i) * 3\n        else:\n            sum = sum + int(i) * 1\n\n    if  sum % 10 == 0:\n        print(\"Valid GTIN\")\n    else:\n        print(\"Invalid GTIN\")    \nelse: \n   print \"please enter a valid option\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "edited": false, "score": 0, "creation_date": 1489009566, "post_id": 42681898, "comment_id": 72489138, "body": "I am afraid it still doesn&#39;t work, it says unexpected index"}], "tags": [], "owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "is_accepted": false, "score": 0, "last_activity_date": 1489008366, "last_edit_date": 1489008366, "creation_date": 1489007059, "answer_id": 42681898, "question_id": 42681370, "link": "https://stackoverflow.com/questions/42681370/put-the-code-in-menu/42681898#42681898", "title": "Put the code in menu", "body": "<p><a href=\"https://i.stack.imgur.com/LgjO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LgjO3.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> print(\"Choose:\")\n    print(\"1. Validate GTIN Code\")\n    print(\"2. Find 8 digit of GTIN code\")\n    sum = 0\n    counter = 0\n    user_input = input(\"Select 1 or 2\")\n\n    if user_input == 1:\n        gtin = input(\"Enter your 7 digit number\")\n    for i in gtin:\n        counter = counter + 1\n        if counter % 2 != 0:\n            sum = sum + int(i) * 3\n        else:\n            sum = sum + int(i) * 1\n\n    number = (sum + 9) // 10 * 10\n    lastdigit = number - sum\n    print(\"8th digit \", lastdigit)\n\n    print(\"Full 7 digit number \", gtin)\n    print(\"Full 8 digit number \", str(gtin+str(lastdigit)) )\n\n    elif user_input == 2:\n        barcode = input(\"Please enter 8 digit barcode to validate\")   \n    for i in gtin:\n        counter = counter + 1\n        if counter % 2 != 0:\n            sum = sum + int(i) * 3\n        else:\n            sum = sum + int(i) * 1\n\n    if  sum % 10 == 0:\n        print(\"Valid GTIN\")\n    else:\n        print(\"Invalid GTIN\")    \n    else: \n        print \"please enter a valid option\"\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7673862, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/55fce77ecaf7727f27c20dc904774ec7?s=128&d=identicon&r=PG&f=1", "display_name": "The Awsome", "link": "https://stackoverflow.com/users/7673862/the-awsome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 42681644, "answer_count": 2, "score": -1, "last_activity_date": 1489008366, "creation_date": 1489005093, "question_id": 42681370, "link": "https://stackoverflow.com/questions/42681370/put-the-code-in-menu", "title": "Put the code in menu", "body": "<p>So I need to write a program which gives the user two options: A) Validate GTIN code or B) Find 8 digit of a GTIN code from a 7 GTIN code. I have got the code however the only problem with it is that is does not ask the user for options like A) Would you like to find out 8th digit or B)Would you like to validate code\nWhenever the user selects his or her option it should execute the for loop just for that option instead of the whole code. If anyone knows how to put this into a menu please do show me, thanks.</p>\n\n<pre><code>gtin = input(\"Enter your 7 digit number\")\nsum = 0\ncounter = 0\nfor i in gtin:\n    counter = counter + 1\n    if counter % 2 != 0:\n        sum = sum + int(i) * 3\n    else:\n        sum = sum + int(i) * 1\n\nnumber = (sum + 9) // 10 * 10\nlastdigit = number - sum\nprint(\"8th digit \", lastdigit)\n\nprint(\"Full 7 digit number \", gtin)\nprint(\"Full 8 digit number \", str(gtin+str(lastdigit)) )\n\n\nbarcode = input(\"Please enter 8 digit barcode to validate\")   \nfor i in gtin:\n    counter = counter + 1\n    if counter % 2 != 0:\n        sum = sum + int(i) * 3\n    else:\n        sum = sum + int(i) * 1\n\nif  sum % 10 == 0:\n    print(\"Valid GTIN\")\nelse:\n    print(\"Invalid GTIN\")  \n</code></pre>\n"}, {"tags": ["python", "python-import"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 4139253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b8c469990ba77703550f56a8c97b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4139253/prasanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012201, "creation_date": 1489012201, "answer_id": 42683143, "question_id": 42681336, "link": "https://stackoverflow.com/questions/42681336/pep302-implemention-details-needed/42683143#42683143", "title": "PEP302 implemention details needed", "body": "<p>After a bunch of looking at various examples and documentation, I have a partial answer.</p>\n\n<p>In the code above I noticed that I was not setting <code>module.__package__</code>. Somewhere in the import process, that resulted in an entry of <code>foo.__package__ = 'foo'</code> being set in the module definition. This resulted in foo being considered a package and any imports it made being considered imports relative to the package directory.</p>\n\n<p>When running against imports where I was not doing the module setup, I saw that the <code>module.__package__</code> was set to None by the system. But setting <code>module.__package__ = None</code> in the code above did not work. Something reset it to foo.</p>\n\n<p>The solution that worked was to set <code>module.__package__ = ''</code> (the null string). So the working piece of the code for adding the module is:</p>\n\n<pre><code>module = sys.modules.setdefault(name, imp.new_module(name))\nmodule.__file__ = filename\nmodule.__path__ = [os.path.dirname(os.path.abspath(file.name))]\nmodule.__loader__ = self\nmodule.__package__ = ''\nsys.modules[name] = module\nexec(src, module.__dict__)\n</code></pre>\n\n<p>This is working now, and the modules foo and bar get imported only once. Behavior of the encrypted and nonencrypted modules looks similar. </p>\n\n<p>I still do not understand where the <code>module.__package__</code> gets set if it is not explicitly set to <code>''</code>.</p>\n"}], "owner": {"reputation": 191, "user_id": 4139253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b8c469990ba77703550f56a8c97b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4139253/prasanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1489012201, "creation_date": 1489004972, "question_id": 42681336, "link": "https://stackoverflow.com/questions/42681336/pep302-implemention-details-needed", "title": "PEP302 implemention details needed", "body": "<p>I am attempting to use PEP302 based import hooks to catch the importing of modules so I can have some encrypted .py files that would get loaded at run time. I am following the template on python obfuscation at <a href=\"https://github.com/citrusbyte/python-obfuscation\" rel=\"noreferrer\">https://github.com/citrusbyte/python-obfuscation</a>. </p>\n\n<p>The basic idea is simple: intercept the import command using a Finder() function inserted into sys.meta_path that catches an import directive. The Finder checks if the module is one we want to handle ourselves and if so, returns a custom Loader object. Otherwise it ignores the import. The custom loader creates an entry in sys.modules and reads in the python module source and add it to the newly created module using exec as defined in the PEP302 documentation.</p>\n\n<p>This works mostly fine, but I have one specific situation that I cannot figure out. Assume 3 files, main, foo, and bar. main sets up the import hook then imports foo, and bar. foo itself imports bar. So the situation is:</p>\n\n<pre><code>main:\n  set_import_hook\n  import foo\n  import bar\nfoo:\n  import bar\nbar:\n  &lt;irrelevant&gt;\n</code></pre>\n\n<p>I have debug statements in the Finder function set as the hook to see what it is being passed.</p>\n\n<p>When I have unencrypted code (i.e., code that I do not process and add to sys.modules myself, the printouts show the following behavior:</p>\n\n<pre><code>Finder (foo)\nFinder (bar) called from inside foo when foo itself is loaded\nFinder (bar) called from main after returning from the import foo\n</code></pre>\n\n<p>When I process and load the foo and bar files myself, here is the behavior:</p>\n\n<pre><code>Finder (foo)\nFinder (foo.bar) tries to load bar in the context of foo\nFinder (bar) called from main after returning from import foo\n</code></pre>\n\n<p>This causes two versions of bar to exist in sys.modules. If you look at sys.modules.keys() in the two cases, in the first case it only shows foo and bar. In the second case it shows foo, foo.bar, and bar.</p>\n\n<p>I don't understand this behavior. The process of creating the module is as described in the PEP 302 document. This is what I use:</p>\n\n<pre><code>    module = sys.modules.setdefault(name, imp.new_module(name))\n    module.__file__ = filename\n    module.__path__ = [os.path.dirname(os.path.abspath(file.name))]\n    module.__loader__ = self\n    sys.modules[name] = module\n    exec(src, module.__dict__)\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "flask", "cors"], "answers": [{"comments": [{"owner": {"reputation": 793, "user_id": 8044579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yH2vnq9M1WM/AAAAAAAAAAI/AAAAAAAAAh0/WCUqKzwOvls/photo.jpg?sz=128", "display_name": "Vipluv", "link": "https://stackoverflow.com/users/8044579/vipluv"}, "edited": false, "score": 0, "creation_date": 1586265833, "post_id": 44572672, "comment_id": 108060644, "body": "i was allowing Access-Control-Allow-Origin by doing the following  <code>response.headers[&quot;Access-Control-Allow-Origin&quot;] = request.environ.get(&#39;HTTP_ORIGIN&#39;)</code>, however, in some browsers are not sending the origin header at all. Do i need to then check first &#39;origin&#39; if it exists and if not then &#39;referrer&#39; or will referrer always be there?"}], "tags": [], "owner": {"reputation": 3618, "user_id": 999516, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8bd9425c01ac16523dfbe295007c2f09?s=128&d=identicon&r=PG&f=1", "display_name": "TMichel", "link": "https://stackoverflow.com/users/999516/tmichel"}, "is_accepted": false, "score": 7, "last_activity_date": 1497544478, "creation_date": 1497544478, "answer_id": 44572672, "question_id": 42681311, "link": "https://stackoverflow.com/questions/42681311/flask-access-control-allow-origin-for-multiple-urls/44572672#44572672", "title": "Flask Access-Control-Allow-Origin for multiple URLs", "body": "<p>This is typical scenario when working locally with multiple instances of the same frontend project accessing together to a local Flask server, and when the wildcard \"*\" is not allowed because you are allowing credentials (i.e. using a JWT authentication).</p>\n\n<p>My approach - in development - is to use the <a href=\"http://flask.pocoo.org/docs/0.12/api/#flask.Flask.after_request\" rel=\"noreferrer\">after_request</a> decorator and Flask's request context.</p>\n\n<p>Create a domain whitelist:</p>\n\n<pre><code>white = ['http://localhost:8080','http://localhost:9000']\n</code></pre>\n\n<p>Now use the <code>after_request</code> decorator to intercept all incoming requests, check if the referrer is in your whitelist and, if it is, inject the <code>response.headers</code> to allow access to the origin. For example:</p>\n\n<pre><code>from flask import request\n\n@app.after_request\ndef add_cors_headers(response):\n    r = request.referrer[:-1]\n    if r in white:\n        response.headers.add('Access-Control-Allow-Origin', r)\n        response.headers.add('Access-Control-Allow-Credentials', 'true')\n        response.headers.add('Access-Control-Allow-Headers', 'Content-Type')\n        response.headers.add('Access-Control-Allow-Headers', 'Cache-Control')\n        response.headers.add('Access-Control-Allow-Headers', 'X-Requested-With')\n        response.headers.add('Access-Control-Allow-Headers', 'Authorization')\n        response.headers.add('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, DELETE')\n    return response\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 7866170, "user_type": "registered", "profile_image": "https://graph.facebook.com/1261528140629582/picture?type=large", "display_name": "Dondon Jie", "link": "https://stackoverflow.com/users/7866170/dondon-jie"}, "is_accepted": false, "score": 1, "last_activity_date": 1548211371, "creation_date": 1548211371, "answer_id": 54319315, "question_id": 42681311, "link": "https://stackoverflow.com/questions/42681311/flask-access-control-allow-origin-for-multiple-urls/54319315#54319315", "title": "Flask Access-Control-Allow-Origin for multiple URLs", "body": "<p>Simple example,try it!<br>\nI hope it will help you.\nYou need to edit white_origin for 'Access-Control-Allow-Origin'.</p>\n\n<p>app_name.py  (Python file of Flask )</p>\n\n<pre><code>from flask import request\n\n@app.after_request\ndef after_request(response):\n    white_origin= ['http://www.dom.com:8000','http://localhost']\n    if request.headers['Origin'] in white_origin:\n        response.headers['Access-Control-Allow-Origin'] = request.headers['Origin'] \n        response.headers['Access-Control-Allow-Methods'] = 'PUT,GET,POST,DELETE'\n        response.headers['Access-Control-Allow-Headers'] = 'Content-Type,Authorization'\n    return response\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3292080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/762bf12a3e3c3500cb211df4ce5e518d?s=128&d=identicon&r=PG", "display_name": "oggo", "link": "https://stackoverflow.com/users/3292080/oggo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6164, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1548211371, "creation_date": 1489004880, "last_edit_date": 1489005779, "question_id": 42681311, "link": "https://stackoverflow.com/questions/42681311/flask-access-control-allow-origin-for-multiple-urls", "title": "Flask Access-Control-Allow-Origin for multiple URLs", "body": "<p>I have an API written in python/flask and I want to allow only a couple URLs to access this API. The JavaScript call is trivial jQuery, like: </p>\n\n<pre><code>    $.ajax({\n     url: \"http://myApi.com/api/doit\",  \n     dataType:'JSON',\n     success:function(data){\n       console.log(\"DEBUG: yeeeeaaaahhh!\");\n     },\n     error:function(xhr){\n       console.log(\"Error occured! status: \" + xhr.status + \", text: \" + xhr.statusText);\n     }\n  });\n</code></pre>\n\n<p>Most of the solutions mainly here are pretty disappointing always offering to set <code>Access-Control-Allow-Origin : '*'</code> or to start chrome disabling the check. Of course it works, but this is not the purpose. \nThe spec on <a href=\"https://www.w3.org/TR/cors/\" rel=\"nofollow noreferrer\">w3</a> says a semicolon separated list should work, but it doesn't. Also comma separated list failed. \nFrom flask itself there is <a href=\"http://flask.pocoo.org/snippets/56/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/snippets/56/</a> but it does not work with multiple URLs. In the comments there is a suggestion: <code>h.extend([(\"Access-Control-Allow-Origin\", orig) for orig in origin])</code> but it still does not work.</p>\n\n<p>The only solution I have is to check in code the origin and in case it is in my white list to put in the header <code>Access-Control-Allow-Origin : '*'</code>. This is a workaround but I don't like it that much. Can you suggest a more elegant solution?</p>\n"}, {"tags": ["python", "loops"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7680550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a3650535a24637a2fdf955db1cde65?s=128&d=identicon&r=PG&f=1", "display_name": "Coderflo", "link": "https://stackoverflow.com/users/7680550/coderflo"}, "edited": false, "score": 0, "creation_date": 1489174389, "post_id": 42681398, "comment_id": 72572231, "body": "I made all the suggested changes by everyone. Now how about if I want to check for the index of the unmatched open bracket after my loop runs. Ie the in ()([] i want to print the index of the third bracket &#39;[&#39; because it&#39;s unmatched, how might I achieve this?"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1489005208, "creation_date": 1489005208, "answer_id": 42681398, "question_id": 42681287, "link": "https://stackoverflow.com/questions/42681287/checking-multiple-for-items-in-a-for-loop-python/42681398#42681398", "title": "Checking multiple for items in a for loop python", "body": "<p>if you <code>return</code> as soon as something is OK, you won't find the errors further in the string... that's exactly what you're doing in 3 places:</p>\n\n<pre><code>if a =='(' and next==')':\n    print(\"its matched parenthesis\")\n    return True  # let it continue to check the string.\n</code></pre>\n\n<p>Add a <code>return True</code> at the end of your method: if the loop goes through, then string is OK (actually it's already OK in your current code)</p>\n\n<p>Aside:</p>\n\n<ul>\n<li>don't use <code>next</code> for your variable, as it's built-in to get a value from an iterable. I'll use <code>c</code></li>\n<li><code>if next=='(' or next=='{' or next=='[':</code> could be replaced by <code>if c in \"({[\":</code></li>\n<li><code>for i, next in enumerate (text):</code> you're not using the index, just do <code>for c in text:</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7680550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a3650535a24637a2fdf955db1cde65?s=128&d=identicon&r=PG&f=1", "display_name": "Coderflo", "link": "https://stackoverflow.com/users/7680550/coderflo"}, "edited": false, "score": 0, "creation_date": 1489006284, "post_id": 42681404, "comment_id": 72487416, "body": "Thanks Christopher. In the back of my head, I knew it must have been a silly mistake somewhere. It worked and now I just have to twig it a bit more."}], "tags": [], "owner": {"reputation": 4811, "user_id": 2874789, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/VKbXD.jpg?s=128&g=1", "display_name": "Christopher Shroba", "link": "https://stackoverflow.com/users/2874789/christopher-shroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1489005214, "creation_date": 1489005214, "answer_id": 42681404, "question_id": 42681287, "link": "https://stackoverflow.com/questions/42681287/checking-multiple-for-items-in-a-for-loop-python/42681404#42681404", "title": "Checking multiple for items in a for loop python", "body": "<p>Simply remove your <code>return True</code> statements, since those cause the entire method to return True, before checking the rest of the string.  The only time you know you can return True is once you've processed the entire string, so the only <code>return True</code> should be after your for loop finishes.</p>\n\n<pre><code>def isbalanced(text):\n    openingbracket=[]\n    for i, next in enumerate (text):\n        if next=='(' or next=='{' or next=='[':\n            openingbracket.append(next)\n        if next==')' or next=='}' or next==']':\n            if len(openingbracket)==0:\n                print(\"ops only opening brackets\")\n                return False\n            else:\n                a=openingbracket.pop()\n                if a =='(' and next==')':\n                    print(\"its matched parenthesis\")\n                    return True                     # REMOVE THIS LINE\n                if a =='{' and next=='}':\n                    print(\"its matched curly brackets\")\n                    return True                     # REMOVE THIS LINE\n                if a =='[' and next==']':\n                    print(\"its matched square\")\n                    return True                     # REMOVE THIS LINE\n                else:\n                    print(\"wrong closing brackets\")\n                    return False\n    if len(openingbracket):\n        print (\"no closing brackets\")\n        return False\n    else:\n        print(\"no brackets\")\n        return True\nisbalanced(\"Hello()(]\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7680550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a3650535a24637a2fdf955db1cde65?s=128&d=identicon&r=PG&f=1", "display_name": "Coderflo", "link": "https://stackoverflow.com/users/7680550/coderflo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 42681404, "answer_count": 2, "score": 0, "last_activity_date": 1489005214, "creation_date": 1489004821, "last_edit_date": 1489004960, "question_id": 42681287, "link": "https://stackoverflow.com/questions/42681287/checking-multiple-for-items-in-a-for-loop-python", "title": "Checking multiple for items in a for loop python", "body": "<p>I've written a code to tell the user that the their brackets are not balanced.</p>\n\n<p>I can exactly tell where my code is going wrong.</p>\n\n<p>Once it comes across the first situation of brackets, it does not continue to look for the wrong ones or other right ones (I think).</p>\n\n<p>I want to keep it simple but long (ie no fancy shortcuts for now)</p>\n\n<p>Here's my code</p>\n\n<pre><code>def isbalanced(text):\n    openingbracket=[]\n    for i, next in enumerate (text):\n        if next=='(' or next=='{' or next=='[':\n            openingbracket.append(next)\n        if next==')' or next=='}' or next==']':\n            if len(openingbracket)==0:\n                print(\"ops only opening brackets\")\n                return False\n            else:\n                a=openingbracket.pop()\n                if a =='(' and next==')':\n                    print(\"its matched parenthesis\")\n                    return True\n                if a =='{' and next=='}':\n                    print(\"its matched curly brackets\")\n                    return True\n                if a =='[' and next==']':\n                    print(\"its matched square\")\n                    return True\n                else:\n                    print(\"wrong closing brackets\")\n                    return False\n    if len(openingbracket):\n        print (\"no closing brackets\")\n        return False\n    else:\n        print(\"no brackets\")\n        return True\nisbalanced(\"Hello()(]\")\n</code></pre>\n"}, {"tags": ["python", "bash", "shell", "find", "cut"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489004815, "post_id": 42681248, "comment_id": 72486659, "body": "choose your weapon: bash or python."}, {"owner": {"reputation": 349, "user_id": 5001308, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/de1c91521eda30dbc39a364c207a4620?s=128&d=identicon&r=PG&f=1", "display_name": "Rczone", "link": "https://stackoverflow.com/users/5001308/rczone"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1489005906, "post_id": 42681248, "comment_id": 72487212, "body": "anything is fine @Jean-Fran&#231;oisFabre"}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 5001308, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/de1c91521eda30dbc39a364c207a4620?s=128&d=identicon&r=PG&f=1", "display_name": "Rczone", "link": "https://stackoverflow.com/users/5001308/rczone"}, "edited": false, "score": 0, "creation_date": 1489009577, "post_id": 42681703, "comment_id": 72489147, "body": "Thanks a ton @Socowi"}], "tags": [], "owner": {"reputation": 16538, "user_id": 6770384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kXCNG.png?s=128&g=1", "display_name": "Socowi", "link": "https://stackoverflow.com/users/6770384/socowi"}, "is_accepted": true, "score": 1, "last_activity_date": 1489006716, "last_edit_date": 1489006716, "creation_date": 1489006328, "answer_id": 42681703, "question_id": 42681248, "link": "https://stackoverflow.com/questions/42681248/unzip-a-file-and-copy-the-contents-to-different-folder-based-on-condition/42681703#42681703", "title": "Unzip a file and copy the contents to different folder based on condition", "body": "<p>In case the zip is always structured the same:</p>\n\n<pre><code>#! /bin/bash\nshopt -s nullglob\nfilename=\"$1\"\nunzip \"$filename\"\ncp \"$(dirname \"$filename\")\"/temp/usr/data/keanu/*.pdf /desti1/\ncp \"$(dirname \"$filename\")\"/temp/usr/data/reaves/*.pdf /desti2/\n</code></pre>\n\n<p>In case the structure changes and you only know that there are directories <code>keanu/</code> and <code>reaves/</code> somewhere:</p>\n\n<pre><code>#! /bin/bash\nshopt -s nullglob globstar\nfilename=\"$1\"\nunzip \"$filename\"\ncp \"$(dirname \"$filename\")\"/**/keanu/*.pdf /desti1/\ncp \"$(dirname \"$filename\")\"/**/reaves/*.pdf /desti2/\n</code></pre>\n\n<p>Both scripts do what you specified but not more than that. The unzipped files are copied over, that is, the original unzipped files will still lay around after the script terminates. </p>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1489006537, "creation_date": 1489006537, "answer_id": 42681765, "question_id": 42681248, "link": "https://stackoverflow.com/questions/42681248/unzip-a-file-and-copy-the-contents-to-different-folder-based-on-condition/42681765#42681765", "title": "Unzip a file and copy the contents to different folder based on condition", "body": "<p>Python solution:</p>\n\n<pre><code>import zipfile,os\n\nzf = zipfile.ZipFile(\"temp.zip\")\nfor f in zf.namelist():\n    if not f.endswith(\"/\"):\n        dest = \"dest1\" if os.path.basename(os.path.dirname(f))==\"keanu\" else \"dest2\"\n        zf.extract(f,path=os.path.join(dest,os.path.basename(f)))\n</code></pre>\n\n<ul>\n<li>iterate on the contents of the archive</li>\n<li>filter out directories (end with \"/\")</li>\n<li>if last dirname is <code>\"keanu\"</code>, select destination 1 else the other</li>\n<li>extract directly under the selected destination</li>\n</ul>\n"}], "owner": {"reputation": 349, "user_id": 5001308, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/de1c91521eda30dbc39a364c207a4620?s=128&d=identicon&r=PG&f=1", "display_name": "Rczone", "link": "https://stackoverflow.com/users/5001308/rczone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1589, "favorite_count": 0, "accepted_answer_id": 42681703, "answer_count": 2, "score": 0, "last_activity_date": 1489103094, "creation_date": 1489004710, "last_edit_date": 1489103094, "question_id": 42681248, "link": "https://stackoverflow.com/questions/42681248/unzip-a-file-and-copy-the-contents-to-different-folder-based-on-condition", "title": "Unzip a file and copy the contents to different folder based on condition", "body": "<p>Folks,</p>\n\n<p>i have a requirement to unzip file and copy the contents of the subdirectories of the unzipped file into different location</p>\n\n<p>For Example:</p>\n\n<p>Filename: temp.zip</p>\n\n<p>unzip temp.zip</p>\n\n<p>we have folder structure like this under temp </p>\n\n<pre><code> temp/usr/data/keanu/*.pdf's\n temp/usr/data/reaves/*.pdf's\n</code></pre>\n\n<p>my requirement is to go to the unzipped folders and copy</p>\n\n<pre><code>/keanu *.pdf's to /desti1/\nand \n/reaves/*.pdf's to /dest2/\n</code></pre>\n\n<p>i have tried the below:</p>\n\n<pre><code>unzip.sh &lt;filename&gt;\n\nfilename=$1\nunzip $filename\n</code></pre>\n\n<p>//i have stuck here i  need to go to unzip folder and find the path and copy those files to different destination</p>\n\n<p><strong><em>UPDATE on My script unzip the file and recursively copy recommended type of files to destination folder without changing the (by preserving the directory structure)</em></strong></p>\n\n<p>Filename: unzip.sh</p>\n\n<pre><code>#! /bin/bash\n#shopt -s nullglob globstar\nfilename=\"$1\"\nvar1=$(sed 's/.\\{4\\}$//' &lt;&lt;&lt; \"$filename\")\necho $var1\nunzip \"$filename\"\ncd \"$(dirname \"$filename\")\"/\"$var1\"/**/includes\n#pwd\n#use -udm in cpio to overwrite\nfind . -name '*.pdf' | cpio -pdm /tmp/test/includes\ncd -\ncd \"$(dirname \"$filename\")\"/\"$var1\"/**/global\n#pwd\nfind . -name '*.pdf' | cpio -pdm /tmp/test/global\n</code></pre>\n"}, {"tags": ["python", "file", "directory", "exists"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 2, "creation_date": 1489004790, "post_id": 42681242, "comment_id": 72486647, "body": "You seem to have forgotten to ask a question. What is wrong with this code other than indentation?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1489004855, "post_id": 42681242, "comment_id": 72486682, "body": "<code>os.listdir(&quot;.&quot;) == False</code> that is hardly useful... <code>os.listdir</code> returns a list, so that&#39;s never <code>False</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1489004906, "post_id": 42681242, "comment_id": 72486710, "body": "also <code>if i(&#39;A&#39;, &#39;B&#39;) == False:</code> is wrong. <code>i</code> is a string, not a function. please read more about python."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1489005173, "post_id": 42681242, "comment_id": 72486856, "body": "<a href=\"https://docs.python.org/2/library/os.path.html#os.path.isdir\" rel=\"nofollow noreferrer\">os.path.isdir</a>"}, {"owner": {"reputation": 4706, "user_id": 1233686, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e40759af9793f7cd0e259593cb3bc666?s=128&d=identicon&r=PG", "display_name": "hurturk", "link": "https://stackoverflow.com/users/1233686/hurturk"}, "edited": false, "score": 0, "creation_date": 1489006624, "post_id": 42681242, "comment_id": 72487611, "body": "Your code is in different spacetime probably."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7742947, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/acb78499f7c4f914cd7d1a446b21429c?s=128&d=identicon&r=PG", "display_name": "DragonLady", "link": "https://stackoverflow.com/users/7742947/dragonlady"}, "is_accepted": false, "score": 0, "last_activity_date": 1490060722, "creation_date": 1490060722, "answer_id": 42916976, "question_id": 42681242, "link": "https://stackoverflow.com/questions/42681242/checking-if-folders-exist-from-a-user-input-in-python/42916976#42916976", "title": "Checking if folders exist from a user input in Python", "body": "<pre><code>while True:\n    f1 = input(\"Folder1?\") #asking user for input\n    f2 = input(\"Folder2?\")\n    if not os.path.exists(f1) or not os.path.exists(f2):\n        print(\"some error message\")\n        continue\n    if not os.path.isdir(f1) or not os.path.isdir(f2):\n        print(\"another error message\")\n        continue\n    if (f1 == f2): #are these folders the same\n        print(\"one more error message\")\n        continue\n    break\nprint(\"all tests passed successfully!\")\n</code></pre>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 53, "user_id": 7443013, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/6lVUc.gif?s=128&g=1", "display_name": "Supernova", "link": "https://stackoverflow.com/users/7443013/supernova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 630, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1490060722, "creation_date": 1489004679, "last_edit_date": 1489006245, "question_id": 42681242, "link": "https://stackoverflow.com/questions/42681242/checking-if-folders-exist-from-a-user-input-in-python", "title": "Checking if folders exist from a user input in Python", "body": "<p>I am trying to do a series of checks in a while True loop to see if a folder exists or a user error. In my folder I have two folders A and B. I will ask the user to Enter a folder name.</p>\n\n<pre><code>from os.path import exists\n\nfolder1_2 = input('Enter folder name: ')\ni = (folder1, folder2)\n\nwhile True:\n    i = raw_input()\n    does_it_exist = os.path.exists(i) # True/False\n    if does_it_exist == False:\n        print(\"The folder does not exist\")            \n        continue \n    if os.listdir(\".\") == False:\n            print(\"folder not found\")\n        continue  \n    if i('A', 'B') == False:\n            print(\"not the same folder or user error\")\n        continue  \n    break \nprint(\"All tests passed successfully!\")\n\nreturn [folder1_2]\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy", "boolean"], "comments": [{"owner": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1489060475, "post_id": 42681231, "comment_id": 72511486, "body": "@IljaEveril&#228; You should post that as an answer, I almost missed your comment and was already writing the same thing."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1489060570, "post_id": 42681231, "comment_id": 72511541, "body": "I was trying to find an existing duplicate for this, but to some surprise could not."}], "answers": [{"comments": [{"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1600609687, "post_id": 42695255, "comment_id": 113135632, "body": "Very thorough, thanks . Are Any idea if one of these methods is preferrable or better performant?  I kind of like just calling .filter() twice as it&#39;s very readbile and can put each statement on a newline"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "reply_to_user": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1600689123, "post_id": 42695255, "comment_id": 113156812, "body": "I&#39;d imagine there being negligible difference in performance, since calls to <code>filter()</code> simply append new criterion to the <code>Query</code> \u2013 it is compiled to SQL and emitted only when you call <code>all()</code> etc. So choose the method that suits you best."}], "tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 34, "last_activity_date": 1540982632, "last_edit_date": 1540982632, "creation_date": 1489062045, "answer_id": 42695255, "question_id": 42681231, "link": "https://stackoverflow.com/questions/42681231/sqlalchemy-unexpected-results-when-using-and-and-or/42695255#42695255", "title": "SQLAlchemy: unexpected results when using `and` and `or`", "body": "<p>The problem is this:</p>\n\n<pre><code>News.label == None and f(News.title) == 'good'\n#                  ^^^ here\n</code></pre>\n\n<p>Python does not allow overriding the behaviour of boolean <strong>operations</strong> <code>and</code> and <code>or</code>. You can influence them to some extent with <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__bool__\" rel=\"noreferrer\"><code>__bool__</code></a> in Python 3 and <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__nonzero__\" rel=\"noreferrer\"><code>__nonzero__</code></a> in Python 2, but all that does is that it <a href=\"https://stackoverflow.com/questions/471546/any-way-to-override-the-and-operator-in-python\">defines the truth value of your object</a>.</p>\n\n<p>If the objects in question had not implemented <code>__bool__</code> and thrown the error, or the implementation had not thrown, you would've gotten possibly rather cryptic errors due to the <a href=\"https://docs.python.org/3/library/stdtypes.html#boolean-operations-and-or-not\" rel=\"noreferrer\">short-circuiting nature of <code>and</code> and <code>or</code></a>:</p>\n\n<pre><code>In [19]: (News.label == 'asdf') and True\nOut[19]: &lt;sqlalchemy.sql.elements.BinaryExpression object at 0x7f62c416fa58&gt;\n\nIn [24]: (News.label == 'asdf') or True\nOut[24]: True\n</code></pre>\n\n<p>because</p>\n\n<pre><code>In [26]: bool(News.label == 'asdf')\nOut[26]: False\n</code></pre>\n\n<p>This could and would lead to hair pulling in the form of incorrect SQL expressions:</p>\n\n<pre><code>In [28]: print(News.label == 'asdf' or News.author == 'NOT WHAT YOU EXPECTED')\nnews.author = :author_1\n</code></pre>\n\n<p>To produce boolean SQL expressions either use the <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.and_\" rel=\"noreferrer\"><code>and_()</code></a>, <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.or_\" rel=\"noreferrer\"><code>or_()</code></a>, and <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.expression.not_\" rel=\"noreferrer\"><code>not_()</code></a> sql expression functions, or the binary <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.operators.Operators.__and__\" rel=\"noreferrer\"><code>&amp;</code></a>, <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.operators.ColumnOperators.__or__\" rel=\"noreferrer\"><code>|</code></a>, and <a href=\"http://docs.sqlalchemy.org/en/latest/core/sqlelement.html#sqlalchemy.sql.operators.Operators.__invert__\" rel=\"noreferrer\"><code>~</code></a> operator overloads:</p>\n\n<pre><code># Parentheses required due to operator precedence\nfilter((News.label == None) &amp; (f(News.title) == 'good'))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>filter(and_(News.label == None, f(News.title) == 'good'))\n</code></pre>\n\n<p>or pass multiple criterion to a call to <a href=\"http://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.filter\" rel=\"noreferrer\"><code>Query.filter()</code></a>:</p>\n\n<pre><code>filter(News.label == None, f(News.title) == 'good')\n</code></pre>\n\n<p>or combine multiple calls to <code>filter()</code>:</p>\n\n<pre><code>filter(News.label == None).filter(f(News.title) == 'good')\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 7652122, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/20d09e8ef7b3c59304f4e888c3419162?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Seliaev", "link": "https://stackoverflow.com/users/7652122/mark-seliaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14149, "favorite_count": 1, "accepted_answer_id": 42695255, "answer_count": 1, "score": 17, "last_activity_date": 1568006758, "creation_date": 1489004632, "last_edit_date": 1568006758, "question_id": 42681231, "link": "https://stackoverflow.com/questions/42681231/sqlalchemy-unexpected-results-when-using-and-and-or", "title": "SQLAlchemy: unexpected results when using `and` and `or`", "body": "<p>I have a declarative base class <code>News</code>:</p>\n\n<pre><code>class News(Base):\n    __tablename__ = \"news\"\n    id = Column(Integer, primary_key = True)\n    title = Column(String)\n    author = Column(String)\n    url = Column(String)\n    comments = Column(Integer)\n    points = Column(Integer)\n    label = Column(String)\n</code></pre>\n\n<p>I also have a function <code>f(title)</code>, that gets a string and returns one of 3 variants of strings: 'good', 'maybe' or 'never'. \nI try to get filtered rows:</p>\n\n<pre><code>rows = s.query(News).filter(News.label == None and f(News.title) == 'good').all()\n</code></pre>\n\n<p>But the program fails, raising this error:</p>\n\n<pre><code>raise TypeError(\"Boolean value of this clause is not defined\")\n</code></pre>\n\n<p>How can I resolve it? </p>\n"}]