[{"tags": ["python"], "comments": [{"owner": {"reputation": 984, "user_id": 6641516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b__FzxzSmgU/AAAAAAAAAAI/AAAAAAAABqE/zRhjNLBdLQE/photo.jpg?sz=128", "display_name": "Derick Alangi", "link": "https://stackoverflow.com/users/6641516/derick-alangi"}, "edited": false, "score": 0, "creation_date": 1471478193, "post_id": 39007968, "comment_id": 65367582, "body": "I think when you use sort, you should save the results before reversing it, so the <code>counts.sort()</code> doesn&#39;t update counts"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471481110, "post_id": 39007968, "comment_id": 65368314, "body": "Before counting (or sorting), you may want to &#39;normalize&#39; the words.  Lowercase? De-pluralize? Remove verb endings?"}], "answers": [{"tags": [], "owner": {"reputation": 984, "user_id": 6641516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b__FzxzSmgU/AAAAAAAAAAI/AAAAAAAABqE/zRhjNLBdLQE/photo.jpg?sz=128", "display_name": "Derick Alangi", "link": "https://stackoverflow.com/users/6641516/derick-alangi"}, "is_accepted": false, "score": 0, "last_activity_date": 1471478444, "creation_date": 1471478444, "answer_id": 39008023, "question_id": 39007968, "link": "https://stackoverflow.com/questions/39007968/5-most-common-words-in-text-file-python/39008023#39008023", "title": "5 most common words in text file python", "body": "<p>Use the <code>sorted()</code> function and save the results in a variable then reverse it like this:</p>\n\n<pre><code>counts = sorted(counts, reverse=True)\n</code></pre>\n\n<p>That line of code will sort the list and reverse it for you and save the results in counts. Then you can use your count as required.</p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 5, "last_activity_date": 1471478774, "creation_date": 1471478774, "answer_id": 39008054, "question_id": 39007968, "link": "https://stackoverflow.com/questions/39007968/5-most-common-words-in-text-file-python/39008054#39008054", "title": "5 most common words in text file python", "body": "<pre><code>from collections import Counter\n\nc = Counter(words)\nc.most_common(5)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6728473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa6a5be3a4af55b2a30b7ece007add88?s=128&d=identicon&r=PG&f=1", "display_name": "ravizzle", "link": "https://stackoverflow.com/users/6728473/ravizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1471478774, "creation_date": 1471478037, "question_id": 39007968, "link": "https://stackoverflow.com/questions/39007968/5-most-common-words-in-text-file-python", "title": "5 most common words in text file python", "body": "<p>i have this code to search for the 5 most common words in a text file but i cant use the sort and reverse functions at the end of the program... how would i avoid using them?</p>\n\n<pre><code>words = open('romeo.txt').read().lower().split()\n\n\nuniques = []\nfor word in words:\n  if word not in uniques:\n    uniques.append(word)\n\n\ncounts = []\nfor unique in uniques:\n  count = 0              \n  for word in words:     \n    if word == unique:   \n      count += 1         \n  counts.append((count, unique))\n\ncounts.sort()            \ncounts.reverse()         \n\nfor i in range(min(5, len(counts))):\n  count, word = counts[i]\n  print('%s %d' % (word, count))\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 5414, "user_id": 1641750, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2C3uu.jpg?s=128&g=1", "display_name": "kartheek", "link": "https://stackoverflow.com/users/1641750/kartheek"}, "edited": false, "score": 0, "creation_date": 1471482939, "post_id": 39007892, "comment_id": 65368721, "body": "how you are accessing that list obj in template"}], "answers": [{"tags": [], "owner": {"reputation": 6411, "user_id": 1911548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89aaf241a35c92275b823a07b995288c?s=128&d=identicon&r=PG", "display_name": "Sergey Gornostaev", "link": "https://stackoverflow.com/users/1911548/sergey-gornostaev"}, "is_accepted": true, "score": 0, "last_activity_date": 1471489537, "creation_date": 1471489537, "answer_id": 39009360, "question_id": 39007892, "link": "https://stackoverflow.com/questions/39007892/removing-list-view-for-arrayfield-django/39009360#39009360", "title": "Removing List view for ArrayField Django", "body": "<p>If you need only the first value:</p>\n\n<pre><code>{{ object.arrya_field_name.0 }}\n</code></pre>\n\n<p>or with filter</p>\n\n<pre><code>{{ object.arrya_field_name|first }}\n</code></pre>\n\n<p>If you need all values, use loop:</p>\n\n<pre><code>{% for item in object.arrya_field_name %}\n    {{ item }}\n{% endfor %}\n</code></pre>\n\n<p>or filter</p>\n\n<pre><code>{{ object.arrya_field_name|join:\", \" }}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6728496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6faa5a9eb542a41928cbef8526299c33?s=128&d=identicon&r=PG&f=1", "display_name": "joseph.h", "link": "https://stackoverflow.com/users/6728496/joseph-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 1, "accepted_answer_id": 39009360, "answer_count": 1, "score": 0, "last_activity_date": 1471489537, "creation_date": 1471477575, "question_id": 39007892, "link": "https://stackoverflow.com/questions/39007892/removing-list-view-for-arrayfield-django", "title": "Removing List view for ArrayField Django", "body": "<p>How would I display the ArrayField in a template without the quotes and brackets. currently it looks like ['django']. I would like to have it look like: django</p>\n\n<p>Any suggestions would be great. </p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1471478063, "post_id": 39007889, "comment_id": 65367552, "body": "It&#39;s certainly possible but why do you want to do this? Just to not have to write <code>.c.col</code>?"}, {"owner": {"reputation": 81, "user_id": 3826651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6fddbeb32844f607135b6c7903e8d0?s=128&d=identicon&r=PG&f=1", "display_name": "openingceremony", "link": "https://stackoverflow.com/users/3826651/openingceremony"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1471478215, "post_id": 39007889, "comment_id": 65367590, "body": "My main reasoning for this would be to avoid specifically stating the column and table to use the Core API, I would essentially like to use the Core as a generic SQL generator where I could give it tables and columns as parameters and it would use the Core to create my SQL statement."}], "owner": {"reputation": 81, "user_id": 3826651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6fddbeb32844f607135b6c7903e8d0?s=128&d=identicon&r=PG&f=1", "display_name": "openingceremony", "link": "https://stackoverflow.com/users/3826651/openingceremony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471477565, "creation_date": 1471477565, "question_id": 39007889, "link": "https://stackoverflow.com/questions/39007889/using-sqlalchemy-core-w-higher-level-of-abstraction", "title": "Using SqlAlchemy Core w/ higher level of abstraction", "body": "<p>I am trying to use SQLAlchemy's CORE API as the basis for a generic database wrapper which would have SELECT, INSERT, DELETE, and UPDATE statements. It would also dynamically generate FROM and WHERE clauses. I have many different databases that I would like SQLAlchemy to be used for but using the ORM or Core and specifying specific columns and tables for all these databases could be quite cumbersome.</p>\n\n<p>SqlAlchemy's Core API is pretty robust but to build queries you need to chain different objects together, also while explicitly stating the table names and column names, for example:</p>\n\n<pre><code>select([table.c.col1]).where(table.c.col2==5)\n</code></pre>\n\n<p>Values table, col1 and col2 are SQL Alchemy objects generated table reflection, I would want to be able to generate this sort of command with variable arguments, where table could be anything from 'group' to 'pet' to 'teams' with the column names and add the where clause if possible. </p>\n\n<p>What I would imagine is something along the lines of:</p>\n\n<pre><code>query_results = self.query(columns=['col1', 'col2'], where=['col2 == 5'])\n</code></pre>\n\n<p>and have that translate into the previous select() statement in a dynamic way. Is this possible via SQL Alchemy? Are there wrappers out there that could generate statements using CORE dynamically?</p>\n"}, {"tags": ["python", "arrays", "loops"], "comments": [{"owner": {"reputation": 2130, "user_id": 1407020, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/RSPJP.jpg?s=128&g=1", "display_name": "Devon Bernard", "link": "https://stackoverflow.com/users/1407020/devon-bernard"}, "edited": false, "score": 0, "creation_date": 1471477695, "post_id": 39007880, "comment_id": 65367470, "body": "Why can&#39;t you specifically state which array number to reference? Giving more context code would be useful."}], "answers": [{"comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1471477924, "post_id": 39007912, "comment_id": 65367520, "body": "<code>pi*[n]**2</code> doesn&#39;t make any sense, since <code>[n]</code> is a one-element list. I think the questioner meant for that to be an indexing, so put <code>pi * some_sequence[n]**2</code> instead."}, {"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471478204, "post_id": 39007912, "comment_id": 65367587, "body": "Thank you for the prompt response, however they&#39;re floats, is there a simple way to enable range to work with floats?"}, {"owner": {"reputation": 1854, "user_id": 6539544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0075a1be0f17b9ac03dbb0b9b27d5aab?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Bajaj", "link": "https://stackoverflow.com/users/6539544/vaibhav-bajaj"}, "reply_to_user": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471478247, "post_id": 39007912, "comment_id": 65367606, "body": "@ScottLines I do not understand what you mean by <code>enable range to work with floats?</code>"}, {"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471478382, "post_id": 39007912, "comment_id": 65367636, "body": "I get an error that &#39;float&#39; object cannot be interpreted as an integer"}, {"owner": {"reputation": 1854, "user_id": 6539544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0075a1be0f17b9ac03dbb0b9b27d5aab?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Bajaj", "link": "https://stackoverflow.com/users/6539544/vaibhav-bajaj"}, "reply_to_user": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471478583, "post_id": 39007912, "comment_id": 65367700, "body": "@ScottLines I am unable to reproduce that problem. Could you please enter your complete code?"}, {"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471479221, "post_id": 39007912, "comment_id": 65367846, "body": "Entered, I had the range value set as a float, changing that got rid of the error, however now it returns a single value instead of the value for each calculation"}], "tags": [], "owner": {"reputation": 1854, "user_id": 6539544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0075a1be0f17b9ac03dbb0b9b27d5aab?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Bajaj", "link": "https://stackoverflow.com/users/6539544/vaibhav-bajaj"}, "is_accepted": true, "score": 2, "last_activity_date": 1471478051, "last_edit_date": 1471478051, "creation_date": 1471477705, "answer_id": 39007912, "question_id": 39007880, "link": "https://stackoverflow.com/questions/39007880/python-array-manipulation-pin12-pin2/39007912#39007912", "title": "Python array manipulation, pi*[n+1]^2 - pi*[n]^2", "body": "<p>Try this:</p>\n\n<pre><code>for n in range(4): # 0 to 3\n    x = pi*[n+1]**2 - pi*[n]**2 #[1] - [0], [2] - [1] and so on...\n    # doSomething\n</code></pre>\n\n<p>If <code>[n]</code> is an index of an array with name <code>num</code>, replace <code>[n]</code> with \n<code>num[n]</code> like so:</p>\n\n<pre><code>for n in range(4): # 0 to 3\n    x = pi*(num[n+1]**2) - pi*(num[n]**2) #[1] - [0], [2] - [1] and so on...\n    # doSomething\n</code></pre>\n\n<p>If instead it was simply <code>n</code>, replace <code>[n]</code> with <code>n</code> like so:</p>\n\n<pre><code>for n in range(4): # 0 to 3\n    x = pi*((n+1)**2) - pi*(n**2) #[1] - [0], [2] - [1] and so on...\n    # doSomething\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471479852, "post_id": 39007951, "comment_id": 65368008, "body": "That provides exactly what I&#39;m after, is there a simple way to change it so it saves the values in the array instead of overwriting it?"}], "tags": [], "owner": {"reputation": 155, "user_id": 4756514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005191fe96b2c88c8a11dd2f87d9bc48?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Wisner", "link": "https://stackoverflow.com/users/4756514/robert-wisner"}, "is_accepted": false, "score": -1, "last_activity_date": 1471534132, "last_edit_date": 1471534132, "creation_date": 1471477935, "answer_id": 39007951, "question_id": 39007880, "link": "https://stackoverflow.com/questions/39007880/python-array-manipulation-pin12-pin2/39007951#39007951", "title": "Python array manipulation, pi*[n+1]^2 - pi*[n]^2", "body": "<p>I think this should provide the results you are looking for:</p>\n\n<pre><code>rs = 0.2                                # Radius of first cylinder\nrc = 0.4                                # Radius of each cylinder (concrete) \nrg = 1                                  # Radius of each cylinder (soil)\nBW = 3                                  # No. cylinders (concrete)\nBG = 2                                  # No. cylinders (soil)\nv1 = np.linspace(rs, rc, num=BW)        # Cylinders (concrete)\nv2 = np.linspace(rc * 1.5, rg, num=BG)  # Cylinders (soil)\n\nn = np.concatenate((v1, v2))\n\nresults = []\nfor i, v in enumerate(n):\n    if i+1 &lt; len(n):\n        results.append(pi * n[i+1] ** 2 - pi * v ** 2)\n    else:\n        break\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471479988, "post_id": 39008152, "comment_id": 65368046, "body": "That works quite well, I need to save the values in an array instead of printing them."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471480093, "post_id": 39008152, "comment_id": 65368072, "body": "Updated. The secret is skipping the last value (n[:-1]) because it lacks a next item. This syntax of the list comprehension in the last snippet is inspired by the set-builder notation in math, so it must be familiar if you are into maths."}, {"owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "edited": false, "score": 0, "creation_date": 1471480977, "post_id": 39008152, "comment_id": 65368285, "body": "Thank you, that&#39;s exactly what I&#39;m after."}], "tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": false, "score": 1, "last_activity_date": 1471481209, "last_edit_date": 1471481209, "creation_date": 1471479691, "answer_id": 39008152, "question_id": 39007880, "link": "https://stackoverflow.com/questions/39007880/python-array-manipulation-pin12-pin2/39008152#39008152", "title": "Python array manipulation, pi*[n+1]^2 - pi*[n]^2", "body": "<p>How about this:</p>\n\n<pre><code>for i, value in enumerate(n[:-1]):\n    print(np.pi * (n[i + 1] ** 2) - np.pi * (value ** 2))\n</code></pre>\n\n<p>For me it prints:</p>\n\n<pre><code>0.157079632679\n0.219911485751\n0.628318530718\n2.0106192983\n</code></pre>\n\n<p>Perhaps you want this:</p>\n\n<pre><code>&gt;&gt;&gt; values = [np.pi * (n[i + 1] ** 2) - np.pi * (value ** 2)\n                          for i, value in enumerate(n[:-1])]\n&gt;&gt;&gt; values\n[0.15707963267948971, 0.2199114857512855, 0.62831853071795885, 2.0106192982974673]\n</code></pre>\n\n<p>Lets explain it:</p>\n\n<ul>\n<li>we must get all elements in the list but the last, because <code>n[i + 1]</code> fails for the last item, so we use <code>n[0:-1]</code> (we are allowed omit the start of the slice if it is 0 or the end if it is equal or greater than <code>len(n)</code>).</li>\n<li><code>enumerate(a_list)</code> returns something resembling a list of pairs in the form<br>\n<code>[(0, a_list[0]), (1, a_list[1]), ..., (n, a_list[n)]</code></li>\n<li><code>for i, value in ...</code> unpacks each pair into variables named <code>i</code> and <code>value</code></li>\n<li><code>[something for something in a_list]</code> returns a new list. You may do calculations, and filter the values. For example, if you want a list of the square of the even integers bellow 10:<br>\n<code>&gt;&gt;&gt; [x * x for x in range(10) if x % 2 == 1]</code><br>\n<code>[1, 9, 25, 49, 81]</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 2, "last_activity_date": 1471493195, "last_edit_date": 1471493195, "creation_date": 1471481060, "answer_id": 39008303, "question_id": 39007880, "link": "https://stackoverflow.com/questions/39007880/python-array-manipulation-pin12-pin2/39008303#39008303", "title": "Python array manipulation, pi*[n+1]^2 - pi*[n]^2", "body": "<p>Since your numbers are in a numpy array, it's much more efficient to use broadcast operations across the array (or slices of it), rather than writing a explicit loop and operating on individual items. This is the main reason to use numpy!</p>\n\n<p>Try something like this:</p>\n\n<pre><code># compute your `n` array as before\n\nareas = pi * n**2   # this will be a new array with the area of each cylinder\narea_differences = areas[1:] - areas[:-1]   # differences in area between adjacent cylinders\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6587311, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/87a92efafe336e80be766ae607d9c718?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/6587311/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 39007912, "answer_count": 4, "score": 1, "last_activity_date": 1471534132, "creation_date": 1471477462, "last_edit_date": 1471479181, "question_id": 39007880, "link": "https://stackoverflow.com/questions/39007880/python-array-manipulation-pin12-pin2", "title": "Python array manipulation, pi*[n+1]^2 - pi*[n]^2", "body": "<p>I'm writing a script to subtract the inside cylinder from the outside cylinder for multiple cylinders.</p>\n\n<p>for example: <code>x = pi*[n+1]**2 - pi*[n]**2</code> </p>\n\n<p>However I'm not sure how to get n to change each time from for example 1 - 4, i want to be able to change n and have the code run through the new values without having to change everything.</p>\n\n<pre><code>x = pi*[1]**2 - pi*[0]**2    \nx = pi*[2]**2 - pi*[1]**2\nx = pi*[3]**2 - pi*[2]**2\nx = pi*[4]**2 - pi*[3]**2\n</code></pre>\n\n<p>I was trying to get a while loop to work but i cant figure out how to reference n without specifically stating which number in the array i want to reference.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<pre><code>rs = 0.2                                # Radius of first cylinder  \nrc = 0.4                                # Radius of each cylinder (concrete) \nrg = 1                                  # Radius of each cylinder (soil)\nBW = 3                                  # No. cylinders (concrete)\nBG = 2                                  # No. cylinders (soil)\nv1 = np.linspace(rs, rc, num=BW)        # Cylinders (concrete)\nv2 = np.linspace(rc * 1.5, rg, num=BG)  # Cylinders (soil)\n\nn = np.concatenate((v1, v2))            # Combined cylinders\n\nfor i in range(BW + BG):\n    x = np.pi * (n[i + 1] ** 2) - np.pi * (n[i] ** 2)\n</code></pre>\n"}, {"tags": ["python", "xpath"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1471477824, "creation_date": 1471477824, "answer_id": 39007929, "question_id": 39007866, "link": "https://stackoverflow.com/questions/39007866/getting-article-text-using-xpath-but-omit-some-tags/39007929#39007929", "title": "getting article text using xpath but omit some tags", "body": "<p>Use the <a href=\"https://www.w3.org/TR/xpath/#location-paths\" rel=\"nofollow\"><code>child::node()</code></a> to match both regular children and text child nodes: </p>\n\n<blockquote>\n  <p><code>child::node()</code> selects all the children of the context node, whatever their node type</p>\n</blockquote>\n\n<p><code>self::</code> would help to filter unwanted elements having specific names: </p>\n\n<pre><code>//section[@class=\"entry-content\"]/child::node()[not(self::script or self::ul or self::style)]/descendant-or-self::text()\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 376718, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2dbd259301e80a46d5c4221ce6ea4986?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/376718/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 1, "accepted_answer_id": 39007929, "answer_count": 1, "score": 1, "last_activity_date": 1471479108, "creation_date": 1471477345, "last_edit_date": 1471479108, "question_id": 39007866, "link": "https://stackoverflow.com/questions/39007866/getting-article-text-using-xpath-but-omit-some-tags", "title": "getting article text using xpath but omit some tags", "body": "<p>I'm trying to parse (article) text only using xpath.</p>\n\n<p>I want to get all text which are direct children and all nested descendants text of a node, except for the following nodes/tags: <code>&lt;script&gt;, &lt;ul class=\"pager pagenav\"&gt;, &lt;style&gt;</code>.</p>\n\n<p>Example html to match using xpath:</p>\n\n<pre><code>&lt;section class=\"entry-content\"&gt;\n    want this article text\n    &lt;script&gt;dont want this&lt;/script&gt;\n    more text i want\n    &lt;p&gt;want this text too&lt;/p&gt;\n    &lt;any&gt;also this&lt;/any&gt;\n    &lt;style&gt;dont want this either&lt;/style&gt;\n    &lt;ul class=\"pager pagenav\"&gt;nope, dont want this &lt;a&gt;Prev Next&lt;/a&gt;&lt;/ul&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>Currently, i have something like:</p>\n\n<pre><code>    result = tree.xpath('//section[@class=\"entry-content\"]/*[not(descendant-or-self::script or self::ul[@class=\"pager pagenav\"] or self::style)]/../descendant-or-self::text()')\n</code></pre>\n\n<p>..but it doesn't quite work.</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-wtforms"], "comments": [{"owner": {"reputation": 298, "user_id": 3931774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cca0b58c6141235fb9ba7db5463ae8c?s=128&d=identicon&r=PG&f=1", "display_name": "Em L", "link": "https://stackoverflow.com/users/3931774/em-l"}, "edited": false, "score": 0, "creation_date": 1471484950, "post_id": 39007862, "comment_id": 65369233, "body": "You can print form data after validate_on_submit, see your form content."}, {"owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "reply_to_user": {"reputation": 298, "user_id": 3931774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cca0b58c6141235fb9ba7db5463ae8c?s=128&d=identicon&r=PG&f=1", "display_name": "Em L", "link": "https://stackoverflow.com/users/3931774/em-l"}, "edited": false, "score": 0, "creation_date": 1471486170, "post_id": 39007862, "comment_id": 65369532, "body": "@EmL Okay I added <code>flash(form.task_title.choices)</code> after <code>if request.method == &#39;POST&#39;:</code> and it successfully flashed all the options it retrieved from the query. So as I suspected something is stopping it from being validated_on_submit."}, {"owner": {"reputation": 298, "user_id": 3931774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cca0b58c6141235fb9ba7db5463ae8c?s=128&d=identicon&r=PG&f=1", "display_name": "Em L", "link": "https://stackoverflow.com/users/3931774/em-l"}, "edited": false, "score": 0, "creation_date": 1471490085, "post_id": 39007862, "comment_id": 65370502, "body": "Try to set breakpoint at validate_on_submit() function, and debug it.  Or replace <code>SelectField </code> with <code>QuerySelectField</code>, I use <code>QuerySelectField</code> when need a dynamically field."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "edited": false, "score": 0, "creation_date": 1471486742, "post_id": 39008940, "comment_id": 65369678, "body": "I didn&#39;t think this could be it because as I mentioned it works with just empty fields instead of the drop-down select field. I tried anyways with no luck.  Thank you though."}, {"owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "reply_to_user": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "edited": false, "score": 1, "creation_date": 1471486925, "post_id": 39008940, "comment_id": 65369736, "body": "I would say then put print statements as soon as you enter the view and then immediately after each if statement. See how far you get."}, {"owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "edited": false, "score": 0, "creation_date": 1471487023, "post_id": 39008940, "comment_id": 65369755, "body": "The other comment on my original post mentioned that.  I got as far as &#39;if form.validate_on_submit():` as I had suspected. Something in the validation isn&#39;t liking the list the query is returning."}, {"owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "edited": false, "score": 0, "creation_date": 1471488813, "post_id": 39008940, "comment_id": 65370207, "body": "I tried what you edit in your OP but it did not work because I found the solution for validation. I had to edit my <code>task_title</code> object to include <code>coerce=int</code> to tell WTForms to handle the <code>tc.task_id</code> data as an integer not a string. BUT this led me to another problem I&#39;m getting that deserves it&#39;s own post. :( !"}, {"owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "edited": false, "score": 0, "creation_date": 1471495996, "post_id": 39008940, "comment_id": 65372048, "body": "I will, have to wait 2 days it says before you can mark your own comment as the answer."}], "tags": [], "owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1471488315, "last_edit_date": 1471488315, "creation_date": 1471486531, "answer_id": 39008940, "question_id": 39007862, "link": "https://stackoverflow.com/questions/39007862/dynamically-update-wtform-with-sql-alchemy-query/39008940#39008940", "title": "Dynamically Update WTForm with SQL-Alchemy query", "body": "<p>Try the following.\n<a href=\"http://hastebin.com/obojivosar.py\" rel=\"nofollow\">http://hastebin.com/obojivosar.py</a></p>\n\n<p>You don't need to check <code>if request.method == \"POST\":</code> I simply moved the populating of the choices to the bottom of the view. I never touch the form before <code>validate_on_submit</code> Also how does <code>result_message</code> get into the context of the template?</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "is_accepted": false, "score": 0, "last_activity_date": 1471488943, "last_edit_date": 1495535319, "creation_date": 1471488943, "answer_id": 39009284, "question_id": 39007862, "link": "https://stackoverflow.com/questions/39007862/dynamically-update-wtform-with-sql-alchemy-query/39009284#39009284", "title": "Dynamically Update WTForm with SQL-Alchemy query", "body": "<p>I found the issue,</p>\n\n<p>WTForms wants to handle the returned data from the query as a string, however the IDs (integers) obviously are not strings, which must be why validation fails.</p>\n\n<p>By adding <code>coerce=int</code> to my <code>task_title</code> object in my form definition WTForms now knows to handle it as an int and passes validation.</p>\n\n<p>Fixed code:</p>\n\n<pre><code>class AssignTasksForm(Form):\n    asset_tag = StringField('asset_tag', validators=[DataRequired()])\n    task_title = SelectField('task_title', coerce=int, validators=[DataRequired()])\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/13964152/not-a-valid-choice-for-dynamic-select-field-wtforms\">Not a Valid Choice for Dynamic Select Field WTFORMS</a></p>\n"}], "owner": {"reputation": 89, "user_id": 5496042, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/618ca9e78f13d76cb8c1df79b98cf2d6?s=128&d=identicon&r=PG&f=1", "display_name": "xGlorify", "link": "https://stackoverflow.com/users/5496042/xglorify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1471488943, "creation_date": 1471477297, "question_id": 39007862, "link": "https://stackoverflow.com/questions/39007862/dynamically-update-wtform-with-sql-alchemy-query", "title": "Dynamically Update WTForm with SQL-Alchemy query", "body": "<p>I am trying to have a form dynamically update by retrieving information from my table then display one of the columns in a SelectField. When I type an asset tag, select a Task Title and hit submit simply nothing happens.</p>\n\n<p><strong>EDIT: I should add the form is updating fine - all my selections are there and being retrieved successfully. It's simply not executing any of my view function after that.</strong></p>\n\n<p>My form is as follows;</p>\n\n<pre><code>class AssignTasksForm(Form):\n    asset_tag = StringField('asset_tag', validators=[DataRequired()])\n    task_title = SelectField('task_title', validators=[DataRequired()])\n</code></pre>\n\n<p>My view function;</p>\n\n<pre><code>@tasks_blueprint.route('/assign_tasks', methods=['GET', 'POST'])\n@login_required\ndef assign_tasks():\n    form = AssignTasksForm()\n    form.task_title.choices = [(tc.task_id, tc.task_title) for tc in Tasks.query.order_by('task_id')]\n    if request.method == 'POST':\n        if form.validate_on_submit():\n            try:\n                asset_tag = form.asset_tag.data\n                asset = Motor.query.filter_by(asset_tag = asset_tag).first_or_404()\n                task_title = form.task_title.data\n                task = Tasks.query.filter_by(task_title = task_title).first_or_404()\n                task.asset_tasks.append(asset)\n                db.session.commit()\n            except Exception as e:\n                flash(e)\n                db.session.rollback()\n    return render_template('assign_tasks.html', form=form)\n</code></pre>\n\n<p>My terminal output leads me to believe the form may be becoming invalidated after the data is retrieved from the table:</p>\n\n<pre><code>2016-08-17 18:21:56,568 INFO sqlalchemy.engine.base.Engine {'id_1': 1, 'param_1': 1}\n2016-08-17 18:21:56,577 INFO sqlalchemy.engine.base.Engine SELECT tasks.\"Task Title\" AS \"tasks_Task Title\", tasks.\"Description\" AS \"tasks_Description\", tasks.task_id AS tasks_task_id\nFROM tasks ORDER BY tasks.task_id\n2016-08-17 18:21:56,577 INFO sqlalchemy.engine.base.Engine {}\n108.168.36.217 - - [17/Aug/2016 18:21:56] \"POST /tasks/assign_tasks HTTP/1.1\" 200 -\n</code></pre>\n\n<p>You can see it run the query outlined in view and then post the webpage but it simply does not continue executing the rest of the view function.</p>\n\n<p>Here is my template:</p>\n\n<pre><code>{% extends \"basehead.html\" %}\n{% block content %}\n  &lt;center&gt;\n    &lt;div class=\"container\"&gt;\n      &lt;h2&gt;Assign Tasks Below&lt;/h2&gt;\n      &lt;br&gt;\n      &lt;form action=\"\" method=\"post\" name=\"submit\"&gt;\n      {{ form.hidden_tag() }}\n     &lt;p&gt;\n        {{ form.asset_tag(placeholder=\" Enter Asset Tag\") }}\n     &lt;/p&gt;\n     &lt;p&gt;\n         {{ form.task_title }}\n     &lt;/p&gt;\n        &lt;input class=\"btn btn-default\" type=\"submit\" value=\"Submit\"&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n    {% if result_message %}\n    &lt;br&gt;\n       &lt;p class=\"result_message\"&gt; {{ result_message }} &lt;/p&gt;\n    &lt;/br&gt;\n    {% endif %}\n    &lt;/center&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "numpy", "graphlab"], "comments": [{"owner": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 0, "creation_date": 1471477637, "post_id": 39007847, "comment_id": 65367446, "body": "It would be helpful if you could provide some code that could be copy/pasted so we could run it locally and see the error. At a minimum, can you give the the values of <code>output.shape, prediction.shape</code> etc?"}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 1, "creation_date": 1471477861, "post_id": 39007847, "comment_id": 65367506, "body": "I suspect you&#39;re running into unintentional broadcasting. Sometimes when you&#39;re arrays are misaligned this can happen. For example if you A and B which are (100, 1) and (1, 100) arrays, <code>A + B</code> will create a (100, 100) output. Break up your code into separate lines and see which exact operation is causing the memory error."}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 2, "creation_date": 1471477968, "post_id": 39007847, "comment_id": 65367532, "body": "Are the extra pair of brackets around simple_feature_matrix intentional, <code>[simple_feature_matrix[:,i]]</code>?"}, {"owner": {"reputation": 35, "user_id": 5035074, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddb708f0d84a87ece2635f2a0126b6b0?s=128&d=identicon&r=PG&f=1", "display_name": "Sabhijiit", "link": "https://stackoverflow.com/users/5035074/sabhijiit"}, "reply_to_user": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1471524648, "post_id": 39007847, "comment_id": 65387736, "body": "@BiRico , the pair of brackets is extra, I think I ended up adding them unintentionally. Also, the ro.append(...) statement is producing the memory error."}, {"owner": {"reputation": 35, "user_id": 5035074, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddb708f0d84a87ece2635f2a0126b6b0?s=128&d=identicon&r=PG&f=1", "display_name": "Sabhijiit", "link": "https://stackoverflow.com/users/5035074/sabhijiit"}, "reply_to_user": {"reputation": 29791, "user_id": 120261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea2f78d64b265cf0c1c5781c1ea7a39?s=128&d=identicon&r=PG", "display_name": "mtrw", "link": "https://stackoverflow.com/users/120261/mtrw"}, "edited": false, "score": 0, "creation_date": 1471526448, "post_id": 39007847, "comment_id": 65389030, "body": "@mtrw, both output.shape and prediction.shape give (21613L, ). Also I have not given more code because it all uses a &#39;sales&#39; dataset that I am computing on."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1471527927, "post_id": 39007847, "comment_id": 65390112, "body": "I suspect the extra square brackets that @BiRico pointed out are the culprit.  For example, if <code>x</code> is a 1D numpy array with length 1000, then <code>x * (100*[x])</code> will be a 2D array with shape (100, 1000).  Have you tried running the code again without those brackets?"}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1471540493, "post_id": 39007847, "comment_id": 65398682, "body": "@Sabhijiit I can see that <code>ro.append(...)</code> is throwing the error :), split that line line up so you can see <i>which operation</i> in that statement is throwing the error."}, {"owner": {"reputation": 35, "user_id": 5035074, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddb708f0d84a87ece2635f2a0126b6b0?s=128&d=identicon&r=PG&f=1", "display_name": "Sabhijiit", "link": "https://stackoverflow.com/users/5035074/sabhijiit"}, "reply_to_user": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1471547073, "post_id": 39007847, "comment_id": 65402246, "body": "@BiRico, @WarrenWeckesser, thanks for the help, it was the extra pair of brackets around <code>simple_feature_matrix[:,i]</code> that was causing the problem."}], "owner": {"reputation": 35, "user_id": 5035074, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddb708f0d84a87ece2635f2a0126b6b0?s=128&d=identicon&r=PG&f=1", "display_name": "Sabhijiit", "link": "https://stackoverflow.com/users/5035074/sabhijiit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471497965, "creation_date": 1471477192, "last_edit_date": 1471497965, "question_id": 39007847, "link": "https://stackoverflow.com/questions/39007847/memory-error-in-python-despite-being-a-small-computation", "title": "Memory error in python (despite being a small computation)", "body": "<p>I am trying to run a code to preform lasso regression using coordinate descent in python using the Graphlab framework.</p>\n\n<p>The code I have written is as follows:</p>\n\n<pre><code>l1_penalty = 1.4e8\nro = []\nfor i in range(0,3):\n    ro.append((simple_feature_matrix[:,i]*\n              (output - prediction + weights[i]*[simple_feature_matrix[:,i]])).sum()\n             )\n    print ro\n    if i == 0:\n        weights[i] = ro[i]\n    elif ro[i] &lt; -l1_penalty/2.:\n        weights[i] = ro[i] + l1_penalty/2\n    elif -l1_penalty/2 &lt;= ro[i] &lt;= l1_penalty/2:\n        weights[i] = 0\n    elif ro[i] &gt; l1_penalty/2:\n        weights[i] = ro[i] - l1_penalty/2\n    print weights\n    print\n</code></pre>\n\n<p><code>output</code>, <code>prediction</code>, <code>weights</code>, and <code>simple_feature_matrix</code> all are numpy matrices.</p>\n\n<p>I am working on a dataset that has the house sales price of a certain region based on certain features like sqft of living area etc. </p>\n\n<p><code>simple_feature_matrix</code> is numpy matrix of sales with just two of those features. <br/> \n<code>output</code> is a matrix of just the 'price'. <br/>\n<code>prediction</code> is a matrix with the predicted prices that I computed using a function. <br/>\n<code>weights</code> is a matrix that has weights for the two features included in <code>simple_feature_matrix</code>.</p>\n\n<p>When I run this code once, I get an output, however, running it a second time in the same kernel give me the following error:\n<a href=\"http://i.stack.imgur.com/WWwQP.jpg\" rel=\"nofollow\">error received on running the code a second time</a></p>\n\n<pre><code>&lt;somepath&gt;/Anaconda2/&lt;somedirectories&gt;/ipykernel/__main__.py:4:Depreciation Warning: using a non-integer number instead of an integer will result in an error in the future.\n------------------------------------------------------------------------\nMemory Error         Traceback (most recent call last)\n\n&lt;ipython-input-11-15979f5790d6&gt; in &lt;module&gt;()\n      2 ro = []\n      3 for i in range(0,3):\n---&gt;  4     ro.append((simple_feature_matrix[:,i]*(output - prediction + weights[i]*[simple_feature_matrix[:,i]])).sum())\n      5     print ro\n      6     if i == 0:\n\nMemoryError:\n</code></pre>\n\n<p>No further explanation is given, it just says there is a memory error. Could anyone explain why this happens?</p>\n"}, {"tags": ["python", "linux", "amazon-web-services", "amazon-s3", "nohup"], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 3342483, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b1cf30c80b37ca2e3229e328f35d5ccf?s=128&d=identicon&r=PG&f=1", "display_name": "ModalBro", "link": "https://stackoverflow.com/users/3342483/modalbro"}, "edited": false, "score": 0, "creation_date": 1471563849, "post_id": 39009701, "comment_id": 65408797, "body": "This advice is right on the money. I redid the code this morning and now it&#39;s been running for the last 7 hours without a problem. Thank you!"}], "tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": true, "score": 2, "last_activity_date": 1471492145, "creation_date": 1471492145, "answer_id": 39009701, "question_id": 39007827, "link": "https://stackoverflow.com/questions/39007827/python-webscraping-script-on-aws-keeps-failing-after-1-5-hours-fetching-10-000-x/39009701#39009701", "title": "Python webscraping script on AWS keeps failing after 1.5 hours/fetching 10,000 xmls", "body": "<p>I don't know the first thing about python, but the problem seems apparent enough, all the same.</p>\n\n<p>When the S3 error occurs, you <a href=\"https://docs.python.org/3/reference/simple_stmts.html#continue\" rel=\"nofollow\"><code>continue</code></a>, which skips the rest of the instructions within the closest loop, and continues with the next value, from the top of the loop... and this skips <code>os.chdir('..')</code> at the end of the loop, so your current working directory is still <code>irs990s</code>.  On the next iteration, <code>os.chdir(\"irs990s\")</code> will, of course, fail, because that is trying to find a directory called <code>irs990s</code> <em>inside</em> the then-current directory, which is of course already <code>irs990s</code>, so that would of course fail.</p>\n\n<p>There are a couple of lessons, here.  </p>\n\n<p>Don't keep switching in and out of a directory using <code>os.chdir('..')</code> -- that's very bad form, prone to subtle bugs.  Case in point, see above.  Use absolute paths.  If you really want relative paths, that's fine, but don't do it this way.  Capture the working directory at startup or configure a base working directory and use that to fully-qualify your paths with chdir.</p>\n\n<p>Design your code to anticipate occasional errors from S3, or any web service, from any provider, and retry 5XX errors after a brief, incrementing delay -- <a href=\"http://docs.aws.amazon.com/general/latest/gr/api-retries.html\" rel=\"nofollow\">exponential backoff</a>.</p>\n"}], "owner": {"reputation": 474, "user_id": 3342483, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b1cf30c80b37ca2e3229e328f35d5ccf?s=128&d=identicon&r=PG&f=1", "display_name": "ModalBro", "link": "https://stackoverflow.com/users/3342483/modalbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 39009701, "answer_count": 1, "score": 1, "last_activity_date": 1471492145, "creation_date": 1471477050, "question_id": 39007827, "link": "https://stackoverflow.com/questions/39007827/python-webscraping-script-on-aws-keeps-failing-after-1-5-hours-fetching-10-000-x", "title": "Python webscraping script on AWS keeps failing after 1.5 hours/fetching 10,000 xmls", "body": "<p>I wrote a Python script that runs from an AWS instance and fetches xml files off an S3 server to place in a folder on the instance. The script works fine, except for the fact that after about an hour and a half, or about the time it takes to fetch 10,000-15,000 xmls, I get the following error:</p>\n\n<pre><code>HTTP Error 500: Internal Server Error\n</code></pre>\n\n<p>Following this error, I am told that the folder I tell the script to place the fetched xml in can't be found, i.e. </p>\n\n<pre><code>[Errno 2] No such file or directory:\n</code></pre>\n\n<p>I have tried running this script both from ssh, using screen and using nohup, but I get the same issue each time. As I have about 200,000 xmls to fetch, I'd like to just run this script once and go do something else for the 20+ hours it needs to run. </p>\n\n<p>For reference, the script I wrote is below:</p>\n\n<pre><code>import os\n\nimport feather\n\ndf = feather.read_dataframe('avail.feather')\n\nimport xmltodict\n\nurls = df['URL']\n\nimport urllib.request\nimport time\nimport requests\n\nticker=0 \nstart = time.time()\nfor u in urls[ticker:len(urls)]:\n    #os.chdir('/home/stan/Documents/Dissertation Idea Box/IRS_Data')\n    ticker += 1\n    print(\"Starting URL\",ticker, \"of\", len(urls),\".........\" ,(ticker/len(urls))*100, \"percent done\")\n    if u is None:\n        print(\"NO FILING\")\n        end = time.time()\n        m, s = divmod(end-start, 60)\n        h, m = divmod(m, 60)\n        print(\"Elapsed Time:\",\"%02d:%02d:%02d\" % (h, m, s))        \n        continue\n\n    u = u.replace('https','http')\n    r = requests.get(u)    \n    doc = xmltodict.parse(r.content)\n    try:\n        os.chdir(\"irs990s\")\n        urllib.request.urlretrieve(u, u.replace('http://s3.amazonaws.com/irs-form-990/',''))\n        print(\"FETCHED!\",\"..........\",u)\n    except Exception as e: \n        print(\"ERROR!!!\",\"..........\",u)\n        print(e)\n        end = time.time()\n        m, s = divmod(end-start, 60)\n        h, m = divmod(m, 60)\n        print(\"Elapsed Time:\",\"%02d:%02d:%02d\" % (h, m, s))\n        continue\n    end = time.time()\n    m, s = divmod(end-start, 60)\n    h, m = divmod(m, 60)\n    print(\"Elapsed Time:\",\"%02d:%02d:%02d\" % (h, m, s))\n    os.chdir('..')\n</code></pre>\n"}, {"tags": ["python", "bash", "shell"], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1471482721, "post_id": 39007855, "comment_id": 65368667, "body": "Use external links to support your answer, not as the entire answer itself."}, {"owner": {"reputation": 727, "user_id": 2106784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90770468e169e97409ea7476e138c3db?s=128&d=identicon&r=PG", "display_name": "Yousef_Shamshoum", "link": "https://stackoverflow.com/users/2106784/yousef-shamshoum"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1471578670, "post_id": 39007855, "comment_id": 65411936, "body": "I believe that the answer is string replacement and the links are supporting the answer by giving details how to do that...."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1471578951, "post_id": 39007855, "comment_id": 65411977, "body": "There is no way to <i>use</i> this answer without consulting the external resource if you don&#39;t already know what the string replacment operation is. It&#39;s also not a good answer in the presence of quoting issues."}, {"owner": {"reputation": 727, "user_id": 2106784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90770468e169e97409ea7476e138c3db?s=128&d=identicon&r=PG", "display_name": "Yousef_Shamshoum", "link": "https://stackoverflow.com/users/2106784/yousef-shamshoum"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1471579493, "post_id": 39007855, "comment_id": 65412081, "body": "So what you are saying as long as I don&#39;t do the whole work and give exactly what is needed it is not an answer that is supposed to be accepted at all?"}, {"owner": {"reputation": 727, "user_id": 2106784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90770468e169e97409ea7476e138c3db?s=128&d=identicon&r=PG", "display_name": "Yousef_Shamshoum", "link": "https://stackoverflow.com/users/2106784/yousef-shamshoum"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1471580436, "post_id": 39007855, "comment_id": 65412252, "body": "I see what you mean I didn&#39;t give enough context for the link, will do next time :)."}], "tags": [], "owner": {"reputation": 727, "user_id": 2106784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90770468e169e97409ea7476e138c3db?s=128&d=identicon&r=PG", "display_name": "Yousef_Shamshoum", "link": "https://stackoverflow.com/users/2106784/yousef-shamshoum"}, "is_accepted": false, "score": -2, "last_activity_date": 1471477240, "creation_date": 1471477240, "answer_id": 39007855, "question_id": 39007826, "link": "https://stackoverflow.com/questions/39007826/how-to-send-a-python-variable-to-shell-commands/39007855#39007855", "title": "How to send a Python Variable to shell commands?", "body": "<p>This is a string replacement operation which you can get all the info <a href=\"https://docs.python.org/2/library/stdtypes.html#string-formatting\" rel=\"nofollow\">here</a>.</p>\n\n<p>Or you can just concatenate the strings together. (<a href=\"http://www.pythonforbeginners.com/concatenation/string-concatenation-and-formatting-in-python\" rel=\"nofollow\">good tutorial</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1471483304, "post_id": 39007863, "comment_id": 65368809, "body": "While it will work, it&#39;s a bad habit. Either the values included in a command line should be properly escaped, or the command should be split into tokens on Python&#39;s side. If <code>s</code> comes from an untrusted source, it could be <code>; rm -rf &#47; ;</code>"}, {"owner": {"reputation": 2133, "user_id": 5447208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f8eb976d91e3b7bb21366a68d1a70f?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5447208/cody"}, "reply_to_user": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1471534995, "post_id": 39007863, "comment_id": 65395282, "body": "@viraptor I agree about the escaping, but it looked like the variable was a constant in the OP&#39;s script so it was safe to do the quick version.  As a technicality, <code>rm -rf &#47;</code> doesn&#39;t work (I&#39;ve tested it), you need <code>rm -rf &#47;*</code> since rm won&#39;t let you delete root.  Even then there are a handful of files it won&#39;t let you delete, but that will make the os nearly unusable."}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 1, "creation_date": 1471558397, "post_id": 39007863, "comment_id": 65407270, "body": "I know it doesn&#39;t work - that&#39;s why I&#39;m always using the broken version in examples :)"}, {"owner": {"reputation": 2133, "user_id": 5447208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f8eb976d91e3b7bb21366a68d1a70f?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5447208/cody"}, "reply_to_user": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1471561916, "post_id": 39007863, "comment_id": 65408298, "body": "@viraptor Maybe I shouldn&#39;t have had all those drinks and played command line russian roulette that one night..."}], "tags": [], "owner": {"reputation": 2133, "user_id": 5447208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f8eb976d91e3b7bb21366a68d1a70f?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5447208/cody"}, "is_accepted": false, "score": 0, "last_activity_date": 1471477303, "creation_date": 1471477303, "answer_id": 39007863, "question_id": 39007826, "link": "https://stackoverflow.com/questions/39007826/how-to-send-a-python-variable-to-shell-commands/39007863#39007863", "title": "How to send a Python Variable to shell commands?", "body": "<p>I'm assuming the 's' in your command string is what you want to assume the value of your variable 's'?  All you need to do is this:</p>\n\n<pre><code>command = os.popen('stress -c 5 -i 1 -m 1 --vm-bytes 128M -t ' + str(s))\n</code></pre>\n\n<p>If I misread it and you are trying to replace the 5, it is basically the same</p>\n\n<pre><code>command = os.popen('stress -c ' + str(s) + ' -i 1 -m 1 --vm-bytes 128M -t s')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1471482786, "post_id": 39007922, "comment_id": 65368685, "body": "The first method won&#39;t work if the value of <code>s</code> itself contains double quotes. The second method is really the only reliable method."}, {"owner": {"reputation": 11, "user_id": 6728471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d51d7bfbae27ec9184144bbee67caa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Morteza M", "link": "https://stackoverflow.com/users/6728471/morteza-m"}, "edited": false, "score": 0, "creation_date": 1471536481, "post_id": 39007922, "comment_id": 65396221, "body": "Sure, and I also agree the second method is more reliable. However, in my case the first method works."}], "tags": [], "owner": {"reputation": 428, "user_id": 590058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5f61e04325fb7de5c581c66003beb4?s=128&d=identicon&r=PG&f=1", "display_name": "Arcege", "link": "https://stackoverflow.com/users/590058/arcege"}, "is_accepted": false, "score": 4, "last_activity_date": 1471482880, "last_edit_date": 1471482880, "creation_date": 1471477777, "answer_id": 39007922, "question_id": 39007826, "link": "https://stackoverflow.com/questions/39007826/how-to-send-a-python-variable-to-shell-commands/39007922#39007922", "title": "How to send a Python Variable to shell commands?", "body": "<p>Use the standard subprocess module:</p>\n\n<pre><code>import subprocess\ns = 5\ncmd = ['stress', '-c', '5', '-i', '1', '-m', '1',\n      '--vm-bytes', '128M', '-t', str(s)]\nsubprocess.call(cmd)\n</code></pre>\n\n<p>Using the subprocess module, allows each argument to be passed separately and distinctly.  You only have to convert them to strings.</p>\n"}], "owner": {"reputation": 11, "user_id": 6728471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d51d7bfbae27ec9184144bbee67caa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Morteza M", "link": "https://stackoverflow.com/users/6728471/morteza-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2017, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1471482880, "creation_date": 1471477038, "last_edit_date": 1471477145, "question_id": 39007826, "link": "https://stackoverflow.com/questions/39007826/how-to-send-a-python-variable-to-shell-commands", "title": "How to send a Python Variable to shell commands?", "body": "<p>I am trying to send a variable from my code in Python to a shell command in Ubuntu. Can anyone help me with how to do that? Currently, I have</p>\n\n<pre><code>import os\ns=5\ncommand = os.popen('stress -c 5 -i 1 -m 1 --vm-bytes 128M -t s')\n</code></pre>\n\n<p>I want to send the <code>s</code> variable to this command instead of directly say the time of time-out. </p>\n"}, {"tags": ["java", "python", "type-conversion", "reserved-words", "jpype"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6728479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408428252507355/picture?type=large", "display_name": "Zheng Qi", "link": "https://stackoverflow.com/users/6728479/zheng-qi"}, "edited": false, "score": 0, "creation_date": 1471496985, "post_id": 39007952, "comment_id": 65372272, "body": "hmm, that&#39;s a bummer. Was hoping to see if there is a way to pass the name as string directly to jvm to invoke java method/field."}, {"owner": {"reputation": 1422, "user_id": 4742188, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7ec6536d230512517c0c927fde1f26d6?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil M", "link": "https://stackoverflow.com/users/4742188/khalil-m"}, "reply_to_user": {"reputation": 21, "user_id": 6728479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408428252507355/picture?type=large", "display_name": "Zheng Qi", "link": "https://stackoverflow.com/users/6728479/zheng-qi"}, "edited": false, "score": 0, "creation_date": 1471515630, "post_id": 39007952, "comment_id": 65381784, "body": "according to official documenation <a href=\"https://pypi.python.org/pypi/JPype1-py3\" rel=\"nofollow noreferrer\">link</a>  Known Bugs/Limitations      Java classes outside of a package (in the &lt;default&gt; package) cannot be imported.     Fields or methods conflicting with a python keyword can\u2019t be accessed.     Because of lack of JVM support, you cannot shutdown the JVM and then restart it.     Some methods rely on the \u201ccurrent\u201d class/caller. Since calls coming directly from python code do not have a current class, these methods do not work. The User Manual lists all the known methods like that."}], "tags": [], "owner": {"reputation": 1422, "user_id": 4742188, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7ec6536d230512517c0c927fde1f26d6?s=128&d=identicon&r=PG&f=1", "display_name": "Khalil M", "link": "https://stackoverflow.com/users/4742188/khalil-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1471477938, "creation_date": 1471477938, "answer_id": 39007952, "question_id": 39007823, "link": "https://stackoverflow.com/questions/39007823/jpype-accessing-java-mehtod-variable-whose-name-is-reserved-name-in-python/39007952#39007952", "title": "jpype accessing java mehtod/variable whose name is reserved name in python", "body": "<p>unfortunally Fields or methods conflicting with a python keyword can\u2019t be accessed</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6728479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408428252507355/picture?type=large", "display_name": "Zheng Qi", "link": "https://stackoverflow.com/users/6728479/zheng-qi"}, "edited": false, "score": 0, "creation_date": 1471555122, "post_id": 39027662, "comment_id": 65406095, "body": "stackoverflow filter the underscore, so jpype appends underscore at the end for names conflict with python keyword"}], "tags": [], "owner": {"reputation": 21, "user_id": 6728479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408428252507355/picture?type=large", "display_name": "Zheng Qi", "link": "https://stackoverflow.com/users/6728479/zheng-qi"}, "is_accepted": false, "score": 1, "last_activity_date": 1471631822, "last_edit_date": 1471631822, "creation_date": 1471555055, "answer_id": 39027662, "question_id": 39007823, "link": "https://stackoverflow.com/questions/39007823/jpype-accessing-java-mehtod-variable-whose-name-is-reserved-name-in-python/39027662#39027662", "title": "jpype accessing java mehtod/variable whose name is reserved name in python", "body": "<p>Figured out that jpype appends an <code>\"_\"</code> at the end for those methods/fields in its source code. So you can access it by Jpype.JClass(\"Foo\").pass_</p>\n\n<p>Wish it's documented somewhere </p>\n"}], "owner": {"reputation": 21, "user_id": 6728479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1408428252507355/picture?type=large", "display_name": "Zheng Qi", "link": "https://stackoverflow.com/users/6728479/zheng-qi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1471631822, "creation_date": 1471477021, "question_id": 39007823, "link": "https://stackoverflow.com/questions/39007823/jpype-accessing-java-mehtod-variable-whose-name-is-reserved-name-in-python", "title": "jpype accessing java mehtod/variable whose name is reserved name in python", "body": "<p>Any idea how this can be done? ie, if we have a variable defined in java as below</p>\n\n<p><code>public Class Foo {\n   String pass = \"foo\";\n}</code></p>\n\n<p>how can I access this via jpype since pass is a reserved keyword? I tried\n<code>getattr(Jpype.JClass(Foo)(), \"pass\")</code> but it fails to find the attribute named pass</p>\n"}, {"tags": ["python", "pybel"], "comments": [{"owner": {"reputation": 8174, "user_id": 2491227, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ad5c1442bc53ce0e90950a8cabc35295?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Brown", "link": "https://stackoverflow.com/users/2491227/kevin-brown"}, "edited": false, "score": 0, "creation_date": 1471539462, "post_id": 39007820, "comment_id": 65398067, "body": "That would be a fairly easy exercise using XSL FO and a formatting engine. Most if not all including Apache FOP support SVG."}], "owner": {"reputation": 11, "user_id": 6728382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37245439b35fb0501f58e88fa063706?s=128&d=identicon&r=PG", "display_name": "Mihoi", "link": "https://stackoverflow.com/users/6728382/mihoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488978539, "creation_date": 1471477013, "last_edit_date": 1488978539, "question_id": 39007820, "link": "https://stackoverflow.com/questions/39007820/saving-and-organizing-multiple-svg-files-to-multi-paged-pdf-png-or-other-comm", "title": "Saving and Organizing Multiple .svg Files to Multi-Paged PDF, PNG, or Other Common Image File Types in Python", "body": "<p><strong>Goal:</strong>\n  I want to be able to organize many SVG images of Lewis/Kekul\u00e9 structures into a coherent list of reactions displayed in some common viewing file, like PDF or PNG; that is, each reaction might take up one line with the reactants and products separated by an arrow or some other divider, and there would exist as many lines on as many pages of a PDF as was needed to display each reaction in a given database.</p>\n\n<p><strong>Context:</strong> \n  I am reading canonical SMILES representations of molecules from my local machine with pybel.readstring(), converting that string to an SVG string with molSVG = mol._repr_svg_(), then displaying the results on a jupyter notebook with display(SVG(molSVG)) while also saving the SVG string into a list and an .svg file. For example:</p>\n\n<pre><code>import pybel as pb\nfrom IPython.display import display, SVG\n\nmolecules = []\n\n# Read in canonical SMILES to some tractable object.\nmol = pb.readstring('smi', '[O-][C]([C]1[CH][CH][CH][O]1)[O]')\n\n# Convert it to an SVG string\nmolSVG = mol._repr_svg_()\n\n# Display the SVG.\ndisplay(SVG(molSVG))\n\n# Save the SVG to an .svg file and a list\nwith open('out.svg', 'w+') as result:\n    result.write(molSVG)\nmolecules.append(result)\n</code></pre>\n\n<p>What I would like to do instead of displaying these is to save them to some singular image file.</p>\n\n<p><strong>Attempted Solutions:</strong>\n  I've run through quite a few over the last six or seven weeks, so I've forgotten some, but I tried pybel's Outfile class, but I don't think that produced any images whatsoever as it was probably made to solely store OBAtom and OBMol class objects. Matplotlib's PdfPages from matplotlib.backends.backend_pdf seemed like a first step just to getting more than one SVG into a single file, but I think that failed because it requires plots as input, not SVG files. I've also seen modules like svgwrite and the like but haven't been able to get them to work.</p>\n\n<p>As an example, a page of the finished product might have a similar structure to  <a href=\"https://www2.chemistry.msu.edu/faculty/reusch/virttxtjml/Images2/alkhlrx1.gif\" rel=\"nofollow\">this</a> albeit without some of the flourishes like the lines in between and labels on the arrows.</p>\n\n<p>Also, just a note: I'm extremely inexperienced with all forms of coding and especially with Python, so please keep it as simple as possible for me. Any suggestions are greatly appreciated!</p>\n"}, {"tags": ["python", "pyqt4", "tabwidget"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 6714151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5413a72d3ac129231261bc991db0303?s=128&d=identicon&r=PG&f=1", "display_name": "syncster31", "link": "https://stackoverflow.com/users/6714151/syncster31"}, "is_accepted": true, "score": 1, "last_activity_date": 1471477803, "creation_date": 1471477803, "answer_id": 39007926, "question_id": 39007773, "link": "https://stackoverflow.com/questions/39007773/pyqt-tabbed-dialog-not-displaying-embedded-widgets/39007926#39007926", "title": "PyQt - Tabbed dialog not displaying embedded widgets", "body": "<p>here is my solution to the problem</p>\n\n<p>On the <strong>init</strong> method, I declared a layout, then added the 'tabWidget' widget to that layout and set that layout as the layout of your QDialog.</p>\n\n<pre><code>def __init__(self, parent = None):\n  super(TabbedDialog, self).__init__(parent)\n\n  self.tabWidget = QTabWidget()\n  self.tabWidget.tab1 = QWidget()\n  self.tabWidget.tab2 = QWidget()\n  self.tabWidget.tab3 = QWidget()\n\n  self.tabWidget.addTab(self.tabWidget.tab1,\"Tab 1\")\n  self.tabWidget.addTab(self.tabWidget.tab2,\"Tab 2\")\n  self.tabWidget.addTab(self.tabWidget.tab3,\"Tab 3\")\n  self.tab1UI()\n  self.tab2UI()\n  self.tab3UI()\n  self.setWindowTitle(\"tab demo\")\n\n  # Here is the addition to the code.\n  mainLayout = QVBoxLayout()\n  mainLayout.addWidget(self.tabWidget)\n  self.setLayout(mainLayout)\n</code></pre>\n"}], "owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 1, "accepted_answer_id": 39007926, "answer_count": 1, "score": 0, "last_activity_date": 1471477803, "creation_date": 1471476708, "question_id": 39007773, "link": "https://stackoverflow.com/questions/39007773/pyqt-tabbed-dialog-not-displaying-embedded-widgets", "title": "PyQt - Tabbed dialog not displaying embedded widgets", "body": "<p>I am trying to create a dialog with three tabs using PyQt. However, I am annoyed because although the dialog is displayed, the embedded widgets are not displayed!. I suppose this is a very simple problem with a correspondingly very simple solution, but I am struck! Can anyone give a hint? Thanks in advance!</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>import sys\nfrom PyQt4.QtCore import *\nfrom PyQt4.QtGui import *\n\nclass TabbedDialog(QDialog):\n   def __init__(self, parent = None):\n      super(TabbedDialog, self).__init__(parent)\n\n      self.tabWidget = QTabWidget()\n      self.tabWidget.tab1 = QWidget()\n      self.tabWidget.tab2 = QWidget()\n      self.tabWidget.tab3 = QWidget()\n\n      self.tabWidget.addTab(self.tabWidget.tab1,\"Tab 1\")\n      self.tabWidget.addTab(self.tabWidget.tab2,\"Tab 2\")\n      self.tabWidget.addTab(self.tabWidget.tab3,\"Tab 3\")\n      self.tab1UI()\n      self.tab2UI()\n      self.tab3UI()\n      self.setWindowTitle(\"tab demo\")\n\n   def tab1UI(self):\n      layout = QFormLayout()\n      layout.addRow(\"Name\",QLineEdit())\n      layout.addRow(\"Address\",QLineEdit())\n      self.tabWidget.setTabText(0,\"Contact Details\")\n      self.tabWidget.tab1.setLayout(layout)\n\n   def tab2UI(self):\n      layout = QFormLayout()\n      sex = QHBoxLayout()\n      sex.addWidget(QRadioButton(\"Male\"))\n      sex.addWidget(QRadioButton(\"Female\"))\n      layout.addRow(QLabel(\"Sex\"),sex)\n      layout.addRow(\"Date of Birth\",QLineEdit())\n      self.tabWidget.setTabText(1,\"Personal Details\")\n      self.tabWidget.tab2.setLayout(layout)\n\n   def tab3UI(self):\n      layout = QHBoxLayout()\n      layout.addWidget(QLabel(\"subjects\")) \n      layout.addWidget(QCheckBox(\"Physics\"))\n      layout.addWidget(QCheckBox(\"Maths\"))\n      self.tabWidget.setTabText(2,\"Education Details\")\n      self.tabWidget.tab3.setLayout(layout)\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    form = TabbedDialog()\n    retval = form.exec_()\n</code></pre>\n"}, {"tags": ["python", "environment-variables", "ipython", "nltk", "ghostscript"], "comments": [{"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1471483730, "post_id": 39007755, "comment_id": 65368909, "body": "You might be missing the models. Try running <code>import nltk; nltk.download(&#39;all&#39;, halt_on_error=False)</code>. Then re-run your script."}, {"owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1471538780, "post_id": 39007755, "comment_id": 65397593, "body": "@alvas that didn&#39;t fix it."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1471554254, "post_id": 39007755, "comment_id": 65405775, "body": "Where did you install ghostscript? Where is the ghostscript .exe file located?"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 1, "creation_date": 1471554556, "post_id": 39007755, "comment_id": 65405887, "body": "Okay, now this is a little interesting =)"}, {"owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "reply_to_user": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1471555080, "post_id": 39007755, "comment_id": 65406077, "body": "@alvas C:\\Program Files\\gs\\gs9.19\\bin"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1471558110, "post_id": 39007755, "comment_id": 65407165, "body": "What is your output for <code>import os; print os.environ[&#39;PATH&#39;]</code>? Alternatively, you can also use <code>import os; print os.getenv(&#39;PATH&#39;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "edited": false, "score": 0, "creation_date": 1471559050, "post_id": 39028327, "comment_id": 65407480, "body": "Worked after I changed the forward slashes to back slashes in the path_to_gs assignment. Thanks"}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "edited": false, "score": 0, "creation_date": 1471559104, "post_id": 39028327, "comment_id": 65407501, "body": "Could you edit your question to add the outputs to <code>os.environ[&#39;PATH&#39;]</code>? That will be helpful in the future if someone else have the same problem =) Thanks!"}, {"owner": {"reputation": 360, "user_id": 5303618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521c576d7053658fa72330b652beed97?s=128&d=identicon&r=PG&f=1", "display_name": "H. Rev.", "link": "https://stackoverflow.com/users/5303618/h-rev"}, "edited": false, "score": 1, "creation_date": 1604336520, "post_id": 39028327, "comment_id": 114310626, "body": "As @predictorx mentions below, &quot;\\b&quot; can be mapped to &quot;\\x08&quot;, to avoid that, either escape every backslashes (replacing <code>&quot;C:\\Program Files\\gs\\gs9.19\\bin&quot;</code> by <code>&quot;C:\\\\Program Files\\\\gs\\\\gs9.19\\\\bin&quot;</code>) or use forward slash <code>&#47;</code> in the path. And more generally,  in Windows, add that path in the user&#39;s<code>Path</code> Environment Variable to avoid these lines in each script."}], "tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": true, "score": 6, "last_activity_date": 1471558563, "last_edit_date": 1495542784, "creation_date": 1471558563, "answer_id": 39028327, "question_id": 39007755, "link": "https://stackoverflow.com/questions/39007755/cant-find-ghostscript-in-nltk/39028327#39028327", "title": "Can&#39;t find ghostscript in NLTK?", "body": "<p><strong>In short</strong>:</p>\n\n<p>Instead of <code>&gt;&gt;&gt; entities</code>, do this:</p>\n\n<pre><code>&gt;&gt;&gt; print entities.__repr__()\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; from nltk import word_tokenize, pos_tag, ne_chunk\n&gt;&gt;&gt; path_to_gs = \"C:\\Program Files\\gs\\gs9.19\\bin\"\n&gt;&gt;&gt; os.environ['PATH'] += os.pathsep + path_to_gs\n&gt;&gt;&gt; sent = \"Betty Botter bought some butter, but she said the butter is  bitter, I f I put it in my batter, it will make my batter bitter.\"\n&gt;&gt;&gt; entities = ne_chunk(pos_tag(word_tokenize(sent)))\n&gt;&gt;&gt; entities\n</code></pre>\n\n<hr>\n\n<p><strong>In long</strong>:</p>\n\n<p>The problem lies in you trying to print the output of the <code>ne_chunk</code> and that will fire ghostscript to get the string and drawing representation of the NE tagged sentence, which is an <code>nltk.tree.Tree</code> object. And that will require ghostscript so you can use the widget to visualize it.</p>\n\n<p>Let's walkthrough this step by step.</p>\n\n<p>First when you use <code>ne_chunk</code>, you can directly import it at the top level as such:</p>\n\n<pre><code>from nltk import ne_chunk\n</code></pre>\n\n<p>And it's advisable to use namespaces for your imports, i.e.:</p>\n\n<pre><code>from nltk import word_tokenize, pos_tag, ne_chunk\n</code></pre>\n\n<p>And when you use <code>ne_chunk</code>, it comes from <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/chunk/__init__.py\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/chunk/<strong>init</strong>.py</a></p>\n\n<p>It's unclear what kind of function is the pickle loading but after some inspection, we find that there's only one built-in NE chunker that isn't rule-based and since the name of the pickle binary states maxent, we can assume that it's a statistical chunker, so it most probably be comes from the <code>NEChunkParser</code> object in this: <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/chunk/named_entity.py\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/chunk/named_entity.py</a> . There are ACE data API functions too, so as the name of the pickle binary.</p>\n\n<p>Now, whenever you can the <code>ne_chunk</code> function, it's actually calling the\n<code>NEChunkParser.parse()</code> function that returns a <code>nltk.tree.Tree</code> object: <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/chunk/named_entity.py#L118\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/chunk/named_entity.py#L118</a></p>\n\n<pre><code>class NEChunkParser(ChunkParserI):\n    \"\"\"\n    Expected input: list of pos-tagged words\n    \"\"\"\n    def __init__(self, train):\n        self._train(train)\n\n    def parse(self, tokens):\n        \"\"\"\n        Each token should be a pos-tagged word\n        \"\"\"\n        tagged = self._tagger.tag(tokens)\n        tree = self._tagged_to_parse(tagged)\n        return tree\n\n    def _train(self, corpus):\n        # Convert to tagged sequence\n        corpus = [self._parse_to_tagged(s) for s in corpus]\n\n        self._tagger = NEChunkParserTagger(train=corpus)\n\n    def _tagged_to_parse(self, tagged_tokens):\n        \"\"\"\n        Convert a list of tagged tokens to a chunk-parse tree.\n        \"\"\"\n        sent = Tree('S', [])\n\n        for (tok,tag) in tagged_tokens:\n            if tag == 'O':\n                sent.append(tok)\n            elif tag.startswith('B-'):\n                sent.append(Tree(tag[2:], [tok]))\n            elif tag.startswith('I-'):\n                if (sent and isinstance(sent[-1], Tree) and\n                    sent[-1].label() == tag[2:]):\n                    sent[-1].append(tok)\n                else:\n                    sent.append(Tree(tag[2:], [tok]))\n        return sent\n</code></pre>\n\n<p>If we take a look at the <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tree.py\" rel=\"noreferrer\"><code>nltk.tree.Tree</code></a>ject that's where the ghostscript problems appears when it's trying to call the <code>_repr_png_</code> function: <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tree.py#L702\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/tree.py#L702</a>:</p>\n\n<pre><code>def _repr_png_(self):\n    \"\"\"\n    Draws and outputs in PNG for ipython.\n    PNG is used instead of PDF, since it can be displayed in the qt console and\n    has wider browser support.\n    \"\"\"\n    import os\n    import base64\n    import subprocess\n    import tempfile\n    from nltk.draw.tree import tree_to_treesegment\n    from nltk.draw.util import CanvasFrame\n    from nltk.internals import find_binary\n    _canvas_frame = CanvasFrame()\n    widget = tree_to_treesegment(_canvas_frame.canvas(), self)\n    _canvas_frame.add_widget(widget)\n    x, y, w, h = widget.bbox()\n    # print_to_file uses scrollregion to set the width and height of the pdf.\n    _canvas_frame.canvas()['scrollregion'] = (0, 0, w, h)\n    with tempfile.NamedTemporaryFile() as file:\n        in_path = '{0:}.ps'.format(file.name)\n        out_path = '{0:}.png'.format(file.name)\n        _canvas_frame.print_to_file(in_path)\n        _canvas_frame.destroy_widget(widget)\n        subprocess.call([find_binary('gs', binary_names=['gswin32c.exe', 'gswin64c.exe'], env_vars=['PATH'], verbose=False)] +\n                        '-q -dEPSCrop -sDEVICE=png16m -r90 -dTextAlphaBits=4 -dGraphicsAlphaBits=4 -dSAFER -dBATCH -dNOPAUSE -sOutputFile={0:} {1:}'\n                        .format(out_path, in_path).split())\n        with open(out_path, 'rb') as sr:\n            res = sr.read()\n        os.remove(in_path)\n        os.remove(out_path)\n        return base64.b64encode(res).decode()\n</code></pre>\n\n<p>But note that it's strange that the python interpreter would fire <code>_repr_png</code> instead of <code>__repr__</code> when you use <code>&gt;&gt;&gt; entities</code> at the interpreter (see <a href=\"https://stackoverflow.com/questions/1984162/purpose-of-pythons-repr\">Purpose of Python&#39;s __repr__</a>). It couldn't be how the native CPython interpreter work when trying to print out the representation of an object, so we take a look at <code>Ipython.core.formatters</code> and we see that it allows <code>_repr_png</code> to be fired at <a href=\"https://github.com/ipython/ipython/blob/master/IPython/core/formatters.py#L725\" rel=\"noreferrer\">https://github.com/ipython/ipython/blob/master/IPython/core/formatters.py#L725</a>:</p>\n\n<pre><code>class PNGFormatter(BaseFormatter):\n    \"\"\"A PNG formatter.\n    To define the callables that compute the PNG representation of your\n    objects, define a :meth:`_repr_png_` method or use the :meth:`for_type`\n    or :meth:`for_type_by_name` methods to register functions that handle\n    this.\n    The return value of this formatter should be raw PNG data, *not*\n    base64 encoded.\n    \"\"\"\n    format_type = Unicode('image/png')\n\n    print_method = ObjectName('_repr_png_')\n\n    _return_type = (bytes, unicode_type)\n</code></pre>\n\n<p>And we see that when IPython initializes a <code>DisplayFormatter</code> object, it tries to activate all formatters: <a href=\"https://github.com/ipython/ipython/blob/master/IPython/core/formatters.py#L66\" rel=\"noreferrer\">https://github.com/ipython/ipython/blob/master/IPython/core/formatters.py#L66</a></p>\n\n<pre><code>def _formatters_default(self):\n    \"\"\"Activate the default formatters.\"\"\"\n    formatter_classes = [\n        PlainTextFormatter,\n        HTMLFormatter,\n        MarkdownFormatter,\n        SVGFormatter,\n        PNGFormatter,\n        PDFFormatter,\n        JPEGFormatter,\n        LatexFormatter,\n        JSONFormatter,\n        JavascriptFormatter\n    ]\n    d = {}\n    for cls in formatter_classes:\n        f = cls(parent=self)\n        d[f.format_type] = f\n    return d\n</code></pre>\n\n<p>Note that outside of <code>Ipython</code>, in the native CPython interpreter, it will only call the <code>__repr__</code> and not the <code>_repr_png</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from nltk import ne_chunk\n&gt;&gt;&gt; from nltk import word_tokenize, pos_tag, ne_chunk\n&gt;&gt;&gt; Sentence  = \"Betty Botter bought some butter, but she said the butter is  bitter, I f I put it in my batter, it will make my batter bitter.\"\n&gt;&gt;&gt; sentence  = \"Betty Botter bought some butter, but she said the butter is  bitter, I f I put it in my batter, it will make my batter bitter.\"\n&gt;&gt;&gt; entities = ne_chunk(pos_tag(word_tokenize(sentence)))\n&gt;&gt;&gt; entities\nTree('S', [Tree('PERSON', [('Betty', 'NNP')]), Tree('PERSON', [('Botter', 'NNP')]), ('bought', 'VBD'), ('some', 'DT'), ('butter', 'NN'), (',', ','), ('but', 'CC'), ('she', 'PRP'), ('said', 'VBD'), ('the', 'DT'), ('butter', 'NN'), ('is', 'VBZ'), ('bitter', 'JJ'), (',', ','), ('I', 'PRP'), ('f', 'VBP'), ('I', 'PRP'), ('put', 'VBD'), ('it', 'PRP'), ('in', 'IN'), ('my', 'PRP$'), ('batter', 'NN'), (',', ','), ('it', 'PRP'), ('will', 'MD'), ('make', 'VB'), ('my', 'PRP$'), ('batter', 'NN'), ('bitter', 'NN'), ('.', '.')])\n</code></pre>\n\n<hr>\n\n<p>So now the solution:</p>\n\n<p><strong>Solution 1</strong>:</p>\n\n<p>When printing out the string output of the <code>ne_chunk</code>, you can use </p>\n\n<pre><code>&gt;&gt;&gt; print entities.__repr__()\n</code></pre>\n\n<p>instead of <code>&gt;&gt;&gt; entities</code> that way, IPython should explicitly call only the <code>__repr__</code> instead of call all possible formatters.</p>\n\n<p><strong>Solution 2</strong></p>\n\n<p>If you really need to use the <code>_repr_png_</code> to visualize the Tree object, then we will need to figure out how to add the ghostscript binary to the NLTK environmental variables. </p>\n\n<p>In your case, it seems like the default <code>nltk.internals</code> are unable to find the binary. More specifically, we're referring to <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/internals.py#L599\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/internals.py#L599</a></p>\n\n<p>If we go back to <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tree.py#L726\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/tree.py#L726</a>, we see that, it's trying to look for the </p>\n\n<pre><code>env_vars=['PATH']\n</code></pre>\n\n<p>And when NLTK tries to initialize it's environment variables, it is looking at <code>os.environ</code>, see <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/internals.py#L495\" rel=\"noreferrer\">https://github.com/nltk/nltk/blob/develop/nltk/internals.py#L495</a></p>\n\n<p>Note that <code>find_binary</code> calls <code>find_binary_iter</code> which calls <code>find_binary_iter</code> that tries to look for the <code>env_vars</code> by fetching <code>os.environ</code></p>\n\n<p>So if we add to the path:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; from nltk import word_tokenize, pos_tag, ne_chunk\n&gt;&gt;&gt; path_to_gs = \"C:\\Program Files\\gs\\gs9.19\\bin\"\n&gt;&gt;&gt; os.environ['PATH'] += os.pathsep + path_to_gs\n</code></pre>\n\n<p>Now this should work in Ipython:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; from nltk import word_tokenize, pos_tag, ne_chunk\n&gt;&gt;&gt; path_to_gs = \"C:\\Program Files\\gs\\gs9.19\\bin\"\n&gt;&gt;&gt; os.environ['PATH'] += os.pathsep + path_to_gs\n&gt;&gt;&gt; sent = \"Betty Botter bought some butter, but she said the butter is  bitter, I f I put it in my batter, it will make my batter bitter.\"\n&gt;&gt;&gt; entities = ne_chunk(pos_tag(word_tokenize(sent)))\n&gt;&gt;&gt; entities\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8272293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5CACzolZdXk/AAAAAAAAAAI/AAAAAAAAAVI/NxLZYtnRADk/photo.jpg?sz=128", "display_name": "Harsha Soni", "link": "https://stackoverflow.com/users/8272293/harsha-soni"}, "is_accepted": false, "score": 0, "last_activity_date": 1499454237, "last_edit_date": 1499454237, "creation_date": 1499450267, "answer_id": 44977004, "question_id": 39007755, "link": "https://stackoverflow.com/questions/39007755/cant-find-ghostscript-in-nltk/44977004#44977004", "title": "Can&#39;t find ghostscript in NLTK?", "body": "<p>Download <code>gs.exe</code> from \"<a href=\"https://www.ghostscript.com/download/gsdnld.html\" rel=\"nofollow noreferrer\">https://www.ghostscript.com/download/gsdnld.html</a>\" and add its path to <code>Environment Variables</code></p>\n\n<p>Path may be stored at </p>\n\n<blockquote>\n  <p>C:\\Program Files\\ </p>\n  \n  <p>(in my system it looks like \"C:\\Program Files\\gs\\gs9.21\\bin\")</p>\n</blockquote>\n\n<p>and for adding it to environment variable:</p>\n\n<blockquote>\n  <p>control panel->system and security->system->advanced system\n  settings->Environment Variables->(in system variables scroll down and\n  double click on path)-></p>\n</blockquote>\n\n<p>and then add the copied path</p>\n\n<blockquote>\n  <p>(in my case \"C:\\Program Files\\gs\\gs9.21\\bin\")</p>\n</blockquote>\n\n<p><strong>P.S.</strong>: Don't forget to add semicolon (<code>;</code>) before coping the path instead of deleting the existing paths and then simply putting it there, you might get into trouble and would need to run backup :)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8281538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e63e16bcda76bf8cc1d4f506c00c71?s=128&d=identicon&r=PG&f=1", "display_name": "predictorx", "link": "https://stackoverflow.com/users/8281538/predictorx"}, "is_accepted": false, "score": 0, "last_activity_date": 1564046869, "creation_date": 1564046869, "answer_id": 57198628, "question_id": 39007755, "link": "https://stackoverflow.com/questions/39007755/cant-find-ghostscript-in-nltk/57198628#57198628", "title": "Can&#39;t find ghostscript in NLTK?", "body": "<p>In my case, when I add path with same code of alvas, it turns out:</p>\n\n<pre><code>'C:\\\\Program Files\\\\gs\\\\gs9.27\\x08in'\n</code></pre>\n\n<p>Which is not correct, so, I change to: path_to_gs = 'C:/Program Files/gs/gs9.27/bin' and it works.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9574869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kqIhLcj41Bo/AAAAAAAAAAI/AAAAAAAAQlw/SB5e-JKjfXQ/photo.jpg?sz=128", "display_name": "Bhujay Bhatta", "link": "https://stackoverflow.com/users/9574869/bhujay-bhatta"}, "is_accepted": false, "score": 0, "last_activity_date": 1615000615, "creation_date": 1615000615, "answer_id": 66502021, "question_id": 39007755, "link": "https://stackoverflow.com/questions/39007755/cant-find-ghostscript-in-nltk/66502021#66502021", "title": "Can&#39;t find ghostscript in NLTK?", "body": "<p>Adding to the comment of @predictorx.  What worked for me is</p>\n<pre><code>    path_to_gs = &quot;C:\\Program Files\\gs\\gs9.53.3\\\\bin&quot;\n    os.environ['PATH'] += path_to_gs\n</code></pre>\n"}], "owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4536, "favorite_count": 2, "accepted_answer_id": 39028327, "answer_count": 4, "score": 2, "last_activity_date": 1615000615, "creation_date": 1471476600, "last_edit_date": 1495539865, "question_id": 39007755, "link": "https://stackoverflow.com/questions/39007755/cant-find-ghostscript-in-nltk", "title": "Can&#39;t find ghostscript in NLTK?", "body": "<p>I'm playing around with NLTK, when I try to use the chunk module </p>\n\n<pre><code>enter import nltk as nk\nSentence  = \"Betty Botter bought some butter, but she said the butter is  bitter, I f I put it in my batter, it will make my batter bitter.\"\ntokens = nk.word_tokenize(Sentence)\ntagged = nk.pos_tag(tokens)\nentities = nk.chunk.ne_chunk(tagged) \n</code></pre>\n\n<p>The code runs fine, when I type </p>\n\n<pre><code>&gt;&gt; entities \n</code></pre>\n\n<p>I get the following error message:</p>\n\n<pre><code>enter code here Out[2]: Tree('S', [Tree('PERSON', [('Betty', 'NNP')]), Tree('PERSON', [('Botter', 'NNP')]), ('bought', 'VBD'), ('some', 'DT'), ('butter', 'NN'), (',', ','), ('but', 'CC'), ('she', 'PRP'), ('said', 'VBD'), ('the', 'DT'), ('butter', 'NN'), ('is', 'VBZ'), ('bitter', 'JJ'), (',', ','), ('I', 'PRP'), ('f', 'VBP'), ('I', 'PRP'), ('put', 'VBD'), ('it', 'PRP'), ('in', 'IN'), ('my', 'PRP$'), ('batter', 'NN'), (',', ','), ('it', 'PRP'), ('will', 'MD'), ('make', 'VB'), ('my', 'PRP$'), ('batter', 'NN'), ('bitter', 'NN'), ('.', '.')])Traceback (most recent call last):\n\nFile \"C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\IPython\\core\\formatters.py\", line 343, in __call__\nreturn method()\n\nFile \"C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\nltk\\tree.py\", line 726, in _repr_png_\nsubprocess.call([find_binary('gs', binary_names=['gswin32c.exe', 'gswin64c.exe'], env_vars=['PATH'], verbose=False)] +\n\nFile \"C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\nltk\\internals.py\", line 602, in find_binary\nbinary_names, url, verbose))\n\nFile \"C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\nltk\\internals.py\", line 596, in find_binary_iter\nurl, verbose):\n\nFile \"C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\lib\\site-packages\\nltk\\internals.py\", line 567, in find_file_iter\nraise LookupError('\\n\\n%s\\n%s\\n%s' % (div, msg, div))\n\nLookupError: \n\n===========================================================================\nNLTK was unable to find the gs file!\nUse software specific configuration paramaters or set the PATH environment variable.\n===========================================================================\n</code></pre>\n\n<p>According <a href=\"https://stackoverflow.com/a/37160385/3967806\">to this post</a>, the solution is to install Ghostscript, since the chunker is trying to use it to display a parse tree, and is looking for one of 3 binaries: </p>\n\n<pre><code>file_names=['gs', 'gswin32c.exe', 'gswin64c.exe']\n</code></pre>\n\n<p>to use. \nBut even though I installed ghostscript and I can now find the binary in a windows search, but I am still getting the same error. </p>\n\n<p>What do I need to fix or update? </p>\n\n<hr>\n\n<p>Additional path information: </p>\n\n<pre><code>import os; print os.environ['PATH']\n</code></pre>\n\n<p>Returns: </p>\n\n<pre><code>C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Library\\bin;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Library\\bin;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Scripts;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Library\\bin;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Library\\bin;C:\\Program Files (x86)\\Parallels\\Parallels Tools\\Applications;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Oracle\\RPAS14.1\\RpasServer\\bin;C:\\Oracle\\RPAS14.1\\RpasServer\\applib;C:\\Program Files (x86)\\Java\\jre7\\bin;C:\\Program Files (x86)\\Java\\jre7\\bin\\client;C:\\Program Files (x86)\\Java\\jre7\\lib;C:\\Program Files (x86)\\Java\\jre7\\jre\\bin\\client;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Scripts;C:\\Users\\QP19\\AppData\\Local\\Continuum\\Anaconda2\\Library\\bin;  \n</code></pre>\n"}, {"tags": ["python", "xml"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 6, "creation_date": 1471476760, "post_id": 39007743, "comment_id": 65367224, "body": "Please don&#39;t parse XML with regular expressions. It&#39;s a terrible idea and it makes experienced programmers weep. Try <a href=\"https://www.crummy.com/software/BeautifulSoup/\" rel=\"nofollow noreferrer\">BeautifulSoup</a> or its underlying library <a href=\"https://pypi.python.org/pypi/lxml\" rel=\"nofollow noreferrer\">lxml</a>"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1471477008, "post_id": 39007743, "comment_id": 65367292, "body": "Im thinking to store the exactly sequence in a external file. How can I implement it? can you help me with this?Thanks!"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1471523501, "post_id": 39007743, "comment_id": 65386950, "body": "@AdamSmith, ...the difficulty here is that they want to find a comment, so it&#39;s not something that actually shows up in a DOM tree."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471523591, "post_id": 39007743, "comment_id": 65387021, "body": "BTW, when creating a new question closely linked to an old one (in this case, a Python-rather-than-shell instance of <a href=\"http://stackoverflow.com/questions/38958403/find-xml-files-non-containing-a-specific-comment-from-shell/38961603\" title=\"find xml files non containing a specific comment from shell\">stackoverflow.com/questions/38958403/&hellip;</a>) it&#39;s considered good form to include a link, and describe explicitly what distinguishes them."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471523660, "post_id": 39007743, "comment_id": 65387079, "body": "Sorry but i think the question is different, itas about print out the content of a tag if it exist between comments tags. Please see last update/example. Thanks!"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1471524495, "post_id": 39007743, "comment_id": 65387639, "body": "@CharlesDuffy comments can be parsed in both XPath and XSLT with the <a href=\"http://stackoverflow.com/questions/784745/accessing-comments-in-xml-using-xpath\"><code>comment()</code></a> function."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471533606, "post_id": 39007743, "comment_id": 65394289, "body": "Some help how to implement the update #3 into the code of update #4 wihtout additional package installation(no beautifulsoap ...)?? Thanks!"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471566047, "post_id": 39007743, "comment_id": 65409216, "body": "Im trying in another machine with Beautiful soap the code of Update #5 , but still getting that error, some help please?? : Traceback (most recent call last):   File &quot;python9.py&quot;, line 27, in &lt;module&gt;     comments=soup.find_all(string=lambda text:isinstance(text,Comment)) NameError: name &#39;soup&#39; is not defined"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471566124, "post_id": 39007743, "comment_id": 65409233, "body": "I am expecting to print out, the content of tag &lt;module&gt; if it exists between |--&gt; &lt;!-- as explained at begining"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471477352, "post_id": 39007836, "comment_id": 65367371, "body": "Great thanks! thats a good solution, but it&#180;s possible to do it more restrictive? For instance if we writte an ENTER between the 3rd and 4rd line?? I would like also to cover that case if possible"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471504801, "post_id": 39007836, "comment_id": 65375340, "body": "Some tip please to do it as previous comment??"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471513011, "post_id": 39007836, "comment_id": 65380090, "body": "Is is possible to detect also ENTER between the line 3 and 4 of this input? I can detect only if there is some character more or less, i would like to detect also spaces or TAB. Thanks! :))"}], "tags": [], "owner": {"reputation": 11, "user_id": 2592704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488511b42b8be1553129edb3244b0cd5?s=128&d=identicon&r=PG", "display_name": "user2592704", "link": "https://stackoverflow.com/users/2592704/user2592704"}, "is_accepted": false, "score": 0, "last_activity_date": 1471533877, "last_edit_date": 1471533877, "creation_date": 1471477091, "answer_id": 39007836, "question_id": 39007743, "link": "https://stackoverflow.com/questions/39007743/exact-string-search-in-xml-files/39007836#39007836", "title": "Exact string search in XML files?", "body": "<p>The \"|()\" characters must be escaped, also add re.MULTILINE to the regex.</p>\n\n<p><code>comment=re.compile(r\"&lt;!--\\s+\\| Start of user code \\(user defined modules\\)\\s+\\|--&gt;\\s+&lt;!--\\s+\\| End of user code\\s+\\|--&gt;\", re.MULTILINE)</code></p>\n\n<p>Edit: you can also place newline characters in your regex expression: \\n</p>\n\n<p>Arbitrary (or no) white space would be: \\s*</p>\n\n<p>You can find more information on python regex here: <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">https://docs.python.org/2/library/re.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471519128, "post_id": 39015211, "comment_id": 65383967, "body": "Is it possible for those cases that we are printing because they match, print also the content written between |--&gt;    AND    &lt;!-- ?? Thank you! :))"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471519721, "post_id": 39015211, "comment_id": 65384376, "body": "Yes, you can call .text or .find, refer to the documentation for a complete overview of BS API: <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc</a>"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471519815, "post_id": 39015211, "comment_id": 65384430, "body": "Thanks! And for the previous question? some tips too?"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471520012, "post_id": 39015211, "comment_id": 65384563, "body": "Im actually interested in print the content of the tag &quot;module&quot; , when it exist between |--&gt; AND &lt;!--"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471520023, "post_id": 39015211, "comment_id": 65384567, "body": "to use in your code you need just call the BS constructor with the file you want to parse, then you can iterate over the structure finding the comments you want, the answer here can point you where to go: <a href=\"http://stackoverflow.com/questions/33138937/how-to-find-all-comments-with-beautiful-soup\" title=\"how to find all comments with beautiful soup\">stackoverflow.com/questions/33138937/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471520879, "post_id": 39015211, "comment_id": 65385094, "body": "Thanks daniel, \t I want to print the content of the XML tag &quot;module&quot; , when it exist placed between  |--&gt; AND &lt;!--   into  the sequence that im searching for. How can i reach that? some coding examples please?"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471520987, "post_id": 39015211, "comment_id": 65385148, "body": "To let you know, Im using the final code from: <a href=\"http://stackoverflow.com/questions/39013059/skip-directories-in-a-search-in-python/39013259?noredirect=1#comment65378217_39013259\" title=\"skip directories in a search in python\">stackoverflow.com/questions/39013059/&hellip;</a>"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471521078, "post_id": 39015211, "comment_id": 65385218, "body": "Can you paste the content of some file with what you&#39;re expecting?"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471521632, "post_id": 39015211, "comment_id": 65385607, "body": "I added an update, please let me know if its not clear and thanks so much for your tips! :)"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471522861, "post_id": 39015211, "comment_id": 65386474, "body": "Ok, just updated the answer, let me know if it fix your code."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471523274, "post_id": 39015211, "comment_id": 65386766, "body": "The explanation is that I need to search between this tags of user defined modules, so i can see if sombody wrotte something. In case they wrotte some module, print out the content. Could you please help me to embed into last Update code, so i can test? Thanks so so much for your teach and help!"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471523563, "post_id": 39015211, "comment_id": 65387004, "body": "Embed should be very simple, the code is pretty straight forward, just copy it to your code, replacing the code opening and searching through the content of the file and test it."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471524206, "post_id": 39015211, "comment_id": 65387437, "body": "Unfortunatly I got IndentationError  and also Traceback (most recent call last):   File &quot;python_script_8.py&quot;, line 19, in &lt;module&gt;     from bs4 import BeautifulSoup ImportError: No module named bs4... Some final help to embed it?? Thanks so much!"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471524330, "post_id": 39015211, "comment_id": 65387516, "body": "You&#39;ve to install BeautifulSoup before use it: <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-beautiful-soup\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc/&hellip;</a>"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471525538, "post_id": 39015211, "comment_id": 65388382, "body": "Daniel unfortunately im not allow to install additional packages neither have root privileges... some workaround? Thanks!!"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471526158, "post_id": 39015211, "comment_id": 65388826, "body": "You don&#39;t need root privilegie if you&#39;re using a python virtual environment."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471526348, "post_id": 39015211, "comment_id": 65388958, "body": "Unfortunately in OpenSuse and my current net looks restrcited.... zypper install python-beautifulsoup-3.0.8.1-8.2.noarch Root privileges are required for installing or uninstalling packages."}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471528197, "post_id": 39015211, "comment_id": 65390303, "body": "Somebody knows some workaround to reach the UPDATE &amp; LAST UPDATE without install any additional package? Thanks!!"}, {"owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "reply_to_user": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471555016, "post_id": 39015211, "comment_id": 65406067, "body": "You can try using xml.etree, that&#39;s a standard library: <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/xml.etree.elementtree.html</a>"}, {"owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "edited": false, "score": 0, "creation_date": 1471558141, "post_id": 39015211, "comment_id": 65407181, "body": "Danielfranca thanks for the hint. I was reading still trying to get all knowledge..I will appreciatte how to really looks into my code to be able to test asap... somebody can show me how to use it into the last UPDATE #4 from the 1st comment... im now stucked.. Thanks!! :))"}], "tags": [], "owner": {"reputation": 4316, "user_id": 1742659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BpSsV.jpg?s=128&g=1", "display_name": "dfranca", "link": "https://stackoverflow.com/users/1742659/dfranca"}, "is_accepted": true, "score": 1, "last_activity_date": 1471522841, "last_edit_date": 1495540846, "creation_date": 1471514295, "answer_id": 39015211, "question_id": 39007743, "link": "https://stackoverflow.com/questions/39007743/exact-string-search-in-xml-files/39015211#39015211", "title": "Exact string search in XML files?", "body": "<p>Don't parse a XML file with regular expression. <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">The best Stackoverflow answer ever can explain you why</a></p>\n\n<p>You can use BeautifulSoup to help on that task</p>\n\n<p>Look how simple would be extract something from your code</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\ncontent = \"\"\"\n    &lt;!--\n     | Start of user code (user defined modules)\n     |--&gt;\n\n    &lt;!--\n     | End of user code\n     |--&gt;\n\"\"\"\n\nbs = BeautifulSoup(content, \"html.parser\")\nprint(''.join(bs.contents))\n</code></pre>\n\n<p>Of course you can use your xml file instead of the literal I'm using</p>\n\n<pre><code>bs = BeautifulSoup(open(\"pom.xml\"), \"html.parser\")\n</code></pre>\n\n<p>A small example using your expected input</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom bs4 import Comment\n\nbs = BeautifulSoup(open(p), \"html.parser\")\n# Extract all comments\ncomments=soup.find_all(string=lambda text:isinstance(text,Comment))\nfor c in comments:\n    # Check if it's the start of the code\n    if \"Start of user code\" in c:\n        modules = [m for m in c.findNextSiblings(name='module')]\n        for mod in modules:\n            print(mod.text)\n</code></pre>\n\n<p>But if your code is always in a <strong>module</strong> tag I don't know why you should care about the comments before/after, you can just find the code inside the <strong>module</strong> tag directly</p>\n"}], "owner": {"reputation": 29, "user_id": 2961008, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FS4wN.png?s=128&g=1", "display_name": "user2961008", "link": "https://stackoverflow.com/users/2961008/user2961008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "accepted_answer_id": 39015211, "answer_count": 2, "score": -1, "last_activity_date": 1471798414, "creation_date": 1471476500, "last_edit_date": 1471798414, "question_id": 39007743, "link": "https://stackoverflow.com/questions/39007743/exact-string-search-in-xml-files", "title": "Exact string search in XML files?", "body": "<p>I need to search into some XML files (all of them have the same name, pom.xml) for the following text sequence exactly (also in subfolders), so in case somebody write some text or even a blank, I must get an alert:</p>\n\n<pre><code>     &lt;!--\n     | Startsection\n     |--&gt;         \n    &lt;!-- \n     | Endsection\n     |--&gt;\n</code></pre>\n\n<p>I'm running the following Python script, but still not matching exactly, I also get alert even when it's partially the text inside:</p>\n\n<pre><code>import re\nimport os\nfrom os.path import join\ncomment=re.compile(r\"&lt;!--\\s+| Startsection\\s+|--&gt;\\s+&lt;!--\\s+| Endsection\\s+|--&gt;\")\ntag=\"&lt;module&gt;\"\n\nfor root, dirs, files in os.walk(\".\"):\n\n    if \"pom.xml\" in files:\n        p=join(root, \"pom.xml\") \n        print(\"Checking\",p)\n        with open(p) as f:\n            s=f.read()\n        if tag in s and comment.search(s):\n            print(\"Matched\",p)\n</code></pre>\n\n<p>UPDATE #3</p>\n\n<p>I am expecting to print out, the content of tag <code>&lt;module&gt;</code> if it exists between <code>|--&gt; &lt;!--</code>    </p>\n\n<p>into the search:</p>\n\n<pre><code> &lt;!--\n | Startsection\n |--&gt;         \n &lt;!-- \n | Endsection\n |--&gt;\n</code></pre>\n\n<p>for instance print after Matched , and the name of the file, also print \"example.test1\" in the case below :       </p>\n\n<pre><code>     &lt;!--\n     | Startsection\n     |--&gt;         \n       &lt;module&gt;example.test1&lt;/module&gt;\n     &lt;!-- \n     | Endsection\n     |--&gt;\n</code></pre>\n\n<p>UPDATE #4</p>\n\n<p>Should be using the following :</p>\n\n<pre><code>import re\nimport os\nfrom os.path import join\ncomment=re.compile(r\"&lt;!--\\s+\\| Startsection\\s+\\|--&gt;\\s+&lt;!--\\s+\\| Endsection\\s+\\|--&gt;\", re.MULTILINE)\ntag=\"&lt;module&gt;\"\n\nfor root, dirs, files in os.walk(\"/home/temp/test_folder/\"):\n for skipped in (\"test1\", \"test2\", \".repotest\"):\n    if skipped in dirs: dirs.remove(skipped)\n\n if \"pom.xml\" in files:\n    p=join(root, \"pom.xml\") \n    print(\"Checking\",p)\n    with open(p) as f:\n       s=f.read()\n       if tag in s and comment.search(s):\n          print(\"The following files are corrupted \",p)\n</code></pre>\n\n<p>UPDATE #5</p>\n\n<pre><code>import re\nimport os\nimport xml.etree.ElementTree as etree \nfrom bs4 import BeautifulSoup \nfrom bs4 import Comment\n\nfrom os.path import join\ncomment=re.compile(r\"&lt;!--\\s+\\| Startsection\\s+\\|--&gt;\\s+&lt;!--\\s+\\| Endsection\\s+\\|--&gt;\", re.MULTILINE)\ntag=\"&lt;module&gt;\"\n\nfor root, dirs, files in os.walk(\"myfolder\"):\n for skipped in (\"model\", \"doc\"):\n    if skipped in dirs: dirs.remove(skipped)\n\n if \"pom.xml\" in files:\n    p=join(root, \"pom.xml\") \n    print(\"Checking\",p)\n    with open(p) as f:\n       s=f.read()\n       if tag in s and comment.search(s):\n          print(\"ERROR: The following file are corrupted\",p)\n\n\n\nbs = BeautifulSoup(open(p), \"html.parser\")\n# Extract all comments\ncomments=soup.find_all(string=lambda text:isinstance(text,Comment))\nfor c in comments:\n    # Check if it's the start of the code\n    if \"Start of user code\" in c:\n        modules = [m for m in c.findNextSiblings(name='module')]\n        for mod in modules:\n            print(mod.text)\n</code></pre>\n"}, {"tags": ["python", "raspberry-pi", "pygame", "touchscreen", "calibration"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1471477560, "post_id": 39007742, "comment_id": 65367425, "body": "is your screen rotated ? (IE VERTICAL?) at a guess when you run it normally you have a desktop x11 environment (that in turn helps with some touch transformations) ... and at a guess when you autostart the x11 environment is not loaded so you have to manually edit in the <code>~&#47;.kivy&#47;config.ini</code> (or whatever file) and create entries in the mtdev section  (see <a href=\"https://kivy.org/docs/api-kivy.input.providers.mtdev.html\" rel=\"nofollow noreferrer\">kivy.org/docs/api-kivy.input.providers.mtdev.html</a>)"}, {"owner": {"reputation": 9, "user_id": 6728458, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xnUEC1ULR08/AAAAAAAAAAI/AAAAAAAAAMA/Mcxdrj2nUyg/photo.jpg?sz=128", "display_name": "Arne Thiels", "link": "https://stackoverflow.com/users/6728458/arne-thiels"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1471535148, "post_id": 39007742, "comment_id": 65395374, "body": "Thank you for your response!  The screen is not rotated. Is there a way to wait until the x11 environment is loaded? Or can you help me a bit more with the config ini file? don&#39;t know where to begin here... Thank you!"}, {"owner": {"reputation": 9, "user_id": 6728458, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xnUEC1ULR08/AAAAAAAAAAI/AAAAAAAAAMA/Mcxdrj2nUyg/photo.jpg?sz=128", "display_name": "Arne Thiels", "link": "https://stackoverflow.com/users/6728458/arne-thiels"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1471555835, "post_id": 39007742, "comment_id": 65406376, "body": "I just found this: <a href=\"http://stackoverflow.com/questions/30578644/input-shifted-in-pygame-and-adafruit-touchscreen\" title=\"input shifted in pygame and adafruit touchscreen\">stackoverflow.com/questions/30578644/&hellip;</a> He is having the exact same problem as I &#39;m having. If the script is run via SSH or is started automatically, the problem occurs. It seems as if the touch-reolution is different from the screen resolution... Does anybody know how to fix this?"}], "owner": {"reputation": 9, "user_id": 6728458, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xnUEC1ULR08/AAAAAAAAAAI/AAAAAAAAAMA/Mcxdrj2nUyg/photo.jpg?sz=128", "display_name": "Arne Thiels", "link": "https://stackoverflow.com/users/6728458/arne-thiels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 495, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1596479648, "creation_date": 1471476499, "question_id": 39007742, "link": "https://stackoverflow.com/questions/39007742/raspberry-pi-official-7-inch-toucshcreen-wrong-calibration-when-autoboot-python", "title": "Raspberry pi official 7 inch toucshcreen wrong calibration when autoboot python script", "body": "<p>I have created a game with python and pygame and it runs on startup, in fullscreen mode, on an official Raspberry Pi 7 inch touchscreen.\n<strong>The problem is that the mouse position does not correspond with my finger touches.</strong>\nIt is as if the calibration is suddenly wrong.</p>\n\n<p>The problem does <strong>not</strong> occur when I disable the autostart of the python script, nor does it when I manually start the script. In these cases the touchscren responds perfectly.</p>\n\n<p>Any ideas on how to solve this issue?</p>\n\n<p>Kind regards.</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471514432, "post_id": 39007738, "comment_id": 65381027, "body": "Does the log say anything. And I suppose you allready checked that you dont have a my.kv file in your directory."}, {"owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "reply_to_user": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471536724, "post_id": 39007738, "comment_id": 65396356, "body": "Hi @EL3PHANTEN, the log&#39;s contents are the same as the output shown above, just formatted differently. However, I know I do not have a <code>my.kv</code> file in the directory with <code>main.py</code>... but as a beginner also don&#39;t know why I would need one to run a simple app. Are you saying I should have one? Or that having one causes problems?"}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471536895, "post_id": 39007738, "comment_id": 65396459, "body": "No just making sure you dont have it. If you had a file called my.kv, it would be automatically loaded, since your app is named MyApp."}, {"owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "reply_to_user": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471540024, "post_id": 39007738, "comment_id": 65398400, "body": "Ah, I remember seeing that in one of their crash course videos; thanks for the reminder! Still doesn&#39;t solve this issue though... do you have any other ideas I can try?"}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471540269, "post_id": 39007738, "comment_id": 65398564, "body": "No I dont know. Your code works. And it should work with ubuntu. So I guess there is something wrong with the installation. How did you install?"}, {"owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "reply_to_user": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471565437, "post_id": 39007738, "comment_id": 65409116, "body": "I updated the question to describe the install process."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1471566613, "post_id": 39007738, "comment_id": 65409324, "body": "I can&#39;t help but notice that your python version isn&#39;t the latest version of 2.7. Not sure if that matters"}, {"owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1471566805, "post_id": 39007738, "comment_id": 65409357, "body": "@cricket_007, interesting catch! I ran <code>sudo apt-get install --upgrade python</code> and it reports being the most recent version, despite being 2.7.6 instead of 2.7.10. Could be an issue with Bash on Ubuntu on Windows."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1471574464, "post_id": 39007738, "comment_id": 65410975, "body": "Oh, you are using Bash on Windows. That doesn&#39;t have a DISPLAY variable, so I&#39;m not sure running a GUI app is even possible. Why can&#39;t you run Kivy directly from Windows?"}, {"owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "edited": false, "score": 0, "creation_date": 1471583012, "post_id": 39007738, "comment_id": 65412839, "body": "It technically doesn&#39;t, but I&#39;ve successfully exported a display variable and gotten Firefox to show up in Bash on Windows after installing an Xterm program. Technically unsupported behavior but possible. You&#39;re right in that I could run Kivy directly, I was just trying out the new Bash as Linux is something I&#39;m more comfortable developing on. Might be my only choice at this point though, short of standing up a VM."}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1471602912, "post_id": 39007738, "comment_id": 65423204, "body": "Or make a live usb of ubuntu :D or install ubuntu aside of windows"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7289593, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Z_fG4UfFFc/AAAAAAAAAAI/AAAAAAAANRM/mUIg14r0e50/photo.jpg?sz=128", "display_name": "Tae Kim", "link": "https://stackoverflow.com/users/7289593/tae-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1481615018, "creation_date": 1481615018, "answer_id": 41115875, "question_id": 39007738, "link": "https://stackoverflow.com/questions/39007738/unable-to-run-hello-world-kivy-app/41115875#41115875", "title": "Unable to Run &#39;Hello World&#39; Kivy App", "body": "<p>I don't know if a solution was already posted somewhere. A quick Google search didn't show up anything. A hack I found was patching <code>lib/python2.7/site-packages/kivy/clock.py</code> file (in your virtualenv). In <code>def _get_sleep_obj():</code> function definition, force the code to go to <code>if True or platform in ('win32', 'cygwin'):</code> path.</p>\n\n<p>With this change, the \"Hello Word\" and other example apps started working. </p>\n"}], "owner": {"reputation": 21, "user_id": 6728179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718c5d065e929deed68d8dd8277c9d7d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Daymude", "link": "https://stackoverflow.com/users/6728179/josh-daymude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 749, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481855697, "creation_date": 1471476472, "last_edit_date": 1471566500, "question_id": 39007738, "link": "https://stackoverflow.com/questions/39007738/unable-to-run-hello-world-kivy-app", "title": "Unable to Run &#39;Hello World&#39; Kivy App", "body": "<p>I am attempting to run a basic hello world app for a Python GUI library called kivy--which the developers provide <a href=\"https://kivy.org/docs/guide/basic.html#quickstart\" rel=\"nofollow\">here</a>--in the new Bash on Ubuntu on Windows environment. I've saved the example code as <code>main.py</code> as shown below:</p>\n\n<pre><code>import kivy\nkivy.require('1.9.1') # my current kivy version\n\nfrom kivy.app import App\nfrom kivy.uix.label import Label\n\nclass MyApp(App):\n\n    def build(self):\n        return Label(text='Hello world')\n\nif __name__ == '__main__':\n    MyApp().run()\n</code></pre>\n\n<p>When I attempt to run this simple app using <code>python main.py</code> (or even <code>sudo python main.py</code> if something was needing permissions) I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO   ][Logger      ] Record log in /home/jdaymude/.kivy/logs/kivy_16-08-17_3.txt\n[INFO   ][Kivy        ] v1.9.1\n[INFO   ][Python      ] v2.7.6 (default, Jun 22 2015, 17:58:13)\n[GCC 4.8.2]\n Traceback (most recent call last):\n   File \"main.py\", line 5, in &lt;module&gt;\n     from kivy.app import App\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/app.py\", line 319, in &lt;module&gt;\n     from kivy.base import runTouchApp, stopTouchApp\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/base.py\", line 29, in &lt;module&gt;\n     from kivy.clock import Clock\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/clock.py\", line 709, in &lt;module&gt;\n     Clock = register_context('Clock', ClockBase)\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/context.py\", line 83, in register_context\n     instance = cls(*args, **kwargs)\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/clock.py\", line 436, in __init__\n     self._start_tick = self._last_tick = self.time()\n   File \"/usr/local/lib/python2.7/dist-packages/kivy/clock.py\", line 273, in _time\n     raise OSError(_errno, strerror(_ernno))\n OSError: [Errno 22] Invalid argument\n</code></pre>\n\n<p>I haven't found any other StackOverflow questions with a similar error, and going through the <a href=\"https://github.com/kivy/kivy/issues\" rel=\"nofollow\">kivy issue tracker</a> didn't indicate any related issues with the software. To me, this indicates that I'm doing something wrong, so any suggestions would be most helpful. My Ubuntu version is 14.04, I've updated <code>python</code>, <code>python3</code>, <code>kivy</code>, and all of their dependencies, and have installed/successfully tested an Xterm program to launch the GUI when the kivy app does work.</p>\n\n<p>After some discussion in the comments, I'm including details on installation for further clarification. I followed the instructions the kivy developers provided for <a href=\"https://kivy.org/docs/installation/installation-linux.html#ubuntu-kubuntu-xubuntu-lubuntu-saucy-and-above\" rel=\"nofollow\">Installation on Linux</a>, which boils down to the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sudo add-apt-repository ppa:kivy-team/kivy\nsudo apt-get update\nsudo apt-get install python-kivy python3-kivy\n</code></pre>\n\n<p>Since I'm new to kivy and wanted to cover all my bases, I also installed a handful of what the install guide calls <a href=\"https://kivy.org/docs/installation/installation-linux.html#common-dependencies\" rel=\"nofollow\">\"common dependencies\"</a> using <code>sudo apt-get install</code>, including: <code>python-dev</code>, <code>python3-dev</code>, <code>python-pip</code>, and all the others shown at the linked page for <code>SDL2</code> and <code>pygame</code>. Although not relevant to my efforts since I wanted a global install, I also followed their instructions for using <code>virtualenv</code> and that also gave the same error.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 13, "user_id": 6728464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60cb787d9453e64e877812425f8657f?s=128&d=identicon&r=PG&f=1", "display_name": "mememan", "link": "https://stackoverflow.com/users/6728464/mememan"}, "edited": false, "score": 3, "creation_date": 1471476483, "post_id": 39007729, "comment_id": 65367148, "body": "sorry this autism, i am bad at python"}, {"owner": {"reputation": 2034, "user_id": 2304204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mM66T.jpg?s=128&g=1", "display_name": "Oleg Imanilov", "link": "https://stackoverflow.com/users/2304204/oleg-imanilov"}, "edited": false, "score": 0, "creation_date": 1471476556, "post_id": 39007729, "comment_id": 65367167, "body": "Convert input from string to int"}, {"owner": {"reputation": 13, "user_id": 6728464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60cb787d9453e64e877812425f8657f?s=128&d=identicon&r=PG&f=1", "display_name": "mememan", "link": "https://stackoverflow.com/users/6728464/mememan"}, "reply_to_user": {"reputation": 2034, "user_id": 2304204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mM66T.jpg?s=128&g=1", "display_name": "Oleg Imanilov", "link": "https://stackoverflow.com/users/2304204/oleg-imanilov"}, "edited": false, "score": 0, "creation_date": 1471476669, "post_id": 39007729, "comment_id": 65367200, "body": "cheers big man sorry for being autism"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6728464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60cb787d9453e64e877812425f8657f?s=128&d=identicon&r=PG&f=1", "display_name": "mememan", "link": "https://stackoverflow.com/users/6728464/mememan"}, "edited": false, "score": 0, "creation_date": 1471477078, "post_id": 39007815, "comment_id": 65367308, "body": "yeah i did this big man thanks for the help though"}], "tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1471476986, "creation_date": 1471476986, "answer_id": 39007815, "question_id": 39007729, "link": "https://stackoverflow.com/questions/39007729/list-indices-must-be-integers-not-str-from-user-input/39007815#39007815", "title": "List indices must be integers, not str from user input", "body": "<p>One can only index with one index as a time, wheres your prompt asks for 'Tools' plural.  I suggest (with the int correction, and lower-case names)</p>\n\n<pre><code>tools = [\"Hoe\",\"Pitchfork\",\"Shovel\"]\nprint(tools)\ntool = int(input(\"What tool do you want? \"))\nprint(tools[tool])\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6728464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60cb787d9453e64e877812425f8657f?s=128&d=identicon&r=PG&f=1", "display_name": "mememan", "link": "https://stackoverflow.com/users/6728464/mememan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1471480126, "answer_count": 1, "score": -2, "last_activity_date": 1471481453, "creation_date": 1471476438, "last_edit_date": 1471481453, "question_id": 39007729, "link": "https://stackoverflow.com/questions/39007729/list-indices-must-be-integers-not-str-from-user-input", "closed_reason": "Duplicate", "title": "List indices must be integers, not str from user input", "body": "<pre><code>Tools_List=[\"Hoe\",\"Pitchfork\",\"Shovel\"] #`list`\nprint(Tools_List)\nTools=input(\"What tools do you want? \")  \nprint(Tools_List[Tools])\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 1854, "user_id": 6539544, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0075a1be0f17b9ac03dbb0b9b27d5aab?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Bajaj", "link": "https://stackoverflow.com/users/6539544/vaibhav-bajaj"}, "is_accepted": true, "score": -2, "last_activity_date": 1471476713, "last_edit_date": 1471476713, "creation_date": 1471476383, "answer_id": 39007721, "question_id": 39007681, "link": "https://stackoverflow.com/questions/39007681/how-to-turn-my-if-statement-into-a-while-or-for-loop/39007721#39007721", "title": "How to turn my if statement into a while or for loop?", "body": "<p>Try this:</p>\n\n<pre><code>Path = raw_input(\"Please enter a valid Path\")\nwhile Path.find(\"Global\") == -1:\n  print \"This is not a valid Path.\"\n  Path = raw_input(\"Please enter a valid Path\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1471477109, "last_edit_date": 1471477109, "creation_date": 1471476645, "answer_id": 39007766, "question_id": 39007681, "link": "https://stackoverflow.com/questions/39007681/how-to-turn-my-if-statement-into-a-while-or-for-loop/39007766#39007766", "title": "How to turn my if statement into a while or for loop?", "body": "<pre><code>def get_path():\n    Path = raw_input(\"Please select the correct path: \")\n    if Path.find(\"Global\") == -1:\n        # \"Tell the user a message and tell the program to stop\".\n        print('{0} is not a correct path.'.format(Path))\n        return\n    # \"the program continues with another action.\"\n    print('{0} is a correct path.'.format(Path))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1471477325, "post_id": 39007787, "comment_id": 65367365, "body": "Because you never captured the variable input by the user."}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1471479663, "post_id": 39007787, "comment_id": 65367956, "body": "But OP never asked for capturing input of user. He just wants to verify if the input is valid or not."}, {"owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1471480042, "post_id": 39007787, "comment_id": 65368060, "body": "Alright, I realized I misunderstood OP&#39;s idea, gonna change my code."}], "tags": [], "owner": {"reputation": 352, "user_id": 5627244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07947d13febd529cc2659601aa4d7d6?s=128&d=identicon&r=PG", "display_name": "cuongnv23", "link": "https://stackoverflow.com/users/5627244/cuongnv23"}, "is_accepted": false, "score": -1, "last_activity_date": 1471480717, "last_edit_date": 1471480717, "creation_date": 1471476757, "answer_id": 39007787, "question_id": 39007681, "link": "https://stackoverflow.com/questions/39007681/how-to-turn-my-if-statement-into-a-while-or-for-loop/39007787#39007787", "title": "How to turn my if statement into a while or for loop?", "body": "<p>You can break the loop unless your input matches condition, like this:</p>\n\n<pre><code>while True:\n    if 'Global' in raw_input('Enter a valid path: '):\n        continue\n    else:\n        print 'Not a valid path.'\n        break\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6727050, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b46d1eaebfb4593ea639d233e311692f?s=128&d=identicon&r=PG&f=1", "display_name": "Reaper", "link": "https://stackoverflow.com/users/6727050/reaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 39007721, "answer_count": 3, "score": 0, "last_activity_date": 1471480989, "creation_date": 1471476106, "last_edit_date": 1471480989, "question_id": 39007681, "link": "https://stackoverflow.com/questions/39007681/how-to-turn-my-if-statement-into-a-while-or-for-loop", "title": "How to turn my if statement into a while or for loop?", "body": "<p>So the program I'm trying to make is that an user can enter a path WHICH HAS TO BE CORRECT to continue. I thought that I would make a simple prompt to tell the user it is either a valid path or not.</p>\n\n<p>This is my prompt code:</p>\n\n<pre><code>if Path.find(\"Global\") == -1:\n    continue\nelse:\n    print \"Not a valid path.\"\n</code></pre>\n\n<p>Of course I can't use continue in there but I just don't get how to make this prompt as a loop. The idea was that if the Path contains the word \"Global\" the program continues with another action and if it doesn't contain the word it will tell the user a message and tell the program to stop (break).</p>\n"}, {"tags": ["python", "c++", "matplotlib"], "comments": [{"owner": {"reputation": 59, "user_id": 6693350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6ebd3b0dbd25745be60442c3b798943?s=128&d=identicon&r=PG&f=1", "display_name": "Revist", "link": "https://stackoverflow.com/users/6693350/revist"}, "edited": false, "score": 0, "creation_date": 1471476733, "post_id": 39007654, "comment_id": 65367215, "body": "I found some old answer to this topic at <a href=\"https://github.com/matplotlib/matplotlib/issues/2134/\" rel=\"nofollow noreferrer\">github.com/matplotlib/matplotlib/issues/2134</a> comment by efiring. Basically he says that when there are computations performed the figures will freeze and there&#39;s nothing to be done about it. One must stop computations to work with the plot. Maybe something has changed since then?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6693350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6ebd3b0dbd25745be60442c3b798943?s=128&d=identicon&r=PG&f=1", "display_name": "Revist", "link": "https://stackoverflow.com/users/6693350/revist"}, "edited": false, "score": 0, "creation_date": 1471523097, "post_id": 39009462, "comment_id": 65386633, "body": "Thanks for the response. Does this code do calculations for some I and stops calculations to show the plot for 10 secounds for other?"}, {"owner": {"reputation": 141, "user_id": 6037819, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPAxJYpSeJk/AAAAAAAAAAI/AAAAAAAAAUE/4aYlOB5h3AU/photo.jpg?sz=128", "display_name": "Mansweet", "link": "https://stackoverflow.com/users/6037819/mansweet"}, "reply_to_user": {"reputation": 59, "user_id": 6693350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6ebd3b0dbd25745be60442c3b798943?s=128&d=identicon&r=PG&f=1", "display_name": "Revist", "link": "https://stackoverflow.com/users/6693350/revist"}, "edited": false, "score": 0, "creation_date": 1471548898, "post_id": 39009462, "comment_id": 65403184, "body": "@Revist, yes.  If your calculations take long enough, you would not need to sleep (pause) the loop operation. I missed your point of wanting to add the figure to the previous one. Can you provide a little bit more context as to your task?  Without knowing, You could just put the output into some list, and replot at each iteration from that list."}], "tags": [], "owner": {"reputation": 141, "user_id": 6037819, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dPAxJYpSeJk/AAAAAAAAAAI/AAAAAAAAAUE/4aYlOB5h3AU/photo.jpg?sz=128", "display_name": "Mansweet", "link": "https://stackoverflow.com/users/6037819/mansweet"}, "is_accepted": false, "score": 0, "last_activity_date": 1471490264, "creation_date": 1471490264, "answer_id": 39009462, "question_id": 39007654, "link": "https://stackoverflow.com/questions/39007654/showing-a-few-figures-without-stopping-calculations-in-matplotlib/39009462#39009462", "title": "Showing a few figures without stopping calculations in matplotlib", "body": "<p>The following code should do what you want.  I did this in an IPython Notebook.</p>\n\n<pre><code>from IPython import display\nimport matplotlib.pyplot as plt\n\ndef stream_plot(iterable, plotlife=10.):\n\n        for I in iterable:\n            display.clear_output(wait=True)\n            output = do_calculations_on_i(I)\n            plt.plot(output)\n            display.display(plt.gca());\n            time.sleep(plotlife); #how long to show the plot for\n</code></pre>\n\n<p>the wait=True will wait to clear the old plot until it has something new to plot, or any other output is printed.</p>\n\n<p>I put the sleep in there so I can observe each plot before it is wiped away.  This was useful for having to observe distributions for several entities.  You may or may not need it for what you want to do. </p>\n"}], "owner": {"reputation": 59, "user_id": 6693350, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f6ebd3b0dbd25745be60442c3b798943?s=128&d=identicon&r=PG&f=1", "display_name": "Revist", "link": "https://stackoverflow.com/users/6693350/revist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471490264, "creation_date": 1471475859, "question_id": 39007654, "link": "https://stackoverflow.com/questions/39007654/showing-a-few-figures-without-stopping-calculations-in-matplotlib", "title": "Showing a few figures without stopping calculations in matplotlib", "body": "<p>Hi I would like to show a few figures in matplotlib without stopping calculations. I would like the figure to show up right after the calculations that concern it are finished for example:</p>\n\n<pre><code>import numpy as np\nimport pylab as py\n\nx=np.linspace(0,50,51)\ny=x\nfig, axs = plt.subplots(1, 1)\ncs = axs.plot(x, y)\n</code></pre>\n\n<p>now i want to show the plot without blocking the possibility to make some other calculations</p>\n\n<pre><code>plt.show(block=False)\nplt.pause(5)\n</code></pre>\n\n<p>I create the second plot</p>\n\n<pre><code>y1=2*x\nfig1, axs1 = plt.subplots(1, 1)\ncs1 = axs1.plot(x, y1)\n\nplt.show()\n</code></pre>\n\n<p>This works however the first freezes (after 5 secound pause which I added) until I call plt.show() at the end. It is crucial that the first figure shows and works, then after calculations another figure is added to it.</p>\n"}, {"tags": ["android", "python", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 2603062, "user_type": "registered", "profile_image": "https://graph.facebook.com/526772243/picture?type=large", "display_name": "Eric Saund", "link": "https://stackoverflow.com/users/2603062/eric-saund"}, "is_accepted": false, "score": 0, "last_activity_date": 1487266115, "creation_date": 1487266115, "answer_id": 42280867, "question_id": 39007646, "link": "https://stackoverflow.com/questions/39007646/command-failed-distribute-sh-m-kivy-d/42280867#42280867", "title": "Command failed: ./distribute.sh -m &quot;kivy&quot; -d", "body": "<p>This will occur if the kivy project on the Virtual Machine is in a shared folder with the host machine.\n(In my case the host is Windows.)</p>\n\n<p>If this is the case, try copying the kivy project folder to /home/, and make sure this is not shared.\nMake sure the permissions are set to 777.</p>\n"}], "owner": {"reputation": 659, "user_id": 6573881, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/25080493deb1728e0c1fa8e4bd8d2689?s=128&d=identicon&r=PG&f=1", "display_name": "SaikiHanee", "link": "https://stackoverflow.com/users/6573881/saikihanee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487266115, "creation_date": 1471475813, "question_id": 39007646, "link": "https://stackoverflow.com/questions/39007646/command-failed-distribute-sh-m-kivy-d", "title": "Command failed: ./distribute.sh -m &quot;kivy&quot; -d", "body": "<p>I am trying to follow the instructions on <a href=\"https://kivy.org/docs/guide/packaging-android-vm.html\" rel=\"nofollow\">https://kivy.org/docs/guide/packaging-android-vm.html</a> to create kivy android applications. I installed Kivy Buildozer VM and was following instructions on the Readme file. Created the buildozer.spec file using <code>buildozer init</code> command but <code>buildozer android debug</code> is failing with following output</p>\n\n<pre><code>   (cd /media/sf_virtual_box/organizer/2nd_vid_tute/step07_padding/.buildozer/android/platform/python-for-android/build/python-install/bin; ln python2.7 python)\n    ln: failed to create hard link \u2018python\u2019 =&gt; \u2018python2.7\u2019: Operation not permitted\n    make: *** [bininstall] Error 1\n    Leaving ARM environment\n    cp: cannot stat \u2018build/lib.*-2.7/_ctypes*.so\u2019: No such file or directory\n    # Command failed: ./distribute.sh -m \"kivy\" -d \"myapp1\"\n    # \n    # Buildozer failed to execute the last command\n    # The error might be hidden in the log above this error\n    # Please read the full log, and search for it before\n    # raising an issue with buildozer itself.\n    # In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "django", "apache", "production"], "comments": [{"owner": {"reputation": 5446, "user_id": 4193, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8c76a3f7c799c8b9d7c3967e5e374331?s=128&d=identicon&r=PG", "display_name": "TimB", "link": "https://stackoverflow.com/users/4193/timb"}, "edited": false, "score": 2, "creation_date": 1471475949, "post_id": 39007610, "comment_id": 65367008, "body": "&quot;From what I have heard Django is only used for dev websites.&quot; That&#39;s certainly not true: lots of major websites run Django.  Perhaps what was intended was &quot;Django runserver is only used for dev websites.&quot;"}, {"owner": {"reputation": 240, "user_id": 1491961, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e13ae95a2682079cfd43aa5a4c46b4d7?s=128&d=identicon&r=PG", "display_name": "ays0110", "link": "https://stackoverflow.com/users/1491961/ays0110"}, "edited": false, "score": 0, "creation_date": 1471476043, "post_id": 39007610, "comment_id": 65367029, "body": "From what I can understand in this question, you have Django app up and running just fine, but you don&#39;t seem to have a web server installed or running?  If you are not using Apache, what kind of web server are you using?  I think there may be some confusion here-- Django isn&#39;t a web server, you still need to install a web server on your server for it to start serving up the Django app through port 80.   As for why it&#39;s not connecting on port 8000, could you addwhat you&#39;re getting on the runserver console when you try to hit 8000?  And maybe the tcpdump too."}, {"owner": {"reputation": 240, "user_id": 1491961, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e13ae95a2682079cfd43aa5a4c46b4d7?s=128&d=identicon&r=PG", "display_name": "ays0110", "link": "https://stackoverflow.com/users/1491961/ays0110"}, "edited": false, "score": 0, "creation_date": 1471476276, "post_id": 39007610, "comment_id": 65367092, "body": "Also, could you try runserver on 0.0.0.0:8000?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4681957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af98bde12234a3ada07142535693cb72?s=128&d=identicon&r=PG&f=1", "display_name": "Sesshoumaru", "link": "https://stackoverflow.com/users/4681957/sesshoumaru"}, "edited": false, "score": 0, "creation_date": 1471533811, "post_id": 39007736, "comment_id": 65394457, "body": "Thanks, will be looking into this via your link."}], "tags": [], "owner": {"reputation": 5446, "user_id": 4193, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8c76a3f7c799c8b9d7c3967e5e374331?s=128&d=identicon&r=PG", "display_name": "TimB", "link": "https://stackoverflow.com/users/4193/timb"}, "is_accepted": false, "score": 0, "last_activity_date": 1471476468, "creation_date": 1471476468, "answer_id": 39007736, "question_id": 39007610, "link": "https://stackoverflow.com/questions/39007610/production-version-of-django/39007736#39007736", "title": "Production version of Django?", "body": "<p>First of all, you should really be using a \"long term support\" version of Django, not 1.7.1. The current LTS release is 1.8.14; see <a href=\"https://www.djangoproject.com/download/\" rel=\"nofollow\">https://www.djangoproject.com/download/</a> for details.</p>\n\n<p>The Django documentation link you were given is just one part of what you need to understand. A better place to start is actually the first link on that page, which is <a href=\"https://docs.djangoproject.com/en/1.8/howto/deployment/wsgi/modwsgi/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/howto/deployment/wsgi/modwsgi/</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 4681957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af98bde12234a3ada07142535693cb72?s=128&d=identicon&r=PG&f=1", "display_name": "Sesshoumaru", "link": "https://stackoverflow.com/users/4681957/sesshoumaru"}, "edited": false, "score": 0, "creation_date": 1471533777, "post_id": 39009755, "comment_id": 65394431, "body": "Thanks for your response. Will be using the information provided."}], "tags": [], "owner": {"reputation": 437, "user_id": 2151195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c6597ba11d0d0e00ca4b4907cd3a69?s=128&d=identicon&r=PG", "display_name": "Ivan Anishchuk", "link": "https://stackoverflow.com/users/2151195/ivan-anishchuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1471492652, "creation_date": 1471492652, "answer_id": 39009755, "question_id": 39007610, "link": "https://stackoverflow.com/questions/39007610/production-version-of-django/39009755#39009755", "title": "Production version of Django?", "body": "<p>I recommend you to use gunicorn and Nginx to run a Django project on your production server. Both are easy to google for official docs and recipes, and their combination is one of the fastest, as long as your code is not to slow. (Nginx+uWSGI is another good option, but a bit harder for beginners).</p>\n\n<p>Gunicorn can be installed with <code>pip install unicorn</code> or the same way you installed Django and then launched with simple <code>gunicorn yourproject.wsgi</code> (refer to docs for more configuration options).</p>\n\n<p>Nginx (use your distribution's package manager to install it) should be configured for reverse proxy mode and also to serve static/media files from your respective static/media root (<code>manage.py collectstatic</code> must be used to keep static files up-to-date). Read documentation to understand basic principles and use this except as an example for your <code>/etc/nginx/sites-enabled/yoursite.conf</code>:</p>\n\n<pre><code>server {\n    listen 80 default;\n    server_name example.com;\n    root /path/to/project/root/static;\n\n    location /media {\n        alias /path/to/project/root/media;\n    }\n\n    location /static {\n        alias /path/to/project/root/static;\n    }\n\n    location /favicon.ico {\n        alias /path/to/project/root/static/favicon.ico;\n    }\n\n    location / {\n        proxy_pass  http://localhost:8000;\n        include     proxy_params;\n    }\n}\n</code></pre>\n\n<p>There's more to it if you need ssl or www/non-www redirect (both are highly recommended to set up) but this example should be enough for you to get started.</p>\n\n<p>To run gunicorn automatically you can either use supervisor or system unit system (be it systemd or something else).</p>\n\n<p>Note: All of this assumes you're using linux. You probably should not use anything else on a production server anyway.</p>\n\n<p>Consider getting some professional help if you feel you can't understand how to deal with all this, there are many freelance sysadmins who would be happy to help you for a reasonable fee.</p>\n"}], "owner": {"reputation": 17, "user_id": 4681957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af98bde12234a3ada07142535693cb72?s=128&d=identicon&r=PG&f=1", "display_name": "Sesshoumaru", "link": "https://stackoverflow.com/users/4681957/sesshoumaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 39009755, "answer_count": 2, "score": -1, "last_activity_date": 1471492652, "creation_date": 1471475498, "question_id": 39007610, "link": "https://stackoverflow.com/questions/39007610/production-version-of-django", "title": "Production version of Django?", "body": "<p>So I have been working on a Badgr server for another department. I have built it using Python 2.7 and django. From what I have heard Django is only used for dev websites.</p>\n\n<p>I want to take this project and convert it to run on something meant for a production environment. But I really have no idea how to proceed. Sorry if this is a really noob question, I am a system administrator not a dev.</p>\n\n<p>(env)[root@badgr code]# ./manage.py runserver &amp;\nPerforming system checks...</p>\n\n<p>System check identified no issues (0 silenced).\nAugust 08, 2016 - 16:31:48\nDjango version 1.7.1, using settings 'mainsite.settings'\nStarting development server at #####//127.0.0.1:8000/\nQuit the server with CONTROL-C.</p>\n\n<p>But I can't seem to connect to it when I go to #####//myserver:8000,</p>\n\n<p>I know the traffic from my PC is hitting the server because I see it in tcpdump on TCP 8000. I have been told runserver blocks traffic from external sources because of it being meant for dev only.</p>\n\n<p>After talking with some people they recommend that I switch to Apache or Gunicorn? </p>\n\n<p>Here are some instructions I was sent from the Django documentation: <a href=\"https://docs.djangoproject.com/en/1.7/howto/deployment/wsgi/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.7/howto/deployment/wsgi/</a>   Although I can't really make heads or tails of what I should do. Any input would be appreciated. Thanks</p>\n"}, {"tags": ["python", "python-2.7", "import", "web2py", "importerror"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1471486703, "post_id": 39007601, "comment_id": 65369670, "body": "It is <code>export.py</code> or <code>exports.py</code>? What is that module anyway? Can we see it?"}], "answers": [{"comments": [{"owner": {"reputation": 2323, "user_id": 5184092, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TRnWc.jpg?s=128&g=1", "display_name": "luckyging3r", "link": "https://stackoverflow.com/users/5184092/luckyging3r"}, "edited": false, "score": 0, "creation_date": 1471551227, "post_id": 39007878, "comment_id": 65404368, "body": "Thanks. It turns out it was the reserved word <code>export</code> causing conflicts. I was importing export and had a file called export.py... export was overwriting my export.py and therefore didn&#39;t have the methods I needed. I ran a <code>pip uninstall export</code> as I don&#39;t actually need it and it solved my problems. I&#39;ll have to rename that file to avoid future conflicts."}], "tags": [], "owner": {"reputation": 167, "user_id": 6452188, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/281450ee5040ee1927d22f5adfc6ab6e?s=128&d=identicon&r=PG&f=1", "display_name": "Arturo", "link": "https://stackoverflow.com/users/6452188/arturo"}, "is_accepted": true, "score": 1, "last_activity_date": 1471477436, "creation_date": 1471477436, "answer_id": 39007878, "question_id": 39007601, "link": "https://stackoverflow.com/questions/39007601/web2py-python-importerror-cannot-import-name/39007878#39007878", "title": "web2py python - ImportError cannot import name", "body": "<p>Try double checking the spelling, I know it's dumb, but it happens.</p>\n\n<p>if it's not that, try writing this method in export </p>\n\n<pre><code>def hello_world():\n    print 'hello world'\n</code></pre>\n\n<p>then </p>\n\n<pre><code>import export\n\nexport.hello_world()\n</code></pre>\n\n<p>if that works, it may be something wrong with the method itself, if it doesn't I imagine that the name <code>export</code> is reserved and is causing conflicts (my code editor doesn't mark it as reserved tho).</p>\n\n<p>is it necessary to import only those two methods? or could you import the whole module and use the needed methods as in the case of the hello_world? does that cause you troubles? if you delete <code>get_cert_infos</code> does <code>build_certificate</code> give you any troubles? </p>\n"}], "owner": {"reputation": 2323, "user_id": 5184092, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TRnWc.jpg?s=128&g=1", "display_name": "luckyging3r", "link": "https://stackoverflow.com/users/5184092/luckyging3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1001, "favorite_count": 0, "accepted_answer_id": 39007878, "answer_count": 1, "score": 0, "last_activity_date": 1471477436, "creation_date": 1471475404, "last_edit_date": 1495542782, "question_id": 39007601, "link": "https://stackoverflow.com/questions/39007601/web2py-python-importerror-cannot-import-name", "title": "web2py python - ImportError cannot import name", "body": "<p>I keep getting this error: <code>&lt;type 'exceptions.ImportError'&gt; cannot import name get_cert_infos</code>.\nI'm pretty sure I'm importing everything correctly. The file with the problem is <code>participant.py</code> and has:</p>\n\n<pre><code>from datetime import date\n\nfrom widgets import SelectOrAdd, LabelSortedOptionsWidget, DynamicSelect, \\\n        AutocompleteReferenceWidget\nfrom communication import handle_notification, send_email\nfrom utility import create_temp_password, hash_password\n\nfrom export import get_cert_infos, build_certificate\n</code></pre>\n\n<p>I have <code>exports.py</code> and the <code>get_cert_infos</code> and <code>build_certificate</code> methods do exist inside of there. I don't understand what the problem is.</p>\n\n<p>I looked at several of the other posts on this and they all seem to be saying that this is most likely a circular import problem</p>\n\n<p>I have <code>export</code> installed and updated <code>export==0.1.2</code></p>\n\n<p><a href=\"https://stackoverflow.com/q/9252543/5184092\">ImportError: Cannot import name X</a></p>\n"}, {"tags": ["python", "ipython", "jupyter", "jupyter-notebook"], "comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 1, "creation_date": 1471475270, "post_id": 39007571, "comment_id": 65366820, "body": "what is the full traceback of the error?"}], "answers": [{"comments": [{"owner": {"reputation": 2156, "user_id": 3470746, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6CUGv.png?s=128&g=1", "display_name": "Chef1075", "link": "https://stackoverflow.com/users/3470746/chef1075"}, "edited": false, "score": 4, "creation_date": 1537464377, "post_id": 39022003, "comment_id": 91804133, "body": "This is a great answer. Thank you for taking the time to write it."}, {"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1577316303, "post_id": 39022003, "comment_id": 105141379, "body": "on my Mac the only way to solve all by jupyter, ipython related problems was to ad <code>&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;3.5&#47;bin&#47;</code> in my <code>bashrc</code>. thanks"}, {"owner": {"reputation": 1758, "user_id": 1442960, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e81f8bafd374d2af6244a647baa8cfac?s=128&d=identicon&r=PG", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1442960/marcus"}, "edited": false, "score": 0, "creation_date": 1607627133, "post_id": 39022003, "comment_id": 115339077, "body": "FYI, I had to run <code>pip3 install ipykernel</code> as well."}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1612386345, "post_id": 39022003, "comment_id": 116754470, "body": "One thing that isn&#39;t clear to me: The question is about how to install the kernel for a <i>different</i> Python into Jupyter. So if you are just running <code>python -m ipykernel install</code> then it would just reinstall the same Python that is already added, whereas if you replace <code>python</code> with the path to the other Python that you want to add, I think it would have trouble finding Jupyter (since Jupyter was installed into the first Python). Am I missing something?"}, {"owner": {"reputation": 5937, "user_id": 783314, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b3d5692064779f501f7c2a639dc0076c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/783314/stephen"}, "edited": false, "score": 0, "creation_date": 1612389658, "post_id": 39022003, "comment_id": 116755686, "body": "Oh, I think I figured out the answer to my question in the previous comment. It looks like the kernelspec is stored in a global location, not just within some configuration for the specific Python that is running. So you need ipykernel in that Python in order to run the install script, but it goes to a globally-visible location. In my case I ran with <code>--prefix &#47;usr&#47;local</code> and it went into <code>&#47;usr&#47;local&#47;share&#47;jupyter&#47;kernels&#47;[kernel name chosen with name parameter]</code>"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 181, "last_activity_date": 1536784377, "last_edit_date": 1536784377, "creation_date": 1471533839, "answer_id": 39022003, "question_id": 39007571, "link": "https://stackoverflow.com/questions/39007571/running-jupyter-with-multiple-python-and-ipython-paths/39022003#39022003", "title": "Running Jupyter with multiple Python and IPython paths", "body": "<p>This is fairly straightforward to fix, but it involves understanding three different concepts:</p>\n\n<ol>\n<li>How Unix/Linux/OSX use <code>$PATH</code> to find executables (<code>%PATH%</code> in Windows) </li>\n<li>How Python installs and finds packages</li>\n<li>How Jupyter knows what Python to use</li>\n</ol>\n\n<p>For the sake of completeness, I'll try to do a quick ELI5 on each of these, so you'll know how to solve this issue in the best way for you.</p>\n\n<h2>1. Unix/Linux/OSX $PATH</h2>\n\n<p>When you type any command at the prompt (say, <code>python</code>), the system has a well-defined sequence of places that it looks for the executable. This sequence is defined in a system variable called <code>PATH</code>, which the user can specify. To see your <code>PATH</code>, you can type <code>echo $PATH</code>.</p>\n\n<p>The result is a list of directories on your computer, which will be searched <strong>in order</strong> for the desired executable. From your output above, I assume that it contains this: </p>\n\n<pre><code>$ echo $PATH\n/usr/bin/:/Library/Frameworks/Python.framework/Versions/3.5/bin/:/usr/local/bin/\n</code></pre>\n\n<p>In windows <code>echo %path%</code></p>\n\n<p>Probably with some other paths interspersed as well. What this means is that when you type <code>python</code>, the system will go to <code>/usr/bin/python</code>. When you type <code>ipython</code>, in this example, the system will go to <code>/Library/Frameworks/Python.framework/Versions/3.5/bin/ipython</code>, because there is no <code>ipython</code> in <code>/usr/bin/</code>.</p>\n\n<p>It's always important to know what executable you're using, particularly when you have so many installations of the same program on your system. Changing the path is not too complicated; see e.g. <a href=\"https://stackoverflow.com/questions/14637979/how-to-permanently-set-path-on-linux\">How to permanently set $PATH on Linux?</a>.</p>\n\n<p>Windows - <a href=\"https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10\">How to set environment variables in Windows 10</a> </p>\n\n<h2>2. How Python finds packages</h2>\n\n<p>When you run python and do something like <code>import matplotlib</code>, Python has to play a similar game to find the package you have in mind. Similar to <code>$PATH</code> in unix, Python has <code>sys.path</code> that specifies these:</p>\n\n<pre><code>$ python\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.path\n['',\n '/Users/jakevdp/anaconda/lib/python3.5', \n '/Users/jakevdp/anaconda/lib/python3.5/site-packages',\n ...]\n</code></pre>\n\n<p>Some important things: by default, the first entry in <code>sys.path</code> is the current directory. Also, unless you modify this (which you shouldn't do unless you know exactly what you're doing) you'll usually find something called <code>site-packages</code> in the path: this is the default place that Python puts packages when you install them using <code>python setup.py install</code>, or <code>pip</code>, or <code>conda</code>, or a similar means.</p>\n\n<p>The important thing to note is that <strong>each python installation has its own site-packages</strong>, where packages are installed <strong>for that specific Python version</strong>. In other words, if you install something for, e.g. <code>/usr/bin/python</code>, then <code>~/anaconda/bin/python</code> <strong>can't use that package</strong>, because it was installed on a different Python! This is why in our twitter exchange I recommended you focus on one Python installation, and fix your<code>$PATH</code> so that you're only using the one you want to use.</p>\n\n<p>There's another component to this: some Python packages come bundled with stand-alone scripts that you can run from the command line (examples are <code>pip</code>, <code>ipython</code>, <code>jupyter</code>, <code>pep8</code>, etc.) By default, these executables will be put in the <strong>same directory path</strong> as the Python used to install them, and are designed to work <strong>only with that Python installation</strong>.</p>\n\n<p>That means that, as your system is set-up, when you run <code>python</code>, you get <code>/usr/bin/python</code>, but when you run <code>ipython</code>, you get <code>/Library/Frameworks/Python.framework/Versions/3.5/bin/ipython</code> which is associated with the Python version at <code>/Library/Frameworks/Python.framework/Versions/3.5/bin/python</code>! Further, this means that the packages you can import when running <code>python</code> are entirely separate from the packages you can import when running <code>ipython</code> or a Jupyter notebook: you're using two completely independent Python installations.</p>\n\n<p>So how to fix this? Well, first make sure your <code>$PATH</code> variable is doing what you want it to. You likely have a startup script called something like <code>~/.bash_profile</code> or <code>~/.bashrc</code> that sets this <code>$PATH</code> variable. On Windows, you can modify the user specific environment variables. You can manually modify that if you want your system to search things in a different order. When you first install anaconda/miniconda, there will be an option to do this automatically (add Python to the PATH): say yes to that, and then <code>python</code> will always point to <code>~/anaconda/python</code>, which is probably what you want.</p>\n\n<h2>3. How Jupyter knows what Python to use</h2>\n\n<p>We're not totally out of the water yet. You mentioned that in the Jupyter notebook, you're getting a kernel error: this indicates that Jupyter is looking for a non-existent Python version.</p>\n\n<p>Jupyter is set-up to be able to use a wide range of \"kernels\", or execution engines for the code. These can be Python 2, Python 3, R, Julia, Ruby... there are dozens of possible kernels to use. But in order for this to happen, Jupyter needs to know <em>where</em> to look for the associated executable: that is, it needs to know which path the <code>python</code> sits in.</p>\n\n<p>These paths are specified in jupyter's <code>kernelspec</code>, and it's possible for the user to adjust them to their desires. For example, here's the list of kernels that I have on my system:</p>\n\n<pre><code>$ jupyter kernelspec list\nAvailable kernels:\n  python2.7        /Users/jakevdp/.ipython/kernels/python2.7\n  python3.3        /Users/jakevdp/.ipython/kernels/python3.3\n  python3.4        /Users/jakevdp/.ipython/kernels/python3.4\n  python3.5        /Users/jakevdp/.ipython/kernels/python3.5\n  python2          /Users/jakevdp/Library/Jupyter/kernels/python2\n  python3          /Users/jakevdp/Library/Jupyter/kernels/python3\n</code></pre>\n\n<p>Each of these is a directory containing some metadata that specifies the kernel name, the path to the executable, and other relevant info.<br>\nYou can adjust kernels manually, editing the metadata inside the directories listed above.</p>\n\n<p>The command to install a kernel can change depending on the kernel. IPython relies on the <a href=\"https://pypi.python.org/pypi/ipykernel/\" rel=\"noreferrer\">ipykernel package</a> which contains a command to install a python kernel: for example</p>\n\n<pre><code>$  python -m ipykernel install\n</code></pre>\n\n<p>It will create a kernelspec associated with the Python executable you use to run this command. You can then choose this kernel in the Jupyter notebook to run your code with that Python.</p>\n\n<p>You can see other options that ipykernel provides using the help command:</p>\n\n<pre><code>$ python -m ipykernel install --help\nusage: ipython-kernel-install [-h] [--user] [--name NAME]\n                              [--display-name DISPLAY_NAME] [--prefix PREFIX]\n                              [--sys-prefix]\n\nInstall the IPython kernel spec.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --user                Install for the current user instead of system-wide\n  --name NAME           Specify a name for the kernelspec. This is needed to\n                        have multiple IPython kernels at the same time.\n  --display-name DISPLAY_NAME\n                        Specify the display name for the kernelspec. This is\n                        helpful when you have multiple IPython kernels.\n  --prefix PREFIX       Specify an install prefix for the kernelspec. This is\n                        needed to install into a non-default location, such as\n                        a conda/virtual-env.\n  --sys-prefix          Install to Python's sys.prefix. Shorthand for\n                        --prefix='/Users/bussonniermatthias/anaconda'. For use\n                        in conda/virtual-envs.\n</code></pre>\n\n<p>Note: the recent version of <em>anaconda</em> ships with an extension for the notebook that should automatically detect your various conda environments if the <code>ipykernel</code> package is installed in it. </p>\n\n<h2>Wrap-up: Fixing your Issue</h2>\n\n<p>So with that background, your issue is quite easy to fix:</p>\n\n<ol>\n<li><p>Set your <code>PATH</code> so that the desired Python version is first. For example, you could run <code>export PATH=\"/path/to/python/bin:$PATH\"</code> to specify (one time) which Python you'd like to use. To do this permanently, add that line to your <code>.bash_profile</code>/<code>.bashrc</code> (note that anaconda can do this automatically for you when you install it). I'd recommend using the Python that comes with anaconda or miniconda: this will allow you to <code>conda install</code> all the tools you need.</p></li>\n<li><p>Make sure the packages you want to use are installed for <strong>that</strong> python. If you're using conda, you can type, e.g. <code>conda install jupyter matplotlib scikit-learn</code> to install those packages for <code>anaconda/bin/python</code>.</p></li>\n<li><p>Make sure that your Jupyter kernels point to the Python versions you want to use. When you <code>conda install jupyter</code> it should set this up for <code>anaconda/bin/python</code> automatically. Otherwise you can use the <code>jupyter kernelspec</code> command or <code>python -m ipykernel install</code> command to adjust existing kernels or install new ones.</p></li>\n<li><p>For installing modules into other Python Jupyter kernels not managed by Anaconda, you need to copy the path to the Python executable for the kernel and run <code>/path/to/python -m pip install &lt;package&gt;</code> </p></li>\n</ol>\n\n<p>Hopefully that's clear... good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 8640819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd122c87a6d797947354c553c48efc4?s=128&d=identicon&r=PG&f=1", "display_name": "arpan", "link": "https://stackoverflow.com/users/8640819/arpan"}, "is_accepted": false, "score": 2, "last_activity_date": 1605772601, "creation_date": 1605772601, "answer_id": 64907510, "question_id": 39007571, "link": "https://stackoverflow.com/questions/39007571/running-jupyter-with-multiple-python-and-ipython-paths/64907510#64907510", "title": "Running Jupyter with multiple Python and IPython paths", "body": "<p><a href=\"https://stackoverflow.com/users/2937831/jakevdp\">@jakevdp</a> explained it very well.</p>\n<p>When I updated my ubuntu I also had the same problem and I solved it by changing the kernel configuration file(kernel.json).\nTo list the kernel files location.\nUse</p>\n<pre><code>jupyter kernelspec list\n</code></pre>\n<p>It will return</p>\n<pre><code>Available kernels:\n  python3    /home/user1/.local/share/jupyter/kernels/python3\n  python2    /usr/local/share/jupyter/kernels/python2\n</code></pre>\n<p>I was using python3 so I changed the file at</p>\n<pre><code>/home/user1/.local/share/jupyter/kernels/python3\n</code></pre>\n<p>by following step</p>\n<pre><code>nano /home/user1/.local/share/jupyter/kernels/python3/kernel.json\n</code></pre>\n<p>There inside\n<code>argv</code>\nI changed the first parameter(i.e. python3 directory path) form</p>\n<pre><code>&quot;/usr/bin/python3.5&quot;\n</code></pre>\n<p>to</p>\n<pre><code>&quot;/usr/bin/python3&quot;\n</code></pre>\n<p>and saved it with\n<code>ctr+x</code>\nand restarted jupyter-notebook.</p>\n"}], "owner": {"reputation": 1284, "user_id": 6105404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/aQZmQ.jpg?s=128&g=1", "display_name": "npross", "link": "https://stackoverflow.com/users/6105404/npross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46053, "favorite_count": 56, "protected_date": 1557709253, "accepted_answer_id": 39022003, "answer_count": 2, "score": 59, "last_activity_date": 1605772601, "creation_date": 1471475172, "last_edit_date": 1512072298, "question_id": 39007571, "link": "https://stackoverflow.com/questions/39007571/running-jupyter-with-multiple-python-and-ipython-paths", "title": "Running Jupyter with multiple Python and IPython paths", "body": "<p>I'd like to work with Jupyter notebooks, but have had difficulty doing basic imports (such as import matplotlib). I think this was because I have several user-managed python installations. For instance: </p>\n\n<pre><code>&gt; which -a python\n/usr/bin/python\n/usr/local/bin/python\n\n&gt; which -a ipython\n/Library/Frameworks/Python.framework/Versions/3.5/bin/ipython\n/usr/local/bin/ipython\n\n&gt; which -a jupyter\n/Library/Frameworks/Python.framework/Versions/3.5/bin/jupyter\n/usr/local/bin/jupyter\n</code></pre>\n\n<p>I used to have anaconda, but removed if from the ~/anaconda directory. Now, when I start a Jupyter Notebook, I get a Kernel Error:</p>\n\n<pre><code>File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/pytho\u200cn3.5/subprocess.py\",\nline 947, in init restore_signals, start_new_session)\nFile \"/Library/Frameworks/Python.framework/Versions/3.5/lib/pytho\u200cn3.5/subprocess.py\",\nline 1551, in _execute_child raise child_exception_type(errno_num, err_msg)\nFileNotFoundError: [Errno 2]\nNo such file or directory: '/Users/npr1/anaconda/envs/py27/bin/python' \n</code></pre>\n\n<p>What should I do?!</p>\n"}, {"tags": ["python", "bash", "config"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471475140, "post_id": 39007551, "comment_id": 65366789, "body": "Is that the format it will ways be in?"}, {"owner": {"reputation": 2372, "user_id": 5039582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2753151bbe8511e6705d432533cef910?s=128&d=identicon&r=PG&f=1", "display_name": "Mandragor", "link": "https://stackoverflow.com/users/5039582/mandragor"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471475178, "post_id": 39007551, "comment_id": 65366798, "body": "seem to be very old config files, edited over the years, so that&#39;s what i found after some investigation. so yes."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471475322, "post_id": 39007551, "comment_id": 65366828, "body": "For this to work with any arbitrary config file, it would need to be a proper shell interpreter, with flow control and builtins and all the rest."}, {"owner": {"reputation": 2372, "user_id": 5039582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2753151bbe8511e6705d432533cef910?s=128&d=identicon&r=PG&f=1", "display_name": "Mandragor", "link": "https://stackoverflow.com/users/5039582/mandragor"}, "edited": false, "score": 0, "creation_date": 1471475377, "post_id": 39007551, "comment_id": 65366848, "body": "basically somebody should have run already in such a problem, so does this already exist as &quot;standard&quot; package?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471475399, "post_id": 39007551, "comment_id": 65366856, "body": "For instance, assume you have someone running <code>FOO_CLASSPATH=$(find &quot;$HOME&#47;foo&quot; -name &#39;*.jar&#39; -printf &#39;%s:&#39;)</code> -- you&#39;d need to implement <code>find</code> (with the local system&#39;s non-POSIX extensions), command substitution... it&#39;s outside feasibility."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471475423, "post_id": 39007551, "comment_id": 65366862, "body": "You might as well ask if anyone has written a Python interpreter in bash. These aren&#39;t config files as you&#39;re used to them, they&#39;re <i>arbitrary scripts</i>, just like a Django config file in the Python world can run any arbitrary Python code it wants, up to and including connecting to a database and pulling configuration from there."}, {"owner": {"reputation": 2372, "user_id": 5039582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2753151bbe8511e6705d432533cef910?s=128&d=identicon&r=PG&f=1", "display_name": "Mandragor", "link": "https://stackoverflow.com/users/5039582/mandragor"}, "edited": false, "score": 0, "creation_date": 1471475522, "post_id": 39007551, "comment_id": 65366895, "body": "well the above code is working, but I believe there a better ways to do this. The bash configs, i have do not possess any (ba)sh &quot;$VAR&quot; logic , they are the  values as simple as above. that&#39;s all. but about 2000 of them ...."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471475557, "post_id": 39007551, "comment_id": 65366903, "body": "Sure -- you can make it work for a limited subset, but you won&#39;t find something that&#39;s actually guaranteed to behave identically (just like you could parse a <i>really simple</i> Django config file in bash, but not a complicated one)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1471475670, "post_id": 39007551, "comment_id": 65366934, "body": "now, there <i>are</i> some ways you could actually have a real shell interpreter source a config file and then emit a list of defined variables in a format Python can easily parse (personally, I&#39;d use a stream of NUL-delimited key/value pairs), but even then it&#39;ll only work with a subset of all possible config files -- anything that short-circuits evaluation or exits early will be a no-go."}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 1, "last_activity_date": 1471477692, "last_edit_date": 1471477692, "creation_date": 1471476333, "answer_id": 39007711, "question_id": 39007551, "link": "https://stackoverflow.com/questions/39007551/best-way-to-read-a-bash-config-file-in-python-2-or-3/39007711#39007711", "title": "Best way to read a (ba)sh config file in python 2 or 3", "body": "<p>Implementing a real shell interpreter in Python is beyond feasibility -- but you can cheat:</p>\n\n<pre><code>#!/usr/bin/env python\nimport subprocess\nimport os\n\nscript='''\nset -a # export all variable definitions to the environment\n\n# record prior names\ndeclare -A prior_names=( )\nwhile IFS= read -r varname; do\n  prior_names[$varname]=1\ndone &lt; &lt;(compgen -v)\n\nsource \"$1\" &gt;/dev/null\n\nwhile IFS= read -r varname; do\n  [[ ${prior_names[$varname]} ]] &amp;&amp; continue # skip anything that was already present\n  printf '%s\\\\0' \"$varname\" \"${!varname}\"\ndone &lt; &lt;(compgen -v)\n'''\n\ndef getVars(configFile):\n    p = subprocess.Popen(['bash', '-c', script, '_', configFile],\n        stdout=subprocess.PIPE,\n        env={'PATH': os.environ['PATH']})\n    items = p.communicate()[0].split('\\0')\n    keys = [val for (idx, val) in enumerate(items) if (idx % 2 == 0)]\n    vals = [val for (idx, val) in enumerate(items) if (idx % 2 == 1)]\n    return dict(zip(keys, vals))\n\nif __name__ == '__main__':\n    import sys\n    print getVars(sys.argv[1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11320607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc7320c69fffff1c690cb2ab2be08b4?s=128&d=identicon&r=PG&f=1", "display_name": "nickma", "link": "https://stackoverflow.com/users/11320607/nickma"}, "is_accepted": false, "score": 0, "last_activity_date": 1567672306, "last_edit_date": 1567672306, "creation_date": 1567671932, "answer_id": 57801349, "question_id": 39007551, "link": "https://stackoverflow.com/questions/39007551/best-way-to-read-a-bash-config-file-in-python-2-or-3/57801349#57801349", "title": "Best way to read a (ba)sh config file in python 2 or 3", "body": "<p>a not quite as compatible version but beautiful option is using the python ConfigParser with the <a href=\"https://docs.python.org/3.4/library/configparser.html#configparser.ExtendedInterpolation\" rel=\"nofollow noreferrer\">ExtendedInterpolation</a> option.</p>\n\n<p>To use it with a bash compatible file <a href=\"https://stackoverflow.com/questions/2819696/parsing-properties-file-in-python/25493615#25493615\">one</a> added a [section] during file readout, as following (python3):</p>\n\n<pre><code>from configparser import ConfigParser, ExtendedInterpolation\ndef get_vars(config_file):\n    with open(config_file, 'r') as f:\n        config_string = '[DEFAULT]\\n' + f.read()\n    config = ConfigParser(interpolation=ExtendedInterpolation())\n    config.read_string(config_string)\n\n    return dict(config['DEFAULT'])\n</code></pre>\n\n<p>And the output of your proposed test file looks like this (like I said not perfectly compatible):</p>\n\n<pre><code>{'test': '123\\nBAK=.bak', 'test_2': '\"cool spaced Value\"', 'my_var2': '\"space value\"  # With a Comment for the value'}\n</code></pre>\n"}], "owner": {"reputation": 2372, "user_id": 5039582, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2753151bbe8511e6705d432533cef910?s=128&d=identicon&r=PG&f=1", "display_name": "Mandragor", "link": "https://stackoverflow.com/users/5039582/mandragor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567672306, "creation_date": 1471475050, "last_edit_date": 1471475141, "question_id": 39007551, "link": "https://stackoverflow.com/questions/39007551/best-way-to-read-a-bash-config-file-in-python-2-or-3", "title": "Best way to read a (ba)sh config file in python 2 or 3", "body": "<p>I have the the following config file </p>\n\n<pre><code># originally this was a (ba)sh config file, now read by python\nTEST=123\n  BAK=.bak\n# comment for next line\nTEST_2=\"cool spaced Value\"\nMY_VAR2=\"space value\"  # With a Comment for the value\n</code></pre>\n\n<p>I have managed to read this with the following code</p>\n\n<pre><code>def parse_lines(self, lines):\n  pattern = r'[ |\\t]*([a-zA-Z_][a-zA-Z0-9_]*)=(\"([^\\\\\"]|.*)\"|([^# \\t]*)).*[\\r]*\\n'\n  prog = re.compile(pattern)\n  hash={}\n\n  for line in lines:\n    result = prog.match(line)\n    if not result is None:\n      name = result.groups()[0]\n      if result.groups()[2] is None:\n        value= result.groups()[3]\n      else:\n        value= result.groups()[2]\n    hash[name]=value\n    return hash\n\n def read_shell_config(self, filename):\n   with  open(filename) as f:\n     lines = f.readlines()\n     hash  = self.parse_lines(lines)\n     return hash\n</code></pre>\n\n<p>Is there any better way (standard package?)  to read a bash config file like the above with python?</p>\n"}, {"tags": ["python", "audio", "signal-processing"], "owner": {"reputation": 511, "user_id": 4008884, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ccff073be070b21fd2b2951cb7cbd373?s=128&d=identicon&r=PG&f=1", "display_name": "FFT", "link": "https://stackoverflow.com/users/4008884/fft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1471474803, "creation_date": 1471474803, "question_id": 39007500, "link": "https://stackoverflow.com/questions/39007500/sync-two-different-performances-of-the-same-melody-using-dynamic-time-warping-re", "title": "Sync two different performances of the same melody using Dynamic Time Warping results", "body": "<p>I am aligning two recordings of the same melody, once played on bassoon and once on viola. Using dynamic time warping as described <a href=\"http://nbviewer.jupyter.org/github/craffel/alignment-search/blob/master/overview.ipynb\" rel=\"nofollow\">here</a>, I have as an output an array of indices of the frames of the audio which I should concatenate in order to match the target.</p>\n\n<p>I tried synthesizing the time-adjusted audio using a phase vocoder. However, all the libraries I have found (in Python) only change the tempo of a recording according to a fixed ratio. </p>\n\n<p>Does anyone know of a phase vocoder which would take as its argument an array of frame indices? Thoughts on any other approaches would be appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1471474977, "post_id": 39007491, "comment_id": 65366743, "body": "Your terminal is probably using Python 2, which is why when you use <code>input</code> it is throwing a <code>NameError</code>. Try running with <code>raw_input</code>, the Python 2 equivalent to Python 3 <code>input.</code>  In Python 2, <code>input</code> is the equivalent to <code>eval(input())</code> in Python 3"}, {"owner": {"reputation": 2133, "user_id": 5447208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f8eb976d91e3b7bb21366a68d1a70f?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5447208/cody"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1471475102, "post_id": 39007491, "comment_id": 65366776, "body": "@juanpa.arrivillaga probably has the best guess.  I just ran this in Python 3 and it appeared to work.  Type <code>python --version</code> on the terminal and see if it prints 2.[something] instead of 3.[something]"}], "answers": [{"tags": [], "owner": {"reputation": 1234, "user_id": 3879359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C1y2u.png?s=128&g=1", "display_name": "lopezdp", "link": "https://stackoverflow.com/users/3879359/lopezdp"}, "is_accepted": true, "score": 1, "last_activity_date": 1471475894, "creation_date": 1471475894, "answer_id": 39007656, "question_id": 39007491, "link": "https://stackoverflow.com/questions/39007491/python-running-in-idle-but-not-terminal/39007656#39007656", "title": "Python running in IDLE but not terminal?", "body": "<p>you are running python3 IDLE and the terminal is set to python2.</p>\n\n<p>In your computer's environmental variables, you want to change the path to the location of your Python3 installation instead of the python 2.</p>\n\n<p>Take a look at the picture, the one you want to change is PATH</p>\n\n<p><a href=\"https://i.stack.imgur.com/SOa18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SOa18.png\" alt=\"Environmental Variables\"></a></p>\n\n<p>If you dont want to change your environmental variables so that your terminal stays using python2, then you have to change your input and print statements.</p>\n\n<p>the code below is the implementation of your code in python 2.7:</p>\n\n<pre><code>print \"Hello User!\" \n\nrequest_list = ['']\n\nwhile True:\n    greeting = raw_input(\"What is your name? \")\n\n    if greeting.lower() == \"hello\":\n        print \"Who is this?\"\n        print \"Welcome back \" + greeting +\", what can I do for you?\"\n        break\n\n    elif greeting.lower() != \"hello\":\n        print \"Show some manners!\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1401, "user_id": 5813357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XErIM.png?s=128&g=1", "display_name": "romain-aga", "link": "https://stackoverflow.com/users/5813357/romain-aga"}, "edited": false, "score": 0, "creation_date": 1471476559, "post_id": 39007722, "comment_id": 65367169, "body": "In fact, in python 2.x, input can take everything, even some python code (if my memory is working correctly). Which can lead to security issues."}, {"owner": {"reputation": 1593, "user_id": 5519975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6946952cc7f81bfe08d4c286a9563d1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/5519975/tristan"}, "reply_to_user": {"reputation": 1401, "user_id": 5813357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XErIM.png?s=128&g=1", "display_name": "romain-aga", "link": "https://stackoverflow.com/users/5813357/romain-aga"}, "edited": false, "score": 0, "creation_date": 1471476654, "post_id": 39007722, "comment_id": 65367194, "body": "Yea, you are partially right. It was more the idea of explaining the diffrence but I will change it. But it can&#39;t take everything (no strings)"}, {"owner": {"reputation": 1401, "user_id": 5813357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XErIM.png?s=128&g=1", "display_name": "romain-aga", "link": "https://stackoverflow.com/users/5813357/romain-aga"}, "edited": false, "score": 0, "creation_date": 1471476931, "post_id": 39007722, "comment_id": 65367277, "body": "Well, input can take strings, if you use quotes x)"}, {"owner": {"reputation": 1593, "user_id": 5519975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6946952cc7f81bfe08d4c286a9563d1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/5519975/tristan"}, "reply_to_user": {"reputation": 1401, "user_id": 5813357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XErIM.png?s=128&g=1", "display_name": "romain-aga", "link": "https://stackoverflow.com/users/5813357/romain-aga"}, "edited": false, "score": 0, "creation_date": 1471477012, "post_id": 39007722, "comment_id": 65367294, "body": "Didn&#39;t know that. :)"}, {"owner": {"reputation": 1401, "user_id": 5813357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XErIM.png?s=128&g=1", "display_name": "romain-aga", "link": "https://stackoverflow.com/users/5813357/romain-aga"}, "edited": false, "score": 0, "creation_date": 1471477277, "post_id": 39007722, "comment_id": 65367356, "body": "I&#39;m happy to make you learn something :) It just tedious to use input when you want a string, because raw_input is made for that, but also the really big point is that input can accept really anything. You will have to do some check to ensure you have the right type/value plus the security issue. It&#39;s why you don&#39;t have it in python 3 (if I don&#39;t say a mistake)"}], "tags": [], "owner": {"reputation": 1593, "user_id": 5519975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6946952cc7f81bfe08d4c286a9563d1f?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/5519975/tristan"}, "is_accepted": false, "score": 1, "last_activity_date": 1471476792, "last_edit_date": 1471476792, "creation_date": 1471476387, "answer_id": 39007722, "question_id": 39007491, "link": "https://stackoverflow.com/questions/39007491/python-running-in-idle-but-not-terminal/39007722#39007722", "title": "Python running in IDLE but not terminal?", "body": "<p>The problem is that you use python 2.x in your terminal. If you have installed both you should be able to use the command 'python3' to run your code instead of the command 'python'. </p>\n\n<p>In python 3 'input' can take an integer or a string. In python2 'input' cannot take a string. Only other stuff. In python 2.x you should use 'raw_input' take a string. </p>\n"}], "owner": {"reputation": 21, "user_id": 6066792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcfae3c1e3d1e5835a82618ec8d2c36?s=128&d=identicon&r=PG&f=1", "display_name": "LuckyMuffin", "link": "https://stackoverflow.com/users/6066792/luckymuffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 1, "closed_date": 1471480228, "accepted_answer_id": 39007656, "answer_count": 2, "score": 0, "last_activity_date": 1471476792, "creation_date": 1471474727, "question_id": 39007491, "link": "https://stackoverflow.com/questions/39007491/python-running-in-idle-but-not-terminal", "closed_reason": "Duplicate", "title": "Python running in IDLE but not terminal?", "body": "<p>upon looking around a bit I have still not come to the conclusion as to why the following piece of python works in IDLE but not terminal. Any help would be appreciated.</p>\n\n<pre><code>print(\"Hello User!\")\n\nrequest_list = ['']\n\nwhile True:\n    greeting = input('')\n\n    if greeting.lower() == \"hello\":\n        print(\"Who is this?\")\n        print(\"Welcome back \" + input() +\", what can I do for you?\")\n        break\n\n    elif greeting.lower() != \"hello\":\n        print(\"Show some manners!\")\n</code></pre>\n\n<p>The error </p>\n\n<pre><code>Traceback (most recent call last):\n File \"courtney.py\", line 23, in &lt;module&gt;\ngreeting = input('')\n File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'hello' is not defined\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-2.7"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1471474678, "post_id": 39007441, "comment_id": 65366658, "body": "In what way is that list of integers supposed to represent &quot;DOUGLAS&quot;? There isn&#39;t a natural default correspondence between strings and lists of integers. Most likely, performing this conversion will require some information you haven&#39;t told us, and which you might not have bothered to preserve (in which case this is a lost cause)."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1471474888, "post_id": 39007441, "comment_id": 65366719, "body": "1st it looks like you have a list: <code>type([1196773188, 542327116])</code> -&gt; <code>&lt;class &#39;list&#39;&gt;</code> second the way to convert one piece of data to another is to have some rules/process to convert it.  If you know the rules for how <code>[1196773188, 542327116]</code> translates to <code>&quot;DOUGLAS&quot;</code> I&#39;d assume that same process of conversion would work with other data. Although I don&#39;t really see the correlation."}, {"owner": {"reputation": 395, "user_id": 4926669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/614ef065c010e82ac486a0cc1fb88a43?s=128&d=identicon&r=PG&f=1", "display_name": "GenericAlias", "link": "https://stackoverflow.com/users/4926669/genericalias"}, "edited": false, "score": 0, "creation_date": 1471475839, "post_id": 39007441, "comment_id": 65366981, "body": "Edited to explain why the integers translate to &quot;DOUGLAS&quot;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1471476492, "post_id": 39007441, "comment_id": 65367151, "body": "Take a look at the <a href=\"https://pymotw.com/2/struct/\" rel=\"nofollow noreferrer\">struct</a> module, which provides tools for converting between binary data and other data types."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1471476565, "post_id": 39007441, "comment_id": 65367170, "body": "Do you want to know how to do the conversion or how to determine the corresponding datatype?"}], "answers": [{"tags": [], "owner": {"reputation": 395, "user_id": 4926669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/614ef065c010e82ac486a0cc1fb88a43?s=128&d=identicon&r=PG&f=1", "display_name": "GenericAlias", "link": "https://stackoverflow.com/users/4926669/genericalias"}, "is_accepted": true, "score": 2, "last_activity_date": 1471482775, "last_edit_date": 1471482775, "creation_date": 1471481751, "answer_id": 39008382, "question_id": 39007441, "link": "https://stackoverflow.com/questions/39007441/how-to-take-an-integer-array-and-convert-it-into-other-types/39008382#39008382", "title": "How to take an integer array and convert it into other types?", "body": "<p>It seems that the struct module is the best way to go when converting between different types like this:</p>\n\n<pre><code>import struct    \n\nbufferstr = \"\"\ndougarray = [1196773188, 542327116]\nfor num in dougarray:\n    bufferstr += struct.pack(\"i\", num)\n\nprint bufferstr # Result is 'DOUGLAS'\n</code></pre>\n\n<p>From this point on we can easily convert 'DOUGLAS' to any datatype we want using struct.unpack():</p>\n\n<pre><code>print struct.unpack(\"f\", bufferstr[0:4]) # Result is (54607.265625)\n</code></pre>\n\n<p>We can only unpack a certain number of bytes at a time however. Thank you all for the suggestions! </p>\n"}], "owner": {"reputation": 395, "user_id": 4926669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/614ef065c010e82ac486a0cc1fb88a43?s=128&d=identicon&r=PG&f=1", "display_name": "GenericAlias", "link": "https://stackoverflow.com/users/4926669/genericalias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 39008382, "answer_count": 1, "score": -3, "last_activity_date": 1471482775, "creation_date": 1471474442, "last_edit_date": 1471475800, "question_id": 39007441, "link": "https://stackoverflow.com/questions/39007441/how-to-take-an-integer-array-and-convert-it-into-other-types", "title": "How to take an integer array and convert it into other types?", "body": "<p>I'm currently trying to take integer arrays that actually represent other data types and convert them into the correct datatype.</p>\n\n<p>So for example, if I had the integer array [1196773188, 542327116], I discover that this integer array represents a string from some other function, convert it, and realize it represents the string \"DOUGLAS\". The first number translates to the hexadecimal number 0x47554F44 and the second number represents the hexadecimal number 0x2053414C. Using a hex to string converter, these correspond to the strings 'GOUD' and 'SAL' respectively, spelling DOUGLAS in a little endian manner. The way the letters are backwards in individual elements of the array likely stem from the bytes being stored in a litte endian manner, although I might be mistaken on that.</p>\n\n<p>These integer arrays could represent a number of datatypes, including strings, booleans, and floats. </p>\n\n<p>I need to use Python 2.7, so I unfortunately can't use the bytes function. </p>\n\n<p>Is there a simple way to convert an integer array to its corresponding datatype?</p>\n"}, {"tags": ["python", "django", "django-channels"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 3148273, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ow2cO.jpg?s=128&g=1", "display_name": "agustinaliagac", "link": "https://stackoverflow.com/users/3148273/agustinaliagac"}, "edited": false, "score": 0, "creation_date": 1471476931, "post_id": 39007629, "comment_id": 65367276, "body": "Thanks Tim, it didn&#39;t work though. I think it&#39;s using the correct Setting module, because it&#39;s connecting to the Redis Backend which is defined for that environment."}], "tags": [], "owner": {"reputation": 5446, "user_id": 4193, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8c76a3f7c799c8b9d7c3967e5e374331?s=128&d=identicon&r=PG", "display_name": "TimB", "link": "https://stackoverflow.com/users/4193/timb"}, "is_accepted": false, "score": 1, "last_activity_date": 1471475706, "last_edit_date": 1495535631, "creation_date": 1471475706, "answer_id": 39007629, "question_id": 39007410, "link": "https://stackoverflow.com/questions/39007410/run-django-workers-servers-with-supervisor/39007629#39007629", "title": "Run Django workers servers with supervisor?", "body": "<p>You probably need to set the DJANGO_SETTINGS_MODULE environment variable.</p>\n\n<p>This answer provides an example: <a href=\"https://stackoverflow.com/a/26732916/4193\">https://stackoverflow.com/a/26732916/4193</a></p>\n"}, {"tags": [], "owner": {"reputation": 2907, "user_id": 8231270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6e1120519e52171ff9641bb6cb3b86?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Singh", "link": "https://stackoverflow.com/users/8231270/mr-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1518766568, "creation_date": 1518766568, "answer_id": 48822080, "question_id": 39007410, "link": "https://stackoverflow.com/questions/39007410/run-django-workers-servers-with-supervisor/48822080#48822080", "title": "Run Django workers servers with supervisor?", "body": "<p>You have to increase time limit and increasing capacity throughput is higher than 100 messages a second</p>\n\n<pre><code>CHANNEL_LAYERS = {\n        \"default\": {\n            \"BACKEND\": \"asgi_redis.RedisChannelLayer\",\n            \"CONFIG\": {\n                \"hosts\": [(XXX, XXX)],\n                \"channel_capacity\": {\n                    \"http.request\": 200,\n                    \"websocket.send*\": 20,\n                },\n            },\n            \"ROUTING\": \"XXXXXchannel_routing\"\n        },\n    }\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 3148273, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ow2cO.jpg?s=128&g=1", "display_name": "agustinaliagac", "link": "https://stackoverflow.com/users/3148273/agustinaliagac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1518766568, "creation_date": 1471474142, "last_edit_date": 1471477067, "question_id": 39007410, "link": "https://stackoverflow.com/questions/39007410/run-django-workers-servers-with-supervisor", "title": "Run Django workers servers with supervisor?", "body": "<p>I'm trying to deploy my Django application with supervisor. When I launch supervisor it starts daphne correctly, however the worker servers are not launched.</p>\n\n<p>Here's a code sample of supervisor.conf (the workers block): </p>\n\n<pre><code>[program:runworker]\ncommand=python /home/django/environment/myproject/manage.py runworker\nstopsignal=KILL\nkillasgroup=true\n</code></pre>\n\n<p>The browser waits a long time and then it shows:</p>\n\n<pre><code> 503 Service Unavailable\nWorker server failed to respond within time limit.\n</code></pre>\n\n<p>I could also add that if I launch the processes independently (not using any process control system ) it actually works. \nI'm behind an Nginx reverse proxy, but I don't think that's the issue at all.. </p>\n\n<p>Here's the output of Supervisor:</p>\n\n<pre><code>2016-08-17 19:01:09,439 INFO supervisord started with pid 3473\n2016-08-17 19:01:10,441 INFO spawned: 'runworker' with pid 3477\n2016-08-17 19:01:10,442 INFO spawned: 'daphne' with pid 3478\n2016-08-17 19:01:11,421 DEBG 'daphne' stderr output:\n2016-08-17 23:01:11,421 INFO Starting server at 0.0.0.0:9000, channel layer myproject.asgi:channel_layer\n\n2016-08-17 19:01:11,519 INFO success: runworker entered RUNNING state, process has stayed up for &gt; than 1 seconds (startsecs)\n2016-08-17 19:01:11,519 INFO success: daphne entered RUNNING state, process has stayed up for &gt; than 1 seconds (startsecs)\n2016-08-17 19:01:11,591 DEBG 'runworker' stderr output:\n2016-08-17 23:01:11,591 - INFO - runworker - Running worker against channel layer default (asgi_redis.core.RedisChannelLayer)\n\n2016-08-17 19:01:11,592 DEBG 'runworker' stderr output:\n2016-08-17 23:01:11,592 - INFO - worker - Listening on channels http.request, websocket.connect, websocket.disconnect, websocket.receive\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "random-forest"], "comments": [{"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1471504918, "post_id": 39007386, "comment_id": 65375396, "body": "Could it be that the distribution of the predictors in your &quot;test&quot; data set aren&#39;t the same as those of your &quot;unknown&quot; data set. I would suggest to do some exploratory analysis of these distributions before trying to fix your prediction model (which might not be the culprit here)."}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1471505005, "post_id": 39007386, "comment_id": 65375445, "body": "Just make some plots like <code>pred_test[&#39;flux_density&#39;].plot()</code> etc."}, {"owner": {"reputation": 1840, "user_id": 1582413, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc130ed0a1c82a7fff8f55008f06928c?s=128&d=identicon&r=PG", "display_name": "abhiieor", "link": "https://stackoverflow.com/users/1582413/abhiieor"}, "reply_to_user": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1471508705, "post_id": 39007386, "comment_id": 65377443, "body": "as @kris suggested do analysis on response distribution and if its not correct (distribution in training is way different than test) then you can do some stratified sampling."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1471555730, "post_id": 39007386, "comment_id": 65406335, "body": "setting both max_depth and max_features to None causes your model to overfit heavily. Why you set these particular values? Even default ones should be better than this."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6728339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843e834be23e5166426a9e1e37acac6d?s=128&d=identicon&r=PG&f=1", "display_name": "user6728339", "link": "https://stackoverflow.com/users/6728339/user6728339"}, "is_accepted": false, "score": 0, "last_activity_date": 1471800563, "creation_date": 1471800563, "answer_id": 39066941, "question_id": 39007386, "link": "https://stackoverflow.com/questions/39007386/offset-randomforestclassifier-scikit-learn/39066941#39066941", "title": "offset randomforestclassifier scikit learn", "body": "<p>Thanks for answering, guys.</p>\n\n<p>As suggested, I did plots of the predictors in the \u201ctest\u201d data and in the \u201cunknown\u201d data; the distributions are generally similar, but I prefer to make histograms to say it. So I tried to do histograms, but I couldn\u2019t both for the test and the unknown data, using:</p>\n\n<pre><code>pylab.hist(unid_df.spec_index,bins=30)\n</code></pre>\n\n<p>I obtained:\nTypeError: len() of unsized object</p>\n\n<p>I haven\u2019t found a solution yet and I don\u2019t know if this error can negatively act on the predictions. </p>\n\n<p>Additional information: the ranges of the various predictors are of different order of magnitude.\nThe ranges are the same for corresponding predictors of test and unknown data, but in few cases test data ranges have larger order of magnitude from the corresponding predictor of the unknown data. This is due to some points that have values much bigger than the most of the other points in the set.</p>\n\n<p>Thanks again.\nBye,\nFabio</p>\n"}], "owner": {"reputation": 1, "user_id": 6728339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843e834be23e5166426a9e1e37acac6d?s=128&d=identicon&r=PG&f=1", "display_name": "user6728339", "link": "https://stackoverflow.com/users/6728339/user6728339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471800563, "creation_date": 1471473999, "question_id": 39007386, "link": "https://stackoverflow.com/questions/39007386/offset-randomforestclassifier-scikit-learn", "title": "offset randomforestclassifier scikit learn", "body": "<p>I wrote a program in python to use a machine learning algorithm to make predictions on data. I use the function RandomForestClassifier from Scikit Learn to create a random forest to make predictions. </p>\n\n<p>The purpose of the program is to predict if an unknown astrophysical source is a pulsar or an agn; so it trains the forest on known data of which it knows if sources are pulsar or agn, then it makes predictions on unknown data, but it doesn\u2019t work. The program predict that unknown data are all pulsar or all agn and it rarely predicts a different result, but not correct.</p>\n\n<p>Below I describe the passages of my program.</p>\n\n<p>It creates a data frame with data for all the sources: all_df\nIt is made of ten columns, nine used as predictors and one as target:</p>\n\n<pre><code>predictors=all_df[['spec_index','variab_index','flux_density','unc_ene_flux100','sign_curve','h_ratio_12','h_ratio_23','h_ratio_34','h_ratio_45']]\ntargets=all_df['type']\n</code></pre>\n\n<p>type column contains the label \u201cpulsar\u201d or \u201cagn\u201d for each source.</p>\n\n<p>The values of predictors and targets are used successively in the program to train the forest.</p>\n\n<p>The program divides the predictors and the targets in two sets, the train, which is the 70% of the total, and the test, which is the 30% of the total of all_df, using the function train_test_split from Scikit Learn:</p>\n\n<pre><code>pred_train, pred_test, tar_train, tar_test=train_test_split(predictors, targets, test_size=0.3)\n</code></pre>\n\n<p>Data in these sets are mixed, so the program orders the indexes of these sets, without changing data position:</p>\n\n<pre><code>pred_train=pred_train.reset_index(drop=True)\npred_test=pred_test.reset_index(drop=True)\ntar_train=tar_train.reset_index(drop=True)\ntar_test=tar_test.reset_index(drop=True)\n</code></pre>\n\n<p>After that, the program creates and trains the random forest:</p>\n\n<pre><code>clf=RandomForestClassifier(n_estimators=1000,oob_score=True,max_features=None,max_depth=None,criterion='gini')#,random_state=1)\nclf=clf.fit(pred_train,tar_train)\n</code></pre>\n\n<p>Now the program makes prediction on the test set:</p>\n\n<pre><code>predictions=clf.predict(pred_test)    \n</code></pre>\n\n<p>At this point, the program seems to work.</p>\n\n<p>Now it pass another data frame, with the unknown data, to the forest created above and I have the bad result described before.\nCan you help me?\nThe problem could be an offset in randomforestclassifier, but I had no significative results modifying randomforestclassifier options.\nIf you need, I can give further explanations.\nThanks in advance.</p>\n\n<p>Bye,\nFabio</p>\n\n<p>PS: I tried the cross validation too: I divided the train set into train and test again, with the same proportions (0.7 and 0.3), to create, train and test the forest before testing it on the initial test set, modifying randomforestclassifier options to obtain better results, but I had no improvements.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 1391, "user_id": 3826759, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e7a732492ee414b03e4439b8ec50d38e?s=128&d=identicon&r=PG&f=1", "display_name": "double_j", "link": "https://stackoverflow.com/users/3826759/double-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1471475218, "creation_date": 1471475218, "answer_id": 39007577, "question_id": 39007368, "link": "https://stackoverflow.com/questions/39007368/python-tkinter-visually-display-seating-arrangements/39007577#39007577", "title": "Python Tkinter visually display seating arrangements", "body": "<p>I just approached this problem with a different scenario. You want some way to track the variables of each seat so you can come back and change the color. One way is to create a name for the tkinter widget, i.e. <code>seat1</code> Where <code>1</code> would change for the seat number. You probably want the layout similar to the layout of the event so you want some rows. May I suggest also putting a frame in a canvas with a specific height and width. This way you can scroll through a frame without changing the size of the window.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\n\n\nclass MainApp(ttk.Frame):\n\n    def __init__(self, parent):\n        ttk.Frame.__init__(self, parent)\n        self.parent = parent\n        self.mainframe = ttk.Frame(self.parent)\n        self.canvas = tk.Canvas(self.mainframe)\n        self.frame = ttk.Frame(self.canvas)\n        self.gen_layout()\n        self.column_row_config()\n\n    def column_row_config(self):\n        self.parent.rowconfigure(0, weight=1)\n        self.parent.columnconfigure(0, weight=1)\n\n    def gen_layout(self):\n        self.mainframe.grid(row=0, column=0, sticky='nsew')\n        self.canvas.grid(row=0, column=0, sticky='nsew')\n        self.frame.grid(row=0, column=0, sticky='nsew')\n        self.make_seats()\n        self.access_seat_numb(1)\n\n    def make_seats(self):\n        # create 250 buttons on 10 rows\n        seat_counter = 1\n        for x in range(10):\n            for y in range(1, 26):\n                # print('creating seat %d' % seat_counter)\n                b = ttk.Button(\n                    self.frame, text='Seat%d' % seat_counter,\n                    name='seat%d' % seat_counter\n                )\n                # doesn't matter that the columns won't line up\n                b.grid(row=x, column=y)\n                seat_counter += 1\n\n    def access_seat_numb(self, numb):\n        # print(self.frame.children)\n        for k, v in self.frame.children.items():\n            if k == 'seat%d' % numb:\n                # run some code on a seat numb\n                print(v._name)\n\nif __name__ == '__main__':\n    root = tk.Tk()\n    MainApp(root)\n    root.mainloop()\n</code></pre>\n\n<p>Now <code>access_seat_numb</code> is a method that you can call and change that button.</p>\n"}], "owner": {"reputation": 3, "user_id": 6728311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc19a7b17e111addba6e127e3d2a70e?s=128&d=identicon&r=PG&f=1", "display_name": "francesco gorini", "link": "https://stackoverflow.com/users/6728311/francesco-gorini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 39007577, "answer_count": 1, "score": 0, "last_activity_date": 1546696777, "creation_date": 1471473872, "last_edit_date": 1471477993, "question_id": 39007368, "link": "https://stackoverflow.com/questions/39007368/python-tkinter-visually-display-seating-arrangements", "title": "Python Tkinter visually display seating arrangements", "body": "<p>I am doing a school project, the purpose of the program is to sell tickets, the only problem i have is \"Available and unavailable seats should be coloured/displayed differently and change when seat(s) are sold or returned.\", i have a total of 250 seats, how to display them all on the screen? should i use a table or grid? or a canvas? i don't want you to code for me this is my assessment i just need an idea on how to tackle this problem efficiently.</p>\n\n<p>I have tried to manually use buttons to display the seats, not efficient for 250 of them.</p>\n\n<pre><code>Button(master, text=\"seat\").grid(row=0,column=0) * 250 != efficient\n</code></pre>\n\n<p>i also tried to create the buttons dynamically with a For loop</p>\n\n<pre><code>self.seats = [] \nrow_count = 0\nfor i in range(250):\n    if(i &gt; 5): \n        row_count += 1  #5 column table style\n    if(i &lt; seats_taken):\n        self.seats.append(Button(master, bg='#ff0000'))  #So taken seats are red bg\n        self.seats[i].grid(column=i+1 , row= row_count) \n    else:\n        self.seats.append(Button(master, bg='#ffffff'))  #Available seats are white bg\n        self.seats[i].grid(column=i+1 , row= row_count)\n</code></pre>\n\n<p>How would you takle this problem?</p>\n"}, {"tags": ["python", "namespaces", "argparse"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471473843, "post_id": 39007318, "comment_id": 65366447, "body": "your options are not a mutually exclusive group, what if both <code>-s</code> and <code>-k</code> was specified?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471474560, "post_id": 39007318, "comment_id": 65366631, "body": "it seems like the arguments for <code>-s</code> or <code>-k</code> are treated the same way, wouldn&#39;t it make more sense to just make the s/k be a flag and the arguments handled separately?"}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1471493285, "last_edit_date": 1471493285, "creation_date": 1471476408, "answer_id": 39007724, "question_id": 39007318, "link": "https://stackoverflow.com/questions/39007318/assign-variable-to-multiple-argparse-attributes/39007724#39007724", "title": "assign variable to multiple argparse attributes", "body": "<p>Run the parser with various inputs, and look at the results:</p>\n\n<pre><code>In [108]: def args_options(argv=None):\n     ...:     parser = argparse.ArgumentParser()\n     ...:     parser.add_argument('-s', help='-s argument help', nargs=3)\n     ...:     parser.add_argument('-k', help='-k argument help', nargs=3)\n     ...:     arguments = parser.parse_args(argv)\n     ...:     return arguments\n     ...: \n</code></pre>\n\n<p>With no arguments - both <code>args.k</code> and <code>args.s</code> are <code>None</code>.</p>\n\n<pre><code>In [109]: args_options([])\nOut[109]: Namespace(k=None, s=None)\n</code></pre>\n\n<p>With <code>-s</code> and the right number of arguments, <code>args.s</code> is a list of 3 strings.</p>\n\n<pre><code>In [110]: args_options(['-s','1','2','3'])\nOut[110]: Namespace(k=None, s=['1', '2', '3'])\n</code></pre>\n\n<p><code>-k</code> without arguments - error</p>\n\n<pre><code>In [111]: args_options(['-s','1','2','3', '-k'])\nusage: ipython3 [-h] [-s S S S] [-k K K K]\nipython3: error: argument -k: expected 3 arguments\nAn exception has occurred, use %tb to see the full traceback.\n\nSystemExit: 2\n\n\n\nIn [112]: args_options(['-s','1','2','3', '-k','4','5','6'])\nOut[112]: Namespace(k=['4', '5', '6'], s=['1', '2', '3'])\n</code></pre>\n\n<p>k and s - both as 3 element lists</p>\n\n<p>An example of tests we can do:</p>\n\n<pre><code>In [113]: args=args_options(['-k','1','2','3'])\nIn [114]: args.s is None\nOut[114]: True\nIn [115]: args.k is None\nOut[115]: False\nIn [116]: a,b,c = args.k   # unpack to variables\nIn [117]: a\nOut[117]: '1'\nIn [118]: b\nOut[118]: '2'\nIn [119]: c\nOut[119]: '3'\n</code></pre>\n\n<p>Indexed access of list also works: <code>args.k[2]</code></p>\n\n<p><code>vars(args)</code> creates a dictionary from the <code>args</code> object, but I don't think that makes access any easier.</p>\n\n<p>The big message - print <code>args</code> to see what your parser produces.  Do this again and again until you understand what it is doing and why.</p>\n\n<p>You could give <code>-k</code> a <code>default=[]</code>, in produce</p>\n\n<pre><code>In [123]: args=args_options(['-s','1','2','3'])\nIn [124]: args\nOut[124]: Namespace(k=[], s=['1', '2', '3'])\n</code></pre>\n\n<p>You could define a <code>dest</code> for both, and end up with the values in the args attribute;</p>\n\n<pre><code>parser.add_argument('-k', '--ko', dest='something', default=[], nargs=3)\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 1165419, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d42aa0d6ef112f8d7b613de03cbb89e1?s=128&d=identicon&r=PG", "display_name": "user1165419", "link": "https://stackoverflow.com/users/1165419/user1165419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 39007724, "answer_count": 1, "score": 1, "last_activity_date": 1471493285, "creation_date": 1471473589, "last_edit_date": 1471475464, "question_id": 39007318, "link": "https://stackoverflow.com/questions/39007318/assign-variable-to-multiple-argparse-attributes", "title": "assign variable to multiple argparse attributes", "body": "<p>I'm trying to assign multiple argument attributes based on their location in the attribute list. To give an example;</p>\n\n<pre><code>import argparse\nimport sys\n\ndef args_options:\n    parser = argparse.ArgumentParser()\n    parser.add_argument('-s', help='-s argument help', nargs=3)\n    parser.add_argument('-k', help='-k argument help', nargs=3)\n    arguments = parser.parse_args()\n\n    return arguments\n\ndef assign_arg():\n    args = args_options()\n\n    if args.s or args.k:\n        variable1 = args[1] # this is where I'm stuck as I know this won't work\n        variable2 = args[2] # ^\n</code></pre>\n\n<p>From the above, I'm trying to check if either arg.s or arg.k is true, and if so then the second and third attribute in the list of either argument is assigned to variables. </p>\n\n<p>Is it possible to do this with python? Or would I need to do;</p>\n\n<pre><code>if arg.s:\n    variable1 = arg.s[1] \n    variable2 = arg.s[2]\nelif arg.k:\n    variable1 = arg.k[1] \n    variable2 = arg.k[2]     \n</code></pre>\n\n<p>The above would work, but I have a lot of options/attributes so the code could get long. Wanted to ask if there way to do it more efficiently by finding the attribute in the list of multiple argument options and assigning that to a variable. </p>\n"}, {"tags": ["python", "json", "bash", "terminal"], "comments": [{"owner": {"reputation": 1420, "user_id": 4103025, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RhTH9.jpg?s=128&g=1", "display_name": "bytesized", "link": "https://stackoverflow.com/users/4103025/bytesized"}, "edited": false, "score": 0, "creation_date": 1471474941, "post_id": 39007279, "comment_id": 65366736, "body": "What exactly do you mean by &quot;looking at each .json filename, I want to have key value pair inside the .json file&quot;. Do you want to add data to the JSON currently in the file? How are you getting the values for &quot;TotalReadoutTime&quot; and &quot;IntendedFor&quot;?"}, {"owner": {"reputation": 71, "user_id": 6728367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-5DT1yJ4EO5w/AAAAAAAAAAI/AAAAAAAAABM/wT_dV59XnK8/photo.jpg?sz=128", "display_name": "Kashi Vishwa", "link": "https://stackoverflow.com/users/6728367/kashi-vishwa"}, "reply_to_user": {"reputation": 1420, "user_id": 4103025, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RhTH9.jpg?s=128&g=1", "display_name": "bytesized", "link": "https://stackoverflow.com/users/4103025/bytesized"}, "edited": false, "score": 0, "creation_date": 1471475560, "post_id": 39007279, "comment_id": 65366904, "body": "@bytesized &quot;TotalReadoutTime&quot; and &quot;IntendedFor&quot; values are same by default... If the .json filename as idir-acq value as LR i want this to be translated to &quot;PhasEncodingDirection&quot;: &quot;-i&quot;.. So the &quot;-i&quot; or +i will be dependent upon idir value in the file name. LR os -i and RL is +i"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1471477086, "post_id": 39007279, "comment_id": 65367310, "body": "Take a look at <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">jq</a> for parsing JSON in <code>bash</code>."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1471477031, "post_id": 39007685, "comment_id": 65367298, "body": "The question requests either a <code>bash</code> or <code>python</code> solution, not <code>Node.js</code>."}, {"owner": {"reputation": 71, "user_id": 6728367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-5DT1yJ4EO5w/AAAAAAAAAAI/AAAAAAAAABM/wT_dV59XnK8/photo.jpg?sz=128", "display_name": "Kashi Vishwa", "link": "https://stackoverflow.com/users/6728367/kashi-vishwa"}, "edited": false, "score": 0, "creation_date": 1471477059, "post_id": 39007685, "comment_id": 65367305, "body": "@Sham332 It is editing all other files from the directory too. I want to edit only files ending with .json and having a pattern of sub-285345_task*.json."}, {"owner": {"reputation": 71, "user_id": 6728367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-5DT1yJ4EO5w/AAAAAAAAAAI/AAAAAAAAABM/wT_dV59XnK8/photo.jpg?sz=128", "display_name": "Kashi Vishwa", "link": "https://stackoverflow.com/users/6728367/kashi-vishwa"}, "edited": false, "score": 0, "creation_date": 1471477914, "post_id": 39007685, "comment_id": 65367519, "body": "@Sham332 I am ok with node js just that i have to do one more operation then. I want to edit the intended for as well as per the .json filename. If the filename is  <code>sub-285345_task-EMOTION_acq-RL_idir-acq-RL_epi.json</code> i want IntendedFor filed to be: <code>func&#47;sub-285345_task-EMOTION_acq-RL_bold.nii.g</code>. Basically i want to have tast-EMOTION_acq-RL from the filename and in place of idir_acq-RL_epi.json i would like to have _bold.nii.gz.. can this be done in node js too..?"}, {"owner": {"reputation": 1627, "user_id": 1366056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/794d35c8a31280fb3b337c2fa5edd6f4?s=128&d=identicon&r=PG", "display_name": "Shambu", "link": "https://stackoverflow.com/users/1366056/shambu"}, "edited": false, "score": 0, "creation_date": 1471542193, "post_id": 39007685, "comment_id": 65399647, "body": "I have added replace logic as above. Hope this is helpful"}], "tags": [], "owner": {"reputation": 1627, "user_id": 1366056, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/794d35c8a31280fb3b337c2fa5edd6f4?s=128&d=identicon&r=PG", "display_name": "Shambu", "link": "https://stackoverflow.com/users/1366056/shambu"}, "is_accepted": true, "score": 0, "last_activity_date": 1471542162, "last_edit_date": 1471542162, "creation_date": 1471476126, "answer_id": 39007685, "question_id": 39007279, "link": "https://stackoverflow.com/questions/39007279/json-file-with-input-from-filename-using-bash/39007685#39007685", "title": "JSON file with input from filename using bash", "body": "<p>You try below node js script</p>\n\n<pre><code>var fs = require('fs');\n\nfs.readdir('.', function(err, files) {\n    if (err) console.log(err);\n    files.forEach(function(file) {\n        var obj = {\n            \"TotalReadoutTime\": 0.08346,\n\n        };\n\n        if (file.indexOf(\"idir-acq-LR\") &gt; -1) {\n            console.log(file);\n            obj.PhaseEncodingDirection = \"-i\";\n            var intendedForPart1 =  file.replace(/'-EMOTION-acq-LR'/g,'-rest_acq-LR');\n            var intendedForPart2 =  intendedForPart1.replace(/'_epi.json'/g,'_run-01_bold.nii.gz');\n            obj.IntendedFor = 'func/' + intendedForPart2;\n            fs.writeFile(file, JSON.stringify(obj), 'utf-8');\n        } else if (file.indexOf(\"idir-acq-RL\") &gt; -1) {\n            console.log(file);\n            obj.PhaseEncodingDirection = \"i\";\n            var intendedForPart1 =  file.replace(/'-EMOTION-acq-RL'/g,'-rest_acq-RL');\n            var intendedForPart2 =  intendedForPart1.replace(/'_epi.json'/g,'_run-01_bold.nii.gz');\n            obj.IntendedFor = 'func/' + intendedForPart2;\n            //obj.IntendedFor = \"func/sub-285345_task-rest_acq-RL_run-01_bold.nii.gz\"\n            fs.writeFile(file, JSON.stringify(obj), 'utf-8');\n        }\n\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6728367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-5DT1yJ4EO5w/AAAAAAAAAAI/AAAAAAAAABM/wT_dV59XnK8/photo.jpg?sz=128", "display_name": "Kashi Vishwa", "link": "https://stackoverflow.com/users/6728367/kashi-vishwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 39007685, "answer_count": 1, "score": 0, "last_activity_date": 1471542162, "creation_date": 1471473287, "question_id": 39007279, "link": "https://stackoverflow.com/questions/39007279/json-file-with-input-from-filename-using-bash", "title": "JSON file with input from filename using bash", "body": "<p>I am very new to bash scripting. </p>\n\n<p>I have set of JSON files as follows:</p>\n\n<pre><code>sub-285345_task-EMOTION_acq-LR_idir-acq-LR_epi.json\nsub-285345_task-EMOTION_acq-LR_idir-acq-RL_epi.json\nsub-285345_task-EMOTION_acq-RL_idir-acq-LR_epi.json\nsub-285345_task-EMOTION_acq-RL_idir-acq-RL_epi.json\n</code></pre>\n\n<p>Now looking at the each .json filename, I want to have key value pair inside the .json file. For eg: for file <code>sub-285345_task-EMOTION_acq-LR_idir-acq-LR_epi.json</code>\ni want to include following information: </p>\n\n<pre><code>{\n\"PhaseEncodingDirection\": \"-i\",\n\"TotalReadoutTime\": 0.08346,\n\"IntendedFor\": \"func/sub-285345_task-rest_acq-LR_run-01_bold.nii.gz\"\n}\n</code></pre>\n\n<p><code>PhaseENcodingDirection</code> is derived from <code>idir-acq-LR</code> in the filename. For <code>LR</code> its <code>-i</code> and for <code>RL</code> its <code>i</code>.</p>\n\n<p>How can this be done using bash script preferably if not then in python. </p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "edited": false, "score": 0, "creation_date": 1471473141, "post_id": 39007232, "comment_id": 65366222, "body": "try adding <code>from __future__ import unicode_literals</code> to the top of the file as well, does that solve your issue?"}, {"owner": {"reputation": 33207, "user_id": 1399491, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1cb3dec3a6f3411ce3460276e44b292?s=128&d=identicon&r=PG", "display_name": "Alex W", "link": "https://stackoverflow.com/users/1399491/alex-w"}, "edited": false, "score": 0, "creation_date": 1471473345, "post_id": 39007232, "comment_id": 65366284, "body": "What version of Python are you running? I have 2.7.12 and it works fine it just interprets that character as an escape sequence in the string literal"}, {"owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "reply_to_user": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "edited": false, "score": 0, "creation_date": 1471474087, "post_id": 39007232, "comment_id": 65366512, "body": "@ThomasTu Thanks man, ... That solves it. Why?"}], "answers": [{"comments": [{"owner": {"reputation": 33207, "user_id": 1399491, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1cb3dec3a6f3411ce3460276e44b292?s=128&d=identicon&r=PG", "display_name": "Alex W", "link": "https://stackoverflow.com/users/1399491/alex-w"}, "edited": false, "score": 0, "creation_date": 1471475651, "post_id": 39007419, "comment_id": 65366929, "body": "<code>u&quot;&#233;&quot;.encode(&#39;utf-8&#39;)</code> is the same thing as <code>str(&quot;&#233;&quot;)</code> is not true"}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "reply_to_user": {"reputation": 33207, "user_id": 1399491, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1cb3dec3a6f3411ce3460276e44b292?s=128&d=identicon&r=PG", "display_name": "Alex W", "link": "https://stackoverflow.com/users/1399491/alex-w"}, "edited": false, "score": 0, "creation_date": 1471476085, "post_id": 39007419, "comment_id": 65367039, "body": "That&#39;s good to know, do you think you can explain what&#39;s going on with <code>u&quot;&#233;&quot;.encode(&#39;utf-8&#39;) == str(&quot;&#233;&quot;)</code> ?"}, {"owner": {"reputation": 33207, "user_id": 1399491, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1cb3dec3a6f3411ce3460276e44b292?s=128&d=identicon&r=PG", "display_name": "Alex W", "link": "https://stackoverflow.com/users/1399491/alex-w"}, "edited": false, "score": 0, "creation_date": 1471476294, "post_id": 39007419, "comment_id": 65367097, "body": "The double equals calls the special method <code>__eq__</code> to check for equality. On those two objects it most likely is saying they are equal because they are both of <code>&lt;type &#39;str&#39;&gt;</code>"}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 1, "creation_date": 1471480569, "post_id": 39007419, "comment_id": 65368166, "body": "@ThomasTu the meaning of <code>&quot;&#233;&quot;</code> (a byte string) depends on the encoding of the file, eg. if the file is encoded in windows-1252, <code>&quot;&#233;&quot; == &quot;\\xe9&quot;</code> while if the file is encoded as UTF-8, then <code>&quot;&#233;&quot; == &quot;\\xc3\\xa9&quot;</code>. <code>u&quot;&#233;&quot;.encode(&#39;utf-8&#39;)</code> unambiguously equals <code>&quot;\\xc3\\xa9&quot;</code>."}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "reply_to_user": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 0, "creation_date": 1471480837, "post_id": 39007419, "comment_id": 65368245, "body": "Thanks @roeland, that clarifies a lot! Will try to clarify my post to reflect this."}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "edited": false, "score": 1, "creation_date": 1471480905, "post_id": 39007419, "comment_id": 65368261, "body": "similarly, and <b>very important</b>, <code>u&quot;&#233;&quot;.encode(&#39;utf-8&#39;)</code> is not the same as <code>str(&quot;&#233;&quot;)</code>."}], "tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": true, "score": 3, "last_activity_date": 1471475621, "last_edit_date": 1471475621, "creation_date": 1471474213, "answer_id": 39007419, "question_id": 39007232, "link": "https://stackoverflow.com/questions/39007232/python-how-to-solve-unicode-error-in-string/39007419#39007419", "title": "Python how to solve Unicode Error in string", "body": "<p>This is in response to why this solves the issue OP is having, and somebackground on the issue OP is trying describe</p>\n\n<pre><code>from __future__ import unicode_literals\nfrom builtins import str\n</code></pre>\n\n<p>In the default iPython 2.7 kernel : </p>\n\n<p>(iPython session)</p>\n\n<pre><code>In [1]: type(\"\u00e9\") # By default, quotes in py2 create py2 strings, which is the same thing as a sequence of bytes that given some encoding, can be decoded to a character in that encoding.\nOut[1]: str\n\nIn [2]: type(\"\u00e9\".decode(\"utf-8\")) # We can get to the actual text data by decoding it if we know what encoding it was initially encoded in, utf-8 is a safe guess in almost every country but Myanmar.\nOut[2]: unicode\n\nIn [3]: len(\"\u00e9\") # Note that the py2 `str` representation has a length of 2.  There's one byte for the \"e\" and one byte for the accent.  \nOut[3]: 2\n\nIn [4]: len(\"\u00e9\".decode(\"utf-8\")) # the py2 `unicode` representation has length 1, since an accented e is a single character\nOut[4]: 1\n</code></pre>\n\n<p>Some other things of note in python 2.7:</p>\n\n<ul>\n<li><code>\"\u00e9\"</code> is the same thing as <code>str(\"\u00e9\")</code></li>\n<li><code>u\"\u00e9\"</code> is the same thing as <code>\"\u00e9\".decode('utf-8')</code> or <code>unicode(\"\u00e9\", 'utf-8')</code></li>\n<li><code>u\"\u00e9\".encode('utf-8')</code> is the same thing as <code>str(\"\u00e9\")</code></li>\n<li>You typically call decode with a py2 <code>str</code>, and encode with py2 <code>unicode</code>.  \n\n<ul>\n<li>Due to early design issues, you can call both on either even though that doesn't really make any sense.</li>\n<li>In python3, <code>str</code>, which is the same as python2 <code>unicode</code>, can no longer be decoded since a string by definition is a decoded sequence of bytes.  By default, it uses the utf-8 encoding.</li>\n</ul></li>\n<li>Byte sequences that were encoded with in the ascii codec behave exactly the same as their decoded counterparts.\n\n<ul>\n<li>In python 2.7 with no future imports : <code>type(\"a\".decode('ascii'))</code> gives a unicode object, but this behaves nearly identically with <code>str(\"a\")</code>.  This is not the case in python3.</li>\n</ul></li>\n</ul>\n\n<p>With that said, here's what the snippets above do : </p>\n\n<ul>\n<li><code>__future__</code> is a module maintained by the core python team that backports python3 functionality to python2 to allow you to use python3 idioms within python2.</li>\n<li><code>from __future__ import unicode_literals</code> has the following effect : \n\n<ul>\n<li>Without the future import <code>\"\u00e9\"</code> is the same thing as <code>str(\"\u00e9\")</code></li>\n<li>With the future import <code>\"\u00e9\"</code> is functionally the same thing as <code>unicode(\"\u00e9\")</code></li>\n</ul></li>\n<li><code>builtins</code> is a module that is approved by the core python team, and contains safe aliases for using python3 idioms in python2 with the python3 api. \n\n<ul>\n<li>Due to reasons beyond me, the package itself is named \"future\", so to install the <code>builtins</code> module you run : <code>pip install future</code></li>\n</ul></li>\n<li><code>from builtins import str</code> has the following effect  :\n\n<ul>\n<li>the <code>str</code> constructor now gives what you think it does, i.e. text data in the form of python2 unicode objects. So it's functionally the same thing as  <code>str = unicode</code> </li>\n<li>Note : Python3 <code>str</code> is functionally the same as Python2 <code>unicode</code></li>\n<li>Note : To get bytes, you can use the \"bytes\" prefix, e.g. <code>b'\u00e9'</code></li>\n</ul></li>\n</ul>\n\n<p>The takeaway is this : </p>\n\n<ol>\n<li>Decode on read/Decode early on and encode on write/encode at the end</li>\n<li>Use <code>str</code> objects for bytes and <code>unicode</code> objects for text</li>\n</ol>\n"}], "owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4431, "favorite_count": 0, "accepted_answer_id": 39007419, "answer_count": 1, "score": 0, "last_activity_date": 1471475621, "creation_date": 1471473019, "question_id": 39007232, "link": "https://stackoverflow.com/questions/39007232/python-how-to-solve-unicode-error-in-string", "title": "Python how to solve Unicode Error in string", "body": "<p>I'm getting the classical error:</p>\n\n<blockquote>\n  <p>ascii' codec can't decode byte 0xc3 in position 28: ordinal not in\n  range(128)</p>\n</blockquote>\n\n<p>This time, I can't solve it. The error comes from this line:</p>\n\n<pre><code>mensaje_texto_inmobiliaria = \"%s, con el email %s y el tel\u00e9fono %s est\u00e1 se ha contactado con Inmobiliar\" % (nombre, email, telefono)\n</code></pre>\n\n<p>Specifically, from the <code>tel\u00e9fono</code> word. I have tried adding <code># -*- coding: utf-8 -*-</code> to the beginning of the file, adding <code>unicode( &lt;string&gt; )</code> and also <code>&lt;string&gt;.encode(\"utf-8\")</code>. Nothing worked. Any advice will help.</p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "lxml"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471475680, "post_id": 39007227, "comment_id": 65366940, "body": "From memory, they started using react so a lot of content is now dynamically created, how are you getting the source?"}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471476072, "post_id": 39007227, "comment_id": 65367038, "body": "I put the code in the question. It definitely looks like the content is created dynamically. I guess I&#39;m wondering if such content can be pulled anyway."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471476454, "post_id": 39007227, "comment_id": 65367138, "body": "yes, I just had a look,  it is completely dynamically created including the colouring etc.. You can quite easily get the values using selenium though"}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471478285, "post_id": 39007227, "comment_id": 65367614, "body": "I&#39;ll have to look up selenium. Never heard of it. Thanks for the pointer. Is it a Python thing?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471478529, "post_id": 39007227, "comment_id": 65367681, "body": "It behaves like a browser i.e it can run Javascript, you can use it with Phantomjs for headless browsing. I did a bit of work with it and got all the x,y axis ticks, values etc.. quite easily, you can actually recreate the whole graph including the colour codes by extracting the values from the tags. It is too late to finish it now but if I get some free time tomorrow I will add the full implementation"}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471544582, "post_id": 39007227, "comment_id": 65400898, "body": "I would really appreciate that. It sounds amazing."}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1471985136, "post_id": 39007227, "comment_id": 65568133, "body": "@PadraicCunningham, would you be able to just outline how this could be done? I don&#39;t want you to have to do the work, but wondered if you could just give me the bullet points or google search terms that might get me what I need?"}, {"owner": {"reputation": 415, "user_id": 3402502, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1436fff0da27a15ebdd76e568e9e56be?s=128&d=identicon&r=PG", "display_name": "shutdown -h now", "link": "https://stackoverflow.com/users/3402502/shutdown-h-now"}, "edited": false, "score": 0, "creation_date": 1472474471, "post_id": 39007227, "comment_id": 65752001, "body": "they do not have any API to get this information&#39;s as a JSON data?"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 4, "last_activity_date": 1472279301, "creation_date": 1472279301, "answer_id": 39178177, "question_id": 39007227, "link": "https://stackoverflow.com/questions/39007227/python-lxml-etree-applet-information-from-yahoo/39178177#39178177", "title": "python lxml etree applet information from yahoo", "body": "<p>The page is <em>quite dynamic</em> and involves a lot of javascript executed in a browser. To follow the @Padraic's advice about switching to <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow\"><code>selenium</code></a>, here is a complete sample working code that produces a month-to-trend dictionary at the end. The values of each bar are calculated as proportions of bar heights:</p>\n\n<pre><code>from pprint import pprint\n\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.support.wait import WebDriverWait\n\ndriver = webdriver.Chrome()\ndriver.maximize_window()\ndriver.get(\"https://finance.yahoo.com/quote/CSX/analysts?p=CSX\")\n\n# wait for the chart to be visible\nwait = WebDriverWait(driver, 10)\ntrends = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, \"section[data-reactid$=trends]\")))\nchart = trends.find_element_by_css_selector(\"svg.ratings-chart\")\n\n# get labels\nmonth_names = [month.text for month in chart.find_elements_by_css_selector(\"g.x-axis g.tick\")]\ntrend_names = [trend.text for trend in trends.find_elements_by_css_selector(\"table tr &gt; td:nth-of-type(2)\")]\n\n# construct month-to-trend dictionary\ndata = {}\nmonths = chart.find_elements_by_css_selector(\"g[transform]:not([class])\")\nfor month_name, month_data in zip(month_names, months):\n    total = month_data.find_element_by_css_selector(\"text.total\").text\n    data[month_name] = {'total': total}\n\n    bars = month_data.find_elements_by_css_selector(\"g.bar rect\")\n\n    # let's calculate the values of bars as proportions of a bar height\n    heights = {trend_name: int(bar.get_attribute(\"height\")) for trend_name, bar in zip(trend_names[::-1], bars)}\n    total_height = sum(heights.values())\n    for trend_name, bar in zip(trend_names, bars):\n        data[month_name][trend_name] = heights[trend_name] * 100 / total_height\n\ndriver.close()\n\npprint(data)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>{u'Aug': {u'Buy': 19,\n          u'Hold': 45,\n          u'Sell': 3,\n          u'Strong Buy': 22,\n          u'Underperform': 8,\n          'total': u'26'},\n u'Jul': {u'Buy': 18,\n          u'Hold': 44,\n          u'Sell': 3,\n          u'Strong Buy': 25,\n          u'Underperform': 7,\n          'total': u'27'},\n u'Jun': {u'Buy': 21,\n          u'Hold': 38,\n          u'Sell': 3,\n          u'Strong Buy': 28,\n          u'Underperform': 7,\n          'total': u'28'},\n u'May': {u'Buy': 21,\n          u'Hold': 38,\n          u'Sell': 3,\n          u'Strong Buy': 28,\n          u'Underperform': 7,\n          'total': u'28'}}\n</code></pre>\n\n<p>The <code>total</code> values are labels that you see on top of each bar.</p>\n\n<p>Hope this would at least be a good start for you. Let me know if you want me to elaborate on any part of the code or require any additional information.</p>\n"}, {"comments": [{"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "edited": false, "score": 0, "creation_date": 1472746241, "post_id": 39276275, "comment_id": 65887313, "body": "Green technology in comparison to having a full featured browser and remote control to it ;-)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1472756617, "post_id": 39276275, "comment_id": 65892765, "body": "Yeah, I was afraid someone posts a direct approach. Definitely deserves the bounty!"}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "edited": false, "score": 0, "creation_date": 1473262765, "post_id": 39276275, "comment_id": 66076326, "body": "This really works well. I was wondering how you were able to determine the right stuff to put into the params? I only vaguely understand what it is doing, so thought it would be useful to understand how I would adapt the code for other information (say target price or whatever)."}, {"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "reply_to_user": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "edited": false, "score": 1, "creation_date": 1473319244, "post_id": 39276275, "comment_id": 66096664, "body": "@DrXorile I&#39;ve added a section. Take a look."}, {"owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "edited": false, "score": 0, "creation_date": 1473343507, "post_id": 39276275, "comment_id": 66112200, "body": "Thanks again. This is brilliant."}], "tags": [], "owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "is_accepted": true, "score": 2, "last_activity_date": 1473319147, "last_edit_date": 1473319147, "creation_date": 1472746053, "answer_id": 39276275, "question_id": 39007227, "link": "https://stackoverflow.com/questions/39007227/python-lxml-etree-applet-information-from-yahoo/39276275#39276275", "title": "python lxml etree applet information from yahoo", "body": "<p>As comments say they have moved to ReactJS, so <code>lxml</code> is no longer to the point because there's no data in the HTML page. Now you need to look around and find the endpoint where they are pulling the data from. In case of <em>Recommendation Trends</em> it's there.</p>\n\n<pre><code>#!/usr/bin/env python3\n\n\nimport json\nfrom pprint import pprint\nfrom urllib.request import urlopen\nfrom urllib.parse import urlencode\n\n\ndef parse():\n    host   = 'https://query2.finance.yahoo.com'\n    path   = '/v10/finance/quoteSummary/CSX'\n    params = {\n        'formatted' : 'true',\n        'lang'      : 'en-US',\n        'region'    : 'US',\n        'modules'   : 'recommendationTrend'\n    }\n\n    response = urlopen('{}{}?{}'.format(host, path, urlencode(params)))\n    data = json.loads(response.read().decode())\n\n    pprint(data)\n\n\nif __name__ == '__main__':\n    parse()\n</code></pre>\n\n<p>The output looks like this.</p>\n\n<pre><code>{\n  'quoteSummary': {\n    'error': None,\n    'result': [{\n      'recommendationTrend': {\n        'maxAge': 86400,\n        'trend': [{\n            'buy': 0,\n            'hold': 0,\n            'period': '0w',\n            'sell': 0,\n            'strongBuy': 0,\n            'strongSell': 0\n          },\n          {\n            'buy': 0,\n            'hold': 0,\n            'period': '-1w',\n            'sell': 0,\n            'strongBuy': 0,\n            'strongSell': 0\n          },\n          {\n            'buy': 5,\n            'hold': 12,\n            'period': '0m',\n            'sell': 2,\n            'strongBuy': 6,\n            'strongSell': 1\n          },\n          {\n            'buy': 5,\n            'hold': 12,\n            'period': '-1m',\n            'sell': 2,\n            'strongBuy': 7,\n            'strongSell': 1\n          },\n          {\n            'buy': 6,\n            'hold': 11,\n            'period': '-2m',\n            'sell': 2,\n            'strongBuy': 8,\n            'strongSell': 1\n          },\n          {\n            'buy': 6,\n            'hold': 11,\n            'period': '-3m',\n            'sell': 2,\n            'strongBuy': 8,\n            'strongSell': 1\n          }]\n        }\n    }]\n  }\n}\n</code></pre>\n\n<h1>How to look for data</h1>\n\n<p>What I did was roughly:</p>\n\n<ol>\n<li>Find some unique token in the target widget (say chart value or <em>Trend</em> string)</li>\n<li>Open source of the page (use some formatter for HTML and JS, e.g. <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">this</a>)</li>\n<li>Look for the token there (in the the page three is section that starts with <code>/* -- Data -- */</code>)</li>\n<li>Search for \".js\" to get script tags (or programmatic inclusions, e.g. require.js) and look for token there</li>\n<li>Open network tab in Firebug or Chromium Developer Tools and inspect XHR requests</li>\n<li>Then use <a href=\"https://www.getpostman.com/\" rel=\"nofollow\">Postman</a> (or curl if you prefer terminal) to strip extra parameters and see how the endpoint reacts</li>\n</ol>\n"}], "owner": {"reputation": 877, "user_id": 3084178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fHQOe.jpg?s=128&g=1", "display_name": "Dr Xorile", "link": "https://stackoverflow.com/users/3084178/dr-xorile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 1, "accepted_answer_id": 39276275, "answer_count": 2, "score": 8, "last_activity_date": 1473319147, "creation_date": 1471472969, "last_edit_date": 1472279360, "question_id": 39007227, "link": "https://stackoverflow.com/questions/39007227/python-lxml-etree-applet-information-from-yahoo", "title": "python lxml etree applet information from yahoo", "body": "<p>Yahoo finance updated their website. I had an lxml/etree script that used to extract the analyst recommendations. Now, however, the analyst recommendations are there, but only as a graphic. You can see an example on <a href=\"https://finance.yahoo.com/quote/CSX/analysts?p=CSX\">this page</a>. The graph called Recommendation Trends on the right hand column shows the number of analyst reports showing strong buy, buy, hold, underperform, and sell.</p>\n\n<p>My guess is that yahoo will make a few adjustments to the page over the coming little while, but it got me wondering whether such data was extractable in any reasonable way? </p>\n\n<ol>\n<li>I mean, is there a way to get the graphic to work with that? </li>\n<li>Even if one were successful, would there be a reasonable way to extract the data from the graphic?</li>\n</ol>\n\n<p>I used to get the source like this:</p>\n\n<pre><code>url = 'https://finance.yahoo.com/quote/'+code+'/analyst?p='+code\ntree = etree.HTML(urllib.request.urlopen(url).read())\n</code></pre>\n\n<p>and then find the data in the html tree. But obviously that's impossible now.</p>\n"}, {"tags": ["python", "object", "tkinter", "python-3.5", "nonetype"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471473481, "post_id": 39007212, "comment_id": 65366333, "body": "<code>tkinter.Text().grid(row=0,column=0)</code> the <code>.grid()</code> method returns <code>None</code>, so do <code>self.textinput = tkinter.Text() ; self.textinput.grid(...)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 6605696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-OEHOKzRdhFQ/AAAAAAAAAAI/AAAAAAAAAR0/pGjp8xp2dQM/photo.jpg?sz=128", "display_name": "Logan Darby", "link": "https://stackoverflow.com/users/6605696/logan-darby"}, "is_accepted": true, "score": 0, "last_activity_date": 1471473646, "creation_date": 1471473646, "answer_id": 39007331, "question_id": 39007212, "link": "https://stackoverflow.com/questions/39007212/cant-get-from-text-object-in-tkinter-python-3-5/39007331#39007331", "title": "Can&#39;t get() from Text() object in tkinter (python 3.5)", "body": "<p>Nevermind! I happened to figure it out. Instead of one line saying</p>\n\n<pre><code>textinput = tkinter.Text().grid(row=0,column=0)\n</code></pre>\n\n<p>I turned it into two lines saying</p>\n\n<pre><code>self.textinput = tkinter.Text()\nself.textinput.grid(row=0,column=0)\n</code></pre>\n\n<p>and instead of</p>\n\n<pre><code>self.textinput.get()\n</code></pre>\n\n<p>I used</p>\n\n<pre><code>self.textinput.get('1.0','end-1c')\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6605696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh6.googleusercontent.com/-OEHOKzRdhFQ/AAAAAAAAAAI/AAAAAAAAAR0/pGjp8xp2dQM/photo.jpg?sz=128", "display_name": "Logan Darby", "link": "https://stackoverflow.com/users/6605696/logan-darby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1471487420, "accepted_answer_id": 39007331, "answer_count": 1, "score": -1, "last_activity_date": 1471473646, "creation_date": 1471472867, "question_id": 39007212, "link": "https://stackoverflow.com/questions/39007212/cant-get-from-text-object-in-tkinter-python-3-5", "closed_reason": "Duplicate", "title": "Can&#39;t get() from Text() object in tkinter (python 3.5)", "body": "<p>I'm making an app in tkinter and for some reason I can't call the function 'get()' from an object of the Text() class: I get the error </p>\n\n<pre><code>AttributeError: 'NoneType' object has no attribute 'get'\n</code></pre>\n\n<p>What am I doing wrong?\nHere is my code:</p>\n\n<pre><code>  1 import tkinter\n  2 \n  3 \n  4 class Main():\n  5 \n  6     def __init__(self):\n  7         #Defining Variables:\n  8 \n  9         background_color = '#%02x%02x%02x' % (223,219,195)\n 10         menubar_color = '#%02x%02x%02x' % (191, 167, 126)\n 11         menubar_active = '#AB936A'\n 12 \n 13         #Creating Window:\n 14         root = tkinter.Tk()\n 15         root.geometry('1000x600')\n 16         root.configure(background=background_color)\n 17 \n 18         #Menu:\n 19         menubar = tkinter.Menu(root,bg=menubar_color,activebackground=menuba    r_active,borderwidth=0,font='quicksand.otf')\n 20         menubar.add_command(label='Open',command=self.open_file)\n 21         menubar.add_cascade(label='Save')\n 22         menubar.add_cascade(label='Save As')\n 23         menubar.add_cascade(label='New File')\n 24 \n 25         root.config(menu=menubar)\n 26 \n 27         #TextEntry Box:\n 28         self.textinput = tkinter.Text().grid(row=0,column=0)\n 29         root.mainloop()\n 30 \n 31     def open_file(self):\n 32         text = self.textinput.get()\n 33         print(text)\n 34 \n 35 if __name__ == '__main__':\n 36     Main()\n</code></pre>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python", "json", "pandas", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 0, "last_activity_date": 1471474396, "last_edit_date": 1471474396, "creation_date": 1471473236, "answer_id": 39007270, "question_id": 39007190, "link": "https://stackoverflow.com/questions/39007190/python-write-df-to-json/39007270#39007270", "title": "Python: write df to json", "body": "<p>Try  <code>df.to_json(orient=\"index\")</code>, where <code>df</code> is your <code>DataFrame</code> object.</p>\n\n<p>For example,</p>\n\n<pre><code>In [32]: df\nOut[32]: \n            a  b    c\ndeadbeef  foo  1  2.5\nf005ba11  bar  3  4.5\n7e1eca57  baz  5  6.5\n\nIn [33]: df.to_json(orient=\"index\")\nOut[33]: '{\"deadbeef\":{\"a\":\"foo\",\"b\":1,\"c\":2.5},\"f005ba11\":{\"a\":\"bar\",\"b\":3,\"c\":4.5},\"7e1eca57\":{\"a\":\"baz\",\"b\":5,\"c\":6.5}}'\n</code></pre>\n\n<p>Let's jump through some hoops to see a nicely formatted version of that string:</p>\n\n<pre><code>In [56]: s = df.to_json(orient=\"index\")\n\nIn [57]: print(json.dumps(json.loads(s), indent=4))\n{\n    \"deadbeef\": {\n        \"a\": \"foo\", \n        \"c\": 2.5, \n        \"b\": 1\n    }, \n    \"7e1eca57\": {\n        \"a\": \"baz\", \n        \"c\": 6.5, \n        \"b\": 5\n    }, \n    \"f005ba11\": {\n        \"a\": \"bar\", \n        \"c\": 4.5, \n        \"b\": 3\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6241246"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471474396, "creation_date": 1471472752, "question_id": 39007190, "link": "https://stackoverflow.com/questions/39007190/python-write-df-to-json", "title": "Python: write df to json", "body": "<p>I have dataframe</p>\n\n<pre><code>month                             2015-05  2015-06  2015-07  2015-08  2015-    09  \\\nID                                                                              \n00051f002f5a0c179d7ce191ca2c6401        0        0        0        1        1   \n0011ec51ddb5a41abb2d451fdfa0996a        0        0        0        1        1   \n0012ea90a6deb4eeb2924fb13e844136        1        1        1        1        1   \n0014ff1f6a95d789d3be3df5249cfe2f        0        0        0        1        1   \n</code></pre>\n\n<p>I try to write it to json and get smth like </p>\n\n<pre><code>{\n  \"123\": {\n    \"2015-12-14\": 0, \n    \"2015-12-15\": 1, \n    \"2015-12-16\": 1, \n    \"2015-12-17\": 0\n  }, \n  \"456\": {\n    \"2015-12-14\": 0, \n    \"2015-12-15\": 1, \n    \"2015-12-12\": 1, \n    \"2015-12-13\": 1\n  }\n}\n</code></pre>\n\n<p>But I get </p>\n\n<pre><code>{\n  \"2015-05\": {\n    \"00051f002f5a0c179d7ce191ca2c6401\": 0, \n    \"0011ec51ddb5a41abb2d451fdfa0996a\": 0, \n    \"0012ea90a6deb4eeb2924fb13e844136\": 1, \n    \"0014ff1f6a95d789d3be3df5249cfe2f\": 0, \n    \"0017fbf132aac12d0f9f3ecb9ee7813d\": 0, ...\n</code></pre>\n\n<p>How can I change that and get in first key ID?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "categorical-data", "binning"], "comments": [{"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "edited": false, "score": 0, "creation_date": 1471474066, "post_id": 39007172, "comment_id": 65366504, "body": "Have you tried <code>pd.cut(..., right=False)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1301, "user_id": 5112032, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/783e405a36a8ee5012167acffe82f578?s=128&d=identicon&r=PG&f=1", "display_name": "eljusticiero67", "link": "https://stackoverflow.com/users/5112032/eljusticiero67"}, "edited": false, "score": 0, "creation_date": 1471474007, "post_id": 39007334, "comment_id": 65366490, "body": "great! using solution 2. Thank you!"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1301, "user_id": 5112032, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/783e405a36a8ee5012167acffe82f578?s=128&d=identicon&r=PG&f=1", "display_name": "eljusticiero67", "link": "https://stackoverflow.com/users/5112032/eljusticiero67"}, "edited": false, "score": 0, "creation_date": 1471474249, "post_id": 39007334, "comment_id": 65366552, "body": "@eljusticiero67, you are welcome! :) Please consider <a href=\"http://meta.stackexchange.com/a/5235\">accepting</a>/upvoting the answer if it answered your question"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1471473660, "creation_date": 1471473660, "answer_id": 39007334, "question_id": 39007172, "link": "https://stackoverflow.com/questions/39007172/binning-by-value-except-last-bin/39007334#39007334", "title": "Binning by value, except last bin", "body": "<p><strong>Solution 1:</strong> prepare <code>labels</code> (using first 5 rows of the DF) and replace <code>1</code> with <code>np.inf</code> in the <code>bins</code> parameter:   </p>\n\n<pre><code>In [67]: df\nOut[67]:\n          a         b         c\n0  1.698479  0.337989  0.002482\n1  0.903344  1.830499  0.095253\n2  0.152001  0.439870  0.270818\n3  0.621822  0.124322  0.471747\n4  0.534484  0.051634  0.854997\n5  0.980915  1.065050  0.211227\n6  0.809973  0.894893  0.093497\n7  0.677761  0.333985  0.349353\n8  1.491537  0.622429  1.456846\n9  0.294025  1.286364  0.384152\n\nIn [68]: labels = pd.cut(df.a.head(), np.arange(0,1.2, 0.2), include_lowest=True).cat.categories\n\nIn [69]: pd.cut(df.a, np.append(np.arange(0, 1, 0.2), np.inf), labels=labels, include_lowest=True)\nOut[69]:\n0      (0.8, 1]\n1      (0.8, 1]\n2      [0, 0.2]\n3    (0.6, 0.8]\n4    (0.4, 0.6]\n5      (0.8, 1]\n6      (0.8, 1]\n7    (0.6, 0.8]\n8      (0.8, 1]\n9    (0.2, 0.4]\nName: a, dtype: category\nCategories (5, object): [[0, 0.2] &lt; (0.2, 0.4] &lt; (0.4, 0.6] &lt; (0.6, 0.8] &lt; (0.8, 1]]\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>In [72]: np.append(np.arange(0, 1, 0.2), np.inf)\nOut[72]: array([ 0. ,  0.2,  0.4,  0.6,  0.8,  inf])\n\nIn [73]: labels\nOut[73]: Index(['[0, 0.2]', '(0.2, 0.4]', '(0.4, 0.6]', '(0.6, 0.8]', '(0.8, 1]'], dtype='object')\n</code></pre>\n\n<p><strong>Solution 2:</strong> <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.clip.html\" rel=\"nofollow\">clip</a> all values greater than <code>1</code></p>\n\n<pre><code>In [70]: pd.cut(df.a.clip(upper=1), np.arange(0,1.2, 0.2),include_lowest=True)\nOut[70]:\n0      (0.8, 1]\n1      (0.8, 1]\n2      [0, 0.2]\n3    (0.6, 0.8]\n4    (0.4, 0.6]\n5      (0.8, 1]\n6      (0.8, 1]\n7    (0.6, 0.8]\n8      (0.8, 1]\n9    (0.2, 0.4]\nName: a, dtype: category\nCategories (5, object): [[0, 0.2] &lt; (0.2, 0.4] &lt; (0.4, 0.6] &lt; (0.6, 0.8] &lt; (0.8, 1]]\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>In [75]: df.a\nOut[75]:\n0    1.698479\n1    0.903344\n2    0.152001\n3    0.621822\n4    0.534484\n5    0.980915\n6    0.809973\n7    0.677761\n8    1.491537\n9    0.294025\nName: a, dtype: float64\n\nIn [76]: df.a.clip(upper=1)\nOut[76]:\n0    1.000000\n1    0.903344\n2    0.152001\n3    0.621822\n4    0.534484\n5    0.980915\n6    0.809973\n7    0.677761\n8    1.000000\n9    0.294025\nName: a, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 1301, "user_id": 5112032, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/783e405a36a8ee5012167acffe82f578?s=128&d=identicon&r=PG&f=1", "display_name": "eljusticiero67", "link": "https://stackoverflow.com/users/5112032/eljusticiero67"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 0, "accepted_answer_id": 39007334, "answer_count": 1, "score": 1, "last_activity_date": 1474108962, "creation_date": 1471472622, "last_edit_date": 1474108962, "question_id": 39007172, "link": "https://stackoverflow.com/questions/39007172/binning-by-value-except-last-bin", "title": "Binning by value, except last bin", "body": "<p>I am trying to bin data as follows:</p>\n\n<pre><code>pd.cut(df['col'], np.arange(0,1.2, 0.2),include_lowest=True))\n</code></pre>\n\n<p>But I would like to ensure that any data greater than 1 is also included in that last bin. I can do this in a couple lines, but wondering if anyone knows a one-liner/more pythonic way of doing this? </p>\n\n<p>PS - I am not looking to do a qcut-- I need the bins to be separated by their values, and not the count of records. </p>\n"}, {"tags": ["python", "json", "amazon-s3", "lambda"], "comments": [{"owner": {"reputation": 702, "user_id": 3895264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAJCa.jpg?s=128&g=1", "display_name": "FujiApple", "link": "https://stackoverflow.com/users/3895264/fujiapple"}, "edited": false, "score": 0, "creation_date": 1471475499, "post_id": 39007142, "comment_id": 65366889, "body": "Are you sure the code is formatted correctly?  Specifically is the &#39;with open&#39; block really inside the exception handling code?"}, {"owner": {"reputation": 345, "user_id": 3885930, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/EYKaA.jpg?s=128&g=1", "display_name": "Ross Youngblood", "link": "https://stackoverflow.com/users/3885930/ross-youngblood"}, "reply_to_user": {"reputation": 702, "user_id": 3895264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAJCa.jpg?s=128&g=1", "display_name": "FujiApple", "link": "https://stackoverflow.com/users/3895264/fujiapple"}, "edited": false, "score": 0, "creation_date": 1471534506, "post_id": 39007142, "comment_id": 65394968, "body": "Thanks, I found several other significant issues with this code.  I will look at that as well.  (Missed that one)."}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 3885930, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/EYKaA.jpg?s=128&g=1", "display_name": "Ross Youngblood", "link": "https://stackoverflow.com/users/3885930/ross-youngblood"}, "edited": false, "score": 0, "creation_date": 1471534534, "post_id": 39008923, "comment_id": 65394987, "body": "This makes a lot of sense.  If I encapsulate the function call then, I should be able to make it work."}], "tags": [], "owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "is_accepted": true, "score": 2, "last_activity_date": 1471486435, "creation_date": 1471486435, "answer_id": 39008923, "question_id": 39007142, "link": "https://stackoverflow.com/questions/39007142/python-yield-statements-cause-json-not-serializable-errors-in-lambda-aws-test/39008923#39008923", "title": "Python &#39;yield&#39; statements cause JSON not serializable errors in LAMBDA AWS test case", "body": "<p>A function includes <code>yield</code> is actually a <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow\">generator</a>, whereas the lambda handler needs to be a <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/python-programming-model-handler-types.html\" rel=\"nofollow\">function</a> that optionally returns a json-serializable value.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 3885930, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/EYKaA.jpg?s=128&g=1", "display_name": "Ross Youngblood", "link": "https://stackoverflow.com/users/3885930/ross-youngblood"}, "is_accepted": false, "score": 0, "last_activity_date": 1471535559, "creation_date": 1471535559, "answer_id": 39022621, "question_id": 39007142, "link": "https://stackoverflow.com/questions/39007142/python-yield-statements-cause-json-not-serializable-errors-in-lambda-aws-test/39022621#39022621", "title": "Python &#39;yield&#39; statements cause JSON not serializable errors in LAMBDA AWS test case", "body": "<p>Thanks to Lei Shi for answering the specific point I was asking about.\nAlso Thanks to FujiApple for pointing out a missed coding mistake in the original code.\nI was able to develop a solution without using yield that seemed to work copying the input file to output.  But with Lei Shi and FujiApples comments I was able to modify that code to create a sub function, called by the lambda handler which could be a generator.  </p>\n\n<pre><code>from __future__ import print_function\n\nimport json\nimport urllib\nimport uuid\nimport boto3\nimport re\nprint('Loading IO function')\n\ns3 = boto3.client('s3')\n\ndef processFile( inbucket,inkey,outbucket,outkey):\n    try:\n        infile = s3.get_object(Bucket=inbucket, Key=inkey)\n\n    except Exception as e:\n        print(e)\n        print('Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.'.format(inkey, bucket))\n        raise e\n\n    inbody   = infile['Body']\n    tmp_path = '/tmp/{}{}'.format(uuid.uuid4(), \"tmp.txt\")\n#   upload_path = '/tmp/resized-{}'.format(key)\n\n    with open(tmp_path,'w') as out:\n        unfinished_line = ''\n        bytes=inbody.read(4096)\n        while( bytes ):\n             bytes = unfinished_line + bytes\n             #split on whatever, or use a regex with re.split()\n             lines = bytes.split('\\n')\n             print (\"bytes %s\" % bytes)\n             unfinished_line = lines.pop() \n             for line in lines:  \n                  print (\"line %s\" % line)\n                  out.write(line)\n                  yield line     # if this line is commented out uncomment the     unfinished line if() clause below\n             bytes=inbody.read(4096)\n#       if(unfinished_line):\n#                 out.write(unfinished_line) \n    #\n    # Upload the file to S3\n    #\n    tmp = open(tmp_path,\"r\")\n    try:\n       outfile = s3.put_object(Bucket=outbucket,Key=outkey,Body=tmp)\n    except Exception as e:\n       print(e)\n       print('Error putting object {} from bucket {} Body {}. Make sure they exist and your bucket is in the same region as this function.'.format(outkey, outbucket,\"tmp.txt\"))\n       raise e\n\n    tmp.close()\n\ndef lambda_handler(event, context):\n    print(\"Received event: \" + json.dumps(event, indent=2))\n\n    # Get the object from the event and show its content type\n    inbucket  = event['Records'][0]['s3']['bucket']['name']\n    outbucket = \"outlambda\"\n    inkey     = urllib.unquote_plus(event['Records'][0]['s3']['object']   ['key'].encode('utf8'))\n    outkey    = \"out\" + inkey\n\n    processFile( inbucket,inkey,outbucket,outkey)\n</code></pre>\n\n<p>I'm posting the solution which uses yield in a sub \"generator\" function.  Without the \"yield\" the code misses the last line, which was picked up by the if clause commented out.</p>\n"}], "owner": {"reputation": 345, "user_id": 3885930, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/EYKaA.jpg?s=128&g=1", "display_name": "Ross Youngblood", "link": "https://stackoverflow.com/users/3885930/ross-youngblood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 39008923, "answer_count": 2, "score": 0, "last_activity_date": 1471535559, "creation_date": 1471472444, "last_edit_date": 1495542782, "question_id": 39007142, "link": "https://stackoverflow.com/questions/39007142/python-yield-statements-cause-json-not-serializable-errors-in-lambda-aws-test", "title": "Python &#39;yield&#39; statements cause JSON not serializable errors in LAMBDA AWS test case", "body": "<p>I'm learning how to use Python in the Amazon AWS Lambda service.  I'm trying to read characters from an S3 object, and write them to another S3 object.  I realize I can copy the S3 object to a local tmp file, but I wanted to \"stream\" the S3 input into the script, process and output, without the local copy stage if possible.  I'm using code from this <a href=\"https://stackoverflow.com/questions/7624900/how-can-i-use-boto-to-stream-a-file-out-of-amazon-s3-to-rackspace-cloudfiles\" title=\"StackOverFlowExample\">StackOverFlow</a> (Second answer) that suggests a solution for this.</p>\n\n<p>This code contains two \"yield()\" statements which are causing my otherwise working script to throw a \"generator is noto JSON serializable\" error.\nI'm trying to understand why a \"yield()\" statement would throw this error.  Is this a Lambda environment restriction, or is this something specific to my code that is creating the serialization issue.  (Likely due to using an S3 file object?).</p>\n\n<p>Here is my code that I run in Lambda.  If I comment out the two yield statements it runs but the output file is empty.   </p>\n\n<pre><code>from __future__ import print_function\n\nimport json\nimport urllib\nimport uuid\nimport boto3\nimport re\n\nprint('Loading IO function')\n\ns3 = boto3.client('s3')\n\n\ndef lambda_handler(event, context):\n    print(\"Received event: \" + json.dumps(event, indent=2))\n\n# Get the object from the event and show its content type\ninbucket  = event['Records'][0]['s3']['bucket']['name']\noutbucket = \"outlambda\"\ninkey     = urllib.unquote_plus(event['Records'][0]['s3']['object']['key'].encode('utf8'))\noutkey    = \"out\" + inkey\ntry:\n    infile = s3.get_object(Bucket=inbucket, Key=inkey)\n\nexcept Exception as e:\n    print(e)\n    print('Error getting object {} from bucket {}. Make sure they exist and your bucket is in the same region as this function.'.format(inkey, bucket))\n    raise e\n\n    tmp_path = '/tmp/{}{}'.format(uuid.uuid4(), \"tmp.txt\")\n#   upload_path = '/tmp/resized-{}'.format(key)\n\n    with open(tmp_path,'w') as out:\n        unfinished_line = ''\n        for byte in infile:\n             byte = unfinished_line + byte\n             #split on whatever, or use a regex with re.split()\n             lines = byte.split('\\n')\n             unfinished_line = lines.pop()\n             for line in lines:\n                  out.write(line)\n                  yield line          # This line causes JSON error if uncommented\n             yield unfinished_line    # This line causes JSON error if uncommented\n    #\n    # Upload the file to S3\n    #\n    tmp = open(tmp_path,\"r\")\n    try:\n       outfile = s3.put_object(Bucket=outbucket,Key=outkey,Body=tmp)\n    except Exception as e:\n       print(e)\n       print('Error putting object {} from bucket {} Body {}. Make sure they exist and your bucket is in the same region as this function.'.format(outkey, outbucket,\"tmp.txt\"))\n       raise e\n\n    tmp.close()\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "executable", "cx-freeze"], "answers": [{"comments": [{"owner": {"reputation": 3353, "user_id": 79795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e56fcae44088cc3645499b20645f366c?s=128&d=identicon&r=PG", "display_name": "wmeyer", "link": "https://stackoverflow.com/users/79795/wmeyer"}, "edited": false, "score": 0, "creation_date": 1530801605, "post_id": 39122902, "comment_id": 89369608, "body": "There is a problem with this fix: modules with &quot;parent is None&quot; are not copied anymore. You should add an &quot;else&quot;-branch for this."}, {"owner": {"reputation": 8813, "user_id": 508907, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gRGJK.jpg?s=128&g=1", "display_name": "ntg", "link": "https://stackoverflow.com/users/508907/ntg"}, "edited": false, "score": 0, "creation_date": 1530803951, "post_id": 39122902, "comment_id": 89371361, "body": "I think that this code is saying &quot;find the parent and copy the parent&quot; (taking care of finding and adding  the parent, not the module) If parent is None, then there would be no parent to add (or there would, but I dont know the code deep enough to fix this...)... But its been 2 years, I might not be remembering something..."}], "tags": [], "owner": {"reputation": 8813, "user_id": 508907, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gRGJK.jpg?s=128&g=1", "display_name": "ntg", "link": "https://stackoverflow.com/users/508907/ntg"}, "is_accepted": true, "score": 3, "last_activity_date": 1472040488, "creation_date": 1472040488, "answer_id": 39122902, "question_id": 39007134, "link": "https://stackoverflow.com/questions/39007134/cx-freeze-typeerror-can-only-concatenate-list-not-nonetype-to-list-using-num/39122902#39122902", "title": "Cx_freeze TypeError can only concatenate list (not &quot;NoneType&quot;) to list using numpy dependency when pandas is an import", "body": "<p>I had this problem. You can explicitly exclude all offending modules, but by debugging I think I found the responsible code and a small bugfix :). The following should help you get over this problem (and may lead you to the next one of missing dependencies ;) )</p>\n\n<p>Checking the code for freeze.py, there is a case that is not checked, so I made the following changes to freezer.py:</p>\n\n<p>line 600, from</p>\n\n<pre><code>    try:\n        if module.parent is not None:\n            path = os.pathsep.join([origPath] + module.parent.path)\n            os.environ[\"PATH\"] = path\n        self._CopyFile(module.file, target, copyDependentFiles)\n    finally:\n        os.environ[\"PATH\"] = origPath\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>    try:\n        if module.parent is not None:\n            if module.parent.path is not None:\n                path = os.pathsep.join([origPath] + module.parent.path)\n                os.environ[\"PATH\"] = path\n                self._CopyFile(module.file, target, copyDependentFiles)\n            else:\n                path = os.pathsep.join([origPath, os.path.dirname(module.parent.file)])\n                os.environ[\"PATH\"] = path\n                print '========================================================'\n    finally:\n        os.environ[\"PATH\"] = origPath\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 6320717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0ba1da4f14852adeeeb765ed3d9c39b?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Setteducati Jr.", "link": "https://stackoverflow.com/users/6320717/steven-setteducati-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1293, "favorite_count": 0, "accepted_answer_id": 39122902, "answer_count": 1, "score": 2, "last_activity_date": 1472040488, "creation_date": 1471472363, "last_edit_date": 1471526879, "question_id": 39007134, "link": "https://stackoverflow.com/questions/39007134/cx-freeze-typeerror-can-only-concatenate-list-not-nonetype-to-list-using-num", "title": "Cx_freeze TypeError can only concatenate list (not &quot;NoneType&quot;) to list using numpy dependency when pandas is an import", "body": "<p>I am trying to use cxfreeze to turn the following script into an executable</p>\n\n<pre><code>import datetime\nfrom calendar import monthrange\nfrom tia.bbg import LocalTerminal as Lt\nimport pandas as pd\nfrom pypyodbc import connect, DatabaseError\n\nprint 'Hello World!'\n</code></pre>\n\n<p>When running the following line in the command line:</p>\n\n<pre><code>cxfreeze test_freeze.py --target-dir test_freeze\n</code></pre>\n\n<p>I get the following traceback</p>\n\n<pre><code>Traceback (most recent call last):\n    File \"C:\\Python27\\Scripts\\cxfreeze\", line 5, in &lt;module&gt;\n        main()\n    File \"C:\\Python27\\lib\\site-packages\\cx_Freeze\\main.py\", line 188, in main\n        freezer.Freeze()\n    File \"C:\\Python27\\lib\\site-packages\\cx_Freeze\\freezer.py\", line 621, in Freeze\n        self._FreezeExecutable(executable)\n    File \"C:\\Python27\\lib\\site-packages\\cx_Freeze\\freezer.py\", line 225, in _FreezeExecutable\n        exe.copyDependentFiles, scriptModule)\n    File \"C:\\Python27\\lib\\site-packages\\cx_Freeze\\freezer.py\", line 602, in _WriteModules\n        path = os.pathsep.join([origPath] + module.parent.path)\nTypeError: can only concatenate list (not \"NoneType\") to list\n</code></pre>\n\n<p>Surprisingly the file still gets created but when run I get this traceback:</p>\n\n<pre><code>C:\\Python27\\Scripts\\test_freeze&gt;test_freeze.exe\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\site-packages\\cx_Freeze\\initscripts\\Console.py\", line 27, in &lt;module&gt;\n    exec(code, m.__dict__)\n  File \"test_freeze.py\", line 3, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\tia\\bbg\\__init__.py\", line 1, in &lt;module&gt;\n    from tia.bbg.v3api import *\n  File \"C:\\Python27\\lib\\site-packages\\tia\\bbg\\v3api.py\", line 5, in &lt;module&gt;\n    import pandas as pd\n  File \"C:\\Python27\\lib\\site-packages\\pandas\\__init__.py\", line 18, in &lt;module&gt;\n    raise ImportError(\"Missing required dependencies {0}\".format(missing_dependencies))\nImportError: Missing required dependencies ['numpy']\n</code></pre>\n\n<p>Interesting things to note:</p>\n\n<p>I successfully ran this once (with the real not \"hello world\" code) and it compiled successfully, I changed one string for database purposes and I got this error.</p>\n\n<p>When I comment out the tia.bbg import and the pandas import the error stops and the program successfully freezes. It is essential to comment out tia as well because it is a wrapper built around pandas so that makes sense. I can say with confidence that tia is not the issue since only commenting that out throws the same pandas/numpy related errors</p>\n\n<p>I am using Windows 10 64bit, Python 2.7.12 64 bit amd, Pandas 0.18.1, and anything else that is relevant is also the newest version since I just freshly installed Python and all modules to avoid this problem. It had worked on the previous installation multiple times but then got the same error.</p>\n\n<p>My question is how do I get this script to run correctly and otherwise, which modules can I use to achieve the same goal?</p>\n"}, {"tags": ["python", "pip", "virtualenv", "setuptools", "packaging"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1471477133, "post_id": 39007132, "comment_id": 65367319, "body": "Your question is a little vague. What global path are you talking about. A concrete example would be very useful. Please <a href=\"https://stackoverflow.com/posts/39007132/edit\">edit</a> your question and provide this information."}, {"owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1471531726, "post_id": 39007132, "comment_id": 65393007, "body": "I don&#39;t think it&#39;s vague at all.  A concrete example is impossible as it&#39;s a question of pythonic style."}, {"owner": {"reputation": 1044, "user_id": 4117083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqLvf.jpg?s=128&g=1", "display_name": "creativeChips", "link": "https://stackoverflow.com/users/4117083/creativechips"}, "edited": false, "score": 0, "creation_date": 1471876995, "post_id": 39007132, "comment_id": 65512681, "body": "Have you considered the options of alternative installation? <a href=\"https://docs.python.org/3/install/index.html#alternate-installation\" rel=\"nofollow noreferrer\">docs.python.org/3/install/index.html#alternate-installation</a>"}, {"owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "edited": false, "score": 0, "creation_date": 1475596457, "post_id": 39007132, "comment_id": 67001501, "body": "as best as I can tell a post installation script is the best path forward for this, that is what I am doing.  I am using RPM for that.  Python packaging leaves much to be desired in core functionality."}, {"owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "edited": false, "score": 0, "creation_date": 1477335491, "post_id": 39007132, "comment_id": 67714551, "body": "another option is using a packer on your python env.  i&#39;ve also looked at cython style solutions but solving dependencies is pretty ugly.  =/  python is not really good at being packaged... still."}], "answers": [{"comments": [{"owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "reply_to_user": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "edited": false, "score": 0, "creation_date": 1477406730, "post_id": 39108700, "comment_id": 67748109, "body": "I like to leave my python applications as naive about the filesystem (including config files) as possible and use environmental variables instead. I find this is a very clean paradigm when using virtual envs and using the method <code>os.getenv</code>. I accomplish this by using the &#39;VIRTUAL_ENV&#39; variable created by pyvenv to find file inside by project directory or by having an additional bash variable script that contains the locations of config files outside my project dir. If you want to use less bash and more python you can use the <code>os</code> module to set and get environment variables."}, {"owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "edited": false, "score": 0, "creation_date": 1477505702, "post_id": 39108700, "comment_id": 67798820, "body": "cfm&#39;s allow for the deployment of config files cleanly and in a centrally managed fashion.  particularly useful are utilities like encrypted databags / vaults for storying API keys dynamically / securely etc.  environment variables can be dangerous as there can be namespace conflicts more easily.  IMHO."}], "tags": [], "owner": {"reputation": 2776, "user_id": 1987437, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508e14a7e9414311eff04b2fd8d20ed6?s=128&d=identicon&r=PG", "display_name": "Liam Kelly", "link": "https://stackoverflow.com/users/1987437/liam-kelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1471978363, "creation_date": 1471978363, "answer_id": 39108700, "question_id": 39007132, "link": "https://stackoverflow.com/questions/39007132/pythonic-way-to-handle-config-file-installation-when-in-a-virtualenv/39108700#39108700", "title": "Pythonic way to handle config file installation when in a virtualenv?", "body": "<p>Assuming the config file alters Virtual Environment Variables and that is why it must be modified before the launch of the virtual environment, then you can modify the <code>activate</code> bash script located in <code>./venv/bin</code> to accomplish this. So if you want to add a global path from a config file, then last line in <code>activate</code> could be:</p>\n\n<pre><code>MY_GLOBAL_PATH=&lt;program that looks into config file and returns path&gt;\n</code></pre>\n\n<p>Then the virtual enviroment can be activated as it usual would:</p>\n\n<pre><code>source ./venv/bin/activate\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1360, "user_id": 6051861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d13c8be005a752eb647a920aab42729?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian", "link": "https://stackoverflow.com/users/6051861/vivian"}, "is_accepted": false, "score": -1, "last_activity_date": 1472231061, "last_edit_date": 1495540837, "creation_date": 1472227340, "answer_id": 39170378, "question_id": 39007132, "link": "https://stackoverflow.com/questions/39007132/pythonic-way-to-handle-config-file-installation-when-in-a-virtualenv/39170378#39170378", "title": "Pythonic way to handle config file installation when in a virtualenv?", "body": "<p>Have you tried using Python's <a href=\"https://docs.python.org/3/library/site.html\" rel=\"nofollow noreferrer\">site-specific configuration</a> options? It seems to me like <code>.pth</code> files and a <code>sitecustomize.py</code> file might be helpful.<br>\nSee also: <a href=\"https://stackoverflow.com/a/15209116/6051861\">Accepted answer on \"Using .pth files\"</a>.</p>\n\n<p>Giving more precise detail on what might be done is difficult without a more specific example of the sort of \"global path\" you mean - even though this is a general style question to some extent.</p>\n"}], "owner": {"reputation": 1880, "user_id": 798549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1719127747f65b82d73637f9006590de?s=128&d=identicon&r=PG", "display_name": "Matt Joyce", "link": "https://stackoverflow.com/users/798549/matt-joyce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 1, "answer_count": 2, "score": -3, "last_activity_date": 1472231061, "creation_date": 1471472349, "last_edit_date": 1471561495, "question_id": 39007132, "link": "https://stackoverflow.com/questions/39007132/pythonic-way-to-handle-config-file-installation-when-in-a-virtualenv", "title": "Pythonic way to handle config file installation when in a virtualenv?", "body": "<p>Assuming I am installing a python application from setup.py, and doing so within a virtualenv.  Also, assuming that I have a need to provide the application sensitive configurations such as API keys / URIs.</p>\n\n<p>My virtualenv might be in a path such as:</p>\n\n<pre><code>/opt/appname/venv\n</code></pre>\n\n<p>I believe I want to be able to install a default config file for the user of the app to modify before successful execution.</p>\n\n<p>A default example might be installed to:</p>\n\n<pre><code>/etc/appname/config.sample\n</code></pre>\n\n<p>The problem is, if I am in a virtualenv, setup.py / setuptools really doesn't handle installing into a global path ( as far as I know ).</p>\n\n<p>What would be the best pythonic way to handle this fairly common scenario?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471487998, "post_id": 39007083, "comment_id": 65370016, "body": "just answered a very similar question . does this help you? <a href=\"http://stackoverflow.com/questions/39001956/sklearn-pipeline-transformation-on-only-certain-features\" title=\"sklearn pipeline transformation on only certain features\">stackoverflow.com/questions/39001956/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 826, "user_id": 1041560, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a27cd1cf047c118fb88304ff1d5dd368?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn de Munnik", "link": "https://stackoverflow.com/users/1041560/martijn-de-munnik"}, "edited": false, "score": 0, "creation_date": 1471512575, "post_id": 39012920, "comment_id": 65379781, "body": "Now I see you&#39;ve removed the part about Dict"}, {"owner": {"reputation": 826, "user_id": 1041560, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a27cd1cf047c118fb88304ff1d5dd368?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn de Munnik", "link": "https://stackoverflow.com/users/1041560/martijn-de-munnik"}, "edited": false, "score": 0, "creation_date": 1471512797, "post_id": 39012920, "comment_id": 65379953, "body": "Your example gives this error: <code>TypeError: fit_transform() takes 2 positional arguments but 3 were given</code>"}, {"owner": {"reputation": 1535, "user_id": 570769, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvwTZ.jpg?s=128&g=1", "display_name": "Steven Du", "link": "https://stackoverflow.com/users/570769/steven-du"}, "edited": false, "score": 0, "creation_date": 1471590875, "post_id": 39012920, "comment_id": 65416069, "body": "Upvote for showing workable example. Just my 2 cents , for  categorical data , if it has limited vocab (like countries, genders) , then one-hot encoding will help. For text data like &quot;Part Description&quot; using average word vector is not a bad idea. Both case will give a length-fixed vector, which can be used jointly with other features."}], "tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": true, "score": 3, "last_activity_date": 1471513766, "last_edit_date": 1471513766, "creation_date": 1471507577, "answer_id": 39012920, "question_id": 39007083, "link": "https://stackoverflow.com/questions/39007083/not-sure-how-to-use-sklearn-with-feature-vectors-which-contain-both-text-and-num/39012920#39012920", "title": "Not sure how to use sklearn with feature vectors which contain both text and numbers", "body": "<p>I would suggest not to make predictions on different feature types and then combining. You're better off using <code>FeatureUnion</code> as you suggest, which allows you to create separate preprocessing pipelines for each feature type. A construction I often use is the following...</p>\n\n<p>Let's define a toy example dataset to play around with:</p>\n\n<pre><code>import pandas as pd\n\n# create a pandas dataframe that contains your features\nX = pd.DataFrame({'quantity': [13, 7, 42, 11],\n                  'item_name': ['nut', 'bolt', 'bolt', 'chair'],\n                  'item_type': ['hardware', 'hardware', 'hardware', 'furniture'],\n                  'item_price': [1.95, 4.95, 2.79, 19.95]})\n\n# create corresponding target (this is often just one of the dataframe columns)\ny = pd.Series([0, 1, 1, 0], index=X.index)\n</code></pre>\n\n<p>I glue everything together using <code>Pipeline</code> and <code>FeatureUnion</code> (or rather their simpler shortcuts <code>make_pipeline</code> and <code>make_union</code>):</p>\n\n<pre><code>from sklearn.pipeline import make_union, make_pipeline\nfrom sklearn.feature_extraction import DictVectorizer\nfrom sklearn.preprocessing import RobustScaler\nfrom sklearn.linear_model import LogisticRegression\n\n# create your preprocessor that handles different feature types separately\npreprocessor = make_union(\n    make_pipeline(\n        FeatureTypeSelector('continuous'),\n        RobustScaler(),\n    ),\n    make_pipeline(\n        FeatureTypeSelector('categorical'),\n        RowToDictTransformer(),\n        DictVectorizer(sparse=False),  # set sparse=True if you get MemoryError\n    ),\n)\n\n# example use of your combined preprocessor\npreprocessor.fit_transform(X)\n\n# choose some estimator\nestimator = LogisticRegression()\n\n# your prediction model can be created as follows\nmodel = make_pipeline(preprocessor, estimator)\n\n# and training is done as follows\nmodel.fit(X, y)\n\n# predict (preferably not on training data X)\nmodel.predict(X)\n</code></pre>\n\n<p>Here, I defined my own custom transformers <code>FeatureTypeSelector</code> and <code>RowToDictTransformer</code> as follows:</p>\n\n<pre><code>from sklearn.base import TransformerMixin, BaseEstimator\n\n\nclass FeatureTypeSelector(TransformerMixin, BaseEstimator):\n    \"\"\" Selects a subset of features based on their type \"\"\"\n\n    FEATURE_TYPES = {\n        'categorical': [\n            'item_name',\n            'item_type',\n        ],\n        'continuous': [\n            'quantity',\n            'item_price',\n        ]\n    }\n\n    def __init__(self, feature_type):\n        self.columns = self.FEATURE_TYPES[feature_type]\n\n    def fit(self, X, y=None):\n        return self\n\n    def transform(self, X):\n        return X[self.columns]\n\n\nclass RowToDictTransformer(TransformerMixin, BaseEstimator):\n    \"\"\" Prepare dataframe for DictVectorizer \"\"\"\n\n    def fit(self, X, y=None):\n        return self\n\n    def transform(self, X):\n        return (row[1] for row in X.iterrows())\n</code></pre>\n\n<p>Hope that this example paints a some clearer image of how to do feature union.</p>\n\n<p>-Kris</p>\n"}], "owner": {"reputation": 826, "user_id": 1041560, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a27cd1cf047c118fb88304ff1d5dd368?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn de Munnik", "link": "https://stackoverflow.com/users/1041560/martijn-de-munnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 39012920, "answer_count": 1, "score": 1, "last_activity_date": 1471513766, "creation_date": 1471472063, "last_edit_date": 1471511423, "question_id": 39007083, "link": "https://stackoverflow.com/questions/39007083/not-sure-how-to-use-sklearn-with-feature-vectors-which-contain-both-text-and-num", "title": "Not sure how to use sklearn with feature vectors which contain both text and numbers", "body": "<p>I just started to use sklearn and I want to categorize products. The products appear on order lines and have properties like, a description, a price, a manufacturer, order quantity etc. Some of these properties are text and others are numbers (integers or floats). I want to use these properties to predict if the product needs maintenance. Products we buy can be things like engines, pumps, etc but also nuts, hoses, filters etc.\nSo far I did a prediction based on the price and quantity and I did other predictions based on the description or manufacturer. Now I want to combine these predictions but I'm not sure how to do that. I've seen the Pipeline and FeatureUnion pages but it is confusing to me. Does anybody have a simple example on how to predict data which has both text and number columns at the same time?</p>\n\n<p>I now have:</p>\n\n<pre><code>order_lines.head(5)\n\n    Part No Part Description    Quantity    Price/Base  Supplier Name   Purch UoM   Category\n0   1112165 Duikwerkzaamheden   1.0 750.00  Duik &amp; Bergingsbedrijf Europa B.V.  pcs 0\n1   1112165 Duikwerkzaamheden bij de helling    1.0 500.00  Duik &amp; Bergingsbedrijf Europa B.V.  pcs 0\n2   1070285 Inspectie boegschroef, dd. 26-03-2012   1.0 0.01    Duik &amp; Bergingsbedrijf Europa B.V.  pcs 0\n3   1037024 Spare parts Albanie Acc. List   1.0 3809.16 Lastechniek Europa B.V. -   0\n4   1037025 M_PO:441.35/BW_INV:0    1.0 0.00    Exalto  pcs 0\n\ncategory_column = order_lines['Category']\norder_lines = order_lines[['Part Description', 'Quantity', 'Price/Base', 'Supplier Name', 'Purch UoM']]\n\nfrom sklearn.cross_validation import train_test_split\nfeatures_train, features_test, target_train, target_test = train_test_split(order_lines, category_column, test_size=0.20)\n\nfrom sklearn.base import TransformerMixin, BaseEstimator\n\nclass FeatureTypeSelector(TransformerMixin, BaseEstimator):\n    FEATURE_TYPES = {\n        'price and quantity': [\n            'Price/Base',\n            'Quantity',\n        ],\n        'description, supplier, uom': [\n            'Part Description',\n            'Supplier Name',\n            'Purch UoM',\n        ],\n    }\n    def __init__(self, feature_type):\n        self.columns = self.FEATURE_TYPES[feature_type]\n\n    def fit(self, X, y=None):\n        return self\n\n    def transform(self, X):\n        return X[self.columns]\n\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.naive_bayes import MultinomialNB\nfrom sklearn.svm import LinearSVC\nfrom sklearn.pipeline import make_union, make_pipeline\nfrom sklearn.preprocessing import RobustScaler\n\npreprocessor = make_union(\n    make_pipeline(\n        FeatureTypeSelector('price and quantity'),\n        RobustScaler(),\n    ),\n    make_pipeline(\n        FeatureTypeSelector('description, supplier, uom'),\n        CountVectorizer(),\n    ),\n)\npreprocessor.fit_transform(features_train)\n</code></pre>\n\n<p>And then I got this error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-51-f8b0db33462a&gt; in &lt;module&gt;()\n----&gt; 1 preprocessor.fit_transform(features_train)\n\nC:\\Anaconda3\\lib\\site-packages\\sklearn\\pipeline.py in fit_transform(self, X, y, **fit_params)\n    500         self._update_transformer_list(transformers)\n    501         if any(sparse.issparse(f) for f in Xs):\n--&gt; 502             Xs = sparse.hstack(Xs).tocsr()\n    503         else:\n    504             Xs = np.hstack(Xs)\n\nC:\\Anaconda3\\lib\\site-packages\\scipy\\sparse\\construct.py in hstack(blocks, format, dtype)\n    462 \n    463     \"\"\"\n--&gt; 464     return bmat([blocks], format=format, dtype=dtype)\n    465 \n    466 \n\nC:\\Anaconda3\\lib\\site-packages\\scipy\\sparse\\construct.py in bmat(blocks, format, dtype)\n    579                 else:\n    580                     if brow_lengths[i] != A.shape[0]:\n--&gt; 581                         raise ValueError('blocks[%d,:] has incompatible row dimensions' % i)\n    582 \n    583                 if bcol_lengths[j] == 0:\n\nValueError: blocks[0,:] has incompatible row dimensions\n</code></pre>\n"}, {"tags": ["python", "string", "indexing", "slice"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471472512, "post_id": 39007082, "comment_id": 65366018, "body": "as for why your code doesn&#39;t work, you have a <code>break</code> statement in both conditionals, so the for loop is forced to stop after the first iteration."}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "edited": false, "score": 0, "creation_date": 1471472629, "post_id": 39007082, "comment_id": 65366057, "body": "As Tadhg has mentioned, don&#39;t use <code>break</code>, just use <code>continue</code>.  This doesn&#39;t look like an assignment to me though, looks more like research/science code potentially for some kind of user-input based config or something."}, {"owner": {"reputation": 33, "user_id": 6728334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d158dafd5270f391361f896ae60f1515?s=128&d=identicon&r=PG&f=1", "display_name": "theGreatWhatever", "link": "https://stackoverflow.com/users/6728334/thegreatwhatever"}, "edited": false, "score": 0, "creation_date": 1471472884, "post_id": 39007082, "comment_id": 65366139, "body": "It&#39;s not an assignment question, but a tutorial one. I&#39;ve been advised that the cstring.replace() method won&#39;t work for this, and that I should instead use slicing so as to maintain proper index conformity."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471472888, "post_id": 39007082, "comment_id": 65366141, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10037742/replace-part-of-a-string-in-python\">Replace part of a string in Python?</a>"}, {"owner": {"reputation": 33, "user_id": 6728334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d158dafd5270f391361f896ae60f1515?s=128&d=identicon&r=PG&f=1", "display_name": "theGreatWhatever", "link": "https://stackoverflow.com/users/6728334/thegreatwhatever"}, "edited": false, "score": 0, "creation_date": 1471472902, "post_id": 39007082, "comment_id": 65366146, "body": "But thanks for the break problem haha. I totally didn&#39;t notice that."}, {"owner": {"reputation": 33, "user_id": 6728334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d158dafd5270f391361f896ae60f1515?s=128&d=identicon&r=PG&f=1", "display_name": "theGreatWhatever", "link": "https://stackoverflow.com/users/6728334/thegreatwhatever"}, "edited": false, "score": 0, "creation_date": 1471473079, "post_id": 39007082, "comment_id": 65366200, "body": "This is based off the MU game out of &quot;Godel, Escher, and Bach: an Eternal Golden Braid&quot; by Douglas R Hofstadter"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471473211, "post_id": 39007082, "comment_id": 65366240, "body": "<code>i</code> represents each character in the string so it can&#39;t be used for slicing, to keep an index and the character use <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate</code></a> like <code>for i, char in enumerate(cstring):</code> then keep a distinction between the index <code>i</code> and the character <code>char</code>."}], "answers": [{"comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471473312, "post_id": 39007119, "comment_id": 65366275, "body": "your code that does it manually will raise an index error if <code>&quot;M&quot;</code> is one of the last 2 characters."}], "tags": [], "owner": {"reputation": 148, "user_id": 6715256, "user_type": "registered", "profile_image": "https://graph.facebook.com/1224112630974726/picture?type=large", "display_name": "Andy Dunnings", "link": "https://stackoverflow.com/users/6715256/andy-dunnings"}, "is_accepted": false, "score": 0, "last_activity_date": 1471502069, "last_edit_date": 1471502069, "creation_date": 1471472274, "answer_id": 39007119, "question_id": 39007082, "link": "https://stackoverflow.com/questions/39007082/python-replacing-arbitrary-substrings-with-substrings/39007119#39007119", "title": "Python: Replacing arbitrary substrings with substrings", "body": "<p>You can use the <code>String replace</code> method like this:</p>\n\n<p><code>cstring.replace(\"MAA,\"UOP\")</code></p>\n\n<p>However, if you want to code it yourself, this works:</p>\n\n<pre><code>cstring = input(\"Enter a character string: \")\n\n\nfor i in range (0, len(cstring)):\n    if (len(cstring[i:]) &gt;= 3 and cstring[i] == \"M\" and cstring[i+1] == \"A\" and cstring[i+2] == \"A\"):\n        cstring = cstring[:i] + \"UOP\" + cstring[i+3:]\nprint(cstring)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": false, "score": 0, "last_activity_date": 1471473034, "creation_date": 1471473034, "answer_id": 39007238, "question_id": 39007082, "link": "https://stackoverflow.com/questions/39007082/python-replacing-arbitrary-substrings-with-substrings/39007238#39007238", "title": "Python: Replacing arbitrary substrings with substrings", "body": "<p>As other users have noted you can use <code>str.replace</code>.  Here are some other options:</p>\n\n<h3>Regular Expressions</h3>\n\n<p>This is probably the way to go since you'll be able to replace any regex with your replacement string with all the advantages of the various re flags.</p>\n\n<pre><code>import re\nre.sub(\"MAA\", \"UOP\", cstring)\n</code></pre>\n\n<h3>Validate String on Input</h3>\n\n<p>If your end goal is to work with a string with some simple replacements, you can also just try to enforce this in the input level.  i.e.</p>\n\n<pre><code>cstring = input(\"Enter a valid character string: \")\nwhile bool(re.search(\"invalid_characters_regex\", cstring)):\n    print(\"Your input contained invalid characters, please try again.\")\n    cstring = input(\"Enter a valid character string: \")\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6728334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d158dafd5270f391361f896ae60f1515?s=128&d=identicon&r=PG&f=1", "display_name": "theGreatWhatever", "link": "https://stackoverflow.com/users/6728334/thegreatwhatever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1471502069, "creation_date": 1471472057, "last_edit_date": 1471472217, "question_id": 39007082, "link": "https://stackoverflow.com/questions/39007082/python-replacing-arbitrary-substrings-with-substrings", "title": "Python: Replacing arbitrary substrings with substrings", "body": "<p>Sorry if this has been asked before, but I've been struggling with this for weeks now.</p>\n\n<p>I'm trying to figure out how to replace a particular substring within an arbitrary string with another particular substring.</p>\n\n<p>IE:</p>\n\n<p>If I get user to type in an arbitrary string, I want to replace any instance of \"MAA\" with something like \"UOP\".</p>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>cstring = input(\"Enter a character string: \")\n\n\nfor i in cstring:\n    if ((i != 'M') and (i != 'U') and (i != 'I')):\n        break\n    else:\n        if (cstring[-1] == 'I'):\n            cstring = cstring + 'U'\n        if (cstring[:1] == 'M'):\n            cstring = cstring + cstring[1:]\n        if ('III' in cstring):\n            cstring = cstring[:i] + \"U\" + cstring[i:]\n        if ('UU' in cstring):\n            cstring = cstring[:i] + '' + cstring[i:]\n        break\nprint(cstring)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "arrays", "xml", "elementtree"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1471478992, "post_id": 39007027, "comment_id": 65367789, "body": "Is it a numpy array or a list <code>[]</code>?"}, {"owner": {"reputation": 77, "user_id": 5992671, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c70074c9163aaaed9457c60e146c9f79?s=128&d=identicon&r=PG", "display_name": "Carver Stone", "link": "https://stackoverflow.com/users/5992671/carver-stone"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1471479104, "post_id": 39007027, "comment_id": 65367816, "body": "@Parfait hello again! I created it by doing  projectDet = [ ]    so I guess thats a list?"}], "answers": [{"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 2, "last_activity_date": 1471484483, "creation_date": 1471484483, "answer_id": 39008710, "question_id": 39007027, "link": "https://stackoverflow.com/questions/39007027/python-handling-an-array-of-xml-items-with-element-tree-preferably-merge/39008710#39008710", "title": "python: handling an array of XML items with element tree preferably &quot;merge&quot;", "body": "<p>Consider using <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.append\" rel=\"nofollow\"><code>append()</code></a> to append all children of the <code>&lt;root&gt;</code> iteratively across the list. But initially capture the first full element of <code>&lt;root&gt;</code> and then append thereafter:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\ncnt = 1\nfor i in projectDet:\n    if cnt == 1:\n        main = ET.fromstring(i)\n\n    else:\n        team = ET.fromstring(i).findall('.//team_members')\n        main.append(team[0])        \n        nonbill = ET.fromstring(i).findall('.//nonbillable_detailed_report_url')\n        main.append(nonbill[0])\n        detrpt = ET.fromstring(i).findall('.//detailed_report_url')\n        main.append(detrpt[0])                                          \n        bill = ET.fromstring(i).findall('.//billable_detailed_report_url')\n        main.append(bill[0])\n        task = ET.fromstring(i).findall('.//tasks')\n        main.append(task[0])\n\n    cnt+=1\n\n# OUTPUT LARGE XML (main OBJ)\nprint(ET.tostring(main).decode(\"UTF-8\"))\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5992671, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c70074c9163aaaed9457c60e146c9f79?s=128&d=identicon&r=PG", "display_name": "Carver Stone", "link": "https://stackoverflow.com/users/5992671/carver-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 39008710, "answer_count": 1, "score": 1, "last_activity_date": 1471484483, "creation_date": 1471471828, "question_id": 39007027, "link": "https://stackoverflow.com/questions/39007027/python-handling-an-array-of-xml-items-with-element-tree-preferably-merge", "title": "python: handling an array of XML items with element tree preferably &quot;merge&quot;", "body": "<p>I have an array called projectDet[]. It contains about 350 items.</p>\n\n<p><strong>EACH</strong> item in the array is xml information (single item below). The xml for each item is the same format but different id's and values. \nWhat I'd prefer is to have all of these into one big XML variable that I can pull Elements out of using element tree. Right now I don't know how to use Element tree to go through 300 items in an array.</p>\n\n<p>I have code that checks a different set of XML for the ID and then if the ID in XML data A matches the ID in xml data B, I take \"billable hours\" out and add it to a final CSV row that matches the id. This works with other XML that ISN'T in an array. So I feel like the easiest way is to use the code I have that works, but I'd need to somehow \"merge\" all of these entries into one variable that I can pipe into my existing functions.</p>\n\n<p>So is there a way to loop through this array and merge each item together in one xml. They'll all have the same tree structure.. i.e root/team_member/item and root/tasks/item</p>\n\n<p>Thanks for any advice.</p>\n\n<pre><code>&lt;root&gt;\n&lt;team_members type=\"list\"&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;cost_rate type=\"float\"&gt;76.0&lt;/cost_rate&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;projected_hours type=\"float\"&gt;0.0&lt;/projected_hours&gt;\n        &lt;user_id type=\"int\"&gt;1351480&lt;/user_id&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;name&gt;Bob R&lt;/name&gt;\n        &lt;budget_left type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;cost_rate type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;projected_hours type=\"float\"&gt;2072.0&lt;/projected_hours&gt;\n        &lt;user_id type=\"null\" /&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;name&gt;Samm&lt;/name&gt;\n        &lt;budget_left type=\"null\" /&gt;\n    &lt;/item&gt;\n&lt;/team_members&gt;\n&lt;nonbillable_detailed_report_url type=\"str\"&gt;/reports/detailed/any&lt;/nonbillable_detailed_report_url&gt;\n&lt;detailed_report_url type=\"str\"&gt;/reports/any&lt;/detailed_report_url&gt;\n&lt;billable_detailed_report_url type=\"str\"&gt;/reports/any&lt;/billable_detailed_report_url&gt;\n&lt;tasks type=\"list\"&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;budget type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;budget type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;budget type=\"null\" /&gt;\n    &lt;/item&gt;\n    &lt;item type=\"dict\"&gt;\n        &lt;id&gt;1137&lt;/id&gt;\n        &lt;budget_left type=\"null\" /&gt;\n        &lt;budget_spent_percentage type=\"null\" /&gt;\n        &lt;billed_rate type=\"float\"&gt;0.0&lt;/billed_rate&gt;\n        &lt;over_budget type=\"null\" /&gt;\n        &lt;total_hours type=\"float\"&gt;0.0&lt;/total_hours&gt;\n        &lt;budget type=\"null\" /&gt;\n    &lt;/item&gt;\n &lt;/tasks&gt;\n&lt;/root&gt;\n</code></pre>\n"}, {"tags": ["python", "selenium", "robotframework"], "comments": [{"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1471476499, "post_id": 39007011, "comment_id": 65367155, "body": "It would probably help if you provided the relevant HTML so we can double check and make sure nothing simple was overlooked."}, {"owner": {"reputation": 1337, "user_id": 3117513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86a741e6f1ab87cca10b5c769bda3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Satish Gupta", "link": "https://stackoverflow.com/users/3117513/satish-gupta"}, "edited": false, "score": 0, "creation_date": 1471477174, "post_id": 39007011, "comment_id": 65367329, "body": "login method shown above doesn&#39;t have any waits for element before performing any operation, that may be the reason of NoSuchElementException, i would guess, after logout, login page is taking time to load the elements"}, {"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "reply_to_user": {"reputation": 1337, "user_id": 3117513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86a741e6f1ab87cca10b5c769bda3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Satish Gupta", "link": "https://stackoverflow.com/users/3117513/satish-gupta"}, "edited": false, "score": 0, "creation_date": 1471477891, "post_id": 39007011, "comment_id": 65367512, "body": "@SatishGupta I didn&#39;t include those lines of code but I&#39;ve already tried waits in my login function. I put time.sleep(30) before and after switching frames (plus the other stuff I mentioned) just to make sure. Problem still persists; works the first time around and not the second."}, {"owner": {"reputation": 1337, "user_id": 3117513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86a741e6f1ab87cca10b5c769bda3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Satish Gupta", "link": "https://stackoverflow.com/users/3117513/satish-gupta"}, "edited": false, "score": 0, "creation_date": 1471477975, "post_id": 39007011, "comment_id": 65367535, "body": "@EmilyZhai you might want to try explicit wait for the elements. like new WebDriverWait(driver, 5).until(ExpectedConditions.visibilityOfElement(&lt;locator&gt;). just a guess"}, {"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "reply_to_user": {"reputation": 1337, "user_id": 3117513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86a741e6f1ab87cca10b5c769bda3c4?s=128&d=identicon&r=PG&f=1", "display_name": "Satish Gupta", "link": "https://stackoverflow.com/users/3117513/satish-gupta"}, "edited": false, "score": 0, "creation_date": 1471478327, "post_id": 39007011, "comment_id": 65367626, "body": "@SatishGupta Tried that as well both before and after the frame switch."}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1471479171, "post_id": 39007011, "comment_id": 65367829, "body": "There is 3 iframe nested, but you are saying switching iframe more than one throwing exception Right??"}, {"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "reply_to_user": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1471479621, "post_id": 39007011, "comment_id": 65367945, "body": "@SaurabhGaur Yep. All of this code works as it is the first time around."}, {"owner": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1471480770, "post_id": 39007011, "comment_id": 65368231, "body": "Did you tried to switching further frame using <code>WebDriverWait</code> expectedCondtions as <code>frame_to_be_available_and_switch_to_it(&quot;iframe&quot;)</code>??"}, {"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "reply_to_user": {"reputation": 21114, "user_id": 3193455, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/47fc2c18bcbdb84eb374ca3f407c7318?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Gaur", "link": "https://stackoverflow.com/users/3193455/saurabh-gaur"}, "edited": false, "score": 0, "creation_date": 1471541756, "post_id": 39007011, "comment_id": 65399392, "body": "@SaurabhGaur Yes I tried WebDriverWait(driver, 10).until(EC.visibility_of_element_located((By.ID, &quot;iframe&quot;)))"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "edited": false, "score": 0, "creation_date": 1471541526, "post_id": 39009429, "comment_id": 65399251, "body": "Throws a NoSuchFrameException the first time around at one, two, and three driver.switch_to.frame(0) commands."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "edited": false, "score": 0, "creation_date": 1471547646, "post_id": 39009429, "comment_id": 65402535, "body": "Something is not adding up... can you share a link to the page?"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "reply_to_user": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "edited": false, "score": 0, "creation_date": 1471553695, "post_id": 39009429, "comment_id": 65405529, "body": "I don&#39;t have a login, do you have one that you can share?"}, {"owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "edited": false, "score": 0, "creation_date": 1471566668, "post_id": 39009429, "comment_id": 65409333, "body": "I don&#39;t think it&#39;s a great idea to share it publicly since it&#39;s a company service and someone could easily spam it. If we could get into individual contact however I could provide you with one."}], "tags": [], "owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 0, "last_activity_date": 1471490042, "creation_date": 1471490042, "answer_id": 39009429, "question_id": 39007011, "link": "https://stackoverflow.com/questions/39007011/nosuchelementexception-message-no-such-element-unable-to-locate-element-me/39009429#39009429", "title": "NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;username&quot;}", "body": "<p>I would have guessed that repeating the line <code>driver.switch_to.frame(\"iframe\")</code> a few times would have worked. Technically that id is not unique on the page so I would try using an index instead. From the HTML you provided, it looks like the <code>IFRAME</code> you want is the first one each time. The below will hopefully work.</p>\n\n<pre><code>driver.switch_to.default_content()\ndriver.switch_to.frame(0)\ndriver.switch_to.frame(0)\ndriver.switch_to.frame(0)\ndriver.find_element_by_id(\"username\").send_keys(username)\ndriver.find_element_by_id(\"password\").send_keys(password)\ndriver.find_element_by_id(\"loginButton\").click()\n</code></pre>\n\n<p>The first line technically isn't necessary unless you are executing code before this that dives into an <code>IFRAME</code> but I included it because you had it above.</p>\n"}], "owner": {"reputation": 112, "user_id": 6727389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3UYO7oxKSdk/AAAAAAAAAAI/AAAAAAAAAGE/Wwo49jpr08g/photo.jpg?sz=128", "display_name": "Emily Zhai", "link": "https://stackoverflow.com/users/6727389/emily-zhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1549, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1471490042, "creation_date": 1471471709, "last_edit_date": 1471477643, "question_id": 39007011, "link": "https://stackoverflow.com/questions/39007011/nosuchelementexception-message-no-such-element-unable-to-locate-element-me", "title": "NoSuchElementException: Message: no such element: Unable to locate element: {&quot;method&quot;:&quot;id&quot;,&quot;selector&quot;:&quot;username&quot;}", "body": "<p>Here's the method I wrote with selenium to login to my webpage:</p>\n\n<pre><code>def login(self, username, password):\n    driver.switch_to.default_content()\n    driver.switch_to.frame(\"iframe\")\n    driver.find_element_by_id(\"username\").send_keys(username)\n    driver.find_element_by_id(\"password\").send_keys(password)\n    driver.find_element_by_id(\"loginButton\").click()\n</code></pre>\n\n<p>Here's the code I have in Robot Framework:</p>\n\n<pre><code>*** Settings ***\nLibrary           CustomSelenium2Plus.py\n\n*** Test Cases ***\nSR Create New Service\n    Open Browser    https://partner.sdg.msg.lab.t-mobile.com/tpim/    Chrome\n    ${webdriver}=    Get webdriver instance\n    Set Driver    ${webdriver}\n    Login    usrnm    pwd\n    ...\n    Delete Service\n    Close Browser\n</code></pre>\n\n<p><code>CustomSelenium2Plus.py</code> is a custom library I wrote that subclasses RobotFramework's Selenium2Library and is where the login method is located. The method is totally functional when I call it the first time with the <code>Login</code> Keyword. However, it throws a <code>NoSuchElementException</code> when it's called a second time within <code>Delete Service</code> Keyword's function which looks like this:</p>\n\n<pre><code>def delete_service(self):\n    self.logout()\n    self.login(\"usrnm\", \"pwd\")\n    ...\n</code></pre>\n\n<p>I've already checked that the frame is correct. I've also already tried having my <code>WebDriver</code> wait for the visibility of both the iframe and the username textarea, an implicit <code>WebDriverWait</code>, and a <code>time.sleep(30)</code>.</p>\n\n<p>EDIT: The HTML code isn't mine and pretty ugly but here's a screencap</p>\n\n<p><a href=\"https://i.stack.imgur.com/dKeOo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKeOo.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are technically four iframes nested within each other but calling <code>driver.switch_to.frame(\"iframe\")</code> any more than once throws a <code>NoSuchFrameException</code></p>\n"}, {"tags": ["python", "apache"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471471841, "post_id": 39006985, "comment_id": 65365788, "body": "If your don&#39;t want the user to access the static directory, don&#39;t have one."}, {"owner": {"reputation": 1021, "user_id": 2204131, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e33e679c7498832162a02207e103ad05?s=128&d=identicon&r=PG", "display_name": "ramesh", "link": "https://stackoverflow.com/users/2204131/ramesh"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471471900, "post_id": 39006985, "comment_id": 65365813, "body": "@Daniel: Then where to keep all css, js and image files?"}, {"owner": {"reputation": 2399, "user_id": 406772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba0d0d320777853efcf861a5a7a1881d?s=128&d=identicon&r=PG", "display_name": "Sajjan Singh", "link": "https://stackoverflow.com/users/406772/sajjan-singh"}, "edited": false, "score": 0, "creation_date": 1471472014, "post_id": 39006985, "comment_id": 65365850, "body": "Static files must be accessible to the user - do you instead want to prevent users from browsing the directory?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471472022, "post_id": 39006985, "comment_id": 65365852, "body": "If you have css, js and image files, the user have to access them."}, {"owner": {"reputation": 1021, "user_id": 2204131, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e33e679c7498832162a02207e103ad05?s=128&d=identicon&r=PG", "display_name": "ramesh", "link": "https://stackoverflow.com/users/2204131/ramesh"}, "edited": false, "score": 0, "creation_date": 1471473270, "post_id": 39006985, "comment_id": 65366256, "body": "Yes, I don&#39;t want users to browse that directory"}], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 6924364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822b3edda67ed52270096ae9867e50dc?s=128&d=identicon&r=PG&f=1", "display_name": "Justapigeon", "link": "https://stackoverflow.com/users/6924364/justapigeon"}, "edited": false, "score": 0, "creation_date": 1576362910, "post_id": 39007113, "comment_id": 104877056, "body": "Where should I place this exactly?"}], "tags": [], "owner": {"reputation": 2399, "user_id": 406772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba0d0d320777853efcf861a5a7a1881d?s=128&d=identicon&r=PG", "display_name": "Sajjan Singh", "link": "https://stackoverflow.com/users/406772/sajjan-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1473182035, "last_edit_date": 1473182035, "creation_date": 1471472218, "answer_id": 39007113, "question_id": 39006985, "link": "https://stackoverflow.com/questions/39006985/python-flask-how-to-avoid-users-from-browsing-static-directory/39007113#39007113", "title": "Python flask: how to avoid users from browsing static directory", "body": "<p>You can prevent generation of directory indexes with the <code>Option -Indexes</code> directive:</p>\n\n<pre><code>    &lt;Directory /var/www/FlaskApp/FlaskApp/static/&gt;\n        Order allow,deny\n        Allow from all\n        Options -Indexes\n    &lt;/Directory&gt;\n</code></pre>\n\n<p>Alternatively, you can place the directive in an <code>.htaccess</code> file in the appropriate directory.  </p>\n"}], "owner": {"reputation": 1021, "user_id": 2204131, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e33e679c7498832162a02207e103ad05?s=128&d=identicon&r=PG", "display_name": "ramesh", "link": "https://stackoverflow.com/users/2204131/ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 39007113, "answer_count": 1, "score": 0, "last_activity_date": 1473182035, "creation_date": 1471471540, "last_edit_date": 1471476862, "question_id": 39006985, "link": "https://stackoverflow.com/questions/39006985/python-flask-how-to-avoid-users-from-browsing-static-directory", "title": "Python flask: how to avoid users from browsing static directory", "body": "<p>I followed digital ocean <a href=\"https://www.digitalocean.com/community/tutorials/how-to-deploy-a-flask-application-on-an-ubuntu-vps\" rel=\"nofollow\">tutorial</a> to deploy my Flask application using Apache server. Now the problem is when a user visits <code>mywebsite.com/static</code>, all the files in the static directory is available to that user. How to avoid users from browsing static directory? </p>\n\n<p>My apache virtual host file looks this:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerName mywebsite.com\n        ServerAdmin admin@mywebsite.com\n        WSGIScriptAlias / /var/www/FlaskApp/flaskapp.wsgi\n        &lt;Directory /var/www/FlaskApp/FlaskApp/&gt;\n            Order allow,deny\n            Allow from all\n        &lt;/Directory&gt;\n        Alias /static /var/www/FlaskApp/FlaskApp/static\n        &lt;Directory /var/www/FlaskApp/FlaskApp/static/&gt;\n            Order allow,deny\n            Allow from all\n        &lt;/Directory&gt;\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        LogLevel warn\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n&lt;/VirtualHost&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "subprocess", "pydev"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6679782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2acee7ac41d8401de54ba4fab2814d9?s=128&d=identicon&r=PG&f=1", "display_name": "usa", "link": "https://stackoverflow.com/users/6679782/usa"}, "edited": false, "score": 0, "creation_date": 1471473318, "post_id": 39007186, "comment_id": 65366277, "body": "I got error: raise ValueError(&#39;stdout argument not allowed, it will be overridden.&#39;) ValueError: stdout argument not allowed, it will be overridden."}, {"owner": {"reputation": 535, "user_id": 3893475, "user_type": "registered", "profile_image": "https://graph.facebook.com/654418665/picture?type=large", "display_name": "Da Qi", "link": "https://stackoverflow.com/users/3893475/da-qi"}, "reply_to_user": {"reputation": 33, "user_id": 6679782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2acee7ac41d8401de54ba4fab2814d9?s=128&d=identicon&r=PG&f=1", "display_name": "usa", "link": "https://stackoverflow.com/users/6679782/usa"}, "edited": false, "score": 0, "creation_date": 1471474221, "post_id": 39007186, "comment_id": 65366542, "body": "I cannot guarantee this, but can you try subprocess.check_call instead of check_output"}], "tags": [], "owner": {"reputation": 535, "user_id": 3893475, "user_type": "registered", "profile_image": "https://graph.facebook.com/654418665/picture?type=large", "display_name": "Da Qi", "link": "https://stackoverflow.com/users/3893475/da-qi"}, "is_accepted": false, "score": 0, "last_activity_date": 1471555030, "last_edit_date": 1471555030, "creation_date": 1471472730, "answer_id": 39007186, "question_id": 39006982, "link": "https://stackoverflow.com/questions/39006982/error-of-no-log-results-dumped-to-file-by-running-an-executable-file-from-python/39007186#39007186", "title": "error of no log results dumped to file by running an executable file from Python subprosess", "body": "<p>You can replace your default stdout descriptor with your log file descriptor. Try this</p>\n\n<pre><code>with open('log.txt', 'w+') s fid:\n    subprocess.check_call([arg1,...,arg8],stdout = fid, stderr=subprocess.STDOUT, shell = False)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6679782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2acee7ac41d8401de54ba4fab2814d9?s=128&d=identicon&r=PG&f=1", "display_name": "usa", "link": "https://stackoverflow.com/users/6679782/usa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471555030, "creation_date": 1471471537, "last_edit_date": 1495540295, "question_id": 39006982, "link": "https://stackoverflow.com/questions/39006982/error-of-no-log-results-dumped-to-file-by-running-an-executable-file-from-python", "title": "error of no log results dumped to file by running an executable file from Python subprosess", "body": "<p>This question is related to my previous question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/38928330/error-of-running-an-executable-file-from-python-subprosess\">Error of running an executable file from Python subprosess</a></p>\n\n<p>I am trying to run an executable file (a linear programming solver CLP.exe) from Python 3.5. </p>\n\n<pre><code> Import subprocess\n\n exeFile = \"C:\\\\MyPath\\\\CLP.exe\"\n arg1 = \"C:\\\\Temp\\\\LpModel.mps\"\n arg2 = \"-max\"\n arg3 = \"-dualSimplex\"\n arg4 = \"-printi\"\n arg4a = \"all\"\n arg5 = \"-solution\"\n arg6 = \"solutionFile.txt\"\n arg7 = \"-log\"\n arg8 = \"6\"\n arg9 = \"&gt;\"\n arg10 = \"log.txt\"\n subprocess.check_output([exeFile, arg1, arg2, arg3, arg4a, arg5,arg6, arg7, arg8, arg9, arg10],    stderr=subprocess.STDOUT, shell=False)\n</code></pre>\n\n<p>When I run the python file in Eclipse PyDev, I can see the results in Eclipse console and the solution results are also saved in \"solution.txt\".</p>\n\n<p>But, no log results are saved at the file of \"log.txt\".</p>\n\n<p>In the Eclipse console, I got: </p>\n\n<pre><code>  b'Coin LP version 1.16, build Dec 25 2015\n  command line - C:\\\\MyPath\\\\clp.exe C:\\\\Temp\\\\LpModel.mps  -max     -dualSimplex  -printi all  -solution C:\\\\Temp\\\\solutionFile.txt &gt; log.txt \n\n  Optimal - objective value 118816.5\n  Optimal objective 110 - 40 iterations time 0.022\n  logLevel was changed from 1 to 6\n  No match for &gt; - ? for list of commands\n  No match for log.txt - ? for list of commands\n</code></pre>\n\n<p>When I run the command in MS windows shell from command line: </p>\n\n<pre><code>    C:\\\\MyPath\\\\clp.exe C:\\\\Temp\\\\LpModel.mps  -max  -dualSimplex  -printi all  -solution C:\\\\Temp\\\\solution.txt &gt; log.txt\n</code></pre>\n\n<p>I can get log results in log.txt.</p>\n\n<p>Why the log.txt file was not created and no log results were saved  to it if I run the command from Python subprocess ? </p>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1471471585, "post_id": 39006956, "comment_id": 65365697, "body": "Your regex will match urls like <code>&#47;create_recipe_rule&#47;5&#47;</code>, but the url from your error message <code>&#47;create_recipe_rule&#47;</code> is missing the <code>recipe_pk</code> argument. Please show your template, it might give a hint what the problem is."}, {"owner": {"reputation": 1518, "user_id": 4426017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd19e224cb209fdff9679db95d16e92?s=128&d=identicon&r=PG&f=1", "display_name": "user4426017", "link": "https://stackoverflow.com/users/4426017/user4426017"}, "edited": false, "score": 1, "creation_date": 1471471673, "post_id": 39006956, "comment_id": 65365726, "body": "What&#39;s your form&#39;s action attribute set to? The error message is saying that http://[ip_adress]:[port]/create_recipe_rule/ cannot be found and that is because it does not have a primary key value appended at the end. Your URL declaration in your urls.py requires a pk value at the end."}, {"owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "edited": false, "score": 0, "creation_date": 1471472140, "post_id": 39006956, "comment_id": 65365897, "body": "I have posted my template here, please advise me on this"}], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "edited": false, "score": 0, "creation_date": 1471473952, "post_id": 39007250, "comment_id": 65366474, "body": "this fixed it! Thanks a lot! @Alasdair"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1471473113, "creation_date": 1471473113, "answer_id": 39007250, "question_id": 39006956, "link": "https://stackoverflow.com/questions/39006956/django-url-not-found-upon-submitting-form/39007250#39007250", "title": "Django url not found upon submitting form", "body": "<p>You have <code>action=\"/create_recipe_rule/\"</code>, which is missing the recipe id.</p>\n\n<p>One option is to simply remove the action from the form, then your browser will submit the request to the current url.</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n</code></pre>\n\n<p>If you do want to include the form action, then first you need to update your view so that it includes the recipe id in the template context.</p>\n\n<pre><code>return render(request, 'create_recipe_rule.html' , {'form': form, recipe_id: recipe_id })\n</code></pre>\n\n<p>Then you can update the form action to include the recipe id.</p>\n\n<pre><code>action=\"/create_recipe_rule/{{ recipe_id }}\"\n</code></pre>\n\n<p>It's good practice to use the <code>{% url %}</code> tag, so that you are not hardcoding urls in the template:</p>\n\n<pre><code>action=\"{% url 'create_recipe_rule' recipe_id %}\"\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 6344954, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dfe73b34173e78c09be7cdd8454bcf88?s=128&d=identicon&r=PG&f=1", "display_name": "sshussain270", "link": "https://stackoverflow.com/users/6344954/sshussain270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 0, "accepted_answer_id": 39007250, "answer_count": 1, "score": 0, "last_activity_date": 1471473113, "creation_date": 1471471390, "last_edit_date": 1471472120, "question_id": 39006956, "link": "https://stackoverflow.com/questions/39006956/django-url-not-found-upon-submitting-form", "title": "Django url not found upon submitting form", "body": "<p>My apologies if the question is stupid, I am a newbie to this. I am creating a django web application. I have created a form inside it. When I submit the form, it says 'url' not found even though the same URL loads fine for the first time when opening the form. This is whats confusing me. Here is my code:</p>\n\n<pre><code>#forms.py\nclass Recipe_ruleForm(forms.ModelForm):\n    class Meta:\n        model = Recipe_rule\n        fields = ('content',)\n\n#urls.py\n\n    url(r\"^create_recipe_rule/(?P&lt;recipe_pk&gt;[0-9]+)/$\",views.create_recipe_rule, name=\"create_recipe_rule\"),\n\n#views.py\ndef create_recipe_rule(request, recipe_pk):\n    form = Knowledgebase_ruleForm\n    selected_recipe = Recipe.objects.get(pk = recipe_pk)\n    if request.method == 'POST':\n           form = Recipe_ruleForm(request.POST)\n           if form.is_valid():\n               #current_user = request.user\n               data = form.cleaned_data\n               recipe_rule_data=Recipe_rule.objects.create(recipe=selected_recipe, content=data['content'])\n               recipe_rule_data.save()\n               recipe_rule = Recipe_rule.objects.get(pk = recipe_rule_data.pk)\n               recipe=selected_recipe\n               recipe = Recipe.objects.get(pk = recipe.pk)\n               return redirect('recipe_detail', pk=recipe.pk)\n           else:\n               messages.error(request, \"Error\")\n    return render(request, 'create_recipe_rule.html' , {'form': form})\n</code></pre>\n\n<p>Here is the error when I submit the form:</p>\n\n<blockquote>\n  <p>Page not found (404) Request Method:  POST Request\n  URL:  <a href=\"http://[ip_adress]:[port]/create_recipe_rule/\" rel=\"nofollow\">http://[ip_adress]:[port]/create_recipe_rule/</a></p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Here is my template:</p>\n\n<pre><code>{% extends \"account/base.html\" %}\n\n{% load i18n %}\n{% load bootstrap %}\n\n{% block body_class %}applications{% endblock %}\n\n{% block head_title %}{% trans \"Create recipe\" %}{% endblock %}\n\n{% block body %}\n\n\n\n\n&lt;form action=\"/create_recipe_rule/\" method=\"post\"&gt;\n{% csrf_token  %}\n\n\n\n\n&lt;div class=\"form-group\"&gt;\n&lt;label for=\"{{ form.content.label }}\"&gt;{{ form.content.label }}:&lt;/label&gt;\n&lt;textarea type=\"{{ form.content.type }}\" name=\"{{ form.content.name }}\" max_length=\"500\" class=\"form-control\" id=\"{{ form.content.id }}\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n\n\n\n\n     &lt;input class=\"btn btn-default\" type=\"submit\" value=\"submit\"&gt;\n&lt;/form&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["javascript", "python", "node.js"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 2, "creation_date": 1471471557, "post_id": 39006939, "comment_id": 65365683, "body": "Are you aware that <a href=\"https://docs.python.org/3/library/http.server.html\" rel=\"nofollow noreferrer\">Python has a simple, built-in web server</a>? Using it will likely be less complicated than adding node.js just to host stuff."}, {"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1471471912, "post_id": 39006939, "comment_id": 65365817, "body": "Without knowing the desired setup or task to be fulfilled this question is far too broad since there are several solutions depending on things like complexity, availability and scalability. Changing data e.g. could be done by piping through different processes at the lower end or using a message broker resp. task queue at the upper end of scalability and complexity."}, {"owner": {"reputation": 11, "user_id": 6728275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87af90540c22ec6600eb8815bb9d1e0a?s=128&d=identicon&r=PG&f=1", "display_name": "dannylinn", "link": "https://stackoverflow.com/users/6728275/dannylinn"}, "reply_to_user": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 1, "creation_date": 1471568482, "post_id": 39006939, "comment_id": 65409765, "body": "@albert task to be fulfilled is to display what&#39;s printed out from python script when it&#39;s still running instead of display all together when it&#39;s finished."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6728275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87af90540c22ec6600eb8815bb9d1e0a?s=128&d=identicon&r=PG&f=1", "display_name": "dannylinn", "link": "https://stackoverflow.com/users/6728275/dannylinn"}, "edited": false, "score": 0, "creation_date": 1471568504, "post_id": 39007825, "comment_id": 65409771, "body": "i&#39;m sorry but i don&#39;t see your solution"}], "tags": [], "owner": {"reputation": 727, "user_id": 2106784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90770468e169e97409ea7476e138c3db?s=128&d=identicon&r=PG", "display_name": "Yousef_Shamshoum", "link": "https://stackoverflow.com/users/2106784/yousef-shamshoum"}, "is_accepted": false, "score": 0, "last_activity_date": 1471477033, "creation_date": 1471477033, "answer_id": 39007825, "question_id": 39006939, "link": "https://stackoverflow.com/questions/39006939/display-python-data-on-node-js-when-python-is-still-running/39007825#39007825", "title": "Display python data on node.js when python is still running", "body": "<p>The easiest way is to setup a server with node js and just send requests with the data that is suppose to be printed. I am giving this solution of course in the prior knowledge that you have control of what is printed. ( You didn't mention if the output is coming from a script that you wrote or it is coming from another library or script of python.)</p>\n"}], "owner": {"reputation": 11, "user_id": 6728275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87af90540c22ec6600eb8815bb9d1e0a?s=128&d=identicon&r=PG&f=1", "display_name": "dannylinn", "link": "https://stackoverflow.com/users/6728275/dannylinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471477033, "creation_date": 1471471305, "question_id": 39006939, "link": "https://stackoverflow.com/questions/39006939/display-python-data-on-node-js-when-python-is-still-running", "title": "Display python data on node.js when python is still running", "body": "<p>I have a long running python script, and I want to use a node.js to display the data python prints(becasue I will make it a server and send data to somewhere else), I used python-shell, it doesn't display anything until the whole python finished, it there any way to display 'partial' output?</p>\n\n<pre><code>var pshell = require('python-shell');\nvar prompt = require('prompt');\nvar command = 'start';\n\nprompt.start();\nfunction receivecommand() {\nprompt.get(['input'], function(err, result) {\n    if(result.input == command) {\n        run();\n        console.log('run')\n    }\n    else {console.log('type start')\n            receivecommand();\n        }  \n    })\n}\nreceivecommand();\nfunction run() {\nvar ps = new pshell('hello.py');\nps.on('message', function(message) {\n    console.log(message);\n});\nps.end(function(err) {\n    if (err) throw err;\n    console.log('finished')\n});\n}\n</code></pre>\n\n<p>for now hello.py is just running a time-delay loop and print something out. </p>\n"}, {"tags": ["python", "windows", "python-3.x", "export", "registry"], "comments": [{"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1471472933, "post_id": 39006932, "comment_id": 65366156, "body": "See <a href=\"http://superuser.com/q/330180/96662\">superuser.com/q/330180/96662</a>"}, {"owner": {"reputation": 133, "user_id": 6496279, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YLY3B.png?s=128&g=1", "display_name": "Capattax", "link": "https://stackoverflow.com/users/6496279/capattax"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1471473433, "post_id": 39006932, "comment_id": 65366315, "body": "That really improved my understanding of the registry and the difference between exporting and saving. Now I know that I can save it as a hive file by using <code>reg save</code> and not <code>reg export</code>."}], "owner": {"reputation": 133, "user_id": 6496279, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YLY3B.png?s=128&g=1", "display_name": "Capattax", "link": "https://stackoverflow.com/users/6496279/capattax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471471257, "creation_date": 1471471257, "question_id": 39006932, "link": "https://stackoverflow.com/questions/39006932/how-to-save-file-as-a-reg-hive-file-when-saving-it-in-a-script", "title": "How to save file as a reg hive file when saving it in a script?", "body": "<p>I have a python script that exports a file but there is a problem with the result. I can't figure out what extension I have to save it as to make it a reg hive file. I am exporting the SAM folder and it's contents from the windows registry with a python script. How can I save it as a reg hive file from a script?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import sys, os\nos.system(\"reg export HKEY_LOCAL_MACHINE\\SAM C:\\Export.*\")\n</code></pre>\n\n<p>I don't know what extension to put after C:\\Export.</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-elastic-beanstalk", "boto"], "answers": [{"comments": [{"owner": {"reputation": 7629, "user_id": 2335820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sLTHB.jpg?s=128&g=1", "display_name": "Kimmo Hintikka", "link": "https://stackoverflow.com/users/2335820/kimmo-hintikka"}, "edited": false, "score": 0, "creation_date": 1471471397, "post_id": 39006926, "comment_id": 65365615, "body": "Ah, thanks! Does this mean it&#39;s sharing credentials with awscli?"}, {"owner": {"reputation": 11362, "user_id": 5017586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6cf237e6b3b0f4e8ed76d138336bed4?s=128&d=identicon&r=PG&f=1", "display_name": "error2007s", "link": "https://stackoverflow.com/users/5017586/error2007s"}, "reply_to_user": {"reputation": 7629, "user_id": 2335820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sLTHB.jpg?s=128&g=1", "display_name": "Kimmo Hintikka", "link": "https://stackoverflow.com/users/2335820/kimmo-hintikka"}, "edited": false, "score": 0, "creation_date": 1471471427, "post_id": 39006926, "comment_id": 65365631, "body": "Yes it is sharing the creds"}], "tags": [], "owner": {"reputation": 11362, "user_id": 5017586, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b6cf237e6b3b0f4e8ed76d138336bed4?s=128&d=identicon&r=PG&f=1", "display_name": "error2007s", "link": "https://stackoverflow.com/users/5017586/error2007s"}, "is_accepted": true, "score": 3, "last_activity_date": 1471471236, "creation_date": 1471471236, "answer_id": 39006926, "question_id": 39006888, "link": "https://stackoverflow.com/questions/39006888/how-to-delete-current-user-credentials-from-awsebcli/39006926#39006926", "title": "How to delete current user credentials from awsebcli?", "body": "<p>You need to type this command and enter your new credentials in the interactive session.</p>\n\n<pre><code>aws configure\n</code></pre>\n\n<p>Or you can go to this file <code>~/.aws/config</code> and edit them</p>\n"}], "owner": {"reputation": 7629, "user_id": 2335820, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sLTHB.jpg?s=128&g=1", "display_name": "Kimmo Hintikka", "link": "https://stackoverflow.com/users/2335820/kimmo-hintikka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 39006926, "answer_count": 1, "score": 4, "last_activity_date": 1588389493, "creation_date": 1471471079, "last_edit_date": 1588389493, "question_id": 39006888, "link": "https://stackoverflow.com/questions/39006888/how-to-delete-current-user-credentials-from-awsebcli", "title": "How to delete current user credentials from awsebcli?", "body": "<p>Started working on my other laptop and noticed that it has old EB credentials stored in. </p>\n\n<p>How can I \"reset\" awsebcli. I want <code>eb init</code> command to ask me to specify new aws credentials but cannot figure how. </p>\n"}, {"tags": ["python", "python-docx"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1471471602, "post_id": 39006878, "comment_id": 65365707, "body": "Be warned: No, the line is <i>not</i> created by <code>add_heading</code>. This only applies a <a href=\"http://python-docx.readthedocs.io/en/latest/api/document.html?highlight=add_heading#docx.document.Document.add_heading\" rel=\"nofollow noreferrer\">certain style</a> - which, apparently, just happens to contain a paragraph rule in your text document."}, {"owner": {"reputation": 5335, "user_id": 1606657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9eebb1dbb460af4f3974a7940df3e26d?s=128&d=identicon&r=PG", "display_name": "wasp256", "link": "https://stackoverflow.com/users/1606657/wasp256"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1471472158, "post_id": 39006878, "comment_id": 65365901, "body": "Alright so is there a way to do it for normal paragraphs?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1471479621, "post_id": 39006878, "comment_id": 65367944, "body": "In the Word application adding what is called a &quot;horizontal rule&quot; is often done by setting a Paragraph style with a bottom border. However it doesn&#39;t appear the <code>python-docx</code> current supports borders in its API for <code>_ParagraphStyle</code> (or anywhere else). You might be able to fake one by inserting a graphical image or shape."}], "answers": [{"tags": [], "owner": {"reputation": 19772, "user_id": 1902513, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dde51d04370847170ede2450660334ac?s=128&d=identicon&r=PG", "display_name": "scanny", "link": "https://stackoverflow.com/users/1902513/scanny"}, "is_accepted": true, "score": 3, "last_activity_date": 1471489549, "creation_date": 1471489549, "answer_id": 39009362, "question_id": 39006878, "link": "https://stackoverflow.com/questions/39006878/python-docx-add-horizontal-line/39009362#39009362", "title": "python-docx add horizontal line", "body": "<p>This is not supported directly yet by the <code>python-docx</code> API.</p>\n\n<p>However, you can achieve this effect by creating a paragraph style that has this border setting in the \"template\" document you open to create a new document, e.g.</p>\n\n<pre><code>document = Document('template-with-style.docx')\n</code></pre>\n\n<p>Then you can apply that style to a new paragraph in that document using python-docx.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12020259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/094e8c80efed4d544a8034d26fe4712d?s=128&d=identicon&r=PG", "display_name": "Shivam", "link": "https://stackoverflow.com/users/12020259/shivam"}, "is_accepted": false, "score": -1, "last_activity_date": 1581273296, "creation_date": 1581273296, "answer_id": 60139977, "question_id": 39006878, "link": "https://stackoverflow.com/questions/39006878/python-docx-add-horizontal-line/60139977#60139977", "title": "python-docx add horizontal line", "body": "<p>Just add</p>\n\n<pre><code>document.add_paragraph(\"_____________________________________________\")\n</code></pre>\n\n<p>length of this line may not be enough but you can add it ,i hope you have solved your problems this is for new comers</p>\n"}], "owner": {"reputation": 5335, "user_id": 1606657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9eebb1dbb460af4f3974a7940df3e26d?s=128&d=identicon&r=PG", "display_name": "wasp256", "link": "https://stackoverflow.com/users/1606657/wasp256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4232, "favorite_count": 0, "accepted_answer_id": 39009362, "answer_count": 2, "score": 1, "last_activity_date": 1581273296, "creation_date": 1471471031, "last_edit_date": 1471477390, "question_id": 39006878, "link": "https://stackoverflow.com/questions/39006878/python-docx-add-horizontal-line", "title": "python-docx add horizontal line", "body": "<p>Is it possible to add a single horizontal line spanning the entire page width after a paragraph?</p>\n\n<p>By using the <code>add_header</code> such a line is created after the header:</p>\n\n<pre><code>  document.add_heading('Test', 0)\n</code></pre>\n\n<p>I'd need such a line between two paragraphs in the document, so is it possible to just add the line by itself?</p>\n"}, {"tags": ["python", "meteor", "pymongo"], "comments": [{"owner": {"reputation": 16241, "user_id": 2805154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f845f8b4a3c18fd4a904da3416679fa?s=128&d=identicon&r=PG", "display_name": "Michel Floyd", "link": "https://stackoverflow.com/users/2805154/michel-floyd"}, "edited": false, "score": 0, "creation_date": 1471479375, "post_id": 39006839, "comment_id": 65367887, "body": "Your hypothesis is a good one. Meteor is looking at mongo changes through the oplog and having to decide whether or not to publish each change to each client. Have you tried using mongo <a href=\"https://docs.mongodb.com/manual/reference/method/Bulk.insert/\" rel=\"nofollow noreferrer\">bulk insert</a> rather than importing rows one at a time?"}, {"owner": {"reputation": 1879, "user_id": 5036364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85a2214bad5e9a3e24f001d62d5a5af0?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Waldie", "link": "https://stackoverflow.com/users/5036364/ethan-waldie"}, "reply_to_user": {"reputation": 16241, "user_id": 2805154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f845f8b4a3c18fd4a904da3416679fa?s=128&d=identicon&r=PG", "display_name": "Michel Floyd", "link": "https://stackoverflow.com/users/2805154/michel-floyd"}, "edited": false, "score": 0, "creation_date": 1471522311, "post_id": 39006839, "comment_id": 65386103, "body": "Pymongo has the function <code>insert_many()</code> which is supposed to implement a bulk insert. There Seems to be no difference when using this or the standard pymongo insert."}], "owner": {"reputation": 1879, "user_id": 5036364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85a2214bad5e9a3e24f001d62d5a5af0?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Waldie", "link": "https://stackoverflow.com/users/5036364/ethan-waldie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471479266, "creation_date": 1471470788, "last_edit_date": 1471479266, "question_id": 39006839, "link": "https://stackoverflow.com/questions/39006839/meteor-range-error-out-of-memory", "title": "Meteor Range Error out of memory", "body": "<p>SO im using python to do some data aggregation and computationally complex tasks. the result is a file that is about 300mb and has about 125,000 lines.</p>\n\n<p>Using pymongo, I push this database into mongoDB and get this error almost every time.</p>\n\n<pre><code>Exception in defer callback: RangeError: Out of memory\nI20160817-15:14:16.079(-4)?     at RangeError (native)\nI20160817-15:14:16.079(-4)?     at DocFetcher.fetch (packages/mongo/doc_fetcher.js:60:8)\nI20160817-15:14:16.079(-4)?     at packages/mongo/oplog_observe_driver.js:509:43\nI20160817-15:14:16.079(-4)?     at [object Object]._.extend.forEach (packages/id-map/id-map.js:48:1)\nI20160817-15:14:16.080(-4)?     at packages/mongo/oplog_observe_driver.js:507:35\nI20160817-15:14:16.080(-4)?     at packages/mongo/oplog_observe_driver.js:16:9\nI20160817-15:14:16.080(-4)?     at [object Object]._.extend.withValue (packages/meteor/dynamics_nodejs.js:56:1)\nI20160817-15:14:16.080(-4)?     at packages/meteor/timers.js:6:1\nI20160817-15:14:16.080(-4)?     at runWithEnvironment (packages/meteor/dynamics_nodejs.js:110:1)\n</code></pre>\n\n<p>Each client is only ever subscribed to 500 ish documents at a time.</p>\n\n<p>My theory is that this happens because meteor is reading each entry as a change, and trying to push each database change to the client, rather than something in bulk?</p>\n\n<p>Is there anything I can do? Would this problem go away if this were not on the development server and the server had more RAM.</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["python", "scipy", "curve-fitting"], "owner": {"reputation": 21, "user_id": 6728090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077d8928f5394ce208e06af781b4851e?s=128&d=identicon&r=PG&f=1", "display_name": "DamienBiotPelletier", "link": "https://stackoverflow.com/users/6728090/damienbiotpelletier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1471470746, "creation_date": 1471470746, "question_id": 39006827, "link": "https://stackoverflow.com/questions/39006827/multivariable-regression-with-scipy-curve-fit-always-off-by-a-systematic-amount", "title": "Multivariable regression with scipy curve_fit: always off by a systematic amount", "body": "<p>I have been doing multivariable linear regression (equations of the form: y=b0+b1*x1+b2*x2+...+bnxn) in python. I could successfully solve the following function:</p>\n\n<pre><code>def MultipleRegressionFunc(X,B):\n    y=B[0]\n    for i in range(0,len(X)): y += X[i]*B[i+1]\n    return y\n</code></pre>\n\n<p>I'll skip the details of that function for now. Suffices to say that using the <code>curve_fit</code> wrapper in <code>scipy</code> with this function has successfully allowed me to solve systems with many variables.</p>\n\n<p>Now I've been wanting to consider possible interactions between variables, so I've modified the function as follows:</p>\n\n<pre><code>def MultipleRegressionFuncBIS(X,B):\n    #Define terms of the equation\n    #The first term is 1*b0 (intercept)\n    terms=[1]\n    #Adding terms for the \"non-interaction\" part of the equation\n    for x in X: terms.append(x)\n    #Adding terms for the 'interaction' part of the equations\n    for x in list(combinations(X, 2)): terms.append(x[0]*x[1])\n    #I'm proceeding in this way because I found that some operations on iterables are not well handled when curve_fit passes numpy arrays to the function\n    #Setting a float object to hold the result of the calculation\n    y = 0.0\n    #Iterating through each term in the equation, and adding the value to y\n    for i in range(0, len(terms)):  y += B[i]*terms[i]\n    return y\n</code></pre>\n\n<p>I made a wrapper function for the above to be able to pass multiple linear coefficients to it via <code>curve_fit</code>.</p>\n\n<pre><code>def wrapper_func(X,*B):\n    return MultipleRegressionFuncBIS(X,B)\n</code></pre>\n\n<p>Here's some mock input, generated by applying the following formula: <code>1+2*x1+3*x2+4*x3+5*x1*x2+6*x1*x3+7*x2*x3</code></p>\n\n<pre><code>x1=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53]\nx2=[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54]\nx3=[3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55]\ny=[91, 192, 329, 502, 711, 956, 1237, 1554, 1907, 2296, 2721, 3182, 3679, 4212, 4781, 5386, 6027, 6704, 7417, 8166, 8951, 9772, 10629, 11522, 12451, 13416, 14417, 15454, 16527, 17636, 18781, 19962, 21179, 22432, 23721, 25046, 26407, 27804, 29237, 30706, 32211, 33752, 35329, 36942, 38591, 40276, 41997, 43754, 45547, 47376, 49241, 51142, 53079]\n</code></pre>\n\n<p>Then I obtain the linear coefficients by calling the following:</p>\n\n<pre><code>linear_coeffs=list(curve_fit(wrapper_func,[x1,x2,x3],y,p0=[1.1,2.2,3.1,4.1,5.1,6.1,7.1],bounds=(0.0,10.0))[0])\nprint linear_coeffs\n</code></pre>\n\n<p>Notice that here the p0 estimates are manually set to values extremely close to the real values to rule out the possibility that <code>curve_fit</code> is having a hard time converging.</p>\n\n<p>Yet, the output for this particular case deviates more than I would expect from the real values (expected: <code>[1.0,2.0,3.0,4.0,5.0,6.0,7.0]</code>):</p>\n\n<pre><code>[1.1020684140370627, 2.1149407566785214, 2.9872182044259676, 3.9734017072175436, 5.0575156518729969, 5.9605293645760549, 6.9819549835509491]\n</code></pre>\n\n<p>Now, here's my problem. While the coefficients do not perfectly match the input model, that is a secondary concern. I do expect some error in real life examples, although that is puzzling in this noice-less mock example. My main problem is that the error is <strong>systematic</strong>. In the example above, using the coefficients estimated by <code>curve_fit</code> the residuals are systematically equal to <code>0.10206841</code>, for all values of <code>x1,x2,x3</code>. Other mock datasets produce different, but still systematic residuals.</p>\n\n<p>Can you think of any explanation for this systematic error ?</p>\n\n<p>I post here because I suspect it is a coding issue, rather than a statistical one. I'm very willing to move this question to Cross Validated if it turns out I made a stats error.</p>\n\n<p>Many thanks !</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1471471065, "post_id": 39006826, "comment_id": 65365489, "body": "Step through it in the debugger and find out."}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1471471320, "post_id": 39006826, "comment_id": 65365582, "body": "Your indentations have a combination of tabs and spaces. That is a very bad idea in Python. Configure your text editor to use only spaces and correct your code."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1471471398, "post_id": 39006826, "comment_id": 65365616, "body": "<code>product[0:n]</code> yields successively larger pieces of <code>product</code>; it does not yield individual characters."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1471471420, "post_id": 39006826, "comment_id": 65365626, "body": "A few side notes: You describe a generic function, then show your code with a very specific function - at least by name - called <code>fix_machine</code>. Are we supposed to conclude that <code>debris</code> and <code>product</code> are the two input strings??? Because <code>product[0:n]</code> sure as hell doesn&#39;t help with that conclusion (I&#39;d expect <code>first_element</code> to be a single character). You should display a piece of code which aligns with your description, for example, <code>def check_chars(str1,str2)</code>. Second, the entire function looks like a very bad method for doing what you&#39;ve described, which can be implemented in a single line."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1471471564, "post_id": 39006826, "comment_id": 65365685, "body": "Third, as already mentioned above, debug your code step by step. That&#39;s the whole idea behind programming (in opposed to &quot;why does this not work?&quot;)."}, {"owner": {"reputation": 127, "user_id": 6702000, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d7e9cbc558cbdb5872e055adb35d064?s=128&d=identicon&r=PG&f=1", "display_name": "Clement Decker", "link": "https://stackoverflow.com/users/6702000/clement-decker"}, "reply_to_user": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1471473799, "post_id": 39006826, "comment_id": 65366435, "body": "@Rory Daulton I know that my indentation is not the issue"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1471474366, "post_id": 39006826, "comment_id": 65366585, "body": "It is an issue for those of us trying to execute your code. It made a real mess in my text editor, so I gave up trying to understand it."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "is_accepted": false, "score": 0, "last_activity_date": 1471471530, "creation_date": 1471471530, "answer_id": 39006981, "question_id": 39006826, "link": "https://stackoverflow.com/questions/39006826/why-does-this-code-not-work-for-all-inputs/39006981#39006981", "title": "Why does this code not work for all inputs", "body": "<p>You could do this as a more elegant solution, assuming that you strictly want all of the second string characters to be present in first.</p>\n\n<pre><code>def fix_machine(first, second):\n    for character in second:\n        if character not in first:\n            return False\n    return second\n</code></pre>\n\n<p>This returns correct input for your code. Not entirely sure what is wrong with your code as I have not stepped through.</p>\n\n<p>EDIT: Albert has a much more elegant solution, reference his</p>\n"}, {"tags": [], "owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "is_accepted": false, "score": 0, "last_activity_date": 1471471541, "creation_date": 1471471541, "answer_id": 39006986, "question_id": 39006826, "link": "https://stackoverflow.com/questions/39006826/why-does-this-code-not-work-for-all-inputs/39006986#39006986", "title": "Why does this code not work for all inputs", "body": "<p>As far as I understood you just want to compare two strings containing different characters.</p>\n\n<p>For doing so, I would suggest converting both strings to a <code>set</code> which then provides (in contrast to a <code>list</code>) order-less comparison of its elements.</p>\n\n<pre><code>def check_string(first_str, second_str):\n    # convert strings to sets in order to compare characters\n    if set(first_string) == set(second_string):\n        return second_str\n    else:\n        return 'This does not work.'\n\n\nfirst_string = 'helo'\nsecond_string = 'olhe'    \nprint(check_string(first_string, second_string))\n# prints True\n\nfirst_string = 'helo'\nsecond_string = 'hello'    \nprint(check_string(first_string, second_string))\n# prints True\n\nfirst_string = 'helo'\nsecond_string = 'helofoo'    \nprint(check_string(first_string, second_string))\n# prints 'This does not work.'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1471472074, "post_id": 39007038, "comment_id": 65365873, "body": "You&#39;re missing a <code>return</code> at the beginning of that statement."}, {"owner": {"reputation": 1669, "user_id": 1560414, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/021be9741272d51c0dce3b1fab38a2c5?s=128&d=identicon&r=PG", "display_name": "freebie", "link": "https://stackoverflow.com/users/1560414/freebie"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1471472194, "post_id": 39007038, "comment_id": 65365919, "body": "@barakmanos I was just doing enough for it to test in the python repl. I&#39;ll update it to mimic the OPs function."}], "tags": [], "owner": {"reputation": 1669, "user_id": 1560414, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/021be9741272d51c0dce3b1fab38a2c5?s=128&d=identicon&r=PG", "display_name": "freebie", "link": "https://stackoverflow.com/users/1560414/freebie"}, "is_accepted": false, "score": 0, "last_activity_date": 1471472324, "last_edit_date": 1471472324, "creation_date": 1471471869, "answer_id": 39007038, "question_id": 39006826, "link": "https://stackoverflow.com/questions/39006826/why-does-this-code-not-work-for-all-inputs/39007038#39007038", "title": "Why does this code not work for all inputs", "body": "<p>I agree that you should step through that code with a debugger (maybe try PyCharm if you don't have an IDE set up yet) to see what went wrong. Would be hard to explain whats going wrong but I think it has something to do with <code>first_element = product[0:n]</code>. This will return increasingly larger segments of the string. i.e. 'ol' on the second run through.</p>\n\n<p>Here's an alternative way of writing it</p>\n\n<pre><code>def fix_machine(debris, product):\n    all_present = all(letter in debris for letter in product)\n    return product if all_present else 'This does not work'\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6702000, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1d7e9cbc558cbdb5872e055adb35d064?s=128&d=identicon&r=PG&f=1", "display_name": "Clement Decker", "link": "https://stackoverflow.com/users/6702000/clement-decker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1471472324, "creation_date": 1471470738, "question_id": 39006826, "link": "https://stackoverflow.com/questions/39006826/why-does-this-code-not-work-for-all-inputs", "title": "Why does this code not work for all inputs", "body": "<p>I am trying to write python code that takes two strings as input and checks if all the characters of the second string are present in the first string. If so, then the output is the second string. If not, the output is the string \"This does not work\". I have tested this procedure for a variety of inputs, and it typically works, but not always. For example, if my two inputs are \"helo\" and \"olhe\", respectively, the output is \"This does not work,\" whereas it should be \"olhe\" since all the characters in \"olhe\" are present in \"helo.\"</p>\n\n<p>Here is my code</p>\n\n<pre><code>def fix_machine(debris,product):\n    n = 1\n    while True:\n          first_element = product[0:n]\n          find_first_element = debris.find(first_element)\n          if first_element == product:\n               return product\n               break\n          n = n + 1\n          if find_first_element == -1:\n               return \"This does not work\"\n               break\n</code></pre>\n\n<p>So why does this not work?</p>\n"}, {"tags": ["python", "anaconda"], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 2410558, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/199aeab43014b768aadfba24d37f62ec?s=128&d=identicon&r=PG", "display_name": "Brandon Sherman", "link": "https://stackoverflow.com/users/2410558/brandon-sherman"}, "is_accepted": false, "score": 0, "last_activity_date": 1471476871, "creation_date": 1471476871, "answer_id": 39007799, "question_id": 39006804, "link": "https://stackoverflow.com/questions/39006804/xgboost-installation-via-anaconda-1-5-1-fails-on-os-x/39007799#39007799", "title": "XGBoost installation via Anaconda 1.5.1 fails on OS X", "body": "<p>I solved this by following the <a href=\"https://github.com/dmlc/xgboost/blob/master/doc/build.md\" rel=\"nofollow\">Python Package Installation instructions.</a>  I now have the package without a pip installation.</p>\n"}], "owner": {"reputation": 643, "user_id": 2410558, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/199aeab43014b768aadfba24d37f62ec?s=128&d=identicon&r=PG", "display_name": "Brandon Sherman", "link": "https://stackoverflow.com/users/2410558/brandon-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1735, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471476871, "creation_date": 1471470632, "question_id": 39006804, "link": "https://stackoverflow.com/questions/39006804/xgboost-installation-via-anaconda-1-5-1-fails-on-os-x", "title": "XGBoost installation via Anaconda 1.5.1 fails on OS X", "body": "<p>I have GCC installed via Homebrew using <code>brew install gcc --without-multilib</code>.  When I tried to use <code>pip install xgboost</code> in Anaconda 1.5.1 on OS X El Capitan 10.11.6 and Conda 4.1.11 running Python 3.5.2, I get the following output and error:</p>\n\n<pre><code>Collecting xgboost\n  Using cached xgboost-0.6a2.tar.gz\n    Complete output from command python setup.py egg_info:\n    rm -f -rf build build_plugin lib bin *~ */*~ */*/*~ */*/*/*~ */*.o */*/*.o */*/*/*.o xgboost\n    clang-omp++ -std=c++0x -Wall -O3 -msse2  -Wno-unknown-pragmas -funroll-loops -Iinclude   -Idmlc-core/include -Irabit/include -fPIC -fopenmp -MM -MT build/learner.o src/learner.cc &gt;build/learner.d\n    /bin/sh: clang-omp++: command not found\n    clang-omp++ -std=c++0x -Wall -O3 -msse2  -Wno-unknown-pragmas -funroll-loops -Iinclude   -Idmlc-core/include -Irabit/include -fPIC -fopenmp -MM -MT build/logging.o src/logging.cc &gt;build/logging.d\n    make: *** [build/learner.o] Error 127\n    make: *** Waiting for unfinished jobs....\n    /bin/sh: clang-omp++: command not found\n    make: *** [build/logging.o] Error 127\n    -----------------------------\n    Building multi-thread xgboost failed\n    Start to build single-thread xgboost\n    rm -f -rf build build_plugin lib bin *~ */*~ */*/*~ */*/*/*~ */*.o */*/*.o */*/*/*.o xgboost\n    clang-omp++ -std=c++0x -Wall -O3 -msse2  -Wno-unknown-pragmas -funroll-loops -Iinclude   -Idmlc-core/include -Irabit/include -fPIC -fopenmp -MM -MT build/learner.o src/learner.cc &gt;build/learner.d\n    /bin/sh: clang-omp++: command not found\n    make: *** [build/learner.o] Error 127\n    make: *** Waiting for unfinished jobs....\n    clang-omp++ -std=c++0x -Wall -O3 -msse2  -Wno-unknown-pragmas -funroll-loops -Iinclude   -Idmlc-core/include -Irabit/include -fPIC -fopenmp -MM -MT build/logging.o src/logging.cc &gt;build/logging.d\n    /bin/sh: clang-omp++: command not found\n    make: *** [build/logging.o] Error 127\n    Successfully build single-thread xgboost\n    If you want multi-threaded version\n    See additional instructions in doc/build.md\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/setup.py\", line 29, in &lt;module&gt;\n        LIB_PATH = libpath['find_lib_path']()\n      File \"/private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/xgboost/libpath.py\", line 45, in find_lib_path\n        'List of candidates:\\n' + ('\\n'.join(dll_path)))\n    XGBoostLibraryNotFound: Cannot find XGBoost Libarary in the candicate path, did you install compilers and run build.sh in root path?\n    List of candidates:\n    /private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/xgboost/libxgboost.so\n    /private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/xgboost/../../lib/libxgboost.so\n    /private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/xgboost/./lib/libxgboost.so\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/94/yw1tx2t95lb31nlww2nwpk114lvh7b/T/pip-build-k_1ed1r6/xgboost/\n</code></pre>\n"}, {"tags": ["python", "flask", "whitespace", "jinja2", "removing-whitespace"], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "edited": false, "score": 0, "creation_date": 1471470854, "post_id": 39006815, "comment_id": 65365398, "body": "Thanks you mean on every thing? blocks , if, for , endif ... ?"}, {"owner": {"reputation": 9694, "user_id": 3239417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWrO4.png?s=128&g=1", "display_name": "vsminkov", "link": "https://stackoverflow.com/users/3239417/vsminkov"}, "reply_to_user": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "edited": false, "score": 0, "creation_date": 1471471303, "post_id": 39006815, "comment_id": 65365575, "body": "@CameronA yes. if you want to strip all empty lines"}, {"owner": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "edited": false, "score": 0, "creation_date": 1471471461, "post_id": 39006815, "comment_id": 65365650, "body": "Thanks man it worked"}], "tags": [], "owner": {"reputation": 9694, "user_id": 3239417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QWrO4.png?s=128&g=1", "display_name": "vsminkov", "link": "https://stackoverflow.com/users/3239417/vsminkov"}, "is_accepted": true, "score": 4, "last_activity_date": 1471470673, "creation_date": 1471470673, "answer_id": 39006815, "question_id": 39006781, "link": "https://stackoverflow.com/questions/39006781/jinja2-templates-create-extra-space-on-empty-tags/39006815#39006815", "title": "Jinja2 Templates create extra space on empty tags", "body": "<p>Take a look at <a href=\"http://jinja.pocoo.org/docs/dev/templates/#whitespace-control\" rel=\"nofollow\" title=\"jinja2 documentation\">whitespace control</a>. </p>\n\n<p>You should use <code>{%-</code> and <code>-%}</code> instead of <code>{%</code> and <code>%}</code>.</p>\n"}], "owner": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 0, "closed_date": 1471477021, "accepted_answer_id": 39006815, "answer_count": 1, "score": 0, "last_activity_date": 1471470673, "creation_date": 1471470433, "question_id": 39006781, "link": "https://stackoverflow.com/questions/39006781/jinja2-templates-create-extra-space-on-empty-tags", "closed_reason": "Duplicate", "title": "Jinja2 Templates create extra space on empty tags", "body": "<pre><code>{% block flashes %}\n    &lt;section class='flashes'&gt;\n        {% with messages = get_flashed_messages() %}\n            {% if messages %}\n                &lt;ul&gt;\n                    {% for message in messages %}\n                        &lt;li&gt;{{ message }}&lt;/li&gt;\n                    {% endfor %}\n                &lt;/ul&gt;\n            {% endif %}\n        {% endwith %}\n    &lt;/section&gt;\n{% endblock %}\n</code></pre>\n\n<p>Whenever the section tag is empty i see something like this in my HTML source-view or even chrome dev-tool</p>\n\n<p><strong>Dev-tool</strong>\n<a href=\"https://i.stack.imgur.com/hjNW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hjNW3.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>View Source</strong>\n<a href=\"https://i.stack.imgur.com/WOMPO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WOMPO.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>if I remove the indents and extra white spaces the maintenance will be hard, is there any solution to this ? Thanks</p>\n"}, {"tags": ["python", "automation", "ocr", "sikuli", "sikuli-ide"], "answers": [{"tags": [], "owner": {"reputation": 6104, "user_id": 1119381, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/aab36e75e2a1b09199da99501429f49e?s=128&d=identicon&r=PG", "display_name": "Eugene S", "link": "https://stackoverflow.com/users/1119381/eugene-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1471482961, "creation_date": 1471482961, "answer_id": 39008510, "question_id": 39006769, "link": "https://stackoverflow.com/questions/39006769/matching-a-pattern-in-a-region-in-sikuli-is-very-slow/39008510#39008510", "title": "Matching a Pattern in a Region in Sikuli is very slow", "body": "<p>Sikuli operates by scanning a Screen or a part of a screen and attempting to match a set pattern. Naturally, the smaller the pattern is, the more time it will consume to match it. There few ways to improve the detection time:</p>\n\n<ol>\n<li>Region and Pattern manipulation (bound region size)</li>\n<li>Functions settings (reduce minimum wait time)</li>\n<li>Configuration (amend scan rate)</li>\n</ol>\n\n<p>I have described the issue in some more detail <a href=\"http://eugenesautomation.blogspot.com.au/2015/01/speeding-up-pattern-match-time.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>OCR is still quite unreliable. There are ways to improve that but if you only have a limited set of characters, I reckon you will be better off using them as patterns. It will be quicker and more reliable.</p>\n\n<p>As of Sikuli itself, the tool is under active development and is still relevant if it helps you to solve your problem.</p>\n"}], "owner": {"reputation": 13, "user_id": 6714287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571221bc4261a1f59551874f4f26557a?s=128&d=identicon&r=PG&f=1", "display_name": "user6714287", "link": "https://stackoverflow.com/users/6714287/user6714287"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 0, "accepted_answer_id": 39008510, "answer_count": 1, "score": 1, "last_activity_date": 1526279943, "creation_date": 1471470352, "last_edit_date": 1471493537, "question_id": 39006769, "link": "https://stackoverflow.com/questions/39006769/matching-a-pattern-in-a-region-in-sikuli-is-very-slow", "title": "Matching a Pattern in a Region in Sikuli is very slow", "body": "<p>I am automating a computer game using Sikuli as a hobby project and to hopefully get good enough to make scripts to help me at my job. In a certain small region, (20x20 pixels) one of 15 characters will appear. Right now I have these 15 images defined as variables, and then using an <code>if</code>, <code>elif</code> loop I am doing <code>Region.exists()</code>. If one of my images is present in the region, I assign a variable the appropriate value. </p>\n\n<p>I am doing this for two areas on the screen and then based on the combination of characters the script clicks appropriately.</p>\n\n<p>The problem right now is that to run the 15 if statements is taking approximately 10 seconds.  I was hoping to do this recognition in closer to 1 second. </p>\n\n<p>These are just text characters but the OCR feature was not reading them reliably and I wanted close to 100% accuracy.</p>\n\n<p>Is this an appropriate way to do OCR?  Is there a better way you guys can recommend? I haven't done much coding in the last 3 years so I am wondering if OCR has improved and if Sikuli is still even a relevant program.  Seeing as this is just a hobby project I am hoping to stick to free solutions.</p>\n"}, {"tags": ["python", "xml", "xml-parsing", "string-parsing"], "comments": [{"owner": {"reputation": 1234, "user_id": 3879359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C1y2u.png?s=128&g=1", "display_name": "lopezdp", "link": "https://stackoverflow.com/users/3879359/lopezdp"}, "edited": false, "score": 0, "creation_date": 1471470755, "post_id": 39006735, "comment_id": 65365367, "body": "i added the specific link where the XML file resides for testing..."}], "answers": [{"comments": [{"owner": {"reputation": 1234, "user_id": 3879359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C1y2u.png?s=128&g=1", "display_name": "lopezdp", "link": "https://stackoverflow.com/users/3879359/lopezdp"}, "edited": false, "score": 0, "creation_date": 1471529244, "post_id": 39011824, "comment_id": 65391125, "body": "thanks for the feed back! it all makes sense the way you lay it out. give me a few hours to look this over and if it works out ill give you the thumbs up"}], "tags": [], "owner": {"reputation": 1288, "user_id": 4442714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a7b4451d3d07b25b98d121785b5878?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Wiehl", "link": "https://stackoverflow.com/users/4442714/matthias-wiehl"}, "is_accepted": true, "score": 1, "last_activity_date": 1471503716, "creation_date": 1471503716, "answer_id": 39011824, "question_id": 39006735, "link": "https://stackoverflow.com/questions/39006735/how-can-i-access-the-data-in-an-xml-node-when-using-elementtree/39011824#39011824", "title": "How can I access the data in an XML node when using ElementTree", "body": "<p>A few comments on your approaches:</p>\n\n<blockquote>\n<pre><code>for count in comments.findall('count'):\n    print comments.find('count').text\n</code></pre>\n</blockquote>\n\n<p><code>comments.findall('count')</code> returns an empty list because <code>comments</code> does not have any immediate child elements with the name <code>count</code>.</p>\n\n<blockquote>\n<pre><code>for child in comments:\n    print child.tag, child.attrib\n</code></pre>\n</blockquote>\n\n<p>Iterates over the immediate child elements of your root node, which are called <code>note</code>.</p>\n\n<blockquote>\n<pre><code># From update #2\nfor count in comments.findall('comments/comment/count'):\n    print 'count', count.find('count').text\n</code></pre>\n</blockquote>\n\n<p>Here, <code>count</code> is an <code>Element</code> object representing a <code>count</code> node which itself does not contain any <code>count</code> nodes. Thus, <code>count.find('count')</code> returns a <code>NoneType</code> object.</p>\n\n<p>If I understand correctly, your goal is to retrieve the text values of the <code>count</code> nodes. Here are two ways this can be achieved:</p>\n\n<pre><code>for count in comments.findall('comments/comment/count'):\n    print count.text\n\nfor comment in comments.iter('comment'):\n    print comment.find('count').text\n</code></pre>\n"}], "owner": {"reputation": 1234, "user_id": 3879359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/C1y2u.png?s=128&g=1", "display_name": "lopezdp", "link": "https://stackoverflow.com/users/3879359/lopezdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 39011824, "answer_count": 1, "score": 0, "last_activity_date": 1471503716, "creation_date": 1471470178, "last_edit_date": 1471481667, "question_id": 39006735, "link": "https://stackoverflow.com/questions/39006735/how-can-i-access-the-data-in-an-xml-node-when-using-elementtree", "title": "How can I access the data in an XML node when using ElementTree", "body": "<p>i am parsing the XML located at this link:</p>\n\n<p><a href=\"http://python-data.dr-chuck.net/comments_42.xml\" rel=\"nofollow\">XML File to Parse</a></p>\n\n<p>I need to access the data inside the  node and it seems like the program I have written is telling me that there is nothing inside the node. Here is my code:</p>\n\n<pre><code>import urllib\nimport xml.etree.ElementTree as ET \n\n#prompt for link where xml data resides\n#Use this link for testing: http://python-data.dr-chuck.net/comments_42.xml\nurl = raw_input('Enter URL Link: ')\n\n#open url and prep for parsing\ndata = urllib.urlopen(url).read()\n\n#read url data and convert to XML Node Tree for parsing\ncomments = ET.fromstring(data)\n\n#the comment below is part of another approach to the solution\n#both approaches are leading me into the same direction\n#it appears as if the data inside the node is not being parsed/extracted\n#counts = comments.findall('comments/comment/count')\n\nfor count in comments.findall('count'):\n    print comments.find('count').text\n</code></pre>\n\n<p>When i print out the 'data' variable alone, i get the complete XML tree. However, when I try to access the data inside a particular node, the node comes back empty.</p>\n\n<p>I also tried printing the following code to see what data I would get back:</p>\n\n<pre><code>for child in comments:\n    print child.tag, child.attrib\n</code></pre>\n\n<p>the output i got was:</p>\n\n<blockquote>\n  <p>note\n  {}\n  comments\n  {}</p>\n</blockquote>\n\n<p>What am i doing wrong, and what am i missing?</p>\n\n<p>one of the errors i get when trying a different looping strategy of accessing the node is this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"xmlextractor.py\", line 16, in &lt;module&gt;\n    print comments.find('count').text\nAttributeError: 'NoneType' object has no attribute 'text'\n</code></pre>\n\n<p>Please help and thanks!!!</p>\n\n<p>UPDATE:</p>\n\n<p>Ive realized in looking through the etree docs for python that my approach has been trying to 'get' the node attributes instead of the contents of the nodes. I still havent found an answer but i am definitely closer!!!</p>\n\n<p>2nd UPDATE:</p>\n\n<p>so i tried out this code:</p>\n\n<pre><code>import urllib\nimport xml.etree.ElementTree as ET \n\n#prompt for link where xml data resides\n#Use this link for testing: http://python-data.dr-chuck.net/comments_42.xml\n\nurl = raw_input('Enter URL Link: ')\n\n#open url and prep for parsing\ndata = urllib.urlopen(url).read()\n\n#read url data and convert to XML Node Tree for parsing\ncomments = ET.fromstring(data)\n\ncounts = comments.findall('comments/comment/count')\n\nprint len(counts)\n\nfor count in counts:\n    print 'count', count.find('count').text\n</code></pre>\n\n<p>from above, when i run this code my:</p>\n\n<pre><code>print len(counts)\n</code></pre>\n\n<p>outputs that i have 50 nodes in my counts list, but i still get the same error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"xmlextractor.py\", line 18, in &lt;module&gt;\n    print 'count', count.find('count').text\nAttributeError: 'NoneType' object has no attribute 'text'\n</code></pre>\n\n<p>i dont understand why it says that there is no 'text' attribute when i am trying to access the contents of the  node.</p>\n\n<p>What am I doing wrong??</p>\n"}, {"tags": ["python", "user-interface", "pyqt", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 2251, "user_id": 3477005, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/x9tik.jpg?s=128&g=1", "display_name": "Daniele Pantaleone", "link": "https://stackoverflow.com/users/3477005/daniele-pantaleone"}, "is_accepted": false, "score": 0, "last_activity_date": 1471507365, "creation_date": 1471507365, "answer_id": 39012849, "question_id": 39006733, "link": "https://stackoverflow.com/questions/39006733/implement-dragmoveevent-on-qwidget-in-pyqt5/39012849#39012849", "title": "Implement dragMoveEvent on QWidget in pyqt5?", "body": "<p>I think you are looking for <a href=\"http://doc.qt.io/qt-5/qwidget.html#mousePressEvent\" rel=\"nofollow\">mousePressEvent</a> rather than <a href=\"http://doc.qt.io/qt-5/qwidget.html#dragMoveEvent\" rel=\"nofollow\">dragMoveEvent</a>. You would need to subclass <code>QWidget</code> and implement the <code>mousePressEvent</code> method providing your implementation:</p>\n\n<pre><code>from PyQt5.QtWidgets import QWidget\n\nclass MyWidget(QWidget):\n\n    def mousePressEvent(self, event):\n        print(event.pos())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1471577036, "creation_date": 1471577036, "answer_id": 39030627, "question_id": 39006733, "link": "https://stackoverflow.com/questions/39006733/implement-dragmoveevent-on-qwidget-in-pyqt5/39030627#39030627", "title": "Implement dragMoveEvent on QWidget in pyqt5?", "body": "<p>This has got nothing to do with dragging. What you actually need to do is enable mouse-tracking and then monitor mouse-move events.</p>\n\n<p>Here's a simple demo:</p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\n\nclass Window(QtWidgets.QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n        self.setMouseTracking(True)\n\n    def mouseMoveEvent(self, event):\n        if event.buttons() &amp; QtCore.Qt.LeftButton:\n            print(event.globalPos().x(), event.globalPos().y())\n\nif __name__ == '__main__':\n\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(500, 150, 100, 100)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 4541331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4HzCC.png?s=128&g=1", "display_name": "Sens4", "link": "https://stackoverflow.com/users/4541331/sens4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 39030627, "answer_count": 2, "score": 1, "last_activity_date": 1471577036, "creation_date": 1471470170, "question_id": 39006733, "link": "https://stackoverflow.com/questions/39006733/implement-dragmoveevent-on-qwidget-in-pyqt5", "title": "Implement dragMoveEvent on QWidget in pyqt5?", "body": "<p>does anyone know how I can implement the dragMove event on my QWidget? So basically what I want is to move my mouse over the Widget hold down my mouse button and drag it. While dragging, the widget should not be moved it should only capture the mouse coordinates while the mouse is pressed.</p>\n\n<p>I have already googled and just find some drag and drop tutorials where they have dragged something into a widget etc. like text. This wasn't really helpful.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1471470975, "post_id": 39006715, "comment_id": 65365446, "body": "did you try to do a profiling? what is the slowest part? multiprocessing is NOT a remedy for everything - sometimes it makes it even slower... What is the speed of your IO system?"}, {"owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1471471566, "post_id": 39006715, "comment_id": 65365688, "body": "I agree with @MaxU, if you&#39;re just reading/writing on a single machine I suspect that disk I/O might be the bottleneck (which isn&#39;t fixed through parallelization)"}, {"owner": {"reputation": 1738, "user_id": 6222331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/06276ad178fb56dda7fee5a0ff1ae048?s=128&d=identicon&r=PG&f=1", "display_name": "dleal", "link": "https://stackoverflow.com/users/6222331/dleal"}, "edited": false, "score": 0, "creation_date": 1471471795, "post_id": 39006715, "comment_id": 65365777, "body": "HI, thank you for your replies. Indeed the slowest part is reading the files. I was hoping I would be able to read one file in each core, process them, and then append them to the same csv file."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1471472181, "post_id": 39006715, "comment_id": 65365914, "body": "If i were you i would consider moving the data to some relational DB (MySQL, PostgreSQL) or to use HDF files instead of CSV files - they are usually much faster. <a href=\"http://stackoverflow.com/a/37012035/5741205\">Here is the result of my comparison</a>"}, {"owner": {"reputation": 1738, "user_id": 6222331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/06276ad178fb56dda7fee5a0ff1ae048?s=128&d=identicon&r=PG&f=1", "display_name": "dleal", "link": "https://stackoverflow.com/users/6222331/dleal"}, "edited": false, "score": 0, "creation_date": 1471472906, "post_id": 39006715, "comment_id": 65366149, "body": "thank you both. I&#39;ve been exploring Dask and HDF5. I havent been able to figure out how to use them to use Pandas with datasets that I cant fit in memory"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1471475313, "post_id": 39006715, "comment_id": 65366825, "body": "@dleal, <a href=\"http://stackoverflow.com/a/38472574/5741205\">here</a> is an example of &quot;How to import a gzip file larger than RAM limit into a Pandas DataFrame and write it to HDF5&quot;"}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1471477742, "post_id": 39006715, "comment_id": 65367482, "body": "@dleal, your task is not CPU heavy, and you intend to write to a single output file which means you&#39;ll have to use an output buffer. The former means that cores will just be waiting on the file to be read before performing a computation which takes a few milliseconds, then wait on the output buffer to dump the results. The latter will have to set locks, or manage queues which will just increase the overhead. So multiprocessing will probably slow things down even more... Best use HDF5 for your task."}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1471477961, "post_id": 39006715, "comment_id": 65367529, "body": "Not to mention that you are on a Windows machine, and Windows has its own weird way of handling processes spawning other processes and communications between them. You will end up with a huge memory bloat that will crash your machine or too convoluted a code to run fast and efficiently. To write a proper MP program that handles all these things will require days of development. Again better off with HDF5 which you can piece together in less than a couple of hours of development time."}, {"owner": {"reputation": 1738, "user_id": 6222331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/06276ad178fb56dda7fee5a0ff1ae048?s=128&d=identicon&r=PG&f=1", "display_name": "dleal", "link": "https://stackoverflow.com/users/6222331/dleal"}, "edited": false, "score": 0, "creation_date": 1471478063, "post_id": 39006715, "comment_id": 65367551, "body": "Thank you Kartik, I appreciate your reply. I am looking into HDF5 now. Also, thanks to MaxU for the link."}], "owner": {"reputation": 1738, "user_id": 6222331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/06276ad178fb56dda7fee5a0ff1ae048?s=128&d=identicon&r=PG&f=1", "display_name": "dleal", "link": "https://stackoverflow.com/users/6222331/dleal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471470056, "creation_date": 1471470056, "question_id": 39006715, "link": "https://stackoverflow.com/questions/39006715/read-several-csv-files-on-pandas-do-operations-and-append-to-csv-file-multiproce", "title": "Read several CSV files on pandas do operations and append to csv file multiprocessing", "body": "<p>my following code reads several csv files in one folder, filters according the value in a column, and then appends the resulting dataframe to a csv file. Given that there are about 410 files 130 MB each, this code currently takes about 30 min. I was wondering if there is a quick way to make it faster my using a multiprocessing library. Could you offer me some tips on how to get it started? thank you</p>\n\n<pre><code>import pandas as pd\nimport glob\n\npath =r'C:\\Users\\\\Documents\\\\'\nallfiles = glob.glob(path + \"*.csv\")\n\nwith open('test.csv','w') as f:\n    for i,file in enumerate(allfiles):\n        df = pd.read_csv(file,index_col=None, header=0)\n        df.sort_values(['A','B','C'], ascending = True, inplace = True)\n        df['D'] = df.groupby(['A','B'])['C'].fillna(method = 'ffill')\n        df[(df['D'] == 1) | (df['D'] == 0)].to_csv(f, header = False)\n\n        print i\n    print \"Done\"\n</code></pre>\n"}, {"tags": ["python", "dictionary", "optimization"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1471470552, "post_id": 39006706, "comment_id": 65365294, "body": "A dictionary whose keys are sequential numbers starting from <code>0</code> is essentially just a list."}, {"owner": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1471470617, "post_id": 39006706, "comment_id": 65365315, "body": "It is just for demonstration :) though naturally you are correct of course."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471470848, "post_id": 39006706, "comment_id": 65365394, "body": "I notice you retrieve <code>subParts[0]</code> and <code>parts[&#39;thing&#39;]</code> every iteration, It might make sense to store those ahead of time (<code>relevant_part = parts[&quot;thing&quot;]</code>) would simplify that statement and reduce repetitive lookups."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1471471055, "post_id": 39006706, "comment_id": 65365478, "body": "actually, if <code>parts[&#39;thing&#39;]</code> is a (ordered) sequence you could do <code>for M in map(subParts[0].get, parts[&quot;thing&quot;]):</code> to iterate over all the <code>M</code> objects."}, {"owner": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "edited": false, "score": 0, "creation_date": 1471471138, "post_id": 39006706, "comment_id": 65365522, "body": "Right.. that is infinitely more intelligent than what I am doing. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 3, "last_activity_date": 1471470483, "creation_date": 1471470483, "answer_id": 39006790, "question_id": 39006706, "link": "https://stackoverflow.com/questions/39006706/return-multiple-instances-from-an-object-in-python/39006790#39006790", "title": "Return multiple instances from an object in python", "body": "<pre><code>def getdata(m):\n    return [m.getItem1(), m.getItem2(), m.getItem3(), m.getItem4()]\n\nmyDict = {i: getdata(subParts[0].get(parts['thing'][i])) for i in range(1000)}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "edited": false, "score": 0, "creation_date": 1471471470, "post_id": 39006958, "comment_id": 65365652, "body": "The <code>from operator import attrgetter</code> approach seemed more elegant? How come that is not advisable?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "edited": false, "score": 0, "creation_date": 1471471575, "post_id": 39006958, "comment_id": 65365694, "body": "it retrieves <code>M.getItem1</code> bound method but <i>doesn&#39;t call it</i>, attrgetter wasn&#39;t meant for that so adding that step wouldn&#39;t be easy."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "edited": false, "score": 0, "creation_date": 1471471846, "post_id": 39006958, "comment_id": 65365790, "body": "using <code>attrgetter</code> would have been perfect if you were retrieving attributes like <code>M.Item1</code> but getting a tuple of bound methods wouldn&#39;t have helped in this scenario."}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": true, "score": 1, "last_activity_date": 1471471913, "last_edit_date": 1471471913, "creation_date": 1471471393, "answer_id": 39006958, "question_id": 39006706, "link": "https://stackoverflow.com/questions/39006706/return-multiple-instances-from-an-object-in-python/39006958#39006958", "title": "Return multiple instances from an object in python", "body": "<p>Assuming that <code>parts['thing']</code> is an ordered sequence that can be iterated over, you can use <code>map</code> to call <code>subParts[0].get</code> on each element of <code>parts['thing']</code> so iterating over each <code>M</code> object could be done like this:</p>\n\n<pre><code>for M in map(subParts[0].get, parts['thing']):\n    ...\n</code></pre>\n\n<p>Note that this will return a list in python 2 so using <code>itertools.imap</code> would be preferable.</p>\n\n<p>To put it into dict comprehension you would just do:</p>\n\n<pre><code>stuff = {i:[M.getItem1(),\n            M.getItem2(),\n            M.getItem3(),\n            M.getItem4()]\n         for i,M in enumerate(map(subParts[0].get, parts['thing']))}\n</code></pre>\n"}], "owner": {"reputation": 1564, "user_id": 3126402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c2502d74600c9f320495ae855f98134?s=128&d=identicon&r=PG&f=1", "display_name": "Astrid", "link": "https://stackoverflow.com/users/3126402/astrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 39006958, "answer_count": 2, "score": 2, "last_activity_date": 1471471913, "creation_date": 1471470032, "last_edit_date": 1471470790, "question_id": 39006706, "link": "https://stackoverflow.com/questions/39006706/return-multiple-instances-from-an-object-in-python", "title": "Return multiple instances from an object in python", "body": "<p>This question has no doubt been asked before, but I am not entirely sure how to search for it (since I do not know what it is called). So apologies in advance.</p>\n\n<p>Alas, my problem is that I have a huge amount of objects </p>\n\n<pre><code>for i in range(1000):\n    M = subParts[0].get(parts['thing'][i])\n</code></pre>\n\n<p>Each <code>M</code> is an object that contains a lot of info about this model, now my job is to call four separate functions on this object, so that those functions can return four simple numbers as so:</p>\n\n<pre><code>for i in range(1000):\n    M = subParts[0].get(parts['thing'][i])\n    M.getItem1()\n    M.getItem2()\n    M.getItem3()\n    M.getItem4()\n</code></pre>\n\n<p>each of which returns a number, e.g.</p>\n\n<pre><code>4.5\n5.7\n3.7\n2.9\n</code></pre>\n\n<p>My question is thus, what is an efficient way to do this? The above is very ugly but works, but there must be more efficient methods. Upon which I would just like to store the whole lot in a dictionary as so </p>\n\n<pre><code>myDict = { 0 : [4.5,5.7,3.7,2.9], ... , 999 : [2.5,3.7,5.7,2.9] }\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "heroku", "flask", "bots", "kik"], "comments": [{"owner": {"reputation": 674, "user_id": 1615426, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40608f86f41cc625c147918fdfd483c0?s=128&d=identicon&r=PG", "display_name": "lonewaft", "link": "https://stackoverflow.com/users/1615426/lonewaft"}, "edited": false, "score": 0, "creation_date": 1471471137, "post_id": 39006692, "comment_id": 65365521, "body": "what do the logs say?"}, {"owner": {"reputation": 129, "user_id": 2598152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c0d611708c2edb457ddecae0befd34?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2598152/bob"}, "reply_to_user": {"reputation": 674, "user_id": 1615426, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40608f86f41cc625c147918fdfd483c0?s=128&d=identicon&r=PG", "display_name": "lonewaft", "link": "https://stackoverflow.com/users/1615426/lonewaft"}, "edited": false, "score": 0, "creation_date": 1471475352, "post_id": 39006692, "comment_id": 65366840, "body": "@lonewaft I can screenshot the log, <a href=\"http://i67.tinypic.com/be81z9.png\" rel=\"nofollow noreferrer\">heroku log</a>. It looks like everything is fine. I just wish there was a way to debug it or see why the bot isn&#39;t responding locally."}, {"owner": {"reputation": 674, "user_id": 1615426, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40608f86f41cc625c147918fdfd483c0?s=128&d=identicon&r=PG", "display_name": "lonewaft", "link": "https://stackoverflow.com/users/1615426/lonewaft"}, "edited": false, "score": 0, "creation_date": 1471475401, "post_id": 39006692, "comment_id": 65366857, "body": "Those are just the logs for deployment, what about while it&#39;s running on the server?"}, {"owner": {"reputation": 129, "user_id": 2598152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c0d611708c2edb457ddecae0befd34?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2598152/bob"}, "reply_to_user": {"reputation": 674, "user_id": 1615426, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/40608f86f41cc625c147918fdfd483c0?s=128&d=identicon&r=PG", "display_name": "lonewaft", "link": "https://stackoverflow.com/users/1615426/lonewaft"}, "edited": false, "score": 0, "creation_date": 1471475700, "post_id": 39006692, "comment_id": 65366946, "body": "@lonewaft <a href=\"https://s3.postimg.org/681q01a03/Screen_Shot_2016_08_17_at_6_13_42_PM.png\" rel=\"nofollow noreferrer\">[Local server log</a>] This is all that shows up when I run it locally, even when I&#39;ve made a POST by messaging the bot on my phone."}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 2598152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c0d611708c2edb457ddecae0befd34?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2598152/bob"}, "is_accepted": true, "score": 1, "last_activity_date": 1471533615, "creation_date": 1471533615, "answer_id": 39021935, "question_id": 39006692, "link": "https://stackoverflow.com/questions/39006692/deploying-kik-bot-to-heroku-not-working/39021935#39021935", "title": "deploying kik bot to heroku not working", "body": "<p>I figured out the issue. I had set the wrong environmental variables for my heroku deployment, so it threw a keyerror because it couldn't find the key and stopped the process. </p>\n"}], "owner": {"reputation": 129, "user_id": 2598152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c0d611708c2edb457ddecae0befd34?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/2598152/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 1, "accepted_answer_id": 39021935, "answer_count": 1, "score": 1, "last_activity_date": 1471533615, "creation_date": 1471469968, "question_id": 39006692, "link": "https://stackoverflow.com/questions/39006692/deploying-kik-bot-to-heroku-not-working", "title": "deploying kik bot to heroku not working", "body": "<p>I've been trying to deploy my kik api to heroku, but it just isn't working. I've set up my procfile, my requirements.txt file, my runtime.txt file, and it shows up on my machine as running fine. However, when I open the kik app on my phone and try to message the bot, the messages aren't sent and it is not echoing my message. By Using ngrok as a webhook, I was able to get the bot to work and echo the messages just fine. However, when I tried deploying to heroku, it didn't work at all. For reference, the kik bot is written using flask and the kik api, here is my code </p>\n\n<pre><code>from flask import Flask, request, Response\nimport os \nfrom kik import KikApi, Configuration\nfrom kik.messages import messages_from_json, TextMessage\n\napp = Flask(__name__)\nBOT_USERNAME = os.environ['BOT_USERNAME'] \nBOT_API_KEY= os.environ['BOT_API_KEY']\nkik = KikApi(BOT_USERNAME, BOT_API_KEY)\nconfig = Configuration(webhook=os.environ['WEBHOOK'])\nkik.set_configuration(config)\n@app.route('/', methods=['POST'])\n    def incoming():\n        if not kik.verify_signature(request.headers.get('X-Kik-Signature'), request.get_data()):\n            return Response(status=403) \n\n    messages = messages_from_json(request.json['messages'])\n\n    for message in messages:\n        if isinstance(message, TextMessage):\n            kik.send_messages([\n                    TextMessage(\n                    to=message.from_user,\n                    chat_id=message.chat_id,\n                    body=message.body\n                    )\n            ])\n\n    return Response(status=200)\n\nif __name__ == '__main__':\n    # Bind to PORT if defined, otherwise default to 5000.\n    print('HI') \n    port = int(os.environ.get('PORT', 5000))\n    app.run(host='0.0.0.0', port=port)\n</code></pre>\n\n<p>Here is my requirements.txt </p>\n\n<pre><code>Flask==0.11.1\nkik==1.1.0\ngunicorn==19.6.0\n</code></pre>\n\n<p>Here is my runtime.txt </p>\n\n<pre><code>python-2.7.12\n</code></pre>\n\n<p>Here is my procfile </p>\n\n<pre><code>web: python bot.py\n</code></pre>\n\n<p>I set up the webhook variable to be the heroku URL. When I run the app locally, it seems to be running just fine. </p>\n\n<p><a href=\"http://i.stack.imgur.com/5aFXh.png\" rel=\"nofollow\">Heroku local app</a></p>\n\n<p>Any help is greatly appreciated. </p>\n"}, {"tags": ["python", "arrays", "json"], "comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1471470255, "post_id": 39006669, "comment_id": 65365177, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/33308538/how-to-extract-specific-multiple-values-in-json-using-python\">How to extract specific multiple values in JSON using python?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "edited": false, "score": 1, "creation_date": 1471470232, "post_id": 39006696, "comment_id": 65365168, "body": "Thank you! This works, but others are a bit cleaner!"}, {"owner": {"reputation": 2154, "user_id": 2312075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2VYN.jpg?s=128&g=1", "display_name": "saarrrr", "link": "https://stackoverflow.com/users/2312075/saarrrr"}, "reply_to_user": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "edited": false, "score": 0, "creation_date": 1471470284, "post_id": 39006696, "comment_id": 65365187, "body": "Yes, they sure are!"}], "tags": [], "owner": {"reputation": 2154, "user_id": 2312075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2VYN.jpg?s=128&g=1", "display_name": "saarrrr", "link": "https://stackoverflow.com/users/2312075/saarrrr"}, "is_accepted": false, "score": 3, "last_activity_date": 1471469992, "creation_date": 1471469992, "answer_id": 39006696, "question_id": 39006669, "link": "https://stackoverflow.com/questions/39006669/how-to-get-all-of-the-ids-within-a-python-array/39006696#39006696", "title": "How to get all of the &quot;ids&quot; within a python array", "body": "<p>This should work.  Im sure there is a more elegant way with map or list comprehension.</p>\n\n<pre><code>ids = []\n\nfor elem in data['result']['elements']:\n  ids.append(elem['id'])\n</code></pre>\n\n<p>If you want to evaluate this lazily, make a generator comprehension!</p>\n\n<p><code>ids = (element['id'] for element in data['result']['elements'])</code></p>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 1041560, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a27cd1cf047c118fb88304ff1d5dd368?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn de Munnik", "link": "https://stackoverflow.com/users/1041560/martijn-de-munnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1471470001, "creation_date": 1471470001, "answer_id": 39006699, "question_id": 39006669, "link": "https://stackoverflow.com/questions/39006669/how-to-get-all-of-the-ids-within-a-python-array/39006699#39006699", "title": "How to get all of the &quot;ids&quot; within a python array", "body": "<p>You can use this oneliner:</p>\n\n<pre><code>ids = [element['id'] for element in data['result']['elements']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "is_accepted": false, "score": 2, "last_activity_date": 1471470055, "creation_date": 1471470055, "answer_id": 39006714, "question_id": 39006669, "link": "https://stackoverflow.com/questions/39006669/how-to-get-all-of-the-ids-within-a-python-array/39006714#39006714", "title": "How to get all of the &quot;ids&quot; within a python array", "body": "<p>How about:</p>\n\n<pre><code>ids = [element['id'] for element in data['result']['elements']]\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4630, "favorite_count": 1, "accepted_answer_id": 39006699, "answer_count": 3, "score": 3, "last_activity_date": 1471470055, "creation_date": 1471469814, "question_id": 39006669, "link": "https://stackoverflow.com/questions/39006669/how-to-get-all-of-the-ids-within-a-python-array", "title": "How to get all of the &quot;ids&quot; within a python array", "body": "<p>So I am pulling some json data using an API and it initially looks like this:</p>\n\n<pre><code>{\n \"result\": {\n\"elements\": [\n  {\n    \"id\": \"SV_3s0FmbrNancSmsB\",\n    \"name\": \"Test Survey\",\n    \"ownerId\": \"sdfsdfasdf\",\n    \"lastModified\": \"2016-08-09T21:33:27Z\",\n    \"isActive\": false\n  },\n  {\n    \"id\": \"SV_dgJOVyJvwZR0593\",\n    \"name\": \"Test Survey\",\n    \"ownerId\": \"sdfdsfsdfs\",\n    \"lastModified\": \"2016-08-04T17:53:37Z\",\n    \"isActive\": true\n  }\n],\n\"nextPage\": null\n  },\n \"meta\": {\n \"httpStatus\": \"200 - OK\"\n}\n}\n</code></pre>\n\n<p>So I want to pull all of the ids within this JSON using Python, and here is my code:</p>\n\n<pre><code>url = \"random.com\"\n\nheaders = {\n'x-api-token': \"dsfsdagdfa\"\n}\n\nresponse = requests.get(url, headers=headers)\n\ndata = json.loads(response.text)\n\nid_0 = data['result']['elements'][0]['id']\n\nprint(id_0)\n</code></pre>\n\n<p>This will basically just print the first Id within the created array. What would I do to get all of the ids?</p>\n"}, {"tags": ["python", "json", "pandas"], "comments": [{"owner": {"reputation": 88, "user_id": 6669476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEfDd.jpg?s=128&g=1", "display_name": "ChE", "link": "https://stackoverflow.com/users/6669476/che"}, "edited": false, "score": 2, "creation_date": 1471470136, "post_id": 39006663, "comment_id": 65365133, "body": "What is wrong with <code>pandas.DataFrame.to_json</code>?"}, {"owner": {"reputation": 1559, "user_id": 6065920, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b25c1982647085298b38eedf797c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "ldevyataykina", "link": "https://stackoverflow.com/users/6065920/ldevyataykina"}, "reply_to_user": {"reputation": 88, "user_id": 6669476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEfDd.jpg?s=128&g=1", "display_name": "ChE", "link": "https://stackoverflow.com/users/6669476/che"}, "edited": false, "score": 0, "creation_date": 1471470256, "post_id": 39006663, "comment_id": 65365178, "body": "First I need to change this df. I need if there are no strings with month from 12.2013 to 06.2016, write this month with val == 0  @ChE"}, {"owner": {"reputation": 88, "user_id": 6669476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEfDd.jpg?s=128&g=1", "display_name": "ChE", "link": "https://stackoverflow.com/users/6669476/che"}, "edited": false, "score": 1, "creation_date": 1471470435, "post_id": 39006663, "comment_id": 65365254, "body": "Yes, I understand this. My comment was refering to second part &quot;<i>and next write it to json.</i>&quot; of your question."}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1471478300, "post_id": 39006663, "comment_id": 65367619, "body": "Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"nofollow noreferrer\"><code>resample</code></a> to get your dates correct, then use whatever you want to format your data however you want, then use <code>to_json</code>"}], "owner": {"reputation": 1559, "user_id": 6065920, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b25c1982647085298b38eedf797c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "ldevyataykina", "link": "https://stackoverflow.com/users/6065920/ldevyataykina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1471469759, "creation_date": 1471469759, "question_id": 39006663, "link": "https://stackoverflow.com/questions/39006663/pandas-write-data-to-json", "title": "Pandas: write data to json", "body": "<p>I have data frame and I want change that and next write it to <code>json</code>.</p>\n\n<pre><code>                                       ID      month   val\n0        00051f002f5a0c179d7ce191ca2c6401 2015-08-01    1\n1        00051f002f5a0c179d7ce191ca2c6401 2015-08-02    0\n2        00051f002f5a0c179d7ce191ca2c6401 2015-08-03    0\n3        00051f002f5a0c179d7ce191ca2c6401 2015-08-04    0\n4        00051f002f5a0c179d7ce191ca2c6401 2015-08-05    0\n5        00051f002f5a0c179d7ce191ca2c6401 2015-08-06    0\n6        00051f002f5a0c179d7ce191ca2c6401 2015-08-07    0\n7        00051f002f5a0c179d7ce191ca2c6401 2015-08-08    0\n8        00051f002f5a0c179d7ce191ca2c6401 2015-09-09    0\n9        00051f002f5a0c179d7ce191ca2c6401 2015-09-10    0\n10       00051f002f5a0c179d7ce191ca2c6401 2015-09-11    0\n11       00051f002f5a0c179d7ce191ca2c6401 2015-09-12    0\n</code></pre>\n\n<p>I need convert that to this </p>\n\n<pre><code>ID      month   val\n0        00051f002f5a0c179d7ce191ca2c6401 2015-08    1\n1        00051f002f5a0c179d7ce191ca2c6401 2015-09    1\n</code></pre>\n\n<p>If some of day in month == 1, I need write that month == 0. If not, I should write 0, and if since 12.2013 to 30.2016 are not information about some month some, I should write 0.\nAnd next I try to write it to json, I try </p>\n\n<pre><code>df['month'] = pd.to_datetime(df.month).dt.to_period('m').dt.strftime('%Y-%m')\n</code></pre>\n\n<p>but it only replace data in <code>month</code>. \nNext I try <code>df = df.groupby(['ID', df.month.dt.strftime('%Y-%m')]).agg(lambda v: (v == 1).any().astype(int)).reset_index()</code> but it doesn't print all month in this interval. \nAnd try write to json </p>\n\n<pre><code>nielson_june = StringIO.StringIO()\nd = df.groupby('ID')['month', 'val'].apply(lambda x:   pd.Series(x.set_index('month')['val'].to_dict())).to_json(nielson_june, orient='index')\nwith open('nielsen-telecom','w') as f:\n   json.dump(json.loads(nielson_june.getvalue()), f, indent=2, sort_keys=True)\n</code></pre>\n\n<p>How can I do that?</p>\n"}, {"tags": ["python", "model-view-controller", "flask", "jinja2", "backend"], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "edited": false, "score": 0, "creation_date": 1471471967, "post_id": 39006974, "comment_id": 65365833, "body": "I have this row in another table as a foreign key, this is caused the problem ? bookmarks = db.relationship(&#39;Bookmark&#39;, backref=&#39;user&#39;, lazy=&#39;dynamic&#39;)"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 1, "last_activity_date": 1471478763, "last_edit_date": 1471478763, "creation_date": 1471471498, "answer_id": 39006974, "question_id": 39006653, "link": "https://stackoverflow.com/questions/39006653/if-statement-always-true-jinja2-template/39006974#39006974", "title": "If statement always True Jinja2 Template", "body": "<p>The problem is that a query is lazy, i.e., it doesn't execute until you begin iterating over it. Therefore it has no idea how many records are in it at the point you're testing its truthiness. By default most objects in Python are truthy, and this applies to queries as well.</p>\n\n<p>To work around this, use:</p>\n\n<pre><code>return Bookmark.query.order_by(desc(Bookmark.date)).limit(num).all()\n</code></pre>\n\n<p>The <code>.all()</code> executes the query and puts the results into a list. Lists are falsy when they are empty. Since this is a small query, the drawbacks to having the results in memory all at once are minor.</p>\n"}], "owner": {"reputation": 1909, "user_id": 1882864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3yvDf.jpg?s=128&g=1", "display_name": "iKamy", "link": "https://stackoverflow.com/users/1882864/ikamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 39006974, "answer_count": 1, "score": 0, "last_activity_date": 1471478763, "creation_date": 1471469727, "question_id": 39006653, "link": "https://stackoverflow.com/questions/39006653/if-statement-always-true-jinja2-template", "title": "If statement always True Jinja2 Template", "body": "<p>I'm not sure what exactly the problem is but the concept is when my function execute it should fetch a query list from database and if It doesnt contain any object it should return False and the else part should execute</p>\n\n<p>The first part works but even when my database is empty it passes True,</p>\n\n<pre><code>{% if new_bookmarks %}\n     &lt;div id='newBookmarks'&gt;\n        {% for bm in new_bookmarks %}\n            &lt;a href='{{ bm.url }}'&gt;&lt;span&gt;{{ bm.user.username }}&lt;/span&gt; \n            Added: {{ bm.url }} &lt;span&gt;{{ bm.description }}&lt;/span&gt;&lt;/a&gt;\n        {% endfor %}\n    &lt;/div&gt;\n{% else %}\n    &lt;div&gt;\n        Something else\n    &lt;/div&gt;\n{% endif %}\n</code></pre>\n\n<hr>\n\n<pre><code>@app.route('/')\n@app.route('/index')\ndef index():\n    return render_template('index.html', new_bookmarks=Bookmark.newest(5))\n</code></pre>\n\n<hr>\n\n<pre><code>class Bookmark(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    url = db.Column(db.Text, nullable=False)\n    date = db.Column(db.DateTime, default=datetime.utcnow)\n    description = db.Column(db.String(300))\n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n\n    @staticmethod\n    def newest(num):\n        return Bookmark.query.order_by(desc(Bookmark.date)).limit(num)\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "edited": false, "score": 0, "creation_date": 1471533328, "post_id": 39006647, "comment_id": 65394085, "body": "What would be helpful is to know why the downvotes? I am new to the forum and asking questions especially with some research and explaining approaches should be encouraged. This saddens me and what is worse is people who downvoted left no comments."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "edited": false, "score": 0, "creation_date": 1471541360, "post_id": 39007920, "comment_id": 65399158, "body": "Thank you @Blckknght I will definitely test out this approach and let you know the results, appreciate your help, still do not have enough points to vote up your answer."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 0, "last_activity_date": 1471477766, "creation_date": 1471477766, "answer_id": 39007920, "question_id": 39006647, "link": "https://stackoverflow.com/questions/39006647/splitting-a-list-of-file-names-in-a-predefined-ratio/39007920#39007920", "title": "Splitting a list of file names in a predefined ratio", "body": "<p>If I understand the situation correctly, your trying to partition the same proportion of each filename prefix's files. Your current method selects the correct proportion from the whole set of files, but it doesn't consider the different filename prefixes, so it may not get them in the correct proportion (though it will probably be somewhat close, most of the time).</p>\n\n<p>Your second approach avoids that issue by first separating the filenames by prefix, then partitioning each sublist. But if you want a combined list with all the prefixes together, this approach may end up wasting time copying data around, since you have to separate out and then recombine the separate lists by prefix.</p>\n\n<p>I think you can do what you want with a single loop over the filenames. You'll need to keep track of two data points for each filename prefix: The number of files with that prefix you've selected for the first sample and the total number of files with that prefix that you've seen.</p>\n\n<pre><code>ratio = 0.7\nprefix_dict = {} # values are lists: [number_selected_for_first_list, total_number_seen]\nfirst_sample = [] # gets a proportion of the files equal to ratio (for each prefix)\nsecond_sample = [] # gets the rest of the files\n\nfor filename in list_of_files:\n    prefix = filename.split(\"_\", 1)[0]\n    selected_seen = prefix_dict.setdefault(prefix, [0, 0])\n    selected_seen[1] += 1\n\n    if selected_seen[0] &lt; round(ratio * selected_seen[1]):\n        first_sample.append(filename)\n        selected_seen[0] += 1\n    else:\n        second_sample.append(filename)\n</code></pre>\n\n<p>The only tricky part to this code is the use of <code>dict.setdefault</code> to fetch the <code>selected_seen</code> list. It if the requested <code>prefix</code> didn't yet exist in the dictionary, a new value (<code>[0, 0]</code>) will be added to the dictionary under that key (and returned). The later code modifies the list in place.</p>\n\n<p>Depending on how exactly you want to handle inexact proportions, you can change the <code>if</code> condition a bit. I put in a <code>round</code> call (which I think will partition most accurately), but the code would work OK without it (biasing the selection towards the second sample) or with <code>selected_seen[0] &lt;= int(ratio * selected_seen[1])</code> (biasing towards the first sample).</p>\n\n<p>Note that whichever way you choose to round when partitioning each prefix, there's the possibility that the separate prefixes will all end up unbalanced in the same direction, making the overall samples unbalanced by more than you'd normally expect. For instance, if you had ten prefixes with ten files (for 100 files total), a ratio of 7.5 would result in final sample lists of 80 and 20 files rather than 75 and 25. That happens since each of the prefixes gets partitioned 8 and 2 (7.5 rounds up). If every file had a unique prefix, you'd end up with everything in the first sample! If it's very important that the overall samples be the right sizes, you might need to fudge the sampling of the items a bit, based on the overall sample sizes.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1472591640, "creation_date": 1472591640, "answer_id": 39237188, "question_id": 39006647, "link": "https://stackoverflow.com/questions/39006647/splitting-a-list-of-file-names-in-a-predefined-ratio/39237188#39237188", "title": "Splitting a list of file names in a predefined ratio", "body": "<p>I figured out a good solution to this problem.</p>\n\n<pre><code>all_file_names = {}\n\n# ObjList is a list of objects but we only need  \n# file_name from that object for our solution\n\nfor x in ObjList:\n    if x.file_name not in all_file_names:\n        all_file_names[x.file_name] = 1\n    else:\n        all_file_names[x.file_name] += 1\n\ntrainingData = []\ntestData = []\ntemp_dict = {}\n\nfor x in ObjList:\n    ratio = int(0.7*all_file_names[x.file_name])+1\n    if x.file_name not in temp_dict:\n        temp_dict[x.file_name] = 1\n        trainingData.append(x)\n    else:\n        temp_dict[x.file_name] += 1\n        if(temp_dict[x.file_name] &lt; ratio):\n            trainingData.append(x)\n        else:\n            testData.append(x)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5338469, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VIQ95N3C0Tw/AAAAAAAAAAI/AAAAAAAAAAw/QyewTlcmCt8/photo.jpg?sz=128", "display_name": "Shivansh Singh", "link": "https://stackoverflow.com/users/5338469/shivansh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1472591640, "creation_date": 1471469697, "question_id": 39006647, "link": "https://stackoverflow.com/questions/39006647/splitting-a-list-of-file-names-in-a-predefined-ratio", "title": "Splitting a list of file names in a predefined ratio", "body": "<p>I am trying to form an optimized approach to splitting a list of file names(examples shortly) in a x:y ratio based on the file names. This file list was procured using os.scandir (better performance vs os.listdir, src: <a href=\"https://docs.python.org/3.5/library/os.html#os.scandir\" rel=\"nofollow\">Python Docs scandir</a>).</p>\n\n<p><strong>Example -</strong> </p>\n\n<p>Files (extension disregarded)-</p>\n\n<p>A_1,A_2,...A_10 (here A is filename and 1 is the sample number of the file)</p>\n\n<p>B_1,B_2,...B_10</p>\n\n<p>and so on</p>\n\n<p>Let's say the x:y ratio is 7:3\nSo I would like 70% of file names (A_1..A7,B_1..B_7) and 30%(A_8--A_10,B_8..B_10) in different lists, it does not matter that the first list should be in that order meaning the files could be A_1,A_9,A_5 etc as long as they are split 7 files in list 1 to 3 files in list 2. </p>\n\n<p>Now it must be noted that this directory is huge (~150k files) and the samples of each type of files vary, i.e. it maybe that files with filename A have 1000 files or it may have only 5. Also there are about 400 unique filenames.</p>\n\n<p>This current solution should not be called a solution at all as it defies the purpose of an accurate ratio for each filename. It is currently splitting the list of fileObjects(basically- name like A, number like 1, data within file A_1 and so on) as a whole in x:y ratio and taking advantage of the fact that entries are yielded in arbitrary order when using <strong>os.scandir</strong>.</p>\n\n<pre><code>ratio_number = int(len(list_of_fileObjects) *.7)\nlist_70 = list_of_fileObjects[:ratio_number]\nlist_30 = list_of_fileObjects[ratio_number:]\n</code></pre>\n\n<p>My second approach which would at least be a valid solution was to create a list separately for each filename(involves sorting the whole list of files), split it in the ratio and do this for each filename. I am looking for a more pythonic/elegant solution to this problem. Any suggestions or help would be appreciated especially considering the size of data being dealt with.</p>\n"}, {"tags": ["python", "linux", "scikit-learn", "google-compute-engine", "jupyter-notebook"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471486460, "post_id": 39006644, "comment_id": 65369609, "body": "This probably isn&#39;t the answer you&#39;re looking for but if your strike-rate in the dataset is very low, I would try undersampling the negatives until the dataset is within a managable size."}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471488308, "post_id": 39006644, "comment_id": 65370102, "body": "yes that gets part of it done but really want to understand/debug the issues outlined.."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471492699, "post_id": 39006644, "comment_id": 65371141, "body": "is the input matrix to your model sparse ? (i.e. are you calling <code>get_dummies</code> with <code>sparse=True</code> or doing anything else that might make your values a dense numpy array ?)"}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471493751, "post_id": 39006644, "comment_id": 65371427, "body": "no, I&#39;m using the pandas get dummies, does not generate sparse.."}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471494017, "post_id": 39006644, "comment_id": 65371506, "body": "so you should definately be converting your <code>DataFrame.values</code> to a <code>scipy.sparse.csr_matrix</code> matrix before you&#39;re sending it to the classifier, you can  also call <code>pd.get_dummies(df, sparse=True)</code> to decrease the memory footprint of that step"}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471533403, "post_id": 39006644, "comment_id": 65394134, "body": "Interesting and will give it a try, still does not answer the base question of scaling up to use big machines, I need some idea of how to debug the process?"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1471563518, "post_id": 39006644, "comment_id": 65408712, "body": "Well another thing to try is set <code>n_jobs=-1</code> when you initialise the <code>RandomForestClassifier</code>, this will use all the available cores to train the trees, this will speed things up if you&#39;re on a multi-core machine. also set <code>verbose=1</code> in the <code>RandomForestClassifier</code> and you should get some more debug messages"}], "owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1471530118, "creation_date": 1471469682, "last_edit_date": 1471530118, "question_id": 39006644, "link": "https://stackoverflow.com/questions/39006644/scaling-up-big-data-in-jupyter-and-scikit-learn-random-forrest", "title": "Scaling up big data in Jupyter and SciKit-Learn Random Forrest", "body": "<p>Running big data in Jupyter Notebooks with Sci-Kit Learn</p>\n\n<p>I usually try to segment my issues into specific component questions, so bear with me here! We are attempting to model some fairly sparse health conditions against pretty ordinary demographics. We have access to a lot of data, hundreds of millions of records, we would like to get up to 20 million records into a Random Forest Classifier. I have been told that sci-kit learn should be able to handle this. We are running into issues. The sort that don't generate tracebacks! Just dead processes.</p>\n\n<p>I recognize that this is not much to go on,, but what I\u2019m looking for is any advice on how to scale and or debug this process of scaling this up.</p>\n\n<p>So we want to run truly pretty big data though Jupyter notebooks and Scikit Learn, primarily Random Forest.</p>\n\n<p>On a 8gb core i7 Notebook running Linux 14.04 and Jupyter running Py 3.5 and the notebook running Python 2.7 code via conda env. (fwiw we store the data in Google Big Query, we use the Pandas Big Query connector for this which allows us to run the same code both on the local machines and in the cloud)</p>\n\n<p>I can get a 100,000 record dataset consumed and model built with a bunch of diagnostic reports and charts that we have built into the notebook, no problem. The following scenarios all use the same code and the same versions of the respective Conda environments but several different pieces of hardware in an attempt to scale up our process.</p>\n\n<p>When I expand the dataset to 1,000,000 records, I get about 95% of the way into the data load from Big query and I see a lot of pegged cpu activity and I guess what seems to be memory swap activity (viewing it on the Linux process monitor) the entire machine seems to freeze Load progress from Big Query seems to stop for an extended period of time, and the browser indicates that it has lost connection to the kernel, sometimes with the browser message indicating failed status and sometimes with the broken link icon on the Jupyter NB, amazingly, it eventually completes normally. And the output in fact gets completely rendered in the notebook.</p>\n\n<p>I tried to put some memory profiling code in using psutil, and interestingly I saw no changes as the Dataframe went through several processes, including a fairly substantial \u201cget_dummies\u201d process which expands the categorical variables into separate columns (which would presumably expand memory usage) but when doing this after an extended time the memory usage stats printed out but the model diagnostics never rendered in the browser (as they had previously) the terminal window indicated a web socket timeout and the browser froze. I finally terminated the notebook terminal.</p>\n\n<p>Interesting my colleague can process 3,000,000 records successfully on his 16gb Macbook.</p>\n\n<p>When we try to process 4,000,000 records on a 30 gb VM on Google Compute engine we get an error indicating \u201cMem error\u201d. So even a huge machine does not allow us to complete.</p>\n\n<p>I realize we could use serially built models and or spark, but we wish to use sci kit learn and Random Forrest and get through the memory issue if possible?</p>\n"}, {"tags": ["python", "bokeh"], "comments": [{"owner": {"reputation": 25119, "user_id": 2166823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/daI9F.jpg?s=128&g=1", "display_name": "joelostblom", "link": "https://stackoverflow.com/users/2166823/joelostblom"}, "edited": false, "score": 0, "creation_date": 1590641575, "post_id": 39006611, "comment_id": 109757322, "body": "If the issue is that the legend is obscuring data points, you can place it outside the plot area as shown here <a href=\"https://stackoverflow.com/questions/46730609/position-the-legend-outside-the-plot-area-with-bokeh/62057260\" title=\"position the legend outside the plot area with bokeh\">stackoverflow.com/questions/46730609/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3715, "user_id": 3915498, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd4657c6fe39c4d840fcc22c20ef5042?s=128&d=identicon&r=PG&f=1", "display_name": "user666", "link": "https://stackoverflow.com/users/3915498/user666"}, "edited": false, "score": 0, "creation_date": 1471477625, "post_id": 39006816, "comment_id": 65367440, "body": "Sorry if I wasn&#39;t clear, I wanted the legend to position itself automatically, not manually by specifying a location. Did you see the link in the question?"}], "tags": [], "owner": {"reputation": 1964, "user_id": 4962195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZJH7.jpg?s=128&g=1", "display_name": "Luke Canavan", "link": "https://stackoverflow.com/users/4962195/luke-canavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574493460, "last_edit_date": 1574493460, "creation_date": 1471470674, "answer_id": 39006816, "question_id": 39006611, "link": "https://stackoverflow.com/questions/39006611/automatic-legend-placement-in-bokeh/39006816#39006816", "title": "Automatic Legend Placement in Bokeh", "body": "<p>Yes. Just set the legend.location attribute as one of the enumerable locations (i.e. 'top_left' or 'bottom_right'):</p>\n\n<p><a href=\"http://docs.bokeh.org/en/latest/docs/reference/models/annotations.html#bokeh.models.annotations.Legend.location\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/latest/docs/reference/models/annotations.html#bokeh.models.annotations.Legend.location</a></p>\n"}, {"tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": false, "score": 1, "last_activity_date": 1508258170, "creation_date": 1508258170, "answer_id": 46795053, "question_id": 39006611, "link": "https://stackoverflow.com/questions/39006611/automatic-legend-placement-in-bokeh/46795053#46795053", "title": "Automatic Legend Placement in Bokeh", "body": "<p>As of Bokeh <code>0.12.10</code>, <a href=\"https://stackoverflow.com/questions/39006611/automatic-legend-placement-in-bokeh\">Automatic Legend Placement in Bokeh</a> is still an open feature request that has not yet been implemented.</p>\n"}], "owner": {"reputation": 3715, "user_id": 3915498, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bd4657c6fe39c4d840fcc22c20ef5042?s=128&d=identicon&r=PG&f=1", "display_name": "user666", "link": "https://stackoverflow.com/users/3915498/user666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1574493460, "creation_date": 1471469537, "question_id": 39006611, "link": "https://stackoverflow.com/questions/39006611/automatic-legend-placement-in-bokeh", "title": "Automatic Legend Placement in Bokeh", "body": "<p>Does Bokeh have the functionality to automatically position a legend in a plot, <a href=\"http://matplotlib.org/1.3.0/examples/pylab_examples/legend_auto.html\" rel=\"noreferrer\">similar to Matplotlib</a>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1471469831, "post_id": 39006599, "comment_id": 65365012, "body": "1. You don&#39;t need to close your files when you use <code>with</code> statement for opening the files. 2. what&#39;s in your list and how you want to check the membership for its items? file object are iterator-like objects and you cannot check the member ship with <code>in</code> in these objects."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1471469940, "post_id": 39006599, "comment_id": 65365058, "body": "Tried to fix up your question a bit, but heck, there&#39;s still quite a bit of mess left..."}, {"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471470877, "post_id": 39006599, "comment_id": 65365408, "body": "my list when printed:  [&#39;192.168.122.21&#39;, &#39;192.168.122.22&#39;, &#39;192.168.122.25&#39;] and a line that i&#39;m trying to search through:  Jul 25 11:29:03 testing sshd[1347]: Invalid user BillyCarter from 192.168.122.25"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471470950, "post_id": 39006694, "comment_id": 65365438, "body": "when i use the set(...) i am getting a syntax error with the ^ pointing to the p in set(1.strip()"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471471260, "post_id": 39006694, "comment_id": 65365563, "body": "whis is a lower letter L not a 1."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471538531, "post_id": 39006694, "comment_id": 65397440, "body": "@emetib: now your question is a totally other one, so I have to rewrite the answer completely."}, {"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471539562, "post_id": 39006694, "comment_id": 65398133, "body": "thank you daniel.  i was trying to do that last night and was getting frustrated, printing whole file-1 to file-2.  took a look at it again today and figured it out.  didn&#39;t have to make it into a list() though.  i&#39;ll post my answer at the end."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1471538502, "last_edit_date": 1471538502, "creation_date": 1471469975, "answer_id": 39006694, "question_id": 39006599, "link": "https://stackoverflow.com/questions/39006599/search-for-variable-from-list-write-line-to-file/39006694#39006694", "title": "search for variable from list write line to file", "body": "<p><code>Invalid_names_file</code> is an iterator. So after first <code>if x in ...</code> this iterator is empty and all following tests results in <code>False</code>. Read your file into a list first and then test each line with the <code>in</code> operator and not only the list elements.</p>\n\n<pre><code>def isp_email_names():\n    with open('Invalid_names_file', 'r') as Invalid_names_file:\n        Invalid_names_file = list(Invalid_names_file)\n    with open('ISP_names_file', 'w') as ISP_names_file:\n        for ip in one_ip_each():\n            for line in Invalid_names_file:\n                if ip in line:\n                    ISP_names_file.write(line)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "reply_to_user": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471473389, "post_id": 39006750, "comment_id": 65366294, "body": "def isp_email_names():     one_ip_each = [&#39;192.168.122.21&#39;, &#39;192.168.122.22&#39;, &#39;192.168.122.25&#39;]     with open(&#39;Invalid_names_file&#39;, &#39;r&#39;) as Invalid_names_file:         with open(&#39;ISP_names_file&#39;, &#39;w&#39;) as ISP_names_file:             for x in one_ip_each:                 if str(x) in Invalid_names_file.readline():                     ISP_names_file.write(str(x))                     ISP_names_file.flush() I tried this given your list from a comment, worked, not sure what&#39;s wrong given it wrote for me."}, {"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471475196, "post_id": 39006750, "comment_id": 65366806, "body": "this is the whole thing put together.  probably very sloppy, yet just start to program. [link] (<a href=\"https://drive.google.com/file/d/0BwhDqxZzf5XHeEhyVzd3dXBjQm8/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0BwhDqxZzf5XHeEhyVzd3dXBjQm8/&hellip;</a>) [/link] you can open it with the drive notepad"}, {"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471482065, "post_id": 39006750, "comment_id": 65368505, "body": "will write the file to disk, yet only with the ip and not the whole line.  have to put a print(isp_email_names()) for the last line."}, {"owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "reply_to_user": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471490283, "post_id": 39006750, "comment_id": 65370540, "body": "Oh that&#39;s cause you are writing the value str(x) which is your list of ip arrays, store the readline and write that instead of your str(x)"}, {"owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "edited": false, "score": 0, "creation_date": 1471491318, "post_id": 39006750, "comment_id": 65370802, "body": "i&#39;m lost.  i&#39;ll keep reading and maybe i&#39;ll be able to figure it out later.  thank you for your help."}], "tags": [], "owner": {"reputation": 95, "user_id": 2535773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34362a58d591c4fdf8b1196a1da440ce?s=128&d=identicon&r=PG", "display_name": "Foris Kuang", "link": "https://stackoverflow.com/users/2535773/foris-kuang"}, "is_accepted": false, "score": 0, "last_activity_date": 1471470255, "creation_date": 1471470255, "answer_id": 39006750, "question_id": 39006599, "link": "https://stackoverflow.com/questions/39006599/search-for-variable-from-list-write-line-to-file/39006750#39006750", "title": "search for variable from list write line to file", "body": "<p>A not so elegant solution, running in O(N) run time, but having it check in regards to if x is contained in a readline. Sorry in advance for the not so elegant solution and hope it works.</p>\n\n<pre><code>def isp_email_names():\n    with open('Invalid_names_file', 'r') as Invalid_names_file:\n        with open('ISP_names_file', 'w') as ISP_names_file:\n            for x in one_ip_each():\n                if str(x) in Invalid_names_file.readline():\n                    ISP_names_file.write(str(x))\n                    ISP_names_file.flush()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "is_accepted": true, "score": 0, "last_activity_date": 1471539823, "creation_date": 1471539823, "answer_id": 39023805, "question_id": 39006599, "link": "https://stackoverflow.com/questions/39006599/search-for-variable-from-list-write-line-to-file/39023805#39023805", "title": "search for variable from list write line to file", "body": "<p>final code that works-></p>\n\n<pre><code>def isp_email_names():\n    with open('Invalid_names_file', 'r') as Invalid_names_file:\n        with open('ISP_names_file', 'w') as ISP_names_file:\n            for x in one_ip_each():\n                for line in Invalid_names_file:\n                    if x in line:\n                        ISP_names_file.writelines(str(line))\n                        ISP_names_file.flush()\n            ISP_names_file.closed\n        Invalid_names_file.closed\n\nisp_email_names()\n</code></pre>\n\n<p>don't know why i have to call the function to have it write to disk though.  will try to figure that out later.</p>\n\n<p>thank you everyone for your patience.</p>\n"}], "owner": {"reputation": 15, "user_id": 6576450, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/533d3cc250db461b10d6f2c475a5cd9d?s=128&d=identicon&r=PG&f=1", "display_name": "emetib", "link": "https://stackoverflow.com/users/6576450/emetib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 39023805, "answer_count": 3, "score": 0, "last_activity_date": 1471539823, "creation_date": 1471469498, "last_edit_date": 1471490291, "question_id": 39006599, "link": "https://stackoverflow.com/questions/39006599/search-for-variable-from-list-write-line-to-file", "title": "search for variable from list write line to file", "body": "<p>When going through a list with <code>for x in list</code>, I am having a problem with:</p>\n\n<pre><code>if x in Invalid_names_file:\n    ISP_names_file.write(str(x))\n</code></pre>\n\n<p>If I replace <code>if</code> with <code>for</code> then I get the entire contents of <code>Invalid_names_file</code> written into <code>ISP_names_file</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>def isp_email_names():\n    with open('Invalid_names_file', 'r') as Invalid_names_file:\n        with open('ISP_names_file', 'w') as ISP_names_file:\n            for x in one_ip_each():\n                if x in Invalid_names_file:\n                    ISP_names_file.write(str(x))\n                    ISP_names_file.flush()\n        ISP_names_file.closed\n    Invalid_names_file.closed\n</code></pre>\n\n<p>The <code>one_ip_each</code> variable is my list, that come from a module that I have imported.</p>\n\n<p>I can print this list at the end of the script to make sure that it's working, yet can't get any input into the write file.</p>\n\n<p>I will be putting more <code>for</code> statements behind this, so I don't mind that it's just the last <code>x</code> in my list that shows up in the file when I cut it out to see that it's working.</p>\n\n<p>The file does get written to disk, nothing in it with the <code>if ...</code>, whole file-1 with the <code>for ...</code></p>\n\n<p>i should have been clearer in my original post.</p>\n\n<p>my list-></p>\n\n<pre><code>['192.168.122.21', '192.168.122.22', '192.168.122.25']\n</code></pre>\n\n<p>and some of the file that i'm trying to go through-></p>\n\n<pre><code>Jul 25 11:29:02 testing sshd[1345]: Invalid user JoseMartinez from 192.168.122.25\nJul 25 11:29:03 testing sshd[1347]: Invalid user BillyCarter from 192.168.122.25\nJul 25 11:24:26 testing sshd[1094]: Invalid user DavidFlores from   192.168.122.21\nJul 25 11:25:05 testing sshd[1108]: Invalid user Nicole from 192.168.122.22\n</code></pre>\n\n<p>trying to do 'for x in list' find lines with x in it and print the whole line to a file.</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1471469892, "post_id": 39006562, "comment_id": 65365038, "body": "Possible alternative: use a python program that <a href=\"http://stackoverflow.com/a/4690739/5827215\">watches for file changes</a> and update the index when the user makes a change.  Then they can use the &quot;save file&quot; feature on editor programs etc. without having to go through an extra interface."}], "answers": [{"tags": [], "owner": {"reputation": 679, "user_id": 6683622, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/RfiNR.jpg?s=128&g=1", "display_name": "willpnw", "link": "https://stackoverflow.com/users/6683622/willpnw"}, "is_accepted": false, "score": 2, "last_activity_date": 1471472035, "creation_date": 1471472035, "answer_id": 39007077, "question_id": 39006562, "link": "https://stackoverflow.com/questions/39006562/on-linux-how-can-i-allow-any-user-to-write-to-a-file-but-only-by-running-my-p/39007077#39007077", "title": "On linux, how can I allow any user to write to a file, but only by running my (python) script?", "body": "<p>You can specify this type of thing using visudo.</p>\n\n<p>From: <a href=\"http://www.atrixnet.com/allow-an-unprivileged-user-to-run-a-certain-command-with-sudo/\" rel=\"nofollow\">http://www.atrixnet.com/allow-an-unprivileged-user-to-run-a-certain-command-with-sudo/</a></p>\n\n<p>First, you\u2019ll need to use the visudo utility\u2026</p>\n\n<pre><code>    sudo visudo\n</code></pre>\n\n<p>This command safely opens up the /etc/sudoers file for you in your default editor. Let\u2019s say you want to allow a user named \u201cjoe\u201d to run a given command. You just need to add a line like this below (customize for your needs)</p>\n\n<pre><code>    joe ALL=(ALL) NOPASSWD: /full/path/to/command\n</code></pre>\n\n<p>Now what if you want to restrict joe to only use that command within a given set of parameters or with only certain arguments? Well, just toss them in there too! Check this out:</p>\n\n<pre><code>    joe ALL=(ALL) NOPASSWD: /full/path/to/command ARG1 ARG2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 1041560, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/a27cd1cf047c118fb88304ff1d5dd368?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn de Munnik", "link": "https://stackoverflow.com/users/1041560/martijn-de-munnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1598479609, "last_edit_date": 1598479609, "creation_date": 1471472210, "answer_id": 39007109, "question_id": 39006562, "link": "https://stackoverflow.com/questions/39006562/on-linux-how-can-i-allow-any-user-to-write-to-a-file-but-only-by-running-my-p/39007109#39007109", "title": "On linux, how can I allow any user to write to a file, but only by running my (python) script?", "body": "<p>You're program needs the SUID bit set <a href=\"https://en.wikipedia.org/wiki/Setuid\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Setuid</a>. I'm not sure if this can be done with a python script.</p>\n"}], "owner": {"reputation": 134, "user_id": 6519570, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-erHnpnxBOj0/AAAAAAAAAAI/AAAAAAAAAHo/Foijjq4FXMg/photo.jpg?sz=128", "display_name": "Brad Fallon", "link": "https://stackoverflow.com/users/6519570/brad-fallon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 39007109, "answer_count": 2, "score": 1, "last_activity_date": 1598479609, "creation_date": 1471469284, "question_id": 39006562, "link": "https://stackoverflow.com/questions/39006562/on-linux-how-can-i-allow-any-user-to-write-to-a-file-but-only-by-running-my-p", "title": "On linux, how can I allow any user to write to a file, but only by running my (python) script?", "body": "<p>I'm working on a GUI for managing the contents of a specific network folder. The files are created/deleted and moved by a script.</p>\n\n<p>I have a json index file that has information about the files in this folder.</p>\n\n<p>Is there a way to give all users write permission to these files, but only if they use my script?</p>\n\n<p>I'm not worried about security, just don't want people to edit files without the index file being updated.</p>\n"}, {"tags": ["python", "mongodb"], "comments": [{"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1471469553, "post_id": 39006486, "comment_id": 65364892, "body": "Note: <code>document</code> appears twice in your pseudo-code, it confusing. Could you rename =&gt; <code>doc_one</code> and <code>doc_two</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "edited": false, "score": 0, "creation_date": 1471477617, "post_id": 39006667, "comment_id": 65367437, "body": "Do you mean values would be: values = (document[&quot;arbitrary&quot;] for document in db.collection_TWO)? Collection_TWO does not have duplicates for &quot;arbitrary&quot;, only collection_ONE. This is something I will only have to do once, but do to the size of the collections, I am afraid my method will take quite a while. I wasn&#39;t sure if there was some sort of secret sauce. SO, the main thing is that documents in collection_ONE should only exist if doc_ONE[&quot;arbitrary&quot;] value exists in a doc_TWO[&quot;arbitrary&quot;]. The collection_ONE docs are dependent on the information in collection_TWO."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "reply_to_user": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "edited": false, "score": 0, "creation_date": 1471503553, "post_id": 39006667, "comment_id": 65374736, "body": "Yes, <code>values</code> is a <a href=\"https://docs.python.org/2/library/functions.html#func-set\" rel=\"nofollow noreferrer\"><b>set</b></a> or <a href=\"https://docs.python.org/2/library/functions.html#func-frozenset\" rel=\"nofollow noreferrer\"><b>frozsenset</b></a> of existing <code>document[&quot;arbitrary&quot;]</code> values. What kind of value is it? <code>int</code>? <code>str</code>? I&#39;m sur Python can store a huge number of <code>int</code> or <code>str</code> in memory\u2026"}, {"owner": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "edited": false, "score": 0, "creation_date": 1471527451, "post_id": 39006667, "comment_id": 65389760, "body": "Yeah it is a great method, waaaay faster than my list method. My only concern is memory. collection_TWO has 300 million entries. It is a string value of 40 chars."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "reply_to_user": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "edited": false, "score": 0, "creation_date": 1471527655, "post_id": 39006667, "comment_id": 65389899, "body": "At least 11 Go! Could be on RAM : it will swap a little\u2026"}, {"owner": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "edited": false, "score": 0, "creation_date": 1471528232, "post_id": 39006667, "comment_id": 65390337, "body": "Going to give you the win. Will test it. May have to break it up somehow but I think that will be the best approach. Thanks!"}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 0, "last_activity_date": 1471469781, "creation_date": 1471469781, "answer_id": 39006667, "question_id": 39006486, "link": "https://stackoverflow.com/questions/39006486/remove-documents-from-a-collection-based-on-value-located-in-another-collection/39006667#39006667", "title": "Remove documents from a collection based on value located in another collection", "body": "<p>If <code>document[\"arbitrary\"]</code> is a immuable value, you can store all the values (without duplicates) in a <code>set</code>:</p>\n\n<p>values = {document[\"arbitrary\"] for document in db.collection_TWO}</p>\n\n<p>The process like you suggest:</p>\n\n<pre><code>for doc_one in db.collection_ONE:\n    if doc_one[\"arbitrary\"] not in values:\n        db.collection_ONE.remove({\"arbitrary\": doc_one[\"arbitrary\"]})\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 2344861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hchoy.jpg?s=128&g=1", "display_name": "Beetle", "link": "https://stackoverflow.com/users/2344861/beetle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 39006667, "answer_count": 1, "score": 0, "last_activity_date": 1471471103, "creation_date": 1471468913, "last_edit_date": 1471471103, "question_id": 39006486, "link": "https://stackoverflow.com/questions/39006486/remove-documents-from-a-collection-based-on-value-located-in-another-collection", "title": "Remove documents from a collection based on value located in another collection", "body": "<p>I started working with mongodb yesterday. I have two collections in the same database with 100 million and 300 million documents. I want to remove documents in one collection if a value in the document is not found in any document of the second collection. To maybe make this more clear I have provided python/mongodb pseudocode code below. I realize this is not proper syntax, its just to show the logic I am after. I am looking for the most efficient way as there are a lot of records and its on my laptop :)</p>\n\n<pre><code>for doc_ONE in db.collection_ONE:\n    if doc_ONE[\"arbitrary\"] not in [doc_TWO[\"arbitrary\"] for doc_TWO in db.collection_TWO]:\n        db.collection_ONE.remove({\"arbitrary\": doc_ONE[\"arbitrary\"]})\n</code></pre>\n\n<p>I am fine with this being done from the mongo cli if faster. Thanks for reading this and please don't flame me to hard lol.</p>\n"}, {"tags": ["python", "unicode", "encoding", "python-unicode"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 2, "creation_date": 1471469243, "post_id": 39006484, "comment_id": 65364747, "body": "do not parse XML-files with regular expressions. Use a xml-parser (like <code>ElementTree</code>)."}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1471469381, "post_id": 39006484, "comment_id": 65364809, "body": "Please name your functions with all-lowercase names, so that the syntax highlighting doesn&#39;t format them as class names."}, {"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471469874, "post_id": 39006484, "comment_id": 65365027, "body": "@Daniel I am not parsing, I am searching. But I get it, thanks for the advice! If I actually end up using the script as much as I think, it will be worth the extra work."}], "answers": [{"comments": [{"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "edited": false, "score": 0, "creation_date": 1471470568, "post_id": 39006764, "comment_id": 65365300, "body": "Thanks, but now I get the error: <code>File &quot;C:\\Python27\\lib\\encodings\\mbcs.py&quot;, line 21, in decode     return mbcs_decode(input, errors, True) UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character u&#39;\\xed&#39; in position 19: ordinal not in range(128)</code>"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "edited": false, "score": 0, "creation_date": 1471470839, "post_id": 39006764, "comment_id": 65365389, "body": "@heltonbiker that probably means that one of the strings is already Unicode. Remove the <code>.decode</code> from that string."}, {"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "edited": false, "score": 0, "creation_date": 1471470994, "post_id": 39006764, "comment_id": 65365455, "body": "You were right, one of them was, but the other wasn&#39;t. Thanks again!"}], "tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 1, "last_activity_date": 1471470325, "creation_date": 1471470325, "answer_id": 39006764, "question_id": 39006484, "link": "https://stackoverflow.com/questions/39006484/unicode-error-in-str-format/39006764#39006764", "title": "Unicode error in `str.format()`", "body": "<p>When Python 2.x tries to use a byte string in a Unicode context, it automatically tries to <code>decode</code> the byte string to a Unicode string using the <code>ascii</code> codec. While the <code>ascii</code> codec is a safe choice, it often doesn't work.</p>\n\n<p>For Windows environments the <code>mbcs</code> codec will select the code page that Windows uses for 8-bit characters. You can decode the string yourself explicitly.</p>\n\n<pre><code>outputline = u'\"{}\" -&gt; \"{}\"'.format(projectName.decode('mbcs'), referenceName.decode('mbcs'))\n</code></pre>\n"}], "owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 39006764, "answer_count": 1, "score": 0, "last_activity_date": 1471470325, "creation_date": 1471468905, "question_id": 39006484, "link": "https://stackoverflow.com/questions/39006484/unicode-error-in-str-format", "title": "Unicode error in `str.format()`", "body": "<p>I am trying to run the following script, which scans for <code>*.csproj</code> files and checks for project dependencies in Visual Studio solutions, but I am getting the following error. I have already tried all sorts of <code>codec</code> and <code>encode/decode</code> and <code>u''</code> combination, to no avail...</p>\n\n<p>(the diacritics <em>are</em> intended and I plan to keep them).</p>\n\n<blockquote>\n<pre><code>Traceback (most recent call last):   \n  File \"E:\\00 GIT\\SolutionDependencies.py\", line 44, in &lt;module&gt;\n    references = GetProjectReferences(\"MiotecGit\")\n  File \"E:\\00 GIT\\SolutionDependencies.py\", line 40, in GetProjectReferences\n    outputline = u'\"{}\" -&gt; \"{}\"'.format(projectName, referenceName)\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xed in position 19: ordinal not in range(128)\n</code></pre>\n</blockquote>\n\n<pre><code>import glob\nimport os\nimport fnmatch\nimport re\nimport subprocess\nimport codecs\n\ngvtemplate = \"\"\"\ndigraph g {\n\nrankdir = \"LR\"\n\n#####\n\n}\n\"\"\".strip()\n\ndef GetProjectFiles(rootFolder):\n    result = []\n    for root, dirnames, filenames in os.walk(rootFolder):\n        for filename in fnmatch.filter(filenames, \"*.csproj\"):\n            result.append(os.path.join(root, filename))\n    return result\n\ndef GetProjectName(path):\n    result = os.path.splitext(os.path.basename(path))[0]\n    return result\n\ndef GetProjectReferences(rootFolder):\n    result = []\n    projectFiles = GetProjectFiles(rootFolder)\n    for projectFile in projectFiles:\n        projectName = GetProjectName(projectFile)\n        with codecs.open(projectFile, 'r', \"utf-8\") as pfile:\n            content = pfile.read()\n            references = re.findall(\"&lt;ProjectReference.*?&lt;/ProjectReference&gt;\", content, re.DOTALL)\n            for reference in references:\n                referenceProject = re.search('\"([^\"]*?)\"', reference).group(1)\n                referenceName = GetProjectName(referenceProject)\n                outputline = u'\"{}\" -&gt; \"{}\"'.format(projectName, referenceName)\n                result.append(outputline)\n    return result\n\nreferences = GetProjectReferences(\"MiotecGit\")\n\noutput = u\"\\n\".join(*references)\n\nwith codecs.open(\"output.gv\", \"w\", 'utf-8') as outputfile:\n    outputfile.write(gvtemplate.replace(\"#####\", output))\n\n\ngraphvizpath = glob.glob(r\"C:\\Program Files*\\Graphviz*\\bin\\dot.*\")[0]\ncommand = '{} -Gcharset=latin1 -T pdf -o \"output.pdf\" \"output.gv\"'.format(graphvizpath)\nsubprocess.call(command)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "if-statement", "localtime"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471469538, "post_id": 39006475, "comment_id": 65364884, "body": "you get json response, so use <code>json.loads</code> to decode instead of string indexing."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1471470456, "post_id": 39006475, "comment_id": 65365266, "body": "you don&#39;t need to define variables."}, {"owner": {"reputation": 88, "user_id": 6669476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEfDd.jpg?s=128&g=1", "display_name": "ChE", "link": "https://stackoverflow.com/users/6669476/che"}, "edited": false, "score": 0, "creation_date": 1471470720, "post_id": 39006475, "comment_id": 65365350, "body": "<code>datetime.time</code> has comparison operators implemented i.e. <code>t1 = dt.time(6,45,0)</code> <code>t2 = dt.time(6,40,0)</code> <code>t1 &gt; t2</code> returns <code>True</code> plus it also has with <code>datetime.datetime.strptime</code> methods to parse strings easily into <code>time</code> and <code>date</code> objects"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6727804, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463744640309684/picture?type=large", "display_name": "Thijs", "link": "https://stackoverflow.com/users/6727804/thijs"}, "edited": false, "score": 0, "creation_date": 1471644425, "post_id": 39006851, "comment_id": 65446386, "body": "Thanks this works great! I only had to define the utc for utc..localize trough utc = timezone(&#218;TC&#39;) and delete one datetime of the datetime.datetime definitions."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1471690906, "last_edit_date": 1471690906, "creation_date": 1471470873, "answer_id": 39006851, "question_id": 39006475, "link": "https://stackoverflow.com/questions/39006475/how-to-use-localtime-hhmm-in-if-statement-python/39006851#39006851", "title": "How to use localtime (HH:MM) in if statement - python", "body": "<p>Do all calculations with <code>datetime</code>-objects:</p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport time\nimport urllib2\nimport json\nfrom datetime import datetime\nfrom business_calendar import Calendar, MO, TU, WE, TH, FR\nfrom pytz import timezone, utc\n\nlocal_timezone = timezone('Europe/Amsterdam')\n\nprint \"Here we go! Press CTRL+C to exit\"\ntry:\n    while True:\n        #werkdag def.\n        cal = Calendar(workdays=[MO,TU,WE,TH,FR])\n        busday = cal.isbusday(date)\n        now = datetime.now(local_timezone)\n        work_start = now.replace(hour=7, minute=0, second=0, microsecond=0)\n        work_end = now.replace(hour=23, minute=0, second=0, microsecond=0)\n\n        # Zonsopgang/Ondegang\n        request = 'http://api.sunrise-sunset.org/json?lat=51.9913XXX&amp;lng=4.4733XXX&amp;formatted=0'\n        response = urllib2.urlopen(request)\n        timestring = json.loads(response.read())\n        sunset = datetime.strptime(timestring['results']['sunset'],'%Y-%m-%dT%H:%M:%S+00:00')\n        sunset = utc.localize(sunset).astimezone(local_timezone)\n        sunrise = datetime.strptime(timestring['results']['sunrise'],'%Y-%m-%dT%H:%M:%S+00:00')\n        sunrise = utc.localize(sunset).astimezone(local_timezone)\n        if busday and (work_start &lt;= now &lt;= sunrise or sunset &lt;= now &lt;= work_end):\n            # rest of the statements\n            # end statement\nexcept KeyboardInterrupt:\n        GPIO.cleanup()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3272, "user_id": 3990806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ad3e7b2553397335b7aab5fcebbd343b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3990806/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1471471286, "last_edit_date": 1471471286, "creation_date": 1471470927, "answer_id": 39006860, "question_id": 39006475, "link": "https://stackoverflow.com/questions/39006475/how-to-use-localtime-hhmm-in-if-statement-python/39006860#39006860", "title": "How to use localtime (HH:MM) in if statement - python", "body": "<p>I no longer use the builtin <code>datetime</code> lib it sucks. Look into <code>arrow</code> <a href=\"http://crsmithdev.com/arrow/\" rel=\"nofollow\">http://crsmithdev.com/arrow/</a></p>\n\n<p>just one tip.</p>\n\n<p>Also look into using <code>requests</code> its the defacto way of doing http stuff in python.</p>\n\n<p>I have rewritten you app as much as I could and provided the link below. I wasn't quite sure where you were headed with it put tried to replicate it as much as possible but. I hope this helps.</p>\n\n<p><a href=\"http://hastebin.com/elomonacod.py\" rel=\"nofollow\">http://hastebin.com/elomonacod.py</a></p>\n\n<pre><code>import arrow\nimport requests\nimport sys\nfrom business_calendar import Calendar, MO, TU, WE, TH, FR\n\n#uur\nfmh = \"%H\"\nfmt = \"$H:%M\"\n\n#Def. var.\nnow_utc = 0\nnow_amsterdam = 0\nsome_condition = False\n\n\ndef main():\n    print \"Here we go! Press CTRL+C to exit\"\n    global now_amsterdam\n    global now_utc\n    global some_condition\n    while True:\n        count = 0\n        date = arrow.now()\n\n        # werkdag def.\n        cal = Calendar(workdays=[MO, TU, WE, TH, FR])\n        busday = cal.isbusday(date)\n\n        # dT AMS-UTC\n        now_utc = arrow.utcnow()\n        now_amsterdam = now_utc.to('Europe/Amsterdam')\n        print now_utc, now_amsterdam\n        time_diff = now_amsterdam - now_utc\n\n        r = requests.get('http://api.sunrise-sunset.org/json?lat=51.9913XXX&amp;lng=4.4733XXX&amp;formatted=0')\n        if r.status_code != 200:\n            print('Server could not be reached: {}'.format(r.status_code))\n            sys.exit()\n\n        ''' Data structure\n        {\n            \"results\": {\n                \"sunrise\": \"2016-08-17T04:31:10+00:00\",\n                \"sunset\": \"2016-08-17T19:00:46+00:00\",\n                \"solar_noon\": \"2016-08-17T11:45:58+00:00\",\n                \"day_length\": 52176,\n                \"civil_twilight_begin\": \"2016-08-17T03:53:46+00:00\",\n                \"civil_twilight_end\": \"2016-08-17T19:38:10+00:00\",\n                \"nautical_twilight_begin\": \"2016-08-17T03:06:02+00:00\",\n                \"nautical_twilight_end\": \"2016-08-17T20:25:54+00:00\",\n                \"astronomical_twilight_begin\": \"2016-08-17T02:09:10+00:00\",\n                \"astronomical_twilight_end\": \"2016-08-17T21:22:46+00:00\"\n            },\n            \"status\": \"OK\"\n        }\n        '''\n\n        data = r.json()['results']\n        utc_sunrise = arrow.get(data['sunrise'])\n        utc_sunset = arrow.get(data['sunset'])\n        ams_sunrise = utc_sunrise + time_diff\n        ams_sunset = utc_sunset + time_diff\n        # Zonsopgang/Ondegang\n        if ams_sunrise &lt; arrow.get('{} 07:30:00'.format(now_amsterdam.format('YYYY-MM-DD'))):\n            pass\n\n        if ams_sunset &lt; arrow.get('{} 21:30:00'.format(now_amsterdam.format('YYYY-MM-DD'))):\n            pass\n\n        if busday:\n            pass\n\n        if some_condition:\n            break\n        #\n        # if amssunrise &lt; 8:  # Will be 7:30\n        #     amssunrise = 8  # Will be 7:30\n        #\n        # if amssunset &lt; 21:  # Will be 21:30\n        #     amssunset = 21  # Will be 21:30\n        #\n        # # uur\n        # uur = date.hour  # Must be HH:MM instead of only hours\n        #\n        # if busday == True and ((uur &gt;= 7 and uur &lt;= amssunrise) or (uur &gt;= amssunset and uur &lt;= 23)):\n        #     # rest of the statements\n        #     # end statement\n        #     pass\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6727804, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463744640309684/picture?type=large", "display_name": "Thijs", "link": "https://stackoverflow.com/users/6727804/thijs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 39006851, "answer_count": 2, "score": 0, "last_activity_date": 1471690906, "creation_date": 1471468879, "question_id": 39006475, "link": "https://stackoverflow.com/questions/39006475/how-to-use-localtime-hhmm-in-if-statement-python", "title": "How to use localtime (HH:MM) in if statement - python", "body": "<p>I made some code to turn on a light depending on movement and the time of the day in an if statement. If the (local)time is between sunrise and a preset time or sunset and a preset time the if statement is true and the motion detection statements will follow. </p>\n\n<p>At the moment the time is only presented in hours as an integer. How can i make my if statement to work with hours and minutes (think this will need to be a string). So the statement will work with 6:45 instead of 7 for example. </p>\n\n<p>Here is my code. </p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport time\nimport urllib2\nfrom datetime import datetime\nfrom business_calendar import Calendar, MO, TU, WE, TH, FR\nfrom pytz import timezone\n\n#uur\nfmh = \"%H\"\nfmt = \"$H:%M\"\n\n#Def. var. \nx=0\nnow_utc = 0\nnow_amsterdam = 0\n\nprint \"Here we go! Press CTRL+C to exit\"\ntry:\n    while x &lt; 1:\n        count = 0\n        date = datetime.today()\n\n        #werkdag def.\n        cal = Calendar(workdays=[MO,TU,WE,TH,FR])\n        busday = cal.isbusday(date)\n\n        # dT AMS-UTC\n        now_utc = datetime.now(timezone('UTC'))\n        now_amsterdam = now_utc.astimezone(timezone('Europe/Amsterdam'))\n        UTC = int(now_utc.strftime(fmh))\n        AMS = int(now_amsterdam.strftime(fmh))\n\n        dT = AMS - UTC\n\n        # Zonsopgang/Ondegang\n        request = 'http://api.sunrise-sunset.org/json?lat=51.9913XXX&amp;lng=4.4733XXX&amp;formatted=0'\n        response = urllib2.urlopen(request)\n        timestring = response.read()\n        utcsunrise = timestring[35:39] #Will be 35:39 for HH:MM and cant be a string then\n        utcsunset = timestring[71:73] #Will be 71:79 for HH:MM\n        amssunrise = int(utcsunrise) + dT #Wont work with a string\n        amssunset = int(utcsunset) + dT\n\n        if amssunrise &lt; 8 #Will be 7:30\n            amssunrise = 8 #Will be 7:30\n\n        if amssunset &lt; 21 #Will be 21:30\n            amssunset = 21 #Will be 21:30\n\n        #uur\n        uur = date.hour #Must be HH:MM instead of only hours\n\n        if busday == True and ((uur &gt;= 7 and uur &lt;= amssunrise) or (uur &gt;= amssunset and uur &lt;= 23)):\n                # rest of the statements\n                # end statement\nexcept KeyboardInterrupt:\n        GPIO.cleanup()\n</code></pre>\n\n<p>I would like to hear your thoughts. Little note I'm new to python but not to coding. </p>\n\n<p>Greetings,\nThijs</p>\n"}, {"tags": ["python", "list", "average"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1471469062, "post_id": 39006474, "comment_id": 65364686, "body": "in the <code>file.write</code> make it <code>str(aver)</code>, does that work?"}], "answers": [{"tags": [], "owner": {"reputation": 1072, "user_id": 6699875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ea5fe087cfe3e074427f38499da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6699875/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1471469208, "creation_date": 1471469208, "answer_id": 39006548, "question_id": 39006474, "link": "https://stackoverflow.com/questions/39006474/saving-averages-in-text-file/39006548#39006548", "title": "Saving averages in text file", "body": "<pre><code>file.write(\"\\n\\nYour numbers are\" + **aver** +\n</code></pre>\n\n<p>this would be better as something like this:</p>\n\n<pre><code>aver = \" \" + \", \".join(aver) + \" \"\n</code></pre>\n\n<p>which converts your list to a comma separated string.</p>\n"}], "owner": {"reputation": 21, "user_id": 6726972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qnTiKO5hNFQ/AAAAAAAAAAI/AAAAAAAAADI/LKgRP4sPggg/photo.jpg?sz=128", "display_name": "Joe Johnson", "link": "https://stackoverflow.com/users/6726972/joe-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471469208, "creation_date": 1471468878, "question_id": 39006474, "link": "https://stackoverflow.com/questions/39006474/saving-averages-in-text-file", "title": "Saving averages in text file", "body": "<p>I am making an average calculator in python, i have to save the averages in a text file and have done it like this:</p>\n\n<pre><code>Mean = statistics.mean(aver)\nMode = statistics.mode(aver)\nMedi = statistics.median(aver)\nfile = open(\"Averages.txt\", \"a\")\nfile.write(\"\\n\\nYour numbers are\" + aver +\n           \"\\nMean   : \" + Mean +\n           \"\\nMode   : \" + Mode +\n           \"\\nMedian : \" + Medi)\n</code></pre>\n\n<p>(aver is a list of numbers i am finding the average of)</p>\n\n<p>when i try to run this part of the code, i recieve the error message:</p>\n\n<pre><code>TypeError: Can't convert 'list' object to str implicitly\n</code></pre>\n\n<p>I tried basic stuff like adding 'str' on but it doesnt help.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2173, "user_id": 1804656, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/47ea159b5819a724a31a95f8dd1fc037?s=128&d=identicon&r=PG", "display_name": "kyle", "link": "https://stackoverflow.com/users/1804656/kyle"}, "edited": false, "score": 0, "creation_date": 1471469546, "post_id": 39006439, "comment_id": 65364888, "body": "Can codes be reused?"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6595946, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/1128428003897571/picture?type=large", "display_name": "Miguel Toledano", "link": "https://stackoverflow.com/users/6595946/miguel-toledano"}, "edited": false, "score": 0, "creation_date": 1471472551, "post_id": 39006758, "comment_id": 65366027, "body": "Wow , thank you very much for your help , I will try to do so, I hope it works , at least now I have an idea of \u200b\u200bhow to do that ."}], "tags": [], "owner": {"reputation": 2173, "user_id": 1804656, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/47ea159b5819a724a31a95f8dd1fc037?s=128&d=identicon&r=PG", "display_name": "kyle", "link": "https://stackoverflow.com/users/1804656/kyle"}, "is_accepted": true, "score": 0, "last_activity_date": 1471470287, "creation_date": 1471470287, "answer_id": 39006758, "question_id": 39006439, "link": "https://stackoverflow.com/questions/39006439/how-i-can-make-my-db-add-codes-for-users-to-register-with-one-of-the-codes-py/39006758#39006758", "title": "How I can make my db add codes for users to register with one of the codes ? (Python-Django)", "body": "<p>There are a couple of steps that you will need to do, but essentially you are just seeding the DB with valid registration codes.  To generate a number of registration codes you can use the following, I limit the number to 1000 but this can be changed</p>\n\n<pre><code>import uuid\n\ncodes = set()\nnum_codes = 1000\n\nwhile (num_codes &gt; 0):\n    code = str(uuid.uuid4())\n    # make sure the randomly gen code isn't a duplicated\n    while code in codes:\n        code = str(uuid.uuid4())\n    # add the newly generated code to the set and dec the counter\n    codes.add(code)\n    num_codes -= 1\n</code></pre>\n\n<p>Next what you will want to do is add the codes to a new table.  It would probably make sense to have a table structure like:</p>\n\n<pre><code>{\n   table_name: registration code,\n   columns: {\n        id: int,\n        code: string,\n        valid: bool,\n   }\n}\n</code></pre>\n\n<p>where valid limits the code to a one time registration.</p>\n\n<p>Then when a user tries to register select where the key used = code column and valid = true, if it returns something it is valid otherwise the key is invalid or already used.</p>\n"}], "owner": {"reputation": 307, "user_id": 6595946, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/1128428003897571/picture?type=large", "display_name": "Miguel Toledano", "link": "https://stackoverflow.com/users/6595946/miguel-toledano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 39006758, "answer_count": 1, "score": 0, "last_activity_date": 1471661428, "creation_date": 1471468710, "last_edit_date": 1471661428, "question_id": 39006439, "link": "https://stackoverflow.com/questions/39006439/how-i-can-make-my-db-add-codes-for-users-to-register-with-one-of-the-codes-py", "title": "How I can make my db add codes for users to register with one of the codes ? (Python-Django)", "body": "<p>I want to put a number of codes in my database so that when a user wants to register my application need to enter a code of those who are in the database, so that the system registry access.</p>\n\n<p>All this in django, but honestly I have no idea how to do it, if you can help me, I would appreciate it very much.</p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["python", "django", "postgresql", "heroku", "psql"], "comments": [{"owner": {"reputation": 1518, "user_id": 4426017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd19e224cb209fdff9679db95d16e92?s=128&d=identicon&r=PG&f=1", "display_name": "user4426017", "link": "https://stackoverflow.com/users/4426017/user4426017"}, "edited": false, "score": 0, "creation_date": 1471470480, "post_id": 39006377, "comment_id": 65365276, "body": "I would make sure that the username/password you use to connect to the database server in your settings.py file has delete permission in the database."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1471479960, "post_id": 39006377, "comment_id": 65368034, "body": "This also happens when you are connected to a replication slave DB server. AFAIR on Heroku they call them followers."}], "owner": {"reputation": 516, "user_id": 5043357, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/efeb4b2e5899c59b9e65008393ca5019?s=128&d=identicon&r=PG&f=1", "display_name": "rishran", "link": "https://stackoverflow.com/users/5043357/rishran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471468420, "creation_date": 1471468420, "question_id": 39006377, "link": "https://stackoverflow.com/questions/39006377/updating-a-query-set-python-django-postgresql", "title": "Updating a query set - Python Django - Postgresql", "body": "<p>I am trying to delete a query set - </p>\n\n<p><code>Profile.objects.filter(val=False).delete()</code></p>\n\n<p>This command runs fine on my local machine, however, when I run it on production (hosted on heroku) I get the following error:</p>\n\n<p><code>django.db.utils.InternalError: cannot execute DELETE in a read-only transaction\n</code></p>\n\n<p>I am assuming it is some sort of a psql permissions issue but I am not too sure. Any idea as to why this is happening and how I can fix it? </p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "edited": false, "score": 0, "creation_date": 1471468339, "post_id": 39006344, "comment_id": 65364344, "body": "please fix the indentation in your code snippet"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1471468388, "post_id": 39006344, "comment_id": 65364367, "body": "where are you changing the value of <code>num2</code> in your loop?"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 3, "creation_date": 1471468396, "post_id": 39006344, "comment_id": 65364371, "body": "calling <code>fib</code> <b>does not</b> change values of n1 and n2 outside of function body."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1471468400, "post_id": 39006344, "comment_id": 65364376, "body": "The values of num1 and num2 never change...."}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 3, "creation_date": 1471468412, "post_id": 39006344, "comment_id": 65364383, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference\">How do I pass a variable by reference?</a>"}, {"owner": {"reputation": 25533, "user_id": 3318517, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fa52f0ed961993dce0a5c271dca0b4b7?s=128&d=identicon&r=PG", "display_name": "Daniel Darabos", "link": "https://stackoverflow.com/users/3318517/daniel-darabos"}, "edited": false, "score": 1, "creation_date": 1471468445, "post_id": 39006344, "comment_id": 65364396, "body": "The <code>fib</code> function just assigns values to the <i>local</i> <code>n1</code>, <code>n2</code>, <code>n3</code> variables. This has no effect outside of the function."}], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "edited": false, "score": 1, "creation_date": 1471475801, "post_id": 39006390, "comment_id": 65366969, "body": "Thank you; this helped a lot. Sorry I didn&#39;t accept sooner!"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 6, "last_activity_date": 1471468442, "creation_date": 1471468442, "answer_id": 39006390, "question_id": 39006344, "link": "https://stackoverflow.com/questions/39006344/infinite-loop-in-python-why/39006390#39006390", "title": "Infinite loop in python - why?", "body": "<p><code>n1</code>, <code>n2</code> and <code>n3</code> are local variables and have nothing in common with <code>num1</code> and <code>num2</code> in the outer scope, despite their initial value. You have to <code>return</code> the value and assign these results to <code>num1</code> and <code>num2</code> again.</p>\n\n<pre><code>def fib(n1, n2):\n    n3 = n1+n2\n    n1=n2\n    n2=n3\n    return n1, n2\n\nnum1=1\nnum2=2\nfibList=[1]\nwhile num2&lt;4000000:\n    num1, num2 = fib(num1,num2)\n    if num2%2==0:\n        fibList.append(num2)\ntotal = sum(fibList)\n\nprint total\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 6723642, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/O4s3s.jpg?s=128&g=1", "display_name": "heather", "link": "https://stackoverflow.com/users/6723642/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 39006390, "answer_count": 1, "score": 0, "last_activity_date": 1471468442, "creation_date": 1471468257, "question_id": 39006344, "link": "https://stackoverflow.com/questions/39006344/infinite-loop-in-python-why", "title": "Infinite loop in python - why?", "body": "<p>I'm using the code</p>\n\n<pre><code>fibList=[1]\n\ndef fib(n1, n2):\n    n3 = n1+n2\n    n1=n2\n    n2=n3\n\nnum1=1\nnum2=2\n\nwhile(num2&lt;4000000):\n    fib(num1,num2)\n        if (num2%2==0):\n            fibList.append(num2)\ntotal = sum(fibList)\n\nprint total\n</code></pre>\n\n<p>in an online compiler, repl.it. It was going and going and not giving a solution, so I typed the line <code>print n3</code> right below the <code>n3=</code> line in the definition of the <code>fib</code> function. It gave 3, over and over again, and it crashed before I could stop the program. So obviously there's some kind of infinite loop somewhere (at least, obviously in my mind; it could not be an infinite loop, I suppose, but I'm pretty sure it is). The question is where. I don't really understand why there'd be an infinite loop.</p>\n\n<p>This is not, by the way, a homework question, but a problem I'm doing for fun. The <code>fib</code> function is supposed to calculate Fibonacci numbers, and the second part isolate the even ones less than four million, and then at the end calculate the sum. </p>\n\n<p>What I want to know is where the infinite loop is coming in and what I can do to fix it. Thanks!</p>\n"}, {"tags": ["python", "multithreading", "scikit-learn"], "comments": [{"owner": {"reputation": 2614, "user_id": 3254869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O17Z7.jpg?s=128&g=1", "display_name": "zhqiat", "link": "https://stackoverflow.com/users/3254869/zhqiat"}, "edited": false, "score": 0, "creation_date": 1471468263, "post_id": 39006280, "comment_id": 65364310, "body": "what are you passing in for n_jobs?"}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "reply_to_user": {"reputation": 2614, "user_id": 3254869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/O17Z7.jpg?s=128&g=1", "display_name": "zhqiat", "link": "https://stackoverflow.com/users/3254869/zhqiat"}, "edited": false, "score": 0, "creation_date": 1472389218, "post_id": 39006280, "comment_id": 65723641, "body": "Since the question received no answer, I cross posted on Quora: <a href=\"https://www.quora.com/unanswered/Why-does-sklearn-linear_model-LogisticRegression-fit-sometimes-uses-multiple-cores\" rel=\"nofollow noreferrer\">quora.com/unanswered/&hellip;</a>"}, {"owner": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 1, "creation_date": 1472574946, "post_id": 39006280, "comment_id": 65802743, "body": "Just a guess: the one core used machine is a windows one ? there&#39;s no posix compliant fork/thread library in windows which probably explain the behavior (maybe in windows 12, but I had no chance to try it)"}, {"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "reply_to_user": {"reputation": 15030, "user_id": 3627607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5fd623c0fdd0c93a2535cf6293ec5d?s=128&d=identicon&r=PG", "display_name": "Tensibai", "link": "https://stackoverflow.com/users/3627607/tensibai"}, "edited": false, "score": 0, "creation_date": 1472575018, "post_id": 39006280, "comment_id": 65802776, "body": "@Tensibai  Ubuntu 14.04 LTS x64 on all computers. Thanks for pointing this out, I have added the information in the question."}], "owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1472574989, "creation_date": 1471467969, "last_edit_date": 1472574989, "question_id": 39006280, "link": "https://stackoverflow.com/questions/39006280/sklearn-linear-model-logisticregression-fit-sometimes-uses-multiple-cores-w", "title": "sklearn.linear_model.LogisticRegression().fit() sometimes uses multiple cores. Why?", "body": "<p>I noticed that <code>sklearn.linear_model.LogisticRegression().fit()</code> uses multiple cores on some of my computers, and only one core in some others. What determines how many cores <code>sklearn.linear_model.LogisticRegression().fit()</code> will use?</p>\n\n<p>I use scikit-learn version is 0.17.1 and Ubuntu 14.04 LTS x64 on all computers.</p>\n"}, {"tags": ["python", "pandas", "gensim"], "answers": [{"tags": [], "owner": {"reputation": 15785, "user_id": 2123555, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6a6288a75ea4f21d1e4b784d9af36acb?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/2123555/kris"}, "is_accepted": true, "score": 3, "last_activity_date": 1471470967, "creation_date": 1471470967, "answer_id": 39006865, "question_id": 39006270, "link": "https://stackoverflow.com/questions/39006270/how-to-convert-a-set-of-features-to-a-count-matrix-in-pandas/39006865#39006865", "title": "How to convert a set of features to a count matrix in pandas", "body": "<p>You could use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.get_dummies.html\" rel=\"nofollow\"><code>pandas.get_dummies</code></a>, e.g.</p>\n\n<pre><code>import pandas as pd\n\n# create your dataframe\ndf = pd.DataFrame(index=['a', 'b'],\n                  data={'d1': ['v1', 'v1'],\n                        'd2': [None, 'v3'],\n                        'd3': ['v2', None]})\n\n# perform one-hot encoding\ndf = pd.get_dummies(df, prefix_sep='=')\n\n# rename if you so wish\ndf.rename(columns={c: c.split('=')[1] for c in df.columns}, inplace=True)\n\n# sort columns by name (not really necessary)\ndf.sort_index(axis=1, inplace=True)\n\n# have a look\nprint df\n</code></pre>\n\n<p>which yields</p>\n\n<pre><code>   v1  v2  v3\na   1   1   0\nb   1   0   1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1346, "user_id": 2592560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvb40.jpg?s=128&g=1", "display_name": "Q-man", "link": "https://stackoverflow.com/users/2592560/q-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1471472373, "last_edit_date": 1471472373, "creation_date": 1471471953, "answer_id": 39007052, "question_id": 39006270, "link": "https://stackoverflow.com/questions/39006270/how-to-convert-a-set-of-features-to-a-count-matrix-in-pandas/39007052#39007052", "title": "How to convert a set of features to a count matrix in pandas", "body": "<p>Start with your DataFrame <code>DF</code>, with <code>0</code> replaced with <code>NaN</code></p>\n\n<pre><code>DF=ps.DataFrame({'d1':['v1','v1'],'d2':[NaN,'v3'],'d3':['v2',NaN]},index=['a','b'])\n</code></pre>\n\n<p>Get the unique values you want to count:</p>\n\n<pre><code>Vals=DF.stack().unique()\n</code></pre>\n\n<p>use some list comprehension for counts:</p>\n\n<pre><code>ps.DataFrame([[(DF.ix[ind,:]==Vi).sum() for Vi in Vals] for ind in DF.index] , columns=Vals, index=DF.index)\n</code></pre>\n"}], "owner": {"reputation": 2197, "user_id": 2795733, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/348ed0bdaac5632f0fe029c2d8f55ddc?s=128&d=identicon&r=PG&f=1", "display_name": "user0", "link": "https://stackoverflow.com/users/2795733/user0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 39006865, "answer_count": 2, "score": 1, "last_activity_date": 1471472373, "creation_date": 1471467921, "question_id": 39006270, "link": "https://stackoverflow.com/questions/39006270/how-to-convert-a-set-of-features-to-a-count-matrix-in-pandas", "title": "How to convert a set of features to a count matrix in pandas", "body": "<p>Given a matrix </p>\n\n<p>----<code>d1 d2 d3\n a: v1  0  v2\n b: v1  v3  0</code></p>\n\n<p>I want </p>\n\n<p>----<code>v1 v2 v3\n a: 1  1   0\n b: 1  0   1</code></p>\n\n<p>I remember vaguely that this can be done with <code>Gensim</code>...but there must also be some module in pandas? I have tried to do <code>for v in v: for el in [a,b]</code>(happy to post the code, but I think that the example is clear enough) but it is very slow, and I imagine this must have been solved before.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 1214212, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/kVhOD.png?s=128&g=1", "display_name": "cardycakes", "link": "https://stackoverflow.com/users/1214212/cardycakes"}, "edited": false, "score": 1, "creation_date": 1471468905, "post_id": 39006389, "comment_id": 65364610, "body": "That worked a treat, thanks. Also the auto indexing is a nice touch and clearly a best-practice - will employ that"}], "tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": true, "score": 1, "last_activity_date": 1471468441, "creation_date": 1471468441, "answer_id": 39006389, "question_id": 39006248, "link": "https://stackoverflow.com/questions/39006248/matplotlib-imshow-subsplots-overlapping/39006389#39006389", "title": "Matplotlib - imshow subsplots overlapping", "body": "<p>I believe it should be <code>add_subplot(1, 2, idx+1)</code>. That is the subplot is defined by number of rows, then number of cols, and then the region ordinal.</p>\n\n<p>Aside from this problem, you might want to \"pythonize\" your code a bit by auto indexing like this:</p>\n\n<pre><code>for idx, symbol in enumerate(['EURUSD','GBPUSD']):\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 1214212, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/kVhOD.png?s=128&g=1", "display_name": "cardycakes", "link": "https://stackoverflow.com/users/1214212/cardycakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 39006389, "answer_count": 1, "score": 1, "last_activity_date": 1471468441, "creation_date": 1471467823, "question_id": 39006248, "link": "https://stackoverflow.com/questions/39006248/matplotlib-imshow-subsplots-overlapping", "title": "Matplotlib - imshow subsplots overlapping", "body": "<p>So I'm trying to display a collection of imshow (heatmap) subplots on a single figure, side by side and row by row. As a prelim I am testing just displaying 2 fine, and experiencing issues. </p>\n\n<p>See code below:</p>\n\n<pre><code>axes = []\n\nfig = plt.figure()#figsize=(10,5))\nidx = 0\n\nfor symbol in ['EURUSD','GBPUSD']:\n\n    df = get_data_period_symbol('1h', symbol)\n\n    ranges_df = ranges(df)\n\n    # Define x and y as the length of columns and indices for use in setting\n    # x and y ticks\n    x, y = len(ranges_df.columns.values), len(ranges_df.index.values)\n    axes.append(fig.add_subplot(1, idx+1, 1))\n    # Get axes from imshow\n    axes[idx].imshow(ranges_df, interpolation='nearest', cmap='Oranges', aspect='auto')   \n\n    # Set values for x/y ticks/labels\n    axes[idx].set_xticks(np.linspace(0, x-1, x))\n    axes[idx].set_xticklabels(ranges_df.columns)\n    axes[idx].set_yticks(np.linspace(0, y-1, y))\n    axes[idx].set_yticklabels(ranges_df.index)\n\n    # Hide grid lines\n    axes[idx].grid('off')\n    # Push x axis to top instead of bottom\n    axes[idx].xaxis.tick_top()\n    axes[idx].autoscale(False)\n\n\n    for i, j in product(range(y), range(x)):\n        _ = axes[idx].text(j, i, '{0:.0f}'.format(ranges_df.iloc[i, j]),\n        size='small', ha='center', va='center')\n\n    idx += 1\n\nplt.show()\n</code></pre>\n\n<p>It is worth noting that I get the following error when using plt.tight_layout() just before plt.show()</p>\n\n<pre><code>UserWarning: tight_layout : falling back to Agg renderer\n</code></pre>\n\n<p>The code above produces the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9ZuOT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ZuOT.png\" alt=\"enter image description here\"></a></p>\n\n<p>The plot ranges from 1-12 (months, on the x-axis) and 2001-2015 on the y-axis. You should notice that the plot on the right seems to start at the same place as the one on the left, and is then stretched all the way to the right. I just want them sitting comfortably!</p>\n\n<p>The overall intention as discussed is to have many of these in one figure, which I will be able to do dynamically with rows/cols once I get this cracked. </p>\n"}, {"tags": ["python", "google-cloud-platform", "jupyter-notebook"], "comments": [{"owner": {"reputation": 5284, "user_id": 3953357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f0b6d4522d8c03a21c5c41d5ba5a23?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3953357/adam"}, "edited": false, "score": 0, "creation_date": 1476645139, "post_id": 39006204, "comment_id": 67421915, "body": "Posting more details, such as your actual code and specifics about where Jupyter is hosted (Google Cloud is a very broad term)  would help the community to assist better. For some tips see <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."}, {"owner": {"reputation": 613, "user_id": 4743732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glP0W.jpg?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4743732/jordan"}, "edited": false, "score": 0, "creation_date": 1479240316, "post_id": 39006204, "comment_id": 68471508, "body": "If you were able to solve the issue you were having, it would be beneficial to post your solution as an answer to help others. If not, providing the information Adam requested would help in troubleshooting this further."}], "owner": {"reputation": 59, "user_id": 6728152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1300a2f78498801831f96db85fa3965c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie_hm", "link": "https://stackoverflow.com/users/6728152/newbie-hm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1471467634, "creation_date": 1471467634, "last_edit_date": 1495541623, "question_id": 39006204, "link": "https://stackoverflow.com/questions/39006204/how-to-read-a-csv-file-in-jupyter-notebook-running-on-google-cloud-using-python", "title": "How to read a CSV file in jupyter notebook running on Google Cloud using Python? CSV File is present on Google Storage", "body": "<p>I did try the suggestions given in the post \"<a href=\"https://stackoverflow.com/questions/17841468/how-to-open-and-process-csv-file-stored-in-google-cloud-storage-using-python\">How to open and process CSV file stored in Google Cloud Storage using Python</a>\", but it didn't work. It throws an error \" No such file or directory\". Is there any API that allows python to read files stored on Google Cloud Storage?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1471467773, "post_id": 39006155, "comment_id": 65364085, "body": "These numbers don&#39;t get rounded for me on Python 3.5"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1471468390, "post_id": 39006155, "comment_id": 65364368, "body": "Python&#39;s <code>float</code> type stores 15 or 16 significant decimal digits. If you want more than that, check the <code>decimal</code> module which can handle arbitrarily many."}], "answers": [{"tags": [], "owner": {"reputation": 11658, "user_id": 888731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xvcw6.jpg?s=128&g=1", "display_name": "Israel Unterman", "link": "https://stackoverflow.com/users/888731/israel-unterman"}, "is_accepted": false, "score": 1, "last_activity_date": 1471467917, "creation_date": 1471467917, "answer_id": 39006268, "question_id": 39006155, "link": "https://stackoverflow.com/questions/39006155/converting-a-string-of-length-20-into-a-float-of-length-20/39006268#39006268", "title": "Converting a string of length 20 into a float of length 20", "body": "<p>You can't get better than your machine float, which is 64 bit or 32 bit. My linux laptop has 64 bit words, and the number is preserved:</p>\n\n<pre><code>\nIn [6]: f = float('0.9999965341102361')\n\nIn [7]: f\nOut[7]: 0.9999965341102361\n\nIn [8]: f2 = float('3.465889763814134E-6')\n\nIn [9]: f2\nOut[9]: 3.465889763814134e-06\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "reply_to_user": {"reputation": 3, "user_id": 6728024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e67ef7080981392cb6ecae798453a6?s=128&d=identicon&r=PG&f=1", "display_name": "A. W.", "link": "https://stackoverflow.com/users/6728024/a-w"}, "edited": false, "score": 0, "creation_date": 1471488620, "post_id": 39006542, "comment_id": 65370165, "body": "@A.W. - What type of array are you asking about?  decimal.Decimal objects can be put in containers - like <a href=\"https://docs.python.org/3/faq/programming.html#how-do-you-make-an-array-in-python\" rel=\"nofollow noreferrer\">lists</a>.  You can put anything in a container/list/array ."}, {"owner": {"reputation": 3, "user_id": 6728024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e67ef7080981392cb6ecae798453a6?s=128&d=identicon&r=PG&f=1", "display_name": "A. W.", "link": "https://stackoverflow.com/users/6728024/a-w"}, "edited": false, "score": 0, "creation_date": 1471489992, "post_id": 39006542, "comment_id": 65370485, "body": "I&#39;m using the NumPy array system."}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": true, "score": 2, "last_activity_date": 1471493708, "last_edit_date": 1471493708, "creation_date": 1471469169, "answer_id": 39006542, "question_id": 39006155, "link": "https://stackoverflow.com/questions/39006155/converting-a-string-of-length-20-into-a-float-of-length-20/39006542#39006542", "title": "Converting a string of length 20 into a float of length 20", "body": "<p>Use the decimal module:</p>\n\n<pre><code>&gt;&gt;&gt; import decimal\n&gt;&gt;&gt; \n&gt;&gt;&gt; a = decimal.Decimal('0.9999965341102361')\n&gt;&gt;&gt; b = decimal.Decimal('3.465889763814134E-6')\n&gt;&gt;&gt; a\nDecimal('0.9999965341102361')\n&gt;&gt;&gt; b\nDecimal('0.000003465889763814134')\n&gt;&gt;&gt; a*10\nDecimal('9.9999653411023610')\n&gt;&gt;&gt; b*10\nDecimal('0.000034658897638141340')\n&gt;&gt;&gt; print(a)\n0.9999965341102361\n&gt;&gt;&gt; print(b)\n0.000003465889763814134\n&gt;&gt;&gt; print('{:1.20e}'.format(b))\n3.46588976381413400000e-6\n&gt;&gt;&gt; \n</code></pre>\n\n<hr>\n\n<p>decimal.Decimal objects in a numpy array</p>\n\n<pre><code>&gt;&gt;&gt; import decimal\n&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; x = decimal.Decimal('0.9999965341102361')\n&gt;&gt;&gt; y = decimal.Decimal('3.465889763814134E-6')\n&gt;&gt;&gt; z = decimal.Decimal('1.23456789012345678901e-2')\n&gt;&gt;&gt;\n&gt;&gt;&gt; a = np.array((x, y, z))\n&gt;&gt;&gt; a\narray([Decimal('0.9999965341102361'), Decimal('0.000003465889763814134'),\n       Decimal('0.0123456789012345678901')], dtype=object)\n&gt;&gt;&gt;\n&gt;&gt;&gt; b = np.float64((x,y,z))\n&gt;&gt;&gt; b\narray([  9.99996534e-01,   3.46588976e-06,   1.23456789e-02])\n&gt;&gt;&gt; b[2], a[2]\n&gt;&gt;&gt;\n(0.012345678901234568, Decimal('0.0123456789012345678901'))\n&gt;&gt;&gt;\n&gt;&gt;&gt; a*2\narray([Decimal('1.9999930682204722'), Decimal('0.000006931779527628268'),\n       Decimal('0.0246913578024691357802')], dtype=object)\n&gt;&gt;&gt; b*2\narray([  1.99999307e+00,   6.93177953e-06,   2.46913578e-02])\n&gt;&gt;&gt;\n&gt;&gt;&gt; a*b\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#50&gt;\", line 1, in &lt;module&gt;\n    a*b\nTypeError: unsupported operand type(s) for *: 'Decimal' and 'float'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Looks like a numpy array of type object will hold decimal.Decimal objects.  Depending on what you want to do they might work.</p>\n"}], "owner": {"reputation": 3, "user_id": 6728024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e67ef7080981392cb6ecae798453a6?s=128&d=identicon&r=PG&f=1", "display_name": "A. W.", "link": "https://stackoverflow.com/users/6728024/a-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39006542, "answer_count": 2, "score": 0, "last_activity_date": 1471493708, "creation_date": 1471467461, "question_id": 39006155, "link": "https://stackoverflow.com/questions/39006155/converting-a-string-of-length-20-into-a-float-of-length-20", "title": "Converting a string of length 20 into a float of length 20", "body": "<p>I have some strings with numbers inside like '0.9999965341102361' and '3.465889763814134E-6'. I know how to convert them to a float value; however, when I do, they become 9.99996534e-01 and 3.46588976e-06. How can I preserve the full length of the number while still converting to a float? In other words, I don't want to have to round off the original number. Is there a way to do this - can I set the float length equal to 20 or something?</p>\n\n<p>It's been a while since I actually took python in school, so I may be forgetting something rather obvious.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "debugging", "pandas", "dataframe", "pivot-table"], "answers": [{"tags": [], "owner": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "is_accepted": true, "score": 1, "last_activity_date": 1471467788, "last_edit_date": 1471467788, "creation_date": 1471467396, "answer_id": 39006134, "question_id": 39006133, "link": "https://stackoverflow.com/questions/39006133/python-pandas-groupby-pivot-tables-are-missing-rows/39006134#39006134", "title": "Python: Pandas: Groupby &amp; Pivot Tables are missing rows", "body": "<p>The problem is that the <strong><em>data type</em> for the scores wasn't consistent (and a float at that!).</strong> </p>\n\n<p>Some of them were strings. After I converted all of the scores into floats, the missing activities showed up.</p>\n\n<p>As an added benefit, having the datatypes be uniform, made the calculation much faster! </p>\n"}], "owner": {"reputation": 1882, "user_id": 3633522, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ebdf98424945ffce4b3505269b0cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Afflatus", "link": "https://stackoverflow.com/users/3633522/afflatus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "accepted_answer_id": 39006134, "answer_count": 1, "score": 0, "last_activity_date": 1471880696, "creation_date": 1471467396, "last_edit_date": 1471880696, "question_id": 39006133, "link": "https://stackoverflow.com/questions/39006133/python-pandas-groupby-pivot-tables-are-missing-rows", "title": "Python: Pandas: Groupby &amp; Pivot Tables are missing rows", "body": "<p>I have a dataframe composed of individuals (their ID's in), activities, and corresponding scores. I'm trying to get the sum of the scores when grouping by the student and an activity type. I can do this with the following:</p>\n\n<pre><code>data_detail.pivot_table([\"total_scored\",\"total_scored_omitted\"], index = [\"id\",\"activity\"], aggfunc=\"sum\")\n\ndata_detail.groupby([\"id\",\"activity\"]).sum()\n</code></pre>\n\n<p>However, when I check the results by looking at a typical student:</p>\n\n<pre><code>data_detail[data_detail[\"id\"]== 41824840].sort_values(\"activity\")\n</code></pre>\n\n<p>I see that there are some activities listed for that given student which are missing from the groupby/pivot table. How can I ensure the final groupby/pivot table is complete and isn't missing any values?</p>\n"}, {"tags": ["python", "http", "proxy", "request"], "answers": [{"tags": [], "owner": {"reputation": 2337, "user_id": 4380515, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1039174538/picture?type=large", "display_name": "Blusky", "link": "https://stackoverflow.com/users/4380515/blusky"}, "is_accepted": false, "score": 0, "last_activity_date": 1498221110, "creation_date": 1498221110, "answer_id": 44721542, "question_id": 39006119, "link": "https://stackoverflow.com/questions/39006119/python-requests-proxy/44721542#44721542", "title": "Python Requests Proxy", "body": "<p>Have you verified that you don't have OS environement variable for proxy set ?</p>\n\n<p>You can check it with <code>env | grep proxy</code>.</p>\n"}], "owner": {"reputation": 93, "user_id": 2049096, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/05a9927e06040fc85f9d5f0ce7547a2d?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/2049096/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498221110, "creation_date": 1471467332, "question_id": 39006119, "link": "https://stackoverflow.com/questions/39006119/python-requests-proxy", "title": "Python Requests Proxy", "body": "<p>I am trying to use the python requests module and pass a proxy through as so through the <code>host:port</code> that I assign it...</p>\n\n<pre><code>proxies = {'http': 'http://host:port'}\nr = requests.get(url, proxies=proxies)\n</code></pre>\n\n<p>This worked for me literally 3 days ago. I then moved on to something else within my project and came back to it not working. I am getting an error saying that I am missing dependencies for SOCKS support as follows...</p>\n\n<pre><code>requests.exceptions.InvalidSchema: Missing dependencies for SOCKS support.\n</code></pre>\n"}, {"tags": ["python", "neural-network", "keras"], "comments": [{"owner": {"reputation": 24966, "user_id": 2001031, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/bd4f0d39f82be9c22f6f01c80d7ad800?s=128&d=identicon&r=PG", "display_name": "Neil Slater", "link": "https://stackoverflow.com/users/2001031/neil-slater"}, "edited": false, "score": 0, "creation_date": 1471467530, "post_id": 39006100, "comment_id": 65363975, "body": "Theano or TensorFlow back end?"}], "answers": [{"tags": [], "owner": {"reputation": 642, "user_id": 803017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e585168fc21084f48aeb33e76f21d5a3?s=128&d=identicon&r=PG&f=1", "display_name": "7VoltCrayon", "link": "https://stackoverflow.com/users/803017/7voltcrayon"}, "is_accepted": true, "score": 2, "last_activity_date": 1472689692, "creation_date": 1472689692, "answer_id": 39260993, "question_id": 39006100, "link": "https://stackoverflow.com/questions/39006100/store-compiled-model-in-keras/39260993#39260993", "title": "Store compiled model in Keras?", "body": "<p>If all you want to do is predict (and not train in production) it is not necessary to compile the model.</p>\n\n<p>Source: <a href=\"https://github.com/fchollet/keras/issues/2621\" rel=\"nofollow\">https://github.com/fchollet/keras/issues/2621</a></p>\n"}, {"tags": [], "owner": {"reputation": 2436, "user_id": 1643257, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/s5qJB.jpg?s=128&g=1", "display_name": "Zach Moshe", "link": "https://stackoverflow.com/users/1643257/zach-moshe"}, "is_accepted": false, "score": 1, "last_activity_date": 1491288480, "creation_date": 1491288480, "answer_id": 43200144, "question_id": 39006100, "link": "https://stackoverflow.com/questions/39006100/store-compiled-model-in-keras/43200144#43200144", "title": "Store compiled model in Keras?", "body": "<p>Unfortunately <code>pickle</code> isn't supported by Keras at the moment. You can either:</p>\n\n<ul>\n<li>Use the built-in 'keras.models.load_model' and 'keras.models.save_model' to store the model and the trained weights to a hdf5 file.</li>\n<li>Use a patchy trick to make Keras models \"picklable\". Useful if you have an object that references a model. I did it once and put a post in my blog - <a href=\"http://zachmoshe.com/2017/04/03/pickling-keras-models.html\" rel=\"nofollow noreferrer\">http://zachmoshe.com/2017/04/03/pickling-keras-models.html</a></li>\n</ul>\n"}], "owner": {"reputation": 517, "user_id": 560587, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fa5bcd09f4af004e4f4df157386bd24a?s=128&d=identicon&r=PG", "display_name": "What what", "link": "https://stackoverflow.com/users/560587/what-what"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 39260993, "answer_count": 2, "score": 1, "last_activity_date": 1491288480, "creation_date": 1471467254, "question_id": 39006100, "link": "https://stackoverflow.com/questions/39006100/store-compiled-model-in-keras", "title": "Store compiled model in Keras?", "body": "<p>I'd like to use a Keras model in production but don't want to have to re-compile the model everytime I need to run it. Should I just pickle it, etc.?</p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 0, "last_activity_date": 1471469136, "last_edit_date": 1471469136, "creation_date": 1471468418, "answer_id": 39006376, "question_id": 39006055, "link": "https://stackoverflow.com/questions/39006055/how-do-i-take-31-columns-for-days-in-pandas-and-group-them-into-a-single-column/39006376#39006376", "title": "How do I take 31 columns for days in pandas and group them into a single column?", "body": "<p>You can <code>melt</code> the days.</p>\n\n<pre><code>df2 = pd.melt(df, id_vars=df.columns[:3].tolist(), var_name='day',\n              value_vars=df.columns[3:].tolist())\ndf2['timestamp'] = pd.to_datetime(df2.MONTH.astype(str) + df2.day.astype(str), \n                                  format='%Y%m%d')\n&gt;&gt;&gt; df2.sort_values(['ID', 'timestamp'])\n         ID     TASK   MONTH day     value  timestamp\n0   P502867  5.34545  201601   1  4.664981 2016-01-01\n2   P502867  5.34545  201601   2  4.669900 2016-01-02\n4   P502867  5.34545  201601   3  4.557714 2016-01-03\n6   P502867  5.34545  201601   4       NaN 2016-01-04\n8   P502867  5.34545  201601   5       NaN 2016-01-05\n10  P502867  5.34545  201601   6       NaN 2016-01-06\n1   P502867  5.34545  201602   1  4.736791 2016-02-01\n3   P502867  5.34545  201602   2  4.664536 2016-02-02\n5   P502867  5.34545  201602   3  4.751841 2016-02-03\n7   P502867  5.34545  201602   4  4.744383 2016-02-04\n9   P502867  5.34545  201602   5       NaN 2016-02-05\n11  P502867  5.34545  201602   6       NaN 2016-02-06\n</code></pre>\n\n<p>Optionally, you can drop those with no values:</p>\n\n<pre><code>&gt;&gt;&gt; df2.dropna(subset=['value'])\n        ID     TASK   MONTH day     value  timestamp\n0  P502867  5.34545  201601   1  4.664981 2016-01-01\n1  P502867  5.34545  201602   1  4.736791 2016-02-01\n2  P502867  5.34545  201601   2  4.669900 2016-01-02\n3  P502867  5.34545  201602   2  4.664536 2016-02-02\n4  P502867  5.34545  201601   3  4.557714 2016-01-03\n5  P502867  5.34545  201602   3  4.751841 2016-02-03\n7  P502867  5.34545  201602   4  4.744383 2016-02-04\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 6295849, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/020ce17cc9cadeada53eed3f23758b49?s=128&d=identicon&r=PG&f=1", "display_name": "staten12", "link": "https://stackoverflow.com/users/6295849/staten12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 39006376, "answer_count": 1, "score": 1, "last_activity_date": 1471469136, "creation_date": 1471467056, "question_id": 39006055, "link": "https://stackoverflow.com/questions/39006055/how-do-i-take-31-columns-for-days-in-pandas-and-group-them-into-a-single-column", "title": "How do I take 31 columns for days in pandas and group them into a single column?", "body": "<p>I have a very large file that I'm trying to reformat to run QC checks.  The format is very strange how do I make it into a single column with a record for each date?</p>\n\n<p>current code is:</p>\n\n<pre><code>group = df.groupby(['ID','MONTH'], as_index = True).sum()\n</code></pre>\n\n<p>The dataframe looks like this before any grouping:</p>\n\n<p><code>ID         TASK      MONTH     1       2       3     4     5         6 \n P502867    5.34545   201601                4.664981    4.6699       4.557714\n P502867    5.34545   201602    4.736791    4.664536    4.751841     4.744383</code></p>\n\n<p>The top numbers are the days of the month, and in the month column we have each corresponding month until 201608 (August).  Essentially I want to group this by the ID, Month, and then the have each column of the days within each month.  So this would enable me to run down the list and compare it with another file with daily records.  The output dataframe would look something like:</p>\n\n<p><code>ID        TASK       MONTH      DAY        VALUE\nP502867    5.34545    201601       1<br>\nP502867    5.34545    201601       2<br>\nP502867    5.34545    201601       3        4.664981\nP502867    5.34545    201601       4        4.6699</code> </p>\n\n<p>Also it might even be helpful to append the month and day together? like 20160101, 20160102.  Whichever is easiest.  </p>\n"}, {"tags": ["python", "apache", "flask", "wsgi"], "comments": [{"owner": {"reputation": 728, "user_id": 4072706, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6dc5220ecd65b973975c1652d4462db1?s=128&d=identicon&r=PG&f=1", "display_name": "tamjd1", "link": "https://stackoverflow.com/users/4072706/tamjd1"}, "edited": false, "score": 0, "creation_date": 1471467351, "post_id": 39006019, "comment_id": 65363900, "body": "Hard to say what the issue is without some sample code and config or some error logs"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1471467409, "post_id": 39006019, "comment_id": 65363929, "body": "Have you looked in the web server error log?"}, {"owner": {"reputation": 1, "user_id": 6158802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205828079046640/picture?type=large", "display_name": "Dan Cavender", "link": "https://stackoverflow.com/users/6158802/dan-cavender"}, "edited": false, "score": 0, "creation_date": 1471469678, "post_id": 39006019, "comment_id": 65364942, "body": "sorry I didn&#39;t post them right away wasn&#39;t sure if they were totally necessary for this situation"}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1471480317, "post_id": 39006019, "comment_id": 65368121, "body": "Enable Flask debug mode and see what actual Python exception is being generated. The SIGTERM message is likely unrelated as that would only occur if Apache was being shutdown."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6158802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205828079046640/picture?type=large", "display_name": "Dan Cavender", "link": "https://stackoverflow.com/users/6158802/dan-cavender"}, "edited": false, "score": 0, "creation_date": 1471467984, "post_id": 39006179, "comment_id": 65364189, "body": "wouldn&#39;t it also return a 500 error when I tested the simple page that rendered &quot;hello&quot;? I could be wrong but I just wanted to make sure"}], "tags": [], "owner": {"reputation": 1122, "user_id": 2277088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nKjzv.jpg?s=128&g=1", "display_name": "Kostas Pelelis", "link": "https://stackoverflow.com/users/2277088/kostas-pelelis"}, "is_accepted": false, "score": -1, "last_activity_date": 1471467533, "creation_date": 1471467533, "answer_id": 39006179, "question_id": 39006019, "link": "https://stackoverflow.com/questions/39006019/wsgi-flask-problems-500-error/39006179#39006179", "title": "WSGI flask problems 500 error", "body": "<p>My guess is Apache is blocking the requests or doesn't forward them to your application. Since I am an Nginx user I don't know much about Apache configuration but here's what I found on the internet.</p>\n\n<pre><code>NameVirtualHost *\n&lt;VirtualHost *&gt;\n    ServerName yourdomain.com\n\n    ProxyRequests Off\n    &lt;Proxy *&gt;\n        Order deny,allow\n        Allow from all\n    &lt;/Proxy&gt;\n\n    ProxyPass / http://localhost:(WSGI port)/\n    ProxyPassReverse / http://localhost:(WSGI port)/\n    &lt;Location /&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Location&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Where WSGI port is the port your flask application is running</p>\n\n<p>This a simple configuration that will (hopefully) forward all requests from Apache to your flask application. If it doesn't please provide your current Apache configuration file</p>\n"}, {"comments": [{"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1471490404, "post_id": 39009338, "comment_id": 65370574, "body": "The <code>WSGIPassAuthorization</code> directive no doubt."}], "tags": [], "owner": {"reputation": 1, "user_id": 6158802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205828079046640/picture?type=large", "display_name": "Dan Cavender", "link": "https://stackoverflow.com/users/6158802/dan-cavender"}, "is_accepted": false, "score": 0, "last_activity_date": 1471489392, "creation_date": 1471489392, "answer_id": 39009338, "question_id": 39006019, "link": "https://stackoverflow.com/questions/39006019/wsgi-flask-problems-500-error/39009338#39009338", "title": "WSGI flask problems 500 error", "body": "<p>The problem was that wgsi was eating my authentication. Not sure how I missed it but it happens I guess. Thanks for the help everyone. I had to include a tag to allow authentication to pass through.</p>\n"}], "owner": {"reputation": 1, "user_id": 6158802, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205828079046640/picture?type=large", "display_name": "Dan Cavender", "link": "https://stackoverflow.com/users/6158802/dan-cavender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1471489392, "creation_date": 1471466923, "last_edit_date": 1471469636, "question_id": 39006019, "link": "https://stackoverflow.com/questions/39006019/wsgi-flask-problems-500-error", "title": "WSGI flask problems 500 error", "body": "<p>I am trying to launch a flask program to an apache server and it works... kinda. I can access a test route that yields just a \"hello\" so I know that everything is configured correctly. However when I try to access any other part I get a 500 error. my first instinct was that there was a flaw in the program and it was crashing. So I ran it on Flask independent server and it works perfectly. So my question is why do some urls work but not others even though there are no problems in the other URL. please let me know if you need any more information.  </p>\n\n<p>This is my conf file</p>\n\n<p>\n    ServerName localhost</p>\n\n<pre><code>WSGIDaemonProcess Ellucian user=www-data group=www-data threads=5 home=/var/www/Ellucian/\nWSGIScriptAlias /api/matching-gift-policies /var/www/Ellucian/app.wsgi\n\n&lt;directory /var/www/Ellucian&gt;\n    WSGIProcessGroup Ellucian\n    WSGIApplicationGroup %{GLOBAL}\n    WSGIScriptReloading On\n    Order deny,allow\n    Allow from all\n&lt;/directory&gt;\n</code></pre>\n\n<p></p>\n\n<p>The error log is a classic </p>\n\n<blockquote>\n  <p>caught SIGTERM, shutting down </p>\n  \n  <p>Apache/2.4.7 (Ubuntu) PHP/5.5.9-1ubuntu4.19 mod_wsgi/3.4 Python/2.7.6 configured -- resuming normal operations</p>\n  \n  <p>Command line: '/usr/sbin/apache2'</p>\n</blockquote>\n"}, {"tags": ["python", "python-2.7", "list-comprehension"], "comments": [{"owner": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "edited": false, "score": 0, "creation_date": 1471466806, "post_id": 39005928, "comment_id": 65363619, "body": "Is <code>f = [10,20,30,40,50,60]; ind = 3; f_new = f[:ind]+f[ind+1:]; print(f_new);</code> what you mean by self-addition?"}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "reply_to_user": {"reputation": 1723, "user_id": 6580543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2d26bb59afa57a4a08d5000af6391d?s=128&d=identicon&r=PG&f=1", "display_name": "mitoRibo", "link": "https://stackoverflow.com/users/6580543/mitoribo"}, "edited": false, "score": 0, "creation_date": 1471467249, "post_id": 39005928, "comment_id": 65363861, "body": "I&#39;ve updated my question for clarity"}, {"owner": {"reputation": 728, "user_id": 4072706, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6dc5220ecd65b973975c1652d4462db1?s=128&d=identicon&r=PG&f=1", "display_name": "tamjd1", "link": "https://stackoverflow.com/users/4072706/tamjd1"}, "edited": false, "score": 0, "creation_date": 1471467921, "post_id": 39005928, "comment_id": 65364156, "body": "@MrDuk... so, you&#39;re trying to loop through a list and on each iteration create a new list which excludes the current index? It&#39;s not very clear from your question what you are trying to achieve."}, {"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "edited": false, "score": 0, "creation_date": 1471467971, "post_id": 39005928, "comment_id": 65364181, "body": "Yes, that&#39;s exactly what I&#39;m trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 294, "user_id": 5182863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QiVf3.jpg?s=128&g=1", "display_name": "Rahul Madhavan", "link": "https://stackoverflow.com/users/5182863/rahul-madhavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1471466873, "creation_date": 1471466873, "answer_id": 39006006, "question_id": 39005928, "link": "https://stackoverflow.com/questions/39005928/how-to-get-items-in-a-list-before-and-after-a-specified-index/39006006#39006006", "title": "How to get items in a list before and after a specified index", "body": "<p>iterate y over the index:</p>\n\n<pre><code>f = [10,20,30,40,50,60]\nr = [x + f[y] for x in f for y in range(len(f)) if f[y] != x]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "edited": false, "score": 0, "creation_date": 1471467382, "post_id": 39006016, "comment_id": 65363917, "body": "Thanks, but the assignment of <code>i</code> in the question is just an example -- I want to split a list <code>f</code> into a new list, excluding <code>i</code>, every iteration"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 3, "last_activity_date": 1471468142, "last_edit_date": 1471468142, "creation_date": 1471466919, "answer_id": 39006016, "question_id": 39005928, "link": "https://stackoverflow.com/questions/39005928/how-to-get-items-in-a-list-before-and-after-a-specified-index/39006016#39006016", "title": "How to get items in a list before and after a specified index", "body": "<p>Use <a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow\"><code>enumerate()</code></a> in order to have access to index at iteration time.</p>\n\n<pre><code>[item for i, item in enumerate(f) if i != 3]\n</code></pre>\n\n<p>In this case you can escape the intended index or if you have a set of indices you can check the membership with <code>in</code>:</p>\n\n<pre><code>[item for i, item in enumerate(f) if i not in {3, 4, 5}]\n</code></pre>\n\n<p>If you want to remove an item in a certain index you can use <code>del</code> statement:</p>\n\n<pre><code>&gt;&gt;&gt; l = ['a', 'b', 'c', 'd', 'e']\n&gt;&gt;&gt; \n&gt;&gt;&gt; del l[3]\n&gt;&gt;&gt; l\n['a', 'b', 'c', 'e']\n&gt;&gt;&gt; \n</code></pre>\n\n<p>If you want to create a new list by removing that item and preserve teh main list you can use a simple slicing:</p>\n\n<pre><code>&gt;&gt;&gt; new = l[:3] + l[4:]\n&gt;&gt;&gt; new\n['a', 'b', 'c', 'e']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 728, "user_id": 4072706, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6dc5220ecd65b973975c1652d4462db1?s=128&d=identicon&r=PG&f=1", "display_name": "tamjd1", "link": "https://stackoverflow.com/users/4072706/tamjd1"}, "is_accepted": false, "score": 0, "last_activity_date": 1471468646, "creation_date": 1471468646, "answer_id": 39006424, "question_id": 39005928, "link": "https://stackoverflow.com/questions/39005928/how-to-get-items-in-a-list-before-and-after-a-specified-index/39006424#39006424", "title": "How to get items in a list before and after a specified index", "body": "<p>Probably not the most elegant solution, but this might work:</p>\n\n<pre><code>f = [1,2,3,4,5]\n\nfor i, x in enumerate(f):\n    if i == 0:\n        new_list = f[1:]\n    elif i == len(f) -1:\n        new_list = f[:-1]\n    else:\n        new_list = f[:i]+f[i+1:]\n    print i, new_list\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>0 [2, 3, 4, 5]\n1 [1, 3, 4, 5]\n2 [1, 2, 4, 5]\n3 [1, 2, 3, 5]\n4 [1, 2, 3, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6519, "user_id": 2069380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac5cb90925b4059b6b2c0885c9ffaf?s=128&d=identicon&r=PG", "display_name": "Ohad Eytan", "link": "https://stackoverflow.com/users/2069380/ohad-eytan"}, "is_accepted": false, "score": 0, "last_activity_date": 1471472925, "last_edit_date": 1471472925, "creation_date": 1471470863, "answer_id": 39006848, "question_id": 39005928, "link": "https://stackoverflow.com/questions/39005928/how-to-get-items-in-a-list-before-and-after-a-specified-index/39006848#39006848", "title": "How to get items in a list before and after a specified index", "body": "<p>Well, it may seem scary but that's a one-liner that does the work:</p>\n\n<pre><code>&gt;&gt;&gt; from numpy import array\n&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; list(itertools.chain(*(i+array(l) for i,l in zip(reversed(f), itertools.combinations(f, len(f)-1)))))\n[3, 4, 3, 5, 4, 5]\n</code></pre>\n\n<p>If you look at it slowly, it's not so complicated:</p>\n\n<ol>\n<li><p>The <code>itertools.combination</code> give all the possible options to the <code>len(f)-1</code> combination:</p>\n\n<pre><code>&gt;&gt;&gt; list(itertools.combinations(f, len(f)-1))\n[(1, 2), (1, 3), (2, 3)]\n</code></pre></li>\n<li><p>You wrap it with <code>zip</code> and <code>reversed(f)</code> so you can get each combination together with the missing value:</p>\n\n<pre><code>&gt;&gt;&gt; [(i,l) for i,l in zip(reversed(f), itertools.combinations(f, len(f)-1))]\n[(3, (1, 2)), (2, (1, 3)), (1, (2, 3))]\n</code></pre></li>\n<li><p>Then you convert <code>l</code> to a <code>numpy.array</code> so you can add the missing value:</p>\n\n<pre><code>&gt;&gt;&gt; list((i+array(l) for i,l in zip(reversed(f), itertools.combinations(f, len(f)-1))))\n[array([4, 5]), array([3, 5]), array([3, 4])]\n</code></pre></li>\n<li><p>And finaly you use <code>itertools.chain</code> to get the desired result.</p></li>\n</ol>\n"}], "owner": {"reputation": 12150, "user_id": 1143724, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/47fa5f1bc077c8158fe5ad1287105381?s=128&d=identicon&r=PG", "display_name": "MrDuk", "link": "https://stackoverflow.com/users/1143724/mrduk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1984, "favorite_count": 0, "accepted_answer_id": 39006016, "answer_count": 4, "score": 0, "last_activity_date": 1471472925, "creation_date": 1471466524, "last_edit_date": 1471468073, "question_id": 39005928, "link": "https://stackoverflow.com/questions/39005928/how-to-get-items-in-a-list-before-and-after-a-specified-index", "title": "How to get items in a list before and after a specified index", "body": "<p>Suppose I have the list <code>f=[1,2,3]</code> and index <code>i</code> -- I want to iterate over <code>f</code>, excluding <code>i</code>. Is there a way I can use <code>i</code> to split the list, something like <code>f[:i:]</code>, where I would be given a new list of <code>[1,3]</code> when ran with <code>i=1</code>?</p>\n\n<p>Code I'm trying to fit this into:</p>\n\n<pre><code># permutations, excluding self addition\n# &lt;something here&gt; would be f excluding f[x]\nf = [1,2,3]\nr = [x + y for x in f for y in &lt;something here&gt;]\n\n# Expected Output (notice absence of any f[i]+f[i])\n[3, 4, 3, 5, 4, 5]\n</code></pre>\n"}, {"tags": ["python", "parsing", "selenium-webdriver", "phantomjs", "multiprocessing"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 5872634, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WnYfesn7Okk/AAAAAAAAAAI/AAAAAAAAACg/2nbndYZcF4k/photo.jpg?sz=128", "display_name": "\u0412\u0456\u0442\u0430\u043b\u0456\u0439 \u041c\u0430\u0440\u0442\u0438\u043d\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/5872634/%d0%92%d1%96%d1%82%d0%b0%d0%bb%d1%96%d0%b9-%d0%9c%d0%b0%d1%80%d1%82%d0%b8%d0%bd%d0%b5%d0%bd%d0%ba%d0%be"}, "is_accepted": false, "score": 0, "last_activity_date": 1471961338, "creation_date": 1471961338, "answer_id": 39103553, "question_id": 39005906, "link": "https://stackoverflow.com/questions/39005906/los%d0%b5-links-at-multiprocessing-parsing-on-python-selenium-phantomjs-processpoole/39103553#39103553", "title": "Los\u0435 links at multiprocessing parsing on Python (selenium/phantomJS/ProcessPoolExecutor)", "body": "<p>I try, instead ProcessPoolExecutor - ThreadPoolExecutor, losing links stop. In Thread... case, speed approximately equal to Process. </p>\n\n<p>The question is actual, if you have some information about this, please write. Thanks.</p>\n"}], "owner": {"reputation": 46, "user_id": 5872634, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WnYfesn7Okk/AAAAAAAAAAI/AAAAAAAAACg/2nbndYZcF4k/photo.jpg?sz=128", "display_name": "\u0412\u0456\u0442\u0430\u043b\u0456\u0439 \u041c\u0430\u0440\u0442\u0438\u043d\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/5872634/%d0%92%d1%96%d1%82%d0%b0%d0%bb%d1%96%d0%b9-%d0%9c%d0%b0%d1%80%d1%82%d0%b8%d0%bd%d0%b5%d0%bd%d0%ba%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471961338, "creation_date": 1471466414, "last_edit_date": 1471590418, "question_id": 39005906, "link": "https://stackoverflow.com/questions/39005906/los%d0%b5-links-at-multiprocessing-parsing-on-python-selenium-phantomjs-processpoole", "title": "Los\u0435 links at multiprocessing parsing on Python (selenium/phantomJS/ProcessPoolExecutor)", "body": "<p>(Sorry for my English)\nI want to make parser for some website with include a lot of JS scripts,\nfor this I use selenium+phantomjs+lxml. Needs that this parser works fast,\nat least 1000 links per 1 hour. For this purpose I use multiprocessing\n(not Threading!! because GIL) and module Future, and ProcessExecutorPool. </p>\n\n<p>The problem in next, when I give to input list from 10 links and 5 workers, after executions \nlose some links. It can be 1 links or greater(till 6! - the max value but rare). This of course bad result. \nThere is some dependence, for increasing amount of process, increase amount of lost links. \nFirst of all I trace where program breaking. (asserts doesn't works correctly because multiprocessing)\nI find that, the program breaking after string \"browser.get(l)\". Then I put time.sleep(x) - give some time \nfor downloading page. Give no result. Then I try research .get() from selenium.webdriver....remote.webdriver.py\nbut it's reload .execute() - and this function takes so many parameters - and discovers it - too long and \ndifficult for me... and the same time I try to run program for 1 process - and I lost 1 links. I thought, may\nbe problem not in selenium and PhantomJS, than I replace concurrent.futures.Future.ProcessExecutorPool\non multiprocessing.Pool - problem solves, links don't lose, but if amount of process - &lt;= 4, works \nalmost good, but some time appeares new mistakes(this mistakes appears when set  4 &lt;= amount of process): </p>\n\n<pre><code>    \"\"\"\nmultiprocessing.pool.RemoteTraceback: \nTraceback (most recent call last):\nFile \"/usr/lib/python3.4/multiprocessing/pool.py\", line 119, in worker\n    result = (True, func(*args, **kwds))\nFile \"/usr/lib/python3.4/multiprocessing/pool.py\", line 44, in mapstar\n    return list(map(*args))\nFile \"interface.py\", line 34, in hotline_to_mysql\n    w = Parse_hotline().browser_manipulation(link)\nFile \"/home/water/work/parsing/class_parser/parsing_classes.py\", line 352, in browser_manipulation\n    browser.get(l)\nFile \"/usr/local/lib/python3.4/dist-packages/selenium/webdriver/remote/webdriver.py\", line 247, in get\n    self.execute(Command.GET, {'url': url})\nFile \"/usr/local/lib/python3.4/dist-packages/selenium/webdriver/remote/webdriver.py\", line 233, in execute\n    response = self.command_executor.execute(driver_command, params)\nFile \"/usr/local/lib/python3.4/dist-packages/selenium/webdriver/remote/remote_connection.py\", line 401, in execute\n    return self._request(command_info[0], url, body=data)\nFile \"/usr/local/lib/python3.4/dist-packages/selenium/webdriver/remote/remote_connection.py\", line 471, in _request\n    resp = opener.open(request, timeout=self._timeout)\nFile \"/usr/lib/python3.4/urllib/request.py\", line 463, in open\n    response = self._open(req, data)\nFile \"/usr/lib/python3.4/urllib/request.py\", line 481, in _open\n    '_open', req)\nFile \"/usr/lib/python3.4/urllib/request.py\", line 441, in _call_chain\n    result = func(*args)\nFile \"/usr/lib/python3.4/urllib/request.py\", line 1210, in http_open\n    return self.do_open(http.client.HTTPConnection, req)\nFile \"/usr/lib/python3.4/urllib/request.py\", line 1185, in do_open\n    r = h.getresponse()\nFile \"/usr/lib/python3.4/http/client.py\", line 1171, in getresponse\n    response.begin()\nFile \"/usr/lib/python3.4/http/client.py\", line 351, in begin\n    version, status, reason = self._read_status()\nFile \"/usr/lib/python3.4/http/client.py\", line 321, in _read_status\n    raise BadStatusLine(line)\nhttp.client.BadStatusLine: ''\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\nFile \"interface.py\", line 69, in &lt;module&gt;\n    main()\nFile \"interface.py\", line 63, in main\n    executor.map(hotline_to_mysql, link_list)\nFile \"/usr/lib/python3.4/multiprocessing/pool.py\", line 260, in map\n    return self._map_async(func, iterable, mapstar, chunksize).get()\nFile \"/usr/lib/python3.4/multiprocessing/pool.py\", line 599, in get\n    raise self._value\nhttp.client.BadStatusLine: ''\n\"\"\"\n\n\nimport random\nimport time\nimport lxml.html as lh\nfrom selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.desired_capabilities import DesiredCapabilities\nfrom multiprocessing import Pool\nfrom selenium.webdriver.common.keys import Keys\nfrom concurrent.futures import Future, ProcessPoolExecutor, ThreadPoolExecutor\nAMOUNT_PROCESS = 5\n\ndef parse(h)-&gt;list:\n    # h - str, html of page\n    lxml_ = lh.document_fromstring(h)\n    name = lxml_.xpath('/html/body/div[2]/div[7]/div[6]/ul/li[1]/a/@title')\n    prices_ = (price.text_content().strip().replace('\\xa0', ' ')\n                for price in lxml_.xpath('//*[@id=\"gotoshop-price\"]'))\n    markets_ =(market.text_content().strip() for market in\n            lxml_.find_class('cell shop-title'))\n    wares = [[name[0], market, price] for (market, price)\n            in zip(markets_, prices_)]\n    return wares\n\n\ndef browser_manipulation(l):\n    #options =  []\n    #options.append('--load-images=false')\n    #options.append('--proxy={}:{}'.format(host, port))\n    #options.append('--proxy-type=http')\n    #options.append('--user-agent={}'.format(user_agent)) #\u0442\u0443\u0442 \u0445\u0435\u0434\u0435\u0440\u044b \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u043e\n\n    dcap = dict(DesiredCapabilities.PHANTOMJS)\n    #user agent takes from my config.py\n    dcap[\"phantomjs.page.settings.userAgent\"] = (random.choice(USER_AGENT))\n    browser = webdriver.PhantomJS(desired_capabilities=dcap)\n    #print(browser)\n    #print('~~~~~~', l)\n    #browser.implicitly_wait(20)\n    #browser.set_page_load_timeout(80)\n    #time.sleep(2)\n    browser.get(l)\n    time.sleep(20)\n    result = parse(browser.page_source)\n    #print('++++++', result[0][0])\n    browser.quit()\n    return result\n\ndef main():\n    #open some file with links\n\n    with open(sys.argv[1], 'r') as f:\n        link_list = [i.replace('\\n', '') for i in f]\n    with Pool(AMOUNT_PROCESS) as executor:\n        executor.map(browser_manipulation, link_list)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Where is the problem(selenium+phantomJS, ThreadPoolExecutor, my code)? Why links lost?\nHow to increase speed of parsing?\nFinally, may be there are alternative way for parse dynamic website without selenium+phantomjs, on python?\nOf course, important is speed of parsing.\nThank's for answers.</p>\n"}, {"tags": ["python", "multithreading", "python-3.x"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 5, "creation_date": 1471466571, "post_id": 39005901, "comment_id": 65363493, "body": "<code>threading</code> Python module might help you. Or try <code>multiprocessing</code> if you wanna break out of the GIL (Global Interpreter Lock - better Google that term). If you&#39;re using Python 3.5, you should almost definitely try <code>asyncio</code> and that fancy <code>async def</code> syntax for asynchronous functions definition."}, {"owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1471467173, "post_id": 39005901, "comment_id": 65363821, "body": "@ForceBru, thanks. Could you give me a example? I am using Python 3.4."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 3, "creation_date": 1471467283, "post_id": 39005901, "comment_id": 65363873, "body": "simply wrap your current code into a function and spawn several threads running it (something like <code>threading.Thread(target=func).start()</code>)"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 5, "creation_date": 1471467516, "post_id": 39005901, "comment_id": 65363970, "body": "here&#39;s the documentation on <code>threading</code>: <a href=\"https://docs.python.org/3.4/library/threading.html\" rel=\"nofollow noreferrer\">docs.python.org/3.4/library/threading.html</a>"}, {"owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1471467659, "post_id": 39005901, "comment_id": 65364028, "body": "@ForceBru, thanks for helping!"}, {"owner": {"reputation": 707, "user_id": 4066425, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/328007af45eea53b3f0fe7210f4bcc70?s=128&d=identicon&r=PG&f=1", "display_name": "stack user", "link": "https://stackoverflow.com/users/4066425/stack-user"}, "edited": false, "score": 0, "creation_date": 1472797432, "post_id": 39005901, "comment_id": 65905236, "body": "consider that python isn&#39;t the best tool for this job.  You might want to consider a threadpool approach and asynchronous io (boost::asio is a good choice)."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "edited": false, "score": 0, "creation_date": 1472480169, "post_id": 39207374, "comment_id": 65755835, "body": "why for _ in? I dont understand _"}, {"owner": {"reputation": 707, "user_id": 4256535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMvF8.jpg?s=128&g=1", "display_name": "Alu", "link": "https://stackoverflow.com/users/4256535/alu"}, "reply_to_user": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "edited": false, "score": 0, "creation_date": 1472480226, "post_id": 39207374, "comment_id": 65755876, "body": "It means you don&#39;t need the index of the iteration. Underscore is a convention to mark the variable as unused.  You can also use <code>i</code> instead of <code>_</code> and ignore it."}, {"owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "edited": false, "score": 0, "creation_date": 1472485503, "post_id": 39207374, "comment_id": 65759136, "body": "def worker():     do_stuff() -&gt; it will be my TCP client?"}, {"owner": {"reputation": 707, "user_id": 4256535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMvF8.jpg?s=128&g=1", "display_name": "Alu", "link": "https://stackoverflow.com/users/4256535/alu"}, "reply_to_user": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "edited": false, "score": 0, "creation_date": 1472486882, "post_id": 39207374, "comment_id": 65759977, "body": "Yes, there you can open the socket and do your stuff ;)"}, {"owner": {"reputation": 1211, "user_id": 3538107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5bfb2c9984026be5871a7eed1da47f3?s=128&d=identicon&r=PG&f=1", "display_name": "bravosierra99", "link": "https://stackoverflow.com/users/3538107/bravosierra99"}, "edited": false, "score": 0, "creation_date": 1472749916, "post_id": 39207374, "comment_id": 65889235, "body": "@Alu Could you explain why you set the threads as Daemons when you are going to immediately follow by calling join on every thread.  Doesn&#39;t that negate the point of setting them as Daemons?"}, {"owner": {"reputation": 707, "user_id": 4256535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMvF8.jpg?s=128&g=1", "display_name": "Alu", "link": "https://stackoverflow.com/users/4256535/alu"}, "edited": false, "score": 0, "creation_date": 1472750154, "post_id": 39207374, "comment_id": 65889371, "body": "Good point. In that example you are right. For a good explanation look at <a href=\"http://stackoverflow.com/questions/190010/daemon-threads-explanation\" title=\"daemon threads explanation\">stackoverflow.com/questions/190010/daemon-threads-explanatio&zwnj;&#8203;n</a>"}], "tags": [], "owner": {"reputation": 707, "user_id": 4256535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMvF8.jpg?s=128&g=1", "display_name": "Alu", "link": "https://stackoverflow.com/users/4256535/alu"}, "is_accepted": true, "score": 2, "last_activity_date": 1472476877, "creation_date": 1472476877, "answer_id": 39207374, "question_id": 39005901, "link": "https://stackoverflow.com/questions/39005901/how-generate-multiple-tcp-clients-using-threads-instead-of-opening-multiple-i/39207374#39207374", "title": "How &quot;generate &quot; multiple TCP clients using Threads instead of opening multiple instances of the terminal and run the script several times?", "body": "<p>Try this:\nThe worker method will be set as target for the thread. \nSo every thread will use the code of the method. \nAfter starting all thread, the for loop at the bottom will wait for all threads to finish. </p>\n\n<p>In the worker method you can use arrays or lists of data from outside the method. So you can iterate for example over a list of Urls or append the fetched data to a new output array. </p>\n\n<pre><code>import threading\n\nthreads = []\nmaxNrOfThreads = 5\n\ndef worker():\n    do_stuff()\n\nfor _ in range(maxNrOfThreads):\n    thr = threading.Thread(target=worker)\n    threads.append(thr)\n    thr.setDaemon(True)\n    thr.start()\n\nfor thread in threads:\n    thread.join()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "edited": false, "score": 0, "creation_date": 1473075512, "post_id": 39224893, "comment_id": 65990899, "body": "There&#39;s no <code>raw_input</code> in Python 3. Notice the tag."}], "tags": [], "owner": {"reputation": 14349, "user_id": 1384641, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bqaZL.png?s=128&g=1", "display_name": "Nabeel Ahmed", "link": "https://stackoverflow.com/users/1384641/nabeel-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1473085100, "last_edit_date": 1473085100, "creation_date": 1472552612, "answer_id": 39224893, "question_id": 39005901, "link": "https://stackoverflow.com/questions/39005901/how-generate-multiple-tcp-clients-using-threads-instead-of-opening-multiple-i/39224893#39224893", "title": "How &quot;generate &quot; multiple TCP clients using Threads instead of opening multiple instances of the terminal and run the script several times?", "body": "<p>I have just wrapped your code/what you want to do, into a function i.e. <code>worker()</code>. Next, I have added extra code for <code>thread</code> spawning and set the <code>worker()</code> function as the <code>target</code> (the function/work/code each spawned thread will execute - this is why it's a convention to name it <code>worker</code>).</p>\n\n<pre><code>th = threading.Thread(target=worker)\n</code></pre>\n\n<hr>\n\n<p>The multithreaded version of you above example can be as follows:</p>\n\n<pre><code>import threading\nfrom socket import *\n\nserverHost = 'localhost'#ip do servidor\nserverPort = 50008\n\nthreads = []\ninput = input(\"Enter the number of threads:\")\nnum_of_threads = int(input)\n\ndef worker():\n    # Criamos o socket e o conectamos ao servidor\n    sockobj = socket(AF_INET, SOCK_STREAM)\n    sockobj.connect((serverHost, serverPort))\n\n    # Mandamos a menssagem linha por linha\n    for linha in menssagem:\n        sockobj.send(linha)\n        # Depois de mandar uma linha esperamos uma resposta\n        # do servidor\n        data = sockobj.recv(1024)\n        print('Cliente recebeu:', data)\n\n    sockobj.close()\n\n# thread generation block\nfor t in range(num_of_threads):\n    th = threading.Thread(target=worker)\n    threads.append(th)\n    th.setDaemon(True)\n    th.start()\n\nfor thread in threads:\n    thread.join()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "edited": false, "score": 0, "creation_date": 1473075618, "post_id": 39322922, "comment_id": 65990979, "body": "In Python 3 <code>print</code> is no longer an operator. Notice the tag."}, {"owner": {"reputation": 176, "user_id": 5884106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6r43n.jpg?s=128&g=1", "display_name": "Raul R.", "link": "https://stackoverflow.com/users/5884106/raul-r"}, "reply_to_user": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "edited": false, "score": 0, "creation_date": 1473133830, "post_id": 39322922, "comment_id": 66011668, "body": "thanks, the code is more a pseudo-code, not tested, but have the ideas that should work."}], "tags": [], "owner": {"reputation": 176, "user_id": 5884106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6r43n.jpg?s=128&g=1", "display_name": "Raul R.", "link": "https://stackoverflow.com/users/5884106/raul-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1473132616, "last_edit_date": 1473132616, "creation_date": 1473039285, "answer_id": 39322922, "question_id": 39005901, "link": "https://stackoverflow.com/questions/39005901/how-generate-multiple-tcp-clients-using-threads-instead-of-opening-multiple-i/39322922#39322922", "title": "How &quot;generate &quot; multiple TCP clients using Threads instead of opening multiple instances of the terminal and run the script several times?", "body": "<p>Here is one solution with queues to send distinct messages.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport Queue\nimport threading\nimport time\nfrom socket import *\n\n\nDEF_HOST = 'localhost'\nDEF_PORT = 50008\n\n\nqueueLock = threading.Lock()\n\n\nclass myThreadTCP (threading.Thread):\n\n    def __init__(self, host=DEF_HOST, port=DEF_PORT, q=None):\n        threading.Thread.__init__(self)\n        self.host = host\n        self.port = port\n        self.q = q\n\n    def run(self):\n        global queueLock\n        print(\"Starting Thread\")\n        # Criamos o socket e o conectamos ao servidor\n        sockobj = socket(AF_INET, SOCK_STREAM)\n        sockobj.connect((self.host, self.port))\n        while not workQueue.empty():\n            with queueLock:\n                data = q.get()\n            if data:\n                print(\"sending %s\" % data)\n                sockobj.send(data)\n                # Depois de mandar uma linha esperamos uma resposta\n                # do servidor\n                data = sockobj.recv(1024)\n                print('Cliente recebeu:', data)\n        # Fechamos a conex\u00e3o\n        sockobj.close()\n        print(\"Exiting Thread\")\n\n\nworkQueue = Queue.Queue()\n\n# Mensagem a ser mandada codificada em bytes\nmenssagem = [b'Ola mundo da internet!', b'Ola mundo da internet #2!']\nfor msg in menssagem:\n    workQueue.put(msg)\n\nthreads = []\n\n# Create 10 new threads\nfor i in range(0, 10):\n    thread = myThreadTCP(host=DEF_HOST, port=DEF_PORT, q=workQueue)\n    thread.daemon = True\n    thread.start()\n    threads.append(thread)\n\n# Wait for all threads to complete\nfor t in threads:\n    t.join()\nprint(\"Exiting Main Thread\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1473078592, "creation_date": 1473078592, "answer_id": 39330655, "question_id": 39005901, "link": "https://stackoverflow.com/questions/39005901/how-generate-multiple-tcp-clients-using-threads-instead-of-opening-multiple-i/39330655#39330655", "title": "How &quot;generate &quot; multiple TCP clients using Threads instead of opening multiple instances of the terminal and run the script several times?", "body": "<p>The simplest and most pythonic way is to use <a href=\"https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing.dummy\" rel=\"nofollow\">multiprocessing thread pool implementation</a>, and then call <a href=\"https://docs.python.org/3/library/multiprocessing.html#multiprocessing.pool.Pool.map\" rel=\"nofollow\"><code>pool.map</code></a>. The former will allow you effortlessly swap from threads to processes when needed. The latter will provide you a clean interface hiding synchronisation chores behind the scenes.</p>\n\n<pre><code>#!/usr/bin/env python3 \n\n\nimport socket\nfrom pprint import pprint\nfrom contextlib import closing\nfrom multiprocessing.dummy import Pool as ThreadPool\n\n\nserverHost = 'localhost'\nserverPort = 80\n\n\nmessageGroups = [\n    [b'GET / HTTP/1.0\\n\\n'],\n    [b'GET /some-path HTTP/1.0\\n\\n'],\n]\n\ndef send(messages):\n    result = []\n    options = socket.AF_INET, socket.SOCK_STREAM\n    with closing(socket.socket(*options)) as sockobj:\n        sockobj.connect((serverHost, serverPort))\n        for message in messages:\n            sockobj.send(message)\n            response = sockobj.recv(1014)\n            result.append((message, response))\n\n    return result\n\n\nif __name__ == '__main__':\n    size = 10\n    pool = ThreadPool(size)\n    result = pool.map(send, messageGroups)\n    pool.close()\n    pool.join()\n\n    pprint(result)\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 6693417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3c7176f1842f0e9923d0ca7788d8248?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sigonoso", "link": "https://stackoverflow.com/users/6693417/paul-sigonoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 1, "accepted_answer_id": 39207374, "answer_count": 4, "score": 10, "last_activity_date": 1473132616, "creation_date": 1471466395, "question_id": 39005901, "link": "https://stackoverflow.com/questions/39005901/how-generate-multiple-tcp-clients-using-threads-instead-of-opening-multiple-i", "title": "How &quot;generate &quot; multiple TCP clients using Threads instead of opening multiple instances of the terminal and run the script several times?", "body": "<p>I wrote the code for a simple TCP client:</p>\n\n<pre><code>from socket import *\n\n# Configura\u00e7\u00f5es de conex\u00e3o do servidor\n# O nome do servidor pode ser o endere\u00e7o de\n# IP ou o dom\u00ednio (ola.python.net)\nserverHost = 'localhost'#ip do servidor\nserverPort = 50008\n\n# Mensagem a ser mandada codificada em bytes\nmenssagem = [b'Ola mundo da internet!']\n\n# Criamos o socket e o conectamos ao servidor\nsockobj = socket(AF_INET, SOCK_STREAM)\nsockobj.connect((serverHost, serverPort))\n\n# Mandamos a menssagem linha por linha\nfor linha in menssagem:\n    sockobj.send(linha)\n\n    # Depois de mandar uma linha esperamos uma resposta\n    # do servidor\n    data = sockobj.recv(1024)\n    print('Cliente recebeu:', data)\n\n# Fechamos a conex\u00e3o\nsockobj.close()\n</code></pre>\n\n<p>I would like to know, how \" generate \" multiple clients TCP using Threads instead of opening multiple instances of the terminal and run the script several times.</p>\n"}, {"tags": ["python", "list", "sorting", "floating-point"], "comments": [{"owner": {"reputation": 2133, "user_id": 5447208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f8eb976d91e3b7bb21366a68d1a70f?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/5447208/cody"}, "edited": false, "score": 0, "creation_date": 1471466320, "post_id": 39005831, "comment_id": 65363368, "body": "Your list is a list of strings, not numbers.  It is sorting them alphabetically, not numerically.  That is why it is acting funny.  I&#39;d post the answer but I see someone already bet me to it, I just wanted to elaborate on that."}], "answers": [{"tags": [], "owner": {"reputation": 46235, "user_id": 3431869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b2315fa60f613de9565af031264f31?s=128&d=identicon&r=PG&f=1", "display_name": "Vamsi Prabhala", "link": "https://stackoverflow.com/users/3431869/vamsi-prabhala"}, "is_accepted": true, "score": 9, "last_activity_date": 1471526391, "last_edit_date": 1471526391, "creation_date": 1471466244, "answer_id": 39005864, "question_id": 39005831, "link": "https://stackoverflow.com/questions/39005831/sorting-list-of-decimals-in-python/39005864#39005864", "title": "sorting list of decimals in python", "body": "<p>The sorting needs to be based on the float values of the corresponding strings in the list.</p>\n\n<pre><code>Block1_Video1 = ['104.900209904', '238.501860857', '9.59893298149', '362.470027924', '419.737339973']\nsorted(Block1_Video1,key=lambda x:float(x))\n</code></pre>\n\n<p>Or simply use </p>\n\n<pre><code>sorted(Block1_Video1, key=float)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1471466327, "creation_date": 1471466327, "answer_id": 39005888, "question_id": 39005831, "link": "https://stackoverflow.com/questions/39005831/sorting-list-of-decimals-in-python/39005888#39005888", "title": "sorting list of decimals in python", "body": "<p>You have to convert your strings in numbers first, this is possible with the key-Argument of the <code>sorted</code> function:</p>\n\n<pre><code>Block1_Video1 = sorted(Block1_Video1, key=float)\n</code></pre>\n\n<p>or as you assign the new list to the same variable, you can also sort in-place:</p>\n\n<pre><code>Block1_Video1.sort(key=float)\n</code></pre>\n"}], "owner": {"reputation": 997, "user_id": 4289314, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b2d813d4f448dc118468f2a2d69d29d6?s=128&d=identicon&r=PG&f=1", "display_name": "Maria", "link": "https://stackoverflow.com/users/4289314/maria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6168, "favorite_count": 0, "accepted_answer_id": 39005864, "answer_count": 2, "score": 2, "last_activity_date": 1471526391, "creation_date": 1471466131, "question_id": 39005831, "link": "https://stackoverflow.com/questions/39005831/sorting-list-of-decimals-in-python", "title": "sorting list of decimals in python", "body": "<p>I have the following list that I'd like to sort:</p>\n\n<p><code>['104.900209904', '238.501860857', '9.59893298149', '362.470027924', '419.737339973']</code></p>\n\n<p>I used the \"sorted\" function to do it:</p>\n\n<pre><code>Block1_Video1 = sorted(Block1_Video1)\n</code></pre>\n\n<p>However, this is what I get:</p>\n\n<pre><code>['104.900209904', '238.501860857', '362.470027924', '419.737339973', '9.59893298149']\n</code></pre>\n\n<p>Whereas this is what I want (a list sorted numerically, taking decimal points into account):</p>\n\n<pre><code>[''9.59893298149', 104.900209904', '238.501860857', '362.470027924', '419.737339973']\n</code></pre>\n\n<p>How can I accomplish this?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471472956, "post_id": 39005823, "comment_id": 65366163, "body": "I have only used a Menubutton with default direction &#39;down&#39;,  Is the posted code an mcve?  See <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>.  What if you remove icons, entries, or being fullscreen?"}, {"owner": {"reputation": 13, "user_id": 6561401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b8981933fd7e2fcea3456c34c26a62?s=128&d=identicon&r=PG&f=1", "display_name": "kerrell game", "link": "https://stackoverflow.com/users/6561401/kerrell-game"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471475626, "post_id": 39005823, "comment_id": 65366922, "body": "Hi, yes the code above is mcve or at least I believe so (it is complet, minimal and verifiable). Removing icons doesn&#39;t change anything, I tried to modify the entries but it&#39;s the same. If I put the direction to down the menu covers the button wich doesn&#39;t look too good...it&#39;s a little better but not exactly what I want..."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471476329, "post_id": 39005823, "comment_id": 65367107, "body": "Do you really mean that it you remove a single item from the popup, such as the one for &#39;Quit&#39;, then the program works correctly and the popup is where you want and expect it?"}, {"owner": {"reputation": 13, "user_id": 6561401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b8981933fd7e2fcea3456c34c26a62?s=128&d=identicon&r=PG&f=1", "display_name": "kerrell game", "link": "https://stackoverflow.com/users/6561401/kerrell-game"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471476783, "post_id": 39005823, "comment_id": 65367230, "body": "No, I tried adding or removing items but it doesn&#39;t change anything, the menu still floats way above the button"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1471477353, "post_id": 39005823, "comment_id": 65367373, "body": "If you remove things and nothing changes, then the code is not minimal.  &#39;Minimal&#39; means that any significant removal either breaks or fixes the code.  This must not be explained very well on the page I referenced, as beginners seem not to understand.  The opposite approach is to start with the bare minimum and try to get that to work."}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": true, "score": 0, "last_activity_date": 1471480784, "creation_date": 1471480784, "answer_id": 39008266, "question_id": 39005823, "link": "https://stackoverflow.com/questions/39005823/menu-floats-above-menu-button/39008266#39008266", "title": "Menu floats above menu button", "body": "<p>The problem seems to be with putting the menu button on the absolute bottom.  Here is near minimal code, with menu button one 'line' up from bottom, that works with 3.6 (tk 8.6) on Win10</p>\n\n<pre><code>import tkinter as tk\nroot = tk.Tk()\nroot.attributes('-fullscreen', 1)\ntk.Button(root, text='Close', command=root.destroy).pack()\nmb = tk.Menubutton(root, text='Menu', direction='above')\n#mb.pack(side='bottom')\ntk.Label(root, text='Filler2').pack(side='bottom')\nmb.pack(side='bottom')\ntk.Label(root, text='Filler1').pack(side='bottom')\nmenu = tk.Menu(mb, tearoff=0)\nmenu.add_command(label='Popup', command=lambda:print('hello'))\nmb['menu'] = menu\n</code></pre>\n\n<p>Popup is on top of Filler1.  Move the bottom down to the bottom (by commenting and uncommenting pack lines) and popup is in same place, leaving a gap.  I tried using a ttk Menubutton instead and got the same behavior.  I then went to the <a href=\"http://www.tcl.tk/man/tcl8.6/TkCmd/contents.htm\" rel=\"nofollow\">official Tk docs</a> and discovered the 'flush' direction which puts the box 'over' the button.  For tk, this means means 'on top of so as to cover the button'.  For ttk, it means 'flush against the top, leaving the button exposed', which is what you want.  So the solution, as least on Windows with tk 8.6 is to create the button with</p>\n\n<pre><code>mb = ttk.Menubutton(root, text='Menu', direction='flush')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6561401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b8981933fd7e2fcea3456c34c26a62?s=128&d=identicon&r=PG&f=1", "display_name": "kerrell game", "link": "https://stackoverflow.com/users/6561401/kerrell-game"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 39008266, "answer_count": 1, "score": 0, "last_activity_date": 1471480784, "creation_date": 1471466114, "question_id": 39005823, "link": "https://stackoverflow.com/questions/39005823/menu-floats-above-menu-button", "title": "Menu floats above menu button", "body": "<p>So to begin with here is my code:</p>\n\n<pre><code>from Tkinter import *\n\ndef hello():\n    print \"Hello\"\nroot = Tk()\nroot.attributes('-fullscreen', 1)\n\nicons = []\nicons.append(PhotoImage(file=\"Icons\\start.gif\"))\nicons.append(PhotoImage(file=\"Icons\\quit.gif\"))\nicons.append(PhotoImage(file=\"Icons\\save.gif\"))\nicons.append(PhotoImage(file=\"Icons\\load.gif\"))\nicons.append(PhotoImage(file=\"Icons\\Next.gif\"))\n\nscreensizex = root.winfo_screenwidth()\nscreensizey = root.winfo_screenheight()\n\nmainframe = Frame(root, height=(screensizey-(screensizey/20)), width=screensizex, bg=\"#50a9ad\")\nmainframe.grid(row=0)\n\nmenuframe = Frame(root, height=(screensizey/20), width=screensizex)\nmenuframe.grid(row=1, sticky=\"w\")\n\nstartmenu = Menubutton ( menuframe,  text=\"Start\", image=icons[0], compound = LEFT, relief=RAISED, \n    direction=\"above\")\nstartmenu.grid(row=0, column=0)\nstartmenu.place(relx=0.03, rely=0.5, anchor=CENTER)\nstartmenu.menu = Menu(startmenu, tearoff=0)\nstartmenu[\"menu\"] = startmenu.menu\nstartmenu.configure(font=(\"Arial\", 8, \"bold\"))\n\nstartmenu.menu.add_command(label=\"Next Day\", image = icons[4], compound = LEFT, command=hello)\nstartmenu.menu.add_separator()\nstartmenu.menu.add_command(label=\"Save\", image = icons[2], compound = LEFT, command=hello)\nstartmenu.menu.add_command(label=\"Load\", image = icons[3], compound = LEFT, command=hello)\nstartmenu.menu.add_separator()\nstartmenu.menu.add_command(label=\"Quit\", image = icons[1], compound = LEFT, command=root.quit)\nstartmenu.menu.configure(font=(\"Arial\", 8))\n\nroot.mainloop()\n</code></pre>\n\n<p>And here is what I get:\n<a href=\"http://i.stack.imgur.com/H4NJf.jpg\" rel=\"nofollow\">GUI</a></p>\n\n<p>As you can see the menu \"Floats\" above the menu button instead of just being above it.\nI am not sure of what causes that but I can't figure out how to fix it. I am sure it's something pretty simple but I am a beginner with Python....\nThanks in advance for your help.</p>\n"}, {"tags": ["python", "flask", "twilio"], "comments": [{"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471466166, "post_id": 39005768, "comment_id": 65363303, "body": "You&#39;re not doing anything with client... are you expecting it to magically know what to do? Or is Twilio supposed to be sending your client a GET/POST request? (also when you pasted it, your formatting got horked up with the markdown. Please <a href=\"https://stackoverflow.com/posts/39005768/edit\">edit</a> your post and fix that)"}, {"owner": {"reputation": 3, "user_id": 6728051, "user_type": "registered", "profile_image": "https://graph.facebook.com/320337381647921/picture?type=large", "display_name": "Sam Briggs", "link": "https://stackoverflow.com/users/6728051/sam-briggs"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471466691, "post_id": 39005768, "comment_id": 65363539, "body": "@WayneWerner the Twilio docs gave the impression that it should be sending a POST request since it acts upon receiving a message (from my mobile phone) and then sends the POST request to the predefined server (as set in the dashboard) to ask what to do. Also I&#39;m afraid I don&#39;t quite understand what you mean about the formatting?"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471466858, "post_id": 39005768, "comment_id": 65363641, "body": "look at <code>whos_home</code>. Is twilo sending post requests to your server?"}, {"owner": {"reputation": 3, "user_id": 6728051, "user_type": "registered", "profile_image": "https://graph.facebook.com/320337381647921/picture?type=large", "display_name": "Sam Briggs", "link": "https://stackoverflow.com/users/6728051/sam-briggs"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471467041, "post_id": 39005768, "comment_id": 65363750, "body": "@WayneWerner it is available to the outside world, it has been forwarded. Also the Flask client is used for receiving and then sending TwiML instructions, infact no server is needed at all to simply send messages, only to receive or to send TwiML instructions upon receiving. And yes I have done a tcp dump and I am receiving post requests from Twilio. The example code they provided uses exactly the same Flask server setup and it worked fine for me."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471467182, "post_id": 39005768, "comment_id": 65363830, "body": "If twilio is actually POSTing to your server and you&#39;ve verified that you&#39;re getting the request then your problem is either you&#39;re returning a bad response, or something else is going wrong on the twilio side"}, {"owner": {"reputation": 3, "user_id": 6728051, "user_type": "registered", "profile_image": "https://graph.facebook.com/320337381647921/picture?type=large", "display_name": "Sam Briggs", "link": "https://stackoverflow.com/users/6728051/sam-briggs"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1471467290, "post_id": 39005768, "comment_id": 65363879, "body": "@WayneWerner I can&#39;t see where the bad response would be since its all standard TwiML library code, with no errors. And there is nothing wrong at their end since the example code they provide works"}], "answers": [{"tags": [], "owner": {"reputation": 9817, "user_id": 919971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27a91b7bbba73b61af5940489fa9334?s=128&d=identicon&r=PG", "display_name": "Devin Rader", "link": "https://stackoverflow.com/users/919971/devin-rader"}, "is_accepted": true, "score": 2, "last_activity_date": 1471468953, "creation_date": 1471468953, "answer_id": 39006500, "question_id": 39005768, "link": "https://stackoverflow.com/questions/39005768/python-flask-server-not-working-with-twilio/39006500#39006500", "title": "Python Flask Server Not Working With Twilio", "body": "<p>Twilio evangelist here.</p>\n\n<p>It looks like you are returning an empty trying from your route:</p>\n\n<pre><code>return ' '\n</code></pre>\n\n<p>Since you've marked the route as accepting GET requests you can check this is what's happening by opening the public URL for this route in a browser and seeing what's returned.  You could also run a cURL request against the route to verify its returning what you expect.</p>\n\n<p>I think you probably need to return the TwiML Response from the route instead of the empty string:</p>\n\n<pre><code>return str(r)\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 6728051, "user_type": "registered", "profile_image": "https://graph.facebook.com/320337381647921/picture?type=large", "display_name": "Sam Briggs", "link": "https://stackoverflow.com/users/6728051/sam-briggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 39006500, "answer_count": 1, "score": -1, "last_activity_date": 1471468953, "creation_date": 1471465918, "last_edit_date": 1471466985, "question_id": 39005768, "link": "https://stackoverflow.com/questions/39005768/python-flask-server-not-working-with-twilio", "title": "Python Flask Server Not Working With Twilio", "body": "<p>I have been trying to create a personnel log using Raspberry Pi to record who is in the house and to respond to a Twilio text message and reply who is home. I'm using flask to form the server to Twilio however I am getting no response at all when I text the 'whoshome' query.  It should reply who is home, although only with one person assigned currently! Also Twilio should be sending a POST request to the predefined client in the dashboard to then ask for instructions upon receiving an SMS.</p>\n\n<pre><code>#!/usr/bin/python\nimport time\nimport thread\nfrom twilio import twiml\nimport Adafruit_CharLCD as LCD\nimport os\nimport logging\nimport twilio.twiml\nfrom twilio.rest import TwilioRestClient\nfrom flask import Flask, request, redirect\n\nlcd_rs        = 21                                              #lcd setup\nlcd_en        = 22\nlcd_d4        = 25\nlcd_d5        = 24\nlcd_d6        = 23\nlcd_d7        = 18\nlcd_backlight = 4\n\nlcd_columns = 16\nlcd_rows    = 4\n\nlcd = LCD.Adafruit_CharLCD(lcd_rs, lcd_en, lcd_d4, lcd_d5, lcd_d6, lcd_d7, lcd_columns, lcd_rows, lcd_backlight)\n\nlogging.basicConfig(filename='wifilog.log', level=logging.INFO) #logging setup\n\nACCOUNT_SID = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"              #Twilio credentials setup\nAUTH_TOKEN = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nclient = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN)\n\nuser1status = 0                                                 #variables\n\ndef wifiping(): #check who is present\n    while True:\n        ret = os.system(\"ping -c 1 -s 1 192.168.1.118\")\n        lcd.clear()\n        if ret != 0:\n            lcd.message('Sam is not home')\n            print \"Sam is not home\"\n            logging.info('Sam not home at' + time.strftime(\"%H:%M:%S\", time.gmtime()))\n            user1status = 0\n            time.sleep(5)\n        else:\n            lcd.message('Sam is home')\n            print \"Sam is home\"\n            logging.info('Sam home at' + time.strftime(\"%H:%M:%S\", time.gmtime()))\n            user1status = 1\n            time.sleep(5)\n\nthread.start_new_thread(wifiping, ()) #new thread\n\nr = twiml.Response()                  #Flask server setup\napp = Flask(__name__)\napp.config.from_object(__name__)\n\n@app.route(\"/\", methods={'GET', 'POST'})\ndef whos_home():                           #Twilio message detection\n    body = request.values.get('Body', None)\n    if body == 'Whos home':\n        if user1status == 0:\n            r.message(\"Sam is not home.\")\n        elif user1status == 1:\n            r.message(\"Sam is home.\")\n    else:\n        pass\n    return ' '\n\napp.run(debug=True, host='0.0.0.0', port=80) #Flask app start\n</code></pre>\n"}, {"tags": ["python", "django", "openpyxl"], "comments": [{"owner": {"reputation": 14349, "user_id": 1384641, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bqaZL.png?s=128&g=1", "display_name": "Nabeel Ahmed", "link": "https://stackoverflow.com/users/1384641/nabeel-ahmed"}, "edited": false, "score": 0, "creation_date": 1471513025, "post_id": 39005639, "comment_id": 65380106, "body": "can you paste the exact traceback you get."}, {"owner": {"reputation": 435, "user_id": 6697859, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c260c11d227ff443a91626a2341d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "elG", "link": "https://stackoverflow.com/users/6697859/elg"}, "reply_to_user": {"reputation": 14349, "user_id": 1384641, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bqaZL.png?s=128&g=1", "display_name": "Nabeel Ahmed", "link": "https://stackoverflow.com/users/1384641/nabeel-ahmed"}, "edited": false, "score": 0, "creation_date": 1471539425, "post_id": 39005639, "comment_id": 65398039, "body": "@NabeelAhmed I edited my question, you can see it there"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1471861798, "post_id": 39005639, "comment_id": 65501891, "body": "The error message is perfectly clear: either the image is not where you think it is; the Django process does not have the relevant permissions to access it."}, {"owner": {"reputation": 435, "user_id": 6697859, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c260c11d227ff443a91626a2341d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "elG", "link": "https://stackoverflow.com/users/6697859/elg"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1471881103, "post_id": 39005639, "comment_id": 65515562, "body": "@CharlieClark and why this only happens with openpyxl? If you read my question, I use images in other parts of my web app and everything works fine, I know how to access to them and Django has permissions, I have used all that URL variations and with all of them had the same error, and I repeat, this only happens with openpyxl."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1471889034, "post_id": 39005639, "comment_id": 65519755, "body": "Can&#39;t help you with the Django part, sorry."}, {"owner": {"reputation": 435, "user_id": 6697859, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c260c11d227ff443a91626a2341d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "elG", "link": "https://stackoverflow.com/users/6697859/elg"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1471892902, "post_id": 39005639, "comment_id": 65521693, "body": "@CharlieClark Ok, no problem :D"}], "owner": {"reputation": 435, "user_id": 6697859, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c260c11d227ff443a91626a2341d2e55?s=128&d=identicon&r=PG&f=1", "display_name": "elG", "link": "https://stackoverflow.com/users/6697859/elg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471539610, "creation_date": 1471465393, "last_edit_date": 1471539610, "question_id": 39005639, "link": "https://stackoverflow.com/questions/39005639/how-to-put-image-url-in-openpyxl-django", "title": "How to put image URL in openpyxl - Django", "body": "<p>I have read the docs to <a href=\"http://openpyxl.readthedocs.io/en/default/usage.html?highlight=image#inserting-an-image\" rel=\"nofollow\">Load an image</a>, but when I try that, I have a FileNotFoundError. In my Django webapp all the images work on DEBUG and also on Deploy, I have configured Apache to serve them, so there's no problem with that.</p>\n\n<p>These are the URL's that I have tried:</p>\n\n<pre><code>img = Image('../../archivos/blusapolo.jpg')\nimg = Image('blusapolo.jpg')\nimg = Image(settings.MEDIA_URL+'blusapolo.jpg')\nimg = Image('http://127.0.0.1:8000/archivos/blusapolo.jpg')\n</code></pre>\n\n<p>The last one was just a try, I know that I need a \"relative\" path, or however it is called.</p>\n\n<h2>My question is, it's possible to save an image to a xlsx file with openpyxl using DJango? How?</h2>\n\n<p>Here is my traceback:</p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/excel/?numero=57\n\nDjango Version: 1.8\nPython Version: 3.4.3\nInstalled Applications:\n('django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'myapp',\n 'django_tables2')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware',\n 'django.middleware.security.SecurityMiddleware')\n\n\nTraceback:\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/django/core/handlers/base.py\" in get_response\n  132.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/django/views/generic/base.py\" in view\n  71.             return self.dispatch(request, *args, **kwargs)\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/django/views/generic/base.py\" in dispatch\n  89.         return handler(request, *args, **kwargs)\nFile \"/home/developer/mysystem/myapp/viewCotizacion.py\" in get\n  135.         img = Image('/archivos/blusapolo.jpg')#,size=(75,100)\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/openpyxl/drawing/image.py\" in __init__\n  49.         self.image = _import_image(img)\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/openpyxl/drawing/image.py\" in _import_image\n  36.         img = PILImage.open(img)\nFile \"/home/developer/mysystem/systemvenv/lib/python3.4/site-packages/PIL/Image.py\" in open\n  2280.         fp = builtins.open(filename, \"rb\")\n\nException Type: FileNotFoundError at /cotizaciones/\nException Value: [Errno 2] No such file or directory: '/archivos/blusapolo.jpg'\n</code></pre>\n"}, {"tags": ["python", "python-requests", "python-multithreading"], "comments": [{"owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 0, "creation_date": 1471465758, "post_id": 39005564, "comment_id": 65363108, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2632520/what-is-the-fastest-way-to-send-100-000-http-requests-in-python\">What is the fastest way to send 100,000 HTTP requests in Python?</a>"}, {"owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "edited": false, "score": 1, "creation_date": 1471466050, "post_id": 39005564, "comment_id": 65363253, "body": "This is pretty old, I would suggest looking into something like <a href=\"https://github.com/eventlet/eventlet\" rel=\"nofollow noreferrer\">eventlet</a>.  There are basic examples in the documentation that do exactly what you&#39;re asking."}, {"owner": {"reputation": 21, "user_id": 3356075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e372ef0c07e1f3a038bb7973c6fd2fa4?s=128&d=identicon&r=PG&f=1", "display_name": "astateofsanj", "link": "https://stackoverflow.com/users/3356075/astateofsanj"}, "edited": false, "score": 0, "creation_date": 1471467309, "post_id": 39005564, "comment_id": 65363885, "body": "checking out eventlet, thanks"}, {"owner": {"reputation": 1545, "user_id": 1872234, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ebaa7e51aa78b438266d08deb48fcfc4?s=128&d=identicon&r=PG", "display_name": "Wajahat", "link": "https://stackoverflow.com/users/1872234/wajahat"}, "edited": false, "score": 0, "creation_date": 1471469973, "post_id": 39005564, "comment_id": 65365074, "body": "Actually the first answer on that link uses threading which is still relevant. As well as <code>twisted</code> which provides async requests. <code>multiprocessing</code> can be used in the same structure as the first answer instead of <code>threading</code> as well. And just a note: as long as the request generation follows a closed loop design, the request rate will be limited by the number of concurrent threads as well as the response time of each request. Async can avoid that but it is generally non-trivial to understand."}], "answers": [{"tags": [], "owner": {"reputation": 968, "user_id": 1650778, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/16a1042134f81569c6b0e81494d66ba8?s=128&d=identicon&r=PG", "display_name": "Marco Lavagnino", "link": "https://stackoverflow.com/users/1650778/marco-lavagnino"}, "is_accepted": false, "score": -1, "last_activity_date": 1471472226, "creation_date": 1471472226, "answer_id": 39007115, "question_id": 39005564, "link": "https://stackoverflow.com/questions/39005564/sending-http-requests-concurrently/39007115#39007115", "title": "Sending HTTP requests concurrently", "body": "<p>You could use scrapy, which uses twisted (as suggested in the comments). Scrapy is a framework intended for scraping web pages, but you can use it to send <code>post</code> requests too. A spider that achieves the same as your code would look more or less like this:</p>\n\n<pre><code>class EventUploader(scrapy.Spider):\n    BASE_URL = 'http://stackoverflow.com/'  # Example url\n\n    def start_requests(self):\n        for chunk in list_of_JSON:\n            get_parameters = {\n                'api_key': api_key,\n                'event': json.dumps(chunk),  # json.dumps can encode lists too\n            }\n\n            url = \"{}/endpoint?{}\".format(\n                self.BASE_URL, urlencode(get_parameters))\n            yield scrapy.FormRequest(url, formdata={}, callback=self.next)\n\n    def next(self, response):\n        # here you can assert everything went ok\n        pass\n</code></pre>\n\n<p>Once your spider is in place, you can use scrapy middlewares to limit your requests. You'd run your uploader like this:</p>\n\n<pre><code>scrapy runspider my_spider.py\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3356075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e372ef0c07e1f3a038bb7973c6fd2fa4?s=128&d=identicon&r=PG&f=1", "display_name": "astateofsanj", "link": "https://stackoverflow.com/users/3356075/astateofsanj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471472226, "creation_date": 1471465139, "last_edit_date": 1495541700, "question_id": 39005564, "link": "https://stackoverflow.com/questions/39005564/sending-http-requests-concurrently", "title": "Sending HTTP requests concurrently", "body": "<p>I'm looking to send 100K-300K POST requests to an API Endpoint - these requests are originating from a list of JSON objects that I'm iterating over. Unfortunately, the maximum chunk size I'm able to use is 10 events at a time which is greatly decreasing the speed of sending off all the events I want. After I have my list of JSON objects defined:</p>\n\n<pre><code>chunkSize= 10\nfor i in xrange(0, len(list_of_JSON), chunkSize):\n    chunk = list_of_JSON[i:i+chunkSize] #10\n    endpoint = \"\"\n    d_profile = \"[\" + \",\".join(json.dumps(x) for x in chunk) + \"]\"\n    str_event = d_profile\n    try:\n         url = base_api + endpoint + \"?api_key=\" + api_key + \"&amp;event=\" + str_event \n         r = requests.post(url)\n         print r.content\n         print i\n    except:\n        print 'failed'\n</code></pre>\n\n<p>This process works extremely slowly to send off the events. I've looked up the possibility of multithreading/concurrency/and parallel processing although I'm completely new to the topic. After some research, I've come up with this ugly snippit: </p>\n\n<pre><code>import logging\nimport threading\nimport time\n\nlogging.basicConfig(level=logging.DEBUG,\n                format='[%(levelname)s] (%(threadName)-10s) %(message)s',\n                )\n\ndef worker():\n    logging.debug('Starting')\n    import time\n    chunkSize= 10\n    for i in xrange(0, (len(list_of_JSON)/2), chunkSize):\n        chunk = list_of_JSON[i:i+chunkSize] #10\n        endpoint = \"\"\n        d = \"[\" + \",\".join(json.dumps(x) for x in chunk) + \"]\"\n        str_event = d\n        try:\n            url = base_api + endpoint + \"?api_key=\" + api_key + \"&amp;event=\" + str_event \n            r = requests.post(url)\n            print r.content\n            print i\n        except:\n            print 'failed'\n    time.sleep(2)\n    logging.debug('Exiting')\n\ndef my_service():\n    logging.debug('Starting')\n    import time\n    chunkSize= 10\n    for i in xrange(((len(list_of_JSON)/2)+1), len(list_of_JSON), chunkSize):\n        chunk = list_of_JSON[i:i+chunkSize] #10\n        endpoint = \"\"\n        d = \"[\" + \",\".join(json.dumps(x) for x in chunk) + \"]\"\n        str_event = d\n        try:\n            url = base_api + endpoint + \"?api_key=\" + api_key + \"&amp;event=\" + str_event \n            r = requests.post(url)\n            print r.content\n            print i\n        except:\n            print 'failed'\n    time.sleep(3)\n    logging.debug('Exiting')\n\nt = threading.Thread(target=my_service)\nw = threading.Thread(target=worker)\n\n\nw.start()\nt.start()\n</code></pre>\n\n<p>Would appreciate any suggestions or refactoring.</p>\n\n<p>Edit: I believe my implementation accomplishes what I want. I've looked over <a href=\"https://stackoverflow.com/questions/2632520/what-is-the-fastest-way-to-send-100-000-http-requests-in-python\">What is the fastest way to send 100,000 HTTP requests in Python?</a> but am still unsure of how pythonic or efficient this solution is. </p>\n"}, {"tags": ["python", "dictionary", "unicode"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1471464838, "post_id": 39005474, "comment_id": 65362623, "body": "<code>dc[k] = to_unicode(v)</code>?"}, {"owner": {"reputation": 29, "user_id": 6683671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2aab54254ee358c0f116e816597d42?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Lau", "link": "https://stackoverflow.com/users/6683671/andrea-lau"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1471465651, "post_id": 39005474, "comment_id": 65363067, "body": "@jonrsharpe The &#39;unicode&#39; I used in this line is the built-in function, converting v to unicode type, and then assigning it back to its corresponding key."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1471465751, "post_id": 39005474, "comment_id": 65363105, "body": "Yep but you don&#39;t assign back to the &quot;master copy&quot; on each recursive call, instead creating a new copy of the sub-tree and updating part of that. Hence my suggestion above. Throw some <code>print</code>s in and see what&#39;s happening."}], "answers": [{"tags": [], "owner": {"reputation": 1682, "user_id": 4267783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sv5Im.jpg?s=128&g=1", "display_name": "Thtu", "link": "https://stackoverflow.com/users/4267783/thtu"}, "is_accepted": false, "score": 0, "last_activity_date": 1471467308, "creation_date": 1471467308, "answer_id": 39006115, "question_id": 39005474, "link": "https://stackoverflow.com/questions/39005474/python-how-to-modify-values-in-nested-dictionary-and-have-the-whole-dict-return/39006115#39006115", "title": "Python: How to modify values in nested dictionary and have the whole dict returned", "body": "<p>As @jonrsharpe mentioned you just need to assign things back to the master or original copy.  Here's some spaghetti that iterates on the code you've provided : </p>\n\n<pre><code>def to_unicode(d, target_dict={}):\n    for k,v in d.iteritems(): \n        if isinstance(v, dict): \n            target_dict = to_unicode(v, target_dict)\n        else: \n            target_dict[k] = unicode(v)\n    return target_dict\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6683671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2aab54254ee358c0f116e816597d42?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Lau", "link": "https://stackoverflow.com/users/6683671/andrea-lau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471467308, "creation_date": 1471464781, "question_id": 39005474, "link": "https://stackoverflow.com/questions/39005474/python-how-to-modify-values-in-nested-dictionary-and-have-the-whole-dict-return", "title": "Python: How to modify values in nested dictionary and have the whole dict returned", "body": "<p>Imagine that I have got a file named 'test_dict.txt' containing the following dictionary-like text:</p>\n\n<pre><code>{\n    \"subdic1\" : {\n        \"a_string\" : \"something1\",\n        \"a_integer\" : 16,\n        \"a_list\" : [\n            \"str_1\",\n            \"str_2\"\n        ]\n    },\n    \"subdic2\" : {\n        \"a_string\" : \"something2\",\n        \"a_integer\" : 32,\n        \"a_list\" : [\n            \"str_3\",\n            \"str_4\"\n        ]\n    }\n}\n</code></pre>\n\n<p>As you can see that there are nested dictionaries. What I want to do is to convert all deepest values (\"something1\", 16, [\"str_1\", \"str_2\"], etc) to unicode type objects, for some comparison purposes. Here is my attempt:</p>\n\n<pre><code>import json\nfrom copy import deepcopy\n\ndef to_unicode(d):\n    dc = deepcopy(d)\n    for k,v in dc.iteritems():\n        if isinstance(v, dict):\n            to_unicode(v)\n        else:\n            dc[k] = unicode(v)\n    return dc\n\ndict_fname = 'test_dict.txt'\nwith open(dict_fname) as dict_fd:\n    dic = json.load(dict_fd)\nprint dic\nprint to_unicode(dic)\n</code></pre>\n\n<p>I used recursion in my function 'to_unicode' in order to traverse to the deepest values. The first 'print' gives the result of 'json.load' operation like the following:</p>\n\n<pre><code>{u'subdic1': {u'a_list': [u'str_1', u'str_2'], u'a_integer': 16, u'a_string': u'something1'}, u'subdic2': {u'a_list': [u'str_3', u'str_4'], u'a_integer': 32, u'a_string': u'something2'}}\n</code></pre>\n\n<p>So what I should really convert to unicode type is the two integers 16 and 32. But I still want the function to convert each value inside each level of dictionary for the purpose of simplicity. The two numbers are supposed to be converted to u'16' and u'32', so the dictionary object returned by the function should be printed like this:</p>\n\n<pre><code>{u'subdic1': {u'a_list': [u'str_1', u'str_2'], u'a_integer': u'16', u'a_string': u'something1'}, u'subdic2': {u'a_list': [u'str_3', u'str_4'], u'a_integer': u'32', u'a_string': u'something2'}}\n</code></pre>\n\n<p>But in fact my second 'print' gives the exactly same result as the first one. I guess the issue occurs either in deepcopy or in the way of return of the function, or even both. I really want the whole dictionary to be returned back after the conversion, rather than yielding one item a time. Could somebody help correcting my code please?</p>\n"}, {"tags": ["python", "matplotlib", "ipython", "jupyter-notebook", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "is_accepted": true, "score": 2, "last_activity_date": 1471556187, "creation_date": 1471556187, "answer_id": 39027892, "question_id": 39005461, "link": "https://stackoverflow.com/questions/39005461/render-two-seaborn-figure-objects-in-same-ipython-cell/39027892#39027892", "title": "render two seaborn figure objects in same ipython cell", "body": "<p>You just need to import the <code>display</code> function from the <code>IPython.display</code> module:</p>\n\n<pre><code>from IPython.display import display\nimport seaborn\n\n%matplotlib inline\n\ng1 = seaborn.factorplot(**options1)\ng2 = seaborn.factorplot(**options2)\n\ndisplay(g1)\ndisplay(g2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 2114873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dfcfdaf7470cfa814908d2bebaf4b84?s=128&d=identicon&r=PG", "display_name": "richar8086", "link": "https://stackoverflow.com/users/2114873/richar8086"}, "is_accepted": false, "score": 0, "last_activity_date": 1564746721, "creation_date": 1564746721, "answer_id": 57325975, "question_id": 39005461, "link": "https://stackoverflow.com/questions/39005461/render-two-seaborn-figure-objects-in-same-ipython-cell/57325975#57325975", "title": "render two seaborn figure objects in same ipython cell", "body": "<p>What about this?</p>\n\n<pre><code>plt.figure(1, figsize=(5,10))\nplt.subplot(211)\n# Figure 1\nsns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_d_fam)\nplt.subplot(212)\n# Figure 2\nsns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_c_fam)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 12126987, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA96lfDoTp4QS_zXhf3bKYRB5sXCyZMbMltZuGr5w=k-s128", "display_name": "Antonio Deusany de Carvalho Jr", "link": "https://stackoverflow.com/users/12126987/antonio-deusany-de-carvalho-jr"}, "is_accepted": false, "score": 1, "last_activity_date": 1569524705, "creation_date": 1569524705, "answer_id": 58123233, "question_id": 39005461, "link": "https://stackoverflow.com/questions/39005461/render-two-seaborn-figure-objects-in-same-ipython-cell/58123233#58123233", "title": "render two seaborn figure objects in same ipython cell", "body": "<p>You can use plt.show() after each image:</p>\n\n<pre><code>sns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_d_fam)\nplt.show()\n\nsns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_c_fam)\nplt.show()</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 13072344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_oyx9OefONI/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nB3B1-8UptWIFsgzIFWZ4UevOxn0Q/photo.jpg?sz=128", "display_name": "Aditya Aggarwal", "link": "https://stackoverflow.com/users/13072344/aditya-aggarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1595406306, "creation_date": 1595406306, "answer_id": 63029944, "question_id": 39005461, "link": "https://stackoverflow.com/questions/39005461/render-two-seaborn-figure-objects-in-same-ipython-cell/63029944#63029944", "title": "render two seaborn figure objects in same ipython cell", "body": "<pre><code>//For displaying 2 or more fig in the same row or columns :-\n\nfig, axs = plt.subplots(ncols=2,nrows=2,figsize=(14,5))\n\n//The above (ncols) take no of columns and (nrows) take no of rows and (figsize) to enlarge the image size.\n\nsns.countplot(x=data['Rating'],palette=&quot;rocket&quot;,ax=axs[0][0])\nsns.countplot(x=data['Rating'][0:50],palette=&quot;rocket&quot;,ax=axs[1][0])\nsns.countplot(x=data['Rating'],palette=&quot;rocket&quot;,ax=axs[0][0])\nsns.countplot(x=data['Rating'][0:50],palette=&quot;rocket&quot;,ax=axs[1][0])`\n//Here in any plot u want to plot add **ax** and pass the position and you are ready !!!\n</code></pre>\n"}], "owner": {"reputation": 3364, "user_id": 1265749, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/455979252afd4b28ccbdefdf7d99c5aa?s=128&d=identicon&r=PG", "display_name": "jwillis0720", "link": "https://stackoverflow.com/users/1265749/jwillis0720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2345, "favorite_count": 0, "accepted_answer_id": 39027892, "answer_count": 4, "score": 1, "last_activity_date": 1595406306, "creation_date": 1471464744, "last_edit_date": 1471733061, "question_id": 39005461, "link": "https://stackoverflow.com/questions/39005461/render-two-seaborn-figure-objects-in-same-ipython-cell", "title": "render two seaborn figure objects in same ipython cell", "body": "<p>I have two matplotlib (seaborn) figure objects both made in different ipython cells.</p>\n\n<pre><code>#One Cell\nfig_1_object = sns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_d_fam)\nfig_1 = fig_1_object.fig\n\n\n#Two Cell\nfig_2_object = sns.factorplot(y='freq',x='d_fam',col='easy_donor',kind=\"bar\",data=collection_c_fam)\nfig_2 = fig_2_object.fig\n</code></pre>\n\n<p>How can I \"show\" them one after another in the same cell. I have matplotlib inline turned on.</p>\n\n<pre><code>#third cell\nfig_1\nfig_2\n&gt;&gt;Only shows fig_2\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 855, "user_id": 5031773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d4348dc80c48f65608a4c20d9fc90b?s=128&d=identicon&r=PG&f=1", "display_name": "Checkmate", "link": "https://stackoverflow.com/users/5031773/checkmate"}, "edited": false, "score": 0, "creation_date": 1471464876, "post_id": 39005456, "comment_id": 65362645, "body": "Shouldn&#39;t it be def sayHello(self)?"}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1471464951, "post_id": 39005456, "comment_id": 65362683, "body": "how are u importing it ?"}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1471465776, "creation_date": 1471465776, "answer_id": 39005733, "question_id": 39005456, "link": "https://stackoverflow.com/questions/39005456/cant-call-an-existing-function-from-python-shell/39005733#39005733", "title": "can&#39;t call an existing function from python shell", "body": "<p>You need to import the actual name you want to use. Just importing testApp won't do anything; you would need to do <code>from testApp.hello import Hello</code>.</p>\n\n<p>Note also that since for some reason you have a class, <code>sayHello</code> is an instance method and therefore needs to accept the <code>self</code> parameter; also, you would need to instantiate the class before calling the method. However, Python is not Java, and there is absolutely no need for the Hello class to exist.</p>\n"}], "owner": {"reputation": 5342, "user_id": 282918, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/tJF86.jpg?s=128&g=1", "display_name": "JasonGenX", "link": "https://stackoverflow.com/users/282918/jasongenx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 39005733, "answer_count": 1, "score": 0, "last_activity_date": 1471465776, "creation_date": 1471464726, "question_id": 39005456, "link": "https://stackoverflow.com/questions/39005456/cant-call-an-existing-function-from-python-shell", "title": "can&#39;t call an existing function from python shell", "body": "<p>I have a python/django project, with a django app called <code>\"testApp\"</code>. under <code>\"testApp\"</code> I have a python file: <code>\"hello.py\"</code>. The file reads:</p>\n\n<pre><code>class Hello():\n  def sayHello():\n    print (\"hello\") \n</code></pre>\n\n<p>How can I activate the <code>sayHello</code> function from <code>python manage.py shell</code></p>\n\n<p>importing <code>\"testApp\"</code> doesn't help as calling <code>\"Hello.sayHello()\"</code> gives out an <code>undefined</code> error.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "c", "modelica", "fmi", "jmodelica"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1471469597, "post_id": 39005445, "comment_id": 65364907, "body": "Any reason you unnecessarily increase complexity by using a C module just  to add two <code>doubles</code>?"}, {"owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1471470646, "post_id": 39005445, "comment_id": 65365323, "body": "@Olaf Yes, this is a simple configuration of a much larger model in which we&#39;re using c code to call a python model."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1471470840, "post_id": 39005445, "comment_id": 65365390, "body": "Sorry, but that also sounds strange. But as I don&#39;t really know modelica and how it integrates with Python, I leave it at this."}, {"owner": {"reputation": 1053, "user_id": 1093963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0667c73ecfd4bea2e72833fdc44c3d4a?s=128&d=identicon&r=PG", "display_name": "Christian Winther", "link": "https://stackoverflow.com/users/1093963/christian-winther"}, "edited": false, "score": 0, "creation_date": 1471593827, "post_id": 39005445, "comment_id": 65417794, "body": "I&#39;m unable to reproduce the error that you are seeing. Which version of JModelica are you using?"}, {"owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "reply_to_user": {"reputation": 1053, "user_id": 1093963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0667c73ecfd4bea2e72833fdc44c3d4a?s=128&d=identicon&r=PG", "display_name": "Christian Winther", "link": "https://stackoverflow.com/users/1093963/christian-winther"}, "edited": false, "score": 0, "creation_date": 1471687484, "post_id": 39005445, "comment_id": 65454981, "body": "Hi @Christian Anderson, I am using JModelica 1.17.0."}, {"owner": {"reputation": 1053, "user_id": 1093963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0667c73ecfd4bea2e72833fdc44c3d4a?s=128&d=identicon&r=PG", "display_name": "Christian Winther", "link": "https://stackoverflow.com/users/1093963/christian-winther"}, "edited": false, "score": 1, "creation_date": 1471848280, "post_id": 39005445, "comment_id": 65493715, "body": "Ok I see. A lot has happened since 1.17 so I&#39;d recommend to try out the development version using the available SDK where this seems to be fixed or hold out until 1.18 is available."}, {"owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "edited": false, "score": 1, "creation_date": 1471896876, "post_id": 39005445, "comment_id": 65523694, "body": "I&#39;m working on a research project for my thesis. I will give the development version a try. Thank you for your time. I will update the post if the development version corrects the problem."}, {"owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "reply_to_user": {"reputation": 1053, "user_id": 1093963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0667c73ecfd4bea2e72833fdc44c3d4a?s=128&d=identicon&r=PG", "display_name": "Christian Winther", "link": "https://stackoverflow.com/users/1093963/christian-winther"}, "edited": false, "score": 0, "creation_date": 1472073188, "post_id": 39005445, "comment_id": 65611532, "body": "Hi @ChristianAndersson, I have installed the JModelica.org-SDK-1.12 and built from the source. However, when I go to compile the model as an FMU the pylab shell and compile_fmu is unable to find the -lCallAdd.a library file. How were you able to reference this file during compilation of the FMU? Thank you for your time."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "is_accepted": false, "score": 0, "last_activity_date": 1472084108, "creation_date": 1472084108, "answer_id": 39134843, "question_id": 39005445, "link": "https://stackoverflow.com/questions/39005445/fmu-variable-values-do-not-match-input/39134843#39134843", "title": "FMU Variable Values Do Not Match Input", "body": "<p>Following @ChristianAndersson's suggestion to update my JModelica installation the problem described in my question above was solved. </p>\n\n<p>JModelica 1.17.0 was release in December, 2015. </p>\n\n<p>JModelica-SDK-1.12.0 was released in February, 2016 and is built from the source code, which fixed the problem and provided me with the expected results. </p>\n"}], "owner": {"reputation": 189, "user_id": 4987652, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-OaWWK_ACvlM/AAAAAAAAAAI/AAAAAAAABmk/k0KrVbz36xc/photo.jpg?sz=128", "display_name": "Justin Shultz", "link": "https://stackoverflow.com/users/4987652/justin-shultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1472084108, "creation_date": 1471464687, "question_id": 39005445, "link": "https://stackoverflow.com/questions/39005445/fmu-variable-values-do-not-match-input", "title": "FMU Variable Values Do Not Match Input", "body": "<p>I'm getting some strange behavior in a simple co-simulation that I'm trying to configure. I setup a building energy model in EnergyPlus to test out an FMU generated from JModelica. However, the building energy model would get hung up at the co-simulation step. I then ran the FMU in JModelica and got some very strange results.</p>\n\n<p>The Modelica code is:</p>\n\n<pre><code>model CallAdd\n    input Real FirstInput(start=0);\n    input Real SecondInput(start=0);\n    output Real FMUOutput(start=0); \n    function CAdd\n        input Real x(start=0);\n        input Real y(start=0);\n        output Real z(start=0);\n        external \"C\"  annotation(Library = \"CAdd\", LibraryDirectory = \"modelica://CallAdd\");\n    end CAdd;\nequation\n    FMUOutput = CAdd(FirstInput,SecondInput);\n    annotation(uses(Modelica(version = \"3.2.1\")));\nend CallAdd;\n</code></pre>\n\n<p>The above code references \"CAdd\" which is library file for the c code \"CAdd.c\":</p>\n\n<pre><code>double CAdd(double x, double y){\n    double answer;\n    answer = x + y;\n    return answer;\n}\n</code></pre>\n\n<p>which is compiled into a library file with the below two commands in CMD:</p>\n\n<pre><code>gcc -c CAdd.c -o CAdd.o\nar rcs libCAdd.a CAdd.o\n</code></pre>\n\n<p>I can run the above example in OpenModelica with a wrapper and it works great.</p>\n\n<p>I then used JModelica to compile the above as an FMU for co-simulation. The JModelica compile code is:</p>\n\n<pre><code># Import the compiler function\nfrom pymodelica import compile_fmu\n\n# Specify Modelica model and model file (.mo or .mop)\nmodel_name = \"CallAdd\"\nmo_file = \"CallAdd.mo\"\n\n# Compile the model and save the return argument, for use later if wanted\nmy_fmu = compile_fmu(model_name, mo_file, target=\"cs\")\n</code></pre>\n\n<p>I then simulated the FMU and got the strange results with the JModelica Python code:</p>\n\n<pre><code>from pyfmi import load_fmu\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nmodelName = 'CallAdd'\nnumSteps = 100\ntimeStop = 20\n\n# Load FMU created with the last script\nmyModel = load_fmu(modelName+'.fmu')\n\n# Load options\nopts = myModel.simulate_options()\n\n# Set number of timesteps\nopts['ncp'] = numSteps\n\n# Set up input, needs more than one value to interpolate the input over time. \nt = np.linspace(0.0,timeStop,numSteps)\nu1 = np.sin(t)\nu2 = np.empty(len(t)); u2.fill(5.0)\nu_traj = np.transpose(np.vstack((t,u1,u2)))\ninput_object = (['FirstInput','SecondInput'],u_traj)\n\n# Internalize results\nres = myModel.simulate(final_time=timeStop, input = input_object, options=opts)\n# print 'res: ', res\n\n# Internalize individual results\nFMUTime = res['time']\nFMUIn1 = res['FirstInput']\nFMUIn2 = res['SecondInput']\nFMUOut = res['FMUOutput']\n\nplt.figure(2)\nFMUIn1Plot = plt.plot(t,FMUTime[1:],label='FMUTime')\n# FMUIn1Plot = plt.plot(t,FMUIn1[1:],label='FMUIn1')\n# FMUIn2Plot = plt.plot(t,FMUIn2[1:],label='FMUIn2')\n# FMUOutPlot = plt.plot(t,FMUOut[1:],label='FMUOut')\nplt.grid(True)\nplt.legend()\nplt.ylabel('FMU time [s]')\nplt.xlabel('time [s]')\nplt.show()\n</code></pre>\n\n<p>which resulted in the plot for result \"FMUTime\" vs python \"t\":\n<a href=\"https://i.stack.imgur.com/mev2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mev2P.png\" alt=\"FMU Time does not match simulation time\"></a></p>\n\n<p>In addition to seeing this strange behavior the input \"FirstInput\" and \"SecondInput\" in the FMU results do not match the u1 and u2 specified in the python code. I'm hoping that someone can help me better understand what is going on.</p>\n\n<p>Best, </p>\n\n<p>Justin </p>\n"}, {"tags": ["python", "docker", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 4, "last_activity_date": 1471464795, "creation_date": 1471464795, "answer_id": 39005477, "question_id": 39005380, "link": "https://stackoverflow.com/questions/39005380/when-using-docker-containers-where-are-shared-python-libraries-stored/39005477#39005477", "title": "When using Docker Containers, where are shared Python libraries stored?", "body": "<p>Just like everything else in a Docker Container, your libraries are inside the container. Unless you mount a host volume, or a volume from another container of course. On the plus side, though, they're copy-on-write, so if you're not making changes to the libraries in your container (why would you do that anyway?) then you can have 100 running containers from the same image and they don't require any extra disk space.</p>\n\n<p><em>Some</em> people advocate for using a virtualenv within the container - there are pros and cons to the approach, and I don't think there's a one-sized-fits-all answer, though I would lean for not having a virtualenv.</p>\n"}], "owner": {"reputation": 1741, "user_id": 1475817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/478f55eb9ff65c6681cc8a88172b285f?s=128&d=identicon&r=PG", "display_name": "Ben Harrison", "link": "https://stackoverflow.com/users/1475817/ben-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 39005477, "answer_count": 1, "score": 2, "last_activity_date": 1471464795, "creation_date": 1471464390, "question_id": 39005380, "link": "https://stackoverflow.com/questions/39005380/when-using-docker-containers-where-are-shared-python-libraries-stored", "title": "When using Docker Containers, where are shared Python libraries stored?", "body": "<p>In an environment where Docker Containers are used for each application, where are Python's shared libraries stored? Are they stored separately within each Docker Container, or shared by the host O/S?</p>\n\n<p>Additionally I'm wondering if it would be best practice to use a virtual environment regardless?</p>\n"}]