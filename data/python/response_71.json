[{"tags": ["python", "function", "recursion"], "comments": [{"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 1, "creation_date": 1463616038, "post_id": 37311885, "comment_id": 62144616, "body": "Change the recursion to iteration.  It makes no sense for this to be recursive, and evidently Python isn&#39;t smart enough to handle this as tail recursion."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463616125, "post_id": 37311885, "comment_id": 62144639, "body": "@TomKarzes - Python doesn&#39;t do TCO, because <a href=\"http://neopythonic.blogspot.com/2009/04/tail-recursion-elimination.html\" rel=\"nofollow noreferrer\">GvR felt that a full stack trace was more important</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463616732, "post_id": 37311885, "comment_id": 62144781, "body": "@Tom: It does make <i>sense</i>, it&#39;s just an unusual and inappropriate style."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463617567, "post_id": 37311885, "comment_id": 62144967, "body": "@TomKarzes: you could add a TCO decorator if you&#39;d like but the code should be rewritten in a more idiomatic way instead: <code>for num in iter(gen, None): print(&quot;{now}...</code>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1463617614, "post_id": 37311885, "comment_id": 62144979, "body": "unrelated: remove <code>global rand</code>: it does nothing useful here. And globals should be avoided in general."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1463617845, "post_id": 37311885, "comment_id": 62145045, "body": "you could also <a href=\"http://stackoverflow.com/questions/22161988/user-input-in-python#comment33663979_22161988\">use a trampoline, to avoid the recursion limit (continuation-passing style)</a>"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1463618603, "post_id": 37311885, "comment_id": 62145226, "body": "@TigerhawkT3: there is <a href=\"https://github.com/lihaoyi/macropy#tail-call-optimization\" rel=\"nofollow noreferrer\">TCO decorator if you need it</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1463616053, "creation_date": 1463616053, "answer_id": 37311916, "question_id": 37311885, "link": "https://stackoverflow.com/questions/37311885/recursion-to-iteration-max-recursion-depth-exceeded/37311916#37311916", "title": "Recursion to Iteration? Max recursion depth exceeded", "body": "<p>Simply use an infinite loop, and call <code>gen()</code> from within the loop rather than passing it as an argument to <code>main</code>:</p>\n\n<pre><code>def main():\n    while 1:\n        num = gen()\n        print datetime.datetime.now(),'::',num\n        if 'xxx' in num:\n            print 'Generated string contains xxx! Continuing...'\n        else:\n            print datetime.datetime.now(),'::', num\n            'xxx not in string.'\n\nmain()\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 2535164, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b3a700ea23f0521d7bb0569c6235727a?s=128&d=identicon&r=PG", "display_name": "zweed4u", "link": "https://stackoverflow.com/users/2535164/zweed4u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 37311916, "answer_count": 1, "score": 0, "last_activity_date": 1463616053, "creation_date": 1463615864, "question_id": 37311885, "link": "https://stackoverflow.com/questions/37311885/recursion-to-iteration-max-recursion-depth-exceeded", "title": "Recursion to Iteration? Max recursion depth exceeded", "body": "<p>I have a program that I want to indefinitely run that displays a random 5 long alphanumeric string with time generated. I have a condition that checks the string to display that a substring was included in the generation. The problem is that I get the error:</p>\n\n<pre><code>RuntimeError: maximum recursion depth exceeded\n</code></pre>\n\n<p>I have the following:</p>\n\n<pre><code>import random,datetime\ndef gen():\n    global rand\n    rand=''.join(random.choice('0123456789abcdefghijklmnopqrstuvwxyz') for i in range(5))\n    return rand\n\ndef main(num):\n    print datetime.datetime.now(),'::',num\n    if 'xxx' in num:\n        print 'Generated string contains xxx! Continuing...'\n        main(gen())\n    else:\n        print datetime.datetime.now(),'::', num\n        'xxx not in string.'\n        main(gen())\n\nmain(gen())\n</code></pre>\n\n<p>How can I go about converting this or rectifying this issue? Thank you</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "windows-10", "anaconda"], "answers": [{"comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "reply_to_user": {"reputation": 21, "user_id": 6353560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1249534368391391/picture?type=large", "display_name": "Forrest Brown", "link": "https://stackoverflow.com/users/6353560/forrest-brown"}, "edited": false, "score": 0, "creation_date": 1463619181, "post_id": 37311900, "comment_id": 62145366, "body": "IPython is a Python REPL, so I would not be surprised."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": false, "score": 3, "last_activity_date": 1463615978, "creation_date": 1463615978, "answer_id": 37311900, "question_id": 37311877, "link": "https://stackoverflow.com/questions/37311877/from-import-is-not-recognized-as-an-internal-or-external-command-operable-pro/37311900#37311900", "title": "&#39;From/import&#39; is not recognized as an internal or external command, operable program or batch file", "body": "<p>That needs to be run in the Python REPL, not at a command line. Be sure to start one before typing Python statements.</p>\n"}, {"tags": [], "owner": {"reputation": 723, "user_id": 713147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e2779205d73ff5b51a9845bc50d509?s=128&d=identicon&r=PG", "display_name": "Mohamed Ramadan", "link": "https://stackoverflow.com/users/713147/mohamed-ramadan"}, "is_accepted": false, "score": 2, "last_activity_date": 1521883658, "creation_date": 1521883658, "answer_id": 49463160, "question_id": 37311877, "link": "https://stackoverflow.com/questions/37311877/from-import-is-not-recognized-as-an-internal-or-external-command-operable-pro/49463160#49463160", "title": "&#39;From/import&#39; is not recognized as an internal or external command, operable program or batch file", "body": "<p>You need to write the Import command in the Python terminal. You can activate the Python terminal using the \"Python\" command. </p>\n\n<p><a href=\"https://i.stack.imgur.com/93lTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/93lTL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 21, "user_id": 6353560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1249534368391391/picture?type=large", "display_name": "Forrest Brown", "link": "https://stackoverflow.com/users/6353560/forrest-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27724, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1613118754, "creation_date": 1463615833, "question_id": 37311877, "link": "https://stackoverflow.com/questions/37311877/from-import-is-not-recognized-as-an-internal-or-external-command-operable-pro", "title": "&#39;From/import&#39; is not recognized as an internal or external command, operable program or batch file", "body": "<p>I'm having trouble importing Machine Learning algorithms from scikit-learn.\n I have it installed but whenever I type for example \"from sklearn.naive_bayes import GaussianNB\" it says \" 'from' is not recognized as an internal or external command, operable program or batch file.\n I'm using Anaconda on Windows 10. Is it compatibility issue? Am I missing something? Idk I'm still new to Python so I feel lost. Thanks</p>\n"}, {"tags": ["python", "error-handling", "flask", "openshift", "flask-restful"], "comments": [{"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "edited": false, "score": 0, "creation_date": 1463616620, "post_id": 37311813, "comment_id": 62144757, "body": "Can you add a <code>None</code> keyed value to your <code>custom_errors</code> <code>dict</code> to at least get access to the request information?"}], "answers": [{"comments": [{"owner": {"reputation": 3626, "user_id": 983969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8742f6b624078f24236fabe60ebf1b50?s=128&d=identicon&r=PG&f=1", "display_name": "Lemex", "link": "https://stackoverflow.com/users/983969/lemex"}, "edited": false, "score": 0, "creation_date": 1463770271, "post_id": 37325464, "comment_id": 62223144, "body": "Sir you are a star. amazing!"}, {"owner": {"reputation": 3626, "user_id": 983969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8742f6b624078f24236fabe60ebf1b50?s=128&d=identicon&r=PG&f=1", "display_name": "Lemex", "link": "https://stackoverflow.com/users/983969/lemex"}, "edited": false, "score": 0, "creation_date": 1463777588, "post_id": 37325464, "comment_id": 62226676, "body": "I would never of found this. Thanks for sharing!"}], "tags": [], "owner": {"reputation": 3538, "user_id": 1437781, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a34b241c295849262993d96ce2100e57?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Gon&#231;alves", "link": "https://stackoverflow.com/users/1437781/jo%c3%a3o-gon%c3%a7alves"}, "is_accepted": true, "score": 1, "last_activity_date": 1463666194, "creation_date": 1463666194, "answer_id": 37325464, "question_id": 37311813, "link": "https://stackoverflow.com/questions/37311813/python-rest-http-error-flask-with-openshift/37325464#37325464", "title": "Python Rest Http Error (Flask) with Openshift", "body": "<p>When trying to trace the error on <code>werkzeug/exceptions.py:95</code> on the github repo <a href=\"https://github.com/pallets/werkzeug\" rel=\"nofollow\">[1]</a>, you'll see that the causing LOC is actually not line 95, but rather line 109 <a href=\"https://github.com/pallets/werkzeug/blob/master/werkzeug/exceptions.py#L109\" rel=\"nofollow\">[2]</a></p>\n\n<pre><code>File \"/opt/rh/python27/root/usr/lib/python2.7/site-packages/werkzeug/exceptions.py\", line 95, in name\nreturn HTTP_STATUS_CODES[self.code]\n</code></pre>\n\n<p>Which should be:</p>\n\n<pre><code>@property\ndef name(self):\n    \"\"\"The status name.\"\"\"\n    return HTTP_STATUS_CODES.get(self.code, 'Unknown Error')\n</code></pre>\n\n<p>The logical conclusion is that the versions installed on Openshift and on your local machine differ, as you probably don't have Werkzeug explicitly defined on your <code>requirements.txt</code>.</p>\n\n<p>I replicated this issue by creating an app, and on my machine:</p>\n\n<pre><code>$ pip freeze\nWerkzeug==0.11.4\n</code></pre>\n\n<p>On Openshift:</p>\n\n<pre><code>$ pip freeze\nWerkzeug==0.8.3\n</code></pre>\n\n<p>So, simply add <code>Werkzeug==0.11.4</code> and you should be good to go.</p>\n"}], "owner": {"reputation": 3626, "user_id": 983969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8742f6b624078f24236fabe60ebf1b50?s=128&d=identicon&r=PG&f=1", "display_name": "Lemex", "link": "https://stackoverflow.com/users/983969/lemex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 37325464, "answer_count": 1, "score": 1, "last_activity_date": 1463666194, "creation_date": 1463615306, "last_edit_date": 1463615717, "question_id": 37311813, "link": "https://stackoverflow.com/questions/37311813/python-rest-http-error-flask-with-openshift", "title": "Python Rest Http Error (Flask) with Openshift", "body": "<p>I have some simple code to raise an error in Python:</p>\n\n<pre><code>class LoginUser(Resource):\n    def post(self):\n        # Parse the arguments\n        parser = reqparse.RequestParser()\n        parser.add_argument('email', type=str, help='Email address to create user')\n        args = parser.parse_args()\n\n        _userEmail = args['email']\n        _users = User.objects(email=_userEmail)\n\n        if len(_users) == 0:\n            raise LoginInvalidEmailError()\n</code></pre>\n\n<p>And some classes</p>\n\n<pre><code>from flask_restful import HTTPException\n\nclass LoginInvalidEmailError(HTTPException):\n    pass\n\nclass LoginInvalidPasswordError(HTTPException):\n    pass\n\n#http://flask-restful.readthedocs.io/en/latest/extending.html#define-custom-error-messages\ncustom_errors = {\n    'LoginInvalidEmailError': {\n        'message': \"Email address has not been registered.\",\n        \"code\" : 500,\n        \"status\": 500,\n        \"status_code\": 500\n    },\n    'LoginInvalidPasswordError': {\n        'message': \"Invalid password.\",\n        \"code\" : 500,\n        \"status\": 500,\n        \"status_code\": 500\n    }\n}\n</code></pre>\n\n<p>Within my local environment it returns a 500 error like this:</p>\n\n<pre><code>{\n\"data\": {\n    \"code\": 500,\n    \"message\": \"Email address has not been registered.\",\n    \"status\": 500,\n    \"status_code\": 500\n}, \"status\": 500, \"config\": {\n    \"method\": \"POST\",\n    \"transformRequest\": [null],\n    \"transformResponse\": [null],\n    \"url\": \"http://localhost:3030/User/Login\",\n    \"data\": {\n        \"email\": \"\",\n        \"password\": \"\"\n    },\n    \"headers\": {\n        \"Accept\": \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json;charset=utf-8\",\n        \"Authorization\": \"token null\",\n        \"X-XSRF-TOKEN\": \"62PQ0ri9DC/ZStMLUkR9st7UvOtGVRLs88zoE=\"\n    }\n}, \"statusText\": \"INTERNAL SERVER ERROR\"\n}\n</code></pre>\n\n<p>But within Openshift it complains about:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1836, in __call__\n    return self.wsgi_app(environ, start_response)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1820, in wsgi_app\n    response = self.make_response(self.handle_exception(e))\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 271, in error_router\n    return original_handler(e)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1403, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 268, in error_router\n    return self.handle_error(e)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1817, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1477, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 271, in error_router\n    return original_handler(e)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1381, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 268, in error_router\n    return self.handle_error(e)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1475, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/app.py\", line 1461, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 477, in wrapper\n    resp = resource(*args, **kwargs)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-py2.7.egg/flask/views.py\", line 84, in view\n    return self.dispatch_request(*args, **kwargs)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/dependencies/python/virtenv/lib/python2.7/site-p__init__.py\", line 587, in dispatch_request\n    resp = meth(*args, **kwargs)\n  File \"/var/lib/openshift/571e777e89f5cfb65e00012b/app-root/runtime/repo/kb/endpoints/users/LoginUser.py\", line 19,\n    raise LoginInvalidEmailError()\n  File \"/opt/rh/python27/root/usr/lib/python2.7/site-packages/werkzeug/exceptions.py\", line 75, in __init__\n    Exception.__init__(self, '%d %s' % (self.code, self.name))\n  File \"/opt/rh/python27/root/usr/lib/python2.7/site-packages/werkzeug/exceptions.py\", line 95, in name\n    return HTTP_STATUS_CODES[self.code]\nKeyError: None\n</code></pre>\n\n<p>Has anyone experienced this or know why there is a difference between environments?</p>\n"}, {"tags": ["python", "gtk", "alignment", "overlay", "gtk3"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463672041, "post_id": 37311996, "comment_id": 62174805, "body": "Yeah, I&#39;ve been trying for probably 6 hours, just playing with the  <code>code</code>get-child-position signal<code>code</code>, and still havn&#39;t gotten it to work.  I&#39;m not sure what I was doing wrong."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463672669, "post_id": 37311996, "comment_id": 62175306, "body": "I was creating the handler along the lines of <code>self.overlay.connect(&quot;get-child-position&quot;, self.get_child_position)</code>, and I got that it was sending me the overlay and the button and a Gdk Rectangle.  I was having trouble figuring how to actually set the position from the rectangle though.  I tried using <code>set_allocation(modified_gdk_rectangle)</code> but didn&#39;t get that to work.  I think I&#39;m just confused as to how I&#39;m supposed to change the position in <code>self.get_child_position()</code>, and can&#39;t find any examples online either.  (please excuse my terrible markdown formatting)"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "reply_to_user": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463672854, "post_id": 37311996, "comment_id": 62175452, "body": "You set the position by setting the fields of that rectangle parameter and returning <code>True</code>. I don&#39;t know if Python has a concept of a reference parameter, but that&#39;s what <code>allocation</code> is."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463674900, "post_id": 37311996, "comment_id": 62176830, "body": "When you say &quot;setting fields&quot; you mean like <code>allocation.x = 25</code> and so on with the other rectangle member variables?  and then finish with <code>return True</code>."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463675183, "post_id": 37311996, "comment_id": 62176997, "body": "welp.  I was doing it all right except the <code>return True</code> part.  Thanks!"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "reply_to_user": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463679126, "post_id": 37311996, "comment_id": 62179127, "body": "Yeah, that&#39;s what I meant. Glad to see it works! Good luck from here on out."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463683830, "post_id": 37311996, "comment_id": 62181754, "body": "If I have a list of buttons, and a list of attributes for the buttons (x, y, height, width).  How can I make it so the signal is called for each of the buttons?  Right now, I can only get it to work when I have one button in the overlay, otherwise it seems to shove all the buttons into the same position.  I would like to, in the <code>get-child-position</code> handler function, run a for loop and set each button&#39;s position based on the list of positions and sizes."}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "reply_to_user": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463684654, "post_id": 37311996, "comment_id": 62182231, "body": "What are the parameters for your <code>get-child-position</code> handler in Python? I would need to know which is which to answer that."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463686202, "post_id": 37311996, "comment_id": 62183048, "body": "I included the code at the bottom of the actual post in comments.  But I&#39;m just letting it send the default parameters."}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "reply_to_user": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463688110, "post_id": 37311996, "comment_id": 62184029, "body": "The <code>widget</code> parameter tells you which widget is being placed next."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463689618, "post_id": 37311996, "comment_id": 62184823, "body": "I guess I should say, I don&#39;t understand how the overlay is choosing what widget to pass to the function.  How does it select which widget to send to the function, and when does it select it?  I understand that the <code>get-child-position</code> signal does set the position of the widget, but I don&#39;t see how its triggered or why."}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "reply_to_user": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463691665, "post_id": 37311996, "comment_id": 62185817, "body": "It is triggered whenever the GtkOverlay needs to know where to put a child widget. This will most likely happen if the GtkOverlay&#39;s size has changed. If you need to force a relayout, you can call the GtkOverlay&#39;s <code>queue_resize()</code> method, which will act as if the GtkOverlay&#39;s size has changed and will let you get another batch of <code>get-child-position</code>s."}, {"owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "edited": false, "score": 0, "creation_date": 1463765175, "post_id": 37311996, "comment_id": 62220536, "body": "Thanks, that actually really helped!  I think part of it was that I just needed to step away for a bit."}], "tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": true, "score": 2, "last_activity_date": 1463616852, "creation_date": 1463616852, "answer_id": 37311996, "question_id": 37311808, "link": "https://stackoverflow.com/questions/37311808/how-to-set-location-of-gtk-button-in-gtk-overlay/37311996#37311996", "title": "How to set location of Gtk Button in Gtk Overlay", "body": "<p><a href=\"https://developer.gnome.org/gtk3/stable/GtkOverlay.html#GtkOverlay.description\" rel=\"nofollow\">The Description section of the GtkOverlay documentation</a> has your answer: you either use the margin properties of the GtkWidget or the GtkOverlay's <code>get-child-position</code> signal to set the position.</p>\n"}], "owner": {"reputation": 315, "user_id": 4463496, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UXj05.jpg?s=128&g=1", "display_name": "TheEggSample", "link": "https://stackoverflow.com/users/4463496/theeggsample"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 0, "accepted_answer_id": 37311996, "answer_count": 1, "score": 0, "last_activity_date": 1463689025, "creation_date": 1463615259, "last_edit_date": 1463689025, "question_id": 37311808, "link": "https://stackoverflow.com/questions/37311808/how-to-set-location-of-gtk-button-in-gtk-overlay", "title": "How to set location of Gtk Button in Gtk Overlay", "body": "<p>So currently I have a Gtk Overlay.  I can bring up my button that I would like to position using Gtk's <code>Gtk.Align.CENTER</code>, but I've been trying for so long now to position the button, rather than aligning it.</p>\n\n<pre><code>    # Overlay\n    self.overlay = Gtk.Overlay()\n    self.overlay.show()\n\n    # Image\n    image_pixbuf = GdkPixbuf.Pixbuf.new_from_file(\"pics/sgcity.png\")\n    image_pixbuf = image_pixbuf.scale_simple(1200, 720, GdkPixbuf.InterpType.BILINEAR)\n    self.image = Gtk.Image()\n    self.image.set_from_pixbuf(image_pixbuf)\n    self.overlay.add(self.image)\n    self.image.show()\n\n\n    # Test overlay button\n    self.printerimg = Gtk.Image()\n    self.printerimg.set_from_file(\"pics/printer.png\")\n\n    self.testbutton = Gtk.Button(None)\n    self.testbutton.set_image(self.printerimg)\n    #self.testbutton.set_alignment(0.1, 0.9)\n    #self.testbutton.set_property(\"width-request\", 20)\n    #self.testbutton.set_property(\"height-request\", 20)\n    self.testbutton.set_allocation(allocation)\n    self.testbutton.set_valign(Gtk.Align.CENTER)\n    self.testbutton.set_halign(Gtk.Align.CENTER)\n    self.overlay.add_overlay(self.testbutton)\n    self.testbutton.show()\n    self.testbutton.set_name(\"testbutton\")\n    self.testbutton.set_opacity(0.8)\n\n\n\n    #for i in range(len(printer_store)):\n        #self.overlay.connect(\"get-child-position\", self.get_child_position)\n        #self.printbuttons[i].show()\n\n    #def get_child_position(self, overlay, widget, allocation):\n        #self.child_position_count += 1\n        #for i in range(len(self.logic.get_printer_button_attributes())):\n            #button_attrib = self.logic.get_printer_button_attributes()\n            #allocation.x = button_attrib[i][0]\n            #allocation.y = button_attrib[i][1]\n            #allocation.height = button_attrib[i][2]\n            #allocation.width = button_attrib[i][3]\n        #print \"changed\"\n        #return True\n</code></pre>\n\n<p>As you can see by the commented lines, I've tried using <code>Gtk.Widget.set_property()</code>, <code>Gtk.Widget.set_alignment()</code> and a few other things.  The <code>set_alignment()</code> is just setting the alignment of the image in the button to its parameters, rather than the button itself.  Any guidance as to what I should be doing to set the position of the button?  Eventually, I'll have multiple buttons at specific positions in the overlay.</p>\n"}, {"tags": ["python", "graph"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1463617290, "post_id": 37311796, "comment_id": 62144903, "body": "loosely related: <a href=\"http://stackoverflow.com/a/22121542/4279\">random walk in the terminal</a>."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 5531017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29c2a5b95badda4f4c7e3fbf234765ac?s=128&d=identicon&r=PG&f=1", "display_name": "optimisation2810", "link": "https://stackoverflow.com/users/5531017/optimisation2810"}, "edited": false, "score": 0, "creation_date": 1463615774, "post_id": 37311850, "comment_id": 62144552, "body": "Thanks Richard. It worked in graphing the plot. However, the reason I defined it as a function was because it wasn&#39;t generating a random walk. In other words, the array was scattered around the straight-line return in a zig-zag fashion, because the calculation is not iterating from the previous variable (for price), and that still seems to be an issue. Could you assist in any way?"}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "reply_to_user": {"reputation": 55, "user_id": 5531017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29c2a5b95badda4f4c7e3fbf234765ac?s=128&d=identicon&r=PG&f=1", "display_name": "optimisation2810", "link": "https://stackoverflow.com/users/5531017/optimisation2810"}, "edited": false, "score": 0, "creation_date": 1463615992, "post_id": 37311850, "comment_id": 62144604, "body": "I&#39;m afraid I don&#39;t follow. What are the axes you are expecting on your graph?"}, {"owner": {"reputation": 55, "user_id": 5531017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29c2a5b95badda4f4c7e3fbf234765ac?s=128&d=identicon&r=PG&f=1", "display_name": "optimisation2810", "link": "https://stackoverflow.com/users/5531017/optimisation2810"}, "edited": false, "score": 0, "creation_date": 1463616534, "post_id": 37311850, "comment_id": 62144736, "body": "Essentially, I am looking to generate a random walk for the stock price (with the x axis being number of days and y being the price). However, instead of a random walk, what is happening is that the stock price is simply oscillating up and down in a zig-zag fashion (<a href=\"http://imgur.com/nGaAcq2\" rel=\"nofollow noreferrer\">imgur.com/nGaAcq2</a>). This is because the array generated is not iteratively calculating the next day&#39;s price because we are simply adding randomness to the entire array."}, {"owner": {"reputation": 55, "user_id": 5531017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29c2a5b95badda4f4c7e3fbf234765ac?s=128&d=identicon&r=PG&f=1", "display_name": "optimisation2810", "link": "https://stackoverflow.com/users/5531017/optimisation2810"}, "edited": false, "score": 0, "creation_date": 1463618410, "post_id": 37311850, "comment_id": 62145172, "body": "Never mind, I solved it by redefining the price variable to include the random element right off the bat, thus saving the need for a recursive function."}], "tags": [], "owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "is_accepted": true, "score": 1, "last_activity_date": 1463615530, "creation_date": 1463615530, "answer_id": 37311850, "question_id": 37311796, "link": "https://stackoverflow.com/questions/37311796/plotting-in-python/37311850#37311850", "title": "Plotting in Python?", "body": "<p>How about this?</p>\n\n<pre><code>randomnumbers = np.random.normal((mu*(price/10)), (v*(price/10)), days) #This variable generates a series of random numbers based on the normal distribution and in accordance with the return and volatility specified.\nrandomwalk    = [simAssetPrice[i-1] + randomnumbers[i] + k for i in range(1,days)]\n\nplt.plot(randomwalk)\nplt.ylabel('Price')\nplt.show()\n</code></pre>\n\n<p>I had to use one more random number then you specified.</p>\n\n<p>In place of your <code>randomwalk()</code> function, I've used a list comprehension.</p>\n\n<p>Using the same names for variables as for functions is bound to mess things up. Also, since you wrote:</p>\n\n<pre><code>randomwalk\nplt.plot(randomwalk)\n</code></pre>\n\n<p>You were referring to a \"pointer\" to the function. You need to write <code>randomwalk(simAssetPrice, randomnumbers)</code> in order to <strong>call</strong> the function.</p>\n\n<p>You may want to review how functions work in Python.</p>\n"}], "owner": {"reputation": 55, "user_id": 5531017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/29c2a5b95badda4f4c7e3fbf234765ac?s=128&d=identicon&r=PG&f=1", "display_name": "optimisation2810", "link": "https://stackoverflow.com/users/5531017/optimisation2810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 37311850, "answer_count": 1, "score": 0, "last_activity_date": 1464813839, "creation_date": 1463615142, "last_edit_date": 1464813839, "question_id": 37311796, "link": "https://stackoverflow.com/questions/37311796/plotting-in-python", "title": "Plotting in Python?", "body": "<p>I wrote a program in Python that calculates a random walk for an array given certain parameters.</p>\n\n<p>I presume the \"random\" function is working, since I get the output \" (I am using iPython). However, I cannot plot the function on a graph, because the float() argument must be a string or number, not a function. Nevertheless, given the recursive nature of the variables in question, it needs to be defined as a function for the program to run.</p>\n\n<p>How can I graph this?</p>\n"}, {"tags": ["python", "shell", "import", "export", "wolfram-mathematica"], "comments": [{"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 0, "creation_date": 1509025385, "post_id": 37311700, "comment_id": 80859146, "body": "great question, don&#39;t forget to accept an answer if it helped you in the problem"}], "answers": [{"comments": [{"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 3, "creation_date": 1463667307, "post_id": 37311873, "comment_id": 62171000, "body": "note if this is being called repeatedly like a function and performance is an issue you can use <code>popen</code>, pass the data by pipes and keep mathematica resident. I&#39;d suggest the OP implement this file based approach first and come back if he needs to speed things up."}], "tags": [], "owner": {"reputation": 86, "user_id": 3583290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aec4f050c401d482a07bc63afc18a41?s=128&d=identicon&r=PG&f=1", "display_name": "BGabor", "link": "https://stackoverflow.com/users/3583290/bgabor"}, "is_accepted": false, "score": 3, "last_activity_date": 1463615794, "creation_date": 1463615794, "answer_id": 37311873, "question_id": 37311700, "link": "https://stackoverflow.com/questions/37311700/from-python-to-mathematica-and-back-again/37311873#37311873", "title": "From Python to Mathematica and back again", "body": "<p>On way to do this:</p>\n\n<ul>\n<li>Put your Mathematica code into a plain text file for example <code>make_arr.m</code></li>\n<li>Use command line interface of Mathematica:\n\n<ul>\n<li><code>math -script make_arr.m</code></li>\n</ul></li>\n<li>From python invoke the above with the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\"><code>subprocess</code></a> module\n\n<ul>\n<li><code>subprocess.call([\"math\", \"-script\", \"make_arr.m\"])</code></li>\n</ul></li>\n</ul>\n\n<p>Optionally you can use command line arguments in the Mathematica script:</p>\n\n<p><code>file_name = $CommandLine[[4]]</code></p>\n\n<p><a href=\"http://reference.wolfram.com/language/tutorial/WolframLanguageScripts.html\" rel=\"nofollow\">Further to read</a></p>\n"}], "owner": {"reputation": 1053, "user_id": 4265321, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd6bafb9454cd5e54c23ddd0d1bd46f9?s=128&d=identicon&r=PG", "display_name": "johnhenry", "link": "https://stackoverflow.com/users/4265321/johnhenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2712, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1463615794, "creation_date": 1463614428, "question_id": 37311700, "link": "https://stackoverflow.com/questions/37311700/from-python-to-mathematica-and-back-again", "title": "From Python to Mathematica and back again", "body": "<p>I wrote a Python script, which produces an output that goes to a file.\nThis is read as an input file by Mathematica, that then uses it to make some operations and finally returns another output file. \nIn turn, this last file should be read by the same initial Python script, to perform some more operations. </p>\n\n<p>My question is: what is the simplest (but efficient) way to do that?</p>\n\n<p>I will write in the following a (very simplified) example of what I am dealing with. I start with my python script <code>python_script.py</code>: this produces an array <code>arr</code> that is saved in the file <code>\"arr.txt\"</code></p>\n\n<pre><code>import numpy as np \narr = np.arange(9).reshape(3,3)\nnp.savetxt('arr.txt', arr, delimiter=' ')\n</code></pre>\n\n<p>This file is read by my Mathematica notebook <code>nb_Mathematica.nb</code>. This for example could produce another array, in turn saved in another file, <code>\"arr2.txt\"</code></p>\n\n<pre><code>file = Import[\"arr.txt\",\"Table\"]\nb = ArrayReshape[file, {3,3}]\nc = {{1,1,1},{1,1,1},{1,1,1}}\nd = b + c\nExport[\"arr2.txt\", d]\n</code></pre>\n\n<p>And now <code>\"arr2.txt\"</code> must be read by the original Python script. How is it possible to do that? How in particular can I stop the Python script, start Mathematica and then go back to the Python script?</p>\n"}, {"tags": ["python", "numpy", "pandas", "machine-learning", "multi-index"], "comments": [{"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1463614675, "post_id": 37311699, "comment_id": 62144278, "body": "<code>np.ndarray</code> is an underlying type for pandas DataFrame, but it supports more than two dimensions: <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.ndarray.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy-1.10.0/reference/generated/&hellip;</a>"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1463615137, "post_id": 37311699, "comment_id": 62144377, "body": "Since Pandas has greatly improved MultiIndexing, this is generally favored instead of Panels."}], "answers": [{"comments": [{"owner": {"reputation": 2731, "user_id": 1115659, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e07a4201601ad4298203b843ab64b9e4?s=128&d=identicon&r=PG", "display_name": "aldanor", "link": "https://stackoverflow.com/users/1115659/aldanor"}, "edited": false, "score": 0, "creation_date": 1463615093, "post_id": 37311737, "comment_id": 62144365, "body": "Panels and multi-dimensional panels are being deprecated in future versions in favour of <code>xarray</code>: <a href=\"http://pandas.pydata.org/pandas-docs/version/0.18.0/whatsnew.html#to-xarray\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.18.0/&hellip;</a>"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 5, "last_activity_date": 1463615309, "last_edit_date": 1495540798, "creation_date": 1463614667, "answer_id": 37311737, "question_id": 37311699, "link": "https://stackoverflow.com/questions/37311699/high-dimensional-data-structure-in-python/37311737#37311737", "title": "High-dimensional data structure in Python", "body": "<p><code>MultiIndex</code> is most useful for higher dimensional data as explained <a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html#hierarchical-indexing-multiindex\" rel=\"nofollow noreferrer\">in the docs</a> and <a href=\"https://stackoverflow.com/questions/13226029/benefits-of-pandas-multiindex\">this SO answer</a> because it allows you to work with any number of dimension in a <code>DataFrame</code> environment.</p>\n\n<p>In addition to the <code>Panel</code>, there is also <a href=\"http://pandas.pydata.org/pandas-docs/stable/dsintro.html#panel4d-experimental\" rel=\"nofollow noreferrer\">Panel4D</a> - currently in experimental stage. Given the advantages of <code>MultiIndex</code> I wouldn't recommend using either this or the three dimensional version. I don't think these data structures have gained much traction in comparison, and will indeed be phased out.</p>\n"}, {"tags": [], "owner": {"reputation": 2731, "user_id": 1115659, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e07a4201601ad4298203b843ab64b9e4?s=128&d=identicon&r=PG", "display_name": "aldanor", "link": "https://stackoverflow.com/users/1115659/aldanor"}, "is_accepted": false, "score": 3, "last_activity_date": 1463615160, "last_edit_date": 1463615160, "creation_date": 1463614770, "answer_id": 37311742, "question_id": 37311699, "link": "https://stackoverflow.com/questions/37311699/high-dimensional-data-structure-in-python/37311742#37311742", "title": "High-dimensional data structure in Python", "body": "<p>If you need labelled arrays and pandas-like smart indexing, you can use <code>xarray</code> package which is essentially an n-dimensional extension of pandas Panel (panels are being deprecated in pandas in future in favour of xarray).</p>\n\n<p>Otherwise, it may sometimes be reasonable to use plain numpy arrays which can be of any dimensionality; you can also have arbitrarily nested numpy record arrays of any dimension.</p>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1463614800, "creation_date": 1463614800, "answer_id": 37311747, "question_id": 37311699, "link": "https://stackoverflow.com/questions/37311699/high-dimensional-data-structure-in-python/37311747#37311747", "title": "High-dimensional data structure in Python", "body": "<p>I recommend continuing to use <code>DataFrame</code> but utilize the <code>MultiIndex</code> feature.  <code>DataFrame</code> is better supported and you preserve all of your dimensionality with the <code>MultiIndex</code>.</p>\n\n<p>Example</p>\n\n<pre><code>df = pd.DataFrame([[1, 2], [3, 4]], columns=['a', 'b'], index=['A', 'B'])\n\ndf3 = pd.concat([df for _ in [0, 1]], keys=['one', 'two'])\n\ndf4 = pd.concat([df3 for _ in [0, 1]], axis=1, keys=['One', 'Two'])\n\nprint df4\n</code></pre>\n\n<p>Looks like:</p>\n\n<pre><code>      One    Two   \n        a  b   a  b\none A   1  2   1  2\n    B   3  4   3  4\ntwo A   1  2   1  2\n    B   3  4   3  4\n</code></pre>\n\n<p>This is a hyper-cube of data.  And you'll be much better served with support and questions and less bugs and many other benefits.</p>\n"}], "owner": {"reputation": 839, "user_id": 4260762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b72598499d345ba4dcedbc9debfc785?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/4260762/wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2019, "favorite_count": 1, "accepted_answer_id": 37311737, "answer_count": 3, "score": 5, "last_activity_date": 1474020424, "creation_date": 1463614426, "last_edit_date": 1474020424, "question_id": 37311699, "link": "https://stackoverflow.com/questions/37311699/high-dimensional-data-structure-in-python", "title": "High-dimensional data structure in Python", "body": "<p>What is best way to store and analyze high-dimensional date in python? I like Pandas DataFrame and Panel where I can easily manipulate the axis. Now I have a hyper-cube (dim >=4) of data. I have been thinking of stuffs like dict of Panels, tuple as panel entries. I wonder if there is a high-dim panel thing in Python. </p>\n\n<p>update 20/05/16: \nThanks very much for all the answers. I have tried MultiIndex and xArray, however I am not able to comment on any of them. In my problem I will try to use ndarray instead as I found the label is not essential and I can save it separately.</p>\n\n<p>update 16/09/16:\nI came up to use MultiIndex in the end. The ways to manipulate it are pretty tricky at first, but I kind of get used to it now.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 1470, "user_id": 626279, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/08d39727157dacf2b0d11a263e390637?s=128&d=identicon&r=PG", "display_name": "blacklwhite", "link": "https://stackoverflow.com/users/626279/blacklwhite"}, "edited": false, "score": 1, "creation_date": 1463615080, "post_id": 37311668, "comment_id": 62144361, "body": "Did you forgot to migrate your database with the model <code>registry.Profile</code>?"}, {"owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "reply_to_user": {"reputation": 1470, "user_id": 626279, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/08d39727157dacf2b0d11a263e390637?s=128&d=identicon&r=PG", "display_name": "blacklwhite", "link": "https://stackoverflow.com/users/626279/blacklwhite"}, "edited": false, "score": 0, "creation_date": 1463671960, "post_id": 37311668, "comment_id": 62174733, "body": "I just ran the &gt;&gt;&gt;manage.py migrate, isn&#39;t that enough?"}, {"owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "reply_to_user": {"reputation": 1470, "user_id": 626279, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/08d39727157dacf2b0d11a263e390637?s=128&d=identicon&r=PG", "display_name": "blacklwhite", "link": "https://stackoverflow.com/users/626279/blacklwhite"}, "edited": false, "score": 0, "creation_date": 1463673302, "post_id": 37311668, "comment_id": 62175781, "body": "@blacklwhite Yes. I got it I had to run makemigrations registry :) tnx"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1483109663, "last_edit_date": 1483109663, "creation_date": 1463673415, "answer_id": 37328450, "question_id": 37311668, "link": "https://stackoverflow.com/questions/37311668/django-email-account-verification/37328450#37328450", "title": "Django email account verification", "body": "<p>Yes. I got it. I had to run:</p>\n\n<pre><code>&gt;&gt;&gt; manage.py makemigrations registry\n</code></pre>\n\n<p>and then :</p>\n\n<pre><code>&gt;&gt;&gt; manage.py migrate\n</code></pre>\n\n<p>for more information look at: </p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.9/topics/migrations/\" rel=\"nofollow noreferrer\">Django Migrations</a></p>\n"}], "owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483109663, "creation_date": 1463614201, "last_edit_date": 1483109571, "question_id": 37311668, "link": "https://stackoverflow.com/questions/37311668/django-email-account-verification", "title": "Django email account verification", "body": "<p>I am currently working on a Django project and I am trying to add Django user email account verification. Everything looks fine, but after I receive the email and try to activate the account with the activation URL I get the following error:</p>\n\n<pre><code>OperationalError at /activate/h46fdg5h46fdg5h46fdghfd8hfdhfd48hfd4h6\nno such table: registry_profile\n</code></pre>\n\n<p>here is my activation code in view.py:</p>\n\n<pre><code>def activation(request, key):\n    activation_expired = False\n    already_active = False\n    profile = get_object_or_404(Profile, activation_key=key)\n    if profile.user.is_active == False:\n        if timezone.now() &gt; profile.key_expires:\n            activation_expired = True\n            id_user = profile.user.id\n        else:\n            profile.user.is_active = True\n            profile.user.save()\n    else:\n        already_active = True\n    return render (request,'activation.html',locals())\n</code></pre>\n\n<p>Here is my models.py file:</p>\n\n<pre><code>class Profile(models.Model):\n    user = models.OneToOneField(User, related_name='profile')\n    activation_key = models.CharField(max_length = 50)\n    key_expires = models.DateTimeField()\n</code></pre>\n"}, {"tags": ["python", "django", "model", "admin"], "answers": [{"tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 1, "last_activity_date": 1463618293, "creation_date": 1463618293, "answer_id": 37312156, "question_id": 37311659, "link": "https://stackoverflow.com/questions/37311659/group-by-day-in-django-admin/37312156#37312156", "title": "Group by day in django admin?", "body": "<p>This is the problem</p>\n\n<pre><code>return TransactionLog.objects.all().extra(\n        select={'day': 'date( date_created )'}).values('datetime')\n</code></pre>\n\n<p>you have get_queryset method in the admin. As the name suggests, that method is expected to return a queryset. But you are returning a dictionary here. Remove the call to values()</p>\n\n<p>When over riding get_queryset, it's always a good idea to call the method in the superclass and make modifications to it instead of making a new queryset of your own.</p>\n"}], "owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "accepted_answer_id": 37312156, "answer_count": 1, "score": 1, "last_activity_date": 1463618293, "creation_date": 1463614123, "question_id": 37311659, "link": "https://stackoverflow.com/questions/37311659/group-by-day-in-django-admin", "title": "Group by day in django admin?", "body": "<p>I need to group and count events by day in the django admin.</p>\n\n<p>Here's my current admin queryset:</p>\n\n<pre><code>class TransactionLogAdmin(ExportMixin, OrganizationRestrictedAdmin):\n\n    list_display = ['get_type_count', 'get_count']\n\n    def get_queryset(self, request):\n        return TransactionLog.objects.all().extra(\n            select={'day': 'date( date_created )'}).values('datetime')\n</code></pre>\n\n<p>But I'm getting the following error:</p>\n\n<blockquote>\n  <p>'dict' object has no attribute '_meta'</p>\n</blockquote>\n"}, {"tags": ["python", "maya"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5187474, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0321bf28b23739f9f23389deb2f161f?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmin Doshi", "link": "https://stackoverflow.com/users/5187474/dharmin-doshi"}, "edited": false, "score": 0, "creation_date": 1463678714, "post_id": 37312646, "comment_id": 62178914, "body": "Thank you so much. Just what I needed :)"}], "tags": [], "owner": {"reputation": 4158, "user_id": 4759736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/JHRRj.jpg?s=128&g=1", "display_name": "Green Cell", "link": "https://stackoverflow.com/users/4759736/green-cell"}, "is_accepted": false, "score": 2, "last_activity_date": 1463622309, "creation_date": 1463622309, "answer_id": 37312646, "question_id": 37311657, "link": "https://stackoverflow.com/questions/37311657/maya-scale-constraint/37312646#37312646", "title": "Maya Scale Constraint", "body": "<p>This is relatively easy with Python's <code>zip</code> method.</p>\n\n<pre><code>mainCTRL = ['nurbsCircle1','nurbsCircle2','nurbsCircle3']\ngrpCTRL = ['group1','group2','group3']\n\nfor ctrl, grp in zip(mainCTRL, grpCTRL):\n    cmds.scaleConstraint(ctrl, grp)\n</code></pre>\n\n<p>You can print <code>zip(mainCTRL, grpCTRL)</code> to see what it's actually returning.</p>\n"}], "owner": {"reputation": 11, "user_id": 5187474, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a0321bf28b23739f9f23389deb2f161f?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmin Doshi", "link": "https://stackoverflow.com/users/5187474/dharmin-doshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463622309, "creation_date": 1463614100, "question_id": 37311657, "link": "https://stackoverflow.com/questions/37311657/maya-scale-constraint", "title": "Maya Scale Constraint", "body": "<p>I have two list</p>\n\n<pre><code>mainCTRL = ['nurbsCircle1','nurbsCircle2','nurbsCircle3']\ngrpCTRL = ['group1','group2','group3']\n</code></pre>\n\n<p>and for each object in mainCTRL and grpCTRL, I am trying to apply scale constraint to its same order in the grpCTRL. Scale should be apply in the order, like</p>\n\n<pre><code>'nurbsCicle1' should apply scale constraint to 'group1'\n'nurbsCicle2' should apply scale constraint to 'group2'\n'nurbsCicle3' should apply scale constraint to 'group3'\n</code></pre>\n\n<p>How can I have do this? How can I tell python to apply this command for each nurbsCircle to its grpCTRL.</p>\n\n<pre><code>cmds.scaleConstraint('eachnubrsCircle', 'eachgrp')\n</code></pre>\n\n<p>I am a newbie to python and learning things as I go. Any help is really appreciated. </p>\n\n<p>Thank you very much :)</p>\n"}, {"tags": ["python", "graph", "machine-learning", "statistics", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 2978, "user_id": 956730, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32bef284689d6c0cc38a977deef7ce5c?s=128&d=identicon&r=PG", "display_name": "Ash", "link": "https://stackoverflow.com/users/956730/ash"}, "is_accepted": false, "score": 0, "last_activity_date": 1463619882, "creation_date": 1463619882, "answer_id": 37312332, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx/37312332#37312332", "title": "Get node list from random walk in networkX", "body": "<p>You can use the adjacency matrix. Then you can normalise it so that the sum of rows equals 1 and each row is the probability distribution of the node jumping to another node.\nYou can also have a jump probability if the walker jumps to a random node.</p>\n\n<pre><code>M = nx.adjacency_matrix(g) #obtain the adj. matrix for the graph\n#normalise the adjacency matrix\nfor i in range(M.shape[1]):\n    if (np.sum(M[i]) &gt; 0):\n    M[i] = M[i]/np.sum(M[i])\np = generate a random number between 0 and 1\nif p &lt; restart_prob:\n    #do restart\nelse:\n    #choose next node\n</code></pre>\n\n<p>Then you can choose a node randomly, then choose the next with probability <em>1-restart_prob</em> or restart the walker with probability <em>restart_prob</em>.</p>\n\n<p>To understand the algorithm better you can look at how PageRank works.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 12955361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab589dd14811ff9867f2092ff896099?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/12955361/bill"}, "edited": false, "score": 1, "creation_date": 1585833680, "post_id": 50638427, "comment_id": 107906203, "body": "You might not want to invert that diagonal matrix or do a full matrix-matrix multiply.  Consider something like dinv = 1./numpy.sum(A, axis=0).  Then loop over the rows and apply each element of dinv."}, {"owner": {"reputation": 1286, "user_id": 266549, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a97f36318ce39859ea06ba647106c88a?s=128&d=identicon&r=PG", "display_name": "lericson", "link": "https://stackoverflow.com/users/266549/lericson"}, "edited": false, "score": 0, "creation_date": 1596016934, "post_id": 50638427, "comment_id": 111671743, "body": "Beautiful, though it seems to me that getting the transition matrix $T$ from the adjacency matrix $A$ is simply a matter of dividing each row by its sum. This is essentially saying that it is equally likely to take each edge of the graph. In fact, we could introduce any weighting scheme and divide by the sum of the edge weights in such an adjacency matrix."}, {"owner": {"reputation": 3028, "user_id": 5149764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/c1xks.jpg?s=128&g=1", "display_name": "AlessioX", "link": "https://stackoverflow.com/users/5149764/alessiox"}, "reply_to_user": {"reputation": 1286, "user_id": 266549, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a97f36318ce39859ea06ba647106c88a?s=128&d=identicon&r=PG", "display_name": "lericson", "link": "https://stackoverflow.com/users/266549/lericson"}, "edited": false, "score": 0, "creation_date": 1601886978, "post_id": 50638427, "comment_id": 113534534, "body": "@lericson This is indeed true. Your first observation holds because the adjacency matrix in my example is binary (i.e., there is a 1 in position <i>i,j</i> if there is an edge between nodes <i>i</i> and <i>j</i>). However, it is well known that the adjacency matrix can score in position <i>i,j</i> the weight of the edge linking nodes <i>i</i> and <i>j</i>. So the degree matrix D will not contain &quot;the number of nodes attached to a given node&quot;, but the sum of the weights of the edges which involve a given node. Hence, your conclusion: in building T, one divides by the sum of the weights."}], "tags": [], "owner": {"reputation": 3028, "user_id": 5149764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/c1xks.jpg?s=128&g=1", "display_name": "AlessioX", "link": "https://stackoverflow.com/users/5149764/alessiox"}, "is_accepted": false, "score": 4, "last_activity_date": 1527839296, "last_edit_date": 1527839296, "creation_date": 1527838860, "answer_id": 50638427, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx/50638427#50638427", "title": "Get node list from random walk in networkX", "body": "<p>The easiest way of doing it is by using the transition matrix <strong>T</strong> and then using a plain Markovian random walk (in brief, the graph can be considered as a finite-state Markov chain).</p>\n\n<p>Let <strong>A</strong> and <strong>D</strong> be the adjacency and degree matrices of a graph <em>G</em>, respectively. The transition matrix <strong>T</strong> is defined as <strong>T</strong> = <strong>D</strong>^(-1) <strong>A</strong>.<br>\nLet <strong>p</strong>^(0) be the state vector (in brief, the <em>i</em>-th component indicates the probability of being at node <em>i</em>) at the beginning of the walk, the first step (walk) can be evaluated as <strong>p</strong>^(1) = <strong>T</strong> <strong>p</strong>^(0).<br>\nIteratively, the <em>k</em>-th random walk step can be evaluated as <strong>p</strong>^(k) = <strong>T</strong> <strong>p</strong>^(k-1).  </p>\n\n<p>In plain Networkx terms...</p>\n\n<pre><code>import networkx\nimport numpy\n# let's generate a graph G\nG = networkx.gnp_random_graph(5, 0.5)\n# let networkx return the adjacency matrix A\nA = networkx.adj_matrix(G)\nA = A.todense()\nA = numpy.array(A, dtype = numpy.float64)\n# let's evaluate the degree matrix D\nD = numpy.diag(numpy.sum(A, axis=0))\n# ...and the transition matrix T\nT = numpy.dot(numpy.linalg.inv(D),A)\n# let's define the random walk length, say 10\nwalkLength = 10\n# define the starting node, say the 0-th\np = numpy.array([1, 0, 0, 0, 0]).reshape(-1,1)\nvisited = list()\nfor k in range(walkLength):\n    # evaluate the next state vector\n    p = numpy.dot(T,p)\n    # choose the node with higher probability as the visited node\n    visited.append(numpy.argmax(p))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1286, "user_id": 266549, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a97f36318ce39859ea06ba647106c88a?s=128&d=identicon&r=PG", "display_name": "lericson", "link": "https://stackoverflow.com/users/266549/lericson"}, "is_accepted": false, "score": 0, "last_activity_date": 1596017227, "creation_date": 1596017227, "answer_id": 63151188, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx/63151188#63151188", "title": "Get node list from random walk in networkX", "body": "<p>To expand on the answer of @AlessioX</p>\n<p>Let A be an adjacency matrix, i.e. one where A_ij is 1.0 if there is an edge between vertices i and j, and 0.0 if there is not. (Though note that the below works even for a weighted adjacency matrix.)</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; A\narray([[1, 0, 1],\n       [1, 1, 1],\n       [0, 0, 1]])\n</code></pre>\n<p>Then we can find the transition matrix T by dividing each row by its sum, simply:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; A / A.sum(axis=1, keepdims=True)\narray([[0.5       , 0.        , 0.5       ],\n       [0.33333333, 0.33333333, 0.33333333],\n       [0.        , 0.        , 1.        ]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118, "user_id": 9833316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p67bu.jpg?s=128&g=1", "display_name": "Kerighan", "link": "https://stackoverflow.com/users/9833316/kerighan"}, "is_accepted": false, "score": 0, "last_activity_date": 1612350384, "creation_date": 1612350384, "answer_id": 66026215, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx/66026215#66026215", "title": "Get node list from random walk in networkX", "body": "<p>DISCLAIMER: I'm the author of the package presented below.</p>\n<p>I was surprised to see no library do it efficiently, so I've built and open-sourced a python package just for that. It's written in C++ and use parallelization for maximum speed. It can generate millions of random walks in a few seconds.</p>\n<pre><code>import walker\n\nwalks = walker.random_walks(G, n_walks=15, walk_len=10)\n</code></pre>\n<p>This will create 15 walks <strong>for each node in your graph G</strong> of length 10.</p>\n<p>If you only wish to create one random walk starting from a single node :</p>\n<pre><code>node = 42\nwalks = walker.random_walks(G, n_walks=1, walk_len=10, start_node=[node])\n</code></pre>\n<p>You can also create node2vec-biased random walks by specifying the <strong>p</strong> and <strong>q</strong> arguments.</p>\n<p>Installation needs pybind11 to allow C++ bindings :</p>\n<pre><code>pip install pybind11\npip install graph-walker\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 7824204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JEOL.png?s=128&g=1", "display_name": "pegah", "link": "https://stackoverflow.com/users/7824204/pegah"}, "is_accepted": false, "score": 0, "last_activity_date": 1615164445, "last_edit_date": 1615164445, "creation_date": 1615162957, "answer_id": 66522913, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx/66522913#66522913", "title": "Get node list from random walk in networkX", "body": "<p>The most efficient way of doing it is to use the transition matrix of a graph in CSR sparse format and, of course, there is a great package for that: csrgraph (<code>pip install csrgraph</code>). Here is how you can do it:</p>\n<pre><code>import csrgraph as cg\nimport numpy as np\n\nG = cg.csrgraph(G, threads=12) \nnode_names = G.names\nwalks = G.random_walks(walklen=10, # length of the walks\n                epochs=100, # how many times to start a walk from each node\n                start_nodes=None, # the starting node. It is either a list (e.g., [2,3]) or None. If None it does it on all nodes and returns epochs*G.number_of_nodes() walks\n                return_weight=1.,\n                neighbor_weight=1.)\n</code></pre>\n<p>The result is an array of size (epochs*number_of_nodes, walklen). More info on the function and its parameters can be found <a href=\"https://github.com/VHRanger/CSRGraph/blob/adf2c778b5421b4869fa23f580e9f9f91fc8438a/csrgraph/graph.py#L188\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>On a graph of 2,130 nodes and 36,560 edges, it took me 0.5 seconds to generate 213,000 paths of length 20 with the snippet above:</p>\n<pre><code>&gt;&gt;&gt; array([[   0,    4, 1678, ...,   48,  728,   30],\n       [   1,   57,  102, ...,  947,  456,  240],\n       [   2,  156,  177, ...,  175, 1363,  539],\n       ...,\n       [2127, 1655, 1656, ..., 1655, 1656, 2127],\n       [2128,    4, 1432, ...,  111,   32,  162],\n       [2129,    4,  521, ..., 1280,  180,  608]], dtype=uint32)\n\nwalks.shape\n&gt;&gt;&gt; (213000, 20)\n</code></pre>\n<p>The node names can be mapped back to their original format using the snippet below or other similar methods:</p>\n<pre><code>walks = np.vectorize(lambda x: node_names[x])(walks) # map to original node names\n</code></pre>\n<p>NOTE: This package does much more than just random walks, you might want to check their GitHub repo <a href=\"https://github.com/VHRanger/CSRGraph\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 9465, "user_id": 464277, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3c5f3b45742c7c591831fca82833fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/464277/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8972, "favorite_count": 3, "answer_count": 5, "score": 7, "last_activity_date": 1615164445, "creation_date": 1463614039, "last_edit_date": 1463617049, "question_id": 37311651, "link": "https://stackoverflow.com/questions/37311651/get-node-list-from-random-walk-in-networkx", "title": "Get node list from random walk in networkX", "body": "<p>I am new to networkX. I created a graph as follows:</p>\n\n<pre><code>G = nx.read_edgelist(filename,\n                     nodetype=int,\n                     delimiter=',',\n                     data=(('weight', float),))\n</code></pre>\n\n<p>where the edges are positive, but do not sum up to one. </p>\n\n<p>Is there a built-in method that makes a random walk of <code>k</code> steps from a certain node and return the node list? If not, what is the easiest way of doing it (nodes can repeat)?  </p>\n\n<p>Pseudo-code:  </p>\n\n<pre><code>node = random\nres = [node]\nfor i in range(0, k)\n    read edge weights from this node\n    an edge from this node has probability weight / sum_weights\n    node = pick an edge from this node \n    res.append(node)\n</code></pre>\n"}, {"tags": ["python", "django", "flask", "celery"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 1, "creation_date": 1463617617, "post_id": 37311562, "comment_id": 62144980, "body": "You have a <code>return</code> inside the while loop. That&#39;s why it stops."}, {"owner": {"reputation": 2359, "user_id": 426600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c4a326d11420d1537936883577dafd?s=128&d=identicon&r=PG", "display_name": "joshua", "link": "https://stackoverflow.com/users/426600/joshua"}, "edited": false, "score": 0, "creation_date": 1464118709, "post_id": 37311562, "comment_id": 62350105, "body": "The down votes are just because this isn&#39;t how you should use Celery. If you need a process running all the time just create one, using Celery would just be an unnecessary complication. Queue the task every few seconds if you need to, but Celery tasks should be finite."}, {"owner": {"reputation": 101, "user_id": 6304821, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dLGeWASPXIE/AAAAAAAAAAI/AAAAAAAAA2g/_T_HiXJ8z88/photo.jpg?sz=128", "display_name": "Herbz", "link": "https://stackoverflow.com/users/6304821/herbz"}, "edited": false, "score": 0, "creation_date": 1464241435, "post_id": 37311562, "comment_id": 62405751, "body": "Hi thanks for explanation. However, I want this background process to be callable only when needed. I am also accessing remotely through ssh or webinterface and hoping the process will keep running even if I log out."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 6304821, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dLGeWASPXIE/AAAAAAAAAAI/AAAAAAAAA2g/_T_HiXJ8z88/photo.jpg?sz=128", "display_name": "Herbz", "link": "https://stackoverflow.com/users/6304821/herbz"}, "is_accepted": false, "score": 1, "last_activity_date": 1463644325, "creation_date": 1463644325, "answer_id": 37317108, "question_id": 37311562, "link": "https://stackoverflow.com/questions/37311562/set-up-a-while-loop-in-celery-task/37317108#37317108", "title": "Set up a while loop in celery task", "body": "<p>Thanks for @dim's answer. The code I have now is:</p>\n\n<pre><code>@app.task\ndef count(i):\n    if i == 1:\n        while True:  # a while loop to achieve what I want to do\n            i = i+1\n            time.sleep(1)\n            print i\n            print 'i am counting'\n</code></pre>\n\n<p>To start the worker:</p>\n\n<pre><code>$ celery -A tasks worker -l info\n</code></pre>\n\n<p>And call it from python</p>\n\n<pre><code>&gt;&gt; from tasks import count\n&gt;&gt; result = count(1)\n</code></pre>\n\n<p>To stop the loop from python</p>\n\n<pre><code>&gt;&gt; result.revoke(terminate=True)\n</code></pre>\n\n<p>Hope this will be useful for people wanting to have loop in their celery task.</p>\n"}], "owner": {"reputation": 101, "user_id": 6304821, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dLGeWASPXIE/AAAAAAAAAAI/AAAAAAAAA2g/_T_HiXJ8z88/photo.jpg?sz=128", "display_name": "Herbz", "link": "https://stackoverflow.com/users/6304821/herbz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2949, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1463644325, "creation_date": 1463613468, "last_edit_date": 1463614041, "question_id": 37311562, "link": "https://stackoverflow.com/questions/37311562/set-up-a-while-loop-in-celery-task", "title": "Set up a while loop in celery task", "body": "<p>I want to have a while loop going continuously in the background on my web server. I still want to have possibility to turn on and off the loop using flask giving command to my celery worker. The while loop in celery seems only run once.</p>\n\n<pre><code>from celery import Celery    \n@app.task\n    def count(i):\n        if i == 1:  # turn on command\n            while True:  # a while loop to achieve what I want to do\n                i = i+1\n                return i\n        elif i == 0: # turn off command given by flask\n            return i\n</code></pre>\n\n<p>I also tried celery_beat, but this requires me to give arguments in advance rather than accepting command from another source. </p>\n\n<pre><code>app.conf.update(\nCELERYBEAT_SCHEDULE = {\n    'add-every-1-seconds': {\n        'task': 'tasks.count',\n        'schedule': timedelta(seconds=1),\n        #'args': (1)\n    },\n})\n</code></pre>\n"}, {"tags": ["python", "arguments", "argparse"], "comments": [{"owner": {"reputation": 5222, "user_id": 892534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/49b90815de67f6b55e6d87e34d82f746?s=128&d=identicon&r=PG", "display_name": "ChrisP", "link": "https://stackoverflow.com/users/892534/chrisp"}, "edited": false, "score": 1, "creation_date": 1463614062, "post_id": 37311550, "comment_id": 62144141, "body": "Sounds like you need <a href=\"https://docs.python.org/3/library/argparse.html#sub-commands\" rel=\"nofollow noreferrer\">sub-commands</a>, but more information and some sample code would be helpful."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1827234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4901a2ccc2da22d7ca8d5729f4f0d0?s=128&d=identicon&r=PG", "display_name": "tuexss", "link": "https://stackoverflow.com/users/1827234/tuexss"}, "edited": false, "score": 1, "creation_date": 1565356753, "post_id": 37311708, "comment_id": 101339848, "body": "The last sentence is a bit misleading, as the mutex group can still be optional. So it&#39;s rather &quot;when users have to select a maximum of one option out of a given set&quot;. Your sentence applies when required=True is set."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "reply_to_user": {"reputation": 101, "user_id": 1827234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4901a2ccc2da22d7ca8d5729f4f0d0?s=128&d=identicon&r=PG", "display_name": "tuexss", "link": "https://stackoverflow.com/users/1827234/tuexss"}, "edited": false, "score": 0, "creation_date": 1565447598, "post_id": 37311708, "comment_id": 101362093, "body": "I agree with this change.  Can you edit the answer (I mean, you have enough reputation and all other prerequisites are fulfilled)? If yes, I will approve your change."}], "tags": [], "owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "is_accepted": false, "score": 7, "last_activity_date": 1565547516, "last_edit_date": 1565547516, "creation_date": 1463614479, "answer_id": 37311708, "question_id": 37311550, "link": "https://stackoverflow.com/questions/37311550/group-in-a-group-argparse/37311708#37311708", "title": "Group in a group ArgParse", "body": "<pre><code>import argparse\n\nparser = argparse.ArgumentParser(description='test group')\nsubparsers = parser.add_subparsers(help='sub-commands help')\nsp = subparsers.add_parser('A', help='A command')\nsp.set_defaults(cmd = 'A')\nsp = subparsers.add_parser('B', help='B command')\nsp.set_defaults(cmd = 'B')\nsp.add_argument('C', help='C option')\n\nargs = parser.parse_args()\n\nif (args.cmd == 'A'):\n    print(\"running A mode\")\nelse:\n    print(\"running B mode with C=%s\" % args.C)\n</code></pre>\n\n<p>Here's execution log:</p>\n\n<pre><code>$ python test.py A\nrunning A mode\n$ python test.py B\nusage: test.py B [-h] C\n$ python test.py B some\nrunning B mode with C=some\n</code></pre>\n\n<p>Mutually exclusive groups are intended for cases when user have to select at least one option out of a given set, or if <code>required=True</code> exactly one option.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 3, "last_activity_date": 1463621905, "last_edit_date": 1495535413, "creation_date": 1463614816, "answer_id": 37311750, "question_id": 37311550, "link": "https://stackoverflow.com/questions/37311550/group-in-a-group-argparse/37311750#37311750", "title": "Group in a group ArgParse", "body": "<p>The mutually exclusive group mechanism is just for a simple (flat) exclusive or group.  There's no mechanism for nesting one group in another, or for applying other logic (<code>and</code>, <code>any</code> etc). </p>\n\n<p>You need to do your own testing after parsing.  As long as the defaults are reasonable (e.g. the default default <code>None</code>) that isn't hard.</p>\n\n<p>Subparsers provide another kind of grouping logic, which may work for you.</p>\n\n<p>This has been raised in other SO questions, and a Python bug/issue, if you need to explore it in more detail.</p>\n\n<p>===============</p>\n\n<p><code>argument groups</code>, despite the name, do not work with mutually exclusive groups.  Their intended purpose is entirely different (grouping of help lines).  You can nest one mutually exclusive group within another, but the net effect is to put everything in one group.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/35369448/argparse-some-mutually-exclusive-arguments-in-required-group\">argparse: some mutually exclusive arguments in required group</a></p>\n\n<p>============================</p>\n\n<pre><code>import argparse\n\nusage = '%(prog)s [A | [B ? C]]'\nparser = argparse.ArgumentParser(usage=usage)\nparser.add_argument('-a')\nparser.add_argument('-b')\nparser.add_argument('-c')\nargs=parser.parse_args()\n\nprint(args)\nif args.a is not None:\n   if not(args.b is None and args.c is None):\n      parser.error('Cannot use b or c with a')\n</code></pre>\n\n<p>with resulting runs</p>\n\n<pre><code>1722:~/mypy$ python3 stack37311550.py -a 1\nNamespace(a='1', b=None, c=None)\n1726:~/mypy$ python3 stack37311550.py -a 1 -b2\nNamespace(a='1', b='2', c=None)\nusage: stack37311550.py [A | [B ? C]]\nstack37311550.py: error: Cannot use b or c with a\n1726:~/mypy$ python3 stack37311550.py -c3 -b2\nNamespace(a=None, b='2', c='3')\n1726:~/mypy$ python3 stack37311550.py -c3 -b2 -a1\nNamespace(a='1', b='2', c='3')\nusage: stack37311550.py [A | [B ? C]]\nstack37311550.py: error: Cannot use b or c with a\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 4531001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a50e1948ecccecd93716d1f27d2711a?s=128&d=identicon&r=PG&f=1", "display_name": "Harbus", "link": "https://stackoverflow.com/users/4531001/harbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9977, "favorite_count": 1, "accepted_answer_id": 37311750, "answer_count": 2, "score": 12, "last_activity_date": 1565547516, "creation_date": 1463613352, "last_edit_date": 1463614443, "question_id": 37311550, "link": "https://stackoverflow.com/questions/37311550/group-in-a-group-argparse", "title": "Group in a group ArgParse", "body": "<p>So I'm using argparse and I'm trying to create something that I can't seem to find the solution anywhere.</p>\n\n<p>I'm trying to do <code>[A | [B C]]</code>. So either I have <code>A</code> or <code>(B and C)</code>.</p>\n\n<p>EDIT\nSo some example of code would be</p>\n\n<pre><code>parser = argparse.ArgumentParser()\ngroup = parser.add_mutually_exclusive_group(required=False)\ngroup.add_argument(\"-a\")\nmore = group.add_mutually_exclusive_group()\nmore.add_argument(\"-b\")\nmore.add_argument(\"c\")\n</code></pre>\n\n<p>This however ends up giving me <code>[A | [B | C]]</code></p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "setup.py"], "answers": [{"comments": [{"owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 0, "creation_date": 1463615188, "post_id": 37311644, "comment_id": 62144390, "body": "So I can write <code>install_requires=[&#39;PyQt5&#39;]</code> inside setup.py now?"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 1, "creation_date": 1463615582, "post_id": 37311644, "comment_id": 62144504, "body": "@Elric sure can \u2014 just tested it here to be sure, and it&#39;s fine."}, {"owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 0, "creation_date": 1463658863, "post_id": 37311644, "comment_id": 62164117, "body": "Ok, tested here. Wheels still aren&#39;t available for Ubuntu (and I think any other Linux distribution). So it won&#39;t work unless you are in Mac OS."}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "edited": false, "score": 0, "creation_date": 1463659368, "post_id": 37311644, "comment_id": 62164504, "body": "@Elric Not just MacOS X but also Win32 and Win64 are there and work (just tested here). What does it give when trying on Ubuntu? The &quot;manylinux&quot; should work - although that wheel is 64bit only so wont work on 32bit linux."}, {"owner": {"reputation": 8008, "user_id": 2085149, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/818184fc241c47dee455d3c47c94d8cb?s=128&d=identicon&r=PG", "display_name": "The Compiler", "link": "https://stackoverflow.com/users/2085149/the-compiler"}, "edited": false, "score": 3, "creation_date": 1463741698, "post_id": 37311644, "comment_id": 62206010, "body": "It might be worth mentioning <a href=\"http://www.pyinstaller.org/\" rel=\"nofollow noreferrer\">PyInstaller</a> too - I switched to it from cx_Freeze because of various problems and it not being maintained very well, and I&#39;m really happy with PyInstaller."}, {"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 0, "creation_date": 1463944574, "post_id": 37311644, "comment_id": 62268236, "body": "Linux wheels probably require a new version of pip to install them - if they&#39;re not installing, try <code>pip install --upgrade pip</code> first."}, {"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 1, "creation_date": 1463944662, "post_id": 37311644, "comment_id": 62268270, "body": "Pynsist can now build installers using wheels, which makes it super easy to package a PyQt5 app. Example config file here: <a href=\"https://github.com/takluyver/pynsist/blob/master/examples/pyqt5/installer.cfg\" rel=\"nofollow noreferrer\">github.com/takluyver/pynsist/blob/master/examples/pyqt5/&hellip;</a>"}, {"owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "reply_to_user": {"reputation": 8008, "user_id": 2085149, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/818184fc241c47dee455d3c47c94d8cb?s=128&d=identicon&r=PG", "display_name": "The Compiler", "link": "https://stackoverflow.com/users/2085149/the-compiler"}, "edited": false, "score": 0, "creation_date": 1463962317, "post_id": 37311644, "comment_id": 62272818, "body": "@TheCompiler thanks for the tip, I completely forgot about PyInstaller (not used it before, but will give it a go)."}], "tags": [], "owner": {"reputation": 12855, "user_id": 754456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c29be59a54e53f43c79d5f9b9b380?s=128&d=identicon&r=PG", "display_name": "mfitzp", "link": "https://stackoverflow.com/users/754456/mfitzp"}, "is_accepted": true, "score": 9, "last_activity_date": 1463962250, "last_edit_date": 1463962250, "creation_date": 1463614014, "answer_id": 37311644, "question_id": 37311505, "link": "https://stackoverflow.com/questions/37311505/can-i-use-setup-py-to-pack-an-app-that-requires-pyqt5/37311644#37311644", "title": "Can I use setup.py to pack an app that requires PyQt5?", "body": "<h2>Can I require PyQt5 via setup.py?</h2>\n\n<p>In a word <em>yes</em>, as long as you restrict your support to PyQt5 and Python3.</p>\n\n<p>The requirements specified in <code>setup.py</code> are typically provided by requesting packages from the Python Package Index (PyPi). Until recently these packages were source only, meaning that an installation depending on PyQt5 would only work on a system where it was possible to build it from source. Building on Windows in particular requires quite a lot of set up, and this would therefore put your application out of reach for anyone unable or unwilling to do this.</p>\n\n<p><em>Note: As far as I am aware, it was never actually possible to build from source via PyPi. The standard approach was to download the source/binaries from <a href=\"https://www.riverbankcomputing.com/software/pyqt/intro\" rel=\"noreferrer\">Riverbank Software</a> and build/install from there.</em></p>\n\n<p>This problem was solved by the introduction of <a href=\"http://pythonwheels.com/\" rel=\"noreferrer\">Python Wheels</a> which provide a means to install C extension packages without the need for compilation on the target system. This is achieved by platform-specific <code>.whl</code> files. Wheels for PyQt5 on Python3 are available on PyPi for multiple platforms, including <a href=\"https://pypi.python.org/pypi/PyQt5/5.6\" rel=\"noreferrer\">MacOS X, Linux (any), Win32 and Win64</a> which should cover most uses.</p>\n\n<p>For example, this is the output when pip-installing PyQt5 on Python3 on a Mac:</p>\n\n<pre><code>mfitzp@MacBook-Air ~ $ pip3 install pyqt5\nCollecting pyqt5\n  Downloading PyQt5-5.6-cp35-cp35m-macosx_10_6_intel.whl (73.2MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 73.2MB 2.5kB/s \nCollecting sip (from pyqt5)\n  Downloading sip-4.18-cp35-cp35m-macosx_10_6_intel.whl (46kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 49kB 1.8MB/s \nInstalling collected packages: sip, pyqt5\nSuccessfully installed pyqt5-5.6 sip-4.18\n</code></pre>\n\n<p>To set PyQt5 as a dependency of your own package simply specify it as normal in your <code>setup.py</code> e.g. <code>install_requires=['PyQt5']</code></p>\n\n<h2>What's the proper way of distributing a Python GUI application?</h2>\n\n<p>Here you have a few options. The above means that anyone with Python3 installed can now install your application using <code>pip</code>. However, this assumes that the end-user has Python and knows what <code>pip</code> is. If you are looking to distribute your application with a Windows installer, MacOSX 'app' bundle, or Linux package, you will need to use one of the tools dedicated to that purpose.</p>\n\n<h3>Windows</h3>\n\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/cx_Freeze\" rel=\"noreferrer\">cx_Freeze</a> is a cross-platform packager that can package Python applications for Windows, Mac and Linux. It works by analysing your project and <em>freezing</em> the required packages and subpackages. Success depends largely on which packages you depend on and their complexity/correctness. </li>\n<li><a href=\"http://www.pyinstaller.org/\" rel=\"noreferrer\">PyInstaller</a> is another cross-platform packager that can package Python applications for Windows, Mac and Linux. This works in a similar way to cx_Freeze and will likely perform both better/worse depending on the packages.</li>\n<li><a href=\"https://pypi.python.org/pypi/pynsist\" rel=\"noreferrer\">PyNSISt</a> builds NSIS installer packages for Windows. This has the advantage of being very straightforward: it simply packages all the files together as-is, without 'freezing'. The downside is that packages can end up very large and slower to install (but see the file-filter options). It now supports bundling of <code>.whl</code> files which will solve this in many cases. By far the easiest if you're targeting Windows-only.</li>\n</ul>\n\n<h3>MacOSX</h3>\n\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/cx_Freeze\" rel=\"noreferrer\">cx_Freeze</a> see above.</li>\n<li><a href=\"http://www.pyinstaller.org/\" rel=\"noreferrer\">PyInstaller</a> see above.</li>\n<li><a href=\"https://pypi.python.org/pypi/py2app\" rel=\"noreferrer\">Py2app</a> creates <code>.app</code> bundles from the definition in your <code>setup.py</code>. Big advantage is the custom handlers that allow you to adjust packaging of troublesome packages. If you're only targetting MacOSX this is probably your best option.</li>\n</ul>\n\n<h3>Linux</h3>\n\n<ul>\n<li><a href=\"https://pypi.python.org/pypi/cx_Freeze\" rel=\"noreferrer\">cx_Freeze</a> see above.</li>\n<li><a href=\"http://www.pyinstaller.org/\" rel=\"noreferrer\">PyInstaller</a> see above.</li>\n<li><a href=\"https://pypi.python.org/pypi/stdeb\" rel=\"noreferrer\">stdeb</a> build Debian-style packages from your <code>setup.py</code> definition. </li>\n</ul>\n\n<p><em>Note: It is possible to write a very complex <code>setup.py</code> that allows you to build using one or more tools on different platforms, but I have usually ended up storing separate configs (e.g. <code>setup-py2app.py</code>) for clarity.</em></p>\n"}], "owner": {"reputation": 1435, "user_id": 965638, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3dbb79927c171952b1757479d53b1fe4?s=128&d=identicon&r=PG", "display_name": "eri0o", "link": "https://stackoverflow.com/users/965638/eri0o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2831, "favorite_count": 8, "accepted_answer_id": 37311644, "answer_count": 1, "score": 12, "last_activity_date": 1463962250, "creation_date": 1463613092, "last_edit_date": 1495540393, "question_id": 37311505, "link": "https://stackoverflow.com/questions/37311505/can-i-use-setup-py-to-pack-an-app-that-requires-pyqt5", "title": "Can I use setup.py to pack an app that requires PyQt5?", "body": "<p>I looked this question here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4628519/is-it-possible-to-require-pyqt-from-setuptools-setup-py\">Is it possible to require PyQt from setuptools setup.py?</a></p>\n\n<p>What's the proper way of distributing a python application that has a gui and it's based on PyQt ? (I am using PyQt5 and Python3)</p>\n\n<p>I am still learning how to distribute things, so I don't know if my question makes sense.</p>\n\n<hr>\n\n<p>Edit: </p>\n\n<p>The answer is correct, <code>sudo pip3 install .</code> worked for me for my own <strong>setup.py</strong> file, but apparently pyqt5 doesn't include QtWebKitWidgets module, and it isn't available for installation in a separate package in pip3. So now I am thinking of moving away from Python completely and go with Javascript + Electron as a multiplataform easy to run language for development. </p>\n"}, {"tags": ["python", "pycharm", "anaconda", "xlwings"], "comments": [{"owner": {"reputation": 571, "user_id": 2233341, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YJTxS.png?s=128&g=1", "display_name": "Twitch", "link": "https://stackoverflow.com/users/2233341/twitch"}, "edited": false, "score": 0, "creation_date": 1463613076, "post_id": 37311476, "comment_id": 62143910, "body": "If it&#39;s listed in the project interpreter then it should be installed. How are you importing it?"}, {"owner": {"reputation": 1, "user_id": 6353463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93630d0e1ebeb59df775bcb16b3c4979?s=128&d=identicon&r=PG&f=1", "display_name": "Shahram", "link": "https://stackoverflow.com/users/6353463/shahram"}, "reply_to_user": {"reputation": 571, "user_id": 2233341, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/YJTxS.png?s=128&g=1", "display_name": "Twitch", "link": "https://stackoverflow.com/users/2233341/twitch"}, "edited": false, "score": 0, "creation_date": 1463635298, "post_id": 37311476, "comment_id": 62149316, "body": "no it&#39;s not in the project interpreter, but when I add that from the search windows in comes with the error * copying psutil/tests/test_windows.py -&gt; build/lib.macosx-10.6-intel-3.5/psutil/tests     warning: build_py: byte-compiling is disabled, skipping.* I have installed as pip install xlwings  and it&#39;s succeed. also from anaconda I installed it and it was succeeded as well.                         Agreeing to the Xcode/iOS license requires admin privileges, please re-run as root via sudo.               error: command &#39;/usr/bin/clang&#39; failed with exit status 69"}], "answers": [{"tags": [], "owner": {"reputation": 342, "user_id": 3530284, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/1016c0263b62e679cae515089560d345?s=128&d=identicon&r=PG&f=1", "display_name": "rvcristiand", "link": "https://stackoverflow.com/users/3530284/rvcristiand"}, "is_accepted": false, "score": 0, "last_activity_date": 1464182486, "creation_date": 1464182486, "answer_id": 37438527, "question_id": 37311476, "link": "https://stackoverflow.com/questions/37311476/cannot-import-xlwings-on-pycharm/37438527#37438527", "title": "Cannot import xlwings on PyCharm", "body": "<p>I made this:\nFor example, you have a workbook named \"Book1\" in your current working directory. Then:</p>\n\n<pre><code>from xlwings import Range, Workbook\nwb_name = \"Book1\"\nWorkbook.set_mock_caller(wb_name)\nwb = Workbook.caller()\nprint(Range(1, 'A1').value)\n</code></pre>\n\n<p>You can made that. I had installed Anaconda and PyCharm and for my it's good. </p>\n"}], "owner": {"reputation": 1, "user_id": 6353463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93630d0e1ebeb59df775bcb16b3c4979?s=128&d=identicon&r=PG&f=1", "display_name": "Shahram", "link": "https://stackoverflow.com/users/6353463/shahram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 845, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464182486, "creation_date": 1463612832, "last_edit_date": 1463768896, "question_id": 37311476, "link": "https://stackoverflow.com/questions/37311476/cannot-import-xlwings-on-pycharm", "title": "Cannot import xlwings on PyCharm", "body": "<p>I'm new in Python world and have a problem to import xlwings on PyCharm.</p>\n\n<p>I have installed Python 3.5 and anaconda as well. Anaconda shows me that xlwings installed successfully and have the same result on pip. In project interpreter PyCharm I can see xlwings 0.7.2 but I get error and cannot install it.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 2, "creation_date": 1463612564, "post_id": 37311420, "comment_id": 62143779, "body": "Can you show the code running in the repl (command line) and the result? I wonder if you are passing the string <code>&quot;3&quot;</code> to your function rather than the integer <code>3</code>?"}, {"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 2, "creation_date": 1463612628, "post_id": 37311420, "comment_id": 62143795, "body": "I don&#39;t believe you. It outputs <code>0,1,2</code> as expected."}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1463612642, "post_id": 37311420, "comment_id": 62143800, "body": "Also, I would expect it to print 0, 1 and 2. I wouldn&#39;t expect it to print 3 since 3 is not less than 3."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1463615384, "post_id": 37311420, "comment_id": 62144443, "body": "Try changing your code to <code>if i &lt; int(x):</code> and see if it works."}], "answers": [{"tags": [], "owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "is_accepted": false, "score": 1, "last_activity_date": 1463612749, "creation_date": 1463612749, "answer_id": 37311463, "question_id": 37311420, "link": "https://stackoverflow.com/questions/37311420/range-function-seems-to-ignore-comparison-operators/37311463#37311463", "title": "range function seems to ignore comparison operators", "body": "<p>My money is on you passing the string <code>\"3\"</code> to your function, rather than the integer <code>3</code>. Where does your 3 come from? Is it from <code>raw_input</code> by any chance? </p>\n\n<p>Due to historical reasons, python 2 considers all integers to be \"less than\" all strings, as for these different types it falls back to comparing their type names and <code>\"int\" &lt; \"str\"</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 4099619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3c0513fa96349b13887275d83834eed?s=128&d=identicon&r=PG&f=1", "display_name": "traffikHam", "link": "https://stackoverflow.com/users/4099619/traffikham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1463653785, "answer_count": 1, "score": -2, "last_activity_date": 1463615149, "creation_date": 1463612478, "last_edit_date": 1463615149, "question_id": 37311420, "link": "https://stackoverflow.com/questions/37311420/range-function-seems-to-ignore-comparison-operators", "closed_reason": "Not suitable for this site", "title": "range function seems to ignore comparison operators", "body": "<p>New programmer here ...\npython range function seems to ignore comparison operators.</p>\n\n<p>For example, if I have the following function:</p>\n\n<pre><code>def test(x):\n    for i in range(0,6):\n        if i &lt; x:\n            print i\n</code></pre>\n\n<p>If I execute test(3), my understanding is that the function should stop after printing out 0,1,2,3. However, it print 0-5.</p>\n\n<p>Why is this the case?</p>\n"}, {"tags": ["python", "python-2.7", "spotify"], "answers": [{"tags": [], "owner": {"reputation": 2651, "user_id": 2246024, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/OpzyW.jpg?s=128&g=1", "display_name": "Simon Fromme", "link": "https://stackoverflow.com/users/2246024/simon-fromme"}, "is_accepted": true, "score": 1, "last_activity_date": 1463614356, "last_edit_date": 1463614356, "creation_date": 1463614026, "answer_id": 37311647, "question_id": 37311419, "link": "https://stackoverflow.com/questions/37311419/finding-if-a-song-exists-by-the-name-of-a-given-input-text/37311647#37311647", "title": "Finding if a song exists by the name of a given input text", "body": "<p>You could use the <a href=\"http://www.last.fm/api\" rel=\"nofollow\">last.fm API</a>, specifically the <a href=\"http://www.last.fm/api/show/track.getInfo\" rel=\"nofollow\"><code>track.getInfo</code> Endpoint</a>. This lets you specify both <code>artist</code> and <code>track</code> at once.</p>\n\n<p>On success (you could also request for a json response) you get something like:\n</p>\n\n<pre><code>&lt;lfm status=\"ok\"&gt;\n    &lt;track&gt;\n        &lt;name&gt;Shine on You Crazy Diamond&lt;/name&gt;\n        &lt;mbid&gt;cb20321d-ecda-4fc1-a32a-0439a096a1bc&lt;/mbid&gt;\n        &lt;url&gt;\n            http://www.last.fm/music/Pink+Floyd/_/Shine+on+You+Crazy+Diamond\n        &lt;/url&gt;\n        &lt;duration&gt;763000&lt;/duration&gt;\n        &lt;streamable fulltrack=\"0\"&gt;0&lt;/streamable&gt;\n        &lt;listeners&gt;256400&lt;/listeners&gt;\n        &lt;playcount&gt;1511578&lt;/playcount&gt;\n        &lt;artist&gt;\n            &lt;name&gt;Pink Floyd&lt;/name&gt;\n            &lt;mbid&gt;83d91898-7763-47d7-b03b-b92132375c47&lt;/mbid&gt;\n            &lt;url&gt;http://www.last.fm/music/Pink+Floyd&lt;/url&gt;\n        &lt;/artist&gt;\n        ...\n    &lt;/track&gt;\n&lt;/lfm&gt;\n</code></pre>\n\n<p>when the song is not found:\n</p>\n\n<pre><code>&lt;lfm status=\"failed\"&gt;\n    &lt;error code=\"6\"&gt;Track not found&lt;/error&gt;\n&lt;/lfm&gt;\n</code></pre>\n"}], "owner": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "accepted_answer_id": 37311647, "answer_count": 1, "score": 1, "last_activity_date": 1523674409, "creation_date": 1463612465, "last_edit_date": 1523674409, "question_id": 37311419, "link": "https://stackoverflow.com/questions/37311419/finding-if-a-song-exists-by-the-name-of-a-given-input-text", "title": "Finding if a song exists by the name of a given input text", "body": "<p>I am working on an application which would allow users to enter some text as song name and another input for the artist name, and then will check whether a song exists that matches both the input parameters. I'm currently using Spotify's API for the same by querying for the song 'Get In The Game' using this endpoint:</p>\n\n<p><code>https://api.spotify.com/v1/search?q=get%20in%20the%20game&amp;type=track</code></p>\n\n<p>However, Spotify's API does not allow filtering the results using both the song name and artist name together. As a result, the above query returns a list of all songs that match the <code>Get in the Game</code> song title. </p>\n\n<p>How can I find whether a song exists based on the song and artist name?</p>\n"}, {"tags": ["python", "int", "nonetype"], "comments": [{"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 0, "creation_date": 1463612481, "post_id": 37311408, "comment_id": 62143749, "body": "Can you fix your indendation please?"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1463612868, "post_id": 37311408, "comment_id": 62143862, "body": "Can you show the full traceback please?"}, {"owner": {"reputation": 3164, "user_id": 733092, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DAX12.png?s=128&g=1", "display_name": "Noumenon", "link": "https://stackoverflow.com/users/733092/noumenon"}, "edited": false, "score": 0, "creation_date": 1463684081, "post_id": 37311408, "comment_id": 62181902, "body": "I disagree that a question about a TypeError is a duplicate of a question about an AttributeError, even if incorrect grouping caused both."}], "answers": [{"tags": [], "owner": {"reputation": 3164, "user_id": 733092, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DAX12.png?s=128&g=1", "display_name": "Noumenon", "link": "https://stackoverflow.com/users/733092/noumenon"}, "is_accepted": true, "score": 1, "last_activity_date": 1463613181, "creation_date": 1463613181, "answer_id": 37311519, "question_id": 37311408, "link": "https://stackoverflow.com/questions/37311408/unsupported-operand-types-for-nonetype-and-int/37311519#37311519", "title": "unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39;", "body": "<p>In the line </p>\n\n<pre><code>sys.stdout.write (\"\\restarting in %d seconds \") % (SleepTime-i)\n</code></pre>\n\n<p>Python thinks you are using the mod operator to do math on the result of sys.stdout.write (which is <code>None</code>) and <code>SleepTime - i</code> (which is an int). This is because you have an early parenthesis. What you wanted was to print the whole result:</p>\n\n<pre><code>sys.stdout.write (\"restarting in %d seconds \" % (SleepTime-i))\n</code></pre>\n\n<p>As a side note, % for formatting is <a href=\"https://www.python.org/dev/peps/pep-3101/\" rel=\"nofollow\">frowned upon</a> in Python in favor of string.format.</p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1463613270, "creation_date": 1463613270, "answer_id": 37311535, "question_id": 37311408, "link": "https://stackoverflow.com/questions/37311408/unsupported-operand-types-for-nonetype-and-int/37311535#37311535", "title": "unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39;", "body": "<p>In this line:</p>\n\n<pre><code>sys.stdout.write (\"\\restarting in %d seconds \") % (SleepTime-i)\n</code></pre>\n\n<p>you are using incorrect grouping. Here's what it's doing, illustrated with more parentheses:</p>\n\n<pre><code>(sys.stdout.write (\"\\restarting in %d seconds \")) % (SleepTime-i)\n</code></pre>\n\n<p><code>sys.stdout.write()</code> returns <code>None</code>, and you're doing <code>None % integer</code>. You need to put <code>SleepTime-i</code> inside the call, so it applies to the string rather than to the function call:</p>\n\n<pre><code>sys.stdout.write(\"\\restarting in %d seconds \" % (SleepTime-i))\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6210017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89635bd1b8f675f6f2c0cbb19162b05?s=128&d=identicon&r=PG&f=1", "display_name": "L. Hinton", "link": "https://stackoverflow.com/users/6210017/l-hinton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3131, "favorite_count": 0, "closed_date": 1463613355, "accepted_answer_id": 37311519, "answer_count": 2, "score": 1, "last_activity_date": 1463613270, "creation_date": 1463612409, "question_id": 37311408, "link": "https://stackoverflow.com/questions/37311408/unsupported-operand-types-for-nonetype-and-int", "closed_reason": "Duplicate", "title": "unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;int&#39;", "body": "<p>I am working on a project that I found online for a simple IP address to google maps conversation to find location for a simple car tracking process. There are 4 files in total but I am stuck on the main.py script. I have been trying to get it to work for days. I gave made progress but I am now getting the error:</p>\n\n<p>TypeError: unsupported operand type(s) for %: 'NoneType' and 'int'</p>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/usr/bin/python\nimport sys,time,geolocation,publisher\nfrom subprocess import call\n\nSleepTime = 10 # seconds\n_lat = 0.00\n_lon = 0.00\n\ndef maintain():\n    global _lat\n    global _lon\n(lat,lon,accuracy) = geolocation.getLocation()\nif(lat != _lat or lon !=_lon):\n    data = str(lat) + \",\" + str(lon) + \",\" + str(accuracy)\n    print (\"publishing\") , data\n    publisher.publishtoInternet(data)\n    _lat = lat\n    _lon = lon\nelse:\n    print (\"no change in coordinates\")\n\nprint (\"program begins\")\nwhile True:\ntry:\n    maintain()\nexcept Exception as inst:\n    print (type)(inst), ('exception captured')\n    print (inst)\n    sys.stdout.flush()\n    #file = open('/tmp/loctracker.error.log','a')\n    #file.write('exception occured, trying to reboot')\n    #file.close()\n    #call([\"sudo\",\"reboot\"])\n#break\nfor i in range(0,SleepTime):\n    sys.stdout.write (\"\\restarting in %d seconds \") % (SleepTime-i)\n    sys.stdout.flush()\n    time.sleep(1)\n</code></pre>\n\n<p>Any help would much appreciated!</p>\n\n<p>Regards </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "edited": false, "score": 1, "creation_date": 1463612439, "post_id": 37311403, "comment_id": 62143729, "body": "<code>distance</code>doesn&#39;t return anything, hence it returns <code>None</code>, which is why your comparison fails. Pretty explicit error message."}, {"owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 1, "creation_date": 1463612440, "post_id": 37311403, "comment_id": 62143730, "body": "Your <code>def distance()</code> function needs to <code>return d</code> at the end"}, {"owner": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 1, "creation_date": 1463612457, "post_id": 37311403, "comment_id": 62143736, "body": "You are not returning anything from distance"}, {"owner": {"reputation": 35, "user_id": 6122185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7567422c7b20772cd692c4d52c710160?s=128&d=identicon&r=PG&f=1", "display_name": "Riderfighter", "link": "https://stackoverflow.com/users/6122185/riderfighter"}, "reply_to_user": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "edited": false, "score": 0, "creation_date": 1463612824, "post_id": 37311403, "comment_id": 62143847, "body": "@TessellatingHeckler thank you that fixed it"}], "answers": [{"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 2, "last_activity_date": 1463612481, "creation_date": 1463612481, "answer_id": 37311421, "question_id": 37311403, "link": "https://stackoverflow.com/questions/37311403/typeerror-unorderable-types-nonetype-int/37311421#37311421", "title": "TypeError: unorderable types: NoneType() &lt; int()", "body": "<p>You never return anything from <code>distance()</code> so it returns <code>None</code>. You can't compare <code>None</code> to 10 so this results in an error.</p>\n\n<p>Instead of:</p>\n\n<pre><code>d = sqrt( (x2-x1)** 2 + (y2-y1)** 2)\n</code></pre>\n\n<p>Simply write:</p>\n\n<pre><code>return sqrt( (x2-x1)** 2 + (y2-y1)** 2)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6122185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7567422c7b20772cd692c4d52c710160?s=128&d=identicon&r=PG&f=1", "display_name": "Riderfighter", "link": "https://stackoverflow.com/users/6122185/riderfighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6356, "favorite_count": 0, "accepted_answer_id": 37311421, "answer_count": 1, "score": 1, "last_activity_date": 1463630049, "creation_date": 1463612335, "last_edit_date": 1463630049, "question_id": 37311403, "link": "https://stackoverflow.com/questions/37311403/typeerror-unorderable-types-nonetype-int", "title": "TypeError: unorderable types: NoneType() &lt; int()", "body": "<p>I'm trying to make a pong style game in python but each time I get the error written in the title. I've already tried googling ways to fix the error but I don't have a place to start on. It might be possible that my distance function might not be working. But anything could be broken so any help would be loved! Also this is the full error that comes out:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/NAME/Documents/PyPong.py\", line 47, in &lt;module&gt;\n    checkCollisions()\n  File \"/Users/NAME/Documents/PyPong.py\", line 35, in checkCollisions\n    if distance(b,e) &lt; 10:\nTypeError: unorderable types: NoneType() &lt; int()\n</code></pre>\n\n<p>And this is the code:</p>\n\n<pre><code>from tkinter import *\nfrom math import *\n##MAIN GAME PART##\nwindow = Tk()\ncanvas = Canvas(window,width=400,height=400)\ncanvas.pack()\n##FUNCTIONS##\ndef movePaddles(event):\n    key=event.keysym\n    if key == 'Up':\n         canvas.move(PaddleTwo,0,-10)\n    elif key == 'Down':\n        canvas.move(PaddleTwo,0,10)\n    if key == 'w':\n        canvas.move(PaddleOne,0,-10)\n    elif key == 's':\n        canvas.move(PaddleOne,0,10)\n    if key == 'j':\n        canvas.move(PingPongBall,-10,0)\n    elif key == 'k':\n        canvas.move(PingPongBall,10,0)\n\ndef distance(target1,target2):\n    target1coords = canvas.coords(target1)\n    target2coords = canvas.coords(target2)\n    x1 = (target1coords[0] + target1coords[2] ) / 2\n    y1 = (target1coords[1] + target1coords[3] ) / 2\n    x2 = (target2coords[0] + target2coords[2])  / 2\n    y2 = (target2coords[1] + target2coords[3]) / 2\n    d = sqrt( (x2-x1)** 2 + (y2-y1)** 2)\n\ndef checkCollisions():\n    for e in PaddleList:\n        if distance(PingPongBall,e) &lt; 10:\n            print('hit')  #print info on the shell\n\n##PADDLES##       \nPaddleOne = canvas.create_rectangle(10 ,150 ,25 ,250 ,fill='blue')\nPaddleTwo = canvas.create_rectangle(400,150 ,385 ,250 ,fill='blue')\nPingPongBall = canvas.create_rectangle(200, 200, 210 ,210 ,fill='red')\nPaddleList = [PaddleOne,PaddleTwo]\nBallList = [PingPongBall]\n\ncanvas.bind_all('&lt;Key&gt;',movePaddles)\nwhile True:\n    checkCollisions()\n</code></pre>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 2666, "user_id": 1421957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8e742c4a05e312502c828847c455ad?s=128&d=identicon&r=PG", "display_name": "Tico", "link": "https://stackoverflow.com/users/1421957/tico"}, "edited": false, "score": 0, "creation_date": 1463612338, "post_id": 37311387, "comment_id": 62143692, "body": "Check with <code>which python</code> to see which version of python your system is using. If you get something other than your directory. Create an alias in your <code>.bashrc</code> with <code>alias python=&#47;your&#47;path&#47;python</code>"}, {"owner": {"reputation": 1133, "user_id": 2059708, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/hcrgw.jpg?s=128&g=1", "display_name": "Nitro", "link": "https://stackoverflow.com/users/2059708/nitro"}, "reply_to_user": {"reputation": 2666, "user_id": 1421957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8e742c4a05e312502c828847c455ad?s=128&d=identicon&r=PG", "display_name": "Tico", "link": "https://stackoverflow.com/users/1421957/tico"}, "edited": false, "score": 0, "creation_date": 1463612735, "post_id": 37311387, "comment_id": 62143824, "body": "which python just shows the one in my home dir. If I remove this dir from my path then /usr/bin/python shows up, this one is python 2.6.6"}, {"owner": {"reputation": 2666, "user_id": 1421957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8e742c4a05e312502c828847c455ad?s=128&d=identicon&r=PG", "display_name": "Tico", "link": "https://stackoverflow.com/users/1421957/tico"}, "edited": false, "score": 0, "creation_date": 1463612824, "post_id": 37311387, "comment_id": 62143848, "body": "Then it doesn&#39;t seem to be a conflict with your system <code>python</code>"}, {"owner": {"reputation": 2666, "user_id": 1421957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8e742c4a05e312502c828847c455ad?s=128&d=identicon&r=PG", "display_name": "Tico", "link": "https://stackoverflow.com/users/1421957/tico"}, "edited": false, "score": 0, "creation_date": 1463612995, "post_id": 37311387, "comment_id": 62143892, "body": "Remove the package <code>python-setuptools</code> if you have it, then run <code>sudo pip install --upgrade setuptools</code>. Another package that also might be in conflict is <code>python-pip</code>"}], "owner": {"reputation": 1133, "user_id": 2059708, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/hcrgw.jpg?s=128&g=1", "display_name": "Nitro", "link": "https://stackoverflow.com/users/2059708/nitro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 668, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1463612196, "creation_date": 1463612196, "question_id": 37311387, "link": "https://stackoverflow.com/questions/37311387/error-when-using-user-install-pip2-7", "title": "Error when using user install pip2.7", "body": "<p>I built python 2.7.11 from source in my linux home directory and used its provided get-pip.py to install pip at a custom location ~/bin. But when I run ~/bin/pip2.7 I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./pip2.7\", line 9, in &lt;module&gt;\n    load_entry_point('pip==8.1.2', 'console_scripts', 'pip2.7')()\n  File \"/home/mnaymik/.local/lib/python2.7/site-packages/pkg_resources    /__init__.py\", line 542, in load_entry_point\n    return get_distribution(dist).load_entry_point(group, name)\n  File \"/home/mnaymik/.local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 2568, in load_entry_point\nraise ImportError(\"Entry point %r not found\" % ((group, name),))\nImportError: Entry point ('console_scripts', 'pip2.7') not found\n</code></pre>\n\n<p>~/bin/pip runs just fine though. </p>\n\n<p>I imagine there is some conflict with the system installed python and my user installed one but I don;t know how to fix it.</p>\n"}, {"tags": ["python", "python-2.7", "pip", "python-wheel", "psutil"], "comments": [{"owner": {"reputation": 24891, "user_id": 105043, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/afdf1134f1d560d95d1672a76a454041?s=128&d=identicon&r=PG", "display_name": "second", "link": "https://stackoverflow.com/users/105043/second"}, "edited": false, "score": 0, "creation_date": 1464096270, "post_id": 37311372, "comment_id": 62336063, "body": "what&#39;s the third party package?"}, {"owner": {"reputation": 5830, "user_id": 1030960, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc77aa6695d14df88b033c59442cd2c?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/1030960/anto"}, "reply_to_user": {"reputation": 24891, "user_id": 105043, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/afdf1134f1d560d95d1672a76a454041?s=128&d=identicon&r=PG", "display_name": "second", "link": "https://stackoverflow.com/users/105043/second"}, "edited": false, "score": 0, "creation_date": 1464101480, "post_id": 37311372, "comment_id": 62339956, "body": "It&#39;s a package developed by someone within my company.  The setup.py contains <code>install_requires = [&#39;psutil&#39;]</code>; nothing fancy."}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1464203891, "post_id": 37311372, "comment_id": 62393795, "body": "Not sure if you have multiple python versions, but in the pip.log verify that in both cases that the python used is the correct version? (<a href=\"http://stackoverflow.com/questions/29879504/python-version-incorrectly-identified\" title=\"python version incorrectly identified\">stackoverflow.com/questions/29879504/&hellip;</a>) Not convinced that is your problem, but is a start. On another note, why are you still on 2.7.5? latest is 2.7.11."}, {"owner": {"reputation": 1157, "user_id": 6030424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f3dfdc15d27f5511ce8fe6567002392?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Myddeltyn", "link": "https://stackoverflow.com/users/6030424/tom-myddeltyn"}, "edited": false, "score": 0, "creation_date": 1464203953, "post_id": 37311372, "comment_id": 62393821, "body": "Also, it looks like your psutil is 64bit maybe that is part of the issue?"}, {"owner": {"reputation": 5830, "user_id": 1030960, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc77aa6695d14df88b033c59442cd2c?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/1030960/anto"}, "edited": false, "score": 0, "creation_date": 1464554255, "post_id": 37311372, "comment_id": 62522896, "body": "Hello, thanks for your suggestions.  I think the python version is consistent on the system and pip, but I&#39;ll double check.  I&#39;m not using the latest python because this server is shipped with 2.7.5 and I&#39;m stuck with it.  <code>psutil</code>&#39;s wheel is 64bits because the VM is 64bits (but perhaps it could be related to the root cause indeed ?)"}, {"owner": {"reputation": 1814, "user_id": 302521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518022af3db853142b3f7413175a5190?s=128&d=identicon&r=PG", "display_name": "Philippe Ombredanne", "link": "https://stackoverflow.com/users/302521/philippe-ombredanne"}, "edited": false, "score": 0, "creation_date": 1464675013, "post_id": 37311372, "comment_id": 62565841, "body": "Which version of pip, wheel and setuptools do you use?"}], "answers": [{"comments": [{"owner": {"reputation": 5830, "user_id": 1030960, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc77aa6695d14df88b033c59442cd2c?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/1030960/anto"}, "edited": false, "score": 0, "creation_date": 1464554362, "post_id": 37458478, "comment_id": 62522927, "body": "I don&#39;t think this is the reason because pip finds the wheel; it just refuses to install it for a reason that doesn&#39;t sound legit (python version) ;)"}, {"owner": {"reputation": 1814, "user_id": 302521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518022af3db853142b3f7413175a5190?s=128&d=identicon&r=PG", "display_name": "Philippe Ombredanne", "link": "https://stackoverflow.com/users/302521/philippe-ombredanne"}, "reply_to_user": {"reputation": 5830, "user_id": 1030960, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc77aa6695d14df88b033c59442cd2c?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/1030960/anto"}, "edited": false, "score": 0, "creation_date": 1464675547, "post_id": 37458478, "comment_id": 62566041, "body": "This has more to do with the pip/ven/setuptools version than the Python version IMHO. @Anto: what is the version of these tools you use? And for the sake of it which Linux distro/version?"}, {"owner": {"reputation": 2848, "user_id": 3152127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/491f8f327df08264110871e1a80e4dee?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Exton", "link": "https://stackoverflow.com/users/3152127/luke-exton"}, "edited": false, "score": 0, "creation_date": 1464713566, "post_id": 37458478, "comment_id": 62591470, "body": "What is the output of pip --version?"}], "tags": [], "owner": {"reputation": 2848, "user_id": 3152127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/491f8f327df08264110871e1a80e4dee?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Exton", "link": "https://stackoverflow.com/users/3152127/luke-exton"}, "is_accepted": false, "score": 0, "last_activity_date": 1464259249, "creation_date": 1464259249, "answer_id": 37458478, "question_id": 37311372, "link": "https://stackoverflow.com/questions/37311372/troubles-while-installing-psutil-wheel-as-a-dependency-via-pip/37458478#37458478", "title": "Troubles while installing psutil (wheel) as a dependency via pip", "body": "<p>From your answer, it seems that you got it working with the extra step.</p>\n\n<p>When doing an offline install, you need to tell it where to find all the packages you want to install explicitly, not just the top level.</p>\n\n<p>I personally have always been explicit about the fact you are looking in the file, and like any other pip install you can specify multiple installs on the same line for context.</p>\n\n<pre><code>$ pip install --no-index --find-links file:/tmp/python_packages/ --use-wheel psutil my-package-1.4.zip\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1814, "user_id": 302521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/518022af3db853142b3f7413175a5190?s=128&d=identicon&r=PG", "display_name": "Philippe Ombredanne", "link": "https://stackoverflow.com/users/302521/philippe-ombredanne"}, "is_accepted": false, "score": 1, "last_activity_date": 1464677781, "creation_date": 1464677781, "answer_id": 37538823, "question_id": 37311372, "link": "https://stackoverflow.com/questions/37311372/troubles-while-installing-psutil-wheel-as-a-dependency-via-pip/37538823#37538823", "title": "Troubles while installing psutil (wheel) as a dependency via pip", "body": "<p>The key issue you are facing is IMHO this:</p>\n\n<pre><code>Skipping file:///tmp/python_packages/psutil-4.2.0-cp27-cp27mu-linux_x86_64.whl \nbecause it is not compatible with this Python\n</code></pre>\n\n<p>A new recent feature has been introduced in pip to support \"many linux\" wheels (See this <a href=\"https://www.python.org/dev/peps/pep-0513/\" rel=\"nofollow\">PEP</a>)</p>\n\n<p>When asking for a direct install of wheel, minimal checks are done and pip assumes you really want this installed.</p>\n\n<p>When a wheel is installed indirectly as a dep of a dep in your case, there may be incompatible tags in this context.</p>\n\n<p>I would ensure that I use the latest version of pip, setuptools and virtualenv to remove moving parts and it may fix you problem.</p>\n\n<p>Vaguely related, and if this can help, I use <a href=\"https://github.com/nexB/scancode-toolkit/blob/68474f46e6bd125a6b4ee441ce760c6929e80482/etc/configure.py\" rel=\"nofollow\">this script</a> with a <a href=\"https://github.com/nexB/scancode-toolkit/blob/68474f46e6bd125a6b4ee441ce760c6929e80482/configure\" rel=\"nofollow\">Linux/Mac</a> or <a href=\"https://github.com/nexB/scancode-toolkit/blob/68474f46e6bd125a6b4ee441ce760c6929e80482/configure\" rel=\"nofollow\">Windows</a> wrapper to perform consistent install of vendored pip packages. The key point is to vendor everything and this may be another reason why you get some failure.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 98424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca2aa753b72dfdc1c9a10fe98aad9ce?s=128&d=identicon&r=PG", "display_name": "Rodney Richardson", "link": "https://stackoverflow.com/users/98424/rodney-richardson"}, "is_accepted": false, "score": 1, "last_activity_date": 1480945477, "last_edit_date": 1480945477, "creation_date": 1480944072, "answer_id": 40975235, "question_id": 37311372, "link": "https://stackoverflow.com/questions/37311372/troubles-while-installing-psutil-wheel-as-a-dependency-via-pip/40975235#40975235", "title": "Troubles while installing psutil (wheel) as a dependency via pip", "body": "<p>Make sure that the version of wheel you use to create the wheel is the same as the version used during deployment.</p>\n\n<p>I experienced the same problem when trying to deploy a wheel built with 0.29.0, using wheel 0.24.0.</p>\n\n<p>I downgraded the version of wheel used to build the wheel to match the version used during deployment, and this resolved the problem.</p>\n"}], "owner": {"reputation": 5830, "user_id": 1030960, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc77aa6695d14df88b033c59442cd2c?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/1030960/anto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2754, "favorite_count": 2, "answer_count": 3, "score": 11, "last_activity_date": 1480945477, "creation_date": 1463612094, "last_edit_date": 1464698402, "question_id": 37311372, "link": "https://stackoverflow.com/questions/37311372/troubles-while-installing-psutil-wheel-as-a-dependency-via-pip", "title": "Troubles while installing psutil (wheel) as a dependency via pip", "body": "<p>I wrote a package with a dependency's dependency to <a href=\"https://pypi.python.org/pypi/psutil\" rel=\"nofollow\">psutil</a> (<code>my-package</code> depends on <code>third-party-package</code> which depends on <code>psutil</code>).<br>\nSince it's supposed to run on a server without any connectivity and without <code>gcc</code>, I prepared the deployment locally with a <code>psutil</code> <a href=\"http://python-packaging-user-guide.readthedocs.io/en/latest/distributing/#wheels\" rel=\"nofollow\">python platform wheel</a> and <code>pip install my-package --download</code>, then sent everything on the server.</p>\n\n<p>Now everything is ready on the server, but for some reason, when I run the installation, <code>pip</code> refuses to install <code>psutil</code>.  Note that the server is a red hat 7.2 running pip 7.1.0, <a href=\"https://pypi.python.org/pypi/virtualenv\" rel=\"nofollow\">virtualenv</a> 1.10.1 and python 2.7.5 (and I can't change the version of anything).</p>\n\n<pre><code>$ pip install /tmp/python_packages/my-package-1.4.zip --no-index \n  --find-links /tmp/python_packages/ --use-wheel\nIgnoring indexes: https://pypi.python.org/simple/\n\n# blablabla, everything goes fine, then\n\nDownloading/unpacking psutil (from third-party-package&gt;=0.9-&gt;my-package==1.4)\n  Could not find any downloads that satisfy the requirement psutil \n  (from third-party-package&gt;=0.9-&gt;my-package==1.4)\nCleaning up...\nNo distributions at all found for psutil (from third-party-package&gt;=0.9-&gt;my-package==1.4)\nStoring complete log in /home/anto/.pip/pip.log\n</code></pre>\n\n<p>Here is what <code>pip.log</code> says:</p>\n\n<pre><code>Downloading/unpacking psutil (from third-party-package&gt;=0.9-&gt;my-package==1.4)\n\n  URLs to search for versions for psutil (from third-party-package&gt;=0.9-&gt;my-package==1.4):\n  # bla\n  Skipping file:///tmp/python_packages/psutil-4.2.0-cp27-cp27mu-linux_x86_64.whl \n    because it is not compatible with this Python\n  # bla\n  Could not find any downloads that satisfy the requirement psutil (from third-\n   party-package&gt;=0.9-&gt;my-package==1.4)\n\nCleaning up...\n</code></pre>\n\n<p>So \"not compatible with this Python\", ok.  But here is the really weird part: if I install <code>psutil</code> without anything else, and then the rest, everything goes fine.</p>\n\n<pre><code>$ pip install /tmp/python_packages/psutil-4.2.0-cp27-cp27mu-linux_x86_64.whl \nUnpacking /tmp/python_packages/psutil-4.2.0-cp27-cp27mu-linux_x86_64.whl\nInstalling collected packages: psutil\nSuccessfully installed psutil\nCleaning up...\n$ pip freeze -l\npsutil==4.2.0\n$ pip install /tmp/python_packages/my-package-1.4.zip --no-index \n  --find-links /tmp/python_packages/ --use-wheel\n\n# blablabla\n\nSuccessfully installed my-package third-party-package\nCleaning up...\n</code></pre>\n\n<p>What am I missing ?  Any clue ?</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463612405, "post_id": 37311359, "comment_id": 62143718, "body": "<code>pip install pillow</code>"}, {"owner": {"reputation": 6434, "user_id": 356307, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G3ppl.jpg?s=128&g=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/356307/jens"}, "edited": false, "score": 0, "creation_date": 1463612542, "post_id": 37311359, "comment_id": 62143773, "body": "See previous comment: use <a href=\"https://python-pillow.org/\" rel=\"nofollow noreferrer\">Pillow</a> instead of outdated PIP. Also, your debug log is stored in <code>&#47;tmp&#47;tmpWJojCu</code>, so read that: it should give you more information on what went wrong."}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 19, "last_activity_date": 1463613730, "creation_date": 1463613730, "answer_id": 37311594, "question_id": 37311359, "link": "https://stackoverflow.com/questions/37311359/cant-install-pil/37311594#37311594", "title": "Can&#39;t install PIL", "body": "<p>This one bites a lot of people, <code>PIL</code> has become <a href=\"https://pypi.python.org/pypi/Pillow\" rel=\"noreferrer\"><code>pillow</code></a>.  </p>\n\n<pre><code>pip install pillow\n</code></pre>\n\n<p>But the import name was unchanged, so it is different from the package name now.  That is, you continue to use:</p>\n\n<pre><code>from PIL import Image\n</code></pre>\n"}], "owner": {"reputation": 2175, "user_id": 1930168, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HIDFT.jpg?s=128&g=1", "display_name": "rafaelcosman", "link": "https://stackoverflow.com/users/1930168/rafaelcosman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9978, "favorite_count": 0, "accepted_answer_id": 37311594, "answer_count": 1, "score": 8, "last_activity_date": 1557932921, "creation_date": 1463612038, "last_edit_date": 1557932921, "question_id": 37311359, "link": "https://stackoverflow.com/questions/37311359/cant-install-pil", "title": "Can&#39;t install PIL", "body": "<p>I'm unable to install PIL. When I run <code>pip install PIL</code> I get:</p>\n\n<pre><code>Downloading/unpacking PIL\n  Could not find any downloads that satisfy the requirement PIL\nCleaning up...\nNo distributions at all found for PIL\nStoring debug log for failure in /tmp/tmpWJojCu\n</code></pre>\n\n<p>I've tried following the answers to <a href=\"https://askubuntu.com/questions/156484/how-do-i-install-python-imaging-library-pil\">this</a> question but I get the same error.</p>\n\n<p>Stack: Python 2.7, PIP, EC2 Ubuntu machine.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1463611913, "post_id": 37311281, "comment_id": 62143568, "body": "<a href=\"https://docs.python.org/3/tutorial/introduction.html#lists\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/introduction.html#lists</a>"}, {"owner": {"reputation": 2651, "user_id": 2246024, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/OpzyW.jpg?s=128&g=1", "display_name": "Simon Fromme", "link": "https://stackoverflow.com/users/2246024/simon-fromme"}, "edited": false, "score": 0, "creation_date": 1463612204, "post_id": 37311281, "comment_id": 62143650, "body": "<code>to_flip[counter]</code>  accesses an item of the list <code>to_flip</code> at position <code>counter</code>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1463612225, "post_id": 37311281, "comment_id": 62143661, "body": "What is <code>flip_keys([(1, 2, 3), &#39;abc&#39;, 1, 3])</code> expected to do?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1463612639, "post_id": 37311281, "comment_id": 62143799, "body": "And do you expect to get input like <code>flip_keys([(1, 2, 3), &#39;abc&#39;, [1, [[2]]]])</code>?"}, {"owner": {"reputation": 3, "user_id": 6348570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47352b8da2d756419c028df72b19c25?s=128&d=identicon&r=PG&f=1", "display_name": "FriedRise", "link": "https://stackoverflow.com/users/6348570/friedrise"}, "edited": false, "score": 0, "creation_date": 1463613038, "post_id": 37311281, "comment_id": 62143902, "body": "@ Tigerhawk, I understand it better now, you get an error from flip_keys([(1, 2, 3), &#39;abc&#39;, 1, 3]), for only elements in groupings are reversed. Maybe that&#39;s why you use the counter as the position in this case. Thank you."}, {"owner": {"reputation": 3, "user_id": 6348570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47352b8da2d756419c028df72b19c25?s=128&d=identicon&r=PG&f=1", "display_name": "FriedRise", "link": "https://stackoverflow.com/users/6348570/friedrise"}, "edited": false, "score": 0, "creation_date": 1463613206, "post_id": 37311281, "comment_id": 62143938, "body": "@ siwica, I didn&#39;t know you could use anything else other than numeric values to index. Thank you for that."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6223840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18de01831f615457ab4de2cad95842e?s=128&d=identicon&r=PG&f=1", "display_name": "spectralflux", "link": "https://stackoverflow.com/users/6223840/spectralflux"}, "is_accepted": true, "score": 1, "last_activity_date": 1463612638, "creation_date": 1463612638, "answer_id": 37311447, "question_id": 37311281, "link": "https://stackoverflow.com/questions/37311281/specific-python-reverse-function-questions/37311447#37311447", "title": "Specific Python reverse function questions", "body": "<p>The <code>to_flip</code> line is flipping whatever is in that element. For example if you ran it on just one list:</p>\n\n<pre><code>my_list = [1,2,3,4,5]\nflipped_list = my_list[::-1]\n</code></pre>\n\n<p><code>flipped_list</code> would now be <code>[5,4,3,2,1]</code>. The <code>[::-1]</code> is a neat little shorthand for flipping any list. </p>\n\n<p>For your code, <code>counter</code> is keeping track of what element you are in in <code>to_flip</code>. You could also keep track by using <code>enumerate</code>, which keeps count of what element you are at, on the list too:</p>\n\n<pre><code>for i, value in enumerate(to_flip):\n    to_flip[i] = value[::-1]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6348570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47352b8da2d756419c028df72b19c25?s=128&d=identicon&r=PG&f=1", "display_name": "FriedRise", "link": "https://stackoverflow.com/users/6348570/friedrise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 37311447, "answer_count": 1, "score": -1, "last_activity_date": 1463614434, "creation_date": 1463611607, "last_edit_date": 1463614434, "question_id": 37311281, "link": "https://stackoverflow.com/questions/37311281/specific-python-reverse-function-questions", "title": "Specific Python reverse function questions", "body": "<pre class=\"lang-py prettyprint-override\"><code>def flip_keys(to_flip):  \n    \"\"\"To reverse items in a mixed list\n\n    Args:\n        to_flip(list): a list mixed with tuple and other values.\n\n    Returns:\n        list: to return values in the list, reversed.\n\n    Examples:\n\n        &gt;&gt;&gt; flip_keys([(1, 2, 3), 'abc'])\n        '[(3, 2, 1), 'cba']\n    \"\"\"\n    counter = 0\n    for value in to_flip:\n        to_flip[counter] = value[::-1]\n        counter += 1\n    return to_flip\n</code></pre>\n\n<p>This is a python function, which is to flip each element entered, backward. I have learned indexing, but to_flip[counter] is like nothing I seen. What purpose does to_flip[counter] serve, in flipping each element? Does it have a name for this? And doesn't counter serve to add each number given, and to come out with a sum? Why is it needed here? And are there any other ways of doing reverse like this, for a beginner. Thank you.</p>\n"}, {"tags": ["python", "logging", "alembic"], "comments": [{"owner": {"reputation": 76, "user_id": 4389010, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ox6i3rZZh2E/AAAAAAAAAAI/AAAAAAAAAEk/eoqY6xByeHQ/photo.jpg?sz=128", "display_name": "Wiktor W&#243;jcikowski", "link": "https://stackoverflow.com/users/4389010/wiktor-w%c3%b3jcikowski"}, "edited": false, "score": 0, "creation_date": 1463612868, "post_id": 37311214, "comment_id": 62143861, "body": "Check if you have right name of logger by printing:  <code>logging.Logger.manager.loggerDict</code>"}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1463613167, "post_id": 37311214, "comment_id": 62143929, "body": "If you are able to use it (and I highly recommend py.test), <a href=\"https://pypi.python.org/pypi/pytest-capturelog\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/pytest-capturelog</a> might help you."}, {"owner": {"reputation": 1190, "user_id": 2186599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ZtMx.jpg?s=128&g=1", "display_name": "klaas", "link": "https://stackoverflow.com/users/2186599/klaas"}, "edited": false, "score": 0, "creation_date": 1477309758, "post_id": 37311214, "comment_id": 67698646, "body": "Are these really / only alembic logging Infos or SAWarnings or similar from sqlalchemy ?"}], "answers": [{"tags": [], "owner": {"reputation": 7294, "user_id": 136796, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8f6d569508d3f79fd2d9390a56935d0?s=128&d=identicon&r=PG", "display_name": "S&#248;ren L&#248;vborg", "link": "https://stackoverflow.com/users/136796/s%c3%b8ren-l%c3%b8vborg"}, "is_accepted": false, "score": 3, "last_activity_date": 1479153733, "last_edit_date": 1479153733, "creation_date": 1464873212, "answer_id": 37592938, "question_id": 37311214, "link": "https://stackoverflow.com/questions/37311214/how-i-can-disable-alembic-logging-at-runtime/37592938#37592938", "title": "How i can disable alembic logging at runtime?", "body": "<p>Sounds like you're invoking Alembic from within your unit tests by calling out to the <code>alembic</code> command, which is a separate process and does not inherit your logging configuration.</p>\n\n<p>Instead, you should invoke Alembic programmatically:</p>\n\n<pre><code>import logging\nimport alembic.config\nimport alembic.command\n\nlogging.getLogger('alembic').setLevel(logging.CRITICAL)\n\nalembic_cfg = alembic.config.Config('alembic.ini')\nalembic.command.upgrade(alembic_cfg, 'head')\n</code></pre>\n\n<p>See the documentation for more info about the <a href=\"http://alembic.zzzcomputing.com/en/latest/api/index.html\" rel=\"nofollow noreferrer\">Alembic API</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2648, "user_id": 1151229, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/86bfa79afa6f2c9be4b15a7cc3172181?s=128&d=identicon&r=PG", "display_name": "Brian Peterson", "link": "https://stackoverflow.com/users/1151229/brian-peterson"}, "is_accepted": false, "score": 2, "last_activity_date": 1478999167, "creation_date": 1478999167, "answer_id": 40569470, "question_id": 37311214, "link": "https://stackoverflow.com/questions/37311214/how-i-can-disable-alembic-logging-at-runtime/40569470#40569470", "title": "How i can disable alembic logging at runtime?", "body": "<p>You need to edit the alembic.ini file and change the logging setting for this particular log. You can read about it in the <a href=\"http://alembic.zzzcomputing.com/en/latest/tutorial.html#editing-the-ini-file\" rel=\"nofollow noreferrer\">relevant section of the Alembic tutorial</a>. By default, this section should be in your configuration file:</p>\n\n<pre><code>[logger_alembic]\nlevel = INFO\nhandlers =\nqualname = alembic\n</code></pre>\n\n<p>I set mine to <code>WARN</code> instead, and these logs went away.</p>\n"}, {"tags": [], "owner": {"reputation": 9728, "user_id": 1222076, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0066f6e948e042d8444dd86608c01d71?s=128&d=identicon&r=PG", "display_name": "Matt Dodge", "link": "https://stackoverflow.com/users/1222076/matt-dodge"}, "is_accepted": false, "score": 0, "last_activity_date": 1486683094, "creation_date": 1486683094, "answer_id": 42148915, "question_id": 37311214, "link": "https://stackoverflow.com/questions/37311214/how-i-can-disable-alembic-logging-at-runtime/42148915#42148915", "title": "How i can disable alembic logging at runtime?", "body": "<p>You don't want to change it in the <code>alembic.ini</code> file but instead in the <code>env.py</code> file. There will be a line in there that looks like</p>\n\n<pre><code>fileConfig(config.config_file_name)\n</code></pre>\n\n<p>This will be what sets up the logging with the alembic.ini config file. After this line you can do whatever you want to the alembic logger by doing</p>\n\n<pre><code>logging.getLogger('alembic')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9158918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afec613a13b0934006ce62468082609b?s=128&d=identicon&r=PG&f=1", "display_name": "Hubert Dryja", "link": "https://stackoverflow.com/users/9158918/hubert-dryja"}, "is_accepted": false, "score": 0, "last_activity_date": 1607524154, "creation_date": 1607524154, "answer_id": 65218752, "question_id": 37311214, "link": "https://stackoverflow.com/questions/37311214/how-i-can-disable-alembic-logging-at-runtime/65218752#65218752", "title": "How i can disable alembic logging at runtime?", "body": "<p>Based on other answers, that's what worked for me:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import alembic.config\nimport alembic.command\n\nalembic_cfg = alembic.config.Config('alembic.ini')\nalembic_cfg.set_section_option(&quot;logger_alembic&quot;, &quot;level&quot;, &quot;ERROR&quot;)\nalembic.command.upgrade(alembic_cfg, 'head')\n</code></pre>\n<p>Instead of importing logging, we can just replace config section value that contains info about log level.</p>\n"}], "owner": {"reputation": 7270, "user_id": 1391074, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8f68df8049c2367f1e312b85a1b984a8?s=128&d=identicon&r=PG", "display_name": "avasin", "link": "https://stackoverflow.com/users/1391074/avasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2795, "favorite_count": 2, "answer_count": 4, "score": 4, "last_activity_date": 1607524154, "creation_date": 1463611164, "question_id": 37311214, "link": "https://stackoverflow.com/questions/37311214/how-i-can-disable-alembic-logging-at-runtime", "title": "How i can disable alembic logging at runtime?", "body": "<p>I need to disable alembic migrations logging, while executing migrations in unit tests, .</p>\n\n<p>I can't just remove <code>alembic</code> logger it from <code>alembic.ini</code>: i need this output while performing migrations myself.</p>\n\n<p>Following did not work for me:\n<code>logging.getLogger('alembic').setLevel(logging.CRITICAL)</code></p>\n\n<p>How i can disable it at runtime?</p>\n"}, {"tags": ["python", "amazon-cloudwatch"], "comments": [{"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 1, "creation_date": 1463667581, "post_id": 37311207, "comment_id": 62171232, "body": "Your question is confusing as written. I think it can be distilled down to &quot;How do I find the log message in CloudWatch Logs that generated a CloudWatch alert?&quot;. The part about Python and Lambda don&#39;t appear to be relevant."}], "answers": [{"comments": [{"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463667162, "post_id": 37313415, "comment_id": 62170865, "body": "The question is specifically about how to find the log message that generated a CloudWatch Logs Alert."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463667771, "post_id": 37313415, "comment_id": 62171407, "body": "Hmm interesting .. May be the answer is not appropriate then..backtracking metrics to application logs? Not sure there is a way..will look out for the correct answer..and remove this one"}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 1, "creation_date": 1463667904, "post_id": 37313415, "comment_id": 62171514, "body": "CloudWatch Logs is pretty terrible at alerts and doesn&#39;t really provide useful search capabilities. The issue raised in the question is a major pain point with CloudWatch Logs and I&#39;m not aware of any solution other than pushing the log data to another service that provides better capabilities."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463668003, "post_id": 37313415, "comment_id": 62171583, "body": "Yes i am aware.. We ended up choosing aws elastisearch which is managed elk."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463668116, "post_id": 37313415, "comment_id": 62171658, "body": "But even then, backtracking metrics to errors is not possible unless the metric is logged programmatically by the app."}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463668313, "post_id": 37313415, "comment_id": 62171818, "body": "The question is specifically about alerts coming from CloudWatch Logs. Like you can configure it to generate a CloudWatch alert when the text &quot;Exception&quot; appears in a log message. But like you said there is no way to back-track that to the actual error message. Other logging services like Loggly and LogEntries provide that capability, and can even include the entire log message in the alert email."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463669182, "post_id": 37313415, "comment_id": 62172491, "body": "When I used lambda, I did not see the automatic metrics go to cloudwatch logs. Cloudwatch logs only had logs related to lambda function io and error streams.. I don&#39;t think it&#39;s a search flexibility issue with cloudwatch which it lacks.. It may not be possible overall.. But I would wait for 2nd opinion from someone who has used lambda very recently."}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463670092, "post_id": 37313415, "comment_id": 62173238, "body": "Lambda provides the functionality of sending all your function&#39;s log messages to CloudWatch Logs. If you didn&#39;t see all your function&#39;s logs in CloudWatch Logs then you weren&#39;t using the built-in logging function provided by Lambda."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463671278, "post_id": 37313415, "comment_id": 62174211, "body": "It did send all my function logs.. I meant automatic metrics logged by lambda service such as invocation count..neways I will try and check."}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463671538, "post_id": 37313415, "comment_id": 62174410, "body": "Like I said, the metrics for log errors don&#39;t show up automatically, it&#39;s an extra configuration step you have to take in CloudWatch Logs."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463675565, "post_id": 37313415, "comment_id": 62177247, "body": "Just for clarity I meant automatic metrics mentioned on this page. <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-metrics.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/lambda/latest/dg/&hellip;</a>"}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463675872, "post_id": 37313415, "comment_id": 62177429, "body": "Maybe I&#39;m wrong and that&#39;s what the question is regarding. Those would be even more difficult to tie back to logs than the alerts I was talking about."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463676214, "post_id": 37313415, "comment_id": 62177613, "body": "Yes.. That&#39;s what the question is about. Tracking the to request is not possible. But May be  some sense can made out by tallying the timestamp. I think this is not possible as these metric instrumentations  will never make it to cloudwatch logs . But somehow from ur comments, I thought you meant these logs make it cloudwatch but you cannot configure alerts using cloudwatch search features.."}, {"owner": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463677051, "post_id": 37313415, "comment_id": 62178041, "body": "All those items included in the Errors metric do show up in the Lambda CloudWatch Logs also."}, {"owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "reply_to_user": {"reputation": 137816, "user_id": 13070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/pio3A.jpg?s=128&g=1", "display_name": "Mark B", "link": "https://stackoverflow.com/users/13070/mark-b"}, "edited": false, "score": 0, "creation_date": 1463678604, "post_id": 37313415, "comment_id": 62178857, "body": "Yes I have seen exception, errors and timeouts in the cloudwatch logs."}], "tags": [], "owner": {"reputation": 6220, "user_id": 3846053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7994a1f62b40a2bb94ef32205331b01?s=128&d=identicon&r=PG&f=1", "display_name": "Shibashis", "link": "https://stackoverflow.com/users/3846053/shibashis"}, "is_accepted": false, "score": -1, "last_activity_date": 1463681881, "last_edit_date": 1463681881, "creation_date": 1463628106, "answer_id": 37313415, "question_id": 37311207, "link": "https://stackoverflow.com/questions/37311207/cloud-watch-metric-aws-lambda-python/37313415#37313415", "title": "Cloud Watch Metric + AWS Lambda + Python", "body": "<p>There is no direct way of linking the automatic metrics(<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-metrics.html\" rel=\"nofollow\">http://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-metrics.html</a>) to logs on cloudwatch.</p>\n\n<p>The error, exceptions and timeout errors do get logged but can't be traced from the metric.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11807356, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-576zO7CqNEY/AAAAAAAAAAI/AAAAAAAAAC0/ZQ-ptiXCZhw/photo.jpg?sz=128", "display_name": "saart", "link": "https://stackoverflow.com/users/11807356/saart"}, "is_accepted": false, "score": 0, "last_activity_date": 1609687780, "creation_date": 1609687780, "answer_id": 65551551, "question_id": 37311207, "link": "https://stackoverflow.com/questions/37311207/cloud-watch-metric-aws-lambda-python/65551551#65551551", "title": "Cloud Watch Metric + AWS Lambda + Python", "body": "<p>Yes, today there are some 3rd party tools that give you this perspective: filter the list of invocations by the failing ones, and drill down to a specific one.\nIn particular, it can direct you specifically to the log group, and the logs that have been written during this invocation.</p>\n<p>In addition, if you know approximately how the failing logs look like, then you can try and search them with cloudwatch-insights (<a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AnalyzingLogData.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AnalyzingLogData.html</a>), which is another great tool to filter logs of a specific lambda with advanced queries.</p>\n<p>Disclosure: I work for Lumigo, a company that helps you do exactly that.</p>\n"}], "owner": {"reputation": 5678, "user_id": 312444, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/tUMlx.png?s=128&g=1", "display_name": "p.magalhaes", "link": "https://stackoverflow.com/users/312444/p-magalhaes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 934, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609687780, "creation_date": 1463611106, "last_edit_date": 1463689205, "question_id": 37311207, "link": "https://stackoverflow.com/questions/37311207/cloud-watch-metric-aws-lambda-python", "title": "Cloud Watch Metric + AWS Lambda + Python", "body": "<p>I am using AWS API Gateway + AWS Lambda to build a REST API. I am using pytjon and logging as my log library. The Cloud Watch monitor some metric automatically, e.g, invocation times, error count, ...</p>\n\n<p>So imagine that I have a error inside my lambda function. The Cloud Watch metrics show me with erro count. \nIs it possible to find the log of the exactly the request (the AWS Lambda log) that generated the error?  </p>\n\n<p>Does anyone has some tips ho to monitor and debug in this situation?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 2842, "user_id": 4181415, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SqEsb.png?s=128&g=1", "display_name": "Richard Border", "link": "https://stackoverflow.com/users/4181415/richard-border"}, "edited": false, "score": 0, "creation_date": 1463614206, "post_id": 37311197, "comment_id": 62144180, "body": "Welcome to stackoverflow!"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6353361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30daa08fd658a6ebc30172461087cef0?s=128&d=identicon&r=PG&f=1", "display_name": "datooa", "link": "https://stackoverflow.com/users/6353361/datooa"}, "edited": false, "score": 0, "creation_date": 1463615752, "post_id": 37311515, "comment_id": 62144546, "body": "Thank you! I was able to tweak your pattern a bit to get it to work --          [\\d\\w\\s]*[\\. ]+ (?:.* or [\\d\\w\\s]*[\\. ]+ )?([^\\,]+).* had to add in a passive group to deal with the case where there are two options, such as:     &#39;1/4  c. crumbled Feta cheese or 2 Tbsp. crumbled Blue cheese&#39;]"}], "tags": [], "owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "is_accepted": false, "score": 1, "last_activity_date": 1463613175, "creation_date": 1463613175, "answer_id": 37311515, "question_id": 37311197, "link": "https://stackoverflow.com/questions/37311197/regex-in-python-3-match-everything-after-a-number-or-optional-period-but-before/37311515#37311515", "title": "Regex in Python 3: match everything after a number or optional period but before an optional comma", "body": "<p>The problem is that you are pairing the number with the dot.</p>\n\n<pre><code>\\s\\d*\\.?\n</code></pre>\n\n<p>should work to match the number correctly (with or without a dot)</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1463616236, "last_edit_date": 1463616236, "creation_date": 1463614551, "answer_id": 37311720, "question_id": 37311197, "link": "https://stackoverflow.com/questions/37311197/regex-in-python-3-match-everything-after-a-number-or-optional-period-but-before/37311720#37311720", "title": "Regex in Python 3: match everything after a number or optional period but before an optional comma", "body": "<p>You can use this pattern:</p>\n\n<pre><code>for ing in ingredients:\n    print(re.search(r'[a-z][^.,]*(?![^,])(?i)', ing).group())\n</code></pre>\n\n<p>pattern details:</p>\n\n<pre><code>([a-z][^.,]*) # a substring that starts with a letter and that doesn't contain a period\n                # or a comma\n(?![^,]) # not followed by a character that is not a comma\n         # (in other words, followed by a comma or the end of the string)\n(?i)     # make the pattern case insensitive\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1463616508, "post_id": 37311910, "comment_id": 62144730, "body": "The idea is interesting, but it isn&#39;t very handy to make an exhaustive list of possible terms like <i>teaspoon</i>, <i>tablespoon</i>... I will make it this way: <a href=\"https://regex101.com/r/zS7zR8/1\" rel=\"nofollow noreferrer\">regex101.com/r/zS7zR8/1</a>"}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1463616618, "post_id": 37311910, "comment_id": 62144756, "body": "I thought so too but then the OP said the last line contained two ingredients but they only wanted the last one..., and if the measurement was spelled out like <code>tablespoon</code> instead of <code>tbsp.</code> in the last line, then you&#39;re proposed regex won&#39;t clean off the first ingredent"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1463616738, "post_id": 37311910, "comment_id": 62144783, "body": "Yes it&#39;s a little strange."}, {"owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1463616809, "post_id": 37311910, "comment_id": 62144800, "body": "Also it&#39;s really nice to cross paths with you again :)"}], "tags": [], "owner": {"reputation": 13556, "user_id": 1400971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825a9bf179b05302991fbbf9551355ac?s=128&d=identicon&r=PG", "display_name": "Ro Yo Mi", "link": "https://stackoverflow.com/users/1400971/ro-yo-mi"}, "is_accepted": false, "score": 1, "last_activity_date": 1463633656, "last_edit_date": 1592644375, "creation_date": 1463616033, "answer_id": 37311910, "question_id": 37311197, "link": "https://stackoverflow.com/questions/37311197/regex-in-python-3-match-everything-after-a-number-or-optional-period-but-before/37311910#37311910", "title": "Regex in Python 3: match everything after a number or optional period but before an optional comma", "body": "<h1>Description</h1>\n<p>I'd recommend the following regex to find and replace the substrings you not interested in. By having the unit of measurements spelled out this will also deal with unit of measures which are not abbreviated.</p>\n<p><code>\\s*(?:(?:(?:[0-9]\\s*)?[0-9]+\\/)?[0-9]+\\s*(?:(?:c\\.|cups?|tsp\\.|teaspoon|tbsp\\.|tablespoon)\\s*)?)|,.*|.*\\bor\\b</code></p>\n<p><img src=\"https://www.debuggex.com/i/39pRyumMhJd1Z_HV.png\" alt=\"Regular expression visualization\" /></p>\n<p><strong>Replace with:</strong>  nothing</p>\n<h1>Examples</h1>\n<p><strong>Live demo</strong></p>\n<p>Showing how the this will match</p>\n<p><a href=\"https://regex101.com/r/qV5iR8/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/qV5iR8/3</a></p>\n<p><strong>Sample string</strong></p>\n<p>Note the last line has the double ingredient separated by an <code>or</code>, according to the OP they'd like to eliminate the first ingredient.</p>\n<pre><code>1  medium tomato, cut into 8 wedges\n4  c. torn mixed salad greens\n1/2  small red onion, sliced and separated into rings\n1/4  small cucumber, sliced\n1 1/4  c. sliced pitted ripe olives\n2  Tbsp. reduced-calorie Italian salad dressing\n2  Tbsp. lemon juice\n1  Tbsp. water\n1/2  tsp. dried mint, crushed\n1/4  c. crumbled Feta cheese or 2 Tbsp. crumbled Blue cheese\n</code></pre>\n<p><strong>After Replacement</strong></p>\n<pre><code>medium tomato\ntorn mixed salad greens\nsmall red onion\nsmall cucumber\nsliced pitted ripe olives\nreduced-calorie Italian salad dressing\nlemon juice\nwater\ndried mint\ncrumbled Blue cheese\n</code></pre>\n<h1>Explanation</h1>\n<pre><code>NODE                     EXPLANATION\n----------------------------------------------------------------------\n  \\s*                      whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;) (0 or\n                           more times (matching the most amount\n                           possible))\n----------------------------------------------------------------------\n  (?:                      group, but do not capture:\n----------------------------------------------------------------------\n    (?:                      group, but do not capture (optional\n                             (matching the most amount possible)):\n----------------------------------------------------------------------\n      (?:                      group, but do not capture (optional\n                               (matching the most amount possible)):\n----------------------------------------------------------------------\n        [0-9]                    any character of: '0' to '9'\n----------------------------------------------------------------------\n        \\s*                      whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;)\n                                 (0 or more times (matching the most\n                                 amount possible))\n----------------------------------------------------------------------\n      )?                       end of grouping\n----------------------------------------------------------------------\n      [0-9]+                   any character of: '0' to '9' (1 or\n                               more times (matching the most amount\n                               possible))\n----------------------------------------------------------------------\n      \\/                       '/'\n----------------------------------------------------------------------\n    )?                       end of grouping\n----------------------------------------------------------------------\n    [0-9]+                   any character of: '0' to '9' (1 or more\n                             times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n    \\s*                      whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;) (0\n                             or more times (matching the most amount\n                             possible))\n----------------------------------------------------------------------\n    (?:                      group, but do not capture (optional\n                             (matching the most amount possible)):\n----------------------------------------------------------------------\n      (?:                      group, but do not capture:\n----------------------------------------------------------------------\n        c                        'c'\n----------------------------------------------------------------------\n        \\.                       '.'\n----------------------------------------------------------------------\n       |                        OR\n----------------------------------------------------------------------\n        cup                      'cup'\n----------------------------------------------------------------------\n        s?                       's' (optional (matching the most\n                                 amount possible))\n----------------------------------------------------------------------\n       |                        OR\n----------------------------------------------------------------------\n        tsp                      'tsp'\n----------------------------------------------------------------------\n        \\.                       '.'\n----------------------------------------------------------------------\n       |                        OR\n----------------------------------------------------------------------\n        teaspoon                 'teaspoon'\n----------------------------------------------------------------------\n       |                        OR\n----------------------------------------------------------------------\n        tbsp                     'tbsp'\n----------------------------------------------------------------------\n        \\.                       '.'\n----------------------------------------------------------------------\n       |                        OR\n----------------------------------------------------------------------\n        tablespoon               'tablespoon'\n----------------------------------------------------------------------\n      )                        end of grouping\n----------------------------------------------------------------------\n      \\s*                      whitespace (\\n, \\r, \\t, \\f, and &quot; &quot;)\n                               (0 or more times (matching the most\n                               amount possible))\n----------------------------------------------------------------------\n    )?                       end of grouping\n----------------------------------------------------------------------\n  )                        end of grouping\n----------------------------------------------------------------------\n |                        OR\n----------------------------------------------------------------------\n  ,                        ','\n----------------------------------------------------------------------\n  .*                       any character except \\n (0 or more times\n                           (matching the most amount possible))\n----------------------------------------------------------------------\n |                        OR\n----------------------------------------------------------------------\n  .*                       any character except \\n (0 or more times\n                           (matching the most amount possible))\n----------------------------------------------------------------------\n  \\b                       the boundary between a word char (\\w) and\n                           something that is not a word char\n----------------------------------------------------------------------\n  or                       'or'\n----------------------------------------------------------------------\n  \\b                       the boundary between a word char (\\w) and\n                           something that is not a word char\n----------------------------------------------------------------------\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6353361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30daa08fd658a6ebc30172461087cef0?s=128&d=identicon&r=PG&f=1", "display_name": "datooa", "link": "https://stackoverflow.com/users/6353361/datooa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 37311720, "answer_count": 3, "score": 3, "last_activity_date": 1463633656, "creation_date": 1463611024, "last_edit_date": 1463611503, "question_id": 37311197, "link": "https://stackoverflow.com/questions/37311197/regex-in-python-3-match-everything-after-a-number-or-optional-period-but-before", "title": "Regex in Python 3: match everything after a number or optional period but before an optional comma", "body": "<p>I'm trying to return ingredients from recipes without any measurements or directions. Ingredients are lists and appear like the following:</p>\n\n<pre><code>['1  medium tomato, cut into 8 wedges',\n '4  c. torn mixed salad greens',\n '1/2  small red onion, sliced and separated into rings',\n '1/4  small cucumber, sliced',\n '1/4  c. sliced pitted ripe olives',\n '2  Tbsp. reduced-calorie Italian salad dressing',\n '2  Tbsp. lemon juice',\n '1  Tbsp. water',\n '1/2  tsp. dried mint, crushed',\n '1/4  c. crumbled Feta cheese or 2 Tbsp. crumbled Blue cheese']\n</code></pre>\n\n<p>I want to return the following list:</p>\n\n<pre><code>['medium tomato',\n 'torn mixed salad greens',\n 'small red onion',\n 'small cucumber',\n 'sliced pitted ripe olives',\n 'reduced-calorie Italian salad dressing',\n 'lemon juice',\n 'water',\n 'dried mint',\n 'crumbled Blue cheese']\n</code></pre>\n\n<p>The closest pattern I've found is with:</p>\n\n<pre><code>pattern = '[\\s\\d\\.]* ([^\\,]+).*'\n</code></pre>\n\n<p>but in testing with:</p>\n\n<pre><code>for ing in ingredients:\n    print(re.findall(pattern, ing))\n</code></pre>\n\n<p>the periods after each measurement abbreviation are returned as well, e.g.:</p>\n\n<pre><code>['c. torn mixed salad greens']\n</code></pre>\n\n<p>while</p>\n\n<pre><code>pattern = '(?&lt;=\\. )[^.]*$'\n</code></pre>\n\n<p>fails to capture instances with no periods, and captures the comma if both appear, i.e.:</p>\n\n<pre><code>[]\n['torn mixed salad greens']\n[]\n[]\n['sliced pitted ripe olives']\n['reduced-calorie Italian salad dressing']\n['lemon juice']\n['water']\n['dried mint, crushed']\n['crumbled Blue cheese']\n</code></pre>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "xml", "django"], "answers": [{"tags": [], "owner": {"reputation": 789, "user_id": 4067801, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/86afbb2a83c6140cc19561e0a8336668?s=128&d=identicon&r=PG", "display_name": "user49438", "link": "https://stackoverflow.com/users/4067801/user49438"}, "is_accepted": true, "score": 3, "last_activity_date": 1463611093, "creation_date": 1463611093, "answer_id": 37311205, "question_id": 37311172, "link": "https://stackoverflow.com/questions/37311172/django-sending-xml-requests-at-the-same-time/37311205#37311205", "title": "Django sending xml requests at the same time", "body": "<p>You might want to consider using PycURL or Twisted. These should have the asynchronous capabilities you're looking for. </p>\n"}], "owner": {"reputation": 1842, "user_id": 4592608, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/9hXR4.jpg?s=128&g=1", "display_name": "Zagorodniy Olexiy", "link": "https://stackoverflow.com/users/4592608/zagorodniy-olexiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1463648528, "accepted_answer_id": 37311205, "answer_count": 1, "score": 1, "last_activity_date": 1463611093, "creation_date": 1463610793, "question_id": 37311172, "link": "https://stackoverflow.com/questions/37311172/django-sending-xml-requests-at-the-same-time", "closed_reason": "Not suitable for this site", "title": "Django sending xml requests at the same time", "body": "<p>Using the form i create several strings that looks like xml data. One part of this strings i need to send on several servers using <code>urllib</code> and another part, on soap server, then i use <code>suds</code> library. When i receive the respond, i need to compare all of this data and show it to user. The sum of these server is nine and quantity of servers can grow. When i make this requests successively, it takes lot of time. According to this i have a question, is there some python library that can make different requests at the same time? Thank you for answer.</p>\n"}, {"tags": ["python", "selenium", "firefox"], "answers": [{"tags": [], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "is_accepted": true, "score": 1, "last_activity_date": 1463611005, "creation_date": 1463611005, "answer_id": 37311194, "question_id": 37311157, "link": "https://stackoverflow.com/questions/37311157/milonic-menu-element-is-not-clickable-at-point-other-element-would-receive-the/37311194#37311194", "title": "Milonic Menu: Element is not clickable at point. Other element would receive the click", "body": "<p>The solution is to use <a href=\"http://selenium-python.readthedocs.io/api.html?highlight=WebElement#module-selenium.webdriver.common.action_chains\" rel=\"nofollow\">ActionChains</a> to move the mouse over the menu entry but click on the <a href=\"https://www.milonic.com/\" rel=\"nofollow\">Milonic</a> link:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.action_chains import ActionChains\n\ndriver = webdriver.Firefox()\nexample_menu = driver.find_element_by_id('m_example')\nexample_menu.click()\n# Wait for the \"Example Choice\" choice to appear\nchoice_present = expected_conditions.presence_of_element_located((By.LINK_TEXT, 'Example Choice'))\nWebDriverWait(driver, 5).until(choice_present)\n# Use an action chain to move to the \"Example Choice\" but click on the\n# Milonic menu link\nexample_choice = driver.find_element_by_link_text('Example Choice')\nmmlink1 = driver.find_element_by_id('mmlink1')\naction_chain = ActionChains(driver)\naction_chain.move_to_element(example_choice)\naction_chain.click(mmlink1)\naction_chain.perform()\n</code></pre>\n"}], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 1, "accepted_answer_id": 37311194, "answer_count": 1, "score": 1, "last_activity_date": 1463690159, "creation_date": 1463610691, "last_edit_date": 1463690159, "question_id": 37311157, "link": "https://stackoverflow.com/questions/37311157/milonic-menu-element-is-not-clickable-at-point-other-element-would-receive-the", "title": "Milonic Menu: Element is not clickable at point. Other element would receive the click", "body": "<p>I am trying to automate the selection of an item in a <a href=\"https://www.milonic.com/\" rel=\"nofollow\">Milonic</a> menu. I am using code like this:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium.webdriver.common.by import By\n\ndriver = webdriver.Firefox()\nexample_menu = driver.find_element_by_id('m_example')\nexample_menu.click()\n# Wait for the \"Example Choice\" choice to appear\nchoice_present = expected_conditions.presence_of_element_located((By.LINK_TEXT, 'Example Choice'))\nWebDriverWait(driver, 5).until(choice_present)\n# Click on \"Example Choice\"\nexample_choice = driver.find_element_by_link_text('Example Choice')\nexample_choice.click()\n</code></pre>\n\n<p>However, a WebDriverException is raised with a message like this:</p>\n\n<pre><code>Element is not clickable at point (236, 44). Other element would receive the click\n</code></pre>\n"}, {"tags": ["python", "cython"], "answers": [{"comments": [{"owner": {"reputation": 2339, "user_id": 4979733, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-x2WgsC4Euv8/AAAAAAAAAAI/AAAAAAAAAAA/JGqytYIG2kI/photo.jpg?sz=128", "display_name": "user4979733", "link": "https://stackoverflow.com/users/4979733/user4979733"}, "edited": false, "score": 0, "creation_date": 1463614180, "post_id": 37311466, "comment_id": 62144174, "body": "Thanks. It makes sense."}], "tags": [], "owner": {"reputation": 5662, "user_id": 5781248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712de4f2f811d1a400d3311c9cdd5836?s=128&d=identicon&r=PG&f=1", "display_name": "J.J. Hakala", "link": "https://stackoverflow.com/users/5781248/j-j-hakala"}, "is_accepted": true, "score": 1, "last_activity_date": 1463612780, "creation_date": 1463612780, "answer_id": 37311466, "question_id": 37311052, "link": "https://stackoverflow.com/questions/37311052/cython-memory-ownership-issue-between-python-c-when-storing-pointers/37311466#37311466", "title": "Cython: Memory ownership issue between Python/C++ when storing pointers", "body": "<p>When you do</p>\n\n<pre><code>a.add_bridged_net(x)\n</code></pre>\n\n<p>a reference to <code>x</code> is not stored, only a pointer to a <code>NetInfo</code> instance is added to the vector. Since python object <code>x</code> is not referenced, <code>x</code> will be deallocated and consequently the corresponding pointer to C++ <code>NetInfo</code> instance i.e. there will be a pointer in the vector that points to a deallocated object.</p>\n"}, {"tags": [], "owner": {"reputation": 2339, "user_id": 4979733, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-x2WgsC4Euv8/AAAAAAAAAAI/AAAAAAAAAAA/JGqytYIG2kI/photo.jpg?sz=128", "display_name": "user4979733", "link": "https://stackoverflow.com/users/4979733/user4979733"}, "is_accepted": false, "score": 2, "last_activity_date": 1463614156, "creation_date": 1463614156, "answer_id": 37311664, "question_id": 37311052, "link": "https://stackoverflow.com/questions/37311052/cython-memory-ownership-issue-between-python-c-when-storing-pointers/37311664#37311664", "title": "Cython: Memory ownership issue between Python/C++ when storing pointers", "body": "<p>I was able to solve this issue using shared pointers (let it do all the dirty work of managing). The only hassle is now need to use a lot of deref(self.thisptr) everywhere in Cython to call the C++ get/set methods :).</p>\n\n<p>C++ change:</p>\n\n<pre><code>class NetInfo\ntypedef std::shared_ptr&lt;NetInfo&gt; NetInfoShPtr;\n\nclass NetInfo {\npublic:\n    NetInfo();\n    NetInfo(NetInfo const&amp; rhs);\n    virtual ~NetInfo();\n    ...\n    std::vector&lt;NetInfoShPtr&gt; getBridgedNets() const;\n    void addBridgedNet(NetInfoShPtr const&amp; ni);  \nprotected:\n      NetInfoData* data_;\n};\n</code></pre>\n\n<p>Cython change:</p>\n\n<pre><code>from cython.operator cimport dereference as deref\nfrom libcpp.vector cimport vector\nfrom libcpp.memory cimport shared_ptr\n\ncdef extern from 'NetInfo.h':\n    ctypedef shared_ptr[NetInfo] NetInfoShPtr\n\n    cdef cppclass NetInfo:\n        NetInfo() except +\n        NetInfo(NetInfo&amp;) except +\n        ...\n        vector[NetInfoShPtr] getBridgedNets()\n        void                 addBridgedNet(NetInfoShPtr&amp;)\n\ncdef class PyNetInfo:\n    cdef NetInfoShPtr thisptr\n\n    def __cinit__(self, PyNetInfo ni=None):\n        if ni is not None:\n            self.thisptr = NetInfoShPtr(new NetInfo(deref(ni.thisptr)))\n        else:\n            self.thisptr = new NetInfoShPtr(new NetInfo())\n    def __dealloc__(self):\n        self.thisptr.reset()   # no del, reset the shared pointer\n    ...\n    def get_bridged_nets(self):\n        cdef PyNetInfo r\n        cdef NetInfoShPtr n\n        cdef vector[NetInfoShPtr] nets = deref(self.thisptr).getBridgedNets()   # Must derefence\n\n        result = []\n        for n in nets:\n            r = PyNetInfo.__new__(PyNetInfo)\n            r.thisptr = n\n            result.append(r)\n        return result\n\n    def add_bridged_net(self, PyNetInfo ni):\n        deref(self.thisptr).addBridgedNet(ni.thisptr)  # Must dereference\n</code></pre>\n"}], "owner": {"reputation": 2339, "user_id": 4979733, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-x2WgsC4Euv8/AAAAAAAAAAI/AAAAAAAAAAA/JGqytYIG2kI/photo.jpg?sz=128", "display_name": "user4979733", "link": "https://stackoverflow.com/users/4979733/user4979733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "accepted_answer_id": 37311466, "answer_count": 2, "score": 2, "last_activity_date": 1463614156, "creation_date": 1463610119, "question_id": 37311052, "link": "https://stackoverflow.com/questions/37311052/cython-memory-ownership-issue-between-python-c-when-storing-pointers", "title": "Cython: Memory ownership issue between Python/C++ when storing pointers", "body": "<p>I'm having a memory ownership issue between Python/C++ code using Cython. I'm not sure what is the best way to address this. So I appreciate any help.</p>\n\n<p>My strategy is as follows:</p>\n\n<ol>\n<li>Create a C++ NetInfo data structure with get/set members.</li>\n<li>Populate this data structure in Python (the data is parsed from files and SqLiteDB lookup is done). Thus, I need to cythonize NetInfo.</li>\n<li>Pass the NetInfo objects into C++ 'processing' routines to operate on them. These will also be cythonized.</li>\n</ol>\n\n<p>For a NetInfo object, I need to store pointers to other NetInfo objects to indicate interaction between two objects.</p>\n\n<p>My (relevant) C++ code is as follows:</p>\n\n<pre><code>struct NetInfoData;\nclass NetInfo {\npublic:\n    NetInfo();\n    NetInfo(NetInfo const&amp; rhs);\n    virtual ~NetInfo();\n    ...\n    std::vector&lt;NetInfo*&gt; getBridgedNets() const;\n    void addBridgedNet(NetInfo const* ni);  \nprotected:\n      NetInfoData* data_;\n};\nstruct NetInfoData\n{\n     std::string name;\n     ...\n     std::vector&lt;NetInfo*&gt;  bridged_nets; &lt;-- NOTE: Storing pointers.\n};\nNetInfo::NetInfo()\n    : data_(0)\n{\n    std::cout &lt;&lt; \"Constructor \" &lt;&lt; this &lt;&lt; std::endl;\n    data_ = new NetInfoData();\n}\nNetInfo::~NetInfo()\n{\n    std::cout &lt;&lt; \"Destructor \" &lt;&lt; this &lt;&lt; std::endl;\n    delete data_;\n}\nNetInfo::NetInfo(NetInfo const&amp; rhs)\n    : data_(0)\n{\n    std::cout &lt;&lt; \"Copy constructor \" &lt;&lt; this &lt;&lt; std::endl;\n    data_ = new NetInfoData();\n    data_-&gt;name = rhs.data_-&gt;name;\n    ...\n    data_-&gt;bridged_nets = rhs.data_-&gt;bridged_nets;\n}\nstd::vector&lt;NetInfo*&gt;\nNetInfo::getBridgedNets() const\n{\n    return data_-&gt;bridged_nets;\n}\n\nvoid\nNetInfo::addBridgedNet(NetInfo* n)\n{\n    data_-&gt;bridged_nets.push_back(n);\n}\n</code></pre>\n\n<p>My (relevant) Cython code is as follows. It compiles/works OK.</p>\n\n<pre><code>from cython.operator cimport dereference as deref\nfrom libcpp.vector cimport vector\n\ncdef extern from 'NetInfo.h':\n    cdef cppclass NetInfo:\n        NetInfo() except +\n        NetInfo(NetInfo&amp;) except +\n        ...\n        vector[NetInfo*] getBridgedNets()\n        void             addBridgedNet(NetInfo*)\n\ncdef class PyNetInfo:\n    cdef NetInfo* thisptr\n\n    def __cinit__(self, PyNetInfo ni=None):\n        if ni is not None:\n            self.thisptr = new NetInfo(deref(ni.thisptr))\n        else:\n            self.thisptr = new NetInfo()\n    def __dealloc__(self):\n        del self.thisptr\n    ...\n    def get_bridged_nets(self):\n        cdef PyNetInfo r\n        cdef NetInfo* n\n        cdef vector[NetInfo*] nets = self.thisptr.getBridgedNets()\n\n        result = []\n        for n in nets:\n            r = PyNetInfo.__new__(PyNetInfo)\n            r.thisptr = n\n            result.append(r)\n        return result\n\n    def add_bridged_net(self, PyNetInfo ni):\n        self.thisptr.addBridgedNet(ni.thisptr)\n</code></pre>\n\n<p>Now my Python pseudo-code is as follows:</p>\n\n<pre><code>import PyNetInfo as NetInfo\n\na = NetInfo()               # Create a\nUpdate data members of a    # Populate a\n\ntmp = NetInfo(a)     # Call copy constructor of a\nfor n in xrange(5):  # a interacts with five other NetInfo objects so create and call them to a via add_bridged_net() \n   x = NetInfo(tmp)  # Call copy constructor to make copy of tmp (not a!!)\n   Update data members of x\n\n   a.add_bridged_net(x)   # Store pointer to x in a (a is updated!)\n</code></pre>\n\n<p>The offending piece of code is <strong>x = NetInfo(tmp)</strong>. On the <strong>2nd iteration</strong>, the old memory assigned to x will be released as x is now pointing to a a new object. This will cause a to contain an invalid pointer now.</p>\n\n<p>Sample run :</p>\n\n<pre><code>create a\nConstructor 0x101ecd0\n\ncreate tmp\nCopy constructor 0xd71d30\n\ncreate bridge x\nCopy constructor 0xd71bb0\nadd bridged net:  \n\ncreate bridge x\nCopy constructor 0xc9f740\nDestructor 0xd71bb0   &lt;--- Destructor on old x is called due to reassignment which causes a to contain an invalid pointer (hence, eventually segfault)\nadd bridged net:\n</code></pre>\n\n<p>I'm not totally sure how to manage the memory to fix this. Can anyone help?</p>\n\n<p>I'm thinking maybe using shared pointers? So in my C++ code, I say</p>\n\n<pre><code>typedef std::shared_ptr&lt;NetInfo&gt; NetInfoShPtr;\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>std::vector&lt;NetInfo*&gt; bridged_nets -&gt; std::vector&lt;NetInfoShPtr&gt; bridged_nets;\n</code></pre>\n\n<p>But then I'm not sure what to do on the cython side of things. Will this work or there is some other (easier?) way? Thanks for any ideas.</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 3, "last_activity_date": 1463610084, "creation_date": 1463610084, "answer_id": 37311048, "question_id": 37311018, "link": "https://stackoverflow.com/questions/37311018/selenium-python-auto-click/37311048#37311048", "title": "Selenium python auto click", "body": "<p>There are <em>multiple submit buttons</em> on the page. Make a more specific locator:</p>\n\n<pre><code>action = driver.find_element_by_css_selector(\"#formpridani input[type=submit]\")\nactions.click()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6038353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ac23a5d2454ded7d874f3af3a237d4?s=128&d=identicon&r=PG&f=1", "display_name": "Rtiksvk", "link": "https://stackoverflow.com/users/6038353/rtiksvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1463610115, "creation_date": 1463609941, "last_edit_date": 1463610115, "question_id": 37311018, "link": "https://stackoverflow.com/questions/37311018/selenium-python-auto-click", "title": "Selenium python auto click", "body": "<p>Hi guys I have some trouble.\nWhen I use this on autoclick : </p>\n\n<pre><code>action=driver.find_element_by_css_selector(\"input[type='submit']\")\naction.click() or action.submit()\n</code></pre>\n\n<p>It is tested on advert site. Copy of site looks like <a href=\"http://test.usbsvet.sk/bazos.html\" rel=\"nofollow\">this</a> </p>\n\n<p>Submit button name is \"Odosla\u0165\".</p>\n\n<p>So what is my problem. When script write in python automatically click on submit/\"Odosla\u0165\" it's passed by no advert will be added on web ,but when I click manual it's passed and advert will be added on web. I dont know where is problem. </p>\n"}, {"tags": ["python", "lmdb"], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 332289, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08eec793861216d3697fae8520af05a0?s=128&d=identicon&r=PG", "display_name": "arash", "link": "https://stackoverflow.com/users/332289/arash"}, "edited": false, "score": 0, "creation_date": 1463614933, "post_id": 37311228, "comment_id": 62144334, "body": "This is the error log:  slurmstepd: Job 1008515 exceeded memory limit (65537464 &gt; 65536000), being killed slurmstepd: *** JOB 1008515 ON mmm269 CANCELLED AT 2016-05-18T15:09:41 *** slurmstepd: Exceeded step memory limit at some point. slurmstepd: Exceeded job memory limit  this thime I allocated 64 GB of ram, but again it happened.  the total size of my DB is 596 GB."}], "tags": [], "owner": {"reputation": 4726, "user_id": 323751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e0188151b812fb05b361bc136ae2732?s=128&d=identicon&r=PG", "display_name": "gonz", "link": "https://stackoverflow.com/users/323751/gonz"}, "is_accepted": false, "score": 0, "last_activity_date": 1463611243, "creation_date": 1463611243, "answer_id": 37311228, "question_id": 37311009, "link": "https://stackoverflow.com/questions/37311009/python-lmdb-large-dbs-memory-limit-error/37311228#37311228", "title": "python LMDB large DBs (Memory Limit Error)", "body": "<p>The error trace could help. I'd check out the <code>map_size</code> param. From the <a href=\"http://lmdb.readthedocs.io/en/release/#environment-class\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>Maximum size database may grow to; used to size the memory mapping. If database grows larger than map_size, an exception will be raised and the user must close and reopen Environment. On 64-bit there is no penalty for making this huge (say 1TB). Must be &lt;2GB on 32-bit.</p>\n</blockquote>\n\n<p>This would be an example when writing:</p>\n\n<pre><code>with lmdb.open(LMDB_DIR, map_size=LMDB_MAX_SIZE) as env:\n    with env.begin(write=True) as txn:\n        return txn.put(mykey, value)\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 332289, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/08eec793861216d3697fae8520af05a0?s=128&d=identicon&r=PG", "display_name": "arash", "link": "https://stackoverflow.com/users/332289/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1463611243, "creation_date": 1463609879, "question_id": 37311009, "link": "https://stackoverflow.com/questions/37311009/python-lmdb-large-dbs-memory-limit-error", "title": "python LMDB large DBs (Memory Limit Error)", "body": "<p>I have a large lmdb, about 800K images.\nI want to just read the entries one by one.\nMy code is very simple and looks like this:</p>\n\n<pre><code>with env.begin() as txn:\ncursor = txn.cursor()\nfor key, value in cursor:\n    print(key)\n</code></pre>\n\n<p>But after reading about 70000 entries it runs out of memory (~10GB).\nI have no idea why.\nI tried to do like below but it didn't work.</p>\n\n<pre><code>for r in range(0,env.stat()['entries']):\nif r%10000==0:\n    if r!=0:\n        txn.commit()\n        cur.close()\n    txn=env.begin()\n    cur = txn.cursor()\n    print(\"Change Change Change \"+ str(r))\n    sys.stdout.flush()\n    if r==0:\n        cur.first()\n    else:\n        cur.set_range(key)\n        cur.next()\nkey, value = cur.item()\n</code></pre>\n\n<p>any suggestion?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6246005"}, "edited": false, "score": 0, "creation_date": 1463610069, "post_id": 37310994, "comment_id": 62143028, "body": "What error are you getting?"}, {"owner": {"reputation": 2541, "user_id": 4231472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/E2JOk.jpg?s=128&g=1", "display_name": "Bg1850", "link": "https://stackoverflow.com/users/4231472/bg1850"}, "edited": false, "score": 0, "creation_date": 1463610247, "post_id": 37310994, "comment_id": 62143099, "body": "<code>ship_guess=str(input(&quot;\\n\\nGuess a square (from A1 to E5)!: &quot;))</code> input gives string already in python 2.x"}, {"owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "edited": false, "score": 0, "creation_date": 1463610476, "post_id": 37310994, "comment_id": 62143183, "body": "Simplify, <code>actual_board = [&#39;&#39;.join([i, str(j)]) for i, j in itertools.izip([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;], range(1, 6))]</code>, <code>[&#39;A1&#39;, &#39;B2&#39;, &#39;C3&#39;, &#39;D4&#39;, &#39;E5&#39;]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8286, "user_id": 533037, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f711473fb27cd269ba5ad2064c15dcd3?s=128&d=identicon&r=PG", "display_name": "solidpixel", "link": "https://stackoverflow.com/users/533037/solidpixel"}, "is_accepted": true, "score": 5, "last_activity_date": 1463610033, "creation_date": 1463610033, "answer_id": 37311040, "question_id": 37310994, "link": "https://stackoverflow.com/questions/37310994/if-x-in-list-doesnt-seem-to-be-working/37311040#37311040", "title": "if x in list doesn&#39;t seem to be working", "body": "<p>You're wrapping each entry in your board lists in a second list, rather than writing a string directly. e.g.</p>\n\n<pre><code>letters = []\nletters.append([\" \"])\n</code></pre>\n\n<p>So, try:</p>\n\n<pre><code>letters = []\nletters.append(\" \")\n</code></pre>\n\n<p>... etc.</p>\n\n<p><code>\"A\"</code> and <code>[\"A\"]</code> are not the same thing, so your \"in\" test won't match.</p>\n"}], "owner": {"reputation": 11, "user_id": 6353345, "user_type": "registered", "profile_image": "https://graph.facebook.com/1112838395404004/picture?type=large", "display_name": "Ser Aviel Raclaw", "link": "https://stackoverflow.com/users/6353345/ser-aviel-raclaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 37311040, "answer_count": 1, "score": 0, "last_activity_date": 1463610033, "creation_date": 1463609799, "question_id": 37310994, "link": "https://stackoverflow.com/questions/37310994/if-x-in-list-doesnt-seem-to-be-working", "title": "if x in list doesn&#39;t seem to be working", "body": "<p>I am trying to build sort of a 1-player-battleship game in python, and when I run the code I have so far in IDLE, it prints out \"Error in input\" every time no matter what I input, and stays in the while loop. I have no idea what the issue is.\nHere is the code: </p>\n\n<pre><code>from random import randint\n\ndef five_die(): #function 5 sided die\n    return str(randint(1,5))\n\ndef print_board(board):  #function to print board\n    letters = []\n    letters.append([\" \"])\n    letters.append([\"A\"])\n    letters.append([\"B\"])\n    letters.append([\"C\"])\n    letters.append([\"D\"])\n    letters.append([\"E\"])\n    for i in letters:\n        print(i, end=\" \")\n    print(\"\\n\")\n    for i in range(1,31):\n        print (board[i-1],end=\" \")\n        if i % 6== 0:\n            print(\"\\n\")\n\n\nvisual_board = [] #creating the board\nfor num in range(30):\n    if num % 5 == 0:\n        visual_board.append([str(num//5+1)])\n    visual_board.append([\"O\"])\n\n\nprint_board(visual_board) #calling print_board function\n\nactual_board = [] #creating the \"actual board\"\nfor num in range(1,6):\n    actual_board.append([\"A\"+str(num)])\n    actual_board.append([\"B\"+str(num)])\n    actual_board.append([\"C\"+str(num)])\n    actual_board.append([\"D\"+str(num)])\n    actual_board.append([\"E\"+str(num)])\n\ncolumn = five_die() #placing ship\nrow = five_die()\nif column==\"1\":\n    column=\"A\"\nelif column==\"2\":\n    column=\"B\"\nelif column==\"3\":\n    column=\"C\"\nelif column==\"4\":\n    column=\"D\"\nelse:\n    column=\"E\"\nship=column+row\n\nbreaker = 1 #getting user guess and checking validity\nwhile breaker == 1:\n    ship_guess=str(input(\"\\n\\nGuess a square (from A1 to E5)!: \"))\n    ship_guess=ship_guess.upper()\n    if ship_guess in actual_board:\n        breaker=2\n    else:\n        print (\"Error in input!\")\n</code></pre>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["python", "socket.io"], "comments": [{"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463610315, "post_id": 37310972, "comment_id": 62143122, "body": "It doesn&#39;t look like you&#39;ve established a connection with socketIO so I would fix that before worrying about the cookies and headers. Do you agree? I see Python repeatedly trying to connect but not being able to."}, {"owner": {"reputation": 73, "user_id": 6353199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba4641b226910044e686f89f8a3685?s=128&d=identicon&r=PG&f=1", "display_name": "WaterSports", "link": "https://stackoverflow.com/users/6353199/watersports"}, "reply_to_user": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463610972, "post_id": 37310972, "comment_id": 62143322, "body": "I&#39;m using the example code like in <a href=\"https://pypi.python.org/pypi/socketIO-client\" rel=\"nofollow noreferrer\">usage examples of the developer</a>, but even with all of the examples there, it&#39;s repeating the same new https connection everytime"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6353199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba4641b226910044e686f89f8a3685?s=128&d=identicon&r=PG&f=1", "display_name": "WaterSports", "link": "https://stackoverflow.com/users/6353199/watersports"}, "edited": false, "score": 1, "creation_date": 1463613789, "post_id": 37311150, "comment_id": 62144097, "body": "works thank you, I tried it before but without logging on debug level, so I didn&#39;t receive the HTTP/1.1&quot; 400 None message which is apparently based on the protocol version, but it can establish the connection now"}], "tags": [], "owner": {"reputation": 2393, "user_id": 3103677, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3753239f21e4f964ace455224a7c2b07?s=128&d=identicon&r=PG&f=1", "display_name": "sebenalern", "link": "https://stackoverflow.com/users/3103677/sebenalern"}, "is_accepted": true, "score": 3, "last_activity_date": 1463616917, "last_edit_date": 1463616917, "creation_date": 1463610675, "answer_id": 37311150, "question_id": 37310972, "link": "https://stackoverflow.com/questions/37310972/socketio-client-cant-connect-to-server/37311150#37311150", "title": "socketIO-client can&#39;t connect to server", "body": "<p>I believe the problem is you are specifying an https address when using port 80. Port 80 is for http and port 443 is for https.</p>\n\n<p>Here is part of the line of code you should change.</p>\n\n<pre><code>'https://beta.glws.org', 80,\n</code></pre>\n\n<p><strong>You can either use the http protocol for the address and port 80 or you can change the port to 443 and leave the address the same.</strong></p>\n"}], "owner": {"reputation": 73, "user_id": 6353199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba4641b226910044e686f89f8a3685?s=128&d=identicon&r=PG&f=1", "display_name": "WaterSports", "link": "https://stackoverflow.com/users/6353199/watersports"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 37311150, "answer_count": 1, "score": 4, "last_activity_date": 1463616917, "creation_date": 1463609676, "last_edit_date": 1463610162, "question_id": 37310972, "link": "https://stackoverflow.com/questions/37310972/socketio-client-cant-connect-to-server", "title": "socketIO-client can&#39;t connect to server", "body": "<p>I'm currently trying to connect to the socketIO server like in this JavaScript:</p>\n\n<pre><code>var socket = io('https://beta.glws.org')\n</code></pre>\n\n<p>This is the Python part which isn't working:</p>\n\n<pre><code>from socketIO_client import SocketIO, BaseNamespace\n\ns = SocketIO('https://beta.glws.org', 80,\n             verify=False,\n             headers={'Sec-WebSocket-Key': 'BtvJh6zvB4ILSo0sqIOntQ=='},\n             cookies={'io': 'SCdIBbDOGDXhUBOZAkhM',\n                      'gat': '1',\n                      'ga': 'GA1.2.1442748168.1463601401'\n                      },\n             )\n</code></pre>\n\n<p>The cookies and headers are dumped from debug from the working site, but the result is the same as without them.</p>\n\n<p>Result with logging on debug level:</p>\n\n<pre><code>INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): beta.glws.org\nWARNING:root:beta.glws.org:80/socket.io [waiting for connection] [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:590)\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (2): beta.glws.org\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (3): beta.glws.org\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (4): beta.glws.org\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (5): beta.glws.org\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (6): beta.glws.org\nINFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (7): beta.glws.org\n</code></pre>\n\n<p>What am I doing wrong? Why is it starting so many new https connections?</p>\n"}, {"tags": ["python", "python-2.7", "date"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 6, "last_activity_date": 1463614342, "last_edit_date": 1463614342, "creation_date": 1463609516, "answer_id": 37310942, "question_id": 37310920, "link": "https://stackoverflow.com/questions/37310920/python-convert-date-string-to-timestamp/37310942#37310942", "title": "Python convert date string to timestamp", "body": "<blockquote>\n  <p>But I don't want to specify the format for the date type.</p>\n</blockquote>\n\n<p>Then, let the <a href=\"https://labix.org/python-dateutil\" rel=\"nofollow noreferrer\"><code>dateutil</code></a> parser figure that out:</p>\n\n<pre><code>&gt;&gt;&gt; from dateutil.parser import parse\n&gt;&gt;&gt; parse(\"Wed, 18 May 2016 11:21:35 GMT\")\ndatetime.datetime(2016, 5, 18, 11, 21, 35, tzinfo=tzutc())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 1, "last_activity_date": 1463611758, "last_edit_date": 1495541763, "creation_date": 1463611758, "answer_id": 37311304, "question_id": 37310920, "link": "https://stackoverflow.com/questions/37310920/python-convert-date-string-to-timestamp/37311304#37311304", "title": "Python convert date string to timestamp", "body": "<p>To parse rfc 822 time string that is used in email, http, and other internet protocols, you could use <code>email</code> stdlib module:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom email.utils import parsedate_tz, mktime_tz\n\ntimestamp = mktime_tz(parsedate_tz(\"Wed, 18 May 2016 11:21:35 GMT\"))\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/26435530/4279\">Converting string to datetime object</a>.</p>\n"}], "owner": {"reputation": 383, "user_id": 3219930, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f1e2e7d27dffae52eae799bfb4d05438?s=128&d=identicon&r=PG&f=1", "display_name": "maikelm", "link": "https://stackoverflow.com/users/3219930/maikelm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1717, "favorite_count": 2, "accepted_answer_id": 37310942, "answer_count": 2, "score": 1, "last_activity_date": 1463614342, "creation_date": 1463609385, "last_edit_date": 1463612826, "question_id": 37310920, "link": "https://stackoverflow.com/questions/37310920/python-convert-date-string-to-timestamp", "title": "Python convert date string to timestamp", "body": "<p>I need to convert string type <em>Wed, 18 May 2016 11:21:35 GMT</em> to timestamp, in Python. I'm using:</p>\n\n<pre><code>datetime.datetime.strptime(string, format)\n</code></pre>\n\n<p>But I don't want to specify the format for the date type.</p>\n"}, {"tags": ["python", "arrays", "string", "string-comparison", "set-intersection"], "comments": [{"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1463609334, "post_id": 37310884, "comment_id": 62142770, "body": "you split on spaces, there are n ospaces in d_word, what do you expect?"}, {"owner": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1463609506, "post_id": 37310884, "comment_id": 62142829, "body": "Ops, you&#39;re right. I think I won&#39;t be able to accomplish my task in this way, maybe I have to try with regex. What do you think?"}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1463609836, "post_id": 37310884, "comment_id": 62142949, "body": "regex, or some more advanced word separation methods from NLP"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1463610222, "post_id": 37310884, "comment_id": 62143087, "body": "If one of the strings will always be properly delimited (e.g. with spaces), you could use <code>sum(word in s1 for word in s2.split(&quot; &quot;))</code>, doing substring tests. That could perhaps lead to false positives if things like <code>the</code> match words like <code>these</code>, but that&#39;s probably impossible to avoid if you want your code to match the example strings you&#39;ve given."}], "answers": [{"tags": [], "owner": {"reputation": 370, "user_id": 3935008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/814843ca8c754fc25926d6c8c9159cf1?s=128&d=identicon&r=PG&f=1", "display_name": "loshad vtapkah", "link": "https://stackoverflow.com/users/3935008/loshad-vtapkah"}, "is_accepted": false, "score": 0, "last_activity_date": 1463609511, "creation_date": 1463609511, "answer_id": 37310940, "question_id": 37310884, "link": "https://stackoverflow.com/questions/37310884/check-intersection-between-two-strings-in-python/37310940#37310940", "title": "Check intersection between two strings in python", "body": "<p>Set one contains single string, set two 3 strings, and string <code>\"BANGKOKThailand\"</code> is not equal to the string <code>\"BANGKOK\"</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "edited": false, "score": 0, "creation_date": 1463609604, "post_id": 37310944, "comment_id": 62142858, "body": "I fixed the first one, but unfortunately &quot;BANGKOKThailand&quot; has no space (I have to take it as it is, it&#39;s defined in a txt file I&#39;m trying to analize)"}, {"owner": {"reputation": 1, "user_id": 4712465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9314f8b4256b272ed6b9b8c67296e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4712465/rafael"}, "reply_to_user": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "edited": false, "score": 0, "creation_date": 1463609713, "post_id": 37310944, "comment_id": 62142891, "body": "I can see you fixed the word_array variable too, so happy to see it working now!"}, {"owner": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "edited": false, "score": 0, "creation_date": 1463609782, "post_id": 37310944, "comment_id": 62142926, "body": "Unfortunately it&#39;s not working, I cannot add the whitespace. This is an automatic algorithm for text processing and this is a particular case I should cover :("}, {"owner": {"reputation": 1, "user_id": 4712465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9314f8b4256b272ed6b9b8c67296e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4712465/rafael"}, "reply_to_user": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "edited": false, "score": 0, "creation_date": 1463610199, "post_id": 37310944, "comment_id": 62143084, "body": "Not sure about NLP, but if nlp_word is always separated by whitespaces, although d_word isn&#39;t; you could use KMP to loop over each word in nlp_word and search into d_word, keeping those parts that match in both sides and ignoring them for succesive tries."}], "tags": [], "owner": {"reputation": 1, "user_id": 4712465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9314f8b4256b272ed6b9b8c67296e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4712465/rafael"}, "is_accepted": false, "score": 0, "last_activity_date": 1463609521, "creation_date": 1463609521, "answer_id": 37310944, "question_id": 37310884, "link": "https://stackoverflow.com/questions/37310884/check-intersection-between-two-strings-in-python/37310944#37310944", "title": "Check intersection between two strings in python", "body": "<p>I can see two might-be mistakes:</p>\n\n<pre><code>n_of_words = len(array)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>n_of_words = len(word_array)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>d_word = \"BANGKOKThailand\"\n</code></pre>\n\n<p>is missing a space in-between as</p>\n\n<pre><code>\"BANGKOK Thailand\"\n</code></pre>\n\n<p>Fixing those two changes gave me a result of 1.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 3537077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e2e12ad483d4230a5eef3733880862?s=128&d=identicon&r=PG&f=1", "display_name": "kklepper", "link": "https://stackoverflow.com/users/3537077/kklepper"}, "is_accepted": false, "score": 1, "last_activity_date": 1555004905, "creation_date": 1555004905, "answer_id": 55638470, "question_id": 37310884, "link": "https://stackoverflow.com/questions/37310884/check-intersection-between-two-strings-in-python/55638470#55638470", "title": "Check intersection between two strings in python", "body": "<p>I was looking for the maximum common part of 2 strings no matter where this part would be. </p>\n\n<pre><code>def get_intersection(s1, s2): \n    res = ''\n    l_s1 = len(s1)\n    for i in range(l_s1):\n        for j in range(i + 1, l_s1):\n            t = s1[i:j]\n            if t in s2 and len(t) &gt; len(res):\n                res = t\n    return res\n#get_intersection(s1, s2)\n</code></pre>\n\n<p>Works for this example as well:</p>\n\n<pre><code>&gt;&gt;&gt; s1 = \"BANGKOKThailand\"\n&gt;&gt;&gt; s2 = \"Despite Concerns BANGKOK\"\n&gt;&gt;&gt; get_intersection('aa' + s1 + 'bb', 'cc' + s2 + 'dd')\n'BANGKOK'\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 1466854, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d18bea5d7b5cdfd30b90d6b336857b5a?s=128&d=identicon&r=PG&f=1", "display_name": "JJack_", "link": "https://stackoverflow.com/users/1466854/jjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1555004905, "creation_date": 1463609203, "last_edit_date": 1463609550, "question_id": 37310884, "link": "https://stackoverflow.com/questions/37310884/check-intersection-between-two-strings-in-python", "title": "Check intersection between two strings in python", "body": "<p>I'm trying to check intersection between two strings using Python.\nI defined this function:</p>\n\n<pre><code>def check(s1,s2):\n    word_array = set.intersection(set(s1.split(\" \")), set(s2.split(\" \")))\n    n_of_words = len(word_array)\n    return n_of_words\n</code></pre>\n\n<p>It works with some sample string, but in this specific case: </p>\n\n<pre><code>d_word = \"BANGKOKThailand\"\nnlp_word = \"Despite Concerns BANGKOK\"\n\nprint(check(d_word,nlp_word))\n</code></pre>\n\n<p>I got 0. What am I missing?</p>\n"}, {"tags": ["python", "sql", "sqlalchemy", "commit", "pickle"], "comments": [{"owner": {"reputation": 2844, "user_id": 1470950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d7b6bf6804a4725ce6a98ed48c23354?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Guldner", "link": "https://stackoverflow.com/users/1470950/cody-guldner"}, "edited": false, "score": 0, "creation_date": 1463610060, "post_id": 37310770, "comment_id": 62143022, "body": "Can you add a little more detail to the question you are asking? Perhaps what you desire the output to be?"}, {"owner": {"reputation": 11, "user_id": 6353265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed306877a2b38327376dd42903b384f9?s=128&d=identicon&r=PG&f=1", "display_name": "HaydenThomas", "link": "https://stackoverflow.com/users/6353265/haydenthomas"}, "reply_to_user": {"reputation": 2844, "user_id": 1470950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d7b6bf6804a4725ce6a98ed48c23354?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Guldner", "link": "https://stackoverflow.com/users/1470950/cody-guldner"}, "edited": false, "score": 0, "creation_date": 1463621930, "post_id": 37310770, "comment_id": 62146039, "body": "My question is this: what can I do so that the changes I make to these lists properly commit to the database?   The bottom block of code shows what is printed in the terminal. The middle portion of that block shows the values that I desire, and they are correct right before the committal. But after I commit, (bottom portion) it shows that the values are not changed in the database.  Is there something I&#39;m missing? I have a feeling it has to do with the PickleType, but I am not entirely sure and was hoping I could get some feedback with somebody who has more experience with sqlalchemy."}], "answers": [{"comments": [{"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "edited": false, "score": 0, "creation_date": 1463644754, "post_id": 37317081, "comment_id": 62154200, "body": "You might also try the approach described in the last line of this <a href=\"http://stackoverflow.com/a/27981144/5869747\">related answer</a>: &quot;The other way to ensure that your PickleType objects are updated when you modify them is to copy and assign them before committing changes.&quot;"}], "tags": [], "owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "is_accepted": false, "score": 4, "last_activity_date": 1463645099, "last_edit_date": 1463645099, "creation_date": 1463644248, "answer_id": 37317081, "question_id": 37310770, "link": "https://stackoverflow.com/questions/37310770/sqlalchemy-committing-pickle-types/37317081#37317081", "title": "SQLAlchemy committing pickle types", "body": "<p>The problem is that the ORM is not alerted to changes inside a mutable type, like a list. SQLAlchemy therefore offers mutation tracking with the <code>sqlalchemy.ext.mutable</code> extension.</p>\n\n<p>From the examples in the <a href=\"http://docs.sqlalchemy.org/en/latest/orm/extensions/mutable.html\" rel=\"nofollow\" title=\"documentation\">documentation</a>, in particular with reference to the <code>sqlalchemy.ext.mutable.MutableList</code> class, it looks like the column declaration should go (e.g.): </p>\n\n<pre><code>human_spaces = Column(MutableList.as_mutable(PickleType))\n</code></pre>\n\n<p>I quote from the documentation on the <code>as_mutable</code> method:\n\"This establishes listeners that will detect ORM mappings against the given type, adding mutation event trackers to those mappings.\"</p>\n"}, {"tags": [], "owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "is_accepted": false, "score": 1, "last_activity_date": 1463657820, "creation_date": 1463657820, "answer_id": 37322040, "question_id": 37310770, "link": "https://stackoverflow.com/questions/37310770/sqlalchemy-committing-pickle-types/37322040#37322040", "title": "SQLAlchemy committing pickle types", "body": "<p>I've written a package to help make this easy.  You can choose different encodings, including <code>pickle</code>, and easily dump and store objects to a database.  It can connect to any database that <code>sqlalchemy</code> understands.  There is a dictionary interface to a SQL table, and you can store any type that <code>dill</code> can serialize:</p>\n\n<pre><code>&gt;&gt;&gt; import klepto\n&gt;&gt;&gt; db = klepto.archives.sqltable_archive('playgame')\n&gt;&gt;&gt; db['human'] = [1,2,3,4]\n&gt;&gt;&gt; db['ai'] = [1,2]\n&gt;&gt;&gt; db\nsqltable_archive('sqlite:///:memory:?table=playgame', {'ai': [1, 2], 'human': [1, 2, 3, 4]}, cached=True)\n&gt;&gt;&gt; db.dump()\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6353265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed306877a2b38327376dd42903b384f9?s=128&d=identicon&r=PG&f=1", "display_name": "HaydenThomas", "link": "https://stackoverflow.com/users/6353265/haydenthomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2306, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1463657820, "creation_date": 1463608652, "last_edit_date": 1463632254, "question_id": 37310770, "link": "https://stackoverflow.com/questions/37310770/sqlalchemy-committing-pickle-types", "title": "SQLAlchemy committing pickle types", "body": "<p>I'm having an issue committing changes to pickle types (lists) in sqlalchemy. It will act as if nothing happened after the committal. </p>\n\n<p>Here's my my function where I try to commit:</p>\n\n<pre><code>def commit_move(game_id, player, move):\n    game = game_query(game_id)\n    if player == 'human':\n        game.human_spaces.append(move)\n    if player == 'ai':\n        game.ai_spaces.append(move)\n    game.available_spaces.remove(move)\n    print game.human_spaces\n    print game.ai_spaces\n    print game.available_spaces\n    print \"----\"\n    session.add(game)\n    session.commit()\n</code></pre>\n\n<p>here's how the table is setup:</p>\n\n<pre><code>class Game(Base):\n    __tablename__ = 'game'\n    id = Column(Integer, primary_key=True)\n    human_spaces = Column(PickleType)\n    ai_spaces = Column(PickleType)\n    available_spaces = Column(PickleType)\n</code></pre>\n\n<p>here's the code I'm using to test it:</p>\n\n<pre><code>game_id = create_game()\nprint game_id\nprint get_available_spaces(game_id)\nprint get_human_spaces(game_id)\nprint get_ai_spaces(game_id)\nprint \"---------\"\ncommit_move(game_id, 'human', 7)\nprint get_available_spaces(game_id)\nprint get_human_spaces(game_id)\nprint get_ai_spaces(game_id)\n</code></pre>\n\n<p>and here's what the good ol' terminal is telling me:</p>\n\n<pre><code>1\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[]\n[]\n---------\n[7]\n[]\n[1, 2, 3, 4, 5, 6, 8, 9]\n----\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[]\n[]\n</code></pre>\n\n<p>I'm sure it's something simple I'm missing here, but any help would be greatly appreciated!</p>\n"}, {"tags": ["python", "exe", "pyinstaller"], "comments": [{"owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "edited": false, "score": 0, "creation_date": 1463610215, "post_id": 37310724, "comment_id": 62143085, "body": "What does your exe <i>do</i>?  Are you prompting the user for <code>input</code>?  Are you showing a console and sleeping?  Are you generating a window?  This question is too broadly vague to know how to help you."}, {"owner": {"reputation": 141, "user_id": 6300892, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e725797bf437963aaf359fd45e7ea45e?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander. Matt", "link": "https://stackoverflow.com/users/6300892/alexander-matt"}, "reply_to_user": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "edited": false, "score": 1, "creation_date": 1463611922, "post_id": 37310724, "comment_id": 62143570, "body": "Fixed it, I just use the top left icon to use edit &gt; paste done and done"}], "owner": {"reputation": 141, "user_id": 6300892, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/e725797bf437963aaf359fd45e7ea45e?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander. Matt", "link": "https://stackoverflow.com/users/6300892/alexander-matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1463608430, "creation_date": 1463608430, "question_id": 37310724, "link": "https://stackoverflow.com/questions/37310724/pyinstaller-exe-cant-right-click", "title": "PyInstaller Exe cant right click", "body": "<p>I just created my very first exe with PyInstaller and everything is working great except for the fact that I cant copy paste something into the cmd window.. I've tried right clicking and pasting but when I right click nothing happends.. Do I need to add code to the script?</p>\n"}, {"tags": ["python", "python-click"], "comments": [{"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463608762, "post_id": 37310718, "comment_id": 62142567, "body": "Doesn&#39;t look like it. Can&#39;t you just create an &quot;all&quot; option and then call all the other functions from within that option?"}, {"owner": {"reputation": 690, "user_id": 5397725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de66ef91d39e3f7dca50023c22d46f?s=128&d=identicon&r=PG&f=1", "display_name": "b-jazz", "link": "https://stackoverflow.com/users/5397725/b-jazz"}, "reply_to_user": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 1, "creation_date": 1463612460, "post_id": 37310718, "comment_id": 62143741, "body": "@Charlie: yes, but the user could then put &quot;--all --color red&quot; on the command line and that doesn&#39;t seem right."}, {"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463661572, "post_id": 37310718, "comment_id": 62166218, "body": "OK - tell me more. What&#39;s suppose to happen if they do that? Maybe you could write out some example code."}], "answers": [{"tags": [], "owner": {"reputation": 647, "user_id": 569771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54897cce24e27426229f665769eddd3?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/569771/jacob"}, "is_accepted": true, "score": 37, "last_activity_date": 1464379665, "creation_date": 1464379665, "answer_id": 37491504, "question_id": 37310718, "link": "https://stackoverflow.com/questions/37310718/mutually-exclusive-option-groups-in-python-click/37491504#37491504", "title": "Mutually exclusive option groups in python Click", "body": "<p>I ran into this same use case recently; this is what I came up with. For each option, you can give a list of conflicting options.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from click import command, option, Option, UsageError\n\n\nclass MutuallyExclusiveOption(Option):\n    def __init__(self, *args, **kwargs):\n        self.mutually_exclusive = set(kwargs.pop('mutually_exclusive', []))\n        help = kwargs.get('help', '')\n        if self.mutually_exclusive:\n            ex_str = ', '.join(self.mutually_exclusive)\n            kwargs['help'] = help + (\n                ' NOTE: This argument is mutually exclusive with '\n                ' arguments: [' + ex_str + '].'\n            )\n        super(MutuallyExclusiveOption, self).__init__(*args, **kwargs)\n\n    def handle_parse_result(self, ctx, opts, args):\n        if self.mutually_exclusive.intersection(opts) and self.name in opts:\n            raise UsageError(\n                \"Illegal usage: `{}` is mutually exclusive with \"\n                \"arguments `{}`.\".format(\n                    self.name,\n                    ', '.join(self.mutually_exclusive)\n                )\n            )\n\n        return super(MutuallyExclusiveOption, self).handle_parse_result(\n            ctx,\n            opts,\n            args\n        )\n</code></pre>\n\n<p>Then use the regular <code>option</code> decorator but pass the <code>cls</code> argument:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@command(help=\"Run the command.\")\n@option('--jar-file', cls=MutuallyExclusiveOption,\n        help=\"The jar file the topology lives in.\",\n        mutually_exclusive=[\"other_arg\"])\n@option('--other-arg',\n        cls=MutuallyExclusiveOption,\n        help=\"The jar file the topology lives in.\",\n        mutually_exclusive=[\"jar_file\"])\ndef cli(jar_file, other_arg):\n    print \"Running cli.\"\n    print \"jar-file: {}\".format(jar_file)\n    print \"other-arg: {}\".format(other_arg)\n\nif __name__ == '__main__':\n    cli() \n</code></pre>\n\n<p><a href=\"https://gist.github.com/jacobtolar/fb80d5552a9a9dfc32b12a829fa21c0c\">Here's a gist</a>\n that includes the code above and shows the output from running it.</p>\n\n<p>If that won't work for you, there's also a few (closed) issues mentioning this on the click github page with a couple of ideas that you may be able to use.</p>\n\n<ul>\n<li><a href=\"https://github.com/pallets/click/issues/257\">https://github.com/pallets/click/issues/257</a></li>\n<li><a href=\"https://github.com/pallets/click/issues/509\">https://github.com/pallets/click/issues/509</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 690, "user_id": 5397725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de66ef91d39e3f7dca50023c22d46f?s=128&d=identicon&r=PG&f=1", "display_name": "b-jazz", "link": "https://stackoverflow.com/users/5397725/b-jazz"}, "edited": false, "score": 1, "creation_date": 1576548972, "post_id": 59199466, "comment_id": 104927163, "body": "This looks promising, and much cleaner than the previous example. I&#39;ll give it a try (and likely promote it to &quot;most helpful&quot;). Thanks."}, {"owner": {"reputation": 806, "user_id": 419926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f932156c136f1ec129db829f7a18116?s=128&d=identicon&r=PG", "display_name": "iroln", "link": "https://stackoverflow.com/users/419926/iroln"}, "reply_to_user": {"reputation": 690, "user_id": 5397725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de66ef91d39e3f7dca50023c22d46f?s=128&d=identicon&r=PG&f=1", "display_name": "b-jazz", "link": "https://stackoverflow.com/users/5397725/b-jazz"}, "edited": false, "score": 0, "creation_date": 1576884975, "post_id": 59199466, "comment_id": 105050512, "body": "@Bryce Thanks. I&#39;m the maintainer of this package, so do not hesitate to tell me about any issues and your experience of using it if you want. :)"}], "tags": [], "owner": {"reputation": 806, "user_id": 419926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f932156c136f1ec129db829f7a18116?s=128&d=identicon&r=PG", "display_name": "iroln", "link": "https://stackoverflow.com/users/419926/iroln"}, "is_accepted": false, "score": 10, "last_activity_date": 1575563328, "creation_date": 1575563328, "answer_id": 59199466, "question_id": 37310718, "link": "https://stackoverflow.com/questions/37310718/mutually-exclusive-option-groups-in-python-click/59199466#59199466", "title": "Mutually exclusive option groups in python Click", "body": "<p>You could use the following package:\n<a href=\"https://github.com/espdev/click-option-group\" rel=\"noreferrer\">https://github.com/espdev/click-option-group</a></p>\n\n<pre><code>import click\nfrom click_option_group import optgroup, RequiredMutuallyExclusiveOptionGroup\n\n@click.command()\n@optgroup.group('Grouped options', cls=RequiredMutuallyExclusiveOptionGroup,\n                help='Group description')\n@optgroup.option('--all', 'all_', is_flag=True, default=False)\n@optgroup.option('--color')\ndef cli(all_, color):\n    print(all_, color)\n\nif __name__ == '__main__':\n    cli()\n</code></pre>\n\n<p>app help:</p>\n\n<pre><code>$ app.py --help\nUsage: app.py [OPTIONS]\n\nOptions:\n  Grouped options: [mutually_exclusive, required]\n                                  Group description\n    --all\n    --color TEXT\n  --help                          Show this message and exit.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1289, "user_id": 4374826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6354615465e177220d4f5c38b42e6e9?s=128&d=identicon&r=PG&f=1", "display_name": "janluke", "link": "https://stackoverflow.com/users/4374826/janluke"}, "is_accepted": false, "score": 4, "last_activity_date": 1614679702, "last_edit_date": 1614679702, "creation_date": 1612985974, "answer_id": 66143881, "question_id": 37310718, "link": "https://stackoverflow.com/questions/37310718/mutually-exclusive-option-groups-in-python-click/66143881#66143881", "title": "Mutually exclusive option groups in python Click", "body": "<p>You could use <a href=\"https://cloup.readthedocs.io/en/stable/index.html\" rel=\"nofollow noreferrer\">Cloup</a>, a package that adds option groups and constraints to Click. You have two options to solve this problem in Cloup.</p>\n<p>Disclaimer: I'm the author of the package.</p>\n<h2>Option 1: @option_group</h2>\n<p>When you define an option group using <code>@option_group</code>, the options in each group are shown in separate help sections (like in argparse). You can apply constraints (like <code>mutually_exclusive</code>) to option groups as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from cloup import command, option, option_group\nfrom cloup.constraints import mutually_exclusive\n\n@command()\n@option_group(\n    'Color options',\n    option('--all', 'all_colors', is_flag=True),\n    option('--color'),\n    constraint=mutually_exclusive\n)\ndef cmd(**kwargs):\n    print(kwargs)\n</code></pre>\n<p>The help will be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Usage: cmd [OPTIONS]\n\nColor options [mutually exclusive]:\n  --all       \n  --color TEXT\n\nOther options:\n  --help        Show this message and exit.\n</code></pre>\n<h2>Option 2: @constraint</h2>\n<p>If you don't want option groups to show up in the command help, you can use <code>@constraint</code> and specify the constrained options by their (destination) name:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from cloup import command, option\nfrom cloup.constraints import constraint, mutually_exclusive\n\n@command()\n@option('--all', 'all_colors', is_flag=True)\n@option('--color')\n@constraint(mutually_exclusive, ['all_colors', 'color'])\ndef cmd(**kwargs):\n    print(kwargs)\n</code></pre>\n<p>Constraints defined this way can be documented in command help! This feature is disabled by default but can be easily enabled passing <code>show_constraints=True</code> to <code>@command</code>. The result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Usage: cmd [OPTIONS]\n\nOptions:\n  --all       \n  --color TEXT\n  --help        Show this message and exit.\n\nConstraints:\n  {--all, --color}  mutually exclusive\n</code></pre>\n<h2>The error message</h2>\n<p>In both case, if you run <code>cmd --all --color red</code>, you get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Usage: cmd [OPTIONS]\nTry 'cmd --help' for help.\n\nError: the following parameters are mutually exclusive:\n--all, --color\n</code></pre>\n<h2>Other constraints</h2>\n<p>Cloup defines constraints that should cover 99.9% of your needs. It even supports conditional constraints! If you want a required mutually exclusive, replace <code>mutually_exclusive</code> with <code>RequireExactly(1)</code>.</p>\n<p>You can find all implemented constraints <a href=\"https://cloup.readthedocs.io/en/stable/pages/constraints.html#implemented-constraints\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 690, "user_id": 5397725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3de66ef91d39e3f7dca50023c22d46f?s=128&d=identicon&r=PG&f=1", "display_name": "b-jazz", "link": "https://stackoverflow.com/users/5397725/b-jazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9235, "favorite_count": 7, "accepted_answer_id": 37491504, "answer_count": 3, "score": 31, "last_activity_date": 1614679702, "creation_date": 1463608376, "question_id": 37310718, "link": "https://stackoverflow.com/questions/37310718/mutually-exclusive-option-groups-in-python-click", "title": "Mutually exclusive option groups in python Click", "body": "<p>How can I create a mutually exclusive option group in Click? I want to either accept the flag \"--all\" or take an option with a parameter like \"--color red\".</p>\n"}, {"tags": ["python", "gnuradio", "xmlrpclib", "gnuradio-companion"], "comments": [{"owner": {"reputation": 11, "user_id": 4392265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123c8eecbd77de1fdfb61c3389c67368?s=128&d=identicon&r=PG&f=1", "display_name": "diarmuidcire", "link": "https://stackoverflow.com/users/4392265/diarmuidcire"}, "edited": false, "score": 0, "creation_date": 1463765781, "post_id": 37310705, "comment_id": 62220863, "body": "The grc files used are just modified versions of the tx_ofdm.grc and rx_ofdm.grc located in the GNU Radio examples: <a href=\"https://github.com/gnuradio/gnuradio/tree/master/gr-digital/examples/ofdm\" rel=\"nofollow noreferrer\">github.com/gnuradio/gnuradio/tree/master/gr-digital/examples&zwnj;&#8203;/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 4392265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123c8eecbd77de1fdfb61c3389c67368?s=128&d=identicon&r=PG&f=1", "display_name": "diarmuidcire", "link": "https://stackoverflow.com/users/4392265/diarmuidcire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1463652793, "creation_date": 1463608338, "last_edit_date": 1463652793, "question_id": 37310705, "link": "https://stackoverflow.com/questions/37310705/changing-variable-payloadmod-digital-constellation-qpsk-at-runtime-in-gnu-ra", "title": "Changing variable `payloadmod=digital.constellation_qpsk()` at runtime in GNU Radio with XMLRPC Server block support", "body": "<p>I have a problem changing the <code>payloadmod</code> variable in GNURadio. I am running GNURadio remotely and changing variables at runtime, which is supported by the XMLRPC Server block.</p>\n\n<p>First of all, I can easily change <code>freq</code>, <code>packetlen</code>, <code>bandwidth</code>, <code>ipaddress</code>, <code>gain</code>, etc., variables in a runtime scenario remotely with a variation of the following XML:  (making sure to specify <code>set_</code> before each variable name)</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;methodCall&gt;&lt;methodName&gt;set_bandwidth&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;int&gt;200000&lt;/int&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/methodCall&gt;\n</code></pre>\n\n<p>However, I am having issues with the <code>set_payloadmod</code> variable. </p>\n\n<p>In gnuradio-companion, I have the following variable set:</p>\n\n<pre><code>id=payloadmod\nvalue=digital.constellation_qpsk()\n</code></pre>\n\n<p>I send the following XML to change the <code>payloadmod</code> variable.</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;methodCall&gt;&lt;methodName&gt;set_payloadmod&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;string&gt;digital.constellation_bpsk()&lt;/string&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/methodCall&gt;\n</code></pre>\n\n<p>And I get the following error. </p>\n\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;methodResponse&gt;\n&lt;fault&gt;\n&lt;value&gt;&lt;struct&gt;\n&lt;member&gt;\n&lt;name&gt;faultCode&lt;/name&gt;\n&lt;value&gt;&lt;int&gt;1&lt;/int&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;member&gt;\n&lt;name&gt;faultString&lt;/name&gt;\n&lt;value&gt;&lt;string&gt;&amp;lt;type 'exceptions.AttributeError'&amp;gt;:'str' object has no attribute 'bits_per_symbol'&lt;/string&gt;&lt;/value&gt;\n&lt;/member&gt;\n&lt;/struct&gt;&lt;/value&gt;\n&lt;/fault&gt;\n&lt;/methodResponse&gt;\n</code></pre>\n\n<p>It does not like the XML string tag. I have tried changing the XML tag to the following without success:</p>\n\n<pre><code>&lt;int&gt;digital.constellation_bpsk()&lt;/int&gt;\n&lt;value&gt;digital.constellation_bpsk()&lt;/value&gt;\n&lt;any&gt;digital.constellation_bpsk()&lt;/any&gt;\n</code></pre>\n\n<p>In gnuradio-companion, I have also tried creating two variable as follows:</p>\n\n<pre><code>id=payloadmodfrnt\nvalue=\u2018digital.constellation_qpsk()\u2019\n\nid=payloadmod\nvalue=eval(str(payloadmodfrnt).replace(\"'\",\"\"))\n</code></pre>\n\n<p>The <code>eval(str(\u2026\u2026).replace(\"'\",\"\")</code> in payloadmod variable will remove the single quote from the payloadmodfrnt variable string passed in with the following XML: </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;methodCall&gt;&lt;methodName&gt;set_payloadmodfrnt&lt;/methodName&gt;&lt;params&gt;&lt;param&gt;&lt;value&gt;&lt;string&gt;digital.constellation_bpsk()&lt;/string&gt;&lt;/value&gt;&lt;/param&gt;&lt;/params&gt;&lt;/methodCall&gt;\n</code></pre>\n\n<p>The variable changes in both <code>payloadmodfrnt</code> and <code>payloadmod</code> (which is viewable in the GUI). However, the payloadmod variable does not change to bpsk. It will continue to transmit qpsk and not bpsk (I can see  the constellation has not changed on the receiver). </p>\n\n<p>Return/enter or something needs to be pressed or something. Basically the payload variable needs to be kicked or something to make it change. Or (the simplest option), I need the right XML tags to change the payloadmod variable correctly?</p>\n"}, {"tags": ["python", "python-3.x", "python-import"], "comments": [{"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 3, "creation_date": 1463608565, "post_id": 37310695, "comment_id": 62142487, "body": "Probably should just use a prompt for the user input rather then notepad. If you have to work in files use open(&#39;filepath&#39;) read and write to that file location."}, {"owner": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "reply_to_user": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 1, "creation_date": 1463608662, "post_id": 37310695, "comment_id": 62142521, "body": "The user interface you propose is very strange. I agree with @vikingben; use <code>raw_input</code> to prompt the user for data."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1463617116, "post_id": 37310695, "comment_id": 62144861, "body": "or pass on the command-line: <code>$ is-right-triangle A=3 B=4 C=B</code>"}, {"owner": {"reputation": 53, "user_id": 6343209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622f43597cc38c9e3b3b153b248864ad?s=128&d=identicon&r=PG&f=1", "display_name": "theshover", "link": "https://stackoverflow.com/users/6343209/theshover"}, "reply_to_user": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1464575218, "post_id": 37310695, "comment_id": 62527054, "body": "@vikingben Would you recommend a good prompt that i could use in this situation?"}, {"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "reply_to_user": {"reputation": 115745, "user_id": 119527, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/lTjBL.png?s=128&g=1", "display_name": "Jonathon Reinhart", "link": "https://stackoverflow.com/users/119527/jonathon-reinhart"}, "edited": false, "score": 0, "creation_date": 1464792424, "post_id": 37310695, "comment_id": 62631324, "body": "@JonathonReinhart gave you a pretty good example I&#39;ll just add the link for the documentation for the built in raw_input function. You can call this function with a question for your user such as please enter the length of your triangle side. Then you can use this to make your calculations. Then use the built in print function to give feedback to the user. <a href=\"https://docs.python.org/2/library/functions.html#raw_input\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#raw_input</a> <a href=\"https://docs.python.org/2/library/functions.html#print\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html#print</a>"}, {"owner": {"reputation": 53, "user_id": 6343209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622f43597cc38c9e3b3b153b248864ad?s=128&d=identicon&r=PG&f=1", "display_name": "theshover", "link": "https://stackoverflow.com/users/6343209/theshover"}, "reply_to_user": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1464812564, "post_id": 37310695, "comment_id": 62643032, "body": "@vikingben thank you"}, {"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1464815953, "post_id": 37310695, "comment_id": 62644829, "body": "@theshover Not a problem let me know if you have any other questions and good luck!!"}, {"owner": {"reputation": 53, "user_id": 6343209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622f43597cc38c9e3b3b153b248864ad?s=128&d=identicon&r=PG&f=1", "display_name": "theshover", "link": "https://stackoverflow.com/users/6343209/theshover"}, "reply_to_user": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1464996037, "post_id": 37310695, "comment_id": 62731976, "body": "@vikingben since i follow py 3.x instead i use &#39;eval(input&#39;"}], "owner": {"reputation": 53, "user_id": 6343209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/622f43597cc38c9e3b3b153b248864ad?s=128&d=identicon&r=PG&f=1", "display_name": "theshover", "link": "https://stackoverflow.com/users/6343209/theshover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1463608276, "creation_date": 1463608276, "question_id": 37310695, "link": "https://stackoverflow.com/questions/37310695/how-do-you-import-notepad-files-in-python-3-5", "title": "How do you import notepad files in python 3.5?", "body": "<p>I am working on a triangle calculator ( It would find if a angle was acute, right, or obtuse.) and I want to use notepad to base it. \nexample:</p>\n\n<pre><code>A = 3\nB = 4\nC = C\n</code></pre>\n\n<p>and it would modify the file so that :</p>\n\n<pre><code>A = 3\nB = 4\nC = 5\nYour triangle is right!\n</code></pre>\n\n<p>Can anyone help clear this up for me?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1463607964, "post_id": 37310576, "comment_id": 62142235, "body": "Did you try search first? <a href=\"http://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex\" title=\"searching for uuids in text with regex\">stackoverflow.com/questions/136505/&hellip;</a>    and <a href=\"http://stackoverflow.com/questions/7905929/how-to-test-valid-uuid-guid\" title=\"how to test valid uuid guid\">stackoverflow.com/questions/7905929/how-to-test-valid-uuid-g&zwnj;&#8203;uid</a>"}, {"owner": {"reputation": 247, "user_id": 3943702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006272765761/picture?type=large", "display_name": "Lucas Shen", "link": "https://stackoverflow.com/users/3943702/lucas-shen"}, "reply_to_user": {"reputation": 2558, "user_id": 655436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98da4e7757d5f0e8596fd832bebee3d0?s=128&d=identicon&r=PG", "display_name": "fukanchik", "link": "https://stackoverflow.com/users/655436/fukanchik"}, "edited": false, "score": 0, "creation_date": 1463608197, "post_id": 37310576, "comment_id": 62142337, "body": "good pointers. I searched wrong keywords. @fukanchik"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1463609461, "last_edit_date": 1495541763, "creation_date": 1463607934, "answer_id": 37310611, "question_id": 37310576, "link": "https://stackoverflow.com/questions/37310576/extract-uuid-from-url/37310611#37310611", "title": "extract uuid from url", "body": "<p>The <code>.*</code> pattern is <em>too broad and greedy</em> for a UUID:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; data = \"\"\"\n... /posts/eb8c6d25-8784-4cdf-b016-4d8f6df64a62?mc_cid=37387dcb5f&amp;mc_eid=787bbeceb2\n... /posts/d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid/7034\n... /posts/5ff0021c-16cd-4f66-8881-ee28197ed1cf\n... \"\"\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; re.findall(r\"/posts/([A-Za-z0-9\\-]+)\", data)\n['eb8c6d25-8784-4cdf-b016-4d8f6df64a62', \n 'd78fa5da-4cbb-43b5-9fae-2b5c86f883cb', \n '5ff0021c-16cd-4f66-8881-ee28197ed1cf']\n</code></pre>\n\n<p>Or, you can be more strict about the UUID format, see more:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex\">Searching for UUIDs in text with regex</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7905929/how-to-test-valid-uuid-guid\">How to test valid UUID/GUID?</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 2, "last_activity_date": 1463608906, "creation_date": 1463608906, "answer_id": 37310823, "question_id": 37310576, "link": "https://stackoverflow.com/questions/37310576/extract-uuid-from-url/37310823#37310823", "title": "extract uuid from url", "body": "<p>Regular expressions try to match as many characters as possible (informally called \"maximal munch\").</p>\n\n<p>A plain-English description of your regex <code>.*\\/posts\\/(.*)[/?]+.*</code> would be something like:</p>\n\n<blockquote>\n  <p>Match anything, followed by <code>/posts/</code>, followed by anything, followed by one or more <code>/?</code>, followed by anything.</p>\n</blockquote>\n\n<p>When we apply that regex to this text:</p>\n\n<p><code>.../posts/d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid/7034</code></p>\n\n<p>... the maximal munch rule demands that the second \"anything\" match be as long as possible, therefore it ends up matching more than you wanted:</p>\n\n<p><code>d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid</code></p>\n\n<p>... because there is still the <code>/7034</code> part remaining, which matches the remainder of the regex.</p>\n\n<p>The best way to fix it is to use a regex which <em>only</em> matches characters that can actually occur in a UID (as suggested by @alecxe).</p>\n"}], "owner": {"reputation": 247, "user_id": 3943702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006272765761/picture?type=large", "display_name": "Lucas Shen", "link": "https://stackoverflow.com/users/3943702/lucas-shen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2432, "favorite_count": 0, "accepted_answer_id": 37310611, "answer_count": 2, "score": 1, "last_activity_date": 1463609461, "creation_date": 1463607769, "question_id": 37310576, "link": "https://stackoverflow.com/questions/37310576/extract-uuid-from-url", "title": "extract uuid from url", "body": "<p>I want to extract UUID from urls. </p>\n\n<p>for example:</p>\n\n<blockquote>\n  <p>/posts/eb8c6d25-8784-4cdf-b016-4d8f6df64a62?mc_cid=37387dcb5f&amp;mc_eid=787bbeceb2<br>\n  /posts/d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid/7034<br>\n  /posts/5ff0021c-16cd-4f66-8881-ee28197ed1cf  </p>\n</blockquote>\n\n<p>I have thousands of this kind of string. </p>\n\n<p>My regex now is <code>\".*\\/posts\\/(.*)[/?]+.*\"</code>\nwhich gives me the result like this:</p>\n\n<blockquote>\n  <p>d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid<br>\n  84ba0472-926d-4f50-b3c6-46376b2fe9de/uid<br>\n  6f3c97c1-b877-40e0-9479-6bdb826b7b8f/uid<br>\n  f5e5dc6a-f42b-47d1-8ab1-6ae533415d24<br>\n  f5e5dc6a-f42b-47d1-8ab1-6ae533415d24<br>\n  f7842dce-73a3-4984-bbb0-21d7ebce1749<br>\n  fdc6c48f-b124-447d-b4fc-bb528abb8e24      </p>\n</blockquote>\n\n<p>As you can see, my regex can't get rid of <code>/uid</code>, but handle <code>?xxxx</code>, query parameter, fine.</p>\n\n<p>What did I miss? How to make it right?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "linux", "selenium", "centos", "cpanel"], "comments": [{"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1463608278, "post_id": 37310555, "comment_id": 62142373, "body": "Just put chromedriver.exe in the same directory as your script and just pass &quot;chromedriver&quot; for a test. I&#39;m thinking it&#39;s permissions or somehow it&#39;s not finding the path."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463611598, "post_id": 37310555, "comment_id": 62143485, "body": "What does <code>which chromedriver</code> output?"}, {"owner": {"reputation": 73, "user_id": 2760417, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006310181006/picture?type=large", "display_name": "Jay Gupta", "link": "https://stackoverflow.com/users/2760417/jay-gupta"}, "edited": false, "score": 0, "creation_date": 1463632334, "post_id": 37310555, "comment_id": 62148454, "body": "Even when i put it in the same directory, it still yields the same message: &quot;WebDriverException: Message: &#39;chromedriver.exe&#39; executable needs to be in PATH. Please see <a href=\"https://sites.google.com/a/chromium.org/chromedriver/home\" rel=\"nofollow noreferrer\">sites.google.com/a/chromium.org/chromedriver/home</a> &quot; Any other ideas? can it just not be on a centos/cpanel server?"}], "owner": {"reputation": 73, "user_id": 2760417, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006310181006/picture?type=large", "display_name": "Jay Gupta", "link": "https://stackoverflow.com/users/2760417/jay-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 759, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1463607661, "creation_date": 1463607661, "question_id": 37310555, "link": "https://stackoverflow.com/questions/37310555/selenium-chromedriver-not-working-in-python-centos-cpanel-server", "title": "Selenium Chromedriver not working in Python, Centos Cpanel Server", "body": "<p>I installed selenium and chrome driver. </p>\n\n<p>I then created the below code to run it:</p>\n\n<pre><code> from pyvirtualdisplay import Display\n from selenium import webdriver\n chromedriver = \"/usr/bin/chromedriver\"\n driver = webdriver.Chrome(chromedriver)\n driver.get(url)\n html = driver.page_source\n driver.quit()\n display.stop()\n</code></pre>\n\n<p>The code yields the following error: \"'chromedriver.exe' executable needs to be in PATH. Please see <a href=\"https://sites.google.com/a/chromium.org/chromedriver/home\" rel=\"nofollow\">https://sites.google.com/a/chromium.org/chromedriver/home</a>\" </p>\n\n<p>The path is correct. I have tried some variations of the code but they all yield the same message. My webhost claims you cant install selenium on a centos server that has cpanel. Is this true or is there something wrong with my code?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1463607666, "post_id": 37310530, "comment_id": 62142135, "body": "Welcome to SO, please can you show your efforts as SO is not a code writing service, also can you explain what the desired result represents as I don&#39;t understand where the 2008 value comes from and your grouping"}, {"owner": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1463678703, "post_id": 37310530, "comment_id": 62178910, "body": "Thank you so much for your solution."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "edited": false, "score": 0, "creation_date": 1463678912, "post_id": 37311019, "comment_id": 62179016, "body": "Right now get the result and new column:                                                                       CarModel\tYear  \tYear2\tProduction Data BMWX1\t2000\t2001\t10 Accord\t2000\t2001\t7 BMWX1\t2001\t2002\t5 Accord\t2001\t2002\t8                                                                       I am try to use .format to change the new column to look like this:        CarModel\t   New Data Format BMWX1\t   &lt;[2000.0, 2001.0, 10]; [2001.0, 2002.0, 5]&gt; Accord\t   &lt;[2000.0, 2001.0, 7]; [2001.0, 2002.0, 8]&gt;                                 Do you have any further suggestions?  Thank you very much."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "edited": false, "score": 0, "creation_date": 1463679410, "post_id": 37311019, "comment_id": 62179292, "body": "I don&#39;t understand. You do realize that the other answer is just a copy of mine, right?"}, {"owner": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "edited": false, "score": 0, "creation_date": 1463681555, "post_id": 37311019, "comment_id": 62180527, "body": "I tried both of those solutions in the morning and get similar results. The comment I left is a kind of following up question. I am sorry for any confusing. This is the first time I use stackoverflow. I put those data as a table format in the comment. But it shows up like a sentence... So sorry for that."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "edited": false, "score": 0, "creation_date": 1463681926, "post_id": 37311019, "comment_id": 62180758, "body": "You should just pay attention to who posts first. But never mind."}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1463618503, "last_edit_date": 1463618503, "creation_date": 1463609943, "answer_id": 37311019, "question_id": 37310530, "link": "https://stackoverflow.com/questions/37310530/manipulate-column-data-to-new-format-by-using-python-in-pandas/37311019#37311019", "title": "Manipulate column data to new format by using Python in Pandas", "body": "<p>The below produces the output you describe. Group on the <code>CarModel</code> (either as <code>column</code> or moved to the <code>index</code>) and then return the respective columns as <code>.values</code>.</p>\n\n<pre><code>df['Year2'] = df.ProductionYear.add(1)\ndf.groupby('CarModel').apply(lambda x: x.loc[:, ['ProductionYear', 'Year2', 'ProductionData']].values)\n\nCarModel\nAccord    [[2005, 2006, 100000], [2006, 2007, 110000], [...\nBMWX1     [[2005, 2006, 55000], [2006, 2007, 34000], [20...\ndtype: object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "edited": false, "score": 0, "creation_date": 1463679188, "post_id": 37311564, "comment_id": 62179154, "body": "Right now get the result and new column:                                                                       CarModel\tYear  \tYear2\tProduction Data BMWX1\t2000\t2001\t10 Accord\t2000\t2001\t7 BMWX1\t2001\t2002\t5 Accord\t2001\t2002\t8                                                                       I am try to use .format to change the new column to look like this:        CarModel\t   New Data Format BMWX1\t   &lt;[2000.0, 2001.0, 10]; [2001.0, 2002.0, 5]&gt; Accord\t   &lt;[2000.0, 2001.0, 7]; [2001.0, 2002.0, 8]&gt;                                 Do you have any further suggestions?  Thank you very much."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "edited": false, "score": 0, "creation_date": 1463681866, "post_id": 37311564, "comment_id": 62180720, "body": "This looks familiar. Why was setting <code>CarModel</code> as index the trick?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1463682299, "post_id": 37311564, "comment_id": 62180955, "body": "It was appending it to index that was the trick.  That enabled the dataframe to have a unique index, capitalizing on the existing default index.  Then I had an existing order to the sub-dataframe within the groupby&#39;s apply.  I thought I needed it for some step.  Turns out I don&#39;t.  Thanks for calling me out on that."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "edited": false, "score": 0, "creation_date": 1463682783, "post_id": 37311564, "comment_id": 62181198, "body": "You could have seen from my answer already that it was working fine without. Also, what is the benefit of wrapping the same function that I use as <code>lambda</code> into a named function, other than to extend the number of lines necessary?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1463685518, "post_id": 37311564, "comment_id": 62182677, "body": "There was no intended point to using the same function.  My answer was independent of yours regardless of the similarities.  Often times, multiple people whom are all familiar with a subject will devise similar solutions.  I know that my answers are not always optimal.  But its what I came up with."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 0, "last_activity_date": 1463682322, "last_edit_date": 1463682322, "creation_date": 1463613486, "answer_id": 37311564, "question_id": 37310530, "link": "https://stackoverflow.com/questions/37310530/manipulate-column-data-to-new-format-by-using-python-in-pandas/37311564#37311564", "title": "Manipulate column data to new format by using Python in Pandas", "body": "<h1>Setup</h1>\n\n<pre><code>text = \"\"\"CarModel ProductionData ProductionYear\nBMWX1    55000          2005\nAccord   100000         2005\nBMWX1    34000          2006\nAccord   110000         2006\nBMWX1    43000          2007\nAccord   105000         2007\"\"\"\n\ndf = pd.read_csv(StringIO(text), delim_whitespace=1)\n</code></pre>\n\n<h1>Solution</h1>\n\n<pre><code>gb = df.set_index('CarModel').groupby(level=0)\n\ndef proc_df(df):\n    # Add this column becuase OP has it in final output\n    df['Year2'] = df.ProductionYear + 1\n\n    columns = ['ProductionYear', 'Year2', 'ProductionData']\n\n    # Return ndarray gets flattened to string when returned via apply\n    return df[columns].values\n\ngb.apply(proc_df)\n</code></pre>\n\n<p>Looks like:</p>\n\n<pre><code>CarModel\nAccord    [[2005, 2006, 100000], [2006, 2007, 110000], [...\nBMWX1     [[2005, 2006, 55000], [2006, 2007, 34000], [20...\ndtype: object\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6353215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d20ef4d16452c702f327d84a3fce7a?s=128&d=identicon&r=PG&f=1", "display_name": "Chen", "link": "https://stackoverflow.com/users/6353215/chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 37311019, "answer_count": 2, "score": -1, "last_activity_date": 1463682322, "creation_date": 1463607503, "last_edit_date": 1463610585, "question_id": 37310530, "link": "https://stackoverflow.com/questions/37310530/manipulate-column-data-to-new-format-by-using-python-in-pandas", "title": "Manipulate column data to new format by using Python in Pandas", "body": "<p>I am trying to use pandas to manipulate my data. I have data that looks like this: </p>\n\n<pre><code>CarModel ProductionData ProductionYear\nBMWX1    55000          2005\nAccord   100000         2005\nBMWX1    34000          2006\nAccord   110000         2006\nBMWX1    43000          2007\nAccord   105000         2007\n</code></pre>\n\n<p>How can I make the data look like this?<br></p>\n\n<pre><code>CarModel NewColumn\nBMWX1    [2005.0, 2006.0, 55000]; [2006.0, 2007.0, 34000]; [2007.0, 2008.0,      43000]\nAccord   [2005.0, 2006.0, 100000]; [2006.0, 2007.0, 110000]; [2007.0, 2008.0,      105000]\n</code></pre>\n"}, {"tags": ["python", "amazon-s3", "docker", "boto", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463607804, "post_id": 37310564, "comment_id": 62142180, "body": "I&#39;m using a credentials file (~/.aws/credentials) instead of environment variables."}, {"owner": {"reputation": 10831, "user_id": 23760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b24e6790cb03535ea082d8d73d0a235?s=128&d=identicon&r=PG", "display_name": "ZeissS", "link": "https://stackoverflow.com/users/23760/zeisss"}, "reply_to_user": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 1, "creation_date": 1463607837, "post_id": 37310564, "comment_id": 62142192, "body": "Then pass it into the container with <code>-v ~&#47;.aws&#47;credentials:&#47;root&#47;.aws&#47;credentials</code>."}, {"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463607881, "post_id": 37310564, "comment_id": 62142207, "body": "It is already in the container. Isn&#39;t boto supposed to read from it?"}, {"owner": {"reputation": 10831, "user_id": 23760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b24e6790cb03535ea082d8d73d0a235?s=128&d=identicon&r=PG", "display_name": "ZeissS", "link": "https://stackoverflow.com/users/23760/zeisss"}, "reply_to_user": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463608048, "post_id": 37310564, "comment_id": 62142261, "body": "Uh ok :) Yes, boto should read it. You may need to try a few paths. Try putting it into <code>&#47;.aws</code> and <code>&#47;root&#47;.aws</code>. If your container is using another user, check his home folder."}, {"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463608127, "post_id": 37310564, "comment_id": 62142306, "body": "Hmm...ok. That&#39;s a good point. Maybe it&#39;s in the wrong place."}, {"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 1, "creation_date": 1463609093, "post_id": 37310564, "comment_id": 62142691, "body": "Welp, I moved the credential file everywhere I could think of, and it didn&#39;t help. I then defined env variables, didn&#39;t work. Then I used aws configure. No luck. Finally, I tried passing the credentials into the client() function. Still getting the same error. Basically everything suggested here: <a href=\"http://boto3.readthedocs.io/en/latest/guide/configuration.html#credentials\" rel=\"nofollow noreferrer\">boto3.readthedocs.io/en/latest/guide/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10831, "user_id": 23760, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6b24e6790cb03535ea082d8d73d0a235?s=128&d=identicon&r=PG", "display_name": "ZeissS", "link": "https://stackoverflow.com/users/23760/zeisss"}, "is_accepted": false, "score": 1, "last_activity_date": 1463608271, "last_edit_date": 1463608271, "creation_date": 1463607691, "answer_id": 37310564, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails/37310564#37310564", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>I guess you are not setting the correct environment variables. Use <code>env</code> to check what is set on your host and set similar variables within the container or pass them through with <code>-e</code> to <code>docker run</code>.</p>\n\n<p>Edit: Since you specified in your comments that you are using a credentials file, pass that into the container with <code>-v ~/.aws/credentials:/root/.aws/credentials</code>. This assumes, a proper <code>HOME</code> is set and you are using the <code>root</code> user. Some images have not done this, and you may need to put it into the root folder at <code>/.aws/credentials</code>.\nIf you have a specific user, the path needs to be in his home folder.</p>\n"}, {"comments": [{"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463614696, "post_id": 37311512, "comment_id": 62144284, "body": "Ok, that helped me rule out issues with the credentials, which is great. Do you think there are specific IAM roles for Docker users?"}, {"owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "reply_to_user": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1463614869, "post_id": 37311512, "comment_id": 62144324, "body": "It has nothing to do with Docker. If the credentials work on Mac, it should work on Docker too. My guess is the credentials are different. Use the code snippet I posted and check if you are seeing the same credentials on Mac and Docker."}, {"owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 1, "creation_date": 1463615189, "post_id": 37311512, "comment_id": 62144391, "body": "It&#39;s the same exact credentials. :("}, {"owner": {"reputation": 1491, "user_id": 4489629, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/1991aac79be2d880aee94a7f904dff54?s=128&d=identicon&r=PG&f=1", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/4489629/r%c3%a9mi"}, "reply_to_user": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "edited": false, "score": 0, "creation_date": 1525946760, "post_id": 37311512, "comment_id": 87558000, "body": "@EvanZamir did you end up finding the solution ?"}], "tags": [], "owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "is_accepted": false, "score": 2, "last_activity_date": 1463613165, "creation_date": 1463613165, "answer_id": 37311512, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails/37311512#37311512", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>Look at the error: <code>An error occurred (403) when calling the HeadObject operation: Forbidden</code></p>\n\n<p>It found the credentials but it didn't have permission to access the bucket. Bottom line: Update your IAM privileges to include <code>s3:ListBucket</code> permission for your bucket: <code>arn:aws:s3:::mybucket/*</code> or just attach the policy <code>AmazonS3ReadOnlyAccess</code> to your IAM user/role.</p>\n\n<p>You can try this and see it prints the correct credentials:</p>\n\n<pre><code>&gt;&gt;&gt; import botocore.session\n&gt;&gt;&gt; session = botocore.session.get_session()\n\n&gt;&gt;&gt; session.get_credentials().access_key\n'AKIAABCDEF6RWSGI234Q'\n\n&gt;&gt;&gt; session.get_credentials().secret_key\n'abcdefghijkl+123456789+qbcd'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 1325292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d41e6a39a20cdae9e3c5664ac5e8cb?s=128&d=identicon&r=PG", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/1325292/nicolas"}, "is_accepted": false, "score": 1, "last_activity_date": 1478363437, "last_edit_date": 1478363437, "creation_date": 1478116841, "answer_id": 40388733, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails/40388733#40388733", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>What fixed the issue for me was to install awscli on my container and update boto3 > 1.4</p>\n\n<pre><code>pip install awscli\npip install --upgrade boto3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 3103467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvnww.png?s=128&g=1", "display_name": "Gregory Hassett", "link": "https://stackoverflow.com/users/3103467/gregory-hassett"}, "is_accepted": false, "score": 0, "last_activity_date": 1576079340, "creation_date": 1576079340, "answer_id": 59289454, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails/59289454#59289454", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>I just chased down a similar issue, and it came down to the fact that the system time was wrong on the machine that returned the 403's when attempting to communicate with S3.  The incorrect system time meant that signatures for requests were being computed incorrectly.  Setting the system time to the correct value solved the problem -- if you ensure that your docker container sets the system time (for example by using NTP), your problem might go away like mine did.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12618156, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBAGnTlnNfirwvJnGtClfzeI8g1NrN-Z0Y4GXh4seo=k-s128", "display_name": "Korbinian Reiner", "link": "https://stackoverflow.com/users/12618156/korbinian-reiner"}, "is_accepted": false, "score": 0, "last_activity_date": 1585149132, "creation_date": 1585149132, "answer_id": 60851687, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails/60851687#60851687", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>I had the same issue here with a docker running on windows. The problem was, that the Hyper-V time is stopped, once your pc is going in stand-by mode. This was causing problems, because the timestamp from my request and from the AWS - bucket was different.</p>\n\n<p>What solved the problem for me was to simply restart docker/ my computer...</p>\n\n<p>Also keep in mind, to send your AWS - profile / credentials as environment variables. It seems, that this is a issue from docker:</p>\n\n<p><a href=\"https://forums.docker.com/t/docker-for-windows-should-resync-vm-time-when-computer-resumes-from-sleep/17825/28\" rel=\"nofollow noreferrer\">https://forums.docker.com/t/docker-for-windows-should-resync-vm-time-when-computer-resumes-from-sleep/17825/28</a></p>\n"}], "owner": {"reputation": 6400, "user_id": 1245418, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7005b0353700331ae983ee90c81b2e69?s=128&d=identicon&r=PG", "display_name": "Evan Zamir", "link": "https://stackoverflow.com/users/1245418/evan-zamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8579, "favorite_count": 0, "answer_count": 5, "score": 6, "last_activity_date": 1585149132, "creation_date": 1463607320, "question_id": 37310487, "link": "https://stackoverflow.com/questions/37310487/downloading-file-from-s3-using-boto3-inside-docker-fails", "title": "Downloading file from S3 using boto3 inside Docker fails", "body": "<p>This is failing when I run it inside a Docker container, but works fine when I run it within a virtualenv in OS X. Any idea what could be going wrong? Are there any known issues with Docker+boto?</p>\n\n<pre><code>&gt;&gt;&gt; import boto3                                                                                                                   \n&gt;&gt;&gt; s3 = boto3.client('s3')                                                                                                        \n&gt;&gt;&gt; s3.download_file(\"mybucket\", \"myfile.txt\", \"myfile2.txt\")                                                                \nTraceback (most recent call last):                                                                                                 \n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;                                                                                              \n  File \"/opt/conda/lib/python2.7/site-packages/boto3/s3/inject.py\", line 104, in download_file                                     \n    extra_args=ExtraArgs, callback=Callback)                                                                                       \n  File \"/opt/conda/lib/python2.7/site-packages/boto3/s3/transfer.py\", line 666, in download_file                                   \n    object_size = self._object_size(bucket, key, extra_args)                                                                       \n  File \"/opt/conda/lib/python2.7/site-packages/boto3/s3/transfer.py\", line 729, in _object_size                                    \n    Bucket=bucket, Key=key, **extra_args)['ContentLength']                                                                         \n  File \"/opt/conda/lib/python2.7/site-packages/botocore/client.py\", line 258, in _api_call                                         \n    return self._make_api_call(operation_name, kwargs)                                                                             \n  File \"/opt/conda/lib/python2.7/site-packages/botocore/client.py\", line 548, in _make_api_call                                    \n    raise ClientError(parsed_response, operation_name)                                                                             \nbotocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden                          \n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt4", "qwidget", "qmainwindow"], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "edited": false, "score": 0, "creation_date": 1463609753, "post_id": 37310858, "comment_id": 62142912, "body": "Hey case sorted, but sadly instead of having what you suggested I had a second class for it... Beginners mistakes."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 2, "last_activity_date": 1463609083, "creation_date": 1463609083, "answer_id": 37310858, "question_id": 37310442, "link": "https://stackoverflow.com/questions/37310442/pyqt-list-qwidgets-windows/37310858#37310858", "title": "PyQT - list QWidgets/Windows", "body": "<p>You parent objects by passing in the parent to their constructor.  You'll have to check the documentation for each widget to get the correct argument position.</p>\n\n<pre><code>widget = QtGui.QWidget(self)\nbtn = QtGui.QPushButton('Button Text', self)\n</code></pre>\n\n<p>But really, you shouldn't have to do a search for children to get the child windows.  Your main window should be keeping handles to them.</p>\n\n<pre><code>def __init__(...)\n    ...\n    self._windows = []\n\ndef createSubWindow(self):\n    window = WindowClass(self)\n    self._windows.append(window)\n</code></pre>\n"}], "owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 37310858, "answer_count": 1, "score": 2, "last_activity_date": 1463609674, "creation_date": 1463607160, "last_edit_date": 1463609674, "question_id": 37310442, "link": "https://stackoverflow.com/questions/37310442/pyqt-list-qwidgets-windows", "title": "PyQT - list QWidgets/Windows", "body": "<p>I have a </p>\n\n<pre><code>class Main(QtGui.QMainWindow):\n</code></pre>\n\n<p>That is able to click>spawn a x number of windows that are:</p>\n\n<pre><code>class dataWindow(QtGui.QWidget)\n</code></pre>\n\n<p>Is there a way in PyQt to now find all spawned dataWindow's and get their objectName? \neach window has unique objectName. \nI tried going via :</p>\n\n<pre><code>a= self.findChild(QWidget, self.newDataWids[0][\"window_name\"]) - as I have all names stored in dict upon creation\n</code></pre>\n\n<p>but it only returns None. I think its because the dataWindow are not parented to Main window class I believe... so I either have to parent them - not sure how. Or somehow find them out in the \"wild\"...</p>\n\n<p>Any ideas would be great.<br>\nRegards, Dariusz</p>\n\n<p>Edit_1: A glitch in my code bugged out my current attempt. After relooking I managed to get it to work. I simply stored the window in temporary dictionary and then used that to retrieve access to window.</p>\n"}, {"tags": ["python", "numpy", "decorator"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1463607287, "post_id": 37310434, "comment_id": 62141994, "body": "It&#39;s not a property, it&#39;s a descriptor."}, {"owner": {"reputation": 564, "user_id": 6237846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8811b67edb1f44b4eb5b3858bca5f119?s=128&d=identicon&r=PG&f=1", "display_name": "Georgia S", "link": "https://stackoverflow.com/users/6237846/georgia-s"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1463607920, "post_id": 37310434, "comment_id": 62142224, "body": "Isn&#39;t a property a descriptor that looks like an attribute (i.e., array.T)?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1463608825, "post_id": 37310434, "comment_id": 62142597, "body": "Yes, the property implementation uses the descriptor protocol.  But not all descriptors are properties."}, {"owner": {"reputation": 564, "user_id": 6237846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8811b67edb1f44b4eb5b3858bca5f119?s=128&d=identicon&r=PG&f=1", "display_name": "Georgia S", "link": "https://stackoverflow.com/users/6237846/georgia-s"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1463608979, "post_id": 37310434, "comment_id": 62142652, "body": "I&#39;m sorry for the naive question, why is .T not a property? I can&#39;t find it in the numpy source."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1463610277, "post_id": 37310434, "comment_id": 62143112, "body": "Because it&#39;s not implemented with property.  If it were, then <code>isinstance(type(np.ndarray.T), property)</code> would return True.  There are other ways to do fancy things with attribute access besides property, read up about the descriptor protocol if you are interested in that."}, {"owner": {"reputation": 564, "user_id": 6237846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8811b67edb1f44b4eb5b3858bca5f119?s=128&d=identicon&r=PG&f=1", "display_name": "Georgia S", "link": "https://stackoverflow.com/users/6237846/georgia-s"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1463610606, "post_id": 37310434, "comment_id": 62143216, "body": "Ah, so it&#39;s not a question of it doing something that properties can&#39;t, it&#39;s just not implemented that way. Thanks."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1463619501, "post_id": 37310434, "comment_id": 62145443, "body": "Looks like it&#39;s implemented C-side, since its type is supposedly <code>builtins.getset_descriptor</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1463607287, "creation_date": 1463607287, "answer_id": 37310475, "question_id": 37310434, "link": "https://stackoverflow.com/questions/37310434/how-to-apply-a-decorator-to-an-imported-descriptor/37310475#37310475", "title": "How to apply a decorator to an imported descriptor?", "body": "<p>Check out the <code>forbiddenfruit</code> module if you really want to do this, but as the name suggests, you should avoid it.</p>\n"}], "owner": {"reputation": 564, "user_id": 6237846, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8811b67edb1f44b4eb5b3858bca5f119?s=128&d=identicon&r=PG&f=1", "display_name": "Georgia S", "link": "https://stackoverflow.com/users/6237846/georgia-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1463610711, "creation_date": 1463607126, "last_edit_date": 1463610711, "question_id": 37310434, "link": "https://stackoverflow.com/questions/37310434/how-to-apply-a-decorator-to-an-imported-descriptor", "title": "How to apply a decorator to an imported descriptor?", "body": "<p>I have a custom Timer decorator that I'm wrapping a bunch of functions with to time various aspects of my program. I would like to apply it to the transpose descriptor of <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.ndarray.T.html\" rel=\"nofollow\">Numpy ndarrays</a>. I've tried this:</p>\n\n<pre><code>np.ndarray.T = Timer('computation')(np.ndarray.T)\n</code></pre>\n\n<p>but I get this result:</p>\n\n<pre><code>TypeError: can't set attributes of built-in/extension type 'numpy.ndarray'\n</code></pre>\n\n<p>Is there any way to do this or should I just replace .T with the transpose function in my code?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463607189, "post_id": 37310410, "comment_id": 62141938, "body": "Generally webservices return JSON or XML for this exact reason because those formats can easily be converted to a Python dictionary. Have you tried parsing the API response as JSON? Do you need help with that?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463608036, "post_id": 37310410, "comment_id": 62142255, "body": "Can you show how or where from exactly you get that data?"}], "answers": [{"comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463607577, "post_id": 37310494, "comment_id": 62142098, "body": "And to add to this, it looks like you should then have <code>labels = json.loads(line[1])</code>."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1463607333, "creation_date": 1463607333, "answer_id": 37310494, "question_id": 37310410, "link": "https://stackoverflow.com/questions/37310410/extract-list-from-a-string/37310494#37310494", "title": "Extract list from a string", "body": "<p>You need to split the string first. <code>csv.reader</code> expects something that provides a single line on each iteration, like a standard file object does. If you have a string with newlines in it, split it on the newline character with <code>splitlines()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n&gt;&gt;&gt; data = 'ID,Labels,Date,Year\\n3179799191,\"[\"\"SKWS\"\",\"\"Exact\"\"]\",2016-05-16,2016\\n3179461237,\"[\"\"SKWS\"\",\"\"Broad\"\"]\",2016-05-16,2016\\n3282565342,\"[\"\"SKWS\"\",\"\"Broad\"\"]\",2016-05-16,2016\\n'\n&gt;&gt;&gt; c = csv.reader(data.splitlines(), delimiter=',')\n&gt;&gt;&gt; for line in c:\n...     print(line)\n...\n['ID', 'Labels', 'Date', 'Year']\n['3179799191', '[\"SKWS\",\"Exact\"]', '2016-05-16', '2016']\n['3179461237', '[\"SKWS\",\"Broad\"]', '2016-05-16', '2016']\n['3282565342', '[\"SKWS\",\"Broad\"]', '2016-05-16', '2016']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "is_accepted": false, "score": 0, "last_activity_date": 1463607588, "creation_date": 1463607588, "answer_id": 37310544, "question_id": 37310410, "link": "https://stackoverflow.com/questions/37310410/extract-list-from-a-string/37310544#37310544", "title": "Extract list from a string", "body": "<p>This has to do with how <code>csv.reader</code> works.</p>\n\n<p>According to the documentation:</p>\n\n<blockquote>\n  <p><em>csvfile</em> can be any object which supports the iterator protocol and returns a string each time its <code>next()</code> method is called</p>\n</blockquote>\n\n<p>The issue here is that if you pass a string, it supports the iterator protocol, and returns a single character for each call to <code>next</code>. The csv reader will then consider each character as a line.</p>\n\n<p>You need to provide a list of line, one for each line of your csv. For example:</p>\n\n<pre><code>c = csv.reader(data.split(), delimiter=',')\nfor i in c:\n    print i\n\n# ['ID', 'Labels', 'Date', 'Year']\n# ['3179799191', '[\"SKWS\",\"Exact\"]', '2016-05-16', '2016']\n# ['3179461237', '[\"SKWS\",\"Broad\"]', '2016-05-16', '2016']\n# ['3282565342', '[\"SKWS\",\"Broad\"]', '2016-05-16', '2016']\n</code></pre>\n\n<p>Now, your list looks like a JSON list. You can use the <code>json</code> module to read it.</p>\n"}], "owner": {"reputation": 7046, "user_id": 854739, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/61af09414341715d110f08b7505fe114?s=128&d=identicon&r=PG", "display_name": "mikebmassey", "link": "https://stackoverflow.com/users/854739/mikebmassey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1463607588, "creation_date": 1463606981, "question_id": 37310410, "link": "https://stackoverflow.com/questions/37310410/extract-list-from-a-string", "title": "Extract list from a string", "body": "<p>I am extracting data from the Google Adwords Reporting API via <code>Python</code>.  I can successfully pull the data and then hold it in a variable data.  </p>\n\n<pre><code>data = get_report_data_from_google()\n\ntype(data)\nstr\n</code></pre>\n\n<p>Here is a sample:</p>\n\n<pre><code>data = 'ID,Labels,Date,Year\\n3179799191,\"[\"\"SKWS\"\",\"\"Exact\"\"]\",2016-05-16,2016\\n3179461237,\"[\"\"SKWS\"\",\"\"Broad\"\"]\",2016-05-16,2016\\n3282565342,\"[\"\"SKWS\"\",\"\"Broad\"\"]\",2016-05-16,2016\\n'\n</code></pre>\n\n<p>I need to process this data more, and ultimately output a processed flat file (Google Adwords API can return a CSV, but I need to pre-process the data before loading it into a database.).  </p>\n\n<p>If I try to turn <code>data</code> into a <code>csv</code> object, and try to print each line, I get one character per line like: </p>\n\n<pre><code>c = csv.reader(data, delimiter=',')\n\nfor i in c:\n    print(i)\n\n    ['I']\n    ['D']\n    ['', '']\n    ['L']\n    ['a']\n    ['b']\n    ['e']\n    ['l']\n    ['s']\n    ['', '']\n    ['D']\n    ['a']\n    ['t']\n    ['e']\n</code></pre>\n\n<p>So, my idea was to process each column of each line into a list, then add that to a <code>csv</code> object.  Trying that:</p>\n\n<pre><code>for line in data.splitlines():\n    print(line)\n\n3179799191,\"[\"\"SKWS\"\",\"\"Exact\"\"]\",2016-05-16,2016\n</code></pre>\n\n<p>What I actually find is that inside of the <code>str</code>, there is a list: \"[\"\"SKWS\"\",\"\"Exact\"\"]\"</p>\n\n<p>This value is a \"label\" <a href=\"https://developers.google.com/adwords/api/docs/appendix/reports/adgroup-performance-report#labels\" rel=\"nofollow\">documentation</a></p>\n\n<p>This list is formatted a bit weird - it has numerous parentheses in the value, so trying to use a quote char, like \", will return something like this: [ SKWS Exact ].  If I could get to [\"\"SKWS\"\",\"\"Exact\"\"], that would be acceptable.  </p>\n\n<p>Is there a good way to extract a list object within a <code>str</code>?  Is there a better way to process and output this data to a csv?</p>\n"}, {"tags": ["python", "r", "dataframe"], "comments": [{"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463607374, "post_id": 37310404, "comment_id": 62142028, "body": "Are you trying to implment a common algorthim? If not there are libraries that make these types of operations fairly easy (and fast) such as Pandas <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\">pandas.pydata.org</a>."}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463609119, "post_id": 37310404, "comment_id": 62142703, "body": "Well, I am trying to set a pipeline to apply everytime I deal with this kind of data. I know about pandas but my knowledge is not as big to write a script, could you help with that?"}, {"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463609645, "post_id": 37310404, "comment_id": 62142871, "body": "I&#39;m happy to help but generally on SO we do write that much code. If you show me the for loop version than I can show you how to implement it in Pandas."}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1463609814, "post_id": 37310404, "comment_id": 62142933, "body": "Thanks, I will do my best and try to post where I get so far"}], "answers": [{"comments": [{"owner": {"reputation": 10589, "user_id": 3588876, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/U6j8x.jpg?s=128&g=1", "display_name": "rafa.pereira", "link": "https://stackoverflow.com/users/3588876/rafa-pereira"}, "reply_to_user": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "edited": false, "score": 0, "creation_date": 1463612788, "post_id": 37311227, "comment_id": 62143837, "body": "Thank you @eddi. That sounds right to me. Please feel free to edit my answer."}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "edited": false, "score": 0, "creation_date": 1463652731, "post_id": 37311227, "comment_id": 62159792, "body": "Thanks guys, it did the trick, @eddi is there a way to split the different regions or to add the columns <code>BP</code>, and <code>P</code> to your output?"}, {"owner": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "reply_to_user": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "edited": false, "score": 0, "creation_date": 1463672412, "post_id": 37311227, "comment_id": 62175112, "body": "@user2380782 one option is to extract indices and then subset from the original <code>data.table</code> - <code>df[df, {idx = ...; .I[...]}, by = CHR]$V1]</code>"}, {"owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "reply_to_user": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "edited": false, "score": 0, "creation_date": 1463674112, "post_id": 37311227, "comment_id": 62176341, "body": "Thanks @eddi and rafael for your help"}, {"owner": {"reputation": 10589, "user_id": 3588876, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/U6j8x.jpg?s=128&g=1", "display_name": "rafa.pereira", "link": "https://stackoverflow.com/users/3588876/rafa-pereira"}, "reply_to_user": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "edited": false, "score": 0, "creation_date": 1463674468, "post_id": 37311227, "comment_id": 62176560, "body": "@eddi, the code for saving the file does not keep the first column. Is it possible to keep it ?"}, {"owner": {"reputation": 47307, "user_id": 817778, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/20cc8f574b01913048718f0abd4bf861?s=128&d=identicon&r=PG", "display_name": "eddi", "link": "https://stackoverflow.com/users/817778/eddi"}, "edited": false, "score": 1, "creation_date": 1463674561, "post_id": 37311227, "comment_id": 62176617, "body": "sure, here&#39;s one option: <code>fwrite(copy(.SD)[, SNP := SNP],...</code>"}], "tags": [], "owner": {"reputation": 10589, "user_id": 3588876, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/U6j8x.jpg?s=128&g=1", "display_name": "rafa.pereira", "link": "https://stackoverflow.com/users/3588876/rafa-pereira"}, "is_accepted": true, "score": 2, "last_activity_date": 1464734318, "last_edit_date": 1495539849, "creation_date": 1463611243, "answer_id": 37311227, "question_id": 37310404, "link": "https://stackoverflow.com/questions/37310404/subset-recursively-a-data-frame/37311227#37311227", "title": "subset recursively a data.frame", "body": "<p>Here is a partial solution ir R using <code>data.table</code>, which is probably the fastest way to go in R when dealing with large datasets.</p>\n\n<pre><code>library(data.table) # v1.9.7 (devel version)\n\n\ndf &lt;- fread(\"C:/folderpath/data.csv\") # load your data\nsetDT(df) # convert your dataset into data.table\n</code></pre>\n\n<h3>1st step</h3>\n\n<pre><code># Filter data under threshold 0.05 and Sort by CHR, POS\n  df &lt;- df[ P &lt; 0.05, ][order(CHR, POS)]\n</code></pre>\n\n<h3>2nd step</h3>\n\n<pre><code>df[, {idx = (1:.N)[which.min(P)]\n      SNP[seq(max(1, idx - 5e5), min(.N, idx + 5e5))]}, by = CHR]\n</code></pre>\n\n<h3>Saving output in different files</h3>\n\n<pre><code>df[, fwrite(copy(.SD)[, SNP := SNP], paste0(\"output\", SNP,\".csv\")), by = SNP]\n</code></pre>\n\n<p>ps. note that this answer uses <code>fwrite</code>, which is still in the development version of <code>data.table</code>.  <a href=\"https://github.com/Rdatatable/data.table/wiki/Installation\" rel=\"nofollow noreferrer\">Go here for install instructions</a>. You could simply use <code>write.csv</code>, however you're dealing with a big dataset so speed is quite important and <code>fwrite</code> is certainly <a href=\"https://stackoverflow.com/questions/10505605/speeding-up-the-performance-of-write-table\">one of the fastest alternatives</a>. </p>\n"}], "owner": {"reputation": 1480, "user_id": 2380782, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/eadbdb820532449b26763682c17bafce?s=128&d=identicon&r=PG", "display_name": "user2380782", "link": "https://stackoverflow.com/users/2380782/user2380782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 37311227, "answer_count": 1, "score": 0, "last_activity_date": 1464734318, "creation_date": 1463606965, "question_id": 37310404, "link": "https://stackoverflow.com/questions/37310404/subset-recursively-a-data-frame", "title": "subset recursively a data.frame", "body": "<p>I have a data frame with close to a 4 million of rows in it. I need an efficient to way to subset the data based on two criteria. I can do this is a for loop but was wondering if there is a more elegant way to do this, and obviously more efficient. The data.frame looks like this:</p>\n\n<pre><code>SNP         CHR     BP          P\nrs1000000   chr1    126890980   0.000007\nrs10000010  chr4    21618674    0.262098    \nrs10000012  chr4    1357325     0.344192\nrs10000013  chr4    37225069    0.726325    \nrs10000017  chr4    84778125    0.204275    \nrs10000023  chr4    95733906    0.701778\nrs10000029  chr4    138685624   0.260899\nrs1000002   chr3    183635768   0.779574\nrs10000030  chr4    103374154   0.964166    \nrs10000033  chr2    139599898   0.111846    \nrs10000036  chr4    139219262   0.564791\nrs10000037  chr4    38924330    0.392908    \nrs10000038  chr4    189176035   0.971481    \nrs1000003   chr3    98342907    0.000004\nrs10000041  chr3    165621955   0.573376\nrs10000042  chr3    5237152     0.834206    \nrs10000056  chr4    189321617   0.268479\nrs1000005   chr1    34433051    0.764046\nrs10000062  chr4    5254744     0.238011    \nrs10000064  chr4    127809621   0.000044\nrs10000068  chr2    36924287    0.000003\nrs10000075  chr4    179488911   0.100225    \nrs10000076  chr4    183288360   0.962476\nrs1000007   chr2    237752054   0.594928\nrs10000081  chr1    17348363    0.517486    \nrs10000082  chr1    167310192   0.261577    \nrs10000088  chr1    182605350   0.649975\nrs10000092  chr4    21895517    0.000005\nrs10000100  chr4    19510493    0.296693    \n</code></pre>\n\n<p>The first I need to do is to select those <code>SNP</code> with a <code>P</code> value lower than a threshold, then order this subset by <code>CHR</code> and <code>POS</code>. This is the easy part, using <code>subset</code> and <code>order</code>. However, the next step is the tricky one. Once I have this subset, I need to fetch all the <code>SNP</code> that fall into a 500,000 window up and down from the significant <code>SNP</code>, this step will define a region. I need to do it for all the significant <code>SNP</code> and store each region into a list or something similar to carry out further analysis. For example, in the displayed data frame the most significant <code>SNP</code> (i.e below a threshold of 0.001) for <code>CHR==chr1</code> is <code>rs1000000</code> and for <code>CHR==chr4</code> is <code>rs10000092</code>. Thus these two <code>SNP</code> would define two regions and I need to fetch in each of these regions the SNPs that fall into a region of 500,000 up and down from the <code>POS</code> of each of the most significant <code>SNP</code>. </p>\n\n<p>I know it a bit complicated, right now, I am doing the tricky part by hand but it takes a long time to do it. Any help would be appreciated.</p>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 1, "creation_date": 1463606937, "post_id": 37310356, "comment_id": 62141821, "body": "You beat me to it <code>numpy.diag</code> is a good solution. Is it necessary to pass a mutliindex though? wouldn&#39;t this work? <code>pd.Series(np.diag(df), index=[df.index, df.columns])</code>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1463606997, "post_id": 37310356, "comment_id": 62141849, "body": "@johnchase actually that&#39;s a better solution, I just decided to literally do what the OP asked for"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1463607029, "post_id": 37310356, "comment_id": 62141862, "body": "@johnchase please submit an answer with that.  just ran it and works"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 9, "last_activity_date": 1463607349, "last_edit_date": 1495542867, "creation_date": 1463606732, "answer_id": 37310356, "question_id": 37310264, "link": "https://stackoverflow.com/questions/37310264/pandas-dataframe-diagonal/37310356#37310356", "title": "pandas DataFrame diagonal", "body": "<p>You could do something like this:</p>\n\n<pre><code>In [16]:\nmidx = pd.MultiIndex.from_tuples(list(zip(df.index,df.columns)))\npd.DataFrame(data=np.diag(df), index=midx)\n\nOut[16]:\n     0\nA a  2\nB b  2\nC c  3\n</code></pre>\n\n<p><a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.diag.html\" rel=\"nofollow noreferrer\"><code>np.diag</code></a> will give you the diagonal values as a np array, you can then construct the multiindex by zipping the index and columns and pass this as the desired index in the <code>DataFrame</code> ctor.</p>\n\n<p>Actually the complex multiindex generation doesn't need to be so complicated:</p>\n\n<pre><code>In [18]:\npd.DataFrame(np.diag(df), index=[df.index, df.columns])\n\nOut[18]:\n     0\nA a  2\nB b  2\nC c  3\n</code></pre>\n\n<p>But <a href=\"https://stackoverflow.com/questions/37310264/pandas-dataframe-diagonal/37310433#37310433\">johnchase's answer</a> is neater</p>\n"}, {"tags": [], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "is_accepted": true, "score": 43, "last_activity_date": 1463607423, "last_edit_date": 1463607423, "creation_date": 1463607109, "answer_id": 37310433, "question_id": 37310264, "link": "https://stackoverflow.com/questions/37310264/pandas-dataframe-diagonal/37310433#37310433", "title": "pandas DataFrame diagonal", "body": "<p>If you don't mind using numpy you could use <code>numpy.diag</code></p>\n\n<pre><code>pd.Series(np.diag(df), index=[df.index, df.columns])\n\nA  a    2\nB  b    2\nC  c    3\ndtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 4, "last_activity_date": 1463607683, "creation_date": 1463607683, "answer_id": 37310562, "question_id": 37310264, "link": "https://stackoverflow.com/questions/37310264/pandas-dataframe-diagonal/37310562#37310562", "title": "pandas DataFrame diagonal", "body": "<p>You can also use <code>iat</code> in a list comprehension to get the diagonal.</p>\n\n<pre><code>&gt;&gt;&gt; pd.Series([df.iat[n, n] for n in range(len(df))], index=[df.index, df.columns]) \nA  a    2\nB  b    2\nC  c    3\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25797, "favorite_count": 3, "accepted_answer_id": 37310433, "answer_count": 3, "score": 34, "last_activity_date": 1463607683, "creation_date": 1463606271, "question_id": 37310264, "link": "https://stackoverflow.com/questions/37310264/pandas-dataframe-diagonal", "title": "pandas DataFrame diagonal", "body": "<p>What is an efficient way to get the diagonal of a square <code>DataFrame</code>.  I would expect the result to be a <code>Series</code> with a <code>MultiIndex</code> with two levels, the first being the index of the <code>DataFrame</code> the second level being the columns of the <code>DataFrame</code>.</p>\n\n<h1>Setup</h1>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nnp.random.seed([3, 1415])\ndf = pd.DataFrame(np.random.rand(3, 3) * 5,\n                  columns = list('abc'),\n                  index = list('ABC'),\n                  dtype=np.int64\n                 )\n</code></pre>\n\n<p>I want to see this:</p>\n\n<pre><code>print df.stack().loc[[('A', 'a'), ('B', 'b'), ('C', 'c')]]\n\nA  a    2\nB  b    2\nC  c    3\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "opencv", "camera", "camera-calibration"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1463609494, "post_id": 37310210, "comment_id": 62142825, "body": "objpoints are your chessboard points in 3d space. probably they are (0,0);(0,1);(1,1);(1,0); (2,0); etc. in that example the square size (and edge length) is 1. just resize those point positions to get any other square size"}, {"owner": {"reputation": 81, "user_id": 6346518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea441f187c7eccf581f76d9473730963?s=128&d=identicon&r=PG&f=1", "display_name": "M. Ruffolo", "link": "https://stackoverflow.com/users/6346518/m-ruffolo"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1463677657, "post_id": 37310210, "comment_id": 62178354, "body": "@Micka So if my chessboard has squares averaging 25.3mm then those values should count up as (0,0);(0,0.0253):.... ?"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1463677806, "post_id": 37310210, "comment_id": 62178427, "body": "exactly. Or <code>(0, 25.3)</code> if you prefer your 3D coordinate (and camera intrinsics) unit to be <code>[mm]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1370, "user_id": 8199433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1998941780341976/picture?type=large", "display_name": "Abhijit Balaji", "link": "https://stackoverflow.com/users/8199433/abhijit-balaji"}, "edited": false, "score": 0, "creation_date": 1514874223, "post_id": 46052474, "comment_id": 83084986, "body": "The points (0,0) .. (8,5) are of the form (rows,columns) or (x,y)? I feel they are of the form (row,column) but am not sure"}], "tags": [], "owner": {"reputation": 551, "user_id": 5436272, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8be4177840a7c9a1c38de6d116ea383f?s=128&d=identicon&r=PG&f=1", "display_name": "Naseeb Gill", "link": "https://stackoverflow.com/users/5436272/naseeb-gill"}, "is_accepted": false, "score": 5, "last_activity_date": 1504606515, "creation_date": 1504606515, "answer_id": 46052474, "question_id": 37310210, "link": "https://stackoverflow.com/questions/37310210/camera-calibration-with-opencv-how-to-adjust-chessboard-square-size/46052474#46052474", "title": "Camera Calibration with OpenCV - How to adjust chessboard square size?", "body": "<p>Here, if you have your square size assume 30 mm then multiply this value with <code>objp[:,:2]</code>. Like this</p>\n\n<pre><code>objp[:,:2] = np.mgrid[0:9,0:6].T.reshape(-1,2)*30   # 30 mm size of square\n</code></pre>\n\n<p>As <code>objp[:,:2]</code> is a set of points of checkboard corners given as (0,0),(0,1), (0,2) ....(8,5). (0,0) point is the left upper most square corner and (8,5) is the right lowest square corner. In this case, these points have no unit but if we multiply these values with square size (for example 30 mm), then these will become (0,0),(0,30), .....(240,150) which are the real world units. Your translation vector will be in <code>mm units</code> in this case.</p>\n"}], "owner": {"reputation": 81, "user_id": 6346518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea441f187c7eccf581f76d9473730963?s=128&d=identicon&r=PG&f=1", "display_name": "M. Ruffolo", "link": "https://stackoverflow.com/users/6346518/m-ruffolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5780, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1552625584, "creation_date": 1463606074, "question_id": 37310210, "link": "https://stackoverflow.com/questions/37310210/camera-calibration-with-opencv-how-to-adjust-chessboard-square-size", "title": "Camera Calibration with OpenCV - How to adjust chessboard square size?", "body": "<p>I am working on a camera calibration program using the OpenCV/Python example (from: <a href=\"http://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_calib3d/py_calibration/py_calibration.html\" rel=\"nofollow\">OpenCV Tutorials</a>) as a guidebook. </p>\n\n<p><strong>Question:</strong> How do I tailor this example code to account for the size of a square on a particular chessboard pattern? My understanding of the camera calibration process is that this information must somehow be used otherwise the values given by:</p>\n\n<pre><code>cv2.calibrateCamera()\n</code></pre>\n\n<p>will be incorrect. </p>\n\n<p>Here is the portion of my code that reads in image files and runs through the calibration process to produce the camera matrix and other values.</p>\n\n<pre><code>#import cv2\n#import numpy as np\n#import glob\n\n\"\"\"\nCorner Finding\n\"\"\"\n# termination criteria \ncriteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30, 0.001)\n\n# Prepare object points, like (0,0,0), (1,0,0), ....,(6,5,0)\nobjp = np.zeros((5*5,3), np.float32)\nobjp[:,:2] = np.mgrid[0:5,0:5].T.reshape(-1,2)\n\n# Arrays to store object points and image points from all images\nobjpoints = []\nimgpoints = []\n\ncounting = 0\n\n# Import Images\nimages = glob.glob('dir/sub dir/Images/*')\n\nfor fname in images:\n\n    img = cv2.imread(fname)     # Read images\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)    # Convert to grayscale\n\n\n\n    # Find the chess board corners\n    ret, corners = cv2.findChessboardCorners(gray, (5,5), None)\n\n    # if found, add object points, image points (after refining them)\n    if ret == True:\n        objpoints.append(objp)\n\n        cv2.cornerSubPix(gray, corners, (11,11), (-1,-1), criteria)\n        imgpoints.append(corners)\n\n        #Draw and display corners\n        cv2.drawChessboardCorners(img, (5,5), corners, ret)\n        counting += 1\n\n        print str(counting) + ' Viable Image(s)'\n\n        cv2.imshow('img', img)\n        cv2.waitKey(500)\n\ncv2.destroyAllWindows()        \n\n\n# Calibrate Camera    \nret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1],None,None)    \n</code></pre>\n"}, {"tags": ["python", "mysql", "database", "exception-handling"], "comments": [{"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "edited": false, "score": 0, "creation_date": 1463606521, "post_id": 37310175, "comment_id": 62141645, "body": "try except block is not mandatory... a specially at this level of abstraction. Think about complicated program, where DB is one of many levels of communication. Then catching exception and reacting on it is crucial - in other case you can spent days tracking why it fails..."}, {"owner": {"reputation": 1, "user_id": 6353176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9b72eba29371b410dc0d3b151f7e63?s=128&d=identicon&r=PG&f=1", "display_name": "RememberMyFart", "link": "https://stackoverflow.com/users/6353176/remembermyfart"}, "reply_to_user": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "edited": false, "score": 0, "creation_date": 1463606968, "post_id": 37310175, "comment_id": 62141833, "body": "so there is no error handling at all needed ? The script we will use is gonna run the whole time and will insert the different temperatures plus the timestamps every 10 minutes."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1463617751, "post_id": 37310175, "comment_id": 62145025, "body": "I&#39;m voting to close this question as off-topic because this is working code and as such should be on codereview.stackexchange.com"}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1463618060, "post_id": 37310175, "comment_id": 62145095, "body": "Python code needs to be indented correctly.  The best way post your code is to paste it into the Stack Overflow editor, highlight the entire code, and press Ctrl-K."}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "edited": false, "score": 0, "creation_date": 1463649188, "post_id": 37310175, "comment_id": 62157257, "body": "@RememberMyFart - I&#39;ve updated formatting. According to your question. You don&#39;t have to track exceptions at all. In Java there are checked exceptions, so you have to - if not - your code would not compile. However if you wish to react somehow if exception occurred? Maybe sleep - reconnect - retry? Maybe report problem somewhere? That are &quot;issues&quot; addressed by exception handling..."}], "owner": {"reputation": 1, "user_id": 6353176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9b72eba29371b410dc0d3b151f7e63?s=128&d=identicon&r=PG&f=1", "display_name": "RememberMyFart", "link": "https://stackoverflow.com/users/6353176/remembermyfart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1027, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1463650635, "creation_date": 1463605944, "last_edit_date": 1463650635, "question_id": 37310175, "link": "https://stackoverflow.com/questions/37310175/python-to-mysql-database-what-exception-handling", "title": "Python to MySQL Database: What exception handling", "body": "<p>for a project at uni i need to insert different kinds of variables into a MySql Database. Connecting and Inserting the data so far works fine. I don't know how to handle potential errors though. Which potential mistakes and exceptions do i need to catch and take care of ?</p>\n\n<p>In my code i used a main method to just test the program. In the final version just the connection and the SQL queries are copied into the main script. I am open to use either the MySQL or the mysql.connector. Also: Do i need to put the query into a try block aswell ? Here is my code so far:</p>\n\n<pre><code>import mysql.connector\nimport time\nfrom mysql.connector import errorcode\n\ntry:\n    con = mysql.connector.connect(\n        user= 'root',\n        password= '',\n        host='localhost',\n        database= 'testdb')\n    print(\"Connected.\")\n    cursor = con.cursor()\nexcept mysql.connector.Error as e:\n    if e.errno == errorcode.ER_ACCESS_DENIED_ERROR:\n        print(\"Passwort // Username\")\n    elif e.errno == errorcode.ER_BAD_DB_ERROR:\n        print(\"DataBase does not exist\")\n    else:\n        print(e)\n\n\ndef insert_temp(Temperatur_ID, Zeitpunkt, Wert, Thermometer_ID):\n    query = \"INSERT INTO Temperatur (Temperatur_ID, Zeitpunkt, Wert,  Thermometer_ID)\" \\\n            \"VALUES(%s, %s, %s, %s)\"\n    args= (Temperatur_ID, Zeitpunkt, Wert, Thermometer_ID)\n    cursor.execute(query, args)\n    con.commit()\n\n\ndef main():\n    # just test values so far\n    value = 18.5;\n    insert_temp(' ', time.strftime('%Y-%m-%d %H:%M:%S'), value, '1');\n    cursor.close()\n    con.close()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>please note that i have very little experience in python programming</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1463605984, "post_id": 37310151, "comment_id": 62141384, "body": "see <code>re.sub</code> from <code>re</code> module."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "is_accepted": true, "score": 4, "last_activity_date": 1463606550, "last_edit_date": 1463606550, "creation_date": 1463605993, "answer_id": 37310192, "question_id": 37310151, "link": "https://stackoverflow.com/questions/37310151/how-to-subtract-multiple-string-values-from-another-string/37310192#37310192", "title": "How to subtract multiple string values from another string", "body": "<p>You use <code>replace()</code> with an empty string as the value to replace with.</p>\n\n<pre><code>result = word.replace('abc','').replace('xyz','')\n</code></pre>\n"}], "owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1463606362, "accepted_answer_id": 37310192, "answer_count": 1, "score": -2, "last_activity_date": 1463606650, "creation_date": 1463605791, "question_id": 37310151, "link": "https://stackoverflow.com/questions/37310151/how-to-subtract-multiple-string-values-from-another-string", "closed_reason": "Duplicate", "title": "How to subtract multiple string values from another string", "body": "<p>With:</p>\n\n<pre><code>abc = 'abc'\nxyz = 'xyz'\n\nword = 'begin abc- middle_xyz_ end'\n</code></pre>\n\n<p>I need to extract the values of <code>abc</code> and <code>xyz</code> from <code>word</code>.\nThe result should be </p>\n\n<pre><code>result = 'begin - middle__ end'\n</code></pre>\n\n<p>How to achieve this with a minimum amount of code?</p>\n"}, {"tags": ["python", "csv", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463607020, "post_id": 37310335, "comment_id": 62141861, "body": "You answered my last difficult question as well.  Thank you man.  Trying it"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608229, "post_id": 37310335, "comment_id": 62142352, "body": "Im going to accept this as its the basic right concept for my script.  Im going to ask next step once I get this work though :)  Hope your around"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608567, "post_id": 37310335, "comment_id": 62142489, "body": "ValueError: Unable to parse string"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608577, "post_id": 37310335, "comment_id": 62142491, "body": "df2[&#39;TC_NUM&#39;] = pd.to_numeric(df2[&#39;TC_NUM&#39;])"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608627, "post_id": 37310335, "comment_id": 62142511, "body": "Yes, no problem. There are something non numerical values. Use <code>df2[&#39;TC_NUM&#39;] = pd.to_numeric(df2[&#39;TC_NUM&#39;], errors=&#39;coerce&#39;)</code>."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608722, "post_id": 37310335, "comment_id": 62142551, "body": "Or another solution is convert to <code>string</code> column in <code>df1</code>: <code>df1[&#39;TC_NUM&#39;] = df1[&#39;TC_NUM&#39;].astype(str)</code> instead of <code>df2[&#39;TC_NUM&#39;] = pd.to_numeric(df2[&#39;TC_NUM&#39;], errors=&#39;coerce&#39;)</code>."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608817, "post_id": 37310335, "comment_id": 62142595, "body": "dialog_testcase_0103.0016_goodbye.xml\t103.0017\t dialog_testcase_0103.0017_goodbye.xml\t\tFIT-3304 dialog_testcase_0103.0017_goodbye.xml\t\tFIT-3057 dialog_testcase_0103.0017_goodbye.xml\t\tFIT-1056 dialog_testcase_0103.0017_goodbye.xml\t\tFIT-831 dialog_testcase_0103.0017_goodbye.xml\t\tFIT-491 dialog_testcase_0103.0017_goodbye.xml\t\tFIT-3980"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463608848, "post_id": 37310335, "comment_id": 62142607, "body": "Hmm I have to play with this code more.  Thank you again"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463609077, "post_id": 37310335, "comment_id": 62142686, "body": "What do you think multiple <code>KEYS</code>? Something like <code>101.0011, 101.0004</code> ?"}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463609233, "post_id": 37310335, "comment_id": 62142738, "body": "dialog_testcase_0133.0002_filled_pause.xml\tUXSCIENCE-88 dialog_testcase_0133.0002_filled_pause.xml\tUXSCIENCE-88"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463609351, "post_id": 37310335, "comment_id": 62142779, "body": "Can you share data, e.g. dropbox or gdocuments ?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1463609585, "post_id": 37310335, "comment_id": 62142852, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/112334/discussion-between-jezrael-and-eddwinn\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1463607087, "last_edit_date": 1463607087, "creation_date": 1463606621, "answer_id": 37310335, "question_id": 37310141, "link": "https://stackoverflow.com/questions/37310141/python-pandas-merge-if-numbers-equal/37310335#37310335", "title": "Python Pandas merge if numbers equal", "body": "<p>You can after <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html\" rel=\"nofollow\"><code>set_index</code></a> remove first <code>3</code> char from column <code>TC_NUM</code>, <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.split.html\" rel=\"nofollow\"><code>split</code></a> by <code>,</code> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.unstack.html\" rel=\"nofollow\"><code>unstack</code></a> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow\"><code>reset_index</code></a> create new <code>DataFrame</code> for <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.merge.html\" rel=\"nofollow\"><code>merge</code></a>. Both columns <code>TC_NUM</code> have to be set to equal <code>dtype</code> - <code>string</code> or <code>numeric</code>. I choose <code>numeric</code>, so I convert column <code>df2.TC_NUM</code> <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_numeric.html\" rel=\"nofollow\"><code>to_numeric</code></a>:</p>\n\n<pre><code>df2.set_index('KEYS',inplace=True)\n\ndf2 = df2.TC_NUM.str[3:]\n                .str.split(', ', expand=True)\n                .unstack()\n                .reset_index(drop=True, level=0)\n                .reset_index(name='TC_NUM')\n\ndf2['TC_NUM'] = pd.to_numeric(df2['TC_NUM'])\nprint (df2)\n        KEYS     TC_NUM\n0   FIT-3982   101.0011\n1   FIT-3980   801.0011\n2   FIT-3979   101.0006\n3   FIT-3982   101.0004\n4   FIT-3980   901.0070\n5   FIT-3979   501.0010\n6   FIT-3982        NaN\n7   FIT-3980        NaN\n8   FIT-3979  1907.0019\n9   FIT-3982        NaN\n10  FIT-3980        NaN\n11  FIT-3979  1907.0020\n12  FIT-3982        NaN\n13  FIT-3980        NaN\n14  FIT-3979  1907.0021\n</code></pre>\n\n\n\n<pre><code>mergedOpen = pd.merge(df1, df2, on='TC_NUM', how='left')\nprint (mergedOpen)\n                                       ID    TC_NUM      KEYS\n0  dialog_testcase_0101.0001_greeting.xml  101.0001       NaN\n1  dialog_testcase_0101.0002_greeting.xml  101.0002       NaN\n2  dialog_testcase_0101.0003_greeting.xml  101.0003       NaN\n3  dialog_testcase_0101.0004_greeting.xml  101.0004  FIT-3982\n4  dialog_testcase_0101.0005_greeting.xml  101.0005       NaN\n5  dialog_testcase_0101.0006_greeting.xml  101.0006  FIT-3979\n6  dialog_testcase_0901.0008_greeting.xml  901.0007       NaN\n7  dialog_testcase_0101.0008_greeting.xml  101.0008       NaN\n8   dialog_testcase_0501.001_greeting.xml  501.0010  FIT-3979\n9  dialog_testcase_0801.0011_greeting.xml  801.0011  FIT-3980\n\nmergedOpen.set_index('TC_NUM', inplace=True)\nmergedOpen.to_csv('MergedCSVOPEN.csv')\n</code></pre>\n"}], "owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 1, "accepted_answer_id": 37310335, "answer_count": 1, "score": 1, "last_activity_date": 1463607087, "creation_date": 1463605750, "question_id": 37310141, "link": "https://stackoverflow.com/questions/37310141/python-pandas-merge-if-numbers-equal", "title": "Python Pandas merge if numbers equal", "body": "<p>Im trying to merge two csv's based on a condition.  The Value 'KEYS' on csv2 has to match the 'TCNUM' on CSV1, and append it the third column.  The csv's are very large and it has to be done through code.</p>\n\n<p>df1 - CSV1:</p>\n\n<pre><code>ID                                       TC_NUM\ndialog_testcase_0101.0001_greeting.xml  101.0001\ndialog_testcase_0101.0002_greeting.xml  101.0002\ndialog_testcase_0101.0003_greeting.xml  101.0003\ndialog_testcase_0101.0004_greeting.xml  101.0004\ndialog_testcase_0101.0005_greeting.xml  101.0005\ndialog_testcase_0101.0006_greeting.xml  101.0006\ndialog_testcase_0901.0008_greeting.xml  901.0007\ndialog_testcase_0101.0008_greeting.xml  101.0008\ndialog_testcase_0501.001_greeting.xml   501.001\ndialog_testcase_0801.0011_greeting.xml  801.0011\n</code></pre>\n\n<p>df2 - CSV2: </p>\n\n<pre><code>KEYS             TC_NUM\nFIT-3982    TC 101.0011, 101.0004\nFIT-3980    TC 801.0011.901.007\nFIT-3979    TC 101.0006, 501.001, 1907.0019, 1907.0020, 1907.0021\n</code></pre>\n\n<p>What I want:</p>\n\n<p>csvFinal:</p>\n\n<pre><code>ID                                       TC_NUM        Keys\ndialog_testcase_0101.0001_greeting.xml  101.0011     FIT-3982  \ndialog_testcase_0101.0002_greeting.xml  101.0002       \ndialog_testcase_0101.0003_greeting.xml  101.0006     FIT_3979\ndialog_testcase_0101.0004_greeting.xml  101.0004     FIT-3982\ndialog_testcase_0101.0005_greeting.xml  101.0005\ndialog_testcase_0101.0006_greeting.xml  101.0011     FIT_3982\ndialog_testcase_0901.0008_greeting.xml  901.0007     FIT_3979\ndialog_testcase_0101.0008_greeting.xml  101.0008\ndialog_testcase_0501.001_greeting.xml   501.001      FIT-3979\ndialog_testcase_0801.0011_greeting.xml  801.0011     FIT-3980\n</code></pre>\n\n<p>My code ..</p>\n\n<pre><code>mergedOpen = pd.merge(df1, df2, on=['TC_NUM'])\nmergedOpen.set_index('TC_NUM', inplace=True)\n\nmergedOpen.to_csv('MergedCSVOPEN.csv')\n</code></pre>\n"}, {"tags": ["python", "operator-overloading", "division"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 4, "last_activity_date": 1463606653, "creation_date": 1463606653, "answer_id": 37310343, "question_id": 37310077, "link": "https://stackoverflow.com/questions/37310077/python-rtruediv-does-not-work-as-i-expect/37310343#37310343", "title": "Python: rtruediv does not work as I expect", "body": "<p><code>__rtruediv__</code> only has priority over <code>__truediv__</code> if the right-hand operand is an instance of a subclass of the left-hand operand's class.</p>\n\n<p>When you do <code>343 / x</code>, <code>NewInt</code> is a subclass of <code>int</code>, so x's <code>__rtruediv__</code> gets priority. When you do <code>343.3 / x</code>, <code>NewInt</code> is not a subclass of <code>float</code>, so 343.3's <code>__truediv__</code> gets priority.</p>\n\n<p><code>343.3.__truediv__(x)</code> doesn't return <code>NotImplemented</code>, since <code>float</code> knows how to divide a float by an int. Thus, <code>x.__rtruediv__</code> doesn't get called.</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 3022842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0beca359e62a9e8d51a109bf7eb751cd?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/3022842/dave"}, "edited": false, "score": 0, "creation_date": 1463617795, "post_id": 37310362, "comment_id": 62145035, "body": "ahh.. both this and the one below are great answers. I had no idea of the actual details in how Python handles objects on the right side of an operator. It is not quite how I expected, and I can now see it needs to be this way. There is, in fact, then, no way to over-ride the operation of: 343.3/x using any new method in NewInt because it is using the truediv method of the float object. Over-riding operators becomes more complex than one might first think.. Some texts seems to leave out this &#39;detail&#39;"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 69, "user_id": 3022842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0beca359e62a9e8d51a109bf7eb751cd?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/3022842/dave"}, "edited": false, "score": 0, "creation_date": 1463621738, "post_id": 37310362, "comment_id": 62145997, "body": "That is not quite correct.  It is possible, if <code>NewInt</code> is changed not to inherit <code>int</code> (or any other class that float knows how to divide by).  In this case, the left-hand-side attempt will fail, however the right-hand-side now gets a shot.  Then, assuming you have implemented <code>__rtruediv__</code> correctly, the result from the right operand&#39;s division method will be returned without any error."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 5, "last_activity_date": 1570395837, "last_edit_date": 1570395837, "creation_date": 1463606761, "answer_id": 37310362, "question_id": 37310077, "link": "https://stackoverflow.com/questions/37310077/python-rtruediv-does-not-work-as-i-expect/37310362#37310362", "title": "Python: rtruediv does not work as I expect", "body": "<p>In short, the left operand gets the first shot at handling the operation, except under some special circumstances.  </p>\n\n<p>The relevant documentation here is in <a href=\"https://docs.python.org/reference/datamodel.html#emulating-numeric-types\" rel=\"nofollow noreferrer\">emulating numeric types</a>:</p>\n\n<blockquote>\n  <p><strong>Note:</strong> If the right operand's type is a subclass of the left operand's type and that subclass provides the reflected method for the operation, this method will be called before the left operand's non-reflected method. This behavior allows subclasses to override their ancestors' operations.</p>\n</blockquote>\n\n<p>So in the case of:</p>\n\n<pre><code>343.3 / x  # does not call __rtruediv__\n</code></pre>\n\n<p>The left hand wins because <code>float</code> division by <code>int</code> is defined, and <code>NewInt</code> <a href=\"https://en.wikipedia.org/wiki/Is-a\" rel=\"nofollow noreferrer\">is a</a>n <code>int</code>.  That is, <code>343.3.__truediv__(x)</code> succeeds without error.  </p>\n\n<p>Let's reconcile all four cases in light of the documentation to see that there is not really any inconsistent behaviour here:</p>\n\n<pre><code>343 / x     # x.__rtruediv__ wins because NewInt subclasses int\n343.3 / x   # 343.3.__truediv__ wins because NewInt doesn't subclass float\nx / 343     # x.__truediv__ wins because int doesn't subclass NewInt\nx / 343.3   # x.__truediv__ wins because float doesn't subclass NewInt\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 3022842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0beca359e62a9e8d51a109bf7eb751cd?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/3022842/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2266, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1570395837, "creation_date": 1463605437, "question_id": 37310077, "link": "https://stackoverflow.com/questions/37310077/python-rtruediv-does-not-work-as-i-expect", "title": "Python: rtruediv does not work as I expect", "body": "<p>Using V3 of python, I create:</p>\n\n<pre><code>class NewInt(int):\n  def __rtruediv__(self, num):\n    print('in here')\n\nx = NewInt(5)\n\n343 / x    # called rtruediv as I expect, but\n\n343.3 / x  # does not call rtruediv\n</code></pre>\n\n<p>Not sure why this is because:</p>\n\n<pre><code>x / 343\nx / 343.3   #both will call truediv\n</code></pre>\n\n<p>To me, this seems inconsistent .. </p>\n\n<p>Anyone have an explanation of why this is.. and when Python does 343.3 / x is there a method that can be overridden ?</p>\n\n<p>I found this behaviour when reviewing some information on over-loading and came across this inconsistency.</p>\n\n<p>Dave</p>\n"}, {"tags": ["javascript", "python", "sockets", "streaming"], "answers": [{"comments": [{"owner": {"reputation": 1347, "user_id": 4857526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-GGgvA5iJ-DI/AAAAAAAAAAI/AAAAAAAAAEM/-SDRm8mHdtw/photo.jpg?sz=128", "display_name": "Anthony Chung", "link": "https://stackoverflow.com/users/4857526/anthony-chung"}, "edited": false, "score": 0, "creation_date": 1463634248, "post_id": 37310413, "comment_id": 62149003, "body": "Does it make a difference that I&#39;m using Django on the backend? I see that there are libraries such as this <a href=\"https://github.com/abourget/gevent-socketio\" rel=\"nofollow noreferrer\">github.com/abourget/gevent-socketio</a>. is this the right tool for what I&#39;m trying to accomplish or is there an easier one?"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 1347, "user_id": 4857526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-GGgvA5iJ-DI/AAAAAAAAAAI/AAAAAAAAAEM/-SDRm8mHdtw/photo.jpg?sz=128", "display_name": "Anthony Chung", "link": "https://stackoverflow.com/users/4857526/anthony-chung"}, "edited": false, "score": 1, "creation_date": 1463635000, "post_id": 37310413, "comment_id": 62149212, "body": "It doesn&#39;t matter what backend you&#39;re using.  You can use the <code>gevent-socketio</code> implementation, or just use the normal nodejs socket.io.  Either way it&#39;s generally running as a separate process/server."}, {"owner": {"reputation": 1347, "user_id": 4857526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-GGgvA5iJ-DI/AAAAAAAAAAI/AAAAAAAAAEM/-SDRm8mHdtw/photo.jpg?sz=128", "display_name": "Anthony Chung", "link": "https://stackoverflow.com/users/4857526/anthony-chung"}, "edited": false, "score": 0, "creation_date": 1463665439, "post_id": 37310413, "comment_id": 62169405, "body": "if I used node.js socket.io (more familiar with that platform), I&#39;d just implement something like this then? <a href=\"https://gist.github.com/mattgorecki/1375505\" rel=\"nofollow noreferrer\">gist.github.com/mattgorecki/1375505</a>. I have a node.js server that serves my client-side data so I might just use that one. Thanks for answering my follow up btw. if you don&#39;t answer I&#39;ll just go down the node path"}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1463607000, "creation_date": 1463607000, "answer_id": 37310413, "question_id": 37310072, "link": "https://stackoverflow.com/questions/37310072/python-to-stream-dictionary-processing/37310413#37310413", "title": "python to &quot;stream&quot; dictionary processing", "body": "<p>You can do this using websockets.  Generally, you would have a separate socket server running, like <a href=\"http://socket.io/\" rel=\"nofollow\"><code>socket.io</code></a>.  Both your web server and client-side javascript would connect to the socket server and communicate back and forth, or in your case, just continuously sending messages to the client.</p>\n"}], "owner": {"reputation": 1347, "user_id": 4857526, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-GGgvA5iJ-DI/AAAAAAAAAAI/AAAAAAAAAEM/-SDRm8mHdtw/photo.jpg?sz=128", "display_name": "Anthony Chung", "link": "https://stackoverflow.com/users/4857526/anthony-chung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463607000, "creation_date": 1463605416, "question_id": 37310072, "link": "https://stackoverflow.com/questions/37310072/python-to-stream-dictionary-processing", "title": "python to &quot;stream&quot; dictionary processing", "body": "<p>I have an algorithm in python that does an exhaustive search of possibilities given a set of inputs.</p>\n\n<p>This is hooked up to a web application and can take up to 15 seconds to fully process.</p>\n\n<p>So...yes I want to eventually improve on the algo and process quicker, but I'd also like to include a visualization that streams the possibilities python is working with until it arrives at a solution.</p>\n\n<p>In my terminal, python generates the list of possibilities line by line until it finds a combo that satisfies the requirements</p>\n\n<p><strong>How can I hook Python's terminal output up with my client-side framework</strong></p>\n\n<p>Ideally it would simulate the terminal's output and the user can see evidence that the algo is running while they wait.</p>\n\n<p>Would I convert the output to bytes, open a socket, and then stream the data within my application as I deserialize it?</p>\n"}, {"tags": ["python", "python-2.7", "function", "arguments", "typeerror"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1463606659, "post_id": 37310058, "comment_id": 62141708, "body": "Is it part of a class? Is there relevant code that you have excluded? Please edit your question to include an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1463606719, "post_id": 37310058, "comment_id": 62141740, "body": "Well, your guess that it has to do with <code>self</code> is a pretty good one. Normally that is indeed related to this apparent disparity in number of arguments. However, it&#39;s not clear from the code snippets you&#39;ve included how <code>self</code> would be involved in your case."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463606883, "post_id": 37310058, "comment_id": 62141802, "body": "You are not importing what you think you are, you obviously have not saved the file and you are  importing from the prvious versions .pyc"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1463606935, "post_id": 37310058, "comment_id": 62141820, "body": "Are you sure this is the definition of <code>deck_creator</code>? You may have redefined it elsewhere, perhaps by naming a class with the same name."}, {"owner": {"reputation": 11, "user_id": 5991617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0d2fcbe0ddea66e7c69237d36fac09?s=128&d=identicon&r=PG", "display_name": "cslewis", "link": "https://stackoverflow.com/users/5991617/cslewis"}, "edited": false, "score": 0, "creation_date": 1463620679, "post_id": 37310058, "comment_id": 62145742, "body": "It isn&#39;t in a class, and that is all the code in the file.  As well, this is the first thing I&#39;ve ever made with that name.  Maybe something in the library that comes with python 2.7 is already named that?"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "edited": false, "score": 0, "creation_date": 1463621527, "post_id": 37310058, "comment_id": 62145955, "body": "Maybe just in case run <code>find . -name &quot;*.pyc&quot;</code> from your project root dir and if you see a <code>*.pyc</code> of card_deck_creator, rerun it with delete to start clean: <code>find . -name &quot;*.pyc&quot; -delete</code>"}, {"owner": {"reputation": 11, "user_id": 5991617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0d2fcbe0ddea66e7c69237d36fac09?s=128&d=identicon&r=PG", "display_name": "cslewis", "link": "https://stackoverflow.com/users/5991617/cslewis"}, "edited": false, "score": 0, "creation_date": 1463684280, "post_id": 37310058, "comment_id": 62182012, "body": "The find command turned up nothing.  I should be storing my function file that I want to call in C:/python27/Lib, correct?  I ran the find in both my code storage folder and the python27/Lib and it didn&#39;t find anything"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1463687121, "post_id": 37310058, "comment_id": 62183515, "body": "Well, not that this necessarily has to do with your error, but: No, <code>C:\\Python27\\Lib</code> is not where your &quot;function file&quot; (or anything you write yourself) should go. Whatever you are calling your &quot;code storage folder&quot; (which I hope is completely outside of <code>C:\\Python27</code>) is where you should put everything you write, that relates to this project. You are encouraged to have different folders for different projects."}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1463687783, "post_id": 37310058, "comment_id": 62183870, "body": "You have two different code snippets that you&#39;ve said are &quot;all the code in the file&quot;. I would guess the second, longer snippet is a file called <code>card_deck_creator.py</code>. But it&#39;s just a guess; you should really say explicitly. The first, shorter snippet I have no clue about. It&#39;s clearly not <code>gofish.py</code> because the error message says <code>gofish.py</code> has at least 20 lines, and line 20 is <code>deck_creator()</code> on a line by itself. So you see, you are giving us incomplete or incorrect information about your situation."}, {"owner": {"reputation": 11, "user_id": 5991617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0d2fcbe0ddea66e7c69237d36fac09?s=128&d=identicon&r=PG", "display_name": "cslewis", "link": "https://stackoverflow.com/users/5991617/cslewis"}, "edited": false, "score": 0, "creation_date": 1463691690, "post_id": 37310058, "comment_id": 62185829, "body": "I have been saving all my different stuff in code files, I wasn&#39;t sure if modules I wanted to call needed to be in the python27/Lib, so thank you for that info!  I put it back into my code file, deleted the gofish.py and made a new one and it works.  Thank you all!"}], "owner": {"reputation": 11, "user_id": 5991617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df0d2fcbe0ddea66e7c69237d36fac09?s=128&d=identicon&r=PG", "display_name": "cslewis", "link": "https://stackoverflow.com/users/5991617/cslewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1463621060, "creation_date": 1463605355, "last_edit_date": 1463621060, "question_id": 37310058, "link": "https://stackoverflow.com/questions/37310058/python-2-type-error-fn-takes-exactly-1-argument-0-given-but-fn-should-h", "title": "python 2 &quot;type error: fn() takes exactly 1 argument (0 given)&quot; but fn() should have 0 args", "body": "<p>I'm new to code in general, so this is probably a silly error.  In Python 2, My function runs fine when I run it from the file, but when I import it in another file it throws:</p>\n\n<pre><code>File \"gofish.py\", line 20, in &lt;module&gt;\n  deck_creator()\nTypeError: deck_creator() takes exactly 1 argument (0 given)\n</code></pre>\n\n<p>My function <em>doesn't have any arguments</em>, or at least I don't think it does but I am a newbie, but python seems to think it does, and I'm inclined to believe Python. I've searched resources for two days now and can't seem to solve it.  <strong>It is not part of a class and that is all the code that is in the file.</strong></p>\n\n<p>The code I'm using in the new file that throws the above error (all the code in that file):</p>\n\n<pre><code>from card_deck_creator import deck_creator\n\ncards = deck_creator()\n\nprint cards\n</code></pre>\n\n<p>The code for the function is (this is all the code in the file):</p>\n\n<pre><code>\"\"\"\n\nAutomated card deck creator\n\n\"\"\"\n\ndef deck_creator():\n    # create lists needed\n    deck = []\n    suit_types = ['H', 'D', 'S', 'C']\n\n    # update the suit\n    for s in range(len(suit_types)):\n        suit = suit_types[s]\n\n        # loop that adds cards to deck\n        for x in range(2,15):\n            # if statements for jack, queen, king, ace\n            if x == 11:\n                deck.append('J' + suit)\n            elif x == 12:\n                deck.append('Q' + suit)\n            elif x == 13:\n                deck.append('K' + suit)\n            elif x == 14:\n                deck.append('A' + suit) \n            else:\n                deck.append(str(x) + suit)\n\n    return deck\n</code></pre>\n\n<p>I feel this has something to do with the whole \"self\" aspect of Python which I haven't fully learned yet.  Any help would be great and hopefully future new users can find this and learn from it.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1463605292, "post_id": 37310032, "comment_id": 62141041, "body": "What error do you get?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6134930, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7c1ab41d8aa0f8877e608168b6a97658?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6134930/daniel"}, "edited": false, "score": 0, "creation_date": 1463605451, "post_id": 37310053, "comment_id": 62141125, "body": "call(r&quot;C:\\\\Windows\\system32\\notepad.exe&quot;) works from cmd but not from PyCharm. Is there a reason for that?"}, {"owner": {"reputation": 2473, "user_id": 4490706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nmMcD.jpg?s=128&g=1", "display_name": "Ton Plooij", "link": "https://stackoverflow.com/users/4490706/ton-plooij"}, "edited": false, "score": 0, "creation_date": 1463605482, "post_id": 37310053, "comment_id": 62141152, "body": "call(r&quot;C:\\Windows\\system32\\notepad.exe&quot;)"}, {"owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "edited": false, "score": 0, "creation_date": 1463605637, "post_id": 37310053, "comment_id": 62141225, "body": "What ever your full path to the file is, put as the string. You can see in windows explorer what the path to notepad.exe is. For example on my system the full path to notepad is: <code>C:\\Windows\\System32\\notepad.exe</code>"}, {"owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "edited": false, "score": 0, "creation_date": 1463605747, "post_id": 37310053, "comment_id": 62141291, "body": "Also on most systems <code>call(&quot;notepad.exe&quot;)</code> should work. Your question is very system specific. In some cases you may even need to run with admin privileges. Also who ever downvoted could you please provide some context."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 25, "user_id": 6134930, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7c1ab41d8aa0f8877e608168b6a97658?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6134930/daniel"}, "edited": false, "score": 2, "creation_date": 1463612400, "post_id": 37310053, "comment_id": 62143715, "body": "@Daniel: unrelated: do not use <code>from subprocess import *</code> in a non-interactive setting: it makes it harder to say where a name in the code comes from. See <a href=\"https://www.python.org/dev/peps/pep-0008/#imports\" rel=\"nofollow noreferrer\">pep-8</a>."}], "tags": [], "owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "is_accepted": false, "score": 0, "last_activity_date": 1463605921, "last_edit_date": 1463605921, "creation_date": 1463605338, "answer_id": 37310053, "question_id": 37310032, "link": "https://stackoverflow.com/questions/37310032/why-is-python-this-code-not-working/37310053#37310053", "title": "Why is python this code not working?", "body": "<p>Use a String literal with prefix <code>r</code> .\nThe issue is you are using <code>\\n</code> which represents a new line character</p>\n\n<pre><code>from subprocess import *\ncall(r\"C:\\Windows\\System32\\notepad.exe\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1463606776, "post_id": 37310167, "comment_id": 62141757, "body": "I find it a little weird to trying for platform independence when part of the path is <code>Windows</code>..."}, {"owner": {"reputation": 142, "user_id": 6287742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae6080b544759c06bbc904ac0dce2f2?s=128&d=identicon&r=PG&f=1", "display_name": "ciropom", "link": "https://stackoverflow.com/users/6287742/ciropom"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1463679113, "post_id": 37310167, "comment_id": 62179120, "body": "Of course this is just an example. In a general purpose program the path will not be hardcoded like this.. moreover by looking at the output of os.path.join on your OS you will find the right way of putting slashes"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1463685065, "post_id": 37310167, "comment_id": 62182463, "body": "Not to mention the fact that the first code block doesn&#39;t actually fix the problem."}], "tags": [], "owner": {"reputation": 142, "user_id": 6287742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae6080b544759c06bbc904ac0dce2f2?s=128&d=identicon&r=PG&f=1", "display_name": "ciropom", "link": "https://stackoverflow.com/users/6287742/ciropom"}, "is_accepted": false, "score": -2, "last_activity_date": 1463605894, "creation_date": 1463605894, "answer_id": 37310167, "question_id": 37310032, "link": "https://stackoverflow.com/questions/37310032/why-is-python-this-code-not-working/37310167#37310167", "title": "Why is python this code not working?", "body": "<p>You have an extra space in your path between C:\\ and Windows.\nTry:</p>\n\n<pre><code>from subprocess import *\ncall(\"C:\\\\Windows\\system32\\notepad.exe\")\n</code></pre>\n\n<p>however best practice is to use the os.path module functions to build paths platform-independent:</p>\n\n<p><code>os.path.join( \"C:\", \"Windows\", \"system32\", \"notepad.exe\" )</code></p>\n"}], "owner": {"reputation": 25, "user_id": 6134930, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7c1ab41d8aa0f8877e608168b6a97658?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/6134930/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1463606052, "creation_date": 1463605261, "last_edit_date": 1463605347, "question_id": 37310032, "link": "https://stackoverflow.com/questions/37310032/why-is-python-this-code-not-working", "title": "Why is python this code not working?", "body": "<p>I'm new to python and I need to open notepad.exe using subprocess module. The code :</p>\n\n<pre><code>    from subprocess import *\n    call(\"C:\\Windows\\system32\\notepad.exe\")\n</code></pre>\n\n<p>doesn't seem to work. The program just runs, returns 0 but notepad doesn't open at all.\nThanks in advance</p>\n"}, {"tags": ["python", "mysql", "scrapy"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463605274, "post_id": 37310024, "comment_id": 62141035, "body": "How does it &quot;not work&quot;?"}, {"owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463605357, "post_id": 37310024, "comment_id": 62141077, "body": "@Padraic the insertion doesnt work. but the connection yes. when i run the query select * from website. i got empty values"}, {"owner": {"reputation": 4546, "user_id": 2781701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5745f276004f077454f27cde70858a1d?s=128&d=identicon&r=PG", "display_name": "Rafael Almeida", "link": "https://stackoverflow.com/users/2781701/rafael-almeida"}, "edited": false, "score": 0, "creation_date": 1463606299, "post_id": 37310024, "comment_id": 62141534, "body": "What&#39;s the error that scrapy throws in the console?"}, {"owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "reply_to_user": {"reputation": 4546, "user_id": 2781701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5745f276004f077454f27cde70858a1d?s=128&d=identicon&r=PG", "display_name": "Rafael Almeida", "link": "https://stackoverflow.com/users/2781701/rafael-almeida"}, "edited": false, "score": 0, "creation_date": 1463606380, "post_id": 37310024, "comment_id": 62141573, "body": "@Rafael Error is: return md5(item[&#39;url&#39;]).hexdigest() TypeError: must be string or buffer, not list"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463606487, "post_id": 37310024, "comment_id": 62141626, "body": "<code>item[&#39;url&#39;]</code> is a list, this has nothing to do with mysql. Use <code>&quot;&quot;.join(item[&#39;url&#39;]))</code>"}, {"owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "edited": false, "score": 0, "creation_date": 1463607030, "post_id": 37310024, "comment_id": 62141864, "body": "I had tried it out without item, but it still doesnt insert to mysql server"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463607524, "post_id": 37310024, "comment_id": 62142082, "body": "Are you sure there is anything to insert, have you seen what is returned?"}, {"owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463607640, "post_id": 37310024, "comment_id": 62142128, "body": "@Padraic Yes. There was nothing insert. I dont know where is the bug. At terminal there are, the items scrapped. but at mysql server it doesnt inserted. You can try it out"}, {"owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "edited": false, "score": 0, "creation_date": 1463608768, "post_id": 37310024, "comment_id": 62142574, "body": "One error is also 2016-05-18 23:58:33 [scrapy] WARNING: Dropped: Field &#39;n&#39; missing: {&#39;name&#39;: [u&#39;Hermann Kurzke&#39;]}"}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1463677334, "post_id": 37310024, "comment_id": 62178178, "body": "your item values are lists, transform them to string. Put an item example to check."}], "owner": {"reputation": 67, "user_id": 3786117, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1e91bd7ec25d77deb6508ba3d7697863?s=128&d=identicon&r=PG&f=1", "display_name": "user3786117", "link": "https://stackoverflow.com/users/3786117/user3786117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1463605239, "creation_date": 1463605239, "question_id": 37310024, "link": "https://stackoverflow.com/questions/37310024/scrapy-loading-items-to-mysql-server", "title": "scrapy loading items to mysql server", "body": "<p>I want tt scrap the data into mysql, but it doesnt work. I don t know where is the bug. I had tried it out but it doesnt work.\nPlease,load first the schema() at first.\nCan you help me please.</p>\n\n<p><strong>Mysql Code</strong></p>\n\n<pre><code>DROP TABLE IF EXISTS website;\nCREATE TABLE website (\n  guid CHAR(32) PRIMARY KEY,\n  name TEXT,\n  url TEXT,\n  updated DATETIME\n) DEFAULT CHARSET=utf8;\n</code></pre>\n\n<p><strong>pipeline.py</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom datetime import datetime\nimport MySQLdb\nfrom hashlib import md5\nfrom scrapy import log\nfrom scrapy.exceptions import DropItem\nfrom twisted.enterprise import adbapi\n# Define your item pipelines here\n#\n# Don't forget to add your pipeline to the ITEM_PIPELINES setting\n# See: http://doc.scrapy.org/en/latest/topics/item-pipeline.html\n\nclass FilterWordsPipeline(object):\n    \"\"\"A pipeline for filtering out items which contain certain words in their\n    description\"\"\"\n'''\n    # put all words in lowercase\n    words_to_filter = ['politics', 'religion']\n\n    def process_item(self, item, spider):\n        for word in self.words_to_filter:\n            desc = item.get('description') or ''\n            if word in desc.lower():\n                raise DropItem(\"Contains forbidden word: %s\" % word)\n        else:\n            return item\n\n'''\n\nclass RequiredFieldsPipeline(object):\n    \"\"\"A pipeline to ensure the item have the required fields.\"\"\"\n\n    required_fields = ('name', 'url')\n\n    def process_item(self, item, spider):\n        for field in self.required_fields:\n            if not item.get(field):\n                raise DropItem(\"Field '%s' missing: %r\" % (field, item))\n        return item\n\n\nclass MySQLStorePipeline(object):\n    \"\"\"A pipeline to store the item in a MySQL database.\n\n    This implementation uses Twisted's asynchronous database API.\n    \"\"\"\n\n    def __init__(self, dbpool):\n        self.dbpool = dbpool\n\n    @classmethod\n    def from_settings(cls, settings):\n        dbargs = dict(\n            host=settings['MYSQL_HOST'],\n            db=settings['MYSQL_DBNAME'],\n            user=settings['MYSQL_USER'],\n            passwd=settings['MYSQL_PASSWD'],\n            charset='utf8',\n            use_unicode=True,\n        )\n        dbpool = adbapi.ConnectionPool('MySQLdb', **dbargs)\n        return cls(dbpool)\n\n    def process_item(self, item, spider):\n        # run db query in the thread pool\n        d = self.dbpool.runInteraction(self._do_upsert, item, spider)\n        d.addErrback(self._handle_error, item, spider)\n        # at the end return the item in case of success or failure\n        d.addBoth(lambda _: item)\n        # return the deferred instead the item. This makes the engine to\n        # process next item (according to CONCURRENT_ITEMS setting) after this\n        # operation (deferred) has finished.\n        return d\n\n    def _do_upsert(self, conn, item, spider):\n        \"\"\"Perform an insert or update.\"\"\"\n        guid = self._get_guid(item)\n        now = datetime.utcnow().replace(microsecond=0).isoformat(' ')\n\n        conn.execute(\"\"\"SELECT EXISTS(\n            SELECT 1 FROM website WHERE guid = %s\n        )\"\"\", (guid, ))\n        ret = conn.fetchone()[0]\n\n        if ret:\n            conn.execute(\"\"\"\n                UPDATE website\n                SET name=%s, url=%s, updated=%s\n                WHERE guid=%s\n            \"\"\", (item['name'], item['url'], now, guid))\n            spider.log(\"Item updated in db: %s %r\" % (guid, item))\n        else:\n            conn.execute(\"\"\"\n                INSERT INTO website (guid, name, url, updated)\n                VALUES (%s, %s, %s, %s)\n            \"\"\", (guid, item['name'], item['url'], now))\n            spider.log(\"Item stored in db: %s %r\" % (guid, item))\n\n    def _handle_error(self, failure, item, spider):\n        \"\"\"Handle occurred on db interaction.\"\"\"\n        # do nothing, just log\n        log.err(failure)\n\n    def _get_guid(self, item):\n        \"\"\"Generates an unique identifier for a given item.\"\"\"\n        # hash based solely in the url field\n        return md5(item['url']).hexdigest()\n</code></pre>\n\n<p><strong>items.py</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\n\n# Define here the models for your scraped items\n#\n# See documentation in:\n# http://doc.scrapy.org/en/latest/topics/items.html\n\nimport scrapy\nfrom scrapy.contrib.loader.processor import TakeFirst\n\nclass GepomysqlItem(scrapy.Item):\n    name = scrapy.Field()\n    url = scrapy.Field()\n#class WebsiteLoader(XPathItemLoader):\n#    default_item_class = Website\n    #default_output_processor = TakeFirst()\n</code></pre>\n\n<p><strong>gipo.py</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport scrapy\nimport hashlib\nfrom gepomysql.items import GepomysqlItem\nfrom scrapy.loader import ItemLoader\n\nclass GepoSpider(scrapy.Spider):\n    name = \"gipo\"\n    allowed_domains = [\"gepris.dfg.de/gepris/\"]\n    start_urls = ['http://gepris.dfg.de/gepris/OCTOPUS?beginOfFunding=&amp;bewilligungsStatus=&amp;context=projekt&amp;continentId=%23&amp;countryKey=%23%23%23&amp;einrichtungsart=-1&amp;fachlicheZuordnung=%23&amp;findButton=historyCall&amp;gefoerdertIn=&amp;hitsPerPage=50&amp;index=0&amp;nurProjekteMitAB=false&amp;oldContinentId=%23&amp;oldCountryId=%23%23%23&amp;oldSubContinentId=%23%23&amp;oldpeo=%23&amp;peo=%23&amp;subContinentId=%23%23&amp;task=doSearchExtended&amp;teilprojekte=true&amp;zk_transferprojekt=false',]\n\n    def parse(self, response):\n        for site in response.xpath(\"//*[@id='liste']/div[contains(@class,'eintrag')]\"):\n            il = ItemLoader(item=GepomysqlItem(), selector=site)\n            il.add_xpath('url', './/div[@class=\"results\"]/h2/a/text()')\n            il.add_xpath('name', './/div[span=\"Sprecher\"]/span[2]/text()')\n            #il.add_xpath('description', 'text()', re='-\\s([^\\n]*?)\\\\n')\n            yield il.load_item()\n</code></pre>\n\n<p><strong>settings.py</strong></p>\n\n<pre><code># Scrapy settings for dirbot project\n\nSPIDER_MODULES = ['dirbot.spiders']\nNEWSPIDER_MODULE = 'dirbot.spiders'\nDEFAULT_ITEM_CLASS = 'dirbot.items.Website'\n\nITEM_PIPELINES = [\n    'dirbot.pipelines.RequiredFieldsPipeline',\n    'dirbot.pipelines.FilterWordsPipeline',\n    'dirbot.pipelines.MySQLStorePipeline',\n]\n\nMYSQL_HOST = 'localhost'\nMYSQL_DBNAME = 'dirbot'\nMYSQL_USER = 'root'\nMYSQL_PASSWD = ''\n</code></pre>\n"}, {"tags": ["python", "random"], "answers": [{"comments": [{"owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1463606036, "post_id": 37310074, "comment_id": 62141416, "body": "Actually a more important question I forgot to ask is whether it is safe to reuse a single instance.  Thanks for pointing it out first."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 3, "last_activity_date": 1463605783, "last_edit_date": 1463605783, "creation_date": 1463605423, "answer_id": 37310074, "question_id": 37309966, "link": "https://stackoverflow.com/questions/37309966/is-it-good-python-practice-to-reuse-systemrandom/37310074#37310074", "title": "Is it good Python practice to reuse SystemRandom?", "body": "<p>When in doubt, I usually look at <a href=\"https://hg.python.org/cpython/file/2.7/Lib/random.py#l805\" rel=\"nofollow\">the implementation</a> ...</p>\n\n<p>As far as I can tell, <code>SystemRandom</code> works pretty much exactly the same as <code>Random</code> (<a href=\"https://hg.python.org/cpython/file/2.7/Lib/random.py#l885\" rel=\"nofollow\">which <em>is</em> reused by all of the module-level functions</a>) except that the <code>random</code> method is swapped out to call <code>os.urandom</code>.  So, as far as I can tell, you should be able to re-use a <code>SystemRandom</code> instance.</p>\n\n<blockquote>\n  <p>In general, does Python programming pay more attention to readability than performance?</p>\n</blockquote>\n\n<p>In general, I think that the mentality is that <strong>readability counts</strong> and <strong>code is read more often than written</strong>.  You should only really spend time (or code complexity) optimizing things which are taking a significant amount of your over-all program running time.  If creating and calling <code>SecureRandom</code> takes a tiny percentage of your overall program running time, then it's probably not worth optimizing and you should definitely go with the more easy to read version.  If it takes 50% of the run-time and waiting for the program to complete is annoying, you might want to look into optimizing.</p>\n\n<p>Of course, with that said, I don't think there's much of a readability difference between your two code snippets, so ... I'd probably create one and reuse it...</p>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1463606047, "post_id": 37310076, "comment_id": 62141420, "body": "Is it the expense of <i>creating</i> <code>SystemRandom</code> or the expense of <i>using</i> it&#39;s methods?  As far as I can tell, <code>self.random()</code> is called from within <code>self.choice()</code> and <code>SystemRandom.random</code> is what calls <code>urandom()</code> -- not   <code>SystemRandom.__init__</code>."}, {"owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1463606140, "post_id": 37310076, "comment_id": 62141464, "body": "Sure - but I don&#39;t think it&#39;s worth more words to clarify that creating things that are never used <i>can</i> be cheap ;-)  But on third thought, all instances use the same <code>urandom()</code> platform instance, so I&#39;ll remove the bit about expense - I agree now it&#39;s at best misleading."}], "tags": [], "owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "is_accepted": true, "score": 8, "last_activity_date": 1463606347, "last_edit_date": 1463606347, "creation_date": 1463605436, "answer_id": 37310076, "question_id": 37309966, "link": "https://stackoverflow.com/questions/37309966/is-it-good-python-practice-to-reuse-systemrandom/37310076#37310076", "title": "Is it good Python practice to reuse SystemRandom?", "body": "<p><code>SystemRandom</code> builds on the platform C's <code>urandom()</code> function, which is as secure as your operating system developers knew how to make it.  Virtually everyone uses a single instance of it (as in your second example).</p>\n\n<p>There's no real conflict between performance and readability here.  Idiomatic Python would be like:</p>\n\n<pre><code>from random import SystemRandom\nr = SystemRandom()\nchoice = r.choice\n\nfor _ in range(1000000):\n    ''.join(choice('abcdef') for _ in range(5))\n</code></pre>\n"}], "owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 1, "accepted_answer_id": 37310076, "answer_count": 2, "score": 3, "last_activity_date": 1463606347, "creation_date": 1463604984, "question_id": 37309966, "link": "https://stackoverflow.com/questions/37309966/is-it-good-python-practice-to-reuse-systemrandom", "title": "Is it good Python practice to reuse SystemRandom?", "body": "<p>For example, a block of Python code to generate 1 million random strings off the alphabet 'abcdef'.</p>\n\n<p>Compare</p>\n\n<pre><code>from random import SystemRandom\n\nfor _ in range(1000000):\n    ''.join(SystemRandom().choice('abcdef') for __ in range(5))\n</code></pre>\n\n<p>with</p>\n\n<pre><code>from random import SystemRandom\n\nr = SystemRandom()\nfor _ in range(1000000):\n    ''.join(r.choice('abcdef') for __ in range(5))\n</code></pre>\n\n<p>I timed it on IPython. The 1st block took 50s while the 2nd block took 30s. I didn't measure the memory usage.</p>\n\n<p>In Java, there is SecureRandom where the pattern is clear that it should be created once and reused. Coming from Java to Python, it is not clear to me whether I should create a single SystemRandom instance and reuse it. The 1st block is easier to read and the performance does not seem too bad.</p>\n\n<p>In general, does Python programming pay more attention to readability than performance?</p>\n"}, {"tags": ["python", "arrays", "sorting", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1463604924, "creation_date": 1463604924, "answer_id": 37309946, "question_id": 37309910, "link": "https://stackoverflow.com/questions/37309910/substitute-numpy-functions-with-python-only/37309946#37309946", "title": "Substitute numpy functions with Python only", "body": "<p>That's not actually using any useful numpy functions anyway</p>\n\n<pre><code>def function(group):\n    pre_data = sorted(float(c[\"data\"]) for c in group[1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1463604936, "creation_date": 1463604936, "answer_id": 37309950, "question_id": 37309910, "link": "https://stackoverflow.com/questions/37309910/substitute-numpy-functions-with-python-only/37309950#37309950", "title": "Substitute numpy functions with Python only", "body": "<p>It really depends on the code <em>after</em> this.  <code>pre_data</code> will be a <code>numpy.ndarray</code> which means that it has array methods which will be really hard to replicate without numpy.  If those methods are being called later in the code, you're going to have a hard time and I'd advise you to just bite the bullet and install <code>numpy</code>.  It's popularity is a testament to it's usefulness...</p>\n\n<p>However, if you really just want to sort a list of floats and put it into a sequence-like container:</p>\n\n<pre><code>def function(group):\n     pre_data = sorted(float(c['data']) for c in group[1])\n</code></pre>\n\n<p>should do the trick.</p>\n"}, {"comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1463605175, "post_id": 37309978, "comment_id": 62140987, "body": "The return type is actually <code>NoneType</code> here, thanks to overzealous trimming by the OP!"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1463605055, "creation_date": 1463605055, "answer_id": 37309978, "question_id": 37309910, "link": "https://stackoverflow.com/questions/37309910/substitute-numpy-functions-with-python-only/37309978#37309978", "title": "Substitute numpy functions with Python only", "body": "<p>Well, it's not strictly possible because the return type is an <code>ndarray</code>.  If you don't mind to use a list instead, try this:</p>\n\n<pre><code>pre_data = sorted(float(c[\"data\"]) for c in group[1])\n</code></pre>\n"}], "owner": {"reputation": 5045, "user_id": 3469521, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b1ea16472234c4b480dd7d5e9a2c4b9c?s=128&d=identicon&r=PG&f=1", "display_name": "activelearner", "link": "https://stackoverflow.com/users/3469521/activelearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1463605055, "creation_date": 1463604753, "question_id": 37309910, "link": "https://stackoverflow.com/questions/37309910/substitute-numpy-functions-with-python-only", "title": "Substitute numpy functions with Python only", "body": "<p>I have a python function that employs the numpy package. It uses numpy.sort and numpy.array functions as shown below:</p>\n\n<pre><code>def function(group):\n\n    pre_data = np.sort(np.array(\n        [c[\"data\"] for c in group[1]], \n        dtype = np.float64\n        ))\n</code></pre>\n\n<p>How can I re-write the sort and array functions using only Python in such a way that I no longer need the numpy package?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6288998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fe07b622e8bdda6a4604fe8ddabeb8f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/6288998/james"}, "edited": false, "score": 0, "creation_date": 1463605183, "post_id": 37309924, "comment_id": 62140990, "body": "Its always something simple ha!  Thank you!"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1463604798, "creation_date": 1463604798, "answer_id": 37309924, "question_id": 37309902, "link": "https://stackoverflow.com/questions/37309902/df-plot-adding-to-itself-instead-of-in-separate-figure/37309924#37309924", "title": "df.plot adding to itself instead of in separate figure", "body": "<p>Use <code>plt.close()</code> after the first <code>plt.savefig()</code></p>\n"}], "owner": {"reputation": 67, "user_id": 6288998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fe07b622e8bdda6a4604fe8ddabeb8f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/6288998/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 1, "accepted_answer_id": 37309924, "answer_count": 1, "score": 1, "last_activity_date": 1463623108, "creation_date": 1463604711, "last_edit_date": 1463623108, "question_id": 37309902, "link": "https://stackoverflow.com/questions/37309902/df-plot-adding-to-itself-instead-of-in-separate-figure", "title": "df.plot adding to itself instead of in separate figure", "body": "<p>The following code should give me separate charts each with one line of data, but for some reason the first figure shows the 'GrowthVsValue' line, then the second figure shows me the 'GrowthVsValue' line again and adds the 'LargeVsSmall' line.  But I want them to be on there own in separate figures.  What do I need to add/do to make this work??</p>\n\n<pre><code>from matplotlib.backends.backend_pdf import PdfPages\npp = PdfPages('Relative Strength.pdf')\n\nOutput = pd.DataFrame({\n\n'GrowthVsValueDIFF': 1 + (df_ch['IVV'] - df_ch['IVE']),\n'LargeVsSmallDIFF':  1 + (df_ch['IVV'] - df_ch['IJR']),\n\n}, index = df_ch.index)\n\n\nOutput['GrowthVsValue'] = 100\nOutput.loc[1:, 'GrowthVsValue'] = Output.GrowthVsValueDIFF[1:].cumprod() * 100\nOutput.GrowthVsValue.plot.line(legend=None)\nOutput.GrowthVsValue_L = plt.title('Growth v. Value RS')\nplt.savefig(pp, format='pdf')\n\nOutput['LargeVsSmall'] = 100\nOutput.loc[1:, 'LargeVsSmall'] = Output.LargeVsSmallDIFF[1:].cumprod() * 100\nOutput.LargeVsSmall.plot.line(legend=None)\nOutput.LargeVsSmall_L = plt.title('Large v. Small RS')\nplt.savefig(pp, format='pdf')\n\npp.close()\n</code></pre>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 3739, "user_id": 5422525, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9fb3d7ac742a990084930a48b6001421?s=128&d=identicon&r=PG&f=1", "display_name": "M.T", "link": "https://stackoverflow.com/users/5422525/m-t"}, "edited": false, "score": 0, "creation_date": 1464508986, "post_id": 37309691, "comment_id": 62509335, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/37422806/if-i-have-multiple-tests-in-one-class-and-a-preceding-test-fails-how-do-i-have\">If I have multiple tests in one class and a preceding test fails, how do I have it skip or exit the class instead of testing the remaining tests?</a>"}, {"owner": {"reputation": 961, "user_id": 4388451, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/718a66e4b3482ee0c62b0a1ed18d9316?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/4388451/andriy"}, "reply_to_user": {"reputation": 3739, "user_id": 5422525, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9fb3d7ac742a990084930a48b6001421?s=128&d=identicon&r=PG&f=1", "display_name": "M.T", "link": "https://stackoverflow.com/users/5422525/m-t"}, "edited": false, "score": 0, "creation_date": 1464608859, "post_id": 37309691, "comment_id": 62541334, "body": "It is an another question. I need to group two tests to make them BOTH run/skipped in dependence of other test passed of failed. These two tests are independent on each other."}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 3944404, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-IMJeZfw2Ccs/AAAAAAAAAAI/AAAAAAAAABY/pk_SP7odBSU/photo.jpg?sz=128", "display_name": "Jakub Wagner", "link": "https://stackoverflow.com/users/3944404/jakub-wagner"}, "is_accepted": true, "score": 2, "last_activity_date": 1505336895, "creation_date": 1505336895, "answer_id": 46206866, "question_id": 37309691, "link": "https://stackoverflow.com/questions/37309691/how-to-organize-steps-from-several-test-functions-when-using-pytest/46206866#46206866", "title": "How to organize steps from several test functions when using pytest?", "body": "<p>There is a plugin for pytest called <a href=\"https://github.com/RKrahl/pytest-dependency\" rel=\"nofollow noreferrer\">pytest-dependency</a> that does what you want to do in this case.</p>\n\n<p>Your code can look like this:</p>\n\n<pre><code>import pytest\nimport pytest_dependency\n\n@pytest.mark.dependency()\ndef test_outher():\n   assert 0\n\n@pytest.mark.dependency(depends=[\"test_outher\"])\ndef test_inner_1():\n    assert 0\n\n@pytest.mark.dependency(depends=[\"test_outher\"])\ndef test_inner_2():\n    pass\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>=================================== FAILURES ===================================\n_________________________________ test_outher __________________________________\n\n@pytest.mark.dependency()\ndef test_outher():\n&gt;      assert 0\nE      assert 0\n\ntest_example.py:6: AssertionError\n===================== 1 failed, 2 skipped in 0.02 seconds ======================\n</code></pre>\n\n<p>You can use classes of course, but for this example it is not necessary. If you need example with classes, let me know.</p>\n"}, {"tags": [], "owner": {"reputation": 2380, "user_id": 7262247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01ck8.png?s=128&g=1", "display_name": "smarie", "link": "https://stackoverflow.com/users/7262247/smarie"}, "is_accepted": false, "score": 1, "last_activity_date": 1539277322, "last_edit_date": 1539277322, "creation_date": 1534088881, "answer_id": 51810390, "question_id": 37309691, "link": "https://stackoverflow.com/questions/37309691/how-to-organize-steps-from-several-test-functions-when-using-pytest/51810390#51810390", "title": "How to organize steps from several test functions when using pytest?", "body": "<p>You can also use <a href=\"https://smarie.github.io/python-pytest-steps/\" rel=\"nofollow noreferrer\">pytest-steps</a> to create a test suite containing your tests and declare the dependencies, it will behave the same way (skipping inner1 and inner2 if outher fails):</p>\n\n<p>EDIT: new generator mode makes it even easier:</p>\n\n<pre><code>from pytest_steps import test_steps, optional_step\n\n@test_steps('step_outher', 'step_inner_1', 'step_inner_2')\ndef test_suite():\n    # Step outher\n    assert 1\n    yield\n\n    # Step inner 1\n    with optional_step('step_inner_1') as step_inner_1:\n        assert 0\n    yield step_inner_1\n\n    # Step inner 2\n    with optional_step('step_inner_2') as step_inner_2:\n        assert 0\n    yield step_inner_2\n</code></pre>\n\n<p>LEGACY answer:</p>\n\n<pre><code>from pytest_steps import test_steps, depends_on\n\ndef step_outher():\n   assert 0\n\n@depends_on(step_outher)\ndef step_inner_1():\n    assert 0\n\n@depends_on(step_outher)\ndef step_inner_2():\n    pass\n\n@test_steps(step_outher, step_inner_1, step_inner_2)\ndef test_suite(test_step):\n    # Execute the step\n    test_step()\n</code></pre>\n\n<p>You can also use it to share intermediate results among the test steps, see the documentation for details. (I'm the author by the way :) )</p>\n"}], "owner": {"reputation": 961, "user_id": 4388451, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/718a66e4b3482ee0c62b0a1ed18d9316?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/4388451/andriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1287, "favorite_count": 1, "accepted_answer_id": 46206866, "answer_count": 2, "score": 1, "last_activity_date": 1539277322, "creation_date": 1463603909, "question_id": 37309691, "link": "https://stackoverflow.com/questions/37309691/how-to-organize-steps-from-several-test-functions-when-using-pytest", "title": "How to organize steps from several test functions when using pytest?", "body": "<p>I have three test cases with some dependency of two of them on the third one. Namely, tests <code>test_inner_1</code> and  <code>test_inner_2</code> are independent from each other but their execution makes no sense if <code>test_outher</code> fails. They both should be run if test <code>test_outher</code> passes and both should be skipped if <code>test_outher</code> fails.</p>\n\n<p>The <code>pytest</code> manual <a href=\"https://pytest.org/latest/example/simple.html\" rel=\"nofollow\">https://pytest.org/latest/example/simple.html</a> \npresents some simple example how to implement incremental testing with\ntest steps. I am trying to apply this approach to my situation and\nto implement something like that:</p>\n\n<p><strong>content of conftest.py:</strong></p>\n\n<pre><code>import pytest\n\ndef pytest_runtest_makereport(item, call):\n    if \"incremental\" in item.keywords:\n        if call.excinfo is not None:\n            parent = item.parent\n            parent._previousfailed = item\n\n\ndef pytest_runtest_setup(item):\n    if \"incremental\" in item.keywords:\n        previousfailed = getattr(item.parent, \"_previousfailed\", None)\n        if previousfailed is not None:\n            pytest.xfail(\"previous test failed (%s)\" % previousfailed.name)\n</code></pre>\n\n<p><strong>content of test_example.py:</strong></p>\n\n<pre><code>import pytest\n\n@pytest.mark.incremental\nclass TestUserHandling:\n    def test_outher(self):\n        assert 0\n\n    class TestInner:\n        def test_inner_1(self):\n            assert 0\n\n        def test_inner_2(self):\n            pass\n</code></pre>\n\n<p>Unfortunately, I have got the output</p>\n\n<p><code>==================== 2 failed, 1 passed in 0.03 seconds ====================</code></p>\n\n<p>while expected to get the output</p>\n\n<p><code>=================== 1 failed, 2 xfailed in 0.03 seconds ====================</code></p>\n\n<p>How to correct the <code>conftest.py</code> to get the desired behaviour?</p>\n"}, {"tags": ["python", "matplotlib", "plot", "scatter", "z-order"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1463700423, "post_id": 37321066, "comment_id": 62188890, "body": "OMG! Amazing! What happened is that a small ball was hiding under a bigger one and I wanted to avoid changing the order of my data and colours, since they are used elsewhere. In line plot I did use the <code>zorder</code>, but here I was not able to handle the situation the same way. I&#39;ll use your solution, but I will try to understand your function after the deadline, although the explanation in English make totally sense. Thank you very much for watching my back!"}, {"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1463708287, "post_id": 37321066, "comment_id": 62190811, "body": "Question: how did you find out about <code>offsets</code>? Just to understand your modus operandi."}, {"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1463740974, "post_id": 37321066, "comment_id": 62205509, "body": "For completenes: <code># Switch sizes</code> <code>sizes = pathcoll.get_sizes()</code> <code>sizes[[a,b]] = sizes[[b,a]]</code> and then <code>pathcoll.set_sizes(sizes)</code>."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "reply_to_user": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1463742852, "post_id": 37321066, "comment_id": 62206728, "body": "Thanks. I&#39;ll edit that into the answer. I found <code>offsets</code> by just tab-completing on the <code>balls</code> collection to see what properties it had, and finding the one that looks right. If you look at <code>balls.properties</code> (I think), its a dictionary of all its properties, so you can quickly find the ones you need."}, {"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1463753842, "post_id": 37321066, "comment_id": 62214246, "body": "LOL, OK. I was expecting some more fancy answer, haha! NIPS 2016 deadline is in 2 hours. Let try to review this masterpiece, haha! I&#39;m thinking to add you to the <i>Acknowledgements</i> section ;) Do you have a name, or will you be a &quot;stackoverflow user&quot;?"}, {"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1464372242, "post_id": 37321066, "comment_id": 62475820, "body": "One more &quot;bug&quot;. Before swapping, we need to check <code>if len(property) &gt; 1:</code>, to account for the case in which one property is a scalar (<i>i.e.</i> shared across all data points). About the acknowledgement, you can find it here -&gt; <a href=\"http://arxiv.org/abs/1605.07678\" rel=\"nofollow noreferrer\">arxiv.org/abs/1605.07678</a>. Thank you again!"}, {"owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "edited": false, "score": 0, "creation_date": 1464372437, "post_id": 37321066, "comment_id": 62475913, "body": "Moreover, I&#39;m not sure about how to look at <code>balls.properties</code>. All I get is <code>&lt;matplotlib.collections.PathCollection object at 0x10d8a7240&gt;</code>."}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 1, "last_activity_date": 1463742932, "last_edit_date": 1463742932, "creation_date": 1463655125, "answer_id": 37321066, "question_id": 37309578, "link": "https://stackoverflow.com/questions/37309578/set-properties-for-specific-patch-in-matplotlib-collections-pathcollection/37321066#37321066", "title": "Set properties for specific patch in matplotlib.collections.PathCollection", "body": "<p>Not sure if this is the best solution, but it might help you.</p>\n\n<p>From what I can see, the <code>paths</code> in the <code>PathCollection</code> are always plotted in the order they are created. So in your case, the <code>path</code> with the x-position of <code>-1</code> is created first, then the one with <code>1</code>.</p>\n\n<p>You can switch that order after initially plotting them, by changing the <code>offsets</code>, in your case using <code>balls.set_offsets()</code>:</p>\n\n<pre><code>In [4]: balls = plt.scatter([-1, 1], [0, 0], c = ['r', 'b'], s = 4e4)\nIn [5]: plt.axis([-5, 5, -5, 5])\n</code></pre>\n\n<p>This creates the following figure:<a href=\"https://i.stack.imgur.com/gExzj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gExzj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>In [42]: print balls.get_offsets()\n[[-1.  0.]\n [ 1.  0.]]\n\nOn [43]: balls.set_offsets([[1,0],[-1,0]])\n</code></pre>\n\n<p>Now, this has plotted the left-hand ball on top of the right-hand ball:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BLJkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BLJkk.png\" alt=\"enter image description here\"></a></p>\n\n<p>But as you can see, this has also switched the <code>facecolors</code> around (since we set the order of that in the call to <code>plt.scatter</code> as <code>['r','b']</code>. There's a solution to this, which is to also switch the <code>facecolors</code> around:</p>\n\n<pre><code>In [46]: balls.set_facecolors(['b','r'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gLBrl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLBrl.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Great, so putting that all together, we can define a function to switch the offsets and facecolors of any two arbitrary <code>paths</code> in the <code>PathCollection</code>.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nfig,ax = plt.subplots()\nballs = ax.scatter([-3, -1, 1, 3], [0, 0, 0, 0], c = ['r', 'b', 'g', 'm'], s = 4e4)\nax.set_xlim(-6,6)\nax.set_ylim(-6,6)\n\nplt.savefig('balls_01.png')\n\ndef switch_scatter(pathcoll,a,b):\n\n    # Switch offsets\n    offsets = pathcoll.get_offsets()[:]\n    offsets[[a,b]] = offsets[[b,a]]\n\n    # Switch facecolors\n    facecolors = pathcoll.get_facecolors()\n    facecolors[[a,b]] = facecolors[[b,a]]\n\n    # Switch sizes \n    sizes = pathcoll.get_sizes() \n    sizes[[a,b]] = sizes[[b,a]] \n\n    # Set the new offsets, facecolors and sizes on the PathCollection\n    pathcoll.set_offsets(offsets)\n    pathcoll.set_facecolors(facecolors)\n    pathcoll.set_sizes(sizes)\n\nswitch_scatter(balls,2,1)\n\nplt.savefig('balls_02.png')\n</code></pre>\n\n<p>Heres <code>balls_01.png</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tEMhH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tEMhH.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is <code>balls_02.png</code> (where we switch ball 1 and ball 2 (the blue and green balls)</p>\n\n<p><a href=\"https://i.stack.imgur.com/nXpuO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nXpuO.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>A final note: if you have other properties varying in your scatter plot (e.g. linecolor), you will also need to switch them around in the function I defined above.</p>\n"}], "owner": {"reputation": 587, "user_id": 2247039, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e8a139c3e922ed2aa868d8a1c8062289?s=128&d=identicon&r=PG", "display_name": "Atcold", "link": "https://stackoverflow.com/users/2247039/atcold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 0, "accepted_answer_id": 37321066, "answer_count": 1, "score": 2, "last_activity_date": 1463742932, "creation_date": 1463603523, "last_edit_date": 1463708374, "question_id": 37309578, "link": "https://stackoverflow.com/questions/37309578/set-properties-for-specific-patch-in-matplotlib-collections-pathcollection", "title": "Set properties for specific patch in matplotlib.collections.PathCollection", "body": "<p>I would like to set individual properties (<code>zorder</code> and <code>label</code> for example) for a specific element of a <code>matplotlib.collections.PathCollection</code>. I couldn't find a way in the documentation.</p>\n\n<p>Here I jot down a user case.<br>\nLet say we have the following snippet, and we'd like to change the <code>zorder</code> of the <em>red</em> ball, bringing it to the top, by using the <code>balls</code> handle, which is a <code>matplotlib.collections.PathCollection</code>.</p>\n\n<pre><code>balls = plt.scatter([-1, 1], [0, 0], c = ['r', 'b'], s = 4e4)\nplt.axis([-5, 5, -5, 5])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/D5WBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D5WBr.png\" alt=\"Overlapped balls\"></a></p>\n\n<p>Does anyone have any idea about how to tweak individual paths of a <code>PathCollection</code>?</p>\n\n<p>The alternative would be using <code>plt.plot('o')</code>, which actually returns a <code>list</code> of handles. Unfortunately the <code>plt.plot('o')</code> solution won't allow me to set a different colour per ball, since they would all belong to the same chart. So a <code>for</code> loop would be required.</p>\n\n<p>The drastic solution, which I bet I'll go for, since my deadline, is going of Inkscape :/</p>\n"}, {"tags": ["python", "matplotlib", "graph"], "comments": [{"owner": {"reputation": 326, "user_id": 6149402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b525925e7e64736a0cb1f9212bec0d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/6149402/vince"}, "edited": false, "score": 0, "creation_date": 1463603867, "post_id": 37309559, "comment_id": 62140328, "body": "Can you please use the code format (ctrl + k) and give a proper dataset to reproduce the warning ?"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 6287742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae6080b544759c06bbc904ac0dce2f2?s=128&d=identicon&r=PG&f=1", "display_name": "ciropom", "link": "https://stackoverflow.com/users/6287742/ciropom"}, "is_accepted": true, "score": 11, "last_activity_date": 1463605102, "creation_date": 1463605102, "answer_id": 37309992, "question_id": 37309559, "link": "https://stackoverflow.com/questions/37309559/using-matplotlib-giving-me-the-following-warning-userwarning-tight-layout/37309992#37309992", "title": "using matplotlib giving me the following warning: &quot;UserWarning: tight_layout:", "body": "<p>Are you using MacOSX? It seems to be a known and open issue </p>\n\n<p><a href=\"https://github.com/matplotlib/matplotlib/issues/1852\" rel=\"noreferrer\">https://github.com/matplotlib/matplotlib/issues/1852</a></p>\n\n<p>I will suggest to reorganize the code such that you will use Figure instead of pyplot. You can get the Figure from plt.figure() method. Then, on the Figure instance call set_tight_layout(True). \nTry this example code:</p>\n\n<pre><code>import matplotlib\nmatplotlib.use('pdf')\nimport matplotlib.pyplot as plt\nfig = plt.figure()\nax = fig.add_subplot(1,1,1)\nfig.set_tight_layout(True)\nfig.savefig('asd.pdf')  # No warning now\n</code></pre>\n\n<p>As a side note, have a look at matplotlib documentation</p>\n\n<blockquote>\n  <p>tight_layout() can take keyword arguments of pad, w_pad and h_pad. These control the extra padding around the figure border and between subplots. The pads are specified in fraction of fontsize.</p>\n</blockquote>\n\n<p><a href=\"http://matplotlib.org/users/tight_layout_guide.html\" rel=\"noreferrer\">http://matplotlib.org/users/tight_layout_guide.html</a></p>\n\n<p>This suggest that your code</p>\n\n<p><code>plt.tight_layout(pad=7)</code> </p>\n\n<p>is wrong, as the value of pad should be between 0 and 1.</p>\n"}], "owner": {"reputation": 393, "user_id": 6114952, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d43f20b1c9e4d0ceed55e7e04f28e02e?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Chao", "link": "https://stackoverflow.com/users/6114952/peter-chao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7334, "favorite_count": 1, "accepted_answer_id": 37309992, "answer_count": 1, "score": 5, "last_activity_date": 1463607252, "creation_date": 1463603455, "last_edit_date": 1463607252, "question_id": 37309559, "link": "https://stackoverflow.com/questions/37309559/using-matplotlib-giving-me-the-following-warning-userwarning-tight-layout", "title": "using matplotlib giving me the following warning: &quot;UserWarning: tight_layout:", "body": "<p>Try to do a graph using python matplotlib: but keep getting the following waring message: </p>\n\n<pre><code>\"UserWaring: tight_layout: falling back to Agg renderer  warnings.warn(\"tight_layout: falling back to Agg renderer\")\n</code></pre>\n\n<p>My code is below:</p>\n\n<pre><code>plt.legend(loc='upper left',prop = {'size':7},bbox_to_anchor=(1,1))\nplt.tight_layout(pad=7)\nplt.xlabel ('Build')\nplt.ylabel ('Time/Sec')\nplt.title ('Performance Test')\nplt.grid()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/C1QdA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/C1QdA.png\" alt=\"graph from the code\"></a>\nHow to fix that warning message? </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1486208182, "post_id": 37309556, "comment_id": 71253249, "body": "FWIW, there are a variety of algorithms for this problem, as well as a timing script at <a href=\"http://stackoverflow.com/q/42028606/4014959\">python - replace the boolean value of a list with the values from two different lists</a>."}], "answers": [{"tags": [], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "is_accepted": true, "score": 15, "last_activity_date": 1486200404, "last_edit_date": 1486200404, "creation_date": 1463603891, "answer_id": 37309683, "question_id": 37309556, "link": "https://stackoverflow.com/questions/37309556/merge-two-or-more-lists-with-given-order-of-merging/37309683#37309683", "title": "Merge two or more lists with given order of merging", "body": "<p>You could create iterators from those lists, loop through the ordering list, and call <a href=\"https://docs.python.org/3/library/functions.html#next\" rel=\"nofollow noreferrer\"><code>next</code></a> on one of the iterators:</p>\n\n<pre><code>i1 = iter(['a', 'b', 'c'])\ni2 = iter(['d', 'e'])\n# Select the iterator to advance: `i2` if `x` == 1, `i1` otherwise\nprint([next(i2 if x else i1) for x in [0, 1, 0, 0, 1]]) # ['a', 'd', 'b', 'c', 'e']\n</code></pre>\n\n<p>It's possible to generalize this solution to any number of lists as shown below</p>\n\n<pre><code>def ordered_merge(lists, selector):\n    its = [iter(l) for l in lists]\n    for i in selector:\n        yield next(its[i])\n</code></pre>\n\n\n\n<pre><code>In [4]: list(ordered_merge([[3, 4], [1, 5], [2, 6]], [1, 2, 0, 0, 1, 2]))\nOut[4]: [1, 2, 3, 4, 5, 6]\n</code></pre>\n\n<p>If the ordering list contains strings, floats, or any other objects that can't be used as list indexes, use a dictionary:</p>\n\n<pre><code>def ordered_merge(mapping, selector):\n    its = {k: iter(v) for k, v in mapping.items()}\n    for i in selector:\n        yield next(its[i])\n</code></pre>\n\n\n\n<pre><code>In [6]: mapping = {'A': [3, 4], 'B': [1, 5], 'C': [2, 6]}\n\nIn [7]: list(ordered_merge(mapping, ['B', 'C', 'A', 'A', 'B', 'C']))\nOut[7]: [1, 2, 3, 4, 5, 6]\n</code></pre>\n\n<p>Of course, you can use integers as dictionary keys as well.</p>\n\n<hr>\n\n<p>Alternatively, you could remove elements from the left side of each of the original lists one by one and add them to the resulting list. Quick example:</p>\n\n<pre><code>In [8]: A = ['a', 'b', 'c']\n   ...: B = ['d', 'e']\n   ...: selector = [0, 1, 0, 0, 1]\n   ...: \n\nIn [9]: [B.pop(0) if x else A.pop(0) for x in selector]\nOut[9]: ['a', 'd', 'b', 'c', 'e']\n</code></pre>\n\n<p>I would expect the first approach to be more efficient (<code>list.pop(0)</code> is <em>slow</em>).</p>\n"}, {"tags": [], "owner": {"reputation": 14205, "user_id": 3067748, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/ojjhJ.jpg?s=128&g=1", "display_name": "SparkAndShine", "link": "https://stackoverflow.com/users/3067748/sparkandshine"}, "is_accepted": false, "score": 2, "last_activity_date": 1463604630, "creation_date": 1463604630, "answer_id": 37309880, "question_id": 37309556, "link": "https://stackoverflow.com/questions/37309556/merge-two-or-more-lists-with-given-order-of-merging/37309880#37309880", "title": "Merge two or more lists with given order of merging", "body": "<p>How about this,</p>\n\n<pre><code>list1 = ['a', 'b', 'c']\nlist2 = ['d', 'e']\noptions = [0,1,0,0,1] \n\nlist1_iterator = iter(list1)\nlist2_iterator = iter(list2)\n\nnew_list = [next(list2_iterator) if option else next(list1_iterator) for option in options]\n\nprint(new_list)\n# Output\n['a', 'd', 'b', 'c', 'e']\n</code></pre>\n"}], "owner": {"reputation": 892, "user_id": 731310, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a9205d802b7c46eeddf84df54005f9b4?s=128&d=identicon&r=PG", "display_name": "Krzysztof Lewko", "link": "https://stackoverflow.com/users/731310/krzysztof-lewko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 2, "accepted_answer_id": 37309683, "answer_count": 2, "score": 7, "last_activity_date": 1486200404, "creation_date": 1463603442, "last_edit_date": 1463604842, "question_id": 37309556, "link": "https://stackoverflow.com/questions/37309556/merge-two-or-more-lists-with-given-order-of-merging", "title": "Merge two or more lists with given order of merging", "body": "<p>On start I have 2 lists and 1 list that says in what order I should merge those two lists.\nFor example I have first list equal to <code>[a, b, c]</code> and second list equal to <code>[d, e]</code> and 'merging' list equal to <code>[0, 1, 0, 0, 1]</code>.</p>\n\n<p>That means: to make merged list first I need to take element from first list, then second, then first, then first, then second... And I end up with <code>[a, d, b, c, e]</code>. \nTo solve this I just used for loop and two \"pointers\", but I was wondering if I can do this task more pythonic... I tried to find some functions that could help me, but no real result.</p>\n"}, {"tags": ["python", "urllib2"], "answers": [{"comments": [{"owner": {"reputation": 3606, "user_id": 3193249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b8f04095facccaa75d4a0fae801eeaf?s=128&d=identicon&r=PG&f=1", "display_name": "ishmaelMakitla", "link": "https://stackoverflow.com/users/3193249/ishmaelmakitla"}, "edited": false, "score": 0, "creation_date": 1463605963, "post_id": 37309843, "comment_id": 62141371, "body": "Welcome to StackOverflow. Although the explanation you provide may shed some light on the issue - it is not sufficient as an answer to the question. Please consider using comments in cases such as this. There are also some issues with technical/factual accuracy of your answer- you really need to investigate the issue further yourself if you are to provide a meaningful answer. See <a href=\"http://stackoverflow.com/help/how-to-answer\">how to write a good answer</a>"}, {"owner": {"reputation": 11, "user_id": 6286388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5e925e85fb0adb93c585c39629a8ca?s=128&d=identicon&r=PG&f=1", "display_name": "fengly20", "link": "https://stackoverflow.com/users/6286388/fengly20"}, "edited": false, "score": 0, "creation_date": 1463663598, "post_id": 37309843, "comment_id": 62167796, "body": "Did you mean the HTML I requested contains all campsites info but browser  changes the way to display it based on the <code>startIdx</code> in URL? A bit of information I missed in my question is different <code>startIdx</code> returned the same page as <code>startIdx=0</code>."}, {"owner": {"reputation": 1502, "user_id": 3342429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTzTs.jpg?s=128&g=1", "display_name": "ritlew", "link": "https://stackoverflow.com/users/3342429/ritlew"}, "reply_to_user": {"reputation": 11, "user_id": 6286388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5e925e85fb0adb93c585c39629a8ca?s=128&d=identicon&r=PG&f=1", "display_name": "fengly20", "link": "https://stackoverflow.com/users/6286388/fengly20"}, "edited": false, "score": 1, "creation_date": 1463674673, "post_id": 37309843, "comment_id": 62176682, "body": "@fengly20 The HTML you requested probably doesn&#39;t contain any information about the campsites. The data is probably loaded through JavaScript once the page is ready for it to load. What you are using won&#39;t load it at all."}, {"owner": {"reputation": 1502, "user_id": 3342429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTzTs.jpg?s=128&g=1", "display_name": "ritlew", "link": "https://stackoverflow.com/users/3342429/ritlew"}, "reply_to_user": {"reputation": 3606, "user_id": 3193249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b8f04095facccaa75d4a0fae801eeaf?s=128&d=identicon&r=PG&f=1", "display_name": "ishmaelMakitla", "link": "https://stackoverflow.com/users/3193249/ishmaelmakitla"}, "edited": false, "score": 1, "creation_date": 1463675108, "post_id": 37309843, "comment_id": 62176956, "body": "@ishmaelMakitla How was the question not answered? <i>I&#39;m curious why does urllib2 behave like this.</i> I explained that it was not what urllib2 was doing, it is what it isn&#39;t doing."}, {"owner": {"reputation": 11, "user_id": 6286388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5e925e85fb0adb93c585c39629a8ca?s=128&d=identicon&r=PG&f=1", "display_name": "fengly20", "link": "https://stackoverflow.com/users/6286388/fengly20"}, "edited": false, "score": 0, "creation_date": 1463681325, "post_id": 37309843, "comment_id": 62180400, "body": "@RitLew The HTML I requested contains campsites information as <code>startIdx=0</code>, no matter what <code>startidx</code> I set. That&#39;s why I thought <code>startidx</code> gets ignored when requesting using <code>urllib2</code> -- all different urls returned the same page as setting <code>startidx</code> to 0, which lists out first 25 campsites information. I also tried using package <code>requests</code> and got the same results. Thanks for your answer and reply."}], "tags": [], "owner": {"reputation": 1502, "user_id": 3342429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTzTs.jpg?s=128&g=1", "display_name": "ritlew", "link": "https://stackoverflow.com/users/3342429/ritlew"}, "is_accepted": false, "score": 0, "last_activity_date": 1463675006, "last_edit_date": 1463675006, "creation_date": 1463604472, "answer_id": 37309843, "question_id": 37309468, "link": "https://stackoverflow.com/questions/37309468/python-reading-different-urls-using-urllib2-returned-the-same-results/37309843#37309843", "title": "Python - Reading different urls using urllib2 returned the same results?", "body": "<p>The web page may change during runtime, whereas you are only requesting HTML. There is probably some JavaScript that changes the contents of the page based on the URL encoded information. If the content was loaded server-side with PHP, then it would be present with the request as the server changes the HTML before sending it. JavaScript will change the HTML after sending it.</p>\n\n<p>In other words, a regular browser will change the HTML based on the URL using JavaScript. Your simple request will not do that.</p>\n"}], "owner": {"reputation": 11, "user_id": 6286388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5e925e85fb0adb93c585c39629a8ca?s=128&d=identicon&r=PG&f=1", "display_name": "fengly20", "link": "https://stackoverflow.com/users/6286388/fengly20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1463675006, "creation_date": 1463603122, "question_id": 37309468, "link": "https://stackoverflow.com/questions/37309468/python-reading-different-urls-using-urllib2-returned-the-same-results", "title": "Python - Reading different urls using urllib2 returned the same results?", "body": "<p>I'm trying to use Python <code>urllib2</code> to read some pages but for given different urls returned the same page. </p>\n\n<p>The page is an inquiry for campsite availability for a given campground from recreation.gov. Since there might be a lot campsites in a campground, the last index in url tells the page how many campsites will be listed. </p>\n\n<p>For example if <code>startIdx=0</code> the page lists out campsite 1~25, and if <code>startIdx=25</code> the page lists out campsite 26~50. </p>\n\n<p>So I constructed some urls with different <code>startIdx</code> but after using <code>urllib2</code> to read the page, the returned html were all the same -- it seems somehow the <code>startIdx</code> in url was ignored. </p>\n\n<p>In addition, if I manually open those urls in browser the pages look normal, but if I use <code>webbrowser.open</code> to open those urls the pages look weird. </p>\n\n<p>The brief sample code duplicates the problem I'm having: </p>\n\n<pre><code>import urllib2\n\nurl1 = 'http://www.recreation.gov/campsiteCalendar.do?page=calendar&amp;contractCode=NRSO&amp;parkId=70928&amp;calarvdate=03/11/2016&amp;sitepage=true&amp;startIdx=0'\nurl2 = 'http://www.recreation.gov/campsiteCalendar.do?page=calendar&amp;contractCode=NRSO&amp;parkId=70928&amp;calarvdate=03/11/2016&amp;sitepage=true&amp;startIdx=25' \n\nhdr = {'User-Agent': 'Mozilla/5.0'}\nrequest1 = urllib2.Request( url1, headers = hdr )\nresponse1 = urllib2.urlopen( request1 )    \nhtml1 = response1.read() \n\nrequest2 = urllib2.Request( url2, headers = hdr )\nresponse2 = urllib2.urlopen( request2 )    \nhtml2 = response2.read() \n\nIn [1]:html1 == html2\nOut[2]: True\n</code></pre>\n\n<p>I have no other knowledge about how things work in inquiries and PHP related stuff. So I'm curious why does <code>urllib2</code> behave like this. The Python version I'm using is 2.7</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "listbox"], "answers": [{"comments": [{"owner": {"reputation": 3585, "user_id": 4332480, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dda076eb310c8a597201a2563d07e0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Nurzhan Nogerbek", "link": "https://stackoverflow.com/users/4332480/nurzhan-nogerbek"}, "edited": false, "score": 0, "creation_date": 1463604429, "post_id": 37309749, "comment_id": 62140636, "body": "Thanks! I understand my mistake! By the way can I ask one more question? How in Python I can know Count of ListBox. Lets say I have such <code>if (listBox1.Items.Count == 0)</code> code in C# Is it same with this: <code>if self.first_listbox is None:</code>"}], "tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": true, "score": 3, "last_activity_date": 1463604857, "last_edit_date": 1463604857, "creation_date": 1463604095, "answer_id": 37309749, "question_id": 37309344, "link": "https://stackoverflow.com/questions/37309344/tkinter-listbox-and-label-position/37309749#37309749", "title": "tkinter ListBox and Label position", "body": "<p>The grid system works fine. The problem is your columnspans, which don't make much sense. You're gridding the widgets into certain column positions then giving them a columnspan that is beyond the range of where the next widget is to be gridded so on and so forth.</p>\n\n<p>Small example:</p>\n\n<pre><code>import string\nimport tkinter as tk\n\nroot = tk.Tk()\n\nfor i in range(3):\n    tk.Label(root, text=string.ascii_letters).grid(row=0, column=i)\n    tk.Listbox(root, width=40).grid(row=1, column=i)\n\nroot.mainloop()\n</code></pre>\n\n<p>Edit from comments (for listbox size):</p>\n\n<p>To get the number of lines in a listbox you can use the <code>.size()</code> method. </p>\n\n<p>Image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BtMmL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtMmL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3585, "user_id": 4332480, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dda076eb310c8a597201a2563d07e0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Nurzhan Nogerbek", "link": "https://stackoverflow.com/users/4332480/nurzhan-nogerbek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5084, "favorite_count": 0, "accepted_answer_id": 37309749, "answer_count": 1, "score": 1, "last_activity_date": 1463604857, "creation_date": 1463602710, "question_id": 37309344, "link": "https://stackoverflow.com/questions/37309344/tkinter-listbox-and-label-position", "title": "tkinter ListBox and Label position", "body": "<p>I am little bit comfused with grid system in tkinter Python. Can anyone show how to make it in right way?! ListBox and Label items positions are not in the places where I expexted to see them.</p>\n\n<p>CODE:</p>\n\n<pre><code>        self.third_label = Label(self, text=\"TEXT\")\n        self.third_label.grid(row=2, column=0, columnspan=4, padx=10, pady=10, sticky=W)\n        self.fourth_label = Label(self, text=\"LONG TEXT\")\n        self.fourth_label.grid(row=2, column=1, columnspan=4, padx=10, pady=10, sticky=W)\n        self.fifth_label = Label(self, text=\"SOME TEXT\")\n        self.fifth_label.grid(row=2, column=2, columnspan=6, padx=10, pady=10, sticky=W)\n        self.sixth_label = Label(self, text=\"BIG TEXT\")\n        self.sixth_label.grid(row=2, column=3, columnspan=4, padx=10, pady=10, sticky=W)\n        self.first_listbox = Listbox(self, width=40, selectmode=EXTENDED)\n        self.first_listbox.grid(row=3, column=0, columnspan=4, padx=10, pady=10, sticky=W)\n        self.second_listbox = Listbox(self, width=40, selectmode=EXTENDED)\n        self.second_listbox.grid(row=3, column=2, columnspan=4, padx=10, pady=10, sticky=W)\n        self.third_listbox = Listbox(self, width=40, selectmode=EXTENDED)\n        self.third_listbox.grid(row=3, column=4, columnspan=4, padx=10, pady=10, sticky=W)\n        self.fourth_listbox = Listbox(self, width=40, selectmode=EXTENDED)\n        self.fourth_listbox.grid(row=3, column=6, columnspan=4, padx=10, pady=10, sticky=W)\n</code></pre>\n\n<p>What I have right now:\n<a href=\"https://i.stack.imgur.com/PagUO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PagUO.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Just Example:\n<a href=\"https://i.stack.imgur.com/OrYdX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OrYdX.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "amazon-s3", "apache-spark", "pyspark", "amazon-emr"], "comments": [{"owner": {"reputation": 811, "user_id": 1410909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2000b618b150640f06df7f45c91805a8?s=128&d=identicon&r=PG", "display_name": "nkadwa", "link": "https://stackoverflow.com/users/1410909/nkadwa"}, "edited": false, "score": 0, "creation_date": 1463669669, "post_id": 37309149, "comment_id": 62172873, "body": "What is self.path? Does it use globbing?"}, {"owner": {"reputation": 125, "user_id": 6352941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf693b6fd58898a3ec7b3a1a1928e528?s=128&d=identicon&r=PG&f=1", "display_name": "neikusc", "link": "https://stackoverflow.com/users/6352941/neikusc"}, "reply_to_user": {"reputation": 811, "user_id": 1410909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2000b618b150640f06df7f45c91805a8?s=128&d=identicon&r=PG", "display_name": "nkadwa", "link": "https://stackoverflow.com/users/1410909/nkadwa"}, "edited": false, "score": 0, "creation_date": 1464109751, "post_id": 37309149, "comment_id": 62345280, "body": "<i>self.path</i> is a self variable in Python."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 6352941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf693b6fd58898a3ec7b3a1a1928e528?s=128&d=identicon&r=PG&f=1", "display_name": "neikusc", "link": "https://stackoverflow.com/users/6352941/neikusc"}, "edited": false, "score": 0, "creation_date": 1464109826, "post_id": 37338417, "comment_id": 62345326, "body": "This is great idea. Thank you very much for your answer!"}, {"owner": {"reputation": 10680, "user_id": 268803, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/92002141c36c5ed0926da2262d7ddeb6?s=128&d=identicon&r=PG", "display_name": "Brad Hein", "link": "https://stackoverflow.com/users/268803/brad-hein"}, "edited": false, "score": 0, "creation_date": 1606760612, "post_id": 37338417, "comment_id": 115053545, "body": "Does the for-loop run single-threaded? I don&#39;t believe so but I may be wrong. I&#39;m looking to achieve the same outcome, but with the use of Spark to read a massive number of &quot;randomly specified&quot; file paths in parallel."}], "tags": [], "owner": {"reputation": 216, "user_id": 6358786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40bef24b6018065f68fe2ded3139169d?s=128&d=identicon&r=PG&f=1", "display_name": "E.F.Walker", "link": "https://stackoverflow.com/users/6358786/e-f-walker"}, "is_accepted": true, "score": 3, "last_activity_date": 1463721380, "creation_date": 1463721380, "answer_id": 37338417, "question_id": 37309149, "link": "https://stackoverflow.com/questions/37309149/read-random-sample-of-files-on-s3-with-pyspark/37338417#37338417", "title": "Read random sample of files on S3 with Pyspark", "body": "<p>Use your favorite method to list the files under the path, take a sample of the names, and then use RDD union:</p>\n\n<pre><code>import pyspark\nimport random\n\nsc = pyspark.SparkContext(appName = \"Sampler\")\nfile_list = list_files(path)\ndesired_pct = 5\nfile_sample = random.sample(file_list, int(len(file_list) * desired_pct / 100))\nfile_sample_rdd = sc.emptyRDD()\nfor f in file_sample:\n    file_sample_rdd = file_sample_rdd.union(sc.textFile(f))\nsample_data_rdd = file_sample_rdd.repartition(160)\n</code></pre>\n\n<p>Here's one possible quick and dirty implementation of \"list_files\" that will list the files under a \"directory\" on S3:</p>\n\n<pre><code>import os\ndef list_files(path, profile = None):\n    if not path.endswith(\"/\"):\n        raise Exception(\"not handled...\")\n    command = 'aws s3 ls %s' % path\n    if profile is not None:\n        command = 'aws --profile %s s3 ls %s' % (profile, path)\n    result = os.popen(command)\n    _r = result.read().strip().split('\\n')\n    _r = [path + i.strip().split(' ')[-1] for i in _r]\n    return _r\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 6352941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf693b6fd58898a3ec7b3a1a1928e528?s=128&d=identicon&r=PG&f=1", "display_name": "neikusc", "link": "https://stackoverflow.com/users/6352941/neikusc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 3, "accepted_answer_id": 37338417, "answer_count": 1, "score": 6, "last_activity_date": 1519824361, "creation_date": 1463602017, "question_id": 37309149, "link": "https://stackoverflow.com/questions/37309149/read-random-sample-of-files-on-s3-with-pyspark", "title": "Read random sample of files on S3 with Pyspark", "body": "<p>I have a bucket on S3 that contains 1000 files. Each is about 1GB. I would like to read random sample of this files. Let's say 5% of all files. This is how I do it</p>\n\n<p><code>fileDF = sqlContext.jsonRDD(self.sc.textFile(self.path).sample(withReplacement=False, fraction=0.05, seed=42).repartition(160))</code></p>\n\n<p>But it seems above code will read all the files and then take samples. While I want to take samples of files and read them. Could somebody help?</p>\n"}, {"tags": ["python", "parsing", "web-scraping", "forum"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1463602364, "post_id": 37309135, "comment_id": 62139611, "body": "If you want to remove all the spaces, what&#39;s wrong with <code>found = &#39;&#39;.join(text.split())</code>?"}, {"owner": {"reputation": 435, "user_id": 648187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5384674aede6d66d62b28de13e3f3e84?s=128&d=identicon&r=PG", "display_name": "Michael Franzen", "link": "https://stackoverflow.com/users/648187/michael-franzen"}, "edited": false, "score": 0, "creation_date": 1463603003, "post_id": 37309135, "comment_id": 62139941, "body": "Or simply <a href=\"https://docs.python.org/2/library/string.html#string.replace\" rel=\"nofollow noreferrer\">str.replace</a>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 435, "user_id": 648187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5384674aede6d66d62b28de13e3f3e84?s=128&d=identicon&r=PG", "display_name": "Michael Franzen", "link": "https://stackoverflow.com/users/648187/michael-franzen"}, "edited": false, "score": 1, "creation_date": 1463603596, "post_id": 37309135, "comment_id": 62140214, "body": "@MichaelFranzen - Because <code>str.replace</code> operates with specific strings, not sequences of any whitespace. You&#39;d have to do a <code>replace</code> for each possible whitespace character."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1463608361, "post_id": 37309135, "comment_id": 62142406, "body": "<code>re.sub(&quot;[.*]+&quot;, &quot; &quot;, s)</code> replaces all runs consisting of <code>.</code> and <code>*</code> into a single space; effectively, it removes all periods and stars. You say that you didn&#39;t want that; if so, why did you do it?"}], "answers": [{"tags": [], "owner": {"reputation": 13598, "user_id": 3990607, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0ZRtB.png?s=128&g=1", "display_name": "patapouf_ai", "link": "https://stackoverflow.com/users/3990607/patapouf-ai"}, "is_accepted": false, "score": -1, "last_activity_date": 1463604339, "creation_date": 1463604339, "answer_id": 37309815, "question_id": 37309135, "link": "https://stackoverflow.com/questions/37309135/regex-for-all-characters-and-interpunction/37309815#37309815", "title": "Regex for all characters and interpunction", "body": "<p>To remove all spaces from a string <code>line</code> you can simply do:</p>\n\n<pre><code>re.sub(\"\\s\", \"\",line)\n</code></pre>\n\n<p>This will keep all other punctuation and only remove spaces.</p>\n"}], "owner": {"reputation": 29, "user_id": 6332651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef9fa848d63b5dbf4513110989123190?s=128&d=identicon&r=PG&f=1", "display_name": "salama", "link": "https://stackoverflow.com/users/6332651/salama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1463604339, "creation_date": 1463601973, "question_id": 37309135, "link": "https://stackoverflow.com/questions/37309135/regex-for-all-characters-and-interpunction", "title": "Regex for all characters and interpunction", "body": "<p>I'm scraping forum pages with python.</p>\n\n<p>I need to get all the messages and messages need to have all the punctuation characters. But I need to remove all the spaces.</p>\n\n<p>I tried to do that with this code: But I don't have . * and other in my output.</p>\n\n<pre><code>    found = [re.sub(\"[.*]+\", \" \", d.text.encode(\"utf-8\").decode(\"utf-8\"))]\n    rez.extend(found)\n\nfor line in rez:\n    line = re.sub(r'^\\s+$|\\n', '', line)\n    text_file.write(line + \"\\n\\n\")\n    print(line)\n</code></pre>\n"}, {"tags": ["python", "numpy", "pandas", "xgboost"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2221676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770d442da850a2ad4e87c9cae5c241c?s=128&d=identicon&r=PG", "display_name": "jcaine", "link": "https://stackoverflow.com/users/2221676/jcaine"}, "is_accepted": false, "score": 2, "last_activity_date": 1464799001, "creation_date": 1464799001, "answer_id": 37574283, "question_id": 37309096, "link": "https://stackoverflow.com/questions/37309096/convert-python-xgboost-dmatrix-to-numpy-ndarray-or-pandas-dataframe/37574283#37574283", "title": "convert python xgboost dMatrix to numpy ndarray or pandas DataFrame", "body": "<p>Howard,</p>\n\n<p>I believe that the xgb.DMatrix assumes the libsvm data format.  You can get this data into a sparse CSR matrix using scikit's load_svmlight_file: <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_svmlight_file.html\" rel=\"nofollow\">http://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_svmlight_file.html</a>.</p>\n\n<p>You can then partition the response variable and the features using the example at the bottom of the page.</p>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 2665843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635b4efaccfb00102efa847e43467ac7?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2665843/peter"}, "is_accepted": false, "score": 5, "last_activity_date": 1478287258, "creation_date": 1478287258, "answer_id": 40430328, "question_id": 37309096, "link": "https://stackoverflow.com/questions/37309096/convert-python-xgboost-dmatrix-to-numpy-ndarray-or-pandas-dataframe/40430328#40430328", "title": "convert python xgboost dMatrix to numpy ndarray or pandas DataFrame", "body": "<p>To elaborate on @jcaine's answer, you can use sklearn to load the files, then convert them to ordinary numpy arrays:</p>\n\n<pre><code>from sklearn.datasets import load_svmlight_file\ntrain_data = load_svmlight_file('demo/data/agaricus.txt.train')\nX = train_data[0].toarray()\ny = train_data[1]\n</code></pre>\n\n<p>I haven't found a way to directly convert from dMatrix to numpy arrays yet.</p>\n"}], "owner": {"reputation": 237, "user_id": 5937828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c973ab80a7fbf3e68d372db88c786926?s=128&d=identicon&r=PG&f=1", "display_name": "howard", "link": "https://stackoverflow.com/users/5937828/howard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7364, "favorite_count": 3, "answer_count": 2, "score": 16, "last_activity_date": 1478287258, "creation_date": 1463601837, "question_id": 37309096, "link": "https://stackoverflow.com/questions/37309096/convert-python-xgboost-dmatrix-to-numpy-ndarray-or-pandas-dataframe", "title": "convert python xgboost dMatrix to numpy ndarray or pandas DataFrame", "body": "<p>I'm following a xgboost example on their main git at -\n<a href=\"https://github.com/dmlc/xgboost/blob/master/demo/guide-python/basic_walkthrough.py#L64\" rel=\"noreferrer\">https://github.com/dmlc/xgboost/blob/master/demo/guide-python/basic_walkthrough.py#L64</a></p>\n\n<p>in this example they are reading files directly put into <code>dMatrix</code> -</p>\n\n<pre><code>dtrain = xgb.DMatrix('../data/agaricus.txt.train')\ndtest = xgb.DMatrix('../data/agaricus.txt.test')\n</code></pre>\n\n<p>I looked at <code>dMatrix</code> code, seems there is no way to briefly look at how the data is structured - as we normally do in pandas with <code>pandas.DataFrame.head()</code></p>\n\n<p>in xgboost documentation it mentions that we can convert <code>numpy.ndarray</code> to <code>xgboost.dMatrix</code> - can we somehow convert it back - from <code>xgboost.dMatrix</code> to <code>numpy.ndarray</code>, or perhaps pandas dataFrame? I don't see possible way from their code - but perhaps someone knows a way?</p>\n\n<p>Or is there a way to briefly look at how data is like in <code>xgboost.dMatrix</code>?</p>\n\n<p>Thanks in advance,\nHoward</p>\n"}, {"tags": ["python", "tensorflow", "recurrent-neural-network"], "answers": [{"comments": [{"owner": {"reputation": 1791, "user_id": 5951780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wyQHo.jpg?s=128&g=1", "display_name": "Phillip Bock", "link": "https://stackoverflow.com/users/5951780/phillip-bock"}, "edited": false, "score": 0, "creation_date": 1463754246, "post_id": 37329794, "comment_id": 62214542, "body": "Thx for your reply.   Yes I am using the seq2seq-Model. Here the attention mechanism, it says in the code, is based on the Gramar as a foreign language (<a href=\"http://arxiv.org/pdf/1412.7449v3.pdf\" rel=\"nofollow noreferrer\">arxiv.org/pdf/1412.7449v3.pdf</a>). In that paper I understand that the attention decoder looks into the encoder (&quot;, to produce each output symbol Bt, uses an attention mechanism over the encoder LSTM states.&quot;)."}, {"owner": {"reputation": 1791, "user_id": 5951780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wyQHo.jpg?s=128&g=1", "display_name": "Phillip Bock", "link": "https://stackoverflow.com/users/5951780/phillip-bock"}, "edited": false, "score": 0, "creation_date": 1463754257, "post_id": 37329794, "comment_id": 62214551, "body": "By bypassing I dont mean ignore. I would assume the &quot;main&quot; input to the decoder is the encoder_state (at end of encoding). However, if the decoder ALSO uses the attention to directly peep into the encoder-side, then the encopder_state does not necessarily carry ALL the info the decoder uses - thus partially bypassing the encoder_state.   So if my goal is to use the encoder_state for other learning-tasks I should better switch off attention as this allows the sec2sec to only partially encode all relevant info into the encoder state."}], "tags": [], "owner": {"reputation": 2272, "user_id": 5765409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AC2ux.jpg?s=128&g=1", "display_name": "j314erre", "link": "https://stackoverflow.com/users/5765409/j314erre"}, "is_accepted": false, "score": 2, "last_activity_date": 1463678179, "last_edit_date": 1463678179, "creation_date": 1463677499, "answer_id": 37329794, "question_id": 37309086, "link": "https://stackoverflow.com/questions/37309086/seq2seq-attention-peeping-into-the-encoder-states-bypasses-last-encoder-hidden-s/37329794#37329794", "title": "seq2seq-Attention peeping into the encoder-states bypasses last encoder-hidden-state", "body": "<p>Bottom line, you should try different approaches and see what model works best for your data. Without knowing anything about your data or running some tests it is impossible to speculate on whether attention mechanism, CNN, etc. provides any benefits or not.</p>\n\n<p>However, if you are using the tensorflow seq2seq models available in <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/seq2seq.py\" rel=\"nofollow\"> tensorflow/tensorflow/python/ops/seq2seq.py </a> let me share some observations about the attention mechanism as implemented in <code>embedding_attention_seq2seq()</code> and <code>attention_decoder()</code> that related to your question(s):</p>\n\n<ol>\n<li>Hidden state of decoder is initialized with the final state of encoder...so attention does not \"effectively bypass the hidden state at end of encoding\" IMHO</li>\n</ol>\n\n<p>The following code in <code>embedding_attention_seq2seq()</code> passes in the last time step <code>encoder_state</code> as the <code>initial_state</code> in the 2nd argument:</p>\n\n<pre><code>  return embedding_attention_decoder(\n      decoder_inputs, encoder_state, attention_states, cell,\n      num_decoder_symbols, embedding_size, num_heads=num_heads,\n      output_size=output_size, output_projection=output_projection,\n      feed_previous=feed_previous,\n      initial_state_attention=initial_state_attention)\n</code></pre>\n\n<p>And you can see that <code>initial_state</code> is used directly in <code>attention_decoder()</code> without going through any kind of attention states:</p>\n\n<pre><code>state = initial_state\n\n...\n\nfor i, inp in enumerate(decoder_inputs):\n  if i &gt; 0:\n    variable_scope.get_variable_scope().reuse_variables()\n  # If loop_function is set, we use it instead of decoder_inputs.\n  if loop_function is not None and prev is not None:\n    with variable_scope.variable_scope(\"loop_function\", reuse=True):\n      inp = loop_function(prev, i)\n  # Merge input and previous attentions into one vector of the right size.\n  input_size = inp.get_shape().with_rank(2)[1]\n  if input_size.value is None:\n    raise ValueError(\"Could not infer input size from input: %s\" % inp.name)\n  x = linear([inp] + attns, input_size, True)\n  # Run the RNN.\n  cell_output, state = cell(x, state)\n  ....\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Attention states are combined with decoder inputs via learned linear combinations</p>\n\n<p><code>x = linear([inp] + attns, input_size, True)</code>    </p>\n\n<p><code># Run the RNN.</code></p>\n\n<p><code>cell_output, state = cell(x, state)</code></p></li>\n</ol>\n\n<p>...the <code>linear()</code> does the W, b matrix operations to down rank the combined input + attn into the decoder input_size. The model will learn values for W and b.</p>\n\n<p>Summary: the attention states are combined with inputs into the decoder, but the last hidden state of the encoder is fed in as the initial hidden state of the decoder without attention.</p>\n\n<p>Finally, the attention mechanism still has the last encoding state at it's disposal and would only \"bypass\" it if learned that was the best thing to do during training.</p>\n"}], "owner": {"reputation": 1791, "user_id": 5951780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wyQHo.jpg?s=128&g=1", "display_name": "Phillip Bock", "link": "https://stackoverflow.com/users/5951780/phillip-bock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1632, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486482756, "creation_date": 1463601787, "last_edit_date": 1486482756, "question_id": 37309086, "link": "https://stackoverflow.com/questions/37309086/seq2seq-attention-peeping-into-the-encoder-states-bypasses-last-encoder-hidden-s", "title": "seq2seq-Attention peeping into the encoder-states bypasses last encoder-hidden-state", "body": "<p>In the seq2seq-Model I want to use the hidden state at end of encoding to read out further info from the input sequence.</p>\n\n<p>So I return the hidden state and build a new sub net on top of it. That works decently well. However, I have a doubt: This is supposed to become more complex, thus I am effectively relying of having ALL the necessary information for the additional task to be encoded in that hidden state.</p>\n\n<p>If, however, the seq2seq-decoder uses the attention mechanism, it basically peeps into the encoder side, effectively bypassing the hidden state at end of encoding. Thus NOT ALL the info the seq2seq-network relies on is encoded in the hidden state at end of encoding.  </p>\n\n<p>Does that, in theory, mean that I have to not use the attention mechanism but go with plain-vanilla-seq2seq in order to get the maximum out of the hidden state at end of encoding? This would obviously sacrifice a big part of the effectiveness on the seq2seq-task.</p>\n\n<p>Just trying to get a doubt confirmed I am having. Basically: Normally the last encoder-hidden-state in the seq2seq-model would contain ALL relevant info for decoding. But with attention this is no longer the case, right?</p>\n\n<p>And on a more speculative note, do you agree with these possible solutions:\n- Create an additional attention mechanism for the new sub net?\n- Or, alternatively, use a convolution over all the hidden states of the encoder-side as additional input to the new sub net?</p>\n\n<p>Any thoughts? Easier fixes?</p>\n\n<p>Thx</p>\n"}, {"tags": ["python", "django", "azure", "geodjango"], "comments": [{"owner": {"reputation": 13274, "user_id": 4989668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6Z4G.jpg?s=128&g=1", "display_name": "Gary Liu - MSFT", "link": "https://stackoverflow.com/users/4989668/gary-liu-msft"}, "edited": false, "score": 0, "creation_date": 1463635296, "post_id": 37309035, "comment_id": 62149315, "body": "How do you configure the system PATH on Azure Web Apps? It seems we don&#39;t have sufficient permission to do these operations."}, {"owner": {"reputation": 1839, "user_id": 5798503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d89240723c514d3d519b9a3013427b?s=128&d=identicon&r=PG", "display_name": "Tomas Walch", "link": "https://stackoverflow.com/users/5798503/tomas-walch"}, "reply_to_user": {"reputation": 13274, "user_id": 4989668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6Z4G.jpg?s=128&g=1", "display_name": "Gary Liu - MSFT", "link": "https://stackoverflow.com/users/4989668/gary-liu-msft"}, "edited": false, "score": 0, "creation_date": 1463639598, "post_id": 37309035, "comment_id": 62151048, "body": "I (try to) set it in <code>web.config</code>. If this is ignored due to permission restraints then that would explain my problems I guess :("}], "owner": {"reputation": 1839, "user_id": 5798503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d89240723c514d3d519b9a3013427b?s=128&d=identicon&r=PG", "display_name": "Tomas Walch", "link": "https://stackoverflow.com/users/5798503/tomas-walch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 641, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1463601575, "creation_date": 1463601575, "question_id": 37309035, "link": "https://stackoverflow.com/questions/37309035/install-gdal-and-geos-libraries-for-windows-on-azure-app-service", "title": "Install GDAL and GEOS libraries for Windows on Azure app service", "body": "<p>I have an Azure App Service where I run a site built with Python3 and Django, connecting to a PostgreSQL database in a VM. Now I need to add geodjango support which needs native GEOS and GDAL libraries, and I can't get this to work.</p>\n\n<p>Since I can't run the installer in the App Service I have made a local installation and copied all the files via FTP. I've set the environment variables:</p>\n\n<pre><code>OSGEO4W_ROOT=&lt;dir&gt;\nGDAL_DATA=&lt;dir&gt;\\share\\gdal\nPROJ_LIB=&lt;dir&gt;\\share\\proj\nPATH=&lt;dir&gt;\\bin\n</code></pre>\n\n<p>And I've set the django settings:</p>\n\n<pre><code>GEOS_LIBRARY_PATH = '&lt;dir&gt;/bin/geos_c.dll'\nGDAL_LIBRARY_PATH = '&lt;dir&gt;/bin/gdal200.dll'\n</code></pre>\n\n<p>And still everything I get is <code>OSError: [WinError 126] The specified module could not be found</code>.</p>\n\n<p>Is this possible to solve?</p>\n"}, {"tags": ["python", "windows", "scrapy", "anaconda", "git-bash"], "answers": [{"tags": [], "owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "is_accepted": false, "score": 2, "last_activity_date": 1463649194, "creation_date": 1463649194, "answer_id": 37318807, "question_id": 37309031, "link": "https://stackoverflow.com/questions/37309031/scrapy-startproject-not-working-with-git-bash/37318807#37318807", "title": "Scrapy startproject not working with git-bash", "body": "<p>I don't know how git-bash has effect on this, but installing scrapy <a href=\"https://github.com/scrapy/scrapy/blob/master/setup.py#L23\" rel=\"nofollow\">registers one entry point, a console script</a>, calling <code>scrapy.cmdline:execute</code>. See <a href=\"https://pythonhosted.org/setuptools/setuptools.html#automatic-script-creation\" rel=\"nofollow\">this page</a> for more info on entry points.</p>\n\n<p>You can invoke the same using the python interpreter with <code>-m</code> like this:</p>\n\n<pre><code>python -m scrapy.cmdline startproject scrapytest\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "is_accepted": false, "score": 0, "last_activity_date": 1464019871, "creation_date": 1464019871, "answer_id": 37395784, "question_id": 37309031, "link": "https://stackoverflow.com/questions/37309031/scrapy-startproject-not-working-with-git-bash/37395784#37395784", "title": "Scrapy startproject not working with git-bash", "body": "<p>There seemed to be a problem with using the anaconda install command above. I created a new virtualenv using python 2.7.11 and installed scrapy using pip and it worked. Part of the problem earlier may have been that pip was not updated to the latest version , so do this first. here is a list of packages I ended up installing in my virtual env:</p>\n\n<pre><code>$ pip list\nattrs (15.2.0)\nbackports-abc (0.4)\nbackports.shutil-get-terminal-size (1.0.0)\nbackports.ssl-match-hostname (3.5.0.1)\ncertifi (2016.2.28)\ncffi (1.6.0)\nconfigparser (3.5.0)\ncryptography (1.3.2)\ncssselect (0.9.1)\ndecorator (4.0.9)\nentrypoints (0.2.2)\nenum34 (1.1.6)\nfunctools32 (3.2.3.post2)\nidna (2.1)\nipaddress (1.0.16)\nipykernel (4.3.1)\nipython (4.2.0)\nipython-genutils (0.1.0)\nipywidgets (5.1.4)\nJinja2 (2.8)\njsonschema (2.5.1)\njupyter (1.0.0)\njupyter-client (4.2.2)\njupyter-console (4.1.1)\njupyter-core (4.1.0)\nlxml (3.6.0)\nMarkupSafe (0.23)\nmistune (0.7.2)\nnbconvert (4.2.0)\nnbformat (4.0.1)\nnotebook (4.2.0)\nparsel (1.0.2)\npathlib2 (2.1.0)\npickleshare (0.7.2)\npip (8.1.2)\npsycopg2 (2.6.1)\nptyprocess (0.5.1)\npyasn1 (0.1.9)\npyasn1-modules (0.0.8)\npycparser (2.14)\nPyDispatcher (2.0.5)\nPygments (2.1.3)\npyOpenSSL (16.0.0)\npyreadline (2.1)\npywin32 (220)\npyzmq (15.2.0)\nqtconsole (4.2.1)\nqueuelib (1.4.2)\nScrapy (1.1.0)\nservice-identity (16.0.0)\nsetuptools (21.1.0)\nsimplegeneric (0.8.1)\nsingledispatch (3.4.0.3)\nsix (1.10.0)\nSQLAlchemy (1.0.13)\nterminado (0.6)\ntornado (4.3)\ntraitlets (4.2.1)\nTwisted (16.2.0)\nw3lib (1.14.2)\nwidgetsnbextension (1.2.2)\nzope.interface (4.1.3)\n</code></pre>\n"}], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1464019871, "creation_date": 1463601570, "last_edit_date": 1463604397, "question_id": 37309031, "link": "https://stackoverflow.com/questions/37309031/scrapy-startproject-not-working-with-git-bash", "title": "Scrapy startproject not working with git-bash", "body": "<p>I'm working on win7 on a system with git-bash. I've installed Miniconda and loaded scrapy using:</p>\n\n<pre><code>conda install -c scrapinghub scrapy\n</code></pre>\n\n<p>I've set the environmental variables to contain:</p>\n\n<pre><code>C:\\Miniconda2;C:\\Miniconda2\\Scripts\n</code></pre>\n\n<p>Now within the scrapy vitualenv, when I do :</p>\n\n<pre><code>(scrapy)\n$ scrapy startproject scrapytest    \nsh: scrapy: command not found\n</code></pre>\n\n<p>How do I use the scrapy command line tool here?</p>\n"}, {"tags": ["python", "flask", "peewee"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 7232783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlWVP.jpg?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/7232783/jason"}, "is_accepted": false, "score": 2, "last_activity_date": 1502218605, "creation_date": 1502218605, "answer_id": 45576062, "question_id": 37309024, "link": "https://stackoverflow.com/questions/37309024/peewee-instance-matching-query-does-not-exist/45576062#45576062", "title": "peewee instance matching query does not exist", "body": "<p>The problem is in your except block.</p>\n\n<pre><code> except models.DoesNotExist:\n    return json.loads({'error' : 'that set does not exist'})\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code> except models.Sets.DoesNotExist:\n    return json.loads({'error' : 'that set does not exist'})\n</code></pre>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4737, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1502218605, "creation_date": 1463601546, "question_id": 37309024, "link": "https://stackoverflow.com/questions/37309024/peewee-instance-matching-query-does-not-exist", "title": "peewee instance matching query does not exist", "body": "<p>I have the following code where I'm querying my peewee database. I'm getting an error in the for loop on the line that has term.sets_term_id. This is the error TermsDoesNotExist: Instance matching query does not exist: If I do vars(term) then sets_terms_id is an option. Why am I getting that error and how do I fix it?</p>\n\n<pre><code>def get_api_response(id):\n    response = {}\n    print(\"id is \" + str(id))\n    try:\n        sets = models.Sets.select().where(models.Sets.user_id == id)\n\n    except models.DoesNotExist:\n        return json.loads({'error' : 'that set does not exist'})\n    else:\n        print(\"it was successful\")\n        for term in sets:\n            print(term.sets_term_id)\n</code></pre>\n\n<p>Here are my Sets and Terms models</p>\n\n<pre><code>class Terms(UserMixin, BaseModel):\n    term_id = CharField()\n    sets_id = CharField()\n    rank = IntegerField()\n    term = TextField()\n    definition = TextField()\n\n    @classmethod\n    def include_term(cls, set_id, term_id, definition, rank, term, **kwards):\n        try:\n            cls.select().where(cls.term_id == term_id).get()\n        except cls.DoesNotExist:\n            print(\"putting term into db\")\n            concept = cls(\n                sets_id = set_id,\n                term_id = term_id,\n                definition = definition,\n                rank = rank,\n                term= term)\n            concept.save()\n            print(concept.term)\n            print(\"term saved to db\")\n            return concept\n        else:\n            raise Exception(\"Term with that id already exists\")\n\nclass Sets(UserMixin, BaseModel):\n    user_id = CharField()\n    name_set = CharField()\n    #created_date = DateField()\n    #modified_date = DateField()\n    #published_date = DateField()\n    sets_term_id = ForeignKeyField(Terms, to_field=\"sets_id\")\n\n    @classmethod\n    def include_set(cls, user_id, name_set, sets_term_id, **kwards):\n        try:\n            cls.select().where(\n                (cls.name_set == name_set) | (cls.sets_term_id == sets_term_id)\n            ).get()\n        except cls.DoesNotExist:\n            print(\"putting set into db\")\n            quizlet_set = cls(\n                user_id = user_id, \n                name_set = name_set,\n                sets_term_id = sets_term_id)\n            print(quizlet_set.name_set)\n            quizlet_set.save()\n            print(\"set saved in db\")\n\n            return quizlet_set\n        else:\n            raise Exception(\"Set with that name already exists\")  \n</code></pre>\n"}, {"tags": ["jquery", "python", "css", "python-3.x", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1463601716, "post_id": 37309002, "comment_id": 62139294, "body": "Have you tried maximizing the browser window? Thanks."}, {"owner": {"reputation": 71, "user_id": 6021638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154054669866579/picture?type=large", "display_name": "Scott Jermaine Guyton", "link": "https://stackoverflow.com/users/6021638/scott-jermaine-guyton"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1463603575, "post_id": 37309002, "comment_id": 62140206, "body": "Yes, the browser window is maxed."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6021638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154054669866579/picture?type=large", "display_name": "Scott Jermaine Guyton", "link": "https://stackoverflow.com/users/6021638/scott-jermaine-guyton"}, "is_accepted": true, "score": 0, "last_activity_date": 1463605904, "creation_date": 1463605904, "answer_id": 37310169, "question_id": 37309002, "link": "https://stackoverflow.com/questions/37309002/selecting-a-radio-button-covered-by-a-div-element-with-selenium/37310169#37310169", "title": "Selecting a radio button covered by a div element with selenium", "body": "<p>The solution to this problem is to check if jQuery is done fooling around with the page: </p>\n\n<pre><code>element = WebDriverWait(driver, 20).until(\n            lambda s: s.execute_script(\"return jQuery.active == 0\"))\n</code></pre>\n\n<p>The executed script returns a Boolean value so:</p>\n\n<pre><code>if element:\n            csvRadio = driver.find_element_by_css_selector(\"#exportValuesLabelsCSV3.radio\")\n            csvRadio.click()\n        else:\n            pass\n</code></pre>\n\n<p>I hope this helps someone else in the future :)</p>\n"}], "owner": {"reputation": 71, "user_id": 6021638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154054669866579/picture?type=large", "display_name": "Scott Jermaine Guyton", "link": "https://stackoverflow.com/users/6021638/scott-jermaine-guyton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 37310169, "answer_count": 1, "score": 0, "last_activity_date": 1463679246, "creation_date": 1463601481, "last_edit_date": 1463679246, "question_id": 37309002, "link": "https://stackoverflow.com/questions/37309002/selecting-a-radio-button-covered-by-a-div-element-with-selenium", "title": "Selecting a radio button covered by a div element with selenium", "body": "<p>As the title suggests I am having some trouble getting selenium to click on a radio button because it believes that it will click on a div element instead:</p>\n\n<p><strong>Important Note:</strong></p>\n\n<p>I forgot to mention that the div is triggered by a javascript function that uses jQuery.</p>\n\n<p><strong>/End Note</strong></p>\n\n<p>selenium.common.exceptions.WebDriverException: Message: unknown error: Element is not clickable at point (725, 597). Other element would receive the click: ...</p>\n\n<p>The annoying part about this is that the radio button is not a child element of the div, it's size is large enough to over the area where the radio is placed. \nI've tried using:</p>\n\n<pre><code>element = WebDriverWait(driver, 20).until(\n    EC.visibility_of_element_located((By.CSS_SELECTOR, \"#exportValuesLabelsCSV3.radio\"))\n</code></pre>\n\n<p>As well as other methods of the expected condition class but nothing works.</p>\n"}, {"tags": ["python", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 2088, "user_id": 5104777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a23b08f8a2c7898c5157d836e67e3e3?s=128&d=identicon&r=PG&f=1", "display_name": "benjimin", "link": "https://stackoverflow.com/users/5104777/benjimin"}, "is_accepted": true, "score": 1, "last_activity_date": 1484004714, "creation_date": 1484004714, "answer_id": 41558750, "question_id": 37308990, "link": "https://stackoverflow.com/questions/37308990/understanding-spyders-profiler-results-python/41558750#41558750", "title": "understanding spyder&#39;s profiler results python", "body": "<blockquote>\n  <p>Note that the time and call values shown by [spyder-profiler] are global to the execution of the program and not specific to a particular call. Because of this, some functions/methods may show longer times than their callers.</p>\n</blockquote>\n\n<p><a href=\"http://sjara.github.io/spyder-profiler/\" rel=\"nofollow noreferrer\">http://sjara.github.io/spyder-profiler/</a></p>\n\n<p>In your example, presumably <code>__getitem__</code> ran for about ten seconds from within <code>noise_kauff</code> plus for about half a minute from elsewhere. Unfortunately spyder just adds those together - it's a known issue/bug.</p>\n"}], "owner": {"reputation": 2615, "user_id": 5235265, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/1Yl71.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/5235265/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2054, "favorite_count": 0, "accepted_answer_id": 41558750, "answer_count": 1, "score": 2, "last_activity_date": 1484004714, "creation_date": 1463601440, "question_id": 37308990, "link": "https://stackoverflow.com/questions/37308990/understanding-spyders-profiler-results-python", "title": "understanding spyder&#39;s profiler results python", "body": "<p>I'm using python 2.7.11 and spyder's (v2.3.8) profiler, but I have trouble understanding the results. \nThis is an image of the results ordered by \"Total Time\" </p>\n\n<p><a href=\"https://i.stack.imgur.com/ltVu0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ltVu0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have 2 questions:</p>\n\n<p>1) <code>mainloop</code> uses 216.012 Total Time. How can I know what part/line of my code is calling those functions?</p>\n\n<p>2) In the function <code>noise_kauff</code> (wich I defined) Total Time is 20.51 but the first line inside <code>noise_kauff</code> uses 51.629? </p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1463601438, "post_id": 37308948, "comment_id": 62139152, "body": "<code>for item in x and y</code> probably isn&#39;t doing what you think it&#39;s doing, either (it&#39;s equivalent to <code>for item in x</code>)."}, {"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1463601565, "post_id": 37308948, "comment_id": 62139210, "body": "Maybe fill us in on what you are wanting out of this code. You say what you expect to get. If you let us in on what you would like to accomplish we could probably show you a more elegant solution then this."}, {"owner": {"reputation": 283, "user_id": 6352923, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/619c228b64a78fc6bb2aafd003d2810e?s=128&d=identicon&r=PG&f=1", "display_name": "Draco Malfago", "link": "https://stackoverflow.com/users/6352923/draco-malfago"}, "edited": false, "score": 0, "creation_date": 1463601745, "post_id": 37308948, "comment_id": 62139315, "body": "thanks for your explanations, it makes sense.. <code>my_string</code> is in fact a url request with data and params where I would like to loop in params to the function with string formatting"}], "answers": [{"tags": [], "owner": {"reputation": 7251, "user_id": 6214222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oYplt.png?s=128&g=1", "display_name": "Keiwan", "link": "https://stackoverflow.com/users/6214222/keiwan"}, "is_accepted": true, "score": 1, "last_activity_date": 1463601592, "creation_date": 1463601592, "answer_id": 37309040, "question_id": 37308948, "link": "https://stackoverflow.com/questions/37308948/format-strings-in-functions/37309040#37309040", "title": "format strings in functions", "body": "<p>It doesn't work because with every loop you are printing <code>x</code> and <code>y</code> which are your lists and not the items inside the lists. Try this code:</p>\n\n<pre><code>def my_string(z,a,b): \n    return '%d ' '%s ' '%s' % (z, a, b)\n\nz = 1\nx = ['monkey', 'monkey2', 'monkey3']\ny = ['banana', 'banana2', 'banana3']\n\nfor item1,item2 in zip(x, y):\n    print my_string(z, item1, item2)\n</code></pre>\n\n<p><code>zip</code> enables you to iterate over two lists at the same time by returning a tuple. See <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow\">here</a> for more information on this.</p>\n"}], "owner": {"reputation": 283, "user_id": 6352923, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/619c228b64a78fc6bb2aafd003d2810e?s=128&d=identicon&r=PG&f=1", "display_name": "Draco Malfago", "link": "https://stackoverflow.com/users/6352923/draco-malfago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 37309040, "answer_count": 1, "score": 1, "last_activity_date": 1463601592, "creation_date": 1463601253, "question_id": 37308948, "link": "https://stackoverflow.com/questions/37308948/format-strings-in-functions", "title": "format strings in functions", "body": "<p>I am exploring string formatting in functions, so lets say we have this simple and ugly function: </p>\n\n<pre><code>def my_string(z,a,b): \n    return '%d' '%s' '%s' % (z, a, b)\n\nz = 1\nx = ['monkey', 'monkey2', 'monkey3']\ny = ['banana', 'banana2', 'banana3']\n\nfor item in x and y:\n    print my_string(z, x, y)\n</code></pre>\n\n<p>I am expecting this to print: </p>\n\n<pre><code>1 monkey banana\n1 monkey2 banana2\n1 monkey3 banana3\n</code></pre>\n\n<p>But it is returning:</p>\n\n<pre><code>1['monkey', 'monkey2', 'monkey3']['banana', 'banana2', 'banana3']\n1['monkey', 'monkey2', 'monkey3']['banana', 'banana2', 'banana3']\n</code></pre>\n\n<p>I cannot on earth understand why the return is as it is and not as I expect it to be, <code>print x[0]</code> will indeed print the first item of x which is <code>monkey</code>. Where am I thinking wrong? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1463601265, "post_id": 37308932, "comment_id": 62139058, "body": "Do you implement <code>__eq__</code> on the <code>_MovementInfo</code> instances?"}, {"owner": {"reputation": 4177, "user_id": 3806122, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/cKU37.png?s=128&g=1", "display_name": "Jerfov2", "link": "https://stackoverflow.com/users/3806122/jerfov2"}, "edited": false, "score": 0, "creation_date": 1463605006, "post_id": 37308932, "comment_id": 62140894, "body": "Are you trying to check if all the key and values in <code>self.data</code> are in <code>self._original_data</code>?"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1463605343, "post_id": 37308932, "comment_id": 62141068, "body": "Yeah, I&#39;m trying to check if everything is the same, though obviously the class stored as the default one in defaultdict is causing the problem. I haven&#39;t used <code>__eq__</code> before but I&#39;ll give it a shot, hopefully that should do the trick, cheers :)"}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1463651497, "post_id": 37308932, "comment_id": 62158933, "body": "Yeah thanks, using <code>__eq__</code> did the trick, if you put it as an answer I&#39;ll accept it"}], "owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1463601180, "creation_date": 1463601180, "question_id": 37308932, "link": "https://stackoverflow.com/questions/37308932/check-if-dictionary-is-equal-that-contains-a-class-in-one-key", "title": "Check if dictionary is equal that contains a class in one key", "body": "<p>This started out as a different question, but I realised that <code>class == class</code> returns <code>False</code>. I read that you can use <code>type(class) == type(class)</code>, but I'm wondering if there would be a cleaner way to do this.</p>\n\n<p>I can't copy over the exact code since it's got bits getting to this stage all over the place, but here is an example of what is happening:</p>\n\n<pre><code>a = self.data['test']['Frames']\nb = self._original_data['test']['Frames']\nprint a == b\nprint str(a) == str(b)\n</code></pre>\n\n<p>Which results in:</p>\n\n<pre><code>defaultdict(&lt;class '__main__._MovementInfo'&gt;, {0: _MovementInfo(location=None, rotation=None, scale=None, visibility=None), 10: _MovementInfo(location=None, rotation=None, scale=None, visibility=None)})\ndefaultdict(&lt;class '__main__._MovementInfo'&gt;, {0: _MovementInfo(location=None, rotation=None, scale=None, visibility=None), 10: _MovementInfo(location=None, rotation=None, scale=None, visibility=None)})\nFalse\nTrue\n</code></pre>\n\n<p>I want to compare <code>self.data</code> to <code>self._original_data</code> which have a lot more values, so I'm wondering if I can do it all at once without having to break apart the <code>defaultdict</code>.</p>\n\n<p>Here is an example of one value in <code>sorted(self.data.iteritems(), key=lambda (x, y): y['ListOrder'])</code>, which I sorted like that to always return the keys in the same order (there's a bug with 0.0 but it's not causing problems):</p>\n\n<pre><code>[('test', {'FrameDistance': -0.0, 'RandomOffset': -0.0, 'ListOrder': 0, 'FrameOffset': -0.0, 'ObjectSelection': set([]), 'ObjectOrigin': (-0.0, -0.0, -0.0), 'Frames': defaultdict(&lt;class '__main__._MovementInfo'&gt;, {0: _MovementInfo(location=None, rotation=None, scale=None, visibility=None), 10: _MovementInfo(location=None, rotation=None, scale=None, visibility=None)}), 'Axis': (False, False, False), 'BounceDistance': -0.0})\n</code></pre>\n\n<p>Is there a way of doing this properly, or should I convert it to a string?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1463601345, "post_id": 37308918, "comment_id": 62139097, "body": "If the zeroth element of the result of the <code>get</code> is falsy, the result will be <code>0</code>. Otherwise, use that element."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 1, "creation_date": 1463601347, "post_id": 37308918, "comment_id": 62139099, "body": "<code>or</code> is a lazy operator. If the first item is truthy, it&#39;ll return that. Otherwise it&#39;ll return the second value."}, {"owner": {"reputation": 37, "user_id": 5920874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRff6.jpg?s=128&g=1", "display_name": "braasch", "link": "https://stackoverflow.com/users/5920874/braasch"}, "edited": false, "score": 0, "creation_date": 1463601985, "post_id": 37308918, "comment_id": 62139416, "body": "...ahhh, now i understand... thanks a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "is_accepted": false, "score": -1, "last_activity_date": 1463601570, "last_edit_date": 1495541280, "creation_date": 1463601473, "answer_id": 37308998, "question_id": 37308918, "link": "https://stackoverflow.com/questions/37308918/how-does-this-complex-expression-with-or-work/37308998#37308998", "title": "How does this complex expression with OR work?", "body": "<p>The empty string is falsy in python, so in this situation, if key1 is not found, the value will be 0</p>\n\n<p><a href=\"https://docs.python.org/2/library/stdtypes.html#truth-value-testing\" rel=\"nofollow noreferrer\">Python documentation</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9573244/most-elegant-way-to-check-if-the-string-is-empty-in-python\">SO example</a></p>\n"}, {"tags": [], "owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "is_accepted": false, "score": -1, "last_activity_date": 1463602165, "creation_date": 1463602165, "answer_id": 37309185, "question_id": 37308918, "link": "https://stackoverflow.com/questions/37308918/how-does-this-complex-expression-with-or-work/37309185#37309185", "title": "How does this complex expression with OR work?", "body": "<p>To quote the <a href=\"https://docs.python.org/2/reference/expressions.html#boolean-operations\" rel=\"nofollow\">docs</a>:</p>\n\n<blockquote>\n  <p>The expression <code>x or y</code> first evaluates <code>x</code>; if <code>x</code> is true, its value is\n  returned; otherwise, <code>y</code> is evaluated and the resulting value is\n  returned.</p>\n  \n  <p>[...]</p>\n  \n  <p>Note that neither <code>and</code> nor <code>or</code> restrict the value and type they return\n  to <code>False</code> and <code>True</code>, but rather return the last evaluated argument.</p>\n</blockquote>\n"}], "owner": {"reputation": 37, "user_id": 5920874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oRff6.jpg?s=128&g=1", "display_name": "braasch", "link": "https://stackoverflow.com/users/5920874/braasch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1463602165, "creation_date": 1463601125, "last_edit_date": 1463601363, "question_id": 37308918, "link": "https://stackoverflow.com/questions/37308918/how-does-this-complex-expression-with-or-work", "title": "How does this complex expression with OR work?", "body": "<p>The line is:</p>\n\n<pre><code>key1 = dictionary_name.get('key1', ['']) [0] or 0\n</code></pre>\n\n<p>I understand the <code>get</code> method and the default value but I have no clue what's happening with the <code>or</code> after the <code>)</code>. The line seems to have the function to read the value of a key out of a directory and return <code>0</code> if the value is <code>' '</code>.<br>\nBut how does the line, especially the boolean <code>or</code>, work in details?</p>\n"}, {"tags": ["python", "parallel-processing", "multiprocessing", "pygtk"], "comments": [{"owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "edited": false, "score": 0, "creation_date": 1463601107, "post_id": 37308905, "comment_id": 62138965, "body": "Use this library: <a href=\"https://pypi.python.org/pypi/python-daemon/\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/python-daemon</a>"}, {"owner": {"reputation": 552, "user_id": 3749971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc333fae054c5c97c1a37bfffdb17ae?s=128&d=identicon&r=PG", "display_name": "Manoel Vilela", "link": "https://stackoverflow.com/users/3749971/manoel-vilela"}, "reply_to_user": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "edited": false, "score": 0, "creation_date": 1463687739, "post_id": 37308905, "comment_id": 62183845, "body": "You can give me a example of this use for my problem? Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 3749971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc333fae054c5c97c1a37bfffdb17ae?s=128&d=identicon&r=PG", "display_name": "Manoel Vilela", "link": "https://stackoverflow.com/users/3749971/manoel-vilela"}, "is_accepted": false, "score": 0, "last_activity_date": 1464204805, "last_edit_date": 1492086165, "creation_date": 1463749076, "answer_id": 37347392, "question_id": 37308905, "link": "https://stackoverflow.com/questions/37308905/how-i-can-run-a-function-in-parallel-and-after-the-main-program-exits-he-still-c/37347392#37347392", "title": "How I can run a function in parallel and after the main program exits he still continues running?", "body": "<p>Short answer: <strong>daemonize the thread</strong></p>\n\n<p>The snippet I used to run in other thread, I just put this (as Valentin Lorentz suggest)</p>\n\n<pre><code>from daemon import DaemonContext\nwith DaemonContext():\n      paralell_notifications(new_rss)\n</code></pre>\n\n<p>And always works fine, however, only in the terminal and sublime. My main problem, whose is the conky, I still have the same problem. Appears be a bug on the conky.</p>\n\n<p>Why this? Becase as he <a href=\"https://askubuntu.com/a/192142\">said</a>:</p>\n\n<blockquote>\n  <p>a daemon is a background, non-interactive program. It is detached\n  from the keyboard and display of any interactive user. The word daemon\n  for denoting a background program is from the Unix culture; it is not\n  universal.</p>\n</blockquote>\n"}], "owner": {"reputation": 552, "user_id": 3749971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efc333fae054c5c97c1a37bfffdb17ae?s=128&d=identicon&r=PG", "display_name": "Manoel Vilela", "link": "https://stackoverflow.com/users/3749971/manoel-vilela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1464204805, "creation_date": 1463601042, "last_edit_date": 1463747044, "question_id": 37308905, "link": "https://stackoverflow.com/questions/37308905/how-i-can-run-a-function-in-parallel-and-after-the-main-program-exits-he-still-c", "title": "How I can run a function in parallel and after the main program exits he still continues running?", "body": "<h1>TL;DR</h1>\n\n<p>How I can keep the parallel process running independently of the main using the multiprocessing lib or other way? (the sample code now is using fork)</p>\n\n<h1>Long history</h1>\n\n<p>Well, I was writing a little script for back-end to my conky configurations and one of this is a <code>rss_parser.py</code>, whose get a set of titles/urls and put on stdout. Recently, I was wondering about something to active new notifications using <code>Notify</code> of <code>GTK</code> when something new appears on the RSS list.</p>\n\n<p>But I have some problem here. I put a action to open the link, so when my notification is up, I can click and open the browser. That part of the code need waiting the user click or the notifications close to finish, for which is running in a proper event loop. However, this conflicts with other thing: <strong>to update my conky</strong> I need to my main script <strong>finish without expecting the notifications part</strong>! So my idea is put the notifications in parallel.</p>\n\n<h1>The Code from Hell</h1>\n\n<p>I tried this with this full code <a href=\"https://gist.github.com/ryukinix/4bdd0eafb26c3073d0b5111c42ea8ec5#file-rss_parser-py-L199\" rel=\"nofollow\">code</a>: (check the <code>parallel_notify</code> function)</p>\n\n<pre><code>#!/usr/bin/env python\n# coding=utf-8\n#\n#   Python Script\n#\n#   Copyleft \u00a9 Manoel Vilela\n#\n#\n\nimport feedparser\nfrom argparse import ArgumentParser\nfrom string import ascii_letters as alphabet\nfrom os import fork\nimport json\nimport sys\nimport webbrowser\n\nimport gi\ngi.require_version('Notify', '0.7')\nfrom gi.repository import GObject  # noqa\nfrom gi.repository import Notify   # noqa\n\n\nclass RssNotifier(GObject.Object):\n    Notify.init(\"rss_conky\")\n    notifications = []\n\n    def __init__(self, label):\n        self.label = label\n        self.loop = GObject.MainLoop()\n        super(RssNotifier, self).__init__()\n        GObject.timeout_add(100, self.exit_when_empty)\n        # lets initialise with the application name\n\n    def send_notification(self, title, text, url, file_path_to_icon=\"\"):\n\n        n = Notify.Notification.new(title, text, file_path_to_icon)\n        # print('put notification')\n        self.notifications.append(n)\n        n.add_action(url, 'open', self.open_webbrowser)\n        n.connect('closed', self.close_notification, n)\n        n.show()\n\n    def send_rss(self, rss, url):\n        self.send_notification(self.label, rss, url, 'rss')\n\n    def open_webbrowser(self, n, url):\n        # print(':: webbrowse opening')\n        webbrowser.open(url)\n\n    def close_notification(self, n, arg):\n        self.notifications.remove(n)\n        # print(':: remove notification')\n        # print(':: notifications: ', self.notifications)\n\n    def exit_when_empty(self):\n        # print('exit check')\n        if not any(RssNotifier.notifications):\n            self.loop.quit()\n            return False\n        return True\n\n\nCACHE_FILE = '.cache.json'\n\nparser = ArgumentParser()\nparser.add_argument(\n    '-u', '--url',\n    default=\"http://hackernews.demos.monkeylearn.com/feed.xml?\",\n    dest='url',\n    type=str,\n    help='The url to be parsed'\n)\nparser.add_argument(\n    '-l', '--lines',\n    default=10,\n    dest='lines',\n    type=int\n)\n\nparser.add_argument(\n    '-w', '--width',\n    default=80,\n    dest='width',\n    type=int,\n    help='The horizontal limit'\n)\nparser.add_argument(\n    '-p', '--prefix',\n    default='- ',\n    dest='prefix',\n    type=str,\n    help='A prefix attached each feed'\n\n)\n\nparser.add_argument(\n    '-i', '--ignore',\n    default='',\n    dest='ignore',\n    type=str,\n    help='Useless string to remove'\n)\n\nparser.add_argument(\n    '-n', '--disable-notifications',\n    default=True,\n    dest='notifications',\n    action='store_false',\n    help='Disable notifications (default True)'\n)\n\nparser.add_argument(\n    '-r', '--rss-label',\n    default='RSS',\n    dest='rss_label',\n    type=str,\n    help='A simple label for what is fetching'\n\n)\n\n\ndef get_label(entry):\n    if entry.get('tags'):\n        label = '{}: '.format(entry.get('tags').pop()['term'])\n    else:\n        label = ''\n    return label\n\n\ndef long_title_clean(title):\n    if len(title) &gt; options.width:\n        return (title[:options.width] + '\\n' +\n                ' ' * (len(options.prefix)) +\n                long_title_clean(title[options.width:].strip()))\n    return title\n\n\ndef translate_name(url):\n    return '.' + ''.join([x for x in url if x in alphabet]) + '.cache'\n\n\ndef save_cache(new_cache, key):\n    cache_file = get_cache_file()\n    cache_file[key] = new_cache\n    with open(CACHE_FILE, 'w') as f:\n        json.dump(cache_file, f)\n\n\ndef get_cache(key):\n    return get_cache_file()[key]\n\n\ndef get_cache_text(key):\n    return '\\n'.join((x for x, _ in get_cache(key)))\n\n\ndef get_cache_file():\n    try:\n        with open(CACHE_FILE, 'r') as f:\n            return json.load(f)\n    except:\n        return {}\n\n\ndef notify(new_rss):\n    notifier = RssNotifier(options.rss_label)\n    for rss, url in new_rss:\n        notifier.send_rss(rss, url)\n    notifier.loop.run()\n\n\ndef ignore_pattern(title):\n    return title.replace(options.ignore, '')\n\n\ndef parallel_notifications(new_rss):\n    if any(new_rss) and options.notifications:\n        if fork() == 0:\n            notify(new_rss)\n\n\ndef parse_print_rss(feed):\n    new_cache = []\n    for entry in feed['entries']:\n        if len(new_cache) &gt;= options.lines:\n            break\n        label = get_label(entry)\n        output = '{}{}{!s}'.format(options.prefix, label, entry.title)\n        title = long_title_clean(ignore_pattern(output))\n        if title not in new_cache:\n            new_cache.append([title, entry['link']])\n            print(title)\n\n    return new_cache\n\n\nif __name__ == '__main__':\n    loop = GObject.MainLoop()\n    options = parser.parse_args()\n    feed = feedparser.parse(options.url)\n    keyname = translate_name(options.url)\n    if not any(feed['entries']):\n        cache = get_cache_text(keyname)\n        print(cache)\n        sys.exit(0)\n\n    new_cache = parse_print_rss(feed)\n    old_cache = get_cache(keyname)\n    new_rss = [x for x in new_cache if x not in old_cache]\n    new_rss = new_cache  # force use the new_cache\n    # the paralell part going here\n    parallel_notifications(new_rss)\n    save_cache(new_cache, keyname)\n</code></pre>\n\n<h1>The code for lazy persons</h1>\n\n<pre><code>import os\nif os.fork() == 0:\n     os.setsid()\n     while True:\n         pass\nprint('shorter')\n</code></pre>\n\n<p>ps.: on conky, never 'shorter' is send, because this never happens, he wait for the child! (or something like that)</p>\n\n<h1>Suffered attempt</h1>\n\n<p>On the first try, I used <strong>multprocessing</strong> lib to setup a new process as daemon (to the main program not expect finish), but this not works. By the way, this create another problem now: when the main program finish, the Process parallel finish too and now I don't have more notifications (or simple the routine for click doesn't works because the process is already finished)!!! D:</p>\n\n<h1>EDIT-1</h1>\n\n<p>Using <code>fork</code> works fine if I try running in the terminal! But I have a real problem running in the conky! Why this? In <code>sublime</code>, besides, I have just the same behavior: <strong>the parent process only exits when the child exits</strong>. </p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6347377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2427d38d0fd381fc16adfeec780a3488?s=128&d=identicon&r=PG&f=1", "display_name": "expertinthemaking22", "link": "https://stackoverflow.com/users/6347377/expertinthemaking22"}, "edited": false, "score": 0, "creation_date": 1463601900, "post_id": 37308792, "comment_id": 62139376, "body": "do list index values have to be integers??"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 11, "user_id": 6347377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2427d38d0fd381fc16adfeec780a3488?s=128&d=identicon&r=PG&f=1", "display_name": "expertinthemaking22", "link": "https://stackoverflow.com/users/6347377/expertinthemaking22"}, "edited": false, "score": 0, "creation_date": 1463602195, "post_id": 37308792, "comment_id": 62139517, "body": "@expertinthemaking22 the indices are integers, the values (the contents of the list) can be anything."}, {"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1463603524, "post_id": 37308792, "comment_id": 62140186, "body": "@AlexHall Removed my answer you were correct thanks for the article. &quot;Try to use map(), filter() or reduce() to replace an explicit for loop, but only if you can use a built-in function: map with a built-in function beats for loop, but a for loop with in-line code beats map with a lambda function!&quot;"}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 2, "last_activity_date": 1463600654, "creation_date": 1463600654, "answer_id": 37308792, "question_id": 37308760, "link": "https://stackoverflow.com/questions/37308760/replacing-elements-and-removing-all-elements/37308792#37308792", "title": "Replacing elements and removing all elements", "body": "<pre><code>&gt;&gt;&gt; x = [1, 2, 3]\n&gt;&gt;&gt; x[:] = [0] * len(x)\n&gt;&gt;&gt; x\n[0, 0, 0]\n</code></pre>\n\n<p>Explanation: the left hand side is a slice over all indices, assigning to slices is allowed, and the right hand side is a nice syntax for producing a list of repeated elements.</p>\n\n<hr>\n\n<p>On a related note, don't ever do this:</p>\n\n<pre><code>&gt;&gt;&gt; a = [[0] * 5] * 5\n&gt;&gt;&gt; a\n[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n</code></pre>\n\n<p>Because then things like this will happen:</p>\n\n<pre><code>&gt;&gt;&gt; a[0][0] = 3\n&gt;&gt;&gt; a\n[[3, 0, 0, 0, 0], [3, 0, 0, 0, 0], [3, 0, 0, 0, 0], [3, 0, 0, 0, 0], [3, 0, 0, 0, 0]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1463600794, "post_id": 37308800, "comment_id": 62138814, "body": "<code>values = ...</code> does not change the original list object."}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1463600829, "post_id": 37308800, "comment_id": 62138825, "body": "No, but it overwrites the name <code>values</code> with an empty list, which appears to be what OP is asking for. The end result is the same. Please correct me if I&#39;m wrong though."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463601405, "post_id": 37308800, "comment_id": 62139131, "body": "The difference is that if I run <code>values_copy = values</code> before your code, then <code>values_copy</code> will remain as the original list."}, {"owner": {"reputation": 11, "user_id": 6347377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2427d38d0fd381fc16adfeec780a3488?s=128&d=identicon&r=PG&f=1", "display_name": "expertinthemaking22", "link": "https://stackoverflow.com/users/6347377/expertinthemaking22"}, "edited": false, "score": 0, "creation_date": 1463602001, "post_id": 37308800, "comment_id": 62139424, "body": "do list index values have to be integers?"}], "tags": [], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "is_accepted": false, "score": -1, "last_activity_date": 1463600696, "creation_date": 1463600696, "answer_id": 37308800, "question_id": 37308760, "link": "https://stackoverflow.com/questions/37308760/replacing-elements-and-removing-all-elements/37308800#37308800", "title": "Replacing elements and removing all elements", "body": "<p>To replace all elements in a list with one value:</p>\n\n<pre><code>values = [0] * len(values)\n</code></pre>\n\n<p>This repeats the <code>0</code> as many times as is needed to make up the length of the list, and then assigns this to <code>values</code>. Do <strong>not</strong> use this method with a mutable object like a custom class!</p>\n\n<hr>\n\n<p>To empty a list, assign the name to an empty list:</p>\n\n<pre><code>values = []\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5171377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a615d89956cbbc16b425e89cca9e3504?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Pribish", "link": "https://stackoverflow.com/users/5171377/vincent-pribish"}, "is_accepted": false, "score": 0, "last_activity_date": 1463772412, "creation_date": 1463772412, "answer_id": 37354469, "question_id": 37308760, "link": "https://stackoverflow.com/questions/37308760/replacing-elements-and-removing-all-elements/37354469#37354469", "title": "Replacing elements and removing all elements", "body": "<ol>\n<li>list comprehension with no function - just the replacement element.</li>\n<li><p>use clear() or just overwrite with a new, empty list, i guess.</p>\n\n<pre><code>x = [1, 2, 3]\n[0 for elem in x]\nx.clear()\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 6347377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2427d38d0fd381fc16adfeec780a3488?s=128&d=identicon&r=PG&f=1", "display_name": "expertinthemaking22", "link": "https://stackoverflow.com/users/6347377/expertinthemaking22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1463772412, "creation_date": 1463600544, "question_id": 37308760, "link": "https://stackoverflow.com/questions/37308760/replacing-elements-and-removing-all-elements", "title": "Replacing elements and removing all elements", "body": "<p>I am currently trying to figure out how to fill a list with one given element, overriding the rest of the elements in a list. so completely replacing every element in a given list with only 1 element.\nHow can i fill a list with zeroes, overwriting all elements in the list?</p>\n\n<p>for the list values = [1,2,3,4,5] is there a way to make it so the list is values = [0,0,0,0,0] </p>\n\n<p>and is there a way to remove all elements from a list? \nso for values = [1,2,3,4,5] make it values[] ?</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 3, "creation_date": 1463600575, "post_id": 37308720, "comment_id": 62138705, "body": "This is precisely what SQLite shouldn&#39;t be used for. Use a proper database server such as PostgreSQL."}, {"owner": {"reputation": 81, "user_id": 4770657, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bff508e5192d77e7e5c9b261f021acd?s=128&d=identicon&r=PG&f=1", "display_name": "njfrazie", "link": "https://stackoverflow.com/users/4770657/njfrazie"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463600968, "post_id": 37308720, "comment_id": 62138899, "body": "I understand but IT restrictions won&#39;t allow it"}], "answers": [{"tags": [], "owner": {"reputation": 2818, "user_id": 463462, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/362113af19c8c2e73e961fa506ff2287?s=128&d=identicon&r=PG", "display_name": "Roger Binns", "link": "https://stackoverflow.com/users/463462/roger-binns"}, "is_accepted": false, "score": 0, "last_activity_date": 1465180834, "last_edit_date": 1495540726, "creation_date": 1465180834, "answer_id": 37648866, "question_id": 37308720, "link": "https://stackoverflow.com/questions/37308720/python-2-7-sqlite-and-concurrency-across-multiple-computers/37648866#37648866", "title": "Python 2.7: SQlite and Concurrency across multiple computers", "body": "<p>(Disclosure: I am the APSW author)  The asynchronous VFS was deprecated quite a while ago by the SQLite team and hasn't been included with APSW for years.  Far better integrated equivalent functionality is provided in the SQLite core using <a href=\"https://www.sqlite.org/wal.html\" rel=\"nofollow noreferrer\">write ahead logging</a>.</p>\n\n<blockquote>\n  <p>... local to one machine ...</p>\n</blockquote>\n\n<p>That implies you are trying to use SQLite over the network. Do not do that.  It will not work.  It will initially appear to work, but eventually you will get corruption.  You cannot test in advance to prove the corruption will not happen.  <a href=\"https://stackoverflow.com/a/9962003/463462\">More details here</a>.</p>\n"}], "owner": {"reputation": 81, "user_id": 4770657, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bff508e5192d77e7e5c9b261f021acd?s=128&d=identicon&r=PG&f=1", "display_name": "njfrazie", "link": "https://stackoverflow.com/users/4770657/njfrazie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1465180834, "creation_date": 1463600381, "last_edit_date": 1463600814, "question_id": 37308720, "link": "https://stackoverflow.com/questions/37308720/python-2-7-sqlite-and-concurrency-across-multiple-computers", "title": "Python 2.7: SQlite and Concurrency across multiple computers", "body": "<p>I have a program that multiple computers will be running that all need to read/write from the same sqlite database.  Each program is performing an action on a file and it requests an \"available\" file name from a list stored in a sqlite table.  At most, there will be 6-10 users running this.  Pseudo code would be...</p>\n\n<pre><code>con = sqlite.connection(db,timeout=60)\nfilename = select file from tablename limit 1;\nupdate tablename set status =\"busy\" where file = filename;\n&lt;..perform action.  takes 2-5 minutes..&gt;\nupdate tablename set status =\"Finished\" where file = filename;\nrepeat\n</code></pre>\n\n<p>So each transaction is very quick but unfortunately I'm still running into \"db is locked\" issues even when I set the connection timeout really high.  I've read up on the asynchronous vfs in apsw but it sounds like the queue manager is only local to one machine.  Any advice on how to proceed?</p>\n\n<p>EDIT:  I should add I am under an IT restriction and can not set up a proper SQL server at my desk.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463600921, "post_id": 37308663, "comment_id": 62138870, "body": "Did you try printing the string, and comparing it to what you expected?  Obviously there must be some difference.  What is it?  Include the incorrect string in your post."}, {"owner": {"reputation": 11, "user_id": 6352785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a001b4e5ca04465722f36c0a1b7258e7?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin K.", "link": "https://stackoverflow.com/users/6352785/benjamin-k"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463601486, "post_id": 37308663, "comment_id": 62139171, "body": "Yes I printed the variable using:          print function_input  and it printed the string as I expected. the equation I input was 4x-5y and it returned:      4x-5y     SyntaxError: invalid syntax with a carrot underneath the x  (I&#39;m trying to write it as code using the 4 spaces but it won&#39;t allow me to)"}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463601619, "post_id": 37308663, "comment_id": 62139237, "body": "Ok, so what did it give you?  You haven&#39;t answered my question, so I can&#39;t answer yours."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463601777, "post_id": 37308663, "comment_id": 62139326, "body": "The point is you have a string that works, <code>&quot;x**2-y&quot;</code>.  The string you typed in doesn&#39;t work.  Therefore, the string you typed in is different.  So correct the difference.  How can this possibly be so confusing to you?  <i>Type same string that works and it will behave the same.</i>  It&#39;s that simple."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1463608417, "post_id": 37308663, "comment_id": 62142434, "body": "The problem is that <code>4x</code> is invalid syntax.  It should be <code>4 * x</code>.  Therefore, your whole equation should be <code>4*x - 5*y</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463601556, "post_id": 37308992, "comment_id": 62139206, "body": "Where are you seeing <code>4x</code>?  It does not appear anywhere in the post."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1463601583, "post_id": 37308992, "comment_id": 62139218, "body": "@TomKarzes that was my confusion too. It&#39;s in the post title."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 1, "creation_date": 1463601650, "post_id": 37308992, "comment_id": 62139251, "body": "Oh, I see.  Yeah, assuming that wasn&#39;t a typo, that could cause the problem."}, {"owner": {"reputation": 11, "user_id": 6352785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a001b4e5ca04465722f36c0a1b7258e7?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin K.", "link": "https://stackoverflow.com/users/6352785/benjamin-k"}, "edited": false, "score": 0, "creation_date": 1463601851, "post_id": 37308992, "comment_id": 62139357, "body": "It works now, feel pretty stupid for such a mistake... But thank you"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 11, "user_id": 6352785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a001b4e5ca04465722f36c0a1b7258e7?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin K.", "link": "https://stackoverflow.com/users/6352785/benjamin-k"}, "edited": false, "score": 0, "creation_date": 1463601951, "post_id": 37308992, "comment_id": 62139401, "body": "@BenjaminK. Don&#39;t feel stupid, it&#39;s just a mistake and sometimes needs a second pair of eyes (though mine did go off-topic with <code>h</code> being involved somehow :P) If you feel that this has solved the problem, I would be grateful for you accepting the answer and closing the question."}], "tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1463601692, "last_edit_date": 1463601692, "creation_date": 1463601456, "answer_id": 37308992, "question_id": 37308663, "link": "https://stackoverflow.com/questions/37308663/how-can-i-allow-for-a-raw-input-of-an-equation-such-as-4x2-y-so-then-it-can/37308992#37308992", "title": "How can I allow for a raw_input of an equation (such as 4x**2-y) so then it can be later evaluated in a function?", "body": "<p>That's because <code>4x</code> is not a valid input. If you want it to work, your <code>(dy/dx)</code> needs to be <code>4*x**2-y</code>. You're assuming that it's implicit multiplication, but you need to be explicit in the coefficient of <code>x</code>. It works fine otherwise (for your test case).</p>\n"}], "owner": {"reputation": 11, "user_id": 6352785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a001b4e5ca04465722f36c0a1b7258e7?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin K.", "link": "https://stackoverflow.com/users/6352785/benjamin-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 37308992, "answer_count": 1, "score": 0, "last_activity_date": 1463601692, "creation_date": 1463600181, "question_id": 37308663, "link": "https://stackoverflow.com/questions/37308663/how-can-i-allow-for-a-raw-input-of-an-equation-such-as-4x2-y-so-then-it-can", "title": "How can I allow for a raw_input of an equation (such as 4x**2-y) so then it can be later evaluated in a function?", "body": "<p>I am a beginner at python 2.7 and I am trying to write a code to approximate a function given its slope in the form (dy/dx)=f(x,y) using Euler's Method. For the moment I am simply trying to input a function and its values and then evaluate it, before going on to the actual Euler's Method. The code I attempted below returns a syntax error with the equation that I input.\nThis is the code:</p>\n\n<pre><code>function_input=raw_input(\"(dy/dx) in the form f(x,y)\")\nx0=float(raw_input(\"Initial x\"))\ny0=float(raw_input(\"Initial y\"))\nh=float(raw_input(\"step value\"))\ndef f(x_value,y_value,function):\n    x=x_value\n    y=y_value\n    return eval(function)\n\nprint f(x0,y0,function_input)\n</code></pre>\n\n<p>The code worked when I didn't do a raw_input for the function and instead put a given one as a string like so:</p>\n\n<pre><code>def f(x_value,y_value,function):\n    x=x_value\n    y=y_value\n    return eval(function)\n\nprint f(x0,y0,\"x**2-y\")\n</code></pre>\n"}, {"tags": ["python", "numpy", "matrix", "average"], "comments": [{"owner": {"reputation": 1070, "user_id": 4611565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd88fff8452fa651234c79d26068cac?s=128&d=identicon&r=PG&f=1", "display_name": "manu190466", "link": "https://stackoverflow.com/users/4611565/manu190466"}, "edited": false, "score": 1, "creation_date": 1463601201, "post_id": 37308646, "comment_id": 62139016, "body": "Why is there no code in the main program ? You only defined functions but they are never called anywhere. Why would you store functions in a matrix, matrix are made to store data, not functions ?"}, {"owner": {"reputation": 2162, "user_id": 3014097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/47193d2bbe5b654700776fd2a7d14868?s=128&d=identicon&r=PG&f=1", "display_name": "dan_g", "link": "https://stackoverflow.com/users/3014097/dan-g"}, "edited": false, "score": 1, "creation_date": 1463601204, "post_id": 37308646, "comment_id": 62139021, "body": "It&#39;s not clear what this is supposed to be doing - do you have a use case example? Your average function is referencing a variable defined within another function - this won&#39;t work the way you have it written."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1463609926, "post_id": 37308646, "comment_id": 62142977, "body": "Do you need to use <code>numpy</code>?  Regular Python structures like dictionaries and lists (and lists of lists) should work just as well.  And databases like <code>sqlite3</code>."}, {"owner": {"reputation": 13, "user_id": 6170134, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BD_r7EwaXwg/AAAAAAAAAAI/AAAAAAAAABU/u4VVZmlCooo/photo.jpg?sz=128", "display_name": "Isaac Lo", "link": "https://stackoverflow.com/users/6170134/isaac-lo"}, "edited": false, "score": 0, "creation_date": 1463662422, "post_id": 37308646, "comment_id": 62166887, "body": "Regular dictionary lists. I cannot use NumPY. I have tried a new code. I&#39;ll repost it."}, {"owner": {"reputation": 2162, "user_id": 3014097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/47193d2bbe5b654700776fd2a7d14868?s=128&d=identicon&r=PG&f=1", "display_name": "dan_g", "link": "https://stackoverflow.com/users/3014097/dan-g"}, "edited": false, "score": 0, "creation_date": 1463688287, "post_id": 37308646, "comment_id": 62184129, "body": "It&#39;s still not entirely clear what you&#39;re doing, as you never call any of the functions you&#39;ve generated. However, based on your description of what you want to do, it sounds like you want to use a dictionary where the dictionary keys are the Student ID"}], "owner": {"reputation": 13, "user_id": 6170134, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BD_r7EwaXwg/AAAAAAAAAAI/AAAAAAAAABU/u4VVZmlCooo/photo.jpg?sz=128", "display_name": "Isaac Lo", "link": "https://stackoverflow.com/users/6170134/isaac-lo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1463662751, "creation_date": 1463600133, "last_edit_date": 1463662751, "question_id": 37308646, "link": "https://stackoverflow.com/questions/37308646/sorting-and-retrieving-data-from-mxn-matrix-python", "title": "Sorting and retrieving data from MxN matrix. Python", "body": "<p>How can I make my defined functions be stored in a matrix, so if I call for the student ID, it will drop me the score and the average of the works and homework?</p>\n\n<pre><code># M = Students.\n# N = Homework/Week.\n# Missing Homework = -1.\n\nn=0\nopcion=0\n#Menu:\nwhile True:\n    print('1. Capturar calificaciones.')\n    print('2. Devolver calificaciones de trabajos entregados.')\n    print('3. Calcular promedio.')\n    print('4. Alumnos con todos los trabajos y media mayor a 3.5')\n    print('9. Salir.')\n    opcion = int(input('Eliga una opci\ufffdn: '))\n    if opcion == 1:\n        mat = lmat(input('Introduzca el n\ufffdmero de estudiantes: '))\n        calificaciones = numest (len (mat))\n    if opcion == 2:\n        tentr (trabjentr)\n    if opcion == 3:\n        durchschnitt (mat, calificaciones)\n    if opcion == 9:\n        exit ()\n#Capture data:\ndef daten(d):\n     mattotal = []\n    calif = []\n    for i in range (0, numeroest):\n        numcal = input ('Introduzca el n\ufffdmero de calificaciones: ') \n        for j in range (0, numcal):\n            matricula = int(raw_input('Ingrese la calificaci\ufffdn: '))\n            calif.append (matricula)\n        mattotal.append (calif)\n    return (mattotal)\n# Average.\ndef durchschnitt (p):\n        matri=input('Introduzca matr\ufffdcula: ')\n    for i in range (0, len(mat)):\n        if int(mat[i])==int(matri):\n            suma=0\n            for j in range(0,len(calificaciones[i])):\n                suma+=calificaciones[i][j]\n            print suma/len(calificaciones[i])\n</code></pre>\n\n<p>How can I read from a matrix inside of this, so I can input a work and make it so if I type my student ID it will give me the work from any column?</p>\n"}, {"tags": ["python", "python-2.7", "openerp", "openerp-7"], "answers": [{"tags": [], "owner": {"reputation": 1380, "user_id": 6345404, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/69987c584342d8123b11b711918209c0?s=128&d=identicon&r=PG&f=1", "display_name": "T.Nel", "link": "https://stackoverflow.com/users/6345404/t-nel"}, "is_accepted": false, "score": 0, "last_activity_date": 1463748277, "creation_date": 1463748277, "answer_id": 37347096, "question_id": 37308637, "link": "https://stackoverflow.com/questions/37308637/openerp-how-to-update-field-values-in-two-classes/37347096#37347096", "title": "Openerp how to update field values in two classes", "body": "<p>I'm sorry I read your post over and over but I don't understand what you are exactly trying to do (might be because you name some fields different ways in the code and in the text). But anyway:</p>\n\n<p>I think you have to modify your <code>emp_id</code> in your <code>roster_allocation</code> class.</p>\n\n<pre><code>'emp_id': fields.function(_creation_function,\n                                     type=\"many2one\",\n                                     obj='hr.employee',\n                                     string='Employee', \n                                     store={\n                                     'roster.substitution': (_modify_function,\n                                                            ['field_that_change'], \n                                                            10)}),\n</code></pre>\n\n<p>with <code>_creation_function</code> the function you have to define for the value emp_id has when you create it.\n<code>_modify_function</code> the function that will modify your emp_id when <code>field_that_change</code> will be modified in 'roster.substitution'.</p>\n\n<p>This is because onchange don't allow you to modify a field in model_A from model_B. It doesn't save anything in the database except if the field that is updated thanks to the onchange is modified on your screen and you save afterward.</p>\n\n<p>If you want to add some fields you want to keep an eyes on you can add them in <code>['field_that_change', 'second_field']</code> if in the same object, or by adding a second objet with the same syntax in the store.</p>\n"}], "owner": {"reputation": 211, "user_id": 5308455, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-9N6JfrgNzzA/AAAAAAAAAAI/AAAAAAAAAEA/4dG01_fHzfc/photo.jpg?sz=128", "display_name": "Swan White", "link": "https://stackoverflow.com/users/5308455/swan-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463748277, "creation_date": 1463600112, "question_id": 37308637, "link": "https://stackoverflow.com/questions/37308637/openerp-how-to-update-field-values-in-two-classes", "title": "Openerp how to update field values in two classes", "body": "<p>There are two classes that I am currently working with and I am in a mess right now. Please help me to solve this</p>\n\n<p>What I need to do is once an employee in \"roster_allocation\" class want to cancel his/her allocated roster, then for that purpose you have to go through \"roster_substitution\"class, which keeps records of the original allocation and substitute allocation and date and time. Once you entered a record via that table I want to update that particular \"roster_allocation\" table record with updating the existing employee_id with the substitute_employee_id from **\"roster_substitute\"**table.</p>\n\n<p>these are my two classes</p>\n\n<p><strong>Roster Allocation Class</strong></p>\n\n<pre><code>   class roster_allocation(osv.osv):\n\n\n\n         _name=\"roster.allocation\"\n         _description =\"Allocate rosters on employees\"\n\n         _columns={\n\n             'emp_id':fields.many2one('hr.employee','Employee'),\n             'department_id':fields.many2one('hr.department','Department'),\n             'roster_allocation_allocation':fields.one2many('roster.days.allocation','roster_allocation_connection','Days connection'),\n             'roster_time':fields.char('Take the related field  roster_time.name'),\n             'monthly allocation':fields.char('Month')   ,\n             'roster_rest_allocation':fields.one2many('roster.rest.days','roster_id','Rest Days'),\n             'roster_substitute':fields.one2many('roster.substitution','allocation_id','Substitution'),\n\nroster_allocation()\n</code></pre>\n\n<p><strong>Roster days allocation class ( which keeps the records of start date, roster type and time slot)</strong></p>\n\n<pre><code>class roster_days_allocation(osv.osv):\n    _name=\"roster.days.allocation\"\n    _description = \"To allocate days in to the already defined time slots\"\n\n\n    def get_domain_useer_id(self,cr,uid,ids,roster_type_list,context=None):\n      mach=[]\n      filter = self.pool.get('roster.type').search(cr,uid,[('id','=',roster_type_list)])\n      return {'domain':{'roster_time_list':[('rostertype','=',filter)]}}\n\n\n    _columns={\n            'name':fields.char('Days_Allocation'),  \n            'allocation_start_day':fields.date('Start Date',required=True),\n            'allocation_end_day':fields.date('End Date',required=True),\n            'type_connection':fields.one2many('roster.type','date_allocation_connection','Roster Type'),\n            'roster_type_list':fields.many2one('roster.type','Rosters'),\n            'roster_time_list':fields.many2one('roster.time','Time Slot'),\n\n            'roster_allocation_connection':fields.many2one('roster.allocation','Allocation Connection')\n\n\n              }\n\n\nroster_days_allocation()\n</code></pre>\n\n<p><strong>Roster Substitution class (which keeps the record of originally allocated employee and substitute employee)</strong></p>\n\n<pre><code>class roster_substitution(osv.osv):\n\n\n\n    _name=\"roster.substitution\"\n    _description=\"Substituting employees \"\n    _columns={\n             'allocation_id':fields.many2one('roster.allocation','Allocation'),\n             'employee':fields.many2one('hr.employee','Employee'),\n             'sub_employee':fields.many2one('hr.employee','Employee'),\n             'time_slot':fields.many2one('roster.time','Roster'),\n             'roster_day':fields.date('Day'),\n             'reason':fields.text('Reason'),\n             'department_id':fields.many2one('hr.department','Department'),\n\n\n             }\n\n\n    def onchange_date(self, cr, uid, ids, roster_date):\n        result = {'value': {'type': False}}\n        if type_id:\n            type = self.pool.get('roster.time').browse(cr, uid, roster_date)\n        result['value'] = {'time_slot': type.name.id}\n        return result\n\n\n\nroster_substitution()\n</code></pre>\n\n<p>Please help me to solve this</p>\n"}, {"tags": ["python", "google-app-engine", "google-bigquery"], "answers": [{"tags": [], "owner": {"reputation": 9409, "user_id": 1002277, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/JYY1h.jpg?s=128&g=1", "display_name": "Willian Fuks", "link": "https://stackoverflow.com/users/1002277/willian-fuks"}, "is_accepted": false, "score": 0, "last_activity_date": 1463674667, "last_edit_date": 1495540364, "creation_date": 1463674667, "answer_id": 37328882, "question_id": 37308625, "link": "https://stackoverflow.com/questions/37308625/python-gae-how-to-export-data-from-a-backup-to-big-query-programmatically/37328882#37328882", "title": "Python GAE - How to export data from a backup to Big Query programmatically?", "body": "<p>You should be able to do so via the <a href=\"https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/python/latest/bigquery_v2.jobs.html#insert\" rel=\"nofollow noreferrer\">python-bigquery api</a>.</p>\n\n<p>First you need to make the connection to BigQuery service. Here's the code I use to do so:</p>\n\n<pre><code>class BigqueryAdapter(object):\n    def __init__(self, **kwargs):\n        self._project_id = kwargs['project_id']\n        self._key_filename = kwargs['key_filename']\n        self._account_email = kwargs['account_email']\n        self._dataset_id = kwargs['dataset_id']\n        self.connector = None\n        self.start_connection()\n\n    def start_connection(self):\n        key = None\n        with open(self._key_filename) as key_file:\n            key = key_file.read()\n        credentials = SignedJwtAssertionCredentials(self._account_email,\n                                                    key,\n                                                    ('https://www.googleapis' +\n                                                     '.com/auth/bigquery'))\n        authorization = credentials.authorize(httplib2.Http())\n        self.connector = build('bigquery', 'v2', http=authorization)\n</code></pre>\n\n<p>After that you can run <code>jobs</code> using <code>self.connector</code> (<a href=\"https://stackoverflow.com/questions/36673456/bigquery-insert-new-data-row-into-table-by-python/36849400#36849400\">in this answer</a> you will find a few examples).</p>\n\n<p>To get backups from Google Cloud Storage you would have to define the <code>configuration</code> like so:</p>\n\n<pre><code>body = \"configuration\": {\n  \"load\": {\n    \"sourceFormat\": #Either \"CSV\", \"DATASTORE_BACKUP\", \"NEWLINE_DELIMITED_JSON\" or \"AVRO\".\n    \"fieldDelimiter\": \",\" #(if it's comma separated)\n    \"destinationTable\": {\n      \"projectId\": #your_project_id\n      \"tableId\": #your_table_to_save_the_data\n      \"datasetId\": #your_dataset_id\n    },\n    \"writeDisposition\": #\"WRITE_TRUNCATE\" or \"WRITE_APPEND\"\n    \"sourceUris\": [\n        #the path to your backup in google cloud storage. it could be something like \"'gs://bucket_name/filename*'. Notice you can use the '*' operator.\n    ],\n    \"schema\": { # [Optional] The schema for the destination table. The schema can be omitted if the destination table already exists, or if you're loading data from Google Cloud Datastore.\n      \"fields\": [ # Describes the fields in a table.\n        {\n          \"fields\": [ # [Optional] Describes the nested schema fields if the type property is set to RECORD.\n            # Object with schema name: TableFieldSchema\n          ],\n          \"type\": \"A String\", # [Required] The field data type. Possible values include STRING, BYTES, INTEGER, FLOAT, BOOLEAN, TIMESTAMP or RECORD (where RECORD indicates that the field contains a nested schema).\n          \"description\": \"A String\", # [Optional] The field description. The maximum length is 16K characters.\n          \"name\": \"A String\", # [Required] The field name. The name must contain only letters (a-z, A-Z), numbers (0-9), or underscores (_), and must start with a letter or underscore. The maximum length is 128 characters.\n          \"mode\": \"A String\", # [Optional] The field mode. Possible values include NULLABLE, REQUIRED and REPEATED. The default value is NULLABLE.\n        },\n      ],\n    },\n  },\n</code></pre>\n\n<p>And then run:</p>\n\n<pre><code>self.connector.jobs().insert(body=body).execute()\n</code></pre>\n\n<p>Hopefully that's what you were looking for. Let us know if you run into any issues.</p>\n"}], "owner": {"reputation": 317, "user_id": 3958473, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e675d94147c6c335432684984f890f10?s=128&d=identicon&r=PG&f=1", "display_name": "user309838", "link": "https://stackoverflow.com/users/3958473/user309838"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463674667, "creation_date": 1463600075, "question_id": 37308625, "link": "https://stackoverflow.com/questions/37308625/python-gae-how-to-export-data-from-a-backup-to-big-query-programmatically", "title": "Python GAE - How to export data from a backup to Big Query programmatically?", "body": "<p>I've been googling for a long time and I didn't find a way export my backups (within buckets) to Big Query without doing it manually...</p>\n\n<p>Is it possible to do this?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "edited": false, "score": 0, "creation_date": 1463674885, "post_id": 37311993, "comment_id": 62176819, "body": "Doesn&#39;t work. I get <code>AttributeError: &#39;RelatedManager&#39; object has no attribute</code> error when I try to call a manager method."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 2, "last_activity_date": 1463617319, "last_edit_date": 1463617319, "creation_date": 1463616784, "answer_id": 37311993, "question_id": 37308594, "link": "https://stackoverflow.com/questions/37308594/how-to-create-a-custom-manager-for-related-objects/37311993#37311993", "title": "How to create a custom manager for related objects?", "body": "<p>Never mind the result from calling <code>type()</code> on the manager, the <code>DeviceSettingManager</code> is actually in use. You can check this by doing:</p>\n\n<pre><code>class DeviceSettingManager(models.Manager):\n    use_for_related_fields = True\n\n    def manager_status(self):\n        print(\"Device Setting Manager is Active\")\n</code></pre>\n\n<p>And calling:</p>\n\n<pre><code>&gt;&gt;&gt; d = Device.objects.all()[0]\n&gt;&gt;&gt; d.settings.manager_status()\nDevice Setting Manager is Active\n</code></pre>\n\n<p>Even if you explicitly pass a manager to the related object, like:</p>\n\n<pre><code>&gt;&gt; d.settings(manager=\"settings_objects\")\n</code></pre>\n\n<p>And of course:</p>\n\n<pre><code>class Setting(Model):\n    name = CharField()\n    value = CharField()\n    device = ForeignKey(Device, related_name='settings')\n\n    settings_objects = DeviceSettingManager() # Notice the parenthesis\n</code></pre>\n\n<p>The <code>class</code> of the manager will still be shown as: <code>django.db.models.fields.related_descriptors.create_reverse_many_to_one_manager.&lt;locals&gt;.RelatedManager</code></p>\n\n<p>Never mind the <code>class</code> name.</p>\n"}], "owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 1, "accepted_answer_id": 37311993, "answer_count": 1, "score": 1, "last_activity_date": 1463617319, "creation_date": 1463599983, "question_id": 37308594, "link": "https://stackoverflow.com/questions/37308594/how-to-create-a-custom-manager-for-related-objects", "title": "How to create a custom manager for related objects?", "body": "<p>I have these related models and one has a custom manager</p>\n\n<pre>\nclass Device(Model):\n    name = CharField()\n\nclass DeviceSettingManager(Manager):\n    use_for_related_fields = True\n\nclass Setting(Model):\n    name = CharField()\n    value = CharField()\n    device = ForeignKey(Device, related_name='settings')\n\n    objects = DeviceSettingManager\n</pre>\n\n<p>but when I run Django shell, I see the \"RelatedManager\" manager being used</p>\n\n<pre>\n>>> d = Device.objects.all()[0]\n>>> type(d.settings)\ndjango.db.models.fields.related.create_foreign_related_manager..RelatedManager\n</pre>\n\n<p>How do I get the DeviceSettingManager to be used for settings for the device?</p>\n"}, {"tags": ["python", "unicode", "encoding", "utf"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6346205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/217aa95b04201c2e47fc356a14a0e9b4?s=128&d=identicon&r=PG", "display_name": "K. Erik Wolfe", "link": "https://stackoverflow.com/users/6346205/k-erik-wolfe"}, "is_accepted": false, "score": 0, "last_activity_date": 1463602540, "creation_date": 1463602540, "answer_id": 37309303, "question_id": 37308565, "link": "https://stackoverflow.com/questions/37308565/python2-7-what-does-the-special-characters-mean-in-the-utf-32-encoding-output-o/37309303#37309303", "title": "Python2.7, what does the special characters mean in the utf-32 encoding output of a unicode string?", "body": "<p>The first two hex encodings represent the BOM, or Byte Order Mark. Looking at the <a href=\"https://wiki.python.org/moin/Unicode\" rel=\"nofollow\">Python documentation for Unicode</a> it would appear that the characters you are seeing are the translation of the hex encoding. I am looking at one of the examples provided in the documentation, which appears to be doing the same thing you are and is printing out the translation:</p>\n\n<pre><code>8 &gt;&gt;&gt; unistring.encode('utf-16')\n9 '\\xff\\xfeH\\x00i\\x00\\n\\x00'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1463627454, "post_id": 37310559, "comment_id": 62147277, "body": "Python inserts the BOM if you use an encoding that&#39;s greater than 8 bits without specifying endianness. To lose the BOM use <code>&#39;utf-32le&#39;</code> or <code>&#39;utf-32be&#39;</code>."}], "tags": [], "owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "is_accepted": false, "score": 2, "last_activity_date": 1463608816, "last_edit_date": 1463608816, "creation_date": 1463607673, "answer_id": 37310559, "question_id": 37308565, "link": "https://stackoverflow.com/questions/37308565/python2-7-what-does-the-special-characters-mean-in-the-utf-32-encoding-output-o/37310559#37310559", "title": "Python2.7, what does the special characters mean in the utf-32 encoding output of a unicode string?", "body": "<p><code>\"\\xff\\xfe\\x00\\x00\"</code> is a zero-width, nonblocking space character, better known for its use as byte order marker (BOM). Beats me why Python inserts this into the string, but I'm sure there's a way to only request the encoding of the given string, not a prefix for other programs to recognize this as UTF-32.</p>\n\n<p>This is followed by the bytes 3d, 20 and two more nulls, which represent the codepoint 203d in little endian byte order. 3d, when interpreted as ASCII, becomes the equals sign and 20 becomes the space character.</p>\n"}, {"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 1, "last_activity_date": 1463609083, "last_edit_date": 1463609083, "creation_date": 1463608609, "answer_id": 37310762, "question_id": 37308565, "link": "https://stackoverflow.com/questions/37308565/python2-7-what-does-the-special-characters-mean-in-the-utf-32-encoding-output-o/37310762#37310762", "title": "Python2.7, what does the special characters mean in the utf-32 encoding output of a unicode string?", "body": "<p>When you print the <code>repr</code> of a byte string, any byte value in the range of <code>\\x20</code> through <code>\\x7e</code> will be converted to an equivalent <a href=\"https://en.wikipedia.org/wiki/ASCII#ASCII_printable_code_chart\" rel=\"nofollow\">ASCII printable character</a>. In this case, <code>=</code> is the same as <code>\\x3d</code> and <code>[</code> is the same as <code>\\x5b</code>. You missed the space, which is <code>\\x20</code>.</p>\n\n<p>Here's the complete table:</p>\n\n<pre><code>\\x20 ' '    \\x21 '!'    \\x22 '\"'    \\x23 '#'\n\\x24 '$'    \\x25 '%'    \\x26 '&amp;'    \\x27 '''\n\\x28 '('    \\x29 ')'    \\x2a '*'    \\x2b '+'\n\\x2c ','    \\x2d '-'    \\x2e '.'    \\x2f '/'\n\\x30 '0'    \\x31 '1'    \\x32 '2'    \\x33 '3'\n\\x34 '4'    \\x35 '5'    \\x36 '6'    \\x37 '7'\n\\x38 '8'    \\x39 '9'    \\x3a ':'    \\x3b ';'\n\\x3c '&lt;'    \\x3d '='    \\x3e '&gt;'    \\x3f '?'\n\\x40 '@'    \\x41 'A'    \\x42 'B'    \\x43 'C'\n\\x44 'D'    \\x45 'E'    \\x46 'F'    \\x47 'G'\n\\x48 'H'    \\x49 'I'    \\x4a 'J'    \\x4b 'K'\n\\x4c 'L'    \\x4d 'M'    \\x4e 'N'    \\x4f 'O'\n\\x50 'P'    \\x51 'Q'    \\x52 'R'    \\x53 'S'\n\\x54 'T'    \\x55 'U'    \\x56 'V'    \\x57 'W'\n\\x58 'X'    \\x59 'Y'    \\x5a 'Z'    \\x5b '['\n\\x5c '\\'    \\x5d ']'    \\x5e '^'    \\x5f '_'\n\\x60 '`'    \\x61 'a'    \\x62 'b'    \\x63 'c'\n\\x64 'd'    \\x65 'e'    \\x66 'f'    \\x67 'g'\n\\x68 'h'    \\x69 'i'    \\x6a 'j'    \\x6b 'k'\n\\x6c 'l'    \\x6d 'm'    \\x6e 'n'    \\x6f 'o'\n\\x70 'p'    \\x71 'q'    \\x72 'r'    \\x73 's'\n\\x74 't'    \\x75 'u'    \\x76 'v'    \\x77 'w'\n\\x78 'x'    \\x79 'y'    \\x7a 'z'    \\x7b '{'\n\\x7c '|'    \\x7d '}'    \\x7e '~'\n</code></pre>\n\n<p>Your two strings are actually <code>'\\xff\\xfe\\x00\\x00\\x3d\\x20\\x00\\x00'</code> and <code>'\\xff\\xfe\\x00\\x00\\x89\\x5b\\x00\\x00'</code>.</p>\n"}], "owner": {"reputation": 628, "user_id": 1210457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/061ba6eef65161154f4ad96f885f7757?s=128&d=identicon&r=PG", "display_name": "David Zheng", "link": "https://stackoverflow.com/users/1210457/david-zheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1571, "favorite_count": 1, "accepted_answer_id": 37310762, "answer_count": 3, "score": 4, "last_activity_date": 1463609083, "creation_date": 1463599853, "question_id": 37308565, "link": "https://stackoverflow.com/questions/37308565/python2-7-what-does-the-special-characters-mean-in-the-utf-32-encoding-output-o", "title": "Python2.7, what does the special characters mean in the utf-32 encoding output of a unicode string?", "body": "<p>I was playing around with python's unicode and encoding methods, I used the special character \"\u203d\" and a Chinese character to see how different utf encoding deal with these characters, and I get these output.</p>\n\n<pre><code>&gt;&gt;&gt; a = u\"\u203d\"\n&gt;&gt;&gt; encoded_a = a.encode('utf-32')\n&gt;&gt;&gt; a\nu'\\u203d'\n&gt;&gt;&gt; encoded_a\n'\\xff\\xfe\\x00\\x00= \\x00\\x00'\n&gt;&gt;&gt; b = u\"\u5b89\"\n&gt;&gt;&gt; encoded_b = b.encode('utf-32')\n&gt;&gt;&gt; b\nu'\\u5b89'\n&gt;&gt;&gt; encoded_b\n'\\xff\\xfe\\x00\\x00\\x89[\\x00\\x00'\n</code></pre>\n\n<p>My question is what does the equal sign and the equare bracket mean in the encoded result?</p>\n"}, {"tags": ["python", "django", "forms"], "answers": [{"comments": [{"owner": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463600231, "post_id": 37308558, "comment_id": 62138524, "body": "Unfortunately i doesn&#39;t helped, this still wasn&#39;t event called. Like it doesn&#39;t exist."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463600390, "post_id": 37308558, "comment_id": 62138601, "body": "<code>train_form.is_valid()</code> in the views.py would call the <code>clean</code> method in your form. Can you make sure that <code>is_valid</code> is executed?"}, {"owner": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463600708, "post_id": 37308558, "comment_id": 62138778, "body": "is_valid is executed. In debug it steps into is_valid and then in errors() it doesn&#39;t steps into if to call self.full_clean(). _errors is not None, but it has len 0."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463600806, "post_id": 37308558, "comment_id": 62138818, "body": "It means you have other errors that django already captured by default before reaching <code>clean</code> method. Can you add an <code>else</code> branch for the <code>if is_valid()</code> and see what&#39;s the content for <code>train_form.errors</code>?"}, {"owner": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463601032, "post_id": 37308558, "comment_id": 62138935, "body": "_errors is not None, but it has len 0. There is nothing. <a href=\"http://imgur.com/cVoQF2g\" rel=\"nofollow noreferrer\">imgur.com/cVoQF2g</a>"}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463601099, "post_id": 37308558, "comment_id": 62138962, "body": "Hmm, if you just <code>print train_form.errors</code> in the <code>else</code>, nothing shows up?"}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463601714, "post_id": 37308558, "comment_id": 62139290, "body": "Sorry kind of running out of ideas. What&#39;s in your <code>request.POST</code>?"}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463602461, "post_id": 37308558, "comment_id": 62139652, "body": "Did you forget to fill out any required field? Does the <code>DateField</code> have the correct format? I don&#39;t have access to your environment and there are so many ways that could go wrong."}, {"owner": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "edited": false, "score": 0, "creation_date": 1463602991, "post_id": 37308558, "comment_id": 62139935, "body": "Okay so problem could be if any of my fields in form is required=True? I let my users to send empty form if they don&#39;t check reservation."}], "tags": [], "owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1463599816, "creation_date": 1463599816, "answer_id": 37308558, "question_id": 37308394, "link": "https://stackoverflow.com/questions/37308394/raising-validationerror-when-it-comes-to-custom-validation/37308558#37308558", "title": "Raising ValidationError when it comes to custom validation", "body": "<p>I think your problem for your second approach is that you didn't captured the <code>cleaned_data</code> that is returned from parent <code>clean</code> method. Also you were calling the wrong <code>super</code> method. <code>super</code> should be called on the form class itself, not the class that current class is inherited from. I think you should:</p>\n\n<pre><code>class CurrentForm(forms.Form):\n\n    def clean(self):\n        cleaned_data = super(CurrentForm, self).clean()\n        if 'departure_date_time_plain' in cleaned_data and 'arrival_date_time_plain' not in cleaned_data:\n            self._errors['arrival_date_time_plain'] = [u'PUT HERE SOME DATE']\n\n        if 'departure_date_time_plain' not in cleaned_data and 'arrival_date_time_plain' in cleaned_data:\n            self._errors['arrival_date_time_plain'] = [u'PUT HERE SOME DATE']\n        return self.cleaned_data\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.9/ref/forms/validation/#cleaning-and-validating-fields-that-depend-on-each-other\" rel=\"nofollow\">You will always have the best tutorial by checking out django docs</a>.</p>\n"}], "owner": {"reputation": 238, "user_id": 4494643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0vd83.jpg?s=128&g=1", "display_name": "Yurrili", "link": "https://stackoverflow.com/users/4494643/yurrili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 37308558, "answer_count": 1, "score": 1, "last_activity_date": 1463607489, "creation_date": 1463599242, "last_edit_date": 1592644375, "question_id": 37308394, "link": "https://stackoverflow.com/questions/37308394/raising-validationerror-when-it-comes-to-custom-validation", "title": "Raising ValidationError when it comes to custom validation", "body": "<p>i have problem with showing an error in form.</p>\n<p>Let say, that my form has 2 fields, which are not require only if they are both empty, but we cannot let to situation when only one has a value.\nSo i tried to do this validation in view and then raise an exception, and everything is okay, BUT Error is raised as debug page with traceback etc.</p>\n<pre><code>raise utils.ValidationError(u'SOME EXAMPLE TEXT')\n</code></pre>\n<p>This was in view.</p>\n<p>So I tried other way, i've readed that i can do validation in def clean in form</p>\n<h1>IN FORM</h1>\n<pre><code>def clean(self):\n    super(forms.Form,self).clean()\n    if 'departure_date_time_plain' in self.cleaned_data and 'arrival_date_time_plain' not in self.cleaned_data:\n        self._errors['arrival_date_time_plain'] = [u'PUT HERE SOME DATE']\n\n    if 'departure_date_time_plain' not in self.cleaned_data and 'arrival_date_time_plain' in self.cleaned_data:\n        self._errors['arrival_date_time_plain'] = [u'PUT HERE SOME DATE']\n    return self.cleaned_data\n</code></pre>\n<h1>VIEW My view code for second approach:</h1>\n<pre><code>def new_bus(request, id, id_sec):\n    args = {}\n    args.update(csrf(request))\n    if request.method == 'POST':\n        train_form = TrainForm(request.POST)\n        args['new_train'] = train_form\n        if &quot;train&quot; in request.POST and train_form.is_valid():\n            if train_form['reservation_train'].value():\n                 train = Train.objects.create(                  \n                    transportation=train_form['trans'].value(),\n                    number=train_form['num'].value(),                                    \n                    departure=train_form['departure_date_time_train'].value(),\n                    arrival=train_form['arrival_date_time_train'].value(),\n                    reservation=train_form['reservation_train'].value(),\n                    seat_number=train_form['seat_number_train'].value(),\n                    section_numbers=train_form['section_numbers_train'].value()\n                    )\n            else:\n                 train = Train.objects.create(reservation=False)\n\n           sec = Section.objects.get(id=id_sec)\n           sec.locomotion = JourneyType.objects.create(train=train)\n           sec.save()\n           return HttpResponseRedirect('/trip/'+ id)\n    args['new_train'] = TrainForm()\n    return render(request, 'add_trip/new_bus.html', args)\n</code></pre>\n<p>And this method don't ever were called, could you tell my how to resolve this problem ? Because i run out of tutorials, and any other options, or maybe i just missed something. I would be grateful for any answer</p>\n<p>-- ANSWER --</p>\n<p>Thanks for comments from @Shang Wang i found out what was really a problem. Clean is going to call only when your field is <code>requierd=True</code>, and my errors wasn't correctly showing because of one mistake:</p>\n<p>Instead of :</p>\n<pre><code>bus_form = BusForm(request.POST)\nplain_form = PlainForm(request.POST)\ntrain_form = TrainForm(request.POST)\nargs['new_bus'] = bus_form\nargs['new_plain'] = plain_form\nargs['new_train'] = train_form\n</code></pre>\n<p>I had:</p>\n<pre><code>bus_form = BusForm()\nplain_form = PlainForm()\ntrain_form = TrainForm()\nargs['new_bus'] = bus_form\nargs['new_plain'] = plain_form\nargs['new_train'] = train_form\n</code></pre>\n"}, {"tags": ["python", "django", "hash", "django-views", "password-protection"], "comments": [{"owner": {"reputation": 811, "user_id": 3453422, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A9N1S.jpg?s=128&g=1", "display_name": "theWanderer4865", "link": "https://stackoverflow.com/users/3453422/thewanderer4865"}, "edited": false, "score": 2, "creation_date": 1463599139, "post_id": 37308246, "comment_id": 62137894, "body": "Are you using the built in auth system? If not, then you should. You can follow the documentation for password management here: <a href=\"https://docs.djangoproject.com/en/1.8/topics/auth/passwords/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/topics/auth/passwords</a> You may need to change to a different django version appropriate to your project."}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463602679, "post_id": 37309077, "comment_id": 62139766, "body": "It keeps saving the plaintext password, but I can see the results in my cmd"}, {"owner": {"reputation": 8663, "user_id": 3025825, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oW6Wa.jpg?s=128&g=1", "display_name": "Daniel van Flymen", "link": "https://stackoverflow.com/users/3025825/daniel-van-flymen"}, "reply_to_user": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463657829, "post_id": 37309077, "comment_id": 62163387, "body": "My answer above is correct. Don&#39;t set form.password, set form.cleaned_data[&quot;password&quot;]"}, {"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463675390, "post_id": 37309077, "comment_id": 62177130, "body": "Again, It keeps saving the plaintext password, perhaps we are missing something"}, {"owner": {"reputation": 8663, "user_id": 3025825, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oW6Wa.jpg?s=128&g=1", "display_name": "Daniel van Flymen", "link": "https://stackoverflow.com/users/3025825/daniel-van-flymen"}, "reply_to_user": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463682341, "post_id": 37309077, "comment_id": 62180978, "body": "I&#39;ve modified your code above, and verified it, it definitely works. If something is still wrong it is probably because of your imports."}], "tags": [], "owner": {"reputation": 8663, "user_id": 3025825, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oW6Wa.jpg?s=128&g=1", "display_name": "Daniel van Flymen", "link": "https://stackoverflow.com/users/3025825/daniel-van-flymen"}, "is_accepted": false, "score": -1, "last_activity_date": 1463682310, "last_edit_date": 1463682310, "creation_date": 1463601761, "answer_id": 37309077, "question_id": 37308246, "link": "https://stackoverflow.com/questions/37308246/django-how-to-save-my-hashed-password/37309077#37309077", "title": "Django - how to save my hashed password", "body": "<p>Save the object first, without committing to DB, then update password before a final save. Make sure your imports are all correct.</p>\n\n<pre><code>def register_user(request):\n        if request.method == 'POST':\n            form = MyRegistrationForm(request.POST)     # create form object\n            if form.is_valid():\n                new_object = form.save(commit=False)\n                new_object.password = make_password(form.cleaned_data['password'])\n                new_object.save()\n                messages.success(request, \"Form saved.\")\n                return redirect(\"somewhere\")\n            else:\n                messages.error(request, \"There was a problem with the form.\")\n        else:\n            form = MyRegistrationForm()\n\n        return render(request, 'register/register.html', { 'form': form })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463613459, "post_id": 37309731, "comment_id": 62144008, "body": "To use set_password(), Wouldn&#39;t I need to change all my model? using the AbstractBaseUser (Custom Auth model) to use this method?"}, {"owner": {"reputation": 1343, "user_id": 802642, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cceedc6f36734a4d66d4d508489814c4?s=128&d=identicon&r=PG", "display_name": "nastyn8", "link": "https://stackoverflow.com/users/802642/nastyn8"}, "reply_to_user": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463615983, "post_id": 37309731, "comment_id": 62144603, "body": "No, you shouldn&#39;t have to change your model."}, {"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463618067, "post_id": 37309731, "comment_id": 62145097, "body": "It throws me this error: &#39;MyRegistrationForm&#39; object has no attribute &#39;set_password&#39;"}, {"owner": {"reputation": 1343, "user_id": 802642, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cceedc6f36734a4d66d4d508489814c4?s=128&d=identicon&r=PG", "display_name": "nastyn8", "link": "https://stackoverflow.com/users/802642/nastyn8"}, "reply_to_user": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463620154, "post_id": 37309731, "comment_id": 62145621, "body": "Did you get the model object data from the form using user = form.save(commit=False). After you do that then you can call user.set_password(password)"}, {"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463622436, "post_id": 37309731, "comment_id": 62146126, "body": "my user = form.save(commit=False) is making reference to my forms.py but not directly to my Model, so now that I add user = form.save(commit=False), It throws me this error: &#39;StudentRegistration&#39; (my model) object has no attribute &#39;set_password&#39; , Sorry for all these questions, I&#39;m new with Django"}, {"owner": {"reputation": 1343, "user_id": 802642, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cceedc6f36734a4d66d4d508489814c4?s=128&d=identicon&r=PG", "display_name": "nastyn8", "link": "https://stackoverflow.com/users/802642/nastyn8"}, "reply_to_user": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463677518, "post_id": 37309731, "comment_id": 62178278, "body": "To use .set_password your User model must inherit from django.contrib.auth.models.AbstractBaseUser: &quot;class StudentRegistration(models.Model, AbstractBaseUser):&quot; Have you tried reading the docs on customizing authentication? <a href=\"https://docs.djangoproject.com/en/1.9/topics/auth/customizing/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/auth/customizing</a>"}, {"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 0, "creation_date": 1463681119, "post_id": 37309731, "comment_id": 62180259, "body": "I read about the customizing authentication when I was trying to extend my User, but then I just ended creating a new model for another type of user that was really different from the AdminUsers"}, {"owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "edited": false, "score": 1, "creation_date": 1463681314, "post_id": 37309731, "comment_id": 62180390, "body": "Thank you very much, I&#39;ve save my Hashed password, I just needed to change the declaration order: StudentRegistration(AbstractBaseUser, models.Model):"}], "tags": [], "owner": {"reputation": 1343, "user_id": 802642, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cceedc6f36734a4d66d4d508489814c4?s=128&d=identicon&r=PG", "display_name": "nastyn8", "link": "https://stackoverflow.com/users/802642/nastyn8"}, "is_accepted": true, "score": 8, "last_activity_date": 1463604807, "last_edit_date": 1463604807, "creation_date": 1463604047, "answer_id": 37309731, "question_id": 37308246, "link": "https://stackoverflow.com/questions/37308246/django-how-to-save-my-hashed-password/37309731#37309731", "title": "Django - how to save my hashed password", "body": "<p>Use Django set_password in the documentation</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.9/ref/contrib/auth/\" rel=\"noreferrer\">https://docs.djangoproject.com/en/1.9/ref/contrib/auth/</a></p>\n\n<p>You also need to get your model object from the form using form.save(commit=False)</p>\n\n<pre><code>if form.is_valid():\n    # get model object data from form here\n    user = form.save(commit=False)\n\n    # Cleaned(normalized) data\n    username = form.cleaned_data['username']\n    password = form.cleaned_data['password']\n\n    #  Use set_password here\n    user.set_password(password)\n    user.save()\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 5701777, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/dc610c5ab7d858fd8cde7fa2d815a619?s=128&d=identicon&r=PG&f=1", "display_name": "BrianCas", "link": "https://stackoverflow.com/users/5701777/briancas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12702, "favorite_count": 0, "accepted_answer_id": 37309731, "answer_count": 2, "score": 5, "last_activity_date": 1508642991, "creation_date": 1463598717, "last_edit_date": 1463681804, "question_id": 37308246, "link": "https://stackoverflow.com/questions/37308246/django-how-to-save-my-hashed-password", "title": "Django - how to save my hashed password", "body": "<p>I'm trying to save my hashed password in my database, but It keeps saving my plaintext password</p>\n\n<p><strong>Models:</strong></p>\n\n<pre><code>class StudentRegistration(models.Model):\n    email = models.EmailField(max_length=50)\n    first_name = models.CharField(max_length=20)\n    last_name = models.CharField(max_length=20)\n    password = models.CharField(max_length=100, default=\"\", null=False)\n    prom_code = models.CharField(max_length=8, default=\"\", null=False)\n    gender = (\n    (\"M\",\"Male\"),\n    (\"F\",\"Female\"),\n    )\n    gender = models.CharField(max_length=1, choices=gender, default=\"M\",    null=False)\n    prom_name = models.CharField(max_length=20, default=\"N/A\")\n    prom_year = models.IntegerField(max_length=4, default=1900)\n    school = models.CharField(max_length=50, default=\"N/A\")\n\n\n\n    def save(self):\n         try:\n            Myobj = Space.objects.get(prom_code = self.prom_code)\n            self.prom_name = Myobj.prom_name\n            self.prom_year = Myobj.prom_year\n            self.school = Myobj.school_name\n\n            super(StudentRegistration, self).save()\n\n        except Space.DoesNotExist:\n            print(\"Error\")\n</code></pre>\n\n<p><strong>Views:</strong></p>\n\n<pre><code>def register_user(request):\n    args = {}\n    if request.method == 'POST':\n        form = MyRegistrationForm(request.POST)     # create form object\n        if form.is_valid():\n            clearPassNoHash = form.cleaned_data['password']\n            form.password = make_password(clearPassNoHash, None, 'md5')\n            form.save()\n            form = MyRegistrationForm()\n            print ('se salvo')\n        else:\n            print ('Error en el form')\n    else:\n        form = MyRegistrationForm()\n\n\n    args['form'] = form #MyRegistrationForm()\n\n    return render(request, 'register/register.html', args)\n</code></pre>\n\n<p>I've printed the hashed result so I know it is hashing but not saving that. </p>\n\n<p>Am I using the make_password wrong? or is there any better way to protect my passwords?</p>\n\n<p>--------------------------<strong>UPDATE:(The Solution)</strong>----------------------------</p>\n\n<p>Remember In settings.py:</p>\n\n<pre><code>#The Hasher you are using\nPASSWORD_HASHERS = (\n    'django.contrib.auth.hashers.MD5PasswordHasher',\n)\n</code></pre>\n\n<p>Models.py:</p>\n\n<pre><code>#Import and add the AbstractBaseUser in your model\n\nclass StudentRegistration(AbstractBaseUser, models.Model):\n</code></pre>\n\n<p>Views.py: </p>\n\n<pre><code>if form.is_valid():\n    user = form.save(commit=False)\n    clearPassNoHash = form.cleaned_data['password']\n    varhash = make_password(clearPassNoHash, None, 'md5')\n    user.set_password(varhash)\n    user.save()\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 1293, "user_id": 3896984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/91f728f19b48ae61f6f586e12ce51df8?s=128&d=identicon&r=PG&f=1", "display_name": "Camron_Godbout", "link": "https://stackoverflow.com/users/3896984/camron-godbout"}, "edited": false, "score": 0, "creation_date": 1463600921, "post_id": 37308743, "comment_id": 62138871, "body": "Is there something else I could use to accomplish this? I&#39;m trying todo dynamic text classification. Basically take a set of documents then classify them into classifications then get new documents and add them to those existing classifications?"}, {"owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "reply_to_user": {"reputation": 1293, "user_id": 3896984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/91f728f19b48ae61f6f586e12ce51df8?s=128&d=identicon&r=PG&f=1", "display_name": "Camron_Godbout", "link": "https://stackoverflow.com/users/3896984/camron-godbout"}, "edited": false, "score": 0, "creation_date": 1463601653, "post_id": 37308743, "comment_id": 62139253, "body": "If this is what you want to accomplish, you can also train a <code>pipeline</code> with a <code>TfidfVectorizer</code> and a <code>KMeans</code> model and pickle that one. After unpickeling you just apply the trained <code>pipeline</code> model to new documents. See for instance <a href=\"http://scikit-learn.org/stable/tutorial/text_analytics/working_with_text_data.html#building-a-pipeline\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1463603918, "post_id": 37308743, "comment_id": 62140361, "body": "this is not correct use of vectorizer, it will not have the same feature space"}, {"owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "edited": false, "score": 0, "creation_date": 1463604296, "post_id": 37308743, "comment_id": 62140562, "body": "yes, it will - if your specify the vocabulary as mentioned above."}], "tags": [], "owner": {"reputation": 289, "user_id": 6341997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dab4bf3d25bf21155354fdc61c76a20?s=128&d=identicon&r=PG&f=1", "display_name": "neocortex", "link": "https://stackoverflow.com/users/6341997/neocortex"}, "is_accepted": false, "score": 0, "last_activity_date": 1463601249, "last_edit_date": 1463601249, "creation_date": 1463600470, "answer_id": 37308743, "question_id": 37308238, "link": "https://stackoverflow.com/questions/37308238/adding-feature-to-k-means/37308743#37308743", "title": "Adding feature to k-means", "body": "<p>The problem is that your <code>X</code> feature matrix if of the shape <code>[n_docs, n_features</code>]. Hence, if you create a new feature matrix with new documents you would have to make sure that the new feature matrix (<code>X2</code>) has exactly the same features as <code>X</code>. I cannot image a application where this is feasible.</p>\n\n<p>But if you know that both have the same feature space, you can use <code>scipy.sparse.vstack</code> to append the new documents to your feature matrix:</p>\n\n<pre><code>from scipy.sparse import vstack\n\nX = vstack((X, X2))\n</code></pre>\n\n<p>EDIT: To ensure the same feature space in <code>X2</code>, you can use the <code>vocabulary</code> keyword argument in <code>TfidfVectorizer</code>, e.g.:</p>\n\n<pre><code>vectorizer = TfidfVectorizer(stop_words='english')\nvectorizer = vectorizer.fit(documents)\nX = vectorizer.transform(documents)\n\n# do whatever with X\n\nnew_vectorizer = TfidfVectorizer(stop_words='english', vocabulary=vectorizer.vocabulary_)\nX2 = vectorizer.fit_transform(new_documents)\n\nX = vstack((X, X2))\n</code></pre>\n\n<p>That means, on top of saving <code>X</code> you also need to store <code>vectorizer.vocabulary_</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1293, "user_id": 3896984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/91f728f19b48ae61f6f586e12ce51df8?s=128&d=identicon&r=PG&f=1", "display_name": "Camron_Godbout", "link": "https://stackoverflow.com/users/3896984/camron-godbout"}, "edited": false, "score": 0, "creation_date": 1463604771, "post_id": 37309736, "comment_id": 62140795, "body": "I tried this and it worked. Thank you for showing me whats possible. I&#39;m new to the ML world."}], "tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 2, "last_activity_date": 1463604057, "creation_date": 1463604057, "answer_id": 37309736, "question_id": 37308238, "link": "https://stackoverflow.com/questions/37308238/adding-feature-to-k-means/37309736#37309736", "title": "Adding feature to k-means", "body": "<p>Actually this is pretty simple (controrary to the accepted answer, which suggests that this is complex - it is not). Just concatenate your data, and reuse <strong>the same vectorizer</strong> (if you create new one, or refit the old one, as suggested in the accepted answer, it will <strong>change its estimations</strong> and consequently you will get different feature spaces), thus you have to pickle it too</p>\n\n<pre><code>true_k = 4\nvectorizer = TfidfVectorizer(stop_words='english')\nX = vectorizer.fit_transform(documents)\nmodel = KMeans(n_clusters=true_k, init='k-means++', max_iter=100, n_init=1)\nmodel.fit(X)\n</code></pre>\n\n<p>now you get new data, documents2 and simply do</p>\n\n<pre><code>X2 = vectorizer.transform(documents2)\nX = np.vstack((X, X2))\nmodel.fit(X) # optimally you would start from the previous solution, but sklearn does not yet support it\n</code></pre>\n\n<p>However, remember that this assumes that your first batch of documents was already <strong>representative for the whole dataset</strong>. In other words, you will limit yourself to words from the first documents, and also the idf normalization will not be refitted. You could actually remove both limitations, but you would have to implement your own - online tfidf vectorizer, which can update its estimates. It is not hard to do, but you would have to (after each new batch of documents) also update previous ones (as idf part would change). Easier solution would be to instead keep only countvectorizer and update it, and compute \"idf\" part independently and apply it on top (just before kmeans).</p>\n"}], "owner": {"reputation": 1293, "user_id": 3896984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/91f728f19b48ae61f6f586e12ce51df8?s=128&d=identicon&r=PG&f=1", "display_name": "Camron_Godbout", "link": "https://stackoverflow.com/users/3896984/camron-godbout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 37309736, "answer_count": 2, "score": 0, "last_activity_date": 1463604057, "creation_date": 1463598693, "question_id": 37308238, "link": "https://stackoverflow.com/questions/37308238/adding-feature-to-k-means", "title": "Adding feature to k-means", "body": "<p>I am trying to use k-means clustering to classify text documents. Is it possible to take a set of documents tfidf vectorize them and perform the computation then add more documents to be classified?</p>\n\n<p>This is what I have so far </p>\n\n<pre><code>true_k = 4\nvectorizer = TfidfVectorizer(stop_words='english')\nX = vectorizer.fit_transform(documents)\nmodel = KMeans(n_clusters=true_k, init='k-means++', max_iter=100, n_init=1)\nmodel.fit(X)\n</code></pre>\n\n<p>How would I add more documents to X? Because I would like to pickle X and save it.</p>\n"}, {"tags": ["python", "opencv", "linear-algebra", "decomposition"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1463599279, "post_id": 37308177, "comment_id": 62137982, "body": "According to the description of <a href=\"http://docs.opencv.org/3.1.0/da/d49/tutorial_py_bindings_basics.html#gsc.tab=0\" rel=\"nofollow noreferrer\">how the Python bindings are generated</a> the function declaration should contains <code>CV_EXPORTS_W</code>, however it <a href=\"https://github.com/Itseez/opencv/blob/904381c602043270fc864b29dd4749c9c75effbd/modules/core/include/opencv2/core/hal/hal.hpp#L223\" rel=\"nofollow noreferrer\">only contains <code>CV_EXPORTS</code></a>. That would lead me to believe there is no binding generated for it. You could probably use the function through ctypes?"}], "owner": {"reputation": 3723, "user_id": 3731622, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/34ed93a2cf922f7064184109e4b9c16a?s=128&d=identicon&r=PG&f=1", "display_name": "user3731622", "link": "https://stackoverflow.com/users/3731622/user3731622"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1463598429, "creation_date": 1463598429, "question_id": 37308177, "link": "https://stackoverflow.com/questions/37308177/is-opencvs-cholesky-function-available-in-python", "title": "Is OpenCV&#39;s Cholesky function available in python?", "body": "<p>OpenCV has a function to compute the Cholesky decomposition\n<a href=\"http://docs.opencv.org/master/db/de0/group__core__utils.html#gsc.tab=0\" rel=\"nofollow\">http://docs.opencv.org/master/db/de0/group__core__utils.html#gsc.tab=0</a></p>\n\n<p>I've been able to use it in C++.  I would like to use it in Python.</p>\n\n<p>I tried</p>\n\n<pre><code>import cv2\ncv2.Cholesky(A)  #assume A is a numpy array\n</code></pre>\n\n<p>but it didn't work.</p>\n\n<p>Is OpenCV's Cholesky function available in python? If yes, how do I access/use it?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 13405, "user_id": 742390, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/88dcd9a1b56c02e905ac3a352e43ba81?s=128&d=identicon&r=PG", "display_name": "Pykler", "link": "https://stackoverflow.com/users/742390/pykler"}, "edited": false, "score": 0, "creation_date": 1463598353, "post_id": 37308130, "comment_id": 62137472, "body": "try <code>json.dumps(context)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598507, "post_id": 37308148, "comment_id": 62137551, "body": "I get StudentProfileView <code>is not JSON serializable</code>:\\"}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "reply_to_user": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598535, "post_id": 37308148, "comment_id": 62137572, "body": "@Modelesq How about <code>return json.dumps(dict(context))</code>?"}, {"owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598606, "post_id": 37308148, "comment_id": 62137615, "body": "Hmm returns a different error regarding something else. Is <code>dict</code> literally dict, or another variable of mine?"}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "reply_to_user": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598653, "post_id": 37308148, "comment_id": 62137639, "body": "@Modelesq No, <code>dict</code> is a Python type, and calling it like a function will attempt to convert the parameter to a <code>dict</code> type, much like <code>int</code>."}, {"owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598678, "post_id": 37308148, "comment_id": 62137649, "body": "kk. well i think you answered my question. More errors to tend to. Thank you :D"}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "reply_to_user": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463598681, "post_id": 37308148, "comment_id": 62137652, "body": "@Modelesq What module is that <code>db</code> class created by?"}, {"owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "edited": false, "score": 0, "creation_date": 1463599211, "post_id": 37308148, "comment_id": 62137947, "body": "actually how do i convert <code>context[&quot;student&quot;]</code> to json string?"}, {"owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "reply_to_user": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 0, "creation_date": 1463599235, "post_id": 37308148, "comment_id": 62137960, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/112325/discussion-between-modelesq-and-orangeflash81\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "is_accepted": true, "score": 3, "last_activity_date": 1463598514, "last_edit_date": 1592644375, "creation_date": 1463598344, "answer_id": 37308148, "question_id": 37308130, "link": "https://stackoverflow.com/questions/37308130/convert-object-to-json-string-after-function-that-needs-python-dict/37308148#37308148", "title": "convert object to json string after function that needs python dict", "body": "<p>Import the <code>json</code> library:</p>\n<pre><code>import json\n</code></pre>\n<p>Then use <code>json.dumps</code>:</p>\n<pre><code>return json.dumps(context)\n</code></pre>\n<p>From the <a href=\"https://docs.python.org/2/library/json.html#json.dumps\" rel=\"nofollow noreferrer\">Python documentation</a>:</p>\n<blockquote>\n<p><strong><code>json.dumps(obj, ...)</code></strong></p>\n<p>Serialize obj to a JSON formatted <code>str</code></p>\n</blockquote>\n"}], "owner": {"reputation": 4370, "user_id": 908392, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d9cc0af7ed0b109d47effcd1a3be7ec4?s=128&d=identicon&r=PG", "display_name": "Modelesq", "link": "https://stackoverflow.com/users/908392/modelesq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 37308148, "answer_count": 1, "score": 0, "last_activity_date": 1463598514, "creation_date": 1463598280, "question_id": 37308130, "link": "https://stackoverflow.com/questions/37308130/convert-object-to-json-string-after-function-that-needs-python-dict", "title": "convert object to json string after function that needs python dict", "body": "<p>I have a python function/method that takes in a student and will show profile... i realized i need to return context as a json string. how do i do that?</p>\n\n<pre><code>context[\"student\"] = db.query_dict(student_profile_sql.format(student_id=self.kwargs[\"student_id\"])\n    )[0]\n\nappear(self.request, \"Show profile\", {\n   \"student_name\": context[\"student\"][\"first_name...\n})\n\nreturn context  // i need to return context as json string how can i do that?\n</code></pre>\n\n<p>How can i return context as a json string?</p>\n"}, {"tags": ["python", "tkinter", "resize", "frame", "pack"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6352709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3ec148ec063d03fa1d3168f75359dc?s=128&d=identicon&r=PG&f=1", "display_name": "AjarnJoshua", "link": "https://stackoverflow.com/users/6352709/ajarnjoshua"}, "edited": false, "score": 0, "creation_date": 1463663814, "post_id": 37310439, "comment_id": 62167967, "body": "Absolutely perfect! Thank you so much, and I am very grateful for the extra tips and advice, I will employ it immediately.."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1463607142, "creation_date": 1463607142, "answer_id": 37310439, "question_id": 37308110, "link": "https://stackoverflow.com/questions/37308110/how-to-freeze-a-pane-while-re-sizing-a-window-that-has-frames-in-python-using-tk/37310439#37310439", "title": "How to Freeze a pane while re-sizing a window that has frames in python using tkinter and pack?", "body": "<p>An important thing to remember about <code>pack</code> is that the <code>side</code> attribute doesn't refer to the side of the window, it refers to the <em>side of the remaining available space</em>. The causes the order in which you pack things and the side that you pack them to be significant, because each time you pack something you change the location and amount of remaining available space. </p>\n\n<p>In this case, the problem is that you didn't specify the <code>side</code> attribute for the middle frame, so it defaults to <code>\"top\"</code> (as in, \"top of the remaining space\", <em>not</em> \"top of the window\"). Since there's already something on the left, this puts it at the top of the remaining space on the right.  Then, when you put the next item on the right, it's on the right but below the thing that is on the top.</p>\n\n<p>There are at least a couple ways to solve this. The first is to pack the left and right sides first, and then pack the middle. In this case it doesn't matter which side you put the middle frame:</p>\n\n<pre><code>leftverticalFrame.pack(side=LEFT)\nrightverticalFrame.pack(side=RIGHT)\nmiddleverticlFrame.pack(expand=TRUE, side=TOP)\n</code></pre>\n\n<p>The second solution is to leave them in the original order, but pack the middle frame on the left or right instead of the top:</p>\n\n<pre><code>leftverticalFrame.pack(side=LEFT)\nmiddleverticlFrame.pack(expand=TRUE, side=LEFT)\nrightverticalFrame.pack(side=RIGHT)\n</code></pre>\n\n<p>These two variations will initially look identical, or perhaps nearly identical depending on what else might be in the frames or in the window. However, the behavior is different when you start to make the window too small to fit all of the frames. </p>\n\n<p>In such a case, tkinter must eventually start reducing the size of a widget. It does this in the reverse order that they were packed (read: the last one to be packed is the first one to be shrunk). That means that if you want the left and right to be fixed as much as possible, you should pack the middle section last.</p>\n\n<hr>\n\n<p>pro tip: it makes your code easier to read and maintain if you group all of your layout code together. Consider this code:</p>\n\n<pre><code>f1 = Frame(...)\nf1.pack(...)\nf2 = Frame(...)\nf2.pack(...)\n</code></pre>\n\n<p>I think you'll find over time that your code is easier to read and maintain if you write it like this:</p>\n\n<pre><code>f1 = Frame(...)\nf2 = Frame(...)\n...\nf1.pack(...)\nf2.pack(...)\n...\n</code></pre>\n\n<p>I think it makes the code much easier to visualize, since all of the layout for a given parent window is in one place rather than sprinkled throughout the code. </p>\n"}], "owner": {"reputation": 13, "user_id": 6352709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3ec148ec063d03fa1d3168f75359dc?s=128&d=identicon&r=PG&f=1", "display_name": "AjarnJoshua", "link": "https://stackoverflow.com/users/6352709/ajarnjoshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 37310439, "answer_count": 1, "score": 1, "last_activity_date": 1463607142, "creation_date": 1463598232, "question_id": 37308110, "link": "https://stackoverflow.com/questions/37308110/how-to-freeze-a-pane-while-re-sizing-a-window-that-has-frames-in-python-using-tk", "title": "How to Freeze a pane while re-sizing a window that has frames in python using tkinter and pack?", "body": "<p>This is my first post on stackoverflow. I am finally posting because I can not find this anywhere and have been searching for nearly 4 hours, but I am stuck.</p>\n\n<p>Here is my code example:</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import *\nroot = tk.Tk()\nroot.geometry(\"600x100+200+200\")\nleftverticalFrame = Frame(root)\nleftverticalFrame.pack(side=LEFT)\nmiddleverticlFrame = Frame(root)\nmiddleverticlFrame.pack(expand=TRUE)\nrightverticalFrame = Frame(root)\nrightverticalFrame.pack(side=RIGHT)\n\nright = tk.Label(rightverticalFrame, text=\"Right Vertical Status Frame\", bg=\"yellow\")\nright.pack(side=tk.RIGHT, fill=BOTH)\n\nleft = tk.Label(leftverticalFrame, text = \"Left Vertical Navigation Frame\", bg=\"orange\")\nleft.pack(side=tk.LEFT, fill=BOTH)\n\nbottom = tk.Label(middleverticlFrame, text=\"Middle Vertical Frame\", bg=\"blue\")\nbottom.pack(side=tk.BOTTOM, expand=True, fill=tk.BOTH)\n\nroot.mainloop()\n</code></pre>\n\n<p>What I am doing is merely trying to layout the frames individually within the root because the frames will use different managers. The left frame is functioning exactly as I want it to, as is the middle frame. The problem is with the frame on the right.</p>\n\n<p>Notice when you re-size the window making it more narrow, the right frame comes into the \"middle frame's territory\". Now the strange thing is the middle frame does not replicate the same behavior when it comes to the boundary of the left frame. I want the right frame to behave the same as the middle frame. Essentially I am trying to make the Left and Right fairly static, but the middle frame more dynamic. Can anyone tell me what I am doing wrong please?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 3, "creation_date": 1463598175, "post_id": 37308064, "comment_id": 62137369, "body": "Your question is quite unclear. What is your input and expected output?"}, {"owner": {"reputation": 392, "user_id": 4175920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/KGDmG.jpg?s=128&g=1", "display_name": "Empario", "link": "https://stackoverflow.com/users/4175920/empario"}, "reply_to_user": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 0, "creation_date": 1463598328, "post_id": 37308064, "comment_id": 62137454, "body": "@OrangeFlash81: I am trying to get everything before &#39;}/n}&#39; but could not find a better way to do it as stated above."}, {"owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "edited": false, "score": 0, "creation_date": 1463598429, "post_id": 37308064, "comment_id": 62137512, "body": "Thank you for clarifying! I don&#39;t know of any better way of doing it, but there may well be one."}, {"owner": {"reputation": 6054, "user_id": 10577, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0BfLf.png?s=128&g=1", "display_name": "Matt Gregory", "link": "https://stackoverflow.com/users/10577/matt-gregory"}, "edited": false, "score": 0, "creation_date": 1463598516, "post_id": 37308064, "comment_id": 62137553, "body": "Are you trying to get a substring from the beginning of the string up to the &#39;}/n}&#39;?"}, {"owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "edited": false, "score": 1, "creation_date": 1463598621, "post_id": 37308064, "comment_id": 62137622, "body": "If you ad something like this, it would greatly help: input is &quot;xxxxxxxxx&quot;. expected output is &quot;yyyyyyyyyy&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1463600149, "last_edit_date": 1463600149, "creation_date": 1463598801, "answer_id": 37308262, "question_id": 37308064, "link": "https://stackoverflow.com/questions/37308064/how-to-split-a-string-and-keeping-the-pattern/37308262#37308262", "title": "How to split a string and keeping the pattern", "body": "<p>It can be done with with <code>re.split()</code> -- the key is putting parens around the split pattern to preserve what you split on:</p>\n\n<pre><code>import re\n\noutput = \"\".join(re.split(r'(}/n})', string.encode('UTF8'))[:2])\n</code></pre>\n\n<p>However, I doubt that this is either the most efficient nor most Pythonic way to achieve what you want.  I.e. I don't think this is naturally a <em>split</em> sort of problem.  For example:</p>\n\n<pre><code>tag = '}/n}'\n\nencoded = string.encode('UTF8')\n\noutput = encoded[:encoded.index(tag)] + tag\n</code></pre>\n\n<p>or if you insist on a one-liner:</p>\n\n<pre><code>output = (lambda string, tag: string[:string.index(tag)] + tag)(string.encode('UTF8'), '}/n}')\n</code></pre>\n\n<p>or returning to regex:</p>\n\n<pre><code>output = re.match(r\".*}/n}\", string.encode('UTF8')).group(0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1463599820, "post_id": 37308297, "comment_id": 62138284, "body": "Wasn&#39;t me, but there is an obvious typo, it should be <code>str[:str.find...]</code> instead of <code>str[str:str.find...]</code>. Also, <code>str.find</code> behaves oddly when a match isn&#39;t found, -1 + 4 = 3."}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1463599873, "post_id": 37308297, "comment_id": 62138311, "body": "yup i couldn&#39;t cut-n-paste from console and didn&#39;t realize I had typed it 2x"}], "tags": [], "owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "is_accepted": false, "score": -1, "last_activity_date": 1463599879, "last_edit_date": 1495541280, "creation_date": 1463598916, "answer_id": 37308297, "question_id": 37308064, "link": "https://stackoverflow.com/questions/37308064/how-to-split-a-string-and-keeping-the-pattern/37308297#37308297", "title": "How to split a string and keeping the pattern", "body": "<p>Adapted from <a href=\"https://stackoverflow.com/questions/1633932/slice-a-string-after-a-certain-phrase\">Slice a string after a certain phrase?</a>, you can combine find and slice to get the first part of the string and retain <code>}/n}</code>.</p>\n\n<pre><code>str = \"012za}/n}ddfsdfk\"\nstr[:str.find(\"}/n}\")+4]\n</code></pre>\n\n<p>Will result in <code>012za}/n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "is_accepted": false, "score": 1, "last_activity_date": 1463600004, "last_edit_date": 1463600004, "creation_date": 1463599423, "answer_id": 37308440, "question_id": 37308064, "link": "https://stackoverflow.com/questions/37308064/how-to-split-a-string-and-keeping-the-pattern/37308440#37308440", "title": "How to split a string and keeping the pattern", "body": "<p>This might be a good use of <a href=\"https://docs.python.org/2/library/stdtypes.html#str.partition\" rel=\"nofollow\"><code>str.partition</code></a>.</p>\n\n<pre><code>string = '012za}/n}ddfsdfk'\n\nparts = string.partition('}/n}')\n# ('012za', '}/n}', 'ddfsdfk')\n\n''.join(parts[:-1])\n# 012za}/n}\n</code></pre>\n\n<p>Or, you can find it explicitly with <a href=\"https://docs.python.org/2/library/stdtypes.html#str.index\" rel=\"nofollow\"><code>str.index</code></a>.</p>\n\n<pre><code>repl = '}/n}'\n\nstring[:string.index(repl) + len(repl)]\n# 012za}/n}\n</code></pre>\n\n<p>This is probably better than using <a href=\"https://docs.python.org/2/library/stdtypes.html#str.find\" rel=\"nofollow\"><code>str.find</code></a> since an exception will be raised if the substring isn't found, rather than producing nonsensical results.</p>\n\n<p>It seems like anything \"more elegant\" would require regular expressions.</p>\n\n<pre><code>import re\nre.search('(.*?}/n})', string).group(0)\n# 012za}/n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1149, "user_id": 2480947, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0fI4r.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/2480947/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1463616734, "creation_date": 1463616734, "answer_id": 37311988, "question_id": 37308064, "link": "https://stackoverflow.com/questions/37308064/how-to-split-a-string-and-keeping-the-pattern/37311988#37311988", "title": "How to split a string and keeping the pattern", "body": "<pre><code>&gt;&gt;&gt; string_to_split = 'first item{\\n{second item'\n&gt;&gt;&gt; sep = '{\\n{'\n&gt;&gt;&gt; output = [item + sep for item in string_to_split.split(sep)]\nNOTE: output = ['first item{\\n{', 'second item{\\n{']\n</code></pre>\n\n<p>then you can use the result:</p>\n\n<pre><code>for item_with_delimiter in output:\n    ...\n</code></pre>\n\n<p>It might be useful to look up <code>os.linesep</code> if you're not sure what the line ending will be. <code>os.linesep</code> is whatever the line ending is under your current OS, so <code>'\\r\\n'</code> under Windows or <code>'\\n'</code> under Linux or Mac. It depends where input data is from, and how flexible your code needs to be across environments.</p>\n"}], "owner": {"reputation": 392, "user_id": 4175920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/KGDmG.jpg?s=128&g=1", "display_name": "Empario", "link": "https://stackoverflow.com/users/4175920/empario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1463616734, "creation_date": 1463598043, "last_edit_date": 1463598372, "question_id": 37308064, "link": "https://stackoverflow.com/questions/37308064/how-to-split-a-string-and-keeping-the-pattern", "title": "How to split a string and keeping the pattern", "body": "<p>This is how the string splitting works for me right now:</p>\n\n<pre><code>output = string.encode('UTF8').split('}/n}')[0]\noutput += '}\\n}'\n</code></pre>\n\n<p>But I am wondering if there is a more pythonic way to do it.</p>\n\n<p>The goal is to get everything before this <strong>'}/n}'</strong> including <strong>'}/n}'</strong>.</p>\n"}, {"tags": ["python", "csv", "writing"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1463598237, "post_id": 37308038, "comment_id": 62137404, "body": "You should make sure your code is properly indented"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1463598338, "post_id": 37308038, "comment_id": 62137463, "body": "You have to read the CSV with every receipt? Can you not just load it once and set the &#39;barcode&#39; as a key in a dictionary, with the item and prices as the value against that key?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1463598876, "post_id": 37308038, "comment_id": 62137752, "body": "I&#39;m not clear why you specify the delimiter as tab but then have to split each line in the CSV anyway by a comma. I have never seen this. Since I <i>think</i> your question is how to split items on a row then have you tried <code>reader = csv.reader(f, delimiter=&#39;,&#39;)</code> and then removing <code>data = line.split(&quot;,&quot;)</code>?"}, {"owner": {"reputation": 1522, "user_id": 1807669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gjCe2.jpg?s=128&g=1", "display_name": "vikingben", "link": "https://stackoverflow.com/users/1807669/vikingben"}, "edited": false, "score": 0, "creation_date": 1463599683, "post_id": 37308038, "comment_id": 62138210, "body": "Could you include a test csv file ?? I think most of the confusion could be settled if we could see what it actually looked like. I would recommend looking into pandas just reading the csv into a dataframe then querying for the row value of your barcode."}, {"owner": {"reputation": 365, "user_id": 3016958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sjDc.jpg?s=128&g=1", "display_name": "mikebutrimov", "link": "https://stackoverflow.com/users/3016958/mikebutrimov"}, "edited": false, "score": 0, "creation_date": 1463604172, "post_id": 37308038, "comment_id": 62140490, "body": "You could use something like this structure : {barcode:[name,price,quantity], ...} so it is easy to access: foo[barcode] easy to fill, while you parse file: foo[data[0]]] = [data[1],[data[2],your counted value]  easy to calculate total cost foo[barcode][1]*foo[barcode][2]"}, {"owner": {"reputation": 326, "user_id": 6149402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b525925e7e64736a0cb1f9212bec0d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/6149402/vince"}, "edited": false, "score": 0, "creation_date": 1463604175, "post_id": 37308038, "comment_id": 62140492, "body": "csv are supposed to be split with &quot;;&quot; and not &quot;,&quot; I think."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 326, "user_id": 6149402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b525925e7e64736a0cb1f9212bec0d5a?s=128&d=identicon&r=PG&f=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/6149402/vince"}, "edited": false, "score": 0, "creation_date": 1463604657, "post_id": 37308038, "comment_id": 62140743, "body": "@Vince why would a CSV (Comma-Separated Values) be split with a semi-colon and not a comma as standard?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1463606444, "post_id": 37308038, "comment_id": 62141607, "body": "Add a usable sample of your file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6275319"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1463669459, "post_id": 37308038, "comment_id": 62172724, "body": "@roganjosh I have tried what you suggested, but by removing data = line.split... the code beneath it doesn&#39;t work as I have referenced &#39;data&#39; before defining it."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1463670480, "post_id": 37308038, "comment_id": 62173577, "body": "My suggestion was to try get closer to what I think you want but we can&#39;t see your file. It would still need support code. Leave the code as it is but set <code>reader = csv.reader(f, delimiter=&#39;,&#39;)</code> then under <code>for line in f:</code> put <code>print line</code>. What do you see? EDIT: Nevermind, I think I see the issue."}], "answers": [{"tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1463671908, "last_edit_date": 1463671908, "creation_date": 1463671218, "answer_id": 37327592, "question_id": 37308038, "link": "https://stackoverflow.com/questions/37308038/finding-a-total-cost/37327592#37327592", "title": "Finding A Total Cost", "body": "<p>I think there are two issues here.<br>\n1 - You're passing the file to <code>csv.reader</code> but then just using <code>f</code> instead<br>\n2 - You're using <code>\\t</code> to tell <code>csv.reader</code> the file is delimited by tabs but then to split with a comma later.</p>\n\n<pre><code>def checkfile(code):\n    found = None # This seems redundant?\n    with open('products.csv', 'r') as f:\n        reader = csv.reader(f, delimiter=',')\n        for line in reader:\n            print(line) # To see what you're getting \n            if code == line[0]:\n                print(\"We found your product \", code)\n                return line\n        '''\n        EDIT: Outside of the question, but the below probably doesn't do what you expect\n        data = code, \"is not found. Please try again\"\n        print (data)\n        '''\n        # Use this instead\n        print(code, \"is not found. Please try again\")\n</code></pre>\n\n<p>From your bullet points (delimited by spaces), using <code>\\t</code> in your existing csv.reader and then attempting to split based on commas, it's hard to know what you need. So you might also have to try these to get something that works:</p>\n\n<pre><code>reader = csv.reader(f, delimiter='\\t')\nreader = csv.reader(f, delimiter=' ')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6275319"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 1, "accepted_answer_id": 37327592, "answer_count": 1, "score": 1, "last_activity_date": 1463671908, "creation_date": 1463597955, "last_edit_date": 1463603336, "question_id": 37308038, "link": "https://stackoverflow.com/questions/37308038/finding-a-total-cost", "title": "Finding A Total Cost", "body": "<p>I am trying a shop programme and need to be able to print out a receipt with details of what the user wants, and then print a total cost.</p>\n\n<ol>\n<li>The user enters an 8 digit barcode</li>\n<li><p>Assuming it's a valid barcode type, the program will search for it in a csv file with a list of products, codes and prices. It looks like this. (each record is in a different column when opened in excel)</p>\n\n<ul>\n<li>34512340  Plain Brackets  0.5</li>\n<li>12395675  Yellow Pencil Sharpener 2</li>\n<li>56756777  100mm Bolts 0.2</li>\n<li>90673412  L-Shaped Brackets   1.2</li>\n<li>12568673  Desk Tidy   3</li>\n<li>22593672  Recycling Bin   5</li>\n<li>65593691  500 Laminate Sheets 4.5</li>\n<li>98593217  200 Sticky Notes    2.5</li>\n<li>98693214  Blue Pencil Sharpener   2.1</li>\n<li>98693399  500 Sheets of Value Paper   5</li>\n<li>11813651  Executive Chair 65</li>\n<li>98456390  Paper Tray  6</li>\n<li>98555567  Hole Punch  3</li>\n<li>98555550  Filing Cabinet  45</li>\n<li>98553655  Stapler 2</li>\n<li>96553657  Drill   15</li>\n<li>91823656  Pritt Stick 2</li>\n<li>99823658  Sellotape   2</li>\n</ul></li>\n</ol>\n\n<p>This is how I'm searching the csv</p>\n\n<pre><code>def checkfile(code):\n    found = None\n    with open('products.csv', newline='') as f:\n        reader = csv.reader(f, delimiter='\\t')\n        for line in f:\n            data = line.split(\",\")\n            if code == data[0]:\n                print(\"We found your product \",data)\n                return data\n        data = code, \"is not found. Please try again\"\n        print (data)\n</code></pre>\n\n<ol start=\"3\">\n<li>Assuming the program finds the code in the csv file, it then saves the line of code as a variable called 'product' and asks how many the user wants (variable quantity)</li>\n</ol>\n\n<p>So, product looks like this \n    34512340Plain Brackets0.55\nand the quantity is 5 for example</p>\n\n<p>Both of these are written to another file where the receipt is stored.\nI need a way to multiply the quantity by the price (in this case, 5 x 0.55)</p>\n\n<p>I need to somehow split the price from the code and product title, but not sure how...</p>\n\n<p>Any Ideas?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "edited": false, "score": 1, "creation_date": 1463597981, "post_id": 37308000, "comment_id": 62137261, "body": "Take a look at the <code>enumerate</code> function and the <code>break</code> keyword - that will get you to where you need to be.  Alternatively, look at <code>itertools.islice</code>."}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 8, "last_activity_date": 1463598112, "last_edit_date": 1463598112, "creation_date": 1463597994, "answer_id": 37308050, "question_id": 37308000, "link": "https://stackoverflow.com/questions/37308000/python3-zip-in-range/37308050#37308050", "title": "Python3: zip in range", "body": "<p>You can slice the result of <code>zip()</code> with <a href=\"https://docs.python.org/3/library/itertools.html#itertools.islice\"><code>itertools.islice()</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import islice\n&gt;&gt;&gt; list(islice(c, number))\n[('A1', 'B1'), ('A2', 'B2'), ('A3', 'B3')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "is_accepted": false, "score": 3, "last_activity_date": 1463598089, "creation_date": 1463598089, "answer_id": 37308077, "question_id": 37308000, "link": "https://stackoverflow.com/questions/37308000/python3-zip-in-range/37308077#37308077", "title": "Python3: zip in range", "body": "<p>You don't need a <code>for</code> loop here - you only need to do the operation you're trying to do once. Also, a generator object returned by <code>zip</code> can't be \"subscripted\" (accessed using <code>[]</code>), so you need to convert it to a list first using <code>list</code>.</p>\n\n<p>Here's some modified code that works:</p>\n\n<pre><code>a = [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\"]\nb = [\"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\"]\nc = list(zip(a,b))\nnumber = int(input(\"please enter number\"))\nprint(c[:number])\n</code></pre>\n\n<p>Example of usage and output:</p>\n\n<pre><code>please enter number 3\n[('A1', 'B1'), ('A2', 'B2'), ('A3', 'B3')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "is_accepted": false, "score": 3, "last_activity_date": 1463598209, "creation_date": 1463598209, "answer_id": 37308104, "question_id": 37308000, "link": "https://stackoverflow.com/questions/37308000/python3-zip-in-range/37308104#37308104", "title": "Python3: zip in range", "body": "<p>When in doubt, use print:</p>\n\n<pre><code>&gt;&gt;&gt; a = [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\"]\n&gt;&gt;&gt; b = [\"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\"]\n&gt;&gt;&gt; c = zip(a,b)\n&gt;&gt;&gt; number = 3\n&gt;&gt;&gt; for x in c:\n...  print(x)\n... \n('A1', 'B1')\n('A2', 'B2')\n('A3', 'B3')\n('A4', 'B4')\n('A5', 'B5')\n('A6', 'B6')\n</code></pre>\n\n<p>As you can see, <code>x</code> is a pair, so <code>x[:number]</code> would only show the <code>number</code> first items of the pair.</p>\n\n<p>What you actually want to do is show the <code>number</code> first pairs:</p>\n\n<pre><code>&gt;&gt;&gt; c = list(zip(a,b))\n&gt;&gt;&gt; print(c[:3])\n[('A1', 'B1'), ('A2', 'B2'), ('A3', 'B3')]\n</code></pre>\n\n<p>(Note that I used <code>list()</code> on the value returned by <code>zip()</code>, because <code>zip</code> objects as not subscriptable)</p>\n\n<p>If you want to iterate instead of just printing them like this, it's easy:</p>\n\n<pre><code>&gt;&gt;&gt; for x in c[:3]:\n...     print(x)\n... \n('A1', 'B1')\n('A2', 'B2')\n('A3', 'B3')\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6327214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f3decd3df02046e48512b8cb033f0d?s=128&d=identicon&r=PG&f=1", "display_name": "marv", "link": "https://stackoverflow.com/users/6327214/marv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1463598209, "creation_date": 1463597822, "last_edit_date": 1463598136, "question_id": 37308000, "link": "https://stackoverflow.com/questions/37308000/python3-zip-in-range", "title": "Python3: zip in range", "body": "<p>I'm new to Python and I'm trying to zip 2 lists together into 1, which I was already able to do. I've got 2 lists with several things in them, but I'm asking the user to input a number, which should determine the range.\nSo i've got List1: A1, A2, A3, A4, A5, A6 and List2: B1,B2,B3,B4,B5,B6\nI know how to display the 2 complete lists, but what I'm trying to do is, if the user enters number \"3\", the zip should only display: (A1,B1), (A2,B2), (A3,B3) instead of the whole list. So here's what I tried:</p>\n\n<pre><code>a = [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\", \"A6\"]\nb = [\"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\"]\nc = zip(a,b)\nnumber = int(input(\"please enter number\"))\nfor x in c:\n    print(x[:number])\n</code></pre>\n\n<p>But this doesn't work. I tried to look it up, but couldn't find anything. I would be glad, if someone could help me out.</p>\n"}, {"tags": ["python", "django", "amazon-ec2", "redis", "celery"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463600446, "post_id": 37307966, "comment_id": 62138635, "body": "Poke around in <code>redis-cli</code>. Run commands like <code>keys *</code> (if I&#39;m remembering correctly) to find your way. You may find yourself parsing combinations of base64, JSON, and pickle."}, {"owner": {"reputation": 10747, "user_id": 214892, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2603d923d608942666a9c8e0d9b48ae3?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/214892/jason"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463600702, "post_id": 37307966, "comment_id": 62138776, "body": "Ah, I&#39;ve modified my question to answer your comment.  I&#39;ve done exactly that, with <code>nil</code> being returned.  However, if I save the task in a data structure object and retrieve it, I&#39;m able to access the task state.  Weird."}, {"owner": {"reputation": 31114, "user_id": 392975, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a62bcec9b5b35a3cab7c25a44016e0d4?s=128&d=identicon&r=PG", "display_name": "Eli", "link": "https://stackoverflow.com/users/392975/eli"}, "edited": false, "score": 0, "creation_date": 1463600886, "post_id": 37307966, "comment_id": 62138853, "body": "Are you sure you&#39;re using the same Redis server and the same db on that server for both? If you&#39;re not seeing tasks being written to Redis, but know they must be because Celery is working correctly, it sounds like you might be inadvertently using different servers or Redis dbs."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1463601036, "post_id": 37307966, "comment_id": 62138937, "body": "<code>get *</code> gets the value with the key <code>*</code>, which presumably doesn&#39;t exist. <code>keys *</code> lists all keys."}, {"owner": {"reputation": 10747, "user_id": 214892, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2603d923d608942666a9c8e0d9b48ae3?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/214892/jason"}, "edited": false, "score": 1, "creation_date": 1463601131, "post_id": 37307966, "comment_id": 62138976, "body": "that did it.  I had a syntax mixup, thinking <code>get *</code> was an alias of <code>keys *</code>"}], "owner": {"reputation": 10747, "user_id": 214892, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2603d923d608942666a9c8e0d9b48ae3?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/214892/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1281, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1463600649, "creation_date": 1463597679, "last_edit_date": 1463600649, "question_id": 37307966, "link": "https://stackoverflow.com/questions/37307966/celery-with-redis-backend-possible-to-get-task-state-direct-from-db", "title": "Celery with Redis backend - Possible to get task state direct from db?", "body": "<p>I have a series of tasks running with Celery.  RabbitMQ is the broker, and Redis is the backend.</p>\n\n<p>Using the python <code>redis</code> library, is it possible to get the task state directly from redis?  I've been trying with this:</p>\n\n<pre><code>redis_instance = redis.StrictRedis(host = settings.REDIS['host'], db = settings.REDIS['db'], \n                                    password = settings.REDIS['password'])\n\nfor i in redis_instance.get('celery-task-meta-*'):\n    ...     \n</code></pre>\n\n<p>Unfortunately, <code>i</code> is always None.</p>\n\n<p>More information:</p>\n\n<ol>\n<li>There are four servers involved:\n\n<ul>\n<li>rabbitmq and redis as broker and backend  </li>\n<li>Django application server </li>\n<li>two Celery servers, each with five workers.  </li>\n</ul></li>\n<li>EC2 has been configured to recommended settings, and no error messages are showing in the logs.</li>\n<li>Redis is configured with a password, and I'm able to access remotely.</li>\n<li><code>CELERY_RESULT_BACKEND</code> is set to <code>redis://:password@host:port/0</code></li>\n</ol>\n\n<p>Strangely, there seem to be no redis writes to the database, except when accessing directly from a task.  I've even done <code>get '*'</code> and <code>get *</code> from the <code>redis-cli</code> prompt while remoting in.  Both only return <code>(nil)</code>.  </p>\n\n<p>Is there a way to get the data directly from redis?  Or is this just done separately in some manner? </p>\n"}, {"tags": ["python", "scikit-learn"], "comments": [{"owner": {"reputation": 3051, "user_id": 1430829, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ea83bfdd65dd51af719ed212887b25e3?s=128&d=identicon&r=PG", "display_name": "Matt Hancock", "link": "https://stackoverflow.com/users/1430829/matt-hancock"}, "edited": false, "score": 0, "creation_date": 1463666512, "post_id": 37307883, "comment_id": 62170322, "body": "&quot;<b>Theoretically</b> it should improve ...&quot; -- You mean <b>intuitively</b> you believe it should improve. It&#39;s important not to confuse the two :)"}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 5058205, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SH48quGXp0Q/AAAAAAAAAAI/AAAAAAAAAFE/iwDEeKJWUKg/photo.jpg?sz=128", "display_name": "Hrant Davtyan", "link": "https://stackoverflow.com/users/5058205/hrant-davtyan"}, "is_accepted": false, "score": 1, "last_activity_date": 1489578198, "last_edit_date": 1489578198, "creation_date": 1463821940, "answer_id": 37360996, "question_id": 37307883, "link": "https://stackoverflow.com/questions/37307883/trouble-getting-polynomialfeatures-to-work-while-fitting-a-logistic-model-in-sci/37360996#37360996", "title": "Trouble getting PolynomialFeatures to work while fitting a logistic model in Scikit Learn", "body": "<p>Accuracy does not have to improve or stay the same when adding more variables. The fact that adding more features is decreasing the model accuracy is speaking about the insignificance of added features.</p>\n\n<p>When a new feature is added to the model, whether it is statistically significant (i.e. \"considerable\" affects the model outcome) or not, less variation in the model will be observed. Thus, some of the resulting coefficients (e.g. R^2) will increase. However, the model accuracy can drop, as adding insignificant features can negatively affect the significance of existing explanatory variables which are correlated with the new feature.</p>\n\n<p><strong>Your Example:</strong> When you use the polynomial features, you must always be cautious with higher degrees. For 2nd degree case the accuracy is increased, as the relationship between the outcome and the Age variable turns out to be quadratic. But when you increase the degree to 3, the cubic Age is added, which is an insignificant feature. While it does not improve the accuracy because of being insignificant, it also decreases it, because of being correlated with Age and Age square. The correlation between Age square (significant) and Age cube (insignificant) variables makes Age square also insignificant, thus, dropping the overall predictive power.</p>\n"}], "owner": {"reputation": 43, "user_id": 6352672, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-flaaTRbhCiY/AAAAAAAAAAI/AAAAAAAAAT8/WO6lhnlzDVA/photo.jpg?sz=128", "display_name": "Abhimanyu Sahai", "link": "https://stackoverflow.com/users/6352672/abhimanyu-sahai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489578198, "creation_date": 1463597436, "question_id": 37307883, "link": "https://stackoverflow.com/questions/37307883/trouble-getting-polynomialfeatures-to-work-while-fitting-a-logistic-model-in-sci", "title": "Trouble getting PolynomialFeatures to work while fitting a logistic model in Scikit Learn", "body": "<p>Kaggle has an introductory data science problem on the Titanic, where the goal is to predict the chances of survival of a passenger, given some information about him/her (eg. sex, age, cabin class etc.). I implemented a simple logistic regression model for this in Python using Scikit Learn, and I was exploring adding higher degree factors of the \"Age\" variable in particular. I used PolynomialFeatures following the instructions on Scikit Learn's site:</p>\n\n<pre><code>import pandas as pd\nfrom sklearn import linear_model\nimport numpy as np\nfrom sklearn import preprocessing\nfrom sklearn.preprocessing import PolynomialFeatures\n\n# Import titanic data\ntitanic = pd.read_csv(\"train.csv\")\n\n# Set the training set as 70% of the dataset and cross_validation set as remaining 30%\npredictors = [\"Age\"]\ntraining_set = titanic[predictors].iloc[range(0,int(titanic.shape[0]*0.7)),:]\ncv_set = titanic[predictors].iloc[range(int(titanic.shape[0]*0.7),titanic.shape[0]),:]\ntraining_actuals = titanic[\"Survived\"].iloc[range(0,int(titanic.shape[0]*0.7))]\ncv_actuals = titanic[\"Survived\"].iloc[range(int(titanic.shape[0]*0.7),titanic.shape[0])]\n\n# Create polynomial features\npoly = PolynomialFeatures(degree=3)\ntraining_set = poly.fit_transform(training_set)\ncv_set = poly.fit_transform(cv_set)\n\n# Fit a logistic regression model, predict values for training and cross-validation sets\nalg = linear_model.LogisticRegression()\nalg.fit(training_set, training_actuals)\ncv_predictions = alg.predict(cv_set)\ntraining_predictions = alg.predict(training_set)\n\n# Measure and print accuracy of prediction over both training and cross-validation sets\ncv_accuracy = len(cv_predictions[cv_predictions == np.array(cv_actuals)])/float(len(cv_predictions))\nprint \"Prediction accuracy on cross-validation set is %s%%\" % (cv_accuracy * 100)\ntraining_accuracy = len(training_predictions[training_predictions == np.array(training_actuals)])/float(len(training_predictions))\nprint \"Prediction accuracy on training set is %s%%\" % (training_accuracy * 100)\n</code></pre>\n\n<p>My accuracy of predicted values over the training set improves 1-2 percentage points when I add a square feature for the age (i.e. polynomial degree 2), but when I make the degree 3, as in the code above, the accuracy actually reverts to the same as for the linear case (i.e. degree = 1). Theoretically it should improve slightly or stay the same as for degree = 2. This behavior continues for all higher degrees as well. I am very new to Scikit Learn, and I would appreciate any insight on what I am doing wrong. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 4, "creation_date": 1463597367, "post_id": 37307835, "comment_id": 62136951, "body": "You do realize that <code>&#47;drive&#47;dir&#47;anotherdir&#47;finaldir&#47;</code> is <i>different from</i> <code>drive&#47;dir&#47;anotherdir&#47;finaldir&#47;</code>, right?"}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1463605119, "post_id": 37307835, "comment_id": 62140953, "body": "Don&#39;t get the point... i know that they are different, what are you trying to tell me?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1463605203, "post_id": 37307835, "comment_id": 62141003, "body": "I&#39;m trying to tell you that the result you&#39;re asking for makes them indistinguishable, and hoping that you&#39;ll explain why that&#39;s OK."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1463609595, "post_id": 37307835, "comment_id": 62142857, "body": "I expect that a fullpath starts with <i>/</i> and ends with an <i>/</i> So why should i care about distinguishing between those when i have a strong assumption like that?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1463609741, "post_id": 37307835, "comment_id": 62142908, "body": "Because your assumption might be wrong? This is how bugs are formed. I hate helping people make bugs."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1463609951, "post_id": 37307835, "comment_id": 62142984, "body": "It&#39;s not an assumption but it&#39;s a rule in our work environment and i don&#39;t think that there is something wrong with relying on those rules."}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 4357800, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-HLfKG_4P9BM/AAAAAAAAAAI/AAAAAAAAAD4/OZQYqebXreg/photo.jpg?sz=128", "display_name": "Wen Zhu", "link": "https://stackoverflow.com/users/4357800/wen-zhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1463597856, "creation_date": 1463597856, "answer_id": 37308008, "question_id": 37307835, "link": "https://stackoverflow.com/questions/37307835/clean-split-of-filepath-into-its-components/37308008#37308008", "title": "clean split of filepath into it&#39;s components", "body": "<p>try this maybe?</p>\n\n<pre><code>path.strip('/').split('/')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 462660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DF4LL.jpg?s=128&g=1", "display_name": "foocraft", "link": "https://stackoverflow.com/users/462660/foocraft"}, "is_accepted": false, "score": 1, "last_activity_date": 1463659351, "last_edit_date": 1495540364, "creation_date": 1463658945, "answer_id": 37322475, "question_id": 37307835, "link": "https://stackoverflow.com/questions/37307835/clean-split-of-filepath-into-its-components/37322475#37322475", "title": "clean split of filepath into it&#39;s components", "body": "<p>What <a href=\"https://stackoverflow.com/users/5987/mark-ransom\">Mark Ransom</a> is saying is that your <em>Wanted Output</em> is invalid, given the possible values <code>path</code> could take. When talking about paths, the OS has some conventions regarding how to resolve a path string to a file or directory.</p>\n\n<p>Consider the following code:\n</p>\n\n<pre><code>def toComponents(path):\n    return path.split('/')\n\n\ndef fromComponents(components):\n    return '/'.join(components)\n\n# specialToComponents takes a path and returns\n# the components relative to the / folder or\n# if the path is relative, it returns the components\n# Use at your own risk.\ndef specialToComponents(path):\n    return path.strip('/').split('/')\n</code></pre>\n\n<p>Suppose you have two paths:</p>\n\n<ul>\n<li><code>path = /drive/dir/anotherdir/finaldir/</code> This is an absolute path, which tells the reader and the OS that the file is located inside the <code>/</code> folder, inside the <code>path</code> folder and so on, until <code>finaldir/</code></li>\n<li><code>path = drive/dir/anotherdir/finaldir/</code> This is a relative path. It conventionally means relative to the program's current directory. It says go to the current directory, then go to <code>drive</code> then <code>dir</code> and so on, until <code>finaldir/</code>.</li>\n</ul>\n\n<p>What you're trying to do is read absolute paths as relative ones and relative ones as relative ones, which is great, if only it doesn't cause headaches for you when someone tries to run your code against an absolute path.</p>\n"}], "owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1463659351, "creation_date": 1463597286, "question_id": 37307835, "link": "https://stackoverflow.com/questions/37307835/clean-split-of-filepath-into-its-components", "title": "clean split of filepath into it&#39;s components", "body": "<p>I am trying to convert a path into its components in a pythonic way. </p>\n\n<p><strong>Example:</strong> </p>\n\n<pre><code>path = /drive/dir/anotherdir/finaldir/\n</code></pre>\n\n<p><strong>Approach:</strong></p>\n\n<pre><code>splitted = path.split(os.path.sep)\n&gt;&gt;&gt; ['', 'drive', 'dir', 'anotherdir', 'finaldir', '']\n</code></pre>\n\n<p><strong>Wanted Output:</strong></p>\n\n<pre><code>&gt;&gt;&gt; ['drive', 'dir', 'anotherdir', 'finaldir']\n</code></pre>\n\n<p>Is there a cleaner way so that there are no empty string entries? It's easy to get around with slicing but it just adds unwanted noise. I looked into the <strong>os.path</strong> module and the only splitters are: </p>\n\n<pre><code>os.path.split(path)\nos.path.splitdrive(path)\nos.path.splitext(path)\nos.path.splitunc(path)\n</code></pre>\n\n<p>P.S.: i am not looking for a solution i just want to make sure if there is a solution i didn't take intto account.</p>\n"}]